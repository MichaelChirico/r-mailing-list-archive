From apjaworski at mmm.com  Tue May  1 00:20:56 2001
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Mon, 30 Apr 2001 17:20:56 -0500
Subject: [R] plotting an expression
Message-ID: <OF0E02CB5C.ED3F733F-ON86256A3E.0074EC19@mmm.com>

I am sure it is just me not understanding how R works, but could somebody
explain why

     curve(cos(x))

works and

     curve(expression(cos(x))

does not?

I have done some investigating and here is what I found.  If I comment out
the line of curve indicated below, both calls work fine.

function (expr, from, to, n = 101, add = FALSE, type = "l", ylab = NULL,
    log = NULL, xlim = NULL, ...)
{
    sexpr <- substitute(expr)
    if (is.name(sexpr)) {
        fcall <- paste(sexpr, "(x)")
        expr <- parse(text = fcall)
        if (is.null(ylab))
            ylab <- fcall
    }
    else {
        if (!(is.call(sexpr) && match("x", all.vars(sexpr), nomatch = 0)))
            stop("'expr' must be a function or an expression containing
'x'")
 #     expr <- sexpr
        if (is.null(ylab))
            ylab <- deparse(sexpr)
    }
    lims <- if (is.null(xlim))
    < ... >

This is confusing, since

     substitiue(expression(cos(x)))

returns just

     expression(cos(x)).

Must be some side effects I do not understand.  What is even more confusing
is that the above code (with one line commented out) does not work when
called as

     curve(parse(text="cos(x)"))

although

     parse(text="cos(x)")

returns

     expression(cos(x)).


What I am really trying to do is plot a rather compilcated expression that
has been built from pieces by pasting strings together.  SInce the parse
function returns an expression I thought I could just feed the result of
parse to plot ( or curve).

Any help or explanation will be appreciated,

Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Richard.Rowe at jcu.edu.au  Tue May  1 00:51:31 2001
From: Richard.Rowe at jcu.edu.au (Richard Rowe)
Date: Tue, 01 May 2001 08:51:31 +1000
Subject: [R] Re: two new packages
In-Reply-To: <3AED905F.345A85A@StonyBrook.Edu>
References: <5.0.2.1.2.20010427224918.0193d588@mcmail.cis.mcmaster.ca>
Message-ID: <5.0.0.25.1.20010501083348.03b2bb60@pop.jcu.edu.au>

At 12:18 30/04/01 -0400, "Timothy H. Keitt" <Timothy.Keitt at StonyBrook.Edu> 
wrote:
>Great!  I think we should encourage people to upload complete, but not yet 
>fully
>tested packages to the "devel" section of CRAN.  It gets really hard to 
>keep track
>of source that is scattered all over the 'net.
>
>Cheers,
>Tim
>
>John Fox wrote:
>
> > I've prepared preliminary versions of two packages that I plan eventually
> > to contribute to CRAN:

I fear Tim's idea could lead to mayhem with a multitude of 
'built-for-a-job, I-can-use-it' contributions sitting on the devel 
section.  Devel is being used as a beta test repository by people who seem 
to eventually produce full packages.

Perhaps a 'midden' might fill Tim's requirements, there is something 
similar for Delphi where people contribute code.  Every bit of code would 
need to be identified logically and with the author's name and with 
appropriate copyright declarations  (in Delphi many producers of snippets 
seem very proud and possessive of their frequently uninspired code ... the 
really good stuff comes unrestricted GNU style).  My gut feeling is that 
unless contributors were VERY disciplined this could be a problem ... and 
if the lump is worthwhile it will lead to a package in the hands of a 
disciplined author.

Maybe people with 'bits' could get together and produce an e1071 type package?,

Richard


Richard Rowe
Senior Lecturer
Department of Zoology and Tropical Ecology, James Cook University
Townsville, Queensland 4811, Australia
fax (61)7 47 25 1570
phone (61)7 47 81 4851
e-mail: Richard.Rowe at jcu.edu.au
http://www.jcu.edu.au/school/tbiol/zoology/homepage.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May  1 01:03:07 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 May 2001 01:03:07 +0200
Subject: [R] plotting an expression
In-Reply-To: apjaworski@mmm.com's message of "Mon, 30 Apr 2001 17:20:56 -0500"
References: <OF0E02CB5C.ED3F733F-ON86256A3E.0074EC19@mmm.com>
Message-ID: <x2g0eq2dp0.fsf@blueberry.kubism.ku.dk>

apjaworski at mmm.com writes:

> This is confusing, since
> 
>      substitiue(expression(cos(x)))
> 
> returns just
> 
>      expression(cos(x)).
> 

> Must be some side effects I do not understand.  What is even more confusing
> is that the above code (with one line commented out) does not work when
> called as
> 
>      curve(parse(text="cos(x)"))
> 
> although
> 
>      parse(text="cos(x)")
> 
> returns
> 
>      expression(cos(x)).

You need to be very careful with expression() 

For instance

> q <- quote(expression(cos(pi)))
> e <- eval(q)
> v <- eval(e)
> q
expression(cos(pi))
> e
expression(cos(pi))
> v
[1] -1
> mode(q)
[1] "call"
> mode(e)
[1] "expression"

Notice that q and e look similar, but behave differently and have
different modes. q is a call to the expression() function, e is an
object of mode expression. The object is being represented by the call
that generates it, (numeric(0)/quote(numeric(0)) is a similar
example). You can get to see what is inside as follows

> e[[1]]
cos(pi)
> q[[1]]
expression
> q[[2]]  
cos(pi)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue May  1 01:06:06 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 30 Apr 2001 16:06:06 -0700 (PDT)
Subject: [R] plotting an expression
In-Reply-To: <OF0E02CB5C.ED3F733F-ON86256A3E.0074EC19@mmm.com>
Message-ID: <Pine.A41.4.33.0104301537500.85214-100000@homer11.u.washington.edu>

On Mon, 30 Apr 2001 apjaworski at mmm.com wrote:

> I am sure it is just me not understanding how R works, but could somebody
> explain why
>
>      curve(cos(x))
>
> works and
>
>      curve(expression(cos(x))
>
> does not?

The short answer is that cos(x) is an expression returning a real number
(the cosine of the value of x) but expression(cos(x)) is an expression
returning the expression cox(x), and so is not plottable.

R> x<-0
R> evalq(cos(x))
[1] 1
R> evalq(expression(cos(x)))
expression(cos(x))



> I have done some investigating and here is what I found.  If I comment out
> the line of curve indicated below, both calls work fine.

When I comment out that line I get
R> curve(cos(x))
Error in xy.coords(x, y, xlabel, ylabel, log) :
        x and y lengths differ

> function (expr, from, to, n = 101, add = FALSE, type = "l", ylab = NULL,
>     log = NULL, xlim = NULL, ...)
> {
>     sexpr <- substitute(expr)
>     if (is.name(sexpr)) {
>         fcall <- paste(sexpr, "(x)")
>         expr <- parse(text = fcall)
>         if (is.null(ylab))
>             ylab <- fcall
>     }
>     else {
>         if (!(is.call(sexpr) && match("x", all.vars(sexpr), nomatch = 0)))
>             stop("'expr' must be a function or an expression containing
> 'x'")
>  #     expr <- sexpr
>         if (is.null(ylab))
>             ylab <- deparse(sexpr)
>     }
>     lims <- if (is.null(xlim))
>     < ... >
>
> This is confusing, since
>
>      substitiue(expression(cos(x)))
>
> returns just
>
>      expression(cos(x)).
>
> Must be some side effects I do not understand.

It's not side effects, it's evaluation.  It's tricky.

Suppose you type

 curve(cos(x))

Then expr contains a promise to compute the cosine of the value of x.
Since x may not exist, this promise will cause an error when the
evaluation is done (unless x happens to exist)

As expr is a formal parameter of the function, substitute(expr) returns
the unevaluated actual parameter, which is the expression cox(x).

This expression, when evaluated in an environment containing a suitable
vector x will return the vector of cosines of the values in x, which we
can plot.

OTOH if you type curve(expression(cos(x)) then expr contains a promise to
evaluate expression(cos(x)), which returns the expression cos(x). When
this is evaluated in a suitable environment you get the vector of cosines
of x.  But substitute(expr) will now return the unevaluated expression
expression(cos(x)) and when you evaluate this you will get the expression
cos(x) rather than a vector of cosines of the values of x.


So the way the function is written it will work as documented, with your
change it will fail when it should work, unless the correct x vector is
coincidentally hanging around in the calling environment.

>						 What is even more confusing
> is that the above code (with one line commented out) does not work when
> called as
>      curve(parse(text="cos(x)"))
>
> although
>
>      parse(text="cos(x)")
>
> returns
>
>      expression(cos(x)).

That's because curve() sneakily looks at the unevaluated parameter sexpr
before evaluating it, and notices it isn't an expression depending on the
symbol x (it's an expression depending on the string "cos(x)").

To prove this (it would be silly to do for any  other reason) you can
confuse your modified curve() into working with
R> x<-"cos(x)"
R> curve(parse(text=x))

> What I am really trying to do is plot a rather compilcated expression that
> has been built from pieces by pasting strings together.  SInce the parse
> function returns an expression I thought I could just feed the result of
> parse to plot ( or curve).

It's likely to be less painful to define a suitable vector x and use
eval() to evaluate the expression.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Tue May  1 02:37:39 2001
From: jfox at mcmaster.ca (John Fox)
Date: Mon, 30 Apr 2001 20:37:39 -0400
Subject: [R] Re: two new packages
In-Reply-To: <3AED905F.345A85A@StonyBrook.Edu>
References: <5.0.2.1.2.20010427224918.0193d588@mcmail.cis.mcmaster.ca>
Message-ID: <5.0.2.1.2.20010430203602.02c095b8@mcmail.cis.mcmaster.ca>

As Tim has suggested, I've uploaded these packages to CRAN, to be placed in 
the "Devel" directory.

John

At 12:18 PM 30/04/2001 -0400, Timothy H. Keitt wrote:
>Great!  I think we should encourage people to upload complete, but not yet 
>fully
>tested packages to the "devel" section of CRAN.  It gets really hard to 
>keep track
>of source that is scattered all over the 'net.
>
>Cheers,
>Tim
>
>John Fox wrote:
>
> > I've prepared preliminary versions of two packages that I plan eventually
> > to contribute to CRAN:
> >
> >
> > For the present, I'm making these packages available on my web site, at
> > <http://www.socsci.mcmaster.ca/jfox/Misc/car/> and
> > <http://socserv.socsci.mcmaster.ca/jfox/Misc/sem/>.
> >
> > I'm particularly interested in suggestions and comments.


________________________________
  John Fox
  Department of Sociology
  McMaster University
  email: jfox at McMaster.ca
  web: www.socsci.mcmaster.ca/jfox
________________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zoono at sci.osaka-cu.ac.jp  Tue May  1 04:25:59 2001
From: zoono at sci.osaka-cu.ac.jp (Takashi Mizuno)
Date: Tue, 01 May 2001 11:25:59 +0900
Subject: [R] Mantel's randomization test
References: <3AEB1BBA.954AA311@sci.osaka-cu.ac.jp>
Message-ID: <3AEE1EB7.6F9EFB2E@sci.osaka-cu.ac.jp>

Dear all,

Thanks for any reply to my question.
Anyway I wrote a simple program for Mantel's test in R to my purpose.
Following is a first code, dirty, nothing some comments, ...uuum.


------------------------
Takashi Mizuno
zoono at sci.osaka-cu.ac.jp
Plant Ecology Lab.
Osaka City University
------------------------

--------------BEGIN-----------------------------
## _sdmatrix()_ make the spatial distances matrix from a given count
matrix.
## This is only for grided data that an area is divided up into
## n equal-size quadrats.
## Matrix returned is a symmetric with zero diagonal terms.
sdmatrix <- function( X )
{
  n <- dim(X)[2]
  m <- dim(X)[1]
  L <- length(X)
  Z <- matrix(NA,L,L)
  for( i in 1:(L-1) ){
    if( i%%m == 0 ){
      x1 <- m
      y1 <- i%/%m
    }
    else{
      x1 <- i%%m
      y1 <- i%/%m + 1
    }
    for(j in i:L){
      if( j > i ){
        if( j%%m == 0 ){
          x2 <- m
          y2 <- j%/%m
        }
        else{
          x2 <- j%%m
          y2 <- j%/%m + 1
        }
        Z[j,i] <- Z[i,j] <- sqrt( (x2-x1)^2 + (y2-y1)^2 )
      }
    }
  }
  Z
}

## _cdiffmatrix()_ make the count difference matrix from a given matrix.
## This is only for grided data that an area is divided up into
## n equal-size quadrats.
## Matrix returned is a symmetric with zero diagonal terms.
cdiffmatrix <- function( X )
{
  n <- dim(X)[2]
  m <- dim(X)[1]
  L <- length(X)
  Z <- matrix(NA,L,L)
  for( i in 1:(L-1) ){
    if( i%%m == 0 ){
      x1 <- m
      y1 <- i%/%m
    }
    else{
      x1 <- i%%m
      y1 <- i%/%m + 1
    }
    for(j in i:L){
      if( j > i ){
        if( j%%m == 0 ){
          x2 <- m
          y2 <- j%/%m
        }
        else{
          x2 <- j%%m
          y2 <- j%/%m + 1
        }
        Z[j,i] <- Z[i,j] <- X[x2,y2] - X[x1,y1]
      }
    }
  }
  for(i in 1:L){
    Z[i,i] <- 0
  }
  Z
}

## some functions
mantelz <- function( X, Y )
{
  n <- dim(X)[1]
  z <- 0.0
  for( i in 1:(n-1) ){
    for( j in i:n ){
      if(j>i){
        z <- z + X[j,i] * Y[j,i]
      }
    }
  }
  z
}

mantelsum <- function( X )
{
  n <- dim(X)[1]
  s <- 0.0
  for( i in 1:(n-1) ){
    for( j in i:n ){
      if(j>i){
        s <- s + X[j,i]
      }
    }
  }
  s
}

mantelpow2 <- function(X)
{
  n <- dim(X)[1]
  s <- 0.0
  for( i in 1:(n-1) ){
    for( j in i:n ){
      if(j > i){
        s <- s + X[j,i]^2
      }
    }
  }
  s
}

rsdmatrix <- function( X )
{
  Z <- 1/X
  for(i in 1:dim(X)[1] ){
    Z[i,i] <- 0
  }
  Z
}

mantelr <- function(X,Y)
{
  D <- dim(X)[1]
  D <- D*(D-1)/2
  sigmaab <- mantelz(X,Y)
  suma <- mantelsum(X)
  sumb <- mantelsum(Y)
  sigmaaa <- mantelz(X,X)
  sigmabb <- mantelz(Y,Y)
  r <- ( sigmaab - (suma*sumb)/D ) /
    sqrt( (sigmaaa - (suma^2)/D) * (sigmabb - (sumb^2)/D) )
  r
}

##
## Mantel's randomization test main part
##
mantel.test <- function(X,Y,nrpt=4999)
{
  D <- dim(X)[1]
  r1 <- mantelr(X,Y)
  res <- numeric(nrpt)
  pM <- matrix(NA,dim(X)[1],dim(X)[2])
  permut <- numeric(D)
  RNGkind("Mersenne-Twister")
  for( i in 1:nrpt ){
    rs <- .Random.seed
    permut <- rank(runif(D))
    for( j in 1:(D-1) ){
      for( k in j:D ){
        if( permut[k] > permut[j]){
          pM[k,j] <- X[permut[k],permut[j]]
        }
        else{
          pM[k,j] <- X[permut[j],permut[k]]
        }
      }
    }
    res[i] <- mantelr(pM,Y)
  }
  res <- sort(res)
  over <- res[res>=r1]
  lower <- res[res<=r1]
  on <- length(over)
  ln <- length(lower)
  p.over <- (on+1)/(nrpt+1)
  p.lower <- (ln+1)/(nrpt+1)
  list(result=res,over=on,lower=ln,p.over=p.over,p.lower=p.lower,r=r1)
}
---------------------END----------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From henrikb at braju.com  Tue May  1 07:29:53 2001
From: henrikb at braju.com (Henrik Bengtsson)
Date: Mon, 30 Apr 2001 22:29:53 -0700
Subject: [R] scan without line numbers?
Message-ID: <KKEGJOGBELBHDIKPINBMAEDPCEAA.henrikb@braju.com>

When using the function scan(quiet=TRUE) the line numbers are printed.
Example:

 > scan(quiet=TRUE)
 1: 123 [ENTER]
 2: [ENTER]
 [1] 123
 >

Is it possible to not show the line numbers? I know about readLines() but I
would like to be able to use the extra features of scan().

Thanks for you help!

Henrik Bengtsson
henrikb at braju.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May  1 07:49:53 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 1 May 2001 06:49:53 +0100 (BST)
Subject: [R] Some loglog density plot
In-Reply-To: <Pine.OSF.4.30.0104302030470.29425-100000@alnair.uio.no>
Message-ID: <Pine.GSO.4.31.0105010649100.14170-100000@auk.stats>

On Mon, 30 Apr 2001, Kjetil Kjernsmo wrote:

> Dear all,
>
> A looong time ago, Witold Eryk Wolski asked here why there wasn't a
> log="xy" parameter to the hist() function
> <URL:http://www.R-project.org/nocvs/mail/r-help/2001/0267.html>, and
> Prof. Ripley responded that a loglog histogram does not make much sense,
> and that one should use a better density estimate if one seeks to plot
> log density.
>
> I understand the point and I hope you will forgive my ignorance:
> What alternatives do I have in R?

Package logspline is a good start.

> (In astronomy, which is full of power laws, loglog histograms are
> not infrequently seen, I have resisted making them since this post, but it
> is getting hard... :-) ).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May  1 07:48:42 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 1 May 2001 06:48:42 +0100 (BST)
Subject: [R] scan without line numbers?
In-Reply-To: <KKEGJOGBELBHDIKPINBMAEDPCEAA.henrikb@braju.com>
Message-ID: <Pine.GSO.4.31.0105010645170.14170-100000@auk.stats>

On Mon, 30 Apr 2001, Henrik Bengtsson wrote:

> When using the function scan(quiet=TRUE) the line numbers are printed.
> Example:
>
>  > scan(quiet=TRUE)
>  1: 123 [ENTER]
>  2: [ENTER]
>  [1] 123
>  >
>
> Is it possible to not show the line numbers? I know about readLines() but I
> would like to be able to use the extra features of scan().

This only happens at what R thinks is a terminal in interactive use,
and then I think one does need a distinct prompt to show that
scan is waiting for input.   So, why do you want them suppressed?

As you can use readLines plus scan from text connection, there is an
alternative route.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From henrikb at braju.com  Tue May  1 09:53:49 2001
From: henrikb at braju.com (Henrik Bengtsson)
Date: Tue, 1 May 2001 00:53:49 -0700
Subject: [R] scan without line numbers?
In-Reply-To: <Pine.GSO.4.31.0105010645170.14170-100000@auk.stats>
Message-ID: <KKEGJOGBELBHDIKPINBMMEDPCEAA.henrikb@braju.com>

I would like to have my own prompt, e.g.

  Enter the temperature: 123 [ENTER]
  You entered: 123

and

  Enter the temperature: [ENTER]
  [ENTER]
  [ENTER]
  123 [ENTER]
  You entered: 123

I'll use readLines(n=1) with a while loop.

Thanks!

Henrik

> -----Original Message-----
> From: ripley at auk.stats [mailto:ripley at auk.stats]On Behalf Of Prof Brian
> D Ripley
> Sent: Monday, April 30, 2001 10:49 PM
> To: Henrik Bengtsson
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] scan without line numbers?
> 
> 
> On Mon, 30 Apr 2001, Henrik Bengtsson wrote:
> 
> > When using the function scan(quiet=TRUE) the line numbers are printed.
> > Example:
> >
> >  > scan(quiet=TRUE)
> >  1: 123 [ENTER]
> >  2: [ENTER]
> >  [1] 123
> >  >
> >
> > Is it possible to not show the line numbers? I know about 
> readLines() but I
> > would like to be able to use the extra features of scan().
> 
> This only happens at what R thinks is a terminal in interactive use,
> and then I think one does need a distinct prompt to show that
> scan is waiting for input.   So, why do you want them suppressed?
> 
> As you can use readLines plus scan from text connection, there is an
> alternative route.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue May  1 10:08:37 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 01 May 2001 10:08:37 +0200
Subject: [R] margin problems?
References: <15085.51511.172491.435771@viz.itd.nrl.navy.mil>
Message-ID: <3AEE6F05.CBD52EDF@statistik.uni-dortmund.de>



Greg Trafton wrote:
> 
> hi, All.  I'm using R 1.2.2 on a linux box.
> 
> I have very long labels on my y axis, and when I try to print them
> out, they always come out clipped so I can't see them.  How do I
> change the margin for the y axis?  I've tried mai and mar, but they
> don't seem to do anything...
> 
> process.names <- c("Makeprod-data", "Makeprod-QMM", "Search",
> "Download", "View Data", "View QMM", "Consult", "Stop", "Misfire",
> "Misfire", "Unknown")
> 
> and Makeprod-data only shows "od-data" ...


par(mar=...) is the right idea, e.g.:

# changing the default for left side margin from 4 to 10:
  par(mar=c(5, 10, 4, 2) + 0.1)
  plot(1:11, yaxt="n", ylab="")
  axis(2, 1:11, labels=process.names, las=2)

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Tue May  1 13:05:43 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Tue, 1 May 2001 13:05:43 +0200
Subject: [R] SSfpl self-start sometimes fails... workaround proposed
Message-ID: <MABBLJDICACNFOLGIHJOKEDGCDAA.phgrosje@ulb.ac.be>

Hello,

nls library provides 6 self-starting models, among them: SSfp, a four
parameters logistic function. Its self-starting procedure involves several
steps. One of these steps is:
pars <- as.vector(coef(nls(y ~ cbind(1, 1/(1 + exp((xmid - x)/exp(lscal)))),
data = xydata, start = list(lscal = 0), algorithm = "plinear")))
which assumes an initial value of lscal equal to 0. If lscal is very
different to 0, the evaluation could fail (singular gradient,...), as it is
the case with the dataset provided hereunder (see end of this message).

As a workaround, I propose a modified self-start function for SSfpl that
remedy to this:
---------------------------------------
fpl <- function (input, A, B, xmid, scal)
{
    .expr1 <- B - A
    .expr2 <- xmid - input
    .expr4 <- exp((.expr2/scal))
    .expr5 <- 1 + .expr4
    .expr8 <- 1/.expr5
    .expr13 <- .expr5^2
    .value <- A + (.expr1/.expr5)
    .actualArgs <- as.list(match.call()[c("A", "B", "xmid", "scal")])
    if (all(unlist(lapply(.actualArgs, is.name)))) {
        .grad <- array(0, c(length(.value), 4), list(NULL, c("A", "B",
"xmid", "scal")))
        .grad[, "A"] <- 1 - .expr8
        .grad[, "B"] <- .expr8
        .grad[, "xmid"] <- -((.expr1 * (.expr4 * (1/scal)))/.expr13)
        .grad[, "scal"] <- (.expr1 * (.expr4 * (.expr2/(scal^2))))/.expr13
        dimnames(.grad) <- list(NULL, .actualArgs)
        attr(.value, "gradient") <- .grad
    }
    .value
}
# Self-starting function for fpl
fpl.ival <- function (mCall, data, LHS)
{
    xy <- sortedXyData(mCall[["input"]], LHS, data)
    if (nrow(xy) < 5) {
        stop("Too few distinct input values to fit a four-parameter
logistic")
    }
    xydata <- c(as.list(xy), xmid = NLSstClosestX(xy,
mean(range(xy[["y"]]))))
    xydata <- as.list(xydata)
    options(show.error.messages = FALSE)
    # Sometimes, the following evaluation gives an error (singular gradient,
...). Try another way to estimate initial parameters
    pars <- try(as.vector(coef(nls(y ~ cbind(1, 1/(1 + exp((xmid -
x)/exp(lscal)))), data = xydata, start = list(lscal = 0), algorithm =
"plinear"))))
    if (!is.null(class(pars)) && class(pars) == "try-error") {
        cat("Using second alternative for initial parameters estimation\n")
        options(show.error.messages = TRUE)
        pars <- as.vector(coef(nls(y ~ SSlogis(x, Asym, xmid, scal),
data=xydata)))
        xydata$xmid <- pars[2]
        pars[1] <- log(pars[3])
    } else { options(show.error.messages = TRUE)}
    pars <- as.vector(coef(nls(y ~ cbind(1, 1/(1 + exp((xmid -
x)/exp(lscal)))), data = data.frame(xy), start = list(xmid = xydata$xmid,
lscal = pars[1]), algorithm = "plinear")))
    value <- c(pars[3], pars[3] + pars[4], pars[1], exp(pars[2]))
    names(value) <- mCall[c("A", "B", "xmid", "scal")]
    value
}
# Self-Starting four-parameter logistic, combining fpl and fpl.ival
SSfpl <- selfStart(fpl, fpl.ival)
remove(fpl, fpl.ival)
attr(SSfpl,"pnames") <- c("A", "B", "xmid", "scal")
---------------------------------------

Now the self-starting function succeed with the faulty dataset (if it is
loaded under "Sample", we got):
> Sample.nls <- nls(y ~ SSfpl(x, A, B, xmid, scal), data=Sample, trace=T)
Using second alternative for initial parameters estimation
3912.605 :    -6.838615   97.175628 1079.915732  345.051411

This method succeed also when A is very different to 0, as in:
> Sample$y <- Sample$y - 30
>Sample.nls <- nls(y ~ SSfpl(x, A, B, xmid, scal), data=Sample, trace=T)
Using second alternative for initial parameters estimation
3912.605 :   -36.83861   67.17563 1079.91578  345.05135
> Sample$y <- Sample$y + 60
> Sample.nls <- nls(y ~ SSfpl(x, A, B, xmid, scal), data=Sample, trace=T)
Using second alternative for initial parameters estimation
3912.605 :    23.16139  127.17563 1079.91574  345.05139

Here is the Sample dataset that causes failure in original self-start
function of SSfpl:
--------------------------------------------
       x           y
1    100   3.0993441
2    200   7.1703742
3    300   2.6698554
4    400  -1.1030135
5    500   3.1997802
6    600  13.4839286
7    700  17.5247783
8    800  25.3965763
9    900  32.7809024
10  1000  42.8638906
11  1100  49.7806380
12  1200  53.3720730
13  1300  57.1732873
14  1400  69.1322680
15  1500  74.2821286
16  1600  84.7223610
17  1700  87.1016435
18  1800  83.7785903
19  1900  82.6630488
20  2000  85.6699881
21  2100  93.6834595
22  2200  87.6399878
23  2300  98.0706325
24  2400  87.7090574
25  2500  87.8427111
26   100   6.1086982
27   200  -0.2703793
28   300   1.1789864
29   400   8.4005067
30   500   7.5632783
31   600  16.4558476
32   700  15.3683658
33   800  25.4356474
34   900  36.7496044
35  1000  46.2637329
36  1100  49.4245916
37  1200  49.2426203
38  1300  67.6765838
39  1400  72.1293952
40  1500  72.6686691
41  1600  73.1239807
42  1700  83.2326747
43  1800  83.4350708
44  1900  92.0119974
45  2000  88.1731913
46  2100  92.6361306
47  2200  87.6798161
48  2300  89.8388569
49  2400  99.9118565
50  2500  94.0181265
51   100  -8.5761223
52   200  -2.8684148
53   300  -5.0846235
54   400   8.0067485
55   500  15.9500212
56   600   7.8298746
57   700  14.8714996
58   800  31.1773970
59   900  25.5603584
60  1000  36.6270604
61  1100  49.1396008
62  1200  55.1484732
63  1300  55.6742251
64  1400  63.0085688
65  1500  73.7323245
66  1600  79.7760679
67  1700  78.0336433
68  1800  88.3090297
69  1900  91.4579878
70  2000  89.4620021
71  2100  86.0521263
72  2200  92.4597165
73  2300 102.3826961
74  2400  89.6810273
75  2500 104.4345010
76   100   4.1908793
77   200   1.1663101
78   300   1.2138565
79   400   4.6746695
80   500  10.6366307
81   600  13.5696400
82   700  19.4830518
83   800  24.9596299
84   900  39.2800245
85  1000  33.1233443
86  1100  45.4346350
87  1200  58.0112784
88  1300  57.4907772
89  1400  66.8782190
90  1500  76.1078100
91  1600  77.9702662
92  1700  86.4002619
93  1800  90.8551005
94  1900  93.0494288
95  2000  91.3292011
96  2100  92.8803548
97  2200  95.3348279
98  2300  93.3454901
99  2400  89.4888304
100 2500 101.6825561
101  100  -2.6463179
102  200   2.4626755
103  300   8.8313503
104  400   8.1322231
105  500  11.2579274
106  600   7.6675020
107  700  22.8678546
108  800  18.4455407
109  900  30.8940806
110 1000  41.5778433
111 1100  44.4458981
112 1200  58.2412531
113 1300  60.1528031
114 1400  66.8289217
115 1500  74.2174892
116 1600  82.1478187
117 1700  87.0719569
118 1800  86.3247909
119 1900  77.6874618
120 2000  89.9793056
121 2100  91.5725152
122 2200  86.8773791
123 2300  90.9528753
124 2400  94.8046681
125 2500  96.2915658
126  100   3.3783906
127  200  -3.7782437
128  300  -5.3800214
129  400   8.5946633
130  500  10.1502830
131  600  14.4726541
132  700  25.4276710
133  800  26.1740854
134  900  32.4392613
135 1000  36.8220085
136 1100  45.3711596
137 1200  55.1290544
138 1300  60.0386737
139 1400  72.9271852
140 1500  74.7238370
141 1600  78.0457813
142 1700  73.7611185
143 1800  90.1935669
144 1900  89.8282116
145 2000  93.3865092
146 2100  96.5737605
147 2200  91.2951522
148 2300  93.1026883
149 2400  97.9327117
150 2500  96.5161475
151  100  -3.1399066
152  200   4.2818480
153  300   2.1415215
154  400   6.9593208
155  500   5.7589779
156  600  16.9917719
157  700  20.5212153
158  800  24.9654495
159  900  41.4699654
160 1000  44.7710150
161 1100  42.1270085
162 1200  57.5482135
163 1300  57.2669363
164 1400  68.3427189
165 1500  68.6810161
166 1600  71.9176212
167 1700  81.1582222
168 1800  92.1411063
169 1900  88.6745264
170 2000  95.1665112
171 2100  91.1493740
172 2200  93.8791498
173 2300  98.9862266
174 2400  94.7733683
175 2500 101.4603052
176  100   4.0875772
177  200  -2.5260400
178  300  -2.4073486
179  400   5.3199050
180  500  10.4923312
181  600  17.7314494
182  700  14.8992854
183  800  28.1606941
184  900  31.1065127
185 1000  38.3060603
186 1100  43.7539674
187 1200  55.7475726
188 1300  52.3597949
189 1400  67.9419737
190 1500  69.4292643
191 1600  78.9012221
192 1700  83.6830419
193 1800  93.1557145
194 1900  92.4328677
195 2000  81.7399979
196 2100  95.5528195
197 2200  94.2200239
198 2300  91.2460136
199 2400  96.5153395
200 2500  99.5341194
201  100   1.0072133
202  200   1.9475437
203  300   0.8895067
204  400   7.2445463
205  500   5.8782348
206  600  10.8238589
207  700  16.0272159
208  800  19.8050738
209  900  36.4075759
210 1000  44.4547541
211 1100  43.7834169
212 1200  55.6825097
213 1300  61.4506170
214 1400  73.7791672
215 1500  68.0171640
216 1600  70.7886840
217 1700  85.1198613
218 1800  85.9437649
219 1900  91.6470669
220 2000  90.6371665
221 2100  89.6053979
222 2200  90.6202220
223 2300  95.5400639
224 2400  93.7101926
225 2500  98.8553117
226  100  -3.2451954
227  200   4.0275414
228  300   5.3651481
229  400   1.9235670
230  500  12.6634105
231  600  19.4137491
232  700  13.5260270
233  800  25.0315762
234  900  30.3619952
235 1000  37.0424986
236 1100  44.4159204
237 1200  57.9005269
238 1300  57.0619045
239 1400  66.1205699
240 1500  75.6204362
241 1600  74.8793775
242 1700  84.2891345
243 1800  83.3223266
244 1900  84.4328447
245 2000  92.2704318
246 2100  96.6705120
247 2200  90.5756019
248 2300  86.6116323
249 2400  97.2501922
250 2500  95.2831440
-------------------------------------------

Sincerely,

Philippe Grosjean

...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Tue May  1 13:28:48 2001
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Tue, 01 May 2001 21:28:48 +1000
Subject: [R] margin problems?
References: <15085.51511.172491.435771@viz.itd.nrl.navy.mil>
Message-ID: <3AEE9DF0.E21CA936@ozemail.com.au>

Greg Trafton wrote:

> ...How do I change the margin for the y axis?  I've tried mai and mar, but they
> don't seem to do anything...

This worked on my setup:

> par(mar=c(5,8,4,2))
> plot(1:10)
> process.names <- c("Makeprod-data", "Makeprod-QMM", "Search", + "Download",
"View Data", "View QMM", "Consult", "Stop", "Misfire", + "Misfire", "Unknown")
> par(las=1)
> axis(2,1:11,labels=process.names)

Hope this helps,

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjlu at ibm.stat.ncku.edu.tw  Tue May  1 14:34:35 2001
From: cjlu at ibm.stat.ncku.edu.tw (Stat/NCKU)
Date: Tue, 1 May 2001 20:34:35 +0800
Subject: [R] How to use install.packages()
Message-ID: <005001c0d23b$1468f4a0$5834748c@95stat.edu.tw>

Dear R-friends,

As the binary windows version of R being distributed,
what is the correct way to install contributed packages without
using winst.exe as before?

The answer in "R for Windows FAQ" says:
"You can install pre-compiled packages either from CRAN
or from a local .zip file by using install.packages: see its help page."
But the information available in help(install.packages) is limited and
makes me don't know what do next for

> install.packages('display', 'c:/r/rw1022/library',destdir='c:/r')
Error in scan(file = file, what = "", quote = "", sep = "\n", quiet = TRUE)
:
        cannot open file `C:\WINDOWS\TEMP\file26962'
In addition: Warning message:
wget not found

The display.zip is already downloaded and stored in c:/r directory.
I don't think I need that wget, however, after downloaded wget.zip and
unzipped into wget.exe and wget.html, I don't know what to do with it!
Where (under which directory) shall I put wget.exe? Anything I should
do with it?

My version is
> version
         _
platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status   Patched
major    1
minor    2.2
year     2001
month    03
day      22
language R


Thanks very much for your help!

C. Joseph Lu
Associate Professor
Department of Statistics
National Cheng-Kung University
Tainan, Taiwan


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue May  1 16:20:19 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Tue, 1 May 2001 10:20:19 -0400 (EDT)
Subject: [R] Mantel's randomization test
In-Reply-To: <MABBLJDICACNFOLGIHJOOEDDCDAA.phgrosje@ulb.ac.be>
Message-ID: <Pine.LNX.4.30.0105011018300.13696-100000@bolker.zoo.ufl.edu>


 It's GPL.  I (Ben Bolker, bolker at zoo.ufl.edu) coded it from the
discussion in Manly's book in about 1992 or 1993.

  However, it would be a really good idea if you, or I, or *somebody*,
tested it a bit more thoroughly before putting it in a public archive.

  Here's a help file for it:

\name{mantel}
\alias{mantel}
\title{Mantel's permutation test}
\description{
  Calculate Mantel's permutation test for similarity of two matrices.
  Permutes the rows and columns of the two matrices randomly and
  calculates a Z statistic.  If the number of samples requested is
  greater than the total number of permutations, it enumerates
  permutations instead.
}
\usage{
mantel(m1, m2, nperm=250, graph=FALSE, rpt=FALSE)
}
\arguments{
  \item{m1}{A numeric matrix representing distances, correlations, etc.}
  \item{m2}{A second numeric matrix}
  \item{nperm}{Number of permutations to sample}
  \item{graph}{Produce a summary graph?}
  \item{rpt}{Reporting frequency: if \code{rpt}<0, no reporting}
}
\details{
  Calculates a Z-statistic for the Mantel test, equal to the sum of the
  pairwise product of the lower triangles of the permuted matrices, for
  each permutation of rows and columns.  Compares the permuted
  distribution with the Z-statistic observed for the actual data.  If
  the number of permutations requested is greater than the actual number
  of possible permutations, this code enumerates all of the permutations
  instead of taking a sample.

  If \code{graph=TRUE}, plots the density estimate of the permutation
  distribution along with the observed Z-statistic.
}
\value{
  \item{z.stat}{the Z-statistic (sum of rows*columns of lower triangle)
    of the data matrices}
  \item{p}{p-value (quantile of the observed Z-statistic in the
    permutation distribution)}
}
\references{
  Bryan F.J. Manly, \emph{Multivariate statistical methods: a primer}
(Chapman & Hall, 1986)}
\author{Ben Bolker}
\note{TO DO:

  \itemize{
    \item{add normalized Z-stat (or option for it)}
    \item{add asymptotic conf. limits/tests (Sokal and Rolf (\emph{Biometry}, 3d ed.) cite
      Mantel (1967), "The detection of disease clustering ...",
      \emph{Cancer Res.} 27:209-220, and suggest the asymptotic results should be OK
      for matrices as small as 25x25)}
    \item{add 3- or multi-way extensions of Mantel (S&R cite Smouse, Long, and
        Sokal (1986) "Multiple regression and correlation extensions of the
        Mantel test of matrix correspondence" \emph{Syst. Zool.} 35:627-632 and
        Oden and Sokal (1992) "An investigation of three-matrix permutation
        tests" \emph{J. Classif.} 9:275-290.)}}
}
\examples{
q1 <- matrix(runif(36),nrow=6)
q2 <- matrix(runif(36),nrow=6)
mantel(q1,q2,graph=TRUE,rpt=200)
}
\keyword{multivariate}


On Mon, 30 Apr 2001, Philippe Grosjean wrote:

> Hello,
>
>
> >  Years ago I coded this in S-PLUS ... I think it's been posted to the
> >S-news list before.  It seems to work just fine in R.  I have not tested
> >it at all, so it comes with the usual warranty (i.e., none).
>
> >  Just cut on the dotted lines and source() the file.
>
> >  One example (someday I'll package this all up and write a help file
> >etc.).
>
> >q1 _ matrix(runif(36),nrow=6)
> >q2 _ matrix(runif(36),nrow=6)
> >mantel(q1,q2,graph=TRUE,rpt=200)
>
>
> One of my jobs is to assemble a Splus/R library of statistical methods used
> in numerical oceanography. It will probably be distributed next year. I
> could be interested by inserting your Mantel test code if (1) it is public
> domain or GPL and (2) if you would like to give some indications of its
> origin (I mean, your name, email,...) which is not specified in the code you
> posted in your message.
> Sincerely,
>
> Philippe Grosjean
>
>
> ...........]<(({?<...............<?}))><...............................
>  ) ) ) ) )	 __               	 __
> ( ( ( ( ( 	|__)              	|  _
>  ) ) ) ) )	|   hilippe       	|__)rosjean
> ( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
>  ) ) ) ) )	                  	 __
> ( ( ( ( ( 	|\  /|            	|__)
>  ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
> ( ( ( ( (
>  ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
> ( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
>  ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
> ( ( ( ( (
>  ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
> ( ( ( ( (                                  L. Gonick & W. Smith (1993)
>  ) ) ) ) )
> .......................................................................
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrism at norcomnetworks.com  Tue May  1 16:16:12 2001
From: chrism at norcomnetworks.com (Chris Marshall)
Date: Tue, 1 May 2001 10:16:12 -0400 
Subject: [R] thoughts on where R fits as a language
Message-ID: <D8FC432ED011D511B1D9001083FD45E70F3457@norcom2.norcom.net>

I have a lot of java data analysis code I have written for processing 400MB
per day of compressed packet sniffer data.  I have been playing with R
recently and struggling to understand where the dividing line between
languages like java and R is in terms of which sorts of code in makes sense
to write in each.

It struck me the other day, as I was using excel to manually manipulate
large tables of string and numeric data doing things like table lookup
(using excel's vlookup function) and partitioning a table by the unique
values of a text column to perform sums on different numeric columns within
the partitions (you wouldn't believe the tricks I have stumbled upon to make
excel do things like that over the years) that R seemed to be made for
computations like this.  Once that occured to me, I opened "An Introduction
to R" again and saw how easy R's index arrays, match(), and tapply()
functions make all of those operations.

I don't know how obvious that must seem to most of the people on this list,
but I thought I'd offer it up in case anyone else found it to be the key to
unlocking R that I have found it to be.

Thank you, R authors and contributers, for such a fantastic tool.  I
absolutely recoiled in horror after cracking a book on Visual Basic for
Excel in one of my previous attempts to automate the manual stuff I have
been doing in excel these past few years.  It is so nice to have a system
like R to turn to for this.

Chris Marshall
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue May  1 16:31:14 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Tue, 1 May 2001 10:31:14 -0400 (EDT)
Subject: [R] Mantel's randomization test
In-Reply-To: <3AEE1EB7.6F9EFB2E@sci.osaka-cu.ac.jp>
Message-ID: <Pine.LNX.4.30.0105011029230.13696-100000@bolker.zoo.ufl.edu>


  This looks OK (I really can't comment on style points a whole lot).  The
distance matrix is obviously specific to your case ... the only thing I
can point out is that you can often be more efficient in R with vector
operations than using for-loops ... (it's my understanding that implicitly
vectorized operations and matrix operators are faster than apply() and
friends, which are in turn faster than for-loops).

  Ben Bolker

On Tue, 1 May 2001, Takashi Mizuno wrote:

> Dear all,
>
> Thanks for any reply to my question.
> Anyway I wrote a simple program for Mantel's test in R to my purpose.
> Following is a first code, dirty, nothing some comments, ...uuum.
>
>
> ------------------------
> Takashi Mizuno
> zoono at sci.osaka-cu.ac.jp
> Plant Ecology Lab.
> Osaka City University
> ------------------------
>
> --------------BEGIN-----------------------------
> ## _sdmatrix()_ make the spatial distances matrix from a given count
> matrix.
> ## This is only for grided data that an area is divided up into
> ## n equal-size quadrats.
> ## Matrix returned is a symmetric with zero diagonal terms.
> sdmatrix <- function( X )
> {
>   n <- dim(X)[2]
>   m <- dim(X)[1]
>   L <- length(X)
>   Z <- matrix(NA,L,L)
>   for( i in 1:(L-1) ){
>     if( i%%m == 0 ){
>       x1 <- m
>       y1 <- i%/%m
>     }
>     else{
>       x1 <- i%%m
>       y1 <- i%/%m + 1
>     }
>     for(j in i:L){
>       if( j > i ){
>         if( j%%m == 0 ){
>           x2 <- m
>           y2 <- j%/%m
>         }
>         else{
>           x2 <- j%%m
>           y2 <- j%/%m + 1
>         }
>         Z[j,i] <- Z[i,j] <- sqrt( (x2-x1)^2 + (y2-y1)^2 )
>       }
>     }
>   }
>   Z
> }
>
> ## _cdiffmatrix()_ make the count difference matrix from a given matrix.
> ## This is only for grided data that an area is divided up into
> ## n equal-size quadrats.
> ## Matrix returned is a symmetric with zero diagonal terms.
> cdiffmatrix <- function( X )
> {
>   n <- dim(X)[2]
>   m <- dim(X)[1]
>   L <- length(X)
>   Z <- matrix(NA,L,L)
>   for( i in 1:(L-1) ){
>     if( i%%m == 0 ){
>       x1 <- m
>       y1 <- i%/%m
>     }
>     else{
>       x1 <- i%%m
>       y1 <- i%/%m + 1
>     }
>     for(j in i:L){
>       if( j > i ){
>         if( j%%m == 0 ){
>           x2 <- m
>           y2 <- j%/%m
>         }
>         else{
>           x2 <- j%%m
>           y2 <- j%/%m + 1
>         }
>         Z[j,i] <- Z[i,j] <- X[x2,y2] - X[x1,y1]
>       }
>     }
>   }
>   for(i in 1:L){
>     Z[i,i] <- 0
>   }
>   Z
> }
>
> ## some functions
> mantelz <- function( X, Y )
> {
>   n <- dim(X)[1]
>   z <- 0.0
>   for( i in 1:(n-1) ){
>     for( j in i:n ){
>       if(j>i){
>         z <- z + X[j,i] * Y[j,i]
>       }
>     }
>   }
>   z
> }
>
> mantelsum <- function( X )
> {
>   n <- dim(X)[1]
>   s <- 0.0
>   for( i in 1:(n-1) ){
>     for( j in i:n ){
>       if(j>i){
>         s <- s + X[j,i]
>       }
>     }
>   }
>   s
> }
>
> mantelpow2 <- function(X)
> {
>   n <- dim(X)[1]
>   s <- 0.0
>   for( i in 1:(n-1) ){
>     for( j in i:n ){
>       if(j > i){
>         s <- s + X[j,i]^2
>       }
>     }
>   }
>   s
> }
>
> rsdmatrix <- function( X )
> {
>   Z <- 1/X
>   for(i in 1:dim(X)[1] ){
>     Z[i,i] <- 0
>   }
>   Z
> }
>
> mantelr <- function(X,Y)
> {
>   D <- dim(X)[1]
>   D <- D*(D-1)/2
>   sigmaab <- mantelz(X,Y)
>   suma <- mantelsum(X)
>   sumb <- mantelsum(Y)
>   sigmaaa <- mantelz(X,X)
>   sigmabb <- mantelz(Y,Y)
>   r <- ( sigmaab - (suma*sumb)/D ) /
>     sqrt( (sigmaaa - (suma^2)/D) * (sigmabb - (sumb^2)/D) )
>   r
> }
>
> ##
> ## Mantel's randomization test main part
> ##
> mantel.test <- function(X,Y,nrpt=4999)
> {
>   D <- dim(X)[1]
>   r1 <- mantelr(X,Y)
>   res <- numeric(nrpt)
>   pM <- matrix(NA,dim(X)[1],dim(X)[2])
>   permut <- numeric(D)
>   RNGkind("Mersenne-Twister")
>   for( i in 1:nrpt ){
>     rs <- .Random.seed
>     permut <- rank(runif(D))
>     for( j in 1:(D-1) ){
>       for( k in j:D ){
>         if( permut[k] > permut[j]){
>           pM[k,j] <- X[permut[k],permut[j]]
>         }
>         else{
>           pM[k,j] <- X[permut[j],permut[k]]
>         }
>       }
>     }
>     res[i] <- mantelr(pM,Y)
>   }
>   res <- sort(res)
>   over <- res[res>=r1]
>   lower <- res[res<=r1]
>   on <- length(over)
>   ln <- length(lower)
>   p.over <- (on+1)/(nrpt+1)
>   p.lower <- (ln+1)/(nrpt+1)
>   list(result=res,over=on,lower=ln,p.over=p.over,p.lower=p.lower,r=r1)
> }
> ---------------------END----------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May  1 16:40:31 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 1 May 2001 15:40:31 +0100 (GMT Daylight Time)
Subject: [R] How to use install.packages()
In-Reply-To: <005001c0d23b$1468f4a0$5834748c@95stat.edu.tw>
Message-ID: <Pine.WNT.4.31.0105011538220.1176-100000@gannet>

On Tue, 1 May 2001, Stat/NCKU wrote:

> Dear R-friends,
>
> As the binary windows version of R being distributed,
> what is the correct way to install contributed packages without
> using winst.exe as before?
>
> The answer in "R for Windows FAQ" says:
> "You can install pre-compiled packages either from CRAN
> or from a local .zip file by using install.packages: see its help page."
> But the information available in help(install.packages) is limited and
> makes me don't know what do next for

Try following this section of the help page:

     Argument `pkgs' can also be a character vector of file names of
     zip files if `CRAN=NULL'. The zip files are then unpacked
     directly.

As from the next release, there will be a menu option to do this,
but for this release rwinst.exe can still be used.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jg_liao at yahoo.com  Tue May  1 17:32:10 2001
From: jg_liao at yahoo.com (Jason Liao)
Date: Tue, 1 May 2001 08:32:10 -0700 (PDT)
Subject: [R] 6 times faster by eliminating apply
Message-ID: <20010501153210.26598.qmail@web10501.mail.yahoo.com>

This is some kind of follow-up to my previous posts. I have further
improved the speed of my program 6 times by eliminating all the
apply(). It turns out that apply is slow, is slower than direct loop,
it is an order slower than a matrix operation alternative.

Here is one example. The first apply version runs 19 seconds, the
second loop version runs 13 seconds, the third matrix version runs 1
second.

Jason Liao

 rm(list=ls(all=TRUE))

test1 <- function()
{
   u <- runif(n*m);
   dim(u) <- c(n,m);
   v <- apply(u, 2, crossprod);
   }
   
   
test2 <- function()
{   
   u <- runif(n*m);
   dim(u) <- c(n,m);
   v <- numeric(m);
   for(j in 1:m) v[j] <- crossprod(u[, j]);
   }
   
test3 <- function()
{
   u <- runif(n*m);
   dim(u) <- c(n,m);
   u <- u*u;
   one <- rep(1, n);
   v <- one %*% u;
   }
   
   
   n<-10;
   m<-10000;
  print(date());
  for(i in 1:10) test1()
 
   print(date());
   for(i in 1:10) test2()
 
   print(date());
   for(i in 1:10) test3()

   print(date());



=====
Jason G. Liao
Department of Biometry and Epidemiology
Medical University of South Carolina
135 Rutledge Ave., STE 1148, Charleston, SC 29425
phone (843) 876-1114, fax (843) 876-1126

http://www.geocities.com/jg_liao/index.html

__________________________________________________
Do You Yahoo!?
Yahoo! Auctions - buy the things you want at great prices
http://auctions.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Tue May  1 17:50:35 2001
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Tue, 01 May 2001 08:50:35 -0700
Subject: [R] Can this be vectorized?
Message-ID: <5.1.0.14.2.20010501083346.00a89600@127.0.0.1>

I want to produce some boxplots (and qqnorm plots) for each of a series of 
groups.  It is easy to produce the boxplots or qqplots by groups using 
either by() or tapply(), but the moment that I want unique labels for each 
boxplot, I seem to be stuck using a for loop to achieve the effect.

For example:

tapply(fstat$femur, fstat$race, boxplot)
by(fstat$femur, fstat$race, boxplot)

gives nicely unlabelled boxplots.

but I'm struggling with how to pass the labelling arguments to either 
tapply or by:

e.g.

tapply(fstat$femur, fstat$race, function(x) boxplot(x, main=????))

(nothing obvious comes to mind here that extracts the levels of fstat$race

but:

for (i in 1:3) {
boxplot(fstat[as.numeric(fstat$race)==i, "femur"], main=levels(fstat$race)[i])
}

gives exactly what I want.

It probably isn't worth the effort to avoid the loop above, but curiosity 
compels me to ask whether there is a way to vectorize the extraction of the 
levels from within an apply, tapply, by....?

Thanks.




=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://web.pdx.edu/~h1mf
PGP Key Available On Request
======================

"Anyway, no drug, not even alcohol, causes the fundamental ills of society.
If we're looking for the source of our troubles, we shouldn't test people
for drugs, we should test them for stupidity, ignorance, greed and love of
power."   P.J. O'Rourke

Powered by Optiplochoerus and Windows 2000 (scary isn't it?)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Tue May  1 18:22:59 2001
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Tue, 01 May 2001 12:22:59 -0400
Subject: [R] How packages are set up
Message-ID: <3AEEE2E3.676D33F0@virginia.edu>

In trying to get more familiar with R I have two questions.

1. For large packages it would be slow to parse all R source
code for the package each time library() is issued.  
Yet I haven't found where a package's functions are stored 
in in .RData format.  Would someone please clarify this?

2. Have package developers found that it works best to
maintain packages locally using the same directory structure 
described in "Creating R Packages" in the "Writing R
Extensions" manual?
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Paul.Bliese at NA.AMEDD.ARMY.MIL  Tue May  1 15:49:04 2001
From: Paul.Bliese at NA.AMEDD.ARMY.MIL (Bliese, Paul D MAJ WRAIR-Wash DC)
Date: Tue, 1 May 2001 09:49:04 -0400 
Subject: [R] RE: two new packages
Message-ID: <58CAB2332C0DD511BC7900A0C9EA316D0C1226@DASMTYJQF009>

John,

Thanks for making these available!  I'm very interested in your sem package
in particular.  Do you have versions that run in S-PLUS too?  I'll send
comments as I work through the materials.

Paul

**********************************************************************
MAJ Paul D. Bliese, Ph.D.
Chief, Dept. Operational Stress Research
Walter Reed Army Institute of Research
Washington, DC 20307
Voice:  (301) 319-9873
Fax:     (301) 319-9484
paul.bliese at na.amedd.army.mil


-----Original Message-----
From: John Fox [mailto:jfox at mcmaster.ca]
Sent: Friday, April 27, 2001 10:52 PM
To: R-announce at r-project.org
Subject: two new packages



I've prepared preliminary versions of two packages that I plan eventually 
to contribute to CRAN:

car (for "Companion to Applied Regression") is a package that provides a 
variety of functions in support of linear and generalized linear models, 
including regression diagnostics (e.g., studentized residuals, hat-values, 
Cook's distances, dfbeta, dfbetas, added-variable plots, component+residual 
plots, ceres plots, Durbin-Watson statistics); some tools for graphing and 
exploring data (e.g., enhanced quantile-comparison plots -- with simulated 
envelopes for studentized residuals from linear models, scatterplot, and 
scatterplot-matrix functions); some utilities (e.g., for recoding 
variables); some functions for transformations of data (e.g., multivariate 
unconditional Box-Cox transformation); an enhanced Anova function; and many 
datasets. The object is to make tasks that are commonly employed in 
regression modeling more convenient, particularly for students with limited 
programming skills. I've tried largely to avoid duplicating capabilities in 
existing packages.

sem is a package for fitting "structural-equation models." The package 
supports general structural equation models with latent varibles, fit by 
maximum likelihood assuming multinormality, and single-equation estimation 
for observed-variable models by two-stage least squares.

For the present, I'm making these packages available on my web site, at 
<http://www.socsci.mcmaster.ca/jfox/Misc/car/> and 
<http://socserv.socsci.mcmaster.ca/jfox/Misc/sem/>.

I'm particularly interested in suggestions and comments.

John


________________________________
  John Fox
  Department of Sociology
  McMaster University
  email: jfox at McMaster.ca
  web: www.socsci.mcmaster.ca/jfox
________________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-announce mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue May  1 18:38:01 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 1 May 2001 09:38:01 -0700 (PDT)
Subject: [R] How packages are set up
In-Reply-To: <3AEEE2E3.676D33F0@virginia.edu>
Message-ID: <Pine.A41.4.33.0105010932010.43516-100000@homer15.u.washington.edu>

On Tue, 1 May 2001, Frank E Harrell Jr wrote:

> In trying to get more familiar with R I have two questions.
>
> 1. For large packages it would be slow to parse all R source
> code for the package each time library() is issued.
> Yet I haven't found where a package's functions are stored
> in in .RData format.  Would someone please clarify this?

Well, the R source code *is* all parsed each time library() is issued, and
it isn't that slow. On my system (with network drives) it is less than a
second even for nlme, survival5, and MASS.  I don't think .RData format
would be that much faster.  The time to load the ratetables dataset in
survival5 (which is in .RData format) and to load the nlme package are
similar, and they are about the same size.

> 2. Have package developers found that it works best to
> maintain packages locally using the same directory structure
> described in "Creating R Packages" in the "Writing R
> Extensions" manual?

That's what I do.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May  1 18:41:04 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 1 May 2001 17:41:04 +0100 (BST)
Subject: [R] How packages are set up
In-Reply-To: <3AEEE2E3.676D33F0@virginia.edu>
Message-ID: <Pine.LNX.4.31.0105011730510.2356-100000@gannet.stats>

On Tue, 1 May 2001, Frank E Harrell Jr wrote:

> In trying to get more familiar with R I have two questions.
>
> 1. For large packages it would be slow to parse all R source
> code for the package each time library() is issued.
> Yet I haven't found where a package's functions are stored
> in in .RData format.  Would someone please clarify this?

It is not slow: base is parsed every time R is started, for example.  Have
you tried this on a real package?  The largest current example, nlme,
takes 0.49 secs to load on my system, and that is wice the size of the
next largest.

However, as of about yesterday in the R-devel version there is an
option --save to INSTALL to create an image instead and make library()
load that.  It is not clear that is appreciably faster unless there
is more going on than parsing (like some actual computations).  (It also
unclear if it will ever be able to be done on a Mac.)

> 2. Have package developers found that it works best to
> maintain packages locally using the same directory structure
> described in "Creating R Packages" in the "Writing R
> Extensions" manual?

Yes, or something very similar.  (For some packages I keep the master help
in S .d format in subdirectory help, for example.)

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mtaboga at tiscalinet.it  Tue May  1 18:42:58 2001
From: mtaboga at tiscalinet.it (Marco Taboga)
Date: Tue, 1 May 2001 18:42:58 +0200
Subject: [R] Crazy plots of time-series against dates
References: <Pine.A41.4.33.0104300957140.85214-100000@homer11.u.washington.edu>
Message-ID: <005f01c0d25d$c85cf2a0$7e2a0a3e@xxxx>

I did what you suggested, but nothing changed. I noticed that, if I display
the plot without first loading the chron library, the plot is OK, but the
dates on the time axis are replaced by sequential numbers.
I send you an attachment with the zipped plot, so you can see it.
Thank you.
Marco Taboga (mtaboga at tiscalinet.it)


----- Original Message -----
From: "Thomas Lumley" <tlumley at u.washington.edu>
To: "Marco Taboga" <mtaboga at tiscalinet.it>
Cc: <r-help at hypatia.math.ethz.ch>
Sent: Monday, April 30, 2001 6:58 PM
Subject: Re: [R] Crazy plots of time-series against dates


> On Mon, 30 Apr 2001, Marco Taboga wrote:
>
> > I am trying to plot a time series (a stock index) with dates on the
> > x-axis.  If I type: plot(a,b) where a is the vector of dates obtained
> > with chron() and b is the time series, I get a nice plot. If I type:
> > plot(a,b,type="l") to obtain the same plot with a continuous line
> > instead of dots, I get the plot of the time series, but the graph is
> > all scattered with numbers (thousands of numbers everywhere!). What is
> > wrong? Is there a better way to get plots with dates on the x-axis?
> > Thank you.
> >
>
> The lines are joined in the order than the points are plotted. This is the
> order in the dataset, not the order of the x variable.
>
> One possibility is
>
> oo<-order[a]
>
> plot(a[oo],b[oo],type="l")
>
> -thomas
>
> Thomas Lumley Asst. Professor, Biostatistics
> tlumley at u.washington.edu University of Washington, Seattle
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: plot.zip
Type: application/x-zip-compressed
Size: 27462 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010501/1bba08ef/plot.bin

From hstevens at rci.rutgers.edu  Tue May  1 18:59:21 2001
From: hstevens at rci.rutgers.edu (Martin Henry H. Stevens)
Date: Tue, 1 May 2001 12:59:21 -0400
Subject: [R] simple question
Message-ID: <001d01c0d260$118fbd20$9db9e6a5@rutgers.edu>

How does one turn a character string back into an object?

I would like to take character strings and use them as objects, a process
that I think is the reverse of deparse( substitute(X)).
E.g., I would like to get the variable names from the fourth object listed
with objects(),
something like

names(objects()[4]), but of course that doesn't work.

Thanks
Henry

Dr. M. Henry H. Stevens
Postdoctoral Associate
Department of Ecology, Evolution, & Natural Resources
14 College Farm Road
Cook College, Rutgers University
New Brunswick, NJ 08901-8551

email: hstevens at rci.rutgers.edu
phone: 732-932-9631
fax: 732-932-8746

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May  1 19:13:36 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 1 May 2001 18:13:36 +0100 (GMT Daylight Time)
Subject: [R] simple question
In-Reply-To: <001d01c0d260$118fbd20$9db9e6a5@rutgers.edu>
Message-ID: <Pine.WNT.4.31.0105011813160.246-100000@tern.stats>

On Tue, 1 May 2001, Martin Henry H. Stevens wrote:

> How does one turn a character string back into an object?
>
> I would like to take character strings and use them as objects, a process
> that I think is the reverse of deparse( substitute(X)).

get()

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue May  1 19:23:10 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 1 May 2001 10:23:10 -0700 (PDT)
Subject: [R] simple question
In-Reply-To: <001d01c0d260$118fbd20$9db9e6a5@rutgers.edu>
Message-ID: <Pine.A41.4.33.0105011016030.43516-100000@homer15.u.washington.edu>

On Tue, 1 May 2001, Martin Henry H. Stevens wrote:

> How does one turn a character string back into an object?
>
> I would like to take character strings and use them as objects, a process
> that I think is the reverse of deparse( substitute(X)).
> E.g., I would like to get the variable names from the fourth object listed
> with objects(),
> something like
>
> names(objects()[4]), but of course that doesn't work.
>

Amazingly, the opposite of deparse() is parse(), as suggested by
help(deparse)

> parse(text="trees")[[1]]
trees

So you can get the object with eval() and do eg
> data(trees)
> names(eval(parse(text="trees")[[1]]))
[1] "Girth"  "Height" "Volume"

or plug the parsed name into an expression like
> expr<-substitute(names(obj),list(obj=parse(text="trees")[[1]]))
> expr
names(trees)
> eval(expr)
[1] "Girth"  "Height" "Volume"


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May  1 19:43:13 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 May 2001 19:43:13 +0200
Subject: [R] Crazy plots of time-series against dates
In-Reply-To: "Marco Taboga"'s message of "Tue, 1 May 2001 18:42:58 +0200"
References: <Pine.A41.4.33.0104300957140.85214-100000@homer11.u.washington.edu> <005f01c0d25d$c85cf2a0$7e2a0a3e@xxxx>
Message-ID: <x2wv81klse.fsf@blueberry.kubism.ku.dk>

"Marco Taboga" <mtaboga at tiscalinet.it> writes:

> Content-Type: text/plain;  charset="iso-8859-1"
> Content-Transfer-Encoding: 7Bit
> 
> I did what you suggested, but nothing changed. I noticed that, if I display
> the plot without first loading the chron library, the plot is OK, but the
> dates on the time axis are replaced by sequential numbers.
> I send you an attachment with the zipped plot, so you can see it.
> Thank you.
> Marco Taboga (mtaboga at tiscalinet.it)
> 

Interesting effect... 

I don't know what the real cause is, but evidently it is the axis
labels that are off (looking like what you get from applying deparse
to a vector/chron object), so a quick fix would be to set xlab and
ylab to sensible text strings. I.e.

plot(a, b, type='l', xlab="a", ylab="b)

Do you think you could cook up a small example (e.g. using simulated
data) exhibiting the same behaviour?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Tue May  1 19:48:47 2001
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Tue, 01 May 2001 13:48:47 -0400
Subject: [R] How packages are set up
References: <Pine.A41.4.33.0105010932010.43516-100000@homer15.u.washington.edu>
Message-ID: <3AEEF6FF.34BE8B38@virginia.edu>

Thanks to Thomas Lumley and Brian Ripley.  The source code
for both the Hmisc and Design libraries is each the same size
as that of nlme, so I am encouraged.  nlme also loads in about
0.5s on my system.  Still the upcoming option to INSTALL to 
create a binary image is nice to hear about.

It sounds as if the R directory structure is good for
everyday use for developers too.  If anyone has opinions on how best
to set up a directory structure that is also suitable
for working with a CVS repository I would appreciate
hearing about that.

Thanks

Frank
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Paul.Bliese at NA.AMEDD.ARMY.MIL  Tue May  1 15:49:04 2001
From: Paul.Bliese at NA.AMEDD.ARMY.MIL (Bliese, Paul D MAJ WRAIR-Wash DC)
Date: Tue, 1 May 2001 09:49:04 -0400 
Subject: [R] RE: two new packages
Message-ID: <58CAB2332C0DD511BC7900A0C9EA316D0C1226@DASMTYJQF009>

John,

Thanks for making these available!  I'm very interested in your sem package
in particular.  Do you have versions that run in S-PLUS too?  I'll send
comments as I work through the materials.

Paul

**********************************************************************
MAJ Paul D. Bliese, Ph.D.
Chief, Dept. Operational Stress Research
Walter Reed Army Institute of Research
Washington, DC 20307
Voice:  (301) 319-9873
Fax:     (301) 319-9484
paul.bliese at na.amedd.army.mil


-----Original Message-----
From: John Fox [mailto:jfox at mcmaster.ca]
Sent: Friday, April 27, 2001 10:52 PM
To: R-announce at r-project.org
Subject: two new packages



I've prepared preliminary versions of two packages that I plan eventually 
to contribute to CRAN:

car (for "Companion to Applied Regression") is a package that provides a 
variety of functions in support of linear and generalized linear models, 
including regression diagnostics (e.g., studentized residuals, hat-values, 
Cook's distances, dfbeta, dfbetas, added-variable plots, component+residual 
plots, ceres plots, Durbin-Watson statistics); some tools for graphing and 
exploring data (e.g., enhanced quantile-comparison plots -- with simulated 
envelopes for studentized residuals from linear models, scatterplot, and 
scatterplot-matrix functions); some utilities (e.g., for recoding 
variables); some functions for transformations of data (e.g., multivariate 
unconditional Box-Cox transformation); an enhanced Anova function; and many 
datasets. The object is to make tasks that are commonly employed in 
regression modeling more convenient, particularly for students with limited 
programming skills. I've tried largely to avoid duplicating capabilities in 
existing packages.

sem is a package for fitting "structural-equation models." The package 
supports general structural equation models with latent varibles, fit by 
maximum likelihood assuming multinormality, and single-equation estimation 
for observed-variable models by two-stage least squares.

For the present, I'm making these packages available on my web site, at 
<http://www.socsci.mcmaster.ca/jfox/Misc/car/> and 
<http://socserv.socsci.mcmaster.ca/jfox/Misc/sem/>.

I'm particularly interested in suggestions and comments.

John


________________________________
  John Fox
  Department of Sociology
  McMaster University
  email: jfox at McMaster.ca
  web: www.socsci.mcmaster.ca/jfox
________________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-announce mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mtaboga at tiscalinet.it  Tue May  1 20:47:09 2001
From: mtaboga at tiscalinet.it (Marco Taboga)
Date: Tue, 1 May 2001 20:47:09 +0200
Subject: [R] Crazy plots of time-series against dates
References: <Pine.A41.4.33.0104300957140.85214-100000@homer11.u.washington.edu> <005f01c0d25d$c85cf2a0$7e2a0a3e@xxxx> <x2wv81klse.fsf@blueberry.kubism.ku.dk>
Message-ID: <001301c0d26f$215cb320$c7220a3e@xxxx>

OK, it works.  xlab and ylab had to be set properly.
If you want to see what actually goes on, try:
a<-chron(1:2000)
b<-1:2000
plot(a,b,type="l")

Marco Taboga (mtaboga at tiscalinet.it)


----- Original Message -----
From: "Peter Dalgaard BSA" <p.dalgaard at biostat.ku.dk>
To: "Marco Taboga" <mtaboga at tiscalinet.it>
Cc: "Thomas Lumley" <tlumley at u.washington.edu>; <r-help at stat.math.ethz.ch>
Sent: Tuesday, May 01, 2001 7:43 PM
Subject: Re: [R] Crazy plots of time-series against dates


> "Marco Taboga" <mtaboga at tiscalinet.it> writes:
>
> > Content-Type: text/plain;  charset="iso-8859-1"
> > Content-Transfer-Encoding: 7Bit
> >
> > I did what you suggested, but nothing changed. I noticed that, if I
display
> > the plot without first loading the chron library, the plot is OK, but
the
> > dates on the time axis are replaced by sequential numbers.
> > I send you an attachment with the zipped plot, so you can see it.
> > Thank you.
> > Marco Taboga (mtaboga at tiscalinet.it)
> >
>
> Interesting effect...
>
> I don't know what the real cause is, but evidently it is the axis
> labels that are off (looking like what you get from applying deparse
> to a vector/chron object), so a quick fix would be to set xlab and
> ylab to sensible text strings. I.e.
>
> plot(a, b, type='l', xlab="a", ylab="b)
>
> Do you think you could cook up a small example (e.g. using simulated
> data) exhibiting the same behaviour?
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From g.romero at utoronto.ca  Tue May  1 20:46:35 2001
From: g.romero at utoronto.ca (g.romero@utoronto.ca)
Date: Tue, 01 May 2001 14:46:35 -0400 (EDT)
Subject: [R] Re: RExcel, new version
In-Reply-To: <3AED1B0C.75D0A038@univie.ac.at>
References: <3AED1B0C.75D0A038@univie.ac.at>
Message-ID: <988742795.3aef048bcfb68@webmail.utoronto.ca>

Erich,
I may be looking in the wrong place but I could not find your Rexcel add-in in
the contributed packages section t CRAN.
Thank you,
Giovanni E. Romero
Dept. of Economics
University of Toronto

Quoting Erich Neuwirth <erich.neuwirth at univie.ac.at>:

>
> I just uploaded the new version of RExcel to the incoming directory.
>
> Here is part of the ReadMe:
>
> ===============================================================================
> R-Excel Interface, Version 0.73
> 01-04-30
> ===============================================================================
>
> Overview:
> ---------
>
>   This package contains an Excel Addin to use R from within Microsoft
> Excel
>   on Microsoft Windows platforms.
>
>
> Features:
> ---------
>
>   Data-transfer both from R to the Excel and vice versa, currently
>   supporting scalars (booleans, integers, doubles and strings) and
> arrays of
>   these.
>   R can be called by executing macros "real time", and we also have
>   worksheet functions calling R as part of Excels automatic
> recalculation.
>
>
> Bugs/unimplemented features:
> ----------------------------
>
>   * COM server sometimes dies unexpectedly, then Excel has to be closed
>     and restarted.
>
>
> Archives:
> ---------
>
>   RExel073.zip   ... Excel Addin and examples
>
> Installation:
> -------------
>
>   * Install the latest R release  (>= R 1.2.3)
>   * Install the DCOM server for R (>= 0.99.0)
>     Installing the R-(D)COM Interface is still a little bit tricky
>     (not yet fully automatic), your really have to read
>     the instructions carefully.
>
>
>
>
>
> --
> Erich Neuwirth, Computer Supported Didactics Working Group
> Visit our SunSITE at http://sunsite.univie.ac.at
> Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-announce mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
> r-announce-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May  1 21:33:53 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 May 2001 21:33:53 +0200
Subject: [R] Crazy plots of time-series against dates
In-Reply-To: "Marco Taboga"'s message of "Tue, 1 May 2001 20:47:09 +0200"
References: <Pine.A41.4.33.0104300957140.85214-100000@homer11.u.washington.edu> <005f01c0d25d$c85cf2a0$7e2a0a3e@xxxx> <x2wv81klse.fsf@blueberry.kubism.ku.dk> <001301c0d26f$215cb320$c7220a3e@xxxx>
Message-ID: <x2zocwdftq.fsf@blueberry.kubism.ku.dk>

"Marco Taboga" <mtaboga at tiscalinet.it> writes:

> OK, it works.  xlab and ylab had to be set properly.
> If you want to see what actually goes on, try:
> a<-chron(1:2000)
> b<-1:2000
> plot(a,b,type="l")
> 

One of the standard blunders with R's lazy evaluation and substitute is
to change the value of part of a substitute expression before it is
evaluated. I think the chron maintainer even inserted a note in the
FAQ about that (Hi, Kurt ;) )

In plot.times insert the line below to fix it

    if (!is.null(type <- dots$type)) 
        if (any(type == c("l", "b", "o"))) {
            xlab ; ylab  # force promises
            nas <- is.na(x)
            ...

Cc'ed to R-bugs so that it gets filed and eventually fixed.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MagillB at usa.redcross.org  Tue May  1 22:12:15 2001
From: MagillB at usa.redcross.org (Magill, Brett)
Date: Tue, 1 May 2001 16:12:15 -0400 
Subject: [R] Factor Analysis
Message-ID: <AC09DC4F4DFCD211A83C00805FE6138D36944A@nhqjpk1ex2.bionet.org>

Thanks to Brian Ripley for the time and effort put into developing the
factanal package for R.  I have found it very useful.  However, in trying to
replicate some results from previous research, I have run into the need for
a couple of extensions and was wondering if they might find their way into
future implementations.

1.  Though maximum likelihood estimates might be more rigorous and
appropriate as a default, it would be great to have the option of conducting
factor analysis based on  principle factors estimation.

2.  When a Heywood case is encountered, error out saying such.  Provide an
option to perform the analysis anyway setting values to small positive
numbers (although it might be statistically suspect, replicating results
from other studies suggests to me that this is exactly what was done).


Brett A. Magill, Associate
Program Administration and Evaluation
Health, Safety, and Community Services
American Red Cross

Phone:  	(703) 206-7731
Fax: 	(703) 206-7673
E-mail: 	bmagill at usa.redcross.org


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at nokomis.stat.umn.edu  Tue May  1 22:26:45 2001
From: luke at nokomis.stat.umn.edu (Luke Tierney)
Date: Tue, 1 May 2001 15:26:45 -0500
Subject: [R] How packages are set up
In-Reply-To: <Pine.A41.4.33.0105010932010.43516-100000@homer15.u.washington.edu>; from tlumley@u.washington.edu on Tue, May 01, 2001 at 09:38:01AM -0700
References: <3AEEE2E3.676D33F0@virginia.edu> <Pine.A41.4.33.0105010932010.43516-100000@homer15.u.washington.edu>
Message-ID: <20010501152645.A26404@nokomis.stat.umn.edu>

On Tue, May 01, 2001 at 09:38:01AM -0700, Thomas Lumley wrote:
> On Tue, 1 May 2001, Frank E Harrell Jr wrote:
> 
> > In trying to get more familiar with R I have two questions.
> >
> > 1. For large packages it would be slow to parse all R source
> > code for the package each time library() is issued.
> > Yet I haven't found where a package's functions are stored
> > in in .RData format.  Would someone please clarify this?
> 
> Well, the R source code *is* all parsed each time library() is issued, and
> it isn't that slow. On my system (with network drives) it is less than a
> second even for nlme, survival5, and MASS.  I don't think .RData format
> would be that much faster.  The time to load the ratetables dataset in
> survival5 (which is in .RData format) and to load the nlme package are
> similar, and they are about the same size.
> 

Just to follow up on the use of .RData format to store package code:
unfortunately this is currently only worth while if a significant
amount of computation can be moved from load time to package creation
time.  If this is not the case, .RData currently loses both on speed
and size: On my system loading nlme with library takes about 1.5
seconds; loading a version saved as .RData takes over 3 seconds.  The
R/nlme file in the installed package is also quite a bit smaller than
the .Rdata version.

This is clearly something we need to work on, and both loading speed
and size of .RData files used for code are likely to improve over
time.  Performance for data already seems to be quite reasonable.

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May  1 22:42:20 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 1 May 2001 21:42:20 +0100 (BST)
Subject: [R] Factor Analysis
In-Reply-To: <AC09DC4F4DFCD211A83C00805FE6138D36944A@nhqjpk1ex2.bionet.org>
Message-ID: <Pine.GSO.4.31.0105012133430.17284-100000@toucan.stats>

On Tue, 1 May 2001, Magill, Brett wrote:

> Thanks to Brian Ripley for the time and effort put into developing the
> factanal package for R.  I have found it very useful.  However, in trying to
> replicate some results from previous research, I have run into the need for
> a couple of extensions and was wondering if they might find their way into
> future implementations.
>
> 1.  Though maximum likelihood estimates might be more rigorous and
> appropriate as a default, it would be great to have the option of conducting
> factor analysis based on  principle factors estimation.

principal?   I don't write code for methods I believe should come with a
severe health warning, but `patches may be accepted'.

> 2.  When a Heywood case is encountered, error out saying such.  Provide an
> option to perform the analysis anyway setting values to small positive
> numbers (although it might be statistically suspect, replicating results
> from other studies suggests to me that this is exactly what was done).

Unfortunately the precise value of the `small positive value' can be
critical.  However, I don't get this: this is exactly what factanal does
now, using 0.005 as the value.  I don't trust the optimization enought to
really declare a Heywood case adn give an error (and that is a comment on
the likelihood surface, not the optimizer).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Tue May  1 22:37:12 2001
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 01 May 2001 16:37:12 -0400
Subject: [R] How packages are set up
References: <3AEEE2E3.676D33F0@virginia.edu>
Message-ID: <3AEF1E78.7A060CBE@bank-banque-canada.ca>

>2. Have package developers found that it works best to
>maintain packages locally using the same directory structure
>described in "Creating R Packages" in the "Writing R
>Extensions" manual?

Yes, except that I keep larger help files in a directory I call mansrc/ and generate
man/ by splitting these into the smaller files for each function. The .R files in my
R/  contain many functions and larger files in mansrc/ correspond to these .R files.

However, I do not run R CMD check from above the package directory, as may be
tempting to do. If you do this you may get extra things like Rcheck directories and
core dumps generated in your source directories.

And while I use the package structure I do not use the bundle structure. This means
that I have to copy my packages into the bundle structure before I use "R CMD build"
to make the tar ball. I have sometimes thought about organizing my source in the
bundle structure and if others have ideas about this I would appreciate hearing. One
of the reasons I have not is because I intend on occassion to move packages into
different bundles. While it is no problem to move a directory around, I am a novice
with CVS and am not so sure that I can move directories around without messing up CVS
badly. (BTW,  there is nothing special about setting up CVS with the package
structure. I actually start CVS somewhat higher so that it gets my Makefiles and
other documentation as well.)

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at team.telstra.com  Wed May  2 02:53:23 2001
From: John.Strumila at team.telstra.com (Strumila, John)
Date: Wed, 2 May 2001 10:53:23 +1000 
Subject: [R] Factor Analysis
Message-ID: <61411576E951D211AF330008C7245DD908BB1622@ntmsg0005.corpmail.telstra.com.au>

gday R friends,

can someone please direct me to the url for factanal?  I cant see it in the
contributed list on cran, nor on V&R's site.

thanks,
John Strumila


On Tue, 1 May 2001, Magill, Brett wrote:

> Thanks to Brian Ripley for the time and effort put into developing the
> factanal package for R.  I have found it very useful.  However, in trying
to...
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hortresearch.co.nz  Wed May  2 02:59:02 2001
From: P.Connolly at hortresearch.co.nz (Patrick Connolly)
Date: Wed, 2 May 2001 12:59:02 +1200 (NZST)
Subject: [R] NIR spectroscopy analysis
Message-ID: <200105020059.f420x2E14093@biomat1.marc.hort.cri.nz>


I am interested in learning how to deal with NIR spectrum data.  The
sort of data is referred to in

Statistical aspects of near infrared spectroscopy 
by J. W. McNicol and I. A. Cowe

locatad at http://www.bioss.sari.ac.uk/tele/newtech/newins.htm

Any pointers to ways of doing this sort of analysis in R are welcome.

Thanks


-- 
*************************************************************
Patrick Connolly
HortResearch                        Great minds discuss ideas;
Mt Albert                           Average minds discuss events; 
Auckland                            Small minds discuss people.
New Zealand                                                 .... Anon
Ph: +64-9 815 4200 x 7188
*************************************************************


____________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
____________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Richard.Rowe at jcu.edu.au  Wed May  2 02:56:20 2001
From: Richard.Rowe at jcu.edu.au (Richard Rowe)
Date: Wed, 02 May 2001 10:56:20 +1000
Subject: [R] Re: R 1.2.3 for Windows available 
In-Reply-To: <20010429135224.13386@hal.stat.unipd.it>
Message-ID: <5.0.0.25.1.20010502105347.03af7bb0@pop.jcu.edu.au>

At 13:52 29/04/01 +0200, you wrote:

>A Windows binary distribution of R 1.2.3 is available at
>          http://sirio.stat.unipd.it/RWin
>It will be mirrored at a CRAN site near you in a couple of days.
>See below for a list of Windows-specific changes.
>
>guido masarotto
>(for the R-core team)


Guido,

this doesn't seem to have propagated to CRAN yet (I've looked at the 
Australian mirror and at the http://cran.r-project.org/ home site today),

thanks,

Richard

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May  2 08:12:16 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 2 May 2001 07:12:16 +0100 (BST)
Subject: [R] Factor Analysis
In-Reply-To: <61411576E951D211AF330008C7245DD908BB1622@ntmsg0005.corpmail.telstra.com.au>
Message-ID: <Pine.GSO.4.31.0105020710280.22121-100000@auk.stats>

On Wed, 2 May 2001, Strumila, John wrote:

> gday R friends,
>
> can someone please direct me to the url for factanal?  I cant see it in the
> contributed list on cran, nor on V&R's site.

It's part of the R distribution, package mva, since R 1.2.1:


                CHANGES IN R VERSION 1.2.1


NEW FEATURES

    o   New functions factanal(), varimax(), promax() and examples in
        package mva.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed May  2 08:27:27 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 02 May 2001 08:27:27 +0200
Subject: [R] Re: RExcel, new version
References: <3AED1B0C.75D0A038@univie.ac.at> <988742795.3aef048bcfb68@webmail.utoronto.ca>
Message-ID: <3AEFA8CF.E0926B8@statistik.uni-dortmund.de>

g.romero at utoronto.ca wrote:
> 
> Erich,
> I may be looking in the wrong place but I could not find your Rexcel add-in in
> the contributed packages section t CRAN.

It's in the "OTHER" section:
http://CRAN.R-Project.org/other-software.html


Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at team.telstra.com  Wed May  2 08:47:28 2001
From: John.Strumila at team.telstra.com (Strumila, John)
Date: Wed, 2 May 2001 16:47:28 +1000 
Subject: [R] Factor Analysis
Message-ID: <61411576E951D211AF330008C7245DD908BB16D0@ntmsg0005.corpmail.telstra.com.au>

gday Brian,

Obviously I didn't look hard enough; I should have done a cran search and I
was using an old help file.

thanks,
John Strumila

-----Original Message-----
From: Prof Brian D Ripley [mailto:ripley at stats.ox.ac.uk]
Sent: Wednesday, 2 May 2001 4:12 PM
To: Strumila, John
Cc: 'r-help at lists.R-project.org'
Subject: RE: [R] Factor Analysis


On Wed, 2 May 2001, Strumila, John wrote:

> gday R friends,
>
> can someone please direct me to the url for factanal?  I cant see it in
the
> contributed list on cran, nor on V&R's site.

It's part of the R distribution, package mva, since R 1.2.1:


                CHANGES IN R VERSION 1.2.1


NEW FEATURES

    o   New functions factanal(), varimax(), promax() and examples in
        package mva.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Wed May  2 10:17:15 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang@xtra.co.nz)
Date: Wed, 2 May 2001 20:17:15 +1200
Subject: [R] Export to File...
Message-ID: <003601c0d2e0$4d65d340$0b5037d2@kokangwang>

Hi,

I've been reading the Data Import and Export manual (page 25 on Connection
chapter) but somehow I can't manage to get what I want.

I have a 28x28 distance matrix, which I would like to export to a file.
What I did was something like:
    zz <- file("ex.data", "w")  # open an output file connection
    cat( traffic.manDist, file = zz )  # traffic.manDist is my matrix name
    close(zz)

But instead of exporting the matrix, it export each number in the matrix and
separating each number into one line!

Can anyone tell me where I did wrong?  Much appreciated!

Cheers,

Kevin

----------------------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub
University of Auckland
New Zealand


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Wed May  2 10:20:55 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Wed, 2 May 2001 10:20:55 +0200
Subject: [R] 6 times faster by eliminating apply
In-Reply-To: <20010501153210.26598.qmail@web10501.mail.yahoo.com>
Message-ID: <MABBLJDICACNFOLGIHJOAEDMCDAA.phgrosje@ulb.ac.be>

Jason,

Instead of using print(date()) to time your tests, you can use
system.time(). If you want the time of the whole process, it is the third
element in the vector returned form system.time(). Thus, you could write:

system.time(for(i in 1:10) {test1()})[3]

It is well-known that matrix calculation is much faster than loops in a
matrix calculation package (!) and R is one. I am surprised that apply() is
slower than for loops. Unfortunatelly, matrix algorithm does not always
exist. An alternative being to use C or fortran code which are much faster
in loops. I personnally use another method which does not require so much
change in the code and keep the advantage of matrix calculation where
required, while speeding up loops by at least a factor 10: I transfer
calculation to Ox, a very fast, light-weight matrix calculation package. You
should find a reference to this package on the web.

Best regards,

Philippe Grosjean



-----Message d'origine-----
De : owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]De la part de Jason Liao
Envoye : mardi 1 mai 2001 17:32
A : r-help at lists.R-project.org
Objet : [R] 6 times faster by eliminating apply


This is some kind of follow-up to my previous posts. I have further
improved the speed of my program 6 times by eliminating all the
apply(). It turns out that apply is slow, is slower than direct loop,
it is an order slower than a matrix operation alternative.

Here is one example. The first apply version runs 19 seconds, the
second loop version runs 13 seconds, the third matrix version runs 1
second.

Jason Liao

 rm(list=ls(all=TRUE))

test1 <- function()
{
   u <- runif(n*m);
   dim(u) <- c(n,m);
   v <- apply(u, 2, crossprod);
   }


test2 <- function()
{
   u <- runif(n*m);
   dim(u) <- c(n,m);
   v <- numeric(m);
   for(j in 1:m) v[j] <- crossprod(u[, j]);
   }

test3 <- function()
{
   u <- runif(n*m);
   dim(u) <- c(n,m);
   u <- u*u;
   one <- rep(1, n);
   v <- one %*% u;
   }


   n<-10;
   m<-10000;
  print(date());
  for(i in 1:10) test1()

   print(date());
   for(i in 1:10) test2()

   print(date());
   for(i in 1:10) test3()

   print(date());



=====
Jason G. Liao
Department of Biometry and Epidemiology
Medical University of South Carolina
135 Rutledge Ave., STE 1148, Charleston, SC 29425
phone (843) 876-1114, fax (843) 876-1126

http://www.geocities.com/jg_liao/index.html

__________________________________________________
Do You Yahoo!?
Yahoo! Auctions - buy the things you want at great prices
http://auctions.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.firth at nuffield.oxford.ac.uk  Wed May  2 10:35:07 2001
From: david.firth at nuffield.oxford.ac.uk (David Firth)
Date: Wed, 2 May 2001 09:35:07 +0100
Subject: [R] R and Ox?
In-Reply-To: <MABBLJDICACNFOLGIHJOAEDMCDAA.phgrosje@ulb.ac.be>
References: <MABBLJDICACNFOLGIHJOAEDMCDAA.phgrosje@ulb.ac.be>
Message-ID: <a05010401b71575962dcc@[163.1.41.88]>

Philippe Grosjean wrote (in reply to Jason Liao):

>It is well-known that matrix calculation is much faster than loops in a
>matrix calculation package (!) and R is one. I am surprised that apply() is
>slower than for loops. Unfortunatelly, matrix algorithm does not always
>exist. An alternative being to use C or fortran code which are much faster
>in loops. I personnally use another method which does not require so much
>change in the code and keep the advantage of matrix calculation where
>required, while speeding up loops by at least a factor 10: I transfer
>calculation to Ox, a very fast, light-weight matrix calculation package. You
>should find a reference to this package on the web.

Is there a good way to organize co-operation between R and Ox? 
(incidentally, Ox is at http://www.nuff.ox.ac.uk/Users/Doornik/)
-- 


David Firth                        Phone +44 1865 278544
Nuffield College                   Fax   +44 1865 278621
Oxford OX1 1NF                     Secretary +44 1865 278553
United Kingdom                     Email david.firth at nuffield.ox.ac.uk

http://www.stats.ox.ac.uk/~firth/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed May  2 11:00:27 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 02 May 2001 11:00:27 +0200
Subject: [R] Export to File...
References: <003601c0d2e0$4d65d340$0b5037d2@kokangwang>
Message-ID: <3AEFCCAB.277AC1CE@statistik.uni-dortmund.de>



Ko-Kang at xtra.co.nz wrote:
> 
> Hi,
> 
> I've been reading the Data Import and Export manual (page 25 on Connection
> chapter) but somehow I can't manage to get what I want.
> 
> I have a 28x28 distance matrix, which I would like to export to a file.
> What I did was something like:
>     zz <- file("ex.data", "w")  # open an output file connection
>     cat( traffic.manDist, file = zz )  # traffic.manDist is my matrix name
>     close(zz)
> 
> But instead of exporting the matrix, it export each number in the matrix and
> separating each number into one line!
> 
> Can anyone tell me where I did wrong?  Much appreciated!


Have a look at ?write  and  ?write.table.

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May  2 11:04:46 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 2 May 2001 10:04:46 +0100 (BST)
Subject: [R] Export to File...
In-Reply-To: <003601c0d2e0$4d65d340$0b5037d2@kokangwang>
Message-ID: <Pine.GSO.4.31.0105020955450.18076-100000@toucan.stats>

On Wed, 2 May 2001 Ko-Kang at xtra.co.nz wrote:

> Hi,
>
> I've been reading the Data Import and Export manual (page 25 on Connection
> chapter) but somehow I can't manage to get what I want.

(page numbers depend on your formatting: I get page 25 in an index.)

> I have a 28x28 distance matrix, which I would like to export to a file.
> What I did was something like:
>     zz <- file("ex.data", "w")  # open an output file connection
>     cat( traffic.manDist, file = zz )  # traffic.manDist is my matrix name
>     close(zz)
>
> But instead of exporting the matrix, it export each number in the matrix and
> separating each number into one line!

If you mean that all the numbers appear on one line separated by spaces,
that's what cat() does given a matrix: you got what you asked for.  Try it
at the console.

> Can anyone tell me where I did wrong?  Much appreciated!

If you want to export a matrix to a text file, read the section on `export
to text files', which is way before page 25.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Wed May  2 12:16:40 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Wed, 2 May 2001 12:16:40 +0200
Subject: [R] Re: R 1.2.3 for Windows available 
In-Reply-To: <5.0.0.25.1.20010502105347.03af7bb0@pop.jcu.edu.au>
References: <20010429135224.13386@hal.stat.unipd.it>
	<5.0.0.25.1.20010502105347.03af7bb0@pop.jcu.edu.au>
Message-ID: <15087.56968.637994.383149@celeborn.leisch.at>

>>>>> On Wed, 02 May 2001 10:56:20 +1000,
>>>>> Richard Rowe (RR) wrote:

  > At 13:52 29/04/01 +0200, you wrote:
  >> A Windows binary distribution of R 1.2.3 is available at
  >> http://sirio.stat.unipd.it/RWin
  >> It will be mirrored at a CRAN site near you in a couple of days.
  >> See below for a list of Windows-specific changes.
  >> 
  >> guido masarotto
  >> (for the R-core team)


  > Guido,

  > this doesn't seem to have propagated to CRAN yet (I've looked at the 
  > Australian mirror and at the http://cran.r-project.org/ home site today),


They are at the CRAN master in Vienna now. Guido changed the URL, and
I had to reflect this in the mirror script ... and today is my first
day in office since Sunday (yesterday was a public holiday in Austria).

Please do take it literally if someone announces that ``It will be
mirrored at a CRAN site near you in a couple of days.''
... maintaining CRAN is (as all of the R project) volunteer work, we
don't have 24 hours/7days a week services ... 

.f


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Paul.Bliese at NA.AMEDD.ARMY.MIL  Tue May  1 15:49:04 2001
From: Paul.Bliese at NA.AMEDD.ARMY.MIL (Bliese, Paul D MAJ WRAIR-Wash DC)
Date: Tue, 1 May 2001 09:49:04 -0400 
Subject: [R] RE: two new packages
Message-ID: <58CAB2332C0DD511BC7900A0C9EA316D0C1226@DASMTYJQF009>

John,

Thanks for making these available!  I'm very interested in your sem package
in particular.  Do you have versions that run in S-PLUS too?  I'll send
comments as I work through the materials.

Paul

**********************************************************************
MAJ Paul D. Bliese, Ph.D.
Chief, Dept. Operational Stress Research
Walter Reed Army Institute of Research
Washington, DC 20307
Voice:  (301) 319-9873
Fax:     (301) 319-9484
paul.bliese at na.amedd.army.mil


-----Original Message-----
From: John Fox [mailto:jfox at mcmaster.ca]
Sent: Friday, April 27, 2001 10:52 PM
To: R-announce at r-project.org
Subject: two new packages



I've prepared preliminary versions of two packages that I plan eventually 
to contribute to CRAN:

car (for "Companion to Applied Regression") is a package that provides a 
variety of functions in support of linear and generalized linear models, 
including regression diagnostics (e.g., studentized residuals, hat-values, 
Cook's distances, dfbeta, dfbetas, added-variable plots, component+residual 
plots, ceres plots, Durbin-Watson statistics); some tools for graphing and 
exploring data (e.g., enhanced quantile-comparison plots -- with simulated 
envelopes for studentized residuals from linear models, scatterplot, and 
scatterplot-matrix functions); some utilities (e.g., for recoding 
variables); some functions for transformations of data (e.g., multivariate 
unconditional Box-Cox transformation); an enhanced Anova function; and many 
datasets. The object is to make tasks that are commonly employed in 
regression modeling more convenient, particularly for students with limited 
programming skills. I've tried largely to avoid duplicating capabilities in 
existing packages.

sem is a package for fitting "structural-equation models." The package 
supports general structural equation models with latent varibles, fit by 
maximum likelihood assuming multinormality, and single-equation estimation 
for observed-variable models by two-stage least squares.

For the present, I'm making these packages available on my web site, at 
<http://www.socsci.mcmaster.ca/jfox/Misc/car/> and 
<http://socserv.socsci.mcmaster.ca/jfox/Misc/sem/>.

I'm particularly interested in suggestions and comments.

John


________________________________
  John Fox
  Department of Sociology
  McMaster University
  email: jfox at McMaster.ca
  web: www.socsci.mcmaster.ca/jfox
________________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-announce mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mtaboga at tiscalinet.it  Wed May  2 15:03:47 2001
From: mtaboga at tiscalinet.it (Marco Taboga)
Date: Wed, 2 May 2001 15:03:47 +0200
Subject: [R] Troubles with plot margins
Message-ID: <001801c0d308$53b14720$21230a3e@xxxx>

I am trying to set the margins of a plot with mai and I get a strange output.
I write:
plot(rnorm(1000),type="l",mai=c(1,1,1,1))
and what I get is a plot with unchanged margins and a column of four 1 plotted on the top margin.

Marco Taboga (mtaboga at tiscalinet.it)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010502/00d0e5dd/attachment.html

From ligges at statistik.uni-dortmund.de  Wed May  2 15:30:08 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 02 May 2001 15:30:08 +0200
Subject: [R] Troubles with plot margins
References: <001801c0d308$53b14720$21230a3e@xxxx>
Message-ID: <3AF00BE0.400DBECB@statistik.uni-dortmund.de>



> Marco Taboga wrote:
> 
> I am trying to set the margins of a plot with mai and I get a strange
> output.
> I write:
> plot(rnorm(1000),type="l",mai=c(1,1,1,1))
> and what I get is a plot with unchanged margins and a column of four 1
> plotted on the top margin.

In plot(..., mai = ...) , R thinks mai is short for "main" and sets c(1,
1, 1, 1) as the main title.

What you should try:
 par(mai = rep(1, 4))
 plot(...)


Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From niels.waller at home.com  Wed May  2 17:42:20 2001
From: niels.waller at home.com (niels Waller)
Date: Wed, 2 May 2001 08:42:20 -0700
Subject: [R] standard matrix notation
Message-ID: <NCBBKMNKKMFCIGDCHLDOEEMOCHAA.niels.waller@home.com>



This is not really a question on R, but a question for a book on R that I am
writing for psychology graduate students.

Students in psychology often have little exposure to linear algebra when
they show up in grad school (and often when they leave!).  I would like to
include a page in my R text that discusses standard notation for matrices
and vectors.  I realize that there is no universal standard, but I recall
seeing a reference to a so-called "international standard" with the
customary: lowercase for scalars, bold lowercase for vectors, etc.  Does
anyone know where such a standard is published?

Many thanks for any hints,

Niels


*******************************************************
Niels Waller, Ph.D.
Director of Quantitative Methods and Evaluation
Department of Psychology and Human Development
Vanderbilt University
Phone: (615) 322-8380    email: niels.waller at vanderbilt.edu
QME Home page: http://www.vanderbilt.edu/quantmetheval/
*******************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May  2 15:57:36 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 2 May 2001 14:57:36 +0100 (BST)
Subject: [R] Troubles with plot margins
In-Reply-To: <001801c0d308$53b14720$21230a3e@xxxx>
Message-ID: <Pine.GSO.4.31.0105021453580.18681-100000@toucan.stats>

On Wed, 2 May 2001, Marco Taboga wrote:

> I am trying to set the margins of a plot with mai and I get a strange output.
> I write:
> plot(rnorm(1000),type="l",mai=c(1,1,1,1))
> and what I get is a plot with unchanged margins and a column of four 1 plotted on the top margin.

mai matches main, which is an argument to plot.default.
It can't be set in plot, anyway.
> plot(rnorm(1000),type="l",mai=c(1,1,1,1), main=NULL)
Warning messages:
1: parameter "mai" couldn't be set in high-level plot() function
2: parameter "mai" couldn't be set in high-level plot() function
...

Use

par(mai=c(1,1,1,1))
plot(rnorm(1000))


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From elvis at xlsolutions-corp.com  Wed May  2 19:24:31 2001
From: elvis at xlsolutions-corp.com (Elvis Miller)
Date: Wed, 02 May 2001 10:24:31 -0700
Subject: [R] Course: R Fundamentals and Programming Techniques by Prof. Doug Bates, July 18-20, 2001. 
Message-ID: <200105021724.f42HOV115658@badass.hosting-network.com>

 XLSolutions Corporation (www.xlsolutions-corp.com) is pleased to announce 
a three-day R course, "R Fundamentals and Programming Techniques," presented
by Professor Doug Bates.


This special three-day R course is designed for those who want to learn 
to write R programs to accomplish typical data-processing tasks, including 
creating graphics. The course will give beginners a strong foundation for
becoming a versatile R programmer, and will expose experienced users to
skills
that make a better R programmer.

R is a freely available implementation of the S language and environment, 
for statistical computing and graphics similar to the commercial S-PLUS. 
You can download a copy of R software (Windows, Mac, Unix & Linux) 
from http://cran.r-project.org.


Course Description:

This three-day R course focuses on a broad spectrum of topics, from reading
raw data to a comparison of R and SAS. We will learn the essentials of data 
manipulation, graphical visualization and R programming. We will explore 
statistical data analysis tools, including graphics with data sets from areas
such as Finance, Biopharm, manufacturing and E-commerce. However, participants

are encouraged to bring their own data for an interactive session with 
the trainer.

Course Outline:

Day 1

 An Overview of R: Installation and Demonstration
 Data Manipulation and Graphics
 A Comparison of R and S-PLUS
 How can R Complement SAS?

Day 2

 Writing Functions
 Data Mining and Statistical Modeling
 Case Studies With Data from Participants


Day 3

 Project Management
 Techniques for Effective use of R
 Connecting R to External Data Sources
 Enhancing Plots



Cost for 3-day course: Chicago - July 18-20, 2001.

Commercial $985
Academic $875

(Includes course materials and 90 days Technical Support for R.)

Registration: 

Email Sue Turner: sue at xlsolutions-corp.com
Phone: 206-686-1578 x221
Visit us: www.xlsolutions-corp.com/training.htm


Course Format:

This course consists of a series of short lectures with demonstrations and 
interactive sessions for the participants. Each student is provided with bound

copies of the notes and a CD-ROM containing all examples, exercises 
and software used on the course.


Trainer's Background:

Douglas Bates is Professor of Statistics at the University of Wisconsin -
Madison 
and a member of the R Development Core Team. He is co-author of the nonlinear

modeling functions in both R and S-PLUS and a co-author of both the R and
S-PLUS 
versions of the nlme package for fitting linear and nonlinear mixed-effects
models.

He has taught short courses on nonlinear regression and mixed-effects models
on 
many occasions. He is the author with Donald G. Watts of "Nonlinear
Regression
Analysis and Its Applications" and with Jose C. Pinheiro of 
"Mixed-effects Models in S and S-PLUS".


Share Your Thoughts:

Are there any additional topics you would like for this course to address?
Would you like for this course to be offered in another city? 

Please let us know by contributing to our recommendation list: 
training at xlsolutions-corp.com.


================================================================================
==

Three-day 18-20 July R Fundamentals and Programming Techniques.
Pre-registration Form (Please email or print and fax: 206-686-1578)
XLsolutions Corporation: For your Solutions needs, Consulting and Training.
www.xlsolutions-corp.com



Title...... First Name ................. Last Name....................

Organization..........................................................

Mailing Address....................................................... 

.....................................................................

.....................................................................

Zip Code...................... Country.............................

Telephone........................... Fax ...............................

E-mail................................................................

Payment will be made by: (1) check (2) invoice (3) bank transfer



Elvis Miller, PhD
Manager Training and Technical Support
North American Division
XLSolutions Corporation
Email: elvis at xlsolutions-corp.com
Phone: 206-686-1578
Web: www.xlsolutions-corp.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Wed May  2 19:43:04 2001
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Wed, 02 May 2001 13:43:04 -0400
Subject: [R] RE: two new packages
References: <58CAB2332C0DD511BC7900A0C9EA316D0C1226@DASMTYJQF009>
Message-ID: <3AF04728.7D644B2D@umsanet.edu.bo>

Hola!

I have a package i will soon contribute to CRAN, SenSrivastava,
containing the datasets for exampples and exercises in the book:
Sen/Srivastava: "Regression Analysis, Theory, Methods, and
Applications."
(Springer Verlag, 1990)
What I haven? found in R, needed for teaching from the book, is 
diagnostics for multicollinearity. (VIF?s) Is this somewhere in R I
havent searched, or have anyboduyu coded it up?

Thanks very much, 

Kjetil Halvorsen.

"Bliese, Paul D MAJ WRAIR-Wash DC" wrote:
> 
> John,
> 
> Thanks for making these available!  I'm very interested in your sem package
> in particular.  Do you have versions that run in S-PLUS too?  I'll send
> comments as I work through the materials.
> 
> Paul
> 
> **********************************************************************
> MAJ Paul D. Bliese, Ph.D.
> Chief, Dept. Operational Stress Research
> Walter Reed Army Institute of Research
> Washington, DC 20307
> Voice:  (301) 319-9873
> Fax:     (301) 319-9484
> paul.bliese at na.amedd.army.mil
> 
> -----Original Message-----
> From: John Fox [mailto:jfox at mcmaster.ca]
> Sent: Friday, April 27, 2001 10:52 PM
> To: R-announce at r-project.org
> Subject: two new packages
> 
> I've prepared preliminary versions of two packages that I plan eventually
> to contribute to CRAN:
> 
> car (for "Companion to Applied Regression") is a package that provides a
> variety of functions in support of linear and generalized linear models,
> including regression diagnostics (e.g., studentized residuals, hat-values,
> Cook's distances, dfbeta, dfbetas, added-variable plots, component+residual
> plots, ceres plots, Durbin-Watson statistics); some tools for graphing and
> exploring data (e.g., enhanced quantile-comparison plots -- with simulated
> envelopes for studentized residuals from linear models, scatterplot, and
> scatterplot-matrix functions); some utilities (e.g., for recoding
> variables); some functions for transformations of data (e.g., multivariate
> unconditional Box-Cox transformation); an enhanced Anova function; and many
> datasets. The object is to make tasks that are commonly employed in
> regression modeling more convenient, particularly for students with limited
> programming skills. I've tried largely to avoid duplicating capabilities in
> existing packages.
> 
> sem is a package for fitting "structural-equation models." The package
> supports general structural equation models with latent varibles, fit by
> maximum likelihood assuming multinormality, and single-equation estimation
> for observed-variable models by two-stage least squares.
> 
> For the present, I'm making these packages available on my web site, at
> <http://www.socsci.mcmaster.ca/jfox/Misc/car/> and
> <http://socserv.socsci.mcmaster.ca/jfox/Misc/sem/>.
> 
> I'm particularly interested in suggestions and comments.
> 
> John
> 
> ________________________________
>   John Fox
>   Department of Sociology
>   McMaster University
>   email: jfox at McMaster.ca
>   web: www.socsci.mcmaster.ca/jfox
> ________________________________
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-
> r-announce mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Wed May  2 21:25:25 2001
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 02 May 2001 15:25:25 -0400
Subject: [R] RE: two new packages
In-Reply-To: <3AF04728.7D644B2D@umsanet.edu.bo>
References: <58CAB2332C0DD511BC7900A0C9EA316D0C1226@DASMTYJQF009>
Message-ID: <5.0.2.1.2.20010502152024.01937ab8@mcmail.cis.mcmaster.ca>

Dear Kjetil,

The vif function in the car package calculates vif's for 
one-degree-of-freedom terms in a linear model object and generalized vif's 
for terms with more than one df (the latter are described in Fox, J. and 
Monette, G. (1992) Generalized collinearity diagnostics. JASA, 87, 
178?183). Beyond this, other tools are readily available in R, such as 
eigenvalues/vectors, singular-value decompositions, and 
principal-components analysis.

I hope that this helps,
  John

At 01:43 PM 02/05/2001 -0400, kjetil halvorsen wrote:
>Hola!
>
>I have a package i will soon contribute to CRAN, SenSrivastava,
>containing the datasets for exampples and exercises in the book:
>Sen/Srivastava: "Regression Analysis, Theory, Methods, and
>Applications."
>(Springer Verlag, 1990)
>What I haven? found in R, needed for teaching from the book, is
>diagnostics for multicollinearity. (VIF?s) Is this somewhere in R I
>havent searched, or have anyboduyu coded it up?
>
>Thanks very much,
>
>Kjetil Halvorsen.
>
>"Bliese, Paul D MAJ WRAIR-Wash DC" wrote:
> >
> > John,
> >
> > Thanks for making these available!  I'm very interested in your sem package
> > in particular.  Do you have versions that run in S-PLUS too?  I'll send
> > comments as I work through the materials.
> >
> > Paul
> >
> > **********************************************************************
> > MAJ Paul D. Bliese, Ph.D.
> > Chief, Dept. Operational Stress Research
> > Walter Reed Army Institute of Research
> > Washington, DC 20307
> > Voice:  (301) 319-9873
> > Fax:     (301) 319-9484
> > paul.bliese at na.amedd.army.mil
> >
> > -----Original Message-----
> > From: John Fox [mailto:jfox at mcmaster.ca]
> > Sent: Friday, April 27, 2001 10:52 PM
> > To: R-announce at r-project.org
> > Subject: two new packages
> >
> > I've prepared preliminary versions of two packages that I plan eventually
> > to contribute to CRAN:
> >
> > car (for "Companion to Applied Regression") is a package that provides a
> > variety of functions in support of linear and generalized linear models,
> > including regression diagnostics (e.g., studentized residuals, hat-values,
> > Cook's distances, dfbeta, dfbetas, added-variable plots, component+residual
> > plots, ceres plots, Durbin-Watson statistics); some tools for graphing and
> > exploring data (e.g., enhanced quantile-comparison plots -- with simulated
> > envelopes for studentized residuals from linear models, scatterplot, and
> > scatterplot-matrix functions); some utilities (e.g., for recoding
> > variables); some functions for transformations of data (e.g., multivariate
> > unconditional Box-Cox transformation); an enhanced Anova function; and many
> > datasets. The object is to make tasks that are commonly employed in
> > regression modeling more convenient, particularly for students with limited
> > programming skills. I've tried largely to avoid duplicating capabilities in
> > existing packages.
> >
> > sem is a package for fitting "structural-equation models." The package
> > supports general structural equation models with latent varibles, fit by
> > maximum likelihood assuming multinormality, and single-equation estimation
> > for observed-variable models by two-stage least squares.
> >
> > For the present, I'm making these packages available on my web site, at
> > <http://www.socsci.mcmaster.ca/jfox/Misc/car/> and
> > <http://socserv.socsci.mcmaster.ca/jfox/Misc/sem/>.
> >
> > I'm particularly interested in suggestions and comments.
> >
> > John
> >
> > ________________________________
> >   John Fox
> >   Department of Sociology
> >   McMaster University
> >   email: jfox at McMaster.ca
> >   web: www.socsci.mcmaster.ca/jfox
> > ________________________________
> >
> > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-
> > r-announce mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> r-announce-request at stat.math.ethz.ch
> > 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._
> > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


________________________________
  John Fox
  Department of Sociology
  McMaster University
  email: jfox at McMaster.ca
  web: www.socsci.mcmaster.ca/jfox
________________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbeer at uni-goettingen.de  Wed May  2 22:41:44 2001
From: rbeer at uni-goettingen.de (Ragnar Beer)
Date: Wed, 2 May 2001 22:41:44 +0200
Subject: [R] rounding
Message-ID: <p04330100b716205620e3@[134.76.136.114]>

Howdy!

I'm trying to print a correlation matrix where every r is rounded to 
two digits after the colon. How can I get that? I tried 
options(digits=2) but that rather yields two digits minimum precision 
so that I get 0.0068 instead of 0.01.

Ragnar
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May  2 23:00:53 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 May 2001 23:00:53 +0200
Subject: [R] rounding
In-Reply-To: Ragnar Beer's message of "Wed, 2 May 2001 22:41:44 +0200"
References: <p04330100b716205620e3@[134.76.136.114]>
Message-ID: <x2sninea9m.fsf@blueberry.kubism.ku.dk>

Ragnar Beer <rbeer at uni-goettingen.de> writes:

> Howdy!
> 
> I'm trying to print a correlation matrix where every r is rounded to 
> two digits after the colon. How can I get that? I tried 
> options(digits=2) but that rather yields two digits minimum precision 
> so that I get 0.0068 instead of 0.01.

round()...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May  2 22:53:38 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 2 May 2001 21:53:38 +0100 (BST)
Subject: [R] rounding
In-Reply-To: <p04330100b716205620e3@[134.76.136.114]>
Message-ID: <Pine.GSO.4.31.0105022153060.19607-100000@toucan.stats>

On Wed, 2 May 2001, Ragnar Beer wrote:

> Howdy!
>
> I'm trying to print a correlation matrix where every r is rounded to
> two digits after the colon. How can I get that? I tried
> options(digits=2) but that rather yields two digits minimum precision
> so that I get 0.0068 instead of 0.01.

?round

round(foo,2)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hzi at uol.com.br  Thu May  3 12:58:48 2001
From: hzi at uol.com.br (hzi)
Date: Thu, 3 May 2001 07:58:48 -0300
Subject: [R] Anyone insterested in writing about R for the Debian User Reference Guide?
Message-ID: <002a01c0d3c0$08c84ca0$04c4bfc8@jarnt>

Hello-

    There's a new Debian Guide that?s still in the making, although some of it is already available on-line, called the DURG (Debian User Reference Guide).
    One of it's writers is interested to know if someone (preferably a Debian user, I guess) could write a subsection on R for the section Science.
    It should contain:
    - a brief introduction,
    - one or more simple examples,
    - a comment on usability.
    Especially the last item needs some experience. As I don't consider myself proficient enough in using R, I'm not volunteering at this moment. I did have this little part in it, when I wrote about R's existence to the people developing the manual :-) This manual, by the way, intends to go a bit deeper the other ones.
    Is anyone interested? Write to me privately and I will put you in contact with the DURG writer on Science, or you can look him up yourself in the Debian site (doc section).
    I think this is a great opportunity to make people see that Linux has all the good stuff one needs, and to make R more widely known.


    Best regards,


    Henry L.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010503/e8a7b98e/attachment.html

From Robert.Denham at dnr.qld.gov.au  Thu May  3 01:06:29 2001
From: Robert.Denham at dnr.qld.gov.au (Robert.Denham@dnr.qld.gov.au)
Date: Thu, 3 May 2001 09:06:29 +1000 
Subject: [R] rcode and latex
Message-ID: <CB3BE9CAB8C8D411AAF800805F65125AA9130A@indpllymail.dnr.qld.gov.au>

I have discovered the listings package for including code in your latex
documents.  The default languages do not include R or Splus, but the
definition is pretty simple, this is what I did for R:

\lst at definelanguage{R}%
{morekeywords={TRUE,FALSE,T,F,NA,NULL,Inf,NaN,library,%
  attach,detach,source,while,for,in,%
  repeat,switch,break,next,return,stop,function,%
  if,else,warning,error},%
literate={<-}{{$\leftarrow$}}1{<<-}{{$\leftarrow \!\!\!\!\leftarrow$}}1 ,%
sensitive=true,%
morecomment=[l]\#,%
morestring=[d]",%
morestring=[d]'%
}[keywords,directives,comments,strings]


This is saved somewhere on your $TEXINPUTS path as lstlang0.sty.  Probably
someone has already done this, so I would be happy to see an improved
version.

I am sending this in the hope there are others find it useful.

Robert Denham


************************************************************************
The information in this e-mail together with any attachments is
intended only for the person or entity to which it is addressed
and may contain confidential and/or privileged material.

Any form of review, disclosure, modification, distribution
and/or publication of this e-mail message is prohibited.  

If you have received this message in error, you are asked to
inform the sender as quickly as possible and delete this message
and any copies of this message from your computer and/or your
computer system network.  
************************************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.baker at cmis.csiro.au  Thu May  3 04:33:35 2001
From: peter.baker at cmis.csiro.au (Peter Baker)
Date: Thu, 3 May 2001 12:33:35 +1000 (EST)
Subject: [R] Re: R 1.2.3 for Windows available 
In-Reply-To: <5.0.0.25.1.20010502105347.03af7bb0@pop.jcu.edu.au>
Message-ID: <Pine.LNX.4.30.0105031230020.30069-100000@lindeman-cv.cmis.csiro.au>

On Wed, 2 May 2001, Richard Rowe wrote:

> At 13:52 29/04/01 +0200, you wrote:
>
> >A Windows binary distribution of R 1.2.3 is available at
> >          http://sirio.stat.unipd.it/RWin
> >It will be mirrored at a CRAN site near you in a couple of days.
                                               ^^^^^^^^^^^^^^^^^^^
                                               ^^^^^^^^^^^^^^^^^^^
> >See below for a list of Windows-specific changes.
> >
> >guido masarotto
> >(for the R-core team)
>
>
> Guido,
>
> this doesn't seem to have propagated to CRAN yet (I've looked at the
> Australian mirror and at the http://cran.r-project.org/ home site today),

Try http://mirror.aarnet.edu.au/pub/CRAN/bin/windows/base or thru the
top level directories

My understanding is that mirroring isn't instantaneous

Regards
Peter

-- 
Peter Baker, Statistician (Bioinformatics/Genetics),
CSIRO Mathematical & Information Sciences, 233 Middle St/
PO Box 120, CLEVELAND, QLD 4163 Australia.
Email: Peter.Baker at cmis.csiro.au
Phone:+61 7 3826 7263 Fax:+61 7 3826 7304




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbeer at uni-goettingen.de  Thu May  3 09:06:56 2001
From: rbeer at uni-goettingen.de (Ragnar Beer)
Date: Thu, 3 May 2001 09:06:56 +0200
Subject: [R] rounding
In-Reply-To: <x2sninea9m.fsf@blueberry.kubism.ku.dk>
References: <p04330100b716205620e3@[134.76.136.114]>
 <x2sninea9m.fsf@blueberry.kubism.ku.dk>
Message-ID: <p04330100b716b15e56c2@[192.168.0.98]>

Thanks a lot! Pretty cool! R is simply different from other 
programming languages and I think it'll still take me some time to 
set my mind accordingly. I didn't think it's that easy: 
round(cor(myframe),2).

Ragnar

>>  Howdy!
>>
>>  I'm trying to print a correlation matrix where every r is rounded to
>>  two digits after the colon. How can I get that? I tried
>>  options(digits=2) but that rather yields two digits minimum precision
>>  so that I get 0.0068 instead of 0.01.
>
>round()...
>
>
>round(foo,2)
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbeer at uni-goettingen.de  Thu May  3 09:18:56 2001
From: rbeer at uni-goettingen.de (Ragnar Beer)
Date: Thu, 3 May 2001 09:18:56 +0200
Subject: [R] Category plots
Message-ID: <p04330102b716b41cf9ce@[192.168.0.98]>

Howdy!

Is there already a function in R or in a package that I didn't notice 
that plots means +/- standard errors for categories like cellplots in 
StatView or category-plots in Systat do (see my ASCII art below)?

Ragnar


|
|               -
|               |
|    -       ...o
|    |   ....   |
|    o...       -
|    |
|    -                       o = group 1
|                            x = group 2
|    -
|    |          -
|    x.....     |
|    |     .....x
|    -          |
|               -
|
--------------------------
     pre        post
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From detlef.steuer at unibw-hamburg.de  Thu May  3 09:36:39 2001
From: detlef.steuer at unibw-hamburg.de (detlef.steuer@unibw-hamburg.de)
Date: Thu, 03 May 2001 09:36:39 +0200 (CEST)
Subject: [R] rcode and latex
In-Reply-To: <CB3BE9CAB8C8D411AAF800805F65125AA9130A@indpllymail.dnr.qld.gov.au>
Message-ID: <XFMail.010503093639.detlef.steuer@unibw-hamburg.de>

Winfried Theis (theis at statistik.uni-dortmund.de) has provided
a definition for R for the listings package.
AFAIK it is already included in the latest version of listings available from
CTAN.

detlef
  
On 02-May-01 Robert.Denham at dnr.qld.gov.au wrote:
> I have discovered the listings package for including code in your latex
> documents.  The default languages do not include R or Splus, but the
> definition is pretty simple, this is what I did for R:
> 

Detlef Steuer ** Universitt der Bw ** 22043 Hamburg
Tel: (0049) (0)40/6541-2819
steuer at unibw-hamburg.de

There is more to life than increasing its speed.  - Mahatma Gandhi

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Thu May  3 10:33:36 2001
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Thu, 03 May 2001 10:33:36 +0200 (CEST)
Subject: [R] rcode and latex
In-Reply-To: <CB3BE9CAB8C8D411AAF800805F65125AA9130A@indpllymail.dnr.qld.gov.au>
Message-ID: <XFMail.010503103336.theis@statistik.uni-dortmund.de>

Dear all,

this mail gives me a good reason to let you know, that I wrote a language
definition for R in listings. It is included in the package since version 0.2.
So just get the latest from CTAN and test it! 

I had not propagated it up to now since I hadn't had the chance to test it
thoroughly until recently. I also added some definitions for S-Plus as far as I
knew them (It inherits most R keywords). And even a rudimentary SAS support has
been done (though I don't use it...). 

So if you are missing keywords please do tell me, I will gladly add them and
submit the changes to the maintainer and writer of the package!

Cheers,

Winfried


----------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 03-May-01
Time: 10:22:40
Dipl.-Math. Winfried Theis, Fachbereich Statistik, Graduiertenkolleg
"Angewandte Statistik"
Universitt Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903  FAX: +49-231-755-4387
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From B.Rowlingson at lancaster.ac.uk  Thu May  3 12:05:09 2001
From: B.Rowlingson at lancaster.ac.uk (B.Rowlingson@lancaster.ac.uk)
Date: Thu, 03 May 2001 11:05:09 +0100
Subject: [R] Running R under Mosix
Message-ID: <3AF12D55.540C67CA@lancs.ac.uk>

Mosix is a cluster operating system that is a set of
kernel patches to Linux on i386 machines. It allows 
processes to migrate to other nodes on the cluster
transparently. See www.mosix.org for details. However,
my R processes were refusing to migrate.

Using strace, and delving into the R code, I found 
that it was due to a large number of calls to the system
setjmp and longjmp routines - the setjmp is in applyClosure()
in eval.c and the longjmps could be just about anywhere.

The problem is that setjmp and longjmp preserve the signal
handling context, and any change in signal handling has to 
be done on the machine that the R process started on. If the
process has migrated there is some overhead as the remote 
process communicates back to the original. Because R was
doing so many setjmp/longjmp calls Mosix decided it wasn't
worth migrating the process (even to a machine with twice
the CPU power of the home node).

I solved the problem by redefining the SETJMP and LONGJMP
macros in src/include/Defn.h to call _setjmp and _longjmp
instead. These functions dont preserve the signal context.
The result was an R executable that migrated and got 99.9%
CPU time on the twice-as-powerful machine.

 But, you R-wizards out there, is there any side-effect of
this change? The man page for setjmp says that the POSIX
standard doesn't define whether or not the signal context
is saved so hopefully not. True or false?

Barry Rowlingson
Maths and Stats
Lancaster University
Lancaster, UK
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cribari at de.ufpe.br  Thu May  3 11:23:02 2001
From: cribari at de.ufpe.br (Francisco Cribari)
Date: Thu, 3 May 2001 06:23:02 -0300 (EST)
Subject: [R] R and Ox
Message-ID: <Pine.GSO.3.96.1010503061021.349C-100000@bernoulli>


Hi David, I hope all is well w/ you. Co-operation beetwen R and 
Ox would be most welcome. A possible problem lies in the fact that,
although free for academic use, Ox is not open source. I too have 
been using Ox for computer-intensive programming. I also code some 
of my programs in C, but I always try Ox first, and in most cases 
it is efficient enough. For details, see 

   http://www.de.ufpe.br/~cribari/ox.pdf

and also

Cribari-Neto, F. (1997). Econometric Programming Environments: 
   GAUSS, Ox and S-PLUS. Journal of Applied Econometrics, 12, 
   77-89.

and

Cribari-Neto, F. & Zarkos, S.G. (1999). R: yet another econometric 
   programming environment. Journal of Applied Econometrics, 14, 
   319-329.

The latter contains a brief speed comparison between R and Ox. 
Econometrically, 

Francisco

Date: Wed, 2 May 2001 09:35:07 +0100
From: David Firth <david.firth at nuffield.oxford.ac.uk>
Subject: [R] R and Ox?

Is there a good way to organize co-operation between R and Ox? 
(incidentally, Ox is at http://www.nuff.ox.ac.uk/Users/Doornik/)

-- 
David Firth                        Phone +44 1865 278544
Nuffield College                   Fax   +44 1865 278621
Oxford OX1 1NF                     Secretary +44 1865 278553
United Kingdom                     Email david.firth at nuffield.ox.ac.uk


________________________________________________________________________

Francisco Cribari-Neto               voice: +55-81-32718420
Departamento de Estatistica          fax:   +55-81-32718422
Universidade Federal de Pernambuco   e-mail: cribari at de.ufpe.br
Recife/PE, 50740-540, Brazil         web: www.de.ufpe.br/~cribari/

      Hardware, n:   The parts of a computer that can be kicked. 
________________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Thomas.Bruns at ptb.de  Thu May  3 13:38:01 2001
From: Thomas.Bruns at ptb.de (Thomas Bruns)
Date: Thu, 03 May 2001 13:38:01 +0200
Subject: [R] Index vectors get overwriten ?!
Message-ID: <3AF14319.8552FE9B@ptb.de>

Hello,

For some analysis of a mesh structure I need to prepare several vectors
of indexes of different length. This is done by the following code
sequence (including diagnostic output):
#--------------------------------------------------
MT_ind <- which(V1.frame[,2] %in% mm[,1])
print("M_ind")
str(M_ind)
		
Q1_ind <- which(V1.frame[,2] %in% mq1)
print("Q1_ind")
str(Q1_ind)

Q2_ind <- which(V1.frame[,2] %in% mq2)
print("Q2_ind")
str(Q2_ind)

MS_ind <- which(V1.frame[,2] %in% ms)
print("MS_ind")
str(MS_ind)

print ("---------------")
print("M_ind")
str(M_ind)
print("Q1_ind")
str(Q1_ind)
print("Q2_ind")
str(Q2_ind)
print("MS_ind")
str(MS_ind)
#-----------------------------------------------------

Although the Index vectors *_ind have different names they get
subsequently overwriten, as you see in the diagnostic output:

[1] "M_ind"
 int [1:12023] 6952 6953 6954 6957 6958 6959 6962 6963 6964 6965 ...
[1] "Q1_ind"
 int [1:331] 1 2 3 4 5 6 7 8 9 10 ...
[1] "Q2_ind"
 int [1:331] 6952 6957 6962 6963 6964 6965 6966 6967 6968 6969 ...
[1] "MS_ind"
 int [1:3] 15237 15238 15239
[1] "---------------"
[1] "M_ind"
 int [1:3] 15237 15238 15239
[1] "Q1_ind"
 int [1:3] 15237 15238 15239
[1] "Q2_ind"
 int [1:3] 15237 15238 15239
[1] "MS_ind"
 int [1:3] 15237 15238 15239    


Everything is now equal to MS_ind which was asigned last!
So, can anybody tell me what's happened here? Am I working on memory
pointers without knowing??

Tia!

Thomas



-- 
-------------------------------------------------------
Dr. Thomas Bruns                  <thomas.bruns at ptb.de>

         Physikalisch-Technische Bundesanstalt 
                      Braunschweig
Fachlabor: 1.13
Bundesallee 100                   Tel: 0531/592 -  1132
D-38116 Braunschweig              Fax: 0531/592-69-1132
-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Thomas.Bruns at ptb.de  Thu May  3 13:40:13 2001
From: Thomas.Bruns at ptb.de (Thomas Bruns)
Date: Thu, 03 May 2001 13:40:13 +0200
Subject: [R] addition to Index vectors get overwriten ?!
Message-ID: <3AF1439D.F5DA2A5B@ptb.de>

sorry I forgot:

platform alphaev67-dec-osf4.0f
arch     alphaev67
os       osf4.0f
system   alphaev67, osf4.0f
status
major    1
minor    2.1
year     2001
month    01
day      15
language R   
-- 
-------------------------------------------------------
Dr. Thomas Bruns                  <thomas.bruns at ptb.de>

         Physikalisch-Technische Bundesanstalt 
                      Braunschweig
Fachlabor: 1.13
Bundesallee 100                   Tel: 0531/592 -  1132
D-38116 Braunschweig              Fax: 0531/592-69-1132
-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu May  3 15:19:31 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 03 May 2001 06:19:31 -0700
Subject: [R] Index vectors get overwriten ?!
In-Reply-To: Thomas Bruns's message of "Thu, 03 May 2001 13:38:01 +0200"
References: <3AF14319.8552FE9B@ptb.de>
Message-ID: <87wv7yin8c.fsf@jeeves.blindglobe.net>


"_" is an assignment operator.  Use "." or capitalization to construct
variables.

best,
-tony

>>>>> "TB" == Thomas Bruns <Thomas.Bruns at ptb.de> writes:

    TB> Hello, For some analysis of a mesh structure I need to prepare
    TB> several vectors of indexes of different length. This is done
    TB> by the following code sequence (including diagnostic output):
    TB> #-------------------------------------------------- MT_ind <-
    TB> which(V1.frame[,2] %in% mm[,1]) print("M_ind") str(M_ind)
		
    TB> Q1_ind <- which(V1.frame[,2] %in% mq1) print("Q1_ind")
    TB> str(Q1_ind)

    TB> Q2_ind <- which(V1.frame[,2] %in% mq2) print("Q2_ind")
    TB> str(Q2_ind)

    TB> MS_ind <- which(V1.frame[,2] %in% ms) print("MS_ind")
    TB> str(MS_ind)

    TB> print ("---------------") print("M_ind") str(M_ind)
    TB> print("Q1_ind") str(Q1_ind) print("Q2_ind") str(Q2_ind)
    TB> print("MS_ind") str(MS_ind)
    TB> #-----------------------------------------------------

    TB> Although the Index vectors *_ind have different names they get
    TB> subsequently overwriten, as you see in the diagnostic output:

    TB> [1] "M_ind" int [1:12023] 6952 6953 6954 6957 6958 6959 6962
    TB> 6963 6964 6965 ...  [1] "Q1_ind" int [1:331] 1 2 3 4 5 6 7 8 9
    TB> 10 ...  [1] "Q2_ind" int [1:331] 6952 6957 6962 6963 6964 6965
    TB> 6966 6967 6968 6969 ...  [1] "MS_ind" int [1:3] 15237 15238
    TB> 15239 [1] "---------------" [1] "M_ind" int [1:3] 15237 15238
    TB> 15239 [1] "Q1_ind" int [1:3] 15237 15238 15239 [1] "Q2_ind"
    TB> int [1:3] 15237 15238 15239 [1] "MS_ind" int [1:3] 15237 15238
    TB> 15239


    TB> Everything is now equal to MS_ind which was asigned last!  So,
    TB> can anybody tell me what's happened here? Am I working on
    TB> memory pointers without knowing??

    TB> Tia!

    TB> Thomas



    TB> -- -------------------------------------------------------
    TB> Dr. Thomas Bruns <thomas.bruns at ptb.de>

    TB>          Physikalisch-Technische Bundesanstalt Braunschweig
    TB> Fachlabor: 1.13 Bundesallee 100 Tel: 0531/592 - 1132 D-38116
    TB> Braunschweig Fax: 0531/592-69-1132
    TB> -------------------------------------------------------
    TB> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    TB> r-help mailing list -- Read
    TB> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info",
    TB> "help", or "[un]subscribe" (in the "body", not the subject !)
    TB> To: r-help-request at stat.math.ethz.ch
    TB> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._




-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (friday is unknown) --------
FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rsb at reclus.nhh.no  Thu May  3 15:27:10 2001
From: rsb at reclus.nhh.no (Roger Bivand)
Date: Thu, 3 May 2001 15:27:10 +0200 (CEST)
Subject: [R] Index vectors get overwriten ?!
In-Reply-To: <3AF14319.8552FE9B@ptb.de>
Message-ID: <Pine.LNX.4.21.0105031522180.975-100000@reclus.nhh.no>

On Thu, 3 May 2001, Thomas Bruns wrote:

> For some analysis of a mesh structure I need to prepare several vectors
> of indexes of different length. This is done by the following code
> sequence (including diagnostic output):
> #--------------------------------------------------
> MT_ind <- which(V1.frame[,2] %in% mm[,1])

Since the underscore is an old assignment token, I think you are seeing
multiple assigns to "ind":

> ls()
character(0)
> a <- 1
> ls()
[1] "a"
> b_a
> b
[1] 1
> ls()
[1] "a" "b"

Hope this helps,

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at nokomis.stat.umn.edu  Thu May  3 15:59:38 2001
From: luke at nokomis.stat.umn.edu (Luke Tierney)
Date: Thu, 3 May 2001 08:59:38 -0500
Subject: [R] Running R under Mosix
In-Reply-To: <3AF12D55.540C67CA@lancs.ac.uk>; from B.Rowlingson@lancaster.ac.uk on Thu, May 03, 2001 at 11:05:09AM +0100
References: <3AF12D55.540C67CA@lancs.ac.uk>
Message-ID: <20010503085938.A1173@nokomis.stat.umn.edu>

Strange how these things go: we just had a discussion about this very
issue among the R core group yesterday.

On Thu, May 03, 2001 at 11:05:09AM +0100, B.Rowlingson at lancaster.ac.uk wrote:
> The problem is that setjmp and longjmp preserve the signal
> handling context, and any change in signal handling has to 
> be done on the machine that the R process started on. If the
> process has migrated there is some overhead as the remote 
> process communicates back to the original. Because R was
> doing so many setjmp/longjmp calls Mosix decided it wasn't
> worth migrating the process (even to a machine with twice
> the CPU power of the home node).
> 
> I solved the problem by redefining the SETJMP and LONGJMP
> macros in src/include/Defn.h to call _setjmp and _longjmp
> instead. These functions dont preserve the signal context.
> The result was an R executable that migrated and got 99.9%
> CPU time on the twice-as-powerful machine.
> 
>  But, you R-wizards out there, is there any side-effect of
> this change? The man page for setjmp says that the POSIX
> standard doesn't define whether or not the signal context
> is saved so hopefully not. True or false?
> 

POSIX is explicitly not specific about whether setjmp preserves the
signal mask.  On Red Hat prior to 5.0 it did; after 5.0 it did not.
The result: on 5.0 control-C would work exactly once per session.

To deal with this we changed to using sigsetjmp, which takes an
additional boolean argument that specifies whether the signal mask
should be saved or not.  We call it with TRUE to insure that the
signal mask is preserved.  If you want to insure that it is not, you
can change the macro SETJMP macro to call it with false (but you get
one shot at Control-C).

However, Thomas Lumley, who has been using R with Mosix, mentioned
that there is a way you can tell Mosix that it is OK to migrate an R
process even though it makes many of these system calls--I'm sure he
can provide the details of how to do this.

In the longer term it is likely that we will make changes to the
control flow in R that reduce the number of setjmp's and at the same
time we can avoid saving the signal mask and just restore it when we
know it has changed.

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Thomas.Bruns at ptb.de  Thu May  3 15:18:22 2001
From: Thomas.Bruns at ptb.de (Thomas Bruns)
Date: Thu, 03 May 2001 15:18:22 +0200
Subject: [R] Index vectors get overwriten ?!
References: <Pine.LNX.4.21.0105031522180.975-100000@reclus.nhh.no>
Message-ID: <3AF15A9E.79FCDF23@ptb.de>

Thanks a lot !

The problem was indeed the (old?) assignment operator "_" or my
unawareness of its existence!
The skript is running now as exspected :^)))

Thomas


-------------------------------------------------------
Dr. Thomas Bruns                  <thomas.bruns at ptb.de>

         Physikalisch-Technische Bundesanstalt 
                      Braunschweig
Fachlabor: 1.13
Bundesallee 100                   Tel: 0531/592 -  1132
D-38116 Braunschweig              Fax: 0531/592-69-1132
-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From B.Rowlingson at lancaster.ac.uk  Thu May  3 16:28:01 2001
From: B.Rowlingson at lancaster.ac.uk (B.Rowlingson@lancaster.ac.uk)
Date: Thu, 03 May 2001 15:28:01 +0100
Subject: [R] Running R under Mosix
References: <3AF12D55.540C67CA@lancs.ac.uk> <20010503085938.A1173@nokomis.stat.umn.edu>
Message-ID: <3AF16AF1.322ECD1E@lancs.ac.uk>

Luke Tierney wrote:

> Strange how these things go: we just had a discussion about this very
> issue among the R core group yesterday.

 Possibly because I brought it up on the Mosix list and the  
discussion migrated across? :)

> However, Thomas Lumley, who has been using R with Mosix, mentioned
> that there is a way you can tell Mosix that it is OK to migrate an R
> process even though it makes many of these system calls--I'm sure he
> can provide the details of how to do this.

 Yes, you can do 'mosrun -c R <args>', but you don't win. R still has
to make the system calls and they slow down the processing. Unless
you've
got a spare Mosix node that is over twice as fast as your home node
Mosix will keep it on the home node (with my test job, anyway).

> In the longer term it is likely that we will make changes to the
> control flow in R that reduce the number of setjmp's and at the same
> time we can avoid saving the signal mask and just restore it when we
> know it has changed.

 Great. setjmp/longjmp do my head in.

Barry
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu May  3 17:27:04 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 3 May 2001 08:27:04 -0700 (PDT)
Subject: [R] Running R under Mosix
In-Reply-To: <3AF16AF1.322ECD1E@lancs.ac.uk>
Message-ID: <Pine.A41.4.33.0105030819330.107948-100000@homer40.u.washington.edu>

On Thu, 3 May 2001 B.Rowlingson at lancaster.ac.uk wrote:

> Luke Tierney wrote:
>
> > Strange how these things go: we just had a discussion about this very
> > issue among the R core group yesterday.
>
>  Possibly because I brought it up on the Mosix list and the
> discussion migrated across? :)

Yes, via Tony Rossini

> > However, Thomas Lumley, who has been using R with Mosix, mentioned
> > that there is a way you can tell Mosix that it is OK to migrate an R
> > process even though it makes many of these system calls--I'm sure he
> > can provide the details of how to do this.
>
>  Yes, you can do 'mosrun -c R <args>', but you don't win. R still has
> to make the system calls and they slow down the processing. Unless
> you've
> got a spare Mosix node that is over twice as fast as your home node
> Mosix will keep it on the home node (with my test job, anyway).

It works for me. R processes that don't do much output migrate when I
start them with
   cpujob R args at least after a short initial period while the memory
manager is getting itself sorted. Presumably it's sensitive to other setup
features, load, phase of the moon, but in my case the home node is
slightly faster than any other node.

In any case, the only currently known bad effect of changing the
SETJMP/LONGJMP macros to setjmp/longjmp is that on some systems (including
Debian) CTRL-C will work only once per session.  For batch use this isn't
a problem, though for interactive use it is.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hstevens at rci.rutgers.edu  Thu May  3 20:01:28 2001
From: hstevens at rci.rutgers.edu (Martin Henry H. Stevens)
Date: Thu, 3 May 2001 14:01:28 -0400
Subject: [R] dataframe behavior
Message-ID: <004f01c0d3fb$13c4f1e0$9db9e6a5@rutgers.edu>

Windows98, Emacs20.7, ESS5.1.18

I recently constructing a data.frame "belle" that now does not spew its
contents when I type the name on the command line (see errors below). It
will only do so if I specify columns. Incidently, plot(belle) displays the
pairs plot of all variables.

> belle
Error in as.data.frame.default(x[[i]], optional = TRUE) :
 can't coerce array into a data.frame
> belle[,]
Error in [.data.frame(belle, , ) : Argument "j" is missing, with no default
> class(belle)
[1] "data.frame"
> belle[,1:3]
   block plot trt
1      2   25   9
2      2   26  16
3      2   27   6
..........

Any idea what is going on?
thanks

Dr. M. Henry H. Stevens
Postdoctoral Associate
Department of Ecology, Evolution, & Natural Resources
14 College Farm Road
Cook College, Rutgers University
New Brunswick, NJ 08901-8551

email: hstevens at rci.rutgers.edu
phone: 732-932-9631
fax: 732-932-8746

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu May  3 23:50:50 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 May 2001 23:50:50 +0200
Subject: [R] dataframe behavior
In-Reply-To: "Martin Henry H. Stevens"'s message of "Thu, 3 May 2001 14:01:28 -0400"
References: <004f01c0d3fb$13c4f1e0$9db9e6a5@rutgers.edu>
Message-ID: <x28zke3xvp.fsf@blueberry.kubism.ku.dk>

"Martin Henry H. Stevens" <hstevens at rci.rutgers.edu> writes:

> Windows98, Emacs20.7, ESS5.1.18
> 
> I recently constructing a data.frame "belle" that now does not spew its
> contents when I type the name on the command line (see errors below). It
> will only do so if I specify columns. Incidently, plot(belle) displays the
> pairs plot of all variables.
> 
> > belle
> Error in as.data.frame.default(x[[i]], optional = TRUE) :
>  can't coerce array into a data.frame
> > belle[,]
> Error in [.data.frame(belle, , ) : Argument "j" is missing, with no default
> > class(belle)
> [1] "data.frame"
> > belle[,1:3]
>    block plot trt
> 1      2   25   9
> 2      2   26  16
> 3      2   27   6
> ..........
> 
> Any idea what is going on?
> thanks

No, but you might get an idea by typing dput(belle) or unclass(belle)
or print.default(belle)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gulfie at mmcnet.com  Fri May  4 05:24:17 2001
From: gulfie at mmcnet.com (Gulfie)
Date: Thu, 03 May 2001 20:24:17 -0700
Subject: [R] instaling needs printenv on solaris 2.7
Message-ID: <3AF220E1.3856EBCD@mmcnet.com>


    To exicute 'make check' correctly there needs to be a printenv in
the path.  If you don't have /usr/ucb in your path you should probibly
put it there.


The errors:

<..>
collecting examples for package `base' ...
make[5]: Entering directory
`/apps/sm/SunOS/sun4u/5.7/data/stats/r/1.2.3/.src/R-1.2.3/src/library'
 >>> Building/Updating help pages for package `base'
     Formats: text example
make[5]: Leaving directory
`/apps/sm/SunOS/sun4u/5.7/data/stats/r/1.2.3/.src/R-1.2.3/src/library'
running code in base-Ex.R ...
../../bin/R --vanilla < base-Ex.R > base-Ex.Rout
sh: printenv: not found
<..>


    Just a helpfull hint.   I'm not framiliar enough (yet) with R to
know if this should be fixed in the ./configure stuff or not.


-gulfie

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May  4 07:56:46 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 4 May 2001 06:56:46 +0100 (BST)
Subject: [R] instaling needs printenv on solaris 2.7
In-Reply-To: <3AF220E1.3856EBCD@mmcnet.com>
Message-ID: <Pine.GSO.4.31.0105040652540.9095-100000@auk.stats>

On Thu, 3 May 2001, Gulfie wrote:

>
>     To exicute 'make check' correctly there needs to be a printenv in
> the path.  If you don't have /usr/ucb in your path you should probibly
> put it there.
>
>
> The errors:
>
> <..>
> collecting examples for package `base' ...
> make[5]: Entering directory
> `/apps/sm/SunOS/sun4u/5.7/data/stats/r/1.2.3/.src/R-1.2.3/src/library'
>  >>> Building/Updating help pages for package `base'
>      Formats: text example
> make[5]: Leaving directory
> `/apps/sm/SunOS/sun4u/5.7/data/stats/r/1.2.3/.src/R-1.2.3/src/library'
> running code in base-Ex.R ...
> ../../bin/R --vanilla < base-Ex.R > base-Ex.Rout
> sh: printenv: not found
> <..>
>
>
>     Just a helpfull hint.   I'm not framiliar enough (yet) with R to
> know if this should be fixed in the ./configure stuff or not.

It should be fixed in the example for tempfile, which would have been
better done by capturing the output as a vector (e.g. by
system(intern=TRUE)).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gco at eortc.be  Fri May  4 12:05:57 2001
From: gco at eortc.be (Gary Collins)
Date: Fri, 4 May 2001 12:05:57 +0200 
Subject: [R] R and Xemacs
Message-ID: <9180B261C5E0D411B22B0008C724AD36793A2F@frank.eortc.be>

Can anyone help with the following...?

I've just downloaded and installed Xemacs (version 21.1.9) for windows and I
would like to try and use it for R, so I've also downloaded ESS 5.1.18.
I've read the instructions on installation etc... with regards to ESS and
followed the steps for using Xemacs on windows 95. i.e. I've included the
path to the Rgui executable in my autoexec.bat file, I've added the line
(load "c:/ess-5.1.18/lisp/ess-site/") to my _emacs. Though I am no fully
sure where this file need to be, I've put it in the directory containing the
Xemacs executable and rebooted my pc. (I'm using R-1.2.3 as well for
windows)

I've then tried M-x R to get R up and running and nothing happens, all I get
is [no match]
I've scanned the various FAQ's and readme files, but they are relatively
unenlightnening.

As I've never used Emacs extensively before (as I usually use winedt or vi)
I'm not sure where to proceed from here.
Any tips?

Thanks
__________________________________________________
Gary S. Collins, PhD, 
Statistics Research Fellow,
Quality of Life Unit, 
European Organisation for Research and Treatment of Cancer, 
EORTC Data Center, 
Avenue E. Mounier 83, bte. 11,
B-1200 Brussels, Belgium.

Tel: +32 2 774 1 606
Fax: +32 2 779 4 568
Email: gco at eortc.be
http://www.eortc.be/home/qol/
__________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hstevens at rci.rutgers.edu  Fri May  4 15:36:10 2001
From: hstevens at rci.rutgers.edu (Martin Henry H. Stevens)
Date: Fri, 4 May 2001 09:36:10 -0400
Subject: [R] dataframe behavior
References: <004f01c0d3fb$13c4f1e0$9db9e6a5@rutgers.edu> <x28zke3xvp.fsf@blueberry.kubism.ku.dk>
Message-ID: <009401c0d49f$2e139de0$9db9e6a5@rutgers.edu>

Thanks for the prompting. I used unclass(belle) and found all kinds of wacky
attributes including rownames associated different variables. Although
class(belle) returned 'data.frame' is was sufficiently screwed up to behave
in an unusual manner.
My rather inelegant solution was:

 bm <- data.frame(matrix(as.numeric(as.matrix(belle)),nrow=48))
names(bdf) <- names(belle)

Henry

----- Original Message -----
From: "Peter Dalgaard BSA" <p.dalgaard at biostat.ku.dk>
To: "Martin Henry H. Stevens" <hstevens at rci.rutgers.edu>
Cc: <r-help at stat.math.ethz.ch>
Sent: Thursday, May 03, 2001 5:50 PM
Subject: Re: [R] dataframe behavior


> "Martin Henry H. Stevens" <hstevens at rci.rutgers.edu> writes:
>
> > Windows98, Emacs20.7, ESS5.1.18
> >
> > I recently constructing a data.frame "belle" that now does not spew its
> > contents when I type the name on the command line (see errors below). It
> > will only do so if I specify columns. Incidently, plot(belle) displays
the
> > pairs plot of all variables.
> >
> > > belle
> > Error in as.data.frame.default(x[[i]], optional = TRUE) :
> >  can't coerce array into a data.frame
> > > belle[,]
> > Error in [.data.frame(belle, , ) : Argument "j" is missing, with no
default
> > > class(belle)
> > [1] "data.frame"
> > > belle[,1:3]
> >    block plot trt
> > 1      2   25   9
> > 2      2   26  16
> > 3      2   27   6
> > ..........
> >
> > Any idea what is going on?
> > thanks
>
> No, but you might get an idea by typing dput(belle) or unclass(belle)
> or print.default(belle)
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.e.darnell at ncl.ac.uk  Fri May  4 16:21:53 2001
From: r.e.darnell at ncl.ac.uk (R.E. Darnell)
Date: 04 May 2001 15:21:53 +0100
Subject: [R] image legend
Message-ID: <dgkwv7x5h4u.fsf@velma.ncl.ac.uk>

I am trying to place a legend onto an image but the legend to
clipped/nonexitent outside the boundary of the image.  I am wanting to
place the legend where the main title normally would appear.

I would appreciate someone telling me why I cannot do this.  (Which
part of the help file I haven't read most likely)

Regards
Ross Darnell

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri May  4 18:40:55 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 4 May 2001 18:40:55 +0200
Subject: [R] image legend
In-Reply-To: <dgkwv7x5h4u.fsf@velma.ncl.ac.uk>
References: <dgkwv7x5h4u.fsf@velma.ncl.ac.uk>
Message-ID: <15090.56215.161559.715819@gargle.gargle.HOWL>

>>>>> "R" == R E Darnell <r.e.darnell at ncl.ac.uk> writes:

    R> I am trying to place a legend onto an image but the legend to
    R> clipped/nonexitent outside the boundary of the image.  I am wanting
    R> to place the legend where the main title normally would appear.

    R> I would appreciate someone telling me why I cannot do this.  (Which
    R> part of the help file I haven't read most likely)

maybe the "xpd" part of  ?par

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Fri May  4 19:39:38 2001
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Fri, 04 May 2001 13:39:38 -0400
Subject: [R] par('las') and par('mgp')
Message-ID: <3AF2E95A.13273CBF@virginia.edu>

In working with S-Plus I frequently found that when las=1
(always horizontal axis tick mark labels)
the middle value of mgp needs to be different for the
x- and y-axes.  For the future I would like to see something
like mgpx and mgpy which default to mgp, or optional 4th
and 5th elements of mgp.  I hope that R-core
will consider this or something similar to it.  Thanks -Frank
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mloftfld at u.washington.edu  Fri May  4 20:41:13 2001
From: mloftfld at u.washington.edu (Mary Loftfield)
Date: Fri, 04 May 2001 11:41:13 -0700
Subject: [R] help, what's CarbonLib 1.20?
Message-ID: <3AF2F7CA.48240F43@u.washington.edu>

Greetings,

I downloaded R for my mac from software, R binaries, rm123, base and
then downloaded "rm123.sit.hqx" Now, when I open R and try to type
anything in the blank,  I get a message that I need CarbonLib 1.20 or
newer to run R. Please tell me what this means and where to go to get
it.

By the way, when I type anything in and recieve the error message, R
will then refuse to close and the only way I can shut down my computer
is to force the program to quit.

Thanks, Mary Loftfield
University of Washington

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri May  4 20:59:53 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 4 May 2001 11:59:53 -0700 (PDT)
Subject: [R] help, what's CarbonLib 1.20?
In-Reply-To: <3AF2F7CA.48240F43@u.washington.edu>
Message-ID: <Pine.A41.4.33.0105041155530.8860-100000@homer31.u.washington.edu>

On Fri, 4 May 2001, Mary Loftfield wrote:

> Greetings,
>
> I downloaded R for my mac from software, R binaries, rm123, base and
> then downloaded "rm123.sit.hqx" Now, when I open R and try to type
> anything in the blank,  I get a message that I need CarbonLib 1.20 or
> newer to run R. Please tell me what this means and where to go to get
> it.

You can get it at
  http://asu.info.apple.com/swupdates.nsf/artnum/n11916

'Carbon' is the Apple codename for an API that allows developers to write
programs portable between MacOS 9 and X, as a transitional step to real
MacOS programs.

More useful information (including the above link) is in the rmac faq at
    http://www.eco-dip.unimi.it/R/rmac-FAQ.html
This faq was mentioned in the R-mac 1.2.3 announcement but not,
apparently, linked from CRAN.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Fri May  4 21:29:25 2001
From: znmeb at aracnet.com (M. Edward (Ed) Borasky)
Date: Fri, 4 May 2001 12:29:25 -0700 (PDT)
Subject: [R] Does R use the ATLAS linear algebra library?
In-Reply-To: <3AF2F7CA.48240F43@u.washington.edu>
Message-ID: <Pine.LNX.4.33.0105041227120.29855-100000@shell1.aracnet.com>

I was visiting the ATLAS home page and they claim that the R project uses
the ATLAS libraries. ATLAS is an adaptive linear algebra library. Is this true?
It would save me a *lot* of time if it is :-).
--

znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb

How to Stop A Folksinger Cold # 4
"Tie me kangaroo down, sport..."
Tie your own kangaroo down -- and stop calling me "sport"!

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Fri May  4 21:44:24 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 04 May 2001 12:44:24 -0700
Subject: [R] Does R use the ATLAS linear algebra library?
In-Reply-To: "M. Edward's message of "Fri, 4 May 2001 12:29:25 -0700 (PDT)"
References: <Pine.LNX.4.33.0105041227120.29855-100000@shell1.aracnet.com>
Message-ID: <87k83whpbb.fsf@jeeves.blindglobe.net>

>>>>> "MEB" == M Edward Borasky <M.> writes:


    MEB> I was visiting the ATLAS home page and they claim that the R
    MEB> project uses the ATLAS libraries. ATLAS is an adaptive linear
    MEB> algebra library. Is this true?  It would save me a *lot* of
    MEB> time if it is :-).  --

It definitely can be set up to use it.  I believe that the Debian
package requires (debian's package of) Atlas.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (friday is unknown) --------
FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri May  4 21:52:56 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 4 May 2001 12:52:56 -0700 (PDT)
Subject: [R] Does R use the ATLAS linear algebra library?
In-Reply-To: <Pine.LNX.4.33.0105041227120.29855-100000@shell1.aracnet.com>
Message-ID: <Pine.A41.4.33.0105041252160.8860-100000@homer31.u.washington.edu>

On Fri, 4 May 2001, M. Edward (Ed) Borasky wrote:

> I was visiting the ATLAS home page and they claim that the R project uses
> the ATLAS libraries. ATLAS is an adaptive linear algebra library. Is this true?
> It would save me a *lot* of time if it is :-).

./configure will detect and use ATLAS if it is present on your system.
ATLAS is not included with the R distribution, though.

	-thomas
Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Fri May  4 22:17:34 2001
From: aolinto at bignet.com.br (Antonio Olinto)
Date: Fri, 4 May 2001 17:17:34 -0300
Subject: [R] writing equations
References: <004f01c0d3fb$13c4f1e0$9db9e6a5@rutgers.edu> <x28zke3xvp.fsf@blueberry.kubism.ku.dk> <009401c0d49f$2e139de0$9db9e6a5@rutgers.edu>
Message-ID: <001401c0d4d7$a8601460$ae54fea9@nautilus>

Dear R-list members,

I have a data frame with two columns (X, Y). How can I write the following
equation (using nls)

log(X2/X1) ~ a + b * (Y1+Y2)/2 + c * (X1+X2)/2

To calculate the fitted values for each line (Xi) I have to use numbers in
consecutive lines (Xi, Xi+1, Yi and Yi+1).

Thanks,

Antonio Olinto



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From buerkla at uwec.edu  Fri May  4 23:36:40 2001
From: buerkla at uwec.edu (Alex Buerkle)
Date: Fri, 4 May 2001 16:36:40 -0500 (CDT)
Subject: [R] help, what's CarbonLib 1.20?
In-Reply-To: <3AF2F7CA.48240F43@u.washington.edu>
Message-ID: <Pine.LNX.4.33.0105041630360.7870-100000@tortoise.bio.uwec.edu>


A search on Apple's support site yielded the following:

CarbonLib 1.2 allows developers to write an application with one set
of sources deployed across both Mac OS 8.6, all Mac OS 9 releases and
Mac OS X systems with minimal effort. CarbonLib 1.2 has a number of
new features and updates to existing technologies. It also addresses
several outstanding customer issues.

This information was found at http://kbase.info.apple.com/cgi-bin/WebObjects/kbase.woa/wo/2.25.17.5.0.0.1.8

CarbonLib 1.2.5 can be downloaded from the following URL:
http://downloAd.info.apple.com/Apple_Support_Area/Apple_Software_Updates/English-North_American/Macintosh/System/Other_System/CarbonLib_1.2.5.smi.bin

By the way, while it probably wasn't critical in this instance, it would
be helpful if you indicate which version of the MacOS (or any OS for that
matter) you are using.

Regards, Alex


On Fri, 4 May 2001, Mary Loftfield wrote:

> Greetings,
>
> I downloaded R for my mac from software, R binaries, rm123, base and
> then downloaded "rm123.sit.hqx" Now, when I open R and try to type
> anything in the blank,  I get a message that I need CarbonLib 1.20 or
> newer to run R. Please tell me what this means and where to go to get
> it.
>
> By the way, when I type anything in and recieve the error message, R
> will then refuse to close and the only way I can shut down my computer
> is to force the program to quit.
>
> Thanks, Mary Loftfield
> University of Washington
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Sat May  5 00:20:53 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Sat, 5 May 2001 00:20:53 +0200
Subject: [R] Does R use the ATLAS linear algebra library?
In-Reply-To: <87k83whpbb.fsf@jeeves.blindglobe.net>
References: <Pine.LNX.4.33.0105041227120.29855-100000@shell1.aracnet.com>
	<87k83whpbb.fsf@jeeves.blindglobe.net>
Message-ID: <15091.11077.647415.494547@celeborn.leisch.at>

>>>>> On 04 May 2001 12:44:24 -0700,
>>>>> A J Rossini (AJR) wrote:

>>>>> "MEB" == M Edward Borasky <M.> writes:
  MEB> I was visiting the ATLAS home page and they claim that the R
  MEB> project uses the ATLAS libraries. ATLAS is an adaptive linear
  MEB> algebra library. Is this true?  It would save me a *lot* of
  MEB> time if it is :-).  --

  > It definitely can be set up to use it.  I believe that the Debian
  > package requires (debian's package of) Atlas.

yes, they do. (and R defaults to using atlas on debian if the package
is installed at compile time).

best,
fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sboker at mpipks-dresden.mpg.de  Sat May  5 00:30:35 2001
From: sboker at mpipks-dresden.mpg.de (Steven Boker)
Date: Sat, 5 May 2001 00:30:35 +0200
Subject: [R] writing equations
In-Reply-To: <001401c0d4d7$a8601460$ae54fea9@nautilus>
References: <004f01c0d3fb$13c4f1e0$9db9e6a5@rutgers.edu> <009401c0d49f$2e139de0$9db9e6a5@rutgers.edu> <001401c0d4d7$a8601460$ae54fea9@nautilus>
Message-ID: <01050500303500.30971@lolek.mpipks-dresden.mpg.de>

On Friday 04 May 2001 22:17, Antonio Olinto wrote:
> Dear R-list members,
>
> I have a data frame with two columns (X, Y). How can I write the following
> equation (using nls)
>
> log(X2/X1) ~ a + b * (Y1+Y2)/2 + c * (X1+X2)/2
>
> To calculate the fitted values for each line (Xi) I have to use numbers in
> consecutive lines (Xi, Xi+1, Yi and Yi+1).
>

What I do is build a lagged version of the data frame.  Since I tend to
use lagged data with different lags a lot, I'll generally predefine a lag
called tau (in your example tau=1) and then use it like so:

tau <- 1
theFrame <- data.frame(x1=X[1:(length(X)-tau)],
                       x2=X[(1+tau):length(X)],
                       y1=Y[1:(length(X)-tau)],
                       y2=Y[(1+tau):length(X)])

Now you can use these new lagged variables however you want in your formula.

Cheers,
Steve Boker
sboker at nd.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Sat May  5 05:20:08 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 04 May 2001 22:20:08 -0500
Subject: [R] Does R use the ATLAS linear algebra library?
In-Reply-To: <Pine.A41.4.33.0105041252160.8860-100000@homer31.u.washington.edu>
References: <Pine.A41.4.33.0105041252160.8860-100000@homer31.u.washington.edu>
Message-ID: <6rlmoc1nyv.fsf@franz.stat.wisc.edu>

Thomas Lumley <tlumley at u.washington.edu> writes:

> On Fri, 4 May 2001, M. Edward (Ed) Borasky wrote:
> 
> > I was visiting the ATLAS home page and they claim that the R project uses
> > the ATLAS libraries. ATLAS is an adaptive linear algebra library. Is this true?
> > It would save me a *lot* of time if it is :-).
> 
> ./configure will detect and use ATLAS if it is present on your system.
> ATLAS is not included with the R distribution, though.

The differences between ATLAS and regular BLAS are most noticeable
when working with large matrices and when using level 3 BLAS.

(The BLAS are Basic Linear Algebra Subroutines.  Level 1 BLAS are
vector-vector operations; level 2 are matrix-vector operations; and
level 3 are matrix-matrix operations.)

Current versions of R use only level 1 BLAS so using ATLAS does not
result in much of a speedup.  Today I did some experiments on the
development (1.3.0) version of R that involved replacing the internals
of the matrix multiplication operator and the crossprod function by a
call to a level 3 BLAS routine (dgemm).

The results are nothing short of astonishing.

Using R-1.2.2 (no level 3 BLAS but with ATLAS)

 > mm <- matrix(rnorm(10^6), ncol = 10^3)
 > dim(mm)
 [1] 1000 1000
 > gc()
           used (Mb) gc trigger (Mb)
 Ncells  174137  4.7     350000  9.4
 Vcells 1889966 14.5    3429835 26.2
 > system.time(mm %*% mm)
 [1] 59.07  0.04 69.32  0.00  0.00
 > system.time(crossprod(mm))
 [1] 25.76  0.02 30.27  0.00  0.00

Using R-1.3.0 with level 3 BLAS for %*% but without ATLAS

 > system.time(mm %*% mm)
 [1] 28.09  0.03 33.14  0.00  0.00
 > system.time(crossprod(mm))
 [1] 27.97  0.07 32.94  0.00  0.00

Using R-1.3.0 with level 3 BLAS for %*% and ATLAS

 > system.time(mm %*% mm)
 [1] 2.81 0.03 3.30 0.00 0.00
 > system.time(mm %*% mm)
 [1] 2.83 0.05 3.58 0.00 0.00
 > system.time(crossprod(mm))
 [1] 2.84 0.03 3.35 0.00 0.00

We see that using level 3 BLAS results in a 2-fold increase in speed
for %*% and slows crossprod a bit.  However, using level 3 BLAS
and ATLAS results in a 20-fold increase in speed for %*% and about a
10-fold increase in speed for crossprod.

Such speed increases are most noticeable for large matrices.  With
small matrices the time spend in "housekeeping" tasks dominates the
time spent in numerical calculation.

We will incorporate the level 3 BLAS into R-1.3.0.  If you have ATLAS
installed so it can be detected during the configuration of R it
should make linear algebra operations on large matrices faster.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Sat May  5 06:03:18 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 04 May 2001 23:03:18 -0500
Subject: [R] Does R use the ATLAS linear algebra library?
In-Reply-To: <6rlmoc1nyv.fsf@franz.stat.wisc.edu>
References: <Pine.A41.4.33.0105041252160.8860-100000@homer31.u.washington.edu>
	<6rlmoc1nyv.fsf@franz.stat.wisc.edu>
Message-ID: <6rbsp81lyx.fsf@franz.stat.wisc.edu>

I should have mentioned that my timings were done on a 900 MHz Athlon
processor running Debian GNU/Linux 2.3.  The system has 768 MB of
memory.

Apparently the optimizations used in ATLAS are particularly effective
on the Athlon.  Other processors may not show such dramatic speed
gains.

I did not compile ATLAS for this machine.  I used the Debian atlas2
package which, according to the documentation, was optimized for a
Pentium II (350 MHz).  There may be some modest gains achieved by
recompiling.  I tried to recompile from the sources but the Debian
package build failed and it is too late at night to start working on
why it failed.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Sat May  5 07:10:48 2001
From: znmeb at aracnet.com (M. Edward Borasky)
Date: Fri, 4 May 2001 22:10:48 -0700
Subject: [R] Does R use the ATLAS linear algebra library?
In-Reply-To: <6rbsp81lyx.fsf@franz.stat.wisc.edu>
Message-ID: <HBEHIIBBKKNOBLMPKCBBGEBKDFAA.znmeb@aracnet.com>

Thanks for all your help on this!! I'm getting a 1.333 GHz Athlon tomorrow,
so I'll have a chance to test out some of this magic for myself. BTW, I'm
also going to test out FFTW from http://www.fftw.org/; it looks good on
paper, and if there are FFTs in R, it might be worth looking at.
--
M. Edward (Ed) Borasky, Chief Scientist, Borasky Research
http://www.borasky-research.net  http://www.aracnet.com/~znmeb
mailto:znmeb at borasky-research.com  mailto:znmeb at aracnet.com

If there's nothing to astrology, how come so many famous men were born on
holidays?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Sat May  5 17:39:34 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Sat, 5 May 2001 11:39:34 -0400 (EDT)
Subject: [R] naming data.frames after their source file
Message-ID: <Pine.GSO.4.04.10105051133500.26286-100000@julius.ling.ohio-state.edu>


Hello R-list,

I have a batch of files that I want to turn into R data.frames for
analysis. I'd like to use a for loop to read.table into data frame and
name the data.frame after the source file. Here's the code I've tried:

files_list.files(".")
for(i in 1:length(list.files("."))-1){
parse(text=files[i])[[1]]_read.table(files[i],as.is=TRUE)
}

AFIK, the problem lies in the way I'm trying to name the data.frame.
I have spent some time pouring over the R documentation, but if the answer
was there I missed it. Any reference to the manuals or quick fix would be
appreciated.

David

S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Sat May  5 17:53:57 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Sat, 5 May 2001 23:53:57 +0800
Subject: [R] FFTW (Was: [R] Does R use the ATLAS linear algebra library?)
In-Reply-To: <HBEHIIBBKKNOBLMPKCBBGEBKDFAA.znmeb@aracnet.com>; from znmeb@aracnet.com on Fri, May 04, 2001 at 10:10:48PM -0700
References: <6rbsp81lyx.fsf@franz.stat.wisc.edu> <HBEHIIBBKKNOBLMPKCBBGEBKDFAA.znmeb@aracnet.com>
Message-ID: <20010505235357.A7578@camille.indigoindustrial.co.nz>

> I'm
> also going to test out FFTW from http://www.fftw.org/; it looks good on
> paper, and if there are FFTs in R, it might be worth looking at.

FFTW is quite good.  Haven't got my benchmarks handy, but it is a 
noticible speedup, and it doesn't zero-pad.  The most obvious result
of not zero-padding is on the extreme frequencies (close to 0 or 0.5 
times the sampling frequency).  However, I believe the setup for 
comutation is different enough from what R uses internally that 
you'd have to set up another fft() and mvfft(), and load that in 
a library higher on the search path than "base".  Anyone done this, 
or something like it?

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat May  5 18:25:47 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 05 May 2001 18:25:47 +0200
Subject: [R] naming data.frames after their source file
References: <Pine.GSO.4.04.10105051133500.26286-100000@julius.ling.ohio-state.edu>
Message-ID: <3AF4298B.4A881062@statistik.uni-dortmund.de>

David White wrote:
> 
> Hello R-list,
> 
> I have a batch of files that I want to turn into R data.frames for
> analysis. I'd like to use a for loop to read.table into data frame and
> name the data.frame after the source file. Here's the code I've tried:
> 
> files_list.files(".")
> for(i in 1:length(list.files("."))-1){
> parse(text=files[i])[[1]]_read.table(files[i],as.is=TRUE)
> }


If you really want to use the filenames, be sure these filenames are
also valid names in R!

  assign(eval(files[i]), read.table(files[i], as.is = TRUE))


In most cases it is much easier to use a list of data.frames:

  my.data[[i]] <- read.table(files[i], as.is=TRUE)


> AFIK, the problem lies in the way I'm trying to name the data.frame.
> I have spent some time pouring over the R documentation, but if the answer
> was there I missed it. Any reference to the manuals or quick fix would be
> appreciated.


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hkawakat at shako.sk.tsukuba.ac.jp  Sun May  6 09:19:00 2001
From: hkawakat at shako.sk.tsukuba.ac.jp (Hiroyuki Kawakatsu)
Date: Sun, 06 May 2001 16:19:00 +0900 (JST)
Subject: [R] legend/text in time series plot
Message-ID: <20010506.161900.91279623.hkawakat@shakosv.sk.tsukuba.ac.jp>

hi,

i need help on placing legend/text in a time series plot. here is what
i am doing (i am using rw1022 on windoze 2000):

#read data file
gdpn <- scan("jngdpsa.dat", list(year=0, qtr=0, gdp=0));
gdpr <- scan("jrgdpsa.dat", list(year=0, qtr=0, gdp=0));

#convert to time series object
gdpn <- ts(gdpn$gdp, frequency=4, start=c(1955,2));
gdpr <- ts(gdpr$gdp, frequency=4, start=c(1955,2));

#plot two gdp time series in one graph
postscript("fig2-1j.eps", horizontal=FALSE, onefile=FALSE, height=5, width=6);
plot(gdpn, col="red", xlab="", ylab="", type="l");
text(75, 500, labels="Nominal", col="red");
lines(gdpr, col=c("blue"));
text(30, 1300, labels="Real", col="blue");
dev.off();

#end of code

the problem, of course, is that the text() function is not putting any
text in the plot. if i run this code *without* converting to time
series objects, the texts are placed as intended. i first tried
calling legend() on the time series plot and it also does not put any
legends. so my question is how can i put text/legend in a time series
plot? obviously there is a problem of how to specify the x coordinate
in a time series plot since the horizontal axis is time. if i call
par("usr"), it appears that the plotting coordinate is between 0 and
1. however, even if i specify the position as (0.5,0.5), the text
still does not appear in the graph. any help is appreciated.

h.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun May  6 11:27:13 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 06 May 2001 11:27:13 +0200
Subject: [R] legend/text in time series plot
References: <20010506.161900.91279623.hkawakat@shakosv.sk.tsukuba.ac.jp>
Message-ID: <3AF518F1.725970A3@statistik.uni-dortmund.de>

Hiroyuki Kawakatsu wrote:
> 
> hi,
> 
> i need help on placing legend/text in a time series plot. here is what
> i am doing (i am using rw1022 on windoze 2000):
> 
> #read data file
> gdpn <- scan("jngdpsa.dat", list(year=0, qtr=0, gdp=0));
> gdpr <- scan("jrgdpsa.dat", list(year=0, qtr=0, gdp=0));
> 
> #convert to time series object
> gdpn <- ts(gdpn$gdp, frequency=4, start=c(1955,2));
> gdpr <- ts(gdpr$gdp, frequency=4, start=c(1955,2));
> 
> #plot two gdp time series in one graph
> postscript("fig2-1j.eps", horizontal=FALSE, onefile=FALSE, height=5, width=6);
> plot(gdpn, col="red", xlab="", ylab="", type="l");
> text(75, 500, labels="Nominal", col="red");
> lines(gdpr, col=c("blue"));
> text(30, 1300, labels="Real", col="blue");
> dev.off();
> 
> #end of code
> 
> the problem, of course, is that the text() function is not putting any
> text in the plot. if i run this code *without* converting to time
> series objects, the texts are placed as intended. i first tried
> calling legend() on the time series plot and it also does not put any
> legends. so my question is how can i put text/legend in a time series
> plot? obviously there is a problem of how to specify the x coordinate
> in a time series plot since the horizontal axis is time. if i call
> par("usr"), it appears that the plotting coordinate is between 0 and
> 1. however, even if i specify the position as (0.5,0.5), the text
> still does not appear in the graph. any help is appreciated.


So x- AND y-coords are within par("usr")?

Just taking the first example from ?ts and adding "Hello World" or a
legend works fine:

  my.ts <- ts(1:10, frequency = 4, start = c(1959, 2)) 
  plot(my.ts)
  par("usr")
# [1] 1959.16 1961.59    0.64   10.36
  text(1960, 5, "Hello World")
  legend(1960, 6, legend="My legend")


If you don't get the point, can you provide a reproduceable example (but
not a large dataset, please)?

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mwang at mindspring.com  Sun May  6 15:17:46 2001
From: mwang at mindspring.com (Michael Wang)
Date: Sun, 6 May 2001 09:17:46 -0400
Subject: [R] deriv3 example on Venables/Ripley page 263
Message-ID: <20010506091746.A11569@mindspring.com>

What does it require to run the example on page 263
of Venables/Ripley book using R 1.3.0?

I got the following error and I have no clue how to correct it.

Thank you very much. (If you reply to the list, please send a
copy to me.)

> lmix2 <- deriv3(
+ ~ -log(p*dnorm((x-u1)/s1)/s1 + (1-p)*dnorm((x-u2)/s2)/s2),
+ c("p", "u1", "s1", "u2", "s2"),
+ function(x, p, u1, s1, u2, s2) NULL)

Error in deriv3.formula(~-log(p * dnorm((x - u1)/s1)/s1 + (1 - p) * dnorm((x -  : 

        Function H is not in the derivatives table
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun May  6 16:03:11 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 6 May 2001 15:03:11 +0100 (BST)
Subject: [R] deriv3 example on Venables/Ripley page 263
In-Reply-To: <20010506091746.A11569@mindspring.com>
Message-ID: <Pine.LNX.4.31.0105061455001.7260-100000@gannet.stats>

On Sun, 6 May 2001, Michael Wang wrote:

> What does it require to run the example on page 263
> of Venables/Ripley book using R 1.3.0?

Time travel and a large dose of optimism!

1) R 1.3.0 is not released, and it is certainly not finished yet.

2) Its deriv3 function is not compatible with that in the S-PLUS MASS
library, in particular it is not currently user-extensible as the V&R
version is.

3) The S-PLUS library MASS contains extensions to the engine behind
S's deriv and MASS's deriv3 to cover this example.  If by release time
R's equivalents are user-extensible it would need the extensions to be
written.

> I got the following error and I have no clue how to correct it.
>
> Thank you very much. (If you reply to the list, please send a
> copy to me.)
>
> > lmix2 <- deriv3(
> + ~ -log(p*dnorm((x-u1)/s1)/s1 + (1-p)*dnorm((x-u2)/s2)/s2),
> + c("p", "u1", "s1", "u2", "s2"),
> + function(x, p, u1, s1, u2, s2) NULL)
>
> Error in deriv3.formula(~-log(p * dnorm((x - u1)/s1)/s1 + (1 - p) * dnorm((x -  :
>
>         Function H is not in the derivatives table
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Sun May  6 17:26:30 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Sun, 6 May 2001 11:26:30 -0400 (EDT)
Subject: [R] how to use by() and hist()
Message-ID: <Pine.GSO.4.04.10105061115130.14234-100000@julius.ling.ohio-state.edu>


Hello,

I'm using R 1.2.2 on Sun Solaris.

I have  data frame with 4 levels of factor "type". See the example data
frame below.
     type            token     variance
20   ku n031ku10.10msmeanc  77199422
21   ku n031ku11.10msmeanc  55682249
22   ku n031ku12.10msmeanc  52003965
23   ti n031ti01.10msmeanc  54511040
24   ti n031ti02.10msmeanc  58940197
25   ti n031ti03.10msmeanc  46918442

I'd like to plot histograms by token type as listed in column 1 above.
I tried
by(allvariances[,3], allvariances[,1], hist)
this worked well, but provided histograms with different numbers of bins
for each token type.

I also tried 
 by(allvariances[,3], allvariances[,1], hist(breaks=4))
to specify the number of bins. Hist then complained that I had not
specified a value for the data to be plotted.

Can anyone offer any pointers?

A related question: I'd like to see subsets of the data based on the
levels of factor "type". So in the example above, I'd like see, say, all
observations of type "tu". Any pointers on how to do that?

Thanks,

David

S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun May  6 18:07:46 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 6 May 2001 17:07:46 +0100 (BST)
Subject: [R] how to use by() and hist()
In-Reply-To: <Pine.GSO.4.04.10105061115130.14234-100000@julius.ling.ohio-state.edu>
Message-ID: <Pine.GSO.4.31.0105061704070.5150-100000@toucan.stats>

On Sun, 6 May 2001, David White wrote:

>
> Hello,
>
> I'm using R 1.2.2 on Sun Solaris.
>
> I have  data frame with 4 levels of factor "type". See the example data
> frame below.
>      type            token     variance
> 20   ku n031ku10.10msmeanc  77199422
> 21   ku n031ku11.10msmeanc  55682249
> 22   ku n031ku12.10msmeanc  52003965
> 23   ti n031ti01.10msmeanc  54511040
> 24   ti n031ti02.10msmeanc  58940197
> 25   ti n031ti03.10msmeanc  46918442
>
> I'd like to plot histograms by token type as listed in column 1 above.
> I tried
> by(allvariances[,3], allvariances[,1], hist)
> this worked well, but provided histograms with different numbers of bins
> for each token type.
>
> I also tried
>  by(allvariances[,3], allvariances[,1], hist(breaks=4))
> to specify the number of bins. Hist then complained that I had not
> specified a value for the data to be plotted.

by(allvariances[,3], allvariances[,1], function(x) hist(x, breaks=4))

or

by(allvariances[,3], allvariances[,1], hist, breaks=4)

(see the documentation of the ... argument in ?hist).


> Can anyone offer any pointers?
>
> A related question: I'd like to see subsets of the data based on the
> levels of factor "type". So in the example above, I'd like see, say, all
> observations of type "tu". Any pointers on how to do that?

Just index the data frame, for example

allvariances[allvariances$type %in% "tu", ]

(The reason for not using == is the handling of missing values.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Mon May  7 03:39:20 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Sun, 6 May 2001 21:39:20 -0400 (EDT)
Subject: [R] unexpected breaks in hist
Message-ID: <Pine.GSO.4.04.10105062129190.22123-100000@julius.ling.ohio-state.edu>


Hello R-list,


I've been using hist to plot histograms of some data, but I get variable
numbers of bins. I understood from reading the help file that breaks will
set the number of bins. Please correct me if I'm wrong.
I'm plotting measures from subsets of a larger data set. Depending on the
data subset the number of bins varies despite having set breaks to 5 in
all cases.

See commands below. (BTW I'm using R1.2.2 on SunSolaris)

Thanks,

David

hist(allvariances[allvariances$type %in% "ku",3], breaks=5, main="ku
variance histogram")
    par(new=FALSE)
    hist(allvariances[allvariances$type %in% "ki",3], breaks=5, main="ki
variance histogram")
    par(new=FALSE)
    hist(allvariances[allvariances$type %in% "tu",3], breaks=5, main="tu
variance histogram")
    par(new=FALSE)
    hist(allvariances[allvariances$type %in% "ti",3], breaks=5, main="ti
variance histogram")


S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Mon May  7 04:43:21 2001
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Mon, 7 May 2001 14:43:21 +1200
Subject: [R] unexpected breaks in hist
References: <Pine.GSO.4.04.10105062129190.22123-100000@julius.ling.ohio-state.edu>
Message-ID: <010c01c0d69f$7ae906d0$175dd882@stat.auckland.ac.nz>

Hi


> I've been using hist to plot histograms of some data, but I get variable
> numbers of bins. I understood from reading the help file that breaks will
> set the number of bins. Please correct me if I'm wrong.
> I'm plotting measures from subsets of a larger data set. Depending on the
> data subset the number of bins varies despite having set breaks to 5 in
> all cases.


The crucial part of the help is the word "approximate" ...

  breaks: either a single number giving the approximate number of cells
          for the histogram or a vector giving the breakpoints between
          histogram cells.

... R takes your suggestion for the number of bins and modifies it if
necessary to produce a "nice" number of bins.

You can have exact control over the number of bins if you give the bin
breaks.  For example, compare ...

    par(mfrow=c(2,2))
    for (i in 1:4)
        hist(rnorm(50), breaks=4)  # sometimes 6 bins, sometimes 5 bins, ...

... with ...

    par(mfrow=c(2,2))
    for (i in 1:4)
        hist(rnorm(50), breaks=c(-4,-2,0,2,4)) # always 4 bins

Hope that helps

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Mon May  7 04:30:48 2001
From: pauljohn at ukans.edu (pauljohn@ukans.edu)
Date: Sun, 06 May 2001 21:30:48 -0500
Subject: [R] semi-parametric (partial linear?) regression
Message-ID: <3AF608D8.7226C272@ukans.edu>

I just heard a talk about a semi-parametric model.  I was quite excited
by the idea. This model is fitted

y= xB + g(z) + e

where x is a data matrix, B a column vector, z is another data matrix,
and g is a smooth model fitted by a Kernel Smoothing regression (I got
the idea any smoother would do as well).

The speaker said that when z is considered as a "control" variable, and
there is no reason to assume linearity, then one can estimate this model
and the B estimates are (in some sense I cannot say exactly) better,
perhaps converging more quickly to the true value as the sample size
increases.

I got interested in doing this and wondered if in R it is possible.  In
R's MASS package I find the modreg library, which has several smoothing
tools, but I don't find a way to estimate B at the same time. 
(Incidentally, I'm rather overwhelmed by the many different flavors of
smoothers!) 

Does an R package exist for estimating this semi-parametric model?  

If this is a bad idea, you can tell me, my feelings won't be hurt :)

pj

ps. I just found that SAS has at least one procedure for this, called
tpsplines (thin-plate splines), so I know I wasn't misunderstanding this
fellow's lecture.
-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arb.eu at adia.co.ae  Mon May  7 07:32:49 2001
From: arb.eu at adia.co.ae (Arjun Bhandari)
Date: Mon, 7 May 2001 09:32:49 +0400
Subject: [R] Help on adding a new package
Message-ID: <OFD8FFEAED.41112A74-ON44256A45.001E5593@adiaweb.adia.co.ae>

Hello,

I am new to the R environment and would like to use some of the code which
has been written for S plus. However, when I make a call to the function it
says 'function' not found. Can someone help me as to how I can include such
routines or functions so that R recognises them when it starts.

Best Regards
Arjun Bhandari




********************************************************************************
The contents of this mail are personal opinions of the Author.
ADIA disclaims all responsibility and accepts no liability, whatsoever.
********************************************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May  7 08:07:16 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 7 May 2001 07:07:16 +0100 (BST)
Subject: [R] semi-parametric (partial linear?) regression
In-Reply-To: <3AF608D8.7226C272@ukans.edu>
Message-ID: <Pine.GSO.4.31.0105070705370.14944-100000@auk.stats>

On Sun, 6 May 2001 pauljohn at ukans.edu wrote:

> I just heard a talk about a semi-parametric model.  I was quite excited
> by the idea. This model is fitted
>
> y= xB + g(z) + e
>
> where x is a data matrix, B a column vector, z is another data matrix,
> and g is a smooth model fitted by a Kernel Smoothing regression (I got
> the idea any smoother would do as well).
>
> The speaker said that when z is considered as a "control" variable, and
> there is no reason to assume linearity, then one can estimate this model
> and the B estimates are (in some sense I cannot say exactly) better,
> perhaps converging more quickly to the true value as the sample size
> increases.
>
> I got interested in doing this and wondered if in R it is possible.  In
> R's MASS package I find the modreg library, which has several smoothing

You don't!  modreg is a package in R (although mainly implemented by the R
of V&R's MASS package).

> tools, but I don't find a way to estimate B at the same time.
> (Incidentally, I'm rather overwhelmed by the many different flavors of
> smoothers!)
>
> Does an R package exist for estimating this semi-parametric model?

mgcv, gss, sm, ...


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Mon May  7 12:24:29 2001
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Mon, 7 May 2001 20:24:29 +1000 (EST)
Subject: [R] Symbolic substitution of expressions into expressions
Message-ID: <200105071024.UAA03194@leonard.anu.edu.au>

In the following

titletxt <- substitute(paste(tx, tilde(y) == sqrt(y)),
  list(tx="Replace y by "))

I'd like to be able to replace e.g. sqrt(y) by a symbol or
symbolic expression that has the effect of inserting sqrt(y)
into the place that it occupies.  This would allow me to put an
arbitrary expression into that position.  [One can use text() or
mtext() etc. to place titletxt on a graph.]

Any clues would be most welcome.
John Maindonald.
John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6125)3998        
c/o CMA, SMS,                 fax   : (6125)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mathieu at lecastor.net  Mon May  7 13:12:52 2001
From: mathieu at lecastor.net (Mathieu Ros)
Date: Mon,  7 May 2001 13:12:52 +0200 (MEST)
Subject: [R] postscript problem
Message-ID: <15094.33376.984194.611017@autan.toulouse.inra.fr>

hello all,
when trying to produce a plot with the following code

postscript("g6-5000-0705-b.ps")
par(mfrow=c(4,1))
for (i in 1:4) {
  somc<-cumsum(betaC[,i])/c(1:N)
  plot(somc,ylim=c(min(somc),max(somc)));
}
dev.off()

I get a postscript file g6-5000-0705-b.ps, but if I try to open it
with ghostscript, or to convert it to pdf, I get the following error :

Error: /invalidfont in findfont
Operand stack:
   Helvetica   Font   Helvetica   236270   Helvetica   --nostringval--   Courier   NimbusMonL-Regu
Execution stack:
   %interp_exit   .runexec2   --nostringval--   --nostringval--   --nostringval--   2   %stopped_push   --nostringval--   --nostringval--   --nostringval--   false   1   %stopped_push   1   3   %oparray_pop   .runexec2   --nostringval--   --nostringval--   --nostringval--   2   %stopped_push   --nostringval--   1   3   %oparray_pop   2   3   %oparray_pop   --nostringval--   --nAladdin Ghostscript 6.0: Unrecoverable error, exit code 1
ostringval--   --nostringval--   --nostringval--   --nostringval--   false   1   %stopped_push   5   4   %oparray_pop   --nostringval--   --nostringval--   --nostringval--   1   -1   1   --nostringval--   %for_neg_int_continue   --nostringval--   --nostringval--
Dictionary stack:
   --dict:946/983(ro)(G)--   --dict:0/20(G)--   --dict:90/200(L)--   --dict:16/24(G)--   --dict:946/983(ro)(G)--
Current allocation mode is local
Last OS error: 2
Current file position is 1105
Error: PostScript interpreter failed in main window.


Any idea of what's happening ?
thanks,
 Mathieu

-- 
Mathieu Ros
DEA Math?matiques Appliqu?es
Laboratoire de G?n?tique Cellulaire
INRA-Toulouse [05 6128 5119]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Mon May  7 13:08:34 2001
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Mon, 07 May 2001 12:08:34 +0100
Subject: [R] gss package - predict.ssanova
Message-ID: <3AF68231.55FA9F03@ipimar.pt>

Hi

I'm using the gss package to fit thin plate splines. I've fitted the tps
without problems and got a ssanova object. Then I wanted to do some
prediction using a new set of data (latlon data) and I got an error
message:

> predict.ssanova(recs.spliney,recn.grid,se.fit=FALSE)
Error in array(x, c(length(x), 1), if (!is.null(names(x)))
list(names(x),  :
        attempt to set an attribute on NULL

Can someone help me with this ?

Thanks

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon May  7 14:16:00 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 May 2001 14:16:00 +0200
Subject: [R] Symbolic substitution of expressions into expressions
In-Reply-To: John Maindonald's message of "Mon, 7 May 2001 20:24:29 +1000 (EST)"
References: <200105071024.UAA03194@leonard.anu.edu.au>
Message-ID: <x2oft5cq2m.fsf@blueberry.kubism.ku.dk>

John Maindonald <john.maindonald at anu.edu.au> writes:

> In the following
> 
> titletxt <- substitute(paste(tx, tilde(y) == sqrt(y)),
>   list(tx="Replace y by "))
> 
> I'd like to be able to replace e.g. sqrt(y) by a symbol or
> symbolic expression that has the effect of inserting sqrt(y)
> into the place that it occupies.  This would allow me to put an
> arbitrary expression into that position.  [One can use text() or
> mtext() etc. to place titletxt on a graph.]
> 
> Any clues would be most welcome.

titletxt <- substitute(paste(tx, tilde(y) == my.y),
   list(tx="Replace y by ",my.y=quote(sqrt(y))))


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May  7 14:35:13 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 7 May 2001 13:35:13 +0100 (BST)
Subject: [R] postscript problem
In-Reply-To: <15094.33376.984194.611017@autan.toulouse.inra.fr>
Message-ID: <Pine.LNX.4.31.0105071333060.16298-100000@gannet.stats>

On Mon, 7 May 2001, Mathieu Ros wrote:

> hello all,
> when trying to produce a plot with the following code
>
> postscript("g6-5000-0705-b.ps")
> par(mfrow=c(4,1))
> for (i in 1:4) {
>   somc<-cumsum(betaC[,i])/c(1:N)
>   plot(somc,ylim=c(min(somc),max(somc)));
> }
> dev.off()
>
> I get a postscript file g6-5000-0705-b.ps, but if I try to open it
> with ghostscript, or to convert it to pdf, I get the following error :
>
> Error: /invalidfont in findfont
> Operand stack:
>    Helvetica   Font   Helvetica   236270   Helvetica   --nostringval--   Courier   NimbusMonL-Regu
> Execution stack:
>    %interp_exit   .runexec2   --nostringval--   --nostringval--   --nostringval--   2   %stopped_push   --nostringval--   --nostringval--   --nostringval--    false   1   %stopped_push   1   3   %oparray_pop   .runexec2   --nostringval--   --nostringval--   --nostringval--   2   %stopped_push   --nostringval--   1   3   %oparray_pop   2   3   %oparray_pop   --nostringval--   --nAladdin Ghostscript 6.0: Unrecoverable error, exit code 1
> ostringval--   --nostringval--   --nostringval--   --nostringval--   false   1   %stopped_push   5   4   %oparray_pop   --nostringval--    --nostringval--   --nostringval--   1   -1   1   --nostringval--   %for_neg_int_continue   --nostringval--   --nostringval--
> Dictionary stack:
>    --dict:946/983(ro)(G)--   --dict:0/20(G)--   --dict:90/200(L)--   --dict:16/24(G)--   --dict:946/983(ro)(G)--
> Current allocation mode is local
> Last OS error: 2
> Current file position is 1105
> Error: PostScript interpreter failed in main window.
>
>
> Any idea of what's happening ?

No, but then there is too little here to go on: no R version, no
reproducible example ....

Just one idea: gs 6.0 was one of the least reliable recent versions.
Try upgrading to at least 6.01.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mathieu at lecastor.net  Mon May  7 16:01:52 2001
From: mathieu at lecastor.net (Mathieu Ros)
Date: Mon,  7 May 2001 16:01:52 +0200 (MEST)
Subject: [R] postscript problem
In-Reply-To: <Pine.LNX.4.31.0105071333060.16298-100000@gannet.stats>
References: <15094.33376.984194.611017@autan.toulouse.inra.fr>
	<Pine.LNX.4.31.0105071333060.16298-100000@gannet.stats>
Message-ID: <15094.41617.48265.604236@autan.toulouse.inra.fr>

>>>>> "PBR" == Prof Brian Ripley <ripley at stats.ox.ac.uk> disait:

    PBR> On Mon, 7 May 2001, Mathieu Ros wrote:
    >> hello all, when trying to produce a plot with the following
    >> code
    >> 
    >> postscript("g6-5000-0705-b.ps") par(mfrow=c(4,1)) for (i in
    >> 1:4) { somc<-cumsum(betaC[,i])/c(1:N)
    >> plot(somc,ylim=c(min(somc),max(somc))); } dev.off()
    >> 
    >> I get a postscript file g6-5000-0705-b.ps, but if I try to open
    >> it with ghostscript, or to convert it to pdf, I get the
    >> following error :
    >> 
    >> Error: /invalidfont in findfont Operand stack: Helvetica Font
    >> Helvetica 236270 Helvetica --nostringval-- Courier
    >> NimbusMonL-Regu Execution stack: %interp_exit .runexec2
    >> --nostringval-- --nostringval-- --nostringval-- 2 %stopped_push
    >> --nostringval-- --nostringval-- --nostringval-- false 1
    >> %stopped_push 1 3 %oparray_pop .runexec2 --nostringval--
    >> --nostringval-- --nostringval-- 2 %stopped_push --nostringval--
    >> 1 3 %oparray_pop 2 3 %oparray_pop --nostringval-- --nAladdin
    >> Ghostscript 6.0: Unrecoverable error, exit code 1 ostringval--
    >> --nostringval-- --nostringval-- --nostringval-- false 1
    >> %stopped_push 5 4 %oparray_pop --nostringval-- --nostringval--
    >> --nostringval-- 1 -1 1 --nostringval-- %for_neg_int_continue
    >> --nostringval-- --nostringval-- Dictionary stack:
    >> --dict:946/983(ro)(G)-- --dict:0/20(G)-- --dict:90/200(L)--
    >> --dict:16/24(G)-- --dict:946/983(ro)(G)-- Current allocation
    >> mode is local Last OS error: 2 Current file position is 1105
    >> Error: PostScript interpreter failed in main window.
    >> 
    >> 
    >> Any idea of what's happening ?

    PBR> No, but then there is too little here to go on: no R version,
    PBR> no reproducible example ....

Sorry :|

version :
         _                   
platform sparc-sun-solaris2.8
arch     sparc               
os       solaris2.8          
system   sparc, solaris2.8   
status                       
major    1                   
minor    2.2                 
year     2001                
month    02                  
day      26                  
language R 

example :
    
postscript("pipo.ps")
pipo<-matrix(c(1:12),ncol=4)
par(mfrow=c(1,4))
for (i in 1:4){ plot(pipo[,i])}
dev.off()


    PBR> Just one idea: gs 6.0 was one of the least reliable recent
    PBR> versions.  Try upgrading to at least 6.01.

well, there's problems with translation from ps to pdf too, so I don't 
think ghostscript matters (?).

thanks for your reply, 
 Mathieu
 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon May  7 16:33:23 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 May 2001 16:33:23 +0200
Subject: [R] postscript problem
In-Reply-To: Mathieu Ros's message of "Mon,  7 May 2001 16:01:52 +0200 (MEST)"
References: <15094.33376.984194.611017@autan.toulouse.inra.fr> <Pine.LNX.4.31.0105071333060.16298-100000@gannet.stats> <15094.41617.48265.604236@autan.toulouse.inra.fr>
Message-ID: <x2itjdcjpo.fsf@blueberry.kubism.ku.dk>

Mathieu Ros <mathieu at lecastor.net> writes:


> Sorry :|
> 
> version :
>          _                   
> platform sparc-sun-solaris2.8
> arch     sparc               
> os       solaris2.8          
> system   sparc, solaris2.8   
> status                       
> major    1                   
> minor    2.2                 
> year     2001                
> month    02                  
> day      26                  
> language R 
> 
> example :
>     
> postscript("pipo.ps")
> pipo<-matrix(c(1:12),ncol=4)
> par(mfrow=c(1,4))
> for (i in 1:4){ plot(pipo[,i])}
> dev.off()
> 
> 
>     PBR> Just one idea: gs 6.0 was one of the least reliable recent
>     PBR> versions.  Try upgrading to at least 6.01.
> 
> well, there's problems with translation from ps to pdf too, so I don't 
> think ghostscript matters (?).

I think pstopdf and friends call ghostscript internally, so...

Works fine for me on Sol2.7 with R 1.2.3 and an ancient version of gv.
It seems to be complaining about not being able to find the Helvetica
font, which should be present on a proper Ghostscript installation.
Did you by any chance forget to install the ghostscript-fonts package?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From B.Rowlingson at lancaster.ac.uk  Mon May  7 16:33:06 2001
From: B.Rowlingson at lancaster.ac.uk (B.Rowlingson@lancaster.ac.uk)
Date: Mon, 07 May 2001 15:33:06 +0100
Subject: [R] postscript problem
References: <15094.33376.984194.611017@autan.toulouse.inra.fr> <Pine.LNX.4.31.0105071333060.16298-100000@gannet.stats> <15094.41617.48265.604236@autan.toulouse.inra.fr> <x2itjdcjpo.fsf@blueberry.kubism.ku.dk>
Message-ID: <3AF6B222.AF832D0C@lancs.ac.uk>

Peter Dalgaard BSA wrote:

> Works fine for me on Sol2.7 with R 1.2.3 and an ancient version of gv.
> It seems to be complaining about not being able to find the Helvetica
> font, which should be present on a proper Ghostscript installation.
> Did you by any chance forget to install the ghostscript-fonts package?

 I think we need to see the PostScript file to figure if its a problem
with the PostScript generated by R or with Ghostscript displaying it.

 Could the original poster put the ps file on a web/ftp site somewhere?
It might *not* be a good idea to post it as an attachment to the list!!

Barry
Maths and Stats
Lancaster University
UK
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Mon May  7 17:13:32 2001
From: chong at stat.purdue.edu (Chong Gu)
Date: Mon, 7 May 2001 10:13:32 -0500
Subject: [R] semi-parametric (partial linear?) regression
In-Reply-To: <3AF608D8.7226C272@ukans.edu> (pauljohn@ukans.edu)
Message-ID: <200105071513.KAA52690@odds.stat.purdue.edu>


   From: pauljohn at ukans.edu
   Date: Sun, 06 May 2001 21:30:48 -0500
   Organization: KU
   X-Mailer: Mozilla 4.77 [en] (X11; U; Linux 2.4.2-2 i686)
   X-Accept-Language: en
   MIME-Version: 1.0
   Content-Type: text/plain; charset=us-ascii
   Content-Transfer-Encoding: 7bit
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: SfS-bulk

   I just heard a talk about a semi-parametric model.  I was quite excited
   by the idea. This model is fitted

   y= xB + g(z) + e

   where x is a data matrix, B a column vector, z is another data matrix,
   and g is a smooth model fitted by a Kernel Smoothing regression (I got
   the idea any smoother would do as well).

   The speaker said that when z is considered as a "control" variable, and
   there is no reason to assume linearity, then one can estimate this model
   and the B estimates are (in some sense I cannot say exactly) better,
   perhaps converging more quickly to the true value as the sample size
   increases.

   I got interested in doing this and wondered if in R it is possible.  In
   R's MASS package I find the modreg library, which has several smoothing
   tools, but I don't find a way to estimate B at the same time. 
   (Incidentally, I'm rather overwhelmed by the many different flavors of
   smoothers!) 

   Does an R package exist for estimating this semi-parametric model?  

   If this is a bad idea, you can tell me, my feelings won't be hurt :)

   pj

   ps. I just found that SAS has at least one procedure for this, called
   tpsplines (thin-plate splines), so I know I wasn't misunderstanding this
   fellow's lecture.
   -- 
   Paul E. Johnson                       email: pauljohn at ukans.edu
   Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
   University of Kansas                  Office: (785) 864-9086
   Lawrence, Kansas 66045                FAX: (785) 864-5700
   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


You can use ssanova in the gss package for this, where xB is the
"partial" term.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Mon May  7 17:15:51 2001
From: chong at stat.purdue.edu (Chong Gu)
Date: Mon, 7 May 2001 10:15:51 -0500
Subject: [R] gss package - predict.ssanova
In-Reply-To: <3AF68231.55FA9F03@ipimar.pt> (message from
	=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim on Mon, 07 May 2001 12:08:34
	+0100)
Message-ID: <200105071515.KAA72546@odds.stat.purdue.edu>


   Date: Mon, 07 May 2001 12:08:34 +0100
   From: =?iso-8859-1?Q?Jos=E9?= Ernesto Jardim <ernesto at ipimar.pt>
   Organization: IPIMAR
   X-Mailer: Mozilla 4.72 [en] (X11; I; Linux 2.2.14 i686)
   X-Accept-Language: en
   MIME-Version: 1.0
   Content-Type: text/plain; charset=us-ascii
   Content-Transfer-Encoding: 7bit
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: SfS-bulk

   Hi

   I'm using the gss package to fit thin plate splines. I've fitted the tps
   without problems and got a ssanova object. Then I wanted to do some
   prediction using a new set of data (latlon data) and I got an error
   message:

   > predict.ssanova(recs.spliney,recn.grid,se.fit=FALSE)
   Error in array(x, c(length(x), 1), if (!is.null(names(x)))
   list(names(x),  :
	   attempt to set an attribute on NULL

   Can someone help me with this ?

   Thanks

   EJ

   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


Is recn.grid a data frame with the same variable names as used in the
fitting formula?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.malewski at gmx.de  Mon May  7 17:56:36 2001
From: peter.malewski at gmx.de (Peter Malewski)
Date: Mon, 7 May 2001 17:56:36 +0200
Subject: [R] qt with ncp?
Message-ID: <20010507175635.A29936@rzpool08.rz.tu-bs.de>

Does anybody has a function or idea how to calculate qt with a noncentrality 
parameter? I'm porting a SAS-macro for equivalence (Wellek, 1994 TT2ST) to R 
and it seems that I need this to calculate tinv (SAS-command, I hope that 
this is R's qt,...I get the SAS-macro manual next week).

thanks

Peter 

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Mon May  7 18:10:16 2001
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Mon, 07 May 2001 17:10:16 +0100
Subject: [R] gss package - predict.ssanova
References: <200105071515.KAA72546@odds.stat.purdue.edu>
Message-ID: <3AF6C8E6.675D8D9@ipimar.pt>

Chong Gu wrote:

>    Date: Mon, 07 May 2001 12:08:34 +0100
>    From: =?iso-8859-1?Q?Jos=E9?= Ernesto Jardim <ernesto at ipimar.pt>
>    Organization: IPIMAR
>    X-Mailer: Mozilla 4.72 [en] (X11; I; Linux 2.2.14 i686)
>    X-Accept-Language: en
>    MIME-Version: 1.0
>    Content-Type: text/plain; charset=us-ascii
>    Content-Transfer-Encoding: 7bit
>    Sender: owner-r-help at stat.math.ethz.ch
>    Precedence: SfS-bulk
>
>    Hi
>
>    I'm using the gss package to fit thin plate splines. I've fitted the tps
>    without problems and got a ssanova object. Then I wanted to do some
>    prediction using a new set of data (latlon data) and I got an error
>    message:
>
>    > predict.ssanova(recs.spliney,recn.grid,se.fit=FALSE)
>    Error in array(x, c(length(x), 1), if (!is.null(names(x)))
>    list(names(x),  :
>            attempt to set an attribute on NULL
>
>    Can someone help me with this ?
>
>    Thanks
>
>    EJ
>
>    -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>    r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>    Send "info", "help", or "[un]subscribe"
>    (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>    _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
> Is recn.grid a data frame with the same variable names as used in the
> fitting formula?

Yes.

Here is the information about this objects.

> recs.spliney

Call:
ssanova(formula = recs.mds[[1]][, 2] ~ recs.loc$x * recs.loc$y,     type = "tp")

Terms:
[1] "1"                     "recs.loc$x"            "recs.loc$y"
[4] "recs.loc$x:recs.loc$y"

Number of fixed and random effects:

                      Fixed Random
1                         1      0
recs.loc$x                1      1
recs.loc$y                1      1
recs.loc$x:recs.loc$y     1      3
total                     4      5

Smoothing parameters are selected by GCV.

> is.data.frame(recn.grid)
[1] TRUE
> names(recn.grid)
[1] "x" "y"

Regards

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon May  7 18:45:32 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 May 2001 18:45:32 +0200
Subject: [R] qt with ncp?
In-Reply-To: Peter Malewski's message of "Mon, 7 May 2001 17:56:36 +0200"
References: <20010507175635.A29936@rzpool08.rz.tu-bs.de>
Message-ID: <x2y9s9rtub.fsf@blueberry.kubism.ku.dk>

Peter Malewski <peter.malewski at gmx.de> writes:

> Does anybody has a function or idea how to calculate qt with a noncentrality 
> parameter? I'm porting a SAS-macro for equivalence (Wellek, 1994 TT2ST) to R 
> and it seems that I need this to calculate tinv (SAS-command, I hope that 
> this is R's qt,...I get the SAS-macro manual next week).

The easiest way is probably to use something like

uniroot(function(x)pt(x, df, ncp) - p, c(-1e7,1e7))

It's not going to be fast, but if you just need one of them...

(Look inside power.t.test for variations on the theme)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Mon May  7 18:39:24 2001
From: chong at stat.purdue.edu (Chong Gu)
Date: Mon, 7 May 2001 11:39:24 -0500
Subject: [R] gss package - predict.ssanova
In-Reply-To: <3AF6C8E6.675D8D9@ipimar.pt> (message from
	=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim on Mon, 07 May 2001 17:10:16
	+0100)
Message-ID: <200105071639.LAA88280@odds.stat.purdue.edu>



   Here is the information about this objects.

   > recs.spliney

   Call:
   ssanova(formula = recs.mds[[1]][, 2] ~ recs.loc$x * recs.loc$y,     type = "tp")

   Terms:
   [1] "1"                     "recs.loc$x"            "recs.loc$y"
   [4] "recs.loc$x:recs.loc$y"

   Number of fixed and random effects:

			 Fixed Random
   1                         1      0
   recs.loc$x                1      1
   recs.loc$y                1      1
   recs.loc$x:recs.loc$y     1      3
   total                     4      5

   Smoothing parameters are selected by GCV.

   > is.data.frame(recn.grid)
   [1] TRUE
   > names(recn.grid)
   [1] "x" "y"

   Regards

   EJ


The variables in the fit are "recs.loc$x" and "recs.loc$y", but the
variables in recn.grid are "x" and "y".

BTW, are recs.loc$x and recs.loc$y the x-y coordinate of geographic
locations?  If the answer is yes, then you probably want to enter it
as a single variable with two columns.  What you are now doing appears
to fit a tensor product spline.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.malewski at gmx.de  Mon May  7 18:53:12 2001
From: peter.malewski at gmx.de (Peter Malewski)
Date: Mon, 7 May 2001 18:53:12 +0200
Subject: [R] qt with ncp?
In-Reply-To: <x2y9s9rtub.fsf@blueberry.kubism.ku.dk>; from p.dalgaard@biostat.ku.dk on Mon, May 07, 2001 at 06:45:32PM +0200
References: <20010507175635.A29936@rzpool08.rz.tu-bs.de> <x2y9s9rtub.fsf@blueberry.kubism.ku.dk>
Message-ID: <20010507185311.B29936@rzpool08.rz.tu-bs.de>

On Mon, May 07, 2001 at 06:45:32PM +0200, Peter Dalgaard BSA wrote:
> Peter Malewski <peter.malewski at gmx.de> writes:
> 
> > Does anybody has a function or idea how to calculate qt with a noncentrality 
> > parameter? I'm porting a SAS-macro for equivalence (Wellek, 1994 TT2ST) to R 
> > and it seems that I need this to calculate tinv (SAS-command, I hope that 
> > this is R's qt,...I get the SAS-macro manual next week).
> 
> The easiest way is probably to use something like
> 
> uniroot(function(x)pt(x, df, ncp) - p, c(-1e7,1e7))
> 
> It's not going to be fast, but if you just need one of them...
> 
> (Look inside power.t.test for variations on the theme)

Thanks for that hint. I'll see.
Peter

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tk229 at hermes.cam.ac.uk  Mon May  7 19:04:29 2001
From: tk229 at hermes.cam.ac.uk (Tak Kaneko)
Date: Mon, 7 May 2001 18:04:29 +0100 (BST)
Subject: [R] "tree": Extracting deviance & Gaussian model of the node? 
Message-ID: <Pine.SOL.4.33.0105071803300.10327-100000@green.csi.cam.ac.uk>

Hi

I'm trying to use the "tree" package in R to predict intonation for a
speech synthesiser and when I feed the feature vector into the tree,
I want to get the predicted value and the deviance associated with that
node.

Q.1
---
I was hoping that the following command will return a tree object of the
predicted values, but I get the following error:

------------------------------------------------------------
> test.tr <- predict.tree(pr,test.data,type="tree")
Error in as.list(X) : Object "response.names" not found

where:
pr = 	A tree was grown using the training data and then pruned back to
	where the deviance was minimised when a separate test data set was
	used. "pr" is this pruned tree.

test.data = test data with the features and response
-------------------------------------------------------------

How would I be able to access the prediction and the deviance? Would this
work if the data was a feature vector with no responses? (as would be the
case when it comes to predicting the real thing).


Q.2
---
Assuming that the distribution of the data at each node is Gaussian, I'd
like to model each node as a gaussian probability density function with a
mean at the predicted value and variance, which is presumably related to
the deviance...

I've found out the definition for the deviance from the S-plus manual but
it's not yet clear to me. So how could I deduce the variance of a value
predicted by "tree"?


Thanks and I'd be grateful if you could also reply to my address above
(tk229 at cam.ac.uk).

Tak Kaneko


--------------------------------------------------------
Mobile:	07866 581 806	Cambridge Tel: 01223 711 160
Permanent e-mail:	tkaneko at iee.org
Home:	 		Tel (01494) 680 230
			11 Oldbury Grove, Beaconsfield, Bucks HP9 2AJ


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Mon May  7 19:10:39 2001
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Mon, 07 May 2001 18:10:39 +0100
Subject: [R] gss package - predict.ssanova
References: <200105071639.LAA88280@odds.stat.purdue.edu>
Message-ID: <3AF6D70E.C5A0F4FE@ipimar.pt>

Chong Gu wrote:

>    Here is the information about this objects.
>
>    > recs.spliney
>
>    Call:
>    ssanova(formula = recs.mds[[1]][, 2] ~ recs.loc$x * recs.loc$y,     type = "tp")
>
>    Terms:
>    [1] "1"                     "recs.loc$x"            "recs.loc$y"
>    [4] "recs.loc$x:recs.loc$y"
>
>    Number of fixed and random effects:
>
>                          Fixed Random
>    1                         1      0
>    recs.loc$x                1      1
>    recs.loc$y                1      1
>    recs.loc$x:recs.loc$y     1      3
>    total                     4      5
>
>    Smoothing parameters are selected by GCV.
>
>    > is.data.frame(recn.grid)
>    [1] TRUE
>    > names(recn.grid)
>    [1] "x" "y"
>
>    Regards
>
>    EJ
>
> The variables in the fit are "recs.loc$x" and "recs.loc$y", but the
> variables in recn.grid are "x" and "y".
>
> BTW, are recs.loc$x and recs.loc$y the x-y coordinate of geographic
> locations?  If the answer is yes, then you probably want to enter it
> as a single variable with two columns.  What you are now doing appears
> to fit a tensor product spline.

Thanks

I'll take a look at what you're saying.

Tomorrow there will be news :-)

Regards

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Mon May  7 20:32:55 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Mon, 7 May 2001 14:32:55 -0400 (EDT)
Subject: [R] indexing a vector
Message-ID: <Pine.GSO.4.04.10105071427450.11217-100000@julius.ling.ohio-state.edu>


Dear R-List,

How can one look up the row/column number for a given value in a matrix or
data.frame?  For example in a matrix that contains only unique values for
in [,1] how can I find value x in [,1] and report its row number?

TIA,

David

S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon May  7 20:38:53 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 7 May 2001 11:38:53 -0700 (PDT)
Subject: [R] indexing a vector
In-Reply-To: <Pine.GSO.4.04.10105071427450.11217-100000@julius.ling.ohio-state.edu>
Message-ID: <Pine.A41.4.33.0105071138100.87496-100000@homer10.u.washington.edu>

On Mon, 7 May 2001, David White wrote:

>
> Dear R-List,
>
> How can one look up the row/column number for a given value in a matrix or
> data.frame?  For example in a matrix that contains only unique values for
> in [,1] how can I find value x in [,1] and report its row number?
>

match(x,matrix[,1])

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jpgilbert at wsu.edu  Tue May  8 01:28:18 2001
From: jpgilbert at wsu.edu (John Gilbert)
Date: Mon, 7 May 2001 16:28:18 -0700
Subject: [R] NEWBIE Question: x11 error
Message-ID: <01C0D712.BA396280@shih.agecon.wsu.edu>

I have just installed R under Linux Mandarke 8.0, from source.  R starts 
okay, and I can do some analysis in a terminal under KDE, but when I try 
and use the graphics functions, no response.  x11() gives the message 
"Error in x11() : the x11 device has not been loaded".  Any tips on how to 
fix this error?

Regards,

John Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jdm at xnet.com  Tue May  8 01:55:29 2001
From: jdm at xnet.com (Jeff Miller)
Date: Mon, 7 May 2001 18:55:29 -0500
Subject: [R] indexing a vector
References: <Pine.A41.4.33.0105071138100.87496-100000@homer10.u.washington.edu>
Message-ID: <001c01c0d751$348c32e0$cee7fea9@x2t9h6>

----- Original Message -----
From: Thomas Lumley <tlumley at u.washington.edu>
Sent: Monday, May 07, 2001 1:38 PM

> On Mon, 7 May 2001, David White wrote:
>
> >
> > Dear R-List,
> >
> > How can one look up the row/column number for a given value in a matrix
or
> > data.frame?  For example in a matrix that contains only unique values
for
> > in [,1] how can I find value x in [,1] and report its row number?
> >
>
> match(x,matrix[,1])
>
> -thomas

    As a follow up to this question,  what's the easiest way to
    find the column and row indicies for a specified value in a matrix,
    when you don't know which column it's in (as assumed above)?

    So if   mymatrix <- matrix(c(3, 2, 4, 1), nrow = 2),  what's the easiet
way
    to see that the value 4 is in position (1, 2) ?

    Thanks much,

        Jeff Miller





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at team.telstra.com  Tue May  8 02:44:09 2001
From: John.Strumila at team.telstra.com (Strumila, John)
Date: Tue, 8 May 2001 10:44:09 +1000 
Subject: [R] postscript problem
Message-ID: <61411576E951D211AF330008C7245DD908F15F49@ntmsg0005.corpmail.telstra.com.au>

I've had a similar problem when the gs_lib environment variable hasn't been
set up to point to the correct font libraries.  Check the man page for gs
and gv.

John Strumila


-----Original Message-----
From: Mathieu Ros [mailto:mathieu at lecastor.net]
Sent: Monday, 7 May 2001 9:13 PM
To: liste R
Subject: [R] postscript problem


hello all,
when trying to produce a plot with the following code

postscript("g6-5000-0705-b.ps")
par(mfrow=c(4,1))
for (i in 1:4) {
  somc<-cumsum(betaC[,i])/c(1:N)
  plot(somc,ylim=c(min(somc),max(somc)));
}
dev.off()

I get a postscript file g6-5000-0705-b.ps, but if I try to open it
with ghostscript, or to convert it to pdf, I get the following error :

Error: /invalidfont in findfont
Operand stack:
   Helvetica   Font   Helvetica   236270   Helvetica   --nostringval--
Courier   NimbusMonL-Regu
Execution stack:
   %interp_exit   .runexec2   --nostringval--   --nostringval--
--nostringval--   2   %stopped_push   --nostringval--   --nostringval--
--nostringval--    false   1   %stopped_push   1   3   %oparray_pop
.runexec2   --nostringval--   --nostringval--   --nostringval--   2
%stopped_push   --nostringval--   1   3   %oparray_pop   2   3
%oparray_pop   --nostringval--   --nAladdin Ghostscript 6.0: Unrecoverable
error, exit code 1
ostringval--   --nostringval--   --nostringval--   --nostringval--   false
1   %stopped_push   5   4   %oparray_pop   --nostringval--
--nostringval--   --nostringval--   1   -1   1   --nostringval--
%for_neg_int_continue   --nostringval--   --nostringval--
Dictionary stack:
   --dict:946/983(ro)(G)--   --dict:0/20(G)--   --dict:90/200(L)--
--dict:16/24(G)--   --dict:946/983(ro)(G)--
Current allocation mode is local
Last OS error: 2
Current file position is 1105
Error: PostScript interpreter failed in main window.


Any idea of what's happening ?
thanks,
 Mathieu

-- 
Mathieu Ros
DEA Math?matiques Appliqu?es
Laboratoire de G?n?tique Cellulaire
INRA-Toulouse [05 6128 5119]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Tue May  8 03:26:24 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Mon, 7 May 2001 20:26:24 -0500
Subject: [R] NEWBIE Question: x11 error
In-Reply-To: <01C0D712.BA396280@shih.agecon.wsu.edu>
References: <01C0D712.BA396280@shih.agecon.wsu.edu>
Message-ID: <15095.19264.595891.950232@sonny.eddelbuettel.com>


  "John" == John Gilbert <jpgilbert at wsu.edu> writes:
  John>  I have just installed R under Linux Mandarke 8.0, from source.  R
  John> starts okay, and I can do some analysis in a terminal under KDE, but
  John> when I try and use the graphics functions, no response.  x11() gives
  John> the message "Error in x11() : the x11 device has not been loaded".
  John> Any tips on how to fix this error?

Guess: Your X11 headers or libraries were not found during configuration, and
you now have an x11-less binary.

Try to see what the resulting log of 

    ./configure [args]

Hth,  Dirk

-- 
According to the latest figures, 43% of all statistics are totally worthless.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Tue May  8 05:30:56 2001
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Mon, 7 May 2001 22:30:56 -0500 (CDT)
Subject: [R] indexing a vector
Message-ID: <200105080330.WAA08682@uhddx01.dt.uh.edu>

Hi Jeff!

Try this:

which(mymatrix == 4, arr.ind=TRUE)

Hope this help!
Sincerely,
Erin M. Hodgess, Ph.D.
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
One Main Street 
Houston, TX 77002
e-mail: hodgess at uhddx01.dt.uh.edu


 



Subject: Re: [R] indexing a vector
	charset="iso-8859-1"
> > Dear R-List,
> >
> > How can one look up the row/column number for a given value in a matrix
or
> > data.frame?  For example in a matrix that contains only unique values
for
> > in [,1] how can I find value x in [,1] and report its row number?
> >
>
> match(x,matrix[,1])
>
> -thomas

    As a follow up to this question,  what's the easiest way to
    find the column and row indicies for a specified value in a matrix,
    when you don't know which column it's in (as assumed above)?

    So if   mymatrix <- matrix(c(3, 2, 4, 1), nrow = 2),  what's the easiet
way
    to see that the value 4 is in position (1, 2) ?

    Thanks much,

        Jeff Miller



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Tue May  8 10:51:08 2001
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Tue, 08 May 2001 09:51:08 +0100
Subject: [R] gss package - predict.ssanova
References: <200105071639.LAA88280@odds.stat.purdue.edu>
Message-ID: <3AF7B37C.B0A3EC3@ipimar.pt>

Chong Gu wrote:

>    Here is the information about this objects.
>
>    > recs.spliney
>
>    Call:
>    ssanova(formula = recs.mds[[1]][, 2] ~ recs.loc$x * recs.loc$y,     type = "tp")
>
>    Terms:
>    [1] "1"                     "recs.loc$x"            "recs.loc$y"
>    [4] "recs.loc$x:recs.loc$y"
>
>    Number of fixed and random effects:
>
>                          Fixed Random
>    1                         1      0
>    recs.loc$x                1      1
>    recs.loc$y                1      1
>    recs.loc$x:recs.loc$y     1      3
>    total                     4      5
>
>    Smoothing parameters are selected by GCV.
>
>    > is.data.frame(recn.grid)
>    [1] TRUE
>    > names(recn.grid)
>    [1] "x" "y"
>
>    Regards
>
>    EJ
>
> The variables in the fit are "recs.loc$x" and "recs.loc$y", but the
> variables in recn.grid are "x" and "y".
>
> BTW, are recs.loc$x and recs.loc$y the x-y coordinate of geographic
> locations?  If the answer is yes, then you probably want to enter it
> as a single variable with two columns.  What you are now doing appears
> to fit a tensor product spline.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

Hi

I've tried your proposal and I got an error message

> ssanova(recn.mds[[1]][,1]~recn.loc,"tp")
Error in model.frame(formula, rownames, variables, varnames, extras, extranames,  :
        invalid variable type

The objects are in aggreement with your description

> is.data.frame(recn.loc)
[1] TRUE
> is.vector(recn.mds[[1]][,1])
[1] TRUE
> names(recn.loc)
[1] "x" "y"


Regards

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue May  8 11:12:09 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 8 May 2001 10:12:09 +0100
Subject: [R] how to use by() and hist()
In-Reply-To: <Pine.GSO.4.04.10105061115130.14234-100000@julius.ling.ohio-state.edu>
References: <Pine.GSO.4.04.10105061115130.14234-100000@julius.ling.ohio-state.edu>
Message-ID: <P3ib1SAph796Ewrj@myatt.demon.co.uk>

David White <dwhite at ling.ohio-state.edu> writes:

>I'm using R 1.2.2 on Sun Solaris.
>
>I have  data frame with 4 levels of factor "type". See the example data
>frame below.
>     type            token     variance
>20   ku n031ku10.10msmeanc  77199422
>21   ku n031ku11.10msmeanc  55682249
>22   ku n031ku12.10msmeanc  52003965
>23   ti n031ti01.10msmeanc  54511040
>24   ti n031ti02.10msmeanc  58940197
>25   ti n031ti03.10msmeanc  46918442
>
>I'd like to plot histograms by token type as listed in column 1 above.
>I tried
>by(allvariances[,3], allvariances[,1], hist)
>this worked well, but provided histograms with different numbers of bins
>for each token type.
>
>I also tried 
> by(allvariances[,3], allvariances[,1], hist(breaks=4))
>to specify the number of bins. Hist then complained that I had not
>specified a value for the data to be plotted.

The syntax for by() is 

        by(data, INDICES, FUN, ...) 

with:

        ...     further arguments to FUN.

Try:


        by(allvariances[,3], allvariances[,1], hist, breaks=4)

The arguments to hist() are specified in the ... list.

>A related question: I'd like to see subsets of the data based on the
>levels of factor "type". So in the example above, I'd like see, say, all
>observations of type "tu". Any pointers on how to do that?

To see all subsets use by:

        by(allvariances, type, print)

as this uses the default print() method for the data.frame.

To see a single subset use, surprise, subset():

        subset(allvariances, type == "tu"]

I hope that helps.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mros at toulouse.inra.fr  Tue May  8 14:08:07 2001
From: mros at toulouse.inra.fr (Mathieu Ros)
Date: Tue, 08 May 2001 14:08:07 +0200 (MEST)
Subject: [R] postscript problem
In-Reply-To: <61411576E951D211AF330008C7245DD908F15F49@ntmsg0005.corpmail.telstra.com.au>
References: <61411576E951D211AF330008C7245DD908F15F49@ntmsg0005.corpmail.telstra.com.au>
Message-ID: <989323687.3af7e1a7ca613@imp.free.fr>

Thanks all for your replies...
I'm not at work today but I think I have to install a more recent version of 
ghoscript on my user account as prof. Ripley advised me.
regards,
 Mathieu Ros
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fberchtold at mail.bip.net  Tue May  8 16:11:41 2001
From: fberchtold at mail.bip.net (Fredrik Berchtold)
Date: Tue, 8 May 2001 16:11:41 +0200
Subject: [R] estimate factor model?
Message-ID: <LPBBKAOHICHGIHDHGMBAGENMCFAA.fberchtold@mail.bip.net>

Is it possible to estimate
dr = m(r) dt + s(r) dz
or
dr = a(b-r) dt + s dz
(Vasicek's term structure model)
with R?
How?
Thanks!
/fb

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Tue May  8 16:55:58 2001
From: chong at stat.purdue.edu (Chong Gu)
Date: Tue, 8 May 2001 09:55:58 -0500
Subject: [R] gss package - predict.ssanova
In-Reply-To: <3AF7B37C.B0A3EC3@ipimar.pt> (message from
	=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim on Tue, 08 May 2001 09:51:08
	+0100)
Message-ID: <200105081455.JAA45366@odds.stat.purdue.edu>


   Sender: ernesto at neptuno.ipimar.pt
   Date: Tue, 08 May 2001 09:51:08 +0100
   From: =?iso-8859-1?Q?Jos=E9?= Ernesto Jardim <ernesto at ipimar.pt>
   Organization: IPIMAR
   X-Mailer: Mozilla 4.72 [en] (X11; I; Linux 2.2.14 i686)
   X-Accept-Language: en
   MIME-Version: 1.0
   CC: R-help at stat.math.ethz.ch
   References: <200105071639.LAA88280 at odds.stat.purdue.edu>
   Content-Type: text/plain; charset=us-ascii
   Content-Transfer-Encoding: 7bit

   Chong Gu wrote:

   >    Here is the information about this objects.
   >
   >    > recs.spliney
   >
   >    Call:
   >    ssanova(formula = recs.mds[[1]][, 2] ~ recs.loc$x * recs.loc$y,     type = "tp")
   >
   >    Terms:
   >    [1] "1"                     "recs.loc$x"            "recs.loc$y"
   >    [4] "recs.loc$x:recs.loc$y"
   >
   >    Number of fixed and random effects:
   >
   >                          Fixed Random
   >    1                         1      0
   >    recs.loc$x                1      1
   >    recs.loc$y                1      1
   >    recs.loc$x:recs.loc$y     1      3
   >    total                     4      5
   >
   >    Smoothing parameters are selected by GCV.
   >
   >    > is.data.frame(recn.grid)
   >    [1] TRUE
   >    > names(recn.grid)
   >    [1] "x" "y"
   >
   >    Regards
   >
   >    EJ
   >
   > The variables in the fit are "recs.loc$x" and "recs.loc$y", but the
   > variables in recn.grid are "x" and "y".
   >
   > BTW, are recs.loc$x and recs.loc$y the x-y coordinate of geographic
   > locations?  If the answer is yes, then you probably want to enter it
   > as a single variable with two columns.  What you are now doing appears
   > to fit a tensor product spline.
   >
   > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   > Send "info", "help", or "[un]subscribe"
   > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

   Hi

   I've tried your proposal and I got an error message

   > ssanova(recn.mds[[1]][,1]~recn.loc,"tp")
   Error in model.frame(formula, rownames, variables, varnames, extras, extranames,  :
	   invalid variable type

   The objects are in aggreement with your description

   > is.data.frame(recn.loc)
   [1] TRUE
   > is.vector(recn.mds[[1]][,1])
   [1] TRUE
   > names(recn.loc)
   [1] "x" "y"


   Regards

   EJ



recn.loc should be a matrix, not a data frame.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue May  8 17:55:07 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 8 May 2001 08:55:07 -0700 (PDT)
Subject: [R] indexing a vector
In-Reply-To: <001c01c0d751$348c32e0$cee7fea9@x2t9h6>
Message-ID: <Pine.A41.4.33.0105080847580.161736-100000@homer40.u.washington.edu>

On Mon, 7 May 2001, Jeff Miller wrote:

> ----- Original Message -----
> From: Thomas Lumley <tlumley at u.washington.edu>
> Sent: Monday, May 07, 2001 1:38 PM
>
> > On Mon, 7 May 2001, David White wrote:
> >
> > >
> > > Dear R-List,
> > >
> > > How can one look up the row/column number for a given value in a matrix
> or
> > > data.frame?  For example in a matrix that contains only unique values
> for
> > > in [,1] how can I find value x in [,1] and report its row number?
> > >
> >
> > match(x,matrix[,1])
> >
> > -thomas
>
>     As a follow up to this question,  what's the easiest way to
>     find the column and row indicies for a specified value in a matrix,
>     when you don't know which column it's in (as assumed above)?
>
>     So if   mymatrix <- matrix(c(3, 2, 4, 1), nrow = 2),  what's the easiet
> way
>     to see that the value 4 is in position (1, 2) ?
>

Well, a matrix is just a vector with dimensions, so you can do
  pos<-match(4,mymatrix)
to find that 4 is in position 3 in the vector, and then the row number is
  ((pos - 1) %/% NROW(mymatrix)) +1
and the column number is
  ((pos-1) %% NROW(mymatrix))+1

since the numbers are stored one column at a time.  If you have to do a
lot of these on the same matrix the functions row() and col() may help:
  row(mymatrix)[match(4,mymatrix)]
and
  col(mymatrix)[match(4,mymatrix)]


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Tue May  8 18:33:49 2001
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Tue, 08 May 2001 17:33:49 +0100
Subject: [R] gss package - predict.ssanova
References: <200105081455.JAA45366@odds.stat.purdue.edu>
Message-ID: <3AF81FEC.2FE67B1C@ipimar.pt>

Chong Gu wrote:

>    Sender: ernesto at neptuno.ipimar.pt
>    Date: Tue, 08 May 2001 09:51:08 +0100
>    From: =?iso-8859-1?Q?Jos=E9?= Ernesto Jardim <ernesto at ipimar.pt>
>    Organization: IPIMAR
>    X-Mailer: Mozilla 4.72 [en] (X11; I; Linux 2.2.14 i686)
>    X-Accept-Language: en
>    MIME-Version: 1.0
>    CC: R-help at stat.math.ethz.ch
>    References: <200105071639.LAA88280 at odds.stat.purdue.edu>
>    Content-Type: text/plain; charset=us-ascii
>    Content-Transfer-Encoding: 7bit
>
>    Chong Gu wrote:
>
>    >    Here is the information about this objects.
>    >
>    >    > recs.spliney
>    >
>    >    Call:
>    >    ssanova(formula = recs.mds[[1]][, 2] ~ recs.loc$x * recs.loc$y,     type = "tp")
>    >
>    >    Terms:
>    >    [1] "1"                     "recs.loc$x"            "recs.loc$y"
>    >    [4] "recs.loc$x:recs.loc$y"
>    >
>    >    Number of fixed and random effects:
>    >
>    >                          Fixed Random
>    >    1                         1      0
>    >    recs.loc$x                1      1
>    >    recs.loc$y                1      1
>    >    recs.loc$x:recs.loc$y     1      3
>    >    total                     4      5
>    >
>    >    Smoothing parameters are selected by GCV.
>    >
>    >    > is.data.frame(recn.grid)
>    >    [1] TRUE
>    >    > names(recn.grid)
>    >    [1] "x" "y"
>    >
>    >    Regards
>    >
>    >    EJ
>    >
>    > The variables in the fit are "recs.loc$x" and "recs.loc$y", but the
>    > variables in recn.grid are "x" and "y".
>    >
>    > BTW, are recs.loc$x and recs.loc$y the x-y coordinate of geographic
>    > locations?  If the answer is yes, then you probably want to enter it
>    > as a single variable with two columns.  What you are now doing appears
>    > to fit a tensor product spline.
>    >
>    > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>    > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>    > Send "info", "help", or "[un]subscribe"
>    > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>    > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>    Hi
>
>    I've tried your proposal and I got an error message
>
>    > ssanova(recn.mds[[1]][,1]~recn.loc,"tp")
>    Error in model.frame(formula, rownames, variables, varnames, extras, extranames,  :
>            invalid variable type
>
>    The objects are in aggreement with your description
>
>    > is.data.frame(recn.loc)
>    [1] TRUE
>    > is.vector(recn.mds[[1]][,1])
>    [1] TRUE
>    > names(recn.loc)
>    [1] "x" "y"
>
>    Regards
>
>    EJ
>
> recn.loc should be a matrix, not a data frame.

Hi

I've set recn.loc as a matrix and it worked but I'm still getting a error message from
predict.ssanova

> predict.ssanova(recs.splinex,recn.grid,se.fit=FALSE)
Error: subscript out of bounds
> colnames(recn.loc)
[1] "x" "y"
> colnames(recn.grid)
[1] "x" "y"
> is.matrix(recn.loc)
[1] TRUE
> is.matrix(recn.grid)
[1] TRUE

If I keep recn.grid has a data.frame I get

> predict.ssanova(recs.splinex,recn.grid,se.fit=FALSE)
Error in array(x, c(length(x), 1), if (!is.null(names(x))) list(names(x),  :
        attempt to set an attribute on NULL


Regards

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From henrikb at braju.com  Tue May  8 19:51:56 2001
From: henrikb at braju.com (Henrik Bengtsson)
Date: Tue, 8 May 2001 10:51:56 -0700
Subject: [R] ASCII map?
Message-ID: <KKEGJOGBELBHDIKPINBMEEFKCEAA.henrikb@braju.com>

Is there a way to convert between and integer and a character and vice
versa? For instance

   i <- 65;
   ch <- intToChar(i);  # "A"
   i <- charToInt(ch);  # 65

or even better

   i <- c(65, 66);
   ch <- intToChar(i);  # c("A", "B")
   i <- charToInt(ch);  # c(65, 66)

I have tried to do a ASCII map myself, and I figured out that the ASCII
characters can be generated by "\nn", where nn is a octal number. However,
is there already such a map (function) accessable?

Also, is it ok assume that a character string can contain any 7/8-bit ASCII
character (1-127/1-255)? The special value "\0" terminates the character
string. (Is "\0" in a character string safe? Example substring("abc\0def",
5) gives "", but what happens inside [R]?)

Reason for this is that I would like store subparts of the buffer that I
have read using readBin() as a character string, but I would also be able to
save it back using writeBin() without loosing anything.

Thanks for a great language!

Henrik Bengtsson
h e n r i k b @ b r a j u . c o m

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jean.vidal at freesurf.fr  Tue May  8 19:47:04 2001
From: jean.vidal at freesurf.fr (Jean Vidal)
Date: Tue, 08 May 2001 19:47:04 +0200
Subject: [R] Replacing missing values
Message-ID: <5.0.2.1.0.20010508193640.04f88aa0@pop.freesurf.fr>

I'm discovering R (very impressive), and didn't find in the docs a simple 
method for replacing, in a data frame, missing values (NA) with the 
column's mean (or any other method for reconstructing missing values when 
needed).
Thanks in advance for your help.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May  8 20:36:39 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 8 May 2001 19:36:39 +0100 (GMT Daylight Time)
Subject: [R] Replacing missing values
In-Reply-To: <5.0.2.1.0.20010508193640.04f88aa0@pop.freesurf.fr>
Message-ID: <Pine.WNT.4.31.0105081934530.268-100000@tern.stats>

On Tue, 8 May 2001, Jean Vidal wrote:

> I'm discovering R (very impressive), and didn't find in the docs a simple
> method for replacing, in a data frame, missing values (NA) with the
> column's mean (or any other method for reconstructing missing values when
> needed).

That's the purpose of na.action's, except that mean imputation is not
a great idea.  If you look at na.omit it would be easy to write
na.mean.impute if you really want to.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bved01 at hia.net  Wed May  9 05:56:08 2001
From: bved01 at hia.net (Bill Vedder)
Date: Tue, 08 May 2001 22:56:08 -0500
Subject: [R] R-Quant
Message-ID: <3AF8BFD8.8584434D@hia.net>

Greetings,

Does anyone know if R-Quant, http://www.smartquant.com/ an outgrowth of
the statistical package "R"?

Bill Vedder

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Wed May  9 06:07:40 2001
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Wed, 9 May 2001 14:07:40 +1000 (EST)
Subject: [R] Symbolic substitution of expressions into expressions
Message-ID: <200105090407.OAA12279@leonard.anu.edu.au>

I inquired

> In the following
> 
> titletxt <- substitute(paste(tx, tilde(y) == sqrt(y)),
>   list(tx="Replace y by "))
> 
> I'd like to be able to replace e.g. sqrt(y) by a symbol or
> symbolic expression that has the effect of inserting sqrt(y)
> into the place that it occupies.  This would allow me to put an
> arbitrary expression into that position.  [One can use text() or
> mtext() etc. to place titletxt on a graph.]
> 
> Any clues would be most welcome.

to which Peter Dalgaard helpfully replied
<<
titletxt <- substitute(paste(tx, tilde(y) == my.y),
   list(tx="Replace y by ",my.y=quote(sqrt(y))))
>>

This does not quite go as far as I want.

> tx2 <- expression(x^2)
> qx2 <- quote(x^2)
> tx2
expression(x^2)
> qx2
x^2

Setting my.y = qx2 places the latexed version of x^2
into the text string and hence on the graph, while 
my.y=quote(tx2) places "expression(x^2)" into the
text string.  Is there any way to get from 
expression(x^2) or the text string "x^2" to quote(x^2)?

John Maindonald.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May  9 09:17:02 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 May 2001 09:17:02 +0200
Subject: [R] Symbolic substitution of expressions into expressions
In-Reply-To: John Maindonald's message of "Wed, 9 May 2001 14:07:40 +1000 (EST)"
References: <200105090407.OAA12279@leonard.anu.edu.au>
Message-ID: <x24ruv2dqp.fsf@blueberry.kubism.ku.dk>

John Maindonald <john.maindonald at anu.edu.au> writes:

> Setting my.y = qx2 places the latexed version of x^2
> into the text string and hence on the graph, while 
> my.y=quote(tx2) places "expression(x^2)" into the
> text string.  Is there any way to get from 
> expression(x^2) or the text string "x^2" to quote(x^2)?

Yes, 

quote(x^2) == expression(x^2)[[1]] == parse(text="x^2")[[1]]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May  9 09:25:23 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 May 2001 09:25:23 +0200
Subject: [R] R-Quant
In-Reply-To: Bill Vedder's message of "Tue, 08 May 2001 22:56:08 -0500"
References: <3AF8BFD8.8584434D@hia.net>
Message-ID: <x21ypz2dcs.fsf@blueberry.kubism.ku.dk>

Bill Vedder <bved01 at hia.net> writes:

> Greetings,
> 
> Does anyone know if R-Quant, http://www.smartquant.com/ an outgrowth of
> the statistical package "R"?

Doesn't look like one...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andreas.krause at pharma.novartis.com  Wed May  9 09:39:14 2001
From: andreas.krause at pharma.novartis.com (andreas.krause@pharma.novartis.com)
Date: Wed, 9 May 2001 09:39:14 +0200
Subject: [R] matrix: suspected integer overflow
Message-ID: <OF9F2E040F.1DD84A3A-ONC1256A46.00678455@is.chbs>


Is the following a known issue, in particular in terms of message clarity of the latter two?

> matrix(0, 10^8, 10^8)
Error: cannot allocate vector of size 2064896 Kb
> matrix(0, 20, 10^10)
Error in matrix(0, 20, 10^10) : negative length vectors are not allowed
> matrix(0, 10^10, 10^10)
Error: cannot allocate vector of size 0 Kb

# looks better for arrays:

> array (0, c(20, 10^10))
Error: cannot allocate vector of size 4194303 Kb
In addition: Warning message:
inaccurate integer conversion in coercion
>
> array(0, c(10^10, 10^10))
Error: cannot allocate vector of size 4194303 Kb
In addition: Warning message:
inaccurate integer conversion in coercion

> version
         _
platform powerpc-ibm-aix4.3.0.0
arch     powerpc
os       aix4.3.0.0
system   powerpc, aix4.3.0.0
status
major    1
minor    2.2
year     2001
month    02
day      26
language R

Best regards,

     Andreas Krause


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed May  9 12:45:32 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 9 May 2001 11:45:32 +0100
Subject: [R] ASCII map?
In-Reply-To: <KKEGJOGBELBHDIKPINBMEEFKCEAA.henrikb@braju.com>
References: <KKEGJOGBELBHDIKPINBMEEFKCEAA.henrikb@braju.com>
Message-ID: <RNI8bQAM$R+6EwSL@myatt.demon.co.uk>

Henrik Bengtsson <henrikb at braju.com> writes:

>Is there a way to convert between and integer and a character and vice
>versa? For instance
>
>   i <- 65;
>   ch <- intToChar(i);  # "A"
>   i <- charToInt(ch);  # 65
>

charToInt() can be done with charmatch():

        ch <- "a"
        i <- charmatch(ch, letters) + 96
        i
        
And I guess that it will work the other way round:

        i <- 99
        ch <- letters[i - 96]
        ch

the vector 'letters' is already defined in R but contains only lower
case characters ... it is simple to create an ASCIITable vector and use
that:

        ASCIITable <- c("A", "B", "C", "D", "E", "F", "G", "H",
                        "I", "J", "K", "L", "M", "N", "O", "P",
                        "Q", "R", "S", "T", "U", "V", "W", "X",
                        "Y", "Z", " ", " ", " ", " ", " ", " ",
                        "a", "b", "c", "d", "e", "f", "g", "h",
                        "i", "j", "k", "l", "m", "n", "o", "p",
                        "q", "r", "s", "t", "u", "v", "w", "x",
                        "y", "z")
        i <- 65
        ch <- ASCIITable[i - 64]
        ch
        i <- charmatch(ch, ASCIITable) + 64
        i
        
>or even better
>
>   i <- c(65, 66);
>   ch <- intToChar(i);  # c("A", "B")
>   i <- charToInt(ch);  # c(65, 66)

R functions handle the increase in complexity of passed objects
automatically:

        i <- c(65, 66)
        ch <- ASCIITable[i - 64]
        ch
        i <- charmatch(ch, ASCIITable) + 64
        i

Mind you, there might be a set of character function that I don't know
about.

I hope that helps.

Mark


--
Mark Myatt
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed May  9 12:20:15 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 9 May 2001 11:20:15 +0100
Subject: [R] Replacing missing values
In-Reply-To: <5.0.2.1.0.20010508193640.04f88aa0@pop.freesurf.fr>
References: <5.0.2.1.0.20010508193640.04f88aa0@pop.freesurf.fr>
Message-ID: <O987XNAfnR+6EwTw@myatt.demon.co.uk>

Jean Vidal <jean.vidal at freesurf.fr> writes:
>I'm discovering R (very impressive), and didn't find in the docs a simple 
>method for replacing, in a data frame, missing values (NA) with the 
>column's mean (or any other method for reconstructing missing values when 
>needed).
>Thanks in advance for your help.

There are a series of na.* Functions in R but they are not well
documented (which is my way of saying "I can't work out how to make them
work"!). 

I use indexing to deal with missing values. For example:

        var[var == -99] <- NA

To replace a missing value code (e.g. -99) with NA. Replacing with an
imputed value can be done in the same manner but with the imputation
function on the RHS of the assignment. For example:

        var[is.na(var)] <- mean(var, na.rm = TRUE)

If var is a vector in a data.frame then you need to specify the
data.frame:

        df$var[is.na(df$var)] <- mean(df$var, na.rm = TRUE)

I hope that helps.

Mark

BTW: While I am here, can anyone explain how the na.* functions work?


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From robert at compete.com  Wed May  9 16:11:20 2001
From: robert at compete.com (Robert Abugov)
Date: Wed, 9 May 2001 10:11:20 -0400
Subject: [R] Coplot
Message-ID: <IFECIJELMCKDEACBAHGLCEKKCAAA.robert@compete.com>

When I use the hills data in Maindonald's text (below) and apply

coplot(time ~ distance | climb, data=hills, overlap=0.0, number=3)

the graphs do not appear to line up with the conditional axis climb.
Is this a bug or am I missing something as an R newbie?

Thanks,

Bob Abugov


                  distance climb    time
Greenmantle           2.5   650  16.083
Carnethy              6.0  2500  48.350
Craig Dunain          6.0   900  33.650
Ben Rha               7.5   800  45.600
Ben Lomond            8.0  3070  62.267
Goatfell              8.0  2866  73.217
Bens of Jura         16.0  7500 204.617
Cairnpapple           6.0   800  36.367
Scolty                5.0   800  29.750
Traprain              6.0   650  39.750
Lairig Ghru          28.0  2100 192.667
Dollar                5.0  2000  43.050
Lomonds               9.5  2200  65.000
Cairn Table           6.0   500  44.133
Eildon Two            4.5  1500  26.933
Cairngorm            10.0  3000  72.250
Seven Hills          14.0  2200  98.417
Knock Hill            3.0   350  78.650
Black Hill            4.5  1000  17.417
Creag Beag            5.5   600  32.567
Kildcon Hill          3.0   300  15.950
Meall Ant-Suidhe      3.5  1500  27.900
Half Ben Nevis        6.0  2200  47.633
Cow Hill              2.0   900  17.933
N Berwick Law         3.0   600  18.683
Creag Dubh            4.0  2000  26.217
Burnswark             6.0   800  34.433
Largo Law             5.0   950  28.567
Criffel               6.5  1750  50.500
Acmony                5.0   500  20.950
Ben Nevis            10.0  4400  85.583
Knockfarrel           6.0   600  32.383
Two Breweries        18.0  5200 170.250
Cockleroi             4.5   850  28.100
Moffat Chase         20.0  5000 159.833
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Wed May  9 16:57:28 2001
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Wed, 09 May 2001 10:57:28 -0400
Subject: [R] R help files -> S-Plus; par('mgp')
Message-ID: <3AF95AD8.77C32E9F@virginia.edu>

Thanks to Brian Ripley I have been using R utilities for
some time for converting S-Plus UNIX nroff help files 
to .Rd to .html files.  .Rd files seem to be the most
natural format for help files and this format is probably easier
to maintain than nroff, so I would like to start
using .Rd files as my master documentation format
if anyone has a utility for going from .Rd to nroff.
I guess I could use .Rd -> html but the html would not
fully meet all the needs for S-Plus 6 help files.
Other approaches and ideas are most welcome.

Frank Harrell

P.S.  I didn't get any reaction to my proposal to have
x- and y-axis specific par('mgp') parameters when
par(las=1).  I hope that R-core will consider that.
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From johann at ai.univie.ac.at  Wed May  9 16:56:56 2001
From: johann at ai.univie.ac.at (Johann Petrak)
Date: Wed, 09 May 2001 16:56:56 +0200
Subject: [R] list to data frame by rows ...
References: <3AF8BFD8.8584434D@hia.net>
Message-ID: <3AF95AB8.61CD0B58@ai.univie.ac.at>

Ugh, newbie question ... :

I have a list of vectors of equal size, like
  list(c(1,2,3),c(4,5,6)) 
and want to convert this into a data frame row-wise:

1   1 4
2   2 5
3   3 6

Whats the elegant/R-way to do this?

Johann
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.firth at nuffield.oxford.ac.uk  Wed May  9 16:58:19 2001
From: david.firth at nuffield.oxford.ac.uk (David Firth)
Date: Wed, 9 May 2001 15:58:19 +0100
Subject: [R] Fortran subroutines dblepr, realpr, intpr
Message-ID: <a05010401b71f0938d05d@[163.1.41.88]>

I am making my first attempts at using some Fortran code with R, and 
so far it's going OK.  To print from my Fortran programs, it seems I 
need subroutines dblepr, realpr and intpr.  From the excellent 
"Writing R Extensions" document:

"Three subroutines are provided to ease the output of information 
from FORTRAN code.

	subroutine dblepr(label, nchar, data, ndata)
	subroutine realpr(label, nchar, data, ndata)
	subroutine intpr (label, nchar, data, ndata)"

Where can one find these subroutines?

David
-- 


David Firth                        Phone +44 1865 278544
Nuffield College                   Fax   +44 1865 278621
Oxford OX1 1NF                     Secretary +44 1865 278553
United Kingdom                     Email david.firth at nuffield.ox.ac.uk

http://www.stats.ox.ac.uk/~firth/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed May  9 17:09:16 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 09 May 2001 10:09:16 -0500
Subject: [R] list to data frame by rows ...
In-Reply-To: <3AF95AB8.61CD0B58@ai.univie.ac.at>
References: <3AF8BFD8.8584434D@hia.net> <3AF95AB8.61CD0B58@ai.univie.ac.at>
Message-ID: <6ritjalftv.fsf@franz.stat.wisc.edu>

Johann Petrak <johann at ai.univie.ac.at> writes:

> Ugh, newbie question ... :
> 
> I have a list of vectors of equal size, like
>   list(c(1,2,3),c(4,5,6)) 
> and want to convert this into a data frame row-wise:
> 
> 1   1 4
> 2   2 5
> 3   3 6
> 
> Whats the elegant/R-way to do this?

In general the cbind function is used to bind columns into an array.
If you want to invoke it on a list of arguments you can use do.call to
create the function call.  Combining these gives

> mylist <- list(c(1,2,3),c(4,5,6)) 
> do.call("cbind", mylist)
     [,1] [,2]
[1,]    1    4
[2,]    2    5
[3,]    3    6
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed May  9 17:08:54 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 9 May 2001 08:08:54 -0700 (PDT)
Subject: [R] R help files -> S-Plus; par('mgp')
In-Reply-To: <3AF95AD8.77C32E9F@virginia.edu>
Message-ID: <Pine.A41.4.33.0105090807001.77772-100000@homer14.u.washington.edu>

On Wed, 9 May 2001, Frank E Harrell Jr wrote:

> Thanks to Brian Ripley I have been using R utilities for
> some time for converting S-Plus UNIX nroff help files
> to .Rd to .html files.  .Rd files seem to be the most
> natural format for help files and this format is probably easier
> to maintain than nroff, so I would like to start
> using .Rd files as my master documentation format
> if anyone has a utility for going from .Rd to nroff.

R CMD Rdconv
has S (nroff) documentation format as one of its output types
eg
 R CMD Rdconv --type=Sd -o foo.d foo.Rd


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From messad at cirad.cirad.fr  Wed May  9 17:25:15 2001
From: messad at cirad.cirad.fr (Samir Messad)
Date: Wed, 09 May 2001 17:25:15 +0200
Subject: [R] Coding categorical -> dummy
Message-ID: <3.0.6.32.20010509172515.01168760@mail.cirad.fr>

Dear R-Users,

I have a data frame with several categorical variables. I want to create a
new data frame with dummy variables (with all levels).
I know the function model.matrix (see below) but it works only for one
categorical variable :

> tt <- c("a","a","b","a","c")
> tt <- factor(tt)
> model.matrix(~ tt - 1)

is there anyone who have write such function ?
Thanks for your help.

Samir Messad


Samir Messad    E-Mail : messad at cirad.fr
Statisticien
CIRAD-EMVT
TA 30/A
Programme Productions Animales
Campus de Baillarguet
34398 Montpellier cedex 5 (France)

T?l :  +33 (0)4-67-59-38-44
Fax : +33 (0)4-67-59-38-25
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Wed May  9 17:44:28 2001
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Wed, 9 May 2001 10:44:28 -0500
Subject: [R] odesolve check fails
Message-ID: <OFFD378685.226EFB6D-ON86256A47.00558B6A@mmm.com>

Hi,

I just installed the odesolve package and ran the check command on it.  It
failed trying to execute

     library(gnlm).

Sure enough, there is no gnlm library on my system and  I could not find it
on the CRAN archive either.  Am I missing anything obvious or is gnlm some
private library that somehow found its way into the example section of
odesolve?

Thanks in advance,

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Wed May  9 17:57:17 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 9 May 2001 17:57:17 +0200
Subject: [R] odesolve check fails
In-Reply-To: <OFFD378685.226EFB6D-ON86256A47.00558B6A@mmm.com>
References: <OFFD378685.226EFB6D-ON86256A47.00558B6A@mmm.com>
Message-ID: <15097.26845.855724.328108@mithrandir.hornik.net>

>>>>> apjaworski  writes:

> Hi,
> I just installed the odesolve package and ran the check command on it.  It
> failed trying to execute

>      library(gnlm).

> Sure enough, there is no gnlm library on my system and I could not
> find it on the CRAN archive either.  Am I missing anything obvious or
> is gnlm some private library that somehow found its way into the
> example section of odesolve?

That is one of Jim Lindsey's packages, see the FAQ.

[Unfortunately, the most recent versions of Jim's packages do not all
install smoothly with R 1.2.3.]

The next version of odesolve will also feature an example from nlme,
which is easily accessible via CRAN and will be a `recommended' package
for R 1.3.0.  Along with that, it also makes sense to conditionalize the
example.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From messad at cirad.cirad.fr  Wed May  9 17:59:40 2001
From: messad at cirad.cirad.fr (Samir Messad)
Date: Wed, 09 May 2001 17:59:40 +0200
Subject: [R] Coding categorical -> dummy
Message-ID: <3.0.6.32.20010509175940.01171560@mail.cirad.fr>

Dear R-Users,

I have a data frame with several categorical variables. I want to code
these variables in dummy variables keeping all levels.
I know the function model.matrix (see below) but it works only for one
categorical variable :

> tt <- c("a","a","b","a","c")
> tt <- factor(tt)
> model.matrix(~ tt - 1)

Is there anyone who have write such function ?
Thanks for your help.

Samir Messad


Samir Messad    E-Mail : messad at cirad.fr
Statisticien
CIRAD-EMVT
TA 30/A
Programme Productions Animales
Campus de Baillarguet
34398 Montpellier cedex 5 (France)

T?l :  +33 (0)4-67-59-38-44
Fax : +33 (0)4-67-59-38-25
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ip19 at unt.edu  Wed May  9 18:09:17 2001
From: ip19 at unt.edu (Joel Allen)
Date: Wed, 09 May 2001 11:09:17 -0500 (CDT)
Subject: [R] plotting text from formatted object
Message-ID: <989424557.3af96bad6b6d0@eaglemail.unt.edu>

Dear List,
I would like to plot the diagnostic plots for an anova
object and the anova table in a single window divided
into 5 plotting regions.  Plotting the diagnostics is
simple engough but is there an easy way to plot the
formatted table of an anova object in the fifth plotting
region?  I am using v1.2.1 on RH7.  The code I am using
follows:

...
aov.objects <-
objects()[grep('*.aov',objects())]#collect all aov
objects
x11(width=8.5,height=11)#set graphics window
layout(matrix(c(1,2,3,4,5,5), 3, 2,T))#create layout
for(x in aov.objects)
  {
    plot(get(x))#plot aov object
    mtext(paste("Diagnostics for
",x,sep=""),side=3,line=-2,outer=T)#add title
    
plot(10,10,type='n',bty='n',axes=F,xlab='',ylab='')#set
dummy plot
    text(1,14,anova(get(x)),pos=4)#attempt to plot
formatted output fails
  }
...

Any suggestions would be appreciated.

Thanks

Joel Allen
Institute of Applied Sciences
University of North Texas
hjallen at unt.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rhskelto at atm.ox.ac.uk  Wed May  9 18:21:13 2001
From: rhskelto at atm.ox.ac.uk (Randall Skelton)
Date: Wed, 9 May 2001 17:21:13 +0100 (BST)
Subject: [R] Errors on install...
Message-ID: <Pine.LNX.4.21.0105091720320.4150-100000@mulligan.atm.ox.ac.uk>

Hi all,

I found the web site for R and decided to install it on my freebsd system;
however, I have run into 'permission problems' during execution.  I do the
standard .configure, make, make check, make install and install into the
default location of /usr/local/... but when a normal user attempts to run
'R' I get the following: 

--- 
[tulip ~]% R

R : Copyright 2001, The R Development Core Team
Version 1.2.3  (2001-04-26)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

Fatal error: unable to open the base package
---

What leads me to believe this is a permission problem is that root can run
the package just fine from /usr/local/bin/R, as I could when I tested it
locally by executing it in my non-suid account (i.e. after building it
running /export/home/testaroo/R-1.2.3/bin/R as a normal user works
fine).

A normal user can get R to issue direct commands such as --help,
--version, RHOME...

---
[tulip ~]% R --version
R 1.2.3 (2001-04-26).
Copyright (C) 2001 R Development Core Team

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under the terms of the GNU
General Public License.  For more information about these matters,
see http://www.gnu.org/copyleft/gpl.html.
[tulip ~]% R RHOME
/usr/local/lib/R
---

Please reply directly as I am not (yet?) subscribed to the group...

Cheers,
Randall

---
Atmospheric, Oceanic and Planetary Physics
University of Oxford


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed May  9 18:32:26 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 9 May 2001 09:32:26 -0700 (PDT)
Subject: [R] plotting text from formatted object
In-Reply-To: <989424557.3af96bad6b6d0@eaglemail.unt.edu>
Message-ID: <Pine.A41.4.33.0105090927070.77772-100000@homer14.u.washington.edu>

On Wed, 9 May 2001, Joel Allen wrote:

> Dear List,
> I would like to plot the diagnostic plots for an anova
> object and the anova table in a single window divided
> into 5 plotting regions.  Plotting the diagnostics is
> simple engough but is there an easy way to plot the
> formatted table of an anova object in the fifth plotting
> region?  I am using v1.2.1 on RH7.  The code I am using
> follows:

You can use a text connection to capture the output of a print command to
a vector of strings (see the example in help(textConnection)) then use
text() to write these strings.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From till.baumgaertel at epost.de  Wed May  9 18:45:14 2001
From: till.baumgaertel at epost.de (=?iso-8859-1?Q?Till=20Baumgaertel?=)
Date: Wed, 9 May 2001 18:45:14 +0200
Subject: [R] =?iso-8859-1?Q?=5BNewbie=5D=20Row=2DIterator=20for=20data=2Eframe=3F=3F?=
Message-ID: <3AF94CD7000001CF@mail.epost.de>

hello all,

for my diploma-thesis i want to statitically analyze near-infrared-spectra.
a spectrum is given by the y-values of 1038 equi-distant x-points.
in nature, a spectrum is a continuous curve. for analysis, every x-point
is seen as a statistical variable.

now my problem:
first, i read a csv-table in a data.frame called sTable via read.table.

besides some meta-data there are 1038 variables holding absorbance-values
for each wave-number, so a spectrum can be seen as a "case". 

when i calculate e.g. means for every variable, R works very *fast*. also
if i want to scale a variable for every spectrum (=case) it's fast: sTable$WN4000
<- sTable$WN4000 / 1.34 .
but for some reasons i have to iterate through the spectra, especially when
i want to differentiate a curve, because then i first have to build a interpolation
polynom from the given x-points and y-values of a specific case.

i wrote a function getCase <- function( dataFrame, caseNo) with return-value
of type data.frame and holding the case "caseNo" of the dataFrame. 

now, this results in absolutely bad performance. 

my question: 
what is the most convenient and fastest way to access a single row of a
data.frame? if possible, i'd like something i could use like this:
sTable <- getSpectraTable()
case11 <- getRow( sTable, 11)
wn4000 <- case11$WN4000
is there a built-in function/method in R i didn't find yet?
also i'd like to avoid casting the data.frame to a matrix (or whatever)
for reducing the risks by holding data redundantly.

thank you for your help!
till





________________________________________
Der clevere Infobote - Shopping-Tipps bequem abonniert. Jetzt neu bei http://www.epost.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From till.baumgaertel at epost.de  Wed May  9 18:45:02 2001
From: till.baumgaertel at epost.de (=?iso-8859-1?Q?Till=20Baumgaertel?=)
Date: Wed, 9 May 2001 18:45:02 +0200
Subject: [R] =?iso-8859-1?Q?=5BNewbie=5D=20Row=2DIterator=20for=20data=2Eframe=3F=3F?=
Message-ID: <3AF94CD7000001CE@mail.epost.de>

hello all,

for my diploma-thesis i want to statitically analyze near-infrared-spectra.
a spectrum is given by the y-values of 1038 equi-distant x-points.
in nature, a spectrum is a continuous curve. for analysis, every x-point
is seen as a statistical variable.

now my problem:
first, i read a csv-table in a data.frame called sTable via read.table.

besides some meta-data there are 1038 variables holding absorbance-values
for each wave-number, so a spectrum can be seen as a "case". 

when i calculate e.g. means for every variable, R works very *fast*. also
if i want to scale a variable for every spectrum (=case) it's fast: sTable$WN4000
<- sTable$WN4000 / 1.34 .
but for some reasons i have to iterate through the spectra, especially when
i want to differentiate a curve, because then i first have to build a interpolation
polynom from the given x-points and y-values of a specific case.

i wrote a function getCase <- function( dataFrame, caseNo) with return-value
of type data.frame and holding the case "caseNo" of the dataFrame. 

now, this results in absolutely bad performance. 

my question: 
what is the most convenient and fastest way to access a single row of a
data.frame? if possible, i'd like something i could use like this:
sTable <- getSpectraTable()
case11 <- getRow( sTable, 11)
wn4000 <- case11$WN4000
is there a built-in function/method in R i didn't find yet?
also i'd like to avoid casting the data.frame to a matrix (or whatever)
for reducing the risks by holding data redundantly.

thank you for your help!
till





________________________________________
Der clevere Infobote - Shopping-Tipps bequem abonniert. Jetzt neu bei http://www.epost.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Wed May  9 18:46:31 2001
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Wed, 9 May 2001 18:46:31 +0200 (MET DST)
Subject: [R] odesolve check fails
In-Reply-To: <OFFD378685.226EFB6D-ON86256A47.00558B6A@mmm.com> from "apjaworski@mmm.com" at May 09, 2001 10:44:28 AM
Message-ID: <200105091646.SAA31913@luc.ac.be>


> 
> Hi,
> 
> I just installed the odesolve package and ran the check command on it.  It
> failed trying to execute
> 
>      library(gnlm).
> 
> Sure enough, there is no gnlm library on my system and  I could not find it
> on the CRAN archive either.  Am I missing anything obvious or is gnlm some
> private library that somehow found its way into the example section of
> odesolve?

Looks like this is indirectly my fault. I sent the maintainer of
odesolve some corrections and an example of fitting nonlinear models
using my gnlm library. The latter should not have made its way into
the library on CRAN.
  Jim

> 
> Thanks in advance,
> 
> Andy
> 
> __________________________________
> Andy Jaworski
> Engineering Systems Technology Center
> 3M Center, 518-1-01
> St. Paul, MN 55144-1000
> -----
> E-mail: apjaworski at mmm.com
> Tel:  (651) 733-6092
> Fax:  (651) 736-3122
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From henrikb at braju.com  Wed May  9 19:14:09 2001
From: henrikb at braju.com (Henrik Bengtsson)
Date: Wed, 9 May 2001 10:14:09 -0700
Subject: [R] ASCII map?
In-Reply-To: <RNI8bQAM$R+6EwSL@myatt.demon.co.uk>
Message-ID: <KKEGJOGBELBHDIKPINBMOEGACEAA.henrikb@braju.com>

Mark, thank you for your reply. It seems that writing your own ASCII table
is the way to do it. However, using 'letters' won't do since I need
non-letter ASCII characters too (sorry for not being clear on that). Here's
how I did it:

ASCII <- c(
  "\000","\001","\002","\003","\004","\005","\006","\007", # 000-007
  "\010","\011","\012","\013","\014","\015","\016","\017", # 010-017
  "\020","\021","\022","\023","\024","\025","\026","\027", # 020-027
  "\030","\031","\032","\033","\034","\035","\036","\037", # 030-037
  "\040","\041","\042","\043","\044","\045","\046","\047", # 040-047
  "\050","\051","\052","\053","\054","\055","\056","\057", # 050-057
  "\060","\061","\062","\063","\064","\065","\066","\067", # 060-067
  "\070","\071","\072","\073","\074","\075","\076","\077", # 070-077
  "\100","\101","\102","\103","\104","\105","\106","\107", # 100-107
  "\110","\111","\112","\113","\114","\115","\116","\117", # 110-117
  "\120","\121","\122","\123","\124","\125","\126","\127", # 120-127
  "\130","\131","\132","\133","\134","\135","\136","\137", # 130-137
  "\140","\141","\142","\143","\144","\145","\146","\147", # 140-147
  "\150","\151","\152","\153","\154","\155","\156","\157", # 150-157
  "\160","\161","\162","\163","\164","\165","\166","\167", # 160-167
  "\170","\171","\172","\173","\174","\175","\176","\177", # 170-177
  "\200","\201","\202","\203","\204","\205","\206","\207", # 200-207
  "\210","\211","\212","\213","\214","\215","\216","\217", # 210-217
  "\220","\221","\222","\223","\224","\225","\226","\227", # 220-227
  "\230","\231","\232","\233","\234","\235","\236","\237", # 230-237
  "\240","\241","\242","\243","\244","\245","\246","\247", # 240-247
  "\250","\251","\252","\253","\254","\255","\256","\257", # 250-257
  "\260","\261","\262","\263","\264","\265","\266","\267", # 260-267
  "\270","\271","\272","\273","\274","\275","\276","\277", # 270-277
  "\300","\301","\302","\303","\304","\305","\306","\307", # 300-307
  "\310","\311","\312","\313","\314","\315","\316","\317", # 310-317
  "\320","\321","\322","\323","\324","\325","\326","\327", # 320-327
  "\330","\331","\332","\333","\334","\335","\336","\337", # 330-337
  "\340","\341","\342","\343","\344","\345","\346","\347", # 340-347
  "\350","\351","\352","\353","\354","\355","\356","\357", # 350-357
  "\360","\361","\362","\363","\364","\365","\366","\367", # 360-367
  "\370","\371","\372","\373","\374","\375","\376","\377"  # 370-377
);

intToChar <- function(i) {
  ASCII[i %% 256 + 1];
}

charToInt <- function(ch) {
  match(ch, ASCII) - ;   # Which is best here? charmatch or match?
}

Example 1: All 256 ASCII characters

> ASCII

Example 2: To print ASCII 65-90 (A-Z) characters try

> cat(intToChar(charToInt("A"):charToInt("Z")))

Note that it is only ASCII 32-127 plus a few of the ASCII 0-31 that can be
printed on stdout() with the same visible result over different systems.

FYI: For *curiosity* I've tried the support for escape sequences on both a
Unix system and a Windows system. It didn't work on my Windows machine
(running Rterm on Cygwin), but on the Solaris at least the sequence for
clearing the screen works:

> ESC <- intToChar(27);
> cat("This will be cleared!", ESC, "[2J", "Hi again!", sep="")


Have nice day!

Henrik Bengtsson
h e n r i k b @ b r a j u . c o m


PS. Jon, stop read this and get back to your books. ;) DS.

> -----Original Message-----
> From: Mark Myatt [mailto:mark at myatt.demon.co.uk]
> Sent: Wednesday, May 09, 2001 3:46 AM
> To: Henrik Bengtsson
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] ASCII map?
>
>
> Henrik Bengtsson <henrikb at braju.com> writes:
>
> >Is there a way to convert between and integer and a character and vice
> >versa? For instance
> >
> >   i <- 65;
> >   ch <- intToChar(i);  # "A"
> >   i <- charToInt(ch);  # 65
> >
>
> charToInt() can be done with charmatch():
>
>         ch <- "a"
>         i <- charmatch(ch, letters) + 96
>         i
>
> And I guess that it will work the other way round:
>
>         i <- 99
>         ch <- letters[i - 96]
>         ch
>
> the vector 'letters' is already defined in R but contains only lower
> case characters ... it is simple to create an ASCIITable vector and use
> that:
>
>         ASCIITable <- c("A", "B", "C", "D", "E", "F", "G", "H",
>                         "I", "J", "K", "L", "M", "N", "O", "P",
>                         "Q", "R", "S", "T", "U", "V", "W", "X",
>                         "Y", "Z", " ", " ", " ", " ", " ", " ",
>                         "a", "b", "c", "d", "e", "f", "g", "h",
>                         "i", "j", "k", "l", "m", "n", "o", "p",
>                         "q", "r", "s", "t", "u", "v", "w", "x",
>                         "y", "z")
>         i <- 65
>         ch <- ASCIITable[i - 64]
>         ch
>         i <- charmatch(ch, ASCIITable) + 64
>         i
>
> >or even better
> >
> >   i <- c(65, 66);
> >   ch <- intToChar(i);  # c("A", "B")
> >   i <- charToInt(ch);  # c(65, 66)
>
> R functions handle the increase in complexity of passed objects
> automatically:
>
>         i <- c(65, 66)
>         ch <- ASCIITable[i - 64]
>         ch
>         i <- charmatch(ch, ASCIITable) + 64
>         i
>
> Mind you, there might be a set of character function that I don't know
> about.
>
> I hope that helps.
>
> Mark
>
>
> --
> Mark Myatt
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.firth at nuffield.oxford.ac.uk  Wed May  9 19:10:57 2001
From: david.firth at nuffield.oxford.ac.uk (David Firth)
Date: Wed, 9 May 2001 18:10:57 +0100
Subject: [R] Fortran subroutines dblepr, realpr, intpr
Message-ID: <a05010403b71f29505ba3@[163.1.41.88]>

Further to my earlier request for help (see below): I should have 
said what operating system and compiler I am using.

I am working with the (mingw) g77 compiler under Windows 2000, and 
following the approach outlined in Venables & Ripley's "S 
Programming", p243.  That is, with my Fortran code in testit.f, I say

	g77 -O2 -c testit.f
	dllwrap -o testit.dll --export-all-symbols testit.o

which works fine when I don't have any print statements in testit.f, 
but if for example I call INTPR in testit.f the dllwrap step fails 
with the complaint
	undefined reference to `intpr_'
	dllwrap: gcc exited with status 1

Any hints will be much appreciated.  As I said earlier, I am just 
beginning with this.

David

>I am making my first attempts at using some Fortran code with R, and 
>so far it's going OK.  To print from my Fortran programs, it seems I 
>need subroutines dblepr, realpr and intpr.  From the excellent 
>"Writing R Extensions" document:
>
>"Three subroutines are provided to ease the output of information 
>from FORTRAN code.
>
>	subroutine dblepr(label, nchar, data, ndata)
>	subroutine realpr(label, nchar, data, ndata)
>	subroutine intpr (label, nchar, data, ndata)"
>
>Where can one find these subroutines?
>
>David

-- 


David Firth                        Phone +44 1865 278544
Nuffield College                   Fax   +44 1865 278621
Oxford OX1 1NF                     Secretary +44 1865 278553
United Kingdom                     Email david.firth at nuffield.ox.ac.uk

http://www.stats.ox.ac.uk/~firth/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010509/e6fc5d20/attachment.html

From llaghi at foodsci.unibo.it  Wed May  9 19:38:45 2001
From: llaghi at foodsci.unibo.it (luca laghi)
Date: Wed, 9 May 2001 19:38:45 +0200
Subject: [R] mean
References: <3AF8BFD8.8584434D@hia.net> <x21ypz2dcs.fsf@blueberry.kubism.ku.dk>
Message-ID: <000e01c0d8ae$e6132f60$06d3cc89@foodsci.unibo.it>


 Greetings,
a little question:
if I heve got a matrix with 10 columns, how do I produce a 10 elements
vector with the average of each column?
Thank you,
Luca


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rhskelto at atm.ox.ac.uk  Wed May  9 19:46:14 2001
From: rhskelto at atm.ox.ac.uk (Randall Skelton)
Date: Wed, 9 May 2001 18:46:14 +0100 (BST)
Subject: [R] Errors on install...
Message-ID: <Pine.LNX.4.21.0105091835260.22995-100000@homer.atm.ox.ac.uk>

Can anyone confirm what the permissions after installation should be in
/usr/local/lib/R/library/base and the directories along the way.

As it stands, the installer seems to make the directories executable only
to the installer (suid) and the permissions for the files in the above
directory are:

-rw-------  1 root  wheel    2099 May  9 18:12 Rprofile
-rw-------  1 root  wheel  683471 May  9 18:12 base

The quick-fix (or dirty hack?) solution was to move to /usr/local/lib/R
and 'chmod -R a+r' and 'find . -type d -exec chmod 755 {} \;'

Cheers,
Randall

---------- Forwarded message ----------
Date: Wed, 9 May 2001 17:21:13 +0100 (BST)
From: Randall Skelton <rhskelto at atm.ox.ac.uk>
To: r-help at lists.R-project.org
Subject: Errors on install...

Hi all,

I found the web site for R and decided to install it on my freebsd system;
however, I have run into 'permission problems' during execution.  I do the
standard .configure, make, make check, make install and install into the
default location of /usr/local/... but when a normal user attempts to run
'R' I get the following: 

--- 
[tulip ~]% R

R : Copyright 2001, The R Development Core Team
Version 1.2.3  (2001-04-26)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

Fatal error: unable to open the base package
---

What leads me to believe this is a permission problem is that root can run
the package just fine from /usr/local/bin/R, as I could when I tested it
locally by executing it in my non-suid account (i.e. after building it
running /export/home/testaroo/R-1.2.3/bin/R as a normal user works
fine).

A normal user can get R to issue direct commands such as --help,
--version, RHOME...

---
[tulip ~]% R --version
R 1.2.3 (2001-04-26).
Copyright (C) 2001 R Development Core Team

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under the terms of the GNU
General Public License.  For more information about these matters,
see http://www.gnu.org/copyleft/gpl.html.
[tulip ~]% R RHOME
/usr/local/lib/R
---

Please reply directly as I am not (yet?) subscribed to the group...

Cheers,
Randall

---
Atmospheric, Oceanic and Planetary Physics
University of Oxford




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Wed May  9 19:37:43 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Wed, 09 May 2001 19:37:43 +0200
Subject: [R] mean
References: <3AF8BFD8.8584434D@hia.net> <x21ypz2dcs.fsf@blueberry.kubism.ku.dk> <000e01c0d8ae$e6132f60$06d3cc89@foodsci.unibo.it>
Message-ID: <3AF98067.1EF489A6@ci.tuwien.ac.at>

luca laghi wrote:
> 
>  Greetings,
> a little question:
> if I heve got a matrix with 10 columns, how do I produce a 10 elements
> vector with the average of each column?

with apply()
if x is your matrix

apply(x, 2, 'mean')

Best,
Achim

> Thank you,
> Luca
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Wed May  9 20:27:54 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Wed, 09 May 2001 14:27:54 -0400
Subject: [R] odesolve check fails
Message-ID: <OF86C2551B.9CF3874A-ON85256A47.0065418F@rtp.epa.gov>


I have just uploaded to CRAN a revision of odesolve in which the regression
example runs only if gnlm is installed.  Please accept my apologies for the
difficulties. The next version will include the nlme example.

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                                               
                    Kurt Hornik                                                                                                
                    <Kurt.Hornik at ci.tuwi        To:     apjaworski at mmm.com                                                     
                    en.ac.at>                   cc:     r-help at stat.math.ethz.ch                                               
                    Sent by:                    Subject:     Re: [R] odesolve check fails                                      
                    owner-r-help at stat.ma                                                                                       
                    th.ethz.ch                                                                                                 
                                                                                                                               
                                                                                                                               
                    05/09/01 11:57 AM                                                                                          
                    Please respond to                                                                                          
                    Kurt.Hornik                                                                                                
                                                                                                                               
                                                                                                                               




>>>>> apjaworski  writes:

> Hi,
> I just installed the odesolve package and ran the check command on it.
It
> failed trying to execute

>      library(gnlm).

> Sure enough, there is no gnlm library on my system and I could not
> find it on the CRAN archive either.  Am I missing anything obvious or
> is gnlm some private library that somehow found its way into the
> example section of odesolve?

That is one of Jim Lindsey's packages, see the FAQ.

[Unfortunately, the most recent versions of Jim's packages do not all
install smoothly with R 1.2.3.]

The next version of odesolve will also feature an example from nlme,
which is easily accessible via CRAN and will be a `recommended' package
for R 1.3.0.  Along with that, it also makes sense to conditionalize the
example.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed May  9 20:38:37 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 9 May 2001 14:38:37 -0400 (EDT)
Subject: [R] mean
In-Reply-To: <000e01c0d8ae$e6132f60$06d3cc89@foodsci.unibo.it>
Message-ID: <Pine.LNX.4.30.0105091438120.21886-100000@bolker.zoo.ufl.edu>



  apply(x,2,mean)

On Wed, 9 May 2001, luca laghi wrote:

>
>  Greetings,
> a little question:
> if I heve got a matrix with 10 columns, how do I produce a 10 elements
> vector with the average of each column?
> Thank you,
> Luca
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May  9 22:05:29 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 May 2001 22:05:29 +0200
Subject: [R] list to data frame by rows ...
In-Reply-To: Douglas Bates's message of "09 May 2001 10:09:16 -0500"
References: <3AF8BFD8.8584434D@hia.net> <3AF95AB8.61CD0B58@ai.univie.ac.at> <6ritjalftv.fsf@franz.stat.wisc.edu>
Message-ID: <x266fa8f06.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates at stat.wisc.edu> writes:

> Johann Petrak <johann at ai.univie.ac.at> writes:
> 
> > Ugh, newbie question ... :
> > 
> > I have a list of vectors of equal size, like
> >   list(c(1,2,3),c(4,5,6)) 
> > and want to convert this into a data frame row-wise:
> > 
> > 1   1 4
> > 2   2 5
> > 3   3 6
> > 
> > Whats the elegant/R-way to do this?
> 
> In general the cbind function is used to bind columns into an array.
> If you want to invoke it on a list of arguments you can use do.call to
> create the function call.  Combining these gives
> 
> > mylist <- list(c(1,2,3),c(4,5,6)) 
> > do.call("cbind", mylist)
>      [,1] [,2]
> [1,]    1    4
> [2,]    2    5
> [3,]    3    6

However, if a data frame is desired all you really need is
as.data.frame:

> l <- list(c(1,2,3),c(4,5,6))
> as.data.frame(l)
  c.1..2..3. c.4..5..6.
1          1          4
2          2          5
3          3          6

(or data.frame(l) for that matter -- there's a subtle distinction
which escapes me for the moment...)

As, seen, there's a gotcha in the generation of names (try
as.data.frame(list(rnorm(100),rnorm(100))) for a more extreme
example). It would be wiser to set the names first, as in

> names(l)<-c("V1","V2"); as.data.frame(l)
  V1 V2
1  1  4
2  2  5
3  3  6

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Timothy.Keitt at StonyBrook.Edu  Wed May  9 23:48:37 2001
From: Timothy.Keitt at StonyBrook.Edu (Timothy H. Keitt)
Date: Wed, 09 May 2001 17:48:37 -0400
Subject: [R] [Newbie] Row-Iterator for data.frame??
References: <3AF94CD7000001CE@mail.epost.de>
Message-ID: <3AF9BB35.1070201@StonyBrook.Edu>

Try:

	for(i in 1:nrow(dframe)) my.row <- dframe[i, ]

T.

Till Baumgaertel wrote:

> hello all,
> 
> for my diploma-thesis i want to statitically analyze near-infrared-spectra.
> a spectrum is given by the y-values of 1038 equi-distant x-points.
> in nature, a spectrum is a continuous curve. for analysis, every x-point
> is seen as a statistical variable.
> 
> now my problem:
> first, i read a csv-table in a data.frame called sTable via read.table.
> 
> besides some meta-data there are 1038 variables holding absorbance-values
> for each wave-number, so a spectrum can be seen as a "case". 
> 
> when i calculate e.g. means for every variable, R works very *fast*. also
> if i want to scale a variable for every spectrum (=case) it's fast: sTable$WN4000
> <- sTable$WN4000 / 1.34 .
> but for some reasons i have to iterate through the spectra, especially when
> i want to differentiate a curve, because then i first have to build a interpolation
> polynom from the given x-points and y-values of a specific case.
> 
> i wrote a function getCase <- function( dataFrame, caseNo) with return-value
> of type data.frame and holding the case "caseNo" of the dataFrame. 
> 
> now, this results in absolutely bad performance. 
> 
> my question: 
> what is the most convenient and fastest way to access a single row of a
> data.frame? if possible, i'd like something i could use like this:
> sTable <- getSpectraTable()
> case11 <- getRow( sTable, 11)
> wn4000 <- case11$WN4000
> is there a built-in function/method in R i didn't find yet?
> also i'd like to avoid casting the data.frame to a matrix (or whatever)
> for reducing the risks by holding data redundantly.
> 
> thank you for your help!
> till
> 
> 
> 
> 
> 
> ________________________________________
> Der clevere Infobote - Shopping-Tipps bequem abonniert. Jetzt neu bei http://www.epost.de
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Thu May 10 00:43:34 2001
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Wed, 09 May 2001 18:43:34 -0400
Subject: [R] mean
References: <3AF8BFD8.8584434D@hia.net> <x21ypz2dcs.fsf@blueberry.kubism.ku.dk> <000e01c0d8ae$e6132f60$06d3cc89@foodsci.unibo.it>
Message-ID: <3AF9C816.EA7BD22A@umsanet.edu.bo>

> x <- matrix(1:100, 10)
> x
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]    1   11   21   31   41   51   61   71   81    91
 [2,]    2   12   22   32   42   52   62   72   82    92
 [3,]    3   13   23   33   43   53   63   73   83    93
 [4,]    4   14   24   34   44   54   64   74   84    94
 [5,]    5   15   25   35   45   55   65   75   85    95
 [6,]    6   16   26   36   46   56   66   76   86    96
 [7,]    7   17   27   37   47   57   67   77   87    97
 [8,]    8   18   28   38   48   58   68   78   88    98
 [9,]    9   19   29   39   49   59   69   79   89    99
[10,]   10   20   30   40   50   60   70   80   90   100
> apply(x,2,mean)
 [1]  5.5 15.5 25.5 35.5 45.5 55.5 65.5 75.5 85.5 95.5
> apply(x,1,mean)
 [1] 46 47 48 49 50 51 52 53 54 55


luca laghi wrote:
> 
>  Greetings,
> a little question:
> if I heve got a matrix with 10 columns, how do I produce a 10 elements
> vector with the average of each column?
> Thank you,
> Luca
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From e.prang at gmx.net  Thu May 10 02:19:44 2001
From: e.prang at gmx.net (Eberhard Prang)
Date: Thu, 10 May 2001 02:19:44 +0200
Subject: [R] extracting rows
Message-ID: <004401c0d8e6$ea8694a0$0100a8c0@athlon>


Hello everyone,

just started working with R and need some assistance. 
After time series calculations I hold a data frame with scattered NA's.
Now I'd like to extract all those rows entirely free of NA's.  

Thank you for help.

E.Prang
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010510/46c4b2a9/attachment.html

From 10squared at telocity.com  Thu May 10 04:42:37 2001
From: 10squared at telocity.com (Jim Michael)
Date: Wed, 9 May 2001 22:42:37 -0400
Subject: [R] Relative positions using apply()
References: <3AF8BFD8.8584434D@hia.net> <x21ypz2dcs.fsf@blueberry.kubism.ku.dk> <000e01c0d8ae$e6132f60$06d3cc89@foodsci.unibo.it> <3AF9C816.EA7BD22A@umsanet.edu.bo>
Message-ID: <05ac01c0d8fa$e410be20$24da20c1@xmlworks.com>

I would like to use the power of R to perform vector operations on subsets
of vector elements, such as in calculation of moving averages. How does one
specify in the FUN argument the elements to operate on relative to the
current element? TIA.

Cheers,

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Thu May 10 04:38:54 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Thu, 10 May 2001 10:38:54 +0800
Subject: [R] extracting rows
In-Reply-To: <004401c0d8e6$ea8694a0$0100a8c0@athlon>; from e.prang@gmx.net on Thu, May 10, 2001 at 02:19:44AM +0200
References: <004401c0d8e6$ea8694a0$0100a8c0@athlon>
Message-ID: <20010510103854.D929@camille.indigoindustrial.co.nz>

> After time series calculations I hold a data frame with scattered NA's.
> Now I'd like to extract all those rows entirely free of NA's.  

na.omit(your.data.frame)

Regards

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Thu May 10 05:34:49 2001
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Thu, 10 May 2001 15:34:49 +1200
Subject: [R] R help files -> S-Plus; par('mgp')
References: <3AF95AD8.77C32E9F@virginia.edu>
Message-ID: <007a01c0d902$2ae5a930$175dd882@stat.auckland.ac.nz>

Hi


> P.S.  I didn't get any reaction to my proposal to have
> x- and y-axis specific par('mgp') parameters when
> par(las=1).  I hope that R-core will consider that.


My take on this is as follows ...

Doing this would make par() more complex and ...
    (i) par() is quite complex already
    (ii) there is no end to the number of parameters we could put in par()
to control specific aspects such as axis label locations.

I think that a better approach in this sort of case is to use a lower-level
tool to obtain greater control.  In this particular case, axis() or mtext()
will give you the flexibility you need.  The following code hopefully shows
what I mean ...

par(mfrow=c(2,2), mar=c(7,7,2,2), mgp=c(3,1,0), las=1)
  plot(1:10, xlab="", ylab="", main="standard mgp setttings")
  box("figure", lty="dashed")
par(mgp=c(7,3,0))
  plot(1:10, xlab="", ylab="", main="custom mgp settings\nfor both axes")
  box("figure", lty="dashed")
par(mgp=c(3,1,0))
  plot(1:10, xlab="", ylab="", axes=F,
       main="custom mgp settings\njust for the y-axis")
  box()
  axis(1)
  par(mgp=c(7,5,0))
  axis(2)
  box("figure", lty="dashed")
par(mgp=c(3,1,0))
  plot(1:10, xlab="", ylab="", axes=F,
       main="even more custom settings\njust for the y-axis")
  box()
  axis(1)
  axis(2, labels=FALSE)
  mtext(c("Whatever", "I", "Want", "Wherever", "I want it"),
        at=seq(10,2,-2), line=c(7, 7, 1, 4, 4), adj=c(0, 0, 1, .5, .5),
        side=2)
  box("figure", lty="dashed")


Happy to hear opposing arguments  :)

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 10 08:02:28 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 10 May 2001 07:02:28 +0100 (BST)
Subject: [R] Fortran subroutines dblepr, realpr, intpr
In-Reply-To: <a05010403b71f29505ba3@[163.1.41.88]>
Message-ID: <Pine.GSO.4.31.0105100700100.4223-100000@auk.stats>

On Wed, 9 May 2001, David Firth wrote:

> Further to my earlier request for help (see below): I should have
> said what operating system and compiler I am using.
>
> I am working with the (mingw) g77 compiler under Windows 2000, and
> following the approach outlined in Venables & Ripley's "S
> Programming", p243.  That is, with my Fortran code in testit.f, I say
>
> 	g77 -O2 -c testit.f
> 	dllwrap -o testit.dll --export-all-symbols testit.o
>
> which works fine when I don't have any print statements in testit.f,
> but if for example I call INTPR in testit.f the dllwrap step fails
> with the complaint
> 	undefined reference to `intpr_'
> 	dllwrap: gcc exited with status 1
>
> Any hints will be much appreciated.  As I said earlier, I am just
> beginning with this.

You need to link against -lR.  The esiest way is to use a small package and
install that.   It will make libR.a (in .../src/gnuwin32) as needed,
or you can run make libR.a there.

If that is not enough of a hint we can talk directly.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 10 08:32:16 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 10 May 2001 07:32:16 +0100 (BST)
Subject: PR#929 and [R] matrix: suspected integer overflow
In-Reply-To: <OF9F2E040F.1DD84A3A-ONC1256A46.00678455@is.chbs>
Message-ID: <Pine.GSO.4.31.0105100724300.4244-100000@auk.stats>

On Wed, 9 May 2001 andreas.krause at pharma.novartis.com wrote:

> Is the following a known issue, in particular in terms of message clarity of the latter two?

Yes, bug PR#929.  It's a bug in asInteger, an internal C routine which
using (int) on a double.  coerce.c has better routines used to corce
vectors, and the comment

/* This section of code handles type conversion for elements */
/* of data vectors.  Type coercion throughout R should use these */
/* routines to ensure consistency. */

!

I have altered asInteger (etc) to use the same routines.

However, I am not happy with what IntegerFromReal does: it gives the
maximum integer and the message.  I think it would be much better to return
NA in that cirumstance, when most uses of asInteger would give up
(correctly) and generate a meaningful error.

Comments, R-core?

> > matrix(0, 10^8, 10^8)
> Error: cannot allocate vector of size 2064896 Kb
> > matrix(0, 20, 10^10)
> Error in matrix(0, 20, 10^10) : negative length vectors are not allowed
> > matrix(0, 10^10, 10^10)
> Error: cannot allocate vector of size 0 Kb

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From v.moreno at ico.scs.es  Thu May 10 08:51:01 2001
From: v.moreno at ico.scs.es (Victor Moreno)
Date: Thu, 10 May 2001 08:51:01 +0200
Subject: [R] Passing a workspace file as argument
Message-ID: <01051008510101.25126@serc-vm.ico.scs.es>

What is the best way (if possible) to pass the name of a workspace file to R 
when it starts so it is loaded instead of .RData ?

I would like to know this for Linux and windows version. For windows I would 
like to associate the .RData extension so doubleclicking the file starts R 
and loads it.

Thanks
-- 
Victor Moreno                                       V.Moreno at ico.scs.es
Servei d'Epidemiologia i Registre del Cancer        http://lbe.uab.es
Institut Catala d'Oncologia                         tel +34 932607401
Gran Via km 2.7, 08907 Hospitalet, Barcelona, Spain
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 10 09:01:17 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 10 May 2001 08:01:17 +0100 (GMT Daylight Time)
Subject: [R] Passing a workspace file as argument
In-Reply-To: <01051008510101.25126@serc-vm.ico.scs.es>
Message-ID: <Pine.WNT.4.31.0105100756410.216-100000@tern.stats>

On Thu, 10 May 2001, Victor Moreno wrote:

> What is the best way (if possible) to pass the name of a workspace file to R
> when it starts so it is loaded instead of .RData ?

Why do you want to do that?  R loads the .Rdata in the working directory,
the directory from which it is started, so just cd and then launch R.

> I would like to know this for Linux and windows version. For windows I would
> like to associate the .RData extension so doubleclicking the file starts R
> and loads it.

Then please submit a patch for that. (You could probably do this via a .bat
file.)  Drag-and-drop to a Desktop icon might be nice while you are at it,
too.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From till.baumgaertel at epost.de  Thu May 10 09:28:25 2001
From: till.baumgaertel at epost.de (Till Baumgaertel)
Date: Thu, 10 May 2001 09:28:25 +0200
Subject: [R] [Newbie] Row-Iterator for data.frame??
In-Reply-To: <3AF9BB35.1070201@StonyBrook.Edu>
Message-ID: <3AFA5F39.21279.1D62C5@localhost>

> 	for(i in 1:nrow(dframe)) my.row <- dframe[i, ]
thank you! that did it!
bye,
till

--
"I have seen things you people wouldn't believe.
Attack-ships  on fire off the shoulder of Orion.
I watched seabeams glitter in the dark near the 
Tannhauser gate.
All  those  moments  will  be lost in time like
tears in rain. Time to die."              (Roy)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sean at categoricalsolutions.com.au  Thu May 10 09:21:45 2001
From: sean at categoricalsolutions.com.au (Sean Carmody)
Date: Thu, 10 May 2001 17:21:45 +1000
Subject: [R] outer
Message-ID: <NDBBKFGBEDHHNGGMMHOGKEJLDPAA.sean@categoricalsolutions.com.au>

I've just begun playing around with defining functions in R and
I'm not really sure what's going on in the following situation.

I've defined the following function:

gcd <- function(x,y) {
	x <- as.integer(x); y <- as.integer(y)
	q <- as.integer(x / y)
	r <- x - q * y
	if (r==0) y else gcd(y,r)
}

As expected, it gives the following results:

> gcd(3,2)
[1] 1

> gcd(2,4)
[1] 2

etc. However, the function behaves strangely with outer:

> outer(1:5,1:5,gcd)
     [,1] [,2] [,3] [,4] [,5]
[1,]    1    2    3    4    5
[2,]    1    2    3    4    5
[3,]    1    2    3    4    5
[4,]    1    2    3    4    5
[5,]    1    2    3    4    5

If i change the second line of the definition of gcd to

	y <- as.integer(x); x <- as.integer(y)

then the effect of gcd should not change, and the following
results still hold:

> gcd(3,2)
[1] 1

> gcd(2,4)
[1] 2

however, now outer gives a different result:

> outer(1:5,1:5,gcd)
     [,1] [,2] [,3] [,4] [,5]
[1,]    1    1    1    1    1
[2,]    2    2    2    2    2
[3,]    3    3    3    3    3
[4,]    4    4    4    4    4
[5,]    5    5    5    5    5

Somehow something strange seems to be happening to the
internal variable r when outer is used, but I'm not sure what
or why. Any thoughts would be appreciated.

Sean.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From holzer at stat.math.ethz.ch  Thu May 10 09:59:49 2001
From: holzer at stat.math.ethz.ch (Peter Holzer)
Date: Thu, 10 May 2001 09:59:49 +0200
Subject: [R] outer
In-Reply-To: <NDBBKFGBEDHHNGGMMHOGKEJLDPAA.sean@categoricalsolutions.com.au>
References: <NDBBKFGBEDHHNGGMMHOGKEJLDPAA.sean@categoricalsolutions.com.au>
Message-ID: <15098.19061.768321.468450@gargle.gargle.HOWL>

Hello Sean

When using outer you need vectorized functions. I think in your case it
would be enough to change the last line of your function to

ifelse(r==0, y, gcd(y,r))

Cheers, Peter

Sean Carmody writes:
 > I've just begun playing around with defining functions in R and
 > I'm not really sure what's going on in the following situation.
 > 
 > I've defined the following function:
 > 
 > gcd <- function(x,y) {
 > 	x <- as.integer(x); y <- as.integer(y)
 > 	q <- as.integer(x / y)
 > 	r <- x - q * y
 > 	if (r==0) y else gcd(y,r)
 > }
 > 
 > As expected, it gives the following results:
 > 
 > > gcd(3,2)
 > [1] 1
 > 
 > > gcd(2,4)
 > [1] 2
 > 
 > etc. However, the function behaves strangely with outer:
 > 
 > > outer(1:5,1:5,gcd)
 >      [,1] [,2] [,3] [,4] [,5]
 > [1,]    1    2    3    4    5
 > [2,]    1    2    3    4    5
 > [3,]    1    2    3    4    5
 > [4,]    1    2    3    4    5
 > [5,]    1    2    3    4    5
 > 
 > If i change the second line of the definition of gcd to
 > 
 > 	y <- as.integer(x); x <- as.integer(y)
 > 
 > then the effect of gcd should not change, and the following
 > results still hold:
 > 
 > > gcd(3,2)
 > [1] 1
 > 
 > > gcd(2,4)
 > [1] 2
 > 
 > however, now outer gives a different result:
 > 
 > > outer(1:5,1:5,gcd)
 >      [,1] [,2] [,3] [,4] [,5]
 > [1,]    1    1    1    1    1
 > [2,]    2    2    2    2    2
 > [3,]    3    3    3    3    3
 > [4,]    4    4    4    4    4
 > [5,]    5    5    5    5    5
 > 
 > Somehow something strange seems to be happening to the
 > internal variable r when outer is used, but I'm not sure what
 > or why. Any thoughts would be appreciated.
 > 
 > Sean.
 > 
 > 
 > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 > Send "info", "help", or "[un]subscribe"
 > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
 > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eger.m at gmx.de  Thu May 10 10:46:59 2001
From: eger.m at gmx.de (Marcus Eger)
Date: Thu, 10 May 2001 10:46:59 +0200
Subject: [R] Passing a workspace file as argument
References: <01051008510101.25126@serc-vm.ico.scs.es>
Message-ID: <3AFA5583.CD6463F9@gmx.de>

Victor Moreno wrote:
> 
> What is the best way (if possible) to pass the name of a workspace file to R
> when it starts so it is loaded instead of .RData ?
> 
> I would like to know this for Linux and windows version. For windows I would
> like to associate the .RData extension so doubleclicking the file starts R
> and loads it.
> 
Hi!
I needed different .RData files for different computers linked via nfs
in
order not to overwrite configurations. I did the following:

".First" <-  function ()
{
  image <- paste(".RData.",Sys.getenv("HOSTNAME"),sep="")
  print("restoring session <",image,"> ...")
  load(image,globalenv())
  if (interactive()) options(error=quote(dump.frames())) 
  else options(error=quote({dump.frames(to.file=TRUE); q()})) 
  options(warn=1)
  gc()
}

marcusE
-- 
+-------------------------------------------------------
| Marcus Eger
| Philipps Universitaet Marburg
| Fachbereich Physik AG Neurophysik
| Renthof 7
| 35032 Marburg
| Tel. ++49 +6421 282-4169
| Fax  ++49 +6421 282-7034
+-------- ><> -------------------------------------------
| E-Mail: eger.m at gmx.de (NEW)
|         marcus.eger at physik.uni-marburg.de (OLD)
| WWW:    http://neuro.physik.uni-marburg.de/~eger (NEW)
+--------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Olivier.Houix at ircam.fr  Thu May 10 11:04:49 2001
From: Olivier.Houix at ircam.fr (Olivier Houix)
Date: Thu, 10 May 2001 11:04:49 +0200
Subject: [R] about strsplit
Message-ID: <3AFA59B1.DE0BECF9@ircam.fr>

Hello,
I want to split a string including a "+" but 
it seems there is no effect because of this special character.
Just to explain, I convert frequencies to midi notes (external program)
but I don't want to keep 
information about quater-tone!
 
> s <- c("Fd4+1/4") (i't a note!)
> strsplit(s,"+")
[[1]]
[1] "F" "d" "4" "+" "1" "/" "4"

but
> strsplit(s,"d")
[[1]]
[1] "F"     "4+1/4"
So the problem is "+" !

I would prefer to obtain:
"Fd4" "1/4"

Thanks

Olivier Houix
-- 
Olivier Houix  <houix at ircam.fr>             tel: 01 44 78 15 51
Equipe Perception et Cognition Musicales    http://www.ircam.fr/  
IRCAM   1 place Igor Stravinsky             75004         Paris
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu May 10 11:27:19 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 May 2001 11:27:19 +0200
Subject: [R] outer
In-Reply-To: Peter Holzer's message of "Thu, 10 May 2001 09:59:49 +0200"
References: <NDBBKFGBEDHHNGGMMHOGKEJLDPAA.sean@categoricalsolutions.com.au> <15098.19061.768321.468450@gargle.gargle.HOWL>
Message-ID: <x2d79h5zbc.fsf@blueberry.kubism.ku.dk>

Peter Holzer <holzer at stat.math.ethz.ch> writes:

> Hello Sean
> 
> When using outer you need vectorized functions. I think in your case it
> would be enough to change the last line of your function to
> 
> ifelse(r==0, y, gcd(y,r))

Nope. Since ifelse() evaluates both alternatives, you'll have an
unterminating recursion. The only sure-kill way is to do an explicit
vectorization:

gcd.v <- function(x,y) sapply(seq(along=x),function(i)gcd(x[i],y[i]))
outer(1:5,1:5, gcd.v)



-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu May 10 11:40:54 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 May 2001 11:40:54 +0200
Subject: [R] about strsplit
In-Reply-To: Olivier Houix's message of "Thu, 10 May 2001 11:04:49 +0200"
References: <3AFA59B1.DE0BECF9@ircam.fr>
Message-ID: <x2ae4l5yop.fsf@blueberry.kubism.ku.dk>

Olivier Houix <Olivier.Houix at ircam.fr> writes:

> Hello,
> I want to split a string including a "+" but 
> it seems there is no effect because of this special character.
> Just to explain, I convert frequencies to midi notes (external program)
> but I don't want to keep 
> information about quater-tone!
>  
> > s <- c("Fd4+1/4") (i't a note!)
> > strsplit(s,"+")
> [[1]]
> [1] "F" "d" "4" "+" "1" "/" "4"

Read up on regular expressions (or see the last example on the help
page) and:

>  s <- "Fd4+1/4" 
> strsplit(s,"\\+")
[[1]]
[1] "Fd4" "1/4"




-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rsb at reclus.nhh.no  Thu May 10 11:54:36 2001
From: rsb at reclus.nhh.no (Roger Bivand)
Date: Thu, 10 May 2001 11:54:36 +0200 (CEST)
Subject: [R] about strsplit
In-Reply-To: <3AFA59B1.DE0BECF9@ircam.fr>
Message-ID: <Pine.LNX.4.21.0105101151460.28407-100000@reclus.nhh.no>

What about:

> strsplit(s,"+", extended=FALSE)
[[1]]
[1] "Fd4" "1/4"

(When extended is FALSE, "+" is not treated as an extended regular
expression, but as a basic reg.exp, in which "+" doesn't interfere).

Roger


On Thu, 10 May 2001, Olivier Houix wrote:

> Hello,
> I want to split a string including a "+" but 
> it seems there is no effect because of this special character.
> Just to explain, I convert frequencies to midi notes (external program)
> but I don't want to keep 
> information about quater-tone!
>  
> > s <- c("Fd4+1/4") (i't a note!)
> > strsplit(s,"+")
> [[1]]
> [1] "F" "d" "4" "+" "1" "/" "4"
> 
> but
> > strsplit(s,"d")
> [[1]]
> [1] "F"     "4+1/4"
> So the problem is "+" !
> 
> I would prefer to obtain:
> "Fd4" "1/4"
> 
> Thanks
> 
> Olivier Houix
> 

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eger.m at gmx.de  Thu May 10 12:06:00 2001
From: eger.m at gmx.de (Marcus Eger)
Date: Thu, 10 May 2001 12:06:00 +0200
Subject: [R] Passing a workspace file as argument
References: <Pine.GSO.4.31.0105100957150.10201-100000@toucan.stats>
Message-ID: <3AFA6808.9CF118EF@gmx.de>

Prof Brian Ripley wrote:
> 
> On Thu, 10 May 2001, Marcus Eger wrote:
> > I needed different .RData files for different computers linked via nfs
> > in
> > order not to overwrite configurations. I did the following:
> 
> Why?
> 
> Unless you don't have XDR on one of your systems, the same workspace
> should work everywhere (and that includes Windows and Mac).  I share
> workspaces between Solaris, i686 Linux and Windows all the time.

If you run several programs in parallel on many different machines with
one home
directory it might be very useful.

marcusE

-- 
+-------------------------------------------------------
| Marcus Eger
| Philipps Universitaet Marburg
| Fachbereich Physik AG Neurophysik
| Renthof 7
| 35032 Marburg
| Tel. ++49 +6421 282-4169
| Fax  ++49 +6421 282-7034
+-------- ><> -------------------------------------------
| E-Mail: eger.m at gmx.de (NEW)
|         marcus.eger at physik.uni-marburg.de (OLD)
| WWW:    http://neuro.physik.uni-marburg.de/~eger (NEW)
+--------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Olivier.Houix at ircam.fr  Thu May 10 12:05:34 2001
From: Olivier.Houix at ircam.fr (Olivier Houix)
Date: Thu, 10 May 2001 12:05:34 +0200
Subject: [R] about strsplit
Message-ID: <3AFA67EE.4CB06505@ircam.fr>

oups!
I realize I didn't use the extension "extended" 

extended -> if TRUE, extended regular expression matching is used, and
if FALSE basic regular expressions are used.

I must read more carefully the help page!!
Sorry,
Olivier Houix
-- 
Olivier Houix  <houix at ircam.fr>             tel: 01 44 78 15 51
Equipe Perception et Cognition Musicales    http://www.ircam.fr/  
IRCAM   1 place Igor Stravinsky             75004         Paris
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Thu May 10 12:44:36 2001
From: peter at esb.ucp.pt (Peter Ho)
Date: Thu, 10 May 2001 11:44:36 +0100
Subject: [R] Replacing missing values
References: <5.0.2.1.0.20010508193640.04f88aa0@pop.freesurf.fr>
Message-ID: <3AFA7110.BB12394F@esb.ucp.pt>



Jean Vidal wrote:

> I'm discovering R (very impressive), and didn't find in the docs a simple
> method for replacing, in a data frame, missing values (NA) with the
> column's mean (or any other method for reconstructing missing values when
> needed).

Joe Schafer has written a package called "norm" for the analysis of multivariate
normal datasets with missing value, which has been ported to R by Alvaro A. Novo,
and can be found in CRAN as a contributed package. norm uses the method of multiple
imputation (both the Expectation Maximization algorithm and Data Augmentation) to
impute mssing values. Joe Schafer has lots of information (docs and slide
presentations) about multiple imputation and on the use of norm. He has also
written a book " Analysis of Incomplete Multivariate Data ". You can get more
information on all of this at his webste at http://www.stat.psu.edu/~jls/ .

You may also want to consult Gary King, who has also written a program for imputing
missing values and has also some documentation on this at
http://GKing.Harvard.Edu/stats.shtml

I would recommend reading all the information on those sites, before using norm.

I hope this will help.


Peter
------------------------------------------------------
Peter Ho GradIFST
Escola Superior de Biotecnologia
Universidade Cat?lica Portuguesa
Rua Dr. Ant?nio Bernardino de Almeida
4200-072 Porto
Portugal


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bm8 at st-andrews.ac.uk  Thu May 10 13:22:18 2001
From: bm8 at st-andrews.ac.uk (Bernie McConnell)
Date: Thu, 10 May 2001 12:22:18 +0100
Subject: [R] memory blues
Message-ID: <3.0.5.32.20010510122218.00944c40@bute.st-and.ac.uk>

G'Day again,

I am attempting to read a large MSAccess file into R,  but get memory
problems.  With the first 100 rows of the table ("Macca99") things, as
shown below, are fine and the resulting object is 33,780 bytes.  But when I
read the entire table ("MaccaDiv99") which is 218,000 rows  R falls over
with the message:

Rgui.exe - Application error
The instruction at "0x025d0458" referenced memory at "0x0000003a".
The memory could not be "read"

My arithmetic suggests that the resulting object should have been about
 33,708 * 218,000 / 100 = c. 74 Mbytes.  I'm running Win NT with 256 Mbyte
memory so I was expecting to be able to read in the entire table.  Or am I
being hopelessly naive?

Many thanks

Bernie McConnell

> library (RODBC)
> options("dec",".")
$dec
[1] "."

$.
NULL

> theChannel <- odbcConnect("Ellies", "", "") 
> p          <- sqlFetch(theChannel, "Macca99") 
> odbcClose(theChannel)
[1] 1
> object.size(p)
[1] 33780
> 
> R.Version()
$platform
[1] "i386-pc-mingw32"
$arch
[1] "x86"
$os
[1] "Win32"
$system
[1] "x86, Win32"
$status
[1] ""
$major
[1] "1"
$minor
[1] "2.2"
$year
[1] "2001"
$month
[1] "02"
$day
[1] "26"
$language
[1] "R"


Bernie McConnell
NERC SEA MAMMAL RESEARCH UNIT
Gatty Marine Lab, St Andrews University
St Andrews, Fife,  KY16 8LB, Scotland.

b.mcconnell at smru.st-andrews.ac.uk
http://www.smru.st-and.ac.uk
tel:  	+44 (1334) 463280   
fax:  	+44 (1334) 462632   


                
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 10 13:54:46 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 10 May 2001 12:54:46 +0100 (BST)
Subject: [R] memory blues
In-Reply-To: <3.0.5.32.20010510122218.00944c40@bute.st-and.ac.uk>
Message-ID: <Pine.LNX.4.31.0105101250560.15478-100000@gannet.stats>

On Thu, 10 May 2001, Bernie McConnell wrote:

> G'Day again,
>
> I am attempting to read a large MSAccess file into R,  but get memory
> problems.  With the first 100 rows of the table ("Macca99") things, as
> shown below, are fine and the resulting object is 33,780 bytes.  But when I
> read the entire table ("MaccaDiv99") which is 218,000 rows  R falls over
> with the message:
>
> Rgui.exe - Application error
> The instruction at "0x025d0458" referenced memory at "0x0000003a".
> The memory could not be "read"
>
> My arithmetic suggests that the resulting object should have been about
>  33,708 * 218,000 / 100 = c. 74 Mbytes.  I'm running Win NT with 256 Mbyte
> memory so I was expecting to be able to read in the entire table.  Or am I
> being hopelessly naive?

Probably.  R certainly requires several times the size of the final object
for these operations. Try reading it in pieces, or set "as" to read it as
a matrix and then convert.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Thu May 10 13:57:50 2001
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Thu, 10 May 2001 21:57:50 +1000
Subject: [R] Passing a workspace file as argument
Message-ID: <3AFA823E.E81C487D@ozemail.com.au>

Victor Moreno wrote:

> What is the best way (if possible) to pass the name of a workspace
file to R?

If what you want to do is to load functions that have been saved in
another workspace, there is a Q&D workaround for this in "Kickstarting
R", a new version of which should be appearing as soon as I get to work.

http://cran.r-projects.org

and look in Contributed - Documentation

Jim


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cozzig at unive.it  Thu May 10 16:11:26 2001
From: cozzig at unive.it (Giulio Cozzi)
Date: Thu, 10 May 2001 16:11:26 +0200
Subject: [R] TclTk problems
Message-ID: <3AFAA18E.940C9DD@unive.it>

Dear R-Users
I'm running SuseLinuxPPC 7.1 and R 1.2.3 installed by sources. I've
tried to run the demo for Tk (tkdensity e.g.) but R says
" > require(tcltk) || stop("tcltk support is absent")
Loading required package: tcltk 
Error in firstlib(which.lib.loc, package) : 
        Tcl/Tk support is not available on this system
Error in eval.with.vis(expr, envir, enclos) : 
        tcltk support is absent
> "
I've installed all the TK/Tcl stuff from Yast2 (the suse installer)
butno way to run these demo. Is it a wrong path the problem ? Could you
suggets how to configure or solving htis ?
Thanks for help
Giulio
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu May 10 16:29:18 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 May 2001 16:29:18 +0200
Subject: [R] TclTk problems
In-Reply-To: Giulio Cozzi's message of "Thu, 10 May 2001 16:11:26 +0200"
References: <3AFAA18E.940C9DD@unive.it>
Message-ID: <x21ypx5lc1.fsf@blueberry.kubism.ku.dk>

Giulio Cozzi <cozzig at unive.it> writes:

> Dear R-Users
> I'm running SuseLinuxPPC 7.1 and R 1.2.3 installed by sources. I've
> tried to run the demo for Tk (tkdensity e.g.) but R says
> " > require(tcltk) || stop("tcltk support is absent")
> Loading required package: tcltk 
> Error in firstlib(which.lib.loc, package) : 
>         Tcl/Tk support is not available on this system
> Error in eval.with.vis(expr, envir, enclos) : 
>         tcltk support is absent
> > "
> I've installed all the TK/Tcl stuff from Yast2 (the suse installer)
> butno way to run these demo. Is it a wrong path the problem ? Could you
> suggets how to configure or solving htis ?
> Thanks for help
> Giulio

The configure script for R tries its best to find the Tcl/Tk
installation. What does it tell you at the end? 

Notice that Tcl/Tk must be installed before you configure R, and also
that you might need to remove the config.cache file before
reconfiguring. 

If that doesn't work, you'll have to tell us where tcl.h, libtcl.so
and friends are located on SuseLinuxPPC, so that we have a chance of
guessing what went wrong.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cozzig at unive.it  Thu May 10 18:43:20 2001
From: cozzig at unive.it (GIULIO COZZI)
Date: Thu, 10 May 2001 18:43:20 +0200 (CEST)
Subject: [R] TclTk problems
In-Reply-To: <x21ypx5lc1.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.10.10105101840000.1230-100000@velios.unive.it>

I've installed again from sources R and now it works everything really
fine.
Thanks for your suggestions which helped me to think an to search what
could have been the problem.
All the best
Giulio

@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
My NEXT computer wil BE a MAC.
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
Giulio Cozzi			++39 41 2578657 (voice)
Enviromental Sciences Dep.
University of Venice		++39 41 2578549 (fax)
Calle Larga Santa Marta,2137
I-30123 Venezia
Italy 
cozzig at unive.it (e-mail)
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jbstats at hotmail.com  Thu May 10 21:44:26 2001
From: jbstats at hotmail.com (Jill)
Date: Thu, 10 May 2001 20:44:26 +0100
Subject: [R] SSfpl
Message-ID: <OE62Bv9ninarBU393Ih00000958@hotmail.com>

Hi I just downloaded the R software and am specifically looking for the SSfpl
function but when I try to run the example it says that the function SSfpl is 
not know.  How do I get the script for this

Thanks

Jill
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010510/370e8b6a/attachment.html

From ligges at statistik.uni-dortmund.de  Thu May 10 22:37:47 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 10 May 2001 22:37:47 +0200
Subject: [R] SSfpl
References: <OE62Bv9ninarBU393Ih00000958@hotmail.com>
Message-ID: <3AFAFC1B.7FCAC8D6@statistik.uni-dortmund.de>



> Jill wrote:
> 
> Hi I just downloaded the R software and am specifically looking for
> the SSfpl
> function but when I try to run the example it says that the function
> SSfpl is
> not know.  How do I get the script for this

It's in the package nls. So use 
 
 library(nls)

at first.


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Thu May 10 23:45:05 2001
From: s-luppescu at uchicago.edu (s-luppescu@uchicago.edu)
Date: Thu, 10 May 2001 16:45:05 -0500 (CDT)
Subject: [R] Scanning data lines with blanks in character vars
Message-ID: <XFMail.20010510164505.s-luppescu@uchicago.edu>

Hello, I'm trying to read data in from a file using scan(). The last field is a
character string that contains blanks. I had read it in in S-Plus using this
code:

ifile <- list(entry=0,measure=0,st=0,count=0,score=0,
           error=0,inmsq=0,instd=0,outms=0,outstd=0,displc=0,ptbis=0,a=0,
        r="",name="")
if.widths <- c(1, 5, 8, 3, 6, 7, 7, 7, 7, 7, 7, 7, 7, 2, 2, 85)
d1 <- scan(file=fd,ifile,flush=T,skip=0,widths=if.widths)

The name variable is a character string that contains blanks, is of varying
length (maximum length is 85), varying number of words and is not surrounded by
quotes. It always starts at position 84 on the line and goes to the end of the
line.

This used to work in S-Plus 3.4 in SunOS (but it seems not to anymore, since we
moved to version 5 -- but that's besides the point). Anyway, since there is no
widths= in scan() in R, how do I read in a string containing blanks?
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl.html
http://musuko.uchicago.edu/pubkey.asc for PGP Public Key
ICQ #21172047  AIM: psycho7070
Eat shit -- billions of flies can't be wrong.
>> Sent on 10-May-2001 at 15:08:04 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri May 11 00:11:56 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 May 2001 00:11:56 +0200
Subject: [R] Scanning data lines with blanks in character vars
In-Reply-To: s-luppescu@uchicago.edu's message of "Thu, 10 May 2001 16:45:05 -0500 (CDT)"
References: <XFMail.20010510164505.s-luppescu@uchicago.edu>
Message-ID: <x2eltwrh03.fsf@blueberry.kubism.ku.dk>

s-luppescu at uchicago.edu writes:

> Hello, I'm trying to read data in from a file using scan(). The last field is a
> character string that contains blanks. I had read it in in S-Plus using this
> code:
> 
> ifile <- list(entry=0,measure=0,st=0,count=0,score=0,
>            error=0,inmsq=0,instd=0,outms=0,outstd=0,displc=0,ptbis=0,a=0,
>         r="",name="")
> if.widths <- c(1, 5, 8, 3, 6, 7, 7, 7, 7, 7, 7, 7, 7, 2, 2, 85)
> d1 <- scan(file=fd,ifile,flush=T,skip=0,widths=if.widths)
> 
> The name variable is a character string that contains blanks, is of varying
> length (maximum length is 85), varying number of words and is not surrounded by
> quotes. It always starts at position 84 on the line and goes to the end of the
> line.
> 
> This used to work in S-Plus 3.4 in SunOS (but it seems not to anymore, since we
> moved to version 5 -- but that's besides the point). Anyway, since there is no
> widths= in scan() in R, how do I read in a string containing blanks?


have a look at read.fwf (doesn't have a what=argument, though)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Rajiv.Prasad at pnl.gov  Fri May 11 00:27:25 2001
From: Rajiv.Prasad at pnl.gov (Prasad, Rajiv)
Date: Thu, 10 May 2001 15:27:25 -0700
Subject: [R] lookup function for density(...) objects
Message-ID: <202822BFB70EBC4BB3EAFD853EE2B6BF04B0BE@pnlmse10.pnl.gov>


Hi folks:

Is there a lookup function that returns the variate given the cumulative
probability for an object returned by the density(...) function?

> mydata _ as.vector(mymatrix)
> mydata.density _ density(mydata)
> mydata.p80 _ lookup(mydata.density, p=0.8)  # is there any function to
accomplish this task?

Thanks.

Rajiv.
--------
Rajiv Prasad, Postdoctoral Research Associate, Hydrology Group
Pacific Northwest National Laboratory, P.O. Box 999, MSIN K9-33, Richland, WA
99352
Voice: (509) 375-2096    Fax: (509) 372-6089    Email: rajiv.prasad at pnl.gov


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From postmaster  Fri May 11 01:44:22 2001
From: postmaster (postmaster)
Date: Fri, 11 May 2001 06:44:22 +0700
Subject: [R] Spam mail warning notification!
Message-ID: <200105102345.BAA19153@stat.math.ethz.ch>

************* Content Filter Notification **************

The following mail was blocked since it contains sensitive content.

Source mailbox: <s-luppescu at uchicago.edu>
Destination mailbox(es): <r-help at stat.math.ethz.ch>
Policy: Dirty Words(shit)
Action: Quarantine

Recipient, Content filter has detected a sensitive e-mail.

******************* End of message *******************
-------------- next part --------------
Received: by stat.math.ethz.ch (8.9.1/8.9.1) id XAA04547
	for r-help-gang-use; Thu, 10 May 2001 23:45:17 +0200 (MET DST)
Received: (from daemon at localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id XAA04534
	for <r-help at stat.math.ethz.ch>; Thu, 10 May 2001 23:45:10 +0200 (MET DST)
Received: from musuko.uchicago.edu(128.135.39.147)
 via SMTP by hypatia, id smtpdAAAa0016X; Thu May 10 23:45:08 2001
Received: (from sl70 at localhost)
	by musuko.uchicago.edu (8.11.2/8.11.2) id f4ALj6E03595
	for r-help at stat.math.ethz.ch; Thu, 10 May 2001 16:45:06 -0500
Message-ID: <XFMail.20010510164505.s-luppescu at uchicago.edu>
X-Mailer: XFMail 1.4.7p1 on Linux
X-Priority: 3 (Normal)
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 8bit
MIME-Version: 1.0
Date: Thu, 10 May 2001 16:45:05 -0500 (CDT)
X-Face: &Uky;wivSfT_h6'<6F at p&7]0z";s~axe..-:6:`LzPD'SR:r<)-JK21yU$nl;AzQ#I2$.7'
 u-f5<2%'b`J3?k%s6[06tr"~;=I{55PYt9,(9dWmhR?0GQxAZSqc6c5 at P/fCwpS]1gj<^6>"0{5_91
 }w0qn/:dM}9SLlsZYv7JW_hGSk>2Z=&A9.AOX^Y\Qqu#D(H:+yv26dqcvi0l]r]/c){s0_')Wu;?[J
 ltVl;(?7*L_I$evHiHy%[FmUq#1y-hWg7^/ZQjl_S4lC.AvbyS`G5;M*fzYl+"_TJqw,"X;%XLbkHJ (k
Reply-To: s-luppescu at uchicago.edu
Organization: Univ of Chicago
From: s-luppescu at uchicago.edu
To: R Help List <r-help at stat.math.ethz.ch>
Subject: [R] Scanning data lines with blanks in character vars
Sender: owner-r-help at stat.math.ethz.ch
Precedence: SfS-bulk

From P.Connolly at hortresearch.co.nz  Fri May 11 05:27:03 2001
From: P.Connolly at hortresearch.co.nz (Patrick Connolly)
Date: Fri, 11 May 2001 15:27:03 +1200 (NZST)
Subject: [R] par('mgp')
In-Reply-To: <007a01c0d902$2ae5a930$175dd882@stat.auckland.ac.nz> from "Paul Murrell" at May 10, 2001 03:34:49 PM
Message-ID: <200105110327.f4B3R3n25402@biomat1.marc.hort.cri.nz>

According to Paul Murrell:
|> 
|> Hi
|> 
|> 
|> > P.S.  I didn't get any reaction to my proposal to have
|> > x- and y-axis specific par('mgp') parameters when
|> > par(las=1).  I hope that R-core will consider that.
|> 
|> 
|> My take on this is as follows ...
|> 
|> Doing this would make par() more complex and ...
|>     (i) par() is quite complex already
|>     (ii) there is no end to the number of parameters we could put in par()
|> to control specific aspects such as axis label locations.
|> 
|> I think that a better approach in this sort of case is to use a lower-level
|> tool to obtain greater control.  In this particular case, axis() or mtext()

I had become used to using that approach using Splus because the
default par values were not often very useful.  I even have a function
I call blank.plot that does nothing more than set up the plotting
area.  I then do the rest using lines, points, axis, text, mtext, box
and a few more rather like what Paul describes.  Different plotting
devices have different default par settings which adds to the
complexity.  Rarely does the same mgp value suit x and y axes.  To use
axis, one first has to specify yaxt = "n" (and probably xaxt = "n") in
the plot call.  It does seem a bit silly to use a vector of length 3
to change only one value.  Separate xmgp and ymgp would be
considerably simpler.

I use in my work a function to make breaks in the y-axis. It has a
y.mgp and a x.mgp parameter.  The latter is defined as the amount the
second element of mgp for the x-axis is smaller than for the y-axis
(and with different defaults depending on the device being used).  The
function looks too complicated for general distribution.

In R, I was pleased to notice that there is more flexibility in the
par settings such as the different cex values.  I don't think it
clutters, and there is room for a few more carefully named parameters.
I'm inclined to agree with Frank's idea, preferring xmgp and ymgp to
changing the length of mgp which is too much of a paradigm shift.

For publication quality plots, I would probably continue to use the
lower level tools as in the past, but it would be useful to get
something halfways decent with less tinkering.  

|> 
|> Happy to hear opposing arguments  :)

Opposing they might be, but they're not mutually exclusive.

best

-- 
*************************************************************
Patrick Connolly
HortResearch                        Great minds discuss ideas;
Mt Albert                           Average minds discuss events; 
Auckland                            Small minds discuss people.
New Zealand                                                 .... Anon
Ph: +64-9 815 4200 x 7188
*************************************************************


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Fri May 11 06:55:46 2001
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 11 May 2001 16:55:46 +1200
Subject: [R] lookup function for density(...) objects
References: <202822BFB70EBC4BB3EAFD853EE2B6BF04B0BE@pnlmse10.pnl.gov>
Message-ID: <3AFB70D2.36A5608A@stat.auckland.ac.nz>

"Prasad, Rajiv" wrote:
> 
> Hi folks:
> 
> Is there a lookup function that returns the variate given the cumulative
> probability for an object returned by the density(...) function?
> 
> > mydata _ as.vector(mymatrix)
> > mydata.density _ density(mydata)
> > mydata.p80 _ lookup(mydata.density, p=0.8)  # is there any function to
> accomplish this task?

One simple thing to do is to obtain an interpolating spline through the
(x,y) values returned by "density".  Something like this:

	> y <- rnorm(1000)
	> d <- density(y)
	> f <- splinefun(d$x, d$y)
	> f(seq(-3,3,by=.1))

Note that splinefun returns a function which can be used to do the
lookup. If you'd prefer linear interpolation, you can use approxfun.

-- 
Ross Ihaka                         Email:  ihaka at stat.auckland.ac.nz
Department of Statistics           Phone:  (64-9) 373-7599 x 5054
University of Auckland             Fax:    (64-9) 373-7018
Private Bag 92019, Auckland
New Zealand
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 11 07:59:06 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 11 May 2001 06:59:06 +0100 (BST)
Subject: [R] Scanning data lines with blanks in character vars
In-Reply-To: <XFMail.20010510164505.s-luppescu@uchicago.edu>
Message-ID: <Pine.GSO.4.31.0105110657580.7292-100000@auk.stats>

On Thu, 10 May 2001 s-luppescu at uchicago.edu wrote:

> Hello, I'm trying to read data in from a file using scan(). The last field is a
> character string that contains blanks. I had read it in in S-Plus using this
> code:
>
> ifile <- list(entry=0,measure=0,st=0,count=0,score=0,
>            error=0,inmsq=0,instd=0,outms=0,outstd=0,displc=0,ptbis=0,a=0,
>         r="",name="")
> if.widths <- c(1, 5, 8, 3, 6, 7, 7, 7, 7, 7, 7, 7, 7, 2, 2, 85)
> d1 <- scan(file=fd,ifile,flush=T,skip=0,widths=if.widths)
>
> The name variable is a character string that contains blanks, is of varying
> length (maximum length is 85), varying number of words and is not surrounded by
> quotes. It always starts at position 84 on the line and goes to the end of the
> line.
>
> This used to work in S-Plus 3.4 in SunOS (but it seems not to anymore, since we
> moved to version 5 -- but that's besides the point). Anyway, since there is no
> widths= in scan() in R, how do I read in a string containing blanks?

Please see the code for read.fwf for how this is done.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Fri May 11 10:32:31 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 11 May 2001 09:32:31 +0100
Subject: [R] mean
In-Reply-To: <000e01c0d8ae$e6132f60$06d3cc89@foodsci.unibo.it>
References: <3AF8BFD8.8584434D@hia.net>
 <x21ypz2dcs.fsf@blueberry.kubism.ku.dk>
 <000e01c0d8ae$e6132f60$06d3cc89@foodsci.unibo.it>
Message-ID: <lWMBdFAfO6+6EwF+@myatt.demon.co.uk>

luca laghi <llaghi at foodsci.unibo.it> writes:
>
> Greetings,
>a little question:
>if I heve got a matrix with 10 columns, how do I produce a 10 elements
>vector with the average of each column?
>Thank you,
>Luca

Try:

        apply(mat, 2, mean)

The '2' indicates columns. You can specify arguments to the applied
function ...

        apply(mat, 2, mean, na.rm = TRUE)

I hope that helps.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hstevens at rci.rutgers.edu  Fri May 11 15:45:36 2001
From: hstevens at rci.rutgers.edu (Martin Henry H. Stevens)
Date: Fri, 11 May 2001 09:45:36 -0400
Subject: [R] lsoda
Message-ID: <002001c0da20$a866ec60$9db9e6a5@rutgers.edu>

I am running R 1.2.3 with ESS5.1.18 with Windows 98.

I am trying to use lsoda in the odesolve apckage and am having problems.
Question:
The return value of the function of the system of ode's has to be a list
that includes first, the ode's and second, "a vector
          (possibly with a `names' attribute) of global values that are
required at each point in `times'."
I didn't understand from the example why the massbalance = sum(y) was needed
for that system of equations. Why is it needed?

For my function below ('lvcomp2'), I don't know what global values lsoda
needs at each point in time (see???), other than the previous time step's
values of y and the parms. Any help?

Also, any rule of thumb advice regarding rtol and atol would be appreciated.

p <- c(r1=.01, r2=.01, a12=0.5, a21=0.6, k1=1,k2=1)
t <- 1:20
lvcomp2 <- function(y, t, p)
{ # Lotka - Volterra model of two competing populations
dN1.dt <- p["r1"] * y[1] * (1-(y[1] + p["a12"]*y[2])/p["k1"])
dN2.dt <- p["r2"] * y[2] * (1-(y[2] + p["a21"]*y[1])/p["k2"])
list(c(dN1.dt,dN2.dt),c(???))
}
outlv <- lsoda(c(.1,.1),t, lvcomp2, p,rtol=1e-4, atol=1e-6)
outlv

TIA,
Henry

Dr. M. Henry H. Stevens
Postdoctoral Associate
Department of Ecology, Evolution, & Natural Resources
14 College Farm Road
Cook College, Rutgers University
New Brunswick, NJ 08901-8551

email: hstevens at rci.rutgers.edu
phone: 732-932-9631
fax: 732-932-8746

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rod.chav at hsoft.es  Fri May 11 17:13:44 2001
From: rod.chav at hsoft.es (Antonio =?iso-8859-1?Q?Rodr=EDguez?= Verdugo)
Date: Fri, 11 May 2001 17:13:44 +0200
Subject: [R] output from STL
Message-ID: <3.0.6.32.20010511171344.007a44c0@pop.hsoft.es>

Hi All,

How do I can create a new vector, i.e. 'seasonal' or 'trend' from the
resultant seasonal or trend component of the Time.Series object produced by
STL, and how I could superpose in the same graphic, i.e. original data and
trend or seasonality?

Thanks in advance!

Antonio
Antonio Rodr?guez Verdugo
CICEM Agua del Pino
Huelva
Oceanography and Coastal Resources,
PhD Program, 
University of Huelva
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Fri May 11 17:14:18 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Fri, 11 May 2001 11:14:18 -0400
Subject: [R] lsoda
Message-ID: <OF2F2707C9.19BCD2F6-ON85256A49.0051E4D3@rtp.epa.gov>


The return value is a list because, in the applications for which I
originally wrote the package, it is common to have state variables whose
values are determined by the ODEs, and others that are functions of the
state variables (the second component of the return value).   For example,
state variables for a physiologically-based pharmacokinetic model are
usually amounts of chemical in the various compartments, but the rate
equations usually depend upon concentrations, and usually it is
concentrations that we measure.  Also, we like to make sure that we have
really accounted for everything, so we calculate the mass balance at each
time step, which would just be the sum of all the amounts (assuming the
model tries to account for the fate of all the incoming chemical).
Since it is often the case that the odes themselves can be written to
depend upon those global variables, it seemed more efficient to output the
global variables with the solutions of the odes, rather than have to
recompute them as a function of the ode solutions.

If you do not have any such 'global' variables, you don't need to force it!
Just return a list with one component, the ode solution.   So, for your
problem, just return:
list(c(dN1.dt,dN2.dt))
However, make sure you are returning a list, and not a simple vector --
lsoda will bomb (I've done that too many times).

As to suggestions for atol and rtol, I've always used values on the order
of 1e-6, and compared the results of runs with different values to see if
it made a difference.  I'm not sure how low you can reasonably go.  No
doubt the literature on the performance of lsoda and similar solvers has
some better recommendations.

Finally, make sure you are using at least version 0.5-4, or you will crash
the first time you specify times as t <- 1:20.

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                                               
                    "Martin Henry H.                                                                                           
                    Stevens"                    To:     r-help at stat.math.ethz.ch                                               
                    <hstevens at rci.rutger        cc:                                                                            
                    s.edu>                      Subject:     [R] lsoda                                                         
                    Sent by:                                                                                                   
                    owner-r-help at stat.ma                                                                                       
                    th.ethz.ch                                                                                                 
                                                                                                                               
                                                                                                                               
                    05/11/01 09:45 AM                                                                                          
                                                                                                                               
                                                                                                                               




I am running R 1.2.3 with ESS5.1.18 with Windows 98.

I am trying to use lsoda in the odesolve apckage and am having problems.
Question:
The return value of the function of the system of ode's has to be a list
that includes first, the ode's and second, "a vector
          (possibly with a `names' attribute) of global values that are
required at each point in `times'."
I didn't understand from the example why the massbalance = sum(y) was
needed
for that system of equations. Why is it needed?

For my function below ('lvcomp2'), I don't know what global values lsoda
needs at each point in time (see???), other than the previous time step's
values of y and the parms. Any help?

Also, any rule of thumb advice regarding rtol and atol would be
appreciated.

p <- c(r1=.01, r2=.01, a12=0.5, a21=0.6, k1=1,k2=1)
t <- 1:20
lvcomp2 <- function(y, t, p)
{ # Lotka - Volterra model of two competing populations
dN1.dt <- p["r1"] * y[1] * (1-(y[1] + p["a12"]*y[2])/p["k1"])
dN2.dt <- p["r2"] * y[2] * (1-(y[2] + p["a21"]*y[1])/p["k2"])
list(c(dN1.dt,dN2.dt),c(???))
}
outlv <- lsoda(c(.1,.1),t, lvcomp2, p,rtol=1e-4, atol=1e-6)
outlv

TIA,
Henry

Dr. M. Henry H. Stevens
Postdoctoral Associate
Department of Ecology, Evolution, & Natural Resources
14 College Farm Road
Cook College, Rutgers University
New Brunswick, NJ 08901-8551

email: hstevens at rci.rutgers.edu
phone: 732-932-9631
fax: 732-932-8746

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From todd.taylor at pnl.gov  Fri May 11 19:03:39 2001
From: todd.taylor at pnl.gov (Taylor, Z Todd)
Date: Fri, 11 May 2001 10:03:39 -0700
Subject: [R] Managing R objects with 'make'
Message-ID: <202822BFB70EBC4BB3EAFD853EE2B6BF041E07@pnlmse10.pnl.gov>

I frequently use Makefiles to manage routine data manipulations
and repeated analyses where the "raw" data tend to change
with time.  With S/Splus, this has worked quite naturally, as
long as I'm careful to use S object names that map directly
to Unix/Linux filenames.

For example, say I'm building a particular graphic (chart.ps)
from a data.frame in S (mydata) that comes from an external
data file (mydata.csv).  The makefile snippet would look like:

   chart.ps: .Data/mydata mkchart.src
   	Splus < mkchart.src > mkchart.log 2>&1

   .Data/mydata: mydata.csv build_mydata.src
   	Splus < build_mydata.src > build_mydata.log 2>&1

Of course, build_mydata.src would do a read.table on
mydata.csv plus other necessary transformations.

I'm looking for suggestions how I might achieve similar
functionality using R.

My work involves many other programs besides S, so I'm
very reluctant to abandon the Makefile approach to use R.
But it's not obvious to me that I can use 'make' to manage
individual objects in R.

Any thoughts?

--Todd
-- 
Z. Todd Taylor
Pacific Northwest National Laboratory
Todd.Taylor at pnl.gov
Why do 'write down' and 'write up' mean the same thing?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri May 11 19:30:26 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 11 May 2001 10:30:26 -0700 (PDT)
Subject: [R] Managing R objects with 'make'
In-Reply-To: <202822BFB70EBC4BB3EAFD853EE2B6BF041E07@pnlmse10.pnl.gov>
Message-ID: <Pine.A41.4.33.0105111025040.109860-100000@homer13.u.washington.edu>

On Fri, 11 May 2001, Taylor, Z Todd wrote:

> I frequently use Makefiles to manage routine data manipulations
> and repeated analyses where the "raw" data tend to change
> with time.  With S/Splus, this has worked quite naturally, as
> long as I'm careful to use S object names that map directly
> to Unix/Linux filenames.
>
> For example, say I'm building a particular graphic (chart.ps)
> from a data.frame in S (mydata) that comes from an external
> data file (mydata.csv).  The makefile snippet would look like:
>
>    chart.ps: .Data/mydata mkchart.src
>    	Splus < mkchart.src > mkchart.log 2>&1
>
>    .Data/mydata: mydata.csv build_mydata.src
>    	Splus < build_mydata.src > build_mydata.log 2>&1
>
> Of course, build_mydata.src would do a read.table on
> mydata.csv plus other necessary transformations.
>
> I'm looking for suggestions how I might achieve similar
> functionality using R.
>
> My work involves many other programs besides S, so I'm
> very reluctant to abandon the Makefile approach to use R.
> But it's not obvious to me that I can use 'make' to manage
> individual objects in R.

You *can* store individual objects or sets of objects in files in R, it
just doesn't happen automatically. If your object creation is done by
scripts it is easy to build in a save() command

Eg  build_data.r

x<-read.table("xfile.dat")
y<-read.table("yfile.dat")
z<-somefunctionof(x,y)
save(x,y,z,file="xyz.rdata")


   mkchart.R

load("xyz.rdata")
postscript("chart.ps")
plot(someobjectbasedon(x,y,z))
dev.off()


	-thomas


Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Timothy.Keitt at StonyBrook.Edu  Fri May 11 19:58:01 2001
From: Timothy.Keitt at StonyBrook.Edu (Timothy H. Keitt)
Date: Fri, 11 May 2001 13:58:01 -0400
Subject: [R] lsoda
References: <OF2F2707C9.19BCD2F6-ON85256A49.0051E4D3@rtp.epa.gov>
Message-ID: <3AFC2829.5030405@StonyBrook.Edu>

Ah.  Now I remember.  This was quite confusing to me too at first; you 
have to return a list, even if it only has one element.  I think it 
would be much better to simply return a single vector of derivatives and 
allow for passing an optional second function that can compute stats, 
make plots, etc. while the the integration is running.  An alternative 
would be to check whether the function is returning a vector or list in 
your code.  Putting in default atol and rtol values would also be nice.

Tim

Setzer.Woodrow at epamail.epa.gov wrote:

> If you do not have any such 'global' variables, you don't need to force it!
> Just return a list with one component, the ode solution.   So, for your
> problem, just return:
> list(c(dN1.dt,dN2.dt))
> However, make sure you are returning a list, and not a simple vector --
> lsoda will bomb (I've done that too many times).
> 


-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From TAC at NEI.NIH.GOV  Fri May 11 20:08:36 2001
From: TAC at NEI.NIH.GOV (Cox, Terry (NEI))
Date: Fri, 11 May 2001 14:08:36 -0400
Subject: [R] R for ARM Linux
Message-ID: <CB38030C8A89D311B35400062950C38F8E0491@neimp5.nei.nih.gov>

Would it be possible to port R to ARM Linux for Compaq iPaq and similar
handheld computers?  (See http://handhelds.org/).

Terry A. Cox, MD, PhD
National Eye Institute

National Institutes of Health
31 Center Drive, MSC 2510
Building 31, Room 6A52
Bethesda, MD 20892-2510

Phone: 301-496-6583
FAX: 301-496-2297
Email: tac at nei.nih.gov

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Fri May 11 21:27:22 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 11 May 2001 21:27:22 +0200
Subject: [R] R for ARM Linux
In-Reply-To: <CB38030C8A89D311B35400062950C38F8E0491@neimp5.nei.nih.gov>
References: <CB38030C8A89D311B35400062950C38F8E0491@neimp5.nei.nih.gov>
Message-ID: <15100.15642.195089.341881@mithrandir.hornik.net>

>>>>> Cox, Terry (NEI) writes:

> Would it be possible to port R to ARM Linux for Compaq iPaq and similar
> handheld computers?  (See http://handhelds.org/).

I think Albrecht Gebhardt <albrecht.gebhardt at uni-klu.ac.at> has mostly
get this to work.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Fri May 11 21:42:26 2001
From: peter at esb.ucp.pt (Peter Ho)
Date: Fri, 11 May 2001 20:42:26 +0100
Subject: [R]: Pruning methods for Neural networks in R
Message-ID: <3AFC3EF8.9B05E79C@esb.ucp.pt>

Hi,

I have been using nnet and I was wondering if there are any prunning
methods for a Neural Network that have been implemented in R or if
someone has written a script, for example, Network Information Criterion
(NIC), Optimal Brain Damage, Non-contributing units?
NIC was used by Murata et al. for determining the number of hidden units
in a ANN (IEEE Trans. Neural Networks, 5(6): 865-872).
I have found both AIC and BIC in R, but not NIC.

Does anyone have any suggestions as to how this can  be done in R?
I am training a network with 126 input variables.


Thanks


Peter
------------------------------------------------------
Peter Ho GradIFST
Escola Superior de Biotecnologia
Universidade Cat?lica Portuguesa
Rua Dr. Ant?nio Bernardino de Almeida
4200-072 Porto
Portugal



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Sat May 12 03:01:18 2001
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Sat, 12 May 2001 13:01:18 +1200
Subject: [R] lookup function for density(...) objects
References: <202822BFB70EBC4BB3EAFD853EE2B6BF04B0BE@pnlmse10.pnl.gov> <3AFB70D2.36A5608A@stat.auckland.ac.nz>
Message-ID: <3AFC8B5E.E97E84B2@stat.auckland.ac.nz>

Martin Maechler pointed out to me that you wanted the cumulative
probabilities.  Here is a quick and dirty solution.

#  Given a kernel density estimate, this function
#  carries out a (very quick and dirty) numerical
#  integration, and then fits a spline to get a function
#  which can be used to look up cumulative probabilities.

smoothed.df <-
  function(d)
  {
    F <- cumsum(d$y)
    F <- F/F[length(F)]
    splinefun(d$x, F)
  }


# Generate a bimodal test distribution
# Estimate the desnsity and distribution function
x <- rnorm(1000) + ifelse(runif(1000) > .5, -3, 3)
d <- density(x)
F <- smoothed.df(d)   # F returns cumulative probs

# Plot the true and estimated distribution function
curve(0.5 * dnorm(x, -3) + 0.5 * dnorm(x, 3), col="red")
lines(d)

# Plot the true and estimated distribution function
F <- smoothed.d
curve(F(x), add=TRUE)

-- 
Ross Ihaka                         Email:  ihaka at stat.auckland.ac.nz
Department of Statistics           Phone:  (64-9) 373-7599 x 5054
University of Auckland             Fax:    (64-9) 373-7018
Private Bag 92019, Auckland
New Zealand
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bwheeler at echip.com  Sat May 12 14:58:40 2001
From: bwheeler at echip.com (Bob Wheeler)
Date: Sat, 12 May 2001 08:58:40 -0400
Subject: [R] lookup function for density(...) objects
References: <202822BFB70EBC4BB3EAFD853EE2B6BF04B0BE@pnlmse10.pnl.gov> <3AFB70D2.36A5608A@stat.auckland.ac.nz> <3AFC8B5E.E97E84B2@stat.auckland.ac.nz>
Message-ID: <3AFD3380.D1878BB8@echip.com>

Well if that sort of thing is what is wanted,
using a Johnson or Pearson system fit may also be
useful. Functions for the Johnson system are
available in the package SuppDists.

Ross Ihaka wrote:
> 
> Martin Maechler pointed out to me that you wanted the cumulative
> probabilities.  Here is a quick and dirty solution.
> 
> #  Given a kernel density estimate, this function
> #  carries out a (very quick and dirty) numerical
> #  integration, and then fits a spline to get a function
> #  which can be used to look up cumulative probabilities.
> 
> smoothed.df <-
>   function(d)
>   {
>     F <- cumsum(d$y)
>     F <- F/F[length(F)]
>     splinefun(d$x, F)
>   }
> 
> # Generate a bimodal test distribution
> # Estimate the desnsity and distribution function
> x <- rnorm(1000) + ifelse(runif(1000) > .5, -3, 3)
> d <- density(x)
> F <- smoothed.df(d)   # F returns cumulative probs
> 
> # Plot the true and estimated distribution function
> curve(0.5 * dnorm(x, -3) + 0.5 * dnorm(x, 3), col="red")
> lines(d)
> 
> # Plot the true and estimated distribution function
> F <- smoothed.d
> curve(F(x), add=TRUE)
> 
> --
> Ross Ihaka                         Email:  ihaka at stat.auckland.ac.nz
> Department of Statistics           Phone:  (64-9) 373-7599 x 5054
> University of Auckland             Fax:    (64-9) 373-7018
> Private Bag 92019, Auckland
> New Zealand
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Bob Wheeler --- (Reply to: bwheeler at echip.com)
        ECHIP, Inc.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fm3a004 at math.uni-hamburg.de  Sat May 12 16:07:36 2001
From: fm3a004 at math.uni-hamburg.de (Christian Hennig)
Date: Sat, 12 May 2001 16:07:36 +0200 (MET DST)
Subject: [R] Format
Message-ID: <Pine.GSO.3.95q.1010512160456.9316A-100000@sun21.math.uni-hamburg.de>

Dear list,

here is a matrix:
> m
            [,1]         [,2]         [,3]         [,4]
[1,] 8222.631686 23222.298517 65644.171147 1.856273e+05
[2,]   78.674051   199.885841   540.624003 1.502019e+03
[3,]   19.182734    35.157578    78.674051 1.998858e+02
[4,]   10.359269    13.009634    19.182734 3.515758e+01
[5,]    8.155434     9.005421    10.359269 1.300963e+01
[6,]    7.429700     8.036953     8.837021 1.007010e+01
[7,]    4.364612     4.531727     4.719311 4.929875e+00

Why do I get the fourth column in scientific notation, and how can it 
be made looking like the first three? (R 1.1.1 on Suse)

Best,
Christian

***********************************************************************
Christian Hennig
University of Hamburg, Faculty of Mathematics - SPST/ZMS
 (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
 Zentrum fuer Modellierung und Simulation)
Bundesstrasse 55, D-20146 Hamburg, Germany
Tel: x40/42838 4907, privat x40/631 62 79
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cuffel at itsa.ucsf.edu  Sat May 12 21:32:27 2001
From: cuffel at itsa.ucsf.edu (Brian J. Cuffel, Ph.D.)
Date: Sat, 12 May 2001 12:32:27 -0700
Subject: [R] output from STL
Message-ID: <01C0DADF.B2129BA0@ucsfras-246-148.ucsf.edu>

The following works for me, where 'outpatient' is a time series object

outpatstl<-stl(outpatient,"periodic")
seasonal<-outpatstl$time.series[,1]
outnoseason<-outpatient-seasonal
plot(outpatient,type='p')
lines(outnoseason,type='l')


-----Original Message-----
From:	Antonio Rodr?guez Verdugo [SMTP:rod.chav at hsoft.es]
Sent:	Friday, May 11, 2001 8:14 AM
To:	r-help at stat.math.ethz.ch
Subject:	[R] output from STL

Hi All,

How do I can create a new vector, i.e. 'seasonal' or 'trend' from the resultant seasonal or trend component of the Time.Series object produced by STL, and how I could superpose in the same graphic, i.e. original data and trend or seasonality?
Thanks in advance!
Antonio
Antonio Rodr?guez Verdugo
CICEM Agua del Pino
Huelva
Oceanography and Coastal Resources,
PhD Program, 
University of Huelva
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list-Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maitra at math.umbc.edu  Sun May 13 13:13:46 2001
From: maitra at math.umbc.edu (Ranjan Maitra)
Date: Sun, 13 May 2001 07:13:46 -0400 (EDT)
Subject: [R] CART in R
Message-ID: <Pine.LNX.4.33.0105130713260.20011-100000@param.math.umbc.edu>

Can anyone please help me out? I would like to do CART (classification
and regression trees) in R. Is this at all
possible? If so, how?

Thanks,
Ranjan




-- 
 ***************************************************************************
          Ranjan Maitra, Department of Mathematics and Statistics,
     University of Maryland, Baltimore County, Baltimore, MD 21250, USA.
 ***************************************************************************

  \|/         satyamevajayate         |      tamasomaajyotirgamaya      \|/
  -*-                                 |                                 -*-
  /|\       TRUTH SHALL PREVAIL       |      FROM DARKNESS TO LIGHT     /|\

 ***************************************************************************
   Ph: 410-455-2436   FAX: 410-455-1066   http://www.math.umbc.edu/~maitra
 ***************************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun May 13 13:59:16 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 13 May 2001 12:59:16 +0100 (BST)
Subject: [R] CART in R
In-Reply-To: <Pine.LNX.4.33.0105130713260.20011-100000@param.math.umbc.edu>
Message-ID: <Pine.GSO.4.31.0105131257380.13798-100000@toucan.stats>

On Sun, 13 May 2001, Ranjan Maitra wrote:

> Can anyone please help me out? I would like to do CART (classification
> and regression trees) in R. Is this at all
> possible? If so, how?

Try the FAQ:

  The following packages are available from the CRAN `src/contrib' area.

*rpart*
     Recursive PARTitioning and regression trees.

*tree*
     Classification and regression trees.




-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Sun May 13 20:55:47 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Sun, 13 May 2001 11:55:47 -0700
Subject: [R] test for bimodality
Message-ID: <001701c0dbde$5376ef60$aa7ba8c0@columbus.rr.com>

Dear R users,

I'm looking for a test of bimodality in order to make some decisions about how to procede with an analysis algorithm. I have not come across any such tests in my readings and discussions apart from the Rao which appears to be applicable to cyclic data.

The data I'm interested in characterizing as uni- or bimodal  are frequency x amplitude spectra of consonant speech sounds, where the spectrum, a line graph is treated as a frequency distribution. 

Thanks in advance for your input.

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010513/4c550f2c/attachment.html

From znmeb at aracnet.com  Mon May 14 02:16:06 2001
From: znmeb at aracnet.com (M. Edward Borasky)
Date: Sun, 13 May 2001 17:16:06 -0700
Subject: [R] test for bimodality
In-Reply-To: <001701c0dbde$5376ef60$aa7ba8c0@columbus.rr.com>
Message-ID: <HBEHIIBBKKNOBLMPKCBBKEGDDFAA.znmeb@aracnet.com>

One method I know of uses the bootstrap, and is described in "An
Introduction to the Bootstrap" by B. Efron and R. Tibshirani, 1993, Chapman
and Hall. And the contributed package "bootstrap" contains code and data for
this book, so I presume (without actually having looked at the package :-)
that what you need is there.
--
M. Edward (Ed) Borasky, Chief Scientist, Borasky Research
http://www.borasky-research.com
http://www.aracnet.com/~znmeb
mailto:znmeb at borasky-research.com
mailto:znmeb at aracnet.com

If there's nothing to astrology, how come so many famous men were born on
holidays?
-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of David White
Sent: Sunday, May 13, 2001 11:56 AM
To: r-help
Subject: [R] test for bimodality


Dear R users,

I'm looking for a test of bimodality in order to make some decisions about
how to procede with an analysis algorithm. I have not come across any such
tests in my readings and discussions apart from the Rao which appears to be
applicable to cyclic data.

The data I'm interested in characterizing as uni- or bimodal  are frequency
x amplitude spectra of consonant speech sounds, where the spectrum, a line
graph is treated as a frequency distribution.

Thanks in advance for your input.

David

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ko-kang at xtra.co.nz  Mon May 14 03:52:17 2001
From: ko-kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Mon, 14 May 2001 1:52:17 +0000
Subject: [R] Re: s+
Message-ID: <20010514015113.UNGB2961019.mta2-rme.xtra.co.nz@[192.168.2.9]>

Well, R is not S+ nor SPSS.  Although it is sort of similar to S+ in terms of how you use it...

You can get it from http://cran.r-project.org/

To know more about what it really is, you can get my PowerPoint presentation from:
http://www.stat.auckland.ac.nz/~kwan022/pub/R/Introduction/
or and article I wrote from:
http://www.stat.auckland.ac.nz/~kwan022/pub/SDK/SAD/Journal/

If you're a Windows user, you may want to take a look at the R for Windows trick that I wrote:
http://www.stat.auckland.ac.nz/~kwan022/pub/R/RTricks.zip

Cheers,

Ko-Kang Kevin Wang

> From: lisa bergmeier <lisab at start.com.au>
> Date: Mon, 14 May 2001 12:21:59 +1000
> To: "anzstat at qut.edu.au" <anzstat at qut.edu.au>
> Subject: s+
> 
> Can anyone please tell me where I can get a copy of SPSS or S+ need as
> urgently as possible.  I heard that it also comes under another name
> R....(something)
> 
> You help would be appreciated
> 
> Lisa
> 
> 
> __________________________________________________________________
> Get your free Australian email account at http://www.start.com.au
> 
> 

-----------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon May 14 09:22:35 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 14 May 2001 09:22:35 +0200
Subject: [R] Format
In-Reply-To: <Pine.GSO.3.95q.1010512160456.9316A-100000@sun21.math.uni-hamburg.de>
References: <Pine.GSO.3.95q.1010512160456.9316A-100000@sun21.math.uni-hamburg.de>
Message-ID: <15103.34747.291051.870709@gargle.gargle.HOWL>

>>>>> "ChrisH" == Christian Hennig <fm3a004 at math.uni-hamburg.de> writes:

    ChrisH> Dear list,
    ChrisH> here is a matrix:
    >> m
    ChrisH> [,1]         [,2]         [,3]         [,4]
    ChrisH> [1,] 8222.631686 23222.298517 65644.171147 1.856273e+05
    ChrisH> [2,]   78.674051   199.885841   540.624003 1.502019e+03
    ChrisH> [3,]   19.182734    35.157578    78.674051 1.998858e+02
    ChrisH> [4,]   10.359269    13.009634    19.182734 3.515758e+01
    ChrisH> [5,]    8.155434     9.005421    10.359269 1.300963e+01
    ChrisH> [6,]    7.429700     8.036953     8.837021 1.007010e+01
    ChrisH> [7,]    4.364612     4.531727     4.719311 4.929875e+00

    ChrisH> Why do I get the fourth column in scientific notation, and how
    ChrisH> can it be made looking like the first three? (R 1.1.1 on Suse)

    ........

    ChrisH> *******************************************************************
    ChrisH> Christian Hennig

> print(m, digits = 15) # does not help
           V1           V2           V3           V4
1 8222.631686 23222.298517 65644.171147 1.856273e+05
2   78.674051   199.885841   540.624003 1.502019e+03
3   19.182734    35.157578    78.674051 1.998858e+02
4   10.359269    13.009634    19.182734 3.515758e+01
5    8.155434     9.005421    10.359269 1.300963e+01
6    7.429700     8.036953     8.837021 1.007010e+01
7    4.364612     4.531727     4.719311 4.929875e+00

> formatC(m, format = "f", digits = 8) # may be not quite yet what you want
  V1              V2               V3               V4               
1 "8222.63168600" "23222.29851700" "65644.17114700" "185627.30000000"
2 "78.67405100"   "199.88584100"   "540.62400300"   "1502.01900000"  
3 "19.18273400"   "35.15757800"    "78.67405100"    "199.88580000"   
4 "10.35926900"   "13.00963400"    "19.18273400"    "35.15758000"    
5 "8.15543400"    "9.00542100"     "10.35926900"    "13.00963000"    
6 "7.42970000"    "8.03695300"     "8.83702100"     "10.07010000"    
7 "4.36461200"    "4.53172700"     "4.71931100"     "4.92987500"     

> cm <- formatC(m, format = "f", digits = 8, width = 15)
> cm
  V1                V2                V3                V4               
1 "  8222.63168600" " 23222.29851700" " 65644.17114700" "185627.30000000"
2 "    78.67405100" "   199.88584100" "   540.62400300" "  1502.01900000"
3 "    19.18273400" "    35.15757800" "    78.67405100" "   199.88580000"
4 "    10.35926900" "    13.00963400" "    19.18273400" "    35.15758000"
5 "     8.15543400" "     9.00542100" "    10.35926900" "    13.00963000"
6 "     7.42970000" "     8.03695300" "     8.83702100" "    10.07010000"
7 "     4.36461200" "     4.53172700" "     4.71931100" "     4.92987500"
> print(cm, quote = FALSE)
  V1              V2              V3              V4             
1   8222.63168600  23222.29851700  65644.17114700 185627.30000000
2     78.67405100    199.88584100    540.62400300   1502.01900000
3     19.18273400     35.15757800     78.67405100    199.88580000
4     10.35926900     13.00963400     19.18273400     35.15758000
5      8.15543400      9.00542100     10.35926900     13.00963000
6      7.42970000      8.03695300      8.83702100     10.07010000
7      4.36461200      4.53172700      4.71931100      4.92987500
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Mon May 14 17:59:02 2001
From: ernesto at ipimar.pt (Ernesto Jardim)
Date: Mon, 14 May 2001 16:59:02 +0100
Subject: [R] gss package - error message in predict
Message-ID: <3B0000C6.13288FD0@ipimar.pt>

Hi

I'm using gss and when I use predict it gives me an error that I don't
understand.

This is the message:

Error in env$fun(x, env$env) : gss error in phi: inputs are out of range

Can someone tell me what it means ?

Thanks

EJ
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Fabio.Valeri at payserv.ch  Mon May 14 11:03:11 2001
From: Fabio.Valeri at payserv.ch (Fabio Valeri)
Date: Mon, 14 May 2001 11:03:11 +0200
Subject: [R] CART in R
References: <Pine.GSO.4.31.0105131257380.13798-100000@toucan.stats>
Message-ID: <3AFF9F4F.78C5E042@payserv.ch>



ripley at stats.ox.ac.uk schrieb:
> 
> On Sun, 13 May 2001, Ranjan Maitra wrote:
> 
> > Can anyone please help me out? I would like to do CART (classification
> > and regression trees) in R. Is this at all
> > possible? If so, how?
> 
> Try the FAQ:
> 
>   The following packages are available from the CRAN `src/contrib' area.
> 
> *rpart*
>      Recursive PARTitioning and regression trees.
> 
> *tree*
>      Classification and regression trees.
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mherron at latte.harvard.edu  Mon May 14 17:09:21 2001
From: mherron at latte.harvard.edu (Michael Herron)
Date: Mon, 14 May 2001 11:09:21 -0400
Subject: [R] unique and precision of long integers
Message-ID: <200105141509.LAA00510@beethoven.fas.harvard.edu>


Hello.

I have a dataset with about 500,000 observations, most of which are
not unique.  The first 10 observations look like

901000000000100000010100101011002
901101101110100000010100101011002
901000000000100000010100000001002
901000000000100000010101001011002
901000000000100000010101010011002
901000000000100000010100110101002
901000000000100000010100101011002
900000000000100000010010101011002
901000000000100000010100101101002
901000000000100000010100101011002

Each digit reflects a separate field, but above all spaces are
removed.

I read in the data with scan(), and then use unique() to get the
unique observations.  But, when I print these elements to a file I
lose precision.  For instance, let x be a vector of the first 10
observations from the dataset:

> write (x,file="output",ncol=1)

more output 

9.01e+32
9.011011e+32
9.01e+32
9.01e+32
9.01e+32
9.01e+32
9.01e+32
9e+32
9.01e+32
9.01e+32

Is there a way to get all the digits back?  

> write (format(x,digits=22),file="output",ncol=1) 

does not do it, and I cannot seem to increase digits >22.

thanks, 

michael
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May 14 17:26:05 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 14 May 2001 16:26:05 +0100 (BST)
Subject: [R] unique and precision of long integers
In-Reply-To: <200105141509.LAA00510@beethoven.fas.harvard.edu>
Message-ID: <Pine.LNX.4.31.0105141618070.2361-100000@gannet.stats>

On Mon, 14 May 2001, Michael Herron wrote:

>
> Hello.
>
> I have a dataset with about 500,000 observations, most of which are
> not unique.  The first 10 observations look like
>
> 901000000000100000010100101011002
> 901101101110100000010100101011002
> 901000000000100000010100000001002
> 901000000000100000010101001011002
> 901000000000100000010101010011002
> 901000000000100000010100110101002
> 901000000000100000010100101011002
> 900000000000100000010010101011002
> 901000000000100000010100101101002
> 901000000000100000010100101011002
>
> Each digit reflects a separate field, but above all spaces are
> removed.
>
> I read in the data with scan(), and then use unique() to get the

How did you read them with scan?  You seem to have doubles, despite your
title.  Reading them as integers overflows:

> foo <- scan("foo.dat", integer(0))
Read 10 items
> foo
 [1] 2147483647 2147483647 2147483647 2147483647 2147483647 2147483647
 [7] 2147483647 2147483647 2147483647 2147483647


> unique observations.  But, when I print these elements to a file I
> lose precision.  For instance, let x be a vector of the first 10

Nope, you lost it reading them into the doubles.

Why not just do this with character objects?

foo <- scan("foo.dat", "")
unique(foo)



-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Mon May 14 17:32:46 2001
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Mon, 14 May 2001 15:32:46 +0000
Subject: [R] RODBC: closing databases
Message-ID: <3AFFFA9E.95937590@sentoo.sn>

Dear all,

platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    2.3            
year     2001           
month    04             
day      26             
language R

I wrote the following to import tables in different database formats
(Access, Visual FoxPro, etc.):

getTable <- function(Type, Table){
  if(!is.element("package:RODBC", search())){
    cat("Loading RODBC package", "\n")
    invisible(library(RODBC))
    }
  Channel <- odbcConnect(Type)
  query <- paste("select * from", Table)
  tab <- sqlQuery(Channel, query)
  odbcClose(Channel)
  tab
  }

Then something like:

CaPds <- getTable(Type = "VFP", Table = "CaPds")

does the job: the data.frame is quickly and properly obtained. However,
when I go back to the database management system and try to update the
original table, I get an error message saying that I cannot access the
file. I have to close R to be able to update the table.

How do I close an open table ?

Best regards,

Renaud

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon May 14 17:41:15 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 14 May 2001 08:41:15 -0700 (PDT)
Subject: [R] unique and precision of long integers
In-Reply-To: <200105141509.LAA00510@beethoven.fas.harvard.edu>
Message-ID: <Pine.A41.4.33.0105140827060.14160-100000@homer22.u.washington.edu>

On Mon, 14 May 2001, Michael Herron wrote:

>
> Hello.
>
> I have a dataset with about 500,000 observations, most of which are
> not unique.  The first 10 observations look like
>
> 901000000000100000010100101011002
> 901101101110100000010100101011002
> 901000000000100000010100000001002
> 901000000000100000010101001011002
> 901000000000100000010101010011002
> 901000000000100000010100110101002
> 901000000000100000010100101011002
> 900000000000100000010010101011002
> 901000000000100000010100101101002
> 901000000000100000010100101011002
>
> Each digit reflects a separate field, but above all spaces are
> removed.
>
> I read in the data with scan(), and then use unique() to get the
> unique observations.  But, when I print these elements to a file I
> lose precision.  For instance, let x be a vector of the first 10
> observations from the dataset:
>
> > write (x,file="output",ncol=1)
>
> more output
>
> 9.01e+32
> 9.011011e+32
> 9.01e+32
> 9.01e+32
> 9.01e+32
> 9.01e+32
> 9.01e+32
> 9e+32
> 9.01e+32
> 9.01e+32
>
> Is there a way to get all the digits back?
>
> > write (format(x,digits=22),file="output",ncol=1)
>
> does not do it, and I cannot seem to increase digits >22.
>

You can't store numbers to more than the precision provided by your
compiler/hardware, so there's probably only 16 accurate digits no matter
how many R prints.

In order to unique() them you can read them as strings, which have
essentially unlimited precision.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon May 14 17:42:51 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 14 May 2001 17:42:51 +0200
Subject: [R] unique and precision of long integers
References: <200105141509.LAA00510@beethoven.fas.harvard.edu>
Message-ID: <3AFFFCFB.6BD8FD18@statistik.uni-dortmund.de>



Michael Herron wrote:
> 
> Hello.
> 
> I have a dataset with about 500,000 observations, most of which are
> not unique.  The first 10 observations look like
> 
> 901000000000100000010100101011002
> 901101101110100000010100101011002
> 901000000000100000010100000001002
> 901000000000100000010101001011002
> 901000000000100000010101010011002
> 901000000000100000010100110101002
> 901000000000100000010100101011002
> 900000000000100000010010101011002
> 901000000000100000010100101101002
> 901000000000100000010100101011002
> 
> Each digit reflects a separate field, but above all spaces are
> removed.
> 
> I read in the data with scan(), and then use unique() to get the
> unique observations.  But, when I print these elements to a file I
> lose precision.  For instance, let x be a vector of the first 10
> observations from the dataset:
> 
> > write (x,file="output",ncol=1)
> 
> more output
> 
> 9.01e+32
> 9.011011e+32
> 9.01e+32
> 9.01e+32
> 9.01e+32
> 9.01e+32
> 9.01e+32
> 9e+32
> 9.01e+32
> 9.01e+32
> 
> Is there a way to get all the digits back?
> 
> > write (format(x,digits=22),file="output",ncol=1)
> 
> does not do it, and I cannot seem to increase digits >22.


Converting into characters should do the trick.


Uwe Ligges


BTW: You don't expect to get exact results calculating with such
numbers, do you?
If so, you have to think about some precision problems. Example:

> 90000000000000000000 == 90000000000000000001
[1] TRUE
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cdeclercq at nordnet.fr  Mon May 14 17:49:10 2001
From: cdeclercq at nordnet.fr (Christophe Declercq)
Date: Mon, 14 May 2001 17:49:10 +0200
Subject: [R] unique and precision of long integers
In-Reply-To: <200105141509.LAA00510@beethoven.fas.harvard.edu>
Message-ID: <NEBBLCMFGLNFBEBKHFCEMEHACBAA.cdeclercq@nordnet.fr>

Hi, Michael

> De : owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]De la part de Michael Herron
> Envoy? : lundi 14 mai 2001 17:09
> ? : r-help at stat.math.ethz.ch
> Objet : [R] unique and precision of long integers
>
>
>
> Hello.
>
> I have a dataset with about 500,000 observations, most of which are
> not unique.  The first 10 observations look like
>
> 901000000000100000010100101011002
> 901101101110100000010100101011002
[...]
> I read in the data with scan(), and then use unique() to get the
> unique observations.  But, when I print these elements to a file I
> lose precision.

If you have long strings of digits, you can 'scan' them as character
(actually, they are not exactly numbers) and manipulate them afterwards:

> x<-scan("foo.dat", what="")
> x
 [1] "901000000000100000010100101011002"
"901101101110100000010100101011002"
 [3] "901000000000100000010100000001002"
"901000000000100000010101001011002"
 [5] "901000000000100000010101010011002"
"901000000000100000010100110101002"
 [7] "901000000000100000010100101011002"
"900000000000100000010010101011002"
 [9] "901000000000100000010100101101002"
"901000000000100000010100101011002"
> write(x,"",ncol=1)
901000000000100000010100101011002
901101101110100000010100101011002
901000000000100000010100000001002
901000000000100000010101001011002
901000000000100000010101010011002
901000000000100000010100110101002
901000000000100000010100101011002
900000000000100000010010101011002
901000000000100000010100101101002
901000000000100000010100101011002

I hope it helps.

Christophe

--
Christophe DECLERCQ, MD
Observatoire R?gional de la Sant? Nord-Pas-de-Calais
13, rue Faidherbe 59046 LILLE Cedex FRANCE
Phone +33 3 20 15 49 24
Fax   +33 3 20 55 92 30
E-mail c.declercq at orsnpdc.org


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Mon May 14 19:59:26 2001
From: chong at stat.purdue.edu (Chong Gu)
Date: Mon, 14 May 2001 12:59:26 -0500
Subject: [R] gss package - error message in predict
In-Reply-To: <3B0000C6.13288FD0@ipimar.pt> (message from Ernesto Jardim on
	Mon, 14 May 2001 16:59:02 +0100)
Message-ID: <200105141759.MAA99446@odds.stat.purdue.edu>


   Date: Mon, 14 May 2001 16:59:02 +0100
   From: Ernesto Jardim <ernesto at ipimar.pt>
   X-Mailer: Mozilla 4.76 [en] (X11; U; Linux 2.2.18 i686)
   X-Accept-Language: en
   MIME-Version: 1.0
   Content-Type: text/plain; charset=us-ascii
   Content-Transfer-Encoding: 7bit
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: SfS-bulk

   Hi

   I'm using gss and when I use predict it gives me an error that I don't
   understand.

   This is the message:

   Error in env$fun(x, env$env) : gss error in phi: inputs are out of range

   Can someone tell me what it means ?

   Thanks

   EJ
   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



You are extrapolating too far.  The gss default goes beyond the data
range by 5% on each side.  If you would like to predict beyond that,
overwrite the default (read the documentation), but be warned that
what you get is not reliable.  The standard error will be pretty big
so your confidence interval will likely cover everything.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Rajiv.Prasad at pnl.gov  Mon May 14 21:13:42 2001
From: Rajiv.Prasad at pnl.gov (Prasad, Rajiv)
Date: Mon, 14 May 2001 12:13:42 -0700
Subject: [R] followup: lookup function for density(...) objects
Message-ID: <202822BFB70EBC4BB3EAFD853EE2B6BF04B0C2@pnlmse10.pnl.gov>


Thanks to Ross Ihaka and Bob Wheeler for responding to my earlier question.  I
looked into the Johnson system functions in SuppDists package.  For now, I want
to stick with the density(...) estimator, and so still need the variate lookup
function.

As per Ross' suggestion, I just did a numerical integration on the density
object and used approxfun/splinefun to "lookup" the variate value for specified
cumulative probability.  Here's the function.  Comments are welcome.

--------
#
# return the variate(s) for specified cumulative
# probability(ies) for a density(...) object
#
# Rajiv Prasad (rajiv.prasad at pnl.gov) 05/14/2001
#
RPDensityLookup <- function(density.obj, p=0.5, interp="l")
{
  if(missing(density.obj))
  {
    cat("\nUsage: RPDensityLookup(density.obj, p=0.5, interp=\"l\")")
    cat("\n  density.obj: an object returned from the density(...) function")
    cat("\n            p: cumulative probability value(s) for which variate")
    cat("\n               values are needed")
    cat("\n       interp: \"l\" for linear interpolation between data points")
    cat("\n               \"s\" for spline fit using data points\n\n")
  }

  n <- length(density.obj$x)
  dx <- density.obj$x[2:n] - density.obj$x[1:(n-1)]
  x <- rep(NA, length(p))

  # midpoints
  cumx <- (density.obj$x[2:n] + density.obj$x[1:(n-1)]) / 2
  # numerical integration
  cumy <- cumsum((density.obj$y[2:n] + density.obj$y[1:(n-1)]) / 2 * dx)

  if(interp == "l")
  {
    Fx <- approxfun(cumy, cumx)  # linear interpolation function
    x <- Fx(p)                   # the variates corresponding to p's
  }
  else if(interp == "s")
  {
    Fx <- splinefun(cumy, cumx)  # spline fit
    x <- Fx(p)                   # the variates corresponding to p's
  }
  else
  {
    cat(paste("\nError: unrecognized interp method (\"", interp, "\").\n\n",
sep=""))
  }

  x
}
--------

Example:

> x _ rnorm(1000)
> d.x _ density(x)
> p _ seq(0.001,0.999,by=0.001)
> x.l _ RPDensityLookup(d.x, p, "l")
> x.s _ RPDensityLookup(d.x, p, "s")
> hist(x,probability=T,ylim=c(0,1)); box()
> lines(d.x,col="blue")
> lines(x.l,p,col="green")
> lines(x.s,p,col="red")
> RPDensityLookup(d.x, 0.5, "l")
[1] -0.001036816
> RPDensityLookup(d.x, 0.5, "s")
[1] -0.001036673
> RPDensityLookup(d.x, 0.95, "l")
[1] 1.751115
> RPDensityLookup(d.x, 0.95, "s")
[1] 1.751107


Rajiv.
--------
Rajiv Prasad
Postdoctoral Research Associate, Hydrology Group
Pacific Northwest National Laboratory, P.O. Box 999, MSIN K9-33
Richland, WA 99352
Voice: (509) 375-2096  Fax: (509) 372-6089  Email: rajiv.prasad at pnl.gov


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tk229 at hermes.cam.ac.uk  Mon May 14 23:31:30 2001
From: tk229 at hermes.cam.ac.uk (Tak Kaneko)
Date: Mon, 14 May 2001 22:31:30 +0100 (BST)
Subject: [R] "tree": Limit on the size of training features?
In-Reply-To: <Pine.SOL.4.33.0105071803300.10327-100000@green.csi.cam.ac.uk>
Message-ID: <Pine.SOL.4.33.0105142230380.10841-100000@green.csi.cam.ac.uk>

Is there a limit on how many features can be used to train a CART tree?

I built some trees using one set of features, which didn't perform very
well so I added some more (better) features but none of these got used in
training the tree. When I specified the tree to use the new features and
some of the old features, it finally used the new features and the
resulting trees performed well.

There are two alternative explanations I can think of:
1. There is only a maximum number of features that "tree" can utilise.
2. In the first few branches, the older features are used because they
reduce the deviance much more but actually on the long run, it's better to
use the new features.

It's probably bad practice just throwing lots of features any way but I'd
be grateful for some explanations!

tak


--------------------------------------------------------
Mobile:	07866 581 806	Cambridge Tel: 01223 711 160
Permanent e-mail:	tkaneko at iee.org
Home:	 		Tel (01494) 680 230
			11 Oldbury Grove, Beaconsfield, Bucks HP9 2AJ




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Michael.Livingstone at treasury.qld.gov.au  Tue May 15 01:18:58 2001
From: Michael.Livingstone at treasury.qld.gov.au (Michael.Livingstone@treasury.qld.gov.au)
Date: Tue, 15 May 2001 09:18:58 +1000
Subject: [R] Installing packages.
Message-ID: <4A256A4C.007FE0CC.00@nt_smtp_1.treasury.qld.gov.au>

Hi,

I've downloaded the 'tree' package (as 'tree_1_0-2_tar.gz') and am trying
to install it to use with R in Windows NT.  And, to be blunt, I've got no
idea what I'm doing.  As far as I can tell, the FAQ refers to installing
packages in Unix and isn't a great help to me - I was hoping someone could
give me some basic instructions on how to proceed.  Thanks,
Michael


 ****************************************************************
 Only an individual or entity who is intended to be a recipient of this
 e-mail may access or use the information contained in this e-mail or any
 of its attachments.  Opinions contained in this e-mail or any of its
 attachments do not necessarily reflect the opinions of Queensland
 Treasury.

 The contents of this e-mail and any attachments are confidential and may
 be legally privileged and the subject of copyright.  If you have received
 this e-mail in error, please notify Queensland Treasury immediately and
 erase all copies of the e-mail and the attachments.  Queensland Treasury
 uses virus scanning software.  However, it is not liable for viruses
 present in this e-mail or in any attachment.
 ****************************************************************



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue May 15 01:38:21 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Mon, 14 May 2001 19:38:21 -0400 (EDT)
Subject: [R] Installing packages.
In-Reply-To: <4A256A4C.007FE0CC.00@nt_smtp_1.treasury.qld.gov.au>
Message-ID: <Pine.LNX.4.30.0105141936340.8658-100000@bolker.zoo.ufl.edu>


  Check out the WINDOWS FAQ (which I think you'll find under the HTML
documentation you got with your binaries: help.start()).

  You probably need the Windows version of the package (which will be a
.zip file, not a tar.gz file) instead.

  Basically, R comes with an installer which you can use to install
libraries (the same installer you used to install the package itself).

  I have often found it hard to get to the R-for-windows FAQ from the R
home page; maybe it should be linked somewhere from the FAQ? (or maybe it
is and I just missed it)

On Tue, 15 May 2001 Michael.Livingstone at treasury.qld.gov.au wrote:

> Hi,
>
> I've downloaded the 'tree' package (as 'tree_1_0-2_tar.gz') and am trying
> to install it to use with R in Windows NT.  And, to be blunt, I've got no
> idea what I'm doing.  As far as I can tell, the FAQ refers to installing
> packages in Unix and isn't a great help to me - I was hoping someone could
> give me some basic instructions on how to proceed.  Thanks,
> Michael
>
>
>  ****************************************************************
>  Only an individual or entity who is intended to be a recipient of this
>  e-mail may access or use the information contained in this e-mail or any
>  of its attachments.  Opinions contained in this e-mail or any of its
>  attachments do not necessarily reflect the opinions of Queensland
>  Treasury.
>
>  The contents of this e-mail and any attachments are confidential and may
>  be legally privileged and the subject of copyright.  If you have received
>  this e-mail in error, please notify Queensland Treasury immediately and
>  erase all copies of the e-mail and the attachments.  Queensland Treasury
>  uses virus scanning software.  However, it is not liable for viruses
>  present in this e-mail or in any attachment.
>  ****************************************************************
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May 15 02:02:14 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 May 2001 02:02:14 +0200
Subject: [R] Installing packages.
In-Reply-To: ben@zoo.ufl.edu's message of "Mon, 14 May 2001 19:38:21 -0400 (EDT)"
References: <Pine.LNX.4.30.0105141936340.8658-100000@bolker.zoo.ufl.edu>
Message-ID: <x24runscmx.fsf@blueberry.kubism.ku.dk>

ben at zoo.ufl.edu writes:

>   I have often found it hard to get to the R-for-windows FAQ from the R
> home page; maybe it should be linked somewhere from the FAQ? (or maybe it
> is and I just missed it)

Section 1.5 and 2.5.2...

(Section 2.5.3 could do with a link to Stefano's writeup, though.)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue May 15 02:20:50 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Mon, 14 May 2001 20:20:50 -0400 (EDT)
Subject: [R] Installing packages.
In-Reply-To: <x24runscmx.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.30.0105142020250.8694-100000@bolker.zoo.ufl.edu>

  oops.
  OK, but a link in the "how do I install packages" section might also be
good .. (link early and often?)

On 15 May 2001, Peter Dalgaard BSA wrote:

> ben at zoo.ufl.edu writes:
>
> >   I have often found it hard to get to the R-for-windows FAQ from the R
> > home page; maybe it should be linked somewhere from the FAQ? (or maybe it
> > is and I just missed it)
>
> Section 1.5 and 2.5.2...
>
> (Section 2.5.3 could do with a link to Stefano's writeup, though.)
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Tue May 15 03:19:49 2001
From: jfox at mcmaster.ca (John Fox)
Date: Mon, 14 May 2001 21:19:49 -0400
Subject: [R] Installing packages.
In-Reply-To: <Pine.LNX.4.30.0105141936340.8658-100000@bolker.zoo.ufl.edu
 >
References: <4A256A4C.007FE0CC.00@nt_smtp_1.treasury.qld.gov.au>
Message-ID: <5.0.2.1.2.20010514211124.0193f938@mcmail.cis.mcmaster.ca>

Dear Michael and Ben,

A convenient alternative is to use the install.packages function, which 
requires that the wget utility is installed on your system and is on the 
search path. You can download wget from 
<http://www.stats.ox.ac.uk/pub/Rtools/wget.zip> (as stated in the help file 
for install.packages).

Once this is done, all you need enter is install.packages("tree") -- it's 
that simple if you're connected to the internet and you want to install the 
package to the default library location.

I hope that this helps,
  John

At 07:38 PM 14/05/2001 -0400, ben at zoo.ufl.edu wrote:

>   Check out the WINDOWS FAQ (which I think you'll find under the HTML
>documentation you got with your binaries: help.start()).
>
>   You probably need the Windows version of the package (which will be a
>.zip file, not a tar.gz file) instead.
>
>   Basically, R comes with an installer which you can use to install
>libraries (the same installer you used to install the package itself).
>
>   I have often found it hard to get to the R-for-windows FAQ from the R
>home page; maybe it should be linked somewhere from the FAQ? (or maybe it
>is and I just missed it)
>
>On Tue, 15 May 2001 Michael.Livingstone at treasury.qld.gov.au wrote:
>
> > Hi,
> >
> > I've downloaded the 'tree' package (as 'tree_1_0-2_tar.gz') and am trying
> > to install it to use with R in Windows NT.  And, to be blunt, I've got no
> > idea what I'm doing.  As far as I can tell, the FAQ refers to installing
> > packages in Unix and isn't a great help to me - I was hoping someone could
> > give me some basic instructions on how to proceed.  Thanks,
> > Michael





________________________________
  John Fox
  Department of Sociology
  McMaster University
  email: jfox at McMaster.ca
  web: www.socsci.mcmaster.ca/jfox
________________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bernd.weiss at epost.de  Tue May 15 07:20:44 2001
From: bernd.weiss at epost.de (Bernd Weiss)
Date: Tue, 15 May 2001 07:20:44 +0200
Subject: [R] box around a barplot
Message-ID: <3B00D8CC.17130.2DEF60@localhost>

Hi,

is it possible to draw a box around the following barplot; 
using "box=TRUE" won't work.
----------
pc<-c(1,2,5,29,27)

barplot(pc,ylim=c(0,30),yaxs="r",xaxs="r",ylab="Anzahl"     
,names.arg=c("Mac","286er","386er","486er","Pentium I")     
,axisnames=T,col="gray")
----------

Thanks in advance

Bernd


--
Bernd Wei? (bernd.weiss at epost.de)
PGP Key ID: 0x4117206F
PGP FP: 08B2 09CD 7192 526D 93FD  2070 53DB 7C4F 4117 206F
www.pgpi.org
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 15 07:43:20 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 15 May 2001 06:43:20 +0100 (BST)
Subject: [R] Installing packages.
In-Reply-To: <Pine.LNX.4.30.0105142020250.8694-100000@bolker.zoo.ufl.edu>
Message-ID: <Pine.GSO.4.31.0105150639390.18898-100000@auk.stats>

The next release of R will come with a `R Installation and Adminstration'
manual (provisional title) which covers adding, updating, removing packages
on all platforms.

Meanwhile, I am puzzled as to how Windows users can miss the rw-FAQ: it is
equally prominently displayed to the main FAQ, for example as an entry on
the Help menu, on the main help.start() screen, as file the top-level
directory ....

Also, it will be easier.  wget is not longer needed, and there is
a men for Packages, including `Install' items.

On Mon, 14 May 2001 ben at zoo.ufl.edu wrote:

>   oops.
>   OK, but a link in the "how do I install packages" section might also be
> good .. (link early and often?)
>
> On 15 May 2001, Peter Dalgaard BSA wrote:
>
> > ben at zoo.ufl.edu writes:
> >
> > >   I have often found it hard to get to the R-for-windows FAQ from the R
> > > home page; maybe it should be linked somewhere from the FAQ? (or maybe it
> > > is and I just missed it)
> >
> > Section 1.5 and 2.5.2...
> >
> > (Section 2.5.3 could do with a link to Stefano's writeup, though.)
> >
>
> --
> 318 Carr Hall                                bolker at zoo.ufl.edu
> Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
> Box 118525                                   (ph)  352-392-5697
> Gainesville, FL 32611-8525                   (fax) 352-392-3704
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May 15 09:45:40 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 May 2001 09:45:40 +0200
Subject: [R] box around a barplot
In-Reply-To: "Bernd Weiss"'s message of "Tue, 15 May 2001 07:20:44 +0200"
References: <3B00D8CC.17130.2DEF60@localhost>
Message-ID: <x2n18fukbf.fsf@blueberry.kubism.ku.dk>

"Bernd Weiss" <bernd.weiss at epost.de> writes:

> Hi,
> 
> is it possible to draw a box around the following barplot; 
> using "box=TRUE" won't work.
> ----------
> pc<-c(1,2,5,29,27)
> 
> barplot(pc,ylim=c(0,30),yaxs="r",xaxs="r",ylab="Anzahl"     
> ,names.arg=c("Mac","286er","386er","486er","Pentium I")     
> ,axisnames=T,col="gray")
> ----------

Have you tried box() ?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Tue May 15 09:48:04 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Tue, 15 May 2001 08:48:04 +0100 (BST)
Subject: [R] box around a barplot
In-Reply-To: <3B00D8CC.17130.2DEF60@localhost>
Message-ID: <Pine.LNX.4.10.10105150847150.1881-100000@localhost.localdomain>

> is it possible to draw a box around the following barplot; 
> using "box=TRUE" won't work.
> ----------
> pc<-c(1,2,5,29,27)
> 
> barplot(pc,ylim=c(0,30),yaxs="r",xaxs="r",ylab="Anzahl"     
> ,names.arg=c("Mac","286er","386er","486er","Pentium I")     
> ,axisnames=T,col="gray")
> ----------
Then do:
box()

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Tue May 15 10:22:08 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang@xtra.co.nz)
Date: Tue, 15 May 2001 20:22:08 +1200
Subject: [R] box around a barplot
References: <3B00D8CC.17130.2DEF60@localhost>
Message-ID: <007f01c0dd18$22f7e980$949037d2@kokangwang>

At the end of your code type:
box()

So you'd have:
barplot( pc,ylim=c(0,30),yaxs="r",xaxs="r",ylab="Anzahl"
             ,names.arg=c("Mac","286er","386er","486er","Pentium I")
             ,axisnames=T,col="gray")
box()



Cheers,

Kevin

----------------------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub
University of Auckland
New Zealand
----- Original Message -----
From: "Bernd Weiss" <bernd.weiss at epost.de>
To: <r-help at lists.R-project.org>
Sent: Tuesday, May 15, 2001 5:20 PM
Subject: [R] box around a barplot


> Hi,
>
> is it possible to draw a box around the following barplot;
> using "box=TRUE" won't work.
> ----------
> pc<-c(1,2,5,29,27)
>
> barplot(pc,ylim=c(0,30),yaxs="r",xaxs="r",ylab="Anzahl"
> ,names.arg=c("Mac","286er","386er","486er","Pentium I")
> ,axisnames=T,col="gray")
> ----------
>
> Thanks in advance
>
> Bernd
>
>
> --
> Bernd Wei (bernd.weiss at epost.de)
> PGP Key ID: 0x4117206F
> PGP FP: 08B2 09CD 7192 526D 93FD  2070 53DB 7C4F 4117 206F
> www.pgpi.org
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bernd.weiss at epost.de  Tue May 15 10:34:56 2001
From: bernd.weiss at epost.de (bernd.weiss@epost.de)
Date: Tue, 15 May 2001 10:34:56 +0200
Subject: [R] =?iso-8859-1?Q?Re=3A=20=5BR=5D=20box=20around=20a=20barplot?=
In-Reply-To: <007f01c0dd18$22f7e980$949037d2@kokangwang>
Message-ID: <3AFB1E9E00001EB2@mail.epost.de>



-- Original Nachricht --

>At the end of your code type:
>box()
>
>So you'd have:
>barplot( pc,ylim=c(0,30),yaxs="r",xaxs="r",ylab="Anzahl"
>             ,names.arg=c("Mac","286er","386er","486er","Pentium I")
>             ,axisnames=T,col="gray")
>box()
>
>
>
>Cheers,
>
>Kevin

Thanks for your help! box() works fine.

Bernd



________________________________________
Der clevere Infobote - Shopping-Tipps bequem abonniert. Jetzt neu bei http://www.epost.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bxc at novonordisk.com  Tue May 15 12:08:35 2001
From: bxc at novonordisk.com (BXC (Bendix Carstensen))
Date: Tue, 15 May 2001 12:08:35 +0200
Subject: [R] what happende to as.POSIC.ct ???
Message-ID: <D5A7D734C9C5D211B9E30008C78923020609E9F7@exdkba03.novo.dk>

In my 1021-version I get:

> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    2.1            
year     2001           
month    01             
day      15             
language R              
> as.POSIXct( "1970/01/01" )
[1] "1970-01-01 Rom"
> 


But having upgraded to 1023 I get:
> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    2.3            
year     2001           
month    04             
day      26             
language R              
> as.POSIXct( "1970/01/01" )
Error in fromchar(x) : character string is not in a standard unambiguous
format

Apparently the error comes out of as.POSIXlt which is called by as.POSIXct,
and it looks as if the behaviour of strptime has changed. But I cannot 
find any differences in the code.

Any clues??

----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Centre
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 28 25 87 38
fax: +45 44 43 73 13
bxc at novo.dk
www.biostat.ku.dk/~bxc
----------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 15 12:33:22 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 15 May 2001 11:33:22 +0100 (BST)
Subject: [R] what happende to as.POSIC.ct ???
In-Reply-To: <D5A7D734C9C5D211B9E30008C78923020609E9F7@exdkba03.novo.dk>
Message-ID: <Pine.GSO.4.31.0105151126230.657-100000@auk.stats>

On Tue, 15 May 2001, BXC (Bendix Carstensen) wrote:

> In my 1021-version I get:
>
> > version
>          _
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    2.1
> year     2001
> month    01
> day      15
> language R
> > as.POSIXct( "1970/01/01" )
> [1] "1970-01-01 Rom"
> >
>
>
> But having upgraded to 1023 I get:
> > version
>          _
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    2.3
> year     2001
> month    04
> day      26
> language R
> > as.POSIXct( "1970/01/01" )
> Error in fromchar(x) : character string is not in a standard unambiguous
> format
>
> Apparently the error comes out of as.POSIXlt which is called by as.POSIXct,
> and it looks as if the behaviour of strptime has changed. But I cannot
> find any differences in the code.
>
> Any clues??

No changes to the code, and it works well on my machine.  There have been
changes to the timezone handling on Windows, and your Windows system may
not be working correctly (not at all unknown).

Hint: Don't use that date to test things: Windows can get confused by it.

That's not the recommended way to do this: use ISOdate.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From johann at ai.univie.ac.at  Tue May 15 15:10:00 2001
From: johann at ai.univie.ac.at (Johann Petrak)
Date: Tue, 15 May 2001 15:10:00 +0200
Subject: [R] list to data frame by rows ...
References: <3AF8BFD8.8584434D@hia.net> <3AF95AB8.61CD0B58@ai.univie.ac.at> <6ritjalftv.fsf@franz.stat.wisc.edu> <x266fa8f06.fsf@blueberry.kubism.ku.dk>
Message-ID: <3B012AA8.AFA9A3DE@ai.univie.ac.at>

Thanks to all who helped on this!
Of course I messed up even my first help question on R and
asked the wrong question :)
>From list(c(1,2,3),c(4,5,6)) I wanted a data frame with
1 1 2 3
2 4 5 6

This is more interesting than what I actually asked, since
data frames are organized as lists of columns anyway,
so the efficient re-organization from a list of rows
is the point.
Naivly adapting Douglas' proposal seems to work:
data.frame(do.call("rbind",list(c(1,2,3),c(4,5,6))))
  X1 X2 X3
1  1  2  3
2  4  5  6
With lots of data, probably not very efficient?


So ... the reason why I want to do this in the first place 
is probably wrong R style:
I have a list of data frames (the result of a split operation).
For each member in the list, I want to calculate a couple of 
values using a single function that takes the member as an argument
and returns a list(vector) of values:
splitted <- (df, df[[1]])
myfun <- function (x) { calc all kinds of stuf from x, return c(...) }
res <- lapply(splitted,myfun)
  # this gives me a list of rows 

So is there a mapping operation that directly builds up a list
of columns? Or would the R programmer solve this completely 
differently?
(I cannot use different functions for each result column, since
they have to share code.)

Maybe doing an iterative append through vec<-c(vec,el)?
How efficient would this be? 
Is this different from vec<-append(vec,el) ?

Related to this:
How would I append single rows  to an existing dataframe in an efficient
and elegant manner? How all the rows from another dataframe?

Johann
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjb at di.fct.unl.pt  Tue May 15 14:08:20 2001
From: cjb at di.fct.unl.pt (cjb)
Date: Tue, 15 May 2001 13:08:20 +0100
Subject: [R] URGENT! {ARCH ?}
Message-ID: <3B011C34.43EEECD0@di.fct.unl.pt>

   {manually approved by list maintainer;
    my filter caught this as potential spam because of too many "!"s ..}

URGENT!!!
Please, could any one advise me about which is the best package to use
ARCH/GARCH analysis of financial time series.  Would it be the TSeries
or the dse/Multivariate time series packages. Or any other? Which is
best?
Thank you

CJoseBento
Universidade Nova de Lisboa
Portugal

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From elvis at xlsolutions-corp.com  Tue May 15 18:47:45 2001
From: elvis at xlsolutions-corp.com (Elvis Miller)
Date: Tue, 15 May 2001 09:47:45 -0700
Subject: [R] Course: R Fundamentals and Programming Techniques, San Francisco, 16-18 July 2001.
Message-ID: <200105151647.f4FGljb08741@badass.hosting-network.com>

XLSolutions Corporation (www.xlsolutions-corp.com) is pleased to 
announce a three-day R course, "R Fundamentals and Programming
Techniques," in San Francisco on July 16-18, 2001.

This special three-day R course is designed for those who want to learn 
to write R programs to accomplish typical data-processing tasks, including
creating graphics. The course will give beginners a strong foundation for
becoming a versatile R programmer, and will expose experienced users to
skills that make a better R programmer.

R is a freely available implementation of the S language and environment, 
for statistical computing and graphics similar to the commercial S-PLUS. 
You can download a copy of R software (Windows, Mac, Unix & Linux) 
from http://cran.r-project.org.


Course Description:

This three-day R course focuses on a broad spectrum of topics, from 
reading raw data to a comparison of R, S and SAS. We will learn the 
essentials of data manipulation, graphical visualization and R programming. 
We will explore statistical data analysis tools, including 
graphics with data sets from areas such as Finance, Biopharm, 
manufacturing and E-commerce. However, participants are encouraged to
bring their own data for an interactive session with the trainer.

 

Cost for 3-day course: San Francisco - July 16-18, 2001.

Commercial $985
Academic $875

(Includes course materials and 90 days Technical Support for R.)

Registration: 

Email Sue Turner: sue at xlsolutions-corp.com
Phone: 206-686-1578 x221
Visit us: www.xlsolutions-corp.com/training.htm


Course Format:

This course consists of a series of short lectures with demonstrations and 
interactive sessions for the participants. Each student is provided with 
bound copies of the notes and a CD-ROM containing all examples, 
exercises and software used on the course.


Share Your Thoughts:

Are there any additional topics you would like for this course to address?
Would you like for this course to be offered in another city? 

Please let us know by contributing to our recommendation list: 
training at xlsolutions-corp.com.


==============================================

Three-day 16-18 July R Fundamentals and Programming Techniques 
(San Francisco)
Pre-registration Form (Please email or print and fax: 206-686-1578)
XLsolutions Corporation: For your Solutions needs, Consulting and Training. 
www.xlsolutions-corp.com



Title...... First Name ................. Last Name....................

Organization..........................................................

Mailing Address....................................................... 

.....................................................................

.....................................................................

Zip Code...................... Country.............................

Telephone........................... Fax ...............................

E-mail................................................................

Payment will be made by: (1) check (2) invoice (3) bank transfer



Elvis Miller, PhD
Manager Training and Technical Support
North American Division
XLSolutions Corporation
Email: elvis at xlsolutions-corp.com
Phone: 206-686-1578
Web: www.xlsolutions-corp.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ml at lapsley.ukshells.co.uk  Tue May 15 22:52:13 2001
From: ml at lapsley.ukshells.co.uk (Michael Lapsley)
Date: Tue, 15 May 2001 21:52:13 +0100
Subject: [R] RODBC: closing databases
In-Reply-To: <3AFFFA9E.95937590@sentoo.sn>; from lancelot@sentoo.sn on Mon, May 14, 2001 at 03:32:46PM +0000
References: <3AFFFA9E.95937590@sentoo.sn>
Message-ID: <20010515215213.A1255@athome.lapsley>

On Mon, May 14, 2001 at 03:32:46PM +0000, Renaud Lancelot wrote:
> Dear all,
> 
> platform i386-pc-mingw32
> arch     x86            
> os       Win32          
> system   x86, Win32     
> status                  
> major    1              
> minor    2.3            
> year     2001           
> month    04             
> day      26             
> language R
> 
> I wrote the following to import tables in different database formats
> (Access, Visual FoxPro, etc.):
> 
> getTable <- function(Type, Table){
>   if(!is.element("package:RODBC", search())){
>     cat("Loading RODBC package", "\n")
>     invisible(library(RODBC))
>     }
>   Channel <- odbcConnect(Type)
>   query <- paste("select * from", Table)
>   tab <- sqlQuery(Channel, query)
>   odbcClose(Channel)
>   tab
>   }
> 
> Then something like:
> 
> CaPds <- getTable(Type = "VFP", Table = "CaPds")
> 
> does the job: the data.frame is quickly and properly obtained. However,
> when I go back to the database management system and try to update the
> original table, I get an error message saying that I cannot access the
> file. I have to close R to be able to update the table.
> 
> How do I close an open table ?


Hi,

You are supposed to use odbcClose, just like you did.  This just calls
SQLDisconnect together with a bit of cleanup and reinitialisation, so there
is not much scope for an RODBC bug here (although I have thought that before
and been wrong ... :-) )

I did a little test with R on linux:
> odbcConnect("test","xx","secret")
[1] 0
> system ("netstat")
Active Internet connections (w/o servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State      
tcp        0      0 athome.laps:netbios-ssn dell.lapsley:1107       ESTABLISHED 
Active UNIX domain sockets (w/o servers)
Proto RefCnt Flags       Type       State         I-Node Path
unix  11     [ ]         DGRAM                    1309   /dev/log
unix  3      [ ]         STREAM     CONNECTED     11625  /var/lib/mysql/mysql.sock
unix  3      [ ]         STREAM     CONNECTED     11624  
unix  3      [ ]         STREAM     CONNECTED     11613  /tmp/.X11-unix/X0

  <---------------------------snipped------------------------>
> odbcClose(0)
[1] 1
> system("netstat")
Active Internet connections (w/o servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State      
tcp        0      0 athome.laps:netbios-ssn dell.lapsley:1107       ESTABLISHED 
Active UNIX domain sockets (w/o servers)
Proto RefCnt Flags       Type       State         I-Node Path
unix  11     [ ]         DGRAM                    1309   /dev/log
unix  3      [ ]         STREAM     CONNECTED     11613  /tmp/.X11-unix/X0
       <------------------snipped------------------------>

As you can see the open connection to the musql socket has 
vanished, as it is supposed to.

I think that there may be a problem with the ODBC driver supplied by your
RDBMS vendor, which is not closing the file in response to
the disconnect request.  Perhaps you should contact them and ask
for a bug-fix.  

BTW, the design does seem to take a rather primitive view on table locking
if a simple SQLConnect prevents updates while it persists.  mysql locking
is not terribly sophisticated but you can certainly do updates while
odbc or other sessions are connected. 


Regards,

Michael
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hortresearch.co.nz  Wed May 16 05:00:21 2001
From: P.Connolly at hortresearch.co.nz (Patrick Connolly)
Date: Wed, 16 May 2001 15:00:21 +1200 (NZST)
Subject: [R] Anyone use pls package?
Message-ID: <200105160300.f4G30LG01134@biomat1.marc.hort.cri.nz>

I am searching for more recent information about the pls package. It
would appear that it is not being maintained (for reasons which are
easy to guess and understand).

I downloaded the pls package from CRAN.  I noticed that it wouldn't
work until I changed the name of the file that contains the functions
to .path/library/pls/R/pls so that it worked the way other libraries do.
I emailed Kjetil Halvorsen who had done the R port, but received no
reply.

The reference manual (dated 12/12/2000) mentions 6 functions -- all
described identically and give identical results with the example
given.  I would like to hear from anyone who has used this package and
can tell me how I use the vector of regression coefficients.
Alternatively any pointers to a URL that covers it would be
appreciated.

I could find no mention of PLS in the R archive and some quite old
ones in the Splus archive, one from 1994 (I think) from Mike Denham
who indicated he was having difficulty finding time to work on the
package. Other people mentioned he was unreachable by email.  The
References in the documentation include one by Mike Denham dated 1994
which is 'to appear'.

Any more recent information would be greatly appreciated.

Thanks


-- 
*************************************************************
Patrick Connolly
HortResearch                        Great minds discuss ideas;
Mt Albert                           Average minds discuss events; 
Auckland                            Small minds discuss people.
New Zealand                                                 .... Anon
Ph: +64-9 815 4200 x 7188
*************************************************************


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stein at fieldmuseum.org  Wed May 16 05:40:05 2001
From: stein at fieldmuseum.org (Jennifer Steinbachs)
Date: Tue, 15 May 2001 22:40:05 -0500 (CDT)
Subject: [R] the R package - relation to R project?
Message-ID: <Pine.LNX.4.33.0105152238050.505-100000@mail.fmnh.org>


I stumbled across this link and was wondering if this has any relation to
the R project.

http://www.fas.umontreal.ca/BIOL/Casgrain/en/labo/R/index.html

-jennifer

-----------------------------------
J. Steinbachs, Ph.D.
Computational Biologist
http://compbiology.org
-----------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jarioksa at cc.oulu.fi  Wed May 16 09:00:05 2001
From: jarioksa at cc.oulu.fi (Jari Oksanen)
Date: Wed, 16 May 2001 10:00:05 +0300
Subject: [R] the R package - relation to R project? 
In-Reply-To: Message from Jennifer Steinbachs <stein@fieldmuseum.org> 
   of "Tue, 15 May 2001 22:40:05 CDT." <Pine.LNX.4.33.0105152238050.505-100000@mail.fmnh.org> 
Message-ID: <200105160700.KAA08685@pc112145.oulu.fi>

> 
> I stumbled across this link and was wondering if this has any relation to
> the R project.
> 
> http://www.fas.umontreal.ca/BIOL/Casgrain/en/labo/R/index.html
> 

Pierre Legendre's R has nothing to do with this R. As an anecdote: In 
one ms I have managed to use both R's which made M&M kind of funny to 
write, since you had to be careful to say clearly which R you used this 
time. However, even Pierre Legendre's R is freely distributed (although 
I am not sure they are very careful about licensing of all components 
they use).

cheers, jari oksanen

PS. I guess it is appropriate to use this time a quote from Legendre's 
article in my .sig+, in particular because they are some of the wises 
words ever published in The Applied Statistics.
-- 
Jari Oksanen -- Dept Biology, Univ Oulu, 90014 Oulu, Finland
Ph. +358 8 5531526, cell +358 40 5136529, fax +358 8 5531061
email jari.oksanen at oulu.fi, homepage http://cc.oulu.fi/~jarioksa/
"In any case, single malts must be swallowed", Lapointe et al., 
+Applied Statistics 43, 237-257 (1994)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adrian at olsen.ch  Wed May 16 09:05:06 2001
From: adrian at olsen.ch (Adrian Trapletti)
Date: Wed, 16 May 2001 09:05:06 +0200
Subject: Subject: [R] URGENT! {ARCH ?}
References: <3B02256C.B46849D0@olsen.ch>
Message-ID: <3B0226A2.C0169751@olsen.ch>

>   {manually approved by list maintainer;
>     my filter caught this as potential spam because of too many "!"s ..}
>
> URGENT!!!
> Please, could any one advise me about which is the best package to use
> ARCH/GARCH analysis of financial time series.  Would it be the TSeries
> or the dse/Multivariate time series packages. Or any other? Which is
> best?

Within R only tseries contains a routine for fitting (univariate) GARCH
models.

Adrian


--
Dr.  Adrian Trapletti,  Olsen  &  Associates Ltd.
Seefeldstrasse 233, CH-8008  Z?rich,  Switzerland
Phone: +41 (1) 386 48 47   Fax: +41 (1) 422 22 82
E-mail: adrian at olsen.ch  WWW: http://www.olsen.ch



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Wed May 16 09:10:21 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Wed, 16 May 2001 09:10:21 +0200
Subject: [R] the R package - relation to R project?
In-Reply-To: <Pine.LNX.4.33.0105152238050.505-100000@mail.fmnh.org>
Message-ID: <MABBLJDICACNFOLGIHJOMEGMCDAA.phgrosje@ulb.ac.be>

>I stumbled across this link and was wondering if this has any relation to
>the R project.

>http://www.fas.umontreal.ca/BIOL/Casgrain/en/labo/R/index.html

>-jennifer

>-----------------------------------
>J. Steinbachs, Ph.D.
>Computational Biologist
>http://compbiology.org
>-----------------------------------

This is a project Pierre Legendre and its staff from Montreal University
started 5 or 6 years ago. Legendre's R package has nothing to do with R! It
is a collection of routines for numerical ecology for the Macintosh (and
everything can be nicely done in R -the CRAN R, I mean-). This is confusing
because both projects have almost the same name. What to do? Obviously, none
of these projects will change its name!

Best Regards,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Wed May 16 09:13:05 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Wed, 16 May 2001 09:13:05 +0200
Subject: [R] the R package - relation to R project?
In-Reply-To: <Pine.LNX.4.33.0105152238050.505-100000@mail.fmnh.org>
Message-ID: <MABBLJDICACNFOLGIHJOAEGNCDAA.phgrosje@ulb.ac.be>

>I stumbled across this link and was wondering if this has any relation to
>the R project.

>http://www.fas.umontreal.ca/BIOL/Casgrain/en/labo/R/index.html

>-jennifer

>-----------------------------------
>J. Steinbachs, Ph.D.
>Computational Biologist
>http://compbiology.org
>-----------------------------------

This is a project Pierre Legendre and its staff from Montreal University
started 5 or 6 years ago. Legendre's R package has nothing to do with R! It
is a collection of routines for numerical ecology for the Macintosh (and
everything can be nicely done in R -the CRAN R, I mean-). This is confusing
because both projects have almost the same name. What to do? Obviously, none
of these projects will change its name!

Best Regards,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dlucy at maths.ed.ac.uk  Wed May 16 10:37:32 2001
From: dlucy at maths.ed.ac.uk (David Lucy)
Date: Wed, 16 May 2001 09:37:32 +0100 (BST)
Subject: [R] the R package - relation to R project?
In-Reply-To: <Pine.LNX.4.33.0105152238050.505-100000@mail.fmnh.org>
Message-ID: <Pine.SOL.4.21.0105160935500.17119-100000@wallis>

> 
> http://www.fas.umontreal.ca/BIOL/Casgrain/en/labo/R/index.html
> 
> -jennifer
> 
> -----------------------------------
> J. Steinbachs, Ph.D.
> Computational Biologist
> http://compbiology.org
> -----------------------------------

I don't think it is related to the R we all know and love. It's interesting
though.

Dave.



**********************************************************
**  Dr. David Lucy                                      **
**  Centre for Forensic Statistics and Legal Reasoning  **
**  Department of Mathematics and Statistics            **
**  The University of Edinburgh                         **
**  James Clerk Maxwell Building                        **
**  King's Buildings                                    **
**  Mayfield Road                                       **
**  Edinburgh                                           **
**  EH9 3JZ                                             **
**                                                      **
**  tel: 0131 650 5057                                  **
**  e-mail: dlucy at maths.ed.ac.uk                        **
**********************************************************



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From B.Rowlingson at lancaster.ac.uk  Wed May 16 11:48:21 2001
From: B.Rowlingson at lancaster.ac.uk (B.Rowlingson@lancaster.ac.uk)
Date: Wed, 16 May 2001 10:48:21 +0100
Subject: [R] the R package - relation to R project?
References: <MABBLJDICACNFOLGIHJOAEGNCDAA.phgrosje@ulb.ac.be>
Message-ID: <3B024CE5.E6DD9CB8@lancs.ac.uk>


>  This is confusing
> because both projects have almost the same name. What to do? Obviously, none
> of these projects will change its name!

 Why not? Perhaps 'our R' should change its name to 'R-plus'? :)

 Alternatively, since the R language is object-oriented, it should 
be renamed "Oo-R". [that joke only accessible to British readers
familiar with comedy west country accents].

Barry
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May 16 12:08:45 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 May 2001 12:08:45 +0200
Subject: [R] the R package - relation to R project?
In-Reply-To: B.Rowlingson@lancaster.ac.uk's message of "Wed, 16 May 2001 10:48:21 +0100"
References: <MABBLJDICACNFOLGIHJOAEGNCDAA.phgrosje@ulb.ac.be> <3B024CE5.E6DD9CB8@lancs.ac.uk>
Message-ID: <x2wv7h61xu.fsf@blueberry.kubism.ku.dk>

B.Rowlingson at lancaster.ac.uk writes:

> >  This is confusing
> > because both projects have almost the same name. What to do? Obviously, none
> > of these projects will change its name!
> 
>  Why not? Perhaps 'our R' should change its name to 'R-plus'? :)
> 
>  Alternatively, since the R language is object-oriented, it should 
> be renamed "Oo-R". [that joke only accessible to British readers
> familiar with comedy west country accents].

The obvious candidate would be "R-square" since the program is
originally the product of R and R, but R and R have previously
dismissed the idea as "too cute".

And you shouldn't believe R-square values anyway...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cribari at de.ufpe.br  Wed May 16 11:31:50 2001
From: cribari at de.ufpe.br (Francisco Cribari)
Date: Wed, 16 May 2001 06:31:50 -0300 (EST)
Subject: [R] ARCH
Message-ID: <Pine.GSO.3.96.1010516062547.14788A-100000@bernoulli>


I suggest you look into the GARCH package for Ox. It is free, and 
quite complete. Version 2.0 just came out and includes forecasts. 
The available models are ARCH, GARCH, EGARCH, GJR, APARCH, IGARCH,
FIGARCH, FIEGARCH and FIAPARCH. Point your browser to 

   http://www.egss.ulg.ac.be/garch/

Good luck. 

Francisco

> URGENT!!!
> Please, could any one advise me about which is the best package 
> to use ARCH/GARCH analysis of financial time series.  Would it be 
> the TSeries or the dse/Multivariate time series packages. Or any 
> other? Which is best? Thank you
>  
> CJoseBento
> Universidade Nova de Lisboa
> Portugal                  

--
Francisco Cribari-Neto               voice: +55-81-32718420
Departamento de Estatistica          fax:   +55-81-32718422
Universidade Federal de Pernambuco   e-mail: cribari at de.ufpe.br
Recife/PE, 50740-540, Brazil         http://www.de.ufpe.br/~cribari

  I could stare all my life at a symmetric matrix, I would never
  get a Hilbert space out of it!                --William Feller                

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed May 16 10:38:19 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 16 May 2001 09:38:19 +0100
Subject: [R] unique and precision of long integers
In-Reply-To: <200105141509.LAA00510@beethoven.fas.harvard.edu>
References: <200105141509.LAA00510@beethoven.fas.harvard.edu>
Message-ID: <aP7erEA7xjA7EwGg@myatt.demon.co.uk>

Michael Herron <mherron at latte.harvard.edu> writes:

>I have a dataset with about 500,000 observations, most of which are
>not unique.  The first 10 observations look like

[stuff deleted]

I can think of two methods that might work ...

        1. Scan as strings rather than numbers

        2. Scan in as separate fields and then do sum sort of checksum
        function on all variables and unique() on the checksum.

Hope that helps.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed May 16 13:37:08 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 16 May 2001 12:37:08 +0100
Subject: [R] the R package - relation to R project?
In-Reply-To: <x2wv7h61xu.fsf@blueberry.kubism.ku.dk>
References: <MABBLJDICACNFOLGIHJOAEGNCDAA.phgrosje@ulb.ac.be>
 <3B024CE5.E6DD9CB8@lancs.ac.uk> <x2wv7h61xu.fsf@blueberry.kubism.ku.dk>
Message-ID: <16MFWZAkZmA7EwRm@myatt.demon.co.uk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:
>B.Rowlingson at lancaster.ac.uk writes:
>
>> >  This is confusing
>> > because both projects have almost the same name. What to do? Obviously, none
>> > of these projects will change its name!
>> 
>>  Why not? Perhaps 'our R' should change its name to 'R-plus'? :)
>> 
>>  Alternatively, since the R language is object-oriented, it should 
>> be renamed "Oo-R". [that joke only accessible to British readers
>> familiar with comedy west country accents].
>
>The obvious candidate would be "R-square" since the program is
>originally the product of R and R, but R and R have previously
>dismissed the idea as "too cute".
>
>And you shouldn't believe R-square values anyway...

I like the "Oo-R" joke ... when I came across Patrick Burns' "S Poetry"
I was sorely tempted to rename my notes to "R Soul".

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Wed May 16 14:35:42 2001
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Wed, 16 May 2001 22:35:42 +1000
Subject: [R] PostScript elocution
References: <MABBLJDICACNFOLGIHJOAEGNCDAA.phgrosje@ulb.ac.be>
	 <3B024CE5.E6DD9CB8@lancs.ac.uk> <x2wv7h61xu.fsf@blueberry.kubism.ku.dk> <16MFWZAkZmA7EwRm@myatt.demon.co.uk>
Message-ID: <3B02741E.58E8DB53@ozemail.com.au>

I noticed what may be a useful thing while wrestling with StarOffice the other day.
While SO has saved me many a time by importing and exporting M$Word documents
flawlessly, it usually barfs on PostScript plots from R, complaining that they are
an "Unknown graphics format"!
On  long shot, I manually edited the header line by adding " EPSF 2.0" and blow me
down, it worked!  I tried to trace the PostScript header file, but couldn't find
one, and as it's an internal function, didn't manage to come up with a fix.  Is it
worthwhile providing a fix for the (hopefully) C code?  I'd be happy to have a go,
as it is incredibly useful as far as I'm concerned.

And I couldn't resist adding:

Mark Myatt wrote:

> I like the "Oo-R" joke ... when I came across Patrick Burns' "S Poetry"
> I was sorely tempted to rename my notes to "R Soul".

Perhaps I should add a section on the other "R" and rename mine "Kicking Rs"?

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Wed May 16 14:40:50 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Wed, 16 May 2001 13:40:50 +0100 (BST)
Subject: [R] the R package - relation to R project?
In-Reply-To: <x2wv7h61xu.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.10.10105161335180.5434-100000@localhost.localdomain>

> The obvious candidate would be "R-square" since the program is
                                  ^^^^^^^^
                                 "R-squared" I should think, or
                                 "the square of R". Logo:
|---|
| R |
|---|

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 16 14:46:20 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 16 May 2001 13:46:20 +0100 (BST)
Subject: [R] PostScript elocution
In-Reply-To: <3B02741E.58E8DB53@ozemail.com.au>
Message-ID: <Pine.LNX.4.31.0105161340010.17949-100000@gannet.stats>

On Wed, 16 May 2001, Jim Lemon wrote:

> I noticed what may be a useful thing while wrestling with StarOffice the other day.
> While SO has saved me many a time by importing and exporting M$Word documents
> flawlessly, it usually barfs on PostScript plots from R, complaining that they are
> an "Unknown graphics format"!

Sure, correct. By default they are in a printing format.

> On  long shot, I manually edited the header line by adding " EPSF 2.0" and blow me
> down, it worked!  I tried to trace the PostScript header file, but couldn't find
> one, and as it's an internal function, didn't manage to come up with a fix.  Is it
> worthwhile providing a fix for the (hopefully) C code?  I'd be happy to have a go,
> as it is incredibly useful as far as I'm concerned.

If you ask for EPSF, you get an EPSF header. If you don't, you don't.
The helpful help page says

 onefile: logical: if true (the default) allow multiple figures in one
          file. If false, generate a file name containing the page
          number and give EPSF header and no `DocumentMedia' comment.

...

     The postscript produced by R is EPS (Encapsulated PostScript)
     compatible, and can be included into other documents, e.g. into
     LaTeX, using `\includegraphics{<filename>}'.  For use in this way
     you will probably want to set `horizontal=FALSE, onefile=FALSE,
     paper="special"'.

Now when I wanted this a couple of years ago it was not on the help
page, so there was a reasonable excuse (and anyway then it was not
genuine EPS) ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Wed May 16 14:47:57 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Wed, 16 May 2001 14:47:57 +0200
Subject: [R] the R package - relation to R project?
In-Reply-To: <3B024CE5.E6DD9CB8@lancs.ac.uk>
Message-ID: <MABBLJDICACNFOLGIHJOMEGOCDAA.phgrosje@ulb.ac.be>

>> This is confusing
>>because both projects have almost the same name. What to do? Obviously,
none
>> of these projects will change its name!

> Why not? Perhaps 'our R' should change its name to 'R-plus'? :)

> Alternatively, since the R language is object-oriented, it should
>be renamed "Oo-R". [that joke only accessible to British readers
>familiar with comedy west country accents].

>Barry

Ok, lets mix object-oriented and R-plus, which will give R++. Hhhmm, sounds
not too bad.

I remember NAME, an European seminar on Numerical Analysis in Marine Ecology
where Pierre Legendre proudly introduced its R package to us. We were
wondering why this name, R, for such a software... and we finally concluded
that it should be because it adopts an R strategy.

For those who are not biologists, there are two main strategies for a
species to spread and survive:
- the k strategy consists in being very competitive and invest energy on
defense and protection but less on reproduction
- the R strategy consists in devoting much of the energy in reproduction to
compensate a lower competitivity

Anyway, if R is mysterious as a name for Legendre's R package... it is
clearer for "CRAN-R" because it is "not unlike S"! I suppose that if
somebody wants to make another software "not unlike R", he should call it...
Q.

At least, even if there are two R software, "R" is still a good keyword to
search on the web... Have you already try a search on the web for X
(X-window on Unix, of course)?

Philippe


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurans at roazhon.inra.fr  Wed May 16 15:08:02 2001
From: laurans at roazhon.inra.fr (laurans@roazhon)
Date: Wed, 16 May 2001 15:08:02 +0200
Subject: [R] Question about lm of R
Message-ID: <3B027BB2.ABD692B@roazhon.inra.fr>

I have just began to use R.
I would  like to know where I can find in R the equivalent of the
LSMEANS of SAS when I realise a lm..
In the summary, there is the estimate but it's different of the LSMEANS.

In advance, thank you.

Martial Laurans
Laboratoire Halieutique de Rennes
ENSAR
65 rue de St Brieuc CS 84215
35042 Rennes
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego at kuonen.com  Wed May 16 15:34:57 2001
From: Diego at kuonen.com (Diego Kuonen)
Date: Wed, 16 May 2001 15:34:57 +0200
Subject: [R] the R package - relation to R project?
References: <Pine.LNX.4.10.10105161335180.5434-100000@localhost.localdomain>
Message-ID: <3B028201.416FE440@Kuonen.com>

Bill Simpson wrote:
> 
> > The obvious candidate would be "R-square" since the program is
>                                   ^^^^^^^^
>                                  "R-squared" I should think, or
>                                  "the square of R". Logo:
> |---|
> | R |
> |---|

:-)

But, that's not the way free software should be presented. 

The logo may then be better like

 |- -|
   R  
 |- -|

But, then it looks like a Formula 1 car, a Ferrari, say.

 "R --- Statistical Software's Ferrari"

or

 "Take a ride, and you'll never forget it."

Greets

  Diego


-- 
Diego Kuonen $\in$ Chairs of Statistics $\subset$ DMA \@ EPFL
http://stat.kuonen.com                  http://www.Statoo.com 
Q: How do I type "for i in *.dvi; do xdvi $i; done" in a GUI?  
/*      panic("esp: Aiee penguin on the SCSI-bus.");       */
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hstevens at rci.rutgers.edu  Wed May 16 15:46:54 2001
From: hstevens at rci.rutgers.edu (Martin Henry H. Stevens)
Date: Wed, 16 May 2001 09:46:54 -0400
Subject: [R] nlme and "Mixed- Effects Models..." in Windows
Message-ID: <000b01c0de0e$ab2f8320$9db9e6a5@rutgers.edu>

(windows 98, R 1.2.3, ESS 5.1.18, nlme 3.1 from CRAN)

Dear R users,
I am trying to follow Pinheiro and Bates book ("Mixed-Effects Models in S
and S-PLUS"). I downloaded the nlme package from CRAN, and unzipped all the
data and help files. Unfortunately, I cannot generate the figures in the
book. For instance, their appears to be no plot.design or intervals plotting
functions.
Have these and other things not yet been impoemented in R?
TIA,
Henry

Dr. M. Henry H. Stevens
Postdoctoral Associate
Department of Ecology, Evolution, & Natural Resources
14 College Farm Road
Cook College, Rutgers University
New Brunswick, NJ 08901-8551

email: hstevens at rci.rutgers.edu
phone: 732-932-9631
fax: 732-932-8746

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From B.Rowlingson at lancaster.ac.uk  Wed May 16 15:52:18 2001
From: B.Rowlingson at lancaster.ac.uk (B.Rowlingson@lancaster.ac.uk)
Date: Wed, 16 May 2001 14:52:18 +0100
Subject: [R] the R package - relation to R project?
References: <MABBLJDICACNFOLGIHJOMEGOCDAA.phgrosje@ulb.ac.be>
Message-ID: <3B028612.4A5EB1FE@lancs.ac.uk>


> At least, even if there are two R software, "R" is still a good keyword to
> search on the web... Have you already try a search on the web for X
> (X-window on Unix, of course)?

I've just been pleasantly surprised to find that a google search for 'R' 
gets the r-project.org home page as top match. I was expecting that a
search
for a single letter would throw up all sorts of matches, and the R
project
wouldn't be among them.

 I also tried searching for 'R' and 'Statistics', and top hit was the R
project
page. Fifth best match was someone's page about statistics of the R
series
of John Deere tractors.

 Apparently Microsoft's C# languge is virtually impossible to find on
the web.
Google finds _no_ matches for C#...

Barry
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sondhaus at statistik.uni-dortmund.de  Wed May 16 16:29:38 2001
From: sondhaus at statistik.uni-dortmund.de (Ursula Sondhauss)
Date: Wed, 16 May 2001 16:29:38 +0200
Subject: [R] Naive Bayes Classifier
Message-ID: <3B028ED2.5662324F@statistik.uni-dortmund.de>

Dear r-users,

I am looking for an implementation of the Naive Bayes classifier for a
multi-class classification problem. I can not even find the Naive Bayes
classifier for two classes, though I can not believe it is not
available. Can anyone help me?

Uschi





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed May 16 16:33:55 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 16 May 2001 07:33:55 -0700 (PDT)
Subject: [R] nlme and "Mixed- Effects Models..." in Windows
In-Reply-To: <000b01c0de0e$ab2f8320$9db9e6a5@rutgers.edu>
Message-ID: <Pine.A41.4.33.0105160727300.157646-100000@homer09.u.washington.edu>

On Wed, 16 May 2001, Martin Henry H. Stevens wrote:

> (windows 98, R 1.2.3, ESS 5.1.18, nlme 3.1 from CRAN)
>
> Dear R users,
> I am trying to follow Pinheiro and Bates book ("Mixed-Effects Models in S
> and S-PLUS"). I downloaded the nlme package from CRAN, and unzipped all the
> data and help files. Unfortunately, I cannot generate the figures in the
> book. For instance, their appears to be no plot.design or intervals plotting
> functions.
> Have these and other things not yet been impoemented in R?

That's right. Many of the graphics functions rely on Trellis graphics in
S-PLUS.  R should actually be getting similar graphics Real Soon Now, but
currently they're not implemented.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed May 16 16:38:28 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 16 May 2001 09:38:28 -0500
Subject: [R] nlme and "Mixed- Effects Models..." in Windows
In-Reply-To: <000b01c0de0e$ab2f8320$9db9e6a5@rutgers.edu>
References: <000b01c0de0e$ab2f8320$9db9e6a5@rutgers.edu>
Message-ID: <6rpud9xst7.fsf@franz.stat.wisc.edu>

"Martin Henry H. Stevens" <hstevens at rci.rutgers.edu> writes:

> (windows 98, R 1.2.3, ESS 5.1.18, nlme 3.1 from CRAN)

> Dear R users,
> I am trying to follow Pinheiro and Bates book ("Mixed-Effects Models in S
> and S-PLUS"). I downloaded the nlme package from CRAN, and unzipped all the
> data and help files. Unfortunately, I cannot generate the figures in the
> book. For instance, their appears to be no plot.design or intervals plotting
> functions.
> Have these and other things not yet been impoemented in R?
> TIA,

The bad news is that the figures from our book cannot yet be
constructed in R.  They rely heavily on the trellis graphics functions
in S-PLUS.

The good news is that lattice, the R implementation of the trellis
graphics style, should show up in the src/Devel section on CRAN
"soon".  Deepayan Sarkar's <deepayan at stat.wisc.edu> implementation of
lattice is ready to go but it depends on Paul Murrell's grid package
that is still being developed.

Once lattice is available, (most of?) the figures in our book will be
available in R.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stein at fieldmuseum.org  Wed May 16 17:25:23 2001
From: stein at fieldmuseum.org (Jennifer Steinbachs)
Date: Wed, 16 May 2001 10:25:23 -0500 (CDT)
Subject: [R] the R package - relation to R project?
In-Reply-To: <3B028201.416FE440@Kuonen.com>
Message-ID: <Pine.LNX.4.33.0105161022300.10423-100000@mail.fmnh.org>

On Wed, 16 May 2001, Diego Kuonen wrote:

 >Bill Simpson wrote:
 >>
 >> > The obvious candidate would be "R-square" since the program is
 >>                                   ^^^^^^^^
 >>                                  "R-squared" I should think, or
 >>                                  "the square of R". Logo:
 >> |---|
 >> | R |
 >> |---|
 >
 >:-)
 >
 >But, that's not the way free software should be presented.
 >
 >The logo may then be better like
 >
 > |- -|
 >   R
 > |- -|
 >
 >But, then it looks like a Formula 1 car, a Ferrari, say.
 >
 > "R --- Statistical Software's Ferrari"
 >
 >or
 >
 > "Take a ride, and you'll never forget it."

Oh but wait... don't many free software projects have animal logos?
like a cheetah :)  but i'm not going to even try to do one in ascii art.


-----------------------------------
J. Steinbachs, Ph.D.
Computational Biologist
http://compbiology.org
-----------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 16 17:28:08 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 16 May 2001 16:28:08 +0100 (BST)
Subject: [R] Naive Bayes Classifier
In-Reply-To: <3B028ED2.5662324F@statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.31.0105161619420.14396-100000@gannet.stats>

On Wed, 16 May 2001, Ursula Sondhauss wrote:

> I am looking for an implementation of the Naive Bayes classifier for a
> multi-class classification problem. I can not even find the Naive Bayes
> classifier for two classes, though I can not believe it is not
> available. Can anyone help me?

Hard to believe but likely true. However, as I understand this, it applies
to a (K+1)-way contingency table, with K explanatory factors and and one
response.  And the `naive Bayes' model is a particular model for that
table.  If you want a classifier, you only need the conditional
distribution of the response given the explanatory factors, and that is a
main-effects-only multiple logistic model.  Now the *estimation*
procedures may be slightly different (`naive Bayes' is not fully defined),
but if that does not matter, use multinom() in package nnet to fit this.

A book on Graphical Modelling (e.g. Whittaker or Edwards) may help
elucidate the connections.

Let me stress *as I understand this* here.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oliverfaulhaber at gmx.de  Wed May 16 18:01:55 2001
From: oliverfaulhaber at gmx.de (Oliver Faulhaber)
Date: Wed, 16 May 2001 18:01:55 +0200
Subject: [R] t-distribution: estimating parameters
Message-ID: <000e01c0de21$8cbb0e10$0527e195@harkonnen>

Hi all!

Did anyone ever implement a function in R to estimate the parameters for a
generalized student distribution? By "generalized" I mean, that beside the
degree of freedom there is also a scaling parameter B. I need to estimate
both parameters.

Thanks for any help in advance
Oliver

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dpowers at mail.la.utexas.edu  Wed May 16 18:24:16 2001
From: dpowers at mail.la.utexas.edu (Daniel A. Powers)
Date: Wed, 16 May 2001 11:24:16 -0500 (CDT)
Subject: [R] bivariate function in gam model
Message-ID: <Pine.GSO.4.33.0105161116420.18753-100000@dahlia.la.utexas.edu>


R-users --

I would be interested in tools in R to fit the following gam model:

logit(p) = a + f(x1) + f(x2) + f(x1,x2),

where f(x1,x2) defines a surface.

I have looked into the mgcv library, but it seems only to fit models of
the form:

logit(p) = a + f(x1) + f(x2)

Any ideas?

Cheers,
Dan

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Dan Powers
Associate Professor, Sociology
University of Texas at Austin


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Wed May 16 18:29:56 2001
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Wed, 16 May 2001 12:29:56 -0400
Subject: [R] incomplete gamma function
References: <3a254089.62f4.0@oecon.au.dk>
Message-ID: <3B02AB04.83006112@umsanet.edu.bo>

Hola!

Try ?gamma

Kjetil Halvorsen


Ott Toomet wrote:
> 
> HI,
> are there anything available which calculates incomplete gamma function?
> I know such functions exist in both ox and Gauss.
> 
> Thanks,
> Ott Toomet
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed May 16 19:09:37 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 16 May 2001 13:09:37 -0400 (EDT)
Subject: [R] bivariate function in gam model
In-Reply-To: <Pine.GSO.4.33.0105161116420.18753-100000@dahlia.la.utexas.edu>
Message-ID: <Pine.LNX.4.30.0105161309110.11036-100000@bolker.zoo.ufl.edu>


  I don't know, but would the thin-plate splines in the funfit library do
what you need?

  Ben Bolker

On Wed, 16 May 2001, Daniel A. Powers wrote:

>
> R-users --
>
> I would be interested in tools in R to fit the following gam model:
>
> logit(p) = a + f(x1) + f(x2) + f(x1,x2),
>
> where f(x1,x2) defines a surface.
>
> I have looked into the mgcv library, but it seems only to fit models of
> the form:
>
> logit(p) = a + f(x1) + f(x2)
>
> Any ideas?
>
> Cheers,
> Dan
>
> =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
> Dan Powers
> Associate Professor, Sociology
> University of Texas at Austin
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed May 16 19:41:46 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 16 May 2001 13:41:46 -0400 (EDT)
Subject: [R] glm.nb difficulties
Message-ID: <Pine.LNX.4.30.0105161327340.11076-100000@bolker.zoo.ufl.edu>


  I'm having problems (or to be precise a student is having problems,
which I'm having problems helping her with) trying to use glm.nb() from
the MASS package to do some negative binomial fits on a data set that is,
admittedly, wildly overdispersed (some zeros and some numbers in the
hundreds).

  glm.nb is failing to converge, and furthermore is (to my surprise)
producing values of theta that are larger and larger.

  Does anyone have advice beyond "don't do that"?  I did get some results
out of glm(...,family=quasipoisson()), but ideally I'd like to be able to
get likelihoods/AIC for model selection out of this exercise.


  thanks,
    Ben Bolker

#############################################
library(MASS)

tadT <- c(0,0,0,450,0,0,0,315,233,0,200,300)
Distance <- rep(c(10,100,500),rep(4,3))

plot(tadT)
plot(Distance,jitter(tadT))

## constant model
tad.con <- glm.nb(tadT ~ 1, control=glm.control(trace=10))
log(mean(tadT))  ## OK, it got the mean right at least ...

## given more iterations to get where it's going, it goes
## out of control (and crashes)
glm.nb(tadT ~ 1, control=glm.control(trace=10,maxit=100))

## doesn't help to make an identity link
glm.nb(tadT ~ 1,link=identity, control=glm.control(trace=10))
glm.nb(tadT ~ 1,link=identity, control=glm.control(trace=10,maxit=100))

## also try as a function of distance
tad.dist <- glm.nb(tadT ~ Distance)
## with trace/maxit set
glm.nb(tadT ~ Distance,control=glm.control(trace=10,maxit=100))
## does setting init.theta <<1 help?
glm.nb(tadT ~ Distance,init.theta=1e-6,control=glm.control(trace=10,maxit=100))
glm.nb(tadT ~ Distance,init.theta=1e-1,control=glm.control(trace=10,maxit=100))


## setting all zeros to 1 gives reasonable answers but???
tadT1 <- tadT
tadT1[tadT1==0] <- 1
glm.nb(tadT1 ~ Distance,control=glm.control(trace=10,maxit=100))

## quasipoisson does work ... but no likelihood/AIC available
glm.q1 <- glm(tadT ~ 1,family=quasipoisson())
glm.qd <- glm(tadT ~ Distance,family=quasipoisson())


-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 16 19:41:51 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 16 May 2001 18:41:51 +0100 (BST)
Subject: [R] bivariate function in gam model
In-Reply-To: <Pine.LNX.4.30.0105161309110.11036-100000@bolker.zoo.ufl.edu>
Message-ID: <Pine.GSO.4.31.0105161834480.21280-100000@auk.stats>

On Wed, 16 May 2001 ben at zoo.ufl.edu wrote:

>
>   I don't know, but would the thin-plate splines in the funfit library do
> what you need?

I had a lot of problems with using those in funfit (and its legal status is
unclear).  I think gss is more promising: its gssanova includes bivariate
terms in additive predictors for a GLM, including thin-plate spline terms.

> On Wed, 16 May 2001, Daniel A. Powers wrote:
>
> >
> > R-users --
> >
> > I would be interested in tools in R to fit the following gam model:
> >
> > logit(p) = a + f(x1) + f(x2) + f(x1,x2),
> >
> > where f(x1,x2) defines a surface.

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cribari at de.ufpe.br  Wed May 16 19:12:54 2001
From: cribari at de.ufpe.br (Francisco Cribari)
Date: Wed, 16 May 2001 14:12:54 -0300 (EST)
Subject: [R] stl in library(ts)
Message-ID: <Pine.GSO.3.96.1010516140519.23054F-100000@bernoulli>


I am running R 1.2.2 under Linux. When using the function stl in 
the ts library, how can I save the seasonal component? What I 
would like was something like: 

library(ts) 
data(nottem) 
data.stl <- stl(nottem, "per")
x <- data.stl$sea

This what I get: 

> x
NULL  

I would, however, like to store in x the seasonal component. 

Thanks in advance. Francisco. 

--
Francisco Cribari-Neto               voice: +55-81-32718420
Departamento de Estatistica          fax:   +55-81-32718422
Universidade Federal de Pernambuco   e-mail: cribari at de.ufpe.br
Recife/PE, 50740-540, Brazil         http://www.de.ufpe.br/~cribari
           (o_                    
 (o_  (o_  //\   Linux is user-friendly.  It's just not idiot-friendly.
 (/)_ (/)_ V_/_               


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 16 20:50:13 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 16 May 2001 19:50:13 +0100 (BST)
Subject: [R] stl in library(ts)
In-Reply-To: <Pine.GSO.3.96.1010516140519.23054F-100000@bernoulli>
Message-ID: <Pine.GSO.4.31.0105161948510.29444-100000@auk.stats>

On Wed, 16 May 2001, Francisco Cribari wrote:

>
> I am running R 1.2.2 under Linux. When using the function stl in
> the ts library, how can I save the seasonal component? What I
> would like was something like:
>
> library(ts)
> data(nottem)
> data.stl <- stl(nottem, "per")
> x <- data.stl$sea
>
> This what I get:
>
> > x
> NULL

It's in the manual ...

Value:

     An object of class `"stl"' with components

time.series: a multiple time series with columns `seasonal', `trend'
          and `remainder'.

...

data.stl$time.series[, "seasonal"]


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Wed May 16 22:52:02 2001
From: novo at uiuc.edu (Alvaro A. Novo @galton)
Date: Wed, 16 May 2001 15:52:02 -0500 (CDT)
Subject: [R] Reading .RData Fails
In-Reply-To: <200105161603.LAA10537@ragnar.econ.uiuc.edu>
Message-ID: <Pine.LNX.4.30.0105161543560.11460-100000@galton.econ.uiuc.edu>

Hi,

We have a user reporting the following problem


> % R
>
> R : Copyright 2001, The R Development Core Team
> Version 1.2.3  (2001-04-26)
>
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type `license()' or `licence()' for distribution details.
>
> R is a collaborative project with many contributors.
> Type `contributors()' for more information.
>
> Type `demo()' for some demos, `help()' for on-line help, or
> `help.start()' for a HTML browser interface to help.
> Type `q()' to quit R.
>
> Error: NewReadItem: unknown type 875560960
> Fatal error: unable to restore saved data
>  (remove .RData or increase memory)

The physical memory is 2GB and the .RData (renamed .old.RData) size
is:

% ls -lh .old.RData
-rw-r--r--   1  531          316M May 14 18:58 .old.RData

Also, it fails in both Linux and Solaris (the message above is
from Solaris. If memory doesn't fail me, the message in the
Linux box was slightly different, in particular, the first line).

Suggestions? Thank you very much,

Alvaro Novo



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eac at ma.adfa.edu.au  Thu May 17 01:37:44 2001
From: eac at ma.adfa.edu.au (eac@ma.adfa.edu.au)
Date: Thu, 17 May 2001 09:37:44 +1000 (EST)
Subject: [R] the R package - relation to R project?
In-Reply-To: <16MFWZAkZmA7EwRm@myatt.demon.co.uk>
Message-ID: <Pine.LNX.4.21.0105170936230.13696-100000@stat.ma.adfa.edu.au>

I think I'll call my notes "R Sweet Mystery of Life" .  .  .

Dr E.A. (Ted) Catchpole                 
School of Maths & Stats                Honorary Senior Research Fellow
University College, UNSW               Institute of Maths & Stats      
Australian Defence Force Academy       University of Kent at Canterbury
Canberra, ACT 2600, Australia          Canterbury CT2 7NF, England
e-catchpole at adfa.edu.au                E.A.Catchpole at ukc.ac.uk
www.ma.adfa.edu.au/~eac          
fax: +61 2 6268 8886

On Wed, 16 May 2001, Mark Myatt wrote:

> Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:
> >B.Rowlingson at lancaster.ac.uk writes:
> >
> >> >  This is confusing
> >> > because both projects have almost the same name. What to do? Obviously, none
> >> > of these projects will change its name!
> >> 
> >>  Why not? Perhaps 'our R' should change its name to 'R-plus'? :)
> >> 
> >>  Alternatively, since the R language is object-oriented, it should 
> >> be renamed "Oo-R". [that joke only accessible to British readers
> >> familiar with comedy west country accents].
> >
> >The obvious candidate would be "R-square" since the program is
> >originally the product of R and R, but R and R have previously
> >dismissed the idea as "too cute".
> >
> >And you shouldn't believe R-square values anyway...
> 
> I like the "Oo-R" joke ... when I came across Patrick Burns' "S Poetry"
> I was sorely tempted to rename my notes to "R Soul".
> 
> Mark
> 
> --
> Mark Myatt
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Thu May 17 02:38:20 2001
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Thu, 17 May 2001 12:38:20 +1200
Subject: [R] Naive Bayes Classifier
In-Reply-To: <Pine.LNX.4.31.0105161619420.14396-100000@gannet.stats>
References: <3B028ED2.5662324F@statistik.uni-dortmund.de>
Message-ID: <200105170040.MAA30236@gosset.stats.waikato.ac.nz>

As I understand Naive Bayes it is essentially a finite mixture model for
multivariate categorical distributions where the variables are independent in
each component of the mixture. That is, I believe it to be a synonym Latent
Class analysis. I believe the Frayley/Raftery package mclust may include this
sort of model, and possibly other packages. Certainly these models may be
expressed in the language of graphical models. Whether or not this would be
useful for estimation purposes I am uncertain.

Murray Jorgensen

At 04:28 PM 16-05-01 +0100, Prof Brian Ripley wrote:
>On Wed, 16 May 2001, Ursula Sondhauss wrote:
>
>> I am looking for an implementation of the Naive Bayes classifier for a
>> multi-class classification problem. I can not even find the Naive Bayes
>> classifier for two classes, though I can not believe it is not
>> available. Can anyone help me?
>
>Hard to believe but likely true. However, as I understand this, it applies
>to a (K+1)-way contingency table, with K explanatory factors and and one
>response.  And the `naive Bayes' model is a particular model for that
>table.  If you want a classifier, you only need the conditional
>distribution of the response given the explanatory factors, and that is a
>main-effects-only multiple logistic model.  Now the *estimation*
>procedures may be slightly different (`naive Bayes' is not fully defined),
>but if that does not matter, use multinom() in package nnet to fit this.
>
>A book on Graphical Modelling (e.g. Whittaker or Edwards) may help
>elucidate the connections.
>
>Let me stress *as I understand this* here.
>
>-- 
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>  
Murray Jorgensen,  Department of Statistics,  U of Waikato, Hamilton, NZ
-----[+64-7-838-4773]---------------------------[maj at waikato.ac.nz]-----
"Doubt everything or believe everything:these are two equally convenient
strategies. With either we dispense with the need to think."
http://www.stats.waikato.ac.nz/Staff/maj.html          - Henri Poincare'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From casgrain at magellan.umontreal.ca  Thu May 17 05:55:39 2001
From: casgrain at magellan.umontreal.ca (Philippe Casgrain)
Date: Wed, 16 May 2001 23:55:39 -0400
Subject: [R] Re: the R package - relation to R project? 
In-Reply-To: <200105170201.EAA19835@stat.math.ethz.ch>
Message-ID: <200105170355.f4H3tdP2417116@jason.MAGELLAN.UMontreal.CA>

Hello, I'm the head developer of the R Package, so I'd like to clarify 
some things :-)

> I stumbled across this link and was wondering if this has any relation 
> to
> the R project.
>
> http://www.fas.umontreal.ca/BIOL/Casgrain/en/labo/R/index.html

Aside from using the 18th letter of the alphabet, none. "The R Package" 
predates the "R Project" by several years. The word "package" stems from 
the fact that it was, in the beginning, an eclectic collection of 
multivariate analysis programs.

> However, even Pierre Legendre's R is freely distributed (although
> I am not sure they are very careful about licensing of all components
> they use).

When I get around to finish cleaning it up and bringing everything to 
version 4, we're thinking about releasing it as open source. However, 
it's all written in Pascal, and Pascal compilers are not very common in 
open-source projects. Besides, IIRC, all the algorithms are described in 
Legendre and Legendre's "Numerical Ecology" textbook (1998).

> This is a project Pierre Legendre and its staff from Montreal University
> started 5 or 6 years ago. Legendre's R package has nothing to do with 
> R! It
> is a collection of routines for numerical ecology for the Macintosh (and
> everything can be nicely done in R -the CRAN R, I mean-). This is 
> confusing
> because both projects have almost the same name. What to do? Obviously, 
> none
> of these projects will change its name!

5 or 6 years? Try 23! It actually started in 1978. I'm the third 
programmer on it. It's also not a collection of routines, but of 
compiled applications (currently only for MacOS, but I'm working on a 
Windows port). If one were to follow rules of publishing, we'd have the 
original ownership since we published it first ;-)

>  Why not? Perhaps 'our R' should change its name to 'R-plus'? :)

Since R is related to S+, I believe that makes sense! That, or a 
recursive acronym ? la gnu: RinS (R is not S plus)...

> I remember NAME, an European seminar on Numerical Analysis in Marine 
> Ecology
> where Pierre Legendre proudly introduced its R package to us. We were
> wondering why this name, R, for such a software... and we finally 
> concluded
> that it should be because it adopts an R strategy.

Nice guess :-), but here's the real reason (from our user's guide):

"The name of the package, ?R?, comes from our 1978 work on PDP-10 
equipment, where R (for Run) was the command to start a program. In the 
CDC implementation, we kept ?R? as the name of the main calling program 
written in CCL, which is the equivalent of a large IBM EXEC file, thus 
mimicking the PDP way of calling the programs. This is why ?R? has 
gradually shifted to become the pleasantly short name of the package."

> Anyway, if R is mysterious as a name for Legendre's R package... it is
> clearer for "CRAN-R" because it is "not unlike S"! I suppose that if
> somebody wants to make another software "not unlike R", he should call 
> it...
> Q.

Funny, I'm actually working on a program whose code-name is "The Q 
Package" since it is partly derived from the R Package, and will replace 
another (commercial) product whose name begins with the letter Q...

Best wishes to all,

Philippe Casgrain
--
This message was brought to you by the letter R
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jarioksa at cc.oulu.fi  Thu May 17 07:45:10 2001
From: jarioksa at cc.oulu.fi (Jari Oksanen)
Date: Thu, 17 May 2001 08:45:10 +0300
Subject: [R] the R package - relation to R project? 
In-Reply-To: Message from "Philippe Grosjean" <phgrosje@ulb.ac.be> 
   of "Wed, 16 May 2001 14:47:57 +0200." <MABBLJDICACNFOLGIHJOMEGOCDAA.phgrosje@ulb.ac.be> 
Message-ID: <200105170545.IAA13036@pc112145.oulu.fi>


phgrosje at ulb.ac.be said:
> I remember NAME, an European seminar on Numerical Analysis in Marine
> Ecology where Pierre Legendre proudly introduced its R package to us.
> We were wondering why this name, R, for such a software... and we
> finally concluded that it should be because it adopts an R strategy.

> For those who are not biologists, there are two main strategies for a
> species to spread and survive: - the k strategy consists in being very
> competitive and invest energy on defense and protection but less on
> reproduction - the R strategy consists in devoting much of the energy
> in reproduction to compensate a lower competitivity 

Actually, the cases should be switched: they are r and K strategies. 
They take their names from the parameters of the logistic population 
growth model (used in ecology textbooks -- not much elsewhere). If it's 
an upper-case R, then it could refer to Grime's CSR strategies, but 
would not sound a very fit name (unless Pierre Legendre has a good 
sense of humour -- like he actually has). Grime's strategies are 
competitive (C), stress tolerant (S) and ruderal or `opportunistic' 
(R). That makes both C and S as more natural choices for fancy packages 
than R. Perhaps Pierre wanted to be ahead of its competitor in 
alphabets (Syn-Tax) -- like R is ahead S? Well, he has an email 
address: it would be possible to ask him. Clashes in one-character 
names are easy though, in particular since you anglophones have such a 
low number of alphabets. What about programs called ?, ?, ?, ?, ?, ?... 
(and even iso-8859-1 runs dry).

cheers, jazza oksanen
-- 
Jari Oksanen -- Dept Biology, Univ Oulu, 90014 Oulu, Finland
Ph. +358 8 5531526, cell +358 40 5136529, fax +358 8 5531061
email jari.oksanen at oulu.fi, homepage http://cc.oulu.fi/~jarioksa/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Thu May 17 08:11:14 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Thu, 17 May 2001 08:11:14 +0200
Subject: [R] the R package - relation to R project? 
In-Reply-To: <200105170545.IAA13036@pc112145.oulu.fi>
Message-ID: <MABBLJDICACNFOLGIHJOCEHDCDAA.phgrosje@ulb.ac.be>

Jari Oksanen said:

>Perhaps Pierre wanted to be ahead of its competitor in
>alphabets (Syn-Tax) -- like R is ahead S?

Hmm, I am not sure of that: what about Primer and Passtec?
Actually, Passtec is moving to Passtec+... under S+ and R (I mean CRAN-R,
R-square, Oo-R or whateve-R you want, but, sshhhht, this is not yet
official!). So things get more complicated since Passtec+ will become an R
package (CRAN-R)... but will still remain a competitor of Legendre's R
package. I'll take an aspirin now!

Philippe


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ollier at biomserv.univ-lyon1.fr  Thu May 17 11:04:19 2001
From: ollier at biomserv.univ-lyon1.fr (Sebastien Ollier)
Date: Thu, 17 May 2001 11:04:19 +0200 (MET DST)
Subject: No subject
Message-ID: <200105170904.LAA04877@amazone.univ-lyon1.fr>

"subscribe"
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fm3a004 at math.uni-hamburg.de  Thu May 17 11:03:04 2001
From: fm3a004 at math.uni-hamburg.de (Christian Hennig)
Date: Thu, 17 May 2001 11:03:04 +0200 (MET DST)
Subject: [R] Naive Bayes Classifier
In-Reply-To: <200105170040.MAA30236@gosset.stats.waikato.ac.nz>
Message-ID: <Pine.GSO.3.95q.1010517105908.12291A-100000@sun21.math.uni-hamburg.de>

On Thu, 17 May 2001, Murray Jorgensen wrote:

> As I understand Naive Bayes it is essentially a finite mixture model for
> multivariate categorical distributions where the variables are independent in
> each component of the mixture. That is, I believe it to be a synonym Latent
> Class analysis. I believe the Frayley/Raftery package mclust may include this
> sort of model, and possibly other packages. Certainly these models may be
> expressed in the language of graphical models. Whether or not this would be
> useful for estimation purposes I am uncertain.
> 
> Murray Jorgensen

mclust (R-version) only fits Gaussian mixtures with and without Poisson noise.

Christian

	

***********************************************************************
Christian Hennig
University of Hamburg, Faculty of Mathematics - SPST/ZMS
 (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
 Zentrum fuer Modellierung und Simulation)
Bundesstrasse 55, D-20146 Hamburg, Germany
Tel: x40/42838 4907, privat x40/631 62 79
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Thu May 17 11:14:51 2001
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Thu, 17 May 2001 11:14:51 +0200
Subject: [R] BLAS where
Message-ID: <3.0.6.32.20010517111451.00931690@mail.wsl.ch>

Hi,

I want to install "Matrix" using
> install.packages("Matrix")

After a while I get:
checking whether we are using GNU C... yes
checking whether gcc accepts -g... yes
checking for ATL_xerbla in -latlas... no
checking for dgemm_ in -lcxml... no
checking for dgemm_ in -ldxml... no
checking for dgemm_ in -lscs... no
checking for dgemm_ in -lcomplib.sgimath... no
checking for zherk in -lblas... no
checking for dgemm_ in -lblas... no
could not find your BLAS library
ERROR: Configuration failed for package `Matrix'

Where does the compiled code of BLAS have to reside?

(I used blas.tgz, faq.html from http://www.netlib.org/blas/)

May be it is stated in some help file, but I missed that.

Thank you very much.
--christian
Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 17 11:22:11 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 17 May 2001 10:22:11 +0100 (BST)
Subject: [R] BLAS where
In-Reply-To: <3.0.6.32.20010517111451.00931690@mail.wsl.ch>
Message-ID: <Pine.LNX.4.31.0105171016110.6632-100000@gannet.stats>

On Thu, 17 May 2001, Christian Hoffmann wrote:

> I want to install "Matrix" using
> > install.packages("Matrix")
>
> After a while I get:
> checking whether we are using GNU C... yes
> checking whether gcc accepts -g... yes
> checking for ATL_xerbla in -latlas... no
> checking for dgemm_ in -lcxml... no
> checking for dgemm_ in -ldxml... no
> checking for dgemm_ in -lscs... no
> checking for dgemm_ in -lcomplib.sgimath... no
> checking for zherk in -lblas... no
> checking for dgemm_ in -lblas... no
> could not find your BLAS library
> ERROR: Configuration failed for package `Matrix'
>
> Where does the compiled code of BLAS have to reside?

As a library in your library path (link time and if a dynamic library run
time too). Most probably /usr/local/lib.

If you download the code and unpack it before installing you can look
at config.log to see what it tried.

Beware that recent versions of Matrix (but not the latest -15) were not
linked against the blas library found, as so failed at library-load time.

Hint: R 1.3.0 will make much more use of blas, and it is a good idea
to make a shared blas library if you can (to avoid code duplication).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ollier at biomserv.univ-lyon1.fr  Thu May 17 11:29:10 2001
From: ollier at biomserv.univ-lyon1.fr (Sebastien Ollier)
Date: Thu, 17 May 2001 11:29:10 +0200 (MET DST)
Subject: [R] glm
Message-ID: <200105170929.LAA04892@amazone.univ-lyon1.fr>

Hello,
I need to fit a generalized linear model with a Chi2 (6 ddl) as error distribution and with "log" as link function. I have looked in help(family) and maybe I could use Gamma(link="log") but I do not know if I can, and where I can define the shape and the scale arguments of the gamma distribution. Maybe there is another may to do that?

Could someone explain me how can I fit a glm with :
	-error distribution : Chi2 (6 ddl)	
	-link function : log

Thanks for your help.
Sebastien OLLIER.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 17 11:42:36 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 17 May 2001 10:42:36 +0100 (BST)
Subject: [R] glm
In-Reply-To: <200105170929.LAA04892@amazone.univ-lyon1.fr>
Message-ID: <Pine.LNX.4.31.0105171032380.8680-100000@gannet.stats>

On Thu, 17 May 2001, Sebastien Ollier wrote:

> Hello,
> I need to fit a generalized linear model with a Chi2 (6 ddl) as error
distribution and with "log" as link function. I have looked in help(family) and
maybe I could use Gamma(link="log") but I do not know if I can, and where I can
define the shape and the scale arguments of the gamma distribution. Maybe there
is another may to do that?
>
> Could someone explain me how can I fit a glm with :
> 	-error distribution : Chi2 (6 ddl)
> 	-link function : log

Easy. Fit it with glm(family=Gamma) and where needed (summary, predict)
specify the dispersion.  Now I don't know what a `Chi2 (6 ddl)' means:
perhaps a chi-squared on 6 df?  If so that is gamma with shape a=3, and
for a Gamma family that is dispersion 1/a (since the coefficient of
variation is a*s^2/(a*s)^2, in the terminology of ?dgamma).

However, I always check the details in an example, and in particular
check that the estimated dispersion is near what I calculate.

The scale is specified via the mean, and that's what a GLM models.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Thu May 17 11:32:02 2001
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Thu, 17 May 2001 11:32:02 +0200
Subject: [R] Naive Bayes Classifier
References: <3B028ED2.5662324F@statistik.uni-dortmund.de> <200105170040.MAA30236@gosset.stats.waikato.ac.nz>
Message-ID: <3B039A92.43B0A3B9@ci.tuwien.ac.at>

Murray Jorgensen wrote:
> 
> As I understand Naive Bayes it is essentially a finite mixture model for
> multivariate categorical distributions where the variables are independent in
> each component of the mixture. That is, I believe it to be a synonym Latent
> Class analysis. I believe the Frayley/Raftery package mclust may include this
> sort of model, and possibly other packages. Certainly these models may be
> expressed in the language of graphical models. Whether or not this would be
> useful for estimation purposes I am uncertain.

You could also try lca() in package e1071.

-d

> 
> Murray Jorgensen
> 
> At 04:28 PM 16-05-01 +0100, Prof Brian Ripley wrote:
> >On Wed, 16 May 2001, Ursula Sondhauss wrote:
> >
> >> I am looking for an implementation of the Naive Bayes classifier for a
> >> multi-class classification problem. I can not even find the Naive Bayes
> >> classifier for two classes, though I can not believe it is not
> >> available. Can anyone help me?
> >
> >Hard to believe but likely true. However, as I understand this, it applies
> >to a (K+1)-way contingency table, with K explanatory factors and and one
> >response.  And the `naive Bayes' model is a particular model for that
> >table.  If you want a classifier, you only need the conditional
> >distribution of the response given the explanatory factors, and that is a
> >main-effects-only multiple logistic model.  Now the *estimation*
> >procedures may be slightly different (`naive Bayes' is not fully defined),
> >but if that does not matter, use multinom() in package nnet to fit this.
> >
> >A book on Graphical Modelling (e.g. Whittaker or Edwards) may help
> >elucidate the connections.
> >
> >Let me stress *as I understand this* here.
> >
> >--
> >Brian D. Ripley,                  ripley at stats.ox.ac.uk
> >Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> >University of Oxford,             Tel:  +44 1865 272861 (self)
> >1 South Parks Road,                     +44 1865 272860 (secr)
> >Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-
> >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._
> >
> Murray Jorgensen,  Department of Statistics,  U of Waikato, Hamilton, NZ
> -----[+64-7-838-4773]---------------------------[maj at waikato.ac.nz]-----
> "Doubt everything or believe everything:these are two equally convenient
> strategies. With either we dispense with the need to think."
> http://www.stats.waikato.ac.nz/Staff/maj.html          - Henri Poincare'
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Mag. David Meyer			Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
Department for Statistics, Probability	Tel.: (+431) 58801/10772
Theory and Actuarial Mathematics	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fzoellne at TechFak.Uni-Bielefeld.DE  Thu May 17 12:27:10 2001
From: fzoellne at TechFak.Uni-Bielefeld.DE (Frank Gerrit Zoellner)
Date: Thu, 17 May 2001 12:27:10 +0200
Subject: [R] Ticks on x axis
Message-ID: <20010517122710.A19627@liszt.TechFak.Uni-Bielefeld.DE>

Hi!

How can I change the tickmarks on the x axis. I want to make a plot and on the x axis I ve got values from 0 to 360. I want have a tickmark like 0,10,20,...

Thanks  
-- 
Frank Gerrit Zoellner


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu May 17 13:48:26 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 17 May 2001 13:48:26 +0200
Subject: [R] Ticks on x axis
References: <20010517122710.A19627@liszt.TechFak.Uni-Bielefeld.DE>
Message-ID: <3B03BA8A.4618CE17@statistik.uni-dortmund.de>



Frank Gerrit Zoellner wrote:
> 
> Hi!
> 
> How can I change the tickmarks on the x axis. I want to make a plot and on the x axis I ve got values from 0 to 360. I want have a tickmark like 0,10,20,...

Try

 plot(0:360, xaxt="n")
 axis(1, at=seq(0,360,10))

or

 plot(0:360, xaxt="n")
 axis(1, at=seq(0,360,10), cex.axis=0.7, las=2)


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From johann at ai.univie.ac.at  Thu May 17 15:13:08 2001
From: johann at ai.univie.ac.at (Johann Petrak)
Date: Thu, 17 May 2001 15:13:08 +0200
Subject: [R] list to data frame by rows ...
References: <3AF8BFD8.8584434D@hia.net> <3AF95AB8.61CD0B58@ai.univie.ac.at> <6ritjalftv.fsf@franz.stat.wisc.edu> <x266fa8f06.fsf@blueberry.kubism.ku.dk> <3B012AA8.AFA9A3DE@ai.univie.ac.at>
Message-ID: <3B03CE64.9D69D93B@ai.univie.ac.at>

I still dont get the "feel" of R, maybe I am thinking to
complicated/LISP-damaged ...

I start with a dataframe like this:
df<-data.frame(a=c("x","x","y","y"),b=c(1,2,3,4))
df
  a b
1 x 1
2 x 2
3 y 3
4 y 4

now I split by column 1:
splitted_split(df,df[[1]])
splitted
$x
  a b
1 x 1
2 x 2

$y
  a b
3 y 3
4 y 4

This gives me a list of data frames. For each data frame I want to 
apply a funtion which returns several results

Here an arbitrary illustrative example:
do4split <- function(x) { list(as.character(x[[1]][1]), x[[2]][2]) }

It seems that using list here is the only way to return several
results of different type (with c() all my result values would
get converted to character)

result<-lapply(splitted,d4split)

Result now seems to be what I want: a list of lists where each sublist
contains the results passed back from do4split for each entry in
splitted.

result
$x
$x[[1]]
[1] "x"

$x[[2]]
[1] 2


$y
$y[[1]]
[1] "y"

$y[[2]]
[1] 4

Now I want to "transpose" this list into a data frame that contains
as rows what is now stored as sublists (columns)

The solution suggested earlier wont work here, since we have sublists
(with data of different type) instead of vectors in the list.

The result should be e.g. a data frame like:
final
   A  B
1 "x" 2
2 "y" 4

Of course I would also love to hear a completely different approach
but the requirement would be that I want to map a function over a 
list of data frames and collect multi-valued results (with different
types) into the ROWS of a new data frame.

I hesitate to do this with all sorts of loops since I love the
way of R of NOT doing it with loops.

Another issue is that I want to do this with quite a lot of
data, so it should be efficient.

Too long a question?

Johann
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu May 17 16:02:08 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 May 2001 16:02:08 +0200
Subject: [R] list to data frame by rows ...
In-Reply-To: Johann Petrak's message of "Thu, 17 May 2001 15:13:08 +0200"
References: <3AF8BFD8.8584434D@hia.net> <3AF95AB8.61CD0B58@ai.univie.ac.at> <6ritjalftv.fsf@franz.stat.wisc.edu> <x266fa8f06.fsf@blueberry.kubism.ku.dk> <3B012AA8.AFA9A3DE@ai.univie.ac.at> <3B03CE64.9D69D93B@ai.univie.ac.at>
Message-ID: <x266f0dqfy.fsf@blueberry.kubism.ku.dk>

Johann Petrak <johann at ai.univie.ac.at> writes:

> The result should be e.g. a data frame like:
> final
>    A  B
> 1 "x" 2
> 2 "y" 4
> 
> Of course I would also love to hear a completely different approach
> but the requirement would be that I want to map a function over a 
> list of data frames and collect multi-valued results (with different
> types) into the ROWS of a new data frame.
> 
> I hesitate to do this with all sorts of loops since I love the
> way of R of NOT doing it with loops.
> 
> Another issue is that I want to do this with quite a lot of
> data, so it should be efficient.
> 
> Too long a question?

It isn't easy (and the habits that data.frame has of making character
columns into factors and trying to be helpful with column names are
not making things easier). The best I can come up with is 

> cl <- 1:2 
> names(cl) <- c("a","b") 
> as.data.frame(lapply(cl,function(i)sapply(result,"[[",i)))
  a b
x x 2
y y 4

You want to give cl a names attribute for reasons you will discover by
omitting it...

The crucial thing is that you want the list that as.data.frame sees to
have names, so alternatively,

> l <- lapply(1:2,function(i)sapply(result,"[[",i))
> names(l) <- c("a","b")
> as.data.frame(l)
  a b
x x 2
y y 4


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From llaghi at foodsci.unibo.it  Thu May 17 16:53:48 2001
From: llaghi at foodsci.unibo.it (luca laghi)
Date: Thu, 17 May 2001 16:53:48 +0200
Subject: [R] mean
References: <20010517122710.A19627@liszt.TechFak.Uni-Bielefeld.DE> <3B03BA8A.4618CE17@statistik.uni-dortmund.de>
Message-ID: <000601c0dee1$2e11cbe0$06d3cc89@foodsci.unibo.it>

I need help to understand what Iam doing wrong:
Yesterday I found the averages of a matrix columns with

apply(x, 2, mean)

Today I did it again on the same matrix obtaining results a bit different.
Why?

I suspect it is a sort of rounding problem as today the numbers are plotted
in scientific notation and yesterday they where not ...

Luca



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From spe2 at cornell.edu  Thu May 17 16:54:03 2001
From: spe2 at cornell.edu (Stephen Ellner)
Date: Thu, 17 May 2001 09:54:03 -0500
Subject: [R] bivariate function in gam model
Message-ID: <5.0.1.4.2.20010517083638.00a8aec0@postoffice.mail.cornell.edu>

I don't think this actually is a GAM model
 >       logit(p) = a + f(x1) + f(x2) + f(x1,x2)
unless you mean f(x1*x2) or something like that instead of a
completely general f(x1,x2); in particular it is equivalent to
(*)     logit(p) = f(x1,x2)
with f(x1,x2) a surface. I'm not aware of anything for R that
includes nonparametric bivariate logistic regression, unless
maybe one of the fitting options in nnet would be appropriate for
your data? tps in funfits can fit a bivariate surface but the only
fitting option is least squares.

 >
 > R-users --
 >
 > I would be interested in tools in R to fit the following gam model:
 >
 > logit(p) = a + f(x1) + f(x2) + f(x1,x2),
 >
 > where f(x1,x2) defines a surface.
 >
 > I have looked into the mgcv library, but it seems only to fit models of
 > the form:
 >
 > logit(p) = a + f(x1) + f(x2)
 >
 > Any ideas?
 >
 > Cheers,
 > Dan
 >



-------------------------------------------------------
Stephen P. Ellner (spe2 at cornell.edu)
Dept. of Ecology and Evolutionary Biology
Corson Hall, Cornell University, Ithaca NY 14853-2701
Phone (607) 254-4221    FAX (607) 255-8088


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Heberto at meakins.lan.mcgill.ca  Thu May 17 17:20:07 2001
From: Heberto at meakins.lan.mcgill.ca (Heberto Ghezzo)
Date: Thu, 17 May 2001 11:20:07 -0400
Subject: [R] memory
Message-ID: <200105171520.f4HFK8S11449@water.cc.mcgill.ca>

hello,
I am using R1.2.2 on win98 with 64 meg of RAM
I try to read a big csv file and get the error :

a <- read.csv("c:/all2.csv",header=T)
Error: vector memory exhausted (limit reached?)
In addition: Warning message: 
Reached total allocation of 16Mb: see help(memory.size) 
Lost warning messages

from there on, nothing works
File-Exit, ^F4, q() , top right cross, the same message keep on 
appearing and the only solution is to close down the computer.
Is this a bug?
Thanks for any help.

R. Heberto Ghezzo  Ph.D.
Meakins-Christie Labs
McGill University
Montreal - Canada
heberto at meakins.lan.mcgill.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu May 17 17:47:33 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 17 May 2001 08:47:33 -0700 (PDT)
Subject: [R] memory
In-Reply-To: <200105171520.f4HFK8S11449@water.cc.mcgill.ca>
Message-ID: <Pine.A41.4.33.0105170841310.121122-100000@homer28.u.washington.edu>

On Thu, 17 May 2001, Heberto Ghezzo wrote:

> hello,
> I am using R1.2.2 on win98 with 64 meg of RAM
> I try to read a big csv file and get the error :
>
> a <- read.csv("c:/all2.csv",header=T)
> Error: vector memory exhausted (limit reached?)
> In addition: Warning message:
> Reached total allocation of 16Mb: see help(memory.size)
> Lost warning messages
>
> from there on, nothing works
> File-Exit, ^F4, q() , top right cross, the same message keep on
> appearing and the only solution is to close down the computer.
> Is this a bug?

Well, there's clearly a bug involved. You could make a good case for the
bug being in the operating system, though -- you should certainly be able
to kill the R process without restarting the computer.

I think that Windows is prepared to give away more memory than is good for
it, leaving the operating system with no room to work.  The --max-mem-size
option is designed to stop this: it specifies the maximum amount of memory
R can ask for.  It sounds like  your file is too big for read.csv in the
memory you have.  I believe R 1.3.0 has an improved read.table, which
might help.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu May 17 18:39:24 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 17 May 2001 09:39:24 -0700 (PDT)
Subject: [R] Reading .RData Fails
In-Reply-To: <Pine.LNX.4.30.0105161543560.11460-100000@galton.econ.uiuc.edu>
Message-ID: <Pine.A41.4.33.0105170937260.121122-100000@homer28.u.washington.edu>

On Wed, 16 May 2001, Alvaro A. Novo @galton wrote:

> Hi,
>
> We have a user reporting the following problem
>
>
> > % R
> >
> > R : Copyright 2001, The R Development Core Team
> > Version 1.2.3  (2001-04-26)
> >
> > R is free software and comes with ABSOLUTELY NO WARRANTY.
> > You are welcome to redistribute it under certain conditions.
> > Type `license()' or `licence()' for distribution details.
> >
> > R is a collaborative project with many contributors.
> > Type `contributors()' for more information.
> >
> > Type `demo()' for some demos, `help()' for on-line help, or
> > `help.start()' for a HTML browser interface to help.
> > Type `q()' to quit R.
> >
> > Error: NewReadItem: unknown type 875560960
> > Fatal error: unable to restore saved data
> >  (remove .RData or increase memory)
>

This is probably a corrupted .RData file.  The only times I've seen this
it appeared to be caused by some problem during the save process (eg R
being killed while it was exiting).

You can rename .RData to something else, which will allow you to start R.
The .RData file may be lost, though you could try loading it with load().

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Thu May 17 19:45:55 2001
From: znmeb at aracnet.com (M. Edward (Ed) Borasky)
Date: Thu, 17 May 2001 10:45:55 -0700 (PDT)
Subject: [R] memory
In-Reply-To: <Pine.A41.4.33.0105170841310.121122-100000@homer28.u.washington.edu>
Message-ID: <Pine.LNX.4.33.0105171021400.18387-100000@shell1.aracnet.com>

On Thu, 17 May 2001, Thomas Lumley wrote:

> Well, there's clearly a bug involved. You could make a good case for the
> bug being in the operating system, though -- you should certainly be able
> to kill the R process without restarting the computer.
>
> I think that Windows is prepared to give away more memory than is good for
> it, leaving the operating system with no room to work.  The --max-mem-size
> option is designed to stop this: it specifies the maximum amount of memory
> R can ask for.  It sounds like  your file is too big for read.csv in the
> memory you have.  I believe R 1.3.0 has an improved read.table, which
> might help.

Windows 95, 98 and ME have *very* limited memory management capabilities. IIRC
the R default is to limit memory to the amount of physical memory installed.
My recommendation for Win 95, 98 and ME is to limit memory to *half* of
installed physical memory. On Windows NT and 2000, you can probably get away
with 75 percent of physical memory. You're wasting your time trying to go larger
than these values; at best, Windows will thrash and at worst it will crash.

I have not yet pushed these limits with Linux, either 2.2 or 2.4 kernel, but
I'd be willing to bet that the 75% of physical memory is close to what you can
get away with -- maybe 80% with X windows turned off and running in batch mode.
Generally on *NIX boxen you want 1/4 of real memory or thereabouts for buffer
cache, leaving 3/4 for everything else.
--
znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb

Need a new trombone? Buy now -- don't let it slide.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Thu May 17 20:15:54 2001
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Thu, 17 May 2001 14:15:54 -0400
Subject: [R] Naive Bayes Classifier
Message-ID: <7FE8E243B4BCD411A69E00508B5C7C1B01FED81E@uswpmx13.merck.com>

The "naive Bayes" classifier I've seen discussed in various machine-learning
papers and books is as described by David Meyer in his posting, except that
class (mixture component) membership is known in the training data. So it's
"supervised"--classes aren't "latent". The estimation is usually just via
"plug-in":

1. Compute marginal frequencies within class.

2. multiply these together as if variables (say x) were independent within
class to get an "estimate" of the class-conditional probabilities p(x | c)

3. via Bayes rule get the (x-) conditional probabilities over class
(posterior class probabilities) p(c | x). (Actually you don't need to divide
here since it's a common factor in the quantities to be compared to get the
classifier...)

4. To classify x find the class c maximizing p(c | x) (or minimizing the sum
of L(c,i)*p(i|x) over i if L(,) is a given loss function).

Often step 1 is replaced by Bayesian estimates of the marginal probabilities
to prevent 0 estimates and reduce variance. 

In case you don't find an R implementation I hope the above is helpful.

A final remark: while the expression for the posterior probabilities is the
same as for logistic regression (as Brian Ripley pointed out), the
estimation is different--even in large samples--when the model is incorrect
(as it is anticipated to be by the "naive" qualifier). Tom Mitchell's talk
at the SIAM Data Mining conference had an example of this, citing large
gains in performance by switching from the naive bayes approach to
maximizing the logistic regression likelihood.

Reid Huntsinger

-----Original Message-----
From: David Meyer [mailto:david.meyer at ci.tuwien.ac.at]
Sent: Thursday, May 17, 2001 5:32 AM
To: Murray Jorgensen
Cc: Ursula Sondhauss; r-help at stat.math.ethz.ch
Subject: Re: [R] Naive Bayes Classifier


Murray Jorgensen wrote:
> 
> As I understand Naive Bayes it is essentially a finite mixture model for
> multivariate categorical distributions where the variables are independent
in
> each component of the mixture. That is, I believe it to be a synonym
Latent
> Class analysis. I believe the Frayley/Raftery package mclust may include
this
> sort of model, and possibly other packages. Certainly these models may be
> expressed in the language of graphical models. Whether or not this would
be
> useful for estimation purposes I am uncertain.

You could also try lca() in package e1071.

-d

> 
> Murray Jorgensen
> 
> At 04:28 PM 16-05-01 +0100, Prof Brian Ripley wrote:
> >On Wed, 16 May 2001, Ursula Sondhauss wrote:
> >
> >> I am looking for an implementation of the Naive Bayes classifier for a
> >> multi-class classification problem. I can not even find the Naive Bayes
> >> classifier for two classes, though I can not believe it is not
> >> available. Can anyone help me?
> >
> >Hard to believe but likely true. However, as I understand this, it
applies
> >to a (K+1)-way contingency table, with K explanatory factors and and one
> >response.  And the `naive Bayes' model is a particular model for that
> >table.  If you want a classifier, you only need the conditional
> >distribution of the response given the explanatory factors, and that is a
> >main-effects-only multiple logistic model.  Now the *estimation*
> >procedures may be slightly different (`naive Bayes' is not fully
defined),
> >but if that does not matter, use multinom() in package nnet to fit this.
> >
> >A book on Graphical Modelling (e.g. Whittaker or Edwards) may help
> >elucidate the connections.
> >
> >Let me stress *as I understand this* here.
> >
> >--
> >Brian D. Ripley,                  ripley at stats.ox.ac.uk
> >Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> >University of Oxford,             Tel:  +44 1865 272861 (self)
> >1 South Parks Road,                     +44 1865 272860 (secr)
> >Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-
> >r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._
> >
> Murray Jorgensen,  Department of Statistics,  U of Waikato, Hamilton, NZ
> -----[+64-7-838-4773]---------------------------[maj at waikato.ac.nz]-----
> "Doubt everything or believe everything:these are two equally convenient
> strategies. With either we dispense with the need to think."
> http://www.stats.waikato.ac.nz/Staff/maj.html          - Henri Poincare'
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-- 
Mag. David Meyer			Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
Department for Statistics, Probability	Tel.: (+431) 58801/10772
Theory and Actuarial Mathematics	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Thu May 17 20:09:47 2001
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 17 May 2001 14:09:47 -0400
Subject: [R] memory
References: <Pine.LNX.4.33.0105171021400.18387-100000@shell1.aracnet.com>
Message-ID: <3B0413EB.7C3B80B1@bank-banque-canada.ca>

>I have not yet pushed these limits with Linux, either 2.2 or 2.4 kernel, but
>I'd be willing to bet that the 75% of physical memory is close to what you can
>get away with ...

In Linux 2.2   I routinely run problems in R (with X installed) that take 5 to 6
times physical memory. Sometimes there is thrashing, but not always. It depends on
the problem. I don't recall ever having a crash.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 17 21:54:38 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 17 May 2001 20:54:38 +0100 (GMT Daylight Time)
Subject: [R] memory
In-Reply-To: <Pine.LNX.4.33.0105171021400.18387-100000@shell1.aracnet.com>
Message-ID: <Pine.WNT.4.31.0105172040200.120-100000@tern.stats>

On Thu, 17 May 2001, M. Edward (Ed) Borasky wrote:

> On Thu, 17 May 2001, Thomas Lumley wrote:
>
> > Well, there's clearly a bug involved. You could make a good case for the
> > bug being in the operating system, though -- you should certainly be able
> > to kill the R process without restarting the computer.
> >
> > I think that Windows is prepared to give away more memory than is good for
> > it, leaving the operating system with no room to work.  The --max-mem-size
> > option is designed to stop this: it specifies the maximum amount of memory
> > R can ask for.  It sounds like  your file is too big for read.csv in the
> > memory you have.  I believe R 1.3.0 has an improved read.table, which
> > might help.
>
> Windows 95, 98 and ME have *very* limited memory management capabilities. IIRC
> the R default is to limit memory to the amount of physical memory installed.
> My recommendation for Win 95, 98 and ME is to limit memory to *half* of
> installed physical memory. On Windows NT and 2000, you can probably get away
> with 75 percent of physical memory. You're wasting your time trying to go larger
> than these values; at best, Windows will thrash and at worst it will crash.
>
> I have not yet pushed these limits with Linux, either 2.2 or 2.4 kernel, but
> I'd be willing to bet that the 75% of physical memory is close to what you can
> get away with -- maybe 80% with X windows turned off and running in batch mode.
> Generally on *NIX boxen you want 1/4 of real memory or thereabouts for buffer
> cache, leaving 3/4 for everything else.

Pretty sweeping generalizations ... here is some actual experience with R.

On NT-based Windows and Unix-alikes, one can often use much more VM than
physical RAM: it all depends on the problem structure (and disc speed).

Windows 95/98/ME are worse, not least because of their disk subsystems, but
the empirical performance is nowhere near as poor as you claim.  I
developed a lot of the current R for Windows on a 133Mz 32Mb Win95 machine,
and if your claims were true, it just would not exist ....  Using a
workspace much over 30Mb was slow, but 30Mb was fine.  That was before the
days of the non-moving garbage collector and replacement malloc, which I
think have helped quite a bit.

People do happily run R on 8Mb Windows 95 machines ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markhall at gol.com  Fri May 18 08:17:55 2001
From: markhall at gol.com (markhall@gol.com)
Date: Fri, 18 May 2001 15:17:55 +0900
Subject: [R] Naive Bayes Classifier
Message-ID: <E150daE-0005nr-00@smtp02.fields.gol.com>

While not implemented in R, but as a JAVA stand-alone program, BAYDA does Naive
Bayes classification.  The project web page is at:

http://www.cs.helsinki.fi/research/cosco/Projects/NONE/SW/

Pretty easy IMO to port data back and forth.

Best, Mark Hall



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stecalza at tiscalinet.it  Fri May 18 11:41:41 2001
From: stecalza at tiscalinet.it (Stefano)
Date: Fri, 18 May 2001 11:41:41 +0200
Subject: [R] 1.2.3 debian version
Message-ID: <5.1.0.14.2.20010518113950.009e9ec0@pop.tiscalinet.it>

Hi all.

I'm wondering why there isn't yet the debian version of R 1.2.3. Am I 
missing something?

TIA,

Stefano


*******************************
Stefano Calza
Istituto di Statistica Medica e Biometria
Universit? degli Studi di Milano
Via G. Venezian, 1
20133 Milano

tel. +39 02/2361302, 02/70600908
fax 02/2362930

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From johann at ai.univie.ac.at  Fri May 18 14:31:45 2001
From: johann at ai.univie.ac.at (Johann Petrak)
Date: Fri, 18 May 2001 14:31:45 +0200
Subject: [R] list to data frame by rows ...
References: <3AF8BFD8.8584434D@hia.net> <3AF95AB8.61CD0B58@ai.univie.ac.at> <6ritjalftv.fsf@franz.stat.wisc.edu> <x266fa8f06.fsf@blueberry.kubism.ku.dk> <3B012AA8.AFA9A3DE@ai.univie.ac.at> <3B03CE64.9D69D93B@ai.univie.ac.at> <x266f0dqfy.fsf@blueberry.kubi
Message-ID: <3B051631.C7A8182B@ai.univie.ac.at>

I am not yet shutting up on this :)

Thanks for the suggestions ... problem is that the code was
given as an illustration, in reality do4split would do
some complicated magic calculations that yield several
interesting results of mixed type. 

Peter Dalgaard BSA wrote:
> 
> [...]
> > cl <- 1:2
> > names(cl) <- c("a","b")
> > as.data.frame(lapply(cl,function(i)sapply(result,"[[",i)))
>   a b
> x x 2
> y y 4
> 

The problem here is that the functionality gets pulled out of 
do4split which isnt really possible in the *real* situation.


Patrick Connolly wrote:
> 
> [...]
> If you'd like another approach, I kind of think I'd be inclined to do
> what you do in your do4split function in separate pieces, each one
> acting on one or more of the columns.  I assume you want more rows
> than columns.  The number of functions would be at most the number of
> parts you do in your do4split function, and then it's already in the
> form you require, so it's probably no longer to code, and maybe
> quicker to run.
> 
As mentioned above, its not possible to split up do4split into
several pieces without doing the same calculations over and over
again.

So I guess there is no way around doing it iteratively. I would have
thought that adding the rows iteratively to an empty data frame
would be the obvious approach, but I am unable to make an empty 
data frame:
data.frame(list(a=c(),b=c()))
Error in names<-.default(*tmp*, value = vnames) : 
        names attribute must be the same length as the vector

However, its possible to make an list with "0 rows":
ltmp<-list(a=c(),b=c())

for (s in splitted) {
  print(s)
  tmp <- do4split(s)
  for (i in 1:length(tmp)) {
    ltmp[[i]]<-c(ltmp[[i]],tmp[[i]])
  }  
}

I would be curious how efficient this is and what actually happens.
Will ltmp[[i]]<-c(ltmp[[i]],tmp[[i]]) just extend the column or
will the whole content be copied every time? 

The final step 
  as.data.frame(ltmp)
again has the problem that the character columns will be converted
to levels. But when a column has class AsIs it wont:
  data.frame(lapply(ltmp,I))

Johann
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri May 18 15:43:49 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 May 2001 15:43:49 +0200
Subject: [R] list to data frame by rows ...
In-Reply-To: Johann Petrak's message of "Fri, 18 May 2001 14:31:45 +0200"
References: <3AF8BFD8.8584434D@hia.net> <3AF95AB8.61CD0B58@ai.univie.ac.at> <6ritjalftv.fsf@franz.stat.wisc.edu> <x266fa8f06.fsf@blueberry.kubism.ku.dk> <3B012AA8.AFA9A3DE@ai.univie.ac.at> <3B03CE64.9D69D93B@ai.univie.ac.at> <x266f0dqfy.fsf@blueberry.kubi
Message-ID: <x24rui3h7u.fsf@blueberry.kubism.ku.dk>

Johann Petrak <johann at ai.univie.ac.at> writes:

> I am not yet shutting up on this :)
> 
> Thanks for the suggestions ... problem is that the code was
> given as an illustration, in reality do4split would do
> some complicated magic calculations that yield several
> interesting results of mixed type. 
> 
> Peter Dalgaard BSA wrote:
> > 
> > [...]
> > > cl <- 1:2
> > > names(cl) <- c("a","b")
> > > as.data.frame(lapply(cl,function(i)sapply(result,"[[",i)))
> >   a b
> > x x 2
> > y y 4
> > 
> 
> The problem here is that the functionality gets pulled out of 
> do4split which isnt really possible in the *real* situation.

Umm, did I come across as intended there? I'm not "pulling anything
out" of do4split with that code, I'm working on the result of it
(after result <- lapply(splitted, do4split) ). If you have code that
generates a list of lists which all have similar structure (i.e. they
can have mixed type but it must be the same mix for all) then that
kind of code should be able to do the conversion to a data frame. It's
a bit wasteful of storage though, since list storage has a rather
large overhead.

> I would be curious how efficient this is and what actually happens.
> Will ltmp[[i]]<-c(ltmp[[i]],tmp[[i]]) just extend the column or
> will the whole content be copied every time? 

It will be copied, so you do not want to do that...!

It would be a better idea to create a data frame with null values
first and fill the rows with

ltmp[j,] <- lapply(tmp,I)

and you can presumably create ltmp with the right types and length
using 

n <- length(splitted)
ltmp <- data.frame(a=I(character(n)), b=numeric(5))

cf. 

n<-2
ltmp <- data.frame(a=I(character(n)), b=numeric(n))
ltmp[1,] <- list(I("x"),2)
ltmp[2,] <- list(I("y"),4)
ltmp

The I() is necessary because otherwise the data frame assignment code
will try to convert the character on the rhs to a factor which then
gets converted to an integer and then back to a character by one of
the sillier coercion stunts in R:

> x<-"a"
> x[1]<-factor("b")
> x
[1] "1"

(I think there's a reason for it....)  

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Fri May 18 15:43:26 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 18 May 2001 08:43:26 -0500
Subject: [R] 1.2.3 debian version
Message-ID: <E150kXO-0001rL-00@sonny.eddelbuettel.com>



> I'm wondering why there isn't yet the debian version of R 1.2.3. Am I 
> missing something?

The Debian maintainer (Hi Doug) hasn't gotten around to packaging it. But
as he righly pointed out to me in private, 1.2.3 hasn't changed that much 
from 1.2.2 on architectures other than the Mac. 

Note also that you can always build your own .deb from the tarball(s) on the
CRAN sites which is particularly helpful if you want to try the pre-releases.
I am running pre1.3.0 on one of my machines. Mail me if you need a hand
rolling your own .deb.

That being said, it would be nice if the apt-get'able archive was populated with
a new released version.   Maybe someone else at U Wisc could roll that? 

Dirk

-- 
According to the latest figures, 43% of all signatures are totally worthless.   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From johann at ai.univie.ac.at  Fri May 18 15:51:07 2001
From: johann at ai.univie.ac.at (Johann Petrak)
Date: Fri, 18 May 2001 15:51:07 +0200
Subject: [R] Hashes in R? Multivariate random numbers? Cholesky decomposition?
References: <7FE8E243B4BCD411A69E00508B5C7C1B01FED81E@uswpmx13.merck.com>
Message-ID: <3B0528CB.5B77E43A@ai.univie.ac.at>

Are there hashes in R? Or a package that implements hashes?

I am also looking for multivariate gaussian random numbers.

That brings me to: is there cholesky decomposition of 
a matrix?

Johann
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From JMORRIS6 at OCDUS.JNJ.COM  Fri May 18 15:56:44 2001
From: JMORRIS6 at OCDUS.JNJ.COM (Morris, Jeffrey [OCDUS])
Date: Fri, 18 May 2001 09:56:44 -0400
Subject: [R] Non-Central t
Message-ID: <32D408AE6657D311B1B700508B10900C03BA10C8@jcdusroexs2.ocdus.jnj.com>

In the help file for the non-central t, the following appears:

ncp: non-centrality parameter delta; currently `ncp <= 37.62'.

I assume that this means the ncp cannot exceed 37.62.  Is this
still the case and is there any plans to increase this restriction?

Thanks!

Jeff

Jeff Morris
Design Support
Clinical Chemistry R&D
Ortho-Clinical Diagnostics

email:    jmorris6 at ocdus.jnj.com
Phone:  716-453-5794

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010518/c68c653d/attachment.html

From ripley at stats.ox.ac.uk  Fri May 18 15:59:41 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 18 May 2001 14:59:41 +0100 (BST)
Subject: [R] Hashes in R? Multivariate random numbers? Cholesky decomposition?
In-Reply-To: <3B0528CB.5B77E43A@ai.univie.ac.at>
Message-ID: <Pine.LNX.4.31.0105181457190.5941-100000@gannet.stats>

On Fri, 18 May 2001, Johann Petrak wrote:

[...]

> I am also looking for multivariate gaussian random numbers.

mvrnorm in package MASS

> That brings me to: is there cholesky decomposition of
> a matrix?

Well, there is a Choleski decomposition (as he apparently spelt it):
?chol.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 18 16:04:19 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 18 May 2001 15:04:19 +0100 (BST)
Subject: [R] 1.2.3 debian version
In-Reply-To: <E150kXO-0001rL-00@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.4.31.0105181500200.5941-100000@gannet.stats>

On Fri, 18 May 2001, Dirk Eddelbuettel wrote:

> > I'm wondering why there isn't yet the debian version of R 1.2.3. Am I
> > missing something?
>
> The Debian maintainer (Hi Doug) hasn't gotten around to packaging it. But
> as he righly pointed out to me in private, 1.2.3 hasn't changed that much
> from 1.2.2 on architectures other than the Mac.

Look at the length of the bug fix list ....  1.x.y, y>0 releases are
bug-fix releases, so on that reasoning there would not be a Debian release
of 1.2.1 or 1.2.2 either, or a Windows release, or ....

Still, 1.3.0 is slated for mid-June ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri May 18 16:04:33 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 18 May 2001 09:04:33 -0500
Subject: [R] 1.2.3 debian version
In-Reply-To: <E150kXO-0001rL-00@sonny.eddelbuettel.com>
References: <E150kXO-0001rL-00@sonny.eddelbuettel.com>
Message-ID: <6rpud67nym.fsf@franz.stat.wisc.edu>

"Dirk Eddelbuettel" <edd at debian.org> writes:

> > I'm wondering why there isn't yet the debian version of R 1.2.3. Am I 
> > missing something?
> 
> The Debian maintainer (Hi Doug) hasn't gotten around to packaging it. But
> as he righly pointed out to me in private, 1.2.3 hasn't changed that much 
> from 1.2.2 on architectures other than the Mac. 
> 
> Note also that you can always build your own .deb from the tarball(s) on the
> CRAN sites which is particularly helpful if you want to try the pre-releases.
> I am running pre1.3.0 on one of my machines. Mail me if you need a hand
> rolling your own .deb.
> 
> That being said, it would be nice if the apt-get'able archive was populated with
> a new released version.   Maybe someone else at U Wisc could roll that? 

I will get a Debian 1.2.3 package out this weekend.  I am behind
schedule on that because I just finished final exam grading and am now
attending a conference here on Frontiers in Genetics.

By the way, Terry Speed of Univ of California - Berkeley spoke at the
genetics conference yesterday (he was the third speaker in a session
in which the first two were a Nobel Laureate and a member of the
National Academy of Sciences, which is pretty good company) and gave R
a very good plug.  He explained how they had used R in all their
statistical analyses of microarray data and showed the different
analytic techniques they have developed.  His group contributed the
sma package to CRAN.

I spoke with him after his talk and suggested that we may want to
create an R Special Interest Group on "genetics" or "bioinformatics" or
"microarray data", whichever buzzword seems appropriate.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjantti at ra.abo.fi  Fri May 18 16:23:42 2001
From: mjantti at ra.abo.fi (Markus Jantti)
Date: Fri, 18 May 2001 17:23:42 +0300
Subject: [R] NAs in chron objects
Message-ID: <20010518172342.07334@medusa.abo.fi>

Dear All:

I am having some trouble with date variables when NAs are present. The
following example illustrates (see below for output of version):

> library(chron)
> minor.test <- c( "NA", "NA", "1988-02-08",
+                 "1988-02-08", "NA", "1987-11-23", "1988-09-03", "1991-10-15",
+                 "1992-01-14", "1992-02-18")
> # data in yyyy-mm-dd format
> minor.test[1:10]
 [1] "NA"         "NA"         "1988-02-08" "1988-02-08" "NA"        
 [6] "1987-11-23" "1988-09-03" "1991-10-15" "1992-01-14" "1992-02-18"
> # This works
> dates(minor.test[1:2], format = "y-m-d")
[1] NA NA
Warning messages: 
1: NAs introduced by coercion 
2: NAs introduced by coercion 
3: NAs introduced by coercion 
> # this fails
> dates(minor.test[1:4], format = "y-m-d")
Error in if (any(i)) y[i] <- ifelse(y[i] < cut.off, y[i] + century[2],  : 
	missing value where logical needed
In addition: Warning messages: 
1: NAs introduced by coercion 
2: NAs introduced by coercion 
3: NAs introduced by coercion 
> # as does this
> dates(minor.test, format = "y-m-d")
Error in if (any(i)) y[i] <- ifelse(y[i] < cut.off, y[i] + century[2],  : 
	missing value where logical needed
In addition: Warning messages: 
1: NAs introduced by coercion 
2: NAs introduced by coercion 
3: NAs introduced by coercion 
> # this works
> dates(na.omit(minor.test), format = "y-m-d")
[1] 88-02-08 88-02-08 87-11-23 88-09-03 91-10-15 92-01-14 92-02-18


dates() correctly produces the first NA's but becomes confused when
strings with times start appearing. The below examples suggest the
POSIXct class in the base package also has some trouble.

> as.POSIXct(minor.test[4])
[1] "1988-02-08 EET"
> as.POSIXct(minor.test[1:10])
Error in fromchar(x) : character string is not in a standard unambiguous format
> as.POSIXct(na.omit(minor.test[1:10]))
[1] "1988-02-08 EET"  "1988-02-08 EET"  "1987-11-23 EET"  "1988-09-03 EEST"
[5] "1991-10-15 EET"  "1992-01-14 EET"  "1992-02-18 EET" 

My problem is that the data are contained in a PostgreSQL database and
I am accessing them using the RPgSQL package. There are typically
several data variables in my data sets and in many cases the dates are
missing. Thus, using na.omit is possible but this problem seems to
preclude letting RPgSQL do the type conversion.  I have temporarily
solved the problem by just returning the postgres date type as
character, this is a little unsatisfactory.

> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    2.3              
year     2001             
month    04               
day      26               
language R     

Any help would be appreciated.



Regards,

Markus

-- 
Markus Jantti				|	Department of Statistics
markus.jantti at abo.fi			|	Abo Akademi University
http://www.abo.fi/~mjantti		|	FIN 20500 Turku, Finland
358-9-643 747  (Home/Voice)		|	358-2-2154 161	(Office/Voice)
					|	358-2-2154 677	(Office/Fax)
PGP public key: http://www.abo.fi/~mjantti/pubring.asc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 18 16:37:30 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 18 May 2001 15:37:30 +0100 (BST)
Subject: [R] NAs in chron objects
In-Reply-To: <20010518172342.07334@medusa.abo.fi>
Message-ID: <Pine.LNX.4.31.0105181531140.10851-100000@gannet.stats>

On Fri, 18 May 2001, Markus Jantti wrote:

> Dear All:
>
> I am having some trouble with date variables when NAs are present. The
> following example illustrates (see below for output of version):

[...]

> dates() correctly produces the first NA's but becomes confused when
> strings with times start appearing. The below examples suggest the
> POSIXct class in the base package also has some trouble.

The trouble is your end: the error message means what it says,
and is explained the help page.  As the help page says,
specify the precise format, by in your case

as.POSIXct(strptime(minor.test[1:10], "%Y-%m-%d"))
 [1] "NA"             "NA"             "1988-02-08 GMT" "1988-02-08 GMT"
 [5] "NA"             "1987-11-23 GMT" "1988-09-03 BST" "1991-10-15 BST"
 [9] "1992-01-14 GMT" "1992-02-18 GMT"

Unless you specify the format, there is no way to distinguish invalid
entries from strings you mean to be NA, so the guessing algorithm give
up.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri May 18 17:24:00 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 May 2001 17:24:00 +0200
Subject: [R] Non-Central t
In-Reply-To: "Morris, Jeffrey [OCDUS]"'s message of "Fri, 18 May 2001 09:56:44 -0400"
References: <32D408AE6657D311B1B700508B10900C03BA10C8@jcdusroexs2.ocdus.jnj.com>
Message-ID: <x2heyiy92n.fsf@blueberry.kubism.ku.dk>

"Morris, Jeffrey [OCDUS]" <JMORRIS6 at OCDUS.JNJ.COM> writes:

> In the help file for the non-central t, the following appears:
> 
> ncp: non-centrality parameter delta; currently `ncp <= 37.62'.
> 
> I assume that this means the ncp cannot exceed 37.62.  Is this
> still the case and is there any plans to increase this restriction?
> 
> Thanks!

Judging from the comments in the code, the problem is still there.

Eventually, we want to get rid of these restrictions, and I recently
did so for the noncentral chisquare density, but it requires nontrivial
changes to the algorithms and can be tricky to get right (as witnessed
by the subsequent bugfix to dnchisq.c...). A typical problem is that
the noncentral distributions involve infinite sums where the terms
satisfy a multiplicative recurrence relation, but where extreme
arguments cause the recurrence to start from zero due to floating
point underflow.



> 
> ------_=_NextPart_001_01C0DFA2.5F9BB5B0
> Content-Type: text/html
> 
> <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
> <HTML>
> <HEAD>

 *sigh*

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Fri May 18 18:19:04 2001
From: chong at stat.purdue.edu (Chong Gu)
Date: Fri, 18 May 2001 11:19:04 -0500
Subject: [R] bivariate function in gam model
In-Reply-To: <5.0.1.4.2.20010517083638.00a8aec0@postoffice.mail.cornell.edu>
	(message from Stephen Ellner on Thu, 17 May 2001 09:54:03 -0500)
Message-ID: <200105181619.LAA99292@odds.stat.purdue.edu>

   X-Sender: spe2 at postoffice.mail.cornell.edu (Unverified)
   X-Mailer: QUALCOMM Windows Eudora Version 5.0.1
   Date: Thu, 17 May 2001 09:54:03 -0500
   From: Stephen Ellner <spe2 at cornell.edu>
   Mime-Version: 1.0
   Content-Type: text/plain; charset="us-ascii"; format=flowed
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: SfS-bulk

   I don't think this actually is a GAM model
    >       logit(p) = a + f(x1) + f(x2) + f(x1,x2)
   unless you mean f(x1*x2) or something like that instead of a
   completely general f(x1,x2); in particular it is equivalent to
   (*)     logit(p) = f(x1,x2)
   with f(x1,x2) a surface. I'm not aware of anything for R that
   includes nonparametric bivariate logistic regression, unless
   maybe one of the fitting options in nnet would be appropriate for
   your data? tps in funfits can fit a bivariate surface but the only
   fitting option is least squares.

    >
    > R-users --
    >
    > I would be interested in tools in R to fit the following gam model:
    >
    > logit(p) = a + f(x1) + f(x2) + f(x1,x2),
    >
    > where f(x1,x2) defines a surface.
    >
    > I have looked into the mgcv library, but it seems only to fit models of
    > the form:
    >
    > logit(p) = a + f(x1) + f(x2)
    >
    > Any ideas?
    >
    > Cheers,
    > Dan
    >



   -------------------------------------------------------
   Stephen P. Ellner (spe2 at cornell.edu)
   Dept. of Ecology and Evolutionary Biology
   Corson Hall, Cornell University, Ithaca NY 14853-2701
   Phone (607) 254-4221    FAX (607) 255-8088


   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


You may want to check out the gss package.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From johann at ai.univie.ac.at  Fri May 18 18:40:47 2001
From: johann at ai.univie.ac.at (Johann Petrak)
Date: Fri, 18 May 2001 18:40:47 +0200
Subject: [R] list to data frame by rows ...
References: <3AF8BFD8.8584434D@hia.net> <3AF95AB8.61CD0B58@ai.univie.ac.at> <6ritjalftv.fsf@franz.stat.wisc.edu> <x266fa8f06.fsf@blueberry.kubism.ku.dk> <3B012AA8.AFA9A3DE@ai.univie.ac.at> <3B03CE64.9D69D93B@ai.univie.ac.at> <x266f0dqfy.fsf@blueberry.kubi
Message-ID: <3B05508F.49F661F2@ai.univie.ac.at>

Peter Dalgaard BSA wrote:
> > > [...]
> > > > cl <- 1:2
> > > > names(cl) <- c("a","b")
> > > > as.data.frame(lapply(cl,function(i)sapply(result,"[[",i)))
> > >   a b
> > > x x 2
> > > y y 4
> > >
> [...]
> Umm, did I come across as intended there? I'm not "pulling anything
> out" of do4split with that code, I'm working on the result of it
> (after result <- lapply(splitted, do4split) ). If you have code that
> generates a list of lists which all have similar structure (i.e. they
> can have mixed type but it must be the same mix for all) then that
> kind of code should be able to do the conversion to a data frame. It's
> a bit wasteful of storage though, since list storage has a rather
> large overhead.

Ummm you didnt because I misunderstood it :/
 - but now I understand what is going on here, its exactly 
what I wanted!

(BTW its quite faster than doing it with the for loop, even if
I preallocate ltmp and just reassign the elements.)
> 
> > I would be curious how efficient this is and what actually happens.
> > Will ltmp[[i]]<-c(ltmp[[i]],tmp[[i]]) just extend the column or
> > will the whole content be copied every time?
> 
> It will be copied, so you do not want to do that...!
> 

What is the best way to learn about how things are done internally in R?
I didnt come across this anywhere in the documentation, but
maybe I overlooked it.

It would be nice to have something like "R for programmers"
that elaborates a bit on the internal data structures, 
and the kind and efficiency of (basic) operations  on them.
Like, every LISP programmer knows which operations on lists
will be fast and which slow, and how e.g. make appending
to the end of a list fast, when do shallow or deep copies
occur, what will cause GC and what avoids it.

So just as a basic question here: will all assignments of big
datastructures always do a deep copy?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri May 18 19:14:14 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 May 2001 19:14:14 +0200
Subject: [R] list to data frame by rows ...
In-Reply-To: Johann Petrak's message of "Fri, 18 May 2001 18:40:47 +0200"
References: <3AF8BFD8.8584434D@hia.net> <3AF95AB8.61CD0B58@ai.univie.ac.at> <6ritjalftv.fsf@franz.stat.wisc.edu> <x266fa8f06.fsf@blueberry.kubism.ku.dk> <3B012AA8.AFA9A3DE@ai.univie.ac.at> <3B03CE64.9D69D93B@ai.univie.ac.at> <x266f0dqfy.fsf@blueberry.kubi
Message-ID: <x2y9ruwpeh.fsf@blueberry.kubism.ku.dk>

Johann Petrak <johann at ai.univie.ac.at> writes:

> What is the best way to learn about how things are done internally in R?
> I didnt come across this anywhere in the documentation, but
> maybe I overlooked it.
> 
> It would be nice to have something like "R for programmers"
> that elaborates a bit on the internal data structures, 
> and the kind and efficiency of (basic) operations  on them.
> Like, every LISP programmer knows which operations on lists
> will be fast and which slow, and how e.g. make appending
> to the end of a list fast, when do shallow or deep copies
> occur, what will cause GC and what avoids it.

That's to some extent what the R language reference tries to do, but
for many topics, the actual text needs to be written. (As you know,
there are two problems with documentation: (a) getting people to write
it (b) getting people to read it). Of course the ultimate answer is
the source code...

R doesn't really have lists in the LISP sense, except in its
internals. They are really generic vectors and thus have a fixed
length (so extending them requires a copy). There's the occasional
object of mode "pairlist" visible in R; these are LISP-like, but you
can't really do anything with them.

> So just as a basic question here: will all assignments of big
> datastructures always do a deep copy?

There's no concept of references, so in that sense, yes (.Alias()
notwithstanding). However, R does try to be smart about intermediate
results by keeping track of whether and object is named and not
duplicating if it is not.

Assignment to a part of a structure will not (usually) cause
duplication, unless the size is changed.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Fri May 18 22:19:33 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 18 May 2001 22:19:33 +0200
Subject: [R] 1.2.3 debian version
In-Reply-To: <6rpud67nym.fsf@franz.stat.wisc.edu>
References: <E150kXO-0001rL-00@sonny.eddelbuettel.com>
	<6rpud67nym.fsf@franz.stat.wisc.edu>
Message-ID: <15109.33749.606805.355302@celeborn.leisch.at>

>>>>> On 18 May 2001 09:04:33 -0500,
>>>>> Douglas Bates (DB) wrote:

[...]

  > By the way, Terry Speed of Univ of California - Berkeley spoke at the
  > genetics conference yesterday (he was the third speaker in a session
  > in which the first two were a Nobel Laureate and a member of the
  > National Academy of Sciences, which is pretty good company) and gave R
  > a very good plug.  He explained how they had used R in all their
  > statistical analyses of microarray data and showed the different
  > analytic techniques they have developed.  His group contributed the
  > sma package to CRAN.

  > I spoke with him after his talk and suggested that we may want to
  > create an R Special Interest Group on "genetics" or "bioinformatics" or
  > "microarray data", whichever buzzword seems appropriate.

Would be interesting!

BTW, Greg Warnes, Georg Kainradl (a student of mine) and I are
(more=Greg or less=Fritz) busy putting together a genetics package,
which provides classes and methods for classic statistical genetics
(representation of genotypes & alleles, hardy weinberg test, plotting
of genome scans, read/write linkage par/pre format, etc.). No fancy
microarray stuff :-)

Should appear on CRAN devel within a month or two.

Joining forces for not re-inventing the wheel would certainly be a
good idea.

.f

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Sat May 19 01:23:49 2001
From: macq at llnl.gov (Don MacQueen)
Date: Fri, 18 May 2001 16:23:49 -0700
Subject: [R] Installation help (saveload.c)
Message-ID: <p05001907b72b5aa44b63@[128.115.153.6]>

I'm trying to install R on a SunOS 5.6 system.
The first problem I encountered was during configuration.
 From config.log:

configure:7171: checking whether the C++ compiler (c++  ) works
configure:7187: c++ -o conftest  -I/usr/local/include  conftest.C 
-L/usr/local/lib 1>&5
ld: fatal: library -lstdc++: not found
ld: fatal: File processing errors. No output written to conftest
configure: failed program was:

#line 7182 "configure"
#include "confdefs.h"

int main(){return(0);}


I've asked local system administrators for help finding the missing 
library file. While waiting, I specified CXX=gcc in config.site as a 
possible work-around. This allowed configure to create a makefile.

But now, make fails:

main[61]% pwd
/erd/statistic/apps/R-1.2.3/src/main
main[62]%  gcc -I. -I../../src/include -I../../src/include 
-I/usr/local/include -DHAVE_CONFIG_H -g -O2 -c saveload.c -o 
saveload.o
In file included from /usr/include/sys/turnstile.h:12,
                  from /usr/include/sys/t_lock.h:20,
                  from /usr/include/sys/vnode.h:37,
                  from /usr/include/sys/stream.h:21,
                  from /usr/include/netinet/in.h:38,
                  from /usr/include/rpc/auth_kerb.h:14,
                  from /usr/include/rpc/rpc.h:39,
                  from saveload.c:229:
/erd/share/gnu/lib/gcc-lib/sparc-sun-solaris2.4/2.7.0/include/sys/param.h:185: 
warning: `NBBY' redefined
/usr/include/sys/select.h:45: warning: this is the location of the 
previous definition
In file included from /usr/include/sys/stream.h:26,
                  from /usr/include/netinet/in.h:38,
                  from /usr/include/rpc/auth_kerb.h:14,
                  from /usr/include/rpc/rpc.h:39,
                  from saveload.c:229:
/usr/include/sys/model.h:32: #error "No DATAMODEL_NATIVE specified"

The errors appear to be due to lines in select.h and param.h. These 
appear to be Sun-supplied files, so at this point I don't know what 
to do.

Thanks for any suggestions.
-Don
-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat May 19 07:54:09 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 19 May 2001 06:54:09 +0100 (GMT Daylight Time)
Subject: [R] Installation help (saveload.c)
In-Reply-To: <p05001907b72b5aa44b63@[128.115.153.6]>
Message-ID: <Pine.WNT.4.31.0105190649001.135-100000@tern.stats>

On Fri, 18 May 2001, Don MacQueen wrote:

> I'm trying to install R on a SunOS 5.6 system.

Your gcc appears to be for SunOS5.4, and gcc version 2.7.0.  You will need
a gcc for SunOS 5.6.  That seems to be the real problem.  Also, gcc version
2.7.0 is years old.  Pre-built versions of gcc for Solaris are available at
various sites, even for Solaris versions as old as 2.6, but it only takes
a few minutes to build 2.95.3 (the current version) from the sources.

> The first problem I encountered was during configuration.
>  From config.log:
>
> configure:7171: checking whether the C++ compiler (c++  ) works
> configure:7187: c++ -o conftest  -I/usr/local/include  conftest.C
> -L/usr/local/lib 1>&5
> ld: fatal: library -lstdc++: not found
> ld: fatal: File processing errors. No output written to conftest
> configure: failed program was:
>
> #line 7182 "configure"
> #include "confdefs.h"
>
> int main(){return(0);}
>
>
> I've asked local system administrators for help finding the missing
> library file. While waiting, I specified CXX=gcc in config.site as a
> possible work-around. This allowed configure to create a makefile.

That's again a symptom of a mis-installed gcc, or a failure to set a
library path (or mis-setting it).


> But now, make fails:
>
> main[61]% pwd
> /erd/statistic/apps/R-1.2.3/src/main
> main[62]%  gcc -I. -I../../src/include -I../../src/include
> -I/usr/local/include -DHAVE_CONFIG_H -g -O2 -c saveload.c -o
> saveload.o
> In file included from /usr/include/sys/turnstile.h:12,
>                   from /usr/include/sys/t_lock.h:20,
>                   from /usr/include/sys/vnode.h:37,
>                   from /usr/include/sys/stream.h:21,
>                   from /usr/include/netinet/in.h:38,
>                   from /usr/include/rpc/auth_kerb.h:14,
>                   from /usr/include/rpc/rpc.h:39,
>                   from saveload.c:229:
> /erd/share/gnu/lib/gcc-lib/sparc-sun-solaris2.4/2.7.0/include/sys/param.h:185:
> warning: `NBBY' redefined
> /usr/include/sys/select.h:45: warning: this is the location of the
> previous definition
> In file included from /usr/include/sys/stream.h:26,
>                   from /usr/include/netinet/in.h:38,
>                   from /usr/include/rpc/auth_kerb.h:14,
>                   from /usr/include/rpc/rpc.h:39,
>                   from saveload.c:229:
> /usr/include/sys/model.h:32: #error "No DATAMODEL_NATIVE specified"
>
> The errors appear to be due to lines in select.h and param.h. These
> appear to be Sun-supplied files, so at this point I don't know what
> to do.
>
> Thanks for any suggestions.
> -Don
> --
> --------------------------------------
> Don MacQueen
> Environmental Protection Department
> Lawrence Livermore National Laboratory
> Livermore, CA, USA
> --------------------------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From agus at stat.ucc.ie  Sat May 19 19:25:38 2001
From: agus at stat.ucc.ie (Agus Salim)
Date: Sat, 19 May 2001 18:25:38 +0100
Subject: [R] COMPUTING DETERMINANT FROM SVD
Message-ID: <5.0.2.1.0.20010519181916.00a315b0@stat.ucc.ie>

Dear R-users,

I computed determinant of a square matrix "var.r" using the SVD output:

detr _ 1

d _ svd(var.r)$d

for (i in 1:length(d)) {

detr _ detr*d[i]

}
print(detr)
30.20886

BUT when I tried :

det(var.r)
I got :
-30.20886

Is this because SVD output will only give absolute of the eigenvalues ?, If 
this is the case
how can I get the original eigenvalues?


Thanks,
Agus

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gfeeney at gfeeney.com  Sat May 19 19:42:08 2001
From: gfeeney at gfeeney.com (Griffith Feeney)
Date: Sat, 19 May 2001 13:42:08 -0400
Subject: [R] calculations on diagonals of a matrix
Message-ID: <5.1.0.14.0.20010519133202.009e50c0@mail.gfeeney.com>

Given an nxm matrix A I want to compute the nxm matrix B whose ij-th 
element is the sum of the elements of A lying on the diagonal that ends 
with element ij, i.e.,

     b_ij = a_ij + a_(i-1)(j-1) + a_(i-2)(j-2) + ...

In APL (which I no longer use), I would use the 'rotate' operator to derive 
an array whose columns are diagonals of the given array and then cumulate 
down columns. Is there a similar operator in R, or is there another/better way?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Sat May 19 21:18:36 2001
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Sat, 19 May 2001 20:18:36 +0100 (BST)
Subject: [R] COMPUTING DETERMINANT FROM SVD
In-Reply-To: <5.0.2.1.0.20010519181916.00a315b0@stat.ucc.ie>
Message-ID: <Pine.GSO.4.21.0105192014420.2551-100000@dolphin>

> 
> I computed determinant of a square matrix "var.r" using the SVD output:
> 
> detr _ 1
> 
> d _ svd(var.r)$d
> 
> for (i in 1:length(d)) {
> 
> detr _ detr*d[i]
> 
> }
> print(detr)
> 30.20886
> 
> BUT when I tried :
> 
> det(var.r)
> I got :
> -30.20886
> 
> Is this because SVD output will only give absolute of the eigenvalues ?

Yes, the singular values of A are the square roots of eigen values of A'A
(where the latter are non -ve of course, since A'A is +ve semi definite). 


>, If 
> this is the case
> how can I get the original eigenvalues?

- eigen(A)$values , for example.

Simon

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.stephenson at lancaster.ac.uk  Sat May 19 23:36:21 2001
From: a.stephenson at lancaster.ac.uk (Alec Stephenson)
Date: Sat, 19 May 2001 22:36:21 +0100 (BST)
Subject: [R] calculations on diagonals of a matrix
In-Reply-To: <5.1.0.14.0.20010519133202.009e50c0@mail.gfeeney.com>
Message-ID: <Pine.GSO.4.21.0105192226420.188-100000@unixc.lancs.ac.uk>


you could index the elements explicitly via

index.matrix <-
matrix(seq(to=i,len=min(i,j)),seq(to=j,len=min(i,j)),ncol=2)

and so b_ij = sum(a.matrix[index.matrix]), or you could use the function
diag on the appropriate sub matrices of a.matrix.


Alec Stephenson                            tel +44 (0) 1524 593950
Department of Mathematics and Statistics   fax +44 (0) 1524 592681
Lancaster University            email a.stephenson at lancaster.ac.uk
Lancaster LA1 4YF

On Sat, 19 May 2001, Griffith Feeney wrote:

> Given an nxm matrix A I want to compute the nxm matrix B whose ij-th 
> element is the sum of the elements of A lying on the diagonal that ends 
> with element ij, i.e.,
> 
>      b_ij = a_ij + a_(i-1)(j-1) + a_(i-2)(j-2) + ...
> 
> In APL (which I no longer use), I would use the 'rotate' operator to derive 
> an array whose columns are diagonals of the given array and then cumulate 
> down columns. Is there a similar operator in R, or is there another/better way?
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.stephenson at lancaster.ac.uk  Sun May 20 01:06:30 2001
From: a.stephenson at lancaster.ac.uk (Alec Stephenson)
Date: Sun, 20 May 2001 00:06:30 +0100 (BST)
Subject: [R] calculations on diagonals of a matrix
In-Reply-To: <Pine.GSO.4.21.0105192226420.188-100000@unixc.lancs.ac.uk>
Message-ID: <Pine.GSO.4.21.0105200002470.9544-100000@unixc.lancs.ac.uk>


oops, that should've been

> 
> you could index the elements explicitly via
> 
> index.matrix <-
> matrix(c(seq(to=i,len=min(i,j)),seq(to=j,len=min(i,j))),ncol=2)
> 
> and so b_ij = sum(a.matrix[index.matrix]), or you could use the function
> diag on the appropriate sub matrices of a.matrix.
> 
> 
> Alec Stephenson                            tel +44 (0) 1524 593950
> Department of Mathematics and Statistics   fax +44 (0) 1524 592681
> Lancaster University            email a.stephenson at lancaster.ac.uk
> Lancaster LA1 4YF
> 
> On Sat, 19 May 2001, Griffith Feeney wrote:
> 
> > Given an nxm matrix A I want to compute the nxm matrix B whose ij-th 
> > element is the sum of the elements of A lying on the diagonal that ends 
> > with element ij, i.e.,
> > 
> >      b_ij = a_ij + a_(i-1)(j-1) + a_(i-2)(j-2) + ...
> > 
> > In APL (which I no longer use), I would use the 'rotate' operator to derive 
> > an array whose columns are diagonals of the given array and then cumulate 
> > down columns. Is there a similar operator in R, or is there another/better way?
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lzhang at ea.oac.uci.edu  Sun May 20 04:22:25 2001
From: lzhang at ea.oac.uci.edu (Liqing Zhang)
Date: Sat, 19 May 2001 19:22:25 -0700 (PDT)
Subject: No subject
Message-ID: <Pine.GSO.4.30.0105191915380.24862-100000@taurus.oac.uci.edu>


I performed an aov() analysis and got the following results:

	     Df Sum Sq Mean Sq F value Pr(>F)
block         1 0.0040  0.0040  0.3282 0.5672
Residuals   269 3.2766  0.0122

Can anyone tell me how to extract the F value column and Pr(>F) column
from the summary output of aov analysis?

Many thanks in advance,

Liqing
Eco. Evol. Biol.
UCIrvine

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun May 20 12:34:27 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 May 2001 12:34:27 +0200
Subject: [R] Re: none
In-Reply-To: Liqing Zhang's message of "Sat, 19 May 2001 19:22:25 -0700 (PDT)"
References: <Pine.GSO.4.30.0105191915380.24862-100000@taurus.oac.uci.edu>
Message-ID: <x2u22gwbpo.fsf@blueberry.kubism.ku.dk>

Liqing Zhang <lzhang at ea.oac.uci.edu> writes:

> I performed an aov() analysis and got the following results:
> 
> 	     Df Sum Sq Mean Sq F value Pr(>F)
> block         1 0.0040  0.0040  0.3282 0.5672
> Residuals   269 3.2766  0.0122
> 
> Can anyone tell me how to extract the F value column and Pr(>F) column
> from the summary output of aov analysis?

Slightly tricky because there's really a list of tables involved, due
to the multistratum aspect of aov:

summary(npk.aov)[[1]]$"F value"

etc.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hzi at uol.com.br  Mon May 21 06:33:21 2001
From: hzi at uol.com.br (Usuario Universo Online)
Date: Mon, 21 May 2001 04:33:21 GMT
Subject: [R] To those interested in contributing to the Debian User's Reference
 Guide
Message-ID: <20010521.4332100@siddhi.samsara>

Hello-
	This goes for all those insterested in contributing with the effort to 
have better Debian documentation, and are willing to submit material to 
the Science section of the DURG, in order to divulge R to a wider public.
	Please write directly to the author of the Science:
	Andreas Franzen <anfra at debian.org>

	Regards,
	Henry L.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Sun May 20 22:09:12 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sun, 20 May 2001 15:09:12 -0500
Subject: [R] To those interested in contributing to the Debian User's Reference
 Guide
In-Reply-To: <20010521.4332100@siddhi.samsara>
References: <20010521.4332100@siddhi.samsara>
Message-ID: <15112.9320.563254.682324@sonny.eddelbuettel.com>


Apologies for continuing this off-topic thread, but it demands a correction.

  "HenryL" == Usuario Universo Online <hzi at uol.com.br> writes:
  HenryL>  Hello- This goes for all those insterested in contributing with
  HenryL> the effort to have better Debian documentation, and are willing to
  HenryL> submit material to the Science section of the DURG, in order to
  HenryL> divulge R to a wider public.  Please write directly to the author
  HenryL> of the Science: Andreas Franzen <anfra at debian.org>

That would rather be me as I adopted the (IMHO fairly ill-conceived)
task-science package. Among other fixes, I added r-base to its Depends:.

While this does not strike me as the most efficient forum for such a Debian
specific discussion, I would of course welcome any comments on Debian's
task-science package. The whole concept of task-* package will probably be
revisited anyway.

Dirk

-- 
According to the latest figures, 43% of all statistics are totally worthless.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Mon May 21 03:20:43 2001
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Mon, 21 May 2001 11:20:43 +1000 (EST)
Subject: [R] Australian CRAN mirror site
Message-ID: <200105210120.LAA07126@leonard.anu.edu.au>

Users of the Australian mirror site may like to know
that the url is now http://mirror.aarnet.edu.au/pub/CRAN
[Until the recent relocation, the 'pub' was unnecessary.]
I understand that the aligning of the links on 
cran.r-project.org etc. is in hand.


John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6125)3998        
c/o CMA, SMS,                 fax   : (6125)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stecalza at tiscalinet.it  Mon May 21 12:07:29 2001
From: stecalza at tiscalinet.it (Stefano)
Date: Mon, 21 May 2001 12:07:29 +0200
Subject: [R] 1.2.3 debian version
In-Reply-To: <6rpud67nym.fsf@franz.stat.wisc.edu>
References: <E150kXO-0001rL-00@sonny.eddelbuettel.com>
 <E150kXO-0001rL-00@sonny.eddelbuettel.com>
Message-ID: <5.1.0.14.2.20010521120509.009f3ec0@pop.tiscalinet.it>

I found it!

Thank you for your precious (not only for me...) job!

BTW I find the genetic stuff quite interesting. Keep us informed on the news.

Bye,

Stefano


At 09.04 18/05/01 -0500, Douglas Bates wrote:
>"Dirk Eddelbuettel" <edd at debian.org> writes:
>
> > > I'm wondering why there isn't yet the debian version of R 1.2.3. Am I
> > > missing something?
> >
> > The Debian maintainer (Hi Doug) hasn't gotten around to packaging it. But
> > as he righly pointed out to me in private, 1.2.3 hasn't changed that much
> > from 1.2.2 on architectures other than the Mac.
> >
> > Note also that you can always build your own .deb from the tarball(s) 
> on the
> > CRAN sites which is particularly helpful if you want to try the 
> pre-releases.
> > I am running pre1.3.0 on one of my machines. Mail me if you need a hand
> > rolling your own .deb.
> >
> > That being said, it would be nice if the apt-get'able archive was 
> populated with
> > a new released version.   Maybe someone else at U Wisc could roll that?
>
>I will get a Debian 1.2.3 package out this weekend.  I am behind
>schedule on that because I just finished final exam grading and am now
>attending a conference here on Frontiers in Genetics.
>
>By the way, Terry Speed of Univ of California - Berkeley spoke at the
>genetics conference yesterday (he was the third speaker in a session
>in which the first two were a Nobel Laureate and a member of the
>National Academy of Sciences, which is pretty good company) and gave R
>a very good plug.  He explained how they had used R in all their
>statistical analyses of microarray data and showed the different
>analytic techniques they have developed.  His group contributed the
>sma package to CRAN.
>
>I spoke with him after his talk and suggested that we may want to
>create an R Special Interest Group on "genetics" or "bioinformatics" or
>"microarray data", whichever buzzword seems appropriate.
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>

*******************************
Stefano Calza
Istituto di Statistica Medica e Biometria
Universit? degli Studi di Milano
Via G. Venezian, 1
20133 Milano

tel. +39 02/2361302, 02/70600908
fax 02/2362930

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hstevens at rci.rutgers.edu  Mon May 21 14:49:52 2001
From: hstevens at rci.rutgers.edu (Martin Henry H. Stevens)
Date: Mon, 21 May 2001 08:49:52 -0400
Subject: [R] calculations on diagonals of a matrix
References: <5.1.0.14.0.20010519133202.009e50c0@mail.gfeeney.com>
Message-ID: <002601c0e1f4$878fec40$9db9e6a5@rutgers.edu>


----- Original Message -----
From: "Griffith Feeney" <gfeeney at gfeeney.com>
> Given an nxm matrix A I want to compute the nxm matrix B whose ij-th
> element is the sum of the elements of A lying on the diagonal that ends
> with element ij, i.e.,
>

How about sum( diag(  A )[ 1:i ] )?

>      b_ij = a_ij + a_(i-1)(j-1) + a_(i-2)(j-2) + ...
>
> In APL (which I no longer use), I would use the 'rotate' operator to
derive
> an array whose columns are diagonals of the given array and then cumulate
> down columns. Is there a similar operator in R, or is there another/better
way?
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Mon May 21 15:04:30 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 21 May 2001 08:04:30 -0500
Subject: [R] 1.2.3 debian version
In-Reply-To: <5.1.0.14.2.20010521120509.009f3ec0@pop.tiscalinet.it>
References: <E150kXO-0001rL-00@sonny.eddelbuettel.com>
	<E150kXO-0001rL-00@sonny.eddelbuettel.com>
	<5.1.0.14.2.20010521120509.009f3ec0@pop.tiscalinet.it>
Message-ID: <6r7kzahmzl.fsf@franz.stat.wisc.edu>

Stefano <stecalza at tiscalinet.it> writes:

> I found it!

> Thank you for your precious (not only for me...) job!

The R-1.2.3 packages for the Debian 2.3 testing (or woody) release went
up on CRAN yesterday.  It may take a day or two for them to migrate to
the mirrors.

I am not able to build the packages for the stable (potato) release of
Debian 2.2 because I don't have access to any machines running 2.2.
I can put the sources up but I will need a volunteer to do the actual
build for me.  It could be as simple as
 apt-get upgrade
 apt-get source r-base
 cd r-base-1.2.3
 dpkg-makepackage -rfakeroot -us -uc
and shipping me the result.

In theory that is all that needs to be done.  In practice the last
step will probably require multiple iterations of loading other
packages that are required to build r-base and r-gnome.  Compilations
of the Gnome version and of the Tcl/Tk package require that many
supporting packages be installed.  Getting the exact combination
correct takes a few tries.

Please contact me if you can do this.

(For those who may wonder about names like "potato" and "woody", the
Debian releases are given code names of characters from the movie "Toy
Story".  Bruce Perens, the former Debian Project Leader, was a systems
programmer at Pixar, the company that made that movie.)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Mon May 21 16:01:05 2001
From: macq at llnl.gov (Don MacQueen)
Date: Mon, 21 May 2001 07:01:05 -0700
Subject: [R] Installation help (saveload.c)
In-Reply-To: <Pine.WNT.4.31.0105190649001.135-100000@tern.stats>
References: <Pine.WNT.4.31.0105190649001.135-100000@tern.stats>
Message-ID: <p05001902b72eccb57cce@[128.115.153.6]>

Thank you, Dr. Ripley.

After I sent my request for help, one of our system administrators 
also told me that the gcc installation is old. He also pointed me to 
a host with (he says!) the latest version. We have a rather 
heterogenous network here, with Sun hosts at three different OS 
versions, as well as SGIs, Macs, and NTs. It's clear this makes an 
extra challenge for me.

I've also started building R for Macintosh OS X, as we have a lot of 
Macs here. I've not got past building f2c, however.

As is evident, I don't have much experience building software 
packages, so I very much appreciate the help.

-Don

At 6:54 AM +0100 5/19/01, Prof Brian D Ripley wrote:
>On Fri, 18 May 2001, Don MacQueen wrote:
>
>>  I'm trying to install R on a SunOS 5.6 system.
>
>Your gcc appears to be for SunOS5.4, and gcc version 2.7.0.  You will need
>a gcc for SunOS 5.6.  That seems to be the real problem.  Also, gcc version
>2.7.0 is years old.  Pre-built versions of gcc for Solaris are available at
>various sites, even for Solaris versions as old as 2.6, but it only takes
>a few minutes to build 2.95.3 (the current version) from the sources.
>
>>  The first problem I encountered was during configuration.
>>   From config.log:
>>
>>  configure:7171: checking whether the C++ compiler (c++  ) works
>>  configure:7187: c++ -o conftest  -I/usr/local/include  conftest.C
>>  -L/usr/local/lib 1>&5
>>  ld: fatal: library -lstdc++: not found
>>  ld: fatal: File processing errors. No output written to conftest
>>  configure: failed program was:
>>
>>  #line 7182 "configure"
>>  #include "confdefs.h"
>>
>>  int main(){return(0);}
>>
>>
>>  I've asked local system administrators for help finding the missing
>>  library file. While waiting, I specified CXX=gcc in config.site as a
>>  possible work-around. This allowed configure to create a makefile.
>
>That's again a symptom of a mis-installed gcc, or a failure to set a
>library path (or mis-setting it).
>
>
>>  But now, make fails:
>>
>>  main[61]% pwd
>>  /erd/statistic/apps/R-1.2.3/src/main
>>  main[62]%  gcc -I. -I../../src/include -I../../src/include
>>  -I/usr/local/include -DHAVE_CONFIG_H -g -O2 -c saveload.c -o
>>  saveload.o
>>  In file included from /usr/include/sys/turnstile.h:12,
>>                    from /usr/include/sys/t_lock.h:20,
>>                    from /usr/include/sys/vnode.h:37,
>>                    from /usr/include/sys/stream.h:21,
>>                    from /usr/include/netinet/in.h:38,
>>                    from /usr/include/rpc/auth_kerb.h:14,
>>                    from /usr/include/rpc/rpc.h:39,
>>                    from saveload.c:229:
>> 
>>/erd/share/gnu/lib/gcc-lib/sparc-sun-solaris2.4/2.7.0/include/sys/param.h:185:
>>  warning: `NBBY' redefined
>>  /usr/include/sys/select.h:45: warning: this is the location of the
>>  previous definition
>>  In file included from /usr/include/sys/stream.h:26,
>>                    from /usr/include/netinet/in.h:38,
>>                    from /usr/include/rpc/auth_kerb.h:14,
>>                    from /usr/include/rpc/rpc.h:39,
>>                    from saveload.c:229:
>>  /usr/include/sys/model.h:32: #error "No DATAMODEL_NATIVE specified"
>>
>>  The errors appear to be due to lines in select.h and param.h. These
>>  appear to be Sun-supplied files, so at this point I don't know what
>>  to do.
>>
>>  Thanks for any suggestions.
>>  -Don
>>  --
>>  --------------------------------------
>>  Don MacQueen
>>  Environmental Protection Department
>  > Lawrence Livermore National Laboratory
>  > Livermore, CA, USA
>  > --------------------------------------
>  > 
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>  > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>  Send "info", "help", or "[un]subscribe"
>>  (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>> 
>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>>
>
>--
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 22 00:01:43 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 21 May 2001 23:01:43 +0100 (GMT Daylight Time)
Subject: [R] Re: new packages:  grid and lattice
In-Reply-To: <007601c0e23a$9db66210$175dd882@stat.auckland.ac.nz>
Message-ID: <Pine.WNT.4.31.0105212259001.133-100000@tern.stats>

Paul,

Thanks for these. I've put Windows versions up.

Next iteration can you make your .ps files with type1 fonts (dvips -Ppfb or
-Pwww or a local incantation) or provide the sources?  That way they
will render better at different resolutions, and even distill to PDF
(which is a lot more universally available).

Brian

On Tue, 22 May 2001, Paul Murrell wrote:
>
> Hi
>
> Two new packages have just been uploaded to the _DEVEL_ section on CRAN:
>
>
> 1.  package "grid"
>
> AUTHOR
> Paul Murrell
>
> OVERVIEW
> This package provides an altenative graphics system for R.
>
> FEATURES
> Very flexible layout facilities (viewports, units, layouts)
> Component-based design (graphics can be constructed incrementally and
> hierarchically)
> Basic support for interaction (graphics functions return "objects")
> Highly customisable and extensible
>
> BUGS/UNIMPLEMENTED FEATURES
> No clipping
> Only single active device
> Viewport rotation very fragile
> ...
>
>
> 2.  package "lattice"
>
> AUTHOR
> Deepayan Sarkar
>
> OVERVIEW
> This package provides graphics functionality similar to the Trellis suite in
> S-Plus.
>
> FEATURES
> Mutipanel plots of one or two variables conditioned on one or more other
> variables.
> Formula-style specification of conditioning.
> Strips atop the panels to indicate levels of the conditioning variables.
>
> BUGS/UNIMPLEMENTED FEATURES
> The "key" argument.
> The "font" argument.
>
>
> The lattice package uses the graphics system provided by grid so you will
> need to download both packages in order to use lattice.  Furthermore, the
> packages are most likely to work only with the latest development release of
> R.  At the very least they require R 1.2.0 or later.
>
> The packages are in the DEVEL section of CRAN because they are far from
> complete and have many bugs and missing features.  However, they should
> contain sufficient functionality to be of use to some people.  We are also
> very interested in feedback on things that don't work, things that people
> don't like, and even things that people do like :)
>
> Paul Murrell
> Deepayan Sarkar
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-announce mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 22 00:07:26 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 21 May 2001 23:07:26 +0100 (GMT Daylight Time)
Subject: [R] Re: new packages:  grid and lattice
In-Reply-To: <007601c0e23a$9db66210$175dd882@stat.auckland.ac.nz>
Message-ID: <Pine.WNT.4.31.0105212305440.133-100000@tern.stats>

Paul,

Sorry, I meant to send part of that to r-help and part of it just to you.
But the message (use type1 fonts) is pretty general.

Brian

[My Sun has just be upgraded and dial-up does not yet work so I'm reduced
to less congenial systems.]

On Tue, 22 May 2001, Paul Murrell wrote:

>
> Hi
>
> Two new packages have just been uploaded to the _DEVEL_ section on CRAN:
>
>
> 1.  package "grid"
>
> AUTHOR
> Paul Murrell
>
> OVERVIEW
> This package provides an altenative graphics system for R.
>
> FEATURES
> Very flexible layout facilities (viewports, units, layouts)
> Component-based design (graphics can be constructed incrementally and
> hierarchically)
> Basic support for interaction (graphics functions return "objects")
> Highly customisable and extensible
>
> BUGS/UNIMPLEMENTED FEATURES
> No clipping
> Only single active device
> Viewport rotation very fragile
> ...
>
>
> 2.  package "lattice"
>
> AUTHOR
> Deepayan Sarkar
>
> OVERVIEW
> This package provides graphics functionality similar to the Trellis suite in
> S-Plus.
>
> FEATURES
> Mutipanel plots of one or two variables conditioned on one or more other
> variables.
> Formula-style specification of conditioning.
> Strips atop the panels to indicate levels of the conditioning variables.
>
> BUGS/UNIMPLEMENTED FEATURES
> The "key" argument.
> The "font" argument.
>
>
> The lattice package uses the graphics system provided by grid so you will
> need to download both packages in order to use lattice.  Furthermore, the
> packages are most likely to work only with the latest development release of
> R.  At the very least they require R 1.2.0 or later.
>
> The packages are in the DEVEL section of CRAN because they are far from
> complete and have many bugs and missing features.  However, they should
> contain sufficient functionality to be of use to some people.  We are also
> very interested in feedback on things that don't work, things that people
> don't like, and even things that people do like :)
>
> Paul Murrell
> Deepayan Sarkar
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-announce mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Tue May 22 09:00:45 2001
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Tue, 22 May 2001 09:00:45 +0200
Subject: [R] Re: new packages:  grid and lattice
In-Reply-To: <007601c0e23a$9db66210$175dd882@stat.auckland.ac.nz>
Message-ID: <3.0.6.32.20010522090045.0095d1b0@mail.wsl.ch>

Hi,

Cllicking around the ETH mirror I cannot find a link to _DEVEL_ section on
CRAN.  Also, http://stat.ethz.ch/CRAN/_DEVEL_/ will lead nowhere.

What am I missing?

Thanks a lot.
--christian

At 09:11 22.05.2001 +1200, you wrote:
>
>Hi
>
>Two new packages have just been uploaded to the _DEVEL_ section on CRAN:
>
>
>1.  package "grid"
>
>AUTHOR
>Paul Murrell
>

Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Tue May 22 09:13:27 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 22 May 2001 09:13:27 +0200
Subject: [R] Re: new packages:  grid and lattice
In-Reply-To: <3.0.6.32.20010522090045.0095d1b0@mail.wsl.ch>
References: <007601c0e23a$9db66210$175dd882@stat.auckland.ac.nz>
	<3.0.6.32.20010522090045.0095d1b0@mail.wsl.ch>
Message-ID: <15114.4503.954017.664594@mithrandir.hornik.net>

>>>>> Christian Hoffmann writes:

> Hi,

> Cllicking around the ETH mirror I cannot find a link to _DEVEL_
> section on CRAN.  Also, http://stat.ethz.ch/CRAN/_DEVEL_/ will lead
> nowhere.

Paul was referring to the `Devel' subdir of `src/contrib', in your case
simply
	http://stat.ethz.ch/CRAN/src/contrib/Devel/

Read the FAQ :-)

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May 22 09:24:09 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 May 2001 09:24:09 +0200
Subject: [R] Re: new packages:  grid and lattice
In-Reply-To: Christian Hoffmann's message of "Tue, 22 May 2001 09:00:45 +0200"
References: <3.0.6.32.20010522090045.0095d1b0@mail.wsl.ch>
Message-ID: <x24rud26ee.fsf@blueberry.kubism.ku.dk>

Christian Hoffmann <christian.hoffmann at wsl.ch> writes:

> Hi,
> 
> Cllicking around the ETH mirror I cannot find a link to _DEVEL_ section on
> CRAN.  Also, http://stat.ethz.ch/CRAN/_DEVEL_/ will lead nowhere.
> 
> What am I missing?

Paul is just emphasizing. Go to the CRAN package area and click the
"Devel" link. Specifically:

http://cran.r-project.org/src/contrib/Devel

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Tue May 22 09:39:29 2001
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Tue, 22 May 2001 09:39:29 +0200 (MEST)
Subject: [R] Re: new packages:  grid and lattice
In-Reply-To: <3.0.6.32.20010522090045.0095d1b0@mail.wsl.ch>
Message-ID: <Pine.LNX.4.21.0105220937580.11786-100000@artemis.imbe.med.uni-erlangen.de>


> Hi,
> 
> Cllicking around the ETH mirror I cannot find a link to _DEVEL_ section on
> CRAN.  Also, http://stat.ethz.ch/CRAN/_DEVEL_/ will lead nowhere.
> 
> What am I missing?

look at cran.r-project.org/src/contrib/Devel

Torsten

> 
> Thanks a lot.
> --christian
> 
> At 09:11 22.05.2001 +1200, you wrote:
> >
> >Hi
> >
> >Two new packages have just been uploaded to the _DEVEL_ section on CRAN:
> >
> >
> >1.  package "grid"
> >
> >AUTHOR
> >Paul Murrell
> >
> 
> Dr.sc.math.Christian W. Hoffmann
> Mathematics and Statistical Computing
> Landscape Modeling and Web Applications
> Swiss Federal Research Institute WSL 
> Zuercherstrasse 111
> CH-8903 Birmensdorf, Switzerland
> phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
> e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
> www: http://www.wsl.ch/staff/christian.hoffmann/
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Tue May 22 13:38:21 2001
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Tue, 22 May 2001 21:38:21 +1000
Subject: [R] 2D interpolation function
Message-ID: <3B0A4FAC.BB4D3BDE@ozemail.com.au>

As part of a project I am doing, I had to present a 2D table as a
surface.  This was fairly straightforward (using persp), but I needed to
interpolate points to make it sort of pretty.  This was done by using
quadratic interpolation between the existing points to smooth out the
surface a bit.  As I couldn't find an R function that did this, I wrote
an admittedly nasty pair of functions that will interpolate any
reasonable number of equally spaced points between the values of an
object produced by table(), smoothed with any reasonable power function
of the distance.  In practice, this means I tested it with up to four or
five interpolated points up to a cubic interpolation.

If anyone is interested in telling me:

a) I overlooked an existing function (p~0.95)

b) This would be a useful function for them (p~0.01)

I would be happy to hear about it.

Jim

PS - I assumed that the remaining 0.04 would be the probability that no
one was interested.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 22 14:25:45 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 22 May 2001 13:25:45 +0100 (BST)
Subject: [R] 2D interpolation function
In-Reply-To: <3B0A4FAC.BB4D3BDE@ozemail.com.au>
Message-ID: <Pine.LNX.4.31.0105221323200.17125-100000@gannet.stats>

On Tue, 22 May 2001, Jim Lemon wrote:

> As part of a project I am doing, I had to present a 2D table as a
> surface.  This was fairly straightforward (using persp), but I needed to
> interpolate points to make it sort of pretty.  This was done by using
> quadratic interpolation between the existing points to smooth out the
> surface a bit.  As I couldn't find an R function that did this, I wrote
> an admittedly nasty pair of functions that will interpolate any
> reasonable number of equally spaced points between the values of an
> object produced by table(), smoothed with any reasonable power function
> of the distance.  In practice, this means I tested it with up to four or
> five interpolated points up to a cubic interpolation.
>
> If anyone is interested in telling me:
>
> a) I overlooked an existing function (p~0.95)

package akima contains functions that will do a better job than
distance-based interpolation. You could also use kriging (spatial,
sgeostat, geoR).

> b) This would be a useful function for them (p~0.01)
>
> I would be happy to hear about it.
>
> Jim
>
> PS - I assumed that the remaining 0.04 would be the probability that no
> one was interested.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue May 22 17:57:56 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 22 May 2001 16:57:56 +0100
Subject: [R] Extracting F and p from aov() - tricksy solution
In-Reply-To: <Pine.GSO.4.30.0105191915380.24862-100000@taurus.oac.uci.edu>
References: <Pine.GSO.4.30.0105191915380.24862-100000@taurus.oac.uci.edu>
Message-ID: <Z0Gu1HAEyoC7EwEA@myatt.demon.co.uk>

Liqing Zhang <lzhang at ea.oac.uci.edu> writes:
>
>I performed an aov() analysis and got the following results:
>
>            Df Sum Sq Mean Sq F value Pr(>F)
>block         1 0.0040  0.0040  0.3282 0.5672
>Residuals   269 3.2766  0.0122
>
>Can anyone tell me how to extract the F value column and Pr(>F) column
>from the summary output of aov analysis?

I thought that would be easy but the summary() object of aov() seems to
be an odd beast. Fiddling around I came up with this:

data(warpbreaks)
LZ.aov <- summary(aov(breaks ~ wool + tension, data = warpbreaks))
LZ.aov.fp <- cbind(LZ.aov[[1]]$"F value", LZ.aov[[1]]$"Pr(>F)")
colnames(LZ.aov.fp) <- c("F", "p")

All we need now is to get the right row-names. I suppose that will
require a function that will extract the variable names from the
formula.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue May 22 19:20:50 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 22 May 2001 10:20:50 -0700 (PDT)
Subject: [R] Extracting F and p from aov() - tricksy solution
In-Reply-To: <Z0Gu1HAEyoC7EwEA@myatt.demon.co.uk>
Message-ID: <Pine.A41.4.33.0105221017460.39870-100000@homer11.u.washington.edu>

On Tue, 22 May 2001, Mark Myatt wrote:

> Liqing Zhang <lzhang at ea.oac.uci.edu> writes:
> >
> >I performed an aov() analysis and got the following results:
> >
> >            Df Sum Sq Mean Sq F value Pr(>F)
> >block         1 0.0040  0.0040  0.3282 0.5672
> >Residuals   269 3.2766  0.0122
> >
> >Can anyone tell me how to extract the F value column and Pr(>F) column
> >from the summary output of aov analysis?
>

eg
data(warpbreaks)
LZ.aov <- summary(aov(breaks ~ wool + tension, data = warpbreaks))
as.data.frame(LZ.aov[[1]][,4:5])
             F value      Pr(>F)
wool        3.339316 0.073613669
tension     7.536651 0.001377778
Residuals         NA          NA


This is for an aov() with a single response. The complicated structure is
because you can have multiple responses, which would give a list of anova
tables as the summary.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May 22 19:27:14 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 May 2001 19:27:14 +0200
Subject: [R] Extracting F and p from aov() - tricksy solution
In-Reply-To: Mark Myatt's message of "Tue, 22 May 2001 16:57:56 +0100"
References: <Pine.GSO.4.30.0105191915380.24862-100000@taurus.oac.uci.edu> <Z0Gu1HAEyoC7EwEA@myatt.demon.co.uk>
Message-ID: <x21yph8fbh.fsf@blueberry.kubism.ku.dk>

Mark Myatt <mark at myatt.demon.co.uk> writes:

> Liqing Zhang <lzhang at ea.oac.uci.edu> writes:
> >
> >I performed an aov() analysis and got the following results:
> >
> >            Df Sum Sq Mean Sq F value Pr(>F)
> >block         1 0.0040  0.0040  0.3282 0.5672
> >Residuals   269 3.2766  0.0122
> >
> >Can anyone tell me how to extract the F value column and Pr(>F) column
> >from the summary output of aov analysis?
> 
> I thought that would be easy but the summary() object of aov() seems to
> be an odd beast. Fiddling around I came up with this:
> 
> data(warpbreaks)
> LZ.aov <- summary(aov(breaks ~ wool + tension, data = warpbreaks))
> LZ.aov.fp <- cbind(LZ.aov[[1]]$"F value", LZ.aov[[1]]$"Pr(>F)")
> colnames(LZ.aov.fp) <- c("F", "p")
> 
> All we need now is to get the right row-names. I suppose that will
> require a function that will extract the variable names from the
> formula.

Ummm,

> as.matrix(LZ.aov[[1]][4:5])
             F value      Pr(>F)
wool        3.339316 0.073613669
tension     7.536651 0.001377778
Residuals         NA          NA

(or as.data.frame(), or just use LZ.aov[[1]][4:5] and ignore the
significance stars...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Tue May 22 20:26:33 2001
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Tue, 22 May 2001 14:26:33 -0400 (EDT)
Subject: [R] dates
Message-ID: <15114.44541.76699.261961@arbres2a>

I am just starting to play with R. What is the recommended manner for dealing
with dates? In particular, should I be using the "chron" or the "date" package
or working with some of the facilities in base R like strptime?

My needs are very limitted. I have variables that, in S+ 6.0, I treat as
timeDate objects. I rarely need to do more than read in the information from
text files formatted as YYYYMMDD and figure out the number of days
between two dates.

If there is enough interest, I will summarize to the list. For the record, 

> version
         _                   
platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    2.3                 
year     2001                
month    04                  
day      26                  
language R               

Thanks,

Dave Kane
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Tue May 22 21:14:57 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 22 May 2001 21:14:57 +0200
Subject: [R] dates
In-Reply-To: <15114.44541.76699.261961@arbres2a>
References: <15114.44541.76699.261961@arbres2a>
Message-ID: <15114.47793.444953.953246@mithrandir.hornik.net>

>>>>> "David Kane writes:

> I am just starting to play with R. What is the recommended manner for
> dealing with dates? In particular, should I be using the "chron" or
> the "date" package or working with some of the facilities in base R
> like strptime?

I'd recommend using the date/time functionality that comes with R.  See
?DateTimeClasses.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Tue May 22 22:26:15 2001
From: chong at stat.purdue.edu (Chong Gu)
Date: Tue, 22 May 2001 15:26:15 -0500
Subject: [R] Inverse Gaussian distribution
Message-ID: <200105222026.PAA54324@odds.stat.purdue.edu>


I needed to generate some data from the Inverse Gaussian distribution
but it is not in R.  A google search took me to 

    http://www.maths.uq.edu.au/~gks/s/invgauss.html

which contains the documentation for the d, p, r, q functions with a
download link of the functions.  The functions work fine in R.

I am curious why the facilities are not included in R.  Is it for
legal reasons or just the lack or demand?

Chong
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hstevens at rci.rutgers.edu  Tue May 22 22:30:20 2001
From: hstevens at rci.rutgers.edu (Martin Henry H. Stevens)
Date: Tue, 22 May 2001 16:30:20 -0400
Subject: [R] deriv value
Message-ID: <001101c0e2fe$05c15220$9db9e6a5@rutgers.edu>

How do I get eval( deriv(~F,"x") ) to return ONLY the values of the
derivative of F?

the default returns values of F(x), AND F'(x) as a ".gradient" attribute,
and , after reading everything I have on eval(), deriv(), and attr(), I had
absolutely no idea how to get just F'(x) evaluated a x.
Many thanks,
Henry

Dr. M. Henry H. Stevens
Postdoctoral Associate
Department of Ecology, Evolution, & Natural Resources
14 College Farm Road
Cook College, Rutgers University
New Brunswick, NJ 08901-8551

email: hstevens at rci.rutgers.edu
phone: 732-932-9631
fax: 732-932-8746

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hstevens at rci.rutgers.edu  Tue May 22 22:37:30 2001
From: hstevens at rci.rutgers.edu (Martin Henry H. Stevens)
Date: Tue, 22 May 2001 16:37:30 -0400
Subject: [R] deriv value revised question
Message-ID: <001d01c0e2ff$059a25a0$9db9e6a5@rutgers.edu>

Is the simplest way to get eval( deriv(~F,"x") ) to return ONLY the values
of the
derivative of F evaluated at x by using

attr( eval( deriv( ~F, "x" ) ), "gradient") ?

If so, what is the rationale behind this?

Many thanks in advance for the edification,

Henry Stevens

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue May 22 22:56:06 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 22 May 2001 15:56:06 -0500
Subject: [R] deriv value revised question
In-Reply-To: <001d01c0e2ff$059a25a0$9db9e6a5@rutgers.edu>
References: <001d01c0e2ff$059a25a0$9db9e6a5@rutgers.edu>
Message-ID: <6ru22drtll.fsf@franz.stat.wisc.edu>

"Martin Henry H. Stevens" <hstevens at rci.rutgers.edu> writes:

> Is the simplest way to get eval( deriv(~F,"x") ) to return ONLY the values
> of the
> derivative of F evaluated at x by using
> 
> attr( eval( deriv( ~F, "x" ) ), "gradient") ?
> 
> If so, what is the rationale behind this?
> 
> Many thanks in advance for the edification,

The deriv function was designed to produce functions to use as models
in nls and nlm.  In those cases you often want both the model function
and the gradient array.  If you evaluate the expressions for the model
and for each column of the gradient array at the same time you can
make the evaluation more efficient by eliminating common
subexpressions.  In many cases you can evaluate all of these for
nearly the same cost as evaluating any one.

The savings in an interpreted language like R are magnified because
you save the interpreter cost as well as the arithmetic cost if you
evaluate the subexpressions only once.

In the Michaelis-Menten model, for example,

> deriv(~ Vm*x/(K + x), c("Vm", "K"))
expression({
    .expr1 <- Vm * x
    .expr2 <- K + x
    .value <- .expr1/.expr2
    .grad <- array(0, c(length(.value), 2), list(NULL, c("Vm", 
        "K")))
    .grad[, "Vm"] <- x/.expr2
    .grad[, "K"] <- -.expr1/.expr2^2
    attr(.value, "gradient") <- .grad
    .value
})

the expressions .expr1 and .expr2 are used in several places.  (If you
look carefully you will discover that there could be more elimination
of subexpressions done in this example.  Our algorithm for doing this
is not terribly sophisticated.)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May 22 23:06:09 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 May 2001 23:06:09 +0200
Subject: [R] Inverse Gaussian distribution
In-Reply-To: Chong Gu's message of "Tue, 22 May 2001 15:26:15 -0500"
References: <200105222026.PAA54324@odds.stat.purdue.edu>
Message-ID: <x23d9xnlfi.fsf@blueberry.kubism.ku.dk>

Chong Gu <chong at stat.purdue.edu> writes:

> I needed to generate some data from the Inverse Gaussian distribution
> but it is not in R.  A google search took me to 
> 
>     http://www.maths.uq.edu.au/~gks/s/invgauss.html
> 
> which contains the documentation for the d, p, r, q functions with a
> download link of the functions.  The functions work fine in R.
> 
> I am curious why the facilities are not included in R.  Is it for
> legal reasons or just the lack or demand?
> 
> Chong

Lack of awareness also plays a part I suppose. License-wise Gordon
seems to be putting a non-profit clause of the code, which is
incompatible with the GPL and the Debian guidelines. Wouldn't know
whether he could be convinced to do otherwise, but he seems a
reasonably friendly guy (I met him a couple of times when he was guest
professor in Odense in 1999).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From csprin at ca.sandia.gov  Wed May 23 01:28:27 2001
From: csprin at ca.sandia.gov (Clayton Springer)
Date: Tue, 22 May 2001 16:28:27 -0700
Subject: [R] Surrogate splits for decision trees
Message-ID: <20010522162827.B23444@brandybuck.ca.sandia.gov>

Dear R,

Short verse of the question:

Is there R code which will calculate surrogate splits
and/or delta impurity for decision trees at each node?


Long Version:

I have local, legacy code which I use to calculate my decision trees.
I would like to switch to R, but as I understand it surrogate splits
are not implemented.

Surrogate splits and feature ranking are described in Breiman et al
"CART" 1984.  Curiously, they don't seem to appear anywhere else
in the literature.

Can anyone comment on how extenible Ripley's tree package is?

Thanks in advance,


--Clayton


-- 
Clayton Springer, Ph. D.
Sandia National Laboratories                      csprin at ca.sandia.gov
Biosystems Research Department                    (925) 294-2143
P.O. Box 969, MS 9951                fax:         (925) 294-3020
Livermore, CA, 94551-0969

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Wed May 23 01:14:04 2001
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Wed, 23 May 2001 11:14:04 +1200
Subject: [R] MASS data sets
Message-ID: <200105222308.LAA19337@gosset.stats.waikato.ac.nz>

I'm running R 1.2.2 under windows 98 on a Pentium 133 laptop.
I can't seem to retrieve the package MASS data sets:
> library(MASS)
> data(wtloss)
Warning message: 
Data set `wtloss' not found in: data(wtloss) 
> data(abbey)
Warning message: 
Data set `abbey' not found in: data(abbey) 

And yet all the .rda files for the MASS datasets are in

D:\Program Files\rw1022\library\MASS\data

Help, anyone?


Murray Jorgensen,  Department of Statistics,  U of Waikato, Hamilton, NZ
-----[+64-7-838-4773]---------------------------[maj at waikato.ac.nz]-----
"Doubt everything or believe everything:these are two equally convenient
strategies. With either we dispense with the need to think."
http://www.stats.waikato.ac.nz/Staff/maj.html          - Henri Poincare'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed May 23 01:12:15 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 22 May 2001 16:12:15 -0700 (PDT)
Subject: [R] Surrogate splits for decision trees
In-Reply-To: <20010522162827.B23444@brandybuck.ca.sandia.gov>
Message-ID: <Pine.A41.4.33.0105221610520.39870-100000@homer11.u.washington.edu>

On Tue, 22 May 2001, Clayton Springer wrote:

> Dear R,
>
> Short verse of the question:
>
> Is there R code which will calculate surrogate splits
> and/or delta impurity for decision trees at each node?

package rpart

> Long Version:
>
> I have local, legacy code which I use to calculate my decision trees.
> I would like to switch to R, but as I understand it surrogate splits
> are not implemented.
>
> Surrogate splits and feature ranking are described in Breiman et al
> "CART" 1984.  Curiously, they don't seem to appear anywhere else
> in the literature.
>

The rpart package contains tree code that does implement surrogate splits.
It is not particularly extensible now, but the next version is planned to
be very extensible.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Wed May 23 06:44:52 2001
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Wed, 23 May 2001 16:44:52 +1200
Subject: [R] MASS data sets
In-Reply-To: <200105222308.LAA19337@gosset.stats.waikato.ac.nz>
Message-ID: <200105230446.QAA20248@gosset.stats.waikato.ac.nz>

Mmmm, I think I see what the problem is now. Somehow rwinst.exe didn't unzip
all the directories in the tree under 
D:\Program Files\rw1022\library\MASS\
I had later unzipped those files in
D:\Program Files\rw1022\library\MASS\data
and some, but not all, of the zip files in other subdirectories.

Finishing the unzipping did the job, at least it did on my other machine.

Sorry for disturbing the list!

At 11:14 AM 23-05-01 +1200, Murray Jorgensen wrote:
>I'm running R 1.2.2 under windows 98 on a Pentium 133 laptop.
>I can't seem to retrieve the package MASS data sets:
>> library(MASS)
>> data(wtloss)
>Warning message: 
>Data set `wtloss' not found in: data(wtloss) 
>> data(abbey)
>Warning message: 
>Data set `abbey' not found in: data(abbey) 
>
>And yet all the .rda files for the MASS datasets are in
>
>D:\Program Files\rw1022\library\MASS\data
>
>Help, anyone?
>
>
>Murray Jorgensen,  Department of Statistics,  U of Waikato, Hamilton, NZ
>-----[+64-7-838-4773]---------------------------[maj at waikato.ac.nz]-----
>"Doubt everything or believe everything:these are two equally convenient
>strategies. With either we dispense with the need to think."
>http://www.stats.waikato.ac.nz/Staff/maj.html          - Henri Poincare'
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>  
Dr Murray Jorgensen       http://www.stats.waikato.ac.nz/Staff/maj.html 
Department of Statistics, University of Waikato, Hamilton, New Zealand 
*Applications Editor, Australian and New Zealand Journal of Statistics* 
maj at waikato.ac.nz Phone +64-7 838 4773 home phone 856 6705 Fax 838 4155

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 23 08:03:00 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 23 May 2001 07:03:00 +0100 (BST)
Subject: [R] Surrogate splits for decision trees
In-Reply-To: <Pine.A41.4.33.0105221610520.39870-100000@homer11.u.washington.edu>
Message-ID: <Pine.LNX.4.21.0105230702190.2786-100000@localhost>

On Tue, 22 May 2001, Thomas Lumley wrote:

> On Tue, 22 May 2001, Clayton Springer wrote:
> 
> > Dear R,
> >
> > Short verse of the question:
> >
> > Is there R code which will calculate surrogate splits
> > and/or delta impurity for decision trees at each node?
> 
> package rpart
> 
> > Long Version:
> >
> > I have local, legacy code which I use to calculate my decision trees.
> > I would like to switch to R, but as I understand it surrogate splits
> > are not implemented.
> >
> > Surrogate splits and feature ranking are described in Breiman et al
> > "CART" 1984.  Curiously, they don't seem to appear anywhere else
> > in the literature.
> >
> 
> The rpart package contains tree code that does implement surrogate splits.
> It is not particularly extensible now, but the next version is planned to
> be very extensible.

And I am porting a pre-release of that version to R right now.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Wed May 23 08:43:53 2001
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Wed, 23 May 2001 08:43:53 +0200 (MET DST)
Subject: [R] Inverse Gaussian distribution
In-Reply-To: <200105222026.PAA54324@odds.stat.purdue.edu> from "Chong Gu" at May 22, 2001 03:26:15 PM
Message-ID: <200105230643.IAA04660@luc.ac.be>


> 
> 
> I needed to generate some data from the Inverse Gaussian distribution
> but it is not in R.  A google search took me to 
> 
>     http://www.maths.uq.edu.au/~gks/s/invgauss.html
> 
> which contains the documentation for the d, p, r, q functions with a
> download link of the functions.  The functions work fine in R.
> 
> I am curious why the facilities are not included in R.  Is it for
> legal reasons or just the lack or demand?

There are versions of these functions in my rmutil library,
independent of the above. Jim

> 
> Chong
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From drhosini at hotmail.com  Wed May 23 10:36:47 2001
From: drhosini at hotmail.com (Moustafa ElHousinie)
Date: Wed, 23 May 2001 08:36:47 -0000
Subject: No subject
Message-ID: <F55CRGryWtIIZS2TRqf0000340a@hotmail.com>

Dear members
few weeks ago, I posted a request for a routine/program/.. to help me 
drawing a nomogram (3 almost parallel lines, and we can estimate one value 
by connecting two points on the other two lines). Any help will be 
appreciated.
Thanx
Dr MEl Houssinie
_________________________________________________________________________
Get Your Private, Free E-mail from MSN Hotmail at http://www.hotmail.com.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Wed May 23 11:44:33 2001
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Wed, 23 May 2001 21:44:33 +1200
Subject: [R] MASS data sets
In-Reply-To: <200105230446.QAA20248@gosset.stats.waikato.ac.nz>
References: <200105222308.LAA19337@gosset.stats.waikato.ac.nz>
Message-ID: <200105230938.VAA20893@gosset.stats.waikato.ac.nz>

Bad news! The fix that worked on my desktop doesn't work on the laptop.
Everything is now unzipped and still I can't load the MASS datasets.

Murray

At 16:44 23-05-01 , Murray Jorgensen wrote:
>Mmmm, I think I see what the problem is now. Somehow rwinst.exe didn't unzip
>all the directories in the tree under 
>D:\Program Files\rw1022\library\MASS\
>I had later unzipped those files in
>D:\Program Files\rw1022\library\MASS\data
>and some, but not all, of the zip files in other subdirectories.
>
>Finishing the unzipping did the job, at least it did on my other machine.
>
>Sorry for disturbing the list!
>
>At 11:14 AM 23-05-01 +1200, Murray Jorgensen wrote:
>>I'm running R 1.2.2 under windows 98 on a Pentium 133 laptop.
>>I can't seem to retrieve the package MASS data sets:
>>> library(MASS)
>>> data(wtloss)
>>Warning message: 
>>Data set `wtloss' not found in: data(wtloss) 
>>> data(abbey)
>>Warning message: 
>>Data set `abbey' not found in: data(abbey) 
>>
>>And yet all the .rda files for the MASS datasets are in
>>
>>D:\Program Files\rw1022\library\MASS\data
>>
>>Help, anyone?
>>
>>
>>Murray Jorgensen,  Department of Statistics,  U of Waikato, Hamilton, NZ
>>-----[+64-7-838-4773]---------------------------[maj at waikato.ac.nz]-----
>>"Doubt everything or believe everything:these are two equally convenient
>>strategies. With either we dispense with the need to think."
>>http://www.stats.waikato.ac.nz/Staff/maj.html          - Henri Poincare'
>>
>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>.-.-
>>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>Send "info", "help", or "[un]subscribe"
>>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>._._
>>  
>Dr Murray Jorgensen       http://www.stats.waikato.ac.nz/Staff/maj.html 
>Department of Statistics, University of Waikato, Hamilton, New Zealand 
>*Applications Editor, Australian and New Zealand Journal of Statistics* 
>maj at waikato.ac.nz Phone +64-7 838 4773 home phone 856 6705 Fax 838 4155
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 23 11:49:39 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 23 May 2001 10:49:39 +0100 (BST)
Subject: [R] MASS data sets
In-Reply-To: <200105230938.VAA20893@gosset.stats.waikato.ac.nz>
Message-ID: <Pine.LNX.4.31.0105231043590.31252-100000@gannet.stats>

On Wed, 23 May 2001, Murray Jorgensen wrote:

> Bad news! The fix that worked on my desktop doesn't work on the laptop.
> Everything is now unzipped and still I can't load the MASS datasets.

Do you have the current VR build?  Long, long ago (ca January) a rogue
version got onto CRAN and then CRAN failed to mirror the replacement
for a while.

You should *not* be unzipping in MASS\data, and in doing so you have
probably damaged your installation.  I think you need to remove whatever
version of VR you have and install the current version.

MASS\data needs to contain

     4210  04-20-01 15:49   MASS/data/00Index
     1108  04-20-01 15:57   MASS/data/filelist
   160636  04-20-01 15:57   MASS/data/Rdata.zip

Don't touch any of them.

> At 16:44 23-05-01 , Murray Jorgensen wrote:
> >Mmmm, I think I see what the problem is now. Somehow rwinst.exe didn't unzip
> >all the directories in the tree under

*It* knew what it was doing!

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Wed May 23 11:54:51 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Wed, 23 May 2001 11:54:51 +0200
Subject: [R] multidimensional list
Message-ID: <3B0B88EB.A7210350@psy.uni-muenchen.de>

Hi all,

is it possible to create a multidemensional list? Haven't found anything
in the list() help page. 

Thanks, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.C.Rougier at durham.ac.uk  Wed May 23 12:13:58 2001
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Wed, 23 May 2001 11:13:58 +0100 (BST)
Subject: [R] multidimensional list
In-Reply-To: <3B0B88EB.A7210350@psy.uni-muenchen.de>
Message-ID: <Pine.GSO.4.20.0105231103590.1622-100000@laplace>

Hi Sven,

On Wed, 23 May 2001, Sven Garbade wrote:

> is it possible to create a multidemensional list? Haven't found anything
> in the list() help page. 

Yes it is, although there are some slight bugs to be aware of.  If you
have

> fred <- as.list(1:12)

then you can make fred into a dimensioned list simply by doing 

> dim(fred) <- c(3, 4)

and then you can do things like

> fred[[1, 2]] <- list(happy = 1:10, sad = "armadillo")

There are a couple of things that don't work very well.  At version 1.2.1
(a bit out of date but my latest version) you will get a segmentation
fault if you do the incorrect

> fred[[1, ]]

but this has been corrected on later versions.  It is still a bit
difficult to make a dimensioned list by doing

> array(list(happy = 1:10, sad = "armadillo"), c(3, 4))

but that is because rep does not (yet) handle lists *except* simple lists
like

> array(list(happy = 1:10), c(3, 4))

I believe that this is being addressed.  But with ingenuity you can get
around this, for example I have used a construction like

> fred <- array(list(list(happy = 1:10, sad = "armadillo")), c(3, 4))

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed May 23 12:26:54 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 23 May 2001 12:26:54 +0200
Subject: [R] multidimensional list
References: <3B0B88EB.A7210350@psy.uni-muenchen.de>
Message-ID: <3B0B906E.14326CFA@statistik.uni-dortmund.de>



Sven Garbade wrote:
> 
> Hi all,
> 
> is it possible to create a multidemensional list? Haven't found anything
> in the list() help page.

Lists can be elements of lists. 
So it is possible to generate a multidimensional structure by adding
lists as elements to lists, which are elements of a list, ....


Uwe Ligges

BTW: The definition of arrays is multidimensional.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 23 12:31:05 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 23 May 2001 11:31:05 +0100 (BST)
Subject: [R] multidimensional list
In-Reply-To: <Pine.GSO.4.20.0105231103590.1622-100000@laplace>
Message-ID: <Pine.LNX.4.31.0105231129590.1413-100000@gannet.stats>

On Wed, 23 May 2001, Jonathan Rougier wrote:

> Hi Sven,
>
> On Wed, 23 May 2001, Sven Garbade wrote:
>
> > is it possible to create a multidemensional list? Haven't found anything
> > in the list() help page.
>
> Yes it is, although there are some slight bugs to be aware of.  If you
> have
>
> > fred <- as.list(1:12)
>
> then you can make fred into a dimensioned list simply by doing
>
> > dim(fred) <- c(3, 4)
>
> and then you can do things like
>
> > fred[[1, 2]] <- list(happy = 1:10, sad = "armadillo")
>
> There are a couple of things that don't work very well.  At version 1.2.1
> (a bit out of date but my latest version) you will get a segmentation

(Um.  Try upgrading to R-devel.)

> fault if you do the incorrect
>
> > fred[[1, ]]
>
> but this has been corrected on later versions.  It is still a bit
> difficult to make a dimensioned list by doing
>
> > array(list(happy = 1:10, sad = "armadillo"), c(3, 4))
>
> but that is because rep does not (yet) handle lists *except* simple lists
> like
>
> > array(list(happy = 1:10), c(3, 4))
>
> I believe that this is being addressed.  But with ingenuity you can get

Has been addressed: it works in the R-devel version.

> around this, for example I have used a construction like
>
> > fred <- array(list(list(happy = 1:10, sad = "armadillo")), c(3, 4))

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From barg at cs.tu-berlin.de  Wed May 23 12:31:56 2001
From: barg at cs.tu-berlin.de (Martin Barghoorn)
Date: Wed, 23 May 2001 12:31:56 +0200 (MET DST)
Subject: [R] multidimensional list
Message-ID: <200105231031.MAA08181@bernoulli.cs.tu-berlin.de>


>> 
> is it possible to create a multidemensional list? Haven't found anything
> in the list() help page. 
> 
> Thanks, Sven

Lists are always 1-dimensional.
Length is measured by length().
Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed May 23 12:36:58 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 23 May 2001 11:36:58 +0100
Subject: [R] Extracting F and p from aov() - tricksy solution
In-Reply-To: <x21yph8fbh.fsf@blueberry.kubism.ku.dk>
References: <Pine.GSO.4.30.0105191915380.24862-100000@taurus.oac.uci.edu>
 <Z0Gu1HAEyoC7EwEA@myatt.demon.co.uk> <x21yph8fbh.fsf@blueberry.kubism.ku.dk>
Message-ID: <hFFwJDAKL5C7Ewwm@myatt.demon.co.uk>


Peter,

To this clumsy effort:

>> data(warpbreaks)
>> LZ.aov <- summary(aov(breaks ~ wool + tension, data = warpbreaks))
>> LZ.aov.fp <- cbind(LZ.aov[[1]]$"F value", LZ.aov[[1]]$"Pr(>F)")
>> colnames(LZ.aov.fp) <- c("F", "p")
>> 
>> All we need now is to get the right row-names. I suppose that will
>> require a function that will extract the variable names from the
>> formula.

You added:

>Ummm,
>
>> as.matrix(LZ.aov[[1]][4:5])
>             F value      Pr(>F)
>wool        3.339316 0.073613669
>tension     7.536651 0.001377778
>Residuals         NA          NA
>
>(or as.data.frame(), or just use LZ.aov[[1]][4:5] and ignore the
>significance stars...)

Yes, that is much better. Thanks.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 23 12:46:36 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 23 May 2001 11:46:36 +0100 (BST)
Subject: [R] multidimensional list
In-Reply-To: <200105231031.MAA08181@bernoulli.cs.tu-berlin.de>
Message-ID: <Pine.LNX.4.31.0105231144060.1413-100000@gannet.stats>

On Wed, 23 May 2001, Martin Barghoorn wrote:

>
> >>
> > is it possible to create a multidemensional list? Haven't found anything
> > in the list() help page.
>
> Lists are always 1-dimensional.
> Length is measured by length().

lists are (generic) vectors, and can be given a dimension and used as
arrays just like any other vector in S.

It does help to think of a list as a vector, whose components can be
of any (well almost any) R type.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ko-kang at xtra.co.nz  Wed May 23 12:56:43 2001
From: ko-kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Wed, 23 May 2001 10:56:43 +0000
Subject: [R] Matrix manipulation
Message-ID: <20010523105507.IDLB681.mta2-rme.xtra.co.nz@[192.168.2.9]>

Hi,

Suppose I have a matrix with, say 12 columns.

I would like to extract out column 2 ~ 8 and 11 ~ 12 then combine them together.

I tried with success to extract out the columns by doing:
 foo <- test[,2:8]
 goo <- test[,11:12]

However then I am having trouble combining foo and goo.

Helps are appreciated!

Cheers,

Kevin

-----------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Wed May 23 13:24:03 2001
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Wed, 23 May 2001 12:24:03 +0100 (BST)
Subject: [R] Matrix manipulation
In-Reply-To: <20010523105507.IDLB681.mta2-rme.xtra.co.nz@[192.168.2.9]>
Message-ID: <XFMail.010523122403.theis@statistik.uni-dortmund.de>

Hi!
On 23-May-01 Ko-Kang Kevin Wang wrote:
> Hi,
> 
> Suppose I have a matrix with, say 12 columns.
> 
> I would like to extract out column 2 ~ 8 and 11 ~ 12 then combine them
> together.
> 
> I tried with success to extract out the columns by doing:
>  foo <- test[,2:8]
>  goo <- test[,11:12]
> 
Hmm, how about 

foo <- test[,c(2:8,11:12)]

this gives you a matrix including columns 2-8 and 11,12.

Cheers, 

Winfried

----------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 23-May-01
Time: 12:21:32
Dipl.-Math. Winfried Theis, Fachbereich Statistik, Graduiertenkolleg
"Angewandte Statistik"
Universitt Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903  FAX: +49-231-755-4387
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eger.m at gmx.de  Wed May 23 13:28:43 2001
From: eger.m at gmx.de (Marcus Eger)
Date: Wed, 23 May 2001 13:28:43 +0200
Subject: [R] POLYGON: fill pattern instead of colors?
Message-ID: <3B0B9EEB.E2C6BAFC@gmx.de>

Hello all,
I'm using R1.2.2 and wonder whether there is already
a new (unofficial) version that supports fill patterns
for polygon().
thanks
  M.E.
-- 
+-------------------------------------------------------
| Marcus Eger
+-------- ><> -------------------------------------------
| E-Mail: eger.m at gmx.de (NEW)
|         marcus.eger at physik.uni-marburg.de (OLD)
| WWW:    http://neuro.physik.uni-marburg.de/~eger (NEW)
+--------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arnholt at math.appstate.edu  Wed May 23 13:32:34 2001
From: arnholt at math.appstate.edu (Alan T. Arnholt)
Date: Wed, 23 May 2001 07:32:34 -0400 (EDT)
Subject: [R] Matrix manipulation
In-Reply-To: <20010523105507.IDLB681.mta2-rme.xtra.co.nz@[192.168.2.9]>
Message-ID: <SIMEON.10105230734.A@arnholtat.math.appstate.edu>

Kevin,

Try something with cbind like
> foo <- trash[,2:8]
> goo <- trash[,11:12]
> foogoo <- cbind(foo,goo)
> foogoo

Alan

On Wed, 23 May 2001 10:56:43 +0000 Ko-Kang Kevin Wang 
<ko-kang at xtra.co.nz> wrote:

> Hi,
> 
> Suppose I have a matrix with, say 12 columns.
> 
> I would like to extract out column 2 ~ 8 and 11 ~ 12 then combine them together.
> 
> I tried with success to extract out the columns by doing:
>  foo <- test[,2:8]
>  goo <- test[,11:12]
> 
> However then I am having trouble combining foo and goo.
> 
> Helps are appreciated!
> 
> Cheers,
> 
> Kevin
> 
> -----------------------------------
> Ko-Kang Kevin Wang
> Statistical Analysis Division Leader
> Software Developers' Klub (SDK)
> University of Auckland
> New Zealand
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

----------------------
Alan T. Arnholt
Associate Professor
Department of Mathematical Sciences
Appalachian State University
Boone, NC 28608

http ://www1.appstate.edu/~arnholta/
TEL: 828-262-2863
FAX: 828-265-8617

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Wed May 23 13:30:10 2001
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed, 23 May 2001 13:30:10 +0200 (CEST)
Subject: [R] Matrix manipulation
In-Reply-To: <20010523105507.IDLB681.mta2-rme.xtra.co.nz@[192.168.2.9]>
Message-ID: <Pine.LNX.4.21.0105231328470.22593-100000@reclus.nhh.no>

On Wed, 23 May 2001, Ko-Kang Kevin Wang wrote:

> Suppose I have a matrix with, say 12 columns.
> 
> I would like to extract out column 2 ~ 8 and 11 ~ 12 then combine them together.
> 
> I tried with success to extract out the columns by doing:
>  foo <- test[,2:8]
>  goo <- test[,11:12]
> 

> foogoo <- cbind(foo, goo)

or:

> foogoo1 <- test[,c(2:8, 11:12)]

maybe?

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mirko.luedde at cellcontrol.de  Wed May 23 14:38:35 2001
From: mirko.luedde at cellcontrol.de (=?ISO-8859-1?Q?L=FCdde_Mirko?=)
Date: Wed, 23 May 2001 14:38:35 +0200
Subject: [R] help: exponential fit? 
Message-ID: <7BF41FD66BAFD311B45E0050DA7C9BE30632E3@CELLCON01>

Hi there, 

I'm quite new to R (and statistics), 
and I like it (both)! 
But I'm a bit lost in all these packages, 
so could someone please give me a hint 
whether there exists a package for fitting 
exponential curves (of the type 
t --> \sum_i a_i \exp( - b_i t)) 
on a noisy signal?
In fact monoexponential decay + polynomial growth
is what I'd like to try.  

Thanks in advance, Mirko. 
--
Dr. M. Luedde <Mirko.Luedde at CellControl.De>
CellControl Biomedical Laboratories AG
Am Klopferspitz 19, 82152 Martinsried
+49-89-895275-0 +49-179-5252064
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fzoellne at TechFak.Uni-Bielefeld.DE  Wed May 23 14:46:13 2001
From: fzoellne at TechFak.Uni-Bielefeld.DE (Frank Gerrit Zoellner)
Date: Wed, 23 May 2001 14:46:13 +0200
Subject: [R] reading PID 
Message-ID: <20010523144613.A9281@valpolicella.TechFak.Uni-Bielefeld.DE>

Hi!

How can I read the process id of my actual R session?

Thanks 
-- 
Frank Gerrit Zoellner


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed May 23 14:51:00 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 23 May 2001 07:51:00 -0500
Subject: [R] help: exponential fit?
In-Reply-To: <7BF41FD66BAFD311B45E0050DA7C9BE30632E3@CELLCON01>
References: <7BF41FD66BAFD311B45E0050DA7C9BE30632E3@CELLCON01>
Message-ID: <6rr8xgp6tn.fsf@franz.stat.wisc.edu>

L?dde Mirko <mirko.luedde at cellcontrol.de> writes:

> I'm quite new to R (and statistics), 
> and I like it (both)! 
> But I'm a bit lost in all these packages, 
> so could someone please give me a hint 
> whether there exists a package for fitting 
> exponential curves (of the type 
> t --> \sum_i a_i \exp( - b_i t)) 
> on a noisy signal?
> In fact monoexponential decay + polynomial growth
> is what I'd like to try.  

See the example for the biexponential model, SSbiexp, in the nls
package for a start.

> example(SSbiexp, package = "nls")

SSbixp> data(Indometh)

SSbixp> Indo.1 <- Indometh[Indometh$Subject == 1, ]

SSbixp> fm1 <- nls(conc ~ SSbiexp(time, A1, lrc1, A2, lrc2), 
    data = Indo.1)

SSbixp> summary(fm1)

Formula: conc ~ SSbiexp(time, A1, lrc1, A2, lrc2)

Parameters:
     Estimate Std. Error t value Pr(>|t|)    
A1     2.0293     0.1099  18.464 3.39e-07 ***
lrc1   0.5794     0.1247   4.648  0.00235 ** 
A2     0.1915     0.1106   1.731  0.12698    
lrc2  -1.7878     0.7871  -2.271  0.05737 .  
---
Signif. codes:  0  `***'  0.001  `**'  0.01  `*'  0.05  `.'  0.1  ` '  1 

Residual standard error: 0.04103 on 7 degrees of freedom

Correlation of Parameter Estimates:
            A1   lrc1    A2
lrc1  0.002546             
A2   -0.424384 0.8771      
lrc2 -0.455538 0.7708 0.939
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 23 14:58:47 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 23 May 2001 13:58:47 +0100 (BST)
Subject: [R] reading PID 
In-Reply-To: <20010523144613.A9281@valpolicella.TechFak.Uni-Bielefeld.DE>
Message-ID: <Pine.LNX.4.31.0105231352180.1197-100000@gannet.stats>

On Wed, 23 May 2001, Frank Gerrit Zoellner wrote:

> How can I read the process id of my actual R session?

That's an OS-specific question, isn't it?  Let me guess, Linux.  There is
no specific way to get the pid within an R process (what could you do
with it?), but you can trivially dyn.load some code to tell you via a call
to getpid.

Of course adding a Sys.getpid() function would be easy, but what use would
it be?  Also, what type is pid_t to map to in R?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kari.ruohonen at saunalahti.fi  Wed May 23 15:12:13 2001
From: kari.ruohonen at saunalahti.fi (Kari Ruohonen)
Date: Wed, 23 May 2001 16:12:13 +0300 (EEST)
Subject: [R] Cook-Weisberg confidence curves
In-Reply-To: <SIMEON.10105230734.A@arnholtat.math.appstate.edu>
Message-ID: <Pine.LNX.4.21.0105231609550.792-100000@localhost>

Is there an existing function to compute Cook-Weisberg confidence curves
for non-linear model parameters in R?

Kari Ruohonen


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjb at di.fct.unl.pt  Wed May 23 15:14:45 2001
From: cjb at di.fct.unl.pt (cjb)
Date: Wed, 23 May 2001 14:14:45 +0100
Subject: [R] HELP
Message-ID: <3B0BB7C5.4309C96@di.fct.unl.pt>

URGENT!!!!!!!!!!!
I am a MBA student and in my work I need to get DAILY returns on the
SP500 index from Jan 1962 to Dec 1993.
Would you kindly inform me how can I get it and how much would it cost
me?

Thank You
CJoseBento
Universidade Nova de Lisboa
Portugal



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Wed May 23 15:47:47 2001
From: znmeb at aracnet.com (M. Edward Borasky)
Date: Wed, 23 May 2001 06:47:47 -0700
Subject: [R] reading PID 
In-Reply-To: <Pine.LNX.4.31.0105231352180.1197-100000@gannet.stats>
Message-ID: <HBEHIIBBKKNOBLMPKCBBIEAIDGAA.znmeb@aracnet.com>

The classical use for one's own PID is generating a unique temporary file
name.

--
M. Edward (Ed) Borasky, Chief Scientist, Borasky Research
http://www.borasky-research.net  http://www.aracnet.com/~znmeb
mailto:znmeb at borasky-research.com  mailto:znmeb at aracnet.com

If there's nothing to astrology, how come so many famous men were born on
holidays?

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Prof Brian Ripley
> Sent: Wednesday, May 23, 2001 5:59 AM
> To: Frank Gerrit Zoellner
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] reading PID
>
>
> On Wed, 23 May 2001, Frank Gerrit Zoellner wrote:
>
> > How can I read the process id of my actual R session?
>
> That's an OS-specific question, isn't it?  Let me guess, Linux.  There is
> no specific way to get the pid within an R process (what could you do
> with it?), but you can trivially dyn.load some code to tell you via a call
> to getpid.
>
> Of course adding a Sys.getpid() function would be easy, but what use would
> it be?  Also, what type is pid_t to map to in R?
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Wed May 23 16:11:32 2001
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 23 May 2001 16:11:32 +0200
Subject: [R] reading PID
In-Reply-To: <HBEHIIBBKKNOBLMPKCBBIEAIDGAA.znmeb@aracnet.com>; from znmeb@aracnet.com on Wed, May 23, 2001 at 06:47:47AM -0700
References: <Pine.LNX.4.31.0105231352180.1197-100000@gannet.stats> <HBEHIIBBKKNOBLMPKCBBIEAIDGAA.znmeb@aracnet.com>
Message-ID: <20010523161132.A24489@sirio.stat.unipd.it>

On Wed, May 23, 2001 at 06:47:47AM -0700, M. Edward Borasky wrote:
> The classical use for one's own PID is generating a unique temporary file
> name.
> 

  You can use 'tempfile()' for this (main advantage: it is portable
  to non Unix platform).
  Anyway, if you really want the R's PID, the following one line
  command work for me under Linux (Debian 2.2 to be exact)
  > PID<-as.numeric(system("ps|grep R.bin|sed \"s/ .*//\"",intern=TRUE))     
  > PID
  [1] 24455
  > 

  guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Wed May 23 16:13:16 2001
From: znmeb at aracnet.com (M. Edward Borasky)
Date: Wed, 23 May 2001 07:13:16 -0700
Subject: [R] Testing R with pre-release GCC 3.0
In-Reply-To: <Pine.LNX.4.31.0105231352180.1197-100000@gannet.stats>
Message-ID: <HBEHIIBBKKNOBLMPKCBBMEAJDGAA.znmeb@aracnet.com>

I'm in the process of doing some volunteer testing of the pre-release
snapshots of GCC 3.0. I don't have much time to do anything except test the
things I regularly use and throw any gotchas I find over the wall to the
respective teams. One of the "things I regularly use" is, of course, R, and
I have just determined that the R-devel snapshot (downloaded yesterday, 22
May 2001 about 22:00 Pacific Time) does not pass "make check" with the GCC
3.0 20010521 snapshot. The same R-devel code *does* pass "make check" with
the stock Red Hat 7.1 compilers, which are gcc 2.96.81. Is there any
documentation on "make check" that I can use to help narrow this down for
the GCC folks, or do I just have to read the code and figure out what's
happening for myself?
--
M. Edward (Ed) Borasky, Chief Scientist, Borasky Research
http://www.borasky-research.net  http://www.aracnet.com/~znmeb
mailto:znmeb at borasky-research.com  mailto:znmeb at aracnet.com

If there's nothing to astrology, how come so many famous men were born on
holidays?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Wed May 23 16:19:52 2001
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Wed, 23 May 2001 16:19:52 +0200
Subject: [R] image with R
Message-ID: <3B0BC708.B5B7B973@inrialpes.fr>

Hi all,

i would like to analyze some images with R.
For example, i have a tif image (16 bit=2^16 values) that i convert in
ascii file (8 bit =256 values only)
so it is easy to work under R with image() function.
But, i would like to  keep my image with 2^16 values...
how can i do to load my tif image in my workspace?
Do you know if there is a package for analysis image ?
Thanks
Olivier

--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN               phone: (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42
INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                  e-mail:olivier.martin at inrialpes.fr
38334 Saint Ismier cedex
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010523/20522bc5/attachment.html

From ripley at stats.ox.ac.uk  Wed May 23 16:34:16 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 23 May 2001 15:34:16 +0100 (GMT Daylight Time)
Subject: [R] image with R
In-Reply-To: <3B0BC708.B5B7B973@inrialpes.fr>
Message-ID: <Pine.WNT.4.31.0105231530420.260-100000@tern.stats>

On Wed, 23 May 2001, Olivier Martin wrote:

> Hi all,
>
> i would like to analyze some images with R.
> For example, i have a tif image (16 bit=2^16 values) that i convert in
> ascii file (8 bit =256 values only)
> so it is easy to work under R with image() function.
> But, i would like to  keep my image with 2^16 values...
> how can i do to load my tif image in my workspace?
> Do you know if there is a package for analysis image ?

Indeed there is: AnalyzeIO.  But `tif' is so ill defined that you would
need to convert to a more standard format (via ImageMagick, netpbm)
and read it with Rstreams or the binary connections functions.

Since the smallest R type is 32 bits (signed) there is no problem using
16 bits, and we do it all the time.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gpetris at definetti.uark.edu  Wed May 23 16:46:54 2001
From: gpetris at definetti.uark.edu (Giovanni Petris)
Date: Wed, 23 May 2001 09:46:54 -0500 (CDT)
Subject: [R] HELP
In-Reply-To: <3B0BB7C5.4309C96@di.fct.unl.pt> (message from cjb on Wed, 23 May
	2001 14:14:45 +0100)
References: <3B0BB7C5.4309C96@di.fct.unl.pt>
Message-ID: <200105231446.JAA24015@definetti.uark.edu>



See the function get.hist.quote in package tseries.

Giovanni




> Date: Wed, 23 May 2001 14:14:45 +0100
> From: cjb <cjb at di.fct.unl.pt>
> 
> URGENT!!!!!!!!!!!
> I am a MBA student and in my work I need to get DAILY returns on the
> SP500 index from Jan 1962 to Dec 1993.
> Would you kindly inform me how can I get it and how much would it cost
> me?
> 
> Thank You
> CJoseBento
> Universidade Nova de Lisboa
> Portugal
> 

-- 

 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (501) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From B.Rowlingson at lancaster.ac.uk  Wed May 23 15:44:52 2001
From: B.Rowlingson at lancaster.ac.uk (B.Rowlingson@lancaster.ac.uk)
Date: Wed, 23 May 2001 14:44:52 +0100
Subject: [R] reading PID
References: <Pine.LNX.4.31.0105231352180.1197-100000@gannet.stats>
Message-ID: <3B0BBED4.3027238@lancs.ac.uk>

Prof Brian Ripley wrote:

> That's an OS-specific question, isn't it?  Let me guess, Linux.  There is
> no specific way to get the pid within an R process (what could you do
> with it?), but you can trivially dyn.load some code to tell you via a call
> to getpid.

 On most modern Linux machines you could read in /proc/self/status and
get the
'Pid:' entry. Lots of other useful stuff in there too. I haven't quite
figured
out how to read in the various bits neatly because of all the tab
characters
floating around. 

 And a warning - /proc/ stuff is really meant for human eyes and not for
machines
to parse and obtain info from. That's what system calls are for. The
/proc format
is liable to change. 

 Or you can get it by using system() to run a command and then the $PPID
env
var to get the parent pid:

pid <- system("echo $PPID",intern=T)

> Of course adding a Sys.getpid() function would be easy, but what use would
> it be? 

 Several running R processes could write their output to unique files
labelled
by pid perhaps? Would be more meaningful names than the output of
tempfile()...

Barry

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mirko.luedde at cellcontrol.de  Wed May 23 17:17:38 2001
From: mirko.luedde at cellcontrol.de (=?ISO-8859-1?Q?L=FCdde_Mirko?=)
Date: Wed, 23 May 2001 17:17:38 +0200
Subject: [R] help: exponential fit?
Message-ID: <7BF41FD66BAFD311B45E0050DA7C9BE30632E7@CELLCON01>

Thanks!

I get the impression that, since in SSbiexp 
the exponential constants are provided via their logarithms, 
both constants are assumed negative, 
i.e. the exponentials are decaying? 

Is it possible to have a linear combination of a 
decaying and a growing exponential? 

Cheers, Mirko. 


> -----Urspr?ngliche Nachricht-----
> Von: Douglas Bates [mailto:bates at stat.wisc.edu]
> Gesendet: Mittwoch, 23. Mai 2001 14:51
> An: L?dde Mirko
> Cc: 'r-help at stat.math.ethz.ch'; Ralph Schwarzwald (E-Mail)
> Betreff: Re: [R] help: exponential fit?
> 
> 
> L?dde Mirko <mirko.luedde at cellcontrol.de> writes:
> 
> > I'm quite new to R (and statistics), 
> > and I like it (both)! 
> > But I'm a bit lost in all these packages, 
> > so could someone please give me a hint 
> > whether there exists a package for fitting 
> > exponential curves (of the type 
> > t --> \sum_i a_i \exp( - b_i t)) 
> > on a noisy signal?
> > In fact monoexponential decay + polynomial growth
> > is what I'd like to try.  
> 
> See the example for the biexponential model, SSbiexp, in the nls
> package for a start.
> 
> > example(SSbiexp, package = "nls")
> 
> SSbixp> data(Indometh)
> 
> SSbixp> Indo.1 <- Indometh[Indometh$Subject == 1, ]
> 
> SSbixp> fm1 <- nls(conc ~ SSbiexp(time, A1, lrc1, A2, lrc2), 
>     data = Indo.1)
> 
> SSbixp> summary(fm1)
> 
> Formula: conc ~ SSbiexp(time, A1, lrc1, A2, lrc2)
> 
> Parameters:
>      Estimate Std. Error t value Pr(>|t|)    
> A1     2.0293     0.1099  18.464 3.39e-07 ***
> lrc1   0.5794     0.1247   4.648  0.00235 ** 
> A2     0.1915     0.1106   1.731  0.12698    
> lrc2  -1.7878     0.7871  -2.271  0.05737 .  
> ---
> Signif. codes:  0  `***'  0.001  `**'  0.01  `*'  0.05  `.'  
> 0.1  ` '  1 
> 
> Residual standard error: 0.04103 on 7 degrees of freedom
> 
> Correlation of Parameter Estimates:
>             A1   lrc1    A2
> lrc1  0.002546             
> A2   -0.424384 0.8771      
> lrc2 -0.455538 0.7708 0.939
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed May 23 17:20:53 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 23 May 2001 08:20:53 -0700 (PDT)
Subject: [R] Testing R with pre-release GCC 3.0
In-Reply-To: <HBEHIIBBKKNOBLMPKCBBMEAJDGAA.znmeb@aracnet.com>
Message-ID: <Pine.A41.4.33.0105230806450.154340-100000@homer05.u.washington.edu>

On Wed, 23 May 2001, M. Edward Borasky wrote:

> I'm in the process of doing some volunteer testing of the pre-release
> snapshots of GCC 3.0. I don't have much time to do anything except test the
> things I regularly use and throw any gotchas I find over the wall to the
> respective teams. One of the "things I regularly use" is, of course, R, and
> I have just determined that the R-devel snapshot (downloaded yesterday, 22
> May 2001 about 22:00 Pacific Time) does not pass "make check" with the GCC
> 3.0 20010521 snapshot. The same R-devel code *does* pass "make check" with
> the stock Red Hat 7.1 compilers, which are gcc 2.96.81. Is there any
> documentation on "make check" that I can use to help narrow this down for
> the GCC folks, or do I just have to read the code and figure out what's
> happening for myself?

make check does a number of things. It runs all the examples in all the
standard packages and then runs a set of specific tests.  When it fails
you should be able to see what it is doing, since it produces a running
commentary on stdout.  Each stage of the process reads a .R file and
produces a .Rout file in either R/tests or R/tests/Examples. The Examples
checking fails if it hits any error, the other tests fail if their output
is different from the correct output in the corresponding .Rout.save file.

In the case of a difference between .Rout and .Rout.save you can look at
the diff to see where the problem is.  In the case of an error in examples
the last entry in the .Rout file will be at or immediately before the
error (buffers may not get flushed).  The error can be pinned down more
precisely with eg

	R --vanilla < base-Ex.Rout

writing to console rather than to a buffer, if you can't tell which
example it's in.

If the error is not reproducible from that example it may be a memory
protection problem earlier in the file (and thus probably our fault, not
gcc's).  Running the file with gctorture()  on may provoke the error to
occur earlier and more dramatically.

In addition to make check, it would be useful to run

	make test-Random

This checks that the random number generators agree with the CDFs in a
number of examples, and might catch strange numerical precision or
over-optimisation problems.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Heberto at meakins.lan.mcgill.ca  Wed May 23 17:37:53 2001
From: Heberto at meakins.lan.mcgill.ca (Heberto Ghezzo)
Date: Wed, 23 May 2001 11:37:53 -0400
Subject: [R] grid
Message-ID: <200105231537.f4NFbnS14530@water.cc.mcgill.ca>

Hello
I am working on Win98 with R 1.2.3 and gcc 295 mingw32msvc.
I try to compile grid_0.1.tar.gz with the command

rw1023\bin\Rcmd INSTALL --library=./r_src/library 
./r_src/src/cran/grid_0.1.tar.gz

from a dos window. It compiled everything but then:
. . . . . .
ranlib grid.a
PERL5LIB=C:/R/RW1023/share/perl perl 
C:/R/RW1023/src/gnuwin32/makeDllRes.pl grid
 > grid_res.rc
windres --include-dir C:/R/RW1023/src/include -i grid_res.rc -o 
grid_res.o

and everything stop and the screen became blank (blue) with the 
message

Exception 0E has occurred at 0028:CA2A49D0 in VxD IFSMGR(04)
this was called from ... VxD VMM(01)

I tried with a simpler program cclust_0.6-6.tar.gz and the same 
error happened.
The winres.exe in my set has a length of 270.336 bytes. Is there 
another version of winres.exe ? or any idea what is wrong?
Thanks.

R. Heberto Ghezzo  Ph.D.
Meakins-Christie Labs
McGill University
Montreal - Canada
heberto at meakins.lan.mcgill.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Wed May 23 17:48:34 2001
From: macq at llnl.gov (Don MacQueen)
Date: Wed, 23 May 2001 08:48:34 -0700
Subject: [R] R on Mac OS X: success
Message-ID: <p05001900b73183bfc687@[128.115.153.6]>

I've now succeeded in building R 1.2.3 on a Macintosh running OS 10.0.3.
If anyone wants any details, please let me know.

That I tried at all is due to the fact that someone put some info 
about it in the INSTALL document. That in turn means that someone had 
already been working on it. Thank you very much!

-Don

-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May 23 17:58:35 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 May 2001 17:58:35 +0200
Subject: [R] Testing R with pre-release GCC 3.0
In-Reply-To: Thomas Lumley's message of "Wed, 23 May 2001 08:20:53 -0700 (PDT)"
References: <Pine.A41.4.33.0105230806450.154340-100000@homer05.u.washington.edu>
Message-ID: <x2n184rr9w.fsf@blueberry.kubism.ku.dk>

Thomas Lumley <tlumley at u.washington.edu> writes:


> In the case of a difference between .Rout and .Rout.save you can look at
> the diff to see where the problem is.  In the case of an error in examples
> the last entry in the .Rout file will be at or immediately before the
> error (buffers may not get flushed).  The error can be pinned down more
> precisely with eg
> 
> 	R --vanilla < base-Ex.Rout
> 
> writing to console rather than to a buffer, if you can't tell which
> example it's in.

Um, you mean base-Ex.R, I think ;^) Besides, it is generally useful to
make sure that the freshly built version of R is getting used, i.e.

[from the tests/Examples subdirectory]

../../bin/R --vanilla < base-Ex.R


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From drhosini at hotmail.com  Wed May 23 17:59:48 2001
From: drhosini at hotmail.com (Moustafa ElHousinie)
Date: Wed, 23 May 2001 15:59:48 -0000
Subject: No subject
Message-ID: <F90DE3yiMTDTZaeOR3t0000289f@hotmail.com>

An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010523/04baaa29/attachment.html
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010523/04baaa29/DrawaNomogram.htm

From Marlene.Mueller at gmx.de  Wed May 23 19:10:17 2001
From: Marlene.Mueller at gmx.de (Marlene Mueller)
Date: Wed, 23 May 2001 19:10:17 +0200
Subject: [R] problem with matrix multiplication
Message-ID: <3B0BEEF9.E1EF5D2C@gmx.de>


Hi, I look for a solution to the following problem:

I have a (n x p) matrix X and a (p x 1) vector Y which
are to be multiplied such the result is the (n x p) matrix

  Z = ( X[,1]*Y[1] .... X[,p]*Y[p] )

Up to now I found that  sweep(X,2,Y,"*")  is (almost) what 
I want, but only for p>1.

Is there another elegant way to do this by matrix 
operations -- including the case p=1?

-- 
Marlene Mueller 
http://www.uni-bayreuth.de/departments/math/org/mathe7/Mueller.html
http://ise.wiwi.hu-berlin.de/~marlene
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 23 19:07:18 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 23 May 2001 18:07:18 +0100 (GMT Daylight Time)
Subject: [R] reading PID
In-Reply-To: <3B0BBED4.3027238@lancs.ac.uk>
Message-ID: <Pine.WNT.4.31.0105231805450.216-100000@tern.stats>

On Wed, 23 May 2001 B.Rowlingson at lancaster.ac.uk wrote:

> Prof Brian Ripley wrote:
>
> > That's an OS-specific question, isn't it?  Let me guess, Linux.  There is
> > no specific way to get the pid within an R process (what could you do
> > with it?), but you can trivially dyn.load some code to tell you via a call
> > to getpid.

Let me point out that all of the below is at least as complicated as the
above.

>  On most modern Linux machines you could read in /proc/self/status and
> get the
> 'Pid:' entry. Lots of other useful stuff in there too. I haven't quite
> figured
> out how to read in the various bits neatly because of all the tab
> characters
> floating around.
>
>  And a warning - /proc/ stuff is really meant for human eyes and not for
> machines
> to parse and obtain info from. That's what system calls are for. The
> /proc format
> is liable to change.
>
>  Or you can get it by using system() to run a command and then the $PPID
> env
> var to get the parent pid:
>
> pid <- system("echo $PPID",intern=T)
>
> > Of course adding a Sys.getpid() function would be easy, but what use would
> > it be?
>
>  Several running R processes could write their output to unique files
> labelled
> by pid perhaps? Would be more meaningful names than the output of
> tempfile()...

???  R's tempfile can produce perfectly meaningful names.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 23 19:15:07 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 23 May 2001 18:15:07 +0100 (GMT Daylight Time)
Subject: reading the instructions (was [R] grid)
In-Reply-To: <200105231537.f4NFbnS14530@water.cc.mcgill.ca>
Message-ID: <Pine.WNT.4.31.0105231810340.216-100000@tern.stats>

Did you read _all_ the instructions?  Search for windres in
src/gnuwin32/INSTALL and you may locate _your_ problem.

Meanwhile, pre-compiled versions are on CRAN.

On Wed, 23 May 2001, Heberto Ghezzo wrote:

> Hello
> I am working on Win98 with R 1.2.3 and gcc 295 mingw32msvc.
> I try to compile grid_0.1.tar.gz with the command
>
> rw1023\bin\Rcmd INSTALL --library=./r_src/library
> ./r_src/src/cran/grid_0.1.tar.gz
>
> from a dos window. It compiled everything but then:
> . . . . . .
> ranlib grid.a
> PERL5LIB=C:/R/RW1023/share/perl perl
> C:/R/RW1023/src/gnuwin32/makeDllRes.pl grid
>  > grid_res.rc
> windres --include-dir C:/R/RW1023/src/include -i grid_res.rc -o
> grid_res.o
>
> and everything stop and the screen became blank (blue) with the
> message
>
> Exception 0E has occurred at 0028:CA2A49D0 in VxD IFSMGR(04)
> this was called from ... VxD VMM(01)
>
> I tried with a simpler program cclust_0.6-6.tar.gz and the same
> error happened.
> The winres.exe in my set has a length of 270.336 bytes. Is there
> another version of winres.exe ? or any idea what is wrong?
> Thanks.
>
> R. Heberto Ghezzo  Ph.D.
> Meakins-Christie Labs
> McGill University
> Montreal - Canada
> heberto at meakins.lan.mcgill.ca
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From B.Rowlingson at lancaster.ac.uk  Wed May 23 19:36:30 2001
From: B.Rowlingson at lancaster.ac.uk (B.Rowlingson@lancaster.ac.uk)
Date: Wed, 23 May 2001 18:36:30 +0100
Subject: [R] reading PID
References: <Pine.WNT.4.31.0105231805450.216-100000@tern.stats>
Message-ID: <3B0BF51E.ABE56231@lancs.ac.uk>

Prof Brian D Ripley wrote:

> Let me point out that all of the below is at least as complicated as the
> above.
> 
Okay, but:

 pid <- system("echo $PPID",intern=T)

 isn't. Relies on bash though.

> ???  R's tempfile can produce perfectly meaningful names.


> tempfile("job-output.")
[1] "/tmp/job-output.R10e1S79e2a9e3"

 not terrifically meaningful. The application I had in mind (and I dont
think we know what the original poster's application was!) was running
several R jobs in the background producing several output files. You 
could go to the effort of generating sequence numbers for each job and
encoding that in the tempfile() name, or you could get the PID and throw
that into tempfile(). Then if you decide from looking at the output
files
that one of the jobs need killing, you get the PID for free from the
file
name. Less chance of killing off that 10 million iteration MCMC that's
been
running all month...
 
> tempfile(paste("job.pid-",pid,"-.",sep=''))
[1] "/tmp/job.pid-4321-.R10e1S5bd062c2"

 Other uses for a process to get its pid include writing it to a
pid-file,
such as that written by the apache web server, so a user can get the pid
without recourse to ps, for the purpose of sending signals to the
process.
Not sure if R lets you install a signal handler though!

Barry
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Wed May 23 20:06:00 2001
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Wed, 23 May 2001 14:06:00 -0400
Subject: [R] problem with matrix multiplication
Message-ID: <7FE8E243B4BCD411A69E00508B5C7C1B01FED82E@uswpmx13.merck.com>

You could do rep(Y,rep(n,p))*X. The outer "rep" expands Y by replacing each
entry with a number of copies determined by the corresponding entry in the
second argument. Here the second argument is rep(n,p) so the number of
copies is always n.

Reid Huntsinger


-----Original Message-----
From: Marlene Mueller [mailto:Marlene.Mueller at gmx.de]
Sent: Wednesday, May 23, 2001 1:10 PM
To: r-help at stat.math.ethz.ch
Subject: [R] problem with matrix multiplication



Hi, I look for a solution to the following problem:

I have a (n x p) matrix X and a (p x 1) vector Y which
are to be multiplied such the result is the (n x p) matrix

  Z = ( X[,1]*Y[1] .... X[,p]*Y[p] )

Up to now I found that  sweep(X,2,Y,"*")  is (almost) what 
I want, but only for p>1.

Is there another elegant way to do this by matrix 
operations -- including the case p=1?

-- 
Marlene Mueller 
http://www.uni-bayreuth.de/departments/math/org/mathe7/Mueller.html
http://ise.wiwi.hu-berlin.de/~marlene
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eger.m at gmx.de  Wed May 23 21:25:07 2001
From: eger.m at gmx.de (Marcus Eger)
Date: Wed, 23 May 2001 21:25:07 +0200
Subject: [R] POLYGON: fill pattern instead of colors?
References: <3B0B9EEB.E2C6BAFC@gmx.de> <15115.44537.855996.282564@gargle.gargle.HOWL>
Message-ID: <3B0C0E93.4F30E16A@gmx.de>

Thanks, Martin Maechler for your rapid answer to my question....

Martin Maechler wrote:
>  
>  No, I think there's still no code around for R to do polygon filling.  One
>  of the reasons for this is that many of us don't really see the need for
>  it. In places where you can't use real color, the polygons filled with
>  gray colors -- or even just the ones produced on b/w printers from the color
>  postscript -- have been looking good enough (well, in my limited
>  examples).
> 

-- 
+-------------------------------------------------------
| Marcus Eger
| Philipps Universitaet Marburg
| Fachbereich Physik AG Neurophysik
| Renthof 7
| 35032 Marburg
| Tel. ++49 +6421 282-4169
| Fax  ++49 +6421 282-7034
+-------- ><> -------------------------------------------
| E-Mail: eger.m at gmx.de (NEW)
|         marcus.eger at physik.uni-marburg.de (OLD)
| WWW:    http://neuro.physik.uni-marburg.de/~eger (NEW)
+--------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Wed May 23 21:37:18 2001
From: fharrell at virginia.edu (fharrell@virginia.edu)
Date: Wed, 23 May 2001 15:37:18 -0400
Subject: [R] Hmisc and Design library progress note
References: <F90DE3yiMTDTZaeOR3t0000289f@hotmail.com>
Message-ID: <3B0C116E.B4115FFB@virginia.edu>

Moustafa ElHousinie wrote:
> 
> Dear listers
> In my search for a routine for the nomogram, I found an splus routine
> to do the job (I amnot sure about the version). The htm file is
> included.  Any help for translating this into R??
> Thanks
> Dr M El Houssinie
> 
> ----------------------------------------------------------------------
> Get Your Private, Free E-mail from MSN Hotmail at
> http://www.hotmail.com.
> 
>                           Name: Draw a Nomogram.htm
>    Draw a Nomogram.htm    Type: Hypertext Markup Language (text/html)
>                       Encoding: 8bit

Dear Moustafa,

I am working now on porting the Design library to R.  I hope
to be finished in about 6-8 weeks.  My only holdup now, besides
finding some time, is figuring out how to configure directories
for optimal use with CVS, R, and S-Plus.   I have had a bit
of trouble with graphics because in some cases I rely on
text( ) etc. to plot outside the axis limits.  S-Plus allows
this but R seems to suppress such plotting attempts.

I am making steady progress on porting the Hmisc library to R.
Two people are working on specific functions that help in
this effort a great deal.

Frank
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vforge at po-box.mcgill.ca  Wed May 23 22:10:50 2001
From: vforge at po-box.mcgill.ca (Vincenzo Forgetta)
Date: Wed, 23 May 2001 16:10:50 -0400
Subject: [R] Passing a string variable to Surv
Message-ID: <3B0C194A.2DCF819B@po-box.mcgill.ca>

Hi,

    I am trying to write a function to automate multiple graph
generation. My data looks like:

Table of numeric values with the following headers:


      timeM1  statusM1 xM1 timeM2  statusM2 xM2 timeM3  statusM3 xM3
1
2
3
4
5
6

Where M1,M2, M3 hve no similarity except they have a max string length
of 7. Examples are mcw0045, adl0003, lei0101.

Now, what I want to do is

Function(M1, M2, M3, datafile)
{
    xnew <- readtable(datafile)
    name1 <- paste("time",M1",sep"")
    name2 <- paste(status",M1,sep"")
    name3 <- paste("x",M1,sep"")
    fit1 <- survfit(Surv(name1,name2)~name3,data=xnew)
    .
    .
    repeat for M2 and M3
    .
    .
    par(mfcol=c(1,3))
    plot(fit1)
    plot(fit2)
    plot(fit3)
}

When I try to pass name1 into the Surv function it give the following
error message:

> fit <- survfit(Surv(name1,status)~x,data=xnew)
Error in Surv(name1, status) : Time variable is not numeric

I think it is no doing what I want it to do. How to I tell the function
Surv to pass the value of name2 as a string?


Thanks



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Wed May 23 22:50:17 2001
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Thu, 24 May 2001 08:50:17 +1200
Subject: [R] Hmisc and Design library progress note
References: <F90DE3yiMTDTZaeOR3t0000289f@hotmail.com> <3B0C116E.B4115FFB@virginia.edu>
Message-ID: <016b01c0e3c9$f9525cb0$175dd882@stat.auckland.ac.nz>

Hi


> I am working now on porting the Design library to R.  I hope
> to be finished in about 6-8 weeks.  My only holdup now, besides
> finding some time, is figuring out how to configure directories
> for optimal use with CVS, R, and S-Plus.   I have had a bit
> of trouble with graphics because in some cases I rely on
> text( ) etc. to plot outside the axis limits.  S-Plus allows
> this but R seems to suppress such plotting attempts.


If I read the problem correctly ...
par(xpd=T) or par(xpd=NA) should allow you to produce text() outside the
plot region.
For example,

    par(mfrow=c(3,1), oma=rep(4,4))
    plot(1)
    text(1.4, 1, "A quite long string", adj=0)
    par(xpd=T)
    plot(1)
    text(1.4, 1, "A quite long string", adj=0)
    par(xpd=NA)
    plot(1)
    text(1.4, 1, "A quite long string", adj=0)
    box("inner", lty="dashed")

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May 23 23:47:02 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 May 2001 23:47:02 +0200
Subject: [R] Passing a string variable to Surv
In-Reply-To: Vincenzo Forgetta's message of "Wed, 23 May 2001 16:10:50 -0400"
References: <3B0C194A.2DCF819B@po-box.mcgill.ca>
Message-ID: <x2g0dvu4a1.fsf@blueberry.kubism.ku.dk>

Vincenzo Forgetta <vforge at po-box.mcgill.ca> writes:

> Hi,
> 
>     I am trying to write a function to automate multiple graph
> generation. My data looks like:
> 
> Table of numeric values with the following headers:
> 
> 
>       timeM1  statusM1 xM1 timeM2  statusM2 xM2 timeM3  statusM3 xM3
> 1
> 2
> 3
> 4
> 5
> 6
> 
> Where M1,M2, M3 hve no similarity except they have a max string length
> of 7. Examples are mcw0045, adl0003, lei0101.
> 
> Now, what I want to do is
> 
> Function(M1, M2, M3, datafile)
> {
>     xnew <- readtable(datafile)
>     name1 <- paste("time",M1",sep"")
>     name2 <- paste(status",M1,sep"")
>     name3 <- paste("x",M1,sep"")
>     fit1 <- survfit(Surv(name1,name2)~name3,data=xnew)
...
> > fit <- survfit(Surv(name1,status)~x,data=xnew)
> Error in Surv(name1, status) : Time variable is not numeric
> 
> I think it is no doing what I want it to do. How to I tell the function
> Surv to pass the value of name2 as a string?

You don't. You convert name1...name3 to *symbols* that can be used
in the model formula and plug them into the correct spot:

name1 <- as.name(paste("time",M1",sep""))
...etc...
fm <- substitute(Surv(name1,name2)~name3)
fit1 <- survfit(fm, data=xnew)

(this only works inside functions, and only in R (not S-PLUS) because
of substitute semantics,

substitute(Surv(name1,name2)~name3, 
	list(name1=name1, name2=name2, name3=name3))

works portably ... I think ....)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lhomer at teleport.com  Thu May 24 05:51:00 2001
From: lhomer at teleport.com (lhomer)
Date: Wed, 23 May 2001 20:51:00 -0700
Subject: [R] image with R
References: <3B0BC708.B5B7B973@inrialpes.fr>
Message-ID: <004c01c0e404$c3536b00$a7021ad8@oemcomputer>

There is a program called tnimage which runs under Unix or Linux and which can read both 8 bit and 16 bit tif images, and can convert these to ascii files. After a little editing I can read the ascii file into S-plus. So far I haven't found just the right way to read these files in R, but it should be possible. You can download version 3.2.7 of tnimage from: ftp://entropy.brni-jhu.org/pub/unix/


  ----- Original Message ----- 
  From: Olivier Martin 
  To: r-news 
  Sent: Wednesday, May 23, 2001 7:19 AM
  Subject: [R] image with R


  Hi all, 
  i would like to analyze some images with R. 
  For example, i have a tif image (16 bit=2^16 values) that i convert in ascii file (8 bit =256 values only) 
  so it is easy to work under R with image() function. 
  But, i would like to  keep my image with 2^16 values... 
  how can i do to load my tif image in my workspace? 
  Do you know if there is a package for analysis image ? 
  Thanks 
  Olivier 

-- 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN               phone: (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42         
INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                  e-mail:olivier.martin at inrialpes.fr
38334 Saint Ismier cedex
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010523/ccf57c04/attachment.html

From jasont at indigoindustrial.co.nz  Thu May 24 07:38:25 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Thu, 24 May 2001 13:38:25 +0800
Subject: [R] tframe question - latest.start
Message-ID: <20010524133825.A2545@camille.indigoindustrial.co.nz>

I'm having some trouble figuring out latest.start in 
the tframe package.  The results seem a bit cloudy.
Sample session:


> library(ts)
> library(tframe)
Loading required package: syskern 
> t1<-ts(c(1,2,3,4,5),start=1)
> t2<-ts(c(1,2,3,4,5),start=2)
> earliest.start(tbind(t1,t2))
[1] 1 1
> earliest.start(tbind(t2,t1))
[1] 1 1
> latest.start(tbind(t2,t1)) 
[1] 1 1
> latest.start(tbind(t2,t1)) 
[1] 1 1

Same results if the series are tframed.  Any ideas, comments?

Cheers, 

Jason

Version:
platform = i586-pc-linux-gnu
arch = i586
os = linux-gnu
system = i586, linux-gnu
status =
major = 1
minor = 2.3
year = 2001
month = 04
day = 26
language = R

-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Thu May 24 11:05:28 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Thu, 24 May 2001 10:05:28 +0100 (BST)
Subject: [R] nlme help please
Message-ID: <Pine.LNX.4.10.10105240944550.5451-200000@localhost.localdomain>

I am trying to learn how to use nlme by working on a simple example. I
attach the data from a toy example I made up which is similar to my real
problem. (My grasp of fixed/random effects is still a bit tenuous)

It is a longitudinal study of the effect of two treatments: A and B. The
data were created by:
A: y<-12/(1+exp((2-time)/.5)),y<-8/(1+exp((2-time)/.5))
B: y<-22/(1+exp((2-time)/.5)), y<-18/(1+exp((2-time)/.5))
fixed effect for param a = 10,10, 20,20, random effects= +2, -2, +2, -2
fixed effect for param b=2, fixed effect for c = .5
normal noise with sd=1 was added to all y values.

I do:
df<-read.table(file="papers/alex/junk.dat",header=TRUE)
attach(df)

fullfit<-nlsList(y~SSlogis(Time,Asym,xmid,scal)|Subject,data=df)
and get the separate fits of the logistic to each subject's data. 4 curves
and 4 sets of param values (12 params total for the model).

How do I get the fit of the model which is the true one as stated above:
Asym for group A (fixed effect)
Asym for group B  (fixed effect)
Asym diff from group A mean for subject 1 (random effect)
Asym diff from group A mean for subject 2 (random effect)
Asym diff from group B mean for subject 3 (random effect)
Asym diff from group B mean for subject 4 (random effect)

xmid (fixed effect)
scal (fixed effect)
= 8 params total
I would like 95% CIs for params and in particular a CI for the diff in
Asym for groups A and B (or a hypo test).

If I had an additional grouping factor (e.g. Sex), how would I do it? (I
would have enough subjects to make it worthwhile--I actually have 53).

Thanks very much for any help.

BTW I have not tried to use groupedData object because I think that's
mainly useful for the fancy trellis graphics, which we don't have in R. I
know there was a recent announcement about lattice, but I'm not at all
sure that would work with nlme at this point...

Bill Simpson
-------------- next part --------------
"Subject"	"Group"	"Time"	"y"
1	a	1	1.803407
1	a	2	3.790964
1	a	3	6.885437
1	a	4	6.304922
1	a	5	6.423945
2	a	1	1.685487
2	a	2	4.775235
2	a	3	12.058397
2	a	4	12.500626
2	a	5	12.602189
3	b	1	1.532756
3	b	2	9.866473
3	b	3	16.928385
3	b	4	17.762473
3	b	5	18.493848
4	b	1	2.975398
4	b	2	13.158969
4	b	3	19.589508
4	b	4	22.389456
4	b	5	21.381210

From R.E.Darnell at ncl.ac.uk  Thu May 24 12:00:20 2001
From: R.E.Darnell at ncl.ac.uk (Ross Darnell)
Date: Thu, 24 May 2001 11:00:20 +0100
Subject: [R] Legend problems
Message-ID: <3B0CDBB4.97922ADE@ncl.ac.uk>

I have not been able to solve a problem trying to put a legend onto an
image.

After generating the image I try to add a legend with

legend(locator(1),c("0","0.2","0.4","0.6","0.8","1"),horiz=T,
        fill=c("white",rev(heat.colors(5))))

If I place the legend on top of the image the text and fill boxes are
shown, but unfortunately over the top of the image.

If I try to locate the legend somewhere else, in the top margin for
instance, the text (the legend) is displayed but not the fill boxes.

If I include the par option xpd, say

par(xpd=NA)

nothing changes. I thought this would stop this would allow the legend
to be printed inside the device but it doesn't seem to matter what xpd
value I use, the fill boxes do not appear anywhere except over the
image.

There must be another option that controls this. Can anyone help?

Regards
Ross Darnell


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Thu May 24 13:52:36 2001
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Thu, 24 May 2001 21:52:36 +1000
Subject: [R] Legend problems
Message-ID: <3B0CF604.AF3F3E2D@ozemail.com.au>

Ross Darnell wrote:

> I have not been able to solve a problem trying to put a legend onto an

image....

If I read your question correctly, you could have one or more of the
following problems

1) Your plot doesn't have enough blank space to fit the legend.
   Use xlim= and ylim= to expand the plot enough to fit the legend
inside, then eyeball the legend into place by passing x and y values to
legend() in user units instead of using locator=.

2) You don't want the legend in the plot and don't have enough space
outside the plot for it.
  Use par() to set a wider margin, xpd() to _allow_ you to put the
legend outside and pass x and y values to legend().

3) You want a really compact legend
  You _can_ fool around with the legend() function, but it's probably
easier to simply squeeze in filled rectangles and use text() to jam in a
legend.  You will have to fiddle with the positioning to get it to look
good.

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From beth.obrien at tufts.edu  Thu May 24 19:56:43 2001
From: beth.obrien at tufts.edu (Beth O'Brien)
Date: Thu, 24 May 2001 13:56:43 -0400
Subject: [R] Mac version of R
Message-ID: <3B0D4ADC.57148C33@tufts.edu>

Is there a mac version of R that is available on diskettes?  Or is the
only way to obtain R for the mac via downloading??

Thank you.

Sincerely,

Beth O'Brien

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Thu May 24 21:22:02 2001
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Thu, 24 May 2001 15:22:02 -0400
Subject: [R] Robust comparison coding
Message-ID: <15117.24410.73820.94575@gargle.gargle.HOWL>

Are there guidelines in R for writing robust comparison codes? I am most
worried about situations in which the code must subset out some data without
knowing ahead of time the type of the variable that will be used for the
subseting. Here is a toy example:

> version
         _                   
platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    2.3                 
year     2001                
month    04                  
day      26                  
language R                   
> set.seed(9)
> temp <- data.frame(x = sample(11:13, 10, replace = TRUE))
> for(i in unique(temp[["x"]])) {cat("There are", sum(temp[["x"]] == i), "values equal to", i, "\n")}
There are 2 values equal to 13 
There are 7 values equal to 11 
There are 1 values equal to 12	# These are the answers that I want to see. But
	                        # what if x is a factor? 

> temp$x <- as.factor(temp$x)
> for(i in unique(temp[["x"]])) {cat("There are", sum(temp[["x"]] == i), "values equal to", i, "\n")}
There are 0 values equal to 3 
There are 0 values equal to 1 
There are 0 values equal to 2 

Not what I want. The problem seems to be that R is using the underlying code
for the factor (1,2,3) instead of the level. (Note how the problem goes away
when you draw x from 1:3 instead of from 11:13.) Note that:

> unique(temp[["x"]])
[1] 13 11 12
Levels:  11 12 13 

In any event, how can I write code so that the comparison works no matter what
mode (numeric, character, factor) x is? Or is the problem that a construction
like (i in unique(temp[["x"]])) is ill-advised for some reason?

Thanks,

Dave Kane
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Thu May 24 21:38:41 2001
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 24 May 2001 15:38:41 -0400
Subject: [R] tframe question - latest.start
References: <20010524133825.A2545@camille.indigoindustrial.co.nz>
Message-ID: <3B0D6341.EE38A608@bank-banque-canada.ca>

Jason

There is a serious error in the tframe documentation which I will fix. Thanks for
point out that it seems "a bit cloudy." The functions earliest.start and latest.start
work on multiple time series objects (and have nothing to do with NAs in any of
them).  The following example should help.

> library(ts)
> library(tframe)
Loading required package: syskern
> t1<-ts(c(1,2,3,4,5),        start=c(1991,1))
> t2<-ts(c(2,3,4,5,6,7,8),  start=c(1992,1))
> t3<-ts(c(NA,2,3,4,5),     start=c(1991,1))

> latest.start(t1,t2,t3)  # 1992 1 corresponding to the starting date of
                                    # the object which starts latest (t2)
[1] 1992    1
> latest.start(t1,t3)     # both start in 1991 1  (NAs count as data)
[1] 1991    1
> latest.start.index(t1,t2,t3)  # position of t2 in the argument list
[1] 2
> latest.start(tbind(t1,t2,t3)) # tbind gives a single object starting in 1991 1
[1] 1991    1
> latest.start(t2, tbind(t1,t2,t3))
[1] 1992    1

I ran this  with R 1.3.0 (devel) and my most recent version of tframe, but you should
not find any difference in the version you have.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Thu May 24 21:44:56 2001
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 25 May 2001 07:44:56 +1200
Subject: [R] POLYGON: fill pattern instead of colors?
References: <3B0B9EEB.E2C6BAFC@gmx.de>
Message-ID: <3B0D64B8.D70913CB@stat.auckland.ac.nz>

Marcus Eger wrote:
> 
> Hello all,
> I'm using R1.2.2 and wonder whether there is already
> a new (unofficial) version that supports fill patterns
> for polygon().

It's on my ToDo list, but with low-ish priority.
It would be useful to have something like this for on paper
reproduction.

If you have a one-off need, you could try using the xfig driver
(or postscript and pstoedit) and use xfig to change the fill from
solid to patterned.

-- 
Ross Ihaka                         Email:  ihaka at stat.auckland.ac.nz
Department of Statistics           Phone:  (64-9) 373-7599 x 5054
University of Auckland             Fax:    (64-9) 373-7018
Private Bag 92019, Auckland
New Zealand
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Thu May 24 22:46:43 2001
From: s-luppescu at uchicago.edu (s-luppescu@uchicago.edu)
Date: Thu, 24 May 2001 15:46:43 -0500 (CDT)
Subject: [R] Labels perpendicular to axis
Message-ID: <XFMail.20010524154643.s-luppescu@uchicago.edu>

I would like to make my horizontal barplot vertical axis labels perpendicular to
the axis. I tried las=1, srt=90; I even tried yaxt='n' thinking I'd put the
labels in using mtext, but the axis continued to be drawn. Can anyone help me
with this? My barplot() statement looks like this: 

barplot(height=foo$rebint[o1], names=foo$Unit[o1], horiz=TRUE,
col=mycolors[foo$type[o1]], yaxt='n')

______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl.html
http://musuko.uchicago.edu/pubkey.asc for PGP Public Key
ICQ #21172047  AIM: psycho7070
The only constant is change.
>> Sent on 24-May-2001 at 15:35:57 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri May 25 08:22:04 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 25 May 2001 08:22:04 +0200
Subject: [R] Labels perpendicular to axis
References: <XFMail.20010524154643.s-luppescu@uchicago.edu>
Message-ID: <3B0DFA0C.18063079@statistik.uni-dortmund.de>



s-luppescu at uchicago.edu wrote:
> 
> I would like to make my horizontal barplot vertical axis labels perpendicular to
> the axis. I tried las=1, srt=90; I even tried yaxt='n' thinking I'd put the
> labels in using mtext, but the axis continued to be drawn. Can anyone help me
> with this? My barplot() statement looks like this:
> 
> barplot(height=foo$rebint[o1], names=foo$Unit[o1], horiz=TRUE,
> col=mycolors[foo$type[o1]], yaxt='n')


You can change the last few lines of barplot.default():
  if (axes) 
    axis(if (horiz) 1 else 2, ...)
                            ^^^^^


Or to avoid plotting the axis:

1. You can say barplot(..., axes = FALSE)

2. You can use a workaround:
  par(xaxt="n")
  barplot()


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kari.ruohonen at saunalahti.fi  Fri May 25 09:51:24 2001
From: kari.ruohonen at saunalahti.fi (Kari Ruohonen)
Date: Fri, 25 May 2001 10:51:24 +0300 (EEST)
Subject: [R] Cook-Weisberg confidence curves
Message-ID: <Pine.LNX.4.21.0105251050370.811-100000@localhost>

Is there an existing function to compute Cook-Weisberg confidence curves
for non-linear model parameters in R?

Kari Ruohonen



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marlene.mueller at gmx.de  Fri May 25 11:43:49 2001
From: marlene.mueller at gmx.de (Marlene Mueller)
Date: Fri, 25 May 2001 11:43:49 +0200
Subject: [R] problem with matrix multiplication
References: <3B0BEEF9.E1EF5D2C@gmx.de>
Message-ID: <3B0E2955.38C92DA3@gmx.de>


Thanks for all solutions! The most elegant & efficient way
seems to me t(t(X)*Y) or t(Y*t(X)). Marlene

Marlene Mueller wrote:
> 
> Hi, I look for a solution to the following problem:
> 
> I have a (n x p) matrix X and a (p x 1) vector Y which
> are to be multiplied such the result is the (n x p) matrix
> 
>   Z = ( X[,1]*Y[1] .... X[,p]*Y[p] )
> 
> Up to now I found that  sweep(X,2,Y,"*")  is (almost) what
> I want, but only for p>1.
> 
> Is there another elegant way to do this by matrix
> operations -- including the case p=1?
> 
> --
> Marlene Mueller
> http://www.uni-bayreuth.de/departments/math/org/mathe7/Mueller.html
> http://ise.wiwi.hu-berlin.de/~marlene
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Marlene Mueller 
http://www.uni-bayreuth.de/departments/math/org/mathe7/Mueller.html
http://ise.wiwi.hu-berlin.de/~marlene
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kari.ruohonen at saunalahti.fi  Fri May 25 13:21:09 2001
From: kari.ruohonen at saunalahti.fi (Kari Ruohonen)
Date: Fri, 25 May 2001 14:21:09 +0300 (EEST)
Subject: [R] Cook-Weisberg confidence curves
In-Reply-To: <Pine.LNX.4.21.0105251050370.811-100000@localhost>
Message-ID: <Pine.LNX.4.21.0105251419420.811-100000@localhost>

I reply to this myself and apologise not reading the docs careful
enough. Am I right that confint() in MASS does something equivalent for
C-W confidence curves by applying the profile log-likelihood?

Kari Ruohonen

On Fri, 25 May 2001, Kari Ruohonen wrote:

> Is there an existing function to compute Cook-Weisberg confidence curves
> for non-linear model parameters in R?
> 
> Kari Ruohonen
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 25 14:23:35 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 25 May 2001 13:23:35 +0100 (BST)
Subject: [R] Cook-Weisberg confidence curves
In-Reply-To: <Pine.LNX.4.21.0105251419420.811-100000@localhost>
Message-ID: <Pine.LNX.4.31.0105251322070.6346-100000@gannet.stats>

On Fri, 25 May 2001, Kari Ruohonen wrote:

> I reply to this myself and apologise not reading the docs careful
> enough. Am I right that confint() in MASS does something equivalent for
> C-W confidence curves by applying the profile log-likelihood?

I wouldn't know: what are these confidence curves you are attributing to
Cook-Weisberg?  At least what confint does is documented and the code it
open to you, so you should be able to answer your own question.

>
> Kari Ruohonen
>
> On Fri, 25 May 2001, Kari Ruohonen wrote:
>
> > Is there an existing function to compute Cook-Weisberg confidence curves
> > for non-linear model parameters in R?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kari.ruohonen at saunalahti.fi  Fri May 25 14:36:57 2001
From: kari.ruohonen at saunalahti.fi (Kari Ruohonen)
Date: Fri, 25 May 2001 15:36:57 +0300 (EEST)
Subject: [R] Cook-Weisberg confidence curves
In-Reply-To: <Pine.LNX.4.31.0105251322070.6346-100000@gannet.stats>
Message-ID: <Pine.LNX.4.21.0105251532240.811-100000@localhost>

On Fri, 25 May 2001, Prof Brian Ripley wrote:

> I wouldn't know: what are these confidence curves you are attributing to
> Cook-Weisberg?  

I am referring to Cook D & Weisberg S (1990) Confidence curves in
nonlinear regression. J. Am. Stat. Ass. 85, 544-551. 

Confint() seems to do what I want, thank you for your help.

Kari Ruohonen

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rod.chav at hsoft.es  Sat May 26 09:08:58 2001
From: rod.chav at hsoft.es (Antonio)
Date: Sat, 26 May 2001 09:08:58 +0200
Subject: [R] about s.window in stl
Message-ID: <3.0.6.32.20010526090858.007a2100@pop.hsoft.es>

Hi,

Is there anybody who could explain a little bit the use of s.window and
t.window in STL. If I decompose a series using the default values,  I get a
very irregular trends, but if I play with the options, I get less rare
trends. If anybody can explain me the concepts behind these options I will
appreciate a lot. I'm not a mathematician ;-)

Thanks in advance

Cheers,

Antonio
Antonio Rodr?guez Verdugo
C.I.C.E.M. "Agua del Pino"
Delegacion Provincial de Agricultura y Pesca
P.O. Box 104
21071 HUELVA (Spain)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat May 26 12:33:01 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 26 May 2001 11:33:01 +0100 (BST)
Subject: [R] about s.window in stl
In-Reply-To: <3.0.6.32.20010526090858.007a2100@pop.hsoft.es>
Message-ID: <Pine.LNX.4.21.0105261131110.752-100000@localhost>

On Sat, 26 May 2001, Antonio wrote:

> Is there anybody who could explain a little bit the use of s.window and
> t.window in STL. If I decompose a series using the default values,  I get a
> very irregular trends, but if I play with the options, I get less rare
> trends. If anybody can explain me the concepts behind these options I will
> appreciate a lot. I'm not a mathematician ;-)

See the reference on the help page ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Sat May 26 22:35:35 2001
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Sat, 26 May 2001 15:35:35 -0500 (CDT)
Subject: [R] boxplots
Message-ID: <Pine.SOL.3.96.1010526153120.21075E-100000@ysidro>

Was there ever a convenient method provided to add boxplots to the current
plot at specified x values?  There was a question by Martin Maechler some
time ago here, but I could seem to find any satisfactory resolution of it.
I see that there is an add=T option to boxplot and bxp, but I don't see
how to set the x-values.


url:	http://www.econ.uiuc.edu		Roger Koenker	
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun May 27 10:52:06 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 27 May 2001 10:52:06 +0200 (MET DST)
Subject: [R] boxplots
In-Reply-To: <Pine.SOL.3.96.1010526153120.21075E-100000@ysidro>
Message-ID: <Pine.GSO.4.21.0105271051300.13398-100000@amadeus.statistik.uni-dortmund.de>


Roger Koenker wrote:
> 
> Was there ever a convenient method provided to add boxplots to the
current
> plot at specified x values?  There was a question by Martin Maechler
some
> time ago here, but I could seem to find any satisfactory resolution of
it.
> I see that there is an add=T option to boxplot and bxp, but I don't see
> how to set the x-values.


bxp() can easily be extended to handle a new argument like  x.loc = NULL ,
in which you can specify the x-values manually:


bxp <- 
  function (z, notch = FALSE, width = NULL, varwidth = FALSE, notch.frac =
0.5, 
    boxwex = 0.8, border = par("fg"), col = NULL, log = "", pars = NULL, 
-    frame.plot = axes, horizontal = FALSE, add = FALSE, ...) 
+    frame.plot = axes, horizontal = FALSE, add = FALSE, x.loc = NULL,
...) 
  {

   [SNIP]

  if (!add) {
    plot.new()
    if (horizontal) 
      plot.window(ylim = c(0.5, n + 0.5), xlim = ylim, 
        log = log)
    else plot.window(xlim = c(0.5, n + 0.5), ylim = ylim, 
        log = log)
  }
+ if(is.null(x.loc))
+        x.loc <- 1:n
- for (i in 1:n) bplt(i, wid = width[i], stats = z$stats[, 
+ for (i in 1:n) bplt(x.loc[i], wid = width[i], stats = z$stats[, 
    i], out = z$out[z$group == i], conf = z$conf[, i], notch = notch, 
    border = border[(i - 1)%%length(border) + 1], col = if (is.null(col)) 
      col
      else col[(i - 1)%%length(col) + 1], horizontal = horizontal)

   [SNIP]

  }



So you can do for example:

 my.bxp <- boxplot(data.frame(v13 = 1:10, v15 = 2:11))
 plot(1:20) 
 bxp(my.bxp, add = TRUE, x.loc = c(13, 15))


Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tord.snall at ebc.uu.se  Sun May 27 16:31:15 2001
From: tord.snall at ebc.uu.se (Tord Snall)
Date: Sun, 27 May 2001 16:31:15 +0200
Subject: [R] library for mixed GLM?
Message-ID: <3.0.6.32.20010527163115.00a99c30@mail.anst.uu.se>

Dear all,

I am taking a course in GLM given by a devoted SAS user. He has given us a
homework where  a mixed GLM with a logistic link and binomially distributed
observations should be fitted.

I know of the library nlme for mixed effect models but as I understand it,
one cannot choose between different links and distributions in the
functions provided there.

I have so far managed very well with R (and of course given him my R code
;-) ) but now I am stuck. Could someone please point me at a suitable library.

Thanks in advance!


Sincerely,
Tord Sn?ll

-----------------------------------------------------------------------
Tord Sn?ll
Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
Villav?gen 14			
SE-752 36 Uppsala, Sweden
Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
E-mail: Tord.Snall at ebc.uu.se
http://www.vaxtbio.uu.se/resfold/snall.htm
------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun May 27 19:22:18 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 May 2001 19:22:18 +0200
Subject: [R] library for mixed GLM?
In-Reply-To: Tord Snall's message of "Sun, 27 May 2001 16:31:15 +0200"
References: <3.0.6.32.20010527163115.00a99c30@mail.anst.uu.se>
Message-ID: <x266ememgl.fsf@blueberry.kubism.ku.dk>

Tord Snall <tord.snall at ebc.uu.se> writes:

> Dear all,
> 
> I am taking a course in GLM given by a devoted SAS user. He has given us a
> homework where  a mixed GLM with a logistic link and binomially distributed
> observations should be fitted.
> 
> I know of the library nlme for mixed effect models but as I understand it,
> one cannot choose between different links and distributions in the
> functions provided there.
> 
> I have so far managed very well with R (and of course given him my R code
> ;-) ) but now I am stuck. Could someone please point me at a suitable library.

The mailing list search engine came up with a short discussion almost
exactly a year back.

I suspect the closest you get is the glmm() function in Jim Lindsey's
repeated library (http://www.luc.ac.be/~jlindsey/rcode.html). It's
rather restricted in what it does, but it might be that what it does
happens to be what you need...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xyzzy at speakeasy.org  Mon May 28 01:37:40 2001
From: xyzzy at speakeasy.org (Trent Piepho)
Date: Sun, 27 May 2001 16:37:40 -0700 (PDT)
Subject: [R] plotting circles
Message-ID: <Pine.LNX.4.04.10105271621580.29359-100000@xyzzy.dsl.speakeasy.net>

I'd like to make some polar plots with R, but I can't seem to find anything
designed to help with that.  Is there anyway to get a real polar mode, where
instead of x and y you have r and theta?  How about a way to draw a circle? 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bula at constantin.com  Mon May 28 03:22:11 2001
From: bula at constantin.com (bula@constantin.com)
Date: Sun, 27 May 2001 18:22:11 -0700
Subject: [R] SPX - useful solution
Message-ID: <20010528012211.BIBB11152.mail2.rdc2.bc.home.com@[24.76.58.120]>

An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010527/0ca10451/attachment.html

From postmaster  Mon May 28 04:55:57 2001
From: postmaster (postmaster)
Date: Mon, 28 May 2001 09:55:57 +0700
Subject: [R] Spam mail warning notification!
Message-ID: <200105280256.EAA16354@stat.math.ethz.ch>

************* Content Filter Notification **************

The following mail was blocked since it contains sensitive content.

Source mailbox: <bula at constantin.com>
Destination mailbox(es): <r-help at stat.math.ethz.ch>
Policy: Block HTML script messages(text/html,<html>,<script,</script)
Action: Quarantine

Recipient, Content filter has detected a message containing HTML script file.

******************* End of message *******************
-------------- next part --------------
Received: by stat.math.ethz.ch (8.9.1/8.9.1) id DAA28014
	for r-help-gang-use; Mon, 28 May 2001 03:22:24 +0200 (MET DST)
Received: (from daemon at localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id DAA27993
	for <r-help at stat.math.ethz.ch>; Mon, 28 May 2001 03:22:17 +0200 (MET DST)
Received: from mail2.rdc2.bc.home.com(24.2.10.85)
 via SMTP by hypatia, id smtpdAAAa006pD; Mon May 28 03:22:13 2001
Received: from [24.76.58.120] by mail2.rdc2.bc.home.com
          (InterMail vM.4.01.03.20 201-229-121-120-20010223) with SMTP
          id <20010528012211.BIBB11152.mail2.rdc2.bc.home.com@[24.76.58.120]>
          for <r-help at stat.math.ethz.ch>; Sun, 27 May 2001 18:22:11 -0700
From: "bula at constantin.com"<bula at constantin.com>
To: r-help at stat.math.ethz.ch
Subject: [R] SPX? - useful solution
Mime-Version: 1.0
Content-Type: text/html; charset=us-ascii
Message-Id: <20010528012211.BIBB11152.mail2.rdc2.bc.home.com@[24.76.58.120]>
Date: Sun, 27 May 2001 18:22:11 -0700
Sender: owner-r-help at stat.math.ethz.ch
Precedence: SfS-bulk
Content-Transfer-Encoding: quoted-printable
X-MIME-Autoconverted: from 8bit to quoted-printable by stat.math.ethz.ch id DAB28014

From bates at stat.wisc.edu  Mon May 28 05:15:05 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 27 May 2001 22:15:05 -0500
Subject: [R] Cook-Weisberg confidence curves
In-Reply-To: <Pine.LNX.4.21.0105251532240.811-100000@localhost>
References: <Pine.LNX.4.21.0105251532240.811-100000@localhost>
Message-ID: <6rg0dq17wm.fsf@franz.stat.wisc.edu>

Kari Ruohonen <kari.ruohonen at saunalahti.fi> writes:

> On Fri, 25 May 2001, Prof Brian Ripley wrote:
> 
> > I wouldn't know: what are these confidence curves you are attributing to
> > Cook-Weisberg?  
> 
> I am referring to Cook D & Weisberg S (1990) Confidence curves in
> nonlinear regression. J. Am. Stat. Ass. 85, 544-551. 
> 
> Confint() seems to do what I want, thank you for your help.

I think if you read that paper you will see mention in there of the
techniques described in chapter 6 of Bates and Watts (Wiley, 1988).
Although the mention is to say that that the Cook and Weisberg
technique is quite different, it is, in fact, exactly the same as
that described in Bates and Watts.

The function plot.profile.nls in the nls library produces plots of the
profile t function or its absolute value.  Try

 example(plot.profile.nls)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at gvdnet.dk  Mon May 28 06:53:39 2001
From: tring at gvdnet.dk (Troels Ring)
Date: Mon, 28 May 2001 06:53:39 +0200
Subject: [R] library for mixed GLM?
In-Reply-To: <x266ememgl.fsf@blueberry.kubism.ku.dk>
References: <Tord Snall's message of "Sun, 27 May 2001 16:31:15 +0200">
 <3.0.6.32.20010527163115.00a99c30@mail.anst.uu.se>
Message-ID: <5.1.0.14.0.20010528064329.028c32e0@127.0.0.1>

What is it you wanted from GLMM() which you couldn't find in Jim's related 
functions, gnlr  og gnlmm for instance ? -

Best wishes

Troels

At 19:22 5/27/01, you wrote:
>Tord Snall <tord.snall at ebc.uu.se> writes:
>
> > Dear all,
> >
> > I am taking a course in GLM given by a devoted SAS user. He has given us a
> > homework where  a mixed GLM with a logistic link and binomially distributed
> > observations should be fitted.
> >
> > I know of the library nlme for mixed effect models but as I understand it,
> > one cannot choose between different links and distributions in the
> > functions provided there.
> >
> > I have so far managed very well with R (and of course given him my R code
> > ;-) ) but now I am stuck. Could someone please point me at a suitable 
> library.
>
>The mailing list search engine came up with a short discussion almost
>exactly a year back.
>
>I suspect the closest you get is the glmm() function in Jim Lindsey's
>repeated library (http://www.luc.ac.be/~jlindsey/rcode.html). It's
>rather restricted in what it does, but it might be that what it does
>happens to be what you need...
>
>--
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Mon May 28 07:11:38 2001
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Mon, 28 May 2001 17:11:38 +1200
Subject: [R] plotting circles
References: <Pine.LNX.4.04.10105271621580.29359-100000@xyzzy.dsl.speakeasy.net>
Message-ID: <3B11DE0A.48592599@stat.auckland.ac.nz>

Here is quick polar scatterplot function (attached) which might give you
some ideas.  This is just a sketch, but shows how to do the basics.
(It contains a number of circles.)

-- 
Ross Ihaka                         Email:  ihaka at stat.auckland.ac.nz
Department of Statistics           Phone:  (64-9) 373-7599 x 5054
University of Auckland             Fax:    (64-9) 373-7018
Private Bag 92019, Auckland
New Zealand
-------------- next part --------------
#  Polar coordinate plot.
#  It is assumed that "r" is given in radians.

polar.plot <-
  function(r, theta,
           pch = NULL,
           col = NULL,
           angle.axis = -90)
  {
    ##  Determine the range of data value.
    ##  Choose pretty cutpoints which include the range.

    rpretty <- pretty(range(abs(r), 0, na.rm=TRUE))
    rmax <- rpretty[length(rpretty)]

    ##  Begin a new plot.
    
    plot.new()

    ##  Set up the plot coordinates.
    ##  We choose a square region which includes a circle
    ##  large enough to include all the data.
    ##  Note the use of asp = 1, so that circles will
    ##  appear as circles, even if a graphics window is resized.
    
    plot.window(xlim = c(-rmax, rmax),
                ylim = c(-rmax, rmax),
                asp = 1)

    ##  Draw a circular grid.
    ##  (a) The circles are really polygons with many vertices.
    ##  (b) The magic number "5" is choosen because a change of
    ##  a change of direction of less than 5 degrees appears smooth.
    
    grid <- seq(0, 2 * pi, length = 360 / 5 + 1)
    for(rad in rpretty) {
      if(rad > 0)
        lines(rad * cos(grid), rad * sin(grid), col = "gray")
    }

    ##  Draw a radial grid in "gray".
    ##  The use of "12" gives divisions into 30 degree slices.
    
    rad <- seq(0, 2 * pi, length = 12 + 1)[-1]
    segments(0, 0, rmax * cos(rad), rmax * sin(rad), col = "gray")

    ##  Basic axis labelling.
    ##  Labels appear along the ray at angle "angle.axis" to the x axis.

    text(rpretty[-1] * cos(angle.axis * pi / 180),
         rpretty[-1] * sin(angle.axis * pi / 180),
         rpretty[-1])
    
    ##  Plot the data values - this is the easy bit.
    
    points(r * cos(theta),
           r * sin(theta),
           col = col, pch = pch)
  }

## Example plot for fake data

group <- sample(3, 100, replace = TRUE)
theta <- 0.5 * rnorm(100) +  0.5 * group
r <- rnorm(100, 4)
polar.plot(r, theta,
           col = c("red","green4","blue")[group],
           pch = 20)

From ripley at stats.ox.ac.uk  Mon May 28 08:40:22 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 28 May 2001 07:40:22 +0100 (GMT Daylight Time)
Subject: [R] library for mixed GLM?
In-Reply-To: <x266ememgl.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.WNT.4.31.0105280738210.120-100000@tern.stats>

On 27 May 2001, Peter Dalgaard BSA wrote:

> Tord Snall <tord.snall at ebc.uu.se> writes:
>
> > Dear all,
> >
> > I am taking a course in GLM given by a devoted SAS user. He has given us a
> > homework where  a mixed GLM with a logistic link and binomially distributed
> > observations should be fitted.
> >
> > I know of the library nlme for mixed effect models but as I understand it,
> > one cannot choose between different links and distributions in the
> > functions provided there.
> >
> > I have so far managed very well with R (and of course given him my R code
> > ;-) ) but now I am stuck. Could someone please point me at a suitable library.
>
> The mailing list search engine came up with a short discussion almost
> exactly a year back.
>
> I suspect the closest you get is the glmm() function in Jim Lindsey's
> repeated library (http://www.luc.ac.be/~jlindsey/rcode.html). It's
> rather restricted in what it does, but it might be that what it does
> happens to be what you need...

There's also GLMMgibbs more recently, which although still restrictive
(although less that Lindsey's `glmm') is a implementing theoretically sound
method rather than an approximation of (more or less) unknown value.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Mon May 28 10:19:09 2001
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Mon, 28 May 2001 10:19:09 +0200
Subject: [R] arrows
Message-ID: <3.0.6.32.20010528101909.00959d70@mail.wsl.ch>

Suggestion:

Arrows is currently definded as:

arrows(x0, y0, x1, y1, length = 0.25, angle = 30, code = 2,
       col = par("fg"), lty = NULL, lwd = par("lwd"), xpd = FALSE)

length       length of the edges of the arrow head (in inches).

This definition is very rigid, the user has to convert inches on
screen/paper to user coordinates. I would suggest to add a paramter
"inches" like in "symbols":

symbols(x, y, circles, squares, rectangles, stars,
        thermometers, boxplots, inches=TRUE, add=FALSE,
        fg=1, bg=NA, xlab = "", ylab = "", xlim = NULL,
        ylim = NULL, ...)
inches    If inches is FALSE, the units are taken to be those of the x
axis. If inches is TRUE, the symbols are scaled so that the largest symbol
is one inch in height. If a number is given the symbols are scaled to make
largest symbol this height in inches.

As for the geometric length of the arrow heads in "arrows" with the new
parameter "inches": 
inches=FALSE: no problem (?)
inches=TRUE: no problem (?) 
inches=<number>: no problem (?).

Thanks for your consideration.
-christian
Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bob.ohara at helsinki.fi  Mon May 28 13:36:09 2001
From: bob.ohara at helsinki.fi (Anon.)
Date: Mon, 28 May 2001 14:36:09 +0300
Subject: [R] Fonts on Windows devices
Message-ID: <3B123829.F4E11DE3@helsinki.fi>

Moi!

I've spent a fun few hours trying to get a plot to look exactly the way
I want it, and with a lot of help from Venables & Ripley (the book!) and
the help pages, I've almost got it perfect.  Only one problem now
remains....

I'm using R1.2.2 on Windoze NT.  I want to draw the graph as a Windows
metafile (so at the moment I'm using the windows device, i.e. on the
screen and then right clicking and saving as a metafile).  But I want a
Times New Roman font.  However, something like this:

XX <- 4
par(font=XX); plot(1,1, xlab="Thing")

gives me the same font whatever value of XX I use.  So, can I change the
font?  And if so, how?

Normally I would switch to drawing the graph in Postscript, but my
collaborator's computer won't handle it.

TIA

Bob

-- 
Bob O'Hara
Metapopulation Research Group
Division of Population Biology
Department of Ecology and Systematics
PO Box 17 (Arkadiankatu 7)
FIN-00014 University of Helsinki
Finland

tel: +358 9 191 28782  fax: +358 9 191 28701
email: bob.ohara at helsinki.fi
To induce catatonia, visit:
http://www.helsinki.fi/science/metapop/

It is being said of a certain poet, that though he tortures the English
language, he has still never yet succeeded in forcing it to reveal his
meaning
- Beachcomber
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May 28 13:47:46 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 28 May 2001 12:47:46 +0100 (BST)
Subject: [R] Fonts on Windows devices
In-Reply-To: <3B123829.F4E11DE3@helsinki.fi>
Message-ID: <Pine.LNX.4.31.0105281244130.3537-100000@gannet.stats>

On Mon, 28 May 2001, Anon. wrote:

> Moi!
>
> I've spent a fun few hours trying to get a plot to look exactly the way
> I want it, and with a lot of help from Venables & Ripley (the book!) and
> the help pages, I've almost got it perfect.  Only one problem now
> remains....
>
> I'm using R1.2.2 on Windoze NT.  I want to draw the graph as a Windows
> metafile (so at the moment I'm using the windows device, i.e. on the
> screen and then right clicking and saving as a metafile).  But I want a
> Times New Roman font.  However, something like this:
>
> XX <- 4
> par(font=XX); plot(1,1, xlab="Thing")
>
> gives me the same font whatever value of XX I use.  So, can I change the
> font?  And if so, how?

plot(1,1, xlab="Thing", font.lab = 4)

(see ?par) except that Times New Roman is not font 4.  Under Windows it is
usually 6.  You can change the font mappings via the file Rdevga: see
the rw-FAQ, for example.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meriema at info.univ-angers.fr  Mon May 28 15:26:54 2001
From: meriema at info.univ-angers.fr (Meriema BELAIDOUNI)
Date: Mon, 28 May 2001 15:26:54 +0200
Subject: [R] normality test
Message-ID: <3B12521D.34FF9C7F@info.univ-angers.fr>

Hello
I have used recently the kolmogorov smirnov test,
which is a test of normality.
This test is named ks.test() in ctest library of R.
I wonder if the results of ks.test ()  are true, because
the results are strange, time to time.
thank you for help
meriema


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon May 28 16:30:56 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 May 2001 16:30:56 +0200
Subject: [R] normality test
In-Reply-To: Meriema BELAIDOUNI's message of "Mon, 28 May 2001 15:26:54 +0200"
References: <3B12521D.34FF9C7F@info.univ-angers.fr>
Message-ID: <x2puctilzz.fsf@blueberry.kubism.ku.dk>

Meriema BELAIDOUNI <meriema at info.univ-angers.fr> writes:

> Hello
> I have used recently the kolmogorov smirnov test,
> which is a test of normality.
> This test is named ks.test() in ctest library of R.
> I wonder if the results of ks.test ()  are true, because
> the results are strange, time to time.
> thank you for help
> meriema

You'll need to supply us with harder evidence than that! 

(K-S is known to be badly biased in the conservative direction if
parameters are estimated from the data, but you are not even telling
us enough to rule out blatant user errors. Shapiro.test() is a much
better test of normality.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meriema at info.univ-angers.fr  Mon May 28 16:43:18 2001
From: meriema at info.univ-angers.fr (Meriema BELAIDOUNI)
Date: Mon, 28 May 2001 16:43:18 +0200
Subject: [R] normality test ks.test
Message-ID: <3B126405.DFCB48EF@info.univ-angers.fr>

hello,
here are some problems with ks.test.

Do you think these values are consistent?
(2 e^{-1} means 0.2 )


data file name& sample size& D & pvalue
A&10.000&0.4202&<2.2 e^{-16}\\
B&10.000&04294&<2.2 e^{-16}\\
C &10.000&0.4484&<2.2 e^{-16}\\
D&10.000&0.4569&<2.2 e^{-16}\\
E&50.000&0.4015&<2.2 e^{-16}\\
F&10.000&0.0321&<2.2 e^{-16}\\
I&10.000&0.0348&<2.2 e^{-16}\\
J&10.000&0.035&<2.2 e^{-16}\\  K&10.000&0.0158&8.71.e^{-5}\\
L&10.000&0.006&0.47\\
M&10.000&0.0059&0.49\\
N&10.000&0.01144&0.0115\\
P&10.000&0.0164&4.086.e^{-5}\\
Q&10.000&00239&2.318. e^{-10}\\
R&10.000&0.015&2.417 e^{-4}\\

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Mon May 28 17:23:02 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 28 May 2001 11:23:02 -0400
Subject: [R] normality test
In-Reply-To: <3B12521D.34FF9C7F@info.univ-angers.fr>
References: <3B12521D.34FF9C7F@info.univ-angers.fr>
Message-ID: <m4r4htskbco39e0b4ra352kpvcq9go228p@4ax.com>

On Mon, 28 May 2001 15:26:54 +0200, you wrote in message
<3B12521D.34FF9C7F at info.univ-angers.fr>:

>Hello
>I have used recently the kolmogorov smirnov test,
>which is a test of normality.
>This test is named ks.test() in ctest library of R.
>I wonder if the results of ks.test ()  are true, because
>the results are strange, time to time.

When you see strange results, you should check the bug list (under the
link "bug tracking" at www.r-project.org).  If your results aren't
discussed there, then put together an example showing what's strange,
and post it to r-help, or, if you're sure it's a bug, to the bug
tracking system.  

When you just say they're strange, nobody will be able to help.

Duncan Murdoch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Mon May 28 19:00:27 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Mon, 28 May 2001 19:00:27 +0200
Subject: [R] normality test
In-Reply-To: <3B12521D.34FF9C7F@info.univ-angers.fr>
Message-ID: <MABBLJDICACNFOLGIHJOMEJFCDAA.phgrosje@ulb.ac.be>

>Hello
>I have used recently the kolmogorov smirnov test,
>which is a test of normality.
>This test is named ks.test() in ctest library of R.
>I wonder if the results of ks.test ()  are true, because
>the results are strange, time to time.
>thank you for help
>meriema

In ctest, you have the Shapiro-Wilk test of normality (shapiro.test) which
is to be preferred to K-S, especially for intrinsic hypothesis, i.e.: when
mean and standard deviation are estimated from the sample itself.

Philippe Grosjean



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon May 28 19:55:04 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 May 2001 19:55:04 +0200
Subject: [R] normality test ks.test
In-Reply-To: Meriema BELAIDOUNI's message of "Mon, 28 May 2001 16:43:18 +0200"
References: <3B126405.DFCB48EF@info.univ-angers.fr>
Message-ID: <x2u225xssn.fsf@blueberry.kubism.ku.dk>

Meriema BELAIDOUNI <meriema at info.univ-angers.fr> writes:

> hello,
> here are some problems with ks.test.
> 
> Do you think these values are consistent?
> (2 e^{-1} means 0.2 )
> 
> 
> data file name& sample size& D & pvalue
> A&10.000&0.4202&<2.2 e^{-16}\\
> B&10.000&04294&<2.2 e^{-16}\\
> C &10.000&0.4484&<2.2 e^{-16}\\
> D&10.000&0.4569&<2.2 e^{-16}\\
> E&50.000&0.4015&<2.2 e^{-16}\\
> F&10.000&0.0321&<2.2 e^{-16}\\
> I&10.000&0.0348&<2.2 e^{-16}\\
> J&10.000&0.035&<2.2 e^{-16}\\  K&10.000&0.0158&8.71.e^{-5}\\
> L&10.000&0.006&0.47\\
> M&10.000&0.0059&0.49\\
> N&10.000&0.01144&0.0115\\
> P&10.000&0.0164&4.086.e^{-5}\\
> Q&10.000&00239&2.318. e^{-10}\\
> R&10.000&0.015&2.417 e^{-4}\\

Well, the sample size, D, and the p don't seem to match the relation
that there should be between them, but you're not telling us how you
arrived at those numbers, and I see several copying errors in that
table.
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pete at sprint.net  Mon May 28 20:22:37 2001
From: pete at sprint.net (Peter Whiting)
Date: Mon, 28 May 2001 13:22:37 -0500
Subject: [R] piped output in scan?
Message-ID: <20010528132237.A2177@sprint.net>

is there some way to execute a command and have the output piped to the scan command?

In gnuplot I might do something like: plot "<zcat data.gz|grep 9"

I would like to do something similar in R:

x<-scan(filename="<zcat data.gz|grep 9")

pete
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon May 28 20:46:08 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 28 May 2001 11:46:08 -0700 (PDT)
Subject: [R] piped output in scan?
In-Reply-To: <20010528132237.A2177@sprint.net>
Message-ID: <Pine.A41.4.33.0105281145330.24130-100000@homer41.u.washington.edu>

On Mon, 28 May 2001, Peter Whiting wrote:

> is there some way to execute a command and have the output piped to
> the scan command?
>
> In gnuplot I might do something like: plot "<zcat data.gz|grep 9"
>
> I would like to do something similar in R:
>
> x<-scan(filename="<zcat data.gz|grep 9")
>

Look at the examples in help(file), which seem to be similar to what you
want.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gfeeney at gfeeney.com  Mon May 28 22:48:37 2001
From: gfeeney at gfeeney.com (Griffith Feeney)
Date: Mon, 28 May 2001 10:48:37 -1000
Subject: [R] matrix diagonal calculations follow up
In-Reply-To: <Pine.GSO.4.21.0105200002470.9544-100000@unixc.lancs.ac.uk>
References: <Pine.GSO.4.21.0105192226420.188-100000@unixc.lancs.ac.uk>
Message-ID: <3.0.5.32.20010528104837.007b8a70@mail.gfeeney.com>

Thanks to Alex Stephenson and Martin Henry H. Stevens for replies. The code
below uses a loop but is quick enough for my purposes, which involve small
numbers of calculations with matrices with numbers of cells in the low 5
figures.

On Sat, 19 May 2001, Griffith Feeney wrote:
> Given an nxm matrix A I want to compute the nxm matrix B whose ij-th 
> element is the sum of the elements of A lying on the diagonal that ends 
> with element ij, i.e.,
> 
>      b_ij = a_ij + a_(i-1)(j-1) + a_(i-2)(j-2) + ...
> 
> In APL (which I no longer use), I would use the 'rotate' operator to derive 
> an array whose columns are diagonals of the given array and then cumulate 
> down columns. Is there a similar operator in R, or is there
another/better way?

> cumprod.diagonals
function (matrix.in) 
{
    dump("cumprod.diagonals", "cumprod.diagonals.R")
    n <- dim(matrix.in)[1]
    m <- dim(matrix.in)[2]
    matrix.out <- matrix(0, nrow=n, ncol=m)
    for (j in 1:m) {
        cols <- j:min(m, n + j - 1)
        rows <- 1:length(cols)
        index.matrix <- matrix(c(rows, cols), ncol = 2)
        matrix.out[index.matrix] <- cumprod(matrix.in[index.matrix])
    }
    for (i in 1:n) {
        rows <- i:min(n, m + i - 1)
        cols <- 1:length(rows)
        index.matrix <- matrix(c(rows, cols), ncol = 2)
        matrix.out[index.matrix] <- cumprod(matrix.in[index.matrix])
    }
    matrix.out
}

(I've switched from sum to product. Repeated calculation for the diagonal
is intentional, as I may want to comment out one or the other loops.)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ewilliams at ucsd.edu  Tue May 29 02:38:48 2001
From: ewilliams at ucsd.edu (Elliot Williams)
Date: Mon, 28 May 2001 17:38:48 -0700
Subject: [R] Apply command on vectors
Message-ID: <01052817384800.02405@ewilliam.ucsd.edu>


Hi all,

I keep running into a small problem in my programming, and I'm sure there's 
an elegant way around it...

I often want to use apply() on a matrix with a variable number of columns. It 
works just fine unless the number of columns is one, in which case the matrix 
becomes a vector, and apply() complains.  Example below:

-----------------------------
a.matrix <- matrix(rnorm(6), nc=3)

matrix.mask <- c(1,2)
apply(a.matrix[,matrix.mask], 1, mean)  # Works just fine

matrix.mask <- 1
apply(a.matrix[,matrix.mask] ,1, mean)  # Fails 

Error in apply(a.matrix[, matrix.mask], 1, mean) : 
	dim(X) must have a positive length
-----------------------------

So what I usually do is explicitly cast the thing as a matrix using, 
as.matrix(), but it's unnecessary in most cases (when the thing is a 
full-fledged matrix)-- extra computation, moving memory around, etc. 

Is there an elegant R fix?  I guess I just want the subset of the matrix to 
retain its matrixiness.

Thanks,
	Elliot.

-- 
Elliot Williams (ewilliams at ucsd.edu)
Economics Department, UC San Diego
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Tue May 29 02:49:44 2001
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Mon, 28 May 2001 19:49:44 -0500
Subject: [R] searching for good statistics e-lists
References: <20010528132237.A2177@sprint.net>
Message-ID: <3B12F228.714644C0@epm.net.co>

Hello, R users.

I want to congratulate to the R developers, this statistical
program is becoming better and better each time!

Now R is the official statistical software for my classes in
biostatistics, statistics and geostatistics.

Excuseme please, I know is not a direct R quiestion, but ?can
any one can tell me good discussion e-list for statistics?
I mean about new procedures, new statistics, some basic theory... etc.

Thank you very much for your help.

Kenneth

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrism at norcomnetworks.com  Tue May 29 02:46:43 2001
From: chrism at norcomnetworks.com (Chris Marshall)
Date: Mon, 28 May 2001 20:46:43 -0400
Subject: [R] any way to set X11() device geometry (screen offsets)?
Message-ID: <D8FC432ED011D511B1D9001083FD45E70F34BA@norcom2.norcom.net>

I am writing an R program to plot data as part of a real time display in a
network 
operations center (NOC).  Is there any way, when starting an X11 device in
R, to 
control the location of the plotting window on the screen?

I want to put up nine x11 plot windows at different places on the display,
and I want 
the operators to be able to rearrange the window as they see fit by mousing
around 
with the borders.

Most of the pieces are already there (like the width and height parameters
in the X11 
call, and the interactive behavior) except the x and y screen offsets.

Chris Marshall
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue May 29 03:39:21 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 28 May 2001 18:39:21 -0700 (PDT)
Subject: [R] Apply command on vectors
In-Reply-To: <01052817384800.02405@ewilliam.ucsd.edu>
Message-ID: <Pine.A41.4.33.0105281838110.158266-100000@homer03.u.washington.edu>

On Mon, 28 May 2001, Elliot Williams wrote:

>
> Hi all,
>
> I keep running into a small problem in my programming, and I'm sure there's
> an elegant way around it...
>
> I often want to use apply() on a matrix with a variable number of columns. It
> works just fine unless the number of columns is one, in which case the matrix
> becomes a vector, and apply() complains.  Example below:
>
> -----------------------------
> a.matrix <- matrix(rnorm(6), nc=3)
>
> matrix.mask <- c(1,2)
> apply(a.matrix[,matrix.mask], 1, mean)  # Works just fine
>
> matrix.mask <- 1
> apply(a.matrix[,matrix.mask] ,1, mean)  # Fails
>
> Error in apply(a.matrix[, matrix.mask], 1, mean) :
> 	dim(X) must have a positive length
> -----------------------------
>
> So what I usually do is explicitly cast the thing as a matrix using,
> as.matrix(), but it's unnecessary in most cases (when the thing is a
> full-fledged matrix)-- extra computation, moving memory around, etc.
>
> Is there an elegant R fix?  I guess I just want the subset of the matrix to
> retain its matrixiness.

a.matrix[,matrix.mask,drop=FALSE] does what you want.

It's in the FAQ: Why does my matrix lose dimensions?

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue May 29 04:29:35 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 28 May 2001 19:29:35 -0700 (PDT)
Subject: [R] any way to set X11() device geometry (screen offsets)?
In-Reply-To: <D8FC432ED011D511B1D9001083FD45E70F34BA@norcom2.norcom.net>
Message-ID: <Pine.A41.4.33.0105281909400.158266-100000@homer03.u.washington.edu>

On Mon, 28 May 2001, Chris Marshall wrote:

> I am writing an R program to plot data as part of a real time display in a
> network
> operations center (NOC).  Is there any way, when starting an X11 device in
> R, to
> control the location of the plotting window on the screen?
>

It doesn't look as though this would be too hard to add. We currently put
the lower right corner of the window 10 pixels from the lower right corner
of the screen, but it could be made configurable (like the width and
height). I can't actually experiment at the moment, since I'm on the wrong
operating system.

Of course the window manager has the last word on where windows actually
go, and some window managers like to think they know better than you.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Tue May 29 11:37:07 2001
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Tue, 29 May 2001 11:37:07 +0200 (MET DST)
Subject: [R] GLMMs with Gauss-Hermite quadrature
Message-ID: <200105290937.LAA01839@luc.ac.be>

There has recently been some discussion of GLMMs on this list.
Unfortunately, I deleted the messages so that this is from memory.

The original question was about doing a homework problem concerning
mixed logistic regression in R for a course based on SAS. Clearly, the
R function to use is my glmm because it uses essentially the same
algorithm as SAS (the SAS Gauss-Hermite used an adaptive method that
can reduce the number of quadrature points for the same precision).

Although I have made available this function, I never recommend its
use because I think this type of model is very artificial, except
possibly in some animal breeding situations. I have never been able to
understand why GLMMs, with their normal mixing distribution, are
popular. If someone must use mixed logistic regression in this sense,
I strongly recommend using a specialized program such as Sabre or
Egret for a variety of reasons.

At least two points came up in the discussion that I would like to
address: approximations and restrictions.

Restrictions

The main restrictions to glmm come from glm itself: 1) linear
regression and 2) exponential family conditional distribution plus 3)
the fact that the normal mixing distribution is imposed on them.
The latter is typical of the sort of general models that statisticians
love to develop that have no real mechanistic interpretation.

Troels pointed out that I have more general functions available that
lift these restrictions. gnlmm removes the two imposed by glm. Any
nonlinear model can be fitted with a wide variety of conditional
distributions. However, the mixing distribution is still normal and in
addition, in nonlinear models, a random "intercept" may often be
unnatural. However, I also have gnlmix which removes all restrictions.
It has nonlinear regression with a wide variety of conditional
distributions where any one nonlinear parameter can be random with a
mixing distribution chosen from a wide selection. Romberg integration is
used so that it is essentially exact, if rather slow. It would be
simple to extend it to say two nonlinear random parameters but time
would quickly become rather exhorbitant.

Approximations

When discussing GLMMs using Gauss-Hermite integration, the question of
approximations is essentially a red herring. No matter the number of
quadrature points, the likelihood is always exact (as exact as any
likelihood can be on a digital computer). It is a finite mixture. The
approximation question arises in the sense that this finite mixture is
more or less close to a Gaussian mixing distribution, which is a
completely artificial choice in the first place. It is quite possible
for the model with very few quadrature points to fit better than one
with sufficient for a very close approximation to the normal mixing
distribution, indicating that normal mixing is not a good choice.

It is false to say that the properties of this approximation, in the
latter sense are unknown. GLMMs using Gauss-Hermite go back at least
to an unpublished tech report by Don Pierce in the mid 70s and the
published paper by John Hinde in 1982. Since then, there is a vast
literature on the subject of the approximation in the second sense
above, especially for the model in question, mixed logistic
regression, including work by Alan Agresti, Murray Aitkin, David
Brillinger, Bruce Lindsay, etc.  (There is also another literature on
approximations replacing Gauss-Hermite, such as Breslow and Clayton.)
The most recent published reference that I am aware of is earlier this
year, but I have refereed others that are not yet in print. 15 to 20
quadrature points gives an extremely close numerical approximation to
the normal mixing distribution for most data sets, for what that is
worth.
  Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrism at norcomnetworks.com  Tue May 29 13:06:10 2001
From: chrism at norcomnetworks.com (Chris Marshall)
Date: Tue, 29 May 2001 07:06:10 -0400
Subject: [R] any way to set X11() device geometry (screen offsets)?
Message-ID: <D8FC432ED011D511B1D9001083FD45E70F34BB@norcom2.norcom.net>

 That would be wonderful if you could add it!

I am still just plain floored by the usefulness of R and its help list.

Chris Marshall

-----Original Message-----
From: Thomas Lumley
To: Chris Marshall
Cc: 'r-help at stat.math.ethz.ch'
Sent: 5/28/01 10:29 PM
Subject: Re: [R] any way to set X11() device geometry (screen offsets)?

On Mon, 28 May 2001, Chris Marshall wrote:

> I am writing an R program to plot data as part of a real time display
in a
> network
> operations center (NOC).  Is there any way, when starting an X11
device in
> R, to
> control the location of the plotting window on the screen?
>

It doesn't look as though this would be too hard to add. We currently
put
the lower right corner of the window 10 pixels from the lower right
corner
of the screen, but it could be made configurable (like the width and
height). I can't actually experiment at the moment, since I'm on the
wrong
operating system.

Of course the window manager has the last word on where windows actually
go, and some window managers like to think they know better than you.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From helgito at hi.is  Tue May 29 14:33:48 2001
From: helgito at hi.is (Helgi Tomasson)
Date: Tue, 29 May 2001 12:33:48 +0000
Subject: [R] library for mixed GLM?
References: <Tord Snall's message of "Sun, 27 May 2001 16:31:15 +0200">
	 <3.0.6.32.20010527163115.00a99c30@mail.anst.uu.se> <5.1.0.14.0.20010528064329.028c32e0@127.0.0.1>
Message-ID: <3B13972C.4C8303B7@rhi.hi.is>

Dear all

I recently had to use GLMM().  I tested both Lindsey's GLMM and
GLIMMGibbs.  For the
case of a random intercept I found Lindsey's GLMM more reliable.  When
both methods
converged the qualitative nature of the answers was similar.  GLIMMGibbs
broke down more
often, or I failed to tune the simulation proberly. 

However, GLMMGibbs allows for, say, two random factors, which (I think)
was not possible
with Lindsey's GLMM:

I shall test this further.

regards

Helgi


Troels Ring wrote:
> 
> What is it you wanted from GLMM() which you couldn't find in Jim's related
> functions, gnlr  og gnlmm for instance ? -
> 
> Best wishes
> 
> Troels
> 
> At 19:22 5/27/01, you wrote:
> >Tord Snall <tord.snall at ebc.uu.se> writes:
> >
> > > Dear all,
> > >
> > > I am taking a course in GLM given by a devoted SAS user. He has given us a
> > > homework where  a mixed GLM with a logistic link and binomially distributed
> > > observations should be fitted.
> > >
> > > I know of the library nlme for mixed effect models but as I understand it,
> > > one cannot choose between different links and distributions in the
> > > functions provided there.
> > >
> > > I have so far managed very well with R (and of course given him my R code
> > > ;-) ) but now I am stuck. Could someone please point me at a suitable
> > library.
> >
> >The mailing list search engine came up with a short discussion almost
> >exactly a year back.
> >
> >I suspect the closest you get is the glmm() function in Jim Lindsey's
> >repeated library (http://www.luc.ac.be/~jlindsey/rcode.html). It's
> >rather restricted in what it does, but it might be that what it does
> >happens to be what you need...
> >
> >--
> >    O__  ---- Peter Dalgaard             Blegdamsvej 3
> >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
> >  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> >~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Helgi Tomasson                                       FAX:  354-552-6806
University of Iceland                                PHONE:354-525-4571
Faculty of Economics and Business Administration    
email:helgito at rhi.hi.is 
Oddi v/ Sturlugotu
IS-101 Reykjavik
ICELAND
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From B.Rowlingson at lancaster.ac.uk  Tue May 29 14:19:04 2001
From: B.Rowlingson at lancaster.ac.uk (B.Rowlingson@lancaster.ac.uk)
Date: Tue, 29 May 2001 13:19:04 +0100
Subject: [R] any way to set X11() device geometry (screen offsets)?
References: <Pine.A41.4.33.0105281909400.158266-100000@homer03.u.washington.edu>
Message-ID: <3B1393B8.CB874482@lancs.ac.uk>

Thomas Lumley wrote:

> It doesn't look as though this would be too hard to add. We currently put
> the lower right corner of the window 10 pixels from the lower right corner
> of the screen, but it could be made configurable (like the width and
> height). I can't actually experiment at the moment, since I'm on the wrong
> operating system.
> 

 If you cant wait for the next release of R to do this, then get the
really rather useful 'xwit' tool from ftp.x.org or a local mirror. 
It lets you position and size windows after they've been created, 
as well as several other things.

You need to get the window name of R graphics windows - run xwininfo
and click on an R graphics window and you should see something like:

xwininfo: Window id: 0x2c00002 "R Graphics: Device 2 (ACTIVE)"

and using xwit you can set its geometry exactly with:

xwit -move 200 200 -resize 640 200 -names "R Graphics: Device 2
(ACTIVE)"

You can then bung this into a function to pop up 9 windows and then call
xwit to put them in the right place:


x9_function(){
  
for(i in 1:9){
 x11()
}
for(i in 1:9){
 # compute position and size for window i
 args<-windowsizepos(i)
 # window name
 if(i==9){state<-"ACTIVE"}else{state<-"inactive"}
 name<- paste("\"R Graphics: Device ",i+1," (",state,")\"",sep='')
 system(paste("./xwit ",args," -names ",name,sep=''))
 }
}

 You need to write the windowsizepos(i) function to return a string like
this:

> windowsizepos(1)
[1] "-move 20 20 -resize 200 200"

 that gives the right position and size for the i-th window.

 It might be worth taking the code that repositions the windows and
putting
that in a separate function, so you can easily put the windows back in
the 
default place once the user has mucked with them. You might also be able
to
use the dev. functions to figure out which is the active window so you
can 
insert 'ACTIVE' or 'inactive' in the window name.

 Hours of fun.

Barry Rowlingson
Maths and Stats
Lancaster University
Lancaster, UK
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dray at biomserv.univ-lyon1.fr  Tue May 29 14:24:22 2001
From: dray at biomserv.univ-lyon1.fr (Stephane Dray)
Date: Tue, 29 May 2001 14:24:22 +0200
Subject: [R] geary statistics
Message-ID: <a05010408b7394518e111@[134.214.32.69]>

Hello,
i' m looking for a function to compute geary statistic for spatial correlation.

Thanks.
-- 
St?phane DRAY
---------------------------------------------------------------
Biom?trie et Biologie ?volutive - Equipe "?cologie Statistique"
Universite Lyon 1 - Bat 711 - 69622 Villeurbanne CEDEX - France

Tel : 04 72 43 27 56			   Fax : 04 78 89 27 19
       04 72 43 27 57 	   E-mail : dray at biomserv.univ-lyon1.fr 
---------------------------------------------------------------
ADE-4               http://pbil.univ-lyon1.fr/ADE-4/ADE-4F.html
---------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Heberto at meakins.lan.mcgill.ca  Tue May 29 14:49:18 2001
From: Heberto at meakins.lan.mcgill.ca (Heberto Ghezzo)
Date: Tue, 29 May 2001 08:49:18 -0400
Subject: [R] xyplot
Message-ID: <200105291249.f4TCnHS09073@water.cc.mcgill.ca>

Hello, R 1.2.2 on W98
I tried xyplot, as plotting goes it works but the background is dark 
olive in my screen and dark grey in printing with a laser, so lines 
and points are invisible in paper, in the screen they are light blue.
I check the help and print the properties and can not find the way to 
set the background color to white, i.e. I can not find $background 
anywhere. Can somebody please help?
Thanks.

R. Heberto Ghezzo  Ph.D.
Meakins-Christie Labs
McGill University
Montreal - Canada
heberto at meakins.lan.mcgill.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From KKSirotkin at aol.com  Tue May 29 14:56:48 2001
From: KKSirotkin at aol.com (KKSirotkin@aol.com)
Date: Tue, 29 May 2001 08:56:48 EDT
Subject: [R] Using "R" to find peaks in sampled data
Message-ID: <dd.1535d6a1.2844f690@aol.com>


This is probably a trivial question, but I did
not see it in the FAQs.  Perhaps I simply need
to be pointed to some URLs.

In any case, I have some sampled data that has peaks,
and I would like to extract peak height, location, and
width, according to almost any statistical model.
Gaussian would seem to make the most sense.

There can also be "steps" increasing the amplitude
over a region, that should also be captured and removed
before the peak analysis.

Can anyone point me to either some FAQs, or "R" code
to do this?  I have not yet installed "R", and this
is the only current use I would have for it and I want
to know if it makes sense to bother before going to
the effort.

TIA

Karl Sirotkin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Tue May 29 15:31:41 2001
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Tue, 29 May 2001 15:31:41 +0200 (MET DST)
Subject: [R] library for mixed GLM?
In-Reply-To: <3B13972C.4C8303B7@rhi.hi.is> from "Helgi Tomasson" at May 29, 2001 12:33:48 PM
Message-ID: <200105291331.PAA31278@luc.ac.be>


> 
> Dear all
> 
> I recently had to use GLMM().  I tested both Lindsey's GLMM and
> GLIMMGibbs.  For the
> case of a random intercept I found Lindsey's GLMM more reliable.  When
> both methods
> converged the qualitative nature of the answers was similar.  GLIMMGibbs
> broke down more
> often, or I failed to tune the simulation proberly. 
> 
> However, GLMMGibbs allows for, say, two random factors, which (I think)
> was not possible
> with Lindsey's GLMM:

Yes you are absolutely right on that. Jim

> 
> I shall test this further.
> 
> regards
> 
> Helgi
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrism at norcomnetworks.com  Tue May 29 15:54:15 2001
From: chrism at norcomnetworks.com (Chris Marshall)
Date: Tue, 29 May 2001 09:54:15 -0400
Subject: [R] any way to set X11() device geometry (screen offsets)?
Message-ID: <D8FC432ED011D511B1D9001083FD45E70F34BC@norcom2.norcom.net>

 I just knew that had to be a way to do what you describe in X outside of R.

What you have described is perfect.  Thanks!

Chris Marshall

-----Original Message-----
From: B.Rowlingson at lancaster.ac.uk
To: Thomas Lumley
Cc: Chris Marshall; 'r-help at stat.math.ethz.ch'
Sent: 5/29/01 8:19 AM
Subject: Re: [R] any way to set X11() device geometry (screen offsets)?

Thomas Lumley wrote:

> It doesn't look as though this would be too hard to add. We currently
put
> the lower right corner of the window 10 pixels from the lower right
corner
> of the screen, but it could be made configurable (like the width and
> height). I can't actually experiment at the moment, since I'm on the
wrong
> operating system.
> 

 If you cant wait for the next release of R to do this, then get the
really rather useful 'xwit' tool from ftp.x.org or a local mirror. 
It lets you position and size windows after they've been created, 
as well as several other things.

You need to get the window name of R graphics windows - run xwininfo
and click on an R graphics window and you should see something like:

xwininfo: Window id: 0x2c00002 "R Graphics: Device 2 (ACTIVE)"

and using xwit you can set its geometry exactly with:

xwit -move 200 200 -resize 640 200 -names "R Graphics: Device 2
(ACTIVE)"

You can then bung this into a function to pop up 9 windows and then call
xwit to put them in the right place:


x9_function(){
  
for(i in 1:9){
 x11()
}
for(i in 1:9){
 # compute position and size for window i
 args<-windowsizepos(i)
 # window name
 if(i==9){state<-"ACTIVE"}else{state<-"inactive"}
 name<- paste("\"R Graphics: Device ",i+1," (",state,")\"",sep='')
 system(paste("./xwit ",args," -names ",name,sep=''))
 }
}

 You need to write the windowsizepos(i) function to return a string like
this:

> windowsizepos(1)
[1] "-move 20 20 -resize 200 200"

 that gives the right position and size for the i-th window.

 It might be worth taking the code that repositions the windows and
putting
that in a separate function, so you can easily put the windows back in
the 
default place once the user has mucked with them. You might also be able
to
use the dev. functions to figure out which is the active window so you
can 
insert 'ACTIVE' or 'inactive' in the window name.

 Hours of fun.

Barry Rowlingson
Maths and Stats
Lancaster University
Lancaster, UK
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tord.snall at ebc.uu.se  Tue May 29 15:10:46 2001
From: tord.snall at ebc.uu.se (Tord Snall)
Date: Tue, 29 May 2001 15:10:46 +0200
Subject: [R] library for mixed GLM?
In-Reply-To: <3B13972C.4C8303B7@rhi.hi.is>
References: <Tord Snall's message of "Sun, 27 May 2001 16:31:15 +0200">
 <3.0.6.32.20010527163115.00a99c30@mail.anst.uu.se>
 <5.1.0.14.0.20010528064329.028c32e0@127.0.0.1>
Message-ID: <3.0.6.32.20010529151046.009e7a00@mail.anst.uu.se>

Dear Ripley, Dalgaard and Ring,
Thanks all for the recommendations, and especially thanks Troel Ring for
providing me with further information and examples!

I have now tried both Lindsey's library and GLMMGibbs and I experienced the
same as Helgi describe below. 

I use R 1.2.3 on Win NT.


Sincerely,
Tord

>
>I recently had to use GLMM().  I tested both Lindsey's GLMM and
>GLIMMGibbs.  For the
>case of a random intercept I found Lindsey's GLMM more reliable.  When
>both methods
>converged the qualitative nature of the answers was similar.  GLIMMGibbs
>broke down more
>often, or I failed to tune the simulation proberly. 
>
>However, GLMMGibbs allows for, say, two random factors, which (I think)
>was not possible
>with Lindsey's GLMM:
>
>I shall test this further.
>
>regards
>
>Helgi
>
>
>Troels Ring wrote:
>> 
>> What is it you wanted from GLMM() which you couldn't find in Jim's related
>> functions, gnlr  og gnlmm for instance ? -
>> 
>> Best wishes
>> 
>> Troels
>> 
>> At 19:22 5/27/01, you wrote:
>> >Tord Snall <tord.snall at ebc.uu.se> writes:
>> >
>> > > Dear all,
>> > >
>> > > I am taking a course in GLM given by a devoted SAS user. He has
given us a
>> > > homework where  a mixed GLM with a logistic link and binomially
distributed
>> > > observations should be fitted.
>> > >
>> > > I know of the library nlme for mixed effect models but as I
understand it,
>> > > one cannot choose between different links and distributions in the
>> > > functions provided there.
>> > >
>> > > I have so far managed very well with R (and of course given him my R
code
>> > > ;-) ) but now I am stuck. Could someone please point me at a suitable
>> > library.
>> >
>> >The mailing list search engine came up with a short discussion almost
>> >exactly a year back.
>> >
>> >I suspect the closest you get is the glmm() function in Jim Lindsey's
>> >repeated library (http://www.luc.ac.be/~jlindsey/rcode.html). It's
>> >rather restricted in what it does, but it might be that what it does
>> >happens to be what you need...
>> >
>> >--
>> >    O__  ---- Peter Dalgaard             Blegdamsvej 3
>> >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>> >  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>> >~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
>>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>> >r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> >Send "info", "help", or "[un]subscribe"
>> >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>>
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>> 
>>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
>> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>
>-- 
>Helgi Tomasson                                       FAX:  354-552-6806
>University of Iceland                                PHONE:354-525-4571
>Faculty of Economics and Business Administration    
>email:helgito at rhi.hi.is 
>Oddi v/ Sturlugotu
>IS-101 Reykjavik
>ICELAND
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>

-----------------------------------------------------------------------
Tord Sn?ll
Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
Villav?gen 14			
SE-752 36 Uppsala, Sweden
Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
E-mail: Tord.Snall at ebc.uu.se
http://www.vaxtbio.uu.se/resfold/snall.htm
------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From messad at cirad.cirad.fr  Tue May 29 16:35:29 2001
From: messad at cirad.cirad.fr (Samir Messad)
Date: Tue, 29 May 2001 16:35:29 +0200
Subject: [R] xyplot
In-Reply-To: <200105291249.f4TCnHS09073@water.cc.mcgill.ca>
Message-ID: <3.0.6.32.20010529163529.00a806c0@mail.cirad.fr>

At 08:49 29/05/01 -0400, Heberto Ghezzo wrote:
>Hello, R 1.2.2 on W98
>I tried xyplot, as plotting goes it works but the background is dark 
>olive in my screen and dark grey in printing with a laser, so lines 
>and points are invisible in paper, in the screen they are light blue.
>I check the help and print the properties and can not find the way to 
>set the background color to white, i.e. I can not find $background 
>anywhere. Can somebody please help?
>Thanks.
>
>R. Heberto Ghezzo  Ph.D.
>Meakins-Christie Labs
>McGill University
>Montreal - Canada
>heberto at meakins.lan.mcgill.ca


Hello,
you can try this before xyplot : 

trellis.device(bg = "white") 

Regards.

Samir Messad



Samir Messad    E-Mail : messad at cirad.fr
Statisticien
CIRAD-EMVT
TA 30/A
Programme Productions Animales
Campus de Baillarguet
34398 Montpellier cedex 5 (France)

T?l :  +33 (0)4-67-59-38-44
Fax : +33 (0)4-67-59-38-25
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Tue May 29 16:46:29 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Tue, 29 May 2001 15:46:29 +0100 (BST)
Subject: [R] Using "R" to find peaks in sampled data
In-Reply-To: <dd.1535d6a1.2844f690@aol.com>
Message-ID: <Pine.LNX.4.10.10105291541350.2181-100000@localhost.localdomain>

> 
> In any case, I have some sampled data that has peaks,
> and I would like to extract peak height, location, and
> width, according to almost any statistical model.
> Gaussian would seem to make the most sense.
Be specific about the form of your data.
Do you mean that you have a single variable you measured, and you are
talking about peaks of some histogram of the data? Or do you have
x,y data? If the latter, the peak height is just max(y), and the location
is x[y==max(y)]. The width is not too hard; I have a function that finds
the
FWHM.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue May 29 16:58:50 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 29 May 2001 16:58:50 +0200
Subject: [R] Using "R" to find peaks in sampled data
In-Reply-To: <Pine.LNX.4.10.10105291541350.2181-100000@localhost.localdomain>
References: <dd.1535d6a1.2844f690@aol.com>
	<Pine.LNX.4.10.10105291541350.2181-100000@localhost.localdomain>
Message-ID: <15123.47402.747188.983504@gargle.gargle.HOWL>

>>>>> "Bill" == Bill Simpson <wsi at gcal.ac.uk> writes:

    >>  In any case, I have some sampled data that has peaks, and I would
    >> like to extract peak height, location, and width, according to
    >> almost any statistical model.  Gaussian would seem to make the most
    >> sense.
    Bill> Be specific about the form of your data.  Do you mean that you
    Bill> have a single variable you measured, and you are talking about
    Bill> peaks of some histogram of the data? Or do you have x,y data? If
    Bill> the latter, the peak height is just max(y), and the location is
    Bill> x[y==max(y)].

where you might want to use

      imax <- which.max(y)
      x[imax]
etc

    Bill>  The width is not too hard; I have a function that finds the FWHM.

which reminds me that S-plus has a function  peaks() 
that some folks have wanted for R.  If anyone has good code,
not stolen from S-plus, but still compatible,  please post...

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Tue May 29 16:59:12 2001
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Tue, 29 May 2001 10:59:12 -0400
Subject: [R] Apply command on vectors
References: <01052817384800.02405@ewilliam.ucsd.edu>
Message-ID: <3B13B93F.A86AEE82@umsanet.edu.bo>

Hola!try something like

apply(a.matrix[,matrix.mask, drop=FALSE], 1, mean)

and see he help and examples of ?"["

Kjetil Halvorsen

Elliot Williams wrote:
> 
> Hi all,
> 
> I keep running into a small problem in my programming, and I'm sure there's
> an elegant way around it...
> 
> I often want to use apply() on a matrix with a variable number of columns. It
> works just fine unless the number of columns is one, in which case the matrix
> becomes a vector, and apply() complains.  Example below:
> 
> -----------------------------
> a.matrix <- matrix(rnorm(6), nc=3)
> 
> matrix.mask <- c(1,2)
> apply(a.matrix[,matrix.mask], 1, mean)  # Works just fine
> 
> matrix.mask <- 1
> apply(a.matrix[,matrix.mask] ,1, mean)  # Fails
> 
> Error in apply(a.matrix[, matrix.mask], 1, mean) :
>         dim(X) must have a positive length
> -----------------------------
> 
> So what I usually do is explicitly cast the thing as a matrix using,
> as.matrix(), but it's unnecessary in most cases (when the thing is a
> full-fledged matrix)-- extra computation, moving memory around, etc.
> 
> Is there an elegant R fix?  I guess I just want the subset of the matrix to
> retain its matrixiness.
> 
> Thanks,
>         Elliot.
> 
> --
> Elliot Williams (ewilliams at ucsd.edu)
> Economics Department, UC San Diego
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Tue May 29 17:22:25 2001
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Tue, 29 May 2001 11:22:25 -0400
Subject: [R] searching for good statistics e-lists
References: <20010528132237.A2177@sprint.net> <3B12F228.714644C0@epm.net.co>
Message-ID: <3B13BEB1.41162F9E@umsanet.edu.bo>

Hola!

You can see the list of statistics lists at

http://www.stat.duke.edu/index.html

Kjetil Halvorsen

Kenneth Cabrera wrote:
> 
> Hello, R users.
> 
> I want to congratulate to the R developers, this statistical
> program is becoming better and better each time!
> 
> Now R is the official statistical software for my classes in
> biostatistics, statistics and geostatistics.
> 
> Excuseme please, I know is not a direct R quiestion, but ?can
> any one can tell me good discussion e-list for statistics?
> I mean about new procedures, new statistics, some basic theory... etc.
> 
> Thank you very much for your help.
> 
> Kenneth
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue May 29 17:33:40 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 29 May 2001 08:33:40 -0700 (PDT)
Subject: [R] any way to set X11() device geometry (screen offsets)?
In-Reply-To: <D8FC432ED011D511B1D9001083FD45E70F34BC@norcom2.norcom.net>
Message-ID: <Pine.A41.4.33.0105290826120.107374-100000@homer23.u.washington.edu>

> -----Original Message-----
> From: B.Rowlingson at lancaster.ac.uk
> To: Thomas Lumley
> Cc: Chris Marshall; 'r-help at stat.math.ethz.ch'
> Sent: 5/29/01 8:19 AM
> Subject: Re: [R] any way to set X11() device geometry (screen offsets)?
>
<snip>
>						 You might also be able
> to
> use the dev. functions to figure out which is the active window so you
> can
> insert 'ACTIVE' or 'inactive' in the window name.

dev.list() gives the list of current device numbers and dev.cur() gives
which one is "ACTIVE"
eg

R> l<-dev.list()
R> act<-paste(l,"(inactive)")
R> act[match(dev.cur(),l)]<-paste(dev.cur(),"(ACTIVE)")
R> paste("R Graphics Device:",act)
[1] "R Graphics Device: 2 (inactive)" "R Graphics Device: 3 (ACTIVE)"


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrism at norcomnetworks.com  Tue May 29 17:57:00 2001
From: chrism at norcomnetworks.com (Chris Marshall)
Date: Tue, 29 May 2001 11:57:00 -0400
Subject: [R] any way to set X11() device geometry (screen offsets)?
Message-ID: <D8FC432ED011D511B1D9001083FD45E7048B8B@norcom2.norcom.net>

Thomas:

I have already messed around with this for a few hours.  I have listed the
functions I wrote below.

The actual usage would look like this:

ids <- get.win.ids()
resize.plot.win(ids[1],600,200)

That xwit sure is useful!

Chris Marshall

get.win.ids <- function(){
   dl <- as.vector(dev.list())
   cur <- as.vector(dev.cur())
   ids <- c("")
   for (i in 1:length(dl)){
      if (cur==dl[i]){
         name <- paste("R Graphics: Device ",cur," (ACTIVE)",sep="")
      }
      else {
         name <- paste("R Graphics: Device ",dl[i]," (inactive)",sep="")
      }
      x <- strsplit(
         system(paste("xwininfo -name \"",name,"\" | grep \"Window
id:\"",sep=""),intern=TRUE),
         split=" "
      )
      ids[i] <- x[[1]][4]
   }
   ids
}

resize.plot.win <- function(id,w,h){
   system(paste("xwit -id ",id," -resize ",w," ",h,sep=""))
}

move.plot.win <- function(id,x,y){
   system(paste("xwit -id ",id," -move ",x," ",y,sep=""))
}

Chris Marshall

-----Original Message-----
From: Thomas Lumley
To: Chris Marshall
Cc: ''r-help at stat.math.ethz.ch' '
Sent: 5/29/01 11:33 AM
Subject: RE: [R] any way to set X11() device geometry (screen offsets)?

> -----Original Message-----
> From: B.Rowlingson at lancaster.ac.uk
> To: Thomas Lumley
> Cc: Chris Marshall; 'r-help at stat.math.ethz.ch'
> Sent: 5/29/01 8:19 AM
> Subject: Re: [R] any way to set X11() device geometry (screen
offsets)?
>
<snip>
>						 You might also be able
> to
> use the dev. functions to figure out which is the active window so you
> can
> insert 'ACTIVE' or 'inactive' in the window name.

dev.list() gives the list of current device numbers and dev.cur() gives
which one is "ACTIVE"
eg

R> l<-dev.list()
R> act<-paste(l,"(inactive)")
R> act[match(dev.cur(),l)]<-paste(dev.cur(),"(ACTIVE)")
R> paste("R Graphics Device:",act)
[1] "R Graphics Device: 2 (inactive)" "R Graphics Device: 3 (ACTIVE)"


	-thomas
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Tue May 29 18:13:00 2001
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Tue, 29 May 2001 12:13:00 -0400
Subject: [R] Simple example of automating testing
Message-ID: <15123.51852.701544.376879@gargle.gargle.HOWL>

Hi,

Can anyone suggest a simple example of automated testing in R that I might look
at and learn from? I can think of a variety of ways to do testing in R, but am
hopeful that there is a standard recommended way. I saw references to testing
in the "Writing R Extensions" manual, but nothing clear enough (to me!) for me to
make my own.

Thanks,

Dave Kane

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 29 18:27:58 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 29 May 2001 17:27:58 +0100 (GMT Daylight Time)
Subject: [R] Simple example of automating testing
In-Reply-To: <15123.51852.701544.376879@gargle.gargle.HOWL>
Message-ID: <Pine.WNT.4.31.0105291726270.1084-100000@gannet>

On Tue, 29 May 2001, David Kane  <David Kane wrote:

> Hi,
>
> Can anyone suggest a simple example of automated testing in R that I might look
> at and learn from? I can think of a variety of ways to do testing in R, but am
> hopeful that there is a standard recommended way. I saw references to testing
> in the "Writing R Extensions" manual, but nothing clear enough (to me!) for me to
> make my own.

How about the examples in the packages such as foreign and rpart on CRAN?
They are running automatically by R CMD check.  Alternatively, R's own
tests directory in the sources will provide lots of examples.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Tue May 29 18:59:33 2001
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Tue, 29 May 2001 18:59:33 +0200 (CEST)
Subject: [R] geary statistics
In-Reply-To: <a05010408b7394518e111@[134.214.32.69]>
Message-ID: <Pine.LNX.4.21.0105291851560.32595-100000@reclus.nhh.no>

On Tue, 29 May 2001, Stephane Dray wrote:

> i' m looking for a function to compute geary statistic for spatial
> correlation.
> 
In a teaching package that I use locally, you will find global(), which
calculates the legacy Geary and Moran statistics. There are lots of things
you don't need in the package, but you will need to create a neighbourhood
weights matrix: look at example(global) and the data file Weire.R to see
how the sparse weights matrix is handled in this package. The package is
at:

ftp://reclus.nhh.no/pub/sda/sda.zip

for Windows and

ftp://reclus.nhh.no/pub/sda/sda_0.1-2.tar.gz

for source.

Hope this helps,

Roger


-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hstevens at rci.rutgers.edu  Tue May 29 19:07:48 2001
From: hstevens at rci.rutgers.edu (Martin Henry H. Stevens)
Date: Tue, 29 May 2001 13:07:48 -0400
Subject: [R] format for tick labels
Message-ID: <00b501c0e861$e39776c0$9db9e6a5@rutgers.edu>

Running R 1.2.3, Windows 98

I checked the archives, and I couldn't find anything pertaining to this:

How do I control format (scientific notation versus decimal, e.g.) on tick
labels?
TIA,
Henry

Dr. M. Henry H. Stevens
Postdoctoral Associate
Department of Ecology, Evolution, & Natural Resources
14 College Farm Road
Cook College, Rutgers University
New Brunswick, NJ 08901-8551

email: hstevens at rci.rutgers.edu
phone: 732-932-9631
fax: 732-932-8746

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Tue May 29 23:03:12 2001
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Wed, 30 May 2001 09:03:12 +1200
Subject: [R] format for tick labels
References: <00b501c0e861$e39776c0$9db9e6a5@rutgers.edu>
Message-ID: <00a401c0e882$c5b8f7c0$175dd882@stat.auckland.ac.nz>

Hi


> I checked the archives, and I couldn't find anything pertaining to this:
>
> How do I control format (scientific notation versus decimal, e.g.) on tick
> labels?


You might want to look at axis() and formatC().  For example, try ...

    par(mfrow=c(2,1))
    x <- c(0, 100, 10000, 1000000)
    y <- 1:4
    plot(x, y)
    at <- pretty(x)
    plot(x, y, axes=F)
    box()
    axis(1, at=at, labels=formatC(at, format="f", digits=0))

Hope that helps

Paul



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Wed May 30 00:15:37 2001
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 30 May 2001 10:15:37 +1200
Subject: [R] format for tick labels
References: <00b501c0e861$e39776c0$9db9e6a5@rutgers.edu>
Message-ID: <3B141F89.4D8DEE3F@stat.auckland.ac.nz>

"Martin Henry H. Stevens" wrote:
> 
> Running R 1.2.3, Windows 98
> 
> I checked the archives, and I couldn't find anything pertaining to this:
> 
> How do I control format (scientific notation versus decimal, e.g.) on tick
> labels?

                                                             3
Are you asking about seeing tick labels of the form: 1.2 x 10  ?

If so, here is a quick little function called "sci.axis" (and a couple
of examples).  There are a couple of weaknesses -- the main one being
that the handling of log scales overly simple (the strategy I used
was just to put tickmarks at every power of 10).  You can override
the default choice by using the "at" argument.

-- 
Ross Ihaka                         Email:  ihaka at stat.auckland.ac.nz
Department of Statistics           Phone:  (64-9) 373-7599 x 5054
University of Auckland             Fax:    (64-9) 373-7018
Private Bag 92019, Auckland
New Zealand
-------------- next part --------------
sci.axis <- function(side, at = NULL, labels = NULL, ...) 
{
  atvalue <-
    function(axp, log) {
      if (log)
        at <- 10^seq(log10(axp[1]), log10(axp[2]), by = 1)
      else
        at <- seq(axp[1], axp[2], length = axp[3] + 1)
    }
  apar <- par(c("xlog", "ylog", "xaxp", "yaxp"))
  if (length(at) == 0) {
    if (side == 1 || side == 3)
      at <- atvalue(apar$xaxp, apar$xlog)
    else
      at <- atvalue(apar$yaxp, apar$ylog)
  }
  if (length(labels) == 0) {
    power <- floor(log10(at))
    base <- at/10^power
    labels <- vector("expression", length(at))
    for(i in 1:length(at))
      labels[[i]] <- substitute(base %*% 10^power,
                                list(base = base[i],
                                     power = power[i]))
  }
  axis(side, at, labels = labels, ...)
}

#  Trivial examples

y <- 10^(0:7)

par(las = 0)
plot(y, axes=F, log = "y")
axis(1)
sci.axis(2)
box()

par(las = 1)
plot(y, axes=F, log = "y")
axis(1)
sci.axis(2)
box()


From feldesmanm at pdx.edu  Wed May 30 01:31:20 2001
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Tue, 29 May 2001 16:31:20 -0700
Subject: [R] Scripting capabilities for R
Message-ID: <5.1.0.14.2.20010529161656.00a90c20@127.0.0.1>

I'm in the final week of teaching a course to beginners using R and 
S-Plus.  Since I forbade the students from using the "point-and-click" 
interface in S-Plus, they've become reasonably proficient at using the 
command line in both programs.

Students really like the speed and ease-of-use of R for the vast majority 
of their projects.  I think they'd switch to R completely if they could get:

1)  trellis graphics (I've encouraged them to try grid and lattice).
2)  the full complement of multiple comparisons capabilities found in 
Splus' multicomp.
3)  the more comprehensive discriminant analysis routines in S-Plus 2000 
and 6.0 - the ones with all the inferential testing as well as the 
classification results (they use the MASS routines now.  The S-Plus version 
has more options to study the separations themselves).

4)  Scripting capabilities.

Of these 4, their priority is for R to have S-Plus scripting capability.  I 
realize that they can get this using Emacs with ESS, but I found it 
sufficiently daunting to teach rank beginners how to use R/S-Plus 
proficiently in 10 weeks that teaching them how to use Emacs/ESS at the 
same time scares the bejesus out of me.

I haven't seen any mention of this as a development priority.  Is any of 
this on anyone's "to do" list?

Thanks for such an incredibly robust program.  Keep up the great work.






=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://web.pdx.edu/~h1mf
PGP Key Available On Request
======================

"Anyway, no drug, not even alcohol, causes the fundamental ills of society.
If we're looking for the source of our troubles, we shouldn't test people
for drugs, we should test them for stupidity, ignorance, greed and love of
power."   P.J. O'Rourke

Powered by Optiplochoerus and Windows 2000 (scary isn't it?)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Wed May 30 04:10:34 2001
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Tue, 29 May 2001 21:10:34 -0500 (CDT)
Subject: [R] non-R hevea question
Message-ID: <200105300210.VAA07107@uhddx01.dt.uh.edu>

Dear People:

Here is a non-R question, please:

Does anyone use hevea for Windows to translate LaTex to 
HTML?

If so, how do you get \bar, \sqrt, and \ne, please?

I get an error message of unknown macro.

Thanks in advance for any help!

Sincerely,
Erin M. Hodgess, Ph.D.
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
One Main Street 
Houston, TX 77002
e-mail: hodgess at uhddx01.dt.uh.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wloliver at qwest.net  Wed May 30 04:28:27 2001
From: wloliver at qwest.net (Bill Oliver)
Date: Tue, 29 May 2001 20:28:27 -0600
Subject: [R] Scripting capabilities for R
References: <5.1.0.14.2.20010529161656.00a90c20@127.0.0.1>
Message-ID: <006b01c0e8b0$3604db70$b056e43f@91qez>

Students who are using R and S-Plus under Windows may want to try out Uwe
Ligges's plugin for the WinEdt text editor. They can find it at

http://rsync.r-project.org/pub/R/


R-WinEdt can be used for coding in R and S-Plus. In fact, it makes it quite
easy to switch back and forth between R and S-Plus, for those who need to
use Trellis graphics and the Hmisc package. I find the R-WinEdt interface to
be wonderfully simple and elegant. Note that the WinEdt editor is not free,
so your students will have to pay $30 US after a trial period of a month.
WinEdt is also a very fine LaTeX editor.

-Bill


----- Original Message -----
From: "Marc Feldesman" <feldesmanm at pdx.edu>
To: <r-help at stat.math.ethz.ch>
Sent: Tuesday, May 29, 2001 5:31 PM
Subject: [R] Scripting capabilities for R


> I'm in the final week of teaching a course to beginners using R and
> S-Plus.  Since I forbade the students from using the "point-and-click"
> interface in S-Plus, they've become reasonably proficient at using the
> command line in both programs.

<snip>

>
> 4)  Scripting capabilities.
>
> Of these 4, their priority is for R to have S-Plus scripting capability.
I
> realize that they can get this using Emacs with ESS, but I found it
> sufficiently daunting to teach rank beginners how to use R/S-Plus
> proficiently in 10 weeks that teaching them how to use Emacs/ESS at the
> same time scares the bejesus out of me.
>
> I haven't seen any mention of this as a development priority.  Is any of
> this on anyone's "to do" list?
>
> Thanks for such an incredibly robust program.  Keep up the great work.
>
<snip>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.malewski at gmx.de  Wed May 30 08:22:50 2001
From: peter.malewski at gmx.de (Peter Malewski)
Date: Wed, 30 May 2001 08:22:50 +0200
Subject: [R] non-R hevea question
In-Reply-To: <200105300210.VAA07107@uhddx01.dt.uh.edu>; from hodgess@uhddx01.dt.uh.edu on Tue, May 29, 2001 at 09:10:34PM -0500
References: <200105300210.VAA07107@uhddx01.dt.uh.edu>
Message-ID: <20010530082249.A25075@rzpool05.pool.rz.tu-bs.de>

On Tue, May 29, 2001 at 09:10:34PM -0500, Erin Hodgess wrote:
> If so, how do you get \bar, \sqrt, and \ne, please?

I've used latex2html: if I remember right mathem. formula are translated 
to gifs. See http://www.dante.de (also in english). btw: there are several TeX/
Latex related newsgroups- + mailinglists



-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Wed May 30 08:21:28 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Wed, 30 May 2001 08:21:28 +0200
Subject: [R] Scripting capabilities for R
In-Reply-To: <5.1.0.14.2.20010529161656.00a90c20@127.0.0.1>
Message-ID: <MABBLJDICACNFOLGIHJOCEJPCDAA.phgrosje@ulb.ac.be>

>Of these 4, their priority is for R to have S-Plus scripting capability.  I
>realize that they can get this using Emacs with ESS, but I found it
>sufficiently daunting to teach rank beginners how to use R/S-Plus
>proficiently in 10 weeks that teaching them how to use Emacs/ESS at the
>same time scares the bejesus out of me.

There is WinEd (there is a reference in CRAN). I personnally use Textpad
which also offer a synthax color highlighting, and many other nice feature
for R/Splus scripts (see http://www.textpad.com). Both of these program ar
shareware... they are not free, and they work under Windows.

I am interested by your list of students wishes, since I am developing a GPL
user interface for math/stat calculation engines (among others: R and Splus,
but also Octave, Scilab and Mathematica,...). It will run under Windows only
(for the moment), but will be able to interact with calculation engines on
other computers in the network, including Unix/Linux boxes. Do your students
asked for some more specific features?

If you want more infos about my project, see http://www.sciviews.org. You
won't find code or program yet for this user interface, and the project is
not going very fast since I have other priorities now (see also
http://www.sciviews.org/_passtec), but a first working version will be out
probably next year. It will provide similar features as the Matlab 6.0
interface, but with the opportunity to interface several calculation engines
at a time. Script editing/debugging with synthax highlighting, quick help
tips, autocompletion, etc... is already done. I think your students would
love it!!!

Cheers,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 30 08:58:30 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 30 May 2001 07:58:30 +0100 (BST)
Subject: [R] Scripting capabilities for R
In-Reply-To: <5.1.0.14.2.20010529161656.00a90c20@127.0.0.1>
Message-ID: <Pine.GSO.4.31.0105300747550.15645-100000@auk.stats>

On Tue, 29 May 2001, Marc Feldesman wrote:

> I'm in the final week of teaching a course to beginners using R and
> S-Plus.  Since I forbade the students from using the "point-and-click"
> interface in S-Plus, they've become reasonably proficient at using the
> command line in both programs.
>
> Students really like the speed and ease-of-use of R for the vast majority
> of their projects.  I think they'd switch to R completely if they could get:
>
> 1)  trellis graphics (I've encouraged them to try grid and lattice).

Too early, I think. It is Devel software and fails in a lot of my
examples (sometime fails, but often does not give the intended output
which is hard for those who have not tried Trellis to know).  Not a
criticism: those of us who used Trellis 1 know how first versions go.

> 2)  the full complement of multiple comparisons capabilities found in
> Splus' multicomp.
> 3)  the more comprehensive discriminant analysis routines in S-Plus 2000
> and 6.0 - the ones with all the inferential testing as well as the
> classification results (they use the MASS routines now.  The S-Plus version
> has more options to study the separations themselves).

That would be a very small interest (I know it is yours) as for
classification there are almost always better ways.

[Historical note: S-PLUS users lived without all of those for many years,
and the last is only in 2000 and 6.0 I believe.  Already R has quite a bit
more than S-PLUS 3.4 of 1996, but also a few gaps relative to that.]

> 4)  Scripting capabilities.
>
> Of these 4, their priority is for R to have S-Plus scripting capability.  I
> realize that they can get this using Emacs with ESS, but I found it
> sufficiently daunting to teach rank beginners how to use R/S-Plus
> proficiently in 10 weeks that teaching them how to use Emacs/ESS at the
> same time scares the bejesus out of me.
>
> I haven't seen any mention of this as a development priority.  Is any of
> this on anyone's "to do" list?

Not really sure what you mean here.  R is itself a scripting language,
so in the most common use of `scripting' we have it.  Do you mean
the S-PLUS for Windows `script windows'?   If so which aspects?
We already have the ability to display code and to submit from it,
which is what was most asked for.  (Use Display file from the File menu,
highlight code, use Ctrl-V or the menus.)

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjb at di.fct.unl.pt  Wed May 30 11:34:15 2001
From: cjb at di.fct.unl.pt (cjb)
Date: Wed, 30 May 2001 10:34:15 +0100
Subject: [R] Graphics
Message-ID: <3B14BE97.F8EE256E@di.fct.unl.pt>

Please, will someone tell me why graphics are not displayed at all when
I use a graphical function. Is there some additional software required
to see the graphics?

ThankYou
CJoseBento
Portugal



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Wed May 30 12:02:21 2001
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Wed, 30 May 2001 11:02:21 +0100 (BST)
Subject: [R] Graphics
In-Reply-To: <3B14BE97.F8EE256E@di.fct.unl.pt>
Message-ID: <XFMail.010530110221.theis@statistik.uni-dortmund.de>

Please tell us which OS you use, which version of R you got, so that we can get
an idea what might be wrong! Normally
> plot(1:100,rnorm(100))
should give you a scatterplot. If this doesn't work something is wrong...

On 30-May-01 cjb wrote:
> Please, will someone tell me why graphics are not displayed at all when
> I use a graphical function. Is there some additional software required
> to see the graphics?
No.

Cheers Winfried
----------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 30-May-01
Time: 10:58:04
Dipl.-Math. Winfried Theis, Fachbereich Statistik, Graduiertenkolleg
"Angewandte Statistik"
Universitt Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903  FAX: +49-231-755-4387
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Wed May 30 12:33:38 2001
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Wed, 30 May 2001 12:33:38 +0200
Subject: [R] Transformation of dissimilarity or distance matrix
Message-ID: <OF4839B0F5.A7CB1125-ONC1256A5C.00382728@eurotel.cz>


Dear List,

is there an elegant (or even not elegant) way how to transform
dissimilarity or distance matrix A
(or, in general, arbitrary symmetrical matrix) by transposition of rows and
columns into a form
closest to "block diagonal" matrix B?
The matrix A is adjusted the following way

A[A<epsilon] <-0 #(epsilon is given "small" number)

B: (in its ideal form)

b_{11}...b_{1i} 0...0
...
b_{i1}...b_{ii}
0...0          b_{i+1, i+1}

etc,
with "reasonable" number of blocks.
Dimensions of this problem: about 3000 rows (given) and about 30-45 blocks
(expected).

If there is some function for this task in "Matrix, multiv,..." packages,
then RTFM is a perfectly good answer.

Thanks in advance,

Jan

--
-------------------------------------------------
/- Jan Svatos, PhD.         Sokolovska 855/225 -/
/- Data Analyst,            Prague 9           -/
/- Eurotel Praha            190 00             -/
/- jan_svatos at eurotel.cz    Czechia            -/
-------------------------------------------------





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 30 12:45:20 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 30 May 2001 11:45:20 +0100 (BST)
Subject: [R] Transformation of dissimilarity or distance matrix
In-Reply-To: <OF4839B0F5.A7CB1125-ONC1256A5C.00382728@eurotel.cz>
Message-ID: <Pine.GSO.4.31.0105301139440.434-100000@toucan.stats>

On Wed, 30 May 2001 Jan_Svatos at eurotel.cz wrote:

>
> Dear List,
>
> is there an elegant (or even not elegant) way how to transform
> dissimilarity or distance matrix A
> (or, in general, arbitrary symmetrical matrix) by transposition of rows and
> columns into a form
> closest to "block diagonal" matrix B?
> The matrix A is adjusted the following way
>
> A[A<epsilon] <-0 #(epsilon is given "small" number)
>
> B: (in its ideal form)
>
> b_{11}...b_{1i} 0...0
> ...
> b_{i1}...b_{ii}
> 0...0          b_{i+1, i+1}
>
> etc,
> with "reasonable" number of blocks.
> Dimensions of this problem: about 3000 rows (given) and about 30-45 blocks
> (expected).
>
> If there is some function for this task in "Matrix, multiv,..." packages,
> then RTFM is a perfectly good answer.

This makes no sense to me.  In your `approximation' most pairs of objects
are at zero distance from each other.  With dissimilarity or distance
matrices the entries are small within clusters and large between clusters,
and in particular the diagonal is zero.

For the reverse problem, with blocks of zeroes on the diagonal, any
reasonable clustering algorithm will given you a permutation with
the small entries near and on the diagonal.  For example, hclust in
package mva.  *However*, I doubt if anything in R will be very happy with
a distance matrix on 3000 rows unless you have a lot of memory.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ono96 at fa2.so-net.ne.jp  Wed May 30 13:30:47 2001
From: ono96 at fa2.so-net.ne.jp (Hisaji ONO)
Date: Wed, 30 May 2001 20:30:47 +0900
Subject: [R] geary statistics
References: <a05010408b7394518e111@[134.214.32.69]>
Message-ID: <002f01c0e8fc$029cb180$690202c0@myvaio>

Hello,

I don't know availability of scripts of Geary statistic for spatial
autocorrelation for R or S, but CrimeStat for MS-Win which supports spatial
autocorrelation, Geary and Moran and also Ripley's K statistic is freely
available  from the following site.

 http://www.icpsr.umich.edu/NACJD/crimestat.html

  It also supports DDE, but sorce code is not open.

> Hello,
> i' m looking for a function to compute geary statistic for spatial
correlation.
>
> Thanks.
> --
> St?phane DRAY
> ---------------------------------------------------------------
> Biom?trie et Biologie ?volutive - Equipe "?cologie Statistique"
> Universite Lyon 1 - Bat 711 - 69622 Villeurbanne CEDEX - France
>
> Tel : 04 72 43 27 56    Fax : 04 78 89 27 19
>        04 72 43 27 57    E-mail : dray at biomserv.univ-lyon1.fr
> ---------------------------------------------------------------
> ADE-4               http://pbil.univ-lyon1.fr/ADE-4/ADE-4F.html
> ---------------------------------------------------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Wed May 30 13:35:11 2001
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Wed, 30 May 2001 13:35:11 +0200
Subject: [R] Transformation of dissimilarity or distance matrix
Message-ID: <OF0F29AE96.5E692CA8-ONC1256A5C.003E31CF@eurotel.cz>


Thanks to Prof. Brian Ripley
for a quick and useful answer.
I was wrong, as I thought about some measure of "similarity" instead of
dissimilarity.
Of course, with dissimilarities and distances makes my question no sense.
The call of hclust() , as well as dist() with 3000 x 3 matrix succeded at

platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    2.3
year     2001
month    04
day      26
language R

with 256M of memory,

but agnes() failed due to total allocation memory exhausted.

Jan



                                                                 
                                                                 
              Prof Brian Ripley <ripley at stats.ox.ac.uk>          
              05/30/2001 12:45 PM                                
                                                                 



Re: [R] Transformation of dissimilarity or distance matrix

On Wed, 30 May 2001 Jan_Svatos at eurotel.cz wrote:

>
> Dear List,
>
> is there an elegant (or even not elegant) way how to transform
> dissimilarity or distance matrix A
> (or, in general, arbitrary symmetrical matrix) by transposition of rows
and
> columns into a form
> closest to "block diagonal" matrix B?
> The matrix A is adjusted the following way
>
> A[A<epsilon] <-0 #(epsilon is given "small" number)
>
> B: (in its ideal form)
>
> b_{11}...b_{1i} 0...0
> ...
> b_{i1}...b_{ii}
> 0...0          b_{i+1, i+1}
>
> etc,
> with "reasonable" number of blocks.
> Dimensions of this problem: about 3000 rows (given) and about 30-45
blocks
> (expected).
>
> If there is some function for this task in "Matrix, multiv,..." packages,
> then RTFM is a perfectly good answer.

This makes no sense to me.  In your `approximation' most pairs of objects
are at zero distance from each other.  With dissimilarity or distance
matrices the entries are small within clusters and large between clusters,
and in particular the diagonal is zero.

For the reverse problem, with blocks of zeroes on the diagonal, any
reasonable clustering algorithm will given you a permutation with
the small entries near and on the diagonal.  For example, hclust in
package mva.  *However*, I doubt if anything in R will be very happy with
a distance matrix on 3000 rows unless you have a lot of memory.

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Wed May 30 13:31:12 2001
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Wed, 30 May 2001 13:31:12 +0200
Subject: [R] peaks
Message-ID: <3B14F620.25982.10CCED0@localhost>

I have posted similar question few weeks ago and I have got a short 
response from prof. Ripley. I transformed it into this function:

peaks_function(series,span=3)
{
z <- embed(series, span)
result_max.col(z) == 1 + span %/% 2
result
}


Seems to work for vectors and ts.

Best regards.

Petr Pikal
0641 25 2258
0724 008 364
petr.pikal at precheza.cz
p.pik at volny.cz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ono96 at fa2.so-net.ne.jp  Wed May 30 14:12:41 2001
From: ono96 at fa2.so-net.ne.jp (Hisaji ONO)
Date: Wed, 30 May 2001 21:12:41 +0900
Subject: [R] geary statistics
References: <a05010408b7394518e111@[134.214.32.69]>
Message-ID: <006701c0e901$d4096b00$690202c0@myvaio>

Hello,

 I found another software, "ROOKCASE",  in the following site.

  http://www.uottawa.ca/academic/arts/geographie/
          lpcweb/sections1/software/sawsoft/rooks.htm

 This software is Excel's add-in created by VBA. And this site also has a
lot of GIS-related softwares.

> I don't know availability of scripts of Geary statistic for spatial
> autocorrelation for R or S, but CrimeStat for MS-Win which supports
spatial
> autocorrelation, Geary and Moran and also Ripley's K statistic is freely
> available  from the following site.
>
>  http://www.icpsr.umich.edu/NACJD/crimestat.html
>
>   It also supports DDE, but sorce code is not open.
>
> > Hello,
> > i' m looking for a function to compute geary statistic for spatial
> correlation.
> >
> > Thanks.
> > --
> > St?phane DRAY
> > ---------------------------------------------------------------
> > Biom?trie et Biologie ?volutive - Equipe "?cologie Statistique"
> > Universite Lyon 1 - Bat 711 - 69622 Villeurbanne CEDEX - France
> >
> > Tel : 04 72 43 27 56    Fax : 04 78 89 27 19
> >        04 72 43 27 57    E-mail : dray at biomserv.univ-lyon1.fr
> > ---------------------------------------------------------------
> > ADE-4               http://pbil.univ-lyon1.fr/ADE-4/ADE-4F.html
> > ---------------------------------------------------------------
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Wed May 30 14:25:16 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 30 May 2001 05:25:16 -0700
Subject: [R] Scripting capabilities for R
In-Reply-To: "Philippe Grosjean"'s message of "Wed, 30 May 2001 08:21:28 +0200"
References: <MABBLJDICACNFOLGIHJOCEJPCDAA.phgrosje@ulb.ac.be>
Message-ID: <87zobv3txv.fsf@jeeves.blindglobe.net>

>>>>> "PG" == Philippe Grosjean <phgrosje at ulb.ac.be> writes:

    PG> I am interested by your list of students wishes, since I am
    PG> developing a GPL user interface for math/stat calculation
    PG> engines (among others: R and Splus, but also Octave, Scilab
    PG> and Mathematica,...). It will run under Windows only (for the
    PG> moment), but will be able to interact with calculation engines
    PG> on other computers in the network, including Unix/Linux
    PG> boxes. Do your students asked for some more specific features?

These feature are exactly what ESS does (and more), except that it
runs today, and it happens to use Emacs (and the interface, at least
under XEmacs, is undergoing revision for friendlyness, including
features such as "summary tooltips", toolbars (with "click and
execute", "switch source/log files" currently existing for SAS in
development code), etc...).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (wednesday/friday is unknown) --------
FHCRC: M-Tu : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Wed May 30 14:36:05 2001
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 30 May 2001 08:36:05 -0400
Subject: [R] Scripting capabilities for R
In-Reply-To: <Pine.GSO.4.31.0105300747550.15645-100000@auk.stats>
References: <5.1.0.14.2.20010529161656.00a90c20@127.0.0.1>
Message-ID: <5.0.2.1.2.20010530082725.02ac7e78@mcmail.cis.mcmaster.ca>

Dear Prof. Ripley:

At 07:58 AM 30/05/2001 +0100, Prof Brian D Ripley wrote:

>Not really sure what you mean here.  R is itself a scripting language,
>so in the most common use of `scripting' we have it.  Do you mean
>the S-PLUS for Windows `script windows'?   If so which aspects?
>We already have the ability to display code and to submit from it,
>which is what was most asked for.  (Use Display file from the File menu,
>highlight code, use Ctrl-V or the menus.)

I'm sure that the reference is to the script window. I've been using Uwe 
Ligges's WinEdt extensions, which work very well, but it would be nice if 
students didn't have to buy or install additional software to get some of 
this functionality. In particular, the ability to perform basic editing 
functions in the file-display window would be convenient.

John




________________________________
  John Fox
  Department of Sociology
  McMaster University
  email: jfox at McMaster.ca
  web: www.socsci.mcmaster.ca/jfox
________________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Wed May 30 15:13:00 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Wed, 30 May 2001 15:13:00 +0200
Subject: TR: [R] Scripting capabilities for R
Message-ID: <MABBLJDICACNFOLGIHJOOEKCCDAA.phgrosje@ulb.ac.be>

>>>>> "PG" == Philippe Grosjean <phgrosje at ulb.ac.be> writes:

    PG> I am interested by your list of students wishes, since I am
    PG> developing a GPL user interface for math/stat calculation
    PG> engines (among others: R and Splus, but also Octave, Scilab
    PG> and Mathematica,...). It will run under Windows only (for the
    PG> moment), but will be able to interact with calculation engines
    PG> on other computers in the network, including Unix/Linux
    PG> boxes. Do your students asked for some more specific features?


A.J. Rossini wrote:

>These feature are exactly what ESS does (and more), except that it
>runs today, and it happens to use Emacs (and the interface, at least
>under XEmacs, is undergoing revision for friendlyness, including
>features such as "summary tooltips", toolbars (with "click and
>execute", "switch source/log files" currently existing for SAS in
>development code), etc...).

If you are happy with ESS, then you are a lucky man because you certainly
have all what you need! I am not happy with it. Emacs is the kingdom of
text. Text buffers everywhere. I believe in the power of graphics in stats(I
mean interactive graphics in the user interface, not just separate static
graphic windows). I you have tried the new Matlab 6.0 user interface for
Window, you'll know what I am talking about! That's what I am doing. It is
not ESS/Emacs. It is different.
Best regards,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Wed May 30 15:26:02 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 30 May 2001 06:26:02 -0700
Subject: TR: [R] Scripting capabilities for R
In-Reply-To: "Philippe Grosjean"'s message of "Wed, 30 May 2001 15:13:00 +0200"
References: <MABBLJDICACNFOLGIHJOOEKCCDAA.phgrosje@ulb.ac.be>
Message-ID: <87bsob55p1.fsf@jeeves.blindglobe.net>

>>>>> "PG" == Philippe Grosjean <phgrosje at ulb.ac.be> writes:

    PG> If you are happy with ESS, then you are a lucky man because
    PG> you certainly have all what you need! I am not happy with
    PG> it. Emacs is the kingdom of text. Text buffers everywhere. 

XEmacs does have the ability to display graphics.  

Dynamic graphics, well, integration there is a systems thing.  people
are working on that.  One cross-platform interface (to R, and via
unsafe extensions, to XLispStat) is Orca, which does what you
describe, and can be controlled.

Why would you construct a GPL'd interface for MatLab?

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (wednesday/friday is unknown) --------
FHCRC: M-Tu : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Wed May 30 15:34:10 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Wed, 30 May 2001 15:34:10 +0200
Subject: TR: [R] Scripting capabilities for R
In-Reply-To: <87bsob55p1.fsf@jeeves.blindglobe.net>
Message-ID: <MABBLJDICACNFOLGIHJOOEKDCDAA.phgrosje@ulb.ac.be>

>Why would you construct a GPL'd interface for MatLab?

Not a GPL'd interface for Matlab, but for Octave, Scilab and R... they all
are GPL and still miss similar user interface than Matlab. Anyway, SciViews
is not out yet. It would be better to talk about all that when it will be
available (next year?).

Philippe Grosjean

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 30 15:37:53 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 30 May 2001 14:37:53 +0100 (BST)
Subject: TR: [R] Scripting capabilities for R
In-Reply-To: <MABBLJDICACNFOLGIHJOOEKDCDAA.phgrosje@ulb.ac.be>
Message-ID: <Pine.LNX.4.31.0105301435350.29877-100000@gannet.stats>

Meanwhile, anyone offering anything for the original request, which
appears to be editable windows like the script windows of S-PLUS 2000,
simpler to use than ESS?


On Wed, 30 May 2001, Philippe Grosjean wrote:

> >Why would you construct a GPL'd interface for MatLab?
>
> Not a GPL'd interface for Matlab, but for Octave, Scilab and R... they all
> are GPL and still miss similar user interface than Matlab. Anyway, SciViews
> is not out yet. It would be better to talk about all that when it will be
> available (next year?).
>
> Philippe Grosjean
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Wed May 30 15:39:16 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Wed, 30 May 2001 14:39:16 +0100 (BST)
Subject: [R] xyplot?
Message-ID: <Pine.LNX.4.10.10105301438050.18324-100000@localhost.localdomain>

I have seen a couple of references to xyplot() on this list. What package
contains xyplot?

Thanks for any help.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 30 15:44:18 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 30 May 2001 14:44:18 +0100 (BST)
Subject: [R] xyplot?
In-Reply-To: <Pine.LNX.4.10.10105301438050.18324-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.31.0105301443140.29982-100000@gannet.stats>

On Wed, 30 May 2001, Bill Simpson wrote:

> I have seen a couple of references to xyplot() on this list. What package
> contains xyplot?

lattice, in Devel.  Needs grid, also in Devel.

Could people please make it clear when they are using Devel packages?
These are still under development....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Wed May 30 16:10:40 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Wed, 30 May 2001 15:10:40 +0100 (BST)
Subject: [R] Scripting capabilities for R
In-Reply-To: <5.0.2.1.2.20010530082725.02ac7e78@mcmail.cis.mcmaster.ca>
Message-ID: <Pine.LNX.4.10.10105301505040.18584-100000@localhost.localdomain>

On Wed, 30 May 2001, John Fox wrote:

> Dear Prof. Ripley:
> 
> At 07:58 AM 30/05/2001 +0100, Prof Brian D Ripley wrote:
> 
> >Not really sure what you mean here.  R is itself a scripting language,
> >so in the most common use of `scripting' we have it.  Do you mean
> >the S-PLUS for Windows `script windows'?   If so which aspects?
> >We already have the ability to display code and to submit from it,
> >which is what was most asked for.  (Use Display file from the File menu,
> >highlight code, use Ctrl-V or the menus.)
> 
> I'm sure that the reference is to the script window. I've been using Uwe 
> Ligges's WinEdt extensions, which work very well, but it would be nice if 
> students didn't have to buy or install additional software to get some of 
> this functionality. In particular, the ability to perform basic editing 
> functions in the file-display window would be convenient.

I am probably missing the boat, but how does this differ from having two
windows going, one for R and one for your favourite editor? Edit your code
in the editor window, then click in R window, source code in (using up
cursor, because you will be doing this repetitively in code development
cycle), run it, click in editor window to make changes, etc...
A nice easy one that students like (on unix) is Nedit. My students have no
problems with this set-up.

I don't see why R needs its own editor.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May 30 16:52:28 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 May 2001 16:52:28 +0200
Subject: TR: [R] Scripting capabilities for R
In-Reply-To: Prof Brian Ripley's message of "Wed, 30 May 2001 14:37:53 +0100 (BST)"
References: <Pine.LNX.4.31.0105301435350.29877-100000@gannet.stats>
Message-ID: <x2elt6dh3n.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> Meanwhile, anyone offering anything for the original request, which
> appears to be editable windows like the script windows of S-PLUS 2000,
> simpler to use than ESS?

It would be about 20 lines of code in R-tcltk to add a Submit button
to a text widget, but my hunch is that you'd want more than that once
you get started... (e.g. some way of organizing the code snippets).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Wed May 30 17:01:05 2001
From: deepayansarkar at yahoo.com (Mr deepayan sarkar)
Date: Wed, 30 May 2001 08:01:05 -0700 (PDT)
Subject: [R] xyplot
In-Reply-To: <3.0.6.32.20010529163529.00a806c0@mail.cirad.fr>
Message-ID: <20010530150105.65066.qmail@web13907.mail.yahoo.com>


--- Samir Messad <messad at cirad.cirad.fr> wrote:
> At 08:49 29/05/01 -0400, Heberto Ghezzo wrote:
> >Hello, R 1.2.2 on W98
> >I tried xyplot, as plotting goes it works but the
> background is dark 
> >olive in my screen and dark grey in printing with a
> laser, so lines 
> >and points are invisible in paper, in the screen
> they are light blue.
> >I check the help and print the properties and can
> not find the way to 
> >set the background color to white, i.e. I can not
> find $background 
> >anywhere. Can somebody please help?
> >Thanks.
> >
> >R. Heberto Ghezzo  Ph.D.
> >Meakins-Christie Labs
> >McGill University
> >Montreal - Canada
> >heberto at meakins.lan.mcgill.ca
> 
> 
> Hello,
> you can try this before xyplot : 
> 
> trellis.device(bg = "white") 

Right, though this would open a new device, which 
might not be what you want. You can try 

trellis.device(bg = "white", new = F)

(Or a simple par(bg="white") would do as well).


__________________________________________________
Do You Yahoo!?
Get personalized email addresses from Yahoo! Mail - only $35 
a year!  http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.malewski at gmx.de  Wed May 30 17:04:49 2001
From: peter.malewski at gmx.de (Peter Malewski)
Date: Wed, 30 May 2001 17:04:49 +0200
Subject: [R] there was a function...
Message-ID: <20010530170448.A11501@rzpool05.pool.rz.tu-bs.de>

I'm currently making xyplots from repeated-measurements data. With s+
there was a function make.groups. 

I have rewrote this:

make.groups <-function (x) {
  if (is.data.frame(x)) 
    x <- as.matrix(x)
  d <- dim(x)
  data.frame(which = rep(1:dim(x)[2], rep(dim(x)[1], dim(x)[2])), 
             id = rep(1:dim(x)[1], dim(x)[2]), data = c(x))
}


so far so good. But I'm sure there were builtin-functions that do nearly the
same, but I cannot remember the names ????

Thanks
Peter





-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed May 30 17:16:00 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 30 May 2001 08:16:00 -0700 (PDT)
Subject: [R] Graphics
In-Reply-To: <3B14BE97.F8EE256E@di.fct.unl.pt>
Message-ID: <Pine.A41.4.33.0105300814190.130198-100000@homer40.u.washington.edu>

On Wed, 30 May 2001, cjb wrote:

> Please, will someone tell me why graphics are not displayed at all when
> I use a graphical function. Is there some additional software required
> to see the graphics?
>

No, but additional information is required for us to know why you are
having this problem: What operating system and version of R are you using,
and what actually happens when you eg

  plot(1:10)


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed May 30 17:25:16 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 30 May 2001 08:25:16 -0700 (PDT)
Subject: [R] Transformation of dissimilarity or distance matrix
In-Reply-To: <OF0F29AE96.5E692CA8-ONC1256A5C.003E31CF@eurotel.cz>
Message-ID: <Pine.A41.4.33.0105300823580.130198-100000@homer40.u.washington.edu>

On Wed, 30 May 2001 Jan_Svatos at eurotel.cz wrote:

>
> Thanks to Prof. Brian Ripley
> for a quick and useful answer.
> I was wrong, as I thought about some measure of "similarity" instead of
> dissimilarity.
> Of course, with dissimilarities and distances makes my question no sense.
> The call of hclust() , as well as dist() with 3000 x 3 matrix succeded at

If you have coerced the small values to exact zeroes I would have thought
that pasting each row (suitably rounded) into a string and using order()
on the strings would give a suitable permutation.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Wed May 30 17:54:30 2001
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Wed, 30 May 2001 08:54:30 -0700
Subject: [R] Scripting capabilities for R
In-Reply-To: <x2elt6dh3n.fsf@blueberry.kubism.ku.dk>
References: <Prof Brian Ripley's message of "Wed, 30 May 2001 14:37:53 +0100 (BST)">
 <Pine.LNX.4.31.0105301435350.29877-100000@gannet.stats>
Message-ID: <5.1.0.14.2.20010530083113.00ad5508@127.0.0.1>

Several folks asked what I had in mind.  This goes a bit beyond the 
capabilities in S-Plus' script window, but here goes:

1)  bracket, brace, parenthesis matching, intelligent indenting
2)  persistent blocks - highlight code, execute code, return to script 
window and have the code still highlighted.
3)  a history that preserves submission sequence line-by-line and 
block-by-block.
4)  code completion for common stuff - this is a wish, not a necessity.
5) simple help from within the window.
6) simple syntax checking within the window
Again, I know that most, if not all, of this is available in some 
combination of Emacs/ESS and/or WinEDt, or can be finessed by keeping some 
other editor minimized (or open) while cutting and pasting back and forth 
between R and the editor.

The "display file" + cut + paste works OK but requires that the file be 
created completely outside R.

Students want the ability to create a window from within R, write a series 
of commands, have them checked by a parser within the script window, be 
able to grab simple help (e.g. the arguments for a particular function), 
and submit snippets ad libitum from the window.  I don't think they need 
the output redirected back to the script window as it is in S-Plus.  As 
long as they can find the output an R window, they'd be fine.  They'd also 
like to be able to have a history file that records the order that a block 
of commands was submitted, not simply the history of each line of code.


Quite apart from the learning/teaching/installing/maintaining end of this 
(I've got students using Linux, Unix, Windows, and 5 different flavors of 
Mac) I just have real difficulty asking students to solve a problem by 
spending more money - either to buy a shareware editor (on top of $150 in 
books for 1 class), or to buy a bigger hard drive to install a svelte 95 MB 
editor (Xemacs) that is at least 5x the size of R itself.   One of the 
beauties of R is that it is really compact and open-source.  It ceases to 
be compact if you have to add Emacs or Xemacs to the equation.  It ceases 
to be open-source if you have to buy something to make it work more 
efficiently.

Again, I'm not at all ungrateful for the incredible amount of work done by 
the whole R team.  I wrote the original email to share some thoughts and 
experiences I had after teaching with both R and S-Plus for 10 weeks.  My 
own work won't be affected by the addition (or non-addition) of a scripting 
window for R, but I think it would make life much simpler for students who 
are learning to use R - especially those who are doing so over a short 
period of time.  Most of these students won't become statisticians or 
mathematicians.  They will probably become consumers who use statistics 
periodically in their work.  I'd like to keep them using R - even if only 
occasionally.  If you don't use R often, it is easy to forget.  If you 
don't use Emacs often, it is nearly impossible to get reacquainted.  Put 
the two together and you have a prescription for - oh slap my face - SPSS!


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Wed May 30 19:21:32 2001
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Wed, 30 May 2001 19:21:32 +0200
Subject: TR: [R] Scripting capabilities for R
References: <Pine.LNX.4.31.0105301435350.29877-100000@gannet.stats> <x2elt6dh3n.fsf@blueberry.kubism.ku.dk>
Message-ID: <3B152C1C.F84CE341@univie.ac.at>

i am just working on a minimalistic
code window for the r-excel interface.
it will be in the next release.
but at the moment we still have to nail down some bugs.

the dcom interface at the moment does not pass on all the error messages
we need
for an editable code windows.



Peter Dalgaard BSA wrote:
> 
> Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
> 
> > Meanwhile, anyone offering anything for the original request, which
> > appears to be editable windows like the script windows of S-PLUS 2000,
> > simpler to use than ESS?
> 
> It would be about 20 lines of code in R-tcltk to add a Submit button
> to a text widget, but my hunch is that you'd want more than that once
> you get started... (e.g. some way of organizing the code snippets).
> 

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Wed May 30 19:33:55 2001
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 30 May 2001 13:33:55 -0400
Subject: [R] Scripting capabilities for R
In-Reply-To: <Pine.LNX.4.10.10105301505040.18584-100000@localhost.locald
 omain>
References: <5.0.2.1.2.20010530082725.02ac7e78@mcmail.cis.mcmaster.ca>
Message-ID: <5.0.2.1.0.20010530133015.00ad9978@mcmail.cis.mcmaster.ca>

At 03:10 PM 5/30/2001 +0100, Bill Simpson wrote:
>  would be convenient.
>
>I am probably missing the boat, but how does this differ from having two
>windows going, one for R and one for your favourite editor? Edit your code
>in the editor window, then click in R window, source code in (using up
>cursor, because you will be doing this repetitively in code development
>cycle), run it, click in editor window to make changes, etc...
>A nice easy one that students like (on unix) is Nedit. My students have no
>problems with this set-up.
>
>I don't see why R needs its own editor.

Dear Bill,

It's nice to be able to submit a block of text from an editor rather than 
having to source the entire file. Of course, one can copy and paste into 
the R console. This really isn't an important matter, just a small question 
of convenience.

John


____________________________
John Fox
Department of Sociology
McMaster University
email: jfox at mcmaster.ca
web: http://www.socsci.mcmaster.ca/jfox
____________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From htzag at umn.edu  Wed May 30 19:40:27 2001
From: htzag at umn.edu (Charis Tzagarakis)
Date: Wed, 30 May 2001 12:40:27 -0500
Subject: [R] R coexisting with s+2000
Message-ID: <iss.570f.3b15303c.5ad39.1@mhub6.tc.umn.edu>

Hi everyone !

This is probably a silly question -but I'll go ahead and ask anyway-
.Can R and S+2000 coexist on the same system (ie are there any 
potential conflicts between the two applications?).I have a Windows 
2000 and a windows NT system.
Many thanks !

Charis Tzagarakis.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 30 19:48:27 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 30 May 2001 18:48:27 +0100 (GMT Daylight Time)
Subject: [R] R coexisting with s+2000
In-Reply-To: <iss.570f.3b15303c.5ad39.1@mhub6.tc.umn.edu>
Message-ID: <Pine.WNT.4.31.0105301845320.184-100000@tern.stats>

On Wed, 30 May 2001, Charis Tzagarakis wrote:

> Hi everyone !
>
> This is probably a silly question -but I'll go ahead and ask anyway-
> .Can R and S+2000 coexist on the same system (ie are there any
> potential conflicts between the two applications?).I have a Windows
> 2000 and a windows NT system.

Certainly.  My laptop has 3 R installations, S-PLUS 4.5, 2000 and a release
candidate of S-PLUS 6.0 under NT, and I have nearly as many on my W2k box.

Just keep the paths separate to avoid any confusing: I use c:\S and c:\R.
In both cases it is better to avoid paths with spaces in, as the compilers
don't like them much (or not at all for S-PLUS 2000).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Wed May 30 20:03:07 2001
From: znmeb at aracnet.com (M. Edward (Ed) Borasky)
Date: Wed, 30 May 2001 11:03:07 -0700 (PDT)
Subject: [R] Scripting capabilities for R
In-Reply-To: <5.1.0.14.2.20010530083113.00ad5508@127.0.0.1>
Message-ID: <Pine.LNX.4.33.0105301056370.18357-100000@shell1.aracnet.com>

On Wed, 30 May 2001, Marc Feldesman wrote:

> Quite apart from the learning/teaching/installing/maintaining end of this
> (I've got students using Linux, Unix, Windows, and 5 different flavors of
> Mac) I just have real difficulty asking students to solve a problem by
> spending more money - either to buy a shareware editor (on top of $150 in
> books for 1 class), or to buy a bigger hard drive to install a svelte 95 MB
> editor (Xemacs) that is at least 5x the size of R itself.   One of the
> beauties of R is that it is really compact and open-source.  It ceases to
> be compact if you have to add Emacs or Xemacs to the equation.  It ceases
> to be open-source if you have to buy something to make it work more
> efficiently.

I use "gvim" as my editor on Windows and Linux systems. The syntax coloring has
saved me many hours of time, especially in Perl scripting, where missing quotes
stick out like the proverbial sore thumb. I haven't looked to see how big it is
relative to Emacs. Check out http://www.vim.org for more details. "vim" has
macro capabilities; I'm sure someone (perhaps one of your students) could build
a "Vim Speaks Statistics" capability with little or no trouble. I believe R
syntax coloring already exists; I know the option is there but if there's
another language called "R" it might be for that language rather than our "R".
--
znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb

Q. How do you tell when a pineapple is ready to eat?
A. It picks up its knife and fork.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nc_osborne at hotmail.com  Wed May 30 23:04:54 2001
From: nc_osborne at hotmail.com (Neil Osborne)
Date: Wed, 30 May 2001 22:04:54 +0100
Subject: [R] gcc.exe: unrecognized option `-shared' encountered (building R on Windows)
Message-ID: <LAW2-F56zDgtZKpjE5a00004f77@hotmail.com>

Dear All,

I've followed all the instructions in the documentation for building
a Windows Port of R (1.2.2). I have almost managed to get it to
build. but it falls over at the end - when its creating (I think)
the R.dll.

I'm using the MINGW binaries in conjunction with the extracted binaries from 
the latest tools.zip archive.

I am running on Windows 2000

Any ideas as to what I may be doing wrong: ?


Output from console on running <make>

gcc  --shared -s -mwindows -o R.dll  R.def R1.a libmain.a libappl.a
libmath.a ga.a gl.a xdr.a em.a dllversion.o -L. -lg2
c -lwsock32 -lcomctl32 -lversion
gcc.exe: unrecognized option `-shared'
ld:R.def: file format not recognized; treating as linker script
ld:R.def:1: parse error
make: *** [R.dll] Error 1


PS: Once I have managed to build R, I would like to embed it in a Java 
application (the R engine that is) - using OMEGAHAT's Java extension. I 
would be very grateful in hearing from anyone who has already done this (or 
something similar), as its not clear to me how to build the shared R library 
(is it any different from the Dll that is built when I ran make in the 
gnuwin32 directory ?)

Thanks in advance for your help.


Regards

Neil

_________________________________________________________________________
Get Your Private, Free E-mail from MSN Hotmail at http://www.hotmail.com.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Wed May 30 23:40:34 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Wed, 30 May 2001 17:40:34 -0400
Subject: [R] environments
Message-ID: <OF2BEB2C5C.3DE97AD2-ON85256A5C.0075EE6B@rtp.epa.gov>

I would like to be able, inside a function, to create a new function, and
use it as part of a formula as an argument to, say, gnls or nlme.  for
example:

MyTop <- function(data=dta) {
     Cexp <- function(dose,A,B,m){...}
     Model <- as.formula(paste("y","~ Cexp(",paste(formals(Cexp),collapse
=", "),")"))
     MyCall <- call("gnls",Model,dta,...)
     eval(MyCall)
}

where "..." indicates I've left out unimportant details.  In practice, the
function Cexp would be the result of some computations.

When I actually try this, I get an error return with the message "Cexp not
found".  Is there a way around this?  I know I can use "Cexp <<- ...", but
I'm trying to find a "clean" solution.  Thanks.

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zoono at sci.osaka-cu.ac.jp  Thu May 31 00:08:03 2001
From: zoono at sci.osaka-cu.ac.jp (Takashi Mizuno)
Date: Thu, 31 May 2001 07:08:03 +0900
Subject: [R] Cluster process
Message-ID: <3B156F43.A794B75C@sci.osaka-cu.ac.jp>

Dear all,

Is there a function to generate a Poisson cluster process?
I believe that S-plus has a function to generate some point processes,
make.pattern(), which include a Poisson cluster process.

Thanks in advance

------------------------
Takashi Mizuno
zoono at sci.osaka-cu.ac.jp
Plant Ecology Lab.
Osaka City University
------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Thu May 31 00:03:15 2001
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Wed, 30 May 2001 18:03:15 -0400
Subject: [R] na.exclude equivalent
Message-ID: <15125.28195.18060.700625@gargle.gargle.HOWL>

Is there an R equivalent to the na.action "na.exclude" in S+ for use in lm()?
My basic problem is that when using resid() to grab the residuals from an lm
object, I would like place holders for the missing values caused by NA's among
the input variables. na.omit, of course, removes those observations entirely,
so I don't know (without going to the trouble of matching up row.names) which
residuals line up with which input observations.

Thanks,

Dave Kane 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu May 31 00:09:54 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 30 May 2001 15:09:54 -0700 (PDT)
Subject: [R] na.exclude equivalent
In-Reply-To: <15125.28195.18060.700625@gargle.gargle.HOWL>
Message-ID: <Pine.A41.4.33.0105301508280.130198-100000@homer40.u.washington.edu>

On Wed, 30 May 2001, David Kane  <David Kane wrote:

> Is there an R equivalent to the na.action "na.exclude" in S+ for use in lm()?

There will be in about three  weeks in R 1.3.0

> My basic problem is that when using resid() to grab the residuals from an lm
> object, I would like place holders for the missing values caused by NA's among
> the input variables. na.omit, of course, removes those observations entirely,
> so I don't know (without going to the trouble of matching up row.names) which
> residuals line up with which input observations.

For now you will  have to match up row names or create a data frame
without missing data.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjlu at ibm.stat.ncku.edu.tw  Thu May 31 08:29:09 2001
From: cjlu at ibm.stat.ncku.edu.tw (Stat/NCKU)
Date: Thu, 31 May 2001 14:29:09 +0800
Subject: [R] Why color changed in ps.file?
Message-ID: <00c701c0e99b$000f9dc0$5834748c@95stat.edu.tw>

Dear R-friends,

When I selected "Save as postscript" via mouse left-button on the active
"R Graphics" window, those colored lines I made in the plot changed in
the saved postscript file, e.g., color blue becomes green, red becomes blue,
...

I have not changed any setting/options.
What's going on?

My version of R is
> version
         _
platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status   Patched
major    1
minor    2.2
year     2001
month    03
day      22
language R

Best regards,

C. Joseph Lu
Associate Professor
Department of Statistics
National Cheng-Kung University
Tainan, Taiwan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 31 08:30:26 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 31 May 2001 07:30:26 +0100 (BST)
Subject: [R] gcc.exe: unrecognized option `-shared' encountered (building
 R on Windows)
In-Reply-To: <LAW2-F56zDgtZKpjE5a00004f77@hotmail.com>
Message-ID: <Pine.GSO.4.31.0105310724270.6529-100000@auk.stats>

On Wed, 30 May 2001, Neil Osborne wrote:

> Dear All,
>
> I've followed all the instructions in the documentation for building

It seems you haven't. The recommended compiler (see file INSTALL) does use
--shared.  Also, MkRules does contain a flag HAVE_SHARED which you can
comment out if you have a non-recommended compiler.

You also sent the comments to the maintainers (as documented) _and_ to
R-help (not in the documentation).

> a Windows Port of R (1.2.2). I have almost managed to get it to
> build. but it falls over at the end - when its creating (I think)
> the R.dll.
>
> I'm using the MINGW binaries in conjunction with the extracted binaries from
> the latest tools.zip archive.

There are lots of sets of Mingw compilers, and you have too ancient a set.

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 31 08:55:04 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 31 May 2001 07:55:04 +0100 (BST)
Subject: [R] Why color changed in ps.file?
In-Reply-To: <00c701c0e99b$000f9dc0$5834748c@95stat.edu.tw>
Message-ID: <Pine.GSO.4.31.0105310750200.6529-100000@auk.stats>

On Thu, 31 May 2001, Stat/NCKU wrote:

> Dear R-friends,
>
> When I selected "Save as postscript" via mouse left-button on the active
> "R Graphics" window, those colored lines I made in the plot changed in
> the saved postscript file, e.g., color blue becomes green, red becomes blue,
> ...
>
> I have not changed any setting/options.
> What's going on?

You have failed to give us a reproducible example.  I just tried

plot(1:10)
abline(h=5, col="blue")

and got blue on screen and in the postscript.

> My version of R is
> > version
>          _
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status   Patched
> major    1
> minor    2.2
> year     2001
> month    03
> day      22
> language R

That's obselete. Please update.  If you then still have problems (and I can
see no reason why this has changed, but we cannot debug versions we no
longer have installed), you need to send a reproducible example and its
output.  One possibility is that the problem is in your (unspecified)
postscript translator confusing RGB colours.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fzoellne at TechFak.Uni-Bielefeld.DE  Thu May 31 10:29:34 2001
From: fzoellne at TechFak.Uni-Bielefeld.DE (Frank Gerrit Zoellner)
Date: Thu, 31 May 2001 10:29:34 +0200
Subject: [R] substitute values in a vector,dataframe
Message-ID: <20010531102934.A8324@metropolitan.TechFak.Uni-Bielefeld.DE>

Hi!

I've got a dataframe with -Inf values inside and i want to substitute them with 0. The dataframe is only one column. How can I do this in R?

Thanks
-- 
Frank Gerrit Zoellner


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 31 10:46:29 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 31 May 2001 09:46:29 +0100 (BST)
Subject: [R] substitute values in a vector,dataframe
In-Reply-To: <20010531102934.A8324@metropolitan.TechFak.Uni-Bielefeld.DE>
Message-ID: <Pine.GSO.4.31.0105310942150.9947-100000@auk.stats>

On Thu, 31 May 2001, Frank Gerrit Zoellner wrote:

> Hi!
>
> I've got a dataframe with -Inf values inside and i want to substitute
them with 0. The dataframe is only one column. How can I do this in R?

df[df[, 1] %in% -Inf, 1] <- 0

as in

df <- data.frame(a=c(1:3, -Inf, 4))
df[df[, 1] %in% -Inf, 1] <- 0
df
  a
1 1
2 2
3 3
4 0
5 4

If there were more than one column, use lapply.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjlu at ibm.stat.ncku.edu.tw  Thu May 31 12:02:44 2001
From: cjlu at ibm.stat.ncku.edu.tw (Stat/NCKU)
Date: Thu, 31 May 2001 18:02:44 +0800
Subject: Fw: [R] Why color changed in ps.file?
Message-ID: <012301c0e9b8$d6b95ba0$5834748c@95stat.edu.tw>

 Thanks Prof. Ripley's response!
 
 However, I have to apologize to Prof. Ripley & all R-friends:
 the problem (after I re-tried several times) is neither on R nor on 
 Ghostscript. 
 It is on the DVI-preview program I used: YAP, it causes color
 yellow to purple, blue to green, red to blue, ... on the included
 postscript files.
 
 I am very sorry to bother everyone with this!
 
 Best regards,
 
 Joseph Lu
 
 P.S. Thanks Prof. Ripley again on advising updating my R to new version.
 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Thu May 31 12:13:10 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Thu, 31 May 2001 11:13:10 +0100 (BST)
Subject: [R] nlme and memory
Message-ID: <Pine.LNX.4.10.10105311105410.19445-100000@localhost.localdomain>

I am trying to follow an example in Pineiro & Bates's book

library(nlme)
data(Soybean)
soy.lis<-nlsList(weight~SSlogis(Time,Asym,xmid,scal),data=Soybean)
soy.nlme<-nlme(soy.lis)
Error: Calloc could not allocate (151974496 of 8) memory

This is not a large problem-- only 412 observations. I am using R-1.2.3
with automatic memory allocation. Does this message mean that I need to
run this example on a machine with 151 MB of physical RAM available (even
with X, R, etc loaded)? Or maybe I can increase my swap space? Or maybe
this error message is wrong somehow?? This seems like a large memory
requirement for this problem.

Thanks very much for any help.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 31 13:38:46 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 31 May 2001 12:38:46 +0100 (BST)
Subject: [R] nlme and memory
In-Reply-To: <Pine.LNX.4.10.10105311105410.19445-100000@localhost.localdomain>
Message-ID: <Pine.GSO.4.31.0105311231220.1873-100000@toucan.stats>

On Thu, 31 May 2001, Bill Simpson wrote:

> I am trying to follow an example in Pineiro & Bates's book
>
> library(nlme)
> data(Soybean)
> soy.lis<-nlsList(weight~SSlogis(Time,Asym,xmid,scal),data=Soybean)
> soy.nlme<-nlme(soy.lis)
> Error: Calloc could not allocate (151974496 of 8) memory
>
> This is not a large problem-- only 412 observations. I am using R-1.2.3
> with automatic memory allocation. Does this message mean that I need to
> run this example on a machine with 151 MB of physical RAM available (even
> with X, R, etc loaded)? Or maybe I can increase my swap space? Or maybe
> this error message is wrong somehow?? This seems like a large memory
> requirement for this problem.

Runs fine on both Solaris and Linux here, with no noticeable memory
growth.

Do you have the current nlme, built for that version of R?  When I've
seen things like that, it has been due to version mis-matches.

Incidentally, the message means 8*151Mb, so I suspect your VM was
really not large enough, and memory allocated by Calloc  is not
(and never has been) part of the `automatic memory allocation', i.e.
the cons cells and vector heap.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Thu May 31 13:52:11 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Thu, 31 May 2001 13:52:11 +0200
Subject: [R] substitute values in a vector,dataframe
In-Reply-To: <Pine.GSO.4.31.0105310942150.9947-100000@auk.stats>
Message-ID: <MABBLJDICACNFOLGIHJOAEKOCDAA.phgrosje@ulb.ac.be>

On Thu, 31 May 2001, Frank Gerrit Zoellner wrote:

>> Hi!
>>
>> I've got a dataframe with -Inf values inside and i want to substitute
>>them with 0. The dataframe is only one column. How can I do this in R?

Prof Brian D Ripley wrote:

>df[df[, 1] %in% -Inf, 1] <- 0

>as in

>df <- data.frame(a=c(1:3, -Inf, 4))
>df[df[, 1] %in% -Inf, 1] <- 0
>df
>  a
>1 1
>2 2
>3 3
>4 0
>5 4

>If there were more than one column, use lapply.

What about:

b <- as.matrix(a)
b[b == -Inf] <- 0

and then, if you really need a dataframe:

a <- as.data.frame(b)

This work also with more than one column in the dataframe... but only with
numeric columns.

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Thu May 31 14:01:01 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Thu, 31 May 2001 13:01:01 +0100 (BST)
Subject: [R] nlme and memory
In-Reply-To: <Pine.GSO.4.31.0105311231220.1873-100000@toucan.stats>
Message-ID: <Pine.LNX.4.10.10105311259330.19661-100000@localhost.localdomain>

Thanks very much Brian for your help.

On Thu, 31 May 2001, Prof Brian Ripley wrote:

> Runs fine on both Solaris and Linux here, with no noticeable memory
> growth.
> 
> Do you have the current nlme, built for that version of R?  When I've
> seen things like that, it has been due to version mis-matches.
You were exactly right. I upgraded R recently and must not have
re-installed nlme. Now all is well.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Janne.Pitkaniemi at ktl.fi  Thu May 31 14:58:05 2001
From: Janne.Pitkaniemi at ktl.fi (Janne =?iso-8859-1?Q?Pitk=E4niemi?=)
Date: Thu, 31 May 2001 15:58:05 +0300
Subject: [R] R and SAS
Message-ID: <3B163FDD.D6169D89@ktl.fi>

    Hi

    I'm trying to read SAS-data on VAX/VMS to Windows R using
    foreign pakage read.xport and experience some problems.

    Following lines are used in SAS to create XPORT file

     LIBNAME a ''xxx;
     LIBNAME b XPORT '';

     PROC COPY IN=a OUT=b;

     RUN;

   and I succeed in getting file that looks like correct xport
file.However
   when typing in R following lines

  read.xport("htpa2000.txt")

  I get message

 Error in lookup.xport(file) : SAS transfer file has incorrect library
header

 Does anyone has advice ? Is the problem in VAX/VMS SAS XPORT file ?


Janne Pitkaniemi
National Public Health Institute, Finland

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Janne.Pitkaniemi.vcf
Type: text/x-vcard
Size: 401 bytes
Desc: Card for Janne =?iso-8859-1?Q?Pitk=E4niemi?=
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010531/cc5f9a20/Janne.Pitkaniemi.vcf

From j.frias at ucc.ie  Thu May 31 16:25:46 2001
From: j.frias at ucc.ie (Frias, Jesus)
Date: Thu, 31 May 2001 15:25:46 +0100
Subject: No subject
Message-ID: <F64493091FAC4D4DAC46261FEC1967990A3067@xch4.ucc.ie>

Hi R-helpers!
	I have a problem with the xfig device and I don't know how to
tackle. If anybody can give me some help I will be very thankful:

	*I have produced a series of figures using a function that 
makes a  call to barplot (in fact I am making Pareto Charts using 
a function that was kindly provided through this list :-)

	*I have exported the figures to xfig in order to give them
a final touch.

Then the problem is like this:

	*When I look in detail to the bars in xfig I can see 
that the lower part of the polygon closing each of the bars is not 
present. 
	*When I try then exporting the figure to any other format, 
the bars turn to filled triangles.

	I have seen a similar problem previously in the mailing list,
but I haven't find any way to correct this problem to the figures that
are already done...

I am runing R 1.3.0 in a Linux box and xfig (3.2).

Thanks in advance,

IOsu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mtaboga at tiscalinet.it  Thu May 31 17:09:43 2001
From: mtaboga at tiscalinet.it (Marco Taboga)
Date: Thu, 31 May 2001 17:09:43 +0200
Subject: [R] Building shared libraries under Windows
Message-ID: <001001c0e9e3$b9b0e5c0$17230a3e@mtaboga>

I didn't manage to build a c shared library under Windows. 
I used rcmd shlib both with a source file and with an object file, but I got error messages in both cases.
I get the same error messages both using a Dos shell and Cygwin.
If I use the source file, I type:
    rcmd shlib prova.c 
and what I get is:
    make[1]: `libR.a' is up to date.
    windres --include-dir C:/R/RW1021/src/include  -i prova_res.rc -o prova_res.o
    windres: no resources
    make: *** [prova_res.o] Error 1
If I use the object file, I type:
    rcmd shlib prova
and what I get is:
    make[1]: `libR.a' is up to date.
    make: *** No rule to make target `prova.o', needed by `prova.a'.  Stop.


Thanks for your help.
Marco Taboga (mtaboga at tiscalinet.it)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010531/1d61e2e4/attachment.html

From Setzer.Woodrow at epamail.epa.gov  Thu May 31 17:03:48 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Thu, 31 May 2001 11:03:48 -0400
Subject: [R] environments
Message-ID: <OF9E35DF40.AB6359A3-ON85256A5D.004E1EE2@rtp.epa.gov>


Thanks for responding!
I was originally constructing the call and then evaluating it because in an
earlier version of this problem, I needed to specify different arguments,
depending upon how the function was called; this is no longer a problem, so
I've just changed to calling gnls() directly.   Unfortunately, that does
not solve my problem.  Below I've copied a full script that causes the
error, along with the results of a sample run, with traceback.  When I run
this (on rw1023, Windows 98, with nlme version 3.1-10 dated 2001/01/10.

First, the results:

> source("C:/home/tmp/Rfixes/test3.R")
Error in eval(expr, envir, enclos) : couldn't find function "Cexp"
> traceback()
9: eval(expr, envir, enclos)
8: eval(model, data.frame(data, getParsGnls(plist, pmap, beta, N)))
7: eval(expr, envir, enclos)
6: eval(modelResid[[2]], envir = nlEnv)
5: gnls(Model, data = dta, weights = wtFunc, start = start)
4: BMDS.Cexp(T4 ~ Dose, data = testdata, start = c(A = 3.9365902,
       m = 0.4666282), fixed = c(B = 0, g = 1))
3: eval.with.vis(expr, envir, enclos)
2: eval.with.vis(ei, envir)
1: source("C:/home/tmp/Rfixes/test3.R")


This is test3.R:

if (!require(nlme)) stop("nlme must be installed to try this")

CexpB <-function (dose, A, B, m, g) {
###  exp(B) + (exp(A)-exp(B))*exp(-(exp(m)*dose)^(1 + g^2))
  mCall <- match.call()
  fixed <- attr(eval(mCall[[1]]),"fixed")
  .expr1 <- if (!("B" %in% names(fixed))) exp(B) else fixed["B"]
  .expr2 <- if (!("A" %in% names(fixed))) exp(A) else fixed["A"]
  .expr5 <- (if (!("m" %in% names(fixed))) exp(m) else fixed["m"]) * dose
  .expr7 <- if (!("g" %in% names(fixed))) 1 + g^2 else fixed["g"]
  if ("g" %in% names(fixed)) g <- sqrt(fixed["g"] - 1)
  .expr3 <- .expr2 - .expr1
  .expr8 <- .expr5^.expr7
  .expr10 <- exp(-.expr8)
  .value <- .expr1 + .expr3 * .expr10
  .grad <- array(0, c(length(.value), 4), list(NULL, c("A",
                                                       "B", "m", "g")))
  .grad[, "A"] <- .expr2 * .expr10
  .grad[, "B"] <- .expr1 - .expr1 * .expr10
  .grad[, "m"] <- ifelse(dose > 0,
                         -.expr3 * (.expr10 * (.expr5^(.expr7 - 1) *
                                               (.expr7 * .expr5))),
                         0)
  .grad[, "g"] <- ifelse(dose > 0,
                         -.expr3 * (.expr10 * (.expr8 * (log(.expr5) *
                                                         (2 * g)))),
                         0)
  if (!is.null(fixed))
    .grad <- .grad[,-match(names(fixed),c("A","B","m","g"))]
  attr(.value, "gradient") <- .grad
  .value
}


BMDS.Cexp <- function(Model,data=sys.frame(sys.parent()),
                      start=NULL,fixed=NULL) {

  DoseName <- deparse(Model[[3]])
  Dose <- eval(Model[[3]],data)
  MName <- deparse(Model[[2]])
  M <- eval(Model[[2]],data)

  dta <- data.frame(Dose,M)
  names(dta) <- c(DoseName,MName)
  idx <- order(dta[,DoseName])
  dta <- dta[idx,]
  wtFunc <- varPower()

### Reconstruct the arguments for the model function
  Cexp <- CexpB
  formals(Cexp) <- formals(Cexp)[-match(names(fixed),names(formals(Cexp)))]
  attr(Cexp,"fixed") <- fixed

### Construct the expression to fit the model
  newforms <- names(formals(Cexp))[-1]
  Model <- as.formula(paste(MName," ~ Cexp(", DoseName,", ",
                            paste(newforms,collapse=", "),
                            ")",
                            sep=""))

### Fit the model
  gnls(Model,data=dta, weights=wtFunc, start=start)
}

testdata <- data.frame(Dose=rep(c(0,0.003,0.03,0.3),c(14,12,6,6)),
                   T4=c(51.61, 54.37, 51.32, 62.17, 30.54, 43.56, 53.56,
                     53.01, 51.23, 44.47, 54.63, 63.14, 43.73, 60.07,
                     55.73, 61.13, 41.79, 48.91, 40.50, 50.29, 49.45,
                     52.50, 44.59, 37.31, 45.98, 46.37, 44.15, 46.77,
                     48.45, 54.64, 51.59, 41.61, 31.63, 29.85, 26.34,
                     31.72, 40.54, 30.48))

out <- BMDS.Cexp(T4 ~ Dose, data=testdata, start=c(A=3.9365902, m=0.4666282),
                 fixed=c(B=0,g=1))





R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 31 17:14:02 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 31 May 2001 16:14:02 +0100 (BST)
Subject: [R] Building shared libraries under Windows
In-Reply-To: <001001c0e9e3$b9b0e5c0$17230a3e@mtaboga>
Message-ID: <Pine.LNX.4.31.0105311610180.9498-100000@gannet.stats>

On Thu, 31 May 2001, Marco Taboga wrote:

> I didn't manage to build a c shared library under Windows.
> I used rcmd shlib both with a source file and with an object file, but I got error messages in both cases.
> I get the same error messages both using a Dos shell and Cygwin.
> If I use the source file, I type:
>     rcmd shlib prova.c

What version of R is this.  Looks like 1.2.1, so the first thing is to
update to 1.2.3!  And of Windows?

> and what I get is:
>     make[1]: `libR.a' is up to date.
>     windres --include-dir C:/R/RW1021/src/include  -i prova_res.rc -o prova_res.o
>     windres: no resources
>     make: *** [prova_res.o] Error 1
> If I use the object file, I type:
>     rcmd shlib prova

That should be prova.o ....

> and what I get is:
>     make[1]: `libR.a' is up to date.
>     make: *** No rule to make target `prova.o', needed by `prova.a'.  Stop.

Try making a small package instead: sometimes it work better.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 31 17:22:34 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 31 May 2001 16:22:34 +0100 (BST)
Subject: [R] Re: your mail
In-Reply-To: <F64493091FAC4D4DAC46261FEC1967990A3067@xch4.ucc.ie>
Message-ID: <Pine.LNX.4.31.0105311621450.9498-100000@gannet.stats>

On Thu, 31 May 2001, Frias, Jesus wrote:

> Hi R-helpers!
> 	I have a problem with the xfig device and I don't know how to
> tackle. If anybody can give me some help I will be very thankful:
>
> 	*I have produced a series of figures using a function that
> makes a  call to barplot (in fact I am making Pareto Charts using
> a function that was kindly provided through this list :-)
>
> 	*I have exported the figures to xfig in order to give them
> a final touch.
>
> Then the problem is like this:
>
> 	*When I look in detail to the bars in xfig I can see
> that the lower part of the polygon closing each of the bars is not
> present.
> 	*When I try then exporting the figure to any other format,
> the bars turn to filled triangles.
>
> 	I have seen a similar problem previously in the mailing list,
> but I haven't find any way to correct this problem to the figures that
> are already done...
>
> I am runing R 1.3.0 in a Linux box and xfig (3.2).

That's not yet released.  Which version are you really running?
Can you give us an example to investigate?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Thu May 31 18:31:41 2001
From: macq at llnl.gov (Don MacQueen)
Date: Thu, 31 May 2001 09:31:41 -0700
Subject: [R] failure in make check
Message-ID: <p05001914b73c1a9f9ae6@[128.115.153.6]>

I have a failure in 'make check' and I would appreciate assistance 
regarding what to do about it.
Thanks
   -Don

Installing R-1.2.3 on
    build[99]% uname -sr
    SunOS 5.8
(for those who may recall my previous request for help, I have 
updated GCC to 2.95.3, and configured with gcc, GCC's c++, and f77 
[not g77])

Running 'make check' got this:

creating `no-segfault.R'
running `no-segfault.R'
*** Error code 138
make: Fatal error: Command failed for target `no-segfault.Rout'
Current working directory /erd/statistic/apps/R/R-1.2.3/build/tests
*** Error code 1
make: Fatal error: Command failed for target `test-Specific'
Current working directory /erd/statistic/apps/R/R-1.2.3/build/tests
*** Error code 1
make: Fatal error: Command failed for target `test-All'
Current working directory /erd/statistic/apps/R/R-1.2.3/build/tests
*** Error code 1
make: Fatal error: Command failed for target `test-All'

------ details ------

As described in INSTALL:
You do not necessarily have to build R in the top-level source directory
(say, TOP_SRCDIR).  To build in BUILDDIR, cd there and run

	TOP_SRCDIR/configure
	make

TOP_SRCDIR is:  longpath/R/R-1.2.3/source
BUILDDIR is:    longpath/R/R-1.2.3/build

I'm using Sun's make, but INSTALL indicates this is ok for SunOS 5.8.

Near the beginning of no-segfault.Rout is this:
>
>  ##  !  :
>  f <- get("!", pos = 4)
>  f()
Error: binary operations require two arguments
>  f(NULL)
Error in f(NULL) : invalid argument type

Followed by more expressions and more error messages. There are many, 
many Errors reported in this (very long) file.

Near the end, the last comment indicating, if I understand correctly, 
what's being tested, I find
>
>  ##  loess.control  :
>  f <- get("loess.control", pos = 2)

... lines that look ok omitted ...

>  f(l0)
Error in all(arg == choices) : Object "l0" not found
>  f(c0)
Error in all(arg == choices) : Object "c0" not found
>  f(df0)
Error in all(arg == choices) : Object "df0" not found
>  f(F)
Error in pmatch(x, table, duplicates.ok) :
	argument is not of mode character
>  f(list(),list())
$surface
[1] "interpolate"

$statistics
[1] "approximate"

$trace.hat
[1] "exact"

$cell
[1] 0.2

$iterations
[1] 4

The file ends at this point, so apparently it didn't run the rest of 
the input file. That is, no-segfault.R continues with
   ##  loess.smooth  :
but this doesn't appear in no-segfault.Rout.

I haven't found a file named no-segfault.Rout.save to tell me what 
the Rout should look like.
-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.frias at ucc.ie  Thu May 31 19:16:14 2001
From: j.frias at ucc.ie (Frias, Jesus)
Date: Thu, 31 May 2001 18:16:14 +0100
Subject: [R] Problem with xfig()
Message-ID: <F64493091FAC4D4DAC46261FEC1967990A306D@xch4.ucc.ie>

Hi again!

	Well, I just realised that I am running an *unstable* version of
R (if such exists) from early January, that I picked up for some weird
reason (the appearance of manova??).

	In fact the starting message is 

R : Copyright 2001, The R Development Core Team
Version 1.3.0 Under development (unstable) (2001-01-22)

	I have been tried to reproduce the same example in R 1.2.3 for
Windows (2001-04-26) and the problem seems to be fixed (at least with
the graphics generated by example(barplot)).

	Then I had a better look to the mailing list archive and the problem
seems to be solved in the following thread:


[R] xfig boxplot (polygon) bug?? e.catchpole at adfa.edu.au (Tue Feb 13
2001 - 04:51:56 CET) 
         Re: [R] xfig boxplot (polygon) bug?? Prof Brian D Ripley (Tue
Feb 13 2001 - 08:28:59 CET) 
         RE: [R] xfig boxplot (polygon) bug?? Yves Gauvreau (Tue Feb 13
2001 - 10:07:04 CET) 



	which is just a bit later than the version of R that I have :-(

	So I get the message of "update your R" to myself and I 
include my apologies for the waste of time.

thanks,

IOsu


>That's not yet released.  Which version are you really running?
>Can you give us an example to investigate?

>-- 
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kleinn at geo.umnw.ethz.ch  Thu May 31 19:28:11 2001
From: kleinn at geo.umnw.ethz.ch (Jan Kleinn)
Date: Thu, 31 May 2001 19:28:11 +0200
Subject: [R] Screeplot
Message-ID: <3B167F2B.855539B7@geo.umnw.ethz.ch>

I'm trying to make a screeplot including the Cumulative Proportion of
the Variance, something that can easily be done in S-Plus with
'screeplot(pc.object,cumulative=T)'. How can I access the Proportion of
Variance in an princomp object and how could I get the Cumulative
Proportion of the Variance on the screeplot?

Many thanks in advance, Jan:-)


-- 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 Jan Kleinn                                   tel: +41-1-635 52 34
 Institute for Climate Research ETH           fax: +41-1-362 51 97
 Winterthurerstrasse 190               http://www.geo.umnw.ethz.ch
 CH-8057 Zurich, Switzerland       e-mail: kleinn at geo.umnw.ethz.ch
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
               Swiss Federal Institute of Technology
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu May 31 21:26:40 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 31 May 2001 14:26:40 -0500
Subject: [R] R and SAS
In-Reply-To: <3B163FDD.D6169D89@ktl.fi>
References: <3B163FDD.D6169D89@ktl.fi>
Message-ID: <6rd78ps4jz.fsf@franz.stat.wisc.edu>

Janne Pitk?niemi <Janne.Pitkaniemi at ktl.fi> writes:

>     I'm trying to read SAS-data on VAX/VMS to Windows R using
>     foreign pakage read.xport and experience some problems.
> 
>     Following lines are used in SAS to create XPORT file
> 
>      LIBNAME a ''xxx;
>      LIBNAME b XPORT '';
> 
>      PROC COPY IN=a OUT=b;
> 
>      RUN;
> 
>    and I succeed in getting file that looks like correct xport
> file.However
>    when typing in R following lines
> 
>   read.xport("htpa2000.txt")
> 
>   I get message
> 
>  Error in lookup.xport(file) : SAS transfer file has incorrect library
> header
> 
>  Does anyone has advice ? Is the problem in VAX/VMS SAS XPORT file ?

Can you send us the first 160 characters of the file?  It is supposed to be
in text format (more or less) and should look something like

HEADER RECORD*******LIBRARY HEADER RECORD!!!!!!!000000000000000000000000000000  SAS     SAS     SASLIB  7.00    OSF1

It does not contain any carriage returns or line feeds.

This is what SAS claims in their documentation is the correct initial line 
in the XPORT format.  Hence this is what we check for.

What SAS actually creates is often different.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clelancm at UMDNJ.EDU  Thu May 31 21:48:04 2001
From: clelancm at UMDNJ.EDU (Chuck Cleland)
Date: Thu, 31 May 2001 15:48:04 -0400
Subject: [R] Screeplot
References: <3B167F2B.855539B7@geo.umnw.ethz.ch>
Message-ID: <3B169FF4.4C21A208@umdnj.edu>

Jan Kleinn wrote:
> I'm trying to make a screeplot including the Cumulative Proportion of
> the Variance, something that can easily be done in S-Plus with
> 'screeplot(pc.object,cumulative=T)'. How can I access the Proportion of
> Variance in an princomp object and how could I get the Cumulative
> Proportion of the Variance on the screeplot?

>From start to screeplot:

library(mva)
mydata <- mvrnorm(300, rep(0, 4), diag(4))
my.pcomp <- princomp(mydata)
y <- my.pcomp$sdev^2
cpropvar <- cumsum(my.pcomp$sdev^2 / sum(my.pcomp$sdev^2))
x <- barplot(y, col=rep(1, dim(mydata)[2]), ylim=c(0, 6))
text(x, y + 0.25, round(cpropvar, 2), adj=0.5)

To suit your data, you would need to play with the ylim parameters and the
distance of the cumulative proportion of variance labels from the tops of the
bars.

HTH,

Chuck
 
-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-
 Chuck Cleland                                 
 Institute for the Study of Child Development  
 UMDNJ--Robert Wood Johnson Medical School     
 97 Paterson Street                            
 New Brunswick, NJ 08903                       
 phone: (732) 235-7699                         
   fax: (732) 235-6189                         
  http://www2.umdnj.edu/iscdweb/       
  http://members.nbci.com/cmcleland/ 
-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Thu May 31 23:32:51 2001
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Fri, 1 Jun 2001 09:32:51 +1200
Subject: [R] graph/save file/jpeg/slow
Message-ID: <200105312133.f4VLXDL08970@storm.niwa.cri.nz>

Colleagues

----------------------------------
System info:
R version rw1022 on NT
ESS v. 5.1.18 using emacs ver. 20.4

----------------------------------

I notice that saving a file from the menu bar in the graph window to 
100% quality jpeg is very slow (more than 2 minutes). Is this something 
to be avoided? 

I know I can save the graph with postscript() in the script, or cut and 
paste into MSWord and save the document.

Help will be appreciated.
Thanks

Sam

Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz 

                    /\
...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 31 23:44:39 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 31 May 2001 22:44:39 +0100 (BST)
Subject: [R] graph/save file/jpeg/slow
In-Reply-To: <200105312133.f4VLXDL08970@storm.niwa.cri.nz>
Message-ID: <Pine.GSO.4.31.0105312241230.22000-100000@auk.stats>

On Fri, 1 Jun 2001, S.McClatchie wrote:

> Colleagues
>
> ----------------------------------
> System info:
> R version rw1022 on NT
> ESS v. 5.1.18 using emacs ver. 20.4
>
> ----------------------------------
>
> I notice that saving a file from the menu bar in the graph window to
> 100% quality jpeg is very slow (more than 2 minutes). Is this something
> to be avoided?

Yes, jpeg at 100% is to be avoided, but speed depends on

1) The graphics windows size
2) The machine's RAM
3) The machine's processor speed

and I've never seen anything like the times you report.

> I know I can save the graph with postscript() in the script, or cut and
> paste into MSWord and save the document.

Or save as postscript or metafile from the menu bar ...

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu May 31 23:53:31 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 31 May 2001 23:53:31 +0200
Subject: [R] failure in make check
In-Reply-To: Don MacQueen's message of "Thu, 31 May 2001 09:31:41 -0700"
References: <p05001914b73c1a9f9ae6@[128.115.153.6]>
Message-ID: <x2lmndxk10.fsf@blueberry.kubism.ku.dk>

Don MacQueen <macq at llnl.gov> writes:

> I have a failure in 'make check' and I would appreciate assistance 
> regarding what to do about it.
> Thanks
>    -Don
> 
> Installing R-1.2.3 on
>     build[99]% uname -sr
>     SunOS 5.8
> (for those who may recall my previous request for help, I have 
> updated GCC to 2.95.3, and configured with gcc, GCC's c++, and f77 
> [not g77])
> 
...
> I'm using Sun's make, but INSTALL indicates this is ok for SunOS 5.8.
> 
> Near the beginning of no-segfault.Rout is this:
> >
> >  ##  !  :
> >  f <- get("!", pos = 4)
> >  f()
> Error: binary operations require two arguments
> >  f(NULL)
> Error in f(NULL) : invalid argument type
> 
> Followed by more expressions and more error messages. There are many, 
> many Errors reported in this (very long) file.

Yes. The purpose of that check is to try a whole lot of illegal
commands in a systematic fashion (e.g. log(list()) ), so you're
supposed to get a whole lot of Errors, but no segfault.

> Near the end, the last comment indicating, if I understand correctly, 
> what's being tested, I find
> >
> >  ##  loess.control  :
> >  f <- get("loess.control", pos = 2)
> 
> ... lines that look ok omitted ...
> 

.....
> [1] 0.2
> 
> $iterations
> [1] 4
> 
> The file ends at this point, so apparently it didn't run the rest of 
> the input file. That is, no-segfault.R continues with
>    ##  loess.smooth  :
> but this doesn't appear in no-segfault.Rout.

Unfortunately, a fatal error will often crash R before writing the
very last bit of output. The way to figure it out would be to go to
the tests directory and run 

../bin/R --vanilla < no-segfault.R

i.e. just what the makefile does but omitting the output file so that
output goes unbuffered to the screen. To debug further, use

../bin/R -d gdb

and inside gdb, exec

run --vanilla < no-segfault.R

(although it might be better first to see whether the offending
command also crashes R when executed by itself and then use that for
debugging) 

> I haven't found a file named no-segfault.Rout.save to tell me what 
> the Rout should look like.

Not sure that would be of much use...
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


