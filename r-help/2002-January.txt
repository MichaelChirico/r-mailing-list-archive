From renaud.lancelot at cirad.fr  Tue Jan  1 23:51:38 2002
From: renaud.lancelot at cirad.fr (Renaud Lancelot)
Date: Tue, 01 Jan 2002 22:51:38 +0000
Subject: [R] confidence ellipsoid for model parameters
Message-ID: <3C323D7A.D57CE9BC@cirad.fr>

Dear all,

Has anyone written functions to compute (and ideally project / plot onto
a plane) confidence ellipsoids for q linear model parameters, q > 2 ?

Greetings and best wishes,

Renaud

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at genome.cbs.dtu.dk  Wed Jan  2 09:01:52 2002
From: laurent at genome.cbs.dtu.dk (Laurent Gautier)
Date: Wed, 2 Jan 2002 09:01:52 +0100 (MET)
Subject: [R] Extracting/setting elements from/in a matrix/array
In-Reply-To: <15408.27843.303853.578534@gargle.gargle.HOWL>
Message-ID: <Pine.SGI.3.95.1020101174830.2027233B-100000@genome.cbs.dtu.dk>

On Mon, 31 Dec 2001, Martin Maechler wrote:

> The solution to your problem has been part of the   S language
> for ever :
> 
>     mat[ cbind(dim1, dim2) ]



I did not know... note: I am not very much knowledgeable about the S
language. What I know from it is through R (for it is rather 'S is not
unlike R' =)   ).

 
> Note that this is mentioned in help("[") and MASS and ...


When I looked for this way to extract elements, I naturally looked at the
help for the indexing of elements ("["), but I checked again in R 1.4.0.
I could not find such a thing mentionned... may be in the S documentation
?



Thanks to all the quick answer on a 31st of december =)





Laurent


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From iosu at ucc.ie  Wed Jan  2 11:05:54 2002
From: iosu at ucc.ie (Jesus Maria Frias Celayeta)
Date: Wed, 2 Jan 2002 10:05:54 +0000 (GMT)
Subject: [R] confidence ellipsoid for model parameters
In-Reply-To: <3C323D7A.D57CE9BC@cirad.fr>
Message-ID: <Pine.LNX.4.33.0201020957260.9076-100000@jmfrias.ucc.ie>

Dear Renaud,
        Have a look to the package ellipse at the CRAN repository, and
particularly to ellipse.lm().

This function produces the ellipsoidal outline of a pairwise condence
region for a linear model t.

Usage

ellipse(x, which = c(1, 2), level = 0.95, t = sqrt(2 * qf(level, 2,
x$df.residual)), ...)

	You can produce pairwise regions for any two parameters in a
linear fit that you can plot afterwards. Is that what you want?.

Happy new year to all the R-helpers,

IOsu


Jesus Maria Frias Celayeta, PhD.
Process Engineering Department
University College Cork. Ireland
phone: 353-21-4903097
fax:   353-21-4270249
http://www.ucc.ie/acad/departments/processeng/staff/friasj.html

On Tue, 1 Jan 2002, Renaud Lancelot wrote:

> Dear all,
>
> Has anyone written functions to compute (and ideally project / plot onto
> a plane) confidence ellipsoids for q linear model parameters, q > 2 ?
>
> Greetings and best wishes,
>
> Renaud
>
> --
> Dr Renaud Lancelot, v?t?rinaire
> CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
> Programme Productions Animales
> http://www.cirad.fr/presentation/programmes/prod-ani.shtml
>
> ISRA-LNERV                      tel    (221) 832 49 02
> BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
> Senegal                         e-mail renaud.lancelot at cirad.fr
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Wed Jan  2 11:52:46 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Wed, 02 Jan 2002 10:52:46 +0000
Subject: [R] confidence ellipsoid for model parameters
References: <Pine.LNX.4.33.0201020957260.9076-100000@jmfrias.ucc.ie>
Message-ID: <3C32E67E.3980898E@sentoo.sn>

Dear Jesus,

Thanks for your reply. I was aware of the ellipse functions in package
car but not in this one. However, ellipsoid is limited to 2-dimension
problems in both packages. In the model I have to deal with, there are 3
parameters corresponding to 2 continuous explanatory variables and their
interaction (in a binary logistic regression). Main effects parameters
are negatively correlated (r = -0.6) while the interaction is positively
correlated (r = 0.3) with one of the main effect. Therefore, I need to
account for all these correlations in estimating a confidence ellipsoid
for the 3 parameters: pairwise confidence regions will be too narrow.

Best regards,

Renaud

Jesus Maria Frias Celayeta wrote:
> 
> Dear Renaud,
>         Have a look to the package ellipse at the CRAN repository, and
> particularly to ellipse.lm().
> 
> This function produces the ellipsoidal outline of a pairwise condence
> region for a linear model t.
> 
> Usage
> 
> ellipse(x, which = c(1, 2), level = 0.95, t = sqrt(2 * qf(level, 2,
> x$df.residual)), ...)
> 
>         You can produce pairwise regions for any two parameters in a
> linear fit that you can plot afterwards. Is that what you want?.
> 
> Happy new year to all the R-helpers,
> 
> IOsu
> 
> Jesus Maria Frias Celayeta, PhD.
> Process Engineering Department
> University College Cork. Ireland
> phone: 353-21-4903097
> fax:   353-21-4270249
> http://www.ucc.ie/acad/departments/processeng/staff/friasj.html
> 
> On Tue, 1 Jan 2002, Renaud Lancelot wrote:
> 
> > Dear all,
> >
> > Has anyone written functions to compute (and ideally project / plot onto
> > a plane) confidence ellipsoids for q linear model parameters, q > 2 ?
> >

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Morten.Indbryn at indman.sintef.no  Wed Jan  2 14:41:59 2002
From: Morten.Indbryn at indman.sintef.no (Indbryn Morten)
Date: Wed, 2 Jan 2002 14:41:59 +0100 
Subject: [R] converting matrics in R
Message-ID: <FAB887A53E10034EAD15661F92B837AB8016AE@sintefxch1.SINTEF.NO>

Hi

I have a problem with converting a matrics in R
R has almost the same syntaxes as S-PLUS have so I have also tried to use
the manual for that software.

My problem is that i have read data in from a database through a RODBC
connection and this data is not represented in the right form.
The data I have read in, is represented as productnumber in first collumn,
weeknumber in the second and a messurment in the third.
I want to represent the data as productnumber downwards(rows) and weeknumber
horisontally(collumns) and the vallue of the cells should be the messurment.
I have looked at a function called "reshapeWide" which I thoght wold handle
such a problem but I only get an error message.
I have tried to convert the the data when the data was both original and wen
converted to dataframe.

Do sombody else now about other functions which can be used?. Do I have to
make a new function (programming in R)?

Thank you in advance

Morten


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020102/58d98d0c/attachment.html

From dthompson at whgrp.com  Wed Jan  2 16:23:58 2002
From: dthompson at whgrp.com (Dave Thompson)
Date: Wed, 02 Jan 2002 10:23:58 -0500
Subject: [R] regression
Message-ID: <3C33260E.A6C724C6@whgrp.com>

Does R contain a regression function that doesn't assume that
measurements of the
independent variable are error-free, as in standard linear regression?
In other words, I'm looking for a function  which solves directly for
the coefficients in the linear model y = a + b*x for the case when both
x and y are considered independent random variables with zero-mean noise
characterized by sd(x) and sd(y), which are independent of specific
observations.
Thanks
Dave
-------------- next part --------------
A non-text attachment was scrubbed...
Name: dthompson.vcf
Type: text/x-vcard
Size: 303 bytes
Desc: Card for David Thompson
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020102/78e2f620/dthompson.vcf

From tord.snall at ebc.uu.se  Wed Jan  2 16:34:43 2002
From: tord.snall at ebc.uu.se (Tord Snall)
Date: Wed, 02 Jan 2002 16:34:43 +0100
Subject: [R] expression(alpha) in legend()
Message-ID: <3.0.6.32.20020102163443.00a50960@mail.anst.uu.se>

Dear all,
I try to plot include expression(alpha) in a legend():

x<-  seq(0,150)
par(mfrow=c(1,1))
matplot(x, outer(x, c(0.001, 0.01, 0.05, 0.1, 0.5),
function(x, k) exp(-k*x)), type="l", lty=1:5, col=1, lwd=3, ylim=c(0,1), 
xlim=c(0,170), ylab="", xlab="Distance (m)")

legend(110, 0.8 , c(expression(alpha), "= 0.001","alpha=0.01","alpha=0.05", 
"alpha=0.1", "alpha=0.5"), lty=c(1,2,3,4,5), lwd=3, col=1,merge=T)

I want to replace the text "alpha" with the alpha symbol.

Could someone please help me with this.


Thanks in advance!

Sincerely,
Tord Sn?ll

-----------------------------------------------------------------------
Tord Sn?ll
Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
Villav?gen 14			
SE-752 36 Uppsala, Sweden
Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
E-mail: Tord.Snall at ebc.uu.se
http://www.vaxtbio.uu.se/resfold/snall.htm
------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Wed Jan  2 17:12:28 2002
From: rolf at math.unb.ca (Rolf Turner)
Date: Wed, 2 Jan 2002 12:12:28 -0400 (AST)
Subject: [R] Homemade packages.
Message-ID: <200201021612.MAA12799@tanner.math.unb.ca>


I've recently installed R-1.4.0 and I'm having the devil's own
time trying to install a home-made package.  As far as I can tell,
I'm doing the same things that I did previously, under 1.3.1, but
somehow everything goes haywire.  (Quite possibly I'm simply
mis-remembering what I did before, but I can't for the life of me
figure out what to change).

A toy example of what I did is as follows:

	- create a directory ``Junk'' in ~rolf/Rlib

	- inside Junk create files DESCRIPTION and INDEX

	- inside Junk create a directory R containing function
	  code files foo.R and bar.R

	- inside Junk create a directory man containing documentation
	  files foo.Rd bar.Rd

	- in the directory Rlib issue the command

		R CMD INSTALL -l . Junk

I get the following response:

	Installing *source* package `Junk' ...
	 R
	cat: cannot open R/bar.R
	cat: cannot open R/foo.R
	cp: INDEX and /home1/faculty/rolf/Rlib/Junk/INDEX are identical
	cat: write error: Bad address
 	help
	cat: cannot open man/bar.Rd
	cat: cannot open man/foo.Rd
 	>>> Building/Updating help pages for package `Junk'
     	Formats: text html latex example 
  	Junk                              text    html    latex
 	DONE (Junk)

	DONE (INSTALL)

Then inside Junk/R is the ***empty*** file ``Junk'' (and the
files foo.R and bar.R have been removed); likewise inside Junk/man
is the ***empty*** file ``Junk.Rd'' (and the files foo.Rd and bar.Rd
have been removed).

The fact that the original files were removed without trace is very
disturbing --- could be (was, actually) a lot of work to replace them
in a real example.

Why on earth can't it open those files?

What am I doing wrong?

Version details:

 > version
         _                   
platform sparc-sun-solaris2.7
arch     sparc               
os       solaris2.7          
system   sparc, solaris2.7   
status                       
major    1                   
minor    4.0                 
year     2001                
month    12                  
day      19                  
language R

					cheers,

						Rolf Turner
						rolf at math.unb.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MagillB at usa.redcross.org  Wed Jan  2 17:30:02 2002
From: MagillB at usa.redcross.org (Magill, Brett)
Date: Wed, 2 Jan 2002 11:30:02 -0500 
Subject: [R] Status of "Official" Win Binaries for 1.4.0
Message-ID: <AC09DC4F4DFCD211A83C00805FE6138D051E0839@nhqjpk1ex2.bionet.org>

Hello Everyone,
Just a note to inquire about the status of the "official" RWin release.  I
downloaded the binaries from CRAN using the link provided by Guido Masarotto
<http://sirio.stat.unipd.it/RWin> soon after they appeared on CRAN.
However, following R help, it seems that there are some problems with that
compilation, particularly related to GRID and Lattice.  Sure enough, I tried
and R crashed.
Now, I also know that Prof. Ripley made binaries available that appear to
work just fine <http://www.stats.ox.ac.uk/pub/RWin/>.  Of course, in the
post, Prof. Ripley also referred to the "Official Release", that which would
later be posted on CRAN, as it turns out, somewhat broken.  Is there any
reason that I should not simply download the working binaries.  Are there
differences (other than the fact that it works with GRID and lattice) in the
"official" release on CRAN and Prof. Ripley's distribution?  Not being in a
hurry, should I wait to download a fixed R distro from CRAN?
Thanks in advance,
Brett Magill
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jg_liao at yahoo.com  Wed Jan  2 17:41:27 2002
From: jg_liao at yahoo.com (Jason Liao)
Date: Wed, 2 Jan 2002 08:41:27 -0800 (PST)
Subject: [R] how to force a big array to be integer type
Message-ID: <20020102164127.4664.qmail@web10502.mail.yahoo.com>

First, happy new year to everyone, especially to Prof. Ripley, who has
kindly answered my previous questions.

I need to use an array to store a large number of integers. My question
is how to force an array to be integer for storage.type. This will save
memory (from 8 bytes real to 4 bytes integer). Also I need to compare
integers and I want their representation to be exact.

Thanks for your help.

Jason




=====
Jason G. Liao, Ph.D.
Division of Biometrics
UMDNJ School of Public Health
335 George Street, Suite 2200
New Brunswick, NJ 08903-2688
phone (732) 235-9748, fax (732) 235-9777
http://www.geocities.com/jg_liao

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan  2 18:14:20 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 2 Jan 2002 17:14:20 +0000 (GMT)
Subject: [R] Homemade packages.
In-Reply-To: <200201021612.MAA12799@tanner.math.unb.ca>
Message-ID: <Pine.LNX.4.31.0201021710540.8208-100000@gannet.stats>

You shouldn't be installing into `.' You install packages into a *library*
and the default (R_HOME/library if R_LIBS is unset) is normally
sufficient.

Yes, if you install onto the sources it will now wipe out what it thinks
of as older and unnecessary files, and that is new in 1.4.0.


On Wed, 2 Jan 2002, Rolf Turner wrote:

>
> I've recently installed R-1.4.0 and I'm having the devil's own
> time trying to install a home-made package.  As far as I can tell,
> I'm doing the same things that I did previously, under 1.3.1, but
> somehow everything goes haywire.  (Quite possibly I'm simply
> mis-remembering what I did before, but I can't for the life of me
> figure out what to change).
>
> A toy example of what I did is as follows:
>
> 	- create a directory ``Junk'' in ~rolf/Rlib
>
> 	- inside Junk create files DESCRIPTION and INDEX
>
> 	- inside Junk create a directory R containing function
> 	  code files foo.R and bar.R
>
> 	- inside Junk create a directory man containing documentation
> 	  files foo.Rd bar.Rd
>
> 	- in the directory Rlib issue the command
>
> 		R CMD INSTALL -l . Junk
>
> I get the following response:
>
> 	Installing *source* package `Junk' ...
> 	 R
> 	cat: cannot open R/bar.R
> 	cat: cannot open R/foo.R
> 	cp: INDEX and /home1/faculty/rolf/Rlib/Junk/INDEX are identical
> 	cat: write error: Bad address
>  	help
> 	cat: cannot open man/bar.Rd
> 	cat: cannot open man/foo.Rd
>  	>>> Building/Updating help pages for package `Junk'
>      	Formats: text html latex example
>   	Junk                              text    html    latex
>  	DONE (Junk)
>
> 	DONE (INSTALL)
>
> Then inside Junk/R is the ***empty*** file ``Junk'' (and the
> files foo.R and bar.R have been removed); likewise inside Junk/man
> is the ***empty*** file ``Junk.Rd'' (and the files foo.Rd and bar.Rd
> have been removed).
>
> The fact that the original files were removed without trace is very
> disturbing --- could be (was, actually) a lot of work to replace them
> in a real example.
>
> Why on earth can't it open those files?
>
> What am I doing wrong?
>
> Version details:
>
>  > version
>          _
> platform sparc-sun-solaris2.7
> arch     sparc
> os       solaris2.7
> system   sparc, solaris2.7
> status
> major    1
> minor    4.0
> year     2001
> month    12
> day      19
> language R
>
> 					cheers,
>
> 						Rolf Turner
> 						rolf at math.unb.ca
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lforzani at math.cudenver.edu  Wed Jan  2 18:45:08 2002
From: lforzani at math.cudenver.edu (Liliana Forzani)
Date: Wed, 2 Jan 2002 10:45:08 -0700 (MST)
Subject: [R] good book
Message-ID: <Pine.LNX.4.33.0201021044390.3182-100000@math.cudenver.edu>

to teach statistics with R
thanks

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gattuso at obs-vlfr.fr  Wed Jan  2 19:01:50 2002
From: gattuso at obs-vlfr.fr (Jean-Pierre Gattuso)
Date: Wed, 2 Jan 2002 19:01:50 +0100
Subject: [R] Combining files
Message-ID: <p0510100eb858f4e46757@[193.49.112.222]>

Hi:

I am a very recent user of R 1.40 for MacOSX and went through the 
help files but did not not find the function that I am looking for.


I have two comma separated files which I want to partly combine.

File 1 has 49670 lines and 26 columns (separated by commas) and looks 
like this:

...
86020,-10.25,30.25,19.24,19.18,6.19,22.6,16.41,.4,1.58,36.36,36.47,36.18,,3,3,4,116.44,3.03,98.83,126.97,116.03,5.44,0,0,-1
86021,-9.75,30.25,19.06,18.97,6.24,22.41,16.17,.42,1.58,36.36,36.47,36.18,.01,3,3,4,146.15,5.33,131.7,153.38,145.6,9.46,0,0,-1
86022,-9.25,30.25,,,,,,,,,,,,3,,,,,,,,,0,0,-1
86023,-8.75,30.25,,,,,,,,,,,,,,,,,,,,,0,0,-1
86071,15.25,30.25,,,,,,,,,,,,3,,,,,,,,,0,0,-1
....

File 2 has 259201 lines and 8 columns (separated by commas) and looks 
like this:

...
86020,Oceanic I,-1,-10.25,30.25,7,2670.172,207.249
86021,Coastal,0,-9.75,30.25,7,2670.172,207.249
86022,Terrestrial,1,-9.25,30.25,7,2670.172,207.249
86023,Terrestrial,1,-8.75,30.25,7,2670.172,207.249
86024,Not Selected,-9999,-8.25,30.25,7,2670.172,207.249
...

Column 1 in both files is the cell id and colum 2 in file 2 provides 
the nature of the cell (oceanic, terrestrial...).

What I want to do is to add the nature of the cell to each line of 
file 1. In other words, I want to add column 2 of file 2 (e.g. 
"oceanic") to file 1, using columns 1 of both files as matching 
variables (i.e. add column 2 o

Thanks in advance for your help,
jp
-- 

____________________________________________________________________
Jean-Pierre Gattuso
Laboratoire d'Oc?anographie de Villefranche, UMR 7093 CNRS-UPMC
B. P. 28, F-06234 Villefranche-sur-mer Cedex - France
Voice: +33 (0)493763859 - Fax: +33 (0)493763834 - US fax: +1 (978) 477-8302
<mailto:gattuso at obs-vlfr.fr> - http://www.obs-vlfr.fr/~gattuso
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Wed Jan  2 19:29:18 2002
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 02 Jan 2002 13:29:18 -0500
Subject: [R] confidence ellipsoid for model parameters
In-Reply-To: <3C323D7A.D57CE9BC@cirad.fr>
Message-ID: <5.1.0.14.2.20020102131332.01d3a6f0@mcmail.cis.mcmaster.ca>

Dear Renaud,

At 10:51 PM 1/1/2002 +0000, Renaud Lancelot wrote:
>Dear all,
>
>Has anyone written functions to compute (and ideally project / plot onto
>a plane) confidence ellipsoids for q linear model parameters, q > 2 ?

(I also read the subsequent messages on this topic. I'm not sure that I 
understand why you want to do what you suggest, but if I interpret the 
question properly, you should be able to proceed as follows.)

The confidence ellipse for a pair of coefficients is just (with an 
adjustment for size) the perpendicular shadow of the joint ellipsoid, in 
the same sense that the confidence intervals for individual coefficients 
are shadows of the joint ellipsoid or ellipse. The usual confidence ellipse 
for 2 of q coefficients uses qf(.95, 2, df.error) to scale the ellipse; if 
you want to scale the ellipse as a literal shadow of the joint confidence 
region for all q coefficients, use qf(.95, q, df.error) instead (which 
produces a smaller ellipse). You can do this by simply editing 
confidence.ellipse.lm in car.

I hope that this helps.
  John

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pwhelan at mcw.edu  Wed Jan  2 22:24:55 2002
From: pwhelan at mcw.edu (Perry Whelan)
Date: Wed, 02 Jan 2002 13:24:55 -0800
Subject: [R] R ./configure error | Solaris8 / E-450
Message-ID: <3C337AA7.D8D53FBA@mcw.edu>

Hi not sure where to go with this, I'm attaching the whole output,
you'll see the error at the end...
> ./configure
loading cache ./config.cache
checking for a BSD compatible install... tools/install-sh -c
checking whether build environment is sane... yes
checking whether make sets ${MAKE}... yes
checking for working aclocal... missing
checking for working autoconf... missing
checking for working automake... missing
checking for working autoheader... missing
checking for working makeinfo... found
checking host system type... sparc-sun-solaris2.8
loading site script ./config.site
loading build specific script ./config.site
checking for pwd... /bin/pwd
checking whether builddir is srcdir... yes
checking for gcc... gcc
checking whether the C compiler (gcc  ) works... yes
checking whether the C compiler (gcc  ) is a cross-compiler... no
checking whether we are using GNU C... yes
checking whether gcc accepts -g... yes
checking how to run the C preprocessor... gcc -E
checking whether gcc needs -traditional... no
checking whether gcc accepts -M for generating dependencies... yes
checking whether gcc supports -c -o FILE.lo... yes
checking for mawk... no
checking for gawk... no
checking for nawk... nawk
checking whether ln -s works... yes
checking for ranlib... ranlib
checking for bison... no
checking for byacc... no
checking for ar... ar
checking whether echo can suppress newlines... yes
configure: warning: redefining INSTALL to be
/export/home/swguo/R/R-1.4.0/tools/install-sh -c
checking for javac... /bin/javac
checking for less... /bin/less
checking for perl... /bin/perl
checking whether perl version is at least 5.004... yes
checking for dvips... /usr/local/teTeX/bin/dvips
checking for tex... /usr/local/teTeX/bin/tex
checking for latex... /usr/local/teTeX/bin/latex
checking for makeindex... /usr/local/teTeX/bin/makeindex
checking for pdftex... /usr/local/teTeX/bin/pdftex
checking for pdflatex... /usr/local/teTeX/bin/pdflatex
checking for makeinfo... /usr/local/teTeX/bin/makeinfo
checking for unzip... /bin/unzip
checking for zip... /bin/zip
checking for Cygwin environment... no
checking for mingw32 environment... no
checking build system type... sparc-sun-solaris2.8
checking for ld used by GCC... /usr/ccs/bin/ld
checking if the linker (/usr/ccs/bin/ld) is GNU ld... no
checking for /usr/ccs/bin/ld option to reload object files... -r
checking for BSD-compatible nm... /usr/ccs/bin/nm -p
checking how to recognise dependant libraries... pass_all
checking for object suffix... o
checking for executable suffix... no
checking command to parse /usr/ccs/bin/nm -p output... ok
checking for dlfcn.h... yes
checking for ranlib... (cached) ranlib
checking for strip... strip
checking for objdir... .libs
checking for gcc option to produce PIC... -fPIC
checking if gcc PIC flag -fPIC works... yes
checking if gcc static flag -static works... yes
checking if gcc supports -c -o file.o... yes
checking if gcc supports -c -o file.lo...
checking if gcc supports -fno-rtti -fno-exceptions... yes
checking whether the linker (/usr/ccs/bin/ld) supports shared
libraries... yes
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... no
checking dynamic linker characteristics... solaris2.8 ld.so
checking if libtool supports shared libraries... yes
creating libtool
checking whether makeinfo version is at least 4... no
configure: warning: you cannot build info versions of the R manuals
checking for main in -lm... yes
checking for g77... g77
checking whether the Fortran 77 compiler (g77  ) works... yes
checking whether the Fortran 77 compiler (g77  ) is a cross-compiler...
no
checking whether we are using GNU Fortran 77... yes
checking whether g77 accepts -g... yes
checking for Fortran 77 libraries...  -lg2c -lm  -L/usr/ccs/lib
-L/usr/lib -L/usr/local/lib/gcc-lib/sparc-sun-solaris2.7/2.95.2
-L/usr/ccs/bin -L/usr/ccs/lib -L/usr/local/lib -lm
checking whether g77 appends underscores... yes
checking whether g77 and gcc agree on int and double... yes
checking whether g77 and gcc agree on double complex... yes
checking whether g77 supports -c -o FILE.lo... yes
checking for c++... c++
checking whether the C++ compiler (c++  ) works... yes
checking whether the C++ compiler (c++  ) is a cross-compiler... no
checking whether we are using GNU C++... yes
checking whether c++ accepts -g... yes
checking how to run the C++ preprocessor... c++ -E
checking whether c++ accepts -M for generating dependencies... yes
checking whether c++ supports -c -o FILE.lo... yes
checking for sin in -lm... yes
checking for sin in -lmoto... no
checking for main in -lncurses... no
checking for main in -ltermcap... yes
checking for dlopen in -ldl... yes
checking for ATL_xerbla in -latlas... no
checking for zherk in -lblas... no
checking for dgemm_ in -lblas... no
checking for rl_callback_read_char in -lreadline... yes
checking for working alloca.h... yes
checking for alloca... yes
checking for ANSI C header files... yes
checking for pid_t... yes
checking for vfork.h... no
checking for working vfork... yes
checking for vprintf... yes
checking for access... yes
checking for acosh... yes
checking for asinh... yes
checking for atanh... yes
checking for bcopy... yes
checking for bzero... yes
checking for finite... yes
checking for ftruncate... yes
checking for getcwd... yes
checking for getgrgid... yes
checking for getpwuid... yes
checking for getuid... yes
checking for hypot... yes
checking for isascii... yes
checking for isnan... yes
checking for matherr... yes
checking for memcpy... yes
checking for memmove... yes
checking for mempcpy... no
checking for mkfifo... yes
checking for popen... yes
checking for putenv... yes
checking for rint... yes
checking for setenv... no
checking for snprintf... yes
checking for strcoll... yes
checking for stat... yes
checking for strptime... yes
checking for system... yes
checking for times... yes
checking for unsetenv... no
checking for vsnprintf... yes
checking for strdup... yes
checking for library containing connect... -lsocket
checking for library containing gethostbyname... -lnsl
checking for library containing xdr_string... none required
checking for __setfpucw... no
checking for working calloc... yes
checking for working finite... yes
checking for working log... no
checking for working strptime... yes
checking for ANSI C header files... (cached) yes
checking whether time.h and sys/time.h may both be included... yes
checking for dirent.h that defines DIR... yes
checking for opendir in -ldir... no
checking for sys/wait.h that is POSIX.1 compatible... yes
checking for arpa/inet.h... yes
checking for dl.h... no
checking for dlfcn.h... (cached) yes
checking for elf.h... yes
checking for errno.h... yes
checking for fcntl.h... yes
checking for floatingpoint.h... yes
checking for fpu_control.h... no
checking for grp.h... yes
checking for ieee754.h... no
checking for ieeefp.h... yes
checking for locale.h... yes
checking for netdb.h... yes
checking for netinet/in.h... yes
checking for pwd.h... yes
checking for readline/history.h... yes
checking for readline/readline.h... yes
checking for rpc/xdr.h... yes
checking for string.h... yes
checking for strings.h... yes
checking for sys/param.h... yes
checking for sys/select.h... yes
checking for sys/socket.h... yes
checking for sys/stat.h... yes
checking for sys/time.h... yes
checking for sys/times.h... yes
checking for sys/utsname.h... yes
checking for unistd.h... yes
checking whether setjmp.h is POSIX.1 compatible... yes
checking for GNU C library with version >= 2... no
checking whether math.h defines isfinite... no
checking whether math.h defines isnan... no
checking return type of signal handlers... void
checking for pid_t... (cached) yes
checking for size_t... yes
checking for blkcnt_t... yes
checking for sys/socket.h... (cached) yes
checking for type of socket length... socklen_t *
checking whether byte ordering is bigendian... yes
checking for working const... yes
checking size of int... 4
checking size of long... 4
checking size of long long... 8
checking size of long double... 16
checking for xmkmf... /usr/openwin/bin/xmkmf
checking for X... libraries /usr/openwin/lib, headers
/usr/openwin/include
checking whether -R must be followed by a space... no
checking for dnet_ntoa in -ldnet... no
checking for dnet_ntoa in -ldnet_stub... no
checking for gethostbyname... yes
checking for connect... yes
checking for remove... yes
checking for shmat... yes
checking for IceConnectionNumber in -lICE... yes
checking for tclConfig.sh... /usr/local/lib/tclConfig.sh
checking for tkConfig.sh... /usr/local/lib/tkConfig.sh
checking for
@________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________@/include/tcl8.3/tcl.h...
./configure: bad substitution
>

Thanks for any help!
Perry
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pwhelan.vcf
Type: text/x-vcard
Size: 344 bytes
Desc: Card for Perry Whelan
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020102/2102c5d6/pwhelan.vcf

From ripley at stats.ox.ac.uk  Wed Jan  2 20:28:49 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 2 Jan 2002 19:28:49 +0000 (GMT)
Subject: [R] good book
In-Reply-To: <Pine.LNX.4.33.0201021044390.3182-100000@math.cudenver.edu>
Message-ID: <Pine.LNX.4.31.0201021927240.8309-100000@gannet.stats>

On Wed, 2 Jan 2002, Liliana Forzani wrote:

> to teach statistics with R

See the R FAQ.  Nolan & Speed (2000) is excellent at its level, but
`statistics' is a large field and it may not be what you want.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan  2 20:31:10 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 2 Jan 2002 19:31:10 +0000 (GMT)
Subject: [R] how to force a big array to be integer type
In-Reply-To: <20020102164127.4664.qmail@web10502.mail.yahoo.com>
Message-ID: <Pine.LNX.4.31.0201021929420.8309-100000@gannet.stats>

Does

storage.mode(Array) <- "integer"

do what you want?

Array[] <- as.integer(Array)

is I think the same operation. Both preserve the dim and dimnames and
any other attributes.


On Wed, 2 Jan 2002, Jason Liao wrote:

> First, happy new year to everyone, especially to Prof. Ripley, who has
> kindly answered my previous questions.
>
> I need to use an array to store a large number of integers. My question
> is how to force an array to be integer for storage.type. This will save
> memory (from 8 bytes real to 4 bytes integer). Also I need to compare
> integers and I want their representation to be exact.
>
> Thanks for your help.
>
> Jason
>
>
>
>
> =====
> Jason G. Liao, Ph.D.
> Division of Biometrics
> UMDNJ School of Public Health
> 335 George Street, Suite 2200
> New Brunswick, NJ 08903-2688
> phone (732) 235-9748, fax (732) 235-9777
> http://www.geocities.com/jg_liao
>
> __________________________________________________
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Wed Jan  2 20:32:21 2002
From: rolf at math.unb.ca (Rolf Turner)
Date: Wed, 2 Jan 2002 15:32:21 -0400 (AST)
Subject: [R] Homemade packages.
Message-ID: <200201021932.PAA13729@gelfand.math.unb.ca>


Dear Brian:

Thanks for your response to my posting to the r-help list.

You wrote:

>  You shouldn't be installing into `.' You install packages into a
>  *library*

	(a) Installing into `.' seemed to work fine under 1.3.1.

	(b) What then, is a ``library''?  I took ``library'' to
	mean a directory containing a number of subdirectories,
	each of which constituted a package.  So when I am located
	in ~rolf/Rlib --- which is what I want to be my ``personal
	library'' --- and I install into `.' then I ***am***
	installing into a library, since `.' ***is*** a library.

	If the foregoing does not make sense, then I am clearly
	misunderstanding the nature of the library/packages
	structure.  And if this is indeed the case, then I think
	the documentation should be clarified.  The documentation
	currently says

		A package consists of a subdirectory containing the
		files DESCRIPTION and INDEX, and the subdirectories
		R, data, demo, exec, inst, man, src, and tests (some
		of which can be missing).

	and

		To install into the library tree `lib', use
		`R CMD INSTALL -l lib pkgs'.

		Both `lib' and the elements of `pkgs' may be absolute
		or relative path names.

	There appears to me to no special requirements for the
	directory `lib' and in particular nothing saying that `lib'
	cannot be the current working directory.

>  and the default (R_HOME/library if R_LIBS is unset) is normally
>  sufficient.

	I am working on a multi-user system, not on a PC.  I am not
	working as root, and I am trying to install a package in a
	***personal*** library, NOT in a generally available
	``system'' library.

>  Yes, if you install onto the sources it will now wipe out what it
>  thinks of as older and unnecessary files, and that is new in
>  1.4.0.

	That seems to me to be at the very least a dangerous
	design flaw.  To destroy code without warning and without
	saving a back-up --- even if the user is doing something
	stupid (and given that what I was doing used to work in
	version 1.3.1 I don't think it was all ***that*** stupid)
	--- is asking for trouble.  I had to re-write a good bit
	of code and documentation because of this behaviour.

					cheers,

						Rolf
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Wed Jan  2 20:41:48 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Thu, 3 Jan 2002 08:41:48 +1300
Subject: [R] good book
In-Reply-To: <Pine.LNX.4.33.0201021044390.3182-100000@math.cudenver.edu>
Message-ID: <JLECJACFMBHFAAPLJNECMEMICAAA.Ko-Kang@xtra.co.nz>

Personally I found the following two books to be quite useful:

1. S Programming, by W.N. Venables and B.D. Ripley

2. Modern Applied Statistics with S-Plus Third Edition,  by W.N. Venables and B.D. Ripley


Both are under the "Statistics and Computing" series.  Both are targeted at S/S-plus, however they can be used for R programming.  If you are interested in programming then John M. Chambers's "Programming with Data, A Guide to the S Language" is also good.

Number 2 above is more suitable, in my opinion, for teaching statistics using R/S-plus.  Number 1 above is more for programming.

Hope this helps,

Ko-Kang Wang



-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Liliana Forzani
Sent: Thursday, January 03, 2002 6:45 AM
To: r-help at stat.math.ethz.ch
Subject: [R] good book


to teach statistics with R
thanks

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Stacey.Hartley at pnl.gov  Wed Jan  2 21:36:17 2002
From: Stacey.Hartley at pnl.gov (Hartley, Stacey A)
Date: Wed, 02 Jan 2002 12:36:17 -0800
Subject: [R] dos command line
Message-ID: <29E6E93D92576F4DB85FE89FF2C23F4401B7EFA4@pnlmse03.pnl.gov>

All,

I am an Splus user trying to use R for a specific project where the client
needs the programs to be run in R.  Before the holidays, I figured out how
to run an R file from the dos command line--it worked great!  The command is
"Rterm something filename".  I can't remember what it is now, and it is
driving me nuts. Anyone know? I know I'll feel pretty stupid once the answer
is given...I am running R.1.4.0 pre-release on my PC.

Thanks in advance.

Stacey

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan  2 21:41:27 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 2 Jan 2002 20:41:27 +0000 (GMT)
Subject: [R] Homemade packages.
In-Reply-To: <200201021932.PAA13729@gelfand.math.unb.ca>
Message-ID: <Pine.LNX.4.31.0201022034390.8400-100000@gannet.stats>

On Wed, 2 Jan 2002, Rolf Turner wrote:

>
> Dear Brian:
>
> Thanks for your response to my posting to the r-help list.
>
> You wrote:
>
> >  You shouldn't be installing into `.' You install packages into a
> >  *library*
>
> 	(a) Installing into `.' seemed to work fine under 1.3.1.
>
> 	(b) What then, is a ``library''?  I took ``library'' to
> 	mean a directory containing a number of subdirectories,
> 	each of which constituted a package.  So when I am located
> 	in ~rolf/Rlib --- which is what I want to be my ``personal
> 	library'' --- and I install into `.' then I ***am***
> 	installing into a library, since `.' ***is*** a library.
>
> 	If the foregoing does not make sense, then I am clearly

They constitute binary not source packages.

> 	misunderstanding the nature of the library/packages
> 	structure.  And if this is indeed the case, then I think
> 	the documentation should be clarified.  The documentation
> 	currently says
>
> 		A package consists of a subdirectory containing the
> 		files DESCRIPTION and INDEX, and the subdirectories
> 		R, data, demo, exec, inst, man, src, and tests (some
> 		of which can be missing).
>
> 	and
>
> 		To install into the library tree `lib', use
> 		`R CMD INSTALL -l lib pkgs'.
>
> 		Both `lib' and the elements of `pkgs' may be absolute
> 		or relative path names.
>
> 	There appears to me to no special requirements for the
> 	directory `lib' and in particular nothing saying that `lib'
> 	cannot be the current working directory.

Well, of course it can, but it should not contain existing source packages
of the same name!  That's just adding confusion. It doesn't say so,
because I suspect no one considered doing something *that* confusing.

> >  and the default (R_HOME/library if R_LIBS is unset) is normally
> >  sufficient.
>
> 	I am working on a multi-user system, not on a PC.  I am not
> 	working as root, and I am trying to install a package in a
> 	***personal*** library, NOT in a generally available
> 	``system'' library.

So do I (although it is a techically a PC), If you set R_LIBS, you will
get a personal library, and R CMD INSTALL will by default install into it.
(I do that all the time.)

So I think you are critizing something I did not say.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From smalladi at lexgen.com  Wed Jan  2 22:17:02 2002
From: smalladi at lexgen.com (Sukhaswami Malladi)
Date: Wed, 2 Jan 2002 15:17:02 -0600 
Subject: [R] RODBC - dsn specification
Message-ID: <80A38867B1DBD511A8C9009027764C8C3795B3@lexchange.lexgen.com>

Happy New Year to all in the list!

I am trying to issue an SQL query to a database from R using
RODBC (on Windows). The data source file is on my PC hard
disk : C:\Program Files\ODBC\sql.dsn

The "\" character does not get interpreted properly in R - it
is removed from the file-spec string or if I specify "\\" it
appears as such with a syntax error in

odbcConnect(dsn, uid="", pwd="", host="localhost", case="nochange")

Can anyone there write the correct syntax so as to specify the
dsn in the "odbcConnect" function for opening the channel for doing
a query ?

Thanks in advance,
swami



*************************************************************************** 
 The contents of this communication are intended only for the addressee and
may contain confidential and/or privileged material. If you are not the
intended recipient, please do not read, copy, use or disclose this
communication and notify the sender.  Opinions, conclusions and other
information in this communication that do not relate to the official
business of my company shall be understood as neither given nor endorsed by
it.  
*************************************************************************** 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at genome.cbs.dtu.dk  Wed Jan  2 22:27:54 2002
From: laurent at genome.cbs.dtu.dk (Laurent Gautier)
Date: Wed, 2 Jan 2002 22:27:54 +0100 (MET)
Subject: [R] Combining files
In-Reply-To: <p0510100eb858f4e46757@[193.49.112.222]>
Message-ID: <Pine.SGI.3.95.1020102220147.2714027B-100000@genome.cbs.dtu.dk>



Would the following make it ?


frame1 _ read.table("file1", sep=",")
n1 _ length(frame1)
m1 _ rep(F, n1)
m1[1] _ T

frame2 _ read.table("file2", sep=",")
## might a more elegant way to do the following: I remember
## discussions about it in this list
frame2 _ frame2[,1:2]
m2 _ c(T,F)

my.data.frame _ merge(frame1, frame2, m1, m2, all.x=T)

x


Laurent


Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent

On Wed, 2 Jan 2002, Jean-Pierre Gattuso wrote:

> Hi:
> 
> I am a very recent user of R 1.40 for MacOSX and went through the 
> help files but did not not find the function that I am looking for.
> 
> 
> I have two comma separated files which I want to partly combine.
> 
> File 1 has 49670 lines and 26 columns (separated by commas) and looks 
> like this:
> 
> ...
> 86020,-10.25,30.25,19.24,19.18,6.19,22.6,16.41,.4,1.58,36.36,36.47,36.18,,3,3,4,116.44,3.03,98.83,126.97,116.03,5.44,0,0,-1
> 86021,-9.75,30.25,19.06,18.97,6.24,22.41,16.17,.42,1.58,36.36,36.47,36.18,.01,3,3,4,146.15,5.33,131.7,153.38,145.6,9.46,0,0,-1
> 86022,-9.25,30.25,,,,,,,,,,,,3,,,,,,,,,0,0,-1
> 86023,-8.75,30.25,,,,,,,,,,,,,,,,,,,,,0,0,-1
> 86071,15.25,30.25,,,,,,,,,,,,3,,,,,,,,,0,0,-1
> ....
> 
> File 2 has 259201 lines and 8 columns (separated by commas) and looks 
> like this:
> 
> ...
> 86020,Oceanic I,-1,-10.25,30.25,7,2670.172,207.249
> 86021,Coastal,0,-9.75,30.25,7,2670.172,207.249
> 86022,Terrestrial,1,-9.25,30.25,7,2670.172,207.249
> 86023,Terrestrial,1,-8.75,30.25,7,2670.172,207.249
> 86024,Not Selected,-9999,-8.25,30.25,7,2670.172,207.249
> ...
> 
> Column 1 in both files is the cell id and colum 2 in file 2 provides 
> the nature of the cell (oceanic, terrestrial...).
> 
> What I want to do is to add the nature of the cell to each line of 
> file 1. In other words, I want to add column 2 of file 2 (e.g. 
> "oceanic") to file 1, using columns 1 of both files as matching 
> variables (i.e. add column 2 o
> 
> Thanks in advance for your help,
> jp
> -- 
> 
> ____________________________________________________________________
> Jean-Pierre Gattuso
> Laboratoire d'Ocanographie de Villefranche, UMR 7093 CNRS-UPMC
> B. P. 28, F-06234 Villefranche-sur-mer Cedex - France
> Voice: +33 (0)493763859 - Fax: +33 (0)493763834 - US fax: +1 (978) 477-8302
> <mailto:gattuso at obs-vlfr.fr> - http://www.obs-vlfr.fr/~gattuso
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan  2 22:56:34 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 2 Jan 2002 21:56:34 +0000 (GMT)
Subject: [R] dos command line
In-Reply-To: <29E6E93D92576F4DB85FE89FF2C23F4401B7EFA4@pnlmse03.pnl.gov>
Message-ID: <Pine.LNX.4.31.0201022152531.8483-100000@gannet.stats>

There is no port of R to DOS, and R does not run from the DOS command
line.  It does run from the Windows command prompt, and there I think you
are looking for Rterm --no-save < filename.

Looking in the rw-FAQ would have saved your sanity: it's in Q2.7.

You can also do this sort of thing in other shells, e.g. tcsh and bash
under Windows.

On Wed, 2 Jan 2002, Hartley, Stacey A wrote:

> I am an Splus user trying to use R for a specific project where the client
> needs the programs to be run in R.  Before the holidays, I figured out how
> to run an R file from the dos command line--it worked great!  The command is
> "Rterm something filename".  I can't remember what it is now, and it is
> driving me nuts. Anyone know? I know I'll feel pretty stupid once the answer
> is given...I am running R.1.4.0 pre-release on my PC.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan  2 22:59:16 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 2 Jan 2002 21:59:16 +0000 (GMT)
Subject: [R] RODBC - dsn specification
In-Reply-To: <80A38867B1DBD511A8C9009027764C8C3795B3@lexchange.lexgen.com>
Message-ID: <Pine.LNX.4.31.0201022157020.8483-100000@gannet.stats>

/ ought to work, but I suspect there is a problem with spaces in the file
name, so try the short name:  "C:/PROGRA~1/ODBC/sql.dsn", probably.

You can almost always use / as the directory separator on Windows.


On Wed, 2 Jan 2002, Sukhaswami Malladi wrote:

> Happy New Year to all in the list!
>
> I am trying to issue an SQL query to a database from R using
> RODBC (on Windows). The data source file is on my PC hard
> disk : C:\Program Files\ODBC\sql.dsn
>
> The "\" character does not get interpreted properly in R - it
> is removed from the file-spec string or if I specify "\\" it
> appears as such with a syntax error in
>
> odbcConnect(dsn, uid="", pwd="", host="localhost", case="nochange")
>
> Can anyone there write the correct syntax so as to specify the
> dsn in the "odbcConnect" function for opening the channel for doing
> a query ?
>
> Thanks in advance,
> swami
>
>
>
> ***************************************************************************
>  The contents of this communication are intended only for the addressee and
> may contain confidential and/or privileged material. If you are not the
> intended recipient, please do not read, copy, use or disclose this
> communication and notify the sender.  Opinions, conclusions and other
> information in this communication that do not relate to the official
> business of my company shall be understood as neither given nor endorsed by
> it.
> ***************************************************************************
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan  2 23:05:35 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 2 Jan 2002 22:05:35 +0000 (GMT)
Subject: [R] Combining files
In-Reply-To: <Pine.SGI.3.95.1020102220147.2714027B-100000@genome.cbs.dtu.dk>
Message-ID: <Pine.LNX.4.31.0201022201090.8483-100000@gannet.stats>

I think indexing is easier here.  Supposing you make the first column the
row names (read with header=T and a header) then

frame1$nature <- frame2[row.names(frame1), 1]

should do it.  Otherwise (not using row names), something like

frame1$nature <- frame2[match(frame1$id, frame2$id), 2]



On Wed, 2 Jan 2002, Laurent Gautier wrote:

>
>
> Would the following make it ?
>
>
> frame1 _ read.table("file1", sep=",")
> n1 _ length(frame1)
> m1 _ rep(F, n1)
> m1[1] _ T
>
> frame2 _ read.table("file2", sep=",")
> ## might a more elegant way to do the following: I remember
> ## discussions about it in this list
> frame2 _ frame2[,1:2]
> m2 _ c(T,F)
>
> my.data.frame _ merge(frame1, frame2, m1, m2, all.x=T)
>
> x
>
>
> Laurent
>
>
> Laurent Gautier			CBS, Building 208, DTU
> PhD. Student			D-2800 Lyngby,Denmark
> tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
>
> On Wed, 2 Jan 2002, Jean-Pierre Gattuso wrote:
>
> > Hi:
> >
> > I am a very recent user of R 1.40 for MacOSX and went through the
> > help files but did not not find the function that I am looking for.
> >
> >
> > I have two comma separated files which I want to partly combine.
> >
> > File 1 has 49670 lines and 26 columns (separated by commas) and looks
> > like this:
> >
> > ...
> > 86020,-10.25,30.25,19.24,19.18,6.19,22.6,16.41,.4,1.58,36.36,36.47,36.18,,3,3,4,116.44,3.03,98.83,126.97,116.03,5.44,0,0,-1
> > 86021,-9.75,30.25,19.06,18.97,6.24,22.41,16.17,.42,1.58,36.36,36.47,36.18,.01,3,3,4,146.15,5.33,131.7,153.38,145.6,9.46,0,0,-1
> > 86022,-9.25,30.25,,,,,,,,,,,,3,,,,,,,,,0,0,-1
> > 86023,-8.75,30.25,,,,,,,,,,,,,,,,,,,,,0,0,-1
> > 86071,15.25,30.25,,,,,,,,,,,,3,,,,,,,,,0,0,-1
> > ....
> >
> > File 2 has 259201 lines and 8 columns (separated by commas) and looks
> > like this:
> >
> > ...
> > 86020,Oceanic I,-1,-10.25,30.25,7,2670.172,207.249
> > 86021,Coastal,0,-9.75,30.25,7,2670.172,207.249
> > 86022,Terrestrial,1,-9.25,30.25,7,2670.172,207.249
> > 86023,Terrestrial,1,-8.75,30.25,7,2670.172,207.249
> > 86024,Not Selected,-9999,-8.25,30.25,7,2670.172,207.249
> > ...
> >
> > Column 1 in both files is the cell id and colum 2 in file 2 provides
> > the nature of the cell (oceanic, terrestrial...).
> >
> > What I want to do is to add the nature of the cell to each line of
> > file 1. In other words, I want to add column 2 of file 2 (e.g.
> > "oceanic") to file 1, using columns 1 of both files as matching
> > variables (i.e. add column 2 o
> >
> > Thanks in advance for your help,
> > jp
> > --
> >
> > ____________________________________________________________________
> > Jean-Pierre Gattuso
> > Laboratoire d'Ocanographie de Villefranche, UMR 7093 CNRS-UPMC
> > B. P. 28, F-06234 Villefranche-sur-mer Cedex - France
> > Voice: +33 (0)493763859 - Fax: +33 (0)493763834 - US fax: +1 (978) 477-8302
> > <mailto:gattuso at obs-vlfr.fr> - http://www.obs-vlfr.fr/~gattuso
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bdavies at intel.com  Wed Jan  2 23:23:02 2002
From: bdavies at intel.com (Davies, Bob)
Date: Wed, 2 Jan 2002 14:23:02 -0800 
Subject: No subject
Message-ID: <25A36276A29AD5119FB000508BB26843012C8D07@fmsmsx101.fm.intel.com>

Any rpart user:

I am trying to construct an rpart tree using a subset of the data and it
will occasionally fail when predicting a categorical response variable.

The reason that rpart fails is that the subset does not contain each of the
categories present in the original data.  For example, in the car.test.frame
example, a subset that has all the categories except "Small" will not
produce an rpart tree.

I attempted to use "parms=list(prior=...) and it did not correct the
problem.

Here is a demonstration of the problem using the car.test.frame:

library(rpart)
data(car.test.frame)
t1 <- rpart(Type ~ ., car.test.frame)
t1
sub <- row.names(car.test.frame[car.test.frame[,"Weight"] > 2567.5,])  #
create a subset
rpart (Type ~ ., car.test.frame, subset=sub )  # this statement will fail

# so now attempt to indicate what the priors should look like:
rpart (Type ~ ., car.test.frame, subset=sub,
parms=list(prior=t1$parms$prior))  # this statement will fail

# now add 1 "Small" car to this subset of car.test.frame
sub <- row.names(car.test.frame[car.test.frame[,"Weight"] > 2559,])  # lower
the weight just a little to get a "Small" car.
rpart(Type ~ ., car.test.frame, subset=sub) # This statement will work !

Any suggestions?

I am using R 1.4.0 on Windows 2000.

Bob Davies

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mdsohn at lbl.gov  Thu Jan  3 06:22:45 2002
From: mdsohn at lbl.gov (Michael D. Sohn)
Date: Wed, 02 Jan 2002 21:22:45 -0800
Subject: [R] extracting entire mail archive
Message-ID: <3C33EAA5.67263699@lbl.gov>

I'd like to search the r-help mail archives.  However, it takes a long
time to load the html archive for my searches.  Is there a simple way to
download the entire http://cran.r-project.org/doc/mail-archives/r-help/
archives in text format so I can execute simple grep searches?

thanks,
Mike


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ezivot at u.washington.edu  Wed Jan  2 21:17:17 2002
From: ezivot at u.washington.edu (Eric Zivot)
Date: Wed, 2 Jan 2002 12:17:17 -0800
Subject: [S] [R] confidence ellipsoid for model parameters
In-Reply-To: <5.1.0.14.2.20020102131332.01d3a6f0@mcmail.cis.mcmaster.ca>
Message-ID: <GPECKMJDPHIDALEELIMHAEICCDAA.ezivot@u.washington.edu>

Very recently a graduate student, Mohamed Taamouti, in economics at the
University of Montreal, working with Jean Marie Dufour, has derived analytic
formulas based on "quadrics" for computing projected confidence sets for
individual parameters in instrumental variables regression models. These
formulas can be used for regular regression as well. See the working paper
"Projection-Based Statistical Inference in Linear Structural Models with
Possibly Weak Instruments" Discussion paper C.R.D.E., University of
Montreal, 2000.

-----Original Message-----
From: s-news-owner at lists.biostat.wustl.edu
[mailto:s-news-owner at lists.biostat.wustl.edu]On Behalf Of John Fox
Sent: Wednesday, January 02, 2002 10:29 AM
To: renaud.lancelot at cirad.fr; S-news
Cc: R-Help
Subject: Re: [S] [R] confidence ellipsoid for model parameters


Dear Renaud,

At 10:51 PM 1/1/2002 +0000, Renaud Lancelot wrote:
>Dear all,
>
>Has anyone written functions to compute (and ideally project / plot onto
>a plane) confidence ellipsoids for q linear model parameters, q > 2 ?

(I also read the subsequent messages on this topic. I'm not sure that I
understand why you want to do what you suggest, but if I interpret the
question properly, you should be able to proceed as follows.)

The confidence ellipse for a pair of coefficients is just (with an
adjustment for size) the perpendicular shadow of the joint ellipsoid, in
the same sense that the confidence intervals for individual coefficients
are shadows of the joint ellipsoid or ellipse. The usual confidence ellipse
for 2 of q coefficients uses qf(.95, 2, df.error) to scale the ellipse; if
you want to scale the ellipse as a literal shadow of the joint confidence
region for all q coefficients, use qf(.95, q, df.error) instead (which
produces a smaller ellipse). You can do this by simply editing
confidence.ellipse.lm in car.

I hope that this helps.
  John

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan  3 09:15:32 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 3 Jan 2002 08:15:32 +0000 (GMT)
Subject: [R] Re: your mail about rpart
In-Reply-To: <25A36276A29AD5119FB000508BB26843012C8D07@fmsmsx101.fm.intel.com>
Message-ID: <Pine.LNX.4.31.0201030814410.8892-100000@gannet.stats>

Add NAOK=T to the .C call in formatg.  It won't help you much, though.


On Wed, 2 Jan 2002, Davies, Bob wrote:

> Any rpart user:
>
> I am trying to construct an rpart tree using a subset of the data and it
> will occasionally fail when predicting a categorical response variable.
>
> The reason that rpart fails is that the subset does not contain each of the
> categories present in the original data.  For example, in the car.test.frame
> example, a subset that has all the categories except "Small" will not
> produce an rpart tree.
>
> I attempted to use "parms=list(prior=...) and it did not correct the
> problem.
>
> Here is a demonstration of the problem using the car.test.frame:
>
> library(rpart)
> data(car.test.frame)
> t1 <- rpart(Type ~ ., car.test.frame)
> t1
> sub <- row.names(car.test.frame[car.test.frame[,"Weight"] > 2567.5,])  #
> create a subset
> rpart (Type ~ ., car.test.frame, subset=sub )  # this statement will fail
>
> # so now attempt to indicate what the priors should look like:
> rpart (Type ~ ., car.test.frame, subset=sub,
> parms=list(prior=t1$parms$prior))  # this statement will fail
>
> # now add 1 "Small" car to this subset of car.test.frame
> sub <- row.names(car.test.frame[car.test.frame[,"Weight"] > 2559,])  # lower
> the weight just a little to get a "Small" car.
> rpart(Type ~ ., car.test.frame, subset=sub) # This statement will work !
>
> Any suggestions?
>
> I am using R 1.4.0 on Windows 2000.
>
> Bob Davies
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Jan  3 09:20:25 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 3 Jan 2002 09:20:25 +0100
Subject: [R] extracting entire mail archive
In-Reply-To: <3C33EAA5.67263699@lbl.gov>
References: <3C33EAA5.67263699@lbl.gov>
Message-ID: <15412.5193.89811.907599@gargle.gargle.HOWL>

>>>>> "MikeS" == Michael D Sohn <mdsohn at lbl.gov> writes:

    MikeS> I'd like to search the r-help mail archives.
    MikeS> However, it takes a long time to load the html
    MikeS> archive for my searches.  Is there a simple way to
    MikeS> download the entire
    MikeS> http://cran.r-project.org/doc/mail-archives/r-help/
    MikeS> archives in text format so I can execute simple grep
    MikeS> searches?

wget --mirror http://cran.r-project.org/doc/mail-archives/r-help

  {if your system hasn't got "wget" -- get it !}

But please don't everyone try the above. It's quite a huge
thing, and I don't think it will make Kurt, Fritz etc nor the TU
Wien IT-people very happy!

-- 
Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jan  3 09:57:56 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 03 Jan 2002 09:57:56 +0100
Subject: [R] expression(alpha) in legend()
References: <3.0.6.32.20020102163443.00a50960@mail.anst.uu.se>
Message-ID: <3C341D14.8030903@statistik.uni-dortmund.de>



Tord Snall wrote:

> Dear all,
> I try to plot include expression(alpha) in a legend():
> 
> x<-  seq(0,150)
> par(mfrow=c(1,1))
> matplot(x, outer(x, c(0.001, 0.01, 0.05, 0.1, 0.5),
> function(x, k) exp(-k*x)), type="l", lty=1:5, col=1, lwd=3, ylim=c(0,1), 
> xlim=c(0,170), ylab="", xlab="Distance (m)")
> 
> legend(110, 0.8 , c(expression(alpha), "= 0.001","alpha=0.01","alpha=0.05", 
> "alpha=0.1", "alpha=0.5"), lty=c(1,2,3,4,5), lwd=3, col=1,merge=T)
> 
> I want to replace the text "alpha" with the alpha symbol.



Try

   legend(110, 0.8 , c(
	expression(alpha == 0.001),
	expression(alpha == 0.01),
	expression(alpha == 0.05),
	expression(alpha == 0.1),
	expression(alpha == 0.5)
   ), lty=1:5, lwd=3, col=1, merge=TRUE)


Uwe

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jan  3 10:13:07 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Jan 2002 10:13:07 +0100
Subject: [R] expression(alpha) in legend()
In-Reply-To: <3C341D14.8030903@statistik.uni-dortmund.de>
References: <3.0.6.32.20020102163443.00a50960@mail.anst.uu.se>
	<3C341D14.8030903@statistik.uni-dortmund.de>
Message-ID: <x2r8p7lrvg.fsf@blueberry.kubism.ku.dk>

Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:

> Tord Snall wrote:
> 
> > Dear all,
> > I try to plot include expression(alpha) in a legend():
..
> Try
> 
>    legend(110, 0.8 , c(
> 	expression(alpha == 0.001),
> 	expression(alpha == 0.01),
> 	expression(alpha == 0.05),
> 	expression(alpha == 0.1),
> 	expression(alpha == 0.5)
>    ), lty=1:5, lwd=3, col=1, merge=TRUE)

Um, you don't have to c() expressions like that:

plot(110, 0.8)
legend(110, 0.8, expression(alpha == 0.001, alpha == 0.01,
  alpha == 0.05, alpha == 0.1, alpha == 0.5), lty=1:5, lwd=3, col=1,
  merge=TRUE)

(but we seem to have a slight vertical alignment problem in X11?)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Thu Jan  3 12:16:20 2002
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Thu, 3 Jan 2002 12:16:20 +0100
Subject: [R] Different behaviour of data()
Message-ID: <OF72C56EBA.8A51AD53-ONC1256B36.0038B3D5@eurotel.cz>

Dear List,

I frequently use the

data()

function to load csv files (with separator ";") into R session,
typically

data(myfile)

loads myfile.csv from my working/data directory into R.
Now, in 1.4.0 version, everything works as expected, but with one
difference:
The values readed in older versions in "num" mode are now readed as "int"
mode,
converting the values larger than 2147483647 (2^{31}-1) into that value.

This has a consequence when reading such kind of data:

<example>

File
alerts.csv
looks like:

"IMSI";"DialedDigits";"Cnt";"Pri";"Dur"
"230020100010125";"+28491628975809";3;332;2391
"230020100010125";"+28491723744868";1;12;75
etc...
with first row being the colnames of resulting dataframe.

<R-1.3.1>
In 1.3.1 session:
>data(alerts); str(alerts$IMSI)
gives

num [1:2793] 2.3e+14 2.3e+14 2.3e+14 2.3e+14 2.3e+14 ...

>str(as.character(alerts$IMSI))
gives
chr [1:2793] "230020100010125" "230020100010125" "230020100010125" ...

and
>n<-length(unique(alerts$IMSI)); n
gives 125, (i.e. reads the data as they are)

</R-1.3.1>

<R-1.4.0>

while the same on 1.4.0 gives

int [1:2793] 2147483647  2147483647 2147483647 ...

and
>n<-length(unique(alerts$IMSI)); n
gives 1. (i.e. reflects the conversion of the data in int mode, which
destroys the info about
IMSI numbers, which are always 15 digit numbers)

</R-1.4.0>
</example>

I was unable to find in http://cran.r-project.org/src/base/NEWS
some comment to this new behaviour of data().
What I found was:

---
read.table() has new arguments `nrows' and `colClasses'.  If the
           latter is NA (the default), conversion is attempted to
           logical, integer, numeric or complex, not just to numeric
---

Should I use read.table() with colClasses specified (instead of data())?

Why not, but this involves lots of "hand-made" changes to my R-scripts,
which is unpleasant and involves risk of some typos and so on.

Is there some more "systematic" way to solve this problem?

>version

platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    4.0
year     2001
month    12
day      19
language R

Thanks In Advance,
Jan

-------------------------------------------------
designed for _monospaced_ font
-------------------------------------------------
/- Jan Svatos,  PhD         Sokolovska 855/225 -/
/- Data Analyst,            Prague 9           -/
/- Eurotel Praha            190 00             -/
/- jan_svatos at eurotel.cz    Czechia            -/
-------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Thu Jan  3 13:07:41 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Thu, 3 Jan 2002 07:07:41 -0500 (EST)
Subject: [R] extracting entire mail archive
Message-ID: <200201031207.g03C7fL09385@cattell.psych.upenn.edu>

>>>>>> "MikeS" == Michael D Sohn <mdsohn at lbl.gov> writes:
>
>    MikeS> I'd like to search the r-help mail archives.
>    MikeS> However, it takes a long time to load the html
>    MikeS> archive for my searches.  Is there a simple way to
>    MikeS> download the entire
>    MikeS> http://cran.r-project.org/doc/mail-archives/r-help/
>    MikeS> archives in text format so I can execute simple grep
>    MikeS> searches?
>
>wget --mirror http://cran.r-project.org/doc/mail-archives/r-help

Another way is to use the htdig search tool at
http://finzi.psych.upenn.edu

Although I love "grep," I can't imagine what you can do with it
that you can't also do with the htdig search tool.  For example,
you can do logical expressions with "NOT", mimicking the effect
of "grep -v".

There is a link to thie in the main R page, under "Search," so
you don't need to remember it.

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan  3 13:20:01 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 3 Jan 2002 12:20:01 +0000 (GMT)
Subject: [R] Different behaviour of data()
In-Reply-To: <OF72C56EBA.8A51AD53-ONC1256B36.0038B3D5@eurotel.cz>
Message-ID: <Pine.LNX.4.31.0201031209150.9874-100000@gannet.stats>

This is nothing to do with data().  data uses read.table to read .csv
files, and that *is* in its help file!

Also, these fields are not numeric nor integers but strings, so you can't
expect the standard methods to make sense of them. What `Writing R
Extensions' recommends you should do is to read them in once, correctly,
them dump them as .rda files. *Then* data() will work as you expected.
If you use compression the files might be much smaller, too.

I'm not clear why type.convert is not objecting to overflowing integers,
but that will depend on the implementation of strtol on your platform. We
might manage to improve it.  But in any case I think you ought to read
these fields as character.


On Thu, 3 Jan 2002 Jan_Svatos at eurotel.cz wrote:

> Dear List,
>
> I frequently use the
>
> data()
>
> function to load csv files (with separator ";") into R session,
> typically
>
> data(myfile)
>
> loads myfile.csv from my working/data directory into R.
> Now, in 1.4.0 version, everything works as expected, but with one
> difference:
> The values readed in older versions in "num" mode are now readed as "int"
> mode,
> converting the values larger than 2147483647 (2^{31}-1) into that value.
>
> This has a consequence when reading such kind of data:
>
> <example>
>
> File
> alerts.csv
> looks like:
>
> "IMSI";"DialedDigits";"Cnt";"Pri";"Dur"
> "230020100010125";"+28491628975809";3;332;2391
> "230020100010125";"+28491723744868";1;12;75
> etc...
> with first row being the colnames of resulting dataframe.
>
> <R-1.3.1>
> In 1.3.1 session:
> >data(alerts); str(alerts$IMSI)
> gives
>
> num [1:2793] 2.3e+14 2.3e+14 2.3e+14 2.3e+14 2.3e+14 ...
>
> >str(as.character(alerts$IMSI))
> gives
> chr [1:2793] "230020100010125" "230020100010125" "230020100010125" ...
>
> and
> >n<-length(unique(alerts$IMSI)); n
> gives 125, (i.e. reads the data as they are)
>
> </R-1.3.1>
>
> <R-1.4.0>
>
> while the same on 1.4.0 gives
>
> int [1:2793] 2147483647  2147483647 2147483647 ...
>
> and
> >n<-length(unique(alerts$IMSI)); n
> gives 1. (i.e. reflects the conversion of the data in int mode, which
> destroys the info about
> IMSI numbers, which are always 15 digit numbers)
>
> </R-1.4.0>
> </example>
>
> I was unable to find in http://cran.r-project.org/src/base/NEWS
> some comment to this new behaviour of data().
> What I found was:
>
> ---
> read.table() has new arguments `nrows' and `colClasses'.  If the
>            latter is NA (the default), conversion is attempted to
>            logical, integer, numeric or complex, not just to numeric
> ---
>
> Should I use read.table() with colClasses specified (instead of data())?
>
> Why not, but this involves lots of "hand-made" changes to my R-scripts,
> which is unpleasant and involves risk of some typos and so on.
>
> Is there some more "systematic" way to solve this problem?
>
> >version
>
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    4.0
> year     2001
> month    12
> day      19
> language R
>
> Thanks In Advance,
> Jan
>
> -------------------------------------------------
> designed for _monospaced_ font
> -------------------------------------------------
> /- Jan Svatos,  PhD         Sokolovska 855/225 -/
> /- Data Analyst,            Prague 9           -/
> /- Eurotel Praha            190 00             -/
> /- jan_svatos at eurotel.cz    Czechia            -/
> -------------------------------------------------
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Thu Jan  3 13:26:50 2002
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Thu, 03 Jan 2002 13:26:50 +0100
Subject: [R] e1071/svm?
References: <MJEOJIPNHGCIHJIEEMNOKEMMCLAA.askom@obninsk.com>
Message-ID: <3C344E0A.A1CDA4FE@ci.tuwien.ac.at>

OK, after having inspected the code of libsvm, I agree it is not
completely obvious to use the results produced by svm() for prediction.

For class prediction in the binary case, the class of a new data vector
``n'' is usually given by *the sign* of

Sum(a_i * y_i * K(x_i, n)) + rho
 i

where x_i is the i-th support vector, y_i the corresponding label, a_i
the corresponding coefficiant, and K is the kernel (in your case, the
linear one, so 
K(u,v) = u'v).


Now, ``libsvm'' actually returns a_i * y_i as i-th coefficiant and the
*negative* rho, so in fact uses the formula:

Sum(coef_i * K(x_i, n)) - rho
 i

where the training examples (=training data) are labeled {1,-1}.


A simplified R function for prediction with linear kernel would be:

svmpred <- function (m, newdata, K=crossprod) {
  ## this guy does the computation:
  pred.one <- function (x)
    sign(sum(sapply(1:m$tot.nSV, function (j)
                    K(m$SV[j,], x) * m$coefs[j]
                    )
             ) - m$rho
         )

  ## this is just for convenience:
  if (is.vector(newdata))
    newdata <- t(as.matrix(x))
  sapply (1:nrow(newdata),
          function (i) pred.one(newdata[i,]))
}


where ``pred.one'' does the actual prediction for one new data vector,
the rest is just a convenience for prediction of multiple new examples.

It's easy to extend this to other kernels, just replace ``K'' with the
appropriate function [see the help page for the formulas used] and
supply the additional constants.

Note, however, that multi-class prediction is more complicated, because
the coefficiants of the diverse binary svm's are stored in a compressed
format.

And finally, you could directly use the C source code of libsvm, if your
target language supports foreign function calls.

regards,

-d


Alexander Skomorokhov wrote:
> 
> Thank you fot your reply. Sorry, but I still haven't got the problem.
> Here is a trivial example (cpy from R session):
> ----------------------------------------------------------------------------
> ------------------
> > x
>      [,1] [,2]
> [1,]    0    0
> [2,]    0    1
> [3,]    1    0
> [4,]    1    1
> [5,]    2    2
> [6,]    2    3
> [7,]    3    2
> [8,]    3    3
> > y
> [1] 1 1 1 1 2 2 2 2
> Levels:  1 2
> > is.factor(y)
> [1] TRUE
> > library(e1071)
> > m<-svm(x,y,kernel='linear')
> *
> optimization finished, #iter = 3
> nu = 0.250000
> obj = -1.000000, rho = -3.000000
> nSV = 2, nBSV = 2
> Total nSV = 2
> 
> > summary(m)
> Call:
>  svm.default(x = x, y = y, kernel = "linear")
> Parameters:
>    SVM-Type:  C-classification
>  SVM-Kernel:  linear
>        cost:  1
>      degree:  3
>       gamma:  0.5
>      coef.0:  0
>          nu:  0.5
>     epsilon:  0.5
>        cost:  1
> Number of Support Vectors:  2  ( 1 1 )
> Number of Classes:  2
> Levels:
>  1 2
> Rho:
>  -3
> Support Vectors:
>      [,1] [,2]
> [1,]    1    1
> [2,]    2    2
> Coefficiants:
>      [,1]
> [1,]    1
> [2,]   -1
> ----------------------------------------------------------------------------
> ----------
> I see Coefficiants, but can't guess how to use them (only them?) for
> prediction???
> I may guess that the question sounds like a stupid one, but it is that:-(
> 
> Thanks,
> Alexander.
> 
> > -----Original Message-----
> > From: meyer at ci.tuwien.ac.at [mailto:meyer at ci.tuwien.ac.at]On
> > Behalf Of David Meyer
> > Sent: Thursday, December 20, 2001 3:03 PM
> > To: askom at obninsk.com
> > Cc: r-help
> > Subject: Re: [R] e1071/svm?
> >
> >
> > Alexander Skomorokhov wrote:
> > >
> > > Hello,
> > >
> > > I use function "svm" (interface to libsvm) from package e1071.
> > It works just
> > > fine.
> > > And I may predict with function "predict" and svm model trained
> > by function
> > > "svm".
> > > What I need is moving results of svm training to another
> > application (non-R)
> > > and
> > > perform prediction there. But function "svm" returns list of
> > support vectors
> > > only
> > > and doesn't return coefficients of separating hyperplane (w).
> >
> > It does (element ``coefs'' of the returned object).
> >
> > g.
> > -d
> >
> > >
> > > So, the question is how to use results of svm training to write
> > (in other
> > > language)
> > > prediction function for linear and nonlinear cases?
> > >
> > > Thanks,
> > > Alexander.
> > >
> > >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-
> > > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> 
> --
>         Mag. David Meyer                Wiedner Hauptstrasse 8-10
> Vienna University of Technology         A-1040 Vienna/AUSTRIA
>        Department for                   Tel.: (+431) 58801/10772
> Statistics and Probability Theory       mail: david.meyer at ci.tuwien.ac.at
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tord.snall at ebc.uu.se  Thu Jan  3 13:43:49 2002
From: tord.snall at ebc.uu.se (Tord Snall)
Date: Thu, 03 Jan 2002 13:43:49 +0100
Subject: [R] expression(alpha) in legend()
In-Reply-To: <3C341D14.8030903@statistik.uni-dortmund.de>
References: <3.0.6.32.20020102163443.00a50960@mail.anst.uu.se>
Message-ID: <3.0.6.32.20020103134349.00a1b280@mail.anst.uu.se>

Dear Peter Dalgaard, Uwe Ligges, Dennis J. Murphy and Paulo Ribeiro,

Thanks for you reply to my question!

I tried myself for two hours yeaterday before I wrote and then went home.


Sincerely,
Tord

>
>
>Tord Snall wrote:
>
>> Dear all,
>> I try to plot include expression(alpha) in a legend():
>> 
>> x<-  seq(0,150)
>> par(mfrow=c(1,1))
>> matplot(x, outer(x, c(0.001, 0.01, 0.05, 0.1, 0.5),
>> function(x, k) exp(-k*x)), type="l", lty=1:5, col=1, lwd=3, ylim=c(0,1), 
>> xlim=c(0,170), ylab="", xlab="Distance (m)")
>> 
>> legend(110, 0.8 , c(expression(alpha), "=
0.001","alpha=0.01","alpha=0.05", 
>> "alpha=0.1", "alpha=0.5"), lty=c(1,2,3,4,5), lwd=3, col=1,merge=T)
>> 
>> I want to replace the text "alpha" with the alpha symbol.
>
>
>
>Try
>
>   legend(110, 0.8 , c(
>	expression(alpha == 0.001),
>	expression(alpha == 0.01),
>	expression(alpha == 0.05),
>	expression(alpha == 0.1),
>	expression(alpha == 0.5)
>   ), lty=1:5, lwd=3, col=1, merge=TRUE)
>
>
>Uwe
>
>

-----------------------------------------------------------------------
Tord Sn?ll
Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
Villav?gen 14			
SE-752 36 Uppsala, Sweden
Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
E-mail: Tord.Snall at ebc.uu.se
http://www.vaxtbio.uu.se/resfold/snall.htm
------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Thu Jan  3 13:46:18 2002
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Thu, 3 Jan 2002 13:46:18 +0100
Subject: [R] Different behaviour of data()
Message-ID: <OFC04EE3B5.6499466B-ONC1256B36.004429D1@eurotel.cz>


Thanks to Prof. Ripley for quick and useful answer.
Yes, I will either transfrorm the data-acquiring tool to get the columns as
numbers, not character,
or read them as character, and then manage them with as.factor().

Jan


- - - Original message: - - -
From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
Send: 1/3/02 1:20:11 PM
To: <Jan_Svatos at eurotel.cz> <r-help at stat.math.ethz.ch>
Subject: Re: [R] Different behaviour of data()

This is nothing to do with data().  data uses read.table to read .csv
files, and that *is* in its help file!

Also, these fields are not numeric nor integers but strings, so you can't
expect the standard methods to make sense of them. What `Writing R
Extensions' recommends you should do is to read them in once, correctly,
them dump them as .rda files. *Then* data() will work as you expected.
If you use compression the files might be much smaller, too.

I'm not clear why type.convert is not objecting to overflowing integers,
but that will depend on the implementation of strtol on your platform. We
might manage to improve it.  But in any case I think you ought to read
these fields as character.


On Thu, 3 Jan 2002 Jan_Svatos at eurotel.cz wrote:

> Dear List,
>
> I frequently use the
>
> data()
>
> function to load csv files (with separator ";") into R session,
> typically
>
> data(myfile)
>
> loads myfile.csv from my working/data directory into R.
> Now, in 1.4.0 version, everything works as expected, but with one
> difference:
> The values readed in older versions in "num" mode are now readed as "int"
> mode,
> converting the values larger than 2147483647 (2^{31}-1) into that value.
>
> This has a consequence when reading such kind of data:
>
> <example>
>
> File
> alerts.csv
> looks like:
>
> "IMSI";"DialedDigits";"Cnt";"Pri";"Dur"
> "230020100010125";"+28491628975809";3;332;2391
> "230020100010125";"+28491723744868";1;12;75
> etc...
> with first row being the colnames of resulting dataframe.
>
> <R-1.3.1>
> In 1.3.1 session:
> >data(alerts); str(alerts$IMSI)
> gives
>
> num [1:2793] 2.3e+14 2.3e+14 2.3e+14 2.3e+14 2.3e+14 ...
>
> >str(as.character(alerts$IMSI))
> gives
> chr [1:2793] "230020100010125" "230020100010125" "230020100010125" ...
>
> and
> >n<-length(unique(alerts$IMSI)); n
> gives 125, (i.e. reads the data as they are)
>
> </R-1.3.1>
>
> <R-1.4.0>
>
> while the same on 1.4.0 gives
>
> int [1:2793] 2147483647  2147483647 2147483647 ...
>
> and
> >n<-length(unique(alerts$IMSI)); n
> gives 1. (i.e. reflects the conversion of the data in int mode, which
> destroys the info about
> IMSI numbers, which are always 15 digit numbers)
>
> </R-1.4.0>
> </example>
>
> I was unable to find in http://cran.r-project.org/src/base/NEWS
> some comment to this new behaviour of data().
> What I found was:
>
> ---
> read.table() has new arguments `nrows' and `colClasses'.  If the
>            latter is NA (the default), conversion is attempted to
>            logical, integer, numeric or complex, not just to numeric
> ---
>
> Should I use read.table() with colClasses specified (instead of data())?
>
> Why not, but this involves lots of "hand-made" changes to my R-scripts,
> which is unpleasant and involves risk of some typos and so on.
>
> Is there some more "systematic" way to solve this problem?
>
> >version
>
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    4.0
> year     2001
> month    12
> day      19
> language R
>
> Thanks In Advance,
> Jan
>
> -------------------------------------------------
> designed for _monospaced_ font
> -------------------------------------------------
> /- Jan Svatos,  PhD         Sokolovska 855/225 -/
> /- Data Analyst,            Prague 9           -/
> /- Eurotel Praha            190 00             -/
> /- jan_svatos at eurotel.cz    Czechia            -/
> -------------------------------------------------
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._
>

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Thu Jan  3 15:08:18 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Thu, 3 Jan 2002 09:08:18 -0500 
Subject: [R] extracting entire mail archive
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF125@groexmbcr02.pfizer.com>

An alternative method of searching the archives is to use google and specify
the host using a search of the form:

	site:r-project.org rpart NA

for instance would search both the r mailing list archives and the online
documentation for the terms "rpart" and "NA"

BTW, it might be very easy to add a search box to the R project pages to do
this.  Just add an input box and feed the results to google in the proper
form.   The link for this query is:

	http://www.google.com/search?q=site%3Ar-project.org+rpart+NA

-Greg

 > -----Original Message-----
 > From: Michael D. Sohn [mailto:mdsohn at lbl.gov]
 > Sent: Thursday, January 03, 2002 12:23 AM
 > To: r-help at stat.math.ethz.ch
 > Subject: [R] extracting entire mail archive
 > 
 > 
 > I'd like to search the r-help mail archives.  However, it 
 > takes a long
 > time to load the html archive for my searches.  Is there a 
 > simple way to
 > download the entire 
 > http://cran.r-project.org/doc/mail-archives/r-help/
 > archives in text format so I can execute simple grep searches?
 > 
 > thanks,
 > Mike
 > 
 > 
 > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 > .-.-.-.-.-.-.-.-.-
 > r-help mailing list -- Read 
 > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 > Send "info", "help", or "[un]subscribe"
 > (in the "body", not the subject !)  To: 
 > r-help-request at stat.math.ethz.ch
 > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
 > ._._._._._._._._._
 > 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bcutayar at lfdj.com  Thu Jan  3 17:02:05 2002
From: bcutayar at lfdj.com (Bruno Cutayar)
Date: Thu, 03 Jan 2002 17:02:05 +0100
Subject: [R] Graphical representation of a matrix ?
Message-ID: <200201031600.RAA18987@athos.lfdj.com>

Hi,
The function Repmat under S allows to represent a matrix of data.
Is there an equivalent function under R ?

thanks for your reply
Bruno


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan  3 17:52:12 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 3 Jan 2002 16:52:12 +0000 (GMT)
Subject: [R] Graphical representation of a matrix ?
In-Reply-To: <200201031600.RAA18987@athos.lfdj.com>
Message-ID: <Pine.LNX.4.31.0201031648450.10130-100000@gannet.stats>

On Thu, 3 Jan 2002, Bruno Cutayar wrote:

> The function Repmat under S allows to represent a matrix of data.
> Is there an equivalent function under R ?

Is there such a function in S?  I get (latest version of S-PLUS, and an
old one)

> ?Repmat
No documentation for topic "Repmat"

and I've never heard of it.

If you told us which of the very many representations in the literature it
is alleged to do, we might be able to help!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ku.edu  Thu Jan  3 17:47:38 2002
From: pauljohn at ku.edu (Paul Johnson)
Date: Thu, 03 Jan 2002 10:47:38 -0600
Subject: [R] Saving objects in a list and preserving attributes. How to?
Message-ID: <3C348B2A.9060300@ku.edu>

I've been writing a bunch of simulation experiments to test models in 
MASS (glm.nb) and JK Lindsey's repeated library (gar and kalcount).  If 
I generate data over and over, and estimate a model for each, I end have 
syntax like this:

x <- rnorm(1000)
for (i in 1: nOfRuns){
	y <- getPhonyData(x)
	estim <- glm.nb(y~x,link="log")
}

Except for problems of nonconvergence and other maximum likelihood 
estimation problems, which I gather are standard things you have to work 
around by fiddling initial values of parameters (?), this works OK, 
except I can't figure how to keep the estimate objects for later analysis.

Inside the loop, I am able to grab coefficients out of estim and put 
them in a matrix, but what I really want is to save the whole object, so 
I can go back and look at the runs and find out more about them.  I was 
wishing lists in R worked like lists in Java, just "addLast: estim" and 
collect up the objects.

It doesn't work to just try to put the estimate objects into a vector:

 > getPhonyData <- function (x){
+   e<-rnorm(1000)
+   y<-3.4 + 5*x + e
+ }
 >
 > x<- 10+5*rnorm(1000)
 >
 > result <- c(rep(NA,10))
 >
 > for (i in 1:10) {
+   y <- getPhonyData(x)
+   estim <- lm(y~x)
+   result[i] <- estim
+ }
Warning messages:
1: number of items to replace is not a multiple of replacement length
2: number of items to replace is not a multiple of replacement length
3: number of items to replace is not a multiple of replacement length
4: number of items to replace is not a multiple of replacement length
5: number of items to replace is not a multiple of replacement length
6: number of items to replace is not a multiple of replacement length
7: number of items to replace is not a multiple of replacement length
8: number of items to replace is not a multiple of replacement length
9: number of items to replace is not a multiple of replacement length
10: number of items to replace is not a multiple of replacement length
 > result[1]
result[1]
[[1]]
(Intercept)           x
    3.427956    4.998404

 > result[1]$coefficients
result[1]$coefficients
NULL
 > est <- result[1]
est <- result[1]
 > attributes(est)
attributes(est)
NULL
 >


I get the same problem if I create an R list object and then add estim 
to the list, then it does build a list, but none of the elements of the 
list have any attributes. The list printout makes it look as though the 
stored items are just the  text printout you get when you type "estim" 
on the command line, rather than an object that answers to
    myList[1]$coeffients

or some such.

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ku.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jan  3 18:17:15 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Jan 2002 18:17:15 +0100
Subject: [R] Saving objects in a list and preserving attributes. How to?
In-Reply-To: <3C348B2A.9060300@ku.edu>
References: <3C348B2A.9060300@ku.edu>
Message-ID: <x2pu4r73s4.fsf@blueberry.kubism.ku.dk>

Paul Johnson <pauljohn at ku.edu> writes:

> I've been writing a bunch of simulation experiments to test models in
> MASS (glm.nb) and JK Lindsey's repeated library (gar and kalcount).
> If I generate data over and over, and estimate a model for each, I end
> have syntax like this:
> 
> x <- rnorm(1000)
> for (i in 1: nOfRuns){
> 	y <- getPhonyData(x)
> 	estim <- glm.nb(y~x,link="log")
> }
> 
> Except for problems of nonconvergence and other maximum likelihood
> estimation problems, which I gather are standard things you have to
> work around by fiddling initial values of parameters (?), this works
> OK, except I can't figure how to keep the estimate objects for later
> analysis.

I'd use something like

x <- rnorm(1000)
f <- function(i) {y <- getPhonyData(x); try(glm.nb(y~x,link="log"))}
l <- lapply( 1: nOfRuns, f)
 
>  > result[1]
> result[1]
> [[1]]
> (Intercept)           x
>     3.427956    4.998404
> 
>  > result[1]$coefficients
> result[1]$coefficients
> NULL
>  > est <- result[1]
> est <- result[1]
>  > attributes(est)
> attributes(est)
> NULL
>  >
> 
> 
> I get the same problem if I create an R list object and then add estim
> to the list, then it does build a list, but none of the elements of
> the list have any attributes. The list printout makes it look as
> though the stored items are just the  text printout you get when you
> type "estim" on the command line, rather than an object that answers to
>     myList[1]$coeffients
> 
> or some such.

Be careful with those brackets: You want result[[1]]$coefficients etc. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Thu Jan  3 18:30:54 2002
From: rolf at math.unb.ca (Rolf Turner)
Date: Thu, 3 Jan 2002 13:30:54 -0400 (AST)
Subject: [R] Homemade packages.
Message-ID: <200201031730.NAA14139@tanner.math.unb.ca>


Dear Brian:

Thanks for your further explanation about packages in R.

You wrote

>  They [i.e. packages installed into a library ] constitute binary
>  not source packages.

	The distinction between the two concepts appears not to
	be made anywhere in the documentation as far as I can
	see.  At least it is not made prominently.

	Furthermore the distinction is unique to R --- i.e. it
	does not exist in S[plus] (see below), which is where
	I'm coming from.

>  > 	There appears to me to no special requirements for the
>  > 	directory `lib' and in particular nothing saying that `lib'
>  > 	cannot be the current working directory.
>  

>  Well, of course it can, but it should not contain existing source
>  packages of the same name!  That's just adding confusion. It doesn't
>  say so, because I suspect no one considered doing something *that*
>  confusing.

	Why is it confusing?  Unless the distinction between the
	two concepts of ``source'' and ``binary'' packages has been
	made --- and perhaps the reason for having the two distinct
	concepts elucidated! --- how could the ordinary mortal
	anticipate that a distinction has to be made?  No such
	distinction exists in Splus.  In Splus you simply build a
	``chapter''; there is no ``source'' chapter and ``binary''
	chapter.  And no confusion.

	O.K.  R is different here; no problem with that.  But the
	difference should be emphasized to the unwary --- especially
	when there is the risk a large amount of code and
	documentation being destroyed without warning.

						cheers,

							Rolf
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at genome.cbs.dtu.dk  Thu Jan  3 18:48:40 2002
From: laurent at genome.cbs.dtu.dk (Laurent Gautier)
Date: Thu, 3 Jan 2002 18:48:40 +0100 (MET)
Subject: [R] Graphical representation of a matrix ?
In-Reply-To: <200201031600.RAA18987@athos.lfdj.com>
Message-ID: <Pine.SGI.3.95.1020103184747.3320535D-100000@genome.cbs.dtu.dk>


I do not know 'Repmat' but 'image' makes an image out of a matrix.


Hopin' it helps,



Laurent




Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent



On Thu, 3 Jan 2002, Bruno Cutayar wrote:

> Hi,
> The function Repmat under S allows to represent a matrix of data.
> Is there an equivalent function under R ?
> 
> thanks for your reply
> Bruno
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Thu Jan  3 19:34:30 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Thu, 3 Jan 2002 13:34:30 -0500 (EST)
Subject: [R] Graphical representation of a matrix ?
Message-ID: <200201031834.g03IYU013110@cattell.psych.upenn.edu>

Another way to represent matrices is matplot.  If you use the
type="l" option, it plots parallel lines, one for each column.
(So you need to t() the matrix if you want the rows.)

You can also use lines() over and over, probably with apply()
[but I haven't tried that since matplot does everything I need].

Another thing is plot.table().  You can convert the matrix to a
table and use this.  The result is very nice.  Try also col=T for
an option.

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From csprin at brandybuck.ca.sandia.gov  Thu Jan  3 21:33:14 2002
From: csprin at brandybuck.ca.sandia.gov (Clayton Springer)
Date: Thu, 3 Jan 2002 12:33:14 -0800
Subject: [R] mahalanobis confusion
Message-ID: <20020103123314.B14168@brandybuck>

Dear r-help,

My understanding of Mahalanobois distance is that when calculating the distance
between a vector and the origin should be the same as the absolute value of that
vector and the origin.

Apparently they are different:

> mahalanobis(as.vector(featureset.all),as.vector(zero20),COVDtotal)
[1] 2.638582

> mahalanobis(as.vector(abs(featureset.all)),as.vector(zero20),COVDtotal)
[1] 7.458376


Can anyone give me some insight into what is going on?







There were the vectors used:

> featureset.all
 [1]  0.6152346 -0.6220563  0.6159433 -0.6865233  0.5832620  0.5379156
 [7]  0.6188826 -0.5838474  0.5558164 -0.6454835  0.6099608 -0.6083904
[13]  0.6768469  0.6761911 -0.5519884  0.6242095 -0.5272882 -0.6317221
[19]  0.5755202  0.6436219

> zero20
 [1] 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0

> COVDtotal
             X1          X2          X3          X4          X5          X6
X1   1.05967820 -0.10707972  0.07900894 -0.11026558  0.06998268  0.07632845
X2  -0.10707972  1.07949619 -0.12731106  0.08694136 -0.04438987 -0.06448543
X3   0.07900894 -0.12731106  1.10047417 -0.10260288  0.10462419  0.03106977
X4  -0.11026558  0.08694136 -0.10260288  1.09180220 -0.11520023 -0.05080485
X5   0.06998268 -0.04438987  0.10462419 -0.11520023  1.08372167  0.07315313
X6   0.07632845 -0.06448543  0.03106977 -0.05080485  0.07315313  1.09188363
X7   0.11063123 -0.08141751  0.13237254 -0.08852752  0.07388682  0.09528542
X8  -0.08381439  0.12026316 -0.08355477  0.06264001 -0.05734851 -0.11195461
X9   0.06296985 -0.07161381  0.12431183 -0.07784136  0.08356674  0.05189387
X10 -0.11204672  0.13975040 -0.11037433  0.08570182 -0.06277695 -0.03487686
X11  0.11903957 -0.10903915  0.08809574 -0.07815082  0.04762978  0.11193407
X12 -0.09370656  0.12271898 -0.09733936  0.08824304 -0.08304823 -0.09379661
X13  0.10933205 -0.09057703  0.12125739 -0.15732956  0.09481943  0.08323671
X14  0.10529610 -0.09744663  0.08032255 -0.10119252  0.06234175  0.06065037
X15 -0.08266871  0.07953344 -0.06585605  0.05625921 -0.08829623 -0.07704608
X16  0.07293699 -0.10314218  0.08811019 -0.11278371  0.06360624  0.08096588
X17 -0.07715753  0.07535229 -0.11229116  0.10637164 -0.03974483 -0.04946984
X18 -0.10696503  0.11797366 -0.15729346  0.08507554 -0.11331309 -0.09101065
X19  0.12832256 -0.06828018  0.08285553 -0.17515631  0.13462381  0.06286161
X20  0.10178729 -0.09395206  0.08629152 -0.12057459  0.08848807  0.02981165
             X7          X8          X9         X10         X11         X12
X1   0.11063123 -0.08381439  0.06296985 -0.11204672  0.11903957 -0.09370656
X2  -0.08141751  0.12026316 -0.07161381  0.13975040 -0.10903915  0.12271898
X3   0.13237254 -0.08355477  0.12431183 -0.11037433  0.08809574 -0.09733936
X4  -0.08852752  0.06264001 -0.07784136  0.08570182 -0.07815082  0.08824304
X5   0.07388682 -0.05734851  0.08356674 -0.06277695  0.04762978 -0.08304823
X6   0.09528542 -0.11195461  0.05189387 -0.03487686  0.11193407 -0.09379661
X7   1.08577268 -0.09797477  0.06781984 -0.11304299  0.09545183 -0.10580662
X8  -0.09797477  1.10198194 -0.07366283  0.06636062 -0.08480604  0.09904522
X9   0.06781984 -0.07366283  1.05239001 -0.11370459  0.08262987 -0.07737044
X10 -0.11304299  0.06636062 -0.11370459  1.10229003 -0.11033549  0.13175960
X11  0.09545183 -0.08480604  0.08262987 -0.11033549  1.10971715 -0.10008936
X12 -0.10580662  0.09904522 -0.07737044  0.13175960 -0.10008936  1.06434180
X13  0.10689546 -0.10163852  0.09954915 -0.09616881  0.11806829 -0.12041825
X14  0.11436260 -0.11530532  0.11007362 -0.08119362  0.12552855 -0.07775921
X15 -0.12945785  0.09931512 -0.07671993  0.14733664 -0.08053384  0.10103581
X16  0.11283056 -0.06778883  0.05151053 -0.08579178  0.05614164 -0.10019822
X17 -0.08553127  0.09685377 -0.09564487  0.10696805 -0.05081043  0.06812122
X18 -0.11385031  0.06771728 -0.13036095  0.11896321 -0.11624387  0.09183934
X19  0.08297921 -0.10961300  0.05993383 -0.10337781  0.09866079 -0.09255143
X20  0.04686709 -0.11134721  0.07076651 -0.09653739  0.10925212 -0.07555833
            X13         X14         X15         X16         X17         X18
X1   0.10933205  0.10529610 -0.08266871  0.07293699 -0.07715753 -0.10696503
X2  -0.09057703 -0.09744663  0.07953344 -0.10314218  0.07535229  0.11797366
X3   0.12125739  0.08032255 -0.06585605  0.08811019 -0.11229116 -0.15729346
X4  -0.15732956 -0.10119252  0.05625921 -0.11278371  0.10637164  0.08507554
X5   0.09481943  0.06234175 -0.08829623  0.06360624 -0.03974483 -0.11331309
X6   0.08323671  0.06065037 -0.07704608  0.08096588 -0.04946984 -0.09101065
X7   0.10689546  0.11436260 -0.12945785  0.11283056 -0.08553127 -0.11385031
X8  -0.10163852 -0.11530532  0.09931512 -0.06778883  0.09685377  0.06771728
X9   0.09954915  0.11007362 -0.07671993  0.05151053 -0.09564487 -0.13036095
X10 -0.09616881 -0.08119362  0.14733664 -0.08579178  0.10696805  0.11896321
X11  0.11806829  0.12552855 -0.08053384  0.05614164 -0.05081043 -0.11624387
X12 -0.12041825 -0.07775921  0.10103581 -0.10019822  0.06812122  0.09183934
X13  1.14484088  0.09993548 -0.08107109  0.11669608 -0.09978561 -0.11341623
X14  0.09993548  1.07022203 -0.12068641  0.12959327 -0.06042948 -0.09090972
X15 -0.08107109 -0.12068641  1.09079524 -0.08826068  0.07943239  0.09220653
X16  0.11669608  0.12959327 -0.08826068  1.11416921 -0.09210416 -0.09377126
X17 -0.09978561 -0.06042948  0.07943239 -0.09210416  1.03520003  0.12858473
X18 -0.11341623 -0.09090972  0.09220653 -0.09377126  0.12858473  1.11017146
X19  0.10733188  0.08778220 -0.06650838  0.05337207 -0.04552405 -0.10608081
X20  0.09451811  0.07541007 -0.05356769  0.07092049 -0.06626285 -0.10648554
            X19         X20
X1   0.12832256  0.10178729
X2  -0.06828018 -0.09395206
X3   0.08285553  0.08629152
X4  -0.17515631 -0.12057459
X5   0.13462381  0.08848807
X6   0.06286161  0.02981165
X7   0.08297921  0.04686709
X8  -0.10961300 -0.11134721
X9   0.05993383  0.07076651
X10 -0.10337781 -0.09653739
X11  0.09866079  0.10925212
X12 -0.09255143 -0.07555833
X13  0.10733188  0.09451811
X14  0.08778220  0.07541007
X15 -0.06650838 -0.05356769
X16  0.05337207  0.07092049
X17 -0.04552405 -0.06626285
X18 -0.10608081 -0.10648554
X19  1.08391161  0.09885423
X20  0.09885423  1.14504480

-- 
Clayton Springer, Ph. D.
Sandia National Laboratories                      csprin at ca.sandia.gov
Biosystems Research Department                    (925) 294-2143
P.O. Box 969, MS 9951                fax:         (925) 294-3020
Livermore, CA, 94551-0969

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MSchwartz at medanalytics.com  Thu Jan  3 21:42:53 2002
From: MSchwartz at medanalytics.com (Marc Schwartz)
Date: Thu, 3 Jan 2002 14:42:53 -0600
Subject: [R] Graphical representation of a matrix ?
In-Reply-To: <Pine.SGI.3.95.1020103184747.3320535D-100000@genome.cbs.dtu.dk>
Message-ID: <008c01c19497$395181a0$0201a8c0@Marc>

To the extent that this might be of some help, I did a search for repmat and
found that it appears to be a Matlab function.

More information is available at
http://www.mathworks.com/access/helpdesk/help/techdoc/ref/repmat.shtml?cmdna
me=repmat

I have not located any information from the Insightful web site or Statlib
to indicate that this has been replicated in S, but I just may have missed
it someplace.

Hope this helps provide some guidance.

Regards,

Marc

> > Hi,
> > The function Repmat under S allows to represent a matrix of data.
> > Is there an equivalent function under R ?
> >
> > thanks for your reply
> > Bruno
> >

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan  3 22:04:52 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 3 Jan 2002 21:04:52 +0000 (GMT)
Subject: [R] mahalanobis confusion
In-Reply-To: <20020103123314.B14168@brandybuck>
Message-ID: <Pine.LNX.4.31.0201032103590.10439-100000@gannet.stats>

On Thu, 3 Jan 2002, Clayton Springer wrote:

> Dear r-help,
>
> My understanding of Mahalanobois distance is that when calculating the distance
> between a vector and the origin should be the same as the absolute value of that
> vector and the origin.

Your understanding is wrong.  Why do you think so?

> Apparently they are different:
>
> > mahalanobis(as.vector(featureset.all),as.vector(zero20),COVDtotal)
> [1] 2.638582
>
> > mahalanobis(as.vector(abs(featureset.all)),as.vector(zero20),COVDtotal)
> [1] 7.458376
>
>
> Can anyone give me some insight into what is going on?
>
>
>
>
>
>
>
> There were the vectors used:
>
> > featureset.all
>  [1]  0.6152346 -0.6220563  0.6159433 -0.6865233  0.5832620  0.5379156
>  [7]  0.6188826 -0.5838474  0.5558164 -0.6454835  0.6099608 -0.6083904
> [13]  0.6768469  0.6761911 -0.5519884  0.6242095 -0.5272882 -0.6317221
> [19]  0.5755202  0.6436219
>
> > zero20
>  [1] 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
>
> > COVDtotal
>              X1          X2          X3          X4          X5          X6
> X1   1.05967820 -0.10707972  0.07900894 -0.11026558  0.06998268  0.07632845
> X2  -0.10707972  1.07949619 -0.12731106  0.08694136 -0.04438987 -0.06448543
> X3   0.07900894 -0.12731106  1.10047417 -0.10260288  0.10462419  0.03106977
> X4  -0.11026558  0.08694136 -0.10260288  1.09180220 -0.11520023 -0.05080485
> X5   0.06998268 -0.04438987  0.10462419 -0.11520023  1.08372167  0.07315313
> X6   0.07632845 -0.06448543  0.03106977 -0.05080485  0.07315313  1.09188363
> X7   0.11063123 -0.08141751  0.13237254 -0.08852752  0.07388682  0.09528542
> X8  -0.08381439  0.12026316 -0.08355477  0.06264001 -0.05734851 -0.11195461
> X9   0.06296985 -0.07161381  0.12431183 -0.07784136  0.08356674  0.05189387
> X10 -0.11204672  0.13975040 -0.11037433  0.08570182 -0.06277695 -0.03487686
> X11  0.11903957 -0.10903915  0.08809574 -0.07815082  0.04762978  0.11193407
> X12 -0.09370656  0.12271898 -0.09733936  0.08824304 -0.08304823 -0.09379661
> X13  0.10933205 -0.09057703  0.12125739 -0.15732956  0.09481943  0.08323671
> X14  0.10529610 -0.09744663  0.08032255 -0.10119252  0.06234175  0.06065037
> X15 -0.08266871  0.07953344 -0.06585605  0.05625921 -0.08829623 -0.07704608
> X16  0.07293699 -0.10314218  0.08811019 -0.11278371  0.06360624  0.08096588
> X17 -0.07715753  0.07535229 -0.11229116  0.10637164 -0.03974483 -0.04946984
> X18 -0.10696503  0.11797366 -0.15729346  0.08507554 -0.11331309 -0.09101065
> X19  0.12832256 -0.06828018  0.08285553 -0.17515631  0.13462381  0.06286161
> X20  0.10178729 -0.09395206  0.08629152 -0.12057459  0.08848807  0.02981165
>              X7          X8          X9         X10         X11         X12
> X1   0.11063123 -0.08381439  0.06296985 -0.11204672  0.11903957 -0.09370656
> X2  -0.08141751  0.12026316 -0.07161381  0.13975040 -0.10903915  0.12271898
> X3   0.13237254 -0.08355477  0.12431183 -0.11037433  0.08809574 -0.09733936
> X4  -0.08852752  0.06264001 -0.07784136  0.08570182 -0.07815082  0.08824304
> X5   0.07388682 -0.05734851  0.08356674 -0.06277695  0.04762978 -0.08304823
> X6   0.09528542 -0.11195461  0.05189387 -0.03487686  0.11193407 -0.09379661
> X7   1.08577268 -0.09797477  0.06781984 -0.11304299  0.09545183 -0.10580662
> X8  -0.09797477  1.10198194 -0.07366283  0.06636062 -0.08480604  0.09904522
> X9   0.06781984 -0.07366283  1.05239001 -0.11370459  0.08262987 -0.07737044
> X10 -0.11304299  0.06636062 -0.11370459  1.10229003 -0.11033549  0.13175960
> X11  0.09545183 -0.08480604  0.08262987 -0.11033549  1.10971715 -0.10008936
> X12 -0.10580662  0.09904522 -0.07737044  0.13175960 -0.10008936  1.06434180
> X13  0.10689546 -0.10163852  0.09954915 -0.09616881  0.11806829 -0.12041825
> X14  0.11436260 -0.11530532  0.11007362 -0.08119362  0.12552855 -0.07775921
> X15 -0.12945785  0.09931512 -0.07671993  0.14733664 -0.08053384  0.10103581
> X16  0.11283056 -0.06778883  0.05151053 -0.08579178  0.05614164 -0.10019822
> X17 -0.08553127  0.09685377 -0.09564487  0.10696805 -0.05081043  0.06812122
> X18 -0.11385031  0.06771728 -0.13036095  0.11896321 -0.11624387  0.09183934
> X19  0.08297921 -0.10961300  0.05993383 -0.10337781  0.09866079 -0.09255143
> X20  0.04686709 -0.11134721  0.07076651 -0.09653739  0.10925212 -0.07555833
>             X13         X14         X15         X16         X17         X18
> X1   0.10933205  0.10529610 -0.08266871  0.07293699 -0.07715753 -0.10696503
> X2  -0.09057703 -0.09744663  0.07953344 -0.10314218  0.07535229  0.11797366
> X3   0.12125739  0.08032255 -0.06585605  0.08811019 -0.11229116 -0.15729346
> X4  -0.15732956 -0.10119252  0.05625921 -0.11278371  0.10637164  0.08507554
> X5   0.09481943  0.06234175 -0.08829623  0.06360624 -0.03974483 -0.11331309
> X6   0.08323671  0.06065037 -0.07704608  0.08096588 -0.04946984 -0.09101065
> X7   0.10689546  0.11436260 -0.12945785  0.11283056 -0.08553127 -0.11385031
> X8  -0.10163852 -0.11530532  0.09931512 -0.06778883  0.09685377  0.06771728
> X9   0.09954915  0.11007362 -0.07671993  0.05151053 -0.09564487 -0.13036095
> X10 -0.09616881 -0.08119362  0.14733664 -0.08579178  0.10696805  0.11896321
> X11  0.11806829  0.12552855 -0.08053384  0.05614164 -0.05081043 -0.11624387
> X12 -0.12041825 -0.07775921  0.10103581 -0.10019822  0.06812122  0.09183934
> X13  1.14484088  0.09993548 -0.08107109  0.11669608 -0.09978561 -0.11341623
> X14  0.09993548  1.07022203 -0.12068641  0.12959327 -0.06042948 -0.09090972
> X15 -0.08107109 -0.12068641  1.09079524 -0.08826068  0.07943239  0.09220653
> X16  0.11669608  0.12959327 -0.08826068  1.11416921 -0.09210416 -0.09377126
> X17 -0.09978561 -0.06042948  0.07943239 -0.09210416  1.03520003  0.12858473
> X18 -0.11341623 -0.09090972  0.09220653 -0.09377126  0.12858473  1.11017146
> X19  0.10733188  0.08778220 -0.06650838  0.05337207 -0.04552405 -0.10608081
> X20  0.09451811  0.07541007 -0.05356769  0.07092049 -0.06626285 -0.10648554
>             X19         X20
> X1   0.12832256  0.10178729
> X2  -0.06828018 -0.09395206
> X3   0.08285553  0.08629152
> X4  -0.17515631 -0.12057459
> X5   0.13462381  0.08848807
> X6   0.06286161  0.02981165
> X7   0.08297921  0.04686709
> X8  -0.10961300 -0.11134721
> X9   0.05993383  0.07076651
> X10 -0.10337781 -0.09653739
> X11  0.09866079  0.10925212
> X12 -0.09255143 -0.07555833
> X13  0.10733188  0.09451811
> X14  0.08778220  0.07541007
> X15 -0.06650838 -0.05356769
> X16  0.05337207  0.07092049
> X17 -0.04552405 -0.06626285
> X18 -0.10608081 -0.10648554
> X19  1.08391161  0.09885423
> X20  0.09885423  1.14504480
>
> --
> Clayton Springer, Ph. D.
> Sandia National Laboratories                      csprin at ca.sandia.gov
> Biosystems Research Department                    (925) 294-2143
> P.O. Box 969, MS 9951                fax:         (925) 294-3020
> Livermore, CA, 94551-0969
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Thu Jan  3 22:43:23 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Thu, 3 Jan 2002 22:43:23 +0100 (CET)
Subject: [R] gc
In-Reply-To: <x2pu4r73s4.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.33.0201032236400.1566-100000@tal.stat.umu.se>

I get

> gc()
         used (Mb) gc trigger (Mb)
Ncells 293826  7.9     531268 14.2
Vcells 564690  4.4    1659889 12.7

but how do I interpret these numbers? I understand (vaguely) the words
"Ncells" and "Vcells" after reading ?gc, and "used", but what does 
"gc trigger" mean?

G?ran
-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Jan  3 23:01:27 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 3 Jan 2002 14:01:27 -0800 (PST)
Subject: [R] gc
In-Reply-To: <Pine.LNX.4.33.0201032236400.1566-100000@tal.stat.umu.se>
Message-ID: <Pine.A41.4.43.0201031354210.58358-100000@homer38.u.washington.edu>

On Thu, 3 Jan 2002, [iso-8859-1] Gran Brostrm wrote:

> I get
>
> > gc()
>          used (Mb) gc trigger (Mb)
> Ncells 293826  7.9     531268 14.2
> Vcells 564690  4.4    1659889 12.7
>
> but how do I interpret these numbers? I understand (vaguely) the words
> "Ncells" and "Vcells" after reading ?gc, and "used", but what does
> "gc trigger" mean?

This is a threshold for triggering garbage collection.  In the old days
(pre 1.2) this column listed the amount of memory available, but that is
no longer well-defined as R can now grab more memory from the OS when it
runs out.

The only real use for this number to the average user is that mem.limits()
will not set a maximum memory size that's less than the gc trigger.


	-thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Thu Jan  3 23:16:01 2002
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Thu, 3 Jan 2002 16:16:01 -0600 
Subject: [R] skipping fields in scan()
Message-ID: <AFD78192EC49D311BFAE00902798AB8F23D6EE@jupiter.arbitrade.com>

Dear R-Users,

Is it possible to instruct scan() to skip fields when reading from a file.
Here is an example. Suppose I have a three-column table file, "foo"

1 2 3
4 5 6

and I want to read in only the first and the third columns skipping the
second. If memory serves me well (though I might be wrong), in S-Plus you
could accomplish this by putting NULL in the respective position of the
list, e.g.

scan("foo", list(a=integer(0),NULL,c=integer(0)))

Is there a similar construct in R?

For a workaround I know I can read the whole thing and then drop the
unneeded column(s), or alternatively I can preprocess the file with a Perl
script, but before that I'd like to make sure there is no a more direct way
of doing this.

Thanks,
Vadim

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE REGARDING PRIVACY AND CONFIDENTIALITY 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From csprin at brandybuck.ca.sandia.gov  Thu Jan  3 23:31:33 2002
From: csprin at brandybuck.ca.sandia.gov (Clayton Springer)
Date: Thu, 3 Jan 2002 14:31:33 -0800
Subject: [R] mahalanobis confusion
In-Reply-To: <Pine.LNX.4.31.0201032103590.10439-100000@gannet.stats>; from ripley@stats.ox.ac.uk on Thu, Jan 03, 2002 at 09:04:52PM +0000
References: <20020103123314.B14168@brandybuck> <Pine.LNX.4.31.0201032103590.10439-100000@gannet.stats>
Message-ID: <20020103143133.B14399@brandybuck>

Dr. Ripley,

> Your understanding is wrong.  Why do you think so?

OK, I see that I haven't simplified my question properly. 

And on trying to rephrase, I see the problem.

Thanks,

Clayton
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Thu Jan  3 23:58:12 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Thu, 3 Jan 2002 17:58:12 -0500 (EST)
Subject: [R] item characteristic curves (logistic regression w. constant)
Message-ID: <200201032258.g03MwCb05857@cattell.psych.upenn.edu>

I'm trying to do a sort of home-brew item-characteristic-curve.
This is a plot of the probability of getting a test item correct,
as a function of the mean score on the test.  (The last part is
the home brew part.)

Logistic regression with glm would work nicely, EXCEPT for the
fact that the curve requires a guessing parameter.  So the
asymptote on the left is not 0 but rather something like .25 (for
a 4-choice multiple-choice item).

So I have been using nls.  I have tried out the "least squares"
fit on artificial data, and it is not a problem at the level I'm
doing this.  (In fact, I have a suspicion that it is never a
problem, but let's put that aside.)

The trouble is that nls rarely converges. When I plot the data
graphically, they look OK.  Nice, monotonic, ogive-like plots
(using categories on the horizontal axis).

To make it concrete, here is a typical call to nls.

logit <- function(x) {exp(x)/(1+exp(x))}
nls(score[,1]~logit((mscore-A)/B)+D)),start=list(A=.5,B=.1,C=.2,D=.8)

The variable mscore is the mean score, ranging 0-1, and score[,1]
is 0/1, meaning incorrect/correct on the item in question (item 1).

Sometimes this works and yields very good fits.  But sometimes it
diverges, or fails to converge.

Any ideas about how to make this work better?  or do something else?

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jan  4 00:20:44 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Jan 2002 00:20:44 +0100
Subject: [R] Graphical representation of a matrix ?
In-Reply-To: <008c01c19497$395181a0$0201a8c0@Marc>
References: <008c01c19497$395181a0$0201a8c0@Marc>
Message-ID: <x2n0zvyqb7.fsf@blueberry.kubism.ku.dk>

"Marc Schwartz" <MSchwartz at medanalytics.com> writes:

> To the extent that this might be of some help, I did a search for repmat and
> found that it appears to be a Matlab function.
> 
> More information is available at
> http://www.mathworks.com/access/helpdesk/help/techdoc/ref/repmat.shtml?cmdna
> me=repmat
> 
> I have not located any information from the Insightful web site or Statlib
> to indicate that this has been replicated in S, but I just may have missed
> it someplace.
> 
> Hope this helps provide some guidance.
> 
> Regards,
> 
> Marc
> 
> > > Hi,
> > > The function Repmat under S allows to represent a matrix of data.
> > > Is there an equivalent function under R ?
> > >
> > > thanks for your reply
> > > Bruno
> > >

Um, the repmat function in Matlab would seem to be about matrix
*replication* and not representation...

I think you're thinking about something else. Again, could you explain
what kind of representation you desire?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri Jan  4 00:37:25 2002
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 03 Jan 2002 18:37:25 -0500
Subject: [R] mahalanobis confusion
In-Reply-To: <20020103123314.B14168@brandybuck>
Message-ID: <5.1.0.14.2.20020103183320.01d2d3b8@mcmail.cis.mcmaster.ca>

Dear Clayton

At 12:33 PM 1/3/2002 -0800, you wrote:

>My understanding of Mahalanobois distance is that when calculating the 
>distance
>between a vector and the origin should be the same as the absolute value 
>of that
>vector and the origin.
>
>Apparently they are different:

In general, they *are* different: Suppose that x1 and x2 are highly 
positively correlated with 0 means and the same standard deviation. Then 
the generalized distance between (1,1) and the origin will be much smaller 
than between (-1,1) and the origin, since the former is along the major 
axis of the data ellipse. (In contrast, the ordinary Euclidean distances 
are the same.)

Does that help?
  John

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mdsohn at lbl.gov  Fri Jan  4 01:17:24 2002
From: mdsohn at lbl.gov (Michael D. Sohn)
Date: Thu, 03 Jan 2002 16:17:24 -0800
Subject: [R] extra whitespace around EPS files
Message-ID: <3C34F494.F1BCF14F@lbl.gov>


I'm having difficulty getting rid of extra whitespace above and below an
EPS figure.  For example, if  I generate an output file using these
commands:

> R.test(output='none')

where:

R.test <- function(output=NULL) {
  if (output == 'yes') {
    ps.options(pointsize=10)
    postscript('plot.eps', paper='special', horizontal=FALSE,
onefile=FALSE, height=3, width=6)
  }
  plot(rnorm(10), rnorm(10))
  if (output == 'yes') {
    dev.off()
    ps.options(reset=TRUE)
  }
}


I get a  bunch of extra whitespace above and below the figure.  However,
if I increase the height to say 5inches, the whitespace is gone.
Presumably the extra whitespace was filled up by the figure.  Is there a
way to get rid of the whitespace?  Even editing the bounding box of the
EPS figure didn't really help.

thanks,
Mike


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredzoster at yahoo.com  Fri Jan  4 03:34:49 2002
From: fredzoster at yahoo.com (Frederick Zoster)
Date: Thu, 3 Jan 2002 18:34:49 -0800 (PST)
Subject: [R] Graphical representation of a matrix ?
Message-ID: <20020104023449.47265.qmail@web10406.mail.yahoo.com>


Peter Dalgaard wrote:

> Um, the repmat function in Matlab would seem to be
about matrix
> *replication* and not representation...

Out of curiosity, was this email dictated? Or does the
above "um" serve as a sort of rhetorical flourish? At
any rate, I find email stuttering not only uncouth but
fantastically irritating as well.

yours,

Frederick Zoster


__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Fri Jan  4 04:22:53 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 03 Jan 2002 19:22:53 -0800
Subject: [R] Graphical representation of a matrix ?
In-Reply-To: <20020104023449.47265.qmail@web10406.mail.yahoo.com>
References: <20020104023449.47265.qmail@web10406.mail.yahoo.com>
Message-ID: <87ofkaiyuq.fsf@jeeves.blindglobe.net>

>>>>> "FZ" == Frederick Zoster <fredzoster at yahoo.com> writes:

    FZ> Peter Dalgaard wrote:

    >> Um, the repmat function in Matlab would seem to be about matrix
    >> *replication* and not representation...

    FZ> Out of curiosity, was this email dictated? Or does the above
    FZ> "um" serve as a sort of rhetorical flourish? At any rate, I
    FZ> find email stuttering not only uncouth but fantastically
    FZ> irritating as well.

Thank goodness that it's one of the few costs of using R...  Maybe
Peter could make a profit if paid not to do that when supplying free
assistance :-).  (Gosh, but that would be a small fortune for him!)

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From loesljrg at accucom.net  Fri Jan  4 06:39:59 2002
From: loesljrg at accucom.net (JRG)
Date: Fri, 4 Jan 2002 00:39:59 -0500
Subject: [R] Graphical representation of a matrix ?
In-Reply-To: <20020104023449.47265.qmail@web10406.mail.yahoo.com>
Message-ID: <B0003826830@netserv1.accucom.net>

On 3 Jan 02, at 18:34, Frederick Zoster wrote:

> 
> Peter Dalgaard wrote:
> 
> > Um, the repmat function in Matlab would seem to be
> about matrix
> > *replication* and not representation...
> 
> Out of curiosity, was this email dictated? Or does the
> above "um" serve as a sort of rhetorical flourish? At
> any rate, I find email stuttering not only uncouth but
> fantastically irritating as well.
> 
> yours,
> 
> Frederick Zoster
> 

When you have managed to equal some small fraction of Peter 
Dalgaard's contributions to R, then perhaps you will be entitled to 
whine about the occasional rhetorical flourish on r-help.  Until that 
time, r-help posts such as this demonstrate only, to borrow your 
term, uncouth behavior.



John R. Gleason

Syracuse University
430 Huntington Hall                      Voice:   315-443-3107
Syracuse, NY 13244-2340  USA             FAX:     315-443-4085

PGP public key at keyservers
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan  4 08:38:12 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 4 Jan 2002 07:38:12 +0000 (GMT)
Subject: [R] skipping fields in scan()
In-Reply-To: <AFD78192EC49D311BFAE00902798AB8F23D6EE@jupiter.arbitrade.com>
Message-ID: <Pine.LNX.4.31.0201040734530.10784-100000@gannet.stats>

On Thu, 3 Jan 2002, Vadim Ogranovich wrote:

> Dear R-Users,
>
> Is it possible to instruct scan() to skip fields when reading from a file.
> Here is an example. Suppose I have a three-column table file, "foo"
>
> 1 2 3
> 4 5 6
>
> and I want to read in only the first and the third columns skipping the
> second. If memory serves me well (though I might be wrong), in S-Plus you
> could accomplish this by putting NULL in the respective position of the
> list, e.g.
>
> scan("foo", list(a=integer(0),NULL,c=integer(0)))
>
> Is there a similar construct in R?

Not at present, but I plan to add it soon (for 1.5.0).

> For a workaround I know I can read the whole thing and then drop the
> unneeded column(s), or alternatively I can preprocess the file with a Perl
> script, but before that I'd like to make sure there is no a more direct way
> of doing this.

Normally the first is sufficient in R.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gonin at genethon.fr  Fri Jan  4 08:43:58 2002
From: gonin at genethon.fr (Patrick Gonin)
Date: Fri, 4 Jan 2002 08:43:58 +0100
Subject: [R] RH and packages
Message-ID: <a05100300b85b0ba76a6e@[192.168.100.154]>

Dear colleagues,

I just upgraded to 1.4.0 version from RH RPM on a RH72 linux i686 
machine. Maybe I am the only one, but when I tried then to install 2 
packages (namely pspline and xgobi), weird things happened.
First on call of library(xgobi) or library(help=xgobi), all looks 
good, but on call of ?xgobi, or data(PaulKAI), or when trying to look 
at html help, the package seems empty. More precisely, the 
Index00.html file opens, but there is a blank page with only a title 
and navigation buttons in it. The same with pspline.
(All was absolutely fine with 1.3.1 on the same RH 72 machine).
Any idea ?
-- 
----------------------------
Patrick Gonin, DVM, PhD
GENETHON III
1 bis, rue de l'Internationale
BP 60
91002 EVRY CEDEX
FRANCE
Tel: 33-1-69-47-10-21
Fax: 33-1-60-77-86-98
gonin at genethon.fr
----------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan  4 08:44:55 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 4 Jan 2002 07:44:55 +0000 (GMT)
Subject: [R] item characteristic curves (logistic regression w. constant)
In-Reply-To: <200201032258.g03MwCb05857@cattell.psych.upenn.edu>
Message-ID: <Pine.LNX.4.31.0201040740000.10784-100000@gannet.stats>

Try the function SSfpl, which finds its own starting values.
Or modify the three-parameter version in MASS (and I think you can just
use that by using 1 - score).

Did you intend to have C in your formula?  nls is trying to optimize over
it, and it does not appear, so it is going to have difficulty converging.

Maximizing the likelihood using optim is not much harder.


On Thu, 3 Jan 2002, Jonathan Baron wrote:

> I'm trying to do a sort of home-brew item-characteristic-curve.
> This is a plot of the probability of getting a test item correct,
> as a function of the mean score on the test.  (The last part is
> the home brew part.)
>
> Logistic regression with glm would work nicely, EXCEPT for the
> fact that the curve requires a guessing parameter.  So the
> asymptote on the left is not 0 but rather something like .25 (for
> a 4-choice multiple-choice item).
>
> So I have been using nls.  I have tried out the "least squares"
> fit on artificial data, and it is not a problem at the level I'm
> doing this.  (In fact, I have a suspicion that it is never a
> problem, but let's put that aside.)
>
> The trouble is that nls rarely converges. When I plot the data
> graphically, they look OK.  Nice, monotonic, ogive-like plots
> (using categories on the horizontal axis).
>
> To make it concrete, here is a typical call to nls.
>
> logit <- function(x) {exp(x)/(1+exp(x))}
> nls(score[,1]~logit((mscore-A)/B)+D)),start=list(A=.5,B=.1,C=.2,D=.8)
>
> The variable mscore is the mean score, ranging 0-1, and score[,1]
> is 0/1, meaning incorrect/correct on the item in question (item 1).
>
> Sometimes this works and yields very good fits.  But sometimes it
> diverges, or fails to converge.
>
> Any ideas about how to make this work better?  or do something else?
>
> Jon Baron
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan  4 08:55:36 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 4 Jan 2002 07:55:36 +0000 (GMT)
Subject: [R] extra whitespace around EPS files
In-Reply-To: <3C34F494.F1BCF14F@lbl.gov>
Message-ID: <Pine.LNX.4.31.0201040747280.10784-100000@gannet.stats>

On Thu, 3 Jan 2002, Michael D. Sohn wrote:

> I'm having difficulty getting rid of extra whitespace above and below an
> EPS figure.  For example, if  I generate an output file using these
> commands:
>
> > R.test(output='none')

Well, that doesn't generate any!  The example can be simpified to work, or
R.test("yes") used.

> where:
>
> R.test <- function(output=NULL) {
>   if (output == 'yes') {
>     ps.options(pointsize=10)
>     postscript('plot.eps', paper='special', horizontal=FALSE,
> onefile=FALSE, height=3, width=6)
>   }
>   plot(rnorm(10), rnorm(10))
>   if (output == 'yes') {
>     dev.off()
>     ps.options(reset=TRUE)
>   }
> }
>
>
> I get a  bunch of extra whitespace above and below the figure.  However,
> if I increase the height to say 5inches, the whitespace is gone.

Not so for me (I get the same whitespace at 5" high).  The whitespace you
are seeing is the margins, and you have a rather large pointsize for a 3"
high plot, so have large margins.

Take a look at R-intro.  You probably want to set

par(mar=c(5.1, 4.1, 0, 0))

> Presumably the extra whitespace was filled up by the figure.  Is there a
> way to get rid of the whitespace?  Even editing the bounding box of the
> EPS figure didn't really help.

Does for me:

auk% gs -sDEVICE=bbox plots.eps
...
%%BoundingBox: 3 13 408 172

gives a correct tight bounding box.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Fri Jan  4 09:46:40 2002
From: plummer at iarc.fr (Martyn Plummer)
Date: Fri, 04 Jan 2002 09:46:40 +0100 (CET)
Subject: [R] RH and packages
In-Reply-To: <a05100300b85b0ba76a6e@[192.168.100.154]>
Message-ID: <XFMail.20020104094640.plummer@iarc.fr>

On 04-Jan-2002 Patrick Gonin wrote:
> Dear colleagues,
> 
> I just upgraded to 1.4.0 version from RH RPM on a RH72 linux i686 
> machine. Maybe I am the only one, but when I tried then to install 2 
> packages (namely pspline and xgobi), weird things happened.
> First on call of library(xgobi) or library(help=xgobi), all looks 
> good, but on call of ?xgobi, or data(PaulKAI), or when trying to look 
> at html help, the package seems empty. More precisely, the 
> Index00.html file opens, but there is a blank page with only a title 
> and navigation buttons in it. The same with pspline.
> (All was absolutely fine with 1.3.1 on the same RH 72 machine).
> Any idea ?

It works for me. My guess is that there is something wrong with your
perl installation. When you install xgobi, you should get this
output:

Installing *source* package `xgobi' ...
 R
 data
 help
 >>> Building/Updating help pages for package `xgobi'
     Formats: text html latex example 
  PaulKAI                           text    html    latex   example
  laser                             text    html    latex
  morsecodes                        text    html    latex   example
  quadplot                          text    html    latex   example
  reggeom                           text    html    latex   example
  xgobi                             text    html    latex   example
  xgvis                             text    html    latex   example
 DONE (xgobi)

DONE (INSTALL)

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Jan  4 11:04:44 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 4 Jan 2002 11:04:44 +0100
Subject: [R] Re: initial values for non linear models? {was "Info_Request"}
In-Reply-To: <GOY7ML$IkHunB6kNT9yEsIVvHVr5kghRZgi3OZRRMoMngi8l@iol.it>
References: <GOY7ML$IkHunB6kNT9yEsIVvHVr5kghRZgi3OZRRMoMngi8l@iol.it>
Message-ID: <15413.32316.142804.778930@gargle.gargle.HOWL>

>>>>> "millanti" == millanti  <millanti at libero.it> writes:

    millanti> Hi, I'm an R user and I have to answer a question
    millanti> about a problem I'm not able to solve by R code:
    millanti> the command nlm(....) to fit a non linear model
    millanti> requires an initial estimation of the model's
    millanti> unknown parameters.  But how can I have an initial
    millanti> estimation?

In general, this is a very hard problem, particularly if the
dimension of your unknown parameters is large. You don't say
anything about your model which would help to help you...

nls in package nls, {i.e. you type  library(nls)} has so called
self-starting models for a few classes of non-linear *regression* models.
I don't know if this helps, since nlm() is not only for regression models.

type   ?selfStart
and    apropos("^SS") to get a list of predefined selfstarting
models, and then, e.g.  ?SSlogis

Further you may need to learn more about non-linear regression in general.
E.g., 
    Bates, D.M. and Watts, D.G. (1988) Nonlinear Regression Analysis
         and Its Applications; Wiley.
and -- for selfstarting (and more general, see help(gls, package="nlme") )
models
    Jos\'e C. Pinheiro and Douglas M. Bates (2000)
    Mixed-Effects Models in S and S-Plus; Springer.

    millanti> Thanks a lot.

you're welcome.
Please, next time use R-help {if you've spent some time trying
to solve the problem yourself ..} instead,
[[also please use a more distinct "Subject:" line.]]

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Fri Jan  4 13:22:35 2002
From: vito.muggeo at giustizia.it (MUGGEO VITO)
Date: Fri, 4 Jan 2002 13:22:35 +0100
Subject: [R] taking variables from data.frame
Message-ID: <007301c1951a$8ab39dc0$5c13070a@it.giustizia.it>

Dear all,
Two of the arguments of my function fn(), say, are a glm-obj and a variable
in the data.frame where there are the variable of the obj too.
Is there a way to build a function that takes the variables form the same
data.frame? For instance, the update() function does so:

>obj<-glm(....,data=mydata)
>update(obj,.~.+x) #works becuse it searches x in mydata

But for my function:
>fn(....,obj, mydata$x) #it works

and
>fn(....,obj, x) #doesn't works: x not found!

Of course I can attach the data.frame in the function by something like:

fn<-function(....,data){
 attach(data)
 ....
 detach()
 }

but is there anyone that can suggest me anything better?
Thank you very much for your help,
vito
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan  4 14:10:15 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 4 Jan 2002 13:10:15 +0000 (GMT)
Subject: [R] taking variables from data.frame
In-Reply-To: <007301c1951a$8ab39dc0$5c13070a@it.giustizia.it>
Message-ID: <Pine.LNX.4.31.0201041305290.3807-100000@gannet.stats>

On Fri, 4 Jan 2002, MUGGEO VITO wrote:

> Two of the arguments of my function fn(), say, are a glm-obj and a variable
> in the data.frame where there are the variable of the obj too.
> Is there a way to build a function that takes the variables form the same
> data.frame? For instance, the update() function does so:

No, model.frame called from the glm function does so, not update.  update
just creates a new call to glm, and calls it.

> >obj<-glm(....,data=mydata)
> >update(obj,.~.+x) #works becuse it searches x in mydata
>
> But for my function:
> >fn(....,obj, mydata$x) #it works
>
> and
> >fn(....,obj, x) #doesn't works: x not found!
>
> Of course I can attach the data.frame in the function by something like:
>
> fn<-function(....,data){
>  attach(data)
>  ....
>  detach()
>  }
>
> but is there anyone that can suggest me anything better?

Hint: try ?eval.  The critical line in model.frame.default is

    variables <- eval(attr(formula, "variables"), data, env)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tord.snall at ebc.uu.se  Fri Jan  4 14:32:50 2002
From: tord.snall at ebc.uu.se (Tord Snall)
Date: Fri, 04 Jan 2002 14:32:50 +0100
Subject: [R] line up a matrix
Message-ID: <3.0.6.32.20020104143250.00a08ce0@mail.anst.uu.se>

Dear all,

I try to rearrange my ref. database (now in Excel!! :(  ) for importing it
into a reference manager program (RIS format). 

My file basically look like this [3,4]-matrix:

rbind(c("a", "b", "c", "d"), c("e", "f", "g", "h"), c("i", "j", "k", "l"))
     [,1] [,2] [,3] [,4]
[1,] "a"  "b"  "c"  "d" 
[2,] "e"  "f"  "g"  "h" 
[3,] "i"  "j"  "k"  "l" 

and I have tried to find a function to line up the matrix into a vector
which I would like to look like this:

t(c("a", "b", "c", "d","e", "f", "g", "h","i", "j", "k", "l"))

Is there any R function for available for that?

Thanks in advance!


Sincerely,
Tord Sn?ll



-----------------------------------------------------------------------
Tord Sn?ll
Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
Villav?gen 14			
SE-752 36 Uppsala, Sweden
Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
E-mail: Tord.Snall at ebc.uu.se
http://www.vaxtbio.uu.se/resfold/snall.htm
------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Fri Jan  4 15:16:30 2002
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Fri, 04 Jan 2002 14:16:30 -0000 (GMT)
Subject: [R] line up a matrix
In-Reply-To: <3.0.6.32.20020104143250.00a08ce0@mail.anst.uu.se>
Message-ID: <XFMail.020104141630.theis@statistik.uni-dortmund.de>

Hi!
On 04-Jan-02 Tord Snall wrote:
> Dear all,
> 
> I try to rearrange my ref. database (now in Excel!! :(  ) for importing it
> into a reference manager program (RIS format). 
> 
> My file basically look like this [3,4]-matrix:
> 
> rbind(c("a", "b", "c", "d"), c("e", "f", "g", "h"), c("i", "j", "k", "l"))
>      [,1] [,2] [,3] [,4]
> [1,] "a"  "b"  "c"  "d" 
> [2,] "e"  "f"  "g"  "h" 
> [3,] "i"  "j"  "k"  "l" 
> 
> and I have tried to find a function to line up the matrix into a vector
> which I would like to look like this:
> 
> t(c("a", "b", "c", "d","e", "f", "g", "h","i", "j", "k", "l"))
> 
> Is there any R function for available for that?
Well, try unlist(), when you imported it as data.frame that should do the
trick. At least my short test did so. ;-)

So long,

Winfried
> 
> Thanks in advance!
> 
> 
> Sincerely,
> Tord Snll
> 
> 
> 
> -----------------------------------------------------------------------
> Tord Snll
> Avd. f vxtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
> Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
> Villavgen 14                 
> SE-752 36 Uppsala, Sweden
> Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
> Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
> Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
> E-mail: Tord.Snall at ebc.uu.se
> http://www.vaxtbio.uu.se/resfold/snall.htm
> ------------------------------------------------------------------------
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _

----------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 04-Jan-02
Time: 14:13:51
Dipl.-Math. Winfried Theis, Fachbereich Statistik, Graduiertenkolleg
"Angewandte Statistik"
Universitt Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903  FAX: +49-231-755-4387
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tord.snall at ebc.uu.se  Fri Jan  4 15:35:59 2002
From: tord.snall at ebc.uu.se (Tord Snall)
Date: Fri, 04 Jan 2002 15:35:59 +0100
Subject: [R] line up a matrix
In-Reply-To: <6ry9jekyjf.fsf@franz.stat.wisc.edu>
References: <3.0.6.32.20020104143250.00a08ce0@mail.anst.uu.se>
 <3.0.6.32.20020104143250.00a08ce0@mail.anst.uu.se>
Message-ID: <3.0.6.32.20020104153559.00980100@mail.anst.uu.se>

Dear Douglas Bates, Winfried Theis and Andy Liaw,

Thanks for your quick replies! All alternatives worked well of course.

One can keep on trying simple things for hours as a beginner (if you
happened to have forgotten...).


Tord Sn?ll





At 07:59 2002-01-04 -0600, you wrote:
>Tord Snall <tord.snall at ebc.uu.se> writes:
>
>> Dear all,
>> 
>> I try to rearrange my ref. database (now in Excel!! :(  ) for importing it
>> into a reference manager program (RIS format). 
>> 
>> My file basically look like this [3,4]-matrix:
>> 
>> rbind(c("a", "b", "c", "d"), c("e", "f", "g", "h"), c("i", "j", "k", "l"))
>>      [,1] [,2] [,3] [,4]
>> [1,] "a"  "b"  "c"  "d" 
>> [2,] "e"  "f"  "g"  "h" 
>> [3,] "i"  "j"  "k"  "l" 
>> 
>> and I have tried to find a function to line up the matrix into a vector
>> which I would like to look like this:
>> 
>> t(c("a", "b", "c", "d","e", "f", "g", "h","i", "j", "k", "l"))
>> 
>> Is there any R function for available for that?
>
>In R matrices are stored in column major order so you want to transpose
>your matrix and convert it to a vector.  One way is
>
> as.vector(t(mat))
>
>Interestingly using 
> 
> c(t(mat))
>
>which is almost symmetric with your t(c("a", ...)), would do the same
>thing.
>
>
>

-----------------------------------------------------------------------
Tord Sn?ll
Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
Villav?gen 14			
SE-752 36 Uppsala, Sweden
Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
E-mail: Tord.Snall at ebc.uu.se
http://www.vaxtbio.uu.se/resfold/snall.htm
------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alexander.Hener at daimlerchrysler.com  Fri Jan  4 16:34:09 2002
From: Alexander.Hener at daimlerchrysler.com (Alexander.Hener@daimlerchrysler.com)
Date: Fri, 4 Jan 2002 16:34:09 +0100
Subject: [R] Inverse (cumulative) distribution functions
Message-ID: <0057440001705576000002L462*@MHS>

hi list,

any help is appreciated concerning the following questions, and please note 
that I am not very experienced in neither R nor numerical problems :

1. are any inverse (cumulative) distributions functions implemented in R ? 

2. if not, does R offer the possibility to compute such functions for a given 
distribution, and how? 

3. generally, are there any resources on the web or otherwise where, preferably 
closed form solutions of, inverse (cumulative) distribution functions are 
listed? I realise that there should be only few. 


Thanks in advance,

Alexander Hener. 

________________________________________________________________
Alexander Hener                       DaimlerChrysler AG
Data Mining Solutions (FT3/AD)        Research & Technology
                                      P.O. Box 2360
                                      89013 Ulm / Germany

e-mail:                               Phone: + 49 (731) 505-2438
alexander.hener at DaimlerChrysler.com   Fax:   + 49 (731) 505-4210
_________________________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From frohne at gci.net  Fri Jan  4 17:14:15 2002
From: frohne at gci.net (Ivan Frohne)
Date: Fri, 4 Jan 2002 07:14:15 -0900
Subject: [R] Graphical representation of a matrix ?
References: <20020104023449.47265.qmail@web10406.mail.yahoo.com>
Message-ID: <001a01c1953a$dec97130$9d97ed18@d4100>

Having a bad day, Fred?  The "um" is
a preliminary gentle nudge to cushion the message.
Just part of the camaraderie of R.

--Ivan Frohne


----- Original Message -----
From: "Frederick Zoster" <fredzoster at yahoo.com>
To: <R-help at stat.math.ethz.ch>
Sent: Thursday, January 03, 2002 17:34
Subject: Re: [R] Graphical representation of a matrix ?


>
> Peter Dalgaard wrote:
>
> > Um, the repmat function in Matlab would seem to be
> about matrix
> > *replication* and not representation...
>
> Out of curiosity, was this email dictated? Or does the
> above "um" serve as a sort of rhetorical flourish? At
> any rate, I find email stuttering not only uncouth but
> fantastically irritating as well.
>
> yours,
>
> Frederick Zoster
>
>
> __________________________________________________
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri Jan  4 17:19:01 2002
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 04 Jan 2002 11:19:01 -0500
Subject: [R] line up a matrix
In-Reply-To: <3.0.6.32.20020104143250.00a08ce0@mail.anst.uu.se>
Message-ID: <5.1.0.14.2.20020104111209.01d7fbe0@mcmail.cis.mcmaster.ca>

Dear Tord,


At 02:32 PM 1/4/2002 +0100, Tord Snall wrote:

>I try to rearrange my ref. database (now in Excel!! :(  ) for importing it
>into a reference manager program (RIS format).
>
>My file basically look like this [3,4]-matrix:
>
>rbind(c("a", "b", "c", "d"), c("e", "f", "g", "h"), c("i", "j", "k", "l"))
>      [,1] [,2] [,3] [,4]
>[1,] "a"  "b"  "c"  "d"
>[2,] "e"  "f"  "g"  "h"
>[3,] "i"  "j"  "k"  "l"
>
>and I have tried to find a function to line up the matrix into a vector
>which I would like to look like this:
>
>t(c("a", "b", "c", "d","e", "f", "g", "h","i", "j", "k", "l"))
>
>Is there any R function for available for that?

Matrices are stored column-wise, so try

         > mat <- rbind(c("a", "b", "c", "d"), c("e", "f", "g", "h"), 
c("i", "j", "k", "l"))
         > as.vector(t(mat))
         [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" "k" "l"

If you really want a one-column matrix, as your question seems to imply, 
you could use

     > matrix(t(mat), ncol=1)
         [,1]
     [1,] "a"
     [2,] "b"
     [3,] "c"
     [4,] "d"
     [5,] "e"
     [6,] "f"
     [7,] "g"
     [8,] "h"
     [9,] "i"
     [10,] "j"
     [11,] "k"
     [12,] "l"

I hope that this helps,
  John


-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jan  4 17:34:44 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 4 Jan 2002 08:34:44 -0800 (PST)
Subject: [R] Inverse (cumulative) distribution functions
In-Reply-To: <0057440001705576000002L462*@MHS>
Message-ID: <Pine.A41.4.43.0201040830400.103294-100000@homer41.u.washington.edu>

On Fri, 4 Jan 2002 Alexander.Hener at daimlerchrysler.com wrote:

> hi list,
>
> any help is appreciated concerning the following questions, and please note
> that I am not very experienced in neither R nor numerical problems :
>
> 1. are any inverse (cumulative) distributions functions implemented in R ?

Yes. Many. Functions for probabiity distributions come in sets of four
eg
    rnorm   generate random Normal
    pnorm   Normal cdf
>>> qnorm   Normal inverse cdf (quantile function)
    dnorm   Normal density

help.search("distribution") will get you all or most of the relevant help
pages


	-thomas


Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Fri Jan  4 17:40:42 2002
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Fri, 04 Jan 2002 11:40:42 -0500
Subject: [R] Inverse (cumulative) distribution functions
Message-ID: <B9A894093554D511941700508B5C76DB02ADE13A@uswpmx08.merck.com>

Inverse cdfs are also called quantile functions, and in R they are named
qxxxx; cdfs are pxxxx, random numbers are rxxxx, density is dxxxx, where
xxxx names the distribution family. Eg qnorm, pnorm, rnorm, dnorm.

Reid Huntsinger

-----Original Message-----
From: Alexander.Hener at daimlerchrysler.com
[mailto:Alexander.Hener at daimlerchrysler.com]
Sent: Friday, January 04, 2002 10:34 AM
To: r-help at lists.r-project.org
Subject: [R] Inverse (cumulative) distribution functions


hi list,

any help is appreciated concerning the following questions, and please note 
that I am not very experienced in neither R nor numerical problems :

1. are any inverse (cumulative) distributions functions implemented in R ? 

2. if not, does R offer the possibility to compute such functions for a
given 
distribution, and how? 

3. generally, are there any resources on the web or otherwise where,
preferably 
closed form solutions of, inverse (cumulative) distribution functions are 
listed? I realise that there should be only few. 


Thanks in advance,

Alexander Hener. 

________________________________________________________________
Alexander Hener                       DaimlerChrysler AG
Data Mining Solutions (FT3/AD)        Research & Technology
                                      P.O. Box 2360
                                      89013 Ulm / Germany

e-mail:                               Phone: + 49 (731) 505-2438
alexander.hener at DaimlerChrysler.com   Fax:   + 49 (731) 505-4210
_________________________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alexander.Hener at daimlerchrysler.com  Fri Jan  4 17:48:37 2002
From: Alexander.Hener at daimlerchrysler.com (Alexander.Hener@daimlerchrysler.com)
Date: Fri, 4 Jan 2002 17:48:37 +0100
Subject: [R] Inverse (cumulative) distribution functions
Message-ID: <0057440001713924000002L442*@MHS>

hi list,

thanks to the quick and friendly helpers.  Somehow I failed to realise that the 
inverse distribution function is the same as the quantile function.

Alexander.



________________________________________________________________
Alexander Hener                       DaimlerChrysler AG
Data Mining Solutions (FT3/AD)        Research & Technology
                                      P.O. Box 2360
                                      89013 Ulm / Germany

e-mail:                               Phone: + 49 (731) 505-2438
alexander.hener at DaimlerChrysler.com   Fax:   + 49 (731) 505-4210
_________________________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Fri Jan  4 19:21:44 2002
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Fri, 4 Jan 2002 10:21:44 -0800
Subject: [R] plotting maps?
Message-ID: <002001c1954c$aa725fc0$01000001@godzilla>

I thought I had plotted a map of oregon and washington and overlayed some
points using R. Is that possibe since I can't seem to find the source file I
used or commands for plotting maps and points?

If not, sorry for the bother...

Thanks,
Jeff.


Jeff D. Hamann
Hamann, Donald & Associates, Inc.
PO Box 1421
Corvallis, Oregon USA 97339-1421
Bus. 541-753-7333
Cell. 541-740-5988
jeff_hamann at hamanndonald.com
www.hamanndonald.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pem at theriver.com  Fri Jan  4 19:52:39 2002
From: pem at theriver.com (Patrick E. McKnight)
Date: Fri, 04 Jan 2002 11:52:39 -0700
Subject: [R] sorting data frame
Message-ID: <3C35F9F7.3030604@theriver.com>

Greetings,

I hope this isn't obvious but I've read through the FAQ and the various 
other R/S books I have and I cannot, for the life of me, figure out how 
to sort a data frame by a specific variable.  Suppose I have a four 
variable data.frame x and the variables are var1, var2, var3, var4.  I 
want to sort on say var3 simply for display purposes.  How can this be 
accomplished?  Thanks in advance for any hints, RTFM (the exact one 
please), or any other useful pointers.

BTW, I'm using version 1.4 on Linux-Mandrake FWIW.


-- 
________________________________________________________________________

Cheers,

Patrick

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Fri Jan  4 19:49:44 2002
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 04 Jan 2002 13:49:44 -0500
Subject: [S] [R] confidence ellipsoid for model parameters
In-Reply-To: <200201040301.EAA07563@stat.math.ethz.ch>
References: <200201040301.EAA07563@stat.math.ethz.ch>
Message-ID: <4ltb3uc5rmqik6301b8vbgcbhidnu0robo@4ax.com>

John Fox wrote:

>The confidence ellipse for a pair of coefficients is just (with an
>adjustment for size) the perpendicular shadow of the joint ellipsoid, in
>the same sense that the confidence intervals for individual coefficients
>are shadows of the joint ellipsoid or ellipse. The usual confidence ellipse
>for 2 of q coefficients uses qf(.95, 2, df.error) to scale the ellipse; if
>you want to scale the ellipse as a literal shadow of the joint confidence
>region for all q coefficients, use qf(.95, q, df.error) instead (which
>produces a smaller ellipse). You can do this by simply editing
>confidence.ellipse.lm in car.

Doesn't it produce a larger ellipse, not a smaller one? 

If you are just doing a confidence region for 2 parameters, then the
other parameters can take on any values; if you are projecting a p-dim
region onto 2, then there are still restrictions on the other p-2
parameters which your graphic will not show.  So the projection
corresponds to a smaller region of parameter space than an equal sized
2-dim confidence region, hence it needs to be bigger to give the same
confidence level.

Duncan Murdoch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jan  4 19:57:16 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 4 Jan 2002 10:57:16 -0800 (PST)
Subject: [R] sorting data frame
In-Reply-To: <3C35F9F7.3030604@theriver.com>
Message-ID: <Pine.A41.4.43.0201041055560.103294-100000@homer41.u.washington.edu>

On Fri, 4 Jan 2002, Patrick E. McKnight wrote:

> Greetings,
>
> I hope this isn't obvious but I've read through the FAQ and the various
> other R/S books I have and I cannot, for the life of me, figure out how
> to sort a data frame by a specific variable.  Suppose I have a four
> variable data.frame x and the variables are var1, var2, var3, var4.  I
> want to sort on say var3 simply for display purposes.  How can this be
> accomplished?  Thanks in advance for any hints, RTFM (the exact one
> please), or any other useful pointers.
>


You want the order() function, which returns a permutation that can be
used to reorder

Eg, to plot points on a curve in increasing order so they can be connected
with lines

  oo<-order(x)
  plot(x[oo],y[oo],type="l")


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From york at noaa.gov  Fri Jan  4 20:16:36 2002
From: york at noaa.gov (Anne York)
Date: Fri, 4 Jan 2002 11:16:36 -0800 (PST)
Subject: [R] glm deviance question
Message-ID: <Pine.GSO.4.05.10201041106070.22103-100000@ofis450a.akctr.noaa.gov>

I am comparing the Splus and R fits of a simple glm.    
In the following, foo is generated from rbinom with size = 20 p = 0.5.
The coefficients (and SE's0 of the fitted models are the same, but the
estimated deviances are quite different. Could someone please tell me why
they are so different? I am using R version 1.3.1 and Splus 2000 release 3
on windows 2000. 

++++++++++++++++++++++
foo <- c(9,  4, 10,  7, 11, 13,  8,  6, 11, 14, 11, 
         10,  7,  9, 13,  7,  9,  6, 10, 10)

foo.glm <- glm(cbind(foo,20-foo)~1,family=binomial)

In Splus: 

summary(foo.glm) 

Coefficients:
                Value Std. Error  t value 
(Intercept) 0.1502822  0.1002824 1.498589

(Dispersion Parameter for Binomial family taken to be 1 )

    Null Deviance: 21.89527 on 19 degrees of freedom

Residual Deviance: 21.89527 on 19 degrees of freedom


In R: 

summary(foo.glm)

Coefficients:
            Estimate Std. Error z value Pr(>|z|)
(Intercept)  -0.1503     0.1003  -1.499    0.134

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 26.479  on 19  degrees of freedom
Residual deviance: 26.479  on 19  degrees of freedom
AIC: 96.44


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Anne E. York
National Marine Mammal Laboratory
Seattle WA 98115-0070  USA
e-mail: anne.york at noaa.gov
Voice: +1 206-526-4039
Fax: +1 206-526-6615
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Fri Jan  4 20:37:53 2002
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Fri, 4 Jan 2002 14:37:53 -0500
Subject: [R] sorting data frame
Message-ID: <OF12FB0418.65E48511-ON85256B37.006B8BB4@hgsi.com>


If df is your data frame then use:

df[sort.list(df$var3),]



                                                                                                             
                    "Patrick E.                                                                              
                    McKnight"                   To:     r-help <r-help at lists.R-project.org>                  
                    <pem at theriver.com>          cc:                                                          
                    Sent by:                    Subject:     [R] sorting data frame                          
                    owner-r-help at stat.ma                                                                     
                    th.ethz.ch                                                                               
                                                                                                             
                                                                                                             
                    01/04/2002 01:52 PM                                                                      
                                                                                                             
                                                                                                             




Greetings,

I hope this isn't obvious but I've read through the FAQ and the various
other R/S books I have and I cannot, for the life of me, figure out how
to sort a data frame by a specific variable.  Suppose I have a four
variable data.frame x and the variables are var1, var2, var3, var4.  I
want to sort on say var3 simply for display purposes.  How can this be
accomplished?  Thanks in advance for any hints, RTFM (the exact one
please), or any other useful pointers.

BTW, I'm using version 1.4 on Linux-Mandrake FWIW.


--
________________________________________________________________________

Cheers,

Patrick

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pem at theriver.com  Fri Jan  4 20:46:49 2002
From: pem at theriver.com (Patrick E. McKnight)
Date: Fri, 04 Jan 2002 12:46:49 -0700
Subject: [R] sorting data frame
References: <Pine.A41.4.43.0201041055560.103294-100000@homer41.u.washington.edu>
Message-ID: <3C3606A9.5010204@theriver.com>

Thomas and Andy,

Thanks for the quick replies.  The suggestions did the trick.  Andy's 
code was exactly what I needed but I see how Thomas' code will help to 
eliminate a step in my function.  Thanks to both of you for your help.

Cheers,

Patrick

Thomas Lumley wrote:

> On Fri, 4 Jan 2002, Patrick E. McKnight wrote:
> 
> 
>>Greetings,
>>
>>I hope this isn't obvious but I've read through the FAQ and the various
>>other R/S books I have and I cannot, for the life of me, figure out how
>>to sort a data frame by a specific variable.  Suppose I have a four
>>variable data.frame x and the variables are var1, var2, var3, var4.  I
>>want to sort on say var3 simply for display purposes.  How can this be
>>accomplished?  Thanks in advance for any hints, RTFM (the exact one
>>please), or any other useful pointers.
>>
>>
> 
> 
> You want the order() function, which returns a permutation that can be
> used to reorder
> 
> Eg, to plot points on a curve in increasing order so they can be connected
> with lines
> 
>   oo<-order(x)
>   plot(x[oo],y[oo],type="l")
> 
> 
> 	-thomas
> 
> 
> 



-- 
________________________________________________________________________

Cheers,

Patrick

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan  4 20:47:41 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 4 Jan 2002 19:47:41 +0000 (GMT)
Subject: [R] glm deviance question
In-Reply-To: <Pine.GSO.4.05.10201041106070.22103-100000@ofis450a.akctr.noaa.gov>
Message-ID: <Pine.LNX.4.31.0201041944550.2100-100000@gannet.stats>

On Fri, 4 Jan 2002, Anne York wrote:

> I am comparing the Splus and R fits of a simple glm.
> In the following, foo is generated from rbinom with size = 20 p = 0.5.
> The coefficients (and SE's0 of the fitted models are the same, but the
> estimated deviances are quite different. Could someone please tell me why
> they are so different? I am using R version 1.3.1 and Splus 2000 release 3
> on windows 2000.

I can't reproduce your S-PLUS results.  I get under 3.4 and 6.0:

Coefficients:
                 Value Std. Error   t value
(Intercept) -0.1502822  0.1002824 -1.498589

    Null Deviance: 26.47916 on 19 degrees of freedom
Residual Deviance: 26.47916 on 19 degrees of freedom

so are you sure you did the same thing?  The coefficients are *not* the
same, BTW (there is a sign change).

>
> ++++++++++++++++++++++
> foo <- c(9,  4, 10,  7, 11, 13,  8,  6, 11, 14, 11,
>          10,  7,  9, 13,  7,  9,  6, 10, 10)
>
> foo.glm <- glm(cbind(foo,20-foo)~1,family=binomial)
>
> In Splus:
>
> summary(foo.glm)
>
> Coefficients:
>                 Value Std. Error  t value
> (Intercept) 0.1502822  0.1002824 1.498589
>
> (Dispersion Parameter for Binomial family taken to be 1 )
>
>     Null Deviance: 21.89527 on 19 degrees of freedom
>
> Residual Deviance: 21.89527 on 19 degrees of freedom
>
>
> In R:
>
> summary(foo.glm)
>
> Coefficients:
>             Estimate Std. Error z value Pr(>|z|)
> (Intercept)  -0.1503     0.1003  -1.499    0.134
>
> (Dispersion parameter for binomial family taken to be 1)
>
>     Null deviance: 26.479  on 19  degrees of freedom
> Residual deviance: 26.479  on 19  degrees of freedom
> AIC: 96.44
>
>
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Anne E. York
> National Marine Mammal Laboratory
> Seattle WA 98115-0070  USA
> e-mail: anne.york at noaa.gov
> Voice: +1 206-526-4039
> Fax: +1 206-526-6615
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tebaldi at rap.ucar.edu  Fri Jan  4 21:22:45 2002
From: tebaldi at rap.ucar.edu (Claudia Tebaldi)
Date: Fri, 4 Jan 2002 13:22:45 -0700 (MST)
Subject: [R] plotting maps?
In-Reply-To: <002001c1954c$aa725fc0$01000001@godzilla>
Message-ID: <Pine.GSO.4.05.10201041321050.11669-100000@virga.rap.ucar.edu>

It is possible if you had installed the library "maps".
Once attached, you can plot maps (see help(map)).
Then the function points() (in  the base package) permits you to overlay
points on the maps (see help(points))
The library is (was at least) available at

ftp://ftp.mcs.vuw.ac.nz/pub/statistics/map/

 c


On Fri, 4 Jan 2002, Jeff D. Hamann wrote:

> I thought I had plotted a map of oregon and washington and overlayed some
> points using R. Is that possibe since I can't seem to find the source file I
> used or commands for plotting maps and points?
> 
> If not, sorry for the bother...
> 
> Thanks,
> Jeff.
> 
> 
> Jeff D. Hamann
> Hamann, Donald & Associates, Inc.
> PO Box 1421
> Corvallis, Oregon USA 97339-1421
> Bus. 541-753-7333
> Cell. 541-740-5988
> jeff_hamann at hamanndonald.com
> www.hamanndonald.com
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-------------------------------------------------------------------------
claudia tebaldi                                  NCAR  RAP
project scientist                                P.O. Box 3000
(303) 497-2830                                   Boulder, CO 80307
--------------------------------------------------------------------------




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri Jan  4 21:29:23 2002
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 04 Jan 2002 15:29:23 -0500
Subject: [S] [R] confidence ellipsoid for model parameters
In-Reply-To: <4ltb3uc5rmqik6301b8vbgcbhidnu0robo@4ax.com>
References: <200201040301.EAA07563@stat.math.ethz.ch>
 <200201040301.EAA07563@stat.math.ethz.ch>
Message-ID: <5.1.0.14.2.20020104152709.02e2f418@mcmail.cis.mcmaster.ca>

At 01:49 PM 1/4/2002 -0500, Duncan Murdoch wrote:
>John Fox wrote:
>
> >The confidence ellipse for a pair of coefficients is just (with an
> >adjustment for size) the perpendicular shadow of the joint ellipsoid, in
> >the same sense that the confidence intervals for individual coefficients
> >are shadows of the joint ellipsoid or ellipse. The usual confidence ellipse
> >for 2 of q coefficients uses qf(.95, 2, df.error) to scale the ellipse; if
> >you want to scale the ellipse as a literal shadow of the joint confidence
> >region for all q coefficients, use qf(.95, q, df.error) instead (which
> >produces a smaller ellipse). You can do this by simply editing
> >confidence.ellipse.lm in car.
>
>Doesn't it produce a larger ellipse, not a smaller one?

No, using q > 2 produces a smaller ellipse, e.g.:

 > qf(.95, 2, 100)
[1] 3.0873
 > qf(.95, 3, 100)
[1] 2.6955
 >


>If you are just doing a confidence region for 2 parameters, then the
>other parameters can take on any values; if you are projecting a p-dim
>region onto 2, then there are still restrictions on the other p-2
>parameters which your graphic will not show.  So the projection
>corresponds to a smaller region of parameter space than an equal sized
>2-dim confidence region, hence it needs to be bigger to give the same
>confidence level.

If I understand properly what you're saying, I think that we agree.

Regards,
  John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tebaldi at rap.ucar.edu  Fri Jan  4 21:38:07 2002
From: tebaldi at rap.ucar.edu (Claudia Tebaldi)
Date: Fri, 4 Jan 2002 13:38:07 -0700 (MST)
Subject: [R] sorting data frame
In-Reply-To: <3C35F9F7.3030604@theriver.com>
Message-ID: <Pine.GSO.4.05.10201041335150.11669-100000@virga.rap.ucar.edu>


x.sorted_x[order(x$var3),]

if you want it in increasing order or

x.sorted_x[rev(order(x$var3)),]

if you want it in decreasing order

On Fri, 4 Jan 2002, Patrick E. McKnight wrote:

> Greetings,
> 
> I hope this isn't obvious but I've read through the FAQ and the various 
> other R/S books I have and I cannot, for the life of me, figure out how 
> to sort a data frame by a specific variable.  Suppose I have a four 
> variable data.frame x and the variables are var1, var2, var3, var4.  I 
> want to sort on say var3 simply for display purposes.  How can this be 
> accomplished?  Thanks in advance for any hints, RTFM (the exact one 
> please), or any other useful pointers.
> 
> BTW, I'm using version 1.4 on Linux-Mandrake FWIW.
> 
> 
> -- 
> ________________________________________________________________________
> 
> Cheers,
> 
> Patrick
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-------------------------------------------------------------------------
claudia tebaldi                                  NCAR  RAP
project scientist                                P.O. Box 3000
(303) 497-2830                                   Boulder, CO 80307
--------------------------------------------------------------------------




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pem at theriver.com  Fri Jan  4 21:46:31 2002
From: pem at theriver.com (Patrick E. McKnight)
Date: Fri, 04 Jan 2002 13:46:31 -0700
Subject: [R] plotting missing data patterns
Message-ID: <3C3614A7.1030908@theriver.com>

I have one other problem and then I'll stop and get back to writing.  I 
want to plot a missing data matrix (the R matrix a la Little and Rubin) 
to graphically depict where the missing data lie in the matrix.  Some 
statistical packages produce a graphical depiction of the missing data 
patterns by plotting the matrix, color-coding the plot with contrasting 
colors for either missing or present.

So far, I have fumbled my way through parts of it but I can't figure out 
what I am doing wrong.  Here is my situation....

Dataset...now sorted the way I want it (thanks)

 > newcouple
    id age sex iv1 iv2 dv mdpf
2   0   0   0   0   0  0    1
3   0   0   0   0   0  0    1
5   0   0   0   0   0  0    1
7   0   0   0   0   0  0    1
9   0   1   0   0   0  0    3
6   0   0   1   0   0  0    5
10  0   0   0   1   0  0    9
1   0   0   0   0   1  0   17
4   0   0   0   0   0  1   33
8   0   0   0   0   0  1   33


# begin code

# create matrix from data.frame for easy indexing

 > dummy <- as.matrix(newcouple)

# create new vectors to later plot

x <- mat.or.vec(1,1)
y <- mat.or.vec(1,1)

# define default plotting information with par

par(bg="black",pch=22)

# create new frame for plotting

plot.new()

# loop through the matrix to only plot a square for the observations and
# variables that are missing

     for (i in 1:nrow(dummy)){
       for (j in 1:ncol(dummy)){
         if (dummy[i,j] == 1){

# record the coordinates for the missing values to plot with a points
# call later

            y <- append(y,i)
            x <- append(x,j)
          }
       }
     }


# points to plot from my

     points(x,y,bg="white")

# end code


The graphical output is just a black window with one point plotted (0,0 
I think).  What am I doing wrong?  The points function does not appear 
to be adding the extra points the way I want it to add them to the same 
display window.

In the end, I would like to have either a black background with white 
squares (holes) or a white background with black squares to represent 
where the data are missing.  I will adjust the squares to an appropriate 
size later.  I know that there are other procedures for graphically 
depicting missing data but I (and my colleagues) want this graph for now.

Any help would be greatly appreciated.  Thanks again in advance.



-- 
________________________________________________________________________

Cheers,

Patrick

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Fri Jan  4 22:32:27 2002
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 04 Jan 2002 16:32:27 -0500
Subject: [R] selecting data from a data.frame?
In-Reply-To: <3.0.6.32.20020104143250.00a08ce0@mail.anst.uu.se>
Message-ID: <87bsg9u7is.fsf@lumen.med.iupui.edu>

I know how to plot a subset of a data.frame by doing something
like 

 > plot( mydata$x[y>2] )

Is there a way to do something similar for an entire data.frame?
For example, I can do this something like

 > lm( x[y>2] ~ type[y>2], data=mydata )

but I'm a lazy typist, so I'd like to be able to do something
like 

 > lm( x ~ type, data=mydata[y>2] )

Is there a way to select rows from a data frame like that?

Mike
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan  4 22:44:00 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 4 Jan 2002 21:44:00 +0000 (GMT)
Subject: [R] selecting data from a data.frame?
In-Reply-To: <87bsg9u7is.fsf@lumen.med.iupui.edu>
Message-ID: <Pine.LNX.4.31.0201042142130.2310-100000@gannet.stats>

On 4 Jan 2002, Michael A. Miller wrote:

> I know how to plot a subset of a data.frame by doing something
> like
>
>  > plot( mydata$x[y>2] )
>
> Is there a way to do something similar for an entire data.frame?
> For example, I can do this something like
>
>  > lm( x[y>2] ~ type[y>2], data=mydata )
>
> but I'm a lazy typist, so I'd like to be able to do something
> like
>
>  > lm( x ~ type, data=mydata[y>2] )
>
> Is there a way to select rows from a data frame like that?

That will work if done correctly as mydata[y>2, ], but

lm(x ~ type, data=mydata, subset = (y>2))

is better style, especially as it allows y to be a column of mydata.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri Jan  4 22:56:54 2002
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 04 Jan 2002 16:56:54 -0500
Subject: [S] [R] confidence ellipsoid for model parameters
In-Reply-To: <ct4c3ugfb7p4s11fp7241evq2eqbq9ok7b@4ax.com>
References: <5.1.0.14.2.20020104152709.02e2f418@mcmail.cis.mcmaster.ca>
 <200201040301.EAA07563@stat.math.ethz.ch>
 <200201040301.EAA07563@stat.math.ethz.ch>
 <4ltb3uc5rmqik6301b8vbgcbhidnu0robo@4ax.com>
 <5.1.0.14.2.20020104152709.02e2f418@mcmail.cis.mcmaster.ca>
Message-ID: <5.1.0.14.2.20020104161037.01d84498@mcmail.cis.mcmaster.ca>

Dear Duncan,

Yes, you're correct -- I was careless with the multipler: Using 2*qf(.95, 
2, df) to scale the ellipse produces the usual 95% confidence ellipse for 
the two parameters. Using 3*qf(.95, 3, df) produces a larger Scheffe 
ellipse, which is just the 2D projection of the 3D ellipsoid -- apparently 
what was wanted. That is, the ellipsoid whose shadows are the 2D confidence 
ellipses is inside the 3D confidence ellipsoid.

Sorry (and thanks for the correction),
  John

At 03:54 PM 1/4/2002 -0500, Duncan Murdoch wrote:
>On Fri, 04 Jan 2002 15:29:23 -0500, you wrote in message
><5.1.0.14.2.20020104152709.02e2f418 at mcmail.cis.mcmaster.ca>:
>
> >At 01:49 PM 1/4/2002 -0500, Duncan Murdoch wrote:
> >>John Fox wrote:
> >>
> >> >The confidence ellipse for a pair of coefficients is just (with an
> >> >adjustment for size) the perpendicular shadow of the joint ellipsoid, in
> >> >the same sense that the confidence intervals for individual coefficients
> >> >are shadows of the joint ellipsoid or ellipse. The usual confidence 
> ellipse
> >> >for 2 of q coefficients uses qf(.95, 2, df.error) to scale the 
> ellipse; if
> >> >you want to scale the ellipse as a literal shadow of the joint confidence
> >> >region for all q coefficients, use qf(.95, q, df.error) instead (which
> >> >produces a smaller ellipse). You can do this by simply editing
> >> >confidence.ellipse.lm in car.
> >>
> >>Doesn't it produce a larger ellipse, not a smaller one?
> >
> >No, using q > 2 produces a smaller ellipse, e.g.:
> >
> > > qf(.95, 2, 100)
> >[1] 3.0873
> > > qf(.95, 3, 100)
> >[1] 2.6955
>
>But isn't the relevant formula
>
>  RSS/s^2 <= df*qf(0.95, df, 100)
>
>where df is 2 or 3?  That gives
>
> > 2*qf(.95, 2, 100)
>[1] 6.174592
> > 3*qf(.95, 3, 100)
>[1] 8.086603
>
> >>If you are just doing a confidence region for 2 parameters, then the
> >>other parameters can take on any values; if you are projecting a p-dim
> >>region onto 2, then there are still restrictions on the other p-2
> >>parameters which your graphic will not show.  So the projection
> >>corresponds to a smaller region of parameter space than an equal sized
> >>2-dim confidence region, hence it needs to be bigger to give the same
> >>confidence level.
> >
> >If I understand properly what you're saying, I think that we agree.
>
>I'm pretty sure we don't, but re-reading my paragraph above, I can
>understand why you think we might!
>
>I think the argument is a lot easier to visualize if we are comparing
>a 1 dimensional confidence interval to a projection of a 2 dimensional
>confidence region.
>
>Say the parameters are T1 and T2.  Then a confidence interval for T1
>can also be thought of as a rectangle with no limits on T2 at all.  A
>joint confidence region for both parameters will be an ellipse.  The
>ellipse will be a bit wider than the rectangle, i.e. it will project
>to a *longer* interval.

Yes -- the longer projections of the 2D confidence ellipse are the Scheffe 
intervals. (I'm ashamed to say that I used the picture you suggest is in a 
book that I wrote!)

>This makes sense, because we want the probability of the rectangle
>covering the true parameter value to match the probability that the
>ellipse does the same; the ellipse can't be a proper subset of the
>rectangle.
>
>Duncan

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ku.edu  Fri Jan  4 23:03:34 2002
From: pauljohn at ku.edu (Paul E Johnson)
Date: Fri, 04 Jan 2002 16:03:34 -0600
Subject: [R] selecting data from a data.frame?
References: <87bsg9u7is.fsf@lumen.med.iupui.edu>
Message-ID: <3C3626B6.8010205@ku.edu>

I have this trivia sheet called Rtips and I collect answers to practical 
questions like that one:

http://lark.cc.ukans.edu/~pauljohn/R/statsRus.html#2.4

Have a look!

Every time I see a question like I would ask, I stick it in that 
notebook because I can't remember anything otherwise.

Michael A. Miller wrote:

> I know how to plot a subset of a data.frame by doing something
> like 
> 
>  > plot( mydata$x[y>2] )
> 
> Is there a way to do something similar for an entire data.frame?
> For example, I can do this something like
> 
>  > lm( x[y>2] ~ type[y>2], data=mydata )
> 
> but I'm a lazy typist, so I'd like to be able to do something
> like 
> 
>  > lm( x ~ type, data=mydata[y>2] )
> 
> Is there a way to select rows from a data frame like that?
> 
> Mike
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 



-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From askom at obninsk.com  Fri Jan  4 23:45:10 2002
From: askom at obninsk.com (Alexander Skomorokhov)
Date: Sat, 5 Jan 2002 01:45:10 +0300
Subject: [R] e1071/svm?
In-Reply-To: <3C344E0A.A1CDA4FE@ci.tuwien.ac.at>
Message-ID: <MJEOJIPNHGCIHJIEEMNOMEDECMAA.askom@obninsk.com>

David,

Happy New Year. Thanks a lot for your answer.

I was successful with my artificial linear example. And with my artificial
nonlinear example, also.
But when I went to an example from your paper in "R News" I met a problem
again.

>dim(m$SV)
[1] 156 9

That's okay. I expect 156 coefs to calculate prediction. But what I have is:

>dim(m$coefs)
[1] 156 5

Why 5??? Kernel function (default radial basis) gives me a scalar. For one
new data point I will get
vector of 156 items (Kernel functions of new point and each support vector).
I have to find sum of
these items with weights of coefs and sign after minus rho. But I have 5
times more coefs than I need.

Please, clarify this points.

Regards,
Alexander.


> -----Original Message-----
> From: meyer at ci.tuwien.ac.at [mailto:meyer at ci.tuwien.ac.at]On
> Behalf Of David Meyer
> Sent: Thursday, January 03, 2002 3:27 PM
> To: askom at obninsk.com; r-help
> Subject: Re: [R] e1071/svm?
>
>
> OK, after having inspected the code of libsvm, I agree it is not
> completely obvious to use the results produced by svm() for prediction.
>
> For class prediction in the binary case, the class of a new data vector
> ``n'' is usually given by *the sign* of
>
> Sum(a_i * y_i * K(x_i, n)) + rho
>  i
>
> where x_i is the i-th support vector, y_i the corresponding label, a_i
> the corresponding coefficiant, and K is the kernel (in your case, the
> linear one, so
> K(u,v) = u'v).
>
>
> Now, ``libsvm'' actually returns a_i * y_i as i-th coefficiant and the
> *negative* rho, so in fact uses the formula:
>
> Sum(coef_i * K(x_i, n)) - rho
>  i
>
> where the training examples (=training data) are labeled {1,-1}.
>
>
> A simplified R function for prediction with linear kernel would be:
>
> svmpred <- function (m, newdata, K=crossprod) {
>   ## this guy does the computation:
>   pred.one <- function (x)
>     sign(sum(sapply(1:m$tot.nSV, function (j)
>                     K(m$SV[j,], x) * m$coefs[j]
>                     )
>              ) - m$rho
>          )
>
>   ## this is just for convenience:
>   if (is.vector(newdata))
>     newdata <- t(as.matrix(x))
>   sapply (1:nrow(newdata),
>           function (i) pred.one(newdata[i,]))
> }
>
>
> where ``pred.one'' does the actual prediction for one new data vector,
> the rest is just a convenience for prediction of multiple new examples.
>
> It's easy to extend this to other kernels, just replace ``K'' with the
> appropriate function [see the help page for the formulas used] and
> supply the additional constants.
>
> Note, however, that multi-class prediction is more complicated, because
> the coefficiants of the diverse binary svm's are stored in a compressed
> format.
>
> And finally, you could directly use the C source code of libsvm, if your
> target language supports foreign function calls.
>
> regards,
>
> -d
>
>
> Alexander Skomorokhov wrote:
> >
> > Thank you fot your reply. Sorry, but I still haven't got the problem.
> > Here is a trivial example (cpy from R session):
> >
> ------------------------------------------------------------------
> ----------
> > ------------------
> > > x
> >      [,1] [,2]
> > [1,]    0    0
> > [2,]    0    1
> > [3,]    1    0
> > [4,]    1    1
> > [5,]    2    2
> > [6,]    2    3
> > [7,]    3    2
> > [8,]    3    3
> > > y
> > [1] 1 1 1 1 2 2 2 2
> > Levels:  1 2
> > > is.factor(y)
> > [1] TRUE
> > > library(e1071)
> > > m<-svm(x,y,kernel='linear')
> > *
> > optimization finished, #iter = 3
> > nu = 0.250000
> > obj = -1.000000, rho = -3.000000
> > nSV = 2, nBSV = 2
> > Total nSV = 2
> >
> > > summary(m)
> > Call:
> >  svm.default(x = x, y = y, kernel = "linear")
> > Parameters:
> >    SVM-Type:  C-classification
> >  SVM-Kernel:  linear
> >        cost:  1
> >      degree:  3
> >       gamma:  0.5
> >      coef.0:  0
> >          nu:  0.5
> >     epsilon:  0.5
> >        cost:  1
> > Number of Support Vectors:  2  ( 1 1 )
> > Number of Classes:  2
> > Levels:
> >  1 2
> > Rho:
> >  -3
> > Support Vectors:
> >      [,1] [,2]
> > [1,]    1    1
> > [2,]    2    2
> > Coefficiants:
> >      [,1]
> > [1,]    1
> > [2,]   -1
> >
> ------------------------------------------------------------------
> ----------
> > ----------
> > I see Coefficiants, but can't guess how to use them (only them?) for
> > prediction???
> > I may guess that the question sounds like a stupid one, but it
> is that:-(
> >
> > Thanks,
> > Alexander.
> >
> > > -----Original Message-----
> > > From: meyer at ci.tuwien.ac.at [mailto:meyer at ci.tuwien.ac.at]On
> > > Behalf Of David Meyer
> > > Sent: Thursday, December 20, 2001 3:03 PM
> > > To: askom at obninsk.com
> > > Cc: r-help
> > > Subject: Re: [R] e1071/svm?
> > >
> > >
> > > Alexander Skomorokhov wrote:
> > > >
> > > > Hello,
> > > >
> > > > I use function "svm" (interface to libsvm) from package e1071.
> > > It works just
> > > > fine.
> > > > And I may predict with function "predict" and svm model trained
> > > by function
> > > > "svm".
> > > > What I need is moving results of svm training to another
> > > application (non-R)
> > > > and
> > > > perform prediction there. But function "svm" returns list of
> > > support vectors
> > > > only
> > > > and doesn't return coefficients of separating hyperplane (w).
> > >
> > > It does (element ``coefs'' of the returned object).
> > >
> > > g.
> > > -d
> > >
> > > >
> > > > So, the question is how to use results of svm training to write
> > > (in other
> > > > language)
> > > > prediction function for linear and nonlinear cases?
> > > >
> > > > Thanks,
> > > > Alexander.
> > > >
> > > >
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > > -.-.-.-.-.-.-
> > > > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> > >
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._.
> > _._
> >
> > --
> >         Mag. David Meyer                Wiedner Hauptstrasse 8-10
> > Vienna University of Technology         A-1040 Vienna/AUSTRIA
> >        Department for                   Tel.: (+431) 58801/10772
> > Statistics and Probability Theory       mail:
> david.meyer at ci.tuwien.ac.at
> >
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

--
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rboylan at cba.ua.edu  Sat Jan  5 00:07:32 2002
From: rboylan at cba.ua.edu (Boylan, Richard)
Date: Fri, 4 Jan 2002 17:07:32 -0600 
Subject: No subject
Message-ID: <CB97A6F10E8BD311B014009027CC65A602437084@majestic.cba.ua.edu>


I have been unsuccesful in attempting to use R-WinEdt (I managed to get to a
version of winedt
that has a menu for R, but then I don't how to run an R-command from there).

I found the discussion in 
http://cran.r-project.org/contrib/extra/winedt/ReadMe 
to be rather short.  Has anyone written any explanations of how to run R
from WinEdt that they
would be willing to share with me? 

Thanks. Richard
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From smalladi at lexgen.com  Sat Jan  5 01:01:44 2002
From: smalladi at lexgen.com (Sukhaswami Malladi)
Date: Fri, 4 Jan 2002 18:01:44 -0600 
Subject: [R] Transforming Data to Normal Distribution
Message-ID: <80A38867B1DBD511A8C9009027764C8C3795C1@lexchange.lexgen.com>

Hello,

Are there any functions/procedures/tools under R that help in 
transforming a one column non-normal data into a normal distribution ?

i.e., if it is a power transformation of the form y = x^p (can p
be determined?) or if y = log(x) is the transform ?

Any suggestions are greatly appreciated.

Swami



*************************************************************************** 
 The contents of this communication are intended only for the addressee and
may contain confidential and/or privileged material. If you are not the
intended recipient, please do not read, copy, use or disclose this
communication and notify the sender.  Opinions, conclusions and other
information in this communication that do not relate to the official
business of my company shall be understood as neither given nor endorsed by
it.  
*************************************************************************** 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marimont at nxpdata.com  Sat Jan  5 01:36:03 2002
From: marimont at nxpdata.com (David Marimont)
Date: Fri, 04 Jan 2002 16:36:03 -0800
Subject: [R] computing misclassification table for tree objects
Message-ID: <3C364A73.2050701@nxpdata.com>

I have a classification tree that I computed via the tree function
(in the tree package).  I'd like to compute a misclassification table
(if that's the right term) on the data used to compute the tree.  That
is, I want to compute a table with the different classes (i.e.,levels of the
response factor) on the rows and the columns, and where entry [i,j] is
the number of times the tree classified an observation of class i as
one of class j.

My guess is that there's a simple way to do this, but I can't figure out
how.  Does anybody know?  Thanks.

   David Marimont

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fenner at cs.pitt.edu  Sat Jan  5 01:57:32 2002
From: fenner at cs.pitt.edu (Mark E. Fenner)
Date: Fri, 4 Jan 2002 19:57:32 -0500 (EST)
Subject: [R] Information Gain / Gain Ratio
In-Reply-To: <Pine.GSO.4.05.10201041335150.11669-100000@virga.rap.ucar.edu>
Message-ID: <Pine.LNX.4.21.0201041951500.29432-100000@oxygen.cs.pitt.edu>

I've hand spun my own code for computing these measures; however, it
strikes me that they might be specific forms of more general statistical
measures.  So, is there any way to compute these built into R?  Also,
being able to use Mantaras's modified version (Machine Learning,
1991) would be nice.

Regards,
Mark


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Sat Jan  5 04:08:45 2002
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 04 Jan 2002 22:08:45 -0500
Subject: [R] Transforming Data to Normal Distribution
In-Reply-To: <80A38867B1DBD511A8C9009027764C8C3795C1@lexchange.lexgen.co
 m>
Message-ID: <5.1.0.14.2.20020104220715.01d2eb18@mcmail.cis.mcmaster.ca>

Dear Swami,

The box.cox.powers function in the car package does unconditional 
univariate and multivariate Box-Cox transformations.

John

At 06:01 PM 1/4/2002 -0600, Sukhaswami Malladi wrote:

>Are there any functions/procedures/tools under R that help in
>transforming a one column non-normal data into a normal distribution ?
>
>i.e., if it is a power transformation of the form y = x^p (can p
>be determined?) or if y = log(x) is the transform ?
>
>Any suggestions are greatly appreciated.

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Sat Jan  5 05:18:52 2002
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Fri, 04 Jan 2002 20:18:52 -0800
Subject: [R] computing misclassification table for tree objects
In-Reply-To: <3C364A73.2050701@nxpdata.com>
Message-ID: <5.1.0.14.2.20020104201431.00b2a8b0@pop4.attglobal.net>


At 04:36 PM 1/4/02, David Marimont wrote:
 >I have a classification tree that I computed via the tree function
 >(in the tree package).  I'd like to compute a misclassification table
 >(if that's the right term) on the data used to compute the tree.  That
 >is, I want to compute a table with the different classes (i.e.,levels of the
 >response factor) on the rows and the columns, and where entry [i,j] is
 >the number of times the tree classified an observation of class i as
 >one of class j.
 >

predict.tree(mytreeobject, type="class") will get you the predicted classes 
from the computed tree object (mytreeobject).  Suppose rawdata$realclass is 
the vector containing the original classifications used to generate 
mytreeobject.

Then, something like:

 >table(rawdata$realclass, predict(mytreeobject))  # or reversed if you like

should give you the contingency table (or confusion matrix) you're looking for.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat Jan  5 12:37:46 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 05 Jan 2002 12:37:46 +0100
Subject: [R] Re: no subject - R-WinEdt question
References: <CB97A6F10E8BD311B014009027CC65A602437084@majestic.cba.ua.edu>
Message-ID: <3C36E58A.EAE271A@statistik.uni-dortmund.de>

"Boylan, Richard" wrote:
> 
> I have been unsuccesful in attempting to use R-WinEdt (I managed to get to a
> version of winedt that has a menu for R, 

OK, so installation was successful.

> but then I don't how to run an R-command from there).

Just open a new document, write some code and send it to R,
e.g. press ALT+l to send a line, ALT+p to send marked text or ALT+s to
source() the current file into R. The shortcuts can also be accessed in
the menu.

Note: As a default setting, RGui.exe has to be started in MDI mode at
first (and don't has to be minimized - known but unsolvable bug). R
won't be started by WinEdt!

> I found the discussion in
> http://cran.r-project.org/contrib/extra/winedt/ReadMe
> to be rather short.  Has anyone written any explanations of how to run R
> from WinEdt that they would be willing to share with me?

For more questions, please contact me privately.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From haibi at free.fr  Sat Jan  5 21:29:31 2002
From: haibi at free.fr (Habib HAIBI)
Date: Sat, 5 Jan 2002 21:29:31 +0100
Subject: [R] Meilleurs Voeux pour 2002 : ann?e de m?moire, de mobilisation, d'action, de justice et de s?r?nit? - Appel au soutien moral et financier
Message-ID: <3c3762053d0e5895@villosa.wanadoo.fr> (added by villosa.wanadoo.fr)


Meilleurs Voeux pour 2002 : anne de mmoire, de mobilisation, 
d'action, de justice et de srnit - Appel au soutien moral et 
financier

========================
M. Habib HAIBI,
7, Aguesseau St.
69007 LYON - France
Tl. 00 33 4 72 73 19 08 - Fax 00 33 4 78 61 39 27 
Email : haibi at free.fr
http://haibi.free.fr


Je suis qualifi pour exprimer mes voeux pour le Nouvel An  
tous les survivants et les familles des victimes des attaques 
terroristes, au peuple amricain, ses dirigeants, ses institutions, 
son prsident et tous les combattants de la libert, loin de leurs 
foyers, tout autour du monde! 

Je suis fier de vous dire avec gratitude combien Les USA sont 
puissants, dmocratiques et qualifis pour dfendre la libert et la 
dmocratie avec humanisme et srnit.

L'ennemi du progrs du genre humain peut encore frapper. La 
libert et la dmocratie peuvent tre encore sous attaques!

Personne ne s'imaginait que cela pouvait arriver et c'est arriv en 
ce jour pacifique du 11 septembre 2001

Personne ne s'imaginait que cela pouvait arriver en France et 
c'est arriv le 26 fvrier 2001 quand les magistrats du parquet de 
Lyon, par impulsion suicidaire et prmdite, ont eu recours  
l'arbitraire pour entraver l'action Publique mise en Mouvement : ils 
ont requis l'expertise psychiatrique de la Partie Civile par l'action 
avant de l'entendre dans ses accusations !

Cette drive obscurantiste a dpass tout entendement

C'est arriv un jour pacifique pour moi et pour les institutions de la 
Rpublique en France.

Le rquisitoire aux fins de l'expertise psychiatrique de la partie 
civile par l'action, avant de l'entendre dans ses accusations, 
constitue une atteinte obscurantiste  l'intgrit de la personne 
de la partie civile et surtout un attentat aux valeurs 
fondamentales de la socit civilise et une infamie assne  la 
Rpublique et ses Institutions:
-  tous les martyrs de la libert qui ont pay de leur vie la 
dfense des personnes et des biens et des valeurs 
fondamentales et universelles de la Rpublique.

-  tous ceux qui dans l'exercice de leurs fonctions, au nom du 
devoir de servir, exposeraient leurs vies, sans hsitation, pour la 
dfense de ces mmes valeurs

-  tous les hommes ou femmes de bonne volont, citoyens 
anonymes, levs sur la foi en une socit pacifie par 
l'avnement de la Rpublique, la crainte des lois et l'indfectibilit 
de l'Etat, de la Justice et des Institutions en Dmocratie.

J'tais, longtemps avant le WTC l'autre "point zro" de la plante 
qui a subit les premires vagues d'attaque contre les institutions 
de la Rpublique, la libert et les droits de l'homme  en France !

Il y a eu trois autres attaques avec la mme dtermination, 
diabolique et suicidaire, de stopper l'action publique 
rgulirement mise en mouvement !

J'ai fait face  l'adversit en mettant en accusation 15 magistrats, 
saisis par la foudre de l'action publique en colre, 
nominativement impliqus, des deux juridictions de Lyon tout rle 
et rang confondus pour abus d'autorit aggrav et trafic 
d'influence aggrav. 

Une fois que vous avez pris la mesure de l'attaque contre les 
valeurs universelles de la libert et la justice en dmocratie en 
France et assimil la grandeur de la querelle qui m'anime  
Votre raction sera vivement souhaite et sollicite !

Je recevrai vos contributions morales et financires comme une 
juste consolation pour le grand prjudice moral que je subis dans 
l'attente de la rparation de la faute lourde par la justice et l'Etat.

Souvenez-vous que la paix civile fut conquise au prix de feu, de 
sang et de sacrifices avec pour objectif le rgne absolu et 
galitaire de la loi.

Imaginez les victimes du 11 septembre 2001 dans un monde 
sans libert, sans justice et sans dmocratie

Imaginez tous les sacrifices de tous les combattants de la libert, 
depuis deux sicles et plus, laisss pour compte et discrdits en 
une seule journe d'attaques perptres par les forces 
diaboliques de l'arbitraire et de l'obscurantisme dans le pays qui a 
donn naissance au reigne de la loi, l'avnement de la 
Rpublique et les droits de l'homme.

Une nouvelle re a commenc o le grand pays que sont les 
Etats Unis vont guider et pour longtemps l'impulsion de l'alerte et 
de la raction pour perptuer la libert et la justice en 
dmocraties. C'est aussi votre combat et le combat de tous les 
hommes libres.

Merci au prsident des Etats Unis pour son leadership, l'immense 
puissance de son pays et sa srnit.
Merci  tous d'avoir lu et compris ce message. 
Merci pour vos ractions et vos contributions.
==========================
Ces contributions sont souhaites  la hauteur de 500 $ ou euros 
et plus pour tous les reprsentants lus des peuples, snateurs et 
dputs, quelque soit leur pays et quelque soit le moyen utilis 
pour les alerter des attaques contre la dmocratie et de la colre 
de l'action Publique en mouvement : "ma tristesse s'est mue en 
colre et la colre en rsolution "!
(ma conviction est que si de tels actes ont pu se produire c'est  
cause d'un climat de permissivit qui a pu s'installer par l'absence 
du contrle de l'excutif par le pouvoir lgislatif).
=======
vous pouvez verser directement vos contributions financires sur 
le compte : 
RIP  RELEVE D'IDENTITE BANCAIRE
20041   01007   1112632 F038  69   
IBAN IDENTIFIANT INTERNATIONAL
FR  53  20041  01007  1112632 F 038  69
Ou envoyer un mandat cash  mon nom et  mon adresse.
================================ 
Les contributions seront libres et bienvenues de la part de tout 
autre citoyen sensible  l'ide de vivre dans une socit pacifie 
par la crainte des lois et la crdibilit des institutions 
dmocratiques.
============

Mon objectif est de runir 10 000 ractions  100 $ ou euros 
chacune : vous pouvez m'aider  atteindre ce but.
Je serai,  coup sr, un homme riche! 
Mais je ne recouvrerai la paix intrieure avant que justice soit 
faite! 
'J'ai un rve"! La justice sera faite !

============
Le site o est publi l'ensemble du dossier est en franais, vous 
pouvez vous aider pour la traduction par un moteur de traduction 
sur internet.
http://haibi.free.fr
============
Cette mailing liste, non exhaustive, est compose de 30 000 
emails :
des reprsentants lus, les reprsentants de l'Etat,  hauts 
fonctionnaires, magistrats, avocats, journalistes, chefs 
d'entreprise, prsident ou membre d'association, profession 
librale ou tout autre simple citoyen intress par la vie sociale, 
administrative et judiciaire.
=======================
Vous pourrez discuter en circuit interne non publi sur le net en 
vous abonnant au groupe cr pour cet objet "Il n'y a pas 
d'alternative  la justice en rpublique en france"
Coordonnes du groupe :
Email du groupe : lecitoyen.laloi.larepublique at smartgroups.com 
Email du gestionnaire : 
lecitoyen.laloi.larepublique-owner at smartgroups.com 
Pour devenir membre : 
lecitoyen.laloi.larepublique-subscribe at smartgroups.com 
Pour ne plus tre membre : 
lecitoyen.laloi.larepublique-unsubscribe at smartgroups.com 
Accueil du groupe : 
http://smartgroups.wanadoo.fr/groups/lecitoyen.laloi.larepubliqu
e
======================
Si vous ne vous sentez pas concern, vous pouvez demander  
ce que votre email soit effacer en exprimant votre volont  
l'adresse email : haibi at free.fr

Merci encore de participer  l'alerte et au suivi de l'action 
publique en mouvement, et au soutien moral et financier de la 
partie civile par l'action.
================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===============================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
==================================================
Vous pourrez recevoir une autre version en anglais.
Ceci n'est pas un spam
Merci!





NEVER SEND SPAM. IT IS BAD.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Sat Jan  5 22:49:08 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Sat, 5 Jan 2002 22:49:08 +0100 (CET)
Subject: [R] R CMD check
In-Reply-To: <XFMail.020104141630.theis@statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.33.0201052243320.2546-100000@tal.stat.umu.se>

I am developing an  R  package named MLife, which I have in several 
versions in a directory:

drwxrwxr-x    7 gb       gb           4096 Jan  5 22:27 ./
drwxrwxr-x   14 gb       gb           4096 Jan  1 18:34 ../
drwxr-xr-x    5 gb       gb           4096 Dec 31 17:48 0.75-26/
drwxr-xr-x    5 gb       gb           4096 Jan  5 22:23 0.75-27/
lrwxrwxrwx    1 gb       gb              7 Jan  5 21:56 MLife -> 0.75-27/

i.e., I make a symlink  'MLife'  to the latest version, and then I try

[gb at tal R]$ R CMD check MLife

and get

[...]
* checking DESCRIPTION Package field ... ERROR
* DESCRIPTION Package field differs from dir name
-----------------------------------------------------------------------
DESCRIPTION contains the package name  MLife. How should I best manage
this? Obviously, the 'dir name' is '0.75-27', and not 'MLife'.

To avoid confusion, if I _copy_ 0.75-27 to MLife, it works fine.

G?ran
-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From haibi at wanadoo.fr  Sat Jan  5 22:50:52 2002
From: haibi at wanadoo.fr (Habib HAIBI)
Date: Sat, 5 Jan 2002 22:50:52 +0100
Subject: [R] Meilleurs Voeux pour 2002 : ann?e de m?moire, de mobilisation, d'action, de justice et de s?r?nit? - Appel au soutien moral et financier
Message-ID: <3c3775163cc1f566@mahonia.wanadoo.fr> (added by mahonia.wanadoo.fr)


Meilleurs Voeux pour 2002 : anne de mmoire, de mobilisation, 
d'action, de justice et de srnit - Appel au soutien moral et 
financier

========================
M. Habib HAIBI,
7, Aguesseau St.
69007 LYON - France
Tl. 00 33 4 72 73 19 08 - Fax 00 33 4 78 61 39 27 
Email : haibi at wanadoo.fr
http://haibi.free.fr


Je suis qualifi pour exprimer mes voeux pour le Nouvel An  
tous les survivants et les familles des victimes des attaques 
terroristes, au peuple amricain, ses dirigeants, ses institutions, 
son prsident et tous les combattants de la libert, loin de leurs 
foyers, tout autour du monde! 

Je suis fier de vous dire avec gratitude combien Les USA sont 
puissants, dmocratiques et qualifis pour dfendre la libert et la 
dmocratie avec humanisme et srnit.

L'ennemi du progrs du genre humain peut encore frapper. La 
libert et la dmocratie peuvent tre encore sous attaques!

Personne ne s'imaginait que cela pouvait arriver et c'est arriv en 
ce jour pacifique du 11 septembre 2001

Personne ne s'imaginait que cela pouvait arriver en France et 
c'est arriv le 26 fvrier 2001 quand les magistrats du parquet de 
Lyon, par impulsion suicidaire et prmdite, ont eu recours  
l'arbitraire pour entraver l'action Publique mise en Mouvement : ils 
ont requis l'expertise psychiatrique de la Partie Civile par l'action 
avant de l'entendre dans ses accusations !

Cette drive obscurantiste a dpass tout entendement

C'est arriv un jour pacifique pour moi et pour les institutions de la 
Rpublique en France.

Le rquisitoire aux fins de l'expertise psychiatrique de la partie 
civile par l'action, avant de l'entendre dans ses accusations, 
constitue une atteinte obscurantiste  l'intgrit de la personne 
de la partie civile et surtout un attentat aux valeurs 
fondamentales de la socit civilise et une infamie assne  la 
Rpublique et ses Institutions:
-  tous les martyrs de la libert qui ont pay de leur vie la 
dfense des personnes et des biens et des valeurs 
fondamentales et universelles de la Rpublique.

-  tous ceux qui dans l'exercice de leurs fonctions, au nom du 
devoir de servir, exposeraient leurs vies, sans hsitation, pour la 
dfense de ces mmes valeurs

-  tous les hommes ou femmes de bonne volont, citoyens 
anonymes, levs sur la foi en une socit pacifie par 
l'avnement de la Rpublique, la crainte des lois et l'indfectibilit 
de l'Etat, de la Justice et des Institutions en Dmocratie.

J'tais, longtemps avant le WTC l'autre "point zro" de la plante 
qui a subit les premires vagues d'attaque contre les institutions 
de la Rpublique, la libert et les droits de l'homme  en France !

Il y a eu trois autres attaques avec la mme dtermination, 
diabolique et suicidaire, de stopper l'action publique 
rgulirement mise en mouvement !

J'ai fait face  l'adversit en mettant en accusation 15 magistrats, 
saisis par la foudre de l'action publique en colre, 
nominativement impliqus, des deux juridictions de Lyon tout rle 
et rang confondus pour abus d'autorit aggrav et trafic 
d'influence aggrav. 

Une fois que vous avez pris la mesure de l'attaque contre les 
valeurs universelles de la libert et la justice en dmocratie en 
France et assimil la grandeur de la querelle qui m'anime  
Votre raction sera vivement souhaite et sollicite !

Je recevrai vos contributions morales et financires comme une 
juste consolation pour le grand prjudice moral que je subis dans 
l'attente de la rparation de la faute lourde par la justice et l'Etat.

Souvenez-vous que la paix civile fut conquise au prix de feu, de 
sang et de sacrifices avec pour objectif le rgne absolu et 
galitaire de la loi.

Imaginez les victimes du 11 septembre 2001 dans un monde 
sans libert, sans justice et sans dmocratie

Imaginez tous les sacrifices de tous les combattants de la libert, 
depuis deux sicles et plus, laisss pour compte et discrdits en 
une seule journe d'attaques perptres par les forces 
diaboliques de l'arbitraire et de l'obscurantisme dans le pays qui a 
donn naissance au reigne de la loi, l'avnement de la 
Rpublique et les droits de l'homme.

Une nouvelle re a commenc o le grand pays que sont les 
Etats Unis vont guider et pour longtemps l'impulsion de l'alerte et 
de la raction pour perptuer la libert et la justice en 
dmocraties. C'est aussi votre combat et le combat de tous les 
hommes libres.

Merci au prsident des Etats Unis pour son leadership, l'immense 
puissance de son pays et sa srnit.
Merci  tous d'avoir lu et compris ce message. 
Merci pour vos ractions et vos contributions.
==========================
Ces contributions sont souhaites  la hauteur de 500 $ ou euros 
et plus pour tous les reprsentants lus des peuples, snateurs et 
dputs, quelque soit leur pays et quelque soit le moyen utilis 
pour les alerter des attaques contre la dmocratie et de la colre 
de l'action Publique en mouvement : "ma tristesse s'est mue en 
colre et la colre en rsolution "!
(ma conviction est que si de tels actes ont pu se produire c'est  
cause d'un climat de permissivit qui a pu s'installer par l'absence 
du contrle de l'excutif par le pouvoir lgislatif).
=======
vous pouvez verser directement vos contributions financires sur 
le compte : 
RIP  RELEVE D'IDENTITE BANCAIRE
20041   01007   1112632 F038  69   
IBAN IDENTIFIANT INTERNATIONAL
FR  53  20041  01007  1112632 F 038  69
Ou envoyer un mandat cash  mon nom et  mon adresse.
================================ 
Les contributions seront libres et bienvenues de la part de tout 
autre citoyen sensible  l'ide de vivre dans une socit pacifie 
par la crainte des lois et la crdibilit des institutions 
dmocratiques.
============

Mon objectif est de runir 10 000 ractions  100 $ ou euros 
chacune : vous pouvez m'aider  atteindre ce but.
Je serai,  coup sr, un homme riche! 
Mais je ne recouvrerai la paix intrieure avant que justice soit 
faite! 
'J'ai un rve"! La justice sera faite !

============
Le site o est publi l'ensemble du dossier est en franais, vous 
pouvez vous aider pour la traduction par un moteur de traduction 
sur internet.
http://haibi.free.fr
============
Cette mailing liste, non exhaustive, est compose de 30 000 
emails :
des reprsentants lus, les reprsentants de l'Etat,  hauts 
fonctionnaires, magistrats, avocats, journalistes, chefs 
d'entreprise, prsident ou membre d'association, profession 
librale ou tout autre simple citoyen intress par la vie sociale, 
administrative et judiciaire.
=======================
Vous pourrez discuter en circuit interne non publi sur le net en 
vous abonnant au groupe cr pour cet objet "Il n'y a pas 
d'alternative  la justice en rpublique en france"
Coordonnes du groupe :
Email du groupe : lecitoyen.laloi.larepublique at smartgroups.com 
Email du gestionnaire : 
lecitoyen.laloi.larepublique-owner at smartgroups.com 
Pour devenir membre : 
lecitoyen.laloi.larepublique-subscribe at smartgroups.com 
Pour ne plus tre membre : 
lecitoyen.laloi.larepublique-unsubscribe at smartgroups.com 
Accueil du groupe : 
http://smartgroups.wanadoo.fr/groups/lecitoyen.laloi.larepubliqu
e
======================
Si vous ne vous sentez pas concern, vous pouvez demander  
ce que votre email soit effacer en exprimant votre volont  
l'adresse email : haibi at free.fr

Merci encore de participer  l'alerte et au suivi de l'action 
publique en mouvement, et au soutien moral et financier de la 
partie civile par l'action.
================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===============================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
===================================================
==================================================
Vous pourrez recevoir une autre version en anglais.
Ceci n'est pas un spam
Merci!





NEVER SEND SPAM. IT IS BAD.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From york at noaa.gov  Sat Jan  5 22:54:10 2002
From: york at noaa.gov (Anne York)
Date: Sat, 5 Jan 2002 13:54:10 -0800 (PST)
Subject: [R] glm deviance question
In-Reply-To: <Pine.LNX.4.31.0201041944550.2100-100000@gannet.stats>
Message-ID: <Pine.GSO.4.05.10201051350230.24043-100000@ofis450a.akctr.noaa.gov>

Prof. ripley is is usual observant self. When I transferred the array to R,
there was a typo which resulted in the glm coefficients to have the same
absolute value but different signs. Sorry for the mistake.
Anne

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Anne E. York
National Marine Mammal Laboratory
Seattle WA 98115-0070  USA
e-mail: anne.york at noaa.gov
Voice: +1 206-526-4039
Fax: +1 206-526-6615
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

On Fri, 4 Jan 2002, Prof Brian Ripley wrote:

>On Fri, 4 Jan 2002, Anne York wrote:
>
>> I am comparing the Splus and R fits of a simple glm.
>> In the following, foo is generated from rbinom with size = 20 p = 0.5.
>> The coefficients (and SE's0 of the fitted models are the same, but the
>> estimated deviances are quite different. Could someone please tell me why
>> they are so different? I am using R version 1.3.1 and Splus 2000 release 3
>> on windows 2000.
>
>I can't reproduce your S-PLUS results.  I get under 3.4 and 6.0:
>
>Coefficients:
>                 Value Std. Error   t value
>(Intercept) -0.1502822  0.1002824 -1.498589
>
>    Null Deviance: 26.47916 on 19 degrees of freedom
>Residual Deviance: 26.47916 on 19 degrees of freedom
>
>so are you sure you did the same thing?  The coefficients are *not* the
>same, BTW (there is a sign change).
>
>>
>> ++++++++++++++++++++++
>> foo <- c(9,  4, 10,  7, 11, 13,  8,  6, 11, 14, 11,
>>          10,  7,  9, 13,  7,  9,  6, 10, 10)
>>
>> foo.glm <- glm(cbind(foo,20-foo)~1,family=binomial)
>>
>> In Splus:
>>
>> summary(foo.glm)
>>
>> Coefficients:
>>                 Value Std. Error  t value
>> (Intercept) 0.1502822  0.1002824 1.498589
>>
>> (Dispersion Parameter for Binomial family taken to be 1 )
>>
>>     Null Deviance: 21.89527 on 19 degrees of freedom
>>
>> Residual Deviance: 21.89527 on 19 degrees of freedom
>>
>>
>> In R:
>>
>> summary(foo.glm)
>>
>> Coefficients:
>>             Estimate Std. Error z value Pr(>|z|)
>> (Intercept)  -0.1503     0.1003  -1.499    0.134
>>
>> (Dispersion parameter for binomial family taken to be 1)
>>
>>     Null deviance: 26.479  on 19  degrees of freedom
>> Residual deviance: 26.479  on 19  degrees of freedom
>> AIC: 96.44
>>
>>
>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>> Anne E. York
>> National Marine Mammal Laboratory
>> Seattle WA 98115-0070  USA
>> e-mail: anne.york at noaa.gov
>> Voice: +1 206-526-4039
>> Fax: +1 206-526-6615
>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>>
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>>
>
>-- 
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hzi at uol.com.br  Sun Jan  6 03:45:22 2002
From: hzi at uol.com.br (hzi@uol.com.br)
Date: Sun, 6 Jan 2002 00:45:22 -0200
Subject: [R] How do I save a figure with postcript()
Message-ID: <20020106004522.A1284@siddhi.uol.com.br>

Hi-

	I have this small data set (this is from Glantz`s
Biostatistics textbook, from the Hebbel et al. paper):

0 0 0 1 1 1 1 1 1 1 1 1 1 1 2 2 2 2 3 3 3 3 4 4 5 5 5 5 6 7 9 10 11
	
	I wanted to produce a histogram+density plot, so I did this
(BTW, I got this from the r-help archives, but it would be nice if
someone included it some of the documents), after scanning the data
set:

histo <- hist(hebbel, xlim = range(dest$x), xlab = "x", ylab = "density", freq=FALSE)
> dens <- lines(dest,lty=2)
	
	Then, I went on to save it as a .ps and an .eps file. As I
understood in the R-intro.pdf:

> postscript("/home/synthespian/r_graphics_test_plot.ps", horizontal=FALSE, height=5, pointsize=10)
> postscript("/home/synthespian/r_graphics_test_plot.eps", horizontal=FALSE, height=5, pointsize=10)

	But this produced a file with 0 Kb (as loaded with xv)!
	And what are some good parameters - height and pointsize?
	Obviously, this is the way to go about it. 
	How do I do it?

	TIA,
	Regs,
	HL

PS: BTW, xlisp-stat has this _nice_ feature which is when you produce
the graphic, you can just click on a widget so save it, change colors,
etc. I wish this were present on R.


	

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jan  6 08:34:58 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 6 Jan 2002 07:34:58 +0000 (GMT)
Subject: [R] How do I save a figure with postcript()
In-Reply-To: <20020106004522.A1284@siddhi.uol.com.br>
Message-ID: <Pine.LNX.4.31.0201060720241.23866-100000@gannet.stats>

On Sun, 6 Jan 2002 hzi at uol.com.br wrote:

> Hi-
>
> 	I have this small data set (this is from Glantz`s
> Biostatistics textbook, from the Hebbel et al. paper):
>
> 0 0 0 1 1 1 1 1 1 1 1 1 1 1 2 2 2 2 3 3 3 3 4 4 5 5 5 5 6 7 9 10 11
>
> 	I wanted to produce a histogram+density plot, so I did this
> (BTW, I got this from the r-help archives, but it would be nice if
> someone included it some of the documents), after scanning the data
> set:

(Eh?  We try to put accurate information in the docs.  This doe snot look
right, and it is certainly incomplete.)

> histo <- hist(hebbel, xlim = range(dest$x), xlab = "x", ylab = "density", freq=FALSE)
> > dens <- lines(dest,lty=2)

hebbel <- scan()
1: 0 0 0 1 1 1 1 1 1 1 1 1 1 1 2 2 2 2 3 3 3 3 4 4 5 5 5 5 6 7 9 10 11
34:
Read 33 items
hist(hebbel, prob = T, nclass = 11)
rug(jitter(hebbel))
lines(density(hebbel, bw="SJ"))

would do a reasonable job, but as this dataset is clearly not a continuous
observation, it is not clear that a density plot is appropriate.


> 	Then, I went on to save it as a .ps and an .eps file. As I
> understood in the R-intro.pdf:
>
> > postscript("/home/synthespian/r_graphics_test_plot.ps", horizontal=FALSE, height=5, pointsize=10)
> > postscript("/home/synthespian/r_graphics_test_plot.eps", horizontal=FALSE, height=5, pointsize=10)

You need to set width too.

> 	But this produced a file with 0 Kb (as loaded with xv)!
> 	And what are some good parameters - height and pointsize?
> 	Obviously, this is the way to go about it.
> 	How do I do it?

You need to plot on the device (so do this first), or use dev.copy2eps to
make a copy.

There is no difference in R between .ps and .eps plots.

> 	TIA,
> 	Regs,
> 	HL
>
> PS: BTW, xlisp-stat has this _nice_ feature which is when you produce
> the graphic, you can just click on a widget so save it, change colors,
> etc. I wish this were present on R.

It is on versions of R with a GUI: on the File menu under Windows, and I
think also on the GNOME GUI.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at beck-marx.de  Sun Jan  6 09:16:49 2002
From: peter at beck-marx.de (Peter Marx)
Date: Sun, 6 Jan 2002 09:16:49 +0100
Subject: [R] How do I save a figure with postcript()
In-Reply-To: <20020106004522.A1284@siddhi.uol.com.br>
References: <20020106004522.A1284@siddhi.uol.com.br>
Message-ID: <20020106081649.GA9142@beck-marx.de>

On Sun, Jan 06, 2002 at 12:45:22AM -0200, hzi at uol.com.br wrote:
[...]
> 	Then, I went on to save it as a .ps and an .eps file. As I
> understood in the R-intro.pdf:
> 
> > postscript("/home/synthespian/r_graphics_test_plot.ps", horizontal=FALSE, height=5, pointsize=10)
> > postscript("/home/synthespian/r_graphics_test_plot.eps", horizontal=FALSE, height=5, pointsize=10)
> 
> 	But this produced a file with 0 Kb (as loaded with xv)!
[...]

Hi,
you have to put:

dev.off()

after your plot statement.


> 	And what are some good parameters - height and pointsize?
> 	Obviously, this is the way to go about it. 
Try without any parameters but the filename. 
It depends on what you want to do with your ps-file.

P.S You can scale ps-files _after_ the creation in size.

-- 
Mit freundlichen Gren:
+--------------------------------------------------------------+
| Peter Marx                                                   |
| E-Mail: peter at beck-marx.de |  Adresse: Hnenbergweg 2a       |
| Tel.  : 07261/1 68 23      |           74889 Sinsheim        |
+--------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at beck-marx.de  Sun Jan  6 09:24:19 2002
From: peter at beck-marx.de (Peter Marx)
Date: Sun, 6 Jan 2002 09:24:19 +0100
Subject: [R] How do I save a figure with postcript()
In-Reply-To: <20020106004522.A1284@siddhi.uol.com.br>
References: <20020106004522.A1284@siddhi.uol.com.br>
Message-ID: <20020106082419.GA9232@beck-marx.de>

On Sun, Jan 06, 2002 at 12:45:22AM -0200, hzi at uol.com.br wrote:
additional suggestion:

you have to open the postscript device first, and then the put your plot
statement. And at the end comes the dev.off()

-- 
Mit freundlichen Gren:
+--------------------------------------------------------------+
| Peter Marx                                                   |
| E-Mail: peter at beck-marx.de |  Adresse: Hnenbergweg 2a       |
| Tel.  : 07261/1 68 23      |           74889 Sinsheim        |
+--------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun Jan  6 12:21:06 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 06 Jan 2002 12:21:06 +0100
Subject: [R] plotting missing data patterns
References: <3C3614A7.1030908@theriver.com>
Message-ID: <3C383322.3D90D45D@statistik.uni-dortmund.de>

"Patrick E. McKnight" wrote:
> 
> I have one other problem and then I'll stop and get back to writing.  I
> want to plot a missing data matrix (the R matrix a la Little and Rubin)
> to graphically depict where the missing data lie in the matrix.  Some
> statistical packages produce a graphical depiction of the missing data
> patterns by plotting the matrix, color-coding the plot with contrasting
> colors for either missing or present.
> 
> So far, I have fumbled my way through parts of it but I can't figure out
> what I am doing wrong.  Here is my situation....
> 
> Dataset...now sorted the way I want it (thanks)
> 
>  > newcouple
>     id age sex iv1 iv2 dv mdpf
> 2   0   0   0   0   0  0    1
> 3   0   0   0   0   0  0    1
> 5   0   0   0   0   0  0    1
> 7   0   0   0   0   0  0    1
> 9   0   1   0   0   0  0    3
> 6   0   0   1   0   0  0    5
> 10  0   0   0   1   0  0    9
> 1   0   0   0   0   1  0   17
> 4   0   0   0   0   0  1   33
> 8   0   0   0   0   0  1   33
> 
> # begin code
> 
> # create matrix from data.frame for easy indexing
> 
>  > dummy <- as.matrix(newcouple)
> 
> # create new vectors to later plot
> 
> x <- mat.or.vec(1,1)
> y <- mat.or.vec(1,1)
> 
> # define default plotting information with par
> 
> par(bg="black",pch=22)
> 
> # create new frame for plotting
> 
> plot.new()
> 
> # loop through the matrix to only plot a square for the observations and
> # variables that are missing
> 
>      for (i in 1:nrow(dummy)){
>        for (j in 1:ncol(dummy)){
>          if (dummy[i,j] == 1){
> 
> # record the coordinates for the missing values to plot with a points
> # call later
> 
>             y <- append(y,i)
>             x <- append(x,j)
>           }
>        }
>      }
> 
> # points to plot from my
> 
>      points(x,y,bg="white")
> 
> # end code
> 
> The graphical output is just a black window with one point plotted (0,0
> I think).  What am I doing wrong?  

You did not set the dimensions in plot.window() after calling
plot.new().

I would suggest to use image() instead of your code:

 dummy <- as.matrix(newcouple)
 image(x = 1:nrow(dummy), y = 1:ncol(dummy), z = dummy,
     breaks = c(min(dummy), 0, 1, max(dummy)), col = c(1, 0, 1))


*Your* code can be simplified (loops) and corrected as follows (the
"reversed" colours are the most complicated thing):

 dummy <- as.matrix(newcouple)
 x <- col(dummy)[dummy==1]
 y <- row(dummy)[dummy==1]
 par(bg="black", fg="white", col.axis="white", col.lab="white", 
     col.sub="white", col.main="white", pch=22)
 plot(x, y, type="n")
 points(x,y)



> The points function does not appear
> to be adding the extra points the way I want it to add them to the same
> display window.
> 
> In the end, I would like to have either a black background with white
> squares (holes) or a white background with black squares to represent
> where the data are missing.  I will adjust the squares to an appropriate
> size later.  I know that there are other procedures for graphically
> depicting missing data but I (and my colleagues) want this graph for now.


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Sun Jan  6 16:01:36 2002
From: ozric at web.de (ozric@web.de)
Date: Sun, 6 Jan 2002 16:01:36 +0100
Subject: [R] only atomic vectors can be sorted ?
Message-ID: <200201061501.g06F1ZC24461@mailgate5.cinetic.de>

hello,
i want use the crossTableFunction from "Kickstart Document"
and use the iris-Data as example to prepare my dataSets !
....how i should transform the iris dataSet that this function works?

thanks for advance,
christian


 xtab<-function(formula,dataframe,dnn=NULL,fieldwidth=10,chisq=F) {
+  if(!missing(formula) && !missing(dataframe)) {
+   xt<-as.character(attr(terms(formula),"variables")[-1])
+   nxt<-length(xt)
+   if(nxt > 2) {
+    by.factor<-as.factor(dataframe[[xt[2]]])
+    factor.levels<-levels(by.factor)
+    nlevels<-length(factor.levels)
+    brkstats<-as.list(rep(0,nlevels))
+    names(brkstats)<-factor.levels
+    for(i in 1:nlevels) {
+     currentdata<-subset(dataframe,by.factor == factor.levels[i])
+     currentcount<-length(currentdata[[1]])
+     totalcount<-length(dataframe[[1]])
+     cat("\nCount for",xt[1],"=",factor.levels[i],"is",
+      currentcount,"(",round(100*currentcount/totalcount,1),"%)\n\n")
+     next.formula<-as.formula(paste(paste("~"),paste(xt[2:nxt],collapse="+")))
+     xtab(next.formula,currentdata,dnn,fieldwidth,chisq)
+    }
+   }
+   else format.xtab(xt[1],xt[2],dataframe,dnn,fieldwidth,chisq)
+  }
+  else cat("Usage: xtab(formula[, dnn=NULL, fieldwidth = 10, chisq = F])\n")
+ }
> names(iris)
[1] "Sepal.Length" "Sepal.Width"  "Petal.Length" "Petal.Width"  "Species"    
> xtab(iris$Sepal.Length~iris$Species,iris)
Error in sort(x) : only atomic vectors can be sorted



______________________________________________________________________________
DSL-Stichtag ist der 31.12.2001 - Sie sparen jetzt noch 135 Euro!
Highspeed-Surfen beim Testsieger + Exklusiv-Pr?mien: http://dsl.web.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ku.edu  Sun Jan  6 17:35:51 2002
From: pauljohn at ku.edu (Paul Johnson)
Date: Sun, 06 Jan 2002 10:35:51 -0600
Subject: [R] New RH7.2 rpms for R-hdf5 support available
Message-ID: <3C387CE7.30209@ku.edu>

HDF5 is a high quality data storage format from NCSA 
(http://hdf.ncsa.uiuc.edu/index.html) Marcus Daniels of the Swarm 
Development Group has made available an R library called hdf5 which 
allows loading and saving of data in hdf5 format. The source for his 
library is here:

ftp://ftp.swarm.org/pub/swarm/src/testing/hdf5_1.4.7.tar.gz

I prefer to use RPMs to maintain software across many linux systems, so 
I  have the RPM for this R library here:

http://lark.cc.ukans.edu/~pauljohn/software/R-hdf5-1.4.7.R1.4.0-1.i386.rpm

The SRPM is in the same directory.

Please note in order to use this you have to have hdf5 (duh!) and I have 
the rpm for the required version 1.4.2 in that same software directory. 
   Because of slight changes in RH7.2 in the ssl libraries, it is 
necessary to use the RPM I built explicitly for RH7.2:

http://lark.cc.ukans.edu/~pauljohn/software/hdf5-1.4.2-1RH72.i386.rpm

I've been providing these RPMS for more than..., well, for a long time, 
and I expect to continue, so you have no need to fear  you are adopting 
a format that won't be supported for long.  And, even if I quit, the 
NCSA folk have bent over forwards and backwards to make the hdf5 
libraries build on many many platforms.

This data storage format has many things to recommend it, none of which 
I am technically qualified to explain to you :)  But, in R you can make 
use of hdf5save to store the data in a format that might be communicated 
to another platform without corruption. If you have a newish copy of 
Swarm on your system, then you can make hdf5 datasets that have vector, 
or "time series" sorts of data in them.  High precision storage of 
floating point numbers, etc.
-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ku.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jan  6 18:15:06 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 6 Jan 2002 17:15:06 +0000 (GMT)
Subject: [R] only atomic vectors can be sorted ?
In-Reply-To: <200201061501.g06F1ZC24461@mailgate5.cinetic.de>
Message-ID: <Pine.LNX.4.31.0201061712220.27579-100000@gannet.stats>

On Sun, 6 Jan 2002 ozric at web.de wrote:

> hello,
> i want use the crossTableFunction from "Kickstart Document"

Why?  R has xtabs, and

> xtabs(Sepal.Length~Species,iris)
Species
    setosa versicolor  virginica
     250.3      296.8      329.4

works, although it is to a dataset of frequencies so

	xtabs(~Species,iris)

is a more typical usage.


> and use the iris-Data as example to prepare my dataSets !
> ....how i should transform the iris dataSet that this function works?
>
> thanks for advance,
> christian
>
>
>  xtab<-function(formula,dataframe,dnn=NULL,fieldwidth=10,chisq=F) {
> +  if(!missing(formula) && !missing(dataframe)) {
> +   xt<-as.character(attr(terms(formula),"variables")[-1])
> +   nxt<-length(xt)
> +   if(nxt > 2) {
> +    by.factor<-as.factor(dataframe[[xt[2]]])
> +    factor.levels<-levels(by.factor)
> +    nlevels<-length(factor.levels)
> +    brkstats<-as.list(rep(0,nlevels))
> +    names(brkstats)<-factor.levels
> +    for(i in 1:nlevels) {
> +     currentdata<-subset(dataframe,by.factor == factor.levels[i])
> +     currentcount<-length(currentdata[[1]])
> +     totalcount<-length(dataframe[[1]])
> +     cat("\nCount for",xt[1],"=",factor.levels[i],"is",
> +      currentcount,"(",round(100*currentcount/totalcount,1),"%)\n\n")
> +     next.formula<-as.formula(paste(paste("~"),paste(xt[2:nxt],collapse="+")))
> +     xtab(next.formula,currentdata,dnn,fieldwidth,chisq)
> +    }
> +   }
> +   else format.xtab(xt[1],xt[2],dataframe,dnn,fieldwidth,chisq)
> +  }
> +  else cat("Usage: xtab(formula[, dnn=NULL, fieldwidth = 10, chisq = F])\n")
> + }
> > names(iris)
> [1] "Sepal.Length" "Sepal.Width"  "Petal.Length" "Petal.Width"  "Species"
> > xtab(iris$Sepal.Length~iris$Species,iris)
> Error in sort(x) : only atomic vectors can be sorted
>
>
>
> ______________________________________________________________________________
> DSL-Stichtag ist der 31.12.2001 - Sie sparen jetzt noch 135 Euro!
> Highspeed-Surfen beim Testsieger + Exklusiv-Prmien: http://dsl.web.de
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pem at theriver.com  Sun Jan  6 21:54:19 2002
From: pem at theriver.com (Patrick E. McKnight)
Date: 06 Jan 2002 13:54:19 -0700
Subject: [R] plotting missing data patterns
In-Reply-To: <3C383322.3D90D45D@statistik.uni-dortmund.de>
References: <3C3614A7.1030908@theriver.com> 
	<3C383322.3D90D45D@statistik.uni-dortmund.de>
Message-ID: <1010350459.9562.8.camel@copernicus.mcknightconsulting.com>

Uwe,

Thanks for the suggestion.  I followed Andy Liaw's advice and used image
instead of plot.  I can't believe there are so many things available in
R and most of which I simply overlook!  Thanks again for your helpful
suggestions.

Cheers,

Patrick


On Sun, 2002-01-06 at 04:21, Uwe Ligges wrote:
> "Patrick E. McKnight" wrote:
> > 
> > I have one other problem and then I'll stop and get back to writing.  I
> > want to plot a missing data matrix (the R matrix a la Little and Rubin)
> > to graphically depict where the missing data lie in the matrix.  Some
> > statistical packages produce a graphical depiction of the missing data
> > patterns by plotting the matrix, color-coding the plot with contrasting
> > colors for either missing or present.
> > 
> > So far, I have fumbled my way through parts of it but I can't figure out
> > what I am doing wrong.  Here is my situation....
> > 
> > Dataset...now sorted the way I want it (thanks)
> > 
> >  > newcouple
> >     id age sex iv1 iv2 dv mdpf
> > 2   0   0   0   0   0  0    1
> > 3   0   0   0   0   0  0    1
> > 5   0   0   0   0   0  0    1
> > 7   0   0   0   0   0  0    1
> > 9   0   1   0   0   0  0    3
> > 6   0   0   1   0   0  0    5
> > 10  0   0   0   1   0  0    9
> > 1   0   0   0   0   1  0   17
> > 4   0   0   0   0   0  1   33
> > 8   0   0   0   0   0  1   33
> > 
> > # begin code
> > 
> > # create matrix from data.frame for easy indexing
> > 
> >  > dummy <- as.matrix(newcouple)
> > 
> > # create new vectors to later plot
> > 
> > x <- mat.or.vec(1,1)
> > y <- mat.or.vec(1,1)
> > 
> > # define default plotting information with par
> > 
> > par(bg="black",pch=22)
> > 
> > # create new frame for plotting
> > 
> > plot.new()
> > 
> > # loop through the matrix to only plot a square for the observations and
> > # variables that are missing
> > 
> >      for (i in 1:nrow(dummy)){
> >        for (j in 1:ncol(dummy)){
> >          if (dummy[i,j] == 1){
> > 
> > # record the coordinates for the missing values to plot with a points
> > # call later
> > 
> >             y <- append(y,i)
> >             x <- append(x,j)
> >           }
> >        }
> >      }
> > 
> > # points to plot from my
> > 
> >      points(x,y,bg="white")
> > 
> > # end code
> > 
> > The graphical output is just a black window with one point plotted (0,0
> > I think).  What am I doing wrong?  
> 
> You did not set the dimensions in plot.window() after calling
> plot.new().
> 
> I would suggest to use image() instead of your code:
> 
>  dummy <- as.matrix(newcouple)
>  image(x = 1:nrow(dummy), y = 1:ncol(dummy), z = dummy,
>      breaks = c(min(dummy), 0, 1, max(dummy)), col = c(1, 0, 1))
> 
> 
> *Your* code can be simplified (loops) and corrected as follows (the
> "reversed" colours are the most complicated thing):
> 
>  dummy <- as.matrix(newcouple)
>  x <- col(dummy)[dummy==1]
>  y <- row(dummy)[dummy==1]
>  par(bg="black", fg="white", col.axis="white", col.lab="white", 
>      col.sub="white", col.main="white", pch=22)
>  plot(x, y, type="n")
>  points(x,y)
> 
> 
> 
> > The points function does not appear
> > to be adding the extra points the way I want it to add them to the same
> > display window.
> > 
> > In the end, I would like to have either a black background with white
> > squares (holes) or a white background with black squares to represent
> > where the data are missing.  I will adjust the squares to an appropriate
> > size later.  I know that there are other procedures for graphically
> > depicting missing data but I (and my colleagues) want this graph for now.
> 
> 
> Uwe Ligges


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Sun Jan  6 22:53:38 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Sun, 6 Jan 2002 22:53:38 +0100
Subject: [R] How to get setGeneric() to work?
Message-ID: <KKEGJOGBELBHDIKPINBMMECMCJAA.hb@maths.lth.se>

Dear all, I can't see how setGeneric() works. I know perfectly well how to
define

 library(methods);

 setClass("Square", representation(side="numeric"));

 # Will become the default method.
 getArea <- function(object) {
   stop(paste("Method getArea() is not defined for this class:",
      data.class(object)));
 }

 setMethod("getArea", "Square", function(object) object at side^2);

 # TEST
 sq <- Square(8);
 area <- getArea(sq);

However, when use setGeneric() explicitly without defining getArea();

 setGeneric("getArea", function(object) {
   stop(paste("Method getArea() is not defined for this class:",
              data.class(object)));
 })

the getArea(sq) call will give:

 "Error in getArea(sq) : Method getArea() is not defined for this class:
Square"

which is not what I expected (I would expect the same as the code above). I
believe I miss something, but what?

Thanks

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h  . s e
http://www.maths.lth.se/matstat/staff/hb/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sean at seanoneill.info  Mon Jan  7 02:24:36 2002
From: sean at seanoneill.info (Sean O'Neill)
Date: Sun, 06 Jan 2002 19:24:36 -0600
Subject: [R] Help with displaying multiple data elements on one graph
Message-ID: <5.1.0.14.0.20020106191707.00a82f90@postoffice.swbell.net>

I'm interested if anyone can help me to the R to display multiple data 
elements on one graph - just a simple graph, nothing fancy.  I can't seem 
to find an example of this.  An example of what I'm looking for is, say, a 
CPU graph which graphs user, system, and idle time as a cumulative stack 
representing each data element as a different color.  See the following URL 
for an example of this graph generated by RRDtool (which is sort of a bad 
example as there is no idle time on my SS20):

http://chivas.seanoneill.info/orca/o_gauge_usr_pct,o_gauge_sys_pct,o_gauge_wio_pct,o_gauge_idle_pct-daily.html

Any help appreciated.


-
........................................................
......... ..- -. .. -..- .-. ..- .-.. . ... ............
.-- .. -. -... .-.. --- .-- ... -.. .-. --- --- .-.. ...

Sean O'Neill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at team.telstra.com  Mon Jan  7 02:27:23 2002
From: John.Strumila at team.telstra.com (Strumila, John)
Date: Mon, 7 Jan 2002 12:27:23 +1100 
Subject: [R] internet2 and proxies
Message-ID: <61411576E951D211AF330008C7245DD90BFEE767@ntmsg0005.corpmail.telstra.com.au>

gday R gurus,

I've never attempted to use download.file before on my win2k machine but
this version 1.4 looks exciting.  However, I'm not getting something right.

I've passed my R shortcut --internet2 and I can tell it's using the wininet
calls because it's asking about authentication but how do I tell it my
username/password?

The help file only talks about user/pw for non wininet and I've searched
cran.  I thought wininet should prompt me via a dialog box.  I'm running
ie5.

thanks,
John Strumila


> {a <- CRAN.packages()
+ install.packages(select.list(a[,1],,TRUE), .libPaths()[1], available=a)}
trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  : 
        cannot open: HTTP status was `407 Proxy Authentication Required'
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Mon Jan  7 07:47:25 2002
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Mon, 07 Jan 2002 19:47:25 +1300
Subject: [R] Help with displaying multiple data elements on one graph
References: <5.1.0.14.0.20020106191707.00a82f90@postoffice.swbell.net>
Message-ID: <3C39447D.9080306@stat.auckland.ac.nz>

Sean O'Neill wrote:
> I'm interested if anyone can help me to the R to display multiple data 
> elements on one graph - just a simple graph, nothing fancy.  I can't 
> seem to find an example of this.  An example of what I'm looking for is, 
> say, a CPU graph which graphs user, system, and idle time as a 
> cumulative stack representing each data element as a different color.  
> See the following URL for an example of this graph generated by RRDtool 


Here's a sketch which may or may not help.  (It looks like you are
drawing a plot made up of bars - you could do something similar
with polygons.)  I would

- - - s n i p - - h e r e - - -

# First create some fake data.  The data will be in the form
# of a matrix, with each row summing to 100.

# Start by generating a matrix of random uniforms and adding 4.
x <- matrix(runif(200), nc=4) + 4

# Compute the row sums and normalise each row by its sum.
rowsums <- apply(x, 1, "sum")
y <- 100 * apply(x, 2, "/", rowsums)

# Now replace each row by its cummulative sums
# The t() is needed to get the right shape
z <- t(apply(y, 1, "cumsum"))

# Get the "x" values to plot against (YMMV).
xvals <- 1:nrow(z)

# Ok, we're ready to plot.
# Start a new plot and set up the plot window.
# The xaxs= and yaxs= remove the 6% padding at the plot edges.
plot.new()
plot.window(xlim = c(0, nrow(z)), ylim=c(0, 100),
      xaxs="i", yaxs = "i")

# Now draw the bars for each time interval.
for(i in 4:1)
   rect(xvals - 1, 0, xvals, z[,i], col = i + 1, border = NA)

# Finally add the cross-hatching grid and axes.
# I've rotated the labels on the y axis so they are horizontal.
abline(h = seq(5, 95, by = 5))
abline(v = seq(5, 45, by = 5))
axis(1)
axis(2, las=1)
box()

-- 
Ross Ihaka                         Email:  ihaka at stat.auckland.ac.nz
Department of Statistics           Phone:  (64-9) 373-7599 x 5054
University of Auckland             Fax:    (64-9) 373-7018
Private Bag 92019, Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan  7 09:22:42 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 7 Jan 2002 08:22:42 +0000 (GMT)
Subject: [R] internet2 and proxies
In-Reply-To: <61411576E951D211AF330008C7245DD90BFEE767@ntmsg0005.corpmail.telstra.com.au>
Message-ID: <Pine.LNX.4.31.0201070817050.28200-100000@gannet.stats>

On Mon, 7 Jan 2002, Strumila, John wrote:

> gday R gurus,
>
> I've never attempted to use download.file before on my win2k machine but
> this version 1.4 looks exciting.  However, I'm not getting something right.

Actually, it's unchanged for a while.

> I've passed my R shortcut --internet2 and I can tell it's using the wininet
> calls because it's asking about authentication but how do I tell it my
> username/password?
>
> The help file only talks about user/pw for non wininet and I've searched
> cran.  I thought wininet should prompt me via a dialog box.  I'm running
> ie5.

You thought wrong: that's not what it is documented (by Microsoft) to do.
Where did that idea come from?

>From the same help file (download.file.Rd)

  There is an alternative method if you have Internet Explorer 4 or
  later installed.   You can use the flag \code{--internet2}, when
  the `Internet Options' of the system are used to choose proxies and so
  on; these are set in the Control Panel and are those used for Internet
  Explorer.  This version does not support \code{cacheOK = FALSE}.

Clear enough?  This worked for people under 1.3.1, and we've had not
contrary reports for 1.4.0.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rboylan at cba.ua.edu  Sat Jan  5 17:26:37 2002
From: rboylan at cba.ua.edu (Boylan, Richard)
Date: Sat, 5 Jan 2002 10:26:37 -0600 
Subject: [R] R-WinEdt question - answer
Message-ID: <CB97A6F10E8BD311B014009027CC65A602437085@majestic.cba.ua.edu>


The answer to my question was contained in
http://cran.r-project.org/contrib/extra/winedt/ReadMe ,
although it helped to receive the restatements that were emailed to me. 

As mentioned by Uwe Ligges, Renuad Lancelot, Niels Waller, my mistake was
not starting R before
using R-WindEdt.

Below I will copy the instructions on using R-WinEdt by Renaud Lancelot
(except for the last paragraph which is by Uwe Ligges) in case they can be
of help to anyone else.

Thank you very much for the clear answers.

INSTRUCTION ON USING R-WINEDT  -- RENAUD LANCELOT, UWE LIGGES

 - Install R (rw1020 or later)

  - Install WinEdt 5 (V. 5.2, Build: 20001213 or later)
    Note: WinEdt is Shareware (http://www.winedt.com).

  - Unzip the archive into directory ....\winedt\plugins\r-winedt
    (e.g. "c:\program files\winedt\plugins\r-winedt")
    If the directory does not exist, you have to create it manually.

** check that this was correctly done

  - In your Windows-Explorer double-click on "install.bat".

** works only if the previous step was right

  - If you are running RGui in multiple windows style (MDI), the default mod
    unchanged. For RGui in single window style (SDI) or if you want to use R
    S-Plus, you can change the R-WinEdt mode permanently(!) using the Menu, 
    R -> Set R --sdi mode

** I did not have to do anything at this point.

  - In R use something like (for example in your .Rprofile):
   options(editor"\"c:/program files/winedt/winedt\"-c\"R-WinEdt-edit\" -er.ini -V") 
   options(pager"\"c:/program files/winedt/winedt\" -C\"R-WinEdt\" -er.ini -V")

** Careful: R Windows versions, this file is called Rprofile (without the dot)
** and is located in the etc directory (C:\Program Files\rw1031\etc for me).
** However, this is optional: I implemented it on my office computer
** but not on my home PC (pure laziness !). It allows displaying help files
** in a WinEdt window, which is more convenient and stable than with the default
** R pager.
** Be careful with the / and \. I did not change anything to the aboveand
** it works (just make sure that the paths are correct for you)

  - To invoke WinEdt from startmenu or desktop create a link to WinEdt
    as follows:
    "c:\program files\winedt\winedt" -C"R-WinEdt" -er.ini

** check that the path is correct. Specify a relevant starting directory
for your needs.

Once the setup is complete and correct , you have to create a new 
file (file menu or small icon at the left of the main menu. Type some R commands
and then source the file (after saving it) or select the lines you want
to run and do Alt + P or click on the "R <- paste" icon.

You will find a screen copy I just made on my computer which might be
clearer...
 <<R-WinEdt.jpg>>   {{{deleted from mailing list; it's too long; find it at
		       ftp://stat.ethz.ch/Software/R/R-WinEdt.jpg -- MM}}

ALT+l sends a line, ALT+p sends marked text or ALT+s to
source() the current file into R. The shortcuts can also be accessed in
the menu.

Note: As a default setting, RGui.exe has to be started in MDI mode at
first (and cannot minimized - known but unsolvable bug).

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.whiting at ncl.ac.uk  Sun Jan  6 15:55:01 2002
From: david.whiting at ncl.ac.uk (david.whiting@ncl.ac.uk)
Date: Sun, 6 Jan 2002 09:55:01 -0500 (EST)
Subject: [R] Passing names of variables to functions
Message-ID: <Pine.LNX.4.30.0201060934100.2752-100000@pluto.ammp>

Hi,

I am still new to R and have a programming question. I have created a
small function which takes a parameter. In the function I want to be able
to refer to the names of the variables sent to the function (specifically
I want to be able to use the name of the variable given to the function in
an output table). For example, in the following (fictional) function I
want some way of printing "x" instead of "myvar" (i.e. the letter "x" and
not the value of x).


myfunc <- function(myvar)
{
cat("Name of input var:", name_of_myvar, "\t", "Value * 2:", myvar * 2)
}

x <- 3

myfunc(x)

Name of input var: x	Value * 2: 6

So, how do I get that name_of_myvar bit? I've tried looking through the
help files and cannot find out how to do this. Any ideas?


Thanks,

Dave.


-- 
David Whiting
Adult Morbidity and Mortality Project (AMMP)
PO Box 65243
Aga Khan Foundation Building - Ground Floor
Plot No 344 Urambo Street
Upanga
Dar es Salaam
Tanzania

Tel: +255 22 2153388
Fax: +255 22 2153385

Email: david.whiting at ncl.ac.uk
AMMP website: www.ncl.ac.uk/ammp


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Jan  7 11:11:05 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 07 Jan 2002 11:11:05 +0100
Subject: [R] Passing names of variables to functions
References: <Pine.LNX.4.30.0201060934100.2752-100000@pluto.ammp>
Message-ID: <3C397439.6B6C4B8B@statistik.uni-dortmund.de>



david.whiting at ncl.ac.uk wrote:
> 
> Hi,
> 
> I am still new to R and have a programming question. I have created a
> small function which takes a parameter. In the function I want to be able
> to refer to the names of the variables sent to the function (specifically
> I want to be able to use the name of the variable given to the function in
> an output table). For example, in the following (fictional) function I
> want some way of printing "x" instead of "myvar" (i.e. the letter "x" and
> not the value of x).
> 
> myfunc <- function(myvar)
> {
> cat("Name of input var:", name_of_myvar, "\t", "Value * 2:", myvar * 2)
> }
>
> x <- 3
> 
> myfunc(x)
> 
> Name of input var: x    Value * 2: 6
> 
> So, how do I get that name_of_myvar bit? I've tried looking through the
> help files and cannot find out how to do this. Any ideas?

deparse(substitute(myvar))

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.whiting at ncl.ac.uk  Mon Jan  7 20:19:19 2002
From: david.whiting at ncl.ac.uk (david.whiting@ncl.ac.uk)
Date: Mon, 7 Jan 2002 14:19:19 -0500 (EST)
Subject: [R] Legend placement in barplots
Message-ID: <Pine.LNX.4.30.0201071413310.10185-100000@pluto.ammp>

Hi,

I am trying to use R to create some reasonably automatic output for
routine monitoring. Some of these outputs are simple bar charts. I need to
create something similar to an excel bar chart (yuk!, I know...:) which
places the legend at the bottom of the chart.

barplot() place the legend over the chart and can potentially cover some
of the detail (especially if the bars are numerous and thin). legend()
allows me to position the legend but, as the example below shows, still
only within the chart area. How can I place the legend below or to the
right of a bar plot? Do I need to use plot.new() and build it up myself?

Example:
--------
barplot(1:3, legend.text = c("cats", "dogs", "cows"))
legend(1,0.5, c("cats", "dogs", "cows"))
legend(1,0.1, c("cats", "dogs", "cows"))

Thanks,

Dave.


-- 
David Whiting
Adult Morbidity and Mortality Project (AMMP)
PO Box 65243
Aga Khan Foundation Building - Ground Floor
Plot No 344 Urambo Street
Upanga
Dar es Salaam
Tanzania

Tel: +255 22 2153388
Fax: +255 22 2153385

Email: david.whiting at ncl.ac.uk
AMMP website: www.ncl.ac.uk/ammp


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Mon Jan  7 13:06:44 2002
From: stuart.leask at nottingham.ac.uk (Stuart Leask)
Date: Mon, 7 Jan 2002 12:06:44 -0000
Subject: [R] Recoding variable levels in R
References: <Pine.LNX.4.30.0201060934100.2752-100000@pluto.ammp>
Message-ID: <010e01c19773$c6185080$f2e1f380@nottingham.ac.uk>

Hi there. When I wished to recode two variables in SPSS, I could use the
command RECODE:

recode VAR1 VAR2 VAR3 etc. (1=0) (2=1) (3,MISSING=SYSMIS) (else=0).

In R, I can 'hand-crank' each variable (using ifelse, or if the data is in a
matrix by logical tests, or no doubt numerous other methods) one variable
and one level at a time, but is there a more general function available?

Stuart

Dr Stuart Leask MA MRCPsych, Clinical Lecturer in Psychiatry
University of Nottingham Dept of Psychiatry, Duncan Macmillan House
Porchester Road, Nottingham. NG3 6AA. UK
http://www.nottingham.ac.uk/psychiatry/staff/sjl.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.barron at jesus.ox.ac.uk  Mon Jan  7 13:22:50 2002
From: david.barron at jesus.ox.ac.uk (David Barron)
Date: Mon, 7 Jan 2002 12:22:50 -0000
Subject: [R] Recoding variable levels in R
References: <Pine.LNX.4.30.0201060934100.2752-100000@pluto.ammp> <010e01c19773$c6185080$f2e1f380@nottingham.ac.uk>
Message-ID: <001101c19776$06837c60$cb8801a3@sbs.ox.ac.uk>

Use the recode function in the car package.

David

----- Original Message -----
From: "Stuart Leask" <stuart.leask at nottingham.ac.uk>
To: <r-help at stat.math.ethz.ch>
Sent: Monday, January 07, 2002 12:06 PM
Subject: [R] Recoding variable levels in R


> Hi there. When I wished to recode two variables in SPSS, I could use the
> command RECODE:
>
> recode VAR1 VAR2 VAR3 etc. (1=0) (2=1) (3,MISSING=SYSMIS) (else=0).
>
> In R, I can 'hand-crank' each variable (using ifelse, or if the data is in
a
> matrix by logical tests, or no doubt numerous other methods) one variable
> and one level at a time, but is there a more general function available?
>
> Stuart
>
> Dr Stuart Leask MA MRCPsych, Clinical Lecturer in Psychiatry
> University of Nottingham Dept of Psychiatry, Duncan Macmillan House
> Porchester Road, Nottingham. NG3 6AA. UK
> http://www.nottingham.ac.uk/psychiatry/staff/sjl.html
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stefano.calza at unimi.it  Mon Jan  7 13:49:47 2002
From: stefano.calza at unimi.it (stefano)
Date: Mon, 07 Jan 2002 13:49:47 +0100
Subject: [R] Gail model
Message-ID: <20020107124947.GA7723@stefano>


Hi everybody and happy new year.
Is there anybody who has written a R version of the Gail et al. model (J. Natl. Cancer Inst 1989 vol81 no 24 pag 1879-1886)?

TIA,

Stefano

-- 
Stefano Calza
Istituto di Statistica Medica e Biometria
Universita' degli Studi di Milano
Via G. Venezian, 1
20133 Milano

tel. +39 02/2361302, 02/70600908
fax 02/2362930
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Mon Jan  7 14:48:00 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Mon, 7 Jan 2002 08:48:00 -0500 (EST)
Subject: [R] Recoding variable levels in R
Message-ID: <200201071348.g07Dm0v06709@cattell.psych.upenn.edu>

>From: "Stuart Leask" <stuart.leask at nottingham.ac.uk>
>
>Hi there. When I wished to recode two variables in SPSS, I could use the
>command RECODE:
>
>recode VAR1 VAR2 VAR3 etc. (1=0) (2=1) (3,MISSING=SYSMIS) (else=0).
>
>In R, I can 'hand-crank' each variable (using ifelse, or if the data is in a
>matrix by logical tests, or no doubt numerous other methods) one variable
>and one level at a time, but is there a more general function available?
>
>Stuart

See recode() in the package called car

For other methods of recoding, see sections 4.4 and 4.5 of
http://www.psych.upenn.edu/~baron/rpsych.htm
(which is a bit out of date, but still true).

Jon Baron

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ulrich.arndt at vodafone.de  Mon Jan  7 15:07:37 2002
From: ulrich.arndt at vodafone.de (Arndt, Ulrich, VF-VP)
Date: Mon, 7 Jan 2002 15:07:37 +0100 
Subject: [R] R-WinEdt question - answer
Message-ID: <8615625410DAD511BB2200508BB85FE81882EA@pc034018.mm.mannesmann.de>

Very good description. 
I gues that there is one error tree times copied:

-e=r.ini NOT -er.ini

so the correct rows are:

   options(editor"\"c:/program files/winedt/winedt\"-c\"R-WinEdt-edit\"
-e=r.ini -V") 
   options(pager"\"c:/program files/winedt/winedt\" -C\"R-WinEdt\" -e=r.ini
-V")

   "c:\program files\winedt\winedt" -C"R-WinEdt" -e=r.ini

Regards

         Ulrich

-----Original Message-----
From: Boylan, Richard [mailto:rboylan at cba.ua.edu]
Sent: Saturday, January 05, 2002 5:27 PM
To: 'r-help at lists.R-project.org'
Subject: [R] R-WinEdt question - answer



The answer to my question was contained in
http://cran.r-project.org/contrib/extra/winedt/ReadMe ,
although it helped to receive the restatements that were emailed to me. 

As mentioned by Uwe Ligges, Renuad Lancelot, Niels Waller, my mistake was
not starting R before
using R-WindEdt.

Below I will copy the instructions on using R-WinEdt by Renaud Lancelot
(except for the last paragraph which is by Uwe Ligges) in case they can be
of help to anyone else.

Thank you very much for the clear answers.

INSTRUCTION ON USING R-WINEDT  -- RENAUD LANCELOT, UWE LIGGES

 - Install R (rw1020 or later)

  - Install WinEdt 5 (V. 5.2, Build: 20001213 or later)
    Note: WinEdt is Shareware (http://www.winedt.com).

  - Unzip the archive into directory ....\winedt\plugins\r-winedt
    (e.g. "c:\program files\winedt\plugins\r-winedt")
    If the directory does not exist, you have to create it manually.

** check that this was correctly done

  - In your Windows-Explorer double-click on "install.bat".

** works only if the previous step was right

  - If you are running RGui in multiple windows style (MDI), the default mod
    unchanged. For RGui in single window style (SDI) or if you want to use R
    S-Plus, you can change the R-WinEdt mode permanently(!) using the Menu, 
    R -> Set R --sdi mode

** I did not have to do anything at this point.

  - In R use something like (for example in your .Rprofile):
   options(editor"\"c:/program files/winedt/winedt\"-c\"R-WinEdt-edit\"
-er.ini -V") 
   options(pager"\"c:/program files/winedt/winedt\" -C\"R-WinEdt\" -er.ini
-V")

** Careful: R Windows versions, this file is called Rprofile (without the
dot)
** and is located in the etc directory (C:\Program Files\rw1031\etc for me).
** However, this is optional: I implemented it on my office computer
** but not on my home PC (pure laziness !). It allows displaying help files
** in a WinEdt window, which is more convenient and stable than with the
default
** R pager.
** Be careful with the / and \. I did not change anything to the aboveand
** it works (just make sure that the paths are correct for you)

  - To invoke WinEdt from startmenu or desktop create a link to WinEdt
    as follows:
    "c:\program files\winedt\winedt" -C"R-WinEdt" -er.ini

** check that the path is correct. Specify a relevant starting directory
for your needs.

Once the setup is complete and correct , you have to create a new 
file (file menu or small icon at the left of the main menu. Type some R
commands
and then source the file (after saving it) or select the lines you want
to run and do Alt + P or click on the "R <- paste" icon.

You will find a screen copy I just made on my computer which might be
clearer...
 <<R-WinEdt.jpg>>   {{{deleted from mailing list; it's too long; find it at
		       ftp://stat.ethz.ch/Software/R/R-WinEdt.jpg -- MM}}

ALT+l sends a line, ALT+p sends marked text or ALT+s to
source() the current file into R. The shortcuts can also be accessed in
the menu.

Note: As a default setting, RGui.exe has to be started in MDI mode at
first (and cannot minimized - known but unsolvable bug).

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


---------------------------------------------------------
This Mail has been checked for Viruses
Attention: Encrypted mails can NOT be checked!

**

Diese Mail wurde auf Viren geprueft
Hinweis: Verschluesselte mails koennen NICHT auf Viren geprueft werden!
---------------------------------------------------------


---------------------------------------------------------
This Mail has been checked for Viruses
Attention: Encrypted mails can NOT be checked!

**

Diese Mail wurde auf Viren geprueft
Hinweis: Verschluesselte mails koennen NICHT auf Viren geprueft werden!
---------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmc at research.bell-labs.com  Mon Jan  7 15:10:23 2002
From: jmc at research.bell-labs.com (John Chambers)
Date: Mon, 07 Jan 2002 09:10:23 -0500
Subject: [R] How to get setGeneric() to work?
References: <KKEGJOGBELBHDIKPINBMMECMCJAA.hb@maths.lth.se>
Message-ID: <3C39AC4F.7AD81578@research.bell-labs.com>

Henrik Bengtsson wrote:
> 
> Dear all, I can't see how setGeneric() works. 

setGeneric initializes the generic function.  It doesn't have to be
called if you want the current, ordinary function of the same name to
become the default method (not a bad idea, even if you want that method
to generate an error message, as in this example).

See the examples starting on page 348 of "Programming with Data", which
also explains when you might want to call setGeneric.

If you DO use setGeneric with an explicit definition, you're asserting
that that definition does method dispatch somewhere in the body of the
function (again, see the examples in the book).  The call in your
example doesn't do any method dispatch (no call to standardGeneric).

If you wanted to create getArea as a function with no default method,
that can be done by:

   setGeneric("getArea", function(object)standardGeneric("getArea"))

If you then call setMethod for class "Square", things will go as before.


>  I know perfectly well how to
> define
> 
>  library(methods);
> 
>  setClass("Square", representation(side="numeric"));
> 
>  # Will become the default method.
>  getArea <- function(object) {
>    stop(paste("Method getArea() is not defined for this class:",
>       data.class(object)));
>  }
> 
>  setMethod("getArea", "Square", function(object) object at side^2);
> 
>  # TEST
>  sq <- Square(8);
>  area <- getArea(sq);
> 
> However, when use setGeneric() explicitly without defining getArea();
> 
>  setGeneric("getArea", function(object) {
>    stop(paste("Method getArea() is not defined for this class:",
>               data.class(object)));
>  })
> 
> the getArea(sq) call will give:
> 
>  "Error in getArea(sq) : Method getArea() is not defined for this class:
> Square"
> 
> which is not what I expected (I would expect the same as the code above). I
> believe I miss something, but what?
> 
> Thanks
> 
> Henrik Bengtsson
> 
> Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
> Lund Institute of Technology/Lund University, Sweden (+2h UTC)
> Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
> h b @ m a t h s . l t h  . s e
> http://www.maths.lth.se/matstat/staff/hb/
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
John M. Chambers                  jmc at bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From heberto.ghezzo at mcgill.ca  Mon Jan  7 15:29:37 2002
From: heberto.ghezzo at mcgill.ca (Heberto Ghezzo)
Date: Mon, 07 Jan 2002 09:29:37 -0500
Subject: [R] compiling packages
Message-ID: <3C39B0D1.CE664FB9@mcgill.ca>

Hello, happy new year to all.
The new Year gave me a new computer with Win98 and promptly I installed
R on it.
I created a directory R, with subdirectories gcc, perl,bin, helpwrk and
rw1040.
I got rw1040 from BDR place, the rest were gotter from the internet in
the last week of the year, i.e. they are the newest versions.
I modified autoexec.bat to put gcc\bin, perl\bin, etc in the path. I put
the BDR util.zip programs in bin.
I created a directory Dunnett with subdirectories src, r, man in
c:/r/rw1040/src/library.
I opened the dos window cd to c:/r/rw1040/src/gnuwin32 and type make
libR.a
it works and created a libR.a of 1.1 Mb
Then I typed:

Rcmd INSTALL c:/r/rw1040/src/library/Dunnett

and got :

make: Entering directory '/cygdrive/c/r/rw1040/src/gnuwin32'
make DLLNM= \
 -C c:/r/rw1040/src/library/Dunnett PKG=Dunnett RHOME=c:/r/rw1040
RLIB=c:/r/rw1040/library \
 -f c:/r/rw1040/src/gnuwin32/MakePkg
make[1]: Entering directory '/cygdrive/c/r/rw1040/src/library/Dunnett'
make[1]: /bin/sh.exe: Command not found
make[1]: *** [C:/r/rw1040/library/Dunnett/zzzz] Error 127
make[1]: Leaving directory '/cygdrive/c/r/rw1040/src/library/Dunnett'
make: *** [pkg-Dunnett] Error 2
make: Leaving directory '/cygdrive/c/r/rw1040/src/gnuwin32'
*** Installation of Dunnett failed ***

directory Dunnet/Contents, DESCRIPTION,Index,Title as per instructions
directory Dunnett/man/pdunnett.Rd,qdunnett.Rd
directory Dunnett/R/Dunnett
directory Dunnett/src/Dunnett.f

Can somebopdy tell me what I forgot to do?
Thanks
--
R. Heberto Ghezzo Ph.D.
Meakins-Christie Labs
McGill University
Montreal  -  Canada


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Jan  7 16:10:09 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 07 Jan 2002 16:10:09 +0100
Subject: [R] compiling packages
References: <3C39B0D1.CE664FB9@mcgill.ca>
Message-ID: <3C39BA51.756FE2A9@statistik.uni-dortmund.de>

Heberto Ghezzo wrote:
> 
> Hello, happy new year to all.
> The new Year gave me a new computer with Win98 and promptly I installed
> R on it.
> I created a directory R, with subdirectories gcc, perl,bin, helpwrk and
> rw1040.
> I got rw1040 from BDR place, the rest were gotter from the internet in
> the last week of the year, i.e. they are the newest versions.
> I modified autoexec.bat to put gcc\bin, perl\bin, etc in the path. I put
> the BDR util.zip programs in bin.
> I created a directory Dunnett with subdirectories src, r, man in
> c:/r/rw1040/src/library.
> I opened the dos window cd to c:/r/rw1040/src/gnuwin32 and type make
> libR.a
> it works and created a libR.a of 1.1 Mb
> Then I typed:
> 
> Rcmd INSTALL c:/r/rw1040/src/library/Dunnett
> 
> and got :
> 
> make: Entering directory '/cygdrive/c/r/rw1040/src/gnuwin32'
> make DLLNM= \
>  -C c:/r/rw1040/src/library/Dunnett PKG=Dunnett RHOME=c:/r/rw1040
> RLIB=c:/r/rw1040/library \
>  -f c:/r/rw1040/src/gnuwin32/MakePkg
> make[1]: Entering directory '/cygdrive/c/r/rw1040/src/library/Dunnett'
> make[1]: /bin/sh.exe: Command not found
> make[1]: *** [C:/r/rw1040/library/Dunnett/zzzz] Error 127
> make[1]: Leaving directory '/cygdrive/c/r/rw1040/src/library/Dunnett'
> make: *** [pkg-Dunnett] Error 2
> make: Leaving directory '/cygdrive/c/r/rw1040/src/gnuwin32'
> *** Installation of Dunnett failed ***
> 
> directory Dunnet/Contents, DESCRIPTION,Index,Title as per instructions
> directory Dunnett/man/pdunnett.Rd,qdunnett.Rd
> directory Dunnett/R/Dunnett
> directory Dunnett/src/Dunnett.f
> 
> Can somebopdy tell me what I forgot to do?


a) From Brian Ripley's page:
"You may need to copy sh.exe to c:\bin\sh.exe; the exact circumstances
are mysterious."
( http://www.stats.ox.ac.uk/pub/Rtools/ )

b) did you modify ...\src\gnuwin32\MkRules properly?

c) It's a good idea to follow the instructions in the manuals and
readmes EXACTLY!

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Mon Jan  7 16:21:48 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Mon, 7 Jan 2002 10:21:48 -0500
Subject: [R] Is r-announce alive?
Message-ID: <15417.48396.741930.653052@gargle.gargle.HOWL>

I sent a message to <r-announce at stat.math.ethz.ch> last Thursday ("New package:
colSums"), and still haven't seen it echoed on r-help or on the web archive (in
fact there is no r-announce web archive for 2002).  Is something broken?  Did I
need to use <r-announce at lists.R-project.org> instead?
-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Jan  7 17:09:25 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 7 Jan 2002 17:09:25 +0100
Subject: [R] Is r-announce alive?
In-Reply-To: <15417.48396.741930.653052@gargle.gargle.HOWL>
References: <15417.48396.741930.653052@gargle.gargle.HOWL>
Message-ID: <15417.51253.353493.356039@gargle.gargle.HOWL>

>>>>> "DavidB" == David Brahm <brahm at alum.mit.edu> writes:

    DavidB> I sent a message to <r-announce at stat.math.ethz.ch>
    DavidB> last Thursday ("New package: colSums"), and still
    DavidB> haven't seen it echoed on r-help or on the web
    DavidB> archive (in fact there is no r-announce web archive
    DavidB> for 2002).  Is something broken?  Did I need to use
    DavidB> <r-announce at lists.R-project.org> instead?  -- --
    DavidB> David Brahm (brahm at alum.mit.edu)

no. but you need to be subscribed to R-announce or R-help
(by +- the same address that you are posting) -- which you are not.

{yes, I see I got a "BOUNCED .." e-mail from your posting which I
 didn't get to deal with because it was drowned in many  others...}

Reason: By this measure, R-announce is even more protected from
	spam -- in order to try to keep it low volume for
	important announcements.

{BTW: If anyone is considering changing the subscription 
      from R-help to R-help-digest, please also (or even in the 1st place)
      subscribe to R-announce}

your mailing list maintainer,
Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan  7 17:14:54 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 7 Jan 2002 16:14:54 +0000 (GMT)
Subject: [R] compiling packages
In-Reply-To: <3C39B0D1.CE664FB9@mcgill.ca>
Message-ID: <Pine.LNX.4.31.0201071613500.31985-100000@gannet.stats>

On Mon, 7 Jan 2002, Heberto Ghezzo wrote:

> Hello, happy new year to all.
> The new Year gave me a new computer with Win98 and promptly I installed
> R on it.
> I created a directory R, with subdirectories gcc, perl,bin, helpwrk and
> rw1040.
> I got rw1040 from BDR place, the rest were gotter from the internet in
> the last week of the year, i.e. they are the newest versions.
> I modified autoexec.bat to put gcc\bin, perl\bin, etc in the path. I put
> the BDR util.zip programs in bin.
> I created a directory Dunnett with subdirectories src, r, man in
> c:/r/rw1040/src/library.
> I opened the dos window cd to c:/r/rw1040/src/gnuwin32 and type make
> libR.a
> it works and created a libR.a of 1.1 Mb
> Then I typed:
>
> Rcmd INSTALL c:/r/rw1040/src/library/Dunnett
>
> and got :
>
> make: Entering directory '/cygdrive/c/r/rw1040/src/gnuwin32'
> make DLLNM= \
>  -C c:/r/rw1040/src/library/Dunnett PKG=Dunnett RHOME=c:/r/rw1040
> RLIB=c:/r/rw1040/library \
>  -f c:/r/rw1040/src/gnuwin32/MakePkg
> make[1]: Entering directory '/cygdrive/c/r/rw1040/src/library/Dunnett'
> make[1]: /bin/sh.exe: Command not found
> make[1]: *** [C:/r/rw1040/library/Dunnett/zzzz] Error 127
> make[1]: Leaving directory '/cygdrive/c/r/rw1040/src/library/Dunnett'
> make: *** [pkg-Dunnett] Error 2
> make: Leaving directory '/cygdrive/c/r/rw1040/src/gnuwin32'
> *** Installation of Dunnett failed ***
>
> directory Dunnet/Contents, DESCRIPTION,Index,Title as per instructions
> directory Dunnett/man/pdunnett.Rd,qdunnett.Rd
> directory Dunnett/R/Dunnett
> directory Dunnett/src/Dunnett.f
>
> Can somebopdy tell me what I forgot to do?

Copy sh.exe to /bin/sh.exe, on the drive you are using?


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Stacey.Hartley at pnl.gov  Mon Jan  7 17:39:53 2002
From: Stacey.Hartley at pnl.gov (Hartley, Stacey A)
Date: Mon, 07 Jan 2002 08:39:53 -0800
Subject: [R] dos command line
Message-ID: <29E6E93D92576F4DB85FE89FF2C23F4401B7EFCD@pnlmse03.pnl.gov>

You can, indeed, do this.  My coworker showed me how.  Rename the filename you
want to run from the dos command line to ".Rprofile" and voila, you may type
Rterm .Rprofile at the command line and the file will run.  Actually, you only
need to type Rterm at the command line, as it will automatically source in
.Rprofile. The only requirement is to be in the same directory.  Obviously, be
careful in the future to keep directories separate if you don't want that
particular file running automatically every time you call R.

Hope this helps others out there!

Stacey 

-----Original Message-----
From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
Sent: Wednesday, January 02, 2002 1:57 PM
To: Hartley, Stacey A
Cc: 'r-help at stat.math.ethz.ch'
Subject: Re: [R] dos command line


There is no port of R to DOS, and R does not run from the DOS command
line.  It does run from the Windows command prompt, and there I think you
are looking for Rterm --no-save < filename.

Looking in the rw-FAQ would have saved your sanity: it's in Q2.7.

You can also do this sort of thing in other shells, e.g. tcsh and bash
under Windows.

On Wed, 2 Jan 2002, Hartley, Stacey A wrote:

> I am an Splus user trying to use R for a specific project where the client
> needs the programs to be run in R.  Before the holidays, I figured out how
> to run an R file from the dos command line--it worked great!  The command is
> "Rterm something filename".  I can't remember what it is now, and it is
> driving me nuts. Anyone know? I know I'll feel pretty stupid once the answer
> is given...I am running R.1.4.0 pre-release on my PC.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan  7 18:07:38 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 7 Jan 2002 17:07:38 +0000 (GMT)
Subject: [R] dos command line
In-Reply-To: <29E6E93D92576F4DB85FE89FF2C23F4401B7EFCD@pnlmse03.pnl.gov>
Message-ID: <Pine.LNX.4.31.0201071705070.32074-100000@gannet.stats>

On Mon, 7 Jan 2002, Hartley, Stacey A wrote:

> You can, indeed, do this.  My coworker showed me how.  Rename the filename you
> want to run from the dos command line to ".Rprofile" and voila, you may type

No, as I said, it's the WINDOWS command line.

> Rterm .Rprofile at the command line and the file will run.  Actually, you only
> need to type Rterm at the command line, as it will automatically source in
> .Rprofile. The only requirement is to be in the same directory.  Obviously, be
> careful in the future to keep directories separate if you don't want that
> particular file running automatically every time you call R.
>
> Hope this helps others out there!

Please don't do this. .Rprofile is not intended to be used like this, and
it doesn't handle R code in a completely standard way.  Please do use the
solution given in the rw-FAQ or in my posting, quoted here.

>
> Stacey
>
> -----Original Message-----
> From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
> Sent: Wednesday, January 02, 2002 1:57 PM
> To: Hartley, Stacey A
> Cc: 'r-help at stat.math.ethz.ch'
> Subject: Re: [R] dos command line
>
>
> There is no port of R to DOS, and R does not run from the DOS command
> line.  It does run from the Windows command prompt, and there I think you
> are looking for Rterm --no-save < filename.
>
> Looking in the rw-FAQ would have saved your sanity: it's in Q2.7.
>
> You can also do this sort of thing in other shells, e.g. tcsh and bash
> under Windows.
>
> On Wed, 2 Jan 2002, Hartley, Stacey A wrote:
>
> > I am an Splus user trying to use R for a specific project where the client
> > needs the programs to be run in R.  Before the holidays, I figured out how
> > to run an R file from the dos command line--it worked great!  The command is
> > "Rterm something filename".  I can't remember what it is now, and it is
> > driving me nuts. Anyone know? I know I'll feel pretty stupid once the answer
> > is given...I am running R.1.4.0 pre-release on my PC.
>
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Mon Jan  7 18:16:10 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Mon, 7 Jan 2002 12:16:10 -0500 (EST)
Subject: [R] ESS with Xemacs? [vs. Emacs, slightly off topic]
Message-ID: <200201071716.g07HGAm27518@cattell.psych.upenn.edu>

I decided to try out Xemacs instead of Emacs in Linux (RH 7.2).
After doing lots of configuration of Xemacs, I finally discovered
a major problem.  

With Emacs, when I use R, I start Emacs twice (at least), in
different viewports, once as
 emacs -f R
and once as
 emacs myfile.R

Then I try commands in the first one, and, when they work (which
isn't very often), I cut the command with C-w, switich to the
other viewport, and yank it into myfile.R with C-y.  This takes
very few keystrokes and does not require the mouse.  Then
myfile.R has something I can re-run (about 1/10 the size of
.Rhistory).

It seems that you can't do this in Xemacs.  In particular, the
kill buffer is not common to the various Xemacs processes that
are running, unlike Emacs.

I tried running the R process and myfile.R as bufffers in one
Xemacs process, and this worked OK until I also tried help.  Then
I had three buffers, and it took many many keystrokes to switch
from one to the other.

I know that some people really like Xemacs with R.  Can you give
any advice?  In the meantime I've gone back to Emacs.  Sigh.

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jan  7 18:27:48 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Jan 2002 18:27:48 +0100
Subject: [R] dos command line
In-Reply-To: <Pine.LNX.4.31.0201071705070.32074-100000@gannet.stats>
References: <Pine.LNX.4.31.0201071705070.32074-100000@gannet.stats>
Message-ID: <x2advqf4vf.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:


> Please don't do this. .Rprofile is not intended to be used like this, and
> it doesn't handle R code in a completely standard way.  Please do use the
> solution given in the rw-FAQ or in my posting, quoted here.

> >
> > There is no port of R to DOS, and R does not run from the DOS command
> > line.  It does run from the Windows command prompt, and there I think you
> > are looking for Rterm --no-save < filename.
> >
> > Looking in the rw-FAQ would have saved your sanity: it's in Q2.7.

What might be missing here is that you can put that stuff in a batch
file or edit the command in a shortcut or menu entry so that it
becomes completely invisible to the end user?

(BTW: Windows 98 itself insists that the Windows command line in the
black window is an "MSDOS prompt", so little wonder that users get
confused...)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Mon Jan  7 19:18:32 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Mon, 07 Jan 2002 13:18:32 -0500
Subject: [R] RE: New package: colSums
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8460@usrymx10.merck.com>

David,
 
> - colVars is very naive, e.g. I'm probably exacerbating 
> roundoff error when
>   mu >> sigma.  I personally don't worry because in finance, 
> mu (return) is
>   never >> sigma (risk) :-).  The S-Plus documentation for 
> colVars claims they
>   do something fancy with the "two-pass method described in 
> Chan, Golub, and
>   LeVeque (1983)" that I don't know anything about.

The formula in that paper is essentially

  Sum(X-Xbar)^2 - (1/N)(Sum(X - Xbar))^2 

which corrects for roundoff errors.  This is quite effective, at minimal
computational cost.

Cheers,
Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Jan  7 19:52:40 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 07 Jan 2002 19:52:40 +0100
Subject: [R] Legend placement in barplots
References: <Pine.LNX.4.30.0201071413310.10185-100000@pluto.ammp>
Message-ID: <3C39EE78.2BCD02B7@statistik.uni-dortmund.de>

david.whiting at ncl.ac.uk wrote:
> 
> Hi,
> 
> I am trying to use R to create some reasonably automatic output for
> routine monitoring. Some of these outputs are simple bar charts. I need to
> create something similar to an excel bar chart (yuk!, I know...:) which
> places the legend at the bottom of the chart.
> 
> barplot() place the legend over the chart and can potentially cover some
> of the detail (especially if the bars are numerous and thin). legend()
> allows me to position the legend but, as the example below shows, still
> only within the chart area. How can I place the legend below or to the
> right of a bar plot? Do I need to use plot.new() and build it up myself?
> 
> Example:
> --------
> barplot(1:3, legend.text = c("cats", "dogs", "cows"))
> legend(1,0.5, c("cats", "dogs", "cows"))
> legend(1,0.1, c("cats", "dogs", "cows"))

The solution is to play around with the magic of par():

 par("mar")	# borders, see ?par
  # [1] 5.1 4.1 4.1 2.1
  # Now increase size of the bottom-border:
 par(mar=c(10.1, 4.1, 4.1, 2.1))
  # And set cpd=TRUE, so all plotting is clipped to the figure 
  # (not the plot) region:
 par(xpd=TRUE)
  # Your barplot:
 bp <- barplot(1:3) 
  # Text for the legend:
 legend.text <- c("cats", "dogs", "cows")
  # And plot the legend below the existing plot:
 legend(1,-0.5, legend.text, fill=heat.colors(length(legend.text)))
  # Or much nicer, center the legend:
 legend(mean(range(b)), -0.5, legend.text, xjust = 0.5,
	fill=heat.colors(length(legend.text)))

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Mon Jan  7 20:38:28 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Mon, 7 Jan 2002 20:38:28 +0100
Subject: [R] How to get setGeneric() to work?
In-Reply-To: <3C39AC4F.7AD81578@research.bell-labs.com>
Message-ID: <KKEGJOGBELBHDIKPINBMAEDBCJAA.hb@maths.lth.se>

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of John Chambers
> Sent: Monday, January 07, 2002 3:10 PM
> To: Henrik Bengtsson
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] How to get setGeneric() to work?
>
>
> Henrik Bengtsson wrote:
> >
> > Dear all, I can't see how setGeneric() works.
>
> setGeneric initializes the generic function.  It doesn't have to be
> called if you want the current, ordinary function of the same name to
> become the default method (not a bad idea, even if you want that method
> to generate an error message, as in this example).
>
> See the examples starting on page 348 of "Programming with Data", which
> also explains when you might want to call setGeneric.
>
> If you DO use setGeneric with an explicit definition, you're asserting
> that that definition does method dispatch somewhere in the body of the
> function (again, see the examples in the book).  The call in your
> example doesn't do any method dispatch (no call to standardGeneric).
>
> If you wanted to create getArea as a function with no default method,
> that can be done by:
>
>    setGeneric("getArea", function(object)standardGeneric("getArea"))
>
> If you then call setMethod for class "Square", things will go as before.

I totally missunderstood what standardGeneric() did; I though it generated a
default method for getArea (I am stuck in the S3/UseMethod way of think). My
misstake and thanks for clearing it out. I tried to backtrack why I
missunderstood it and reading help page for GenericFunctions (setGeneric and
standardGeneric etc);

`setGeneric': If there is already a non-generic function of this
          name, it will be used to define the generic unless `def' is
          supplied, and the current function will become the default
          method for the generic.

          If `def' is supplied, this defines the generic function, and
          no default method will exist (often a good feature, if the
          function should only be available for a meaningful subset of
          all objects).
...
`standardGeneric': Generic functions should usually have a call to
          `standardGeneric' as their entire body.  They can, however,
          do any other computations as well.

          The usual `setGeneric' (directly or through calling
          `setMethod') creates a function with a call to
          `standardGeneric'.

I believe that I interpreted the "If there is already a non-generic function
of this name, it will be used to define the generic" (together with the last
sentence of standardGeneric) to say that by doing setGeneric("foo", def=foo)
the function foo would be called as the default method. Do you see where it
could be misunderstood? Maybe a clarifaction is needed?

What I wanted to do in my initial message was:

 setGeneric("getArea", function(object) standardGeneric("getArea"));
 setMethod("getArea", "ANY", function(object) {
   stop(paste("Method getArea() is not defined for this class:",
              data.class(object)));
 })

I didn't though about using "ANY" as the ONLY argument in the signature. (A
method defined with signature equal to "ANY" is, similar to the
getArea.default function when using UseMethod (S3 style) method dispatching,
called when no other signature is found to match the call).

> >  I know perfectly well how to
> > define
> >
> >  library(methods);
> >
> >  setClass("Square", representation(side="numeric"));
> >
> >  # Will become the default method.
> >  getArea <- function(object) {
> >    stop(paste("Method getArea() is not defined for this class:",
> >       data.class(object)));
> >  }
> >
> >  setMethod("getArea", "Square", function(object) object at side^2);
> >
> >  # TEST
> >  sq <- Square(8);
> >  area <- getArea(sq);
> >
> > However, when use setGeneric() explicitly without defining getArea();
> >
> >  setGeneric("getArea", function(object) {
> >    stop(paste("Method getArea() is not defined for this class:",
> >               data.class(object)));
> >  })
> >
> > the getArea(sq) call will give:
> >
> >  "Error in getArea(sq) : Method getArea() is not defined for this class:
> > Square"
> >
> > which is not what I expected (I would expect the same as the
> code above). I
> > believe I miss something, but what?
> >
> > Thanks
> >
> > Henrik Bengtsson
> >
> > Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
> > Lund Institute of Technology/Lund University, Sweden (+2h UTC)
> > Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
> > h b @ m a t h s . l t h  . s e
> > http://www.maths.lth.se/matstat/staff/hb/
> >
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._
>
> --
> John M. Chambers                  jmc at bell-labs.com
> Bell Labs, Lucent Technologies    office: (908)582-2681
> 700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
> Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._


I appreciate your help!

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e
http://www.maths.lth.se/matstat/staff/hb/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marimont at nxpdata.com  Tue Jan  8 00:39:31 2002
From: marimont at nxpdata.com (David Marimont)
Date: Mon, 07 Jan 2002 15:39:31 -0800
Subject: [R] is then an equivalent of partition.tree for rpart?
Message-ID: <3C3A31B3.8050508@nxpdata.com>

partition.tree plots in 2d the partition of a classification tree produced by the function
tree (assuming the data frame from which it was computed has two continuous predictors).
I get an error when I feed a tree produced by rpart to partition.tree (since trees
produced by rpart are superclasses of those produced by tree).  Is there an equivalent of
partition.tree for objects of class rpart?  Actually, what I'd really like is one that
worked for any number of continuous predictors, but let me choose which two to plot.  Thanks.

   David Marimont
   NXP Data Analysis, Inc.
   http://www.nxpdata.com

P.S.  All terminology is approximate.  Corrections welcome.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Tue Jan  8 00:44:15 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Mon, 7 Jan 2002 18:44:15 -0500 
Subject: [R] ESS with Xemacs? [vs. Emacs, slightly off topic]
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF150@groexmbcr02.pfizer.com>


Probably what is happening is that emacs is checking if it is already
running and not starting separate executables.  Two solutions:

1) Open a second emacs window explicitly...

	open xemacs once with
		xemacs myfile.R
	then do 
		<Control>-x 5 2
	or 'File'->'New Frame'
	to get a second window.  In that one do <Meta>-X R.


   Or the other way around

	open xemacs once with
		xemacs -f R
	and then use 'File'->'Open in New Window' to open the second file.

2) Use gnuclient to open the second window...  (you may need to put
"(gnuserv-start)" in your .emacs file for this to work).

	xemacs -f R
	gnuclient myfile.R

	
-Greg


 >  -----Original Message-----
 >  From: baron at cattell.psych.upenn.edu
 >  [mailto:baron at cattell.psych.upenn.edu]
 >  Sent: Monday, January 07, 2002 12:16 PM
 >  To: r-help at stat.math.ethz.ch
 >  Subject: [R] ESS with Xemacs? [vs. Emacs, slightly off topic]
 >  
 >  
 >  I decided to try out Xemacs instead of Emacs in Linux (RH 7.2).
 >  After doing lots of configuration of Xemacs, I finally discovered
 >  a major problem.  
 >  
 >  With Emacs, when I use R, I start Emacs twice (at least), in
 >  different viewports, once as
 >   emacs -f R
 >  and once as
 >   emacs myfile.R
 >  
 >  Then I try commands in the first one, and, when they work (which
 >  isn't very often), I cut the command with C-w, switich to the
 >  other viewport, and yank it into myfile.R with C-y.  This takes
 >  very few keystrokes and does not require the mouse.  Then
 >  myfile.R has something I can re-run (about 1/10 the size of
 >  .Rhistory).
 >  
 >  It seems that you can't do this in Xemacs.  In particular, the
 >  kill buffer is not common to the various Xemacs processes that
 >  are running, unlike Emacs.
 >  
 >  I tried running the R process and myfile.R as bufffers in one
 >  Xemacs process, and this worked OK until I also tried help.  Then
 >  I had three buffers, and it took many many keystrokes to switch
 >  from one to the other.
 >  
 >  I know that some people really like Xemacs with R.  Can you give
 >  any advice?  In the meantime I've gone back to Emacs.  Sigh.
 >  
 >  Jon Baron
 >  -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
 >  -.-.-.-.-.-.-.-.-.-
 >  r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From indra_calisto at yahoo.com  Tue Jan  8 05:36:11 2002
From: indra_calisto at yahoo.com (Indrajit SenGupta)
Date: Tue, 8 Jan 2002 10:06:11 +0530
Subject: [R] Interactive
Message-ID: <MABBJPBLPNLDIFMIAAOJIEBLCDAA.indra_calisto@yahoo.com>

My Mail StationeryIs it possible to have interactive graphic display in R
just like S-Plus?

______________________
Indrajit SenGupta
Department Of Statistics
St. Xavier's College
Calcutta University
indra_calisto at yahoo.com
indrajitsg at vsnl.net

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020108/da21bbc9/attachment.html

From ripley at stats.ox.ac.uk  Tue Jan  8 08:32:01 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 8 Jan 2002 07:32:01 +0000 (GMT)
Subject: [R] is then an equivalent of partition.tree for rpart?
In-Reply-To: <3C3A31B3.8050508@nxpdata.com>
Message-ID: <Pine.LNX.4.31.0201080728010.15878-100000@gannet.stats>

On Mon, 7 Jan 2002, David Marimont wrote:

> partition.tree plots in 2d the partition of a classification tree produced by the function
> tree (assuming the data frame from which it was computed has two continuous predictors).
> I get an error when I feed a tree produced by rpart to partition.tree (since trees
> produced by rpart are superclasses of those produced by tree).  Is there an equivalent of

They are not a superclass.  The help page is I think out of date on this.
There used to be a function as.tree, but that has gone I see.

> partition.tree for objects of class rpart?  Actually, what I'd really like is one that
> worked for any number of continuous predictors, but let me choose which two to plot.  Thanks.

That's not really possible.  You can't plot the partition in a 2D space
unless only two vars are involved, and partition.tree checks that out.

>    David Marimont
>    NXP Data Analysis, Inc.
>    http://www.nxpdata.com
>
> P.S.  All terminology is approximate.  Corrections welcome.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Jan  8 09:08:14 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 8 Jan 2002 09:08:14 +0100
Subject: [R] Legend placement in barplots -- use horiz = TRUE
In-Reply-To: <3C39EE78.2BCD02B7@statistik.uni-dortmund.de>
References: <Pine.LNX.4.30.0201071413310.10185-100000@pluto.ammp>
	<3C39EE78.2BCD02B7@statistik.uni-dortmund.de>
Message-ID: <15418.43246.100571.536301@gargle.gargle.HOWL>

>>>>> "Uwe" == Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:

    Uwe> david.whiting at ncl.ac.uk wrote:
    >> 
    >> Hi,
    >> 
    >> I am trying to use R to create some reasonably automatic output for
    >> routine monitoring. Some of these outputs are simple bar charts. I need to
    >> create something similar to an excel bar chart (yuk!, I know...:) which
    >> places the legend at the bottom of the chart.
    >> 
    >> barplot() place the legend over the chart and can potentially cover some
    >> of the detail (especially if the bars are numerous and thin). legend()
    >> allows me to position the legend but, as the example below shows, still
    >> only within the chart area. How can I place the legend below or to the
    >> right of a bar plot? Do I need to use plot.new() and build it up myself?
    >> 
    >> Example:
    >> --------
    >> barplot(1:3, legend.text = c("cats", "dogs", "cows"))
    >> legend(1,0.5, c("cats", "dogs", "cows"))
    >> legend(1,0.1, c("cats", "dogs", "cows"))

    Uwe> The solution is to play around with the magic of par():

    Uwe> par("mar")	# borders, see ?par
    Uwe>  # [1] 5.1 4.1 4.1 2.1
    Uwe>  # Now increase size of the bottom-border:
    Uwe> par(mar=c(10.1, 4.1, 4.1, 2.1))
    Uwe>  # And set xpd=TRUE, so all plotting is clipped to the figure 
    Uwe>  # (not the plot) region:
    Uwe> par(xpd=TRUE)
    Uwe>  # Your barplot:
    Uwe> bp <- barplot(1:3) 
    Uwe>  # Text for the legend:
    Uwe> legend.text <- c("cats", "dogs", "cows")
    Uwe>  # And plot the legend below the existing plot:
    Uwe> legend(1,-0.5, legend.text, fill=heat.colors(length(legend.text)))
    Uwe>  # Or much nicer, center the legend:
    Uwe> legend(mean(range(bp)), -0.5, legend.text, xjust = 0.5,
    Uwe>        fill=heat.colors(length(legend.text)))

  (I've corrected two typos)

Note that it becomes quite a bit nicer to use the (relatively new)
argument `` horiz = TRUE '' with legend() -- you also need much
less margin space : 


## Example again :

 ## increase size of the bottom-border:
 par(mar= c(6, 4, 4, 2) + .1)
 ## Set xpd=TRUE, so all plotting is clipped to the figure 
 ## (not the plot) region:
 par(xpd=TRUE)
 ## Your barplot:
 bp <- barplot(1:3) 
 ## Text for the legend:
 legend.text <- c("cats", "dogs", "cows")
 ## And plot the legend below the existing plot -- centering it
 legend(mean(range(bp)), -0.3, legend.text, xjust = 0.5,
	fill=heat.colors(length(legend.text)), horiz = TRUE)


Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From foppa at giub.unibe.ch  Tue Jan  8 09:22:15 2002
From: foppa at giub.unibe.ch (Nando Foppa)
Date: Tue, 08 Jan 2002 09:22:15 +0100
Subject: [R] write.table - format
Message-ID: <3C3AAC37.1B5FCB07@giub.unibe.ch>

Hello there

I ` m a newbie in R and have a question about the output of write.table
My command looks like this:
write.table(datatr$V1[data.chull],file="outr.txt", quote = FALSE, sep =
"\t")

In the outputfile (outr.txt) I have an "x" in the left corner and a new
row with  numbers for each column(1,2,3...).
I just want the values in my file. What should I change in
write.table-command?

output now:
x
1 179.18143
2 169.73087
3 169.73087
4 140.48254
5 111.9501
6 59.180557
....

it should look like this:
179.18143
169.73087
169.73087
140.48254
111.9501
59.180557
...

thanks a lot for your help  in advance!
Nando
_________________________________________________

   Nando Foppa  -  Remote Sensing Research Group

   Department of Geography

   University of Bern   Tel :  +41 (0)31 631 8020
   Hallerstr. 12        Fax :  +49 (0)89 2443 43780
   CH - 3012 Bern       Mail: foppa at giub.unibe.ch
   Switzerland
_________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From foppa at giub.unibe.ch  Tue Jan  8 09:36:41 2002
From: foppa at giub.unibe.ch (Nando Foppa)
Date: Tue, 08 Jan 2002 09:36:41 +0100
Subject: [R] write.table - format
Message-ID: <3C3AAF99.7E5017B6@giub.unibe.ch>

Hello there

I ` m a newbie in R and have a question about the output of write.table
My command looks like this:
write.table(datatr$V1[data.chull],file="outr.txt", quote = FALSE, sep =
"\t")

In the outputfile (outr.txt) I have an "x" in the left corner and a new
row with  numbers for each column(1,2,3...).
I just want the values in my file. What should I change in
write.table-command?

output now:
x
1 179.18143
2 169.73087
3 169.73087
4 140.48254
5 111.9501
6 59.180557
....

it should look like this:
179.18143
169.73087
169.73087
140.48254
111.9501
59.180557
...

thanks a lot for your help  in advance!
Nando

_________________________________________________

   Nando Foppa  -  Remote Sensing Research Group

   Department of Geography

   University of Bern   Tel :  +41 (0)31 631 8020
   Hallerstr. 12        Fax :  +49 (0)89 2443 43780
   CH - 3012 Bern       Mail: foppa at giub.unibe.ch
   Switzerland
_________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Jan  8 09:41:00 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 8 Jan 2002 09:41:00 +0100
Subject: HTMLified e-mails {was [R] Interactive}
In-Reply-To: <MABBJPBLPNLDIFMIAAOJIEBLCDAA.indra_calisto@yahoo.com>
References: <MABBJPBLPNLDIFMIAAOJIEBLCDAA.indra_calisto@yahoo.com>
Message-ID: <15418.45212.479689.857293@gargle.gargle.HOWL>

{CC to R-help for others consideration as well}

Dear Indrajit,

PLEASE PLEASE -- don't send e-mail in such a horrible
	      HTML-ified version.

If you really have nothing better than MS outlook for your
e-mailing, then at least configure it such as to NOT SEND HTML
to mailing lists (or at least not to the R lists).

I (as list manager) am still considering bouncing all these,
particularly those from MS outlook which outputs non-standard
(i.e. incorrect according to official standard) HTML...

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><


>>>>> "Indrajit" == Indrajit SenGupta <indra_calisto at yahoo.com> writes:

    Indrajit> My Mail StationeryIs it possible to have
    Indrajit> interactive graphic display in R just like S-Plus?

    Indrajit> ______________________ Indrajit SenGupta
    Indrajit> Department Of Statistics St. Xavier's College
    Indrajit> Calcutta University indra_calisto at yahoo.com
    Indrajit> indrajitsg at vsnl.net

    Indrajit> <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0
    Indrajit> Transitional//EN"> <HTML><HEAD><TITLE>My Mail
    Indrajit> Stationery</TITLE> <META content="text/html;
    Indrajit> charset=iso-8859-1" http-equiv=Content-Type> <META
    Indrajit> content="MSHTML 5.00.2614.3500"

    <<deleted another 24 lines or 1379 bytes of html trash>>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Tue Jan  8 09:49:12 2002
From: stuart.leask at nottingham.ac.uk (Dr Stuart Leask)
Date: Tue, 8 Jan 2002 08:49:12 -0000
Subject: [R] Finding functions in uninstalled libraries
Message-ID: <006e01c19821$58551c00$51d6f380@PMCMG01.nottingham.ac.uk>

(Many thanks to David Barron & Jonathan Baron for pointing me to 'recode' in
the 'car' package).

I think I've been told this before, but how do I search for a
function/keyword in libraries I don't yet have installed?

(ie. on the CRAN site I tried the search engines with "recode" etc., but
didn't pick up the car package this way)

Stuart

Dr Stuart Leask MA MB BChir (Cantab) MRCPsych
Clinical Lecturer in Psychiatry, University of Nottingham Dept Psychiatry
Duncan Macmillan House, Porchester Road, Nottingham. NG3 6AA. UK
tel. 00 44 115 969 1300 xtn 40784 fax 0115 955 5352
www.nottingham.ac.uk/psychiatry/staff/sjl.html


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan  8 09:55:08 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 8 Jan 2002 08:55:08 +0000 (GMT)
Subject: [R] write.table - format
In-Reply-To: <3C3AAC37.1B5FCB07@giub.unibe.ch>
Message-ID: <Pine.LNX.4.31.0201080850450.16015-100000@gannet.stats>

On Tue, 8 Jan 2002, Nando Foppa wrote:

> Hello there
>
> I ` m a newbie in R and have a question about the output of write.table
> My command looks like this:
> write.table(datatr$V1[data.chull],file="outr.txt", quote = FALSE, sep =
> "\t")
>
> In the outputfile (outr.txt) I have an "x" in the left corner and a new
> row with  numbers for each column(1,2,3...).
> I just want the values in my file. What should I change in
> write.table-command?

row.names = FALSE, col.names = FALSE.

However, what you are writing is not a data frame but a vector, so I think
write() is a more appropriate function.

...

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Jan  8 10:01:39 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 08 Jan 2002 10:01:39 +0100
Subject: [R] write.table - format
References: <3C3AAF99.7E5017B6@giub.unibe.ch>
Message-ID: <3C3AB573.DF1A7C1@statistik.uni-dortmund.de>



Nando Foppa wrote:
> 
> Hello there
> 
> I ` m a newbie in R and have a question about the output of write.table
> My command looks like this:
> write.table(datatr$V1[data.chull],file="outr.txt", quote = FALSE, sep =
> "\t")
> 
> In the outputfile (outr.txt) I have an "x" in the left corner and a new
> row with  numbers for each column(1,2,3...).
> I just want the values in my file. What should I change in
> write.table-command?

See ?write.table:

write.table(..., row.names=FALSE, col.names=FALSE)

Uwe

> output now:
> x
> 1 179.18143
> 2 169.73087
> 3 169.73087
> 4 140.48254
> 5 111.9501
> 6 59.180557
> ....
> 
> it should look like this:
> 179.18143
> 169.73087
> 169.73087
> 140.48254
> 111.9501
> 59.180557
> ...
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From indra_calisto at yahoo.com  Tue Jan  8 10:49:41 2002
From: indra_calisto at yahoo.com (Indrajit SenGupta)
Date: Tue, 8 Jan 2002 15:19:41 +0530
Subject: FW: [R] Interactive
Message-ID: <MABBJPBLPNLDIFMIAAOJMECACDAA.indra_calisto@yahoo.com>


Is it possible to have interactive graphic display in R just like S-Plus?
 
______________________
Indrajit SenGupta
Department Of Statistics
St. Xavier's College
Calcutta University
indra_calisto at yahoo.com
indrajitsg at vsnl.net

_________________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan  8 11:12:23 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 8 Jan 2002 10:12:23 +0000 (GMT)
Subject: FW: [R] Interactive
In-Reply-To: <MABBJPBLPNLDIFMIAAOJMECACDAA.indra_calisto@yahoo.com>
Message-ID: <Pine.LNX.4.31.0201081005270.16194-100000@gannet.stats>

On Tue, 8 Jan 2002, Indrajit SenGupta wrote:

>
> Is it possible to have interactive graphic display in R just like S-Plus?

What do you mean by `interactive', and which version and platform of
S-PLUS do you mean?

R does not have brush() nor spin() (but it does have an XGobi interface,
and will have a GGobi interface when that is eventually released).

R does not have the editable graphics of S-PLUS for Windows.  If you want
that, use S-PLUS!

You can rotate perspective plots under Window using Duncan Murdoch's rgl
package (http://www.stats.uwo.ca/faculty/murdoch/software/).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From m.mader at gsf.de  Tue Jan  8 11:41:24 2002
From: m.mader at gsf.de (Michael Mader)
Date: Tue, 08 Jan 2002 11:41:24 +0100
Subject: [R] Venn diagrams
Message-ID: <3C3ACCD4.4FB357DF@gsf.de>

Hi all,

a nasty question which probably hundrets asked in before (but I didn't
find anything in archives :-( ):

Did anybody implement a Venn diagram plotting function?

Cheers

Michael
-- 
Michael T. Mader
Institute for Bioinformatics/MIPS, GSF
0049-89-3187-3576
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From M.GRUM at CGIAR.ORG  Tue Jan  8 12:09:09 2002
From: M.GRUM at CGIAR.ORG (Grum, Mikkel)
Date: Tue, 08 Jan 2002 03:09:09 -0800
Subject: [R] Subsets without NA
Message-ID: 
 <A68A7C0BB344D511AA38005004AA9E18BA7E93@icrafnttrain.icraf.cgiar.org>

Is there a way of removing all rows with missing values from a data frame?
I usually use 
subset(x, var1!="NA") 
and repeat for each variable.  It would be nice to be able to do it in one
fell swoop.  Also, surprisingly, it doesn't always work.  Sometimes I'm left
with an empty set even though not all rows have missing values for the
variable.

Cheers,
mikkel





Mikkel Grum, PhD
Genetic Diversity Scientist
International Plant Genetic Resources Institute (IPGRI)
Sub-Saharan Africa Group
***
c/o ICRAF
PO Box 30677 Nairobi, Kenya
Tel: 254 2 524505 / 524500
Fax: 254 2 524501 / 524001
m.grum at cgiar.org
ipgri-kenya at cgiar.org
www.ipgri.cgiar.org

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue Jan  8 12:41:02 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 8 Jan 2002 06:41:02 -0500 (EST)
Subject: [R] Finding functions in uninstalled libraries
Message-ID: <200201081141.g08Bf2H04053@cattell.psych.upenn.edu>

>From: "Dr Stuart Leask" <stuart.leask at nottingham.ac.uk>
>
>(Many thanks to David Barron & Jonathan Baron for pointing me to 'recode' in
>the 'car' package).
>
>I think I've been told this before, but how do I search for a
>function/keyword in libraries I don't yet have installed?
>
>(ie. on the CRAN site I tried the search engines with "recode" etc., but
>didn't pick up the car package this way)

http://finzi.psych.upenn.edu
allows you to search all functions from CRAN.

This URL is listed under "Search" in the main R page.

The ability to search functions is, I think, the main advantage
of this site over using Google.  To make it work, I simply
installed all the packages.

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jan  8 12:51:18 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Jan 2002 12:51:18 +0100
Subject: [R] Subsets without NA
In-Reply-To: <A68A7C0BB344D511AA38005004AA9E18BA7E93@icrafnttrain.icraf.cgiar.org>
References: <A68A7C0BB344D511AA38005004AA9E18BA7E93@icrafnttrain.icraf.cgiar.org>
Message-ID: <x2sn9h3vt5.fsf@blueberry.kubism.ku.dk>

"Grum, Mikkel" <M.GRUM at CGIAR.ORG> writes:

> Is there a way of removing all rows with missing values from a data frame?
> I usually use 
> subset(x, var1!="NA") 
> and repeat for each variable.  It would be nice to be able to do it in one
> fell swoop.  Also, surprisingly, it doesn't always work.  Sometimes I'm left
> with an empty set even though not all rows have missing values for the
> variable.

subset(x,complete.cases(x)) or x[complete.cases(x),]

BTW: is.na(x) is preferable to x != "NA"

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Jan  8 12:58:27 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 08 Jan 2002 12:58:27 +0100
Subject: [R] Subsets without NA
References: <A68A7C0BB344D511AA38005004AA9E18BA7E93@icrafnttrain.icraf.cgiar.org>
Message-ID: <3C3ADEE3.DAC6B06C@statistik.uni-dortmund.de>

"Grum, Mikkel" wrote:
> 
> Is there a way of removing all rows with missing values from a data frame?
> I usually use
> subset(x, var1!="NA")
> and repeat for each variable.  It would be nice to be able to do it in one
> fell swoop.  Also, surprisingly, it doesn't always work.  Sometimes I'm left
> with an empty set even though not all rows have missing values for the
> variable.

See ?na.exclude how to deal with NAs.

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Jan  8 13:46:46 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 8 Jan 2002 13:46:46 +0100 (MET)
Subject: [R] ESS with Xemacs? [vs. Emacs, slightly off topic]
In-Reply-To: <5429125E11E4D411AF7300805FE603A8014CF150@groexmbcr02.pfizer.com>
Message-ID: <Pine.OSF.3.96.1020108133414.31232K-100000@ija.csic.es>

Happy 2002 to everyone.

I'm following Greg's directions (with some pain, as I'm not
an experienced (x)emacs user) and I find that I cannot use 
fix() in the R session. 
Before trying (x)emacs I normally had
a "raw" R sesion in an xterm and an editor in another window.
When I was done writing the function I run fix() and copied and pasted
the function to the editor session that had been opened by fix().
 
I understand that, using (x)emacs I can save the function to a
text file and source() it in R, but this seems like an odd
procedure considering that both R and the function are in 
windows of the same (x)emacs environment. Is there any simpler
way of passing the edited function to R?

By the way, is there an R-oriented guide or tutorial
to (x)emacs?

Thanks

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Mon, 7 Jan 2002, Warnes, Gregory R wrote:

> 
> Probably what is happening is that emacs is checking if it is already
> running and not starting separate executables.  Two solutions:
> 
> 1) Open a second emacs window explicitly...
> 
> 	open xemacs once with
> 		xemacs myfile.R
> 	then do 
> 		<Control>-x 5 2
> 	or 'File'->'New Frame'
> 	to get a second window.  In that one do <Meta>-X R.
> 
> 
>    Or the other way around
> 
> 	open xemacs once with
> 		xemacs -f R
> 	and then use 'File'->'Open in New Window' to open the second file.
> 
> 2) Use gnuclient to open the second window...  (you may need to put
> "(gnuserv-start)" in your .emacs file for this to work).
> 
> 	xemacs -f R
> 	gnuclient myfile.R
> 
> 	
> -Greg
> 
> 
>  >  -----Original Message-----
>  >  From: baron at cattell.psych.upenn.edu
>  >  [mailto:baron at cattell.psych.upenn.edu]
>  >  Sent: Monday, January 07, 2002 12:16 PM
>  >  To: r-help at stat.math.ethz.ch
>  >  Subject: [R] ESS with Xemacs? [vs. Emacs, slightly off topic]
>  >  
>  >  
>  >  I decided to try out Xemacs instead of Emacs in Linux (RH 7.2).
>  >  After doing lots of configuration of Xemacs, I finally discovered
>  >  a major problem.  
>  >  
>  >  With Emacs, when I use R, I start Emacs twice (at least), in
>  >  different viewports, once as
>  >   emacs -f R
>  >  and once as
>  >   emacs myfile.R
>  >  
>  >  Then I try commands in the first one, and, when they work (which
>  >  isn't very often), I cut the command with C-w, switich to the
>  >  other viewport, and yank it into myfile.R with C-y.  This takes
>  >  very few keystrokes and does not require the mouse.  Then
>  >  myfile.R has something I can re-run (about 1/10 the size of
>  >  .Rhistory).
>  >  
>  >  It seems that you can't do this in Xemacs.  In particular, the
>  >  kill buffer is not common to the various Xemacs processes that
>  >  are running, unlike Emacs.
>  >  
>  >  I tried running the R process and myfile.R as bufffers in one
>  >  Xemacs process, and this worked OK until I also tried help.  Then
>  >  I had three buffers, and it took many many keystrokes to switch
>  >  from one to the other.
>  >  
>  >  I know that some people really like Xemacs with R.  Can you give
>  >  any advice?  In the meantime I've gone back to Emacs.  Sigh.
>  >  
>  >  Jon Baron
>  >  -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
>  >  -.-.-.-.-.-.-.-.-.-
>  >  r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> 
> 
> LEGAL NOTICE
> Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gco at eortc.be  Tue Jan  8 13:40:26 2002
From: gco at eortc.be (Gary Collins)
Date: Tue, 8 Jan 2002 13:40:26 +0100
Subject: [R] Subsets without NA
References: <A68A7C0BB344D511AA38005004AA9E18BA7E93@icrafnttrain.icraf.cgiar.org>
Message-ID: <002501c19841$a5f249e0$c90809c1@EORTC.BE>

try
> x.old
   V1 V2 V3 V4
1 NA  2  3  4
2  5  6  7  8
3  9 NA 11 12
4  1  2  3  4

> x.new_x.old[-c(unique(which(apply(is.na(x.old),  FUN=any,
MARGIN=1)==TRUE))),]
> x.new
  V1 V2 V3 V4
2  5  6  7  8
4  1  2  3  4

removes a row with at least 1 missing value
if you want to take out rows which have all missing values, change the FUN
to all

Gary
__________________________________________________
Gary S. Collins, PhD,
Statistics Research Fellow,
Quality of Life Unit,
European Organisation for Research and Treatment of Cancer,
EORTC Data Center,
Avenue E. Mounier 83, bte. 11,
B-1200 Brussels, Belgium.

Tel: +32 2 774 1 606
Fax: +32 2 779 4 568
http://www.eortc.be/home/qol/
__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jan  8 14:05:42 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Jan 2002 14:05:42 +0100
Subject: [R] ESS with Xemacs? [vs. Emacs, slightly off topic]
In-Reply-To: <Pine.OSF.3.96.1020108133414.31232K-100000@ija.csic.es>
References: <Pine.OSF.3.96.1020108133414.31232K-100000@ija.csic.es>
Message-ID: <x2vgedvvq1.fsf@blueberry.kubism.ku.dk>

Agustin Lobo <alobo at ija.csic.es> writes:

> Happy 2002 to everyone.
> 
> I'm following Greg's directions (with some pain, as I'm not
> an experienced (x)emacs user) and I find that I cannot use 
> fix() in the R session. 
> Before trying (x)emacs I normally had
> a "raw" R sesion in an xterm and an editor in another window.
> When I was done writing the function I run fix() and copied and pasted
> the function to the editor session that had been opened by fix().
>  
> I understand that, using (x)emacs I can save the function to a
> text file and source() it in R, but this seems like an odd
> procedure considering that both R and the function are in 
> windows of the same (x)emacs environment. Is there any simpler
> way of passing the edited function to R?

You don't use fix() under ESS. Instead, you want to take a look at

C-c C-d         ess-dump-object-into-edit-buffer

and in the edit buffer

C-c ESC b       ess-eval-buffer-and-go

(use C-h m to get more info on current keybindings etc.).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Tue Jan  8 14:13:09 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Tue, 8 Jan 2002 08:13:09 -0500 
Subject: [R] ESS with Xemacs? [vs. Emacs, slightly off topic]
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF152@groexmbcr02.pfizer.com>

 >  From: Agustin Lobo [mailto:alobo at ija.csic.es]
 >  Sent: Tuesday, January 08, 2002 7:47 AM
 >  
 >  Happy 2002 to everyone.
 >  
 >  I'm following Greg's directions (with some pain, as I'm not
 >  an experienced (x)emacs user) and I find that I cannot use 
 >  fix() in the R session. 
 >  Before trying (x)emacs I normally had
 >  a "raw" R session in an xterm and an editor in another window.
 >  When I was done writing the function I run fix() and copied 
 >  and pasted
 >  the function to the editor session that had been opened by fix().
 >   
 >  I understand that, using (x)emacs I can save the function to a
 >  text file and source() it in R, but this seems like an odd
 >  procedure considering that both R and the function are in 
 >  windows of the same (x)emacs environment. Is there any simpler
 >  way of passing the edited function to R?

Hi Agustin,

Are you using the emacs/xemacs package 'ESS'?  [Highly recommended.] If you
are, you can use '<Control>-<C> <Control>-<D> function-name' to bring a
function in an (x)emacs buffer.  

To get edit/fix to work properly under (x)emacs, you need to tell R that you
want it to call 'gnuclient' for editing.  Do this by either setting the
environment variable 'EDITOR' before starting R or by setting
options(editor=...) with R.  Note that setting the EDITOR environment
variable will effect lots of programs...

In my shell startup script I set my environment variable EDITOR to point to
a small script file called 'MyEdit' that contains

	#!/bin/sh
	gnuclient $* || vi $*

this first tries to open the file using 'gnuclient'.  If this fails, which
it will if (x)emacs is not running, it then tries to open the file using
'vi'.  This works well for me.

 >  By the way, is there an R-oriented guide or tutorial
 >  to (x)emacs?

In the ESS source directory, the doc/README.S contains a brief tutorial on
using Splus/R with (x)emacs.  Its not a real tutorial, but it should still
be quite helpful.

For a more general tutorial (x)emacs, try '<Control>-h t'

It takes a while to get used to (x)emacs, but it really is a good
environment for interacting with R/Splus once you've mastered it.

-Greg


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Tue Jan  8 14:15:15 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Tue, 8 Jan 2002 08:15:15 -0500 
Subject: [R] ESS with Xemacs? [vs. Emacs, slightly off topic]
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF153@groexmbcr02.pfizer.com>

Whoops, typo:

 >  recommended.] If you are, you can use '<Control>-<C> 
 >  <Control>-<D> function-name' to bring a function in an 

should be

 >  recommended.] If you are, you can use '<Control>-<c> 
 >  <Control>-<d> function-name' to bring a function in an 

(lower case 'c' and 'd')

-Greg

 >  -----Original Message-----
 >  From: Warnes, Gregory R 
 >  Sent: Tuesday, January 08, 2002 8:13 AM
 >  To: 'Agustin Lobo'; Warnes, Gregory R
 >  Cc: 'baron at cattell.psych.upenn.edu'; 'r-help at stat.math.ethz.ch'
 >  Subject: RE: [R] ESS with Xemacs? [vs. Emacs, slightly off topic]
 >  
 >  
 >   >  From: Agustin Lobo [mailto:alobo at ija.csic.es]
 >   >  Sent: Tuesday, January 08, 2002 7:47 AM
 >   >  
 >   >  Happy 2002 to everyone.
 >   >  
 >   >  I'm following Greg's directions (with some pain, as I'm not
 >   >  an experienced (x)emacs user) and I find that I cannot use 
 >   >  fix() in the R session. 
 >   >  Before trying (x)emacs I normally had
 >   >  a "raw" R session in an xterm and an editor in another window.
 >   >  When I was done writing the function I run fix() and copied 
 >   >  and pasted
 >   >  the function to the editor session that had been opened 
 >  by fix().
 >   >   
 >   >  I understand that, using (x)emacs I can save the function to a
 >   >  text file and source() it in R, but this seems like an odd
 >   >  procedure considering that both R and the function are in 
 >   >  windows of the same (x)emacs environment. Is there any simpler
 >   >  way of passing the edited function to R?
 >  
 >  Hi Agustin,
 >  
 >  Are you using the emacs/xemacs package 'ESS'?  [Highly 
 >  recommended.] If you are, you can use '<Control>-<C> 
 >  <Control>-<D> function-name' to bring a function in an 
 >  (x)emacs buffer.  
 >  
 >  To get edit/fix to work properly under (x)emacs, you need 
 >  to tell R that you want it to call 'gnuclient' for editing. 
 >   Do this by either setting the environment variable 
 >  'EDITOR' before starting R or by setting 
 >  options(editor=...) with R.  Note that setting the EDITOR 
 >  environment variable will effect lots of programs...
 >  
 >  In my shell startup script I set my environment variable 
 >  EDITOR to point to a small script file called 'MyEdit' that contains
 >  
 >  	#!/bin/sh
 >  	gnuclient $* || vi $*
 >  
 >  this first tries to open the file using 'gnuclient'.  If 
 >  this fails, which it will if (x)emacs is not running, it 
 >  then tries to open the file using 'vi'.  This works well for me.
 >  
 >   >  By the way, is there an R-oriented guide or tutorial
 >   >  to (x)emacs?
 >  
 >  In the ESS source directory, the doc/README.S contains a 
 >  brief tutorial on using Splus/R with (x)emacs.  Its not a 
 >  real tutorial, but it should still be quite helpful.
 >  
 >  For a more general tutorial (x)emacs, try '<Control>-h t'
 >  
 >  It takes a while to get used to (x)emacs, but it really is 
 >  a good environment for interacting with R/Splus once you've 
 >  mastered it.
 >  
 >  -Greg
 >  


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mac at foodsci.unibo.it  Tue Jan  8 14:26:20 2002
From: mac at foodsci.unibo.it (Mauro A. Cremonini)
Date: Tue, 8 Jan 2002 14:26:20 +0100 (CET)
Subject: [R] chi square and mahalanobis
Message-ID: <Pine.LNX.4.21.0201081349280.2718-100000@carbon.foodsci.unibo.it>

Hi all.
I am seeking for a statistical suggestion.

My data set comprises 382 measures each having 169 variables. Each measure
is the outcome of a nuclear magnetic resonance experiment, so each of the
169 points has the same unit.

As I want to do some multivariate calibration using these data, I checked 
whether some multivariate outliers existed. I calculated Mahalanobis
distances and did a 

qqplot(qchisq(ppoints(382),169),XMaha) 

where XMaha contained my Mahalanobis distances. The points on my QQ plot
were nicely aligned onto a y=x line, so no outliers.

For some reasons I need to scale my data set so as that each measure
has the same initial point, i.e. the first point of each measure must be
1. To be clear I did:

x1<-x[,1:169]/x[,1]

where x and x1 are the unscaled and scaled sata sets, respectively.

However, after doing this (and eliminating the first point of each
measure), the points in the new QQ plot - 

qqplot(qchisq(ppoints(382),168),XMahaNew)  - 

were still aligned, although they were no more along the y=x line.

Am I doing something statistically wrong ?

Thank you all in advance.

Mauro





============================================
Mauro Andrea Cremonini, PhD
Department of Food Science
University of Bologna
Via Ravennate 1020 - 47023 - Cesena - Italy
FAX:+39.0547.382348 - Phone:+39.0547.636106
e-mail: mac at foodsci.unibo.it  
http://www.foodsci.unibo.it/cremonini
============================================


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Jan  8 15:11:16 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 8 Jan 2002 15:11:16 +0100 (MET)
Subject: [R] Subsets without NA
In-Reply-To: <A68A7C0BB344D511AA38005004AA9E18BA7E93@icrafnttrain.icraf.cgiar.org>
Message-ID: <Pine.OSF.3.96.1020108150837.31232L-100000@ija.csic.es>

This function removes all rows
with at least one NA:
(x is a mtrix)

> no.na.mat
function(x)
{
        resultado <- x[!is.na(abs(x) %*% rep(1, ncol(x))),  ]
        resultado
}

i.e.:

> mat <- matrix(1:12,ncol=3)
> mat
     [,1] [,2] [,3]
[1,]    1    5    9
[2,]    2    6   10
[3,]    3    7   11
[4,]    4    8   12
> mat [1,1] <- NA
> mat [2,c(2,3)] <- NA
> mat
     [,1] [,2] [,3]
[1,]   NA    5    9
[2,]    2   NA   NA
[3,]    3    7   11
[4,]    4    8   12
> no.na.mat(mat)
     [,1] [,2] [,3]
[1,]    3    7   11
[2,]    4    8   12
> 

Hope it helps

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Tue, 8 Jan 2002, Grum, Mikkel wrote:

> Is there a way of removing all rows with missing values from a data frame?
> I usually use 
> subset(x, var1!="NA") 
> and repeat for each variable.  It would be nice to be able to do it in one
> fell swoop.  Also, surprisingly, it doesn't always work.  Sometimes I'm left
> with an empty set even though not all rows have missing values for the
> variable.
> 
> Cheers,
> mikkel
> 
> 
> 
> 
> 
> Mikkel Grum, PhD
> Genetic Diversity Scientist
> International Plant Genetic Resources Institute (IPGRI)
> Sub-Saharan Africa Group
> ***
> c/o ICRAF
> PO Box 30677 Nairobi, Kenya
> Tel: 254 2 524505 / 524500
> Fax: 254 2 524501 / 524001
> m.grum at cgiar.org
> ipgri-kenya at cgiar.org
> www.ipgri.cgiar.org
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From M.GRUM at CGIAR.ORG  Tue Jan  8 15:00:11 2002
From: M.GRUM at CGIAR.ORG (Grum, Mikkel)
Date: Tue, 08 Jan 2002 06:00:11 -0800
Subject: [R] colour coding and different point types in a plot
Message-ID: 
 <A68A7C0BB344D511AA38005004AA9E18BA7FF6@icrafnttrain.icraf.cgiar.org>

I'm trying to plot four different sorghum types on a plot using a different
colour/symbol combination for each sorghum type (TYPBOTA in the script
below).  What am I doing wrong?:

plot(xx$LATITUDE,xx$SFD1,
   points(xx$SFD1,xx$LATITUDE,
   col=1:4[codes(xx$TYPBOTA)],pch=c(4,3,1,2)[codes(xx$TYPBOTA)])
grid()

I get the following error message
Error in 1:4[codes(xx$TYPBOTA)] : NA/NaN argument
In addition: Warning message: 
Numerical expression has 162 elements: only the first used in:
1:4[codes(xx78$TYPBOTA)] 


Best wishes,
Mikkel


Mikkel Grum, PhD
Genetic Diversity Scientist
International Plant Genetic Resources Institute (IPGRI)
Sub-Saharan Africa Group
***
c/o ICRAF
PO Box 30677 Nairobi, Kenya
Tel: 254 2 524505 / 524500
Fax: 254 2 524501 / 524001
IVDN Tel: 645 4505 / 4500
IVDN Fax: 645 4501 / 4001
m.grum at cgiar.org
ipgri-kenya at cgiar.org
www.ipgri.cgiar.org

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Tue Jan  8 16:49:31 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Tue, 08 Jan 2002 15:49:31 +0000
Subject: [R] ESS with Xemacs? [vs. Emacs, slightly off topic]
References: <Pine.OSF.3.96.1020108133414.31232K-100000@ija.csic.es>
Message-ID: <3C3B150B.4CC158D8@psy.uni-muenchen.de>

Agustin Lobo wrote:
> 
> Happy 2002 to everyone.
> 
> I'm following Greg's directions (with some pain, as I'm not
> an experienced (x)emacs user) and I find that I cannot use
> fix() in the R session.
> Before trying (x)emacs I normally had
> a "raw" R sesion in an xterm and an editor in another window.
> When I was done writing the function I run fix() and copied and pasted
> the function to the editor session that had been opened by fix().
> 
> I understand that, using (x)emacs I can save the function to a
> text file and source() it in R, but this seems like an odd
> procedure considering that both R and the function are in
> windows of the same (x)emacs environment. Is there any simpler
> way of passing the edited function to R?

Hi,

type C-c,C-l in the buffer or window where you edit your R-functions.
This loads the buffer (or marked region) to the R process.

By, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jan  8 16:03:05 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Jan 2002 16:03:05 +0100
Subject: [R] colour coding and different point types in a plot
In-Reply-To: <A68A7C0BB344D511AA38005004AA9E18BA7FF6@icrafnttrain.icraf.cgiar.org>
References: <A68A7C0BB344D511AA38005004AA9E18BA7FF6@icrafnttrain.icraf.cgiar.org>
Message-ID: <x2r8p0navq.fsf@blueberry.kubism.ku.dk>

"Grum, Mikkel" <M.GRUM at CGIAR.ORG> writes:

> I'm trying to plot four different sorghum types on a plot using a different
> colour/symbol combination for each sorghum type (TYPBOTA in the script
> below).  What am I doing wrong?:
> 
> plot(xx$LATITUDE,xx$SFD1,
>    points(xx$SFD1,xx$LATITUDE,
>    col=1:4[codes(xx$TYPBOTA)],pch=c(4,3,1,2)[codes(xx$TYPBOTA)])
> grid()
> 
> I get the following error message
> Error in 1:4[codes(xx$TYPBOTA)] : NA/NaN argument
> In addition: Warning message: 
> Numerical expression has 162 elements: only the first used in:
> 1:4[codes(xx78$TYPBOTA)] 

I think you need (1:4)[...] (and maybe also reconsider the use of
codes(). It has certain surprises, and indexing with a factor is the
same as using foo[as.integer(f)]) 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Tue Jan  8 16:05:40 2002
From: kjetilh at umsanet.edu.bo (Kjetilh Halvorsen)
Date: Tue, 8 Jan 2002 11:05:40 -0400 (BOT)
Subject: [R] Subsets without NA
In-Reply-To: <Pine.OSF.3.96.1020108150837.31232L-100000@ija.csic.es>
References: <Pine.OSF.3.96.1020108150837.31232L-100000@ija.csic.es>
Message-ID: <1213.65.119.23.189.1010502340.squirrel@www.umsanet.edu.bo>

But you can use the inbuilt function complete.cases().

Kjetil Halvorsen


This function removes all rows
> with at least one NA:
> (x is a mtrix)
> 
>> no.na.mat
> function(x)
> {
>         resultado <- x[!is.na(abs(x) %*% rep(1, ncol(x))),  ]
>         resultado
> }
> 
> i.e.:
> 
>> mat <- matrix(1:12,ncol=3)
>> mat
>      [,1] [,2] [,3]
> [1,]    1    5    9
> [2,]    2    6   10
> [3,]    3    7   11
> [4,]    4    8   12
>> mat [1,1] <- NA
>> mat [2,c(2,3)] <- NA
>> mat
>      [,1] [,2] [,3]
> [1,]   NA    5    9
> [2,]    2   NA   NA
> [3,]    3    7   11
> [4,]    4    8   12
>> no.na.mat(mat)
>      [,1] [,2] [,3]
> [1,]    3    7   11
> [2,]    4    8   12
>> 
> 
> Hope it helps
> 
> Agus
> 
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
> 
> 
> On Tue, 8 Jan 2002, Grum, Mikkel wrote:
> 
>> Is there a way of removing all rows with missing values from a data
>> frame? I usually use 
>> subset(x, var1!="NA") 
>> and repeat for each variable.  It would be nice to be able to do it in
>> one fell swoop.  Also, surprisingly, it doesn't always work. 
>> Sometimes I'm left with an empty set even though not all rows have
>> missing values for the variable.
>> 
>> Cheers,
>> mikkel
>> 
>> 
>> 
>> 
>> 
>> Mikkel Grum, PhD
>> Genetic Diversity Scientist
>> International Plant Genetic Resources Institute (IPGRI)
>> Sub-Saharan Africa Group
>> ***
>> c/o ICRAF
>> PO Box 30677 Nairobi, Kenya
>> Tel: 254 2 524505 / 524500
>> Fax: 254 2 524501 / 524001
>> m.grum at cgiar.org
>> ipgri-kenya at cgiar.org
>> www.ipgri.cgiar.org
>> 
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-.-
>> r-help mailing list -- Read
>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help",
>> or "[un]subscribe"
>> (in the "body", not the subject !)  To:
>> r-help-request at stat.math.ethz.ch
>> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help", or
> "[un]subscribe"
> (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Jan  8 16:07:52 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 8 Jan 2002 16:07:52 +0100
Subject: [R] colour coding and different point types in a plot
In-Reply-To: <A68A7C0BB344D511AA38005004AA9E18BA7FF6@icrafnttrain.icraf.cgiar.org>
References: <A68A7C0BB344D511AA38005004AA9E18BA7FF6@icrafnttrain.icraf.cgiar.org>
Message-ID: <15419.2888.229459.392499@gargle.gargle.HOWL>

>>>>> "MGrum" == Grum, Mikkel <M.GRUM at CGIAR.ORG> writes:

    MGrum> I'm trying to plot four different sorghum types on a
    MGrum> plot using a different colour/symbol combination for
    MGrum> each sorghum type (TYPBOTA in the script below).
    MGrum> What am I doing wrong?:

-- you mean, apart from using hard/horrible to read all-uppercase
    variable names  :-))  aka `big grin' -


    MGrum> plot(xx$LATITUDE,xx$SFD1,

I assume this command goes on and is finished in your real example ..

    MGrum> points(xx$SFD1,xx$LATITUDE,
    MGrum>        col=1:4[codes(xx$TYPBOTA)],pch=c(4,3,1,2)[codes(xx$TYPBOTA)])

    MGrum> I get the following error message
    MGrum> Error in 1:4[codes(xx$TYPBOTA)] : NA/NaN argument
    MGrum> In addition: Warning message: 
    MGrum> Numerical expression has 162 elements: only the first used in:
    MGrum> 1:4[codes(xx78$TYPBOTA)] 

Maybe look at this ?

 > 1:4[c(3,1,2,NA,4,2)]
 Error in 1:4[c(3, 1, 2, NA, 4, 2)] : NA/NaN argument
 In addition: Warning message: 
 Numerical expression has 6 elements: only the first used in: 1:4[c(3, 1, 2, NA, 4, 2)] 

 > (1:4)[c(3,1,2,NA,4,2)]
 [1]  3  1  2 NA  4  2


Morale of the story: always use "(..)" when in doubt

Regards,

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan  8 16:19:00 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 8 Jan 2002 15:19:00 +0000 (GMT)
Subject: [R] Subsets without NA
In-Reply-To: <1213.65.119.23.189.1010502340.squirrel@www.umsanet.edu.bo>
Message-ID: <Pine.LNX.4.31.0201081515270.18775-100000@gannet.stats>

On Tue, 8 Jan 2002, Kjetilh Halvorsen wrote:

> But you can use the inbuilt function complete.cases().

or the inbuilt function na.omit which does the whole job, as Uwe Ligges
pointed out some time ago in this thread.

> na.omit(mat)
     [,1] [,2] [,3]
[1,]    3    7   11
[2,]    4    8   12
attr(,"na.action")
[1] 1 2
attr(,"na.action")attr(,"class")
[1] "omit"

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From juli at ceam.es  Tue Jan  8 17:42:38 2002
From: juli at ceam.es (juli g. pausas)
Date: Tue, 08 Jan 2002 16:42:38 +0000
Subject: [R] Subsets without NA
References: <A68A7C0BB344D511AA38005004AA9E18BA7E93@icrafnttrain.icraf.cgiar.org>
Message-ID: <3C3B217E.A047DC25@ceam.es>

I think

new <- na.omit(old)

should do.
`na.omit' returns the object with incomplete cases removed.

juli

"Grum, Mikkel" ha escrito:

> Is there a way of removing all rows with missing values from a data frame?
> I usually use
> subset(x, var1!="NA")
> and repeat for each variable.  It would be nice to be able to do it in one
> fell swoop.  Also, surprisingly, it doesn't always work.  Sometimes I'm left
> with an empty set even though not all rows have missing values for the
> variable.
>
> Cheers,
> mikkel
>
> Mikkel Grum, PhD
> Genetic Diversity Scientist
> International Plant Genetic Resources Institute (IPGRI)
> Sub-Saharan Africa Group
> ***
> c/o ICRAF
> PO Box 30677 Nairobi, Kenya
> Tel: 254 2 524505 / 524500
> Fax: 254 2 524501 / 524001
> m.grum at cgiar.org
> ipgri-kenya at cgiar.org
> www.ipgri.cgiar.org
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
Juli G. Pausas
Centro de Estudios Ambientales del Mediterraneo (CEAM)
C/ C.R. Darwin 14, Parc Tecnologic,
46980 Paterna, Valencia, SPAIN
Tel: (+ 34) 96 131 8227; Fax: (+ 34) 96 131 8190
mailto:juli at ceam.es
http://www.gva.es/ceam

GCTE Fire Network - http://www.gva.es/ceam/FireNetwork


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Jan  8 17:03:41 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Tue, 8 Jan 2002 11:03:41 -0500 (EST)
Subject: [R] Finding functions in uninstalled libraries
In-Reply-To: <006e01c19821$58551c00$51d6f380@PMCMG01.nottingham.ac.uk>
Message-ID: <Pine.LNX.4.30.0201081100090.19722-100000@bolker.zoo.ufl.edu>


  Another possible solution: I wrote some functions to grab all of the
INDEX files from CRAN, structure their contents as a data frame, and
search within that list.

http://www.r-project.org/nocvs/mail/r-devel/2001/0925.html

or available as part of my "bbmisc" package from

http://www.zoo.ufl.edu/bolker/R/{linux,windows}

  (Feedback is welcome, if anyone ever actually uses it.)

  Ben Bolker

On Tue, 8 Jan 2002, Dr Stuart Leask wrote:

> (Many thanks to David Barron & Jonathan Baron for pointing me to 'recode' in
> the 'car' package).
>
> I think I've been told this before, but how do I search for a
> function/keyword in libraries I don't yet have installed?
>
> (ie. on the CRAN site I tried the search engines with "recode" etc., but
> didn't pick up the car package this way)
>
> Stuart
>
> Dr Stuart Leask MA MB BChir (Cantab) MRCPsych
> Clinical Lecturer in Psychiatry, University of Nottingham Dept Psychiatry
> Duncan Macmillan House, Porchester Road, Nottingham. NG3 6AA. UK
> tel. 00 44 115 969 1300 xtn 40784 fax 0115 955 5352
> www.nottingham.ac.uk/psychiatry/staff/sjl.html
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Tue Jan  8 18:02:47 2002
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 08 Jan 2002 12:02:47 -0500
Subject: [R] Subsets without NA
In-Reply-To: <A68A7C0BB344D511AA38005004AA9E18BA7E93@icrafnttrain.icraf.
 cgiar.org>
Message-ID: <5.1.0.14.2.20020108115956.01d8a0f8@mcmail.cis.mcmaster.ca>

Dear Mikkel,

A very simple solution is to use na.omit; that is

   x2 <- na.omit(x)

produces a copy of the data frame x with all rows that contain missing data 
removed. The function na.exclude could be used also.

John

At 03:09 AM 1/8/2002 -0800, Grum, Mikkel wrote:
>Is there a way of removing all rows with missing values from a data frame?
>I usually use
>subset(x, var1!="NA")
>and repeat for each variable.  It would be nice to be able to do it in one
>fell swoop.  Also, surprisingly, it doesn't always work.  Sometimes I'm left
>with an empty set even though not all rows have missing values for the
>variable.

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mdsohn at lbl.gov  Tue Jan  8 18:30:30 2002
From: mdsohn at lbl.gov (Michael D. Sohn)
Date: Tue, 08 Jan 2002 09:30:30 -0800
Subject: [R] dimensions of stacked barplot
Message-ID: <3C3B2CB6.296DFF1E@lbl.gov>


I'm plotting stacked barplots using:

> barplot(tmp, beside=F)

This gives me several stacked bars.  Each stack is divided into several
segments.  I'd like to add a dotted line from the edge of one segment to
the same edge on the next stacked bar.  This might help to see which
stack shrinks or expands from one stacked bar to the next.

I'm thinking that I could overlay dotted lines on the barplot.  Is there
an easier way?  If not, how do I get the location of each of the
segments?

thanks,
Mike


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pem at theriver.com  Tue Jan  8 20:41:07 2002
From: pem at theriver.com (Patrick McKnight)
Date: Tue, 8 Jan 2002 12:41:07 -0700 (MST)
Subject: [R] R function for test of MCAR?
Message-ID: <Pine.LNX.4.21.0201081235290.6525-100000@galileo.mcknightconsulting.com>

Greetings,

Has anyone created a function for Little's (1988) test of MCAR?  If so,
would you kindly point me in the direction of the file.  I would be
willing to help piece the function together with some help if no function 
exists.  Also, I have combed the web and have not found any reference to
S/R code but plenty of references to SPSS's feature.  Thanks in advance.

Cheers,

Patrick

Reference for those interested

Little, R.J.A. (1988) A test of missing completely at random for
multivariate data with missing values.  Journal of the American
Statistical Association, 83(4), 1198-1202. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Tue Jan  8 20:54:50 2002
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Tue, 8 Jan 2002 11:54:50 -0800
Subject: [R] how to use attr?
Message-ID: <001301c1987e$553c4900$01000001@godzilla>

I'm trying to build a flexible OLS/SUR/2SLS/3SLS package and I'm having
trouble getting some information out of a formula. For example....

# set up the system of equations
demand    <- q ~ p + d
supply    <- q ~ p + f + a
inst    <- ~ d + f + a
systemeq   <- list( demand, supply )

...blah, blah, blah...

# get the number if instruments...
# or build the "bigX"...
#I need to get a print of the variables to build a large matrix...
print( attr( systemeq[[1]], "variables" ) )

I've tried all kinds of variants...
names( systemeq[[1]] )
names( systemeq[[1]]$formula )

Jeff.

Jeff D. Hamann
Hamann, Donald & Associates, Inc.
PO Box 1421
Corvallis, Oregon USA 97339-1421
Bus. 541-753-7333
Cell. 541-740-5988
jeff_hamann at hamanndonald.com
www.hamanndonald.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jan  8 21:49:50 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 8 Jan 2002 12:49:50 -0800 (PST)
Subject: [R] how to use attr?
In-Reply-To: <001301c1987e$553c4900$01000001@godzilla>
Message-ID: <Pine.A41.4.43.0201081239420.122754-100000@homer12.u.washington.edu>

On Tue, 8 Jan 2002, Jeff D. Hamann wrote:

> I'm trying to build a flexible OLS/SUR/2SLS/3SLS package and I'm having
> trouble getting some information out of a formula. For example....
>
> # set up the system of equations
> demand    <- q ~ p + d
> supply    <- q ~ p + f + a
> inst    <- ~ d + f + a
> systemeq   <- list( demand, supply )
>
> ...blah, blah, blah...
>
> # get the number if instruments...
> # or build the "bigX"...
> #I need to get a print of the variables to build a large matrix...
> print( attr( systemeq[[1]], "variables" ) )
>
> I've tried all kinds of variants...
> names( systemeq[[1]] )
> names( systemeq[[1]]$formula )
>

The complicated answer is that these things are
attributes of a terms object, not a formula. You would need
attr(terms(supply),"variables") and attr(terms(inst),"variables").


The simpler answer is that you want to use model.frame() (and probably
model.matrix() as well.)

model.frame() constructs a dataframe with all the required variables for a
formula, model.matrix takes this dataframe and produces a design matrix.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kkelley at nd.edu  Tue Jan  8 22:33:08 2002
From: kkelley at nd.edu (kkelley)
Date: Tue, 8 Jan 2002 16:33:08 -0500
Subject: [R] Memory Allocation in R and S-Plus: And functions from R to S-Plus
Message-ID: <3C3BB307@smtp.nd.edu>

Hello Everyone,

I've been told that the memory allocation in R and S-Plus is different, with R 
being better at doing simulations for whatever reason(s).  I was wondering if 
anyone could enlighten me on the differences in the memory usage/allocation 
(preferably in layman's terms!).

The reason I ask this is because of a simulation I am trying to run.  In it, I 
need to use the pt( ) function with a noncentrality argument.  The pt( ) 
function in S-Plus does not allow for a noncentral parameter, so I need to use 
R.  This is fine, but for some reason, R is taking a huge amount of time, but 
doing the same thing in S-Plus (without the noncentral parameter in pt( )) 
does not take much time at all.   So, my main question is why does R take so 
much longer?  One problem may be because there are three 
"for" loops in the program, but still S-Plus does it quickly (with the caveat 
of no noncentral parameter).

I was also wondering how to get a function from R into S-Plus, specifically 
the pt( ) function.

Any help on this would be very much appreciated. 
Thanks,
Ken

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jan  8 23:33:29 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 8 Jan 2002 14:33:29 -0800 (PST)
Subject: [R] Memory Allocation in R and S-Plus: And functions from R to
 S-Plus
In-Reply-To: <3C3BB307@smtp.nd.edu>
Message-ID: <Pine.A41.4.43.0201081420320.43936-100000@homer26.u.washington.edu>

On Tue, 8 Jan 2002, kkelley wrote:

> Hello Everyone,
>
> I've been told that the memory allocation in R and S-Plus is different, with R
> being better at doing simulations for whatever reason(s).  I was wondering if
> anyone could enlighten me on the differences in the memory usage/allocation
> (preferably in layman's terms!).

It's not true that R is universally better, though there certainly exist
real examples where it is much better (and others where it's worse)

> The reason I ask this is because of a simulation I am trying to run.  In it, I
> need to use the pt( ) function with a noncentrality argument.  The pt( )
> function in S-Plus does not allow for a noncentral parameter, so I need to use
> R.  This is fine, but for some reason, R is taking a huge amount of time, but
> doing the same thing in S-Plus (without the noncentral parameter in pt( ))
> does not take much time at all.   So, my main question is why does R take so
> much longer?  One problem may be because there are three
> "for" loops in the program, but still S-Plus does it quickly (with the caveat
> of no noncentral parameter).

There's no necessary reason why three for() loops should be a problem,
though if you could vectorise one or more of them it should help. The
problem may well be the noncentrality parameter. The noncentral
distribution is slower to compute, especially for large quantiles and
large noncentrality.

You could see if removing the noncentrality parameter makes much
difference to the speed.  For a more thorough answer you can use the
profiler (see help(Rprof)) to find out where your program is spending its
time.

> I was also wondering how to get a function from R into S-Plus, specifically
> the pt( ) function.

The mathematical functions in R can be compiled as a separate dynamic
library, which you might be able to load into S-Plus. You could then
use .C() to call the C pnt function. This email list is not the best place
to find out the details of how to do it. :)


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Wed Jan  9 00:25:28 2002
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 08 Jan 2002 18:25:28 -0500
Subject: [R] how to use attr?
In-Reply-To: <001301c1987e$553c4900$01000001@godzilla>
Message-ID: <5.1.0.14.2.20020108182320.01d85630@mcmail.cis.mcmaster.ca>

Dear Jeff,

The tsls function in the SEM package does 2SLS estimation using a formula 
interface for both the structural equation and the instruments. It only 
estimates one equation at a time, but perhaps you can use it as a model.

I hope that this helps,
  John

At 11:54 AM 1/8/2002 -0800, Jeff D. Hamann wrote:
>I'm trying to build a flexible OLS/SUR/2SLS/3SLS package and I'm having
>trouble getting some information out of a formula. For example....
>
># set up the system of equations
>demand    <- q ~ p + d
>supply    <- q ~ p + f + a
>inst    <- ~ d + f + a
>systemeq   <- list( demand, supply )
>
>...blah, blah, blah...
>
># get the number if instruments...
># or build the "bigX"...
>#I need to get a print of the variables to build a large matrix...
>print( attr( systemeq[[1]], "variables" ) )
>
>I've tried all kinds of variants...
>names( systemeq[[1]] )
>names( systemeq[[1]]$formula )

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From y.buckley at ic.ac.uk  Wed Jan  9 07:21:26 2002
From: y.buckley at ic.ac.uk (Buckley, Yvonne M)
Date: Wed, 9 Jan 2002 06:21:26 -0000 
Subject: [R] extracting r-sq from lme model
Message-ID: <B8E71A89E7E0D411B0E200A0C9D85B26AA180B@icex6.cc.ic.ac.uk>

I've been using the nlme library to construct lme models and I'd like to
extract an r-sq value for the model - how do I do this?

With glm I just used the reported (null deviance-deviance)/(null deviance).
Deviance is not reported directly for lme nor can it be extracted using the
deviance() function.  How do I work out the deviance or can I work out R-sq
in some other way?

Thanks,
Yvonne 

Yvonne Buckley
Department of Biology
Imperial College, Silwood Park
Ascot, Berkshire
SL5 7PY  
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From M.GRUM at CGIAR.ORG  Wed Jan  9 08:00:35 2002
From: M.GRUM at CGIAR.ORG (Grum, Mikkel)
Date: Tue, 08 Jan 2002 23:00:35 -0800
Subject: [R] colour coding and different point types in a plot
Message-ID: 
 <A68A7C0BB344D511AA38005004AA9E18BA81B0@icrafnttrain.icraf.cgiar.org>

Thanks to all, the brackets worked.  The variable names are the costs of
collaboration :), certainly not my preference.

mikkel

 -----Original Message-----
From: 	Martin Maechler [mailto:maechler at stat.math.ethz.ch] 
Sent:	08 January 2002 18:08
To:	Grum, Mikkel
Cc:	R-help at stat.math.ethz.ch
Subject:	Re: [R] colour coding and different point types in a plot

>>>>> "MGrum" == Grum, Mikkel <M.GRUM at CGIAR.ORG> writes:

    MGrum> I'm trying to plot four different sorghum types on a
    MGrum> plot using a different colour/symbol combination for
    MGrum> each sorghum type (TYPBOTA in the script below).
    MGrum> What am I doing wrong?:

-- you mean, apart from using hard/horrible to read all-uppercase
    variable names  :-))  aka `big grin' -


    MGrum> plot(xx$LATITUDE,xx$SFD1,

I assume this command goes on and is finished in your real example ..

    MGrum> points(xx$SFD1,xx$LATITUDE,
    MGrum>
col=1:4[codes(xx$TYPBOTA)],pch=c(4,3,1,2)[codes(xx$TYPBOTA)])

    MGrum> I get the following error message
    MGrum> Error in 1:4[codes(xx$TYPBOTA)] : NA/NaN argument
    MGrum> In addition: Warning message: 
    MGrum> Numerical expression has 162 elements: only the first used in:
    MGrum> 1:4[codes(xx78$TYPBOTA)] 

Maybe look at this ?

 > 1:4[c(3,1,2,NA,4,2)]
 Error in 1:4[c(3, 1, 2, NA, 4, 2)] : NA/NaN argument
 In addition: Warning message: 
 Numerical expression has 6 elements: only the first used in: 1:4[c(3, 1, 2,
NA, 4, 2)] 

 > (1:4)[c(3,1,2,NA,4,2)]
 [1]  3  1  2 NA  4  2


Morale of the story: always use "(..)" when in doubt

Regards,

Martin Maechler <maechler at stat.math.ethz.ch>
http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From susanabarbosa at novalis.fc.up.pt  Wed Jan  9 08:57:31 2002
From: susanabarbosa at novalis.fc.up.pt (Susana Barbosa)
Date: Wed, 9 Jan 2002 07:57:31 +0000
Subject: [R] How to obtain the series of residuals from fracdiff
Message-ID: <200201090907.JAA10282@gtfirewall.fc.up.pt>


Hi

I'm using fracdiff package to estimate the parameters of a 
fractionally-differenced ARIMA (p,d,q) model, and it works fine, but I wanted 
to have also the filtered series and the series of residuals.
I understand these are calculated in the subroutine fdfilt, in the program 
fdcore.f, but I can't manage to get them out.

Any suggestion would be much appreciated

Thanks

Susana Barbosa
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Morten.Indbryn at indman.sintef.no  Wed Jan  9 08:58:47 2002
From: Morten.Indbryn at indman.sintef.no (Indbryn Morten)
Date: Wed, 9 Jan 2002 08:58:47 +0100 
Subject: [R] exporting an output of an analysis
Message-ID: <FAB887A53E10034EAD15661F92B837AB8016B8@sintefxch1.SINTEF.NO>

Hi
 
I am now doing a principal component analysis for a data set. This dataset
inludes above 100 variables so the output matrix of the analysis is also
big. Because the output matrix is so huge it is a problem to use the browser
of R to look at the analysis. Therefor I want to export the solution of the
principal component analysis to another tool which better fittet for viewing
big matrixes/outputs (e.g a database or spreadsheet)
 
The problem is the data format of the output of the solution. It is a
mixture of text and numbers. I have tried to convert the output solution to
a matrix or a dataframe but is not possible because of the text in the
analysis.
 
If somebody have an idea of how to view the output of the analysis in a good
way, I would have been really greatfull
 
Thank you an advance
 
Morten 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020109/d01a5f3f/attachment.html

From maeder at atmos.umnw.ethz.ch  Wed Jan  9 10:04:32 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Wed, 09 Jan 2002 10:04:32 +0100
Subject: [R] bug in read.table?
Message-ID: <3C3C07A0.54D2912A@atmos.umnw.ethz.ch>

Hello,

in the new Relase (1.4) i get a different (worser) result for read.table
with as.is=T: it crash!

Input file (t.txt, with a name, 5 character and a numeric column)
Name	short	kind	logable	use	save	lag
m	"mo"	"x"	"n"	"1"	"n"	0
Ptp	"PT"	"l"	"y"	"m"	"n"	0

R-Code
read.table('t.txt',header=T,row.names=1,as.is=T)

R-Output
stack imbalance in internal type.convert, 26 then 25stack imbalance in
.Internal, 25 then 24
stack imbalance in if, 19 then 18
stack imbalance in <-, 17 then 16
stack imbalance in {, 15 then 14
stack imbalance in internal type.convert, 25 then 24stack imbalance in
.Internal, 24 then 23
stack imbalance in if, 18 then 17
stack imbalance in <-, 16 then 15
stack imbalance in {, 14 then 13
stack imbalance in internal type.convert, 24 then 23stack imbalance in
.Internal, 23 then 22
stack imbalance in if, 17 then 16
stack imbalance in <-, 15 then 14
stack imbalance in {, 13 then 12
stack imbalance in internal type.convert, 23 then 22stack imbalance in
.Internal, 22 then 21
stack imbalance in if, 16 then 15
stack imbalance in <-, 14 then 13
stack imbalance in {, 12 then 11
stack imbalance in internal type.convert, 22 then 21stack imbalance in
.Internal, 21 then 20
stack imbalance in if, 15 then 14
stack imbalance in <-, 13 then 12
stack imbalance in {, 11 then 10
stack imbalance in internal type.convert, 21 then 20stack imbalance in
.Internal, 20 then 19
stack imbalance in if, 14 then 13
stack imbalance in <-, 12 then 11
stack imbalance in {, 10 then 9
stack imbalance in for, 8 then 2
stack imbalance in {, 6 then 0
Error in read.table("t.txt", header = T, row.names = 1, as.is = T) : 
	unprotect(): stack imbalance

Information to my R
version
         _                   
platform sparc-sun-solaris2.8
arch     sparc               
os       solaris2.8          
system   sparc, solaris2.8   
status                       
major    1                   
minor    4.0                 
year     2001                
month    12                  
day      19                  
language R                 

thanks for your help

joerg maeder

-- 
    Joerg Maeder             IACETH              INSTITUTE
   PhD Student                              FOR ATMOSPHERIC 
  Phone: +41 1 633 36 25                 AND CLIMATE SCIENCE
 Fax: +41 1 633 10 58                  ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jan  9 10:45:26 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Jan 2002 10:45:26 +0100
Subject: [R] exporting an output of an analysis
In-Reply-To: <FAB887A53E10034EAD15661F92B837AB8016B8@sintefxch1.SINTEF.NO>
References: <FAB887A53E10034EAD15661F92B837AB8016B8@sintefxch1.SINTEF.NO>
Message-ID: <x2wuyrsvrd.fsf@blueberry.kubism.ku.dk>

Indbryn Morten <Morten.Indbryn at indman.sintef.no> writes:

> Hi
>  
> I am now doing a principal component analysis for a data set. This dataset
> inludes above 100 variables so the output matrix of the analysis is also
> big. Because the output matrix is so huge it is a problem to use the browser
> of R to look at the analysis. Therefor I want to export the solution of the
> principal component analysis to another tool which better fittet for viewing
> big matrixes/outputs (e.g a database or spreadsheet)
>  
> The problem is the data format of the output of the solution. It is a
> mixture of text and numbers. I have tried to convert the output solution to
> a matrix or a dataframe but is not possible because of the text in the
> analysis.
>  
> If somebody have an idea of how to view the output of the analysis in a good
> way, I would have been really greatfull

[A general output delivery system for R could be a good idea, but it
looks like a massive undertaking...]

You probably need to extract just the loadings from the princomp
objects before converting them to a dataframe.

You might then use write.table() to a CSV file and import it to
Excel/Gnumeric/whatever

Or maybe use

view.mat <- function(m)invisible(edit(as.data.frame(m)))

as in 

pc <- princomp(....)
summary(pc)
view.mat(loadings(pc))

(I don't use PCA enough to remember the relative usefulness of
princomp and prcomp...)


BTW: The summary() method for princomp has explicit print() statements
inside, which I think we now consider bad style. It should generate an
object of class "summary.princomp" and there ought to be a
print.summary.princomp() doing the actual printing.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Wed Jan  9 11:59:45 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Wed, 09 Jan 2002 10:59:45 +0000
Subject: [R] Creating subsets with factors
Message-ID: <3C3C22A1.34734280@psy.uni-muenchen.de>

Hi all,

I don't understand the following output. I've created a data subset from
a data frame by

> p1.sub <- subset(p1.dat, vp!="p1")

this is ok. But 

> attach(p1.sub)
> vp
 [1] p1ab p1ab p1ab p1ab p1ab p1br p1br p1br p1br p1br p1kf p1kf p1kf
p1kf p1kf
[16] p1mg p1mg p1mg p1mg p1mg p1mw p1mw p1mw p1mw p1mw
Levels:  p1 p1ab p1br p1kf p1mg p1mw 

shows me that the factor vp has 6 levels instead of 5? 5 should be the
correct number of levels, because p1 isn't in the data subset.

Thanks, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan  9 11:01:52 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 9 Jan 2002 10:01:52 +0000 (GMT)
Subject: [R] bug in read.table?
In-Reply-To: <3C3C07A0.54D2912A@atmos.umnw.ethz.ch>
Message-ID: <Pine.LNX.4.31.0201090950420.2842-100000@gannet.stats>

Already reported twice to R-bugs and fixed earlier than those reports in
R-patched.  It's always worth checking those if you find a bug.

Note though as.is is close to being deprecated in favour of colClasses,
which is why this was not picked up before release.  So please either use
the new facilities or installed R-patched.


On Wed, 9 Jan 2002, Joerg Maeder wrote:

> Hello,
>
> in the new Relase (1.4) i get a different (worser) result for read.table
> with as.is=T: it crash!
>
> Input file (t.txt, with a name, 5 character and a numeric column)
> Name	short	kind	logable	use	save	lag
> m	"mo"	"x"	"n"	"1"	"n"	0
> Ptp	"PT"	"l"	"y"	"m"	"n"	0
>
> R-Code
> read.table('t.txt',header=T,row.names=1,as.is=T)
>
> R-Output
> stack imbalance in internal type.convert, 26 then 25stack imbalance in
> .Internal, 25 then 24
> stack imbalance in if, 19 then 18
> stack imbalance in <-, 17 then 16
> stack imbalance in {, 15 then 14
> stack imbalance in internal type.convert, 25 then 24stack imbalance in
> .Internal, 24 then 23
> stack imbalance in if, 18 then 17
> stack imbalance in <-, 16 then 15
> stack imbalance in {, 14 then 13
> stack imbalance in internal type.convert, 24 then 23stack imbalance in
> .Internal, 23 then 22
> stack imbalance in if, 17 then 16
> stack imbalance in <-, 15 then 14
> stack imbalance in {, 13 then 12
> stack imbalance in internal type.convert, 23 then 22stack imbalance in
> .Internal, 22 then 21
> stack imbalance in if, 16 then 15
> stack imbalance in <-, 14 then 13
> stack imbalance in {, 12 then 11
> stack imbalance in internal type.convert, 22 then 21stack imbalance in
> .Internal, 21 then 20
> stack imbalance in if, 15 then 14
> stack imbalance in <-, 13 then 12
> stack imbalance in {, 11 then 10
> stack imbalance in internal type.convert, 21 then 20stack imbalance in
> .Internal, 20 then 19
> stack imbalance in if, 14 then 13
> stack imbalance in <-, 12 then 11
> stack imbalance in {, 10 then 9
> stack imbalance in for, 8 then 2
> stack imbalance in {, 6 then 0
> Error in read.table("t.txt", header = T, row.names = 1, as.is = T) :
> 	unprotect(): stack imbalance
>
> Information to my R
> version
>          _
> platform sparc-sun-solaris2.8
> arch     sparc
> os       solaris2.8
> system   sparc, solaris2.8
> status
> major    1
> minor    4.0
> year     2001
> month    12
> day      19
> language R
>
> thanks for your help
>
> joerg maeder
>
> --
>     Joerg Maeder             IACETH              INSTITUTE
>    PhD Student                              FOR ATMOSPHERIC
>   Phone: +41 1 633 36 25                 AND CLIMATE SCIENCE
>  Fax: +41 1 633 10 58                  ETH ZRICH Switzerland
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jan  9 11:07:52 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Jan 2002 11:07:52 +0100
Subject: [R] Creating subsets with factors
In-Reply-To: <3C3C22A1.34734280@psy.uni-muenchen.de>
References: <3C3C22A1.34734280@psy.uni-muenchen.de>
Message-ID: <x2sn9fsupz.fsf@blueberry.kubism.ku.dk>

Sven Garbade <garbade at psy.uni-muenchen.de> writes:

> Hi all,
> 
> I don't understand the following output. I've created a data subset from
> a data frame by
> 
> > p1.sub <- subset(p1.dat, vp!="p1")
> 
> this is ok. But 
> 
> > attach(p1.sub)
> > vp
>  [1] p1ab p1ab p1ab p1ab p1ab p1br p1br p1br p1br p1br p1kf p1kf p1kf
> p1kf p1kf
> [16] p1mg p1mg p1mg p1mg p1mg p1mw p1mw p1mw p1mw p1mw
> Levels:  p1 p1ab p1br p1kf p1mg p1mw 
> 
> shows me that the factor vp has 6 levels instead of 5? 5 should be the
> correct number of levels, because p1 isn't in the data subset.

Nope. Factors can have levels that are not present in the data set.
There are good reasons for this. For instance you cannot c(f1,f2) if
f1 and f2 are factors with different level sets. 

If you want to reduce the levels to those present in the factor, use  

p1.sub$vp <- factor(p1.sub$vp)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan  9 11:16:00 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 9 Jan 2002 10:16:00 +0000 (GMT)
Subject: [R] exporting an output of an analysis
In-Reply-To: <x2wuyrsvrd.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.31.0201091004370.2842-100000@gannet.stats>

On 9 Jan 2002, Peter Dalgaard BSA wrote:

> Indbryn Morten <Morten.Indbryn at indman.sintef.no> writes:
>
> > Hi
> >
> > I am now doing a principal component analysis for a data set. This dataset
> > inludes above 100 variables so the output matrix of the analysis is also
> > big. Because the output matrix is so huge it is a problem to use the browser
> > of R to look at the analysis. Therefor I want to export the solution of the
> > principal component analysis to another tool which better fittet for viewing
> > big matrixes/outputs (e.g a database or spreadsheet)
> >
> > The problem is the data format of the output of the solution. It is a
> > mixture of text and numbers. I have tried to convert the output solution to
> > a matrix or a dataframe but is not possible because of the text in the
> > analysis.
> >
> > If somebody have an idea of how to view the output of the analysis in a good
> > way, I would have been really greatfull
>
> [A general output delivery system for R could be a good idea, but it
> looks like a massive undertaking...]
>
> You probably need to extract just the loadings from the princomp
> objects before converting them to a dataframe.

Well, I was going to suggest

edit(loadings(pcoutput))

which works just fine for me (as a spreadsheet).  Not clear that you
really want to look at 100 principal components anyway (a few often
suffice) nor that you want to look at the loadings but rather to plot the
data on the pcs.

An alternative would be

page(loadings(pcoutput), method="print")

to use your favourite pager.

> You might then use write.table() to a CSV file and import it to
> Excel/Gnumeric/whatever
>
> Or maybe use
>
> view.mat <- function(m)invisible(edit(as.data.frame(m)))
>
> as in
>
> pc <- princomp(....)
> summary(pc)
> view.mat(loadings(pc))
>
> (I don't use PCA enough to remember the relative usefulness of
> princomp and prcomp...)

prcomp is for S2-compatibility.

>
> BTW: The summary() method for princomp has explicit print() statements
> inside, which I think we now consider bad style. It should generate an
> object of class "summary.princomp" and there ought to be a
> print.summary.princomp() doing the actual printing.

Yes, but it doesn't generate any new quantities, so summary.princomp would
be pretty simple.  I think that style advice only applies when the summary
object actually generates summaries.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wei_xiaoyan at emc.com  Tue Jan  8 23:12:04 2002
From: wei_xiaoyan at emc.com (wei, xiaoyan)
Date: Tue, 8 Jan 2002 17:12:04 -0500 
Subject: [R] installing R-1.3.1 on Solaris 2.6
Message-ID: <FA2F59D0E55B4B4892EA076FF8704F55380017@srgraham.eng.emc.com>

Hi All,

I am trying to install R1.3.1 on solaris 2.6 using the gcc/g77 compiler. 

The configure step succeeded, but make failed. The compiler versions I used
are:
	gcc version 2.95.2 19991024 (release)
	g77 version 2.95.2 19991024 (release)
	CC  workshop Compilers 5.0 98/12/15 C++ 5.0
I can't use the c++ compiler(v2.95.2), since it failed the configure step. I
can't use f77 either, because we have no license and we are cutting cost in
the department. 

I used all default compiling flags in config.site.

My question is: 
Has anyone installed R1.3.1 successfully using gcc/g77 ( I know people have
success stories using the Forte compiler, but that is not an option for me)?

Which version do I have to use? Which flags do I have to set?

Thanks a lot!
--Xiaoyan

P.S. I attached a text file for the output from configure and make for your
reference.

 

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: log.txt
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020108/1beff792/log.txt

From garbade at psy.uni-muenchen.de  Wed Jan  9 13:15:16 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Wed, 09 Jan 2002 12:15:16 +0000
Subject: [R] Creating subsets with factors
References: <3C3C22A1.34734280@psy.uni-muenchen.de> <x2sn9fsupz.fsf@blueberry.kubism.ku.dk>
Message-ID: <3C3C3454.CE86CC95@psy.uni-muenchen.de>

Peter Dalgaard BSA wrote:
> 
> Sven Garbade <garbade at psy.uni-muenchen.de> writes:
> 
> > Hi all,
> >
> > I don't understand the following output. I've created a data subset from
> > a data frame by
> >
> > > p1.sub <- subset(p1.dat, vp!="p1")
> >
> > this is ok. But
> >
> > > attach(p1.sub)
> > > vp
> >  [1] p1ab p1ab p1ab p1ab p1ab p1br p1br p1br p1br p1br p1kf p1kf p1kf
> > p1kf p1kf
> > [16] p1mg p1mg p1mg p1mg p1mg p1mw p1mw p1mw p1mw p1mw
> > Levels:  p1 p1ab p1br p1kf p1mg p1mw
> >
> > shows me that the factor vp has 6 levels instead of 5? 5 should be the
> > correct number of levels, because p1 isn't in the data subset.
> 
> Nope. Factors can have levels that are not present in the data set.
> There are good reasons for this. For instance you cannot c(f1,f2) if
> f1 and f2 are factors with different level sets.

Ok, this is evident.

Thanks, Sven
 
> If you want to reduce the levels to those present in the factor, use
> 
> p1.sub$vp <- factor(p1.sub$vp)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan  9 12:11:53 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 9 Jan 2002 11:11:53 +0000 (GMT)
Subject: [R] installing R-1.3.1 on Solaris 2.6
In-Reply-To: <FA2F59D0E55B4B4892EA076FF8704F55380017@srgraham.eng.emc.com>
Message-ID: <Pine.LNX.4.31.0201091106380.3676-100000@gannet.stats>

On Tue, 8 Jan 2002, wei, xiaoyan wrote:

> Hi All,
>
> I am trying to install R1.3.1 on solaris 2.6 using the gcc/g77 compiler.
>
> The configure step succeeded, but make failed. The compiler versions I used
> are:
> 	gcc version 2.95.2 19991024 (release)
> 	g77 version 2.95.2 19991024 (release)
> 	CC  workshop Compilers 5.0 98/12/15 C++ 5.0
> I can't use the c++ compiler(v2.95.2), since it failed the configure step. I
> can't use f77 either, because we have no license and we are cutting cost in
> the department.

(g++ also works from 2.95.2, but you do need /usr/local/lib in
LD_LIBRARY_PATH to use it.)

> I used all default compiling flags in config.site.
>
> My question is:
> Has anyone installed R1.3.1 successfully using gcc/g77 ( I know people have
> success stories using the Forte compiler, but that is not an option for me)?
>
> Which version do I have to use? Which flags do I have to set?

Definitely, with that compiler, out of the box.  I would suggest you try
1.4.0 though, or even R-patched.tar.gz.

You do need a working ar, though, and

ld: warning: file ../unix/libunix.a ignored: unable to locate archive =
symbol table
ld: warning: file ../appl/libappl.a ignored: unable to locate archive =
symbol table
ld: warning: file ../nmath/libnmath.a ignored: unable to locate archive =
symbol table

is your problem.  Which ar are you using, and it is really for Solaris
2.6?  You should be using

auk% which ar
/usr/ccs/bin/ar

You could try running ranlib on the libraries and see if it goes through.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Wed Jan  9 13:53:41 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Wed, 9 Jan 2002 07:53:41 -0500
Subject: [R] Creating subsets with factors
In-Reply-To: <x2sn9fsupz.fsf@blueberry.kubism.ku.dk>
References: <3C3C22A1.34734280@psy.uni-muenchen.de>
	<x2sn9fsupz.fsf@blueberry.kubism.ku.dk>
Message-ID: <20020109075341.5e995479.fharrell@virginia.edu>

I respectfully disagree with Peter.  In all the data analysis I have done I have found that 0.99 of the time it is most convenient to have unused levels dropped upon subsetting.  In my work I do this by default.  I realize that system overrides are to be avoided at almost all costs, but [.factor is the only function I override for R.  I print a message saying that the traditional behavior may be obtained by using options(drop.unused.levels=FALSE).  I have lobbied for S-Plus and R developers to adopt this approach although having the DEFAULT be drop.unused.levels=FALSE (i.e., users would say options(drop.unused.levels=TRUE) to get my behavior), but an insufficient number of people seem to agree with me on this point.

A slightly more logical way to drop unused levels for the current setup is 

  x <- x[,drop=T]

I have not needed to use c(f1, f2) but it seems to me that Peter's example points out more a deficiency in c or the need for another binding function for this case (which can be done with factor(c(as.character(f1),as.character(f2))) depending on how NAs are handled.

Frank Harrell

On 09 Jan 2002 11:07:52 +0100
Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> wrote:

> Sven Garbade <garbade at psy.uni-muenchen.de> writes:
> 
> > Hi all,
> > 
> > I don't understand the following output. I've created a data subset from
> > a data frame by
> > 
> > > p1.sub <- subset(p1.dat, vp!="p1")
> > 
> > this is ok. But 
> > 
> > > attach(p1.sub)
> > > vp
> >  [1] p1ab p1ab p1ab p1ab p1ab p1br p1br p1br p1br p1br p1kf p1kf p1kf
> > p1kf p1kf
> > [16] p1mg p1mg p1mg p1mg p1mg p1mw p1mw p1mw p1mw p1mw
> > Levels:  p1 p1ab p1br p1kf p1mg p1mw 
> > 
> > shows me that the factor vp has 6 levels instead of 5? 5 should be the
> > correct number of levels, because p1 isn't in the data subset.
> 
> Nope. Factors can have levels that are not present in the data set.
> There are good reasons for this. For instance you cannot c(f1,f2) if
> f1 and f2 are factors with different level sets. 
> 
> If you want to reduce the levels to those present in the factor, use  
> 
> p1.sub$vp <- factor(p1.sub$vp)
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Wed Jan  9 15:36:56 2002
From: stuart.leask at nottingham.ac.uk (Stuart Leask)
Date: Wed, 9 Jan 2002 14:36:56 -0000
Subject: [R] value labels from read.spss()?
References: <Pine.LNX.4.30.0201081100090.19722-100000@bolker.zoo.ufl.edu>
Message-ID: <000901c1991b$16b964e0$f2e1f380@nottingham.ac.uk>

Does anyone know how to access/list the value labels stored in a SPSS .sav
file?
At the moment I can read in variables using read.spss() (foreign package),
but have to power up SPSS to check value labels.

Stuart

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Jan  9 15:50:19 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 09 Jan 2002 08:50:19 -0600
Subject: [R] extracting r-sq from lme model
In-Reply-To: <B8E71A89E7E0D411B0E200A0C9D85B26AA180B@icex6.cc.ic.ac.uk>
References: <B8E71A89E7E0D411B0E200A0C9D85B26AA180B@icex6.cc.ic.ac.uk>
Message-ID: <6r8zb7fuj8.fsf@franz.stat.wisc.edu>

"Buckley, Yvonne M" <y.buckley at ic.ac.uk> writes:

> I've been using the nlme library to construct lme models and I'd like to
> extract an r-sq value for the model - how do I do this?
> 
> With glm I just used the reported (null deviance-deviance)/(null deviance).
> Deviance is not reported directly for lme nor can it be extracted using the
> deviance() function.  How do I work out the deviance or can I work out R-sq
> in some other way?

I'm not sure that there is a definition of an r-sq for linear
mixed-effects models.  If you can give me a formula I can perhaps tell
you how to calculate the required quantities from a fitted lme model.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Wed Jan  9 16:28:02 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 9 Jan 2002 10:28:02 -0500 (EST)
Subject: [R] value labels from read.spss()?
Message-ID: <200201091528.g09FS2027571@cattell.psych.upenn.edu>

>From owner-r-help at stat.math.ethz.ch Wed Jan  9 10:08:44 2002
>
>Does anyone know how to access/list the value labels stored in a SPSS .sav
>file?
>At the moment I can read in variables using read.spss() (foreign package),
>but have to power up SPSS to check value labels.
>
>Stuart

There may be a solution to this in R, and I would love to hear
it, but I was just faced with exactly this problem and I solved
it with the Unix "strings" command:

strings thefile.sav > thefile.txt

for example.  Jon Baron


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed Jan  9 16:38:19 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 09 Jan 2002 10:38:19 -0500
Subject: [R] Creating subsets with factors
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8470@usrymx10.merck.com>

[snipped...]

> I have not needed to use c(f1, f2) but it seems to me that 
> Peter's example points out more a deficiency in c or the need 
> for another binding function for this case (which can be done 
> with factor(c(as.character(f1),as.character(f2))) depending 
> on how NAs are handled.

More often than I'd like, I have to combine several related data frames
together.  The following showed that the rbind method for data frames does
do a reasonable job:

# Suppose dat1 and dat2 are two data frames with same variables.
> dat1$ind <- factor(rep("dat1", nrow(dat1)))
> dat2$ind <- factor(rep("dat2", nrow(dat2)))
> dat <- rbind(dat1, dat2)
> levels(dat$ind)
[1] "dat1" "dat2"

> Frank Harrell

[more snipped...]

Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jan  9 16:52:54 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Jan 2002 16:52:54 +0100
Subject: [R] value labels from read.spss()?
In-Reply-To: <000901c1991b$16b964e0$f2e1f380@nottingham.ac.uk>
References: <Pine.LNX.4.30.0201081100090.19722-100000@bolker.zoo.ufl.edu>
	<000901c1991b$16b964e0$f2e1f380@nottingham.ac.uk>
Message-ID: <x2bsg3seqx.fsf@blueberry.kubism.ku.dk>

"Stuart Leask" <stuart.leask at nottingham.ac.uk> writes:

> Does anyone know how to access/list the value labels stored in a SPSS .sav
> file?
> At the moment I can read in variables using read.spss() (foreign package),
> but have to power up SPSS to check value labels.
> 
> Stuart

I don't think this is currently implemented but it might not be too
difficult to do. As far as I can see the code in foreign already knows
how to read the stuff, it just never gets copied into R variables. 

The internal format is somewhat different from R's idea of a factor,
but it should be workable:

Essentially there's a list of label records, which each have a list of
<value, label> pairs, and an associated list of variables (in index
form) to which the format applies.

Any takers?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From shilet at hotmail.com  Wed Jan  9 17:05:22 2002
From: shilet at hotmail.com (sheila timp)
Date: Wed, 09 Jan 2002 16:05:22 +0000
Subject: [R] eps files
Message-ID: <F176PXIX1rE2htM27mb000172e1@hotmail.com>

Hi,

I want to make eps-files of different histograms.
So I give the commands:
postscript(file="barplot.eps",width=6,height=8,bg="white",)
hist(dcoverlap, col = "blue" )

Then I give the command dev.off() and start a new session with the same 
commands and other files.
However, some eps-files contain the right figures (histograms) while other 
ones are empty (zero bytes)

Can anyone help me,

thanks,
Sheila



_________________________________________________________________
Send and receive Hotmail on your mobile device: http://mobile.msn.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Jan  9 17:19:39 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 9 Jan 2002 08:19:39 -0800 (PST)
Subject: [R] value labels from read.spss()?
In-Reply-To: <x2bsg3seqx.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.A41.4.43.0201090816290.128914-100000@homer37.u.washington.edu>

On 9 Jan 2002, Peter Dalgaard BSA wrote:

>
> I don't think this is currently implemented but it might not be too
> difficult to do. As far as I can see the code in foreign already knows
> how to read the stuff, it just never gets copied into R variables.
>
> The internal format is somewhat different from R's idea of a factor,
> but it should be workable:
>
> Essentially there's a list of label records, which each have a list of
> <value, label> pairs, and an associated list of variables (in index
> form) to which the format applies.
>

There's also an example to work from in read.dta, which does turn value
labels into factor levels. As with SPSS the information wasn't stored in
an ideal format, but I just returned it all as attributes on the data
object and did the necessary reordering and conversion in interpreted
code.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nychka at cgd.ucar.edu  Wed Jan  9 18:09:00 2002
From: nychka at cgd.ucar.edu (Doug Nychka)
Date: Wed, 9 Jan 2002 10:09:00 -0700 (MST)
Subject: [R] configure
In-Reply-To: <6r8zb7fuj8.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.GSO.4.30.0201091004550.4761-100000@student.cgd.ucar.edu>

Where is more information/example on using the configure file for
installing packages?

As part of a package I would like to compile a standalone FORTRAN
program. I think it should (eventually) go in the subdirectory exec but am
not sure what to read and can not find any examples.

Thanks in advance,
Doug

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Peters.Andrea at imbe.imed.uni-erlangen.de  Wed Jan  9 18:08:24 2002
From: Peters.Andrea at imbe.imed.uni-erlangen.de (Andrea Peters)
Date: Wed, 9 Jan 2002 18:08:24 +0100 (CET)
Subject: [R] na.action in predict.lm
Message-ID: <Pine.LNX.4.21.0201091803490.12447-100000@imbe78.imbe.med.uni-erlangen.de>


I would like to predict a matrix containing missing values according to a
fitted linear model.
The predicted values must have the same length as the number of
observations in newdata, where missing predicted values (due to missing
explanatory values) are replaced by NA. How can I achieve this? I tried
the following example:

> x <- matrix(rnorm(100), ncol=10)
> beta <- rep(1, 10)
> y <- x%*%beta + rnorm(10)
> 
> options(na.action="na.exclude")
> mod <- lm(y ~ . - 1, data=as.data.frame(x))
> 
> x[5,5] <- NA
> x <- as.data.frame(x)                  
> predict(mod, newdata=x)
         1          2          3          4          6          7 
-0.6161748  1.3659464 -3.2987223  1.2891959  2.1753231 -3.9714629
         8          9         10
-0.8349864  2.1076517 -2.3992661 


The desired output would look like:
         1          2          3          4   5          6          7 
-0.6161748  1.3659464 -3.2987223  1.2891959  NA  2.1753231 -3.9714629
         8          9         10
-0.8349864  2.1076517 -2.3992661 


I already read the help pages of na.action, options, napredict etc., but
I couldn't figure out how to solve this problem.

Many thanks in advance for helpful comments.
Andrea

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stockton at neptuneandco.com  Wed Jan  9 18:14:04 2002
From: stockton at neptuneandco.com (Thomas Stockton)
Date: Wed, 9 Jan 2002 10:14:04 -0700
Subject: [R] lattice problems under Win2K and R-1.4.0
Message-ID: <NEBBIAGCDACDCIIENIIHGEGBDJAA.stockton@neptuneandco.com>

I'm having problems copying and saving lattice graphs using R-1.4.0 under
Win2k. It seems I've see this alluded to recently in R-help.

If I do the following example:

> data(quakes)
> xyplot(long ~ lat , data = quakes)

And then try to copy or save the graph as either a metafile or bitmap or if
I use any of the bitmap/metafile devices via (for example)

> png(file="mygraph.png")
> data(quakes)
> xyplot(long ~ lat , data = quakes)
> dev.off()

I get the following type of error:
Error in grid.newpage() : A png file can store only one figure.

or for a metafile:

Error: A metafile can store only one figure.

This happens using R-1.4.0 installed using SetupR.exe and under R-1.4.0 I
make myself.

Any help with this is much appreciated.

On another note. Is anyone working on an svg graphics for R. Myself and a
co-worker have developed svg bubble plots with gis underlays in R and I'm
wondering about the possibilities of a more generic svg graphic driver.


Thanks!

Tom Stockton
Neptune and Company
stockton at neptuneandco.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan  9 18:25:44 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 9 Jan 2002 17:25:44 +0000 (GMT)
Subject: [R] na.action in predict.lm
In-Reply-To: <Pine.LNX.4.21.0201091803490.12447-100000@imbe78.imbe.med.uni-erlangen.de>
Message-ID: <Pine.LNX.4.31.0201091717070.6022-100000@gannet.stats>

On Wed, 9 Jan 2002, Andrea Peters wrote:

>
> I would like to predict a matrix containing missing values according to a
> fitted linear model.
> The predicted values must have the same length as the number of
> observations in newdata, where missing predicted values (due to missing
> explanatory values) are replaced by NA. How can I achieve this? I tried
> the following example:
>
> > x <- matrix(rnorm(100), ncol=10)
> > beta <- rep(1, 10)
> > y <- x%*%beta + rnorm(10)
> >
> > options(na.action="na.exclude")
> > mod <- lm(y ~ . - 1, data=as.data.frame(x))
> >
> > x[5,5] <- NA
> > x <- as.data.frame(x)
> > predict(mod, newdata=x)
>          1          2          3          4          6          7
> -0.6161748  1.3659464 -3.2987223  1.2891959  2.1753231 -3.9714629
>          8          9         10
> -0.8349864  2.1076517 -2.3992661
>
>
> The desired output would look like:
>          1          2          3          4   5          6          7
> -0.6161748  1.3659464 -3.2987223  1.2891959  NA  2.1753231 -3.9714629
>          8          9         10
> -0.8349864  2.1076517 -2.3992661
>
>
> I already read the help pages of na.action, options, napredict etc., but
> I couldn't figure out how to solve this problem.


na.exclude only works with the existing dataset (from which the data were
fitted).  So this is OK:

> x <- matrix(rnorm(100), ncol=10)
> beta <- rep(1, 10)
> y <- x%*%beta + rnorm(10)
> y <- x%*%beta + rnorm(10)
> x[5,5] <- NA
> mod <- lm(y ~ . - 1, data=as.data.frame(x), na.action="na.exclude")
> predict(mod)
          1           2           3           4           5           6
  0.6629695   0.4075846  -2.9255085  -1.8214493          NA  -0.3774940
          7           8           9          10
-10.5488613   3.8361323   0.8803932  -3.8637141

If you want to predict for a new x containing missing values, do

xn <- as.data.frame(matrix(rnorm(100), ncol=10))
xn[5,5] <- NA


pred <- rep(NA, nrow(xn)); names(pred) <- row.names(xn)
xnn <- na.omit(xn)
pred[-attr(xnn, "na.action")] <- predict(mod, xnn)
pred


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan  9 18:29:35 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 9 Jan 2002 17:29:35 +0000 (GMT)
Subject: [R] lattice problems under Win2K and R-1.4.0
In-Reply-To: <NEBBIAGCDACDCIIENIIHGEGBDJAA.stockton@neptuneandco.com>
Message-ID: <Pine.LNX.4.31.0201091726050.6022-100000@gannet.stats>

This is known and oft reported (see the archives).  It's a problem
with grid 0.5, which starts up with a blank page.

On Wed, 9 Jan 2002, Thomas Stockton wrote:

> I'm having problems copying and saving lattice graphs using R-1.4.0 under
> Win2k. It seems I've see this alluded to recently in R-help.
>
> If I do the following example:
>
> > data(quakes)
> > xyplot(long ~ lat , data = quakes)
>
> And then try to copy or save the graph as either a metafile or bitmap or if
> I use any of the bitmap/metafile devices via (for example)
>
> > png(file="mygraph.png")
> > data(quakes)
> > xyplot(long ~ lat , data = quakes)
> > dev.off()
>
> I get the following type of error:
> Error in grid.newpage() : A png file can store only one figure.
>
> or for a metafile:
>
> Error: A metafile can store only one figure.
>
> This happens using R-1.4.0 installed using SetupR.exe and under R-1.4.0 I
> make myself.
>
> Any help with this is much appreciated.

Read on in the archives for what does work (any means of plotting on
screen and then copying).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stockton at neptuneandco.com  Wed Jan  9 18:39:21 2002
From: stockton at neptuneandco.com (Thomas Stockton)
Date: Wed, 9 Jan 2002 10:39:21 -0700
Subject: [R] lattice problems under Win2K and R-1.4.0
Message-ID: <NEBBIAGCDACDCIIENIIHEEGCDJAA.stockton@neptuneandco.com>


I'm having problems copying and saving lattice graphs using R-1.4.0 under
Win2k. It seems I've see this alluded to recently in R-help.

If I do the following example:

> data(quakes)
> xyplot(long ~ lat , data = quakes)

And then try to copy or save the graph as either a metafile or bitmap or if
I use any of the bitmap/metafile devices via (for example)

> png(file="mygraph.png")
> data(quakes)
> xyplot(long ~ lat , data = quakes)
> dev.off()

I get the following type of error:
Error in grid.newpage() : A png file can store only one figure.

or for a metafile:

Error: A metafile can store only one figure.

This happens using R-1.4.0 installed using SetupR.exe and under R-1.4.0 I
make myself.

Any help with this is much appreciated.

On another note. Is anyone working on an svg graphics for R. Myself and a
co-worker have developed svg bubble plots with gis underlays in R and I'm
wondering about the possibilities of a more generic svg graphic driver.


Thanks!

Tom Stockton
Neptune and Company
stockton at neptuneandco.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Liu.Chunhua at epamail.epa.gov  Wed Jan  9 19:02:47 2002
From: Liu.Chunhua at epamail.epa.gov (Liu.Chunhua@epamail.epa.gov)
Date: Wed, 09 Jan 2002 13:02:47 -0500
Subject: [R] Difference in Cat(...) function between S Plus and R ?
Message-ID: <OFD9323C86.F06B2FA3-ON85256B3C.00626A05@rtp.epa.gov>

Dear All,

THis is my "data.char$excluded" object and I want to show its content in
my output screen.

> data.char$excluded
$names
[1] "Species" "Target"  "Sex"

[[2]]
[1] "DG"

[[3]]
[1] "R"

[[4]]
[1] "M"

>

When I run cat() in S Plus, I got:

> cat(data.char$excluded, "\n")
c("Species", "Target", "Sex") "DG" "R" "M"

However, when I run the same commend in R, I got:
> cat(data.char$excluded, "\n")
Error in cat(list(...), file, sep, fill, labels, append) :
        argument 1 not yet handled by cat

Anyone know what's wrong with it.

Thanks

Charlie Liu



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan  9 19:33:12 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 9 Jan 2002 18:33:12 +0000 (GMT)
Subject: [R] Difference in Cat(...) function between S Plus and R ?
In-Reply-To: <OFD9323C86.F06B2FA3-ON85256B3C.00626A05@rtp.epa.gov>
Message-ID: <Pine.LNX.4.31.0201091829510.6222-100000@gannet.stats>

Looks like it's a list, but you haven't told us (and the result of
typeof() would have helped).

If so, this is a known difference, and see ?unlist for how to help resolve
it.  I don't think though that what you show for `S Plus' is very useful,
and normally you want to loop over a list.

On Wed, 9 Jan 2002 Liu.Chunhua at epamail.epa.gov wrote:

> Dear All,
>
> THis is my "data.char$excluded" object and I want to show its content in
> my output screen.
>
> > data.char$excluded
> $names
> [1] "Species" "Target"  "Sex"
>
> [[2]]
> [1] "DG"
>
> [[3]]
> [1] "R"
>
> [[4]]
> [1] "M"
>
> >
>
> When I run cat() in S Plus, I got:
>
> > cat(data.char$excluded, "\n")
> c("Species", "Target", "Sex") "DG" "R" "M"
>
> However, when I run the same commend in R, I got:
> > cat(data.char$excluded, "\n")
> Error in cat(list(...), file, sep, fill, labels, append) :
>         argument 1 not yet handled by cat
>
> Anyone know what's wrong with it.
>
> Thanks
>
> Charlie Liu
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Liu.Chunhua at epamail.epa.gov  Wed Jan  9 19:30:48 2002
From: Liu.Chunhua at epamail.epa.gov (Liu.Chunhua@epamail.epa.gov)
Date: Wed, 09 Jan 2002 13:30:48 -0500
Subject: No subject
Message-ID: <OF5E975872.16B258F1-ON85256B3C.00659865@rtp.epa.gov>


Dear All,

THis is my "data.char$excluded" object and I want to show its content in
my output screen.

> data.char$excluded
$names
[1] "Species" "Target"  "Sex"

[[2]]
[1] "DG"

[[3]]
[1] "R"

[[4]]
[1] "M"

>

When I run cat() in S Plus, I got:

> cat(data.char$excluded, "\n")
c("Species", "Target", "Sex") "DG" "R" "M"

However, when I run the same commend in R, I got:
> cat(data.char$excluded, "\n")
Error in cat(list(...), file, sep, fill, labels, append) :
        argument 1 not yet handled by cat

Anyone know what's wrong with it.

Thanks

Charlie Liu



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Wed Jan  9 19:46:04 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Wed, 9 Jan 2002 13:46:04 -0500
Subject: [R] BLAS and the Sun Performance Library
Message-ID: <15420.36844.410546.857266@gargle.gargle.HOWL>

Hi, all,

   We just got the Sun Performance Library for our Suns running Solaris 2.6,
and I read the relevant section of the "R Installation and Administration
Manual" about configuring R to use BLAS.  The manual suggests you must use
Sun's "cc" and "f95" (maybe "f90"?) compilers in order to use the Performance
Library.  We have "cc" but not "f95".

   Would we be better off buying "f95", or compiling our own BLAS using ATLAS
and our usual "gcc"/"g77" Gnu compilers?  Has anyone successfully done the
latter under Solaris 2.6?
-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan  9 19:59:16 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 9 Jan 2002 18:59:16 +0000 (GMT)
Subject: [R] BLAS and the Sun Performance Library
In-Reply-To: <15420.36844.410546.857266@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.31.0201091850000.6309-100000@gannet.stats>

On Wed, 9 Jan 2002, David Brahm wrote:

> Hi, all,
>
>    We just got the Sun Performance Library for our Suns running Solaris 2.6,
> and I read the relevant section of the "R Installation and Administration
> Manual" about configuring R to use BLAS.  The manual suggests you must use
> Sun's "cc" and "f95" (maybe "f90"?) compilers in order to use the Performance
> Library.  We have "cc" but not "f95".

At least here cc+f77 does not work. libsunperf depends on libraries that
are part of f95 on our system, specifically most of -lfui -lfai -lfai2
-lfsumai -lfprodai -lfminlai -lfmaxlai -lfminvai -lfmaxvai -lfsu, and
FLIBS did not get those from f77, nor does my home machine without f95
installed have them on.  You may be able to work around this.

f90 and f95 are the same thing on our installation.

>    Would we be better off buying "f95", or compiling our own BLAS using ATLAS
> and our usual "gcc"/"g77" Gnu compilers?  Has anyone successfully done the
> latter under Solaris 2.6?

Yes, and it's pretty effective.  I think the Sun Fortran compilers are a
lot better than g77 on Solaris, but unless you are using R for linear
algebra (which perhaps *you* are), the final speed differences are small.
(And if you are and are worried about speed, try a matrix algebra
package.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Richard_Yanicky at nrgn.com  Wed Jan  9 20:35:34 2002
From: Richard_Yanicky at nrgn.com (Yanicky, Richard)
Date: Wed, 9 Jan 2002 14:35:34 -0500 
Subject: [R] RODBC SQL help
Message-ID: <68DD016AFCDBD3118B3000508B6C6B17F140FA@nrgn.nrgn.com>

Dear List,


I have a SQL query that I need to run against Oracle. The query is long,
approx 30 lines. It runs fine in SQL/Plus and is fully optimized. I can't
figure out how to pass the query to the sqlQuery function of RODBC. The
query has many commas and quoted strings which seem to confuse R when I
attempt to make a long string out of it. Are there any examples on what to
do with complex SQL queries and the R/S language. I can make a stored
procedure out of this but I don't what to do it for every "advanced" query
that I write.


Thank You in advance,

Richard Yanicky
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Wed Jan  9 20:47:57 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Wed, 09 Jan 2002 19:47:57 +0000
Subject: [R] lattice problems under Win2K and R-1.4.0
References: <NEBBIAGCDACDCIIENIIHGEGBDJAA.stockton@neptuneandco.com>
Message-ID: <3C3C9E6D.2BA30F78@sentoo.sn>

Hi Thomas,

I met the same problem (with Win98 and R-1.4.0). It also occurs with wmf
but others will work (bmp, jpeg). It seems to come from the grid
package. I went back to 1.3.1. to overcome (!) the problem...

Best regards,

Renaud

Thomas Stockton wrote:
> 
> I'm having problems copying and saving lattice graphs using R-1.4.0 under
> Win2k. It seems I've see this alluded to recently in R-help.
> 
> If I do the following example:
> 
> > data(quakes)
> > xyplot(long ~ lat , data = quakes)
> 
> And then try to copy or save the graph as either a metafile or bitmap or if
> I use any of the bitmap/metafile devices via (for example)
> 
> > png(file="mygraph.png")
> > data(quakes)
> > xyplot(long ~ lat , data = quakes)
> > dev.off()
> 
> I get the following type of error:
> Error in grid.newpage() : A png file can store only one figure.
> 
> or for a metafile:
> 
> Error: A metafile can store only one figure.
> 
> This happens using R-1.4.0 installed using SetupR.exe and under R-1.4.0 I
> make myself.
> 
> Any help with this is much appreciated.
> 
> On another note. Is anyone working on an svg graphics for R. Myself and a
> co-worker have developed svg bubble plots with gis underlays in R and I'm
> wondering about the possibilities of a more generic svg graphic driver.
> 
> Thanks!
> 
> Tom Stockton
> Neptune and Company
> stockton at neptuneandco.com
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.janmaat at acadiau.ca  Wed Jan  9 20:49:07 2002
From: john.janmaat at acadiau.ca (John Janmaat)
Date: Wed, 09 Jan 2002 15:49:07 -0400
Subject: [R] Cochrane-Orcutt method
Message-ID: <3C3C9EB3.F2400A80@acadiau.ca>

Hello,

Is there a package that implements the Cochrane-Orcutt itterative
procedure for dealing with autocorrelation in a regression model?

Thanks,

John.
-- 
==========================================
John Janmaat
Department of Economics
Acadia University, Wolfville, NS, B0P 1X0
(902)585-1461

All opinions stated are personal, unless
otherwise indicated.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan  9 21:30:41 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 9 Jan 2002 20:30:41 +0000 (GMT)
Subject: [R] Cochrane-Orcutt method
In-Reply-To: <3C3C9EB3.F2400A80@acadiau.ca>
Message-ID: <Pine.LNX.4.31.0201092029310.6397-100000@gannet.stats>

On Wed, 9 Jan 2002, John Janmaat wrote:

> Hello,
>
> Is there a package that implements the Cochrane-Orcutt itterative
> procedure for dealing with autocorrelation in a regression model?

No, but

(1) gls in package nlme does it properly.

(2) There is a worked example in MASS (the book, and in the on-line help
for beav2 & beav1).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Wed Jan  9 22:14:51 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Wed, 9 Jan 2002 13:14:51 -0800 (PST)
Subject: [R] lattice problems under Win2K and R-1.4.0
In-Reply-To: <NEBBIAGCDACDCIIENIIHEEGCDJAA.stockton@neptuneandco.com>
Message-ID: <20020109211451.19066.qmail@web13905.mail.yahoo.com>



There's a hack you can use if you are sure that you are going to produce 
only one plot (more precisely, if you are sure that the first plot on that 
device is going to be produced by lattice). Try


trellis.device("png", file="mygraph.png")

.lattice.print.more <<- TRUE

data(quakes)
xyplot(long ~ lat , data = quakes)
dev.off()

The same should work in other devices as well. 

Note that you should ALWAYS USE trellis.device() to start a device, and 
not just something like png(). 





--- Thomas Stockton <stockton at neptuneandco.com> wrote:
> 
> I'm having problems copying and saving lattice graphs using R-1.4.0 under
> Win2k. It seems I've see this alluded to recently in R-help.
> 
> If I do the following example:
> 
> > data(quakes)
> > xyplot(long ~ lat , data = quakes)
> 
> And then try to copy or save the graph as either a metafile or bitmap or if
> I use any of the bitmap/metafile devices via (for example)
> 
> > png(file="mygraph.png")
> > data(quakes)
> > xyplot(long ~ lat , data = quakes)
> > dev.off()
> 
> I get the following type of error:
> Error in grid.newpage() : A png file can store only one figure.
> 
> or for a metafile:
> 
> Error: A metafile can store only one figure.
> 
> This happens using R-1.4.0 installed using SetupR.exe and under R-1.4.0 I
> make myself.
> 
> Any help with this is much appreciated.
> 
> On another note. Is anyone working on an svg graphics for R. Myself and a
> co-worker have developed svg bubble plots with gis underlays in R and I'm
> wondering about the possibilities of a more generic svg graphic driver.
> 
> 
> Thanks!
> 
> Tom Stockton
> Neptune and Company
> stockton at neptuneandco.com
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

__________________________________________________
Do You Yahoo!?
Send FREE video emails in Yahoo! Mail!
http://promo.yahoo.com/videomail/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Tharacad.Ramanarayanan at aventis.com  Wed Jan  9 22:43:43 2002
From: Tharacad.Ramanarayanan at aventis.com (Tharacad.Ramanarayanan@aventis.com)
Date: Wed, 9 Jan 2002 16:43:43 -0500 
Subject: [R] Fitting Distributions
Message-ID: <0282308471EAD511B37C00508B0CAA53C22762@AUSRT021>

I am new to R. So, please bear with me if this questions is already been
asked and answered.

I am looking for a R function that fit a dataset to common distributions
such as Normla, Log-Normal, Poisson, Weibull, and Beta. Basically I am
looking for ways to estimate distribution parameters rather than having to
write a program for it.

Thanks for your help.



T. S. Ramanarayanan
Aventis CropScience, RTP, NC, USA.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From steinep at uni-muenster.de  Wed Jan  9 23:13:55 2002
From: steinep at uni-muenster.de (Petra Steiner)
Date: Wed, 9 Jan 2002 23:13:55 +0100
Subject: [R] Distance matrix by cosine?
Message-ID: <002c01c1995a$eedf4300$e514b080@oemcomputer>

Hello,

a. is there a possibility to obtain a distance matrix with the cosine between vectors?? hclust, hierclust, dist will not work and seem to be hard to extend.

b. if there is not: Is the cosine between vectors implemented somewhere?

Thanks for all hints and advice!

Petra Steiner 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020109/f64ac334/attachment.html

From kwan022 at stat.auckland.ac.nz  Wed Jan  9 23:25:19 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Thu, 10 Jan 2002 11:25:19 +1300 (NZDT)
Subject: [R] Build R Packages (man)
Message-ID: <Pine.SOL.4.21.0201101120220.24275-100000@stat1.stat.auckland.ac.nz>

Hi there,

I'm trying to get the manual for an R package (that I'm creating) to
work...

Firstly, I created the *.Rd files (by following the instructions in
"Writing R Extensions" and using prompt() in R, then edit the *.Rd
files.  I then copy them into the "pkg/man" directory as suggested by the
manual.  However when I load the library (successfully) in R, I cannot
find the manuals for my data sets.  For example, if I type:
   library(myLib)
   data(foo)
they work fine.  And I can play with the data set foo.  However then I
type:
  ?foo
it cannot find the documentation which I created and placed in the /man
directory.

Secondly, I tried to convert the Rd files into html using R CMD Rdconv,
but I cannot quite follow the manual "R CMD Rdconv --help".  I tried:
  R CMD Rdconv --output=html man > html
and it returns:
  Unknown type: options are txt, html, latex, Sd, example
I also tried several other ways but can't seem to get R CMD Rdconv to
work.

Thanks in advance for the help ;-)

Cheers,

Ko-Kang Wang

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Wed Jan  9 23:47:28 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Wed, 9 Jan 2002 23:47:28 +0100
Subject: [R] methods: Extending classes
Message-ID: <KKEGJOGBELBHDIKPINBMAEECCJAA.hb@maths.lth.se>

Hi (again), let's say I want to create a class Matrix that extends the class
matrix, but I can't get it to work. I define the class as

  > setClass("Matrix", "matrix")
  > getClass("Matrix")

  No Slots, prototype of class "matrix"

  Extends:
  Class "matrix" directly.
  Class "structure" by class "matrix".
  Class "vector" by class "matrix".
  Class "array" by class "matrix".

Creating a default Matrix object works fine:

  > m1 <- new("Matrix")

But, when I try to set its value I get the following error:

  > m3 <- new("Matrix", 1)
  Error in asMethod(object, Class, value) : unused argument(s) ( ...)

or

  > m2 <- new("Matrix", matrix(1))
  Error in asMethod(object, Class, value) : unused argument(s) ( ...)

I also tried to declare a class MyInteger that extends the class integer,
but the same errors:

  > setClass("MyInteger", representation("integer"))
  > i1 <- new("MyInteger")
  > i2 <- new("MyInteger", 3)
  Error in asMethod(object, Class, value) : unused argument(s) ( ...)
  > i3 <- new("MyInteger", as.integer(3))
  Error in asMethod(object, Class, value) : unused argument(s) ( ...)

A bug or me?

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e
http://www.maths.lth.se/matstat/staff/hb/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thoar at cgd.ucar.edu  Wed Jan  9 23:55:16 2002
From: thoar at cgd.ucar.edu (Tim Hoar)
Date: Wed, 9 Jan 2002 15:55:16 -0700 (MST)
Subject: [R] R package-building
Message-ID: <Pine.GSO.4.30.0201091113290.18947-100000@sunray2>

Hello,

I am building a package to read in a pretty common atmospheric data format
and create a SKEW-T, log p diagram (also very common for the atmospheric
community).

The problem is this: How should one address the (ASCII) data files so that
the examples find them? I have read through the "Writing R Extensions"
document and still have a problem.

There seems to be some sort of disconnect between getting the examples
to run when you "R CMD check <package>" and when you have them installed
and ready for general consumption.

Before the package is installed (i.e. during the "R CMD check") the
unix current working directory must be just below the package directory.

The package is going to be called RadioSonde (after the instrument that
collects the data), and I am building the package under unix.

   $cwd/RadioSonde/R/*.R     # including getsonde.R
   $cwd/RadioSonde/man/*.Rd
   $cwd/RadioSonde/data/ExampleSonde.txt

$cwd <prompt> R CMD check RadioSonde
[works fine, I can build]

In order to get the examples to "check" correctly they must be:

profile1 <- getsonde("RadioSonde/data/ExampleSonde.txt")

but then this is inappropriate for the installed version, which
really should key off the .path.package()  ...

> system("pwd")
/home/thoar
> .path.package("RadioSonde")
[1] "/contrib/R-1.3.0/lib/R/library/RadioSonde"
> ydata <- getsonde("RadioSonde/data/ExampleSonde.txt")
Error in file(file, "r") : cannot open file `RadioSonde/data/ExampleSonde.txt'


Any hints?



## Tim Hoar, Associate Scientist              email: thoar at ucar.edu     ##
## Geophysical Statistics Project             phone: 303-497-1708       ##
## National Center for Atmospheric Research   FAX  : 303-497-1333       ##
## Boulder, CO  80307                    http://www.cgd.ucar.edu/~thoar ##

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu Jan 10 00:30:27 2002
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 09 Jan 2002 18:30:27 -0500
Subject: [R] Cochrane-Orcutt method
In-Reply-To: <3C3C9EB3.F2400A80@acadiau.ca>
Message-ID: <5.1.0.14.2.20020109182452.01d86728@mcmail.cis.mcmaster.ca>

Dear John,

At 03:49 PM 1/9/2002 -0400, you wrote:

>Is there a package that implements the Cochrane-Orcutt itterative
>procedure for dealing with autocorrelation in a regression model?

I'm not aware of an implementation in a package, but I have two-step 
Cochrane-Orcott and Prais-Winsten estimators for my own use, which I've 
attached to this note.

That said, I'm not sure why you'd want to use these methods, other than for 
historical reasons. The gls function in the nlme package will fit linear 
models with autocorrelated errors by ML.

I hope that this is of use to you,
  John


# these functions take a linear-model object as input

cochrane.orcutt <- function(mod, ...){
     UseMethod("cochrane.orcott")
     }

cochrane.orcutt.lm <- function(mod){
     X <- model.matrix(mod)
     y <- model.response(model.frame(mod))
     e <- residuals(mod)
     n <- length(e)
     names <- colnames(X)
     rho <- sum(e[1:(n-1)]*e[2:n])/sum(e^2)
     y <- y[2:n] - rho * y[1:(n-1)]
     X <- X[2:n,] - rho * X[1:(n-1),]
     mod <- lm(y ~ X - 1)
     result <- list()
     result$coefficients <- coef(mod)
     names(result$coefficients) <- names
     summary <- summary(mod, corr = F)
     result$cov <- (summary$sigma^2) * summary$cov.unscaled
     dimnames(result$cov) <- list(names, names)
     result$sigma <- summary$sigma
     result$rho <- rho
     class(result) <- 'cochrane.orcutt'
     result
     }

prais.winsten <- function(mod, ...){
     UseMethod("prais.winsten")
     }

prais.winsten.lm <- function(mod){
     X <- model.matrix(mod)
     y <- model.response(model.frame(mod))
     e <- residuals(mod)
     n <- length(e)
     names <- colnames(X)
     rho <- sum(e[1:(n-1)]*e[2:n])/sum(e^2)
     y <- c(y[1] * (1 - rho^2)^0.5, y[2:n] - rho * y[1:(n-1)])
     X <- rbind(X[1,] * (1 - rho^2)^0.5, X[2:n,] - rho * X[1:(n-1),])
     mod <- lm(y ~ X - 1)
     result <- list()
     result$coefficients <- coef(mod)
     names(result$coefficients) <- names
     summary <- summary(mod, corr = F)
     result$cov <- (summary$sigma^2) * summary$cov.unscaled
     dimnames(result$cov) <- list(names, names)
     result$sigma <- summary$sigma
     result$rho <- rho
     class(result) <- 'prais.winsten'
     result
     }

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.Denham at dnr.qld.gov.au  Thu Jan 10 04:41:23 2002
From: Robert.Denham at dnr.qld.gov.au (Denham Robert)
Date: Thu, 10 Jan 2002 13:41:23 +1000
Subject: [R] Fitting Distributions
Message-ID: <7BDA5DE121FF454A88C2FFFAD392718C15BC48@INDMAIL.lands.resnet.qg>

Tharacad,
        this sort of question comes up fairly often.  A good way to
search for similar questions is at Jonathon Baron's site
http://finzi.psych.upenn.edu/search.html, and a really good way to begin
estimating distribution parameters in R is to look at a presentation
Peter Dalgaard once did and made available on a web site at
http://www.stat.wisc.edu/~bates/JSM2001.pdf 


Regards,
Robert Denham

> I am new to R. So, please bear with me if this questions is already
been
> asked and answered.

> I am looking for a R function that fit a dataset to common
distributions
> such as Normla, Log-Normal, Poisson, Weibull, and Beta. Basically I am
> looking for ways to estimate distribution parameters rather than
having to
> write a program for it.

> Thanks for your help.



************************************************************************
The information in this e-mail together with any attachments is
intended only for the person or entity to which it is addressed
and may contain confidential and/or privileged material.

Any form of review, disclosure, modification, distribution
and/or publication of this e-mail message is prohibited.  

If you have received this message in error, you are asked to
inform the sender as quickly as possible and delete this message
and any copies of this message from your computer and/or your
computer system network.  
************************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Thu Jan 10 05:43:42 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Wed, 9 Jan 2002 23:43:42 -0500 (EST)
Subject: [R] Simple summary question
Message-ID: <Pine.LNX.4.21L1.0201092341260.5798-100000@nujoma.perrins>

I'd like to get summary statistics (really just a mean would be fine) for
a vector in a data frame, but split based on the value of another
vector.  That is, I have a data frame (hcd.df) with variables datecat
(which is always 1 or 2) and auth.sum (-8..+8).   I've used xtabs to get
chi-square comparisons, but what I need now is a simple mean of auth.sum
where datecat is 1 and another where datecat is 2. Thanks for any advice.

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Jan 10 05:50:46 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 09 Jan 2002 20:50:46 -0800
Subject: [R] Simple summary question
In-Reply-To: <Pine.LNX.4.21L1.0201092341260.5798-100000@nujoma.perrins>
References: <Pine.LNX.4.21L1.0201092341260.5798-100000@nujoma.perrins>
Message-ID: <87r8oyu7vd.fsf@jeeves.blindglobe.net>

>>>>> "AP" == Andrew Perrin <andrew_perrin at unc.edu> writes:

    AP> I'd like to get summary statistics (really just a mean would
    AP> be fine) for a vector in a data frame, but split based on the
    AP> value of another vector.  That is, I have a data frame
    AP> (hcd.df) with variables datecat (which is always 1 or 2) and
    AP> auth.sum (-8..+8).  I've used xtabs to get chi-square
    AP> comparisons, but what I need now is a simple mean of auth.sum
    AP> where datecat is 1 and another where datecat is 2. Thanks for
    AP> any advice.

Something like :

        lapply(split(hcd.df$auth.sum,hcd.df$datecat),mean)

?


-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 10 08:21:45 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 10 Jan 2002 07:21:45 +0000 (GMT)
Subject: [R] Fitting Distributions
In-Reply-To: <7BDA5DE121FF454A88C2FFFAD392718C15BC48@INDMAIL.lands.resnet.qg>
Message-ID: <Pine.LNX.4.31.0201100711310.7026-100000@gannet.stats>

On Thu, 10 Jan 2002, Denham Robert wrote:

> Tharacad,
>         this sort of question comes up fairly often.  A good way to
> search for similar questions is at Jonathon Baron's site
> http://finzi.psych.upenn.edu/search.html, and a really good way to begin
> estimating distribution parameters in R is to look at a presentation
> Peter Dalgaard once did and made available on a web site at
> http://www.stat.wisc.edu/~bates/JSM2001.pdf

[That's a presentation by Doug Bates, BTW.]

Even better, use the function fitdistr in package MASS, which is both
general and has a lot of distributions such a Weibull pre-packaged.
One of Jim Lindsey's packages has code for a large set of distributions.

> Regards,
> Robert Denham
>
> > I am new to R. So, please bear with me if this questions is already
> been
> > asked and answered.
>
> > I am looking for a R function that fit a dataset to common
> distributions
> > such as Normla, Log-Normal, Poisson, Weibull, and Beta. Basically I am
> > looking for ways to estimate distribution parameters rather than
> having to
> > write a program for it.
>
> > Thanks for your help.
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jan 10 08:26:45 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 10 Jan 2002 08:26:45 +0100
Subject: [R] Build R Packages (man)
References: <Pine.SOL.4.21.0201101120220.24275-100000@stat1.stat.auckland.ac.nz>
Message-ID: <3C3D4235.86C9DA76@statistik.uni-dortmund.de>

Ko-Kang Kevin Wang wrote:
> 
> Hi there,
> 
> I'm trying to get the manual for an R package (that I'm creating) to
> work...
> 
> Firstly, I created the *.Rd files (by following the instructions in
> "Writing R Extensions" and using prompt() in R, then edit the *.Rd
> files.  I then copy them into the "pkg/man" directory as suggested by the
> manual.  However when I load the library (successfully) in R, I cannot
> find the manuals for my data sets.  For example, if I type:
>    library(myLib)
>    data(foo)
> they work fine.  And I can play with the data set foo.  However then I
> type:
>   ?foo
> it cannot find the documentation which I created and placed in the /man
> directory.

Are you sure you have *installed* the package (R INSTALL package)?
Help files will be created automatically.


> Secondly, I tried to convert the Rd files into html using R CMD Rdconv,
> but I cannot quite follow the manual "R CMD Rdconv --help".  I tried:
>   R CMD Rdconv --output=html man > html
> and it returns:
>   Unknown type: options are txt, html, latex, Sd, example
> I also tried several other ways but can't seem to get R CMD Rdconv to
> work.


See  "R CMD Rdconv --help"  and try:
  R CMD Rdconv -t=html -output=filename.html filename.Rd

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 10 08:28:48 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 10 Jan 2002 07:28:48 +0000 (GMT)
Subject: [R] Build R Packages (man)
In-Reply-To: <Pine.SOL.4.21.0201101120220.24275-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.31.0201100723380.7026-100000@gannet.stats>

You are creating a source package. You need to install it before use.
Use R CMD INSTALL or Rcmd INSTALL (Windows).  That does the conversions
for you.

BTW, to avoid grief, don't put the sources in the library into which you
wil install.  Normally sources are under RHOME/src/library and
installation into RHOME/library, but you can put sources anywhere except
in the destination library.

On Thu, 10 Jan 2002, Ko-Kang Kevin Wang wrote:

> Hi there,
>
> I'm trying to get the manual for an R package (that I'm creating) to
> work...
>
> Firstly, I created the *.Rd files (by following the instructions in
> "Writing R Extensions" and using prompt() in R, then edit the *.Rd
> files.  I then copy them into the "pkg/man" directory as suggested by the
> manual.  However when I load the library (successfully) in R, I cannot
> find the manuals for my data sets.  For example, if I type:
>    library(myLib)
>    data(foo)
> they work fine.  And I can play with the data set foo.  However then I
> type:
>   ?foo
> it cannot find the documentation which I created and placed in the /man
> directory.
>
> Secondly, I tried to convert the Rd files into html using R CMD Rdconv,
> but I cannot quite follow the manual "R CMD Rdconv --help".  I tried:
>   R CMD Rdconv --output=html man > html
> and it returns:
>   Unknown type: options are txt, html, latex, Sd, example
> I also tried several other ways but can't seem to get R CMD Rdconv to
> work.

For each file R CMD Rdconv -t html foo.Rd > foo.html.

You don't want to use --output *and* redirect, and mand anf html are
directories, not files.

> Thanks in advance for the help ;-)
>
> Cheers,
>
> Ko-Kang Wang
>
> ------------------------------------------------------------------------------
> Ko-Kang Kevin Wang
> Statistical Analysis Division Leader
> Software Developers' Klub (SDK)
> University of Auckland
> New Zealand
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mwgrant2001 at yahoo.com  Thu Jan 10 08:32:25 2002
From: mwgrant2001 at yahoo.com (Michael Grant)
Date: Wed, 9 Jan 2002 23:32:25 -0800 (PST)
Subject: [R] Where is the best place to get ALL the changes between versions?
Message-ID: <20020110073225.99970.qmail@web20803.mail.yahoo.com>

There seems to be a change in the behavior of the
function ' mean() ' in 1.40. 

In earlier versions, the application of mean to a
dataframe (all numeric)would return the aggregate mean
of all of the columns. Now, in 1.40 application of
mean to the dataframe returns a list of the column
means. The new 'help' documents the new behavior. So
the change is obviously intend

I read the "changes" document distributed with 1.40
and saw no mention of 'mean'. Is there a place where
all of the changes are documented? This would be a
help in maintaining/upgrading models and would save
tedious debugging in the longer.

Also, to the development team---do something nice for
yourself today. R is really a very superb tool and JOY
to use. (LT, Lisp-stat still rates way up there too!)

Best regards,
mwgrant at adelphia.net




__________________________________________________
Do You Yahoo!?
Send FREE video emails in Yahoo! Mail!
http://promo.yahoo.com/videomail/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Jan 10 08:49:41 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 10 Jan 2002 08:49:41 +0100 (MET)
Subject: [R] Fitting Distributions
In-Reply-To: <7BDA5DE121FF454A88C2FFFAD392718C15BC48@INDMAIL.lands.resnet.qg>
Message-ID: <Pine.OSF.3.96.1020110084748.15993A-100000@ija.csic.es>


Very interesting reference,
but http://www.stat.wisc.edu/~bates/JSM2001.pdf
(Using Open Source Software to Teach
Mathematical Statistics) is by Douglas M. Bates.

Agus


Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Thu, 10 Jan 2002, Denham Robert wrote:

> Tharacad,
>         this sort of question comes up fairly often.  A good way to
> search for similar questions is at Jonathon Baron's site
> http://finzi.psych.upenn.edu/search.html, and a really good way to begin
> estimating distribution parameters in R is to look at a presentation
> Peter Dalgaard once did and made available on a web site at
> http://www.stat.wisc.edu/~bates/JSM2001.pdf 
> 
> 
> Regards,
> Robert Denham
> 
> > I am new to R. So, please bear with me if this questions is already
> been
> > asked and answered.
> 
> > I am looking for a R function that fit a dataset to common
> distributions
> > such as Normla, Log-Normal, Poisson, Weibull, and Beta. Basically I am
> > looking for ways to estimate distribution parameters rather than
> having to
> > write a program for it.
> 
> > Thanks for your help.
> 
> 
> 
> ************************************************************************
> The information in this e-mail together with any attachments is
> intended only for the person or entity to which it is addressed
> and may contain confidential and/or privileged material.
> 
> Any form of review, disclosure, modification, distribution
> and/or publication of this e-mail message is prohibited.  
> 
> If you have received this message in error, you are asked to
> inform the sender as quickly as possible and delete this message
> and any copies of this message from your computer and/or your
> computer system network.  
> ************************************************************************
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Marco.Saerens at smals-mvm.be  Thu Jan 10 08:37:02 2002
From: Marco.Saerens at smals-mvm.be (Marco.Saerens@smals-mvm.be)
Date: Thu, 10 Jan 2002 08:37:02 +0100
Subject: [R] Html Help on MacOSX/XFree
Message-ID: <OFAE8D124E.BEB61920-ONC1256B3D.00279BFE@smals-mvm.be>

Dear R users,

I installed R 1.4.0 on MacOSX 10.1 with fink (I run it through XFree on
command-line).

I have two short questions regarding R on MacOSX.
                                                                            
 (1) The default help browser is netscape. I do not have Netscape; instead  
 I have internet explorer. If I type help.start(browser="Internet           
 Explorer"), it does not work because of the spaces, and maybe because the  
 path to Internet Explorer directory is not defined. Is there an easy       
 answer to this problem ? On the other and, I run my programs through       
 XFree, and I am not sure that it is possible to run Netscape or Internet   
 Explorer from XFree.                                                       
                                                                            
 (2) If I want to plot graphics, I have to run R from Xfree (XDarwin); I    
 cannot run it from the MacOSX Xterm. Is that right ?                       
                                                                            
 Could you please send the answers at "marco.saerens at smals-mvm.be".         
                                                                            
                                                                            


Thank you very much in advance !

Marco Saerens

____________________________________
Marco Saerens
Section Recherche - SmalS-MvM
Email. marco.saerens at smals-mvm.be
Tel. 02.509.59.92.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 10 08:41:06 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 10 Jan 2002 07:41:06 +0000 (GMT)
Subject: [R] Where is the best place to get ALL the changes between
 versions?
In-Reply-To: <20020110073225.99970.qmail@web20803.mail.yahoo.com>
Message-ID: <Pine.LNX.4.31.0201100737310.7026-100000@gannet.stats>

On Wed, 9 Jan 2002, Michael Grant wrote:

> There seems to be a change in the behavior of the
> function ' mean() ' in 1.40.
>
> In earlier versions, the application of mean to a
> dataframe (all numeric)would return the aggregate mean
> of all of the columns. Now, in 1.40 application of
> mean to the dataframe returns a list of the column
> means. The new 'help' documents the new behavior. So
> the change is obviously intend
>
> I read the "changes" document distributed with 1.40
> and saw no mention of 'mean'. Is there a place where
> all of the changes are documented? This would be a
> help in maintaining/upgrading models and would save
> tedious debugging in the longer.

It's called NEWS.  There is no "changes" document, but the Windows port
has CHANGES which starts

                Windows-specific changes to R
                =============================

See the file NEWS for changes that affect all versions of R.


And NEWS says

    o   mean() has `data frame' method applying mean column-by-column.
        When applied to non-numeric data mean() now returns NA rather
        than a confusing error message (for compatibility with S4).
        Logicals are still coerced to numeric.


So it's all there if you care to look.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 10 08:47:56 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 10 Jan 2002 07:47:56 +0000 (GMT)
Subject: [R] R package-building
In-Reply-To: <Pine.GSO.4.30.0201091113290.18947-100000@sunray2>
Message-ID: <Pine.LNX.4.31.0201100743040.7026-100000@gannet.stats>

On Wed, 9 Jan 2002, Tim Hoar wrote:

> Hello,
>
> I am building a package to read in a pretty common atmospheric data format
> and create a SKEW-T, log p diagram (also very common for the atmospheric
> community).
>
> The problem is this: How should one address the (ASCII) data files so that
> the examples find them? I have read through the "Writing R Extensions"
> document and still have a problem.
>
> There seems to be some sort of disconnect between getting the examples
> to run when you "R CMD check <package>" and when you have them installed
> and ready for general consumption.
>
> Before the package is installed (i.e. during the "R CMD check") the
> unix current working directory must be just below the package directory.
>
> The package is going to be called RadioSonde (after the instrument that
> collects the data), and I am building the package under unix.
>
>    $cwd/RadioSonde/R/*.R     # including getsonde.R
>    $cwd/RadioSonde/man/*.Rd
>    $cwd/RadioSonde/data/ExampleSonde.txt
>
> $cwd <prompt> R CMD check RadioSonde
> [works fine, I can build]
>
> In order to get the examples to "check" correctly they must be:
>
> profile1 <- getsonde("RadioSonde/data/ExampleSonde.txt")
>
> but then this is inappropriate for the installed version, which
> really should key off the .path.package()  ...
>
> > system("pwd")
> /home/thoar
> > .path.package("RadioSonde")
> [1] "/contrib/R-1.3.0/lib/R/library/RadioSonde"
> > ydata <- getsonde("RadioSonde/data/ExampleSonde.txt")
> Error in file(file, "r") : cannot open file `RadioSonde/data/ExampleSonde.txt'


Use data().  Have a file ExampleSonde.R in RadioSonde/data that does
whatever is necessary to read ExampleSonde.txt.  Then
data(ExampleSonde) will work, from anywhere.

I think ExampleSonde.R could just contain

ExampleSonde <- getsonde("ExampleSonde.txt")

BTW, assuming ExampleSonde.txt is really data, I suggect you don't give it
a .txt extension.  data() allows that for rectangular arrays of data.

See ?data for more details.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jan 10 09:26:12 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Jan 2002 09:26:12 +0100
Subject: [R] Fitting Distributions
In-Reply-To: <Pine.LNX.4.31.0201100711310.7026-100000@gannet.stats>
References: <Pine.LNX.4.31.0201100711310.7026-100000@gannet.stats>
Message-ID: <x2vgea8vdn.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> On Thu, 10 Jan 2002, Denham Robert wrote:
> 
> > Tharacad,
> >         this sort of question comes up fairly often.  A good way to
> > search for similar questions is at Jonathon Baron's site
> > http://finzi.psych.upenn.edu/search.html, and a really good way to begin
> > estimating distribution parameters in R is to look at a presentation
> > Peter Dalgaard once did and made available on a web site at
> > http://www.stat.wisc.edu/~bates/JSM2001.pdf
> 
> [That's a presentation by Doug Bates, BTW.]

Yup. (I've actually never been to a JSM...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adrian.trapletti at lmttrading.com  Thu Jan 10 10:36:21 2002
From: adrian.trapletti at lmttrading.com (Adrian Trapletti)
Date: Thu, 10 Jan 2002 10:36:21 +0100
Subject: [R] How to obtain the series of residuals from fracdiff
References: <200201100301.EAA26013@stat.math.ethz.ch>
Message-ID: <3C3D6095.5EB01FAA@lmttrading.com>

> Date: Wed, 9 Jan 2002 07:57:31 +0000
> From: Susana Barbosa <susanabarbosa at novalis.fc.up.pt>
> Subject: [R] How to obtain the series of residuals from fracdiff
>
> Hi
>
> I'm using fracdiff package to estimate the parameters of a
> fractionally-differenced ARIMA (p,d,q) model, and it works fine, but I wanted
> to have also the filtered series and the series of residuals.
> I understand these are calculated in the subroutine fdfilt, in the program
> fdcore.f, but I can't manage to get them out.
>
> Any suggestion would be much appreciated
>
> Thanks
>
> Susana Barbosa

Hi Susana

For fractional differencing you can use, e.g., something like

fracdiff <- function (x, d, N = 100)
{
  n <- 0:N
  w <- gamma(-d+n)/(gamma(-d)*gamma(n+1))
  y <- filter(x, w, sides=1)
  return (y)
}

Adrian


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Thu Jan 10 12:01:51 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Thu, 10 Jan 2002 11:01:51 +0000
Subject: [R] Closing binary file connections
Message-ID: <3C3D749F.F1B85FEC@psy.uni-muenchen.de>

Hi all,

I'm writing a function that read data from a binary file. I want to
close all opened connections, but it failed:

> showConnections()
   description        class  mode text     isopen   can read can write
3  "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"     
4  "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"     
5  "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"     
6  "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"     
7  "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"     
8  "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"     
9  "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"     
10 "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"     
11 "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"     
12 "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"     
13 "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"     
> closeAllConnections()
Error in close(set[i]) : no applicable method for "close"
In addition: Warning message: 
no sink to remove 

What does this mean?

Thanks, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 10 11:47:00 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 10 Jan 2002 10:47:00 +0000 (GMT)
Subject: [R] Closing binary file connections
In-Reply-To: <3C3D749F.F1B85FEC@psy.uni-muenchen.de>
Message-ID: <Pine.LNX.4.31.0201101045240.7469-100000@gannet.stats>

On Thu, 10 Jan 2002, Sven Garbade wrote:

> Hi all,
>
> I'm writing a function that read data from a binary file. I want to
> close all opened connections, but it failed:
>
> > showConnections()
>    description        class  mode text     isopen   can read can write
> 3  "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"
> 4  "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"
> 5  "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"
> 6  "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"
> 7  "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"
> 8  "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"
> 9  "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"
> 10 "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"
> 11 "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"
> 12 "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"
> 13 "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"
> > closeAllConnections()
> Error in close(set[i]) : no applicable method for "close"
> In addition: Warning message:
> no sink to remove
>
> What does this mean?


Which version of R is this?  From the NEWS for 1.4.0:

    o   closeAllConnections() works again, and closes all sink() diversions.

You can always close them individually with close()


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Thu Jan 10 13:02:11 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Thu, 10 Jan 2002 12:02:11 +0000
Subject: [R] Closing binary file connections
References: <Pine.LNX.4.31.0201101045240.7469-100000@gannet.stats>
Message-ID: <3C3D82C3.50F9953D@psy.uni-muenchen.de>

Prof Brian Ripley wrote:
> 
> On Thu, 10 Jan 2002, Sven Garbade wrote:
> 
> > Hi all,
> >
> > I'm writing a function that read data from a binary file. I want to
> > close all opened connections, but it failed:
> >
> > > showConnections()
> >    description        class  mode text     isopen   can read can write
> > 3  "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"
> > 4  "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"
> > 5  "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"
> > 6  "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"
> > 7  "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"
> > 8  "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"
> > 9  "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"
> > 10 "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"
> > 11 "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"
> > 12 "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"
> > 13 "daten/t5_all.mea" "file" "rb" "binary" "opened" "yes"    "no"
> > > closeAllConnections()
> > Error in close(set[i]) : no applicable method for "close"
> > In addition: Warning message:
> > no sink to remove
> >
> > What does this mean?
> 
> Which version of R is this?  From the NEWS for 1.4.0:
> 
>     o   closeAllConnections() works again, and closes all sink() diversions.
> 
> You can always close them individually with close()

It's not the current version (I think deb packages aren't avaiable for
Debian stable and I haven't found the time for self compiling):

platform i386-pc-linux-gnu
arch     i386             
os       linux-gnu        
system   i386, linux-gnu  
status                    
major    1                
minor    3.1              
year     2001             
month    08               
day      31               
language R        

So it sound that's a problem of version 1.3.1, fixed in 1.4.0.

Thanks, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Thu Jan 10 12:19:55 2002
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Thu, 10 Jan 2002 12:19:55 +0100
Subject: [R] Add qqline to plot.lm Q-Q plot?
Message-ID: <15421.30939.535263.775058@localhost.localdomain>

Dear all,

Is there a simple way to add a qqline to the Q-Q plot plot.lm() produces
for which = 2? 

If not, I might write one, but how should this preferably be
implemented? Make qqline() generic and add a qqline.lm() method? Add
an argument to plot.lm()? Have plot.lm() output something invisibly
that qqline() can chew directly? Have plot.lm() output something
invisibly that abline() can chew? Something else?

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://folk.uio.no/kjetikj/>
Webmaster at skepsis.no                            OpenPGP KeyID: 6A6A0BBC
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Thu Jan 10 12:42:18 2002
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 10 Jan 2002 06:42:18 -0500
Subject: [R] Simple summary question
In-Reply-To: <Pine.LNX.4.21L1.0201092341260.5798-100000@nujoma.perrins>
References: <Pine.LNX.4.21L1.0201092341260.5798-100000@nujoma.perrins>
Message-ID: <87d70ih1ph.fsf@lumen.med.iupui.edu>

>>>>> "Andrew" == Andrew Perrin <andrew_perrin at unc.edu> writes:

    > I'd like to get summary statistics (really just a mean
    > would be fine) for a vector in a data frame, but split
    > based on the value of another vector.  That is, I have a
    > data frame (hcd.df) with variables datecat (which is always
    > 1 or 2) and auth.sum (-8..+8).  I've used xtabs to get
    > chi-square comparisons, but what I need now is a simple
    > mean of auth.sum where datecat is 1 and another where
    > datecat is 2. 

How about

  > mean( hcd.df$auth.sum[ hcd.df$datecat==1 ])
  > mean( hcd.df$auth.sum[ hcd.df$datecat==2 ])

Or you can use tapply to get means (or summaries or most anything
else) for all the levels of datacat:

  > tapply( hcd.df$auth.sum, hcd.df$datecat, mean )
  > tapply( hcd.df$auth.sum, hcd.df$datecat, summary )

Mike
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Thu Jan 10 13:32:24 2002
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Thu, 10 Jan 2002 07:32:24 -0500
Subject: [R] Re: R package-building
Message-ID: <r12r3uctkvk9t1ur8k0qg4b9ijvb5790uh@4ax.com>

>The problem is this: How should one address the (ASCII) data files so that
>the examples find them? I have read through the "Writing R Extensions"
>document and still have a problem.

Take a look at how other packages do it, e.g. modreg has a dataset
named "rock" stored in rock.tab in the data subdirectory.  The R
extensions manual describes the format in the "Package Subdirectories"
section.  To use datasets stored there, just do something like

  data(rock)

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Thu Jan 10 13:39:17 2002
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Thu, 10 Jan 2002 07:39:17 -0500
Subject: [R] Re: Build R Packages (man)
Message-ID: <ci2r3uoadbjeo7ml0efd35jt8filo2s09n@4ax.com>

It sounds as though you're not "building" or "installing" the package.
You need to run

 R CMD build ....
 R CMD install ....

to get all the helper files built and installed.

If you've done that, then 

 R CMD check ....

will run tests on your package, and might be able to point out what
else is wrong.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Thu Jan 10 13:57:06 2002
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Thu, 10 Jan 2002 13:57:06 +0100
Subject: [R] e1071/svm?
References: <MJEOJIPNHGCIHJIEEMNOMEDECMAA.askom@obninsk.com>
Message-ID: <3C3D8FA2.784933FE@ci.tuwien.ac.at>

The Glass Data I used in my exampe is a multi-class classification
problem, and (as I wrote in the last email), this is more complicated:

To handle k classes, k>2, svm trains all binary subclassifiers
(one-against-one-method) and then uses a voting mechanism to determine
the actual class.

Now, this means k(k-1)/2 classifiers, hence in principle k(k-1)/2 sets
of
SV's, coefficiants and rhos. These are stored in a compressed format:

1) Only one SV is stored in case it were used by several clasifiers. The
model$SV-matrix is ordered by classes, and you find the starting indices
by using nSV (number of SV's):

start <- c(1, cumsum(model$nSV))
start <- start[-length(start)]

sum(nSV) equals the total nr. of (distinct) SVs.

2) The coefficients of the SV's are stored in the model$coefs-matrix,
grouped by classes. Because the separating hyperplanes found by the
svm-algorithm has SV's on both sides, you will have two sets of
coefficients per binary classifier, and e.g., for 3 classes, you could
build a *block*-matrix like this for the classifiers (i,j)
[i,j=class numbers):

   j     0         1        2
i      
0        X     set (0,1)  set (0,2)
1    set (1,0)     X      set (1,2)
2    set (2,0) set (2,1)     X

where set(i,j) are the coefficients for the classifier (i,j), lying on
the side of class j.

Because there are no entries for (i,i), we can save the diagonal and
shift up the lower triangular matrix to get

   j     0         1        2
i      
0    set (1,0) set (0,1)  set (0,2)
1    set (2,0) set (2,1)  set (1,2)


Each set (.,j) has length nSV[j], so of course, there will be some
filling 0s in some sets.

model$coefs is the *transposed* of such a matrix, therefore for the
Glass Data which has 6 classes, you get 6-1=5 columns.

The coefficients of (i,j) start at

m$coefs[start[i],j]

and those of (j,i) at

m$coefs[start[j],i-1) .

The k(k-1)/2 rhos are just linearly stored in the vector m$rho.


The following code shows how to use this for prediction:

## Linear Kernel function
K <- function(i,j) crossprod(i,j)

predsvm <- function(object, newdata) {
  ## compute start-index
  start <- c(1, cumsum(object$nSV)+1)
  start <- start[-length(start)]

  ## compute kernel values
  kernel <- sapply (1:object$tot.nSV,
                    function (x) K(object$SV[x,], newdata))

  ## compute raw prediction for classifier (i,j)
  predone <- function (i,j) {
    ## ranges for class i and j:
    ri <- start[i] : (start[i] + object$nSV[i] - 1)
    rj <- start[j] : (start[j] + object$nSV[j] - 1)
    
    ## coefs for (i,j):
    coef1 <- object$coefs[ri, j-1]
    coef2 <- object$coefs[rj, i]

    ## return raw values:
    crossprod(coef1, kernel[ri]) + crossprod(coef2, kernel[rj])
  }

  ## compute votes for all classifiers
  votes <- rep(0,object$nclasses)
  c <- 0 # rho counter
  for (i in 1 : (object$nclasses - 1))
    for (j in (i + 1) : object$nclasses)
      if (predone(i,j) > object$rho[c <- c + 1])
        votes[i] <- votes[i] + 1
      else
        votes[j] <- votes[j] + 1

  ## return winner (index with max. votes)
  object$levels[which(votes %in% max(votes))[1]]
}




Alexander Skomorokhov wrote:
> 
> David,
> 
> Happy New Year. Thanks a lot for your answer.
> 
> I was successful with my artificial linear example. And with my artificial
> nonlinear example, also.
> But when I went to an example from your paper in "R News" I met a problem
> again.
> 
> >dim(m$SV)
> [1] 156 9
> 
> That's okay. I expect 156 coefs to calculate prediction. But what I have is:
> 
> >dim(m$coefs)
> [1] 156 5
> 
> Why 5??? Kernel function (default radial basis) gives me a scalar. For one
> new data point I will get
> vector of 156 items (Kernel functions of new point and each support vector).
> I have to find sum of
> these items with weights of coefs and sign after minus rho. But I have 5
> times more coefs than I need.
> 
> Please, clarify this points.
> 
> Regards,
> Alexander.
> 
> > -----Original Message-----
> > From: meyer at ci.tuwien.ac.at [mailto:meyer at ci.tuwien.ac.at]On
> > Behalf Of David Meyer
> > Sent: Thursday, January 03, 2002 3:27 PM
> > To: askom at obninsk.com; r-help
> > Subject: Re: [R] e1071/svm?
> >
> >
> > OK, after having inspected the code of libsvm, I agree it is not
> > completely obvious to use the results produced by svm() for prediction.
> >
> > For class prediction in the binary case, the class of a new data vector
> > ``n'' is usually given by *the sign* of
> >
> > Sum(a_i * y_i * K(x_i, n)) + rho
> >  i
> >
> > where x_i is the i-th support vector, y_i the corresponding label, a_i
> > the corresponding coefficiant, and K is the kernel (in your case, the
> > linear one, so
> > K(u,v) = u'v).
> >
> >
> > Now, ``libsvm'' actually returns a_i * y_i as i-th coefficiant and the
> > *negative* rho, so in fact uses the formula:
> >
> > Sum(coef_i * K(x_i, n)) - rho
> >  i
> >
> > where the training examples (=training data) are labeled {1,-1}.
> >
> >
> > A simplified R function for prediction with linear kernel would be:
> >
> > svmpred <- function (m, newdata, K=crossprod) {
> >   ## this guy does the computation:
> >   pred.one <- function (x)
> >     sign(sum(sapply(1:m$tot.nSV, function (j)
> >                     K(m$SV[j,], x) * m$coefs[j]
> >                     )
> >              ) - m$rho
> >          )
> >
> >   ## this is just for convenience:
> >   if (is.vector(newdata))
> >     newdata <- t(as.matrix(x))
> >   sapply (1:nrow(newdata),
> >           function (i) pred.one(newdata[i,]))
> > }
> >
> >
> > where ``pred.one'' does the actual prediction for one new data vector,
> > the rest is just a convenience for prediction of multiple new examples.
> >
> > It's easy to extend this to other kernels, just replace ``K'' with the
> > appropriate function [see the help page for the formulas used] and
> > supply the additional constants.
> >
> > Note, however, that multi-class prediction is more complicated, because
> > the coefficiants of the diverse binary svm's are stored in a compressed
> > format.
> >
> > And finally, you could directly use the C source code of libsvm, if your
> > target language supports foreign function calls.
> >
> > regards,
> >
> > -d
> >
> >
> > Alexander Skomorokhov wrote:
> > >
> > > Thank you fot your reply. Sorry, but I still haven't got the problem.
> > > Here is a trivial example (cpy from R session):
> > >
> > ------------------------------------------------------------------
> > ----------
> > > ------------------
> > > > x
> > >      [,1] [,2]
> > > [1,]    0    0
> > > [2,]    0    1
> > > [3,]    1    0
> > > [4,]    1    1
> > > [5,]    2    2
> > > [6,]    2    3
> > > [7,]    3    2
> > > [8,]    3    3
> > > > y
> > > [1] 1 1 1 1 2 2 2 2
> > > Levels:  1 2
> > > > is.factor(y)
> > > [1] TRUE
> > > > library(e1071)
> > > > m<-svm(x,y,kernel='linear')
> > > *
> > > optimization finished, #iter = 3
> > > nu = 0.250000
> > > obj = -1.000000, rho = -3.000000
> > > nSV = 2, nBSV = 2
> > > Total nSV = 2
> > >
> > > > summary(m)
> > > Call:
> > >  svm.default(x = x, y = y, kernel = "linear")
> > > Parameters:
> > >    SVM-Type:  C-classification
> > >  SVM-Kernel:  linear
> > >        cost:  1
> > >      degree:  3
> > >       gamma:  0.5
> > >      coef.0:  0
> > >          nu:  0.5
> > >     epsilon:  0.5
> > >        cost:  1
> > > Number of Support Vectors:  2  ( 1 1 )
> > > Number of Classes:  2
> > > Levels:
> > >  1 2
> > > Rho:
> > >  -3
> > > Support Vectors:
> > >      [,1] [,2]
> > > [1,]    1    1
> > > [2,]    2    2
> > > Coefficiants:
> > >      [,1]
> > > [1,]    1
> > > [2,]   -1
> > >
> > ------------------------------------------------------------------
> > ----------
> > > ----------
> > > I see Coefficiants, but can't guess how to use them (only them?) for
> > > prediction???
> > > I may guess that the question sounds like a stupid one, but it
> > is that:-(
> > >
> > > Thanks,
> > > Alexander.
> > >
> > > > -----Original Message-----
> > > > From: meyer at ci.tuwien.ac.at [mailto:meyer at ci.tuwien.ac.at]On
> > > > Behalf Of David Meyer
> > > > Sent: Thursday, December 20, 2001 3:03 PM
> > > > To: askom at obninsk.com
> > > > Cc: r-help
> > > > Subject: Re: [R] e1071/svm?
> > > >
> > > >
> > > > Alexander Skomorokhov wrote:
> > > > >
> > > > > Hello,
> > > > >
> > > > > I use function "svm" (interface to libsvm) from package e1071.
> > > > It works just
> > > > > fine.
> > > > > And I may predict with function "predict" and svm model trained
> > > > by function
> > > > > "svm".
> > > > > What I need is moving results of svm training to another
> > > > application (non-R)
> > > > > and
> > > > > perform prediction there. But function "svm" returns list of
> > > > support vectors
> > > > > only
> > > > > and doesn't return coefficients of separating hyperplane (w).
> > > >
> > > > It does (element ``coefs'' of the returned object).
> > > >
> > > > g.
> > > > -d
> > > >
> > > > >
> > > > > So, the question is how to use results of svm training to write
> > > > (in other
> > > > > language)
> > > > > prediction function for linear and nonlinear cases?
> > > > >
> > > > > Thanks,
> > > > > Alexander.
> > > > >
> > > > >
> > > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > > > -.-.-.-.-.-.-
> > > > > r-help mailing list -- Read
> > > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > > Send "info", "help", or "[un]subscribe"
> > > > (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > > >
> > >
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._.
> > > _._
> > >
> > > --
> > >         Mag. David Meyer                Wiedner Hauptstrasse 8-10
> > > Vienna University of Technology         A-1040 Vienna/AUSTRIA
> > >        Department for                   Tel.: (+431) 58801/10772
> > > Statistics and Probability Theory       mail:
> > david.meyer at ci.tuwien.ac.at
> > >
> > >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-
> > > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> 
> --
>         Mag. David Meyer                Wiedner Hauptstrasse 8-10
> Vienna University of Technology         A-1040 Vienna/AUSTRIA
>        Department for                   Tel.: (+431) 58801/10772
> Statistics and Probability Theory       mail: david.meyer at ci.tuwien.ac.at

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From heberto at meakins.lan.mcgill.ca  Thu Jan 10 14:37:05 2002
From: heberto at meakins.lan.mcgill.ca (R. Heberto Ghezzo)
Date: Thu, 10 Jan 2002 09:37:05 -0400
Subject: [R] compiling packages
References: <3C39B0D1.CE664FB9@mcgill.ca>
 <3C39BA51.756FE2A9@statistik.uni-dortmund.de>
Message-ID: <3C3D98FF.59CD7573@meakins.lan.mcgill.ca>

I had trouble compiling packages in Win98
When I copy sh.exe to a directory c:\bin\ the compiling went OK even if this
directory was not in the path!
thanks to Uwe & Brian for their prompt response.




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Corey.Moffet at ttu.edu  Thu Jan 10 14:46:54 2002
From: Corey.Moffet at ttu.edu (Moffet, Corey)
Date: Thu, 10 Jan 2002 07:46:54 -0600
Subject: [R] Test if beta is different from something other than 0
Message-ID: <938690ACF269D311928B0090279C2772E91E9C@cyclops.net.ttu.edu>

Is there a function/package that will allow you to test the hypothesis beta1
= x in a
simple linear regression, where x is a constant?  The AOV tests if beta1 in
different from
0 but what if I want to know if beta1 one is different from 1?


With best wishes and kind regards I am

Sincerely,

Corey A. Moffet
Instructor
Department of Range, Wildlife, and Fisheries Management
Mail Stop 2125
Texas Tech University
Lubbock, Texas 79409-2125
 
(806) 742-2843  Voice
(806) 742-2280  FAX
c.moffet at ttu.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dray at biomserv.univ-lyon1.fr  Thu Jan 10 14:52:45 2002
From: dray at biomserv.univ-lyon1.fr (Stephane Dray)
Date: Thu, 10 Jan 2002 14:52:45 +0100
Subject: [R] quasibinomial glm
Message-ID: <a05010401b8634b03ac0c@[134.214.32.69]>

Hello list,
i have a glm with family=binomial, link=logit but there is 
over-dispersion. So, in order to take into account for this problem i 
choose to do a glm with family=quasibinomial(). I'm not an expert on 
this subject and i ask if someone could validate my approach (i'm not 
sure for the tests) :
quasi_glm(myformula,quasibinomial(),start=mystart)
summary(quasi) # test t for coefficients
anova(quasi,test="F") # F test (quasi glm) instead of Chisq test 
(classical glm)

Thanks in advance.
-- 
St?phane DRAY
---------------------------------------------------------------
Biom?trie et Biologie ?volutive - Equipe "?cologie Statistique"
Universite Lyon 1 - Bat 711 - 69622 Villeurbanne CEDEX - France

Tel : 04 72 43 27 56			   Fax : 04 78 89 27 19
       04 72 43 27 57 	   E-mail : dray at biomserv.univ-lyon1.fr 
---------------------------------------------------------------
ADE-4               http://pbil.univ-lyon1.fr/ADE-4/ADE-4F.html
---------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.A.J.Saunders at ukc.ac.uk  Thu Jan 10 15:19:25 2002
From: P.A.J.Saunders at ukc.ac.uk (P.A.J.Saunders)
Date: Thu, 10 Jan 2002 14:19:25 +0000
Subject: [R] R help in windows
Message-ID: <20020110141925.E17840@myrtle.ukc.ac.uk>

Hi,

Im having a slight problem using R for windows help function. The way I have installed this was to install it on a server, and then shared 
it. In the readme file it says :

- The HTML function and package lists and search database are not
  re-generated automatically by help.start(). 

Yet, unless the user is able to write to the filestore (and able to write over the documents) i get the error

> help.start()
updating HTML package listing
Error in file(f.tg, open = "a") : cannot open file `\\kestrel\files\packages\R/doc/html/packages.html'

(Intresting that the slashes lead in different directions, although if you copy and paste that into IE, it doesn't mind anyway)

Is it possible to get this to do what the unix version did, and copy the documents, say into there profile, and run it from there? Or stop 
it from trying to re-generate the html files?

Many thanks

-- 
Pete
Computer Science Computing Officer
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jan 10 15:19:49 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Jan 2002 15:19:49 +0100
Subject: [R] Test if beta is different from something other than 0
In-Reply-To: <938690ACF269D311928B0090279C2772E91E9C@cyclops.net.ttu.edu>
References: <938690ACF269D311928B0090279C2772E91E9C@cyclops.net.ttu.edu>
Message-ID: <x2n0zmmgoq.fsf@blueberry.kubism.ku.dk>

"Moffet, Corey" <Corey.Moffet at ttu.edu> writes:

> Is there a function/package that will allow you to test the hypothesis beta1
> = x in a
> simple linear regression, where x is a constant?  The AOV tests if beta1 in
> different from
> 0 but what if I want to know if beta1 one is different from 1?

(Slightly unfortunate choice of variable names there.)

Say that y are responses and x the *predictor*:

> x<-1:10 
> y <- x+rnorm(10)
> summary(lm(y~x))

Call:
lm(formula = y ~ x)

Residuals:
    Min      1Q  Median      3Q     Max 
-2.5600 -0.1918  0.2597  0.4870  1.1106 

Coefficients:
            Estimate Std. Error t value Pr(>|t|)    
(Intercept)  -0.3347     0.7225  -0.463    0.655    
x             1.0557     0.1164   9.067 1.76e-05 ***
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1 

Residual standard error: 1.058 on 8 degrees of freedom
Multiple R-Squared: 0.9113,     Adjusted R-squared: 0.9002 
F-statistic:  82.2 on 1 and 8 DF,  p-value: 1.755e-05 

> summary(lm(y-x~x))

Call:
lm(formula = y - x ~ x)

Residuals:
    Min      1Q  Median      3Q     Max 
-2.5600 -0.1918  0.2597  0.4870  1.1106 

Coefficients:
            Estimate Std. Error t value Pr(>|t|)
(Intercept) -0.33475    0.72250  -0.463    0.655
x            0.05572    0.11644   0.478    0.645

Residual standard error: 1.058 on 8 degrees of freedom
Multiple R-Squared: 0.02782,    Adjusted R-squared: -0.0937 
F-statistic: 0.229 on 1 and 8 DF,  p-value: 0.6451 


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Thu Jan 10 15:36:25 2002
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Thu, 10 Jan 2002 09:36:25 -0500
Subject: [R] Distance matrix by cosine?
Message-ID: <B9A894093554D511941700508B5C76DB02ADE14A@uswpmx08.merck.com>

The Euclidean inner product <v, w> of vectors v, w is |v|*|w|*cos(angle). So
you could first normalize the vectors to length 1, then if they are columns
of a matrix A, crossprod(A) ( = A'A) gives you the matrix of cosines.
 
Reid Huntsinger
-----Original Message-----
From: Petra Steiner [mailto:steinep at uni-muenster.de]
Sent: Wednesday, January 09, 2002 5:14 PM
To: r-help at lists.r-project.org
Subject: [R] Distance matrix by cosine?


Hello,
 
a. is there a possibility to obtain a distance matrix with the cosine
between vectors?? hclust, hierclust, dist will not work and seem to be hard
to extend.
 
b. if there is not: Is the cosine between vectors implemented somewhere?
 
Thanks for all hints and advice!
 
Petra Steiner 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020110/d61b0288/attachment.html

From ripley at stats.ox.ac.uk  Thu Jan 10 15:48:47 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 10 Jan 2002 14:48:47 +0000 (GMT)
Subject: [R] R help in windows
In-Reply-To: <20020110141925.E17840@myrtle.ukc.ac.uk>
Message-ID: <Pine.LNX.4.31.0201101441570.9434-100000@gannet.stats>

On Thu, 10 Jan 2002, P.A.J.Saunders wrote:

> Hi,
>
> Im having a slight problem using R for windows help function. The way I have installed this was to install it on a server, and then shared
> it. In the readme file it says :
>
> - The HTML function and package lists and search database are not
>   re-generated automatically by help.start().
>
> Yet, unless the user is able to write to the filestore (and able to write over the documents) i get the error
>
> > help.start()
> updating HTML package listing
> Error in file(f.tg, open = "a") : cannot open file `\\kestrel\files\packages\R/doc/html/packages.html'
>
> (Intresting that the slashes lead in different directions, although if you copy and paste that into IE, it doesn't mind anyway)

No problen: all competent parts of Windows accept both.

> Is it possible to get this to do what the unix version did, and copy the documents, say into there profile, and run it from there? Or stop
> it from trying to re-generate the html files?

No, yes.  The Unix version *links* the files, not copies them, and
Windows does not have such links.

Just comment out the lines in help.start that do this, or use the menu to
go to the HTML help.  Windows end users don't need to run help.start.

We'll look into testing if the files are writeable in some future version.

You can't please all the users all the time ....  This was changed in the
1.3.1 release several months ago, and no one has commented until this
release.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Thu Jan 10 16:10:14 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu, 10 Jan 2002 10:10:14 -0500
Subject: [R] Test if beta is different from something other than 0
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8478@usrymx10.merck.com>

More generally, I believe linear.hypothesis in the package `car' can be
used:

linear.hypothesis(lm(y~x), matrix(c(0,1), 1, 2), 1)

[I hope this is the right way to call linear.hypothesis?]

Andy

> -----Original Message-----
> From: Peter Dalgaard BSA [mailto:p.dalgaard at biostat.ku.dk]
> Sent: Thursday, January 10, 2002 9:20 AM
> To: Moffet, Corey
> Cc: 'r-help at stat.math.ethz.ch'
> Subject: Re: [R] Test if beta is different from something other than 0
> 
> 
> "Moffet, Corey" <Corey.Moffet at ttu.edu> writes:
> 
> > Is there a function/package that will allow you to test the 
> hypothesis beta1
> > = x in a
> > simple linear regression, where x is a constant?  The AOV 
> tests if beta1 in
> > different from
> > 0 but what if I want to know if beta1 one is different from 1?
> 
> (Slightly unfortunate choice of variable names there.)
> 
> Say that y are responses and x the *predictor*:
> 
> > x<-1:10 
> > y <- x+rnorm(10)
> > summary(lm(y~x))
> 
> Call:
> lm(formula = y ~ x)
> 
> Residuals:
>     Min      1Q  Median      3Q     Max 
> -2.5600 -0.1918  0.2597  0.4870  1.1106 
> 
> Coefficients:
>             Estimate Std. Error t value Pr(>|t|)    
> (Intercept)  -0.3347     0.7225  -0.463    0.655    
> x             1.0557     0.1164   9.067 1.76e-05 ***
> ---
> Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1 
> 
> Residual standard error: 1.058 on 8 degrees of freedom
> Multiple R-Squared: 0.9113,     Adjusted R-squared: 0.9002 
> F-statistic:  82.2 on 1 and 8 DF,  p-value: 1.755e-05 
> 
> > summary(lm(y-x~x))
> 
> Call:
> lm(formula = y - x ~ x)
> 
> Residuals:
>     Min      1Q  Median      3Q     Max 
> -2.5600 -0.1918  0.2597  0.4870  1.1106 
> 
> Coefficients:
>             Estimate Std. Error t value Pr(>|t|)
> (Intercept) -0.33475    0.72250  -0.463    0.655
> x            0.05572    0.11644   0.478    0.645
> 
> Residual standard error: 1.058 on 8 degrees of freedom
> Multiple R-Squared: 0.02782,    Adjusted R-squared: -0.0937 
> F-statistic: 0.229 on 1 and 8 DF,  p-value: 0.6451 
> 
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: 
> (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: 
> (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjosephlu at seed.net.tw  Thu Jan 10 16:36:30 2002
From: cjosephlu at seed.net.tw (cjosephlu)
Date: Thu, 10 Jan 2002 23:36:30 +0800
Subject: [R] xyplot() in Package lattice seems won't work?!
Message-ID: <E16OhGR-000Hlp-00@seed.net.tw>

Please forgive me if this has been asked and answered,
since I just can't find out.

As I try the example given in the help page of xyplot() as follows:
> library(lattice)
Loading required package: grid 

Attaching package `lattice':

        The following object(s) are masked from package:base :

         levels 
> data(quakes)
> xyplot(long ~ lat , data = quakes)

R crashed! (Both of my lattice and grid are loaded latest version)

However, this works on version 1.3.0 (with corresponding version of lattice and grid)
 
The OS of my computer is Win98 and with R version:
> R.version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    4.0            
year     2001           
month    12             
day      19             
language R      

What's happening?

Regards,

C. Joseph Lu
Associate Professor
Department of Statistics
National Cheng-Kung University
Tainan
Taiwan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.janmaat at acadiau.ca  Thu Jan 10 16:56:04 2002
From: john.janmaat at acadiau.ca (John Janmaat)
Date: Thu, 10 Jan 2002 11:56:04 -0400
Subject: [R] Cochrane-Orcutt method
References: <5.1.0.14.2.20020109182452.01d86728@mcmail.cis.mcmaster.ca>
Message-ID: <3C3DB994.33954398@acadiau.ca>

John Fox wrote:
> 
> Dear John,
> 
> At 03:49 PM 1/9/2002 -0400, you wrote:
> 
> >Is there a package that implements the Cochrane-Orcutt itterative
> >procedure for dealing with autocorrelation in a regression model?
> 
> I'm not aware of an implementation in a package, but I have two-step
> Cochrane-Orcott and Prais-Winsten estimators for my own use, which I've
> attached to this note.
> 
> That said, I'm not sure why you'd want to use these methods, other than for
> historical reasons. The gls function in the nlme package will fit linear
> models with autocorrelated errors by ML.

I'm teaching an undergraduate econometrics class.  ML is a little more
than they are up to at this level, and the Cochrane-Orcott approach is
an easily understandable itterative procedure.  Thus, the reason is
historical.  I want a canned procedure to be available to verify results
of the student calculations, rather than running the risk that I do it
incorrectly.

Thanks,

John.

> 
> I hope that this is of use to you,
>   John
> 
> # these functions take a linear-model object as input
> 
> cochrane.orcutt <- function(mod, ...){
>      UseMethod("cochrane.orcott")
>      }
> 
> cochrane.orcutt.lm <- function(mod){
>      X <- model.matrix(mod)
>      y <- model.response(model.frame(mod))
>      e <- residuals(mod)
>      n <- length(e)
>      names <- colnames(X)
>      rho <- sum(e[1:(n-1)]*e[2:n])/sum(e^2)
>      y <- y[2:n] - rho * y[1:(n-1)]
>      X <- X[2:n,] - rho * X[1:(n-1),]
>      mod <- lm(y ~ X - 1)
>      result <- list()
>      result$coefficients <- coef(mod)
>      names(result$coefficients) <- names
>      summary <- summary(mod, corr = F)
>      result$cov <- (summary$sigma^2) * summary$cov.unscaled
>      dimnames(result$cov) <- list(names, names)
>      result$sigma <- summary$sigma
>      result$rho <- rho
>      class(result) <- 'cochrane.orcutt'
>      result
>      }
> 
> prais.winsten <- function(mod, ...){
>      UseMethod("prais.winsten")
>      }
> 
> prais.winsten.lm <- function(mod){
>      X <- model.matrix(mod)
>      y <- model.response(model.frame(mod))
>      e <- residuals(mod)
>      n <- length(e)
>      names <- colnames(X)
>      rho <- sum(e[1:(n-1)]*e[2:n])/sum(e^2)
>      y <- c(y[1] * (1 - rho^2)^0.5, y[2:n] - rho * y[1:(n-1)])
>      X <- rbind(X[1,] * (1 - rho^2)^0.5, X[2:n,] - rho * X[1:(n-1),])
>      mod <- lm(y ~ X - 1)
>      result <- list()
>      result$coefficients <- coef(mod)
>      names(result$coefficients) <- names
>      summary <- summary(mod, corr = F)
>      result$cov <- (summary$sigma^2) * summary$cov.unscaled
>      dimnames(result$cov) <- list(names, names)
>      result$sigma <- summary$sigma
>      result$rho <- rho
>      class(result) <- 'prais.winsten'
>      result
>      }
> 
> -----------------------------------------------------
> John Fox
> Department of Sociology
> McMaster University
> Hamilton, Ontario, Canada L8S 4M4
> email: jfox at mcmaster.ca
> phone: 905-525-9140x23604
> web: www.socsci.mcmaster.ca/jfox
> -----------------------------------------------------

-- 
==========================================
John Janmaat
Department of Economics
Acadia University, Wolfville, NS, B0P 1X0
(902)585-1461

All opinions stated are personal, unless
otherwise indicated.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu Jan 10 17:20:26 2002
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 10 Jan 2002 11:20:26 -0500
Subject: [R] Test if beta is different from something other than 0
In-Reply-To: <938690ACF269D311928B0090279C2772E91E9C@cyclops.net.ttu.edu
 >
Message-ID: <5.1.0.14.2.20020110111548.01d86420@mcmail.cis.mcmaster.ca>

Dear Corey,

The linear.hypothesis function in the car package will test any linear 
hypothesis. But the standard summary output for a linear model gives you 
the coefficient, its standard error, and the residual df, so why not just 
compute your own t, and use pt to get the p-value?

John

At 07:46 AM 1/10/2002 -0600, you wrote:
>Is there a function/package that will allow you to test the hypothesis beta1
>= x in a
>simple linear regression, where x is a constant?  The AOV tests if beta1 in
>different from
>0 but what if I want to know if beta1 one is different from 1?

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Thu Jan 10 17:32:46 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu, 10 Jan 2002 11:32:46 -0500
Subject: [R] Cochrane-Orcutt method
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC847D@usrymx10.merck.com>

> I'm teaching an undergraduate econometrics class.  ML is a little more
> than they are up to at this level, and the Cochrane-Orcott approach is
> an easily understandable itterative procedure.  Thus, the reason is
> historical.  I want a canned procedure to be available to 
> verify results
> of the student calculations, rather than running the risk that I do it
> incorrectly.
> 
> Thanks,
> 
> John.

Sorry for saying this, but this is like saying ``I'd like to have a canned
t-test procedure so I can check that the students do it correctly, because
I'm afraid I may do it incorrectly''.  I hope none of your students are
subscribed to this list...

Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Jan 10 17:49:31 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 10 Jan 2002 08:49:31 -0800 (PST)
Subject: [R] Simple summary question
In-Reply-To: <87r8oyu7vd.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.A41.4.43.0201100848140.27448-100000@homer24.u.washington.edu>

On 9 Jan 2002, A.J. Rossini wrote:

> >>>>> "AP" == Andrew Perrin <andrew_perrin at unc.edu> writes:
>
>     AP> I'd like to get summary statistics (really just a mean would
>     AP> be fine) for a vector in a data frame, but split based on the
>     AP> value of another vector.  That is, I have a data frame
>     AP> (hcd.df) with variables datecat (which is always 1 or 2) and
>     AP> auth.sum (-8..+8).  I've used xtabs to get chi-square
>     AP> comparisons, but what I need now is a simple mean of auth.sum
>     AP> where datecat is 1 and another where datecat is 2. Thanks for
>     AP> any advice.
>
> Something like :
>
>         lapply(split(hcd.df$auth.sum,hcd.df$datecat),mean)
>

Or
    tapply(hcf.df$auth.sum, hcd.df$datecat, mean)

or (in 1.4.0)

    with(hcf.df, {tapply(auth.sum, datecat, mean})


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.janmaat at acadiau.ca  Thu Jan 10 17:48:31 2002
From: john.janmaat at acadiau.ca (John Janmaat)
Date: Thu, 10 Jan 2002 12:48:31 -0400
Subject: [R] Cochrane-Orcutt method
References: <51F9C42DA15CD311BD220008C707D81903DC847D@usrymx10.merck.com>
Message-ID: <3C3DC5DF.D7A63875@acadiau.ca>

"Liaw, Andy" wrote:
> 
> > I'm teaching an undergraduate econometrics class.  ML is a little more
> > than they are up to at this level, and the Cochrane-Orcott approach is
> > an easily understandable itterative procedure.  Thus, the reason is
> > historical.  I want a canned procedure to be available to
> > verify results
> > of the student calculations, rather than running the risk that I do it
> > incorrectly.
> >
> > Thanks,
> >
> > John.
> 
> Sorry for saying this, but this is like saying ``I'd like to have a canned
> t-test procedure so I can check that the students do it correctly, because
> I'm afraid I may do it incorrectly''.  I hope none of your students are
> subscribed to this list...
> 
> Andy

I'm confused.  I'm human, I may be an instructor, but that does not mean
I don't mess up.  From time to time I make calculation errors or coding
errors - even with simple things like t-tests.  I want to catch these
before I incorrectly tell a student that they are wrong.  Are you
asserting that if I make mistakes I should not teach, or are you just
joking with me?

John.
-- 
==========================================
John Janmaat
Department of Economics
Acadia University, Wolfville, NS, B0P 1X0
(902)585-1461

All opinions stated are personal, unless
otherwise indicated.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Thu Jan 10 17:55:25 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu, 10 Jan 2002 11:55:25 -0500
Subject: [R] Cochrane-Orcutt method
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC847F@usrymx10.merck.com>

John,

I'm simply saying that if I expect the students to do it correctly, that I
ought to expect myself to do it correctly as well.  If you don't think this
comment applies to your situation, then by all means ignore what I've said.

Cheers,
Andy

> -----Original Message-----
> From: John Janmaat [mailto:john.janmaat at acadiau.ca]
> Sent: Thursday, January 10, 2002 11:49 AM
> To: Liaw, Andy
> Cc: 'John Janmaat'; r-help at stat.math.ethz.ch
> Subject: Re: [R] Cochrane-Orcutt method
> 
> 
> "Liaw, Andy" wrote:
> > 
> > > I'm teaching an undergraduate econometrics class.  ML is 
> a little more
> > > than they are up to at this level, and the 
> Cochrane-Orcott approach is
> > > an easily understandable itterative procedure.  Thus, the 
> reason is
> > > historical.  I want a canned procedure to be available to
> > > verify results
> > > of the student calculations, rather than running the risk 
> that I do it
> > > incorrectly.
> > >
> > > Thanks,
> > >
> > > John.
> > 
> > Sorry for saying this, but this is like saying ``I'd like 
> to have a canned
> > t-test procedure so I can check that the students do it 
> correctly, because
> > I'm afraid I may do it incorrectly''.  I hope none of your 
> students are
> > subscribed to this list...
> > 
> > Andy
> 
> I'm confused.  I'm human, I may be an instructor, but that 
> does not mean
> I don't mess up.  From time to time I make calculation errors 
> or coding
> errors - even with simple things like t-tests.  I want to catch these
> before I incorrectly tell a student that they are wrong.  Are you
> asserting that if I make mistakes I should not teach, or are you just
> joking with me?
> 
> John.
> -- 
> ==========================================
> John Janmaat
> Department of Economics
> Acadia University, Wolfville, NS, B0P 1X0
> (902)585-1461
> 
> All opinions stated are personal, unless
> otherwise indicated.
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjosephlu at seed.net.tw  Thu Jan 10 18:14:04 2002
From: cjosephlu at seed.net.tw (cjosephlu)
Date: Fri, 11 Jan 2002 01:14:04 +0800
Subject: [R] When the "official" copy will be corrected?
Message-ID: <E16Oimt-0009MK-00@seed.net.tw>

Since I just experienced another crash on R 1.4.0 for Windows 
(this time is on plot(x, y) after using gls() of package nlme) and
am told (thanks Andy) that is might due to the "official" version
of binary copy.
I am also told that 
"The one provided by Prof. Ripley is known to work. 
This has been asked several times on the list."

Then, I am wondering when the "official" copy will be corrected?
Are we supposed to "trust" the official version?

This actually bothers me somehow since I instructed all students 
in my class to install the "official" copy when it came out 3 days 
later than Prof. Ripley's version.

Best regards,

C. Joseph Lu
Associate Professor
Department of Statistics
National Cheng-Kung University
Tainan
Taiwan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Tharacad.Ramanarayanan at aventis.com  Thu Jan 10 18:21:43 2002
From: Tharacad.Ramanarayanan at aventis.com (Tharacad.Ramanarayanan@aventis.com)
Date: Thu, 10 Jan 2002 12:21:43 -0500
Subject: [R] Fitting Distributions
Message-ID: <0282308471EAD511B37C00508B0CAA53C22765@AUSRT021>

Thank you very much Robert Denhum & Prof. Ripley. The 'fitdistr' works very
good and that is what I was looking for. I had to upgrade my R from 1.31 to
1.4.0 because 1.3x did not have fitdistr within the MASS package.

Now, how can I extract the parameters from the output. The help file states
that an object of class "fitdistr" with 2x2 matrix is produced. But how can
I extract the estimated parameters from the output? shape.fitdistr or
similar commands dose not work. Thank you very much again.

T. S. Ramanarayanan, Ph.D.
Aventis CropScience
Research Triangle Park, NC 27709
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Thu Jan 10 18:31:58 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Thu, 10 Jan 2002 12:31:58 -0500
Subject: [R] Test if beta is different from something other than 0
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF17F@groexmbcr02.pfizer.com>


 >  -----Original Message-----
 >  From: Moffet, Corey [mailto:Corey.Moffet at ttu.edu]
 >  Sent: Thursday, January 10, 2002 8:47 AM
 >  To: 'r-help at stat.math.ethz.ch'
 >  Subject: [R] Test if beta is different from something other than 0
 >  
 >  
 >  Is there a function/package that will allow you to test the 
 >  hypothesis beta1
 >  = x in a
 >  simple linear regression, where x is a constant?  

I've written a funcgion 'glh.test' for testing general linear hypotheses.  

For this case, you can use glh.test as:
	> x <- rnorm(100)
	> y <- rnorm(100,x+1)
	> reg <- lm(y~x)
	> # test the hypothesis that (b1*0, b1*1) == 1
	> glh.test( reg,            c(   0,    1), c(1) )
	
		 Test of General Linear Hypothesis 	
	Call:
	glh.test(reg = reg, cm = c(0, 1), d = c(1))
	F = 2.331, df1 =  1, df2 = 98, p-value = 0.1300 

I'm pasting the function and the documentation below. 'glh.test' will be
part of the next release of the gregmisc library, which will be out as soon
as I can get it through the publication review process.

-Greg


##################### start of glh.test.R ############################
# $Id: glh.test.R,v 1.3 2001/12/19 20:05:27 warneg Exp $
#
# $Log: glh.test.R,v $
# Revision 1.3  2001/12/19 20:05:27  warneg
#
# - Removed extra element of return object.
#
# Revision 1.2  2001/12/18 21:34:25  warneg
# - Modified to work correctly when obj is of class 'aov' by specifying
#   summary.lm instead of summary.  This ensures that the summary object
#   has the fields we need.
#
# - Moved detailed reporting of results from 'print' to 'summary'
#   function and added a simpler report to 'print'
#
# Revision 1.1  2001/12/18 00:43:23  warneg
#
# Initial checkin.
#
#

glh.test <- function( reg, cm, d=rep(0, nrow(cm)) )
{

  if( !is.matrix(cm) && !is.data.frame(cm) )
    cm <- matrix(cm, nrow=1)

  if ( !( "lm" %in% class(reg) ) )
    stop("Only defined for lm,glm objects")

  bhat <- summary.lm(reg)$coefficients[,1,drop=F]
  XpX <- summary.lm(reg)$cov.unscaled
  df <- reg$df.residual
  msr <- summary.lm(reg)$sigma  # == SSE / (n-p)
  r <- nrow(cm)


  if ( ncol(cm) != length(bhat) ) stop(  
                   paste( "\n Dimension of ",
                         deparse( substitute( cm ) ), ": ",
o                         paste( dim(cm), collapse="x" ),
                         ", not compatible with no of parameters in ",
                         deparse( substitute( reg ) ), ": ",
                         length(bhat), sep="" ) )


  #                        -1
  #     (Cb - d)' ( C (X'X)   C' ) (Cb - d) / r
  # F = ---------------------------------------
  #                 SSE / (n-p)
  #

  Fstat <- t(cm %*% bhat - d) %*% solve((cm %*% XpX %*% t(cm))) %*% (cm %*%
bhat - d) / r / msr^2 

  p <- 1-pf(Fstat,r,df)

  retval <- list()
  retval$call <- match.call()
  retval$statistic <- c(F=Fstat)
  retval$parameter <- c(df1=r,df2=df)
  retval$p.value <- p
  retval$conf.int <- NULL
  retval$estimate <- cm%*%bhat
  retval$null.value <- d
  retval$method <- "Test of General Linear Hypothesis"
  retval$data.name <- deparse(substitute(reg))
  retval$matrix <- cm
  colnames(retval$matrix) <- names(reg$coef)
  
  class(retval) <- c("glh.test","htest")

  retval
}

print.glh.test <- function(x, digits = 4 )
{
    cat("\n")
    cat("\t",x$method, prefix = "\t")
    cat("\n")
    cat("Call:\n")
    print(x$call)
    
    if (!is.null(x$statistic)) 
        cat(names(x$statistic), " = ", format(round(x$statistic, 
            4)), ", ", sep = "")
    if (!is.null(x$parameter)) 
        cat(paste(names(x$parameter), " = ", format(round(x$parameter, 
            3)), ",", sep = ""), "")
    cat("p-value =",
        format.pval(x$p.value, digits = digits), 
        "\n")
    cat("\n")
  }


  
summary.glh.test <- function(x, digits = 4 )
{
    cat("\n")
    cat("\t",x$method, prefix = "\t")
    cat("\n")
    cat("Regression: ", x$data.name, "\n")
    cat("\n")
    cat("Null Hypothesis: C %*% Beta-hat = d \n")
    cat("\n")
    cat("C matrix: \n")
    print(x$matrix, digits=digits)
    cat("\n")
    cat("d vector: \n")
    print(x$null.value, digits=digits)
    cat("\n")
    cat("C %*% Beta-hat: \n")
    print(c(x$estimate))
    cat("\n")
    
    if (!is.null(x$statistic)) 
        cat(names(x$statistic), " = ", format(round(x$statistic, 
            4)), ", ", sep = "")
    if (!is.null(x$parameter)) 
        cat(paste(names(x$parameter), " = ", format(round(x$parameter, 
            3)), ",", sep = ""), "")
    cat("p-value =",
        format.pval(x$p.value, digits = digits), 
        "\n")
    cat("\n")
  }
##################### end of glh.test.R ###########################

##################### start of glh.test documentation
###########################
glh.test              package:gregmisc              R Documentation
Test a General Linear Hypothesis for a Regression Model

Description:

     Test, print, or summarize a general linear hypothesis for a
     regression model

Usage:

     glh.test(reg, cm, d=rep(0, nrow(cm)) )
     print.glh.test(x, digits=4)
     summary.glh.test(x, digits=4)

Arguments:

     reg: Regression model 

      cm: matrix .  Each row specifies a linear combination of the
          coefficients 

       d: vector specifying the null hypothis values for each linear
          combination

       x: glh.test object

  digits: number of digits.

Details:

     Test the general lineary hypothesis C %*% beta_hat == d  for the
     regression model `reg'.

     The test statistic is obtained from the formula: 

 F = (C Beta-hat - d)' ( C (X'X)^-1   C' ) (C Beta-hat - d) / r / ( SSE /
(n-p) )

     Under the null hypothesis, f will follow a F-distribution with r
     and n-p degrees of freedom.

Value:

     Object of class `c("glh.test","htest")' with elements: 

   call : Function call that created the object

statistic : F statistic

parameter: vector containing the numerator (r) and denominator (n-p)
          degrees of freedom 

 p.value: p-value

estimate: computed estimate for each row of `cm' 

null.value: d 

  method: description of the method 

data.name: name of the model given for `reg' 

  matrix: matrix specifying the general linear hypotheis (`cm')

Author(s):

     Gregory R. Warnes gregory_r_warnes\@groton.pfizer.com

References:

     R.H. Myers, Classical and Modern Regression with Applications, 
     2nd Ed, 1990, p. 105

See Also:

     `contrast.lm', `estimable', `contrast', `contrasts'

Examples:

     # fit a simple model
     y _ rnorm(100)
     x _  cut(rnorm(100, mean=y, sd=0.25),c(-4,-1.5,0,1.5,4))
     reg _ lm(y ~ x)
     summary(reg)

     # test both group 1 = group 2  and group 3 = group 4
     C <- rbind( c(0,-1,0,0), c(0,0,-1,1) )
     ret <- glh.test(reg, C)
     ret  # same as 'print(ret) '
     summary(ret)
##################### end of glh.test documentation
###########################


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 10 18:33:47 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 10 Jan 2002 17:33:47 +0000 (GMT)
Subject: [R] Fitting Distributions
In-Reply-To: <0282308471EAD511B37C00508B0CAA53C22765@AUSRT021>
Message-ID: <Pine.LNX.4.31.0201101728040.12064-100000@gannet.stats>

On Thu, 10 Jan 2002 Tharacad.Ramanarayanan at aventis.com wrote:

> Thank you very much Robert Denhum & Prof. Ripley. The 'fitdistr' works very
> good and that is what I was looking for. I had to upgrade my R from 1.31 to
> 1.4.0 because 1.3x did not have fitdistr within the MASS package.

You could just have used update.packages() to get current versions of the
packages.

> Now, how can I extract the parameters from the output. The help file states
> that an object of class "fitdistr" with 2x2 matrix is produced. But how can
> I extract the estimated parameters from the output? shape.fitdistr or
> similar commands dose not work. Thank you very much again.

>From the last example of example(fitdistr)

> z <- fitdistr(x4, "Negative Binomial")
> z
     size         mu
  3.5522146   4.9181082
 (0.4032878) (0.1531517)
> z$estimate
    size       mu
3.552215 4.918108

Seems like the help page is out-of-date.  It is a list with two
components.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 10 18:39:07 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 10 Jan 2002 17:39:07 +0000 (GMT)
Subject: [R] When the "official" copy will be corrected?
In-Reply-To: <E16Oimt-0009MK-00@seed.net.tw>
Message-ID: <Pine.LNX.4.31.0201101733590.12064-100000@gannet.stats>

On Fri, 11 Jan 2002, cjosephlu wrote:

> Since I just experienced another crash on R 1.4.0 for Windows
> (this time is on plot(x, y) after using gls() of package nlme) and
> am told (thanks Andy) that is might due to the "official" version
> of binary copy.
> I am also told that
> "The one provided by Prof. Ripley is known to work.
> This has been asked several times on the list."
>
> Then, I am wondering when the "official" copy will be corrected?

You'll have to ask the Windows maintainer, Guido Masarotto.  The binaries
are mirrored from his site.

> Are we supposed to "trust" the official version?

R says:

R is free software and comes with ABSOLUTELY NO WARRANTY.

> This actually bothers me somehow since I instructed all students
> in my class to install the "official" copy when it came out 3 days
> later than Prof. Ripley's version.

That's not the correct time interval ... and it's not my version.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thoar at cgd.ucar.edu  Thu Jan 10 18:54:17 2002
From: thoar at cgd.ucar.edu (Tim Hoar)
Date: Thu, 10 Jan 2002 10:54:17 -0700 (MST)
Subject: [R] R package-building
Message-ID: <Pine.GSO.4.30.0201101052540.12250-100000@sunray2>

Sorry to all those who responded, but I am not getting my point across.
I have read the "Writing R Extensions" document and DO have the
suggested directory structure, and I have the data files in the
data directory. One data file is really an .RData file, one _cannot_ be.
I am even having trouble with the .RData data file.

Most of the confusion is that people are giving me suggestions that
work when the package is already installed and R knows about the
package PATH (for lack of a better concept). My problem is that
during the "check" sequence, the existing R PATH does _not_ contain
the data to be data()'d or load()'d, EVEN THOUGH the data IS
IN the <package>/data directory  (or so it seems to me).



to wit (from within R):

> system("pwd")
/home/thoar/R
> system("ls -l")
total 10
drwxr-xr-x   5 thoar    cgdcas       512 Jan  9 16:44 RadioSonde
> system("ls -lR RadioSonde")
RadioSonde:
total 10
-rw-r--r--   1 thoar    cgdcas       750 Jan  9 16:32 DESCRIPTION
-rw-r--r--   1 thoar    cgdcas       758 Jan  9 16:44 INDEX
drwxr-xr-x   2 thoar    cgdcas       512 Jan  9 14:20 R
drwxr-xr-x   2 thoar    cgdcas       512 Jan  9 16:44 data
drwxr-xr-x   2 thoar    cgdcas       512 Jan  4 16:43 man

RadioSonde/R:
total 106
-rw-r--r--   1 thoar    cgdcas      2433 Jan  9 11:54 getsonde.R
-rw-r--r--   1 thoar    cgdcas       701 Jan  9 14:13 plot.wind.R
-rw-r--r--   1 thoar    cgdcas      2115 Jan  9 14:10 plotsonde.R
-rw-r--r--   1 thoar    cgdcas       439 Jan  4 16:43 satlft.R
-rw-r--r--   1 thoar    cgdcas     11171 Jan  9 14:17 skewt.axis.R
-rw-r--r--   1 thoar    cgdcas     21188 Jan  4 16:43 skewt.data.R
-rw-r--r--   1 thoar    cgdcas       146 Jan  4 16:43 skewt.lines.R
-rw-r--r--   1 thoar    cgdcas       116 Jan  4 16:43 skewt.points.R
-rw-r--r--   1 thoar    cgdcas       251 Jan  4 16:43 skewtx.R
-rw-r--r--   1 thoar    cgdcas       212 Jan  4 16:43 skewty.R
-rw-r--r--   1 thoar    cgdcas      4346 Jan  9 10:40 station.symbol.R
-rw-r--r--   1 thoar    cgdcas      3977 Jan  4 16:43 wobf.R

RadioSonde/data:
total 256
-rw-r--r--   1 thoar    cgdcas       179 Jan  9 16:44 00Index
-rw-r--r--   1 thoar    cgdcas     63216 Jan  4 16:43 ExampleSonde.txt
-rw-r--r--   1 thoar    cgdcas     65718 Jan  9 13:19 sample.sonde.RData

RadioSonde/man:
total 58
-rw-r--r--   1 thoar    cgdcas      5222 Jan 10 09:05 ExampleSonde.Rd
-rw-r--r--   1 thoar    cgdcas       372 Jan  9 12:29 RadioSonde-internal.Rd
-rw-r--r--   1 thoar    cgdcas      4294 Jan 10 09:05 getsonde.Rd
-rw-r--r--   1 thoar    cgdcas      1775 Jan 10 09:03 plot.wind.Rd
-rw-r--r--   1 thoar    cgdcas      2710 Jan 10 09:06 plotsonde.Rd
-rw-r--r--   1 thoar    cgdcas      2383 Jan  9 15:33 sample.sonde.Rd
-rw-r--r--   1 thoar    cgdcas      2680 Jan 10 09:06 skewt.axis.Rd
-rw-r--r--   1 thoar    cgdcas      1175 Jan 10 09:24 skewt.lines.Rd
-rw-r--r--   1 thoar    cgdcas      1157 Jan 10 09:24 skewt.points.Rd
-rw-r--r--   1 thoar    cgdcas      1873 Jan 10 09:24 station.symbol.Rd
> data("ExampleSonde.txt")
Warning message:
Data set `ExampleSonde.txt' not found in: data("ExampleSonde.txt")
> data("sample.sonde.RData")
Warning message:
Data set `sample.sonde.RData' not found in: data("sample.sonde.RData")


#  PLEASE NOTE: There exists no "RadioSonde" package at this point! All
#  the pieces are there, but thats about it.
#  sample.sonde.Rdata  was created  by save(<yadda>,<yadda>,ascii=TRUE)
#  When I use a different LOAD:

> load("RadioSonde/data/sample.sonde.RData")
>

# R does EXACTLY as expected! However, this is clearly not an appropriate
# example once the package is installed!


# I have commented out all my examples save one:

\examples{
   load("sample.sonde.RData")
}

When I try to "check" it, it bombs:

0[230]2 sunray2:~/R > R CMD check RadioSonde
* checking for working latex ... OK
* using log directory `/home/thoar/R/RadioSonde.Rcheck'

Installing source package `RadioSonde' ...
 R
 data
 help
 >>> Building/Updating help pages for package `RadioSonde'
     Formats: text html latex example
  ExampleSonde                      text    html    latex   example
  RadioSonde-internal               text    html    latex
  getsonde                          text    html    latex   example
  plot.wind                         text    html    latex   example
  plotsonde                         text    html    latex   example
  sample.sonde                      text    html    latex
  skewt.axis                        text    html    latex   example
  skewt.lines                       text    html    latex   example
  skewt.points                      text    html    latex   example
  station.symbol                    text    html    latex   example
 DONE (RadioSonde)

DONE (INSTALL)

* checking for file `RadioSonde/DESCRIPTION' ... OK
* checking package directory ... OK
* checking for sufficient file permissions ... OK
* checking DESCRIPTION Package field ... OK
* checking DESCRIPTION Version field ... OK
* checking DESCRIPTION License field ... OK
* checking DESCRIPTION Description field ... OK
* checking DESCRIPTION Title field ... OK
* checking DESCRIPTION Author field ... OK
* checking DESCRIPTION Maintainer field ... OK
* checking R files for library.dynam ... OK
* checking Rd files ... OK
* checking for undocumented objects ... OK
* checking for code/documentation mismatches ... OK
* creating RadioSonde-Ex.R ... OK
* checking examples ... ERROR
* running examples failed
1[231]2 sunray2:~/R >

I don't see how, BEFORE THE PACKAGE IS BUILT, the "data", "load", or any
other command should know to search for any "data" directories in all
directories in the current working directory. Naturally, once the package
is installed, this is not a problem. At the CHECK stage, however, there
is no .lib.loc information available for a package that does not exist.

What am I not understanding about the PATH strategy for R?
Perhaps I am not building/checking the package in the intended fashion?

I can send a TAR file of the package (~54kb) to any interested parties.

Sincerely, and I appreciate the help -- Tim

P.S.  The intended [real world] data files are the result of a data
      collection mechanism beyond my control and contain an aggregation of
      metadata in a header and a subsequent table. They have an unknown
      number of lines of "text", a unique line of text, what amounts to
      the col.names, a garbage line of text, and then the table of data.
      Seems to me the .txt extension is the best descriptor for this.
      All my getsonde() function does is scan() the file in as a series
      of lines, parse the lines and decodes the number of lines to skip
      for read.table(). Along the way I grab the col.names and convert
      to lower case, and the presence of the garbage line in-between
      the col.names and the data prevents a straightforward call to
      read.table.

      Some of my examples SHOULD show how to read a real radiosonde
      datafile, not a preprocessed R dataset. So, I really need to
      have     sample.sonde <- getsonde("ExampleSonde.txt")   as
      a valid example. Simply getting   data("contrived")    to
      work is insufficient, I think.


<The rest of this is in response to Brian Ripley's reply>

> Use data().  Have a file ExampleSonde.R in RadioSonde/data that does
> whatever is necessary to read ExampleSonde.txt.  Then
> data(ExampleSonde) will work, from anywhere.
>
> I think ExampleSonde.R could just contain
>
> ExampleSonde <- getsonde("ExampleSonde.txt")
>
> BTW, assuming ExampleSonde.txt is really data, I suggect you don't give it
> a .txt extension.  data() allows that for rectangular arrays of data.
>
> See ?data for more details.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


Hunh?   RadioSonde/R/getsonde.R   is the function that reads in
        RadioSonde/data/ExampleSonde.txt.   Are you telling me to
copy/move   RadioSonde/R/getsonde.R       to
       RadioSonde/data/ExampleSonde.R ?

I'm sorry, but I really don't understand.

Tim

## Tim Hoar, Associate Scientist              email: thoar at ucar.edu     ##
## Geophysical Statistics Project             phone: 303-497-1708       ##
## National Center for Atmospheric Research   FAX  : 303-497-1333       ##
## Boulder, CO  80307                    http://www.cgd.ucar.edu/~thoar ##

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From elvis at xlsolutions-corp.com  Wed Jan  9 20:35:29 2002
From: elvis at xlsolutions-corp.com (Elvis Miller, PhD)
Date: Wed, 09 Jan 2002 11:35:29 -0800
Subject: [R] Course***R programming I: Essentials and Data Analysis***Minneapolis
Message-ID: <200201101827.TAA10367@stat.math.ethz.ch>

XLSolutions Corporation (www.xlsolutions-corp.com) is pleased to
announce a two-day R course, 

"R programming I: Essentials and Data Analysis" in: 

	Minneapolis ****  March 28-29, 2002.

This two-day course teaches participants the basics of S and R syntax. 
We will concentrate on learning the data structures and commands necessary
for data analysis. This course is designed for those who want to learn 
to write programs to accomplish typical data-processing tasks, including
creating graphics. The course will give participants a strong foundation
for becoming a versatile programmer. 


Cost for two-day course (payment due after the class).

          Commercial $765
          Academic   $650     Early bird special and group discount: email us!          

(Includes course materials, 90 days Technical Support for R,
snacks and continental breakfast!)

We also offer private affordable 1-day or 2-day courses customized to your needs.

Registration:

Email Sue Turner: sue at xlsolutions-corp.com
Phone: 206-686-1578 x221
Visit us: www.xlsolutions-corp.com/training.htm

 
Benefits:

This two-day course focuses on how to 

    Create and Enhance Different kinds of Plots  (Scatter plots, Histograms, Boxplots,.etc) 
    Import/export data into the software environment
    Create and manipulate data (vectors, data frames, lists) 
    Use the graphical features of the software to explore data 
    Perform basics statistics and fit linear regression 
    Write functions to automate data analysis tasks 

 
Course Topics: 


    An Overview of the Software System: Installation and Demonstration 
    Data Objects and Syntax
    Data Manipulation and Management
    Overview of High-level and Low-level Graphics Functions for Data Exploration
    Creating and Enhancing Plots 
    A Comparison of R and S-PLUS
    Writing Functions and Automating Analyses
    Constructing Models and Testing Hypotheses
    Fitting Linear regression modeling 
    Tips and Troubleshooting



Course Format:

This course consists of a series of short lectures with demonstrations and
interactive sessions for the participants. Each student is provided with
bound copies of the notes and a CD-ROM containing all examples,
exercises and software used on the course.


Share Your Thoughts:

Are there any additional topics you would like for this course to address?
Would you like for this course to be offered in another city?

Please let us know by contributing to our recommendation list:
training at xlsolutions-corp.com.


==========================================================================

R/S programming I: Essentials and Data Analysis. (Minneapolis)

Pre-registration Form (Please email or print and fax: 206-686-1578)
XLsolutions Corporation: For your Solutions needs, Consulting and
Training. www.xlsolutions-corp.com



Title...... First Name ................. Last Name....................

Organization..........................................................

Mailing Address.......................................................

...............................................................

...............................................................

Zip Code...................... Country.............................

Telephone........................... Fax ...............................

E-mail................................................................

Payment will be made by: (1) check (2) invoice (3) bank transfer



Elvis Miller, PhD
Manager Training and Technical Support
North American Division
XLSolutions Corporation
Email: elvis at xlsolutions-corp.com
Phone: 206-686-1578
Web: www.xlsolutions-corp.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fr.hennequin at wanadoo.fr  Thu Jan 10 18:58:24 2002
From: fr.hennequin at wanadoo.fr (=?iso-8859-1?Q?fran=E7oise_Hennequin?=)
Date: Thu, 10 Jan 2002 18:58:24 +0100
Subject: [R] question about survival datas with repeated mesurements
Message-ID: <000a01c19a00$6654de40$3f40fbc1@z8r3r9>

I have to study censured datas concernig the occurence of infection at the point of insertion of catheter in patients with renal disease. Catheter may be removed for ather reasons than infection, in this case, the observation is censored. Each has exactly 2 observations. The question are the pronostic factors of infection (the other variables are; age, sex, type of renal disease...). Could you indicate me what is  the R function to use in case of repeated consored datas? Than you very much.. 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020110/b23785d9/attachment.html

From Roger.Bivand at nhh.no  Thu Jan 10 20:17:23 2002
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Thu, 10 Jan 2002 20:17:23 +0100 (CET)
Subject: [R] R package-building
In-Reply-To: <Pine.GSO.4.30.0201101052540.12250-100000@sunray2>
Message-ID: <Pine.LNX.4.21.0201102000400.13256-100000@reclus.nhh.no>

On Thu, 10 Jan 2002, Tim Hoar wrote:

One problem that I've had several times, but resolved was trying to use
functions first made available in a package being checked in the *.R files
sourced by data(). The solution there has been to do as you seem to be
doing, and save the objects to be loaded as an ascii *.rda file, and
load() this file in the data/*.R file. I have a slight feeling that
data() might be happier without the file extensions (.txt, .Rdata), but
now I usually write a *.R in the data directory to make life easier.

>From some further rounds with check, which is actually a great help
despite what I've sometimes felt (it is encapsulated experience), you
could look carefully at the directory created while running R CMD check.

In running R CMD check mypkg, the procedure generates a check directory at
the same level as mypkg, called mypkg.Rcheck. In this will be the output
of running the examples (if it gets that far - tail on mypkg-Ex.Rout is
often very helpful) but more importantly the local directory with the
compiled package in it, exactly as the package would be installed. I
sometimes then find it easier to see what check doesn't like when running
the examples.

Roger


> Sorry to all those who responded, but I am not getting my point across.
> I have read the "Writing R Extensions" document and DO have the
> suggested directory structure, and I have the data files in the
> data directory. One data file is really an .RData file, one _cannot_ be.
> I am even having trouble with the .RData data file.
> 
> Most of the confusion is that people are giving me suggestions that
> work when the package is already installed and R knows about the
> package PATH (for lack of a better concept). My problem is that
> during the "check" sequence, the existing R PATH does _not_ contain
> the data to be data()'d or load()'d, EVEN THOUGH the data IS
> IN the <package>/data directory  (or so it seems to me).
> 
> 
> 
> to wit (from within R):
> 
> > system("pwd")
> /home/thoar/R
> > system("ls -l")
> total 10
> drwxr-xr-x   5 thoar    cgdcas       512 Jan  9 16:44 RadioSonde
> > system("ls -lR RadioSonde")
> RadioSonde:
> total 10
> -rw-r--r--   1 thoar    cgdcas       750 Jan  9 16:32 DESCRIPTION
> -rw-r--r--   1 thoar    cgdcas       758 Jan  9 16:44 INDEX
> drwxr-xr-x   2 thoar    cgdcas       512 Jan  9 14:20 R
> drwxr-xr-x   2 thoar    cgdcas       512 Jan  9 16:44 data
> drwxr-xr-x   2 thoar    cgdcas       512 Jan  4 16:43 man
> 
> RadioSonde/R:
> total 106
> -rw-r--r--   1 thoar    cgdcas      2433 Jan  9 11:54 getsonde.R
> -rw-r--r--   1 thoar    cgdcas       701 Jan  9 14:13 plot.wind.R
> -rw-r--r--   1 thoar    cgdcas      2115 Jan  9 14:10 plotsonde.R
> -rw-r--r--   1 thoar    cgdcas       439 Jan  4 16:43 satlft.R
> -rw-r--r--   1 thoar    cgdcas     11171 Jan  9 14:17 skewt.axis.R
> -rw-r--r--   1 thoar    cgdcas     21188 Jan  4 16:43 skewt.data.R
> -rw-r--r--   1 thoar    cgdcas       146 Jan  4 16:43 skewt.lines.R
> -rw-r--r--   1 thoar    cgdcas       116 Jan  4 16:43 skewt.points.R
> -rw-r--r--   1 thoar    cgdcas       251 Jan  4 16:43 skewtx.R
> -rw-r--r--   1 thoar    cgdcas       212 Jan  4 16:43 skewty.R
> -rw-r--r--   1 thoar    cgdcas      4346 Jan  9 10:40 station.symbol.R
> -rw-r--r--   1 thoar    cgdcas      3977 Jan  4 16:43 wobf.R
> 
> RadioSonde/data:
> total 256
> -rw-r--r--   1 thoar    cgdcas       179 Jan  9 16:44 00Index
> -rw-r--r--   1 thoar    cgdcas     63216 Jan  4 16:43 ExampleSonde.txt
> -rw-r--r--   1 thoar    cgdcas     65718 Jan  9 13:19 sample.sonde.RData
> 
> RadioSonde/man:
> total 58
> -rw-r--r--   1 thoar    cgdcas      5222 Jan 10 09:05 ExampleSonde.Rd
> -rw-r--r--   1 thoar    cgdcas       372 Jan  9 12:29 RadioSonde-internal.Rd
> -rw-r--r--   1 thoar    cgdcas      4294 Jan 10 09:05 getsonde.Rd
> -rw-r--r--   1 thoar    cgdcas      1775 Jan 10 09:03 plot.wind.Rd
> -rw-r--r--   1 thoar    cgdcas      2710 Jan 10 09:06 plotsonde.Rd
> -rw-r--r--   1 thoar    cgdcas      2383 Jan  9 15:33 sample.sonde.Rd
> -rw-r--r--   1 thoar    cgdcas      2680 Jan 10 09:06 skewt.axis.Rd
> -rw-r--r--   1 thoar    cgdcas      1175 Jan 10 09:24 skewt.lines.Rd
> -rw-r--r--   1 thoar    cgdcas      1157 Jan 10 09:24 skewt.points.Rd
> -rw-r--r--   1 thoar    cgdcas      1873 Jan 10 09:24 station.symbol.Rd
> > data("ExampleSonde.txt")
> Warning message:
> Data set `ExampleSonde.txt' not found in: data("ExampleSonde.txt")
> > data("sample.sonde.RData")
> Warning message:
> Data set `sample.sonde.RData' not found in: data("sample.sonde.RData")
> 
> 
> #  PLEASE NOTE: There exists no "RadioSonde" package at this point! All
> #  the pieces are there, but thats about it.
> #  sample.sonde.Rdata  was created  by save(<yadda>,<yadda>,ascii=TRUE)
> #  When I use a different LOAD:
> 
> > load("RadioSonde/data/sample.sonde.RData")
> >
> 
> # R does EXACTLY as expected! However, this is clearly not an appropriate
> # example once the package is installed!
> 
> 
> # I have commented out all my examples save one:
> 
> \examples{
>    load("sample.sonde.RData")
> }
> 
> When I try to "check" it, it bombs:
> 
> 0[230]2 sunray2:~/R > R CMD check RadioSonde
> * checking for working latex ... OK
> * using log directory `/home/thoar/R/RadioSonde.Rcheck'
> 
> Installing source package `RadioSonde' ...
>  R
>  data
>  help
>  >>> Building/Updating help pages for package `RadioSonde'
>      Formats: text html latex example
>   ExampleSonde                      text    html    latex   example
>   RadioSonde-internal               text    html    latex
>   getsonde                          text    html    latex   example
>   plot.wind                         text    html    latex   example
>   plotsonde                         text    html    latex   example
>   sample.sonde                      text    html    latex
>   skewt.axis                        text    html    latex   example
>   skewt.lines                       text    html    latex   example
>   skewt.points                      text    html    latex   example
>   station.symbol                    text    html    latex   example
>  DONE (RadioSonde)
> 
> DONE (INSTALL)
> 
> * checking for file `RadioSonde/DESCRIPTION' ... OK
> * checking package directory ... OK
> * checking for sufficient file permissions ... OK
> * checking DESCRIPTION Package field ... OK
> * checking DESCRIPTION Version field ... OK
> * checking DESCRIPTION License field ... OK
> * checking DESCRIPTION Description field ... OK
> * checking DESCRIPTION Title field ... OK
> * checking DESCRIPTION Author field ... OK
> * checking DESCRIPTION Maintainer field ... OK
> * checking R files for library.dynam ... OK
> * checking Rd files ... OK
> * checking for undocumented objects ... OK
> * checking for code/documentation mismatches ... OK
> * creating RadioSonde-Ex.R ... OK
> * checking examples ... ERROR
> * running examples failed
> 1[231]2 sunray2:~/R >
> 
> I don't see how, BEFORE THE PACKAGE IS BUILT, the "data", "load", or any
> other command should know to search for any "data" directories in all
> directories in the current working directory. Naturally, once the package
> is installed, this is not a problem. At the CHECK stage, however, there
> is no .lib.loc information available for a package that does not exist.
> 
> What am I not understanding about the PATH strategy for R?
> Perhaps I am not building/checking the package in the intended fashion?
> 
> I can send a TAR file of the package (~54kb) to any interested parties.
> 
> Sincerely, and I appreciate the help -- Tim
> 
> P.S.  The intended [real world] data files are the result of a data
>       collection mechanism beyond my control and contain an aggregation of
>       metadata in a header and a subsequent table. They have an unknown
>       number of lines of "text", a unique line of text, what amounts to
>       the col.names, a garbage line of text, and then the table of data.
>       Seems to me the .txt extension is the best descriptor for this.
>       All my getsonde() function does is scan() the file in as a series
>       of lines, parse the lines and decodes the number of lines to skip
>       for read.table(). Along the way I grab the col.names and convert
>       to lower case, and the presence of the garbage line in-between
>       the col.names and the data prevents a straightforward call to
>       read.table.
> 
>       Some of my examples SHOULD show how to read a real radiosonde
>       datafile, not a preprocessed R dataset. So, I really need to
>       have     sample.sonde <- getsonde("ExampleSonde.txt")   as
>       a valid example. Simply getting   data("contrived")    to
>       work is insufficient, I think.
> 
> 
> <The rest of this is in response to Brian Ripley's reply>
> 
> > Use data().  Have a file ExampleSonde.R in RadioSonde/data that does
> > whatever is necessary to read ExampleSonde.txt.  Then
> > data(ExampleSonde) will work, from anywhere.
> >
> > I think ExampleSonde.R could just contain
> >
> > ExampleSonde <- getsonde("ExampleSonde.txt")
> >
> > BTW, assuming ExampleSonde.txt is really data, I suggect you don't give it
> > a .txt extension.  data() allows that for rectangular arrays of data.
> >
> > See ?data for more details.
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 
> Hunh?   RadioSonde/R/getsonde.R   is the function that reads in
>         RadioSonde/data/ExampleSonde.txt.   Are you telling me to
> copy/move   RadioSonde/R/getsonde.R       to
>        RadioSonde/data/ExampleSonde.R ?
> 
> I'm sorry, but I really don't understand.
> 
> Tim
> 
> ## Tim Hoar, Associate Scientist              email: thoar at ucar.edu     ##
> ## Geophysical Statistics Project             phone: 303-497-1708       ##
> ## National Center for Atmospheric Research   FAX  : 303-497-1333       ##
> ## Boulder, CO  80307                    http://www.cgd.ucar.edu/~thoar ##
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Jan 10 20:22:55 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 10 Jan 2002 11:22:55 -0800 (PST)
Subject: [R] question about survival datas with repeated mesurements
In-Reply-To: <000a01c19a00$6654de40$3f40fbc1@z8r3r9>
Message-ID: <Pine.A41.4.43.0201101114510.27448-100000@homer24.u.washington.edu>

On Thu, 10 Jan 2002, [iso-8859-1] franoise Hennequin wrote:

> I have to study censured datas concernig the occurence of infection at
> the point of insertion of catheter in patients with renal disease.
> Catheter may be removed for ather reasons than infection, in this case,
> the observation is censored. Each has exactly 2 observations. The
> question are the pronostic factors of infection (the other variables
> are; age, sex, type of renal disease...). Could you indicate me what is
> the R function to use in case of repeated consored datas? Than you very
> much..

I assume that you are interested in the relationships between time to
infection and the prognostic factors (rather than being interested
primarily in the amount of correlation within a person, for example)

The cluster() feature in coxph() is designed for this sort of data.

If you have two records per person with eg

id time status age
1   50    1    66
1   40    0    66
2   80    0    75
2   70    1    75
...

then you can do
   coxph(Surv(time,status)~age+cluster(id))
to model the marginal rates of infection. That much is easy. The tricky
part is that there are several ways to code the times.

If you have two catheters being infected at, say, 50 and 70 days from the
start of the study you could code the two times as 50 and 70, or 50 and
20. You could also code two time intervals [0,50] and [50,70] by
specifying an entry time for each record
id time status
1   50   1
1   70   1
id time status
1   50   1
1   20   1
id  entry exit status
1    0    50    1
1   50    70    1
(in this case you would use Surv(entry,exit,status) in the model formula.

If you aren't sure about this then one place to look is a nice review
paper by Therneau & Hamilton in "Statistics in Medicine" 16: 2029--2047
(and some other useful papers in that issue of the journal).

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Thu Jan 10 20:49:29 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Thu, 10 Jan 2002 14:49:29 -0500 (EST)
Subject: [R] Simple summary question
In-Reply-To: <87r8oyu7vd.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.LNX.4.21L1.0201101449250.404-100000@hm269-26876.socsci.unc.edu>

Thanks! Worked great.

ap

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


On 9 Jan 2002, A.J. Rossini wrote:

> >>>>> "AP" == Andrew Perrin <andrew_perrin at unc.edu> writes:
> 
>     AP> I'd like to get summary statistics (really just a mean would
>     AP> be fine) for a vector in a data frame, but split based on the
>     AP> value of another vector.  That is, I have a data frame
>     AP> (hcd.df) with variables datecat (which is always 1 or 2) and
>     AP> auth.sum (-8..+8).  I've used xtabs to get chi-square
>     AP> comparisons, but what I need now is a simple mean of auth.sum
>     AP> where datecat is 1 and another where datecat is 2. Thanks for
>     AP> any advice.
> 
> Something like :
> 
>         lapply(split(hcd.df$auth.sum,hcd.df$datecat),mean)
> 
> ?
> 
> 
> -- 
> A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
> U. of Washington Biostatistics		rossini at u.washington.edu	
> FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
> -------------- http://software.biostat.washington.edu/ --------------
> FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
> UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
> Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Thu Jan 10 22:05:06 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Fri, 11 Jan 2002 10:05:06 +1300 (NZDT)
Subject: [R] Re: Build R Packages (man)
In-Reply-To: <ci2r3uoadbjeo7ml0efd35jt8filo2s09n@4ax.com>
Message-ID: <Pine.SOL.4.21.0201111002560.6774-100000@stat1.stat.auckland.ac.nz>

Ahh yes. I forgot to build it.  Thanks a lot for the information.

By the way, in each package there is a Content file in its root
directory.  Is there any command to create it automatically, or does it
have to be created manually?  What I mean is, I can use:
  R CMD Rdindex man > INDEX
to create an INDEX file automatically.  Is there a similar way to create
the CONTENT file?

Thanks,

Ko-Kang Wang

On Thu, 10 Jan 2002, Duncan Murdoch wrote:

> Date: Thu, 10 Jan 2002 07:39:17 -0500
> From: Duncan Murdoch <dmurdoch at pair.com>
> To: Ko-Kang Kevin Wang <kwan022 at stat.auckland.ac.nz>
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: Build R Packages (man)
> 
> It sounds as though you're not "building" or "installing" the package.
> You need to run
> 
>  R CMD build ....
>  R CMD install ....
> 
> to get all the helper files built and installed.
> 
> If you've done that, then 
> 
>  R CMD check ....
> 
> will run tests on your package, and might be able to point out what
> else is wrong.
> 
> Duncan Murdoch
> 

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 10 22:18:51 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 10 Jan 2002 21:18:51 +0000 (GMT)
Subject: [R] Re: Build R Packages (man)
In-Reply-To: <Pine.SOL.4.21.0201111002560.6774-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.31.0201102116020.15597-100000@gannet.stats>

On Fri, 11 Jan 2002, Ko-Kang Kevin Wang wrote:

> Ahh yes. I forgot to build it.  Thanks a lot for the information.
>
> By the way, in each package there is a Content file in its root
> directory.  Is there any command to create it automatically, or does it
> have to be created manually?  What I mean is, I can use:

If you install, that creates the file called CONTENTS (not Content).  Do
take a look at the Makefiles to understand what is going on.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thoar at cgd.ucar.edu  Thu Jan 10 23:02:47 2002
From: thoar at cgd.ucar.edu (Tim Hoar)
Date: Thu, 10 Jan 2002 15:02:47 -0700 (MST)
Subject: [R] R package-building
In-Reply-To: <Pine.LNX.4.21.0201102000400.13256-100000@reclus.nhh.no>
Message-ID: <Pine.GSO.4.30.0201101346170.12250-100000@sunray2>

OK, got it.


I REALLY, REALLY don't have a datafile that is in a data()'able format,
yet my examples need to be able to read in a file (that has a dynamic
absolute path). I did not understand the PATH differences between load()
and data() and that .package.path would work for a package that was
in the "check" state.

My real example file is      RadioSonde/data/ExampleSonde.txt

If I change my example to:

filename <- paste(.path.package("RadioSonde"),"data","ExampleSonde.txt",sep="/")
sample.sonde <- getsonde(filename)

R CMD [check,build,INSTALL] all work and pretty much gets the point
across that you supply a stinking filename. You have to sort of TRUST that
it works during "check", because running it from the command line a`priori
will not work because there is no RadioSonde package, hence no .path.package

By-the-way the nuances between load() and data() are not documented terribly
well, in my opinion. If you care, see below the "-=-=-=-=-".

With    RadioSonde/data/sample.sonde.RData

If my example is:

load("sample.sonde")        "R CMD check" bombs
data("sample.sonde")        "R CMD check" works OK, but my datafiles cannot
                            be used in this manner.

Thanks to all who replied -- Tim

      -=-=-=-=-=-=-=-=-=-=-

I hate it when people give negative comments without specifying something
better.  So -- in order to avoid hating myself:

In an effort to give the people who write the documentation a little
feedback, the distinction between "load()" and "data()" is not clear.
Since they both read stuff created by save(), and ?save only mentions
using load() I didn't think too much of using load() instead of data().
Furthermore, ?data doesn't actually give hints as to how to _make_ an
acceptable input.

For concrete suggestions, here goes:

?save    does not mention data(), only load(), dput(), dump()
         and implicity states the companion is "load".

The Writing R Extensions manual says to use save(...ascii=T), which I did,
but only mentions using data(), not load() (and for good reason, apparently).
It would be nice if the manual made clear why load() might not work.

?data    does not actually tell you how to create a file you can ingest
         with data(), and does not mention save() in the "seealso" but says
         "  1.  files ending `.RData' or `.rda' are `load()'ed. " so people
         have to look up load() to find save().


## Tim Hoar, Associate Scientist              email: thoar at ucar.edu     ##
## Geophysical Statistics Project             phone: 303-497-1708       ##
## National Center for Atmospheric Research   FAX  : 303-497-1333       ##
## Boulder, CO  80307                    http://www.cgd.ucar.edu/~thoar ##

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wei_xiaoyan at emc.com  Fri Jan 11 00:24:10 2002
From: wei_xiaoyan at emc.com (wei, xiaoyan)
Date: Thu, 10 Jan 2002 18:24:10 -0500
Subject: [R] installing R-1.3.1 on Solaris 2.6
Message-ID: <FA2F59D0E55B4B4892EA076FF8704F5538001F@srgraham.eng.emc.com>

Thank Professor Ripley for the reply.

I tried R-1.4.0, updated path and LD_LIBRARY_PATH etc, the installation
succeeded with gcc/g77!

I do have one question though. At the end of the outputs from configure,
I saw a line:
	R as a shared library: no
which probably means that I cannot use R as a shared library. 
What configuration do I need to support R as a shared library?

Thanks,
--Xiaoyan
(P.S. I attached the output from configure for your reference)



-----Original Message-----
From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
Sent: Wednesday, January 09, 2002 6:12 AM
To: wei, xiaoyan
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] installing R-1.3.1 on Solaris 2.6


On Tue, 8 Jan 2002, wei, xiaoyan wrote:

> Hi All,
>
> I am trying to install R1.3.1 on solaris 2.6 using the gcc/g77 compiler.
>
> The configure step succeeded, but make failed. The compiler versions I
used
> are:
> 	gcc version 2.95.2 19991024 (release)
> 	g77 version 2.95.2 19991024 (release)
> 	CC  workshop Compilers 5.0 98/12/15 C++ 5.0
> I can't use the c++ compiler(v2.95.2), since it failed the configure step.
I
> can't use f77 either, because we have no license and we are cutting cost
in
> the department.

(g++ also works from 2.95.2, but you do need /usr/local/lib in
LD_LIBRARY_PATH to use it.)

> I used all default compiling flags in config.site.
>
> My question is:
> Has anyone installed R1.3.1 successfully using gcc/g77 ( I know people
have
> success stories using the Forte compiler, but that is not an option for
me)?
>
> Which version do I have to use? Which flags do I have to set?

Definitely, with that compiler, out of the box.  I would suggest you try
1.4.0 though, or even R-patched.tar.gz.

You do need a working ar, though, and

ld: warning: file ../unix/libunix.a ignored: unable to locate archive =
symbol table
ld: warning: file ../appl/libappl.a ignored: unable to locate archive =
symbol table
ld: warning: file ../nmath/libnmath.a ignored: unable to locate archive =
symbol table

is your problem.  Which ar are you using, and it is really for Solaris
2.6?  You should be using

auk% which ar
/usr/ccs/bin/ar

You could try running ranlib on the libraries and see if it goes through.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: log.txt
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020110/3e6b0ccc/log.txt

From p.dalgaard at biostat.ku.dk  Fri Jan 11 00:44:40 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Jan 2002 00:44:40 +0100
Subject: [R] installing R-1.3.1 on Solaris 2.6
In-Reply-To: <FA2F59D0E55B4B4892EA076FF8704F5538001F@srgraham.eng.emc.com>
References: <FA2F59D0E55B4B4892EA076FF8704F5538001F@srgraham.eng.emc.com>
Message-ID: <x2r8oxg49j.fsf@blueberry.kubism.ku.dk>

"wei, xiaoyan" <wei_xiaoyan at emc.com> writes:

> Thank Professor Ripley for the reply.
> 
> I tried R-1.4.0, updated path and LD_LIBRARY_PATH etc, the installation
> succeeded with gcc/g77!
> 
> I do have one question though. At the end of the outputs from configure,
> I saw a line:
> 	R as a shared library: no
> which probably means that I cannot use R as a shared library. 
> What configuration do I need to support R as a shared library?

Do you need it? It doesn't get built by default. Quite possibly you
just need to rebuild starting with 

/path/to/configure --enable-R-shlib


(and /path/to/configure --help to find out what options exist.)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From csprin at brandybuck.ca.sandia.gov  Fri Jan 11 01:52:17 2002
From: csprin at brandybuck.ca.sandia.gov (Clayton Springer)
Date: Thu, 10 Jan 2002 16:52:17 -0800
Subject: [R] help with debugging hardware dependent problems
Message-ID: <20020110165217.G25871@brandybuck>

Dear r-help,

I am having an intermittant error using R on a linux beowulf cluster.

I am using my homebrew script to test the performance of various feature subsets
with "lda".

-------------

The general procedure is as follows:

I load the data from an .Rdata file (which has generated by R-1.3.0)

run my script "Iterate()" ...

At a different iteration each time I get the error:

Error in svd(X, nu = 0) : NA/NaN/Inf in foreign function call (arg 1)

It is as if the data is not properly loaded and R just puts "NA"
instead.

The error is inconsistent and not repeatable.  Even when conditions are 
repeated it doesn't happen at the same iteration everytime.

The error does not occur at all on my stand alone linux box.

--------------

Can anyone suggest debugging tools to track the problem more 
precisely?

In both cases, I compiled the R-1.4.0 myself. The Beowulf cluster is RedHat linux and
my stand alone box is Mandrake.

The Beowulf cluster is using a RAID, are there any known issues with those?


Thanks for your help,


--Clayton



----------


Here is an actual transcript. In which the model is run twice, but dies in
a different place 
It shows that the "Iterate()" is dieing on different
iterations. traceback() shows that it is lda having the problem. 

>  Iterate(1,200)
1 thesefactors  V2 
2 thesefactors  V3 
3 thesefactors  V2 V3 
4 thesefactors  V4 
5 thesefactors  V2 V4 
6 thesefactors  V3 V4 
Error in svd(X, nu = 0) : NA/NaN/Inf in foreign function call (arg 1)
> Iterate(1,200)
1 thesefactors  V2 
2 thesefactors  V3 
3 thesefactors  V2 V3 
4 thesefactors  V4 
5 thesefactors  V2 V4 
6 thesefactors  V3 V4 
7 thesefactors  V2 V3 V4 
8 thesefactors  V5 
9 thesefactors  V2 V5 
10 thesefactors  V3 V5 
11 thesefactors  V2 V3 V5 
12 thesefactors  V4 V5 
13 thesefactors  V2 V4 V5 
14 thesefactors  V3 V4 V5 
15 thesefactors  V2 V3 V4 V5 
Error in svd(X, nu = 0) : NA/NaN/Inf in foreign function call (arg 1)
> traceback()
5: svd(X, nu = 0)
4: lda.default(x, grouping, ...)
3: lda.formula(fmla, data = data)
2: lda(fmla, data = data)
1: Iterate(1, 200)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mwgrant2001 at yahoo.com  Fri Jan 11 03:02:11 2002
From: mwgrant2001 at yahoo.com (Michael Grant)
Date: Thu, 10 Jan 2002 18:02:11 -0800 (PST)
Subject: [R] Where is the best place to get ALL the changes between versions? 
Message-ID: <20020111020211.14982.qmail@web20809.mail.yahoo.com>

EXECUTIVE SUMMARY:"Its called the NEWS." would have
sufficed. 

FULL TEXT:

"... So it's all there if you care to look."   

Ouch!  Yes, I do care to look and I do not take
lightly, as implied by that retort the time the team
members give to make R what it is. This is especially
the case with the help. I regret if the perception is
otherwise.

Before submitting that question, I looked at four
years of r-help archives and confirmed that the
aggregate mean was calculated, i.e., the behavior in
earlier versions of my application were acting in the
manner expected at that time. I also searched the bug
reports--manually I might add, because, Oh Lord
forgive me, I've never learned regular expressions. I
found the new 'mean' behavior in the new documentation
as noted above in this thread.  Furthermore, I
confirmed the above by checking the source codes for
1.22 and 1.40 in their respective base libraries. Uh,
These things took a little of my time and effort.
That's OK. I learned from it.

All of this took place in the wee hours of the AM
after debugging(?) a MC simulation of a high level
nuclear waste inventory that all of the sudden in 1.4
went screaming to three times where it was
before--with no changes in data or code. (Not anxious
to tell the client that one, are we, huh?) 

The change in mean behavior was tracked down fairly
easily.  Of course, the real issue was: is there
anything else? 

So you see it is not necessarily the case that one is
impatient or too lazy if one submits a question that
on the surface may appear to be so. It may be that
one, like you, is up to his 'you know what' in
alligators!  That being said, I will risk another
zinger to tender some constructive advice that might
make your efforts more valuable to the R community.

One way to reduce the number of  such 'oversight'
questions is to lower the probability of their
occurring. In that regard, you MIGHT want to consider
consolidating changes into one document with platform
specific suggestions.  I  doubt I'm  the only person
who uses "search" in an editor to find something so
specific. ("Windows-specific changes to R" did have an
ice cube's chance in hell of flashing before my eyes.)

Always try to remember that things may not be as clear
to others as you, the team, perceive them to be.
Consider a line from readme.rw1040:

"See the file `CHANGES' for the NEW (my upper case) 
features of this version. "

Yet, as noted in the response to me, the changes are
under 'NEWS'. Got it. It's clear now. 


Now an observation regarding the response:

"And NEWS says 
    o mean() has `data frame' method applying mean
column-by-column. 
      When applied to non-numeric data mean() now
returns NA rather 
      than a confusing error message (for
compatibility with S4). 
      Logicals are still coerced to numeric. "

Prudence would suggest that because the use of the
'mean' is very, very common in applications, the NEWS
could provide some small caution regarding the older
behavior of mean and legacy R code. (This concept
extends to changes in other heavily used functions.)
Clearly this is an editorial comment and one might
protest that the developers' are already spending
hours of their time in coding writing and providing
exceptional help, and hence, they should not have to
waste time answering questions from those individuals
too lazy to read the documentation. I agree with this
sentiment. However, you might be able to eliminate a
lot of these questions by considering, just a little,
the consequences of changes in preparation to writing
documentation. Is time to get a volunteer technical
editor?

Finally, don't detract from the quality of the R
effort by presuming you know the attitude or intent of
a questioner. Show a little more respect for what
might appear to be a "dumb" or "lazy" question. It may
be neither. Or maybe it is, but you probably asked one
sometime in the distant past. Gentlemen, having
written and documented applications for third parties,
I truly respect the effort and time involved with
producing validated functional code for others. Also,
having successfully and unsuccessfully taught I
understand how exasperating some questions can be. But
I've never seen a lack of respect bear fruit. And
remember--you volunteered.

Respectfully,
Dr. Michael W. Grant





__________________________________________________
Do You Yahoo!?
Send FREE video emails in Yahoo! Mail!
http://promo.yahoo.com/videomail/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Fri Jan 11 10:00:45 2002
From: stuart.leask at nottingham.ac.uk (Stuart Leask)
Date: Fri, 11 Jan 2002 09:00:45 -0000
Subject: [R] When the "official" copy will be corrected?
References: <Pine.LNX.4.31.0201101733590.12064-100000@gannet.stats>
Message-ID: <005501c19a7e$74770b00$f2e1f380@nottingham.ac.uk>

For what it's worth, I've found R 1.4.0 for Windows crashes from time to
time, usually when it's least convenient... as have all previous versions. I
find this to be a characteristic of most programs running under Windows
(including such obscure thrid-party offerings as MS Word).

I'm told windows 2000 is more stable. However, I encourage anyone with
limited funds for hardware or software upgrades to try R under linux. I used
R v 1.2.1 continuously for several months on reasonably-sized datasets
(under Zipslack - www.slackware.org - which is compact and runs in a windows
folder - no re-partitioning), and it just won't fall over.

Stuart




----- Original Message -----
From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
To: cjosephlu <cjosephlu at seed.net.tw>
Cc: <r-help at stat.math.ethz.ch>
Sent: Thursday, January 10, 2002 5:39 PM
Subject: Re: [R] When the "official" copy will be corrected?


> On Fri, 11 Jan 2002, cjosephlu wrote:
>
> > Since I just experienced another crash on R 1.4.0 for Windows
> > (this time is on plot(x, y) after using gls() of package nlme) and
> > am told (thanks Andy) that is might due to the "official" version
> > of binary copy.
> > I am also told that
> > "The one provided by Prof. Ripley is known to work.
> > This has been asked several times on the list."
> >
> > Then, I am wondering when the "official" copy will be corrected?
>
> You'll have to ask the Windows maintainer, Guido Masarotto.  The binaries
> are mirrored from his site.
>
> > Are we supposed to "trust" the official version?
>
> R says:
>
> R is free software and comes with ABSOLUTELY NO WARRANTY.
>
> > This actually bothers me somehow since I instructed all students
> > in my class to install the "official" copy when it came out 3 days
> > later than Prof. Ripley's version.
>
> That's not the correct time interval ... and it's not my version.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Fri Jan 11 12:22:20 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Fri, 11 Jan 2002 12:22:20 +0100 (MET)
Subject: [R] Where is the best place to get ALL the changes between versions? 
In-Reply-To: <20020111020211.14982.qmail@web20809.mail.yahoo.com>
Message-ID: <Pine.OSF.3.96.1020111120157.14218F-100000@ija.csic.es>


On Thu, 10 Jan 2002, Michael Grant wrote:

> EXECUTIVE SUMMARY:"Its called the NEWS." would have
> sufficed. 
> 
> FULL TEXT:
> 
> "... So it's all there if you care to look."   
> 
> Ouch!  Yes, I do care to look and I do not take
> lightly, as implied by that retort the time the team
> members give to make R what it is. This is especially
> the case with the help. I regret if the perception is
> otherwise.
> 
> Before submitting that question, I looked at four
.../...


> However, you might be able to eliminate a
> lot of these questions by considering, just a little,
> the consequences of changes in preparation to writing
> documentation. Is time to get a volunteer technical
> editor?
.../..
> Respectfully

I think that we can all understand both points of view here.
In my opinion, R documentation is sometimes insufficient and
sometimes confusing or difficult to locate, and this is the
real source of some irritated comments to some questions (but note that 
even if some questions get an irritated comment, they all
get a practical answer...). Anyway, we have
what we have thanks to R developpers.

Therefore, we should probably assume that creating and
improving documentation
is a task to which we must collaborate. Obviously, R developpers
are required, but are not sufficient. It's not only
a question of time, it's also a question of point of view: many
issues are obvious for the developper but not for the
user. Should an R documentation project be started? An R technical
editor receiving input and material from both the developping team and a
cohort of dedicated users seems to be the a good solution.

Agus


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Fri Jan 11 13:49:46 2002
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Fri, 11 Jan 2002 13:49:46 +0100 (MET)
Subject: [R] question about survival datas with repeated mesurements
In-Reply-To: <000a01c19a00$6654de40$3f40fbc1@z8r3r9> from "=?iso-8859-1?Q?fran=E7oise_Hennequin?=" at Jan 10, 2002 06:58:24 PM
Message-ID: <200201111249.NAA09637@luc.ac.be>

> I have to study censured datas concernig the occurence of infection at =
> the point of insertion of catheter in patients with renal disease. =
> Catheter may be removed for ather reasons than infection, in this case, =
> the observation is censored. Each has exactly 2 observations. The =
> question are the pronostic factors of infection (the other variables =
> are; age, sex, type of renal disease...). Could you indicate me what is  =
> the R function to use in case of repeated consored datas? Than you very =
> much..=20

Virtually all of the functions in my repeated library handle censored
data.
at www.luc.ac.be/~jlindsey/rcode.html
  Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Fri Jan 11 14:00:27 2002
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Fri, 11 Jan 2002 14:00:27 +0100 (MET)
Subject: [R] new dgamma rate argument
Message-ID: <200201111300.OAA23150@luc.ac.be>

Can someone explain to me in what way the new (dpqr)gamma parameter
can be interpreted as a rate (when shape != 1)? The only gamma rate
that I am aware of is the hazard rate given by dgamma/(1-pgamma), the
log of which is returned by my hgamma function (event library).
  Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Jan 11 14:23:16 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 11 Jan 2002 14:23:16 +0100
Subject: [R] new dgamma rate argument
In-Reply-To: <200201111300.OAA23150@luc.ac.be>
References: <200201111300.OAA23150@luc.ac.be>
Message-ID: <15422.59204.194949.358468@gargle.gargle.HOWL>

>>>>> "Jim" == Jim Lindsey <james.lindsey at luc.ac.be> writes:

    Jim> Can someone explain to me in what way the new
    Jim> (dpqr)gamma parameter can be interpreted as a rate
    Jim> (when shape != 1)? The only gamma rate that I am aware
    Jim> of is the hazard rate given by dgamma/(1-pgamma), the
    Jim> log of which is returned by my hgamma function (event
    Jim> library).  Jim

NEWS has

    o	[dpqr]gamma now has third argument `rate' for S-compatibility
	(and for compatibility with exponentials).  Calls which use
	positional matching may need to be altered.

i.e. one point of view (close to mine) could be:

 The authors of R (R&R) called that argument of [dpqr]gamma()
 `scale' as it should sensibly be called.
 OTOH, (at least one of) the original S authors used `rate'
 (for 1/scale) in a loose analogy with the exponential and
 weibull distribution quite some time before R was born.  Now
 that there is an increasing drive for S source compatibility
 between the different S dialects --  whenever it's ``easy'' --
 the compatible parametrization has been allowed as well.

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Fri Jan 11 14:36:25 2002
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Fri, 11 Jan 2002 14:36:25 +0100 (MET)
Subject: [R] new dgamma rate argument
In-Reply-To: <15422.59204.194949.358468@gargle.gargle.HOWL> from "Martin Maechler" at Jan 11, 2002 02:23:16 PM
Message-ID: <200201111336.OAA31287@luc.ac.be>


> 
> >>>>> "Jim" == Jim Lindsey <james.lindsey at luc.ac.be> writes:
> 
>     Jim> Can someone explain to me in what way the new
>     Jim> (dpqr)gamma parameter can be interpreted as a rate
>     Jim> (when shape != 1)? The only gamma rate that I am aware
>     Jim> of is the hazard rate given by dgamma/(1-pgamma), the
>     Jim> log of which is returned by my hgamma function (event
>     Jim> library).  Jim
> 
> NEWS has
> 
>     o	[dpqr]gamma now has third argument `rate' for S-compatibility
> 	(and for compatibility with exponentials).  Calls which use
> 	positional matching may need to be altered.
> 
> i.e. one point of view (close to mine) could be:
> 
>  The authors of R (R&R) called that argument of [dpqr]gamma()
>  `scale' as it should sensibly be called.
>  OTOH, (at least one of) the original S authors used `rate'
>  (for 1/scale) in a loose analogy with the exponential and
>  weibull distribution quite some time before R was born.  Now
>  that there is an increasing drive for S source compatibility
>  between the different S dialects --  whenever it's ``easy'' --
>  the compatible parametrization has been allowed as well.

That does not answer my question. Of course, I read the NEWS but a
misleading error in one system is not a reason for copying it into R.
There is no rate parameter in the Weibull either, only
dweibull/(1-pweibull) as well. Only the exponential has a constant
rate.
  Jim

> 
> Martin
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan 11 14:39:18 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 11 Jan 2002 13:39:18 +0000 (GMT)
Subject: [R] new dgamma rate argument
In-Reply-To: <15422.59204.194949.358468@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.31.0201111327130.17504-100000@gannet.stats>

On Fri, 11 Jan 2002, Martin Maechler wrote:

> >>>>> "Jim" == Jim Lindsey <james.lindsey at luc.ac.be> writes:
>
>     Jim> Can someone explain to me in what way the new
>     Jim> (dpqr)gamma parameter can be interpreted as a rate
>     Jim> (when shape != 1)? The only gamma rate that I am aware
>     Jim> of is the hazard rate given by dgamma/(1-pgamma), the
>     Jim> log of which is returned by my hgamma function (event
>     Jim> library).  Jim
>
> NEWS has
>
>     o	[dpqr]gamma now has third argument `rate' for S-compatibility
> 	(and for compatibility with exponentials).  Calls which use
> 	positional matching may need to be altered.
>
> i.e. one point of view (close to mine) could be:
>
>  The authors of R (R&R) called that argument of [dpqr]gamma()
>  `scale' as it should sensibly be called.
>  OTOH, (at least one of) the original S authors used `rate'
>  (for 1/scale) in a loose analogy with the exponential and
>  weibull distribution quite some time before R was born.  Now
>  that there is an increasing drive for S source compatibility
>  between the different S dialects --  whenever it's ``easy'' --
>  the compatible parametrization has been allowed as well.

I could add that this was precipated by finding two instances of people
porting S code and not noticing the difference in parameters, which is
somewhat dangerous and why the order was changed to be S compatible.

I see it is as a rate in the sense of an accelerated life model, just like
an exponential: the mean is proportional to 1/rate.

A quick poll of my bookshelf suggests that it is a common parametrization,
although Johnson & Kotz and the Encyclopedias of Statistical Science and
Biostatistics have the `shape' version, and also an offset (but I doubt
are independent authorities).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Fri Jan 11 14:44:21 2002
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Fri, 11 Jan 2002 14:44:21 +0100 (MET)
Subject: [R] new dgamma rate argument
In-Reply-To: <Pine.LNX.4.31.0201111327130.17504-100000@gannet.stats> from "Prof Brian Ripley" at Jan 11, 2002 01:39:18 PM
Message-ID: <200201111344.OAA16663@luc.ac.be>

> 
> On Fri, 11 Jan 2002, Martin Maechler wrote:
> 
> > >>>>> "Jim" == Jim Lindsey <james.lindsey at luc.ac.be> writes:
> >
> >     Jim> Can someone explain to me in what way the new
> >     Jim> (dpqr)gamma parameter can be interpreted as a rate
> >     Jim> (when shape != 1)? The only gamma rate that I am aware
> >     Jim> of is the hazard rate given by dgamma/(1-pgamma), the
> >     Jim> log of which is returned by my hgamma function (event
> >     Jim> library).  Jim
> >
> > NEWS has
> >
> >     o	[dpqr]gamma now has third argument `rate' for S-compatibility
> > 	(and for compatibility with exponentials).  Calls which use
> > 	positional matching may need to be altered.
> >
> > i.e. one point of view (close to mine) could be:
> >
> >  The authors of R (R&R) called that argument of [dpqr]gamma()
> >  `scale' as it should sensibly be called.
> >  OTOH, (at least one of) the original S authors used `rate'
> >  (for 1/scale) in a loose analogy with the exponential and
> >  weibull distribution quite some time before R was born.  Now
> >  that there is an increasing drive for S source compatibility
> >  between the different S dialects --  whenever it's ``easy'' --
> >  the compatible parametrization has been allowed as well.
> 
> I could add that this was precipated by finding two instances of people
> porting S code and not noticing the difference in parameters, which is
> somewhat dangerous and why the order was changed to be S compatible.
> 
> I see it is as a rate in the sense of an accelerated life model, just like
> an exponential: the mean is proportional to 1/rate.
> 
> A quick poll of my bookshelf suggests that it is a common parametrization,
> although Johnson & Kotz and the Encyclopedias of Statistical Science and
> Biostatistics have the `shape' version, and also an offset (but I doubt
> are independent authorities).

Let me be clear. I am not arguing with the parametrization (although I
prefer the glm one which is different again, and more in line with
exponential families). I only dispute the name, "rate".
  Jim

> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jan 11 15:33:39 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Jan 2002 15:33:39 +0100
Subject: [R] new dgamma rate argument
In-Reply-To: <200201111344.OAA16663@luc.ac.be>
References: <200201111344.OAA16663@luc.ac.be>
Message-ID: <x2advllzy4.fsf@blueberry.kubism.ku.dk>

Jim Lindsey <james.lindsey at luc.ac.be> writes:

> > 
> > On Fri, 11 Jan 2002, Martin Maechler wrote:
> > 
> > > >>>>> "Jim" == Jim Lindsey <james.lindsey at luc.ac.be> writes:
> > >
> > >     Jim> Can someone explain to me in what way the new
> > >     Jim> (dpqr)gamma parameter can be interpreted as a rate
> > >     Jim> (when shape != 1)? The only gamma rate that I am aware
> > >     Jim> of is the hazard rate given by dgamma/(1-pgamma), the
> > >     Jim> log of which is returned by my hgamma function (event
> > >     Jim> library).  Jim
...
> Let me be clear. I am not arguing with the parametrization (although I
> prefer the glm one which is different again, and more in line with
> exponential families). I only dispute the name, "rate".
>   Jim

Don't kill me if I got the details wrong, but I think that if you
sample every k-th event of a Poisson process with rate 1 then the
interarrival time will be gamma(shape=k, rate=1). 


It would probably make better sense to have rate=1/k in that case, but
then there's the compatibility issue. In general, it would make sense
to have the rate defined as the events per time unit of a (stationary)
renewal process with a given interarrival distribution, alias 1/mean.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Fri Jan 11 15:54:16 2002
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Fri, 11 Jan 2002 15:54:16 +0100 (MET)
Subject: [R] new dgamma rate argument
In-Reply-To: <x2advllzy4.fsf@blueberry.kubism.ku.dk> from "Peter Dalgaard BSA" at Jan 11, 2002 03:33:39 PM
Message-ID: <200201111454.PAA30266@luc.ac.be>

 
> Jim Lindsey <james.lindsey at luc.ac.be> writes:
> 
> > > 
> > > On Fri, 11 Jan 2002, Martin Maechler wrote:
> > > 
> > > > >>>>> "Jim" == Jim Lindsey <james.lindsey at luc.ac.be> writes:
> > > >
> > > >     Jim> Can someone explain to me in what way the new
> > > >     Jim> (dpqr)gamma parameter can be interpreted as a rate
> > > >     Jim> (when shape != 1)? The only gamma rate that I am aware
> > > >     Jim> of is the hazard rate given by dgamma/(1-pgamma), the
> > > >     Jim> log of which is returned by my hgamma function (event
> > > >     Jim> library).  Jim
> ...
> > Let me be clear. I am not arguing with the parametrization (although I
> > prefer the glm one which is different again, and more in line with
> > exponential families). I only dispute the name, "rate".
> >   Jim
> 
> Don't kill me if I got the details wrong, but I think that if you
> sample every k-th event of a Poisson process with rate 1 then the
> interarrival time will be gamma(shape=k, rate=1). 

Only a valid interpretation with k integer (the rate need not be
one). But the rate of the resulting gamma process is still
dgamma/(1-pgamma). Jim

> 
> 
> It would probably make better sense to have rate=1/k in that case, but
> then there's the compatibility issue. In general, it would make sense
> to have the rate defined as the events per time unit of a (stationary)
> renewal process with a given interarrival distribution, alias 1/mean.
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Jan 11 16:08:17 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Fri, 11 Jan 2002 10:08:17 -0500 (EST)
Subject: [R] new dgamma rate argument
In-Reply-To: <200201111344.OAA16663@luc.ac.be>
Message-ID: <Pine.LNX.4.30.0201110945400.5536-100000@bolker.zoo.ufl.edu>


  One possibility, which I am suggesting with my tongue firmly in my
cheek, is that using the alternative 'rate' parameterization in the
[dpqr]gamma functions should provoke a message saying 'The gamma
distribution really doesn't have a "rate" parameter.  I'll do it for you
just this once, but you really shouldn't use this!'
  In my current caffeinated state this brings to mind many possible
extensions for messages triggered when a user:
  * requests "significance stars" in a statistical summary
  * tries to evaluate the significance of main effects in the presence of
a significant interaction term
  * uses the "<<-" construction except in direst need
  * tries to use nls() to fit a model without error
  * etc., etc..
  Maybe someone can develop "Norm, the talking Normal curve" as an add-on
to R ("hi there! it looks like you're trying to use type III sums of
squares!  you shouldn't do that!")  ... we could coin a new term,
"smugware" (cf. http://www.linux-france.org/prj/jargonf/themes/WARE.html),
or WIDIWYSD software (what it does is what you *should* do)

  ** please note all of the above is strictly facetious **

  On a related topic, I've seen a few exchanges on R-help recently about
"tone".  It's really hard to figure out what to do in general about
supporting R.  Improving the documentation (with contributions from a wide
audience, of course) always helps, but there are always holes as well as
the kind of more in-depth problems that require real education. Commercial
enterprises can pay a bunch of people to answer the same silly questions
over and over again, and they have an ethic that "the customer is always
right" even when the customer is trying to do something unwise.  I think
the problem (I've seen this in comp.text.tex, and the stats newgroups as
well) is the core people get burned out from answering repeated elementary
or redundant questions, and become either grumpy or terse (which can be
interpreted as grumpiness by new users) in their replies.  On the whole
I'm amazed at the positive attitude, and the amount of free and
high-quality statistical advice that gets distributed along with the
strictly R-related answers ...

  Ben Bolker

On Fri, 11 Jan 2002, Jim Lindsey wrote:

> >
> > On Fri, 11 Jan 2002, Martin Maechler wrote:
> >
> > > >>>>> "Jim" == Jim Lindsey <james.lindsey at luc.ac.be> writes:
> > >
> > >     Jim> Can someone explain to me in what way the new
> > >     Jim> (dpqr)gamma parameter can be interpreted as a rate
> > >     Jim> (when shape != 1)? The only gamma rate that I am aware
> > >     Jim> of is the hazard rate given by dgamma/(1-pgamma), the
> > >     Jim> log of which is returned by my hgamma function (event
> > >     Jim> library).  Jim
> > >
> > > NEWS has
> > >
> > >     o	[dpqr]gamma now has third argument `rate' for S-compatibility
> > > 	(and for compatibility with exponentials).  Calls which use
> > > 	positional matching may need to be altered.
> > >
> > > i.e. one point of view (close to mine) could be:
> > >
> > >  The authors of R (R&R) called that argument of [dpqr]gamma()
> > >  `scale' as it should sensibly be called.
> > >  OTOH, (at least one of) the original S authors used `rate'
> > >  (for 1/scale) in a loose analogy with the exponential and
> > >  weibull distribution quite some time before R was born.  Now
> > >  that there is an increasing drive for S source compatibility
> > >  between the different S dialects --  whenever it's ``easy'' --
> > >  the compatible parametrization has been allowed as well.
> >
> > I could add that this was precipated by finding two instances of people
> > porting S code and not noticing the difference in parameters, which is
> > somewhat dangerous and why the order was changed to be S compatible.
> >
> > I see it is as a rate in the sense of an accelerated life model, just like
> > an exponential: the mean is proportional to 1/rate.
> >
> > A quick poll of my bookshelf suggests that it is a common parametrization,
> > although Johnson & Kotz and the Encyclopedias of Statistical Science and
> > Biostatistics have the `shape' version, and also an offset (but I doubt
> > are independent authorities).
>
> Let me be clear. I am not arguing with the parametrization (although I
> prefer the glm one which is different again, and more in line with
> exponential families). I only dispute the name, "rate".
>   Jim
>
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Fri Jan 11 16:01:31 2002
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Fri, 11 Jan 2002 16:01:31 +0100 (MET)
Subject: [R] new dgamma rate argument
In-Reply-To: <200201111454.PAA30266@luc.ac.be> from "Jim Lindsey" at Jan 11, 2002 03:54:16 PM
Message-ID: <200201111501.QAA27030@luc.ac.be>

> 
>  
> > Jim Lindsey <james.lindsey at luc.ac.be> writes:
> > 
> > > > 
> > > > On Fri, 11 Jan 2002, Martin Maechler wrote:
> > > > 
> > > > > >>>>> "Jim" == Jim Lindsey <james.lindsey at luc.ac.be> writes:
> > > > >
> > > > >     Jim> Can someone explain to me in what way the new
> > > > >     Jim> (dpqr)gamma parameter can be interpreted as a rate
> > > > >     Jim> (when shape != 1)? The only gamma rate that I am aware
> > > > >     Jim> of is the hazard rate given by dgamma/(1-pgamma), the
> > > > >     Jim> log of which is returned by my hgamma function (event
> > > > >     Jim> library).  Jim
> > ...
> > > Let me be clear. I am not arguing with the parametrization (although I
> > > prefer the glm one which is different again, and more in line with
> > > exponential families). I only dispute the name, "rate".
> > >   Jim
> > 
> > Don't kill me if I got the details wrong, but I think that if you
> > sample every k-th event of a Poisson process with rate 1 then the
> > interarrival time will be gamma(shape=k, rate=1). 
> 
> Only a valid interpretation with k integer (the rate need not be
> one). But the rate of the resulting gamma process is still
> dgamma/(1-pgamma). Jim
> 
> > 
> > 
> > It would probably make better sense to have rate=1/k in that case, but
> > then there's the compatibility issue. In general, it would make sense
> > to have the rate defined as the events per time unit of a (stationary)
> > renewal process with a given interarrival distribution, alias 1/mean.

PS The rate per time unit of a stationary renewal process is only
constant and equal to 1/mean for a Poisson process i.e. exponential
interarrival times. Jim

> > 
> > -- 
> >    O__  ---- Peter Dalgaard             Blegdamsvej 3  
> >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
> >  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> > ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> > 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Fri Jan 11 16:03:54 2002
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Fri, 11 Jan 2002 16:03:54 +0100 (MET)
Subject: [R] new dgamma rate argument
In-Reply-To: <Pine.LNX.4.30.0201110945400.5536-100000@bolker.zoo.ufl.edu> from "Ben Bolker" at Jan 11, 2002 10:08:17 AM
Message-ID: <200201111503.QAA00334@luc.ac.be>

> 
> 
>   One possibility, which I am suggesting with my tongue firmly in my
> cheek, is that using the alternative 'rate' parameterization in the
> [dpqr]gamma functions should provoke a message saying 'The gamma
> distribution really doesn't have a "rate" parameter.  I'll do it for you
> just this once, but you really shouldn't use this!'
>   In my current caffeinated state this brings to mind many possible
> extensions for messages triggered when a user:
>   * requests "significance stars" in a statistical summary
>   * tries to evaluate the significance of main effects in the presence of
> a significant interaction term
>   * uses the "<<-" construction except in direst need
>   * tries to use nls() to fit a model without error
>   * etc., etc..
>   Maybe someone can develop "Norm, the talking Normal curve" as an add-on
> to R ("hi there! it looks like you're trying to use type III sums of
> squares!  you shouldn't do that!")  ... we could coin a new term,
> "smugware" (cf. http://www.linux-france.org/prj/jargonf/themes/WARE.html),
> or WIDIWYSD software (what it does is what you *should* do)
> 
>   ** please note all of the above is strictly facetious **

What do you mean, facetious. I think this is a great idea. ;-) Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jan 11 16:50:37 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Jan 2002 16:50:37 +0100
Subject: [R] new dgamma rate argument
In-Reply-To: <200201111501.QAA27030@luc.ac.be>
References: <200201111501.QAA27030@luc.ac.be>
Message-ID: <x21ygwnaya.fsf@blueberry.kubism.ku.dk>

Jim Lindsey <james.lindsey at luc.ac.be> writes:

> > Only a valid interpretation with k integer (the rate need not be
> > one). But the rate of the resulting gamma process is still
> > dgamma/(1-pgamma). Jim
> > 
> > > 
> > > 
> > > It would probably make better sense to have rate=1/k in that case, but
> > > then there's the compatibility issue. In general, it would make sense
> > > to have the rate defined as the events per time unit of a (stationary)
> > > renewal process with a given interarrival distribution, alias 1/mean.
> 
> PS The rate per time unit of a stationary renewal process is only
> constant and equal to 1/mean for a Poisson process i.e. exponential
> interarrival times. Jim

Are you sure? The *marginal* rate, i.e. the probability of observing
an event in [t,t+dt) should be independent of t, by stationarity. The
*conditional* rate given no event before time t is of course only a
constant in the (memoryless) Poisson process. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Agus.Salim at mep.ki.se  Fri Jan 11 17:21:04 2002
From: Agus.Salim at mep.ki.se (Agus Salim)
Date: Fri, 11 Jan 2002 17:21:04 +0100
Subject: [R] factanal doesn't work with singular covariance matrix?
Message-ID: <5.1.0.14.0.20020111170607.00b439a8@mbox.ki.se>

Dear R-users,

I recently used factanal function in mva library to perform factor analysis.
I notice that the function will give an error message that the log likelihood
function is infinite whenever the observed covariance matrix is singular.
This is because the function uses multivariate normal log-likelihood which
involve log determinant of the observed covariance matrix.

But I wonder if the inclusion of log determinant of the observed covariance
matrix is necessary here because it doesn't involve any parameters we
want to estimate, so we can consider it as constant term.

I have tried two objective functions with and without the log determinant term
and they seem to give the same result.

What do you think?

Thanks,
Agus

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andys at neptuneandco.com  Fri Jan 11 19:21:43 2002
From: andys at neptuneandco.com (Andrew Schuh)
Date: Fri, 11 Jan 2002 11:21:43 -0700
Subject: [R] RODBC finding dsn information using OpenLink iODBC drivers
Message-ID: <3C3F2D37.3060000@neptuneandco.com>

I'm using RODBC to connect to a MS SQL server.  I've been able to get it 
to work without much of a hitch in windows.  However, I'm using 
OpenLink's iODBC drivers on the Linux side and I'm not sure how RODBC is 
able to find information about the dsn's (which is in the odbc.ini 
file?).  I've tested the connection with the test program included by 
OpenLink and I've verified that it connects to the server correctly.  I 
just need to get R to be able to connect.

I believe I am using the latest RODBC package and R>1.3.1 on a Redhat 
7.2 (Intel) machine.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan 11 19:44:15 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 11 Jan 2002 18:44:15 +0000 (GMT)
Subject: [R] RODBC finding dsn information using OpenLink iODBC drivers
In-Reply-To: <3C3F2D37.3060000@neptuneandco.com>
Message-ID: <Pine.LNX.4.31.0201111841240.27248-100000@gannet.stats>

On Fri, 11 Jan 2002, Andrew Schuh wrote:

> I'm using RODBC to connect to a MS SQL server.  I've been able to get it
> to work without much of a hitch in windows.  However, I'm using
> OpenLink's iODBC drivers on the Linux side and I'm not sure how RODBC is
> able to find information about the dsn's (which is in the odbc.ini
> file?).  I've tested the connection with the test program included by
> OpenLink and I've verified that it connects to the server correctly.  I
> just need to get R to be able to connect.

It's a while since I tested iODBC.  It's the driver manager that reads the
odbc.ini file, not the R interface.  Michael Lapsley has some examples in
the README file which I believe worked.

I usually use unixODBC, which seemed when I last looked to be more
powerful.

> I believe I am using the latest RODBC package and R>1.3.1 on a Redhat
> 7.2 (Intel) machine.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Jan 11 19:50:55 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 11 Jan 2002 13:50:55 -0500
Subject: [R] linking R against MKL
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC848C@usrymx10.merck.com>

Dear R-help,

Has anyone tried linking R against the Intel Math Kernel Library on
(obviously) Intel architecture?  Since MKL claimed to provide optimized BLAS
and Lapack, I thought it might be possible to compile R against it w/o too
much trouble.

My first naive try under Linux (Mandrake 7.1), using R-patched dated Jan. 4,
2002:

./configure --with-blas=/usr/local/intel/mkl/LIB/libmkli32_p3.a

Unfortunately, life does not turn out to be that simple.  In config.log, I
get:

configure:8183: checking for dgemm_ in -lmkl32_p3
configure:8202: gcc -o conftest -g -O2 -I/usr/local/include  conftest.c
-lmkl32_p3 -L/usr/lib  -lg2c -lm
-L/usr/lib/gcc-lib/i586-mandrake-linux/2.95.3 -L/usr/i586-mandrake-linux/lib
-lm -ldl -lncurses -lm -L/usr/local/lib 1>&5
/usr/lib/libmkl32_p3.a(smp.o): In function `smp_setnprocessors':
smp.o(.text+0x2ce): undefined reference to `pthread_cancel'
/usr/lib/libmkl32_p3.a(smp.o): In function `smp_init':
smp.o(.text+0x462): undefined reference to `pthread_create'
collect2: ld returned 1 exit status
configure: failed program was:
#line 8191 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char dgemm_();
 
int main() {
dgemm_()
; return 0; }                    

Does anyone have any idea where to go from here?

Also, has anyone compared MKL with ATLAS?  Maybe it's not worth the effort
fooling with MKL?

Any hints/comments much appreciated!

Andy
Andy I. Liaw, PhD
Biometrics Research          Phone: (732) 594-0820
Merck & Co., Inc.              Fax: (732) 594-1565
P.O. Box 2000, RY70-38            Rahway, NJ 07065
mailto:andy_liaw at merck.com



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jan 11 20:41:54 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 11 Jan 2002 11:41:54 -0800 (PST)
Subject: [R] linking R against MKL
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC848C@usrymx10.merck.com>
Message-ID: <Pine.A41.4.43.0201111131300.50340-100000@homer28.u.washington.edu>

On Fri, 11 Jan 2002, Liaw, Andy wrote:
> Also, has anyone compared MKL with ATLAS?  Maybe it's not worth the effort
> fooling with MKL?

There's some discusssion on the math-atlas-results list at the ATLAS
sourceforge page.  It looks as though it probably isn't worth the effort
at least for double precision reals. YMMV.

Another thing to note is that ATLAS is reporting substantial slowdowns
with gcc 3 especially on Athlons but even on Intel chips.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ray.Brownrigg at mcs.vuw.ac.nz  Sat Jan 12 06:35:03 2002
From: Ray.Brownrigg at mcs.vuw.ac.nz (Ray Brownrigg)
Date: Sat, 12 Jan 2002 18:35:03 +1300 (NZDT)
Subject: [R] R-1.4.0 delay()
Message-ID: <200201120535.g0C5Z3502878@tahi.mcs.vuw.ac.nz>

R-1.4.0 seems to have changed the way delay() works, or perhaps it is
the way library() works that nullifies the advantages of using delay()
in a package.

It seems that the process of loading a package evaluates each object
provided by that package, and so in particular, the delay()ed object is
evaluated and brought into memory.

For example generating a test example, where test/R/functions.s is:
test <- delay({attach(system.file("data/test.rda", package = "test")); test})

and test/data/test.rda is generated by:
test <- runif(5000000)
save(test, file="test/data/test.rda")

After installing this package (R INSTALL test) then invoking R, we get:

> library(test)

Attaching package `test':


	The following object(s) are masked _by_
file:/usr/lib/R/library/test/data/test.rda :

	 test 

> 
and there is a delay while the .rda file is read into memory.  This also
happens if the .rda file is external to the package (in /tmp/test.rda
for example).  Previously (before 1.4.0), the file was not read into
memory until the object test was referenced the first time.

I see in library(), there is the code fragment:

            env <- attach(NULL, name = pkgname)
            on.exit(do.call("detach", list(name = pkgname)))
            attr(env, "path") <- file.path(which.lib.loc, package)
            for (name in ls(loadenv, all = TRUE)) {
                val <- get(name, env = loadenv)
                rm(list = name, envir = loadenv, inherits = FALSE)
                if (typeof(val) == "closure" && identical(environment(val), 
                  loadenv)) 
                  environment(val) <- .GlobalEnv
                assign(name, val, env = env)
            }

which replaces (in 1.3.1):
            .Internal(lib.fixup(env, .GlobalEnv))

Could this be the cause?

I am reluctant to flag this as a bug, since delay() is documented
to be experimental.

Is there perhaps a workaround which will allow a package to install a
delayed reference?

I seem to remember that there may be another way of doing this
(reported by Duncan T-L?), which I will need to delve into if there is
no workaround.

Ray Brownrigg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at stat.umn.edu  Sat Jan 12 14:11:59 2002
From: luke at stat.umn.edu (Luke Tierney)
Date: Sat, 12 Jan 2002 07:11:59 -0600
Subject: [R] R-1.4.0 delay()
In-Reply-To: <200201120535.g0C5Z3502878@tahi.mcs.vuw.ac.nz>; from Ray.Brownrigg@mcs.vuw.ac.nz on Sat, Jan 12, 2002 at 06:35:03PM +1300
References: <200201120535.g0C5Z3502878@tahi.mcs.vuw.ac.nz>
Message-ID: <20020112071159.A24479@nokomis.stat.umn.edu>

On Sat, Jan 12, 2002 at 06:35:03PM +1300, Ray Brownrigg wrote:
> R-1.4.0 seems to have changed the way delay() works, or perhaps it is
> the way library() works that nullifies the advantages of using delay()
> in a package.
> 
> It seems that the process of loading a package evaluates each object
> provided by that package, and so in particular, the delay()ed object is
> evaluated and brought into memory.
> 
> For example generating a test example, where test/R/functions.s is:
> test <- delay({attach(system.file("data/test.rda", package = "test")); test})
> 
> and test/data/test.rda is generated by:
> test <- runif(5000000)
> save(test, file="test/data/test.rda")
> 
> After installing this package (R INSTALL test) then invoking R, we get:
> 
> > library(test)
> 
> Attaching package `test':
> 
> 
> 	The following object(s) are masked _by_
> file:/usr/lib/R/library/test/data/test.rda :
> 
> 	 test 
> 
> > 
> and there is a delay while the .rda file is read into memory.  This also
> happens if the .rda file is external to the package (in /tmp/test.rda
> for example).  Previously (before 1.4.0), the file was not read into
> memory until the object test was referenced the first time.
> 
> I see in library(), there is the code fragment:
> 
>             env <- attach(NULL, name = pkgname)
>             on.exit(do.call("detach", list(name = pkgname)))
>             attr(env, "path") <- file.path(which.lib.loc, package)
>             for (name in ls(loadenv, all = TRUE)) {
>                 val <- get(name, env = loadenv)
>                 rm(list = name, envir = loadenv, inherits = FALSE)
>                 if (typeof(val) == "closure" && identical(environment(val), 
>                   loadenv)) 
>                   environment(val) <- .GlobalEnv
>                 assign(name, val, env = env)
>             }
> 
> which replaces (in 1.3.1):
>             .Internal(lib.fixup(env, .GlobalEnv))
> 
> Could this be the cause?
> 

It's a bug--thanks.  We'll need to put the loop in library() into C
code to make sure things are transferred from the loading to the
installation environment without evaluation.  I'll do that shortly;
should be fixed for 1.4.1.

luke


-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vasishth at ling.ohio-state.edu  Sat Jan 12 19:02:23 2002
From: vasishth at ling.ohio-state.edu (Shravan Vasishth)
Date: Sat, 12 Jan 2002 13:02:23 -0500 (EST)
Subject: [R] Question about mixed-effects models example (Pinheiro and Bates)
Message-ID: <Pine.SOL.4.33.0201121250450.18404-100000@julius.ling.ohio-state.edu>

Hi all,

I'm trying to figure out the example about mixed models in the Pinheiro
and Bates book (Mixed-Effects Models in S and S-Plus, 2000, pp. 135-137).
One thing I don't understand is:

When I run the command

     fm1Orth.lm <- lm( distance ~ age, Orthodont )

followed by

    fm2Orth.lm <- update( fm1Orth.lm, formula = distance ~ Sex*age )

and then do

    summary(fm2Orth.lm)

in the output, there's "SexFemale" instead of "Sex" (see below). Why?

Call:
lm(formula = distance ~ Sex + age + Sex:age, data = Orthodont)

Residuals:
    Min      1Q  Median      3Q     Max
-5.6156 -1.3219 -0.1682  1.3299  5.2469

Coefficients:
              Estimate Std. Error t value Pr(>|t|)
(Intercept)    16.3406     1.4162  11.538  < 2e-16 ***
SexFemale       1.0321     2.2188   0.465    0.643
age             0.7844     0.1262   6.217 1.07e-08 ***
SexFemale:age  -0.3048     0.1977  -1.542    0.126
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1

Residual standard error: 2.257 on 104 degrees of freedom
Multiple R-Squared: 0.4227,     Adjusted R-squared: 0.4061
F-statistic: 25.39 on 3 and 104 DF,  p-value: 2.108e-12

The entire session was as below:

> library(nlme)
Loading required package: nls
> data(Orthodont)
> fm1Orth.lm <- lm( distance ~ age, Orthodont )
> summary(fm1Orth.lm)

Call:
lm(formula = distance ~ age, data = Orthodont)

Residuals:
    Min      1Q  Median      3Q     Max
-6.5037 -1.5778 -0.1833  1.3519  6.3167

Coefficients:
            Estimate Std. Error t value Pr(>|t|)
(Intercept)  16.7611     1.2256  13.676  < 2e-16 ***
age           0.6602     0.1092   6.047 2.25e-08 ***
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1

Residual standard error: 2.537 on 106 degrees of freedom
Multiple R-Squared: 0.2565,     Adjusted R-squared: 0.2495
F-statistic: 36.56 on 1 and 106 DF,  p-value: 2.248e-08

> fm2Orth.lm <- update( fm1Orth.lm, formula = distance ~ Sex*age )
> summary(fm2Orth.lm)

Call:
lm(formula = distance ~ Sex + age + Sex:age, data = Orthodont)

Residuals:
    Min      1Q  Median      3Q     Max
-5.6156 -1.3219 -0.1682  1.3299  5.2469

Coefficients:
              Estimate Std. Error t value Pr(>|t|)
(Intercept)    16.3406     1.4162  11.538  < 2e-16 ***
SexFemale       1.0321     2.2188   0.465    0.643
age             0.7844     0.1262   6.217 1.07e-08 ***
SexFemale:age  -0.3048     0.1977  -1.542    0.126
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1

Residual standard error: 2.257 on 104 degrees of freedom
Multiple R-Squared: 0.4227,     Adjusted R-squared: 0.4061
F-statistic: 25.39 on 3 and 104 DF,  p-value: 2.108e-12


Thanks in advance,

-- 
Shravan Vasishth
http://www.ling.ohio-state.edu/~vasishth

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Sat Jan 12 21:37:26 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sat, 12 Jan 2002 12:37:26 -0800 (PST)
Subject: [R] Question about mixed-effects models example (Pinheiro and
 Bates)
In-Reply-To: <Pine.SOL.4.33.0201121250450.18404-100000@julius.ling.ohio-state.edu>
Message-ID: <Pine.A41.4.43.0201121236330.28740-100000@homer31.u.washington.edu>

On Sat, 12 Jan 2002, Shravan Vasishth wrote:

> Hi all,
>
> I'm trying to figure out the example about mixed models in the Pinheiro
> and Bates book (Mixed-Effects Models in S and S-Plus, 2000, pp. 135-137).
> One thing I don't understand is:
>
> When I run the command
>
>      fm1Orth.lm <- lm( distance ~ age, Orthodont )
>
> followed by
>
>     fm2Orth.lm <- update( fm1Orth.lm, formula = distance ~ Sex*age )
>
> and then do
>
>     summary(fm2Orth.lm)
>
> in the output, there's "SexFemale" instead of "Sex" (see below). Why?

Because that's how R displays factor constrasts.

	-thomas


Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From BudgetLife at eudoramail.com  Sun Jan 13 19:55:37 2002
From: BudgetLife at eudoramail.com (BudgetLife@eudoramail.com)
Date: Sun, 13 Jan 2002 00:55:37 -1800
Subject: [R] Are You Paying too Much for Life Insurance?                KT
Message-ID: <000011c1060f$00001325$0000293a@mx1.eudoramail.com>

An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020113/a32df973/attachment.html

From raph at alvie-mail.lanl.gov  Sun Jan 13 10:50:01 2002
From: raph at alvie-mail.lanl.gov (Raphael Gottardo)
Date: Sun, 13 Jan 2002 02:50:01 -0700
Subject: [R] function for rank of a matrix ?
Message-ID: <3C415849.F7094686@alvie-mail.lanl.gov>

Hello R'users,

I have a quick question. I wanted to know if there exist a function in R
to compute the rank of a matrix. I could not find anything about it.

Thank you,

Raphael
-------------- next part --------------
A non-text attachment was scrubbed...
Name: raph.vcf
Type: text/x-vcard
Size: 303 bytes
Desc: Card for Raphael Gottardo
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020113/abf8bd77/raph.vcf

From p.dalgaard at biostat.ku.dk  Sun Jan 13 12:50:02 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Jan 2002 12:50:02 +0100
Subject: [R] function for rank of a matrix ?
In-Reply-To: <3C415849.F7094686@alvie-mail.lanl.gov>
References: <3C415849.F7094686@alvie-mail.lanl.gov>
Message-ID: <x2sn9av5at.fsf@blueberry.kubism.ku.dk>

Raphael Gottardo <raph at alvie-mail.lanl.gov> writes:

> Hello R'users,
> 
> I have a quick question. I wanted to know if there exist a function in R
> to compute the rank of a matrix. I could not find anything about it.

Your best bet is probably qr(X)$rank, but beware that determining the
rank numerically is an ill-defined operation due to floating-point
imprecisions. In particular, notice that qr has a tol= argument. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jan 13 12:49:21 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 13 Jan 2002 11:49:21 +0000 (GMT)
Subject: [R] function for rank of a matrix ?
In-Reply-To: <3C415849.F7094686@alvie-mail.lanl.gov>
Message-ID: <Pine.LNX.4.31.0201131143200.7102-100000@gannet.stats>

On Sun, 13 Jan 2002, Raphael Gottardo wrote:

> I have a quick question. I wanted to know if there exist a function in R
> to compute the rank of a matrix. I could not find anything about it.

It's not a well-defined question, due to rounding error.  You can
get one answer from qr(), which depends on the the tolerance.
A better (but more expensive) answer is to use svd() and look at the
singular values.

Very few matrices in R are actually less than full rank (those containing
just integers being the main exceptions), so the real question is `what is
the lowest rank of a matrix that this one is close to' and the answer
depends on the tolerance for `close' and how the distance is measured.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marimont at nxpdata.com  Sun Jan 13 16:01:00 2002
From: marimont at nxpdata.com (David Marimont)
Date: Sun, 13 Jan 2002 07:01:00 -0800
Subject: [R] changing the ordering of leaves in a dendrogram
Message-ID: <3C41A12C.5060000@nxpdata.com>

I'd like to change the way plot.hclust displays an hclust object. Here's

a description of how it's done now, from the R documentation of hclust:


     In hierarchical cluster displays, a decision is needed at each merge
     to specify which subtree should go on the left and which on the right.
     Since, for n observations there are n-1 merges, there are 2^{(n-1)}
     possible orderings for the leaves in a cluster tree, or dendrogram.
     The algorithm used in hclust is to order the subtree so that the
     tighter cluster is on the left (the last, i.e. most recent, merge
     of the left subtree is at a lower value than the last merge of the
     right subtree). Single observations are the tightest clusters possible,
     and merges involving two observations place them in order by their
     observation sequence number.

I have a factor vector (if that's the right term) for the observations, and
I'd like to order the display of the leaves so that leaves of the same
level are grouped together as much as possible.  Even something as simple
as putting the higher average code on the left would help.

I've spent some time looking at the code in rpart, but I'm having a hard
time figuring out what I need to modify.  Or maybe someone's already done
something similar?  Any help much appreciated!

   David Marimont
   NXP Data Analysis, Inc.
   http://www.nxpdata.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From susanabarbosa at novalis.fc.up.pt  Sun Jan 13 18:14:55 2002
From: susanabarbosa at novalis.fc.up.pt (Susana Barbosa)
Date: Sun, 13 Jan 2002 17:14:55 +0000
Subject: [R] How to obtain the series of residuals from fracdiff
In-Reply-To: <3C3D6095.5EB01FAA@lmttrading.com>
References: <200201100301.EAA26013@stat.math.ethz.ch> <3C3D6095.5EB01FAA@lmttrading.com>
Message-ID: <200201131715.RAA08718@gtfirewall.fc.up.pt>


Dear Adrian

Thank you very much for your help.
It worked!

Thanks


Susana



>
> Hi Susana
>
> For fractional differencing you can use, e.g., something like
>
> fracdiff <- function (x, d, N = 100)
> {
>   n <- 0:N
>   w <- gamma(-d+n)/(gamma(-d)*gamma(n+1))
>   y <- filter(x, w, sides=1)
>   return (y)
> }
>
> Adrian

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From renaud.lancelot at cirad.fr  Sun Jan 13 20:48:47 2002
From: renaud.lancelot at cirad.fr (Renaud Lancelot)
Date: Sun, 13 Jan 2002 19:48:47 +0000
Subject: [R] weighted regression: Osius & Rojek's test for logistic regression models
Message-ID: <3C41E49F.FF7B781B@cirad.fr>

Dear all,

I am trying to implement goodness-of-fit tests for logistic regression
models described in : Hosmer, D.W., Lemeshow, S., 2000. Applied logistic
regression. New-York, John Wiley & Sons, Inc., 373 p. (pp. 152-154)

Namely I would like to reproduce Osius & Rojek's test (Osius, G., Rojek,
D., 1992. Normal goodness-of-fit tests for multinomial models with large
degrees of freedom. JASA, 87: 1145:1152.). This test involves a weighted
linear regression of the transformed fitted probabilities against
covariates, from which residual sum of squares is extracted. Using the
UIS dataset provided at
http://www-unix.oit.umass.edu/~statdata/stat-logistic.html and the same
model than in the book, I find a large discrepancy between "my" RSS and
the one reported by Hosmer and Lemeshow: 392.454 vs. 189.685.

Weighted linear regression results, weights in "nu":

> summary(fm)
[snip]
Coefficients:
                Value Std. Error  t value Pr(>|t|) 
 (Intercept)  16.5302   0.7327    22.5616   0.0000
         age  -0.2175   0.0158   -13.7293   0.0000
     ndrgfp1  -4.1627   0.2578   -16.1472   0.0000
     ndrgfp2  -1.5025   0.0977   -15.3835   0.0000
ivhxPrevious   2.1504   0.2595     8.2872   0.0000
  ivhxRecent   2.4429   0.2290    10.6676   0.0000
        race  -0.8732   0.2016    -4.3316   0.0000
       treat  -1.4424   0.1779    -8.1096   0.0000
        site  -0.6621   0.1977    -3.3486   0.0009

Residual standard error: 0.8755 on 512 degrees of freedom
[snip]

> sum( nu * resid(fm)^2 )
[1] 392.454

> sqrt(392.454 / 512)
[1] 0.876

Other intermediate calculations are the same (Pearson's chi square,
etc.) so I don't think the problem comes from the dataset.

The whole code of the function and its application on the UIS data set
are given below.

I would highly appreciate any insight on this problem.

Renaud

###################

or.test <- function(object)
{
### ancillary function
## ags adapted from agg.sum provided by Bill Dunlap	
  ags <- function(x, by){
    by <- data.frame(by)
    ord <- do.call("order", unname(by))
    x <- x[ord]
    by <- by[ord,  ]
    logical.diff <- function(group) group[-1] != group[ - length(group)]
    change <- logical.diff(by[[1]])
    for(i in seq(along = by)[-1])
      change <- change | logical.diff(by[[i]])
    by <- by[c(T, change),  , drop = F]
    by$x <- diff(c(0, cumsum(x)[c(change, T)]))
    by
    }
###
### computations
###
  mf <- model.frame(object)
## collapse the original data by covariate pattern
  xx <- ags(rep(1, nrow(mf)), mf[-1])
## observed number of cases by covariate pattern
  yy <- unname(unlist(ags(mf[ , 1], mf[-1])[ncol(xx)]))
## fitted proba
  pp <- predict(object, newdata = xx, type = "response")
## number of rows with the same covariate pattern
  mm <- unname(unlist(xx[ncol(xx)]))
## new model frame
  xx <- xx[ , - ncol(xx)]
## weights
  nu <- mm * pp * (1 - pp)
## new response
  cc <- (1 - 2 * pp) / nu
### Pearson's X2
  X2 <- sum( (yy - mm * pp)^2 / nu)
### weighted regression
  mod <- lm(cc ~ . , weights = nu, data = xx)
  rss <- sum( nu * resid(mod)^2 )
### compute the stat.
  J <- nrow(xx)
  A <- 2 * (J - sum( 1 / mm))
  z <- abs( (X2 - (J - length( coef(object) ) ) ) / sqrt(A + rss) )
### report results
  print(object$call)
  cat("Osius & Rojek's goodness-of-fit test for logistic models.\n")
  cat("Null hypothesis: model fits the data well.\n")
  cat("z =", round(z, 3), "; P =", round(2 * (1 - pnorm(z)), 3), "\n")
  }

> mod2 <- glm(dfree ~ age + ndrgfp1 + ndrgfp2 + ivhx + race + treat + site + age:ndrgfp1 + race:site,
    family = binomial(logit), data = uis, epsilon = 1e-010)
> summary(mod2, cor = 0)

Call: glm(formula = dfree ~ age + ndrgfp1 + ndrgfp2 + ivhx + race +
treat + site + age:ndrgfp1 + race:site,
    family = binomial(logit), data = uis, epsilon = 1e-010)
Deviance Residuals:
      Min         1Q     Median        3Q      Max 
 -1.30291 -0.7884782 -0.5787787 0.9882528 2.616352

Coefficients:
                   Value Std. Error   t value 
 (Intercept) -6.84386380 1.21931572 -5.612873
         age  0.11663848 0.02887493  4.039437
     ndrgfp1  1.66903502 0.40715174  4.099295
     ndrgfp2  0.43368849 0.11690510  3.709748
ivhxPrevious -0.63463065 0.29871912 -2.124506
  ivhxRecent -0.70494755 0.26158047 -2.694955
        race  0.68410676 0.26413543  2.589985
       treat  0.43492548 0.20375957  2.134503
        site  0.51620102 0.25488809  2.025207
 age:ndrgfp1 -0.01526971 0.00602675 -2.533656
   race:site -1.42945705 0.52978052 -2.698206

(Dispersion Parameter for Binomial family taken to be 1 )

    Null Deviance: 653.7289 on 574 degrees of freedom

Residual Deviance: 597.9629 on 564 degrees of freedom

Number of Fisher Scoring Iterations: 5 

> or.test(mod2)
glm(formula = dfree ~ age + ndrgfp1 + ndrgfp2 + ivhx + race + treat +
site + age:ndrgfp1 + race:site, family = 
	binomial(logit), data = uis, epsilon = 1e-010)
Osius & Rojek's goodness-of-fit test for logistic models.
Null hypothesis: model fits the data well.
z = 0.085 ; P = 0.933 



-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From White.Denis at epamail.epa.gov  Mon Jan 14 01:25:39 2002
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Sun, 13 Jan 2002 16:25:39 -0800
Subject: [R] changing the ordering of leaves in a dendrogram
Message-ID: <OFB9C19838.FF11ED78-ON88256B41.00022021@rtp.epa.gov>


> I'd like to change the way plot.hclust displays an hclust object.
Here's
> a description of how it's done now, from the R documentation of
hclust:
>
>      In hierarchical cluster displays, a decision is needed at each
merge
>      to specify which subtree should go on the left and which on the
right.
>      Since, for n observations there are n-1 merges, there are
2^{(n-1)}
>      possible orderings for the leaves in a cluster tree, or
dendrogram.
>      The algorithm used in hclust is to order the subtree so that the
>      tighter cluster is on the left (the last, i.e. most recent, merge
>      of the left subtree is at a lower value than the last merge of
the
>      right subtree). Single observations are the tightest clusters
possible,
>      and merges involving two observations place them in order by
their
>      observation sequence number.
>
> I have a factor vector (if that's the right term) for the
observations, and
> I'd like to order the display of the leaves so that leaves of the same
> level are grouped together as much as possible.  Even something as
simple
> as putting the higher average code on the left would help.
>
> I've spent some time looking at the code in rpart, but I'm having a
hard
> time figuring out what I need to modify.  Or maybe someone's already
done
> something similar?  Any help much appreciated!
>
>    David Marimont
>    NXP Data Analysis, Inc.
>    http://www.nxpdata.com

You could look at function group.clust in contributed package maptree
for possible ideas.

Denis White
   US EPA, 200 SW 35th St, Corvallis, Oregon, 97333 USA
   voice: 541.754.4476, email: white.denis at epa.gov
   web: www.epa.gov/wed/pages/staff/white/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.hankin at auckland.ac.nz  Mon Jan 14 02:57:05 2002
From: r.hankin at auckland.ac.nz (Robin Hankin)
Date: Mon, 14 Jan 2002 14:57:05 +1300
Subject: [R] new R documentation on CRAN
Message-ID: <200201140157.g0E1v5h07183@r.hankin.sems.auckland.ac.nz>


Dear R community

A few weeks ago, I uploaded a small text file called R-and-octave.txt
to the contributed docs section of CRAN.  This file details
octave/matlab commands and their (near) equivalents in R (Matlab is a
widely-used high-level graphics/mathematics tool and octave a free
clone).

Someone has just pointed out to me that I never announced its
existence to anyone, hence this email (I understand that some people
don't check CRAN every single day with baited breath looking for new R
stuff ;-).


enjoy


rksh





-- 

Robin Hankin, Lecturer,
School of Environmental and Marine Science
Private Bag 92019 Auckland
New Zealand

r.hankin at auckland.ac.nz
tel 0064-9-373-7599 x6820; FAX 0064-9-373-7042

as of: Mon Jan 14 14:42:00 NZDT 2002
This (linux) system up continuously for:  137 days, 20 hours, 37 minutes
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.hankin at auckland.ac.nz  Mon Jan 14 05:03:54 2002
From: r.hankin at auckland.ac.nz (Robin Hankin)
Date: Mon, 14 Jan 2002 17:03:54 +1300
Subject: [R] new R documentation on CRAN
Message-ID: <200201140403.g0E43sc14150@r.hankin.sems.auckland.ac.nz>


Dear R community

A few weeks ago, I uploaded a small text file called R-and-octave.txt
to the contributed docs section of CRAN.  This file details
octave/matlab commands and their (near) equivalents in R (Matlab is a
widely-used high-level graphics/mathematics tool and octave a free
clone).

Someone has just pointed out to me that I never announced its
existence to anyone, hence this email (I understand that some people
don't check CRAN every single day with baited breath looking for new R
stuff ;-).


enjoy


rksh





-- 

Robin Hankin, Lecturer,
School of Environmental and Marine Science
Private Bag 92019 Auckland
New Zealand

r.hankin at auckland.ac.nz
tel 0064-9-373-7599 x6820; FAX 0064-9-373-7042

as of: Mon Jan 14 14:42:00 NZDT 2002
This (linux) system up continuously for:  137 days, 20 hours, 37 minutes
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Mon Jan 14 08:29:24 2002
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Mon, 14 Jan 2002 08:29:24 +0100 (MET)
Subject: [R] new dgamma rate argument
Message-ID: <200201140729.IAA21007@luc.ac.be>

> 
> Jim Lindsey <james.lindsey at luc.ac.be> writes:
> 
> > > Only a valid interpretation with k integer (the rate need not be
> > > one). But the rate of the resulting gamma process is still
> > > dgamma/(1-pgamma). Jim
> > > 
> > > > 
> > > > 
> > > > It would probably make better sense to have rate=1/k in that case, but
> > > > then there's the compatibility issue. In general, it would make sense
> > > > to have the rate defined as the events per time unit of a (stationary)
> > > > renewal process with a given interarrival distribution, alias 1/mean.
> > 
> > PS The rate per time unit of a stationary renewal process is only
> > constant and equal to 1/mean for a Poisson process i.e. exponential
> > interarrival times. Jim
> 
> Are you sure? The *marginal* rate, i.e. the probability of observing
> an event in [t,t+dt) should be independent of t, by stationarity. The
> *conditional* rate given no event before time t is of course only a
> constant in the (memoryless) Poisson process. 

Yes this is a weird property of these things. Stationarity of times
between events does not carry over to stationarity of frequency of
events in small intervals. See for example, Cox and Lewis, p.61.
  Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Mon Jan 14 09:33:57 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Mon, 14 Jan 2002 09:33:57 +0100 (CET)
Subject: [R] Building R on Windows
In-Reply-To: <Pine.A41.4.43.0201111131300.50340-100000@homer28.u.washington.edu>
Message-ID: <Pine.LNX.4.33.0201140916000.15765-100000@tal.stat.umu.se>

Hi,

I'm trying to build R on Windows 2000 with R-patched_2002-01-12.tar.gz
and, following Brian Ripley's good introduction to the field, I manage to 
make everything except the very last 'make' in 'gnuwin32/installer',
which builds the installer. I get:
-------------------------------------------------------------------------
...........
echo "make.packages.html(.Library)" | rw1041/bin/rterm --vanilla --slave
NULL
Warning message:
cannot update HTML package index in: make.packages.html(.Library)

cp rw1041/doc/html/packages.html rw1041w/rw1041/doc/html
cp: cannot stat `rw1041/doc/html/packages.html': No such file or directory
make: *** [R.iss] Error 1
-------------------------------------------------------------------------
Obviously the file 'packages.html' is missing, so I assume I must have
made a mistake earlier in the lengthy process, but I have no idea where it
can be. Any hints would be very much appreciated.

Thanks,

G?ran

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at volcanomail.com  Sat Jan 12 15:20:44 2002
From: ggrothendieck at volcanomail.com (Gabor Grothendieck)
Date: Sat, 12 Jan 2002 06:20:44 -0800 (PST)
Subject: A.J. Rossini: "Re: [R] Simple summary question"
Message-ID: <20020112142044.C689236F9@sitemail.everyone.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020112/895dde2f/attachment.pl

From p.dalgaard at biostat.ku.dk  Mon Jan 14 10:28:46 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Jan 2002 10:28:46 +0100
Subject: [R] new dgamma rate argument
In-Reply-To: <200201140729.IAA21007@luc.ac.be>
References: <200201140729.IAA21007@luc.ac.be>
Message-ID: <x2sn99p9gx.fsf@blueberry.kubism.ku.dk>

Jim Lindsey <james.lindsey at luc.ac.be> writes:

> > 
> > Jim Lindsey <james.lindsey at luc.ac.be> writes:
> > 
> > > > Only a valid interpretation with k integer (the rate need not be
> > > > one). But the rate of the resulting gamma process is still
> > > > dgamma/(1-pgamma). Jim
> > > > 
> > > > > 
> > > > > 
> > > > > It would probably make better sense to have rate=1/k in that case, but
> > > > > then there's the compatibility issue. In general, it would make sense
> > > > > to have the rate defined as the events per time unit of a (stationary)
> > > > > renewal process with a given interarrival distribution, alias 1/mean.
> > > 
> > > PS The rate per time unit of a stationary renewal process is only
> > > constant and equal to 1/mean for a Poisson process i.e. exponential
> > > interarrival times. Jim
> > 
> > Are you sure? The *marginal* rate, i.e. the probability of observing
> > an event in [t,t+dt) should be independent of t, by stationarity. The
> > *conditional* rate given no event before time t is of course only a
> > constant in the (memoryless) Poisson process. 
> 
> Yes this is a weird property of these things. Stationarity of times
> between events does not carry over to stationarity of frequency of
> events in small intervals. See for example, Cox and Lewis, p.61.

And vice versa. A "stationary renewal process" is one that is
stochastically delayed to make the *second* property hold and the
delay distribution is different from that of the interarrival time.
Otherwise it wouldn't be a stationary process.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Mon Jan 14 13:58:38 2002
From: ozric at web.de (C. Schulz)
Date: Mon, 14 Jan 2002 13:58:38 +0100
Subject: [R] newbie: table,mean for all variables 
Message-ID: <200201141258.g0ECwbC18992@mailgate5.cinetic.de>

Hello,
(1)
what is the way to use 
table for the hole dataSet ?

I would get a cross-table with x1 and other variables in the dataSet which have got 100 columns :

 table(x1,data[variable2 until variable 100])/length([variable2 until variable 100])*100     

like this but it's wrong ?
 table(x1,data[,2:100])/length(data[,2:100])*100     

if i type: table(data[,1:10])   
to get the frequency distribution of the first 10 variables ,
i get not the wished tables ?

(2) 
is it possible to set factors for
all variables in a dataSet in one step 
i.e. levels are all similar(?=NA,0,20,40,60,80,100)?

Additional how can i get all mean's in one step,too ?
I know that i cannot use the mean-function, because
i have NA's and factor variables.
So have got anybody a good tip i.e.
is it possible to get only the mean from the "summary" procedure ?


thanks for advance,
regards, Christian Schulz



________________________________________________________________
Keine verlorenen Lotto-Quittungen, keine vergessenen Gewinne mehr! 
Beim WEB.DE Lottoservice: http://tippen2.web.de/?x=13


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jan 14 14:42:39 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Jan 2002 14:42:39 +0100
Subject: [R] newbie: table,mean for all variables
In-Reply-To: <200201141258.g0ECwbC18992@mailgate5.cinetic.de>
References: <200201141258.g0ECwbC18992@mailgate5.cinetic.de>
Message-ID: <x2g0599hgw.fsf@blueberry.kubism.ku.dk>

"C. Schulz" <ozric at web.de> writes:

> Hello,
> (1)
> what is the way to use 
> table for the hole dataSet ?
              /w\ 
 
> I would get a cross-table with x1 and other variables in the dataSet which have got 100 columns :
> 
>  table(x1,data[variable2 until variable 100])/length([variable2 until variable 100])*100     
> 
> like this but it's wrong ?
>  table(x1,data[,2:100])/length(data[,2:100])*100     
> 
> if i type: table(data[,1:10])   
> to get the frequency distribution of the first 10 variables ,
> i get not the wished tables ?

lapply is your friend:

lapply(Data[,2:100],function(i)prop.table(table(Data$x1,i),1))


> (2) 
> is it possible to set factors for
> all variables in a dataSet in one step 
> i.e. levels are all similar(?=NA,0,20,40,60,80,100)?

Data <- lapply(Data, factor, levels=...,labels=...)

> Additional how can i get all mean's in one step,too ?
> I know that i cannot use the mean-function, because
> i have NA's and factor variables.
> So have got anybody a good tip i.e.
> is it possible to get only the mean from the "summary" procedure ?

As of 1.4.0, mean(Data, na.rm=TRUE) should get it right. Otherwise
stuff like this:

> airquality$Month <- factor(airquality$Month)
> sapply(airquality[sapply(airquality,is.numeric)], mean, na.rm=T)
     Ozone    Solar.R       Wind       Temp        Day 
 42.129310 185.931507   9.957516  77.882353  15.803922 


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Jan 14 16:27:20 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Mon, 14 Jan 2002 10:27:20 -0500 (EST)
Subject: [R] dimensions of stacked barplot
In-Reply-To: <3C3B2CB6.296DFF1E@lbl.gov>
Message-ID: <Pine.LNX.4.30.0201141025590.17219-100000@bolker.zoo.ufl.edu>


  No-one seems to have answered this yet, hope it's useful.  You could
easily encapsulate this into a function if you wanted.

## barplot with dotted lines

tmp <- matrix(runif(30),nrow=5)
defspace <- 0.8
b <- barplot(tmp,beside=FALSE,space=defspace)
mid <- (b[-1]+b[-length(b)])/2
e1 <- mid-defspace/2
e2 <- mid+defspace/2
nr <- nrow(tmp)
nc <- ncol(tmp)
xpos1 <- rep(e1,rep(nr,length(e1)))
xpos2 <- rep(e2,rep(nr,length(e2)))
tmpcum <- apply(tmp,2,cumsum)
ypos1 <- tmpcum[,-nc]
ypos2 <- tmpcum[,-1]
segments(xpos1,ypos1,xpos2,ypos2,lty=2,col=4)


On Tue, 8 Jan 2002, Michael D. Sohn wrote:

>
> I'm plotting stacked barplots using:
>
> > barplot(tmp, beside=F)
>
> This gives me several stacked bars.  Each stack is divided into several
> segments.  I'd like to add a dotted line from the edge of one segment to
> the same edge on the next stacked bar.  This might help to see which
> stack shrinks or expands from one stacked bar to the next.
>
> I'm thinking that I could overlay dotted lines on the barplot.  Is there
> an easier way?  If not, how do I get the location of each of the
> segments?
>
> thanks,
> Mike
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Mon Jan 14 22:43:56 2002
From: faheem at email.unc.edu (Faheem Mitha)
Date: Mon, 14 Jan 2002 16:43:56 -0500 (EST)
Subject: [R] trouble using R Mathlib as standalone 
Message-ID: <Pine.LNX.4.43.0201141614520.3440-100000@Chrestomanci>


Dear People,

I am trying to use R's Math library as standalone, as documented in
/src/nmath/standalone. I am using C++ in Debian testing, and the versions
are as follows:

ii  g++-3.0        3.0.3-1        The GNU C++ compiler.
ii  r-mathlib      1.4.0-1        `GNU S'  - Standalone R math library

I have a file (rand.cc) as follows. I don't think that lattice.hh or mh.hh
are very relevant. The class Cube is defined in lattice.hh and I don't
think mh.hh are used at all. I get the following errors when trying to
compile this. Of course these cannot be reproduced without all my files,
but I am hoping these errors have nothing to do with my code and that the
answer will be obvious to those in the know.

I get two different errors.

The first one I am completely mystified by. It seems to have something to
do with a double declaration of log1p which I have not used and not
knowingly declared twice in any way. Neither lattice.hh nor mh.hh contain
any math headers.

The second one clearly has to do with the usage of GetRNGstate() and
PutRNGstate() which are correct for use as entry points into the R
executable but no longer correct for standalone usage. The README in the
standalone directory said something about using the uniform random number
generator, but gave no examples so I didn't understand. Can someone tell
me what the correct syntax should be in this case?

Thanks in advance. Please cc me; I'm not on the list.

                                            Sincerely, Faheem Mitha.

************************************************************************
#include "lattice.hh"
#include "mh.hh"
#define MATHLIB_STANDALONE
#include <Rmath.h>

/* random sample from proposal distribution q-gibbs */
double q_gibbs_rand(Cube& cube, double& beta, vector<double>::size_type&
t)
{
  vector<double> ctr = ((0.5)*(cube.down + cube.up)).coord;
  vector<double>::size_type hsize = ctr.size();
  double a, u, y;

  if(t == 0)
    a = beta*ctr[t+1];
  else if(t == hsize - 1)
    a = beta*ctr[t-1];
  else
    a = beta*(ctr[t-1] + ctr[t+1]);

  GetRNGstate();
  u = unif_rand();
  PutRNGstate();

  y = (1/a)*log( ( exp(a) - exp(-a) )*u + exp(-a) );
  return y;
}
****************************************************************************

g++-3.0 -c -Wall -pedantic -Werror -g  rand.cc -lRmath
In file included from rand.cc:4:
/usr/include/Rmath.h:520: declaration of `double log1p(double)' throws
   different exceptions
/usr/include/bits/mathcalls.h:125: than previous declaration `double
   log1p(double) throw ()'
rand.cc: In function `double q_gibbs_rand(Cube&, double&, size_t&)':
rand.cc:23: `GetRNGstate' undeclared (first use this function)
rand.cc:23: (Each undeclared identifier is reported only once for each
function
   it appears in.)
rand.cc:25: `PutRNGstate' undeclared (first use this function)
make: *** [rand.o] Error 1

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From susanabarbosa at novalis.fc.up.pt  Mon Jan 14 22:56:09 2002
From: susanabarbosa at novalis.fc.up.pt (Susana Barbosa)
Date: Mon, 14 Jan 2002 21:56:09 +0000
Subject: [R] R is not displaying negative numbers ?!?
Message-ID: <200201142156.VAA27551@gtfirewall.fc.up.pt>


Hi,

I was using R on a PC running Linux, and everything was fine, but I started 
to use R on my iMac running Linux PPC (Mandrake PPC 8.0), and I get some 
strange problems with negative numbers that I didn't have before. 
For example:

# a negative number is displayed as 0:
> -1
[1]  0

> 1/100
[1] 0.01

> -1/100
[1]  0.00


It seems to be only a problem of displaying, because:
> -1*-1
[1] 1

but in all my plots and R objects negative numbers are replaced by 0!

Any ideas?


Details:

I have compiled R1.4.0 from the tar.gz source

> version
         _
platform powerpc-unknown-linux-gnu
arch     powerpc
os       linux-gnu
system   powerpc, linux-gnu
status
major    1
minor    4.0
year     2001
month    12
day      19
language R


Thanks

Susana
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjw at celos.net  Mon Jan 14 23:17:59 2002
From: mjw at celos.net (Mark White)
Date: Mon, 14 Jan 2002 22:17:59 +0000
Subject: [R] Problems with .C - [Ff]ree()?
Message-ID: <20020114221759.B22531@celos.net>

I've just pulled my R installations up to 1.4.0, and am
having trouble with some of my dyn.load'd C code: R
frequently segfaults after .C calls into the (newly rebuilt)
libraries.  It hasn't happened with any previous versions of
R I've used.

I do seem to be able to make things behave by removing calls
to free().  Changing everything to Calloc() and Free(),
didn't help, however.  Stack traces aren't especially
useful; it often segfaults in operations relating to freeing
vectors, but not always: for example, I recently has a spate
of segfaults in seq().  It does appear to behave if I remove
all the .C calls.  It also seems to be more stable if I've
already created some large vectors in R before I start
making external calls.

Any thoughts?  This is on NetBSD, btw.

Mark <><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Mon Jan 14 23:42:33 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Mon, 14 Jan 2002 16:42:33 -0600
Subject: [R] trouble using R Mathlib as standalone 
In-Reply-To: <Pine.LNX.4.43.0201141614520.3440-100000@Chrestomanci>
References: <Pine.LNX.4.43.0201141614520.3440-100000@Chrestomanci>
Message-ID: <15427.24281.32448.632738@sonny.eddelbuettel.com>


  "Faheem" == Faheem Mitha <faheem at email.unc.edu> writes:
  Faheem> I am trying to use R's Math library as standalone, as documented in
  Faheem> /src/nmath/standalone. I am using C++ in Debian testing, and the
  Faheem> versions are as follows:
  Faheem> 
  Faheem> ii  g++-3.0        3.0.3-1        The GNU C++ compiler.
  Faheem> ii  r-mathlib      1.4.0-1        `GNU S'  - Standalone R math library
[...]
  Faheem> I get two different errors.
  Faheem> 
  Faheem> The first one I am completely mystified by.

It is just a warning which goes away if you omit -pedantic. It seems to
collide with the header from glibc:

edd at homebud:/tmp> grep log1p /usr/include/Rmath.h /usr/include/bits/mathcalls.h
/usr/include/Rmath.h:#define log1p              Rf_log1p
/usr/include/Rmath.h:double  log1p(double); /* = log(1+x) {care for small x} */
/usr/include/bits/mathcalls.h:__MATHCALL (log1p,, (_Mdouble_ __x));

  Faheem> The second one clearly has to do with the usage of GetRNGstate() and
  Faheem> PutRNGstate() which are correct for use as entry points into the R
  Faheem> executable but no longer correct for standalone usage. 

They do not exist in Rmath.h -- meaning that you cannot call them.

  Faheem> The README in the standalone directory said something about using
  Faheem> the uniform random number generator, but gave no examples so I
  Faheem> didn't understand. Can someone tell me what the correct syntax
  Faheem> should be in this case?

Not sure I understand your question.  The set_seed() function allows to fix a
seed so that that subsequent calls will always get the same sequence of
random deviates.  So a simple example which works is

edd at homebud:/tmp> cat fm.cc
#include <iostream>
#include <cstdlib>
#include <cmath>

#define MATHLIB_STANDALONE 1
#include <Rmath.h>

int main(void)
{
  for (int i=0; i<3; i++) {
    set_seed(123,456);          // no claims that these are good seeds
    double u = unif_rand();
    cout << "Got " << u << endl;
  }
}
edd at homebud:/tmp> g++ -Wall -o fm fm.cc -lRmath
edd at homebud:/tmp> ./fm
Got 0.384571
Got 0.384571
Got 0.384571

Hope this helps,  Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jan 15 00:22:53 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 14 Jan 2002 15:22:53 -0800 (PST)
Subject: [R] Problems with .C - [Ff]ree()?
In-Reply-To: <20020114221759.B22531@celos.net>
Message-ID: <Pine.A41.4.43.0201141512300.57318-100000@homer27.u.washington.edu>

On Mon, 14 Jan 2002, Mark White wrote:

> I've just pulled my R installations up to 1.4.0, and am
> having trouble with some of my dyn.load'd C code: R
> frequently segfaults after .C calls into the (newly rebuilt)
> libraries.  It hasn't happened with any previous versions of
> R I've used.
>
> I do seem to be able to make things behave by removing calls
> to free().  Changing everything to Calloc() and Free(),
> didn't help, however.  Stack traces aren't especially
> useful; it often segfaults in operations relating to freeing
> vectors, but not always: for example, I recently has a spate
> of segfaults in seq().  It does appear to behave if I remove
> all the .C calls.  It also seems to be more stable if I've
> already created some large vectors in R before I start
> making external calls.
>

Very Strange.  It does sound suspiciously as though you are using pointers
after they have been free()d, but I don't see how the upgrade would have
triggered this -- I assume you upgraded from 1.3.x, not from something
ancient.

Do you get segfaults running R CMD check on the survival package? This
uses Calloc/Free quite a bit (probably so do other base/recommended
packages).

If not, does your code cause a segfault if it is in a package or only when
dyn.load()ed directly?


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Tue Jan 15 00:34:19 2002
From: faheem at email.unc.edu (Faheem Mitha)
Date: Mon, 14 Jan 2002 18:34:19 -0500 (EST)
Subject: [R] trouble using R Mathlib as standalone 
In-Reply-To: <15427.24281.32448.632738@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.4.43.0201141757270.4062-100000@Chrestomanci>



Hi Dirk,

Thanks for your reply. Also, thanks for taking the trouble to make the
standalone math library into a Debian package. Very thoughtful of you. I'm
willing to bet no other Linux distribution has this as a package.

On Mon, 14 Jan 2002, Dirk Eddelbuettel wrote:

>   Faheem> I get two different errors.
>   Faheem>
>   Faheem> The first one I am completely mystified by.
>
> It is just a warning which goes away if you omit -pedantic. It seems to
> collide with the header from glibc:

OK, but what is the best way of making the warning go away? I would like
to keep -pedantic. Shall I comment out the declation of log1p in Rmath.h
Line 520)?  Is that harmless? In any case, I think this qualifies as a
minor bug.

Line 520 is "double log1p(double); /* = log(1+x) {care for small x} */"

>   Faheem> The second one clearly has to do with the usage of GetRNGstate() and
>   Faheem> PutRNGstate() which are correct for use as entry points into the R
>   Faheem> executable but no longer correct for standalone usage.
>
> They do not exist in Rmath.h -- meaning that you cannot call them.
>
>   Faheem> The README in the standalone directory said something about using
>   Faheem> the uniform random number generator, but gave no examples so I
>   Faheem> didn't understand. Can someone tell me what the correct syntax
>   Faheem> should be in this case?
>
> Not sure I understand your question.  The set_seed() function allows to fix a
> seed so that that subsequent calls will always get the same sequence of
> random deviates.  So a simple example which works is

I want my function (q_gibbs_rand) to return a random number with the
appropriate distribution every time I call it, and I don't want the burden
of having to set the seed myself.

I've decided to use u = runif(0,1); instead, which seems to work. It seems
to compile OK, though I haven't tested it. Is this a reasonable
alternative? I don't understand why I need to set the seed for unif_rand()
and not for runif(), though.

> edd at homebud:/tmp> cat fm.cc
> #include <iostream>
> #include <cstdlib>
> #include <cmath>
>
> #define MATHLIB_STANDALONE 1
> #include <Rmath.h>
>
> int main(void)
> {
>   for (int i=0; i<3; i++) {
>     set_seed(123,456);          // no claims that these are good seeds

Don't want to have to do this step...
[snip]

                                 Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjw at celos.net  Tue Jan 15 03:02:53 2002
From: mjw at celos.net (Mark White)
Date: Tue, 15 Jan 2002 02:02:53 +0000
Subject: [R] Problems with .C - [Ff]ree()?
In-Reply-To: <Pine.A41.4.43.0201141512300.57318-100000@homer27.u.washington.edu>; from tlumley@u.washington.edu on Mon, Jan 14, 2002 at 03:22:53PM -0800
References: <20020114221759.B22531@celos.net> <Pine.A41.4.43.0201141512300.57318-100000@homer27.u.washington.edu>
Message-ID: <20020115020253.E22531@celos.net>

Thomas Lumley writes:
> Very Strange.  It does sound suspiciously as though you are using pointers
> after they have been free()d, but I don't see how the upgrade would have
> triggered this -- I assume you upgraded from 1.3.x, not from something
> ancient.

It was indeed 1.3.something.  I agree that it sounds like a
memory leak in my code, but... I just tried compiling the
following C library routine (based on the arguments of a
file-reading function that's causing problems):

    void R_test (char **filename, int *dim, Rcomplex *matrix)
    {
        double *ptr;
        ptr = (double*) malloc(sizeof(double) * 25600);
        free(ptr);
    }

which, when called like this from within my R function

    .C("R_test",as.character(filename),as.integer(adimi),
        as.complex(im))

produces a segfault in Rf_duplicate soon after returning for
the somethingth time.  If I make replace the last argument
with something like complex(5) - rather smaller than im  - I
don't get an crash.  Likewise I don't get a crash if I just
repeatedly call R_test from a simple command-line for(){}.

Is there something horribly wrong with my use of .C above?

> Do you get segfaults running R CMD check on the survival package? This
> uses Calloc/Free quite a bit (probably so do other base/recommended
> packages).

I've just tried this; it ran fine.

Mark <><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Tue Jan 15 03:24:46 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Mon, 14 Jan 2002 20:24:46 -0600
Subject: [R] trouble using R Mathlib as standalone 
In-Reply-To: <Pine.LNX.4.43.0201141757270.4062-100000@Chrestomanci>
References: <15427.24281.32448.632738@sonny.eddelbuettel.com>
	<Pine.LNX.4.43.0201141757270.4062-100000@Chrestomanci>
Message-ID: <15427.37614.268774.384478@sonny.eddelbuettel.com>


  "Faheem" == Faheem Mitha <faheem at email.unc.edu> writes:
  Faheem>  OK, but what is the best way of making the warning go away? I
  Faheem> would like to keep -pedantic. Shall I comment out the declation of

Dunno. I never use more than -Wall which, from my experience, catches
everything that is reasonable. 

  Faheem> log1p in Rmath.h Line 520)?  Is that harmless? In any case, I think
  Faheem> this qualifies as a minor bug.

Disagree. Remember that you are not getting an error, all you are getting is
a warning message. Maybe a nuisance, but not a bug.

  Faheem>  I want my function (q_gibbs_rand) to return a random number with
  Faheem> the appropriate distribution every time I call it, and I don't want
  Faheem> the burden of having to set the seed myself.

That's no burden -- an O(1) operation as I'd conjecture. OTOH it gives you
reproducibility, something that scientific inquiry cannot do without.

  Faheem> I've decided to use u = runif(0,1); instead, which seems to
  Faheem> work. It seems to compile OK, though I haven't tested it. Is this a
  Faheem> reasonable alternative? I don't understand why I need to set the
  Faheem> seed for unif_rand() and not for runif(), though.

Are you sure that this is the case? As I read the header file,
unif_rand(void) is a parameterless U [ and I don't know what the interval is,
probably on [0,1) ] whereas runif(double, double) correspond to the R
function for U on a given interval.

Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jan 15 03:35:48 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 14 Jan 2002 18:35:48 -0800 (PST)
Subject: [R] Problems with .C - [Ff]ree()?
In-Reply-To: <20020115020253.E22531@celos.net>
Message-ID: <Pine.A41.4.43.0201141826120.57318-100000@homer27.u.washington.edu>

On Tue, 15 Jan 2002, Mark White wrote:
> It was indeed 1.3.something.  I agree that it sounds like a
> memory leak in my code, but... I just tried compiling the
> following C library routine (based on the arguments of a
> file-reading function that's causing problems):
>
>     void R_test (char **filename, int *dim, Rcomplex *matrix)
>     {
>         double *ptr;
>         ptr = (double*) malloc(sizeof(double) * 25600);
>         free(ptr);
>     }
>
> which, when called like this from within my R function
>
>     .C("R_test",as.character(filename),as.integer(adimi),
>         as.complex(im))
>
> produces a segfault in Rf_duplicate soon after returning for
> the somethingth time.  If I make replace the last argument
> with something like complex(5) - rather smaller than im  - I
> don't get an crash.  Likewise I don't get a crash if I just
> repeatedly call R_test from a simple command-line for(){}.
>
> Is there something horribly wrong with my use of .C above?
>

No.  I tried
-----complete program: bar.c ----
#include <R.h>
#include <stdlib.h>

  void R_test (char **filename, int *dim, Rcomplex *matrix)
    {
        double *ptr;
        ptr = (double *) malloc(sizeof(double) * 25600);
        free(ptr);
    }
-----------------------
then
  R SHLIB bar.c
to compile and then in R
  dyn.load("bar.so")
  repeat({
   print(.C("R_test",as.character("filename"), integer(100000),
    complex(100000))[[1]])
  })

with no problems. (I also tried without <stdlib.h> and without the
unnecessary cast to double * on the malloc, for the sake of variety).

I also tried it with
 .C("R_test", as.character("filename"),as.integer(rpois(10000,10)),
     log(as.complex(rnorm(10000))))[[1]]
in case the values mattered. Still no problems.

I could see this happening if you somehow had two different malloc()s
around, but I can't see how you could.


	-thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 15 08:49:18 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 15 Jan 2002 07:49:18 +0000 (GMT)
Subject: [R] trouble using R Mathlib as standalone 
In-Reply-To: <15427.37614.268774.384478@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.4.31.0201150742270.14906-100000@gannet.stats>

On Mon, 14 Jan 2002, Dirk Eddelbuettel wrote:

>
>   "Faheem" == Faheem Mitha <faheem at email.unc.edu> writes:
>   Faheem>  OK, but what is the best way of making the warning go away? I
>   Faheem> would like to keep -pedantic. Shall I comment out the declation of
>
> Dunno. I never use more than -Wall which, from my experience, catches
> everything that is reasonable.

-pedantic can be very helpful in catching non-ISO-C code.  Quite often
people have code that compiles on their system (usually gcc) but not on a
C-only compiler.  The use of C++ comments is the most common, but we've
met others.   So it's been helpful in achieving portability of R and
contributed packages.

One nuisance is that -pedantic warns about use of legal features of C99,
including in the R sources (where they are inside #ifdef blocks).

>   Faheem> log1p in Rmath.h Line 520)?  Is that harmless? In any case, I think
>   Faheem> this qualifies as a minor bug.
>
> Disagree. Remember that you are not getting an error, all you are getting is
> a warning message. Maybe a nuisance, but not a bug.

I think we need to consider renaming the R version of log1p to avoid
possible problems elsewhere.  It is not a bug, as it does need to be
declared in Rmath.h on some ISO C systems.  It just happens that both
glibc and MM used the same name for the same extension.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 15 09:01:22 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 15 Jan 2002 08:01:22 +0000 (GMT)
Subject: [R] Problems with .C - [Ff]ree()?
In-Reply-To: <Pine.A41.4.43.0201141826120.57318-100000@homer27.u.washington.edu>
Message-ID: <Pine.LNX.4.31.0201150756410.14906-100000@gannet.stats>

On Mon, 14 Jan 2002, Thomas Lumley wrote:

> On Tue, 15 Jan 2002, Mark White wrote:
> > It was indeed 1.3.something.  I agree that it sounds like a
> > memory leak in my code, but... I just tried compiling the
> > following C library routine (based on the arguments of a
> > file-reading function that's causing problems):
> >
> >     void R_test (char **filename, int *dim, Rcomplex *matrix)
> >     {
> >         double *ptr;
> >         ptr = (double*) malloc(sizeof(double) * 25600);
> >         free(ptr);
> >     }
> >
> > which, when called like this from within my R function
> >
> >     .C("R_test",as.character(filename),as.integer(adimi),
> >         as.complex(im))
> >
> > produces a segfault in Rf_duplicate soon after returning for
> > the somethingth time.  If I make replace the last argument
> > with something like complex(5) - rather smaller than im  - I
> > don't get an crash.  Likewise I don't get a crash if I just
> > repeatedly call R_test from a simple command-line for(){}.
> >
> > Is there something horribly wrong with my use of .C above?
> >
>
> No.  I tried
> -----complete program: bar.c ----
> #include <R.h>
> #include <stdlib.h>
>
>   void R_test (char **filename, int *dim, Rcomplex *matrix)
>     {
>         double *ptr;
>         ptr = (double *) malloc(sizeof(double) * 25600);
>         free(ptr);
>     }
> -----------------------
> then
>   R SHLIB bar.c
> to compile and then in R
>   dyn.load("bar.so")
>   repeat({
>    print(.C("R_test",as.character("filename"), integer(100000),
>     complex(100000))[[1]])
>   })
>
> with no problems. (I also tried without <stdlib.h> and without the
> unnecessary cast to double * on the malloc, for the sake of variety).
>
> I also tried it with
>  .C("R_test", as.character("filename"),as.integer(rpois(10000,10)),
>      log(as.complex(rnorm(10000))))[[1]]
> in case the values mattered. Still no problems.
>
> I could see this happening if you somehow had two different malloc()s
> around, but I can't see how you could.

It's a common symptom on some systems of writing off the end of an
allocated block, and that is normally R-version-sensitive.  OTOH, I use
Calloc/Free all the time and on correct code never see this.  I was just
wondering about the use of Rcomplex.  That's a structure and unusual in R.
.C is copying arguments to and from the call to the C code, and I'm
wondering if the compiler used here is handling arrays of structures
correctly.  There are lot of broken gcc's about in Linux distributions
....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amaitour at pasteur.fr  Tue Jan 15 09:43:59 2002
From: amaitour at pasteur.fr (Aboubakar Maitournam)
Date: Tue, 15 Jan 2002 09:43:59 +0100
Subject: [R] Installation of new R version
Message-ID: <3C43EBCF.34CDCC51@pasteur.fr>

Dear all,

I m sorry because perhaps my question had been asked and
answered previously.
I have installed  R version 1.3.1 on PC with some version of
linux Redhat and I m currently working with it.
I want to install the new R version 1.4.0.
Is it a simple way to do it ? I have looked in R manual but I have not
found  the solution.

Thanks you in advance.

Aboubakar Maitournam.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Tue Jan 15 10:03:03 2002
From: plummer at iarc.fr (Martyn Plummer)
Date: Tue, 15 Jan 2002 10:03:03 +0100 (CET)
Subject: [R] Installation of new R version
In-Reply-To: <3C43EBCF.34CDCC51@pasteur.fr>
Message-ID: <XFMail.20020115100303.plummer@iarc.fr>

On 15-Jan-2002 Aboubakar Maitournam wrote:
> Dear all,
> 
> I m sorry because perhaps my question had been asked and
> answered previously.
> I have installed  R version 1.3.1 on PC with some version of
> linux Redhat and I m currently working with it.
> I want to install the new R version 1.4.0.
> Is it a simple way to do it ? I have looked in R manual but I have not
> found  the solution.

Binary packages of R are available for Red Hat Linux 6.x and 7.x.
Look on CRAN ( http://cran.r-project.org ) under "R binaries".
You can upgrade R with

rpm -Uvh R-base-1.4.0-1.i386.rpm

You should also download and install the R-recommended package.

If your current version of R was installed manually, you will also
have to remove it manually.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From carlos.ortega at minorplanet.com  Tue Jan 15 10:06:41 2002
From: carlos.ortega at minorplanet.com (Carlos Ortega)
Date: Tue, 15 Jan 2002 10:06:41 +0100
Subject: [R] Lower performance execution in read.table()  in R-1.4.0 vs. R-1.3.1.. ?
Message-ID: <03aa01c19da3$f336a7c0$080aa8c0@MinorplanetDev>

Dear R-Help,

I have been trying to read a file (66000 x 12 - ~ 10 Mb) in R-1.4.0 (W2000)
getting error messages associated with the memory usage.
I got a similar problem running on a Linux box (Mandrake 8.1 - PII 350 MHz,
160 Mb RAM).

Luckily, I still had available the previous version R-1.3.1 in my Windows
box, and when trying to read the same file, I do not get any particular
problem, and even the response times are comparable to what I get on
S-Plus2000 in the same machine.

Please, do you know anything about the existence of this difference in
performance/execution ? Is there any way to handle with R-1.4.0 ?

Thanks in advance,
Carlos Ortega.

P.S: Attached are the error messages I got when reading the table as well as
the specifics generated by R.Version() on my Windows machine.

++++++Error Message ++++++++++++
> x<-read.table("C:\\Cof\\Datos\\posresult.txt",as.is=T,dec=",")
Error: cannot allocate vector of size 62 Kb
In addition: Warning message:
Reached total allocation of 256Mb: see help(memory.size)

++++++R.Version()+++++++++++++++
> R.Version()
$platform
[1] "i386-pc-mingw32"

$arch
[1] "x86"

$os
[1] "Win32"

$system
[1] "x86, Win32"

$status
[1] ""

$major
[1] "1"

$minor
[1] "4.0"

$year
[1] "2001"

$month
[1] "12"

$day
[1] "19"

$language
[1] "R"
++++++++++++++++++++++++++++++++


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 15 10:48:21 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 15 Jan 2002 09:48:21 +0000 (GMT)
Subject: [R] Lower performance execution in read.table()  in R-1.4.0 vs.
 R-1.3.1.. ?
In-Reply-To: <03aa01c19da3$f336a7c0$080aa8c0@MinorplanetDev>
Message-ID: <Pine.LNX.4.31.0201150943040.25978-100000@gannet.stats>

On Tue, 15 Jan 2002, Carlos Ortega wrote:

> Dear R-Help,
>
> I have been trying to read a file (66000 x 12 - ~ 10 Mb) in R-1.4.0 (W2000)
> getting error messages associated with the memory usage.
> I got a similar problem running on a Linux box (Mandrake 8.1 - PII 350 MHz,
> 160 Mb RAM).
>
> Luckily, I still had available the previous version R-1.3.1 in my Windows
> box, and when trying to read the same file, I do not get any particular
> problem, and even the response times are comparable to what I get on
> S-Plus2000 in the same machine.
>
> Please, do you know anything about the existence of this difference in
> performance/execution ? Is there any way to handle with R-1.4.0 ?

Yes, see the NEWS for R-patched. Adding the line to read.table

    while (nlines < 5) {
        line <- readLines(file, 1, ok = TRUE)
        if (length(line) == 0)
            break
        if (blank.lines.skip && length(grep("^[ \\t]*$", line)))
            next
        if (length(comment.char) && nchar(comment.char)) {
            pattern <- paste("^[ \\t]*", substring(comment.char,
                1, 1), sep = "")
            if (length(grep(pattern, line)))
                next
        }
        lines <- c(lines, line)
        nlines <- nlines + 1 # add this line
    }

will help a lot, but the fix in R-patched is better.

If you are interested in performance, set colClasses.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cropdesign at xs4all.be  Tue Jan 15 12:08:01 2002
From: cropdesign at xs4all.be (Rik Bradt)
Date: Tue, 15 Jan 2002 12:08:01 +0100
Subject: [R] Installation of new R version
In-Reply-To: <3C43EBCF.34CDCC51@pasteur.fr>
Message-ID: <5.1.0.14.0.20020115120135.00aefe58@pop.xs4all.be>

At 09:43  1/15/2002 +0100, Aboubakar Maitournam wrote:
>-Language: en
>To: r-help at stat.math.ethz.ch
>Subject: [R] Installation

download the tarball
expand it in, lets say /src
change directory to /src/R-xxx
./configure --prefix=/opt/R-xxx
make
make install
change directory to /opt/R-xxx/bin
start the progr. with ./R

this is basically the standard install/compile procedure under linux.
You will probably have to enrich your linux installation with all tools & 
libraries necessary: ex. gcc, f2c, flex, yacc, ... whatever.
It is possible to maintain several versions of R on the same computer. 
Although I experience problems while saving the workspace image.

Regards,

Rik


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jiruse at incoma.cz  Tue Jan 15 14:58:49 2002
From: jiruse at incoma.cz (=?iso-8859-2?Q?JIRU=A9E_Marek?=)
Date: Tue, 15 Jan 2002 14:58:49 +0100
Subject: [R] Using R under Emacs
Message-ID: <258405913DEE50419B664F16D1D672AE043582@incoma2000.incoma.bbc>


Dear R-help,

I would like to use R 1.3.0 under emacs-20.7. with the help of
ess-5.1.19 in the windows system. I downloaded the ess-5.1.19 and tried
to follow instructions strictly.  

1.     cd to a directory where you keep emacs lisp files
-------------> no question

2.     Retrieve the compressed the
        zipped file `ESS-5.1.19.zip' from one of the FTP.
-------------> no question

3.     Extract the files from the distribution
        (or: from the zip file: `unzip ESS-5.1.19.zip')
-------------> no question


4.     Windows users will usually be able to use the
-------------> no question
       `lisp/ess-site.el'      as distributed. 

5.   Windows users will need to make sure that the directories
     for the software they will be using is in the PATH
     environment variable.  On Windows 9x, add lines similar to
     the following to your      `c:\autoexec.bat'      file:
      path=%PATH%;c:\progra~1\spls2000\cmd     -------------> It likely
concerns to path to R program (?), so I added
into autoexec.bat location of R (C:\Program Files\R\rw1030\bin)

6.       Add the line (load "/PATH/ess-site")
          to your .emacs (or _emacs) file (or default.el or
     site-init.el, for      a site-wide installation).  Replace `/PATH'
     above with the      value of ess-lisp-directory as defined in
     `ess-site.el'.  Use      forwardslashes `/'.
-------------> I found default.el where I added the line 
							(load
"c:/emacs-20.7/lisp/emacs-lisp/ess-5.1.19/lisp)


     If you wish to run R, you can start it with:
--------------> did not work in emacs
                    	M-x R


Thank you for your help. I am sorry if it is trivial for I am rather
beginner with the mentioned software.

 
Marek Jiruse 
 
Incoma, Czech republic


---
Odchoz? zpr?va neobsahuje viry.
Zkontrolov?no antivirov?m syst?mem AVG (http://www.grisoft.cz).
Verze: 6.0.310 / Virov? b?ze: 171 - datum vyd?n?: 19.12.2001
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Tue Jan 15 15:10:51 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 15 Jan 2002 06:10:51 -0800
Subject: [R] Using R under Emacs
In-Reply-To: <258405913DEE50419B664F16D1D672AE043582@incoma2000.incoma.bbc>
References: <258405913DEE50419B664F16D1D672AE043582@incoma2000.incoma.bbc>
Message-ID: <87vge3so0k.fsf@jeeves.blindglobe.net>


If you send an e-mail to the ess-help list, we'd be happy to help you
there!

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
--- I'm 40% time until March 1st.  Try email the other 3 days.... -----
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Christian.C.Ritter at OPC.shell.com  Tue Jan 15 15:40:25 2002
From: Christian.C.Ritter at OPC.shell.com (Ritter, Christian C SRTCL-CTGAS)
Date: Tue, 15 Jan 2002 15:40:25 +0100
Subject: [R] RE: new version of lattice
Message-ID: <F169284AF6DDD111AA000001FAF836E802798A34@LLNBBS22>

I'll get to it tomorrow afternoon or on Thursday (if my son isn't sick
anymore). Chris.

-----Original Message-----
From: Deepayan Sarkar [mailto:deepayan at stat.wisc.edu]
Sent: Tuesday, January 15, 2002 4:13 AM
To: r-announce at stat.math.ethz.ch
Subject: new version of lattice





A new version of the Lattice package is now available on CRAN. A list of
the (mostly minor) changes are given below. The documentation is probably
still a bit shaky at places, and suggestions for improvement would be
appreciated.


-----------------------------------------------------------------------

Changes in lattice 0.4
======================

Some of the implementation details have changed a lot (mainly in
print.trellis). This might cause some old code to fail, though no such
instances are known.

No significant new features have been added, but there are several
bugfixes (notably in levelplot). The important changes are:

 o documentation restructured. There is no topic called `trellis.args'
   any more. The detailed description of the arguments common to all
   high level trellis functions can be found under help(xyplot)

 o once trellis.device() is called, Lattice graphics and base R
   graphics should mix more or less seamlessly. There is an optional
   argument in trellis.device() that can deal with the first blank
   page problem, with certain restrictions.

 o a (as yet very small) demo, called by demo("lattice")

 o Clipping: whatever is drawn by the panel function is now clipped to
   inside the panel region. Strip texts are clipped to inside the
   strips.

 o Axis tick labels by default do not overlap, some tick marks are
   left unlabelled if necessary.

 o The argument list for strip.default changed to be like S

 o levels() and nlevels() give sensible answers for shingles. new
   print methods for shingles and levels of shingles

 o colorkey (currently used only in levelplot) can now be placed to
   the left, top or bottom as well

 o new ``lines'' component in the par.strip.text argument that can be
   used to change the height of strips 

 o xlab, main etc can be double height strings (containing "\n"-s),
   the spaces allocated for these would be automatically adjusted

 o strip.default now has style=5

 o new panel.superpose.2 (suggested by Neil Klepeis)

 o the default colour settings sometimes seem too light on a white
   background. To deal with this, there is a new setting with some
   darker colours that can be set by calling lset(theme =
   "white.bg"). see ?lset for details. This is currently in a
   proof-of-concept stage (the colors in "white.bg" were chosen just
   because I liked their names) and suggestions for better color
   schemes would be most welcome.

 o show.settings() added




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-announce mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Tue Jan 15 16:39:53 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Tue, 15 Jan 2002 10:39:53 -0500
Subject: MKL seems to beat ATLAS, but some problems... (was RE: [R]
 linkin	g R against MKL)
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8497@usrymx10.merck.com>

Hi all,

I managed to at least compile R-patched (2002-01-08) against MKL 5.1 (not
beta).  The release notes for MKL said that the libraries are threaded, and
the test codes needed to be linked against the pthread library.  Therefore I
added -lpthread flag in config.site for R-patched, and the compile went
through.  However, when I did make check, it choked on a call to La.eigen,
complaining that "lapack routines cannot be loaded".  If anyone can provide
some hints, I'd really appreciate it.  Note: MKL is claimed to contain full
lapack routines.

The test that Thomas referred to on the ATLAS list is at:
http://www.geocrawler.com/archives/3/15666/2001/9/0/

The note said that MKL 5.1 beta was not compared because of NDA on the beta.
Since the one I downloaded is not beta, and there are no NDA clause in the
license, I suppose I won't be sued for posting the following comparison.

For n=1000, 10000, and 100000, x is matrix(runif(n*100), n, 100). y is
runif(n).  I compared the timing for crossprod(x,x), qr(x), and lm(y ~ x).
Reported below are results of system.time()[1]:

          n       x'x    qr(x)   lm(y ~ x)
ATLAS321  1000    0.04    0.18    0.75
MKL51     1000    0.03    0.12    0.72

ATLAS321  10000   0.37    2.83    6.12
MKL51     10000   0.28    2.77    6.08

ATLAS321  1e+05   3.76   33.48   53.7
MKL51     1e+05   2.76   27.23   47.26

So it does seem to provide some modest improvement over ATLAS, at least on
this particular machine (dual P3-866 Xeon with 2GB RDRAM).

Regards,
Andy


> -----Original Message-----
> From: Thomas Lumley [mailto:tlumley at u.washington.edu]
> Sent: Friday, January 11, 2002 2:42 PM
> To: Liaw, Andy
> Cc: 'r-help at stat.math.ethz.ch'
> Subject: Re: [R] linking R against MKL
> 
> 
> On Fri, 11 Jan 2002, Liaw, Andy wrote:
> > Also, has anyone compared MKL with ATLAS?  Maybe it's not 
> worth the effort
> > fooling with MKL?
> 
> There's some discusssion on the math-atlas-results list at the ATLAS
> sourceforge page.  It looks as though it probably isn't worth 
> the effort
> at least for double precision reals. YMMV.
> 
> Another thing to note is that ATLAS is reporting substantial slowdowns
> with gcc 3 especially on Athlons but even on Intel chips.
> 
> 	-thomas
> 
> Thomas Lumley			Asst. Professor, Biostatistics
> tlumley at u.washington.edu	University of Washington, Seattle
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Tue Jan 15 16:59:20 2002
From: faheem at email.unc.edu (Faheem Mitha)
Date: Tue, 15 Jan 2002 10:59:20 -0500 (EST)
Subject: [R] trouble using R Mathlib as standalone 
In-Reply-To: <Pine.LNX.4.31.0201150742270.14906-100000@gannet.stats>
Message-ID: <Pine.LNX.4.43.0201151057490.425-100000@Chrestomanci>



On Tue, 15 Jan 2002, Prof Brian Ripley wrote:

> I think we need to consider renaming the R version of log1p to avoid
> possible problems elsewhere.  It is not a bug, as it does need to be
> declared in Rmath.h on some ISO C systems.  It just happens that both
> glibc and MM used the same name for the same extension.

Can you suggest a temporary workaround for this, so I can continue using
-pedantic?

                                    Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 15 17:12:24 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 15 Jan 2002 16:12:24 +0000 (GMT)
Subject: [R] trouble using R Mathlib as standalone 
In-Reply-To: <Pine.LNX.4.43.0201151057490.425-100000@Chrestomanci>
Message-ID: <Pine.LNX.4.31.0201151611580.23724-100000@gannet.stats>

On Tue, 15 Jan 2002, Faheem Mitha wrote:

>
>
> On Tue, 15 Jan 2002, Prof Brian Ripley wrote:
>
> > I think we need to consider renaming the R version of log1p to avoid
> > possible problems elsewhere.  It is not a bug, as it does need to be
> > declared in Rmath.h on some ISO C systems.  It just happens that both
> > glibc and MM used the same name for the same extension.
>
> Can you suggest a temporary workaround for this, so I can continue using
> -pedantic?

You don't need workarounds for warnings, do you?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Tue Jan 15 17:27:27 2002
From: faheem at email.unc.edu (Faheem Mitha)
Date: Tue, 15 Jan 2002 11:27:27 -0500 (EST)
Subject: [R] trouble using R Mathlib as standalone 
In-Reply-To: <Pine.LNX.4.31.0201151611580.23724-100000@gannet.stats>
Message-ID: <Pine.LNX.4.43.0201151125150.425-100000@Chrestomanci>



On Tue, 15 Jan 2002, Prof Brian Ripley wrote:

> On Tue, 15 Jan 2002, Faheem Mitha wrote:
>
> >
> >
> > On Tue, 15 Jan 2002, Prof Brian Ripley wrote:
> >
> > > I think we need to consider renaming the R version of log1p to avoid
> > > possible problems elsewhere.  It is not a bug, as it does need to be
> > > declared in Rmath.h on some ISO C systems.  It just happens that both
> > > glibc and MM used the same name for the same extension.
> >
> > Can you suggest a temporary workaround for this, so I can continue using
> > -pedantic?
>
> You don't need workarounds for warnings, do you?

Actually,

g++-3.0 -c -Wall -pedantic -g rand.cc

gives an error, not a warning.

In file included from rand.cc:4:
/usr/include/Rmath.h:520: declaration of `double log1p(double)' throws
   different exceptions
/usr/include/bits/mathcalls.h:125: than previous declaration `double
   log1p(double) throw ()'
make: *** [rand.o] Error 1
                                         Faheem.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 15 17:39:21 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 15 Jan 2002 16:39:21 +0000 (GMT)
Subject: [R] trouble using R Mathlib as standalone 
In-Reply-To: <Pine.LNX.4.43.0201151125150.425-100000@Chrestomanci>
Message-ID: <Pine.LNX.4.31.0201151633260.23778-100000@gannet.stats>

You are using this in C++ code, not in C code.
`Actually', I don't think it is a good idea to include C headers in C++
code with -pedantic.  C is not required to pass C++ -pedantic.

On Tue, 15 Jan 2002, Faheem Mitha wrote:
> On Tue, 15 Jan 2002, Prof Brian Ripley wrote:
> > On Tue, 15 Jan 2002, Faheem Mitha wrote:
> > > On Tue, 15 Jan 2002, Prof Brian Ripley wrote:
> > >
> > > > I think we need to consider renaming the R version of log1p to avoid
> > > > possible problems elsewhere.  It is not a bug, as it does need to be
> > > > declared in Rmath.h on some ISO C systems.  It just happens that both
> > > > glibc and MM used the same name for the same extension.
> > >
> > > Can you suggest a temporary workaround for this, so I can continue using
> > > -pedantic?
> >
> > You don't need workarounds for warnings, do you?
>
> Actually,
>
> g++-3.0 -c -Wall -pedantic -g rand.cc
>
> gives an error, not a warning.
>
> In file included from rand.cc:4:
> /usr/include/Rmath.h:520: declaration of `double log1p(double)' throws
>    different exceptions
> /usr/include/bits/mathcalls.h:125: than previous declaration `double
>    log1p(double) throw ()'
> make: *** [rand.o] Error 1
>                                          Faheem.
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Tue Jan 15 18:03:44 2002
From: faheem at email.unc.edu (Faheem Mitha)
Date: Tue, 15 Jan 2002 12:03:44 -0500 (EST)
Subject: [R] trouble using R Mathlib as standalone 
In-Reply-To: <Pine.LNX.4.31.0201151633260.23778-100000@gannet.stats>
Message-ID: <Pine.LNX.4.43.0201151158380.425-100000@Chrestomanci>



On Tue, 15 Jan 2002, Prof Brian Ripley wrote:

> You are using this in C++ code, not in C code. `Actually', I don't think
> it is a good idea to include C headers in C++ code with -pedantic.  C is
> not required to pass C++ -pedantic.

Ok. But...

1) I would like to use -pedantic to catch non-portable C++ constructions
(I'm a beginner in C/C++).

2) I need to use the R mathlib library, and don't know of any alternative,
short of writing the functions myself.

Is there no way to get these to play nice together? How about a wrapper or
something. I've no idea, short of something crude like commenting out the
declaration of log1p in Rmath.h, which might cause other problems.

                                       Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Tue Jan 15 18:09:58 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Tue, 15 Jan 2002 18:09:58 +0100 (CET)
Subject: [R] Building R on Windows
In-Reply-To: <Pine.LNX.4.33.0201140916000.15765-100000@tal.stat.umu.se>
Message-ID: <Pine.LNX.4.33.0201151749370.32103-100000@tal.stat.umu.se>


I got several answers to this problem, all of them from Brian Ripley!
Brian pointed out an error in an earlier patched version and also told 
me that some messages about ignored errors were harmless. After that,
and after some trial and error (you really have to follow the instruction
_exactly_), I succeeded in building today's patched version (2002-01-15).

If someone is interested in grabbing it,  SetupR.exe  can be found at

http://capa.stat.umu.se/~gb/MLife
   
where you also will find my  R  package  'MLife', which is a complement to
'survival', in fact it depends on  survival. It can perform sampling of
survivors in risk sets and include external covariates (calendar time 
series) in an easy manner. There are also some utility functions that
create rectangular 'cuts' in the  Lexis  diagram, so you can analyse age
specific 'event histories' for a given calendar time period with 'coxph'
in survival, etc, etc. Try it! Comments are welcome.

Many thanks to Brian!

G?ran

On Mon, 14 Jan 2002, G?ran Brostr?m wrote:

> Hi,
> 
> I'm trying to build R on Windows 2000 with R-patched_2002-01-12.tar.gz
> and, following Brian Ripley's good introduction to the field, I manage to 
> make everything except the very last 'make' in 'gnuwin32/installer',
> which builds the installer. I get:
> -------------------------------------------------------------------------
> ...........
> echo "make.packages.html(.Library)" | rw1041/bin/rterm --vanilla --slave
> NULL
> Warning message:
> cannot update HTML package index in: make.packages.html(.Library)
> 
> cp rw1041/doc/html/packages.html rw1041w/rw1041/doc/html
> cp: cannot stat `rw1041/doc/html/packages.html': No such file or directory
> make: *** [R.iss] Error 1
> -------------------------------------------------------------------------
> Obviously the file 'packages.html' is missing, so I assume I must have
> made a mistake earlier in the lengthy process, but I have no idea where it
> can be. Any hints would be very much appreciated.
> 
> Thanks,
> 
> G?ran
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Tue Jan 15 18:22:42 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 15 Jan 2002 09:22:42 -0800
Subject: [R] trouble using R Mathlib as standalone
In-Reply-To: <Pine.LNX.4.43.0201151158380.425-100000@Chrestomanci>
References: <Pine.LNX.4.43.0201151158380.425-100000@Chrestomanci>
Message-ID: <87n0zfzfz1.fsf@jeeves.blindglobe.net>

>>>>> "FM" == Faheem Mitha <faheem at email.unc.edu> writes:

    FM> On Tue, 15 Jan 2002, Prof Brian Ripley wrote:

    >> You are using this in C++ code, not in C code. `Actually', I
    >> don't think it is a good idea to include C headers in C++ code
    >> with -pedantic.  C is not required to pass C++ -pedantic.

    FM> Ok. But...

    FM> 1) I would like to use -pedantic to catch non-portable C++
    FM> constructions (I'm a beginner in C/C++).

So construct 2 makefile targets (or do the equivalent):
        compile-with-pedantic
and
        compile-without-pedantic

That way you'll get the other errors you are looking for, while still
being able to compile.

    FM> Is there no way to get these to play nice together? How about
    FM> a wrapper or something. I've no idea, short of something crude
    FM> like commenting out the declaration of log1p in Rmath.h, which
    FM> might cause other problems.

I don't have a good answer, short of the hack I suggested.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
--- I'm 40% time until March 1st.  Try email the other 3 days.... -----
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pfaffman at relaxpc.com  Tue Jan 15 18:34:57 2002
From: pfaffman at relaxpc.com (Jay Pfaffman)
Date: Tue, 15 Jan 2002 09:34:57 -0800
Subject: [R] Getting started with R
Message-ID: <200201151734.g0FHYvC14262@aaalab.Stanford.EDU>

I've got a background in computer science & have been using Linux for
nearly a decade.  I'm working on a Ph.D. in education and technology
and I essentially live in emacs and do all of my writing in LaTeX.
To me R seems like the perfect stats package.  Unfortunately, the
learning curve is killing me.  I feel like that if I'd waded through
pulling down menus in SPSS or SAS I could have gotten a bit more done
by now, but I don't want to use those programs.

What I'd like is a cookbook of a few basic procedures.  I think I'm
more interested in the R code than I am statistical explication,
though I don't object to the latter.  Is Venables and Ripley "MASS"
going to do that for me or would "S Programming" be more appropriate?
In my cursory look through the sample chapter from Nolan and Speed I
saw no S-plus/S/R code whatsoever.

One thing I'm trying to do right now is certainly trivial, but I can't
quite get it going.  Hopefully I'm not sounding too much like I'm
asking you to do my homework.

In a perception study, I've got three within-subject conditions, A, B,
and C.  Each condition has 4 trials with 2 times and an angle
(actually an error measurement between the actual angle and the one
the subjects pointed to).  All I want is to get the stuff that
summary() gives split out by condition.  It might also be nice to
split it out between subjects as well to look at, and possibly correct
for individual differences, (which might be difficult with so few
trials?).  My data columns are as follows:

A B C (with 0 or 1 to indicate condition, would a single column with
1-3 be better?)

t1, t2, angle-error

Surely fewer than 10 lines of R could yield me these results and maybe
a couple pretty graphs.

In another study where I'm looking at motivation and hobbies, which I
have almost no idea how to analyze (which suggests I might have chosen
a bad design & that a problem like this probably doesn't belong in my
"cookbook") I've had people rank a set of 25 characteristics of their
activities or motivations (5 in each of 5 categories) and would like
to see if any patterns are emerging there.  My data start out as an
ordered list of these cards (1-25); I futzed in a spreadsheet to get
two columns, the motivation number and its rank.  If I could avoid
using the spreadsheet, that'd be nice.  

Thanks.

-- 
Jay Pfaffman                           pfaffman at relaxpc.com
+1-415-821-7507 (H)                    +1-415-810-2238 (M)
http://relax.ltc.vanderbilt.edu/~pfaffman/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at celos.net  Tue Jan 15 19:04:29 2002
From: mark at celos.net (Mark White)
Date: Tue, 15 Jan 2002 18:04:29 +0000
Subject: [R] Problems with .C - [Ff]ree()?
In-Reply-To: <Pine.LNX.4.31.0201150756410.14906-100000@gannet.stats>; from ripley@stats.ox.ac.uk on Tue, Jan 15, 2002 at 08:01:22AM +0000
References: <Pine.A41.4.43.0201141826120.57318-100000@homer27.u.washington.edu> <Pine.LNX.4.31.0201150756410.14906-100000@gannet.stats>
Message-ID: <20020115180429.G21381@celos.net>

Prof Brian Ripley writes:
> On Mon, 14 Jan 2002, Thomas Lumley wrote:
> > No.  I tried
> >   repeat({
> >    print(.C("R_test",as.character("filename"), integer(100000),
> >     complex(100000))[[1]])
> >   })
> >
> > with no problems. (I also tried without <stdlib.h> and without the
> > unnecessary cast to double * on the malloc, for the sake of variety).

I also tried this: no problems for me with this small
example, either, only dies when called from my R library
code.  Maybe R needs to be doing something specific between
the .C calls?  I'll see if I can extract a complete chunk of
R code from my library which repeatably causes problems.

> > I could see this happening if you somehow had two different malloc()s
> > around, but I can't see how you could.

Just as a sanity check, I tried it on a Sparc using the Sun
compiler suite; no problems at all.

> It's a common symptom on some systems of writing off the end of an
> allocated block, and that is normally R-version-sensitive.  OTOH, I use
> Calloc/Free all the time and on correct code never see this.  I was just
> wondering about the use of Rcomplex.  That's a structure and unusual in R.
> .C is copying arguments to and from the call to the C code, and I'm
> wondering if the compiler used here is handling arrays of structures
> correctly.  

I tried changing it to (double) at both ends; it still
causes near-certain death.

> There are lot of broken gcc's about in Linux distributions
> ....

This is gcc 2.95.3 on NetBSD -current (new toolchain), on
Intel; a broken gcc or malloc is far from impossible, but
I'd have thought something (like the kernel, or even some
other session of R) would have misbehaved by now if so.

Mark <><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sen at pobox.com  Tue Jan 15 19:22:59 2002
From: sen at pobox.com (Saunak Sen)
Date: Tue, 15 Jan 2002 13:22:59 -0500
Subject: [R] Error message in R: stack imbalance
Message-ID: <20020115182259.GA27386@jax.org>

Hello...

I just installed R version 1.4.0 on my laptop running Redhat Linux
7.1.  I downloaded the RPM from CRAN and when I try to use a function
I have used on other Redhat systems, I get the following error
message.

--------
> library(qtl)
> gastritis <- read.cross(format="csv",dir="/home/sen/qtl/data/gastritis",
+                   "Pablodata.csv",genotypes=c("b","h","c"))
stack imbalance in internal type.convert, 48 then 47stack imbalance in .Internal, 47 then 46
stack imbalance in if, 41 then 40
stack imbalance in <-, 39 then 38
stack imbalance in {, 37 then 36
stack imbalance in internal type.convert, 47 then 46stack imbalance in .Internal, 46 then 45
--------

Any idea what the problem may be?

Thanks a lot!

Saunak Sen

-- 
  Saunak Sen   ....   sen at pobox.com   ....   http://www.pobox.com/~sen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue Jan 15 19:25:42 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 15 Jan 2002 13:25:42 -0500 (EST)
Subject: [R] Getting started with R
Message-ID: <200201151825.g0FIPgw25183@cattell.psych.upenn.edu>

I think our "Notes on R for psychology..." was written just
for you.  I believe it has examples much like the ones you
describe.  (It is a little out of date because it has not been
revised to keep up with newer versions of R ... yet.)

Your particular problems might be solved with by(), or
apply(), or tapply().  It is a little hard for me to tell
because I'm not sure how you've laid out your data.  In
particular, there is no code for subject, yet you say it
is a within-subject design.

For your second example, if you have data for many subjects
(not clear from your description), you might try things in
the mva package.  The biplot function for principal
components is particularly nice.  You might want to put
the data into a one-row-per-subject matrix or data-frame,
in both cases (although the layout you seem to have has
other advantages, as we explain).

Our notes are in the contributed documents section, and at
http://finzi.psych.upenn.edu
and thre is also a reference card in both places (also a
little out of date - mostly needing a second page for
graphics).

As for your question about whether to use one code for each
condition or 1-3 to indicate conditions, either is good, but
you probably want to make the 1-3 code a _factor_, which is
what is sometimes called a categorical variable.

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 15 19:38:37 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 15 Jan 2002 18:38:37 +0000 (GMT)
Subject: [R] Error message in R: stack imbalance
In-Reply-To: <20020115182259.GA27386@jax.org>
Message-ID: <Pine.LNX.4.31.0201151837430.24687-100000@gannet.stats>

It's due to the use of as.is in read.table, which is now superseded.
Nevertheless, this is fixed in R-patched.

On Tue, 15 Jan 2002, Saunak Sen wrote:

> Hello...
>
> I just installed R version 1.4.0 on my laptop running Redhat Linux
> 7.1.  I downloaded the RPM from CRAN and when I try to use a function
> I have used on other Redhat systems, I get the following error
> message.
>
> --------
> > library(qtl)
> > gastritis <- read.cross(format="csv",dir="/home/sen/qtl/data/gastritis",
> +                   "Pablodata.csv",genotypes=c("b","h","c"))
> stack imbalance in internal type.convert, 48 then 47stack imbalance in .Internal, 47 then 46
> stack imbalance in if, 41 then 40
> stack imbalance in <-, 39 then 38
> stack imbalance in {, 37 then 36
> stack imbalance in internal type.convert, 47 then 46stack imbalance in .Internal, 46 then 45
> --------
>
> Any idea what the problem may be?
>
> Thanks a lot!
>
> Saunak Sen
>
> --
>   Saunak Sen   ....   sen at pobox.com   ....   http://www.pobox.com/~sen
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Tue Jan 15 20:02:51 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Tue, 15 Jan 2002 14:02:51 -0500 (EST)
Subject: [R] Getting started with R
In-Reply-To: <200201151734.g0FHYvC14262@aaalab.Stanford.EDU>
Message-ID: <Pine.LNX.4.21L1.0201151358500.22001-100000@nujoma.perrins>

If I understand what you're asking, it's essentially the same thing I
asked the list for a week or so ago.  

First, if A, B, and C conditions are mutually exclusive, then yes, I would
suggest working with a single variable with three values. As a rule of
thumb (more about database theory than statistics) you should avoid
designing data structures that can hold invalid data.

I quote below the responses from Rossini and Lumley to my original query:
On 9 Jan 2002, A.J. Rossini wrote:

> >>>>> "AP" == Andrew Perrin <andrew_perrin at unc.edu> writes:
>
>     AP> I'd like to get summary statistics (really just a mean would
>     AP> be fine) for a vector in a data frame, but split based on the
>     AP> value of another vector.  That is, I have a data frame
>     AP> (hcd.df) with variables datecat (which is always 1 or 2) and
>     AP> auth.sum (-8..+8).  I've used xtabs to get chi-square
>     AP> comparisons, but what I need now is a simple mean of auth.sum
>     AP> where datecat is 1 and another where datecat is 2. Thanks for
>     AP> any advice.
>
> Something like :
>
>         lapply(split(hcd.df$auth.sum,hcd.df$datecat),mean)
>

Or
    tapply(hcf.df$auth.sum, hcd.df$datecat, mean)

or (in 1.4.0)

    with(hcf.df, {tapply(auth.sum, datecat, mean})


        -thomas

Thomas Lumley                   Asst. Professor, Biostatistics
tlumley at u.washington.edu        University of Washington, Seattle

-----

In your case, I'd say something like:

tapply(df$angle, df$condition, summary)

is probably right.

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


On Tue, 15 Jan 2002, Jay Pfaffman wrote:

> I've got a background in computer science & have been using Linux for
> nearly a decade.  I'm working on a Ph.D. in education and technology
> and I essentially live in emacs and do all of my writing in LaTeX.
> To me R seems like the perfect stats package.  Unfortunately, the
> learning curve is killing me.  I feel like that if I'd waded through
> pulling down menus in SPSS or SAS I could have gotten a bit more done
> by now, but I don't want to use those programs.
> 
> What I'd like is a cookbook of a few basic procedures.  I think I'm
> more interested in the R code than I am statistical explication,
> though I don't object to the latter.  Is Venables and Ripley "MASS"
> going to do that for me or would "S Programming" be more appropriate?
> In my cursory look through the sample chapter from Nolan and Speed I
> saw no S-plus/S/R code whatsoever.
> 
> One thing I'm trying to do right now is certainly trivial, but I can't
> quite get it going.  Hopefully I'm not sounding too much like I'm
> asking you to do my homework.
> 
> In a perception study, I've got three within-subject conditions, A, B,
> and C.  Each condition has 4 trials with 2 times and an angle
> (actually an error measurement between the actual angle and the one
> the subjects pointed to).  All I want is to get the stuff that
> summary() gives split out by condition.  It might also be nice to
> split it out between subjects as well to look at, and possibly correct
> for individual differences, (which might be difficult with so few
> trials?).  My data columns are as follows:
> 
> A B C (with 0 or 1 to indicate condition, would a single column with
> 1-3 be better?)
> 
> t1, t2, angle-error
> 
> Surely fewer than 10 lines of R could yield me these results and maybe
> a couple pretty graphs.
> 
> In another study where I'm looking at motivation and hobbies, which I
> have almost no idea how to analyze (which suggests I might have chosen
> a bad design & that a problem like this probably doesn't belong in my
> "cookbook") I've had people rank a set of 25 characteristics of their
> activities or motivations (5 in each of 5 categories) and would like
> to see if any patterns are emerging there.  My data start out as an
> ordered list of these cards (1-25); I futzed in a spreadsheet to get
> two columns, the motivation number and its rank.  If I could avoid
> using the spreadsheet, that'd be nice.  
> 
> Thanks.
> 
> -- 
> Jay Pfaffman                           pfaffman at relaxpc.com
> +1-415-821-7507 (H)                    +1-415-810-2238 (M)
> http://relax.ltc.vanderbilt.edu/~pfaffman/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wei_xiaoyan at emc.com  Tue Jan 15 20:32:11 2002
From: wei_xiaoyan at emc.com (wei, xiaoyan)
Date: Tue, 15 Jan 2002 14:32:11 -0500
Subject: [R] R for large data sets
Message-ID: <FA2F59D0E55B4B4892EA076FF8704F55380027@srgraham.eng.emc.com>

Hi All,

As a part of our regular data analysis, I have to read in large data sets
with six columns and about a million rows. In Splus, this usually take a
couple of minutes. I just tried R, it seems take forever to use read.table()
to read in the data frame! It did not help much even though I specified
colClasses and nrows in read.table().

How is R's ability to analyze large data sets? I used R on solaris 2.6 and I
used all default compilation flags when building the R package. Will it help
if I use some compilation flags with higher optimization level? 

Thanks in advance.
Xiaoyan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 15 20:43:24 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 15 Jan 2002 19:43:24 +0000 (GMT)
Subject: [R] R for large data sets
In-Reply-To: <FA2F59D0E55B4B4892EA076FF8704F55380027@srgraham.eng.emc.com>
Message-ID: <Pine.LNX.4.31.0201151940220.24828-100000@gannet.stats>

On Tue, 15 Jan 2002, wei, xiaoyan wrote:

> As a part of our regular data analysis, I have to read in large data sets
> with six columns and about a million rows. In Splus, this usually take a
> couple of minutes. I just tried R, it seems take forever to use read.table()
> to read in the data frame! It did not help much even though I specified
> colClasses and nrows in read.table().
>
> How is R's ability to analyze large data sets? I used R on solaris 2.6 and I
> used all default compilation flags when building the R package. Will it help
> if I use some compilation flags with higher optimization level?

It will help to use R-patched, since I guess you are using 1.4.0.
Also, look in the list archives, as I answered this more fully earlier
today.

In either S-PLUS or R, scan would be a better choice for such a dataset.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 15 20:56:04 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 15 Jan 2002 19:56:04 +0000 (GMT)
Subject: MKL seems to beat ATLAS, but some problems... (was RE: [R] linkin
 g R against MKL)
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC8497@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.31.0201151944350.24828-100000@gannet.stats>

On Tue, 15 Jan 2002, Liaw, Andy wrote:

> I managed to at least compile R-patched (2002-01-08) against MKL 5.1 (not
> beta).  The release notes for MKL said that the libraries are threaded, and
> the test codes needed to be linked against the pthread library.  Therefore I
> added -lpthread flag in config.site for R-patched, and the compile went
> through.  However, when I did make check, it choked on a call to La.eigen,
> complaining that "lapack routines cannot be loaded".  If anyone can provide
> some hints, I'd really appreciate it.  Note: MKL is claimed to contain full
> lapack routines.

R cannot currently make use of anyone else's LAPACK routines (because
we've found too many problems with them).

If you are getting no useful diagnostics, try
dyn.load("RHOME/modules/lapack.so").  That ought to tell you why you can't
load it.  My guess would be to do with libraries, so do an ldd on
lapack.so and check that all the dependencies are resolved as you expect.

> The test that Thomas referred to on the ATLAS list is at:
> http://www.geocrawler.com/archives/3/15666/2001/9/0/

> The note said that MKL 5.1 beta was not compared because of NDA on the beta.
> Since the one I downloaded is not beta, and there are no NDA clause in the
> license, I suppose I won't be sued for posting the following comparison.
>
> For n=1000, 10000, and 100000, x is matrix(runif(n*100), n, 100). y is
> runif(n).  I compared the timing for crossprod(x,x), qr(x), and lm(y ~ x).
> Reported below are results of system.time()[1]:
>
>           n       x'x    qr(x)   lm(y ~ x)
> ATLAS321  1000    0.04    0.18    0.75
> MKL51     1000    0.03    0.12    0.72
>
> ATLAS321  10000   0.37    2.83    6.12
> MKL51     10000   0.28    2.77    6.08
>
> ATLAS321  1e+05   3.76   33.48   53.7
> MKL51     1e+05   2.76   27.23   47.26
>
> So it does seem to provide some modest improvement over ATLAS, at least on
> this particular machine (dual P3-866 Xeon with 2GB RDRAM).

I would not expect those to benefit much from a tuned BLAS.  qr is not
based on LAPACK, and so only uses level-1 BLAS.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Tue Jan 15 21:15:54 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Tue, 15 Jan 2002 15:15:54 -0500
Subject: [R] Getting started with R
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF1C1@groexmbcr02.pfizer.com>



 >  -----Original Message-----
 >  From: Jay Pfaffman [mailto:pfaffman at relaxpc.com]
 >  Sent: Tuesday, January 15, 2002 12:35 PM
 >  To: r-help at stat.math.ethz.ch
 >  Subject: [R] Getting started with R

 > [...]
 >  What I'd like is a cookbook of a few basic procedures.  I think I'm
 >  more interested in the R code than I am statistical explication,
 >  though I don't object to the latter.  Is Venables and Ripley "MASS"
 >  going to do that for me or would "S Programming" be more 
 >  appropriate?

Have you looked at http://cran.r-project.org/doc/manuals/R-intro.pdf ?

 > [...]
 >  In a perception study, I've got three within-subject 
 >  conditions, A, B,
 >  and C.  Each condition has 4 trials with 2 times and an angle
 >  (actually an error measurement between the actual angle and the one
 >  the subjects pointed to).  All I want is to get the stuff that
 >  summary() gives split out by condition.  It might also be nice to
 >  split it out between subjects as well to look at, and 
 >  possibly correct
 >  for individual differences, (which might be difficult with so few
 >  trials?).  My data columns are as follows:
 >  
 >  A B C (with 0 or 1 to indicate condition, would a single column with
 >  1-3 be better?)

It is probably easier to deal with a single 'factor' variable with three
levels 'A','B', and 'C'.

 >  
 >  t1, t2, angle-error
 >  
 >  Surely fewer than 10 lines of R could yield me these 
 >  results and maybe
 >  a couple pretty graphs.
 >  
If you create a data file named myfile.csv containing :

Condition,t1,t2,angle.error
A, 10, 12, 30
B, 12, 6, 15
C, 9, 16, 0
...

you can read it in using

	> mydata <- read.csv("myfile.csv")

Then to get summaries of each of the variables separated by conditions do
something like

	> by(mydata, mydata$Condition, summary)

Some plots:

	> plot(t1 ~ Condition, data=mydata)
	> plot(t2 ~ Condition, data=mydata)
	> plot(angle ~ Condition, data=mydata)

Run a regression model testing if t1 depends on condition:

	> summary(lm(t2 ~ Condition, data=mydata))

 >  In another study where I'm looking at motivation and 
 >  hobbies, which I
 >  have almost no idea how to analyze (which suggests I might 
 >  have chosen
 >  a bad design & that a problem like this probably doesn't 
 >  belong in my
 >  "cookbook") I've had people rank a set of 25 
 >  characteristics of their
 >  activities or motivations (5 in each of 5 categories) and would like
 >  to see if any patterns are emerging there.  My data start out as an
 >  ordered list of these cards (1-25); I futzed in a spreadsheet to get
 >  two columns, the motivation number and its rank.  If I could avoid
 >  using the spreadsheet, that'd be nice.  

You would need to give quite a bit more information before one could suggest
a reasonable method of anlyzing this data.  Still, it seems that the easiest
format to handle the data for statistical analysis would be one row per
participant, with one variable (column) for each activity or motivation. 

-Greg

 >  
 >  Thanks.
 >  
 >  -- 
 >  Jay Pfaffman                           pfaffman at relaxpc.com
 >  +1-415-821-7507 (H)                    +1-415-810-2238 (M)
 >  http://relax.ltc.vanderbilt.edu/~pfaffman/
 >  -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
 >  -.-.-.-.-.-.-.-.-.-
 >  r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wei_xiaoyan at emc.com  Tue Jan 15 22:11:36 2002
From: wei_xiaoyan at emc.com (wei, xiaoyan)
Date: Tue, 15 Jan 2002 16:11:36 -0500
Subject: [R] R for large data sets
Message-ID: <FA2F59D0E55B4B4892EA076FF8704F55380028@srgraham.eng.emc.com>

Where is R-patched? I didnot see it in index of /R/CRAN/src/base today. I
remeber seeing it a few days ago.

Thanks.

-----Original Message-----
From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
Sent: Tuesday, January 15, 2002 2:43 PM
To: wei, xiaoyan
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] R for large data sets


On Tue, 15 Jan 2002, wei, xiaoyan wrote:

> As a part of our regular data analysis, I have to read in large data sets
> with six columns and about a million rows. In Splus, this usually take a
> couple of minutes. I just tried R, it seems take forever to use
read.table()
> to read in the data frame! It did not help much even though I specified
> colClasses and nrows in read.table().
>
> How is R's ability to analyze large data sets? I used R on solaris 2.6 and
I
> used all default compilation flags when building the R package. Will it
help
> if I use some compilation flags with higher optimization level?

It will help to use R-patched, since I guess you are using 1.4.0.
Also, look in the list archives, as I answered this more fully earlier
today.

In either S-PLUS or R, scan would be a better choice for such a dataset.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Liu.Chunhua at epamail.epa.gov  Tue Jan 15 22:22:46 2002
From: Liu.Chunhua at epamail.epa.gov (Liu.Chunhua@epamail.epa.gov)
Date: Tue, 15 Jan 2002 16:22:46 -0500
Subject: [R] returned values of glim() in S PLus and glm() in R
Message-ID: <OF9951FFB3.32B0D32F-ON85256B42.0074F2CD@rtp.epa.gov>

Dear Experts,

In glim() of S Plus, one of the returned values is "var", the estimated
variance matrix of coefficients. However, in glm() of R (there is no
glim() in R), "var" is not one of the returned values. Anyone know what
could I get the varience matrix of coefficients in glm() in R?

As a novice in R and S+, I'd appreciate your help

Sincerely,

Charlie Liu



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brianscholl at yahoo.com  Tue Jan 15 22:25:02 2002
From: brianscholl at yahoo.com (Brian Scholl)
Date: Tue, 15 Jan 2002 13:25:02 -0800 (PST)
Subject: [R] acf conf intervals +speed
Message-ID: <20020115212502.36233.qmail@web20308.mail.yahoo.com>

Hi,

I'm trying to obtain confidence intervals for auto and
cross correlation estimates.  I've adapted code made
available by Stock and Watson that uses the Bartlett
Kernel and the delta method.  In R it runs really,
really slow because of the loops it uses and I have 9
series that I'd like to examine (81 total
combinations).  It was easy enough to replace one of
the while loops with a vector operation, but the
others are tough.  Anyone have either alternative code
or a suggestion for how to replace the other loops
below? 

Thanks



initc<-function(x,y){
n<-min(length(x),length(y))

# -- Demean -- @
xm<-x-mean(x) 
ym<-y-mean(y) 

# -- Cross Products -- @

a<-xm*ym 
b<-xm*xm 
c<-ym*ym 

cx0<-mean(b) 
cy0<-mean(c) 
list(cx0=cx0,cy0=cy0)
}




corse<-function(x,y,cx0,cy0,mix=1){
# FROM code by stock and watson from HOM paper
#corse.prc
 #  10/28/97, mww
#   Compute Correlation between x and y 
 #  Also compute se of estimated cor using
  # HAC-Delta Method Calculation 
  
  n<-min(length(x),length(y))
# -- Demean -- @
xm<-x-mean(x) 
ym<-y-mean(y) 

# -- Cross Products -- @
a<-xm*ym 
b<-xm*xm 
c<-ym*ym 

ma<-mean(a) 
mb<-mean(b) 
mc<-mean(c) 
cor<-ma/(sqrt(cx0*cy0))
if (mix==1){
	cor<-ma/(sqrt(mb*mc)) 
}

# -- Compute SE of Cor using VAR Spectral Est. and
delta method -- @
am<-a-mean(a) 
bm<-b-mean(b) 
cm<-c-mean(c) 
d<-cbind(ts(am),ts(bm),ts(cm)) 

# Form Bartlett Kernel @
kern<-matrix(0,n+1,1) 
ii <- 0  
seq<-(0:n)
kern<-1-(seq/(n+1))
#while (ii <= n){
# kern[ii+1]<-(1-ii/(n+1)) 
# ii<-ii+1  
#}
lam<-(t(d) %*% d)/nrow(d) 
vd<-kern[1]*lam

ii<-1
#while (ii <=n){
while (ii < (n-1)){
 lam<-(t(d[(1+ii):nrow(d),]) %*% d[1:(nrow(d)-ii),]) /
nrow(d) 
 vd<-vd+kern[ii+1]*(lam+t(lam)) 
 ii<-ii+1  
}
lam<-(t(d[(1+ii):nrow(d),]) %o% d[1:(nrow(d)-ii),]) /
nrow(d) 
lam<-lam[1,,]
vd<-vd+kern[ii+1]*(lam+t(lam)) 

vd<-vd/nrow(d) 

# Delta Method @
g<-matrix(0,3,1) 
g[1]<-1/(sqrt(mb*mc))    # Grad wrt a @
g[2]<-(-0.5)*(cor/mb)    # Grad wrt b @
g[3]<-(-0.5)*(cor/mc)    # Grad wrt c @

vcor<-t(g)%*%vd%*%g
secor<-sqrt(vcor) 

list(cor=cor,secor=secor)
}

acf2<-function(x,y=x,lagmax=(length(x)-10),m="ACF",mix=0){
	L<-min(length(x),length(y))
	cormat<-matrix(0,lagmax,1)
	secormat<-matrix(0,lagmax,1)
   
   x<-x[1:L]
	y<-y[1:L]
	c0<-initc(x,y)
	cx0<-c0$cx0
	cy0<-c0$cy0
	for (i in 1:lagmax){
  	 x1<-x[1:(L-i)]
  	 y1<-y[(i+1):L]
  	 c<-corse(x1,y1,cx0,cy0)
  	 cormat[i]<-c$cor
  	 secormat[i]<-c$secor
	}

	stop<-lagmax-sum(is.na(cormat))

plot(1:stop,cormat[1:stop],type="l",main=m,xlab="lag",ylab="ACF")

lines(cormat[1:stop]+2*secormat[1:stop],col="red",lty=2)

lines(cormat[1:stop]-2*secormat[1:stop],col="red",lty=2)
	lines(matrix(0,lagmax,1),col="black")
	cv<-1.96/sqrt(L)
	lines(matrix(cv,lagmax,1),col="blue",lty=2)

	list(cormat=cormat,secormat=secormat)
}




__________________________________________________


http://promo.yahoo.com/videomail/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GPetris at uark.edu  Tue Jan 15 22:35:03 2002
From: GPetris at uark.edu (Giovanni Petris)
Date: Tue, 15 Jan 2002 15:35:03 -0600 (CST)
Subject: [R] errors intalling splancs and sgeostat
Message-ID: <200201152135.PAA00655@definetti.uark.edu>


I installed R-1.4.0 and then updated all the packages I have, using
update.packages(). I got an error for splancs and sgeostat. Trying to
install them 'manually' with R CMD INSTALL, I got the following
errors.

1) for splancs:

Tue<15:26>library[82]#R CMD INSTALL splancs_2.01-5.tar.gz 
Installing *source* package `splancs' ...
 libs
f95   -PIC  -xO5 -dalign -xlic_lib=sunperf -c areapl.f -o areapl.o
f95   -PIC  -xO5 -dalign -xlic_lib=sunperf -c cncvwt.f -o cncvwt.o
f95   -PIC  -xO5 -dalign -xlic_lib=sunperf -c dokhat.f -o dokhat.o
f95   -PIC  -xO5 -dalign -xlic_lib=sunperf -c inpip.f -o inpip.o
f95   -PIC  -xO5 -dalign -xlic_lib=sunperf -c ipippa.f -o ipippa.o
f95   -PIC  -xO5 -dalign -xlic_lib=sunperf -c iplace.f -o iplace.o
f95   -PIC  -xO5 -dalign -xlic_lib=sunperf -c k12hat.f -o k12hat.o
f95   -PIC  -xO5 -dalign -xlic_lib=sunperf -c kernel3d.f -o kernel3d.o
f95   -PIC  -xO5 -dalign -xlic_lib=sunperf -c khvc.f -o khvc.o

           vark1(count)=  area*((dmu1-(et1*et1))/(dn12*dn12))
                 ^                                            
"khvc.f", Line = 91, Column = 11: ERROR: A subscript must be a scalar integer expression.

           vark12(count)= area*((dmu3-(et1*et2))/(dn12*dn22))
                  ^                                           
"khvc.f", Line = 92, Column = 19: ERROR: A subscript must be a scalar integer expression.

           vark2(count)=  area*((dmu2-(et2*et2))/(dn22*dn22))
                 ^                                            
"khvc.f", Line = 93, Column = 11: ERROR: A subscript must be a scalar integer expression.

f90: COMPILE TIME 0.060000 SECONDS
f90: MAXIMUM FIELD LENGTH 4268166 DECIMAL WORDS
f90: 118 SOURCE LINES
f90: 3 ERRORS, 0 WARNINGS, 0 OTHER MESSAGES, 0 ANSI
make: *** [khvc.o] Error 1
ERROR: compilation failed for package `splancs'

2) for sgeostat:

Tue<15:26>library[83]#R CMD INSTALL sgeostat_1.0-15.tar.gz 
Installing *source* package `sgeostat' ...
 libs
f95   -PIC  -xO5 -dalign -xlic_lib=sunperf -c inplg.f -o inplg.o

                  S0=SIGN(1,Y(I+1)-Y(I))
                     ^                   
"inplg.f", Line = 48, Column = 22: ERROR: Improper intrinsic argument type or inconsistent types.

f90: COMPILE TIME 0.060000 SECONDS
f90: MAXIMUM FIELD LENGTH 4266118 DECIMAL WORDS
f90: 76 SOURCE LINES
f90: 1 ERRORS, 0 WARNINGS, 0 OTHER MESSAGES, 0 ANSI
make: *** [inplg.o] Error 1
ERROR: compilation failed for package `sgeostat'
  
Does anybody see what I am doing wrong? What flags am I missing for
the fortran compiler? (See below the config.site file I used to build
R.) 

Thank you in advance,
Giovanni

-- 

 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (501) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]


#! /bin/sh

### This file is part of R.
###
### R is free software; you can redistribute it and/or modify it under
### the terms of the GNU General Public License as published by the Free
### Software Foundation; either version 2 of the License, or (at your
### option) any later version.
###
### R is distributed in the hope that it will be useful, but WITHOUT ANY
### WARRANTY; without even the implied warranty of MERCHANTABILITY or
### FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public
### License for more details.
###
### You should have received a copy of the GNU General Public License
### along with R; if not, you can obtain it via the World Wide Web at
### `http://www.gnu.org/copyleft/gpl.html', or by writing to the Free
### Software Foundation, 59 Temple Place -- Suite 330, Boston, MA
### 02111-3307, USE.

# By means of this file you can (also) provide default values for the
# configuration process.  To set variables, uncomment the VAR=DEFAULT
# lines and set DEFAULT according to your needs.

# The command used to spool PostScript files to the printer.
# If unspecified, the system will look for either "lpr" or "lp"
# R_PRINTCMD=lpr

# The paper size for the local (PostScript) printer.
# It must either be left blank or set to one of "a4" or "letter".
# If left blank the system will use "a4".
  R_PAPERSIZE=letter

# The default behavior of R if it encounters EOF in batch mode.
# Set this to one of "--save" or "--no-save" depending whether you
# want automatic saving of `.RData' or not.
# R_BATCHSAVE=

# The command which runs the C compiler.
# If unspecified, a search is made for gcc and cc (in that order).
# To override this choice, specify the name of the command which runs
# the compiler here, for example `c89'.
  CC=cc

# Debugging and optimization options for the C compiler.
# Use this to specify CFLAGS for the version of the C compiler specified
# above.  If unspecified, defaults to "-g -O2" for gcc, and "-g" in all
# other cases.
  CFLAGS="-xO5 -dalign -xlic_lib=sunperf"

# The following additional CFLAGS to be used only in the main compilation
# and only in building shared libraries respectively. For example,
# on some systems one needs MAIN_CFLAGS=-pg when profiling.
# MAIN_CFLAGS=
# SHLIB_CFLAGS=

# Header file search directory (`-IDIR') and any other miscellaneous
# options for the C preprocessor and compiler.
# If unset defaults to `-I/usr/local/include'.
  CPPFLAGS="-I/usr/local/include -I/export/home/share/include"

# The command which runs the the FORTRAN compiler.
# If unspecified, a search is made for g77, f77, xlf, cf77, cft77,
# pgf77, fl32, af77, fort77, f90, xlf90, pgf90, epcf90, f95, xlf95,
# lf95, g95, and fc (in that order).  If none of these is found, f2c is
# used if found; otherwise, R cannot be compiled.  The search mechanism
# can be changed using the `--with-g77', `--with-f77', and `--with-f2c'
# command line options to configure.
  FC=f95

# Options for the FORTRAN compiler.
# Use this to specify FFLAGS for the version of the compiler specified
# above.  If unspecified, defaults to "-O2" for g77, and "" otherwise.
  FFLAGS="-xO5 -dalign -xlic_lib=sunperf"

# The following additional FFLAGS to be used only in the main compilation
# and only in building shared libraries respectively. For example,
# on some systems one needs MAIN_FFLAGS=-pg when profiling.
# MAIN_FFLAGS=
# SHLIB_FFLAGS=

# The command to be used to load the main R binary.
# This is usually the FORTRAN or C compiler, but the automatic choice
# can be overriden by means of this variable.
# MAIN_LD=

# The flags which are necessary for loading main program which will load
# DLLs at runtime.  HP-UX and Linux-elf are examples of platforms which
# use this.  These platforms are already taken care of by configure,
# and anything set here will be in addition unless MAIN_LD is given.
# For example, one can set flags for profiling here.
# MAIN_LDFLAGS=

# Any special flags which must be used when compiling C code to be
# turned into a shared library.  This is typically something like -fpic
# or -fPIC.  If this variable is left unspecified an attempt is made to
# automatically detect the correct value by configure.
# CPICFLAGS=

# The following variable can be used to provide any PIC flags for the
# FORTRAN compiler (if you are using one).  If not specified, the value
# of CPICFLAGS above is used.
# FPICFLAGS=

# The command to be used to load shared libraries which contain object
# files from a C or Fortran compiler only.  This is usually the C
# compiler or `ld', but the automatic choice can be overridden by means
# of this variable.
# SHLIB_LD=

# Any special flags which are required by the linker when creating
# shared libraries containing object files from a C or Fortran
# compiler only.  This is usually automatically detected by configure,
# and anything set here will be in addition unless SHLIB_LD is given.
# SHLIB_LDFLAGS=

# For `-l' and `-L' options to pass to the linker.
# `-L' options set here will be prepended to LD_LIBRARY_PATH at run time
# If unset defaults to `-L/usr/local/lib'.
  LIBS="-L/usr/local/lib -L/export/home/share/lib"

# The command which runs the C++ compiler.  It not specified, configure
# uses the values of the environment variables `CXX' or `CCC' if set,
# and then looks under the names `c++', `g++', `gcc', `CC', `cxx', and
# `cc++' (in that order).
# CXX=

# Options for the C++ compiler.
 CXXFLAGS="-O3"

# Any special flags which must be used when compiling C++ code to be
# turned into a shared library.  If this variable is left unspecified
# an attempt is made to automatically detect the correct value by
# configure.
# CXXPICFLAGS=


# The command to be used to load shared libraries which contain object
# files from a C++ compiler.  This is usually the C++ compiler/linker,
# but the automatic choice can be overridden by means of this variable.
# SHLIB_CXXLD=

# Any special flags which are required when creating shared libraries
# containing object files from a C++ compiler.  This is usually
# automatically detected by configure, and anything set here will be in
# addition unless SHLIB_CXXLD is given.
# SHLIB_CXXLDFLAGS=

# Tcl/Tk settings.
# Use TCLTK_LIBS for all ALL `-L' and `-l' options needed for linking
# against the Tcl and Tk library.
# TCLTK_LIBS=
# Use TCLTK_CPPFLAGS for all `-I' options needed for finding the tcl.h
# and tk.h headers.
# TCLTK_CPPFLAGS=

# make name.
# Set this if you want to use a make by another name, for example 
# if your GNU make is called `gmake', use MAKE=gmake.
# MAKE=
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 15 22:41:54 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 15 Jan 2002 21:41:54 +0000 (GMT)
Subject: [R] returned values of glim() in S PLus and glm() in R
In-Reply-To: <OF9951FFB3.32B0D32F-ON85256B42.0074F2CD@rtp.epa.gov>
Message-ID: <Pine.LNX.4.31.0201152141130.25066-100000@gannet.stats>

On Tue, 15 Jan 2002 Liu.Chunhua at epamail.epa.gov wrote:

> Dear Experts,
>
> In glim() of S Plus, one of the returned values is "var", the estimated
> variance matrix of coefficients. However, in glm() of R (there is no
> glim() in R), "var" is not one of the returned values. Anyone know what
> could I get the varience matrix of coefficients in glm() in R?

See vcov in packages MASS


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jan 15 22:43:01 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 15 Jan 2002 13:43:01 -0800 (PST)
Subject: [R] returned values of glim() in S PLus and glm() in R
In-Reply-To: <OF9951FFB3.32B0D32F-ON85256B42.0074F2CD@rtp.epa.gov>
Message-ID: <Pine.A41.4.43.0201151339450.49450-100000@homer34.u.washington.edu>

On Tue, 15 Jan 2002 Liu.Chunhua at epamail.epa.gov wrote:

> Dear Experts,
>
> In glim() of S Plus, one of the returned values is "var", the estimated
> variance matrix of coefficients. However, in glm() of R (there is no
> glim() in R), "var" is not one of the returned values. Anyone know what
> could I get the varience matrix of coefficients in glm() in R?
>

The  variance matrix can be obtained from the summary object
    summary(a.glm)$cov.scaled
or without scaling by the dispersion
    summary(a.glm)$cov.unscaled

If you just want the standard errors they are
    summary(a.glm)$coefficients[,2]


BTW: There's no glim() in Splus any more, either (it's in the 'Defunct'
library).

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-thapa-11 at alumni.uchicago.edu  Wed Jan 16 01:16:18 2002
From: s-thapa-11 at alumni.uchicago.edu (Suchandra Thapa)
Date: Tue, 15 Jan 2002 18:16:18 -0600
Subject: [R] reading dates
Message-ID: <20020115181618.A10225@hepcat>

    Is there any simple way of reading dates from a file?  I'm currently
reading dates in as characters and then converting them to POSIXlt objects.  
However I would like to know if there is a way of having read.table or scan
convert a field to a date-time class.

-- 
------------------------------------------------------------------

Suchandra S. Thapa 
s-thapa-11 at alumni.uchicago.edu

------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjhealy at arizona.edu  Wed Jan 16 01:12:54 2002
From: kjhealy at arizona.edu (Kieran Healy)
Date: Tue, 15 Jan 2002 17:12:54 -0700
Subject: [R] Postsript/Lattice interaction 
Message-ID: <3C44C586.C5E43678@arizona.edu>

Hello --

I'm using R-1.4.0 on a PC running SuSE Linux 7.1. Following Christian
Ritter's announcement this morning, I downloaded the new versions of
lattice and grid. I find that loading the lattice library causes
postcript() to include a blank first page when creating a file. Like
this:


> # Create regular postscript file of a plot
> postscript(file="anyplot.ps",horizontal=FALSE, paper="letter")
> plot(any.data)
> dev.off()

> # So far so good -- a one page plot.

> # Now load lattice library
> library(lattice)
  Loading required package: grid 
> 

> # Now try to plot again
> postscript(file="anyplot.ps",horizontal=FALSE, paper="letter")
NULL
> plot(any.data)
> dev.off()

Note the NULL output. The file "anyplot.ps" will now be two pages long
--- one blank page, then the proper plot. 

I'm not too familiar with lattice, so I'm not sure if this is a known
issue. A search through the help archives didn't turn anything up. 

Cheers,

Kieran

--
Kieran Healy, kjhealy at arizona.edu. (520) 621-3480.
Asst Professor, Sociology Dept, University of Arizona.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joanna at kea.grace.cri.nz  Wed Jan 16 01:57:20 2002
From: joanna at kea.grace.cri.nz (Joanna Atkin)
Date: Wed, 16 Jan 2002 13:57:20 +1300 (NZDT)
Subject: [R] orthogonal polynomials
Message-ID: <Pine.LNX.4.21.0201161353500.27570-100000@kea>

I have been trying to use R to get a polynomial least squares regression,
using lsfit, but the command 'poly' only accepts vectors as the argument,
and I am using a matrix. This works in S-plus; is there any way around
this problem in R?

Thank you.

Sincerely,

Joanna Atkin

Industrial Research Limited
Gracefielf
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Michael_Nielsen/Syd/Synergy.SYNERGY at synergy.com.au  Wed Jan 16 03:10:53 2002
From: Michael_Nielsen/Syd/Synergy.SYNERGY at synergy.com.au (Michael_Nielsen/Syd/Synergy.SYNERGY@synergy.com.au)
Date: Wed, 16 Jan 2002 13:10:53 +1100
Subject: [R] Subsetting data frames without a loop
Message-ID: <OF4A15D985.8359C519-ONCA256B43.000BCC2B@syd.syn.com.au>

I KNOW this should be easy, but I'm stuck.

My data frame consists of multiple observations from each of a number of
stations, and what I would like to do is create another data frame that
contains all the variables of the first, but only rows where a certain
variable is at its maximum for the station.

So, for example:

> my.df
   stn obs           v
1    1   1  0.26400396
2    2   1 -0.79194397
3    3   1  0.11924528
4    4   1  0.42596859
5    5   1 -0.50528235
6    1   2 -1.57524853
7    2   2  0.17762482
8    3   2 -0.83013770
9    4   2 -0.53203400
10   5   2 -2.71397275
11   1   3  0.26902053
12   2   3  2.01147908
13   3   3  0.73301643
14   4   3 -0.67333384
15   5   3 -1.36219773
16   1   4 -2.20342109
17   2   4  0.18941702
18   3   4  0.51492032
19   4   4  0.03597370
20   5   4 -1.43502366
21   1   5 -1.34589392
22   2   5  1.00389195
23   3   5 -0.21233041
24   4   5 -1.35141044
25   5   5 -0.02052348

> tapply(v,factor(stn),max)
          1           2           3           4           5
 0.26902053  2.01147908  0.73301643  0.42596859 -0.02052348

so my new data frame should contain (possibly multiple rows per station)

   stn obs           v
1    1   3  0.26902053
2    2   3  2.01147908
3    3   3  0.73301643
4    4   1  0.42596859
5    5   5 -0.02052348

Thanks in advance.

Regards,

Mike

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From do_joly at yahoo.ca  Wed Jan 16 03:36:55 2002
From: do_joly at yahoo.ca (Damien Joly)
Date: Tue, 15 Jan 2002 18:36:55 -0800 (PST)
Subject: [R] factorials
Message-ID: <20020116023655.53687.qmail@web14308.mail.yahoo.com>

I'm a total newbie at using R, and so there probably
is a better way to do this.  However, I couldn't find
one, and so maybe this will help someone.

I was calculating log-likelihoods using a multinomial
model, and found that for large n, prod(n:1) wouldn't
work to calculate factorials (e.g., prod(200:1) =
Inf).  The below function calculates the natural log
of a factorial (e.g. factorial(100) returns ln(100!)
or in other words 100! = exp(factorial(100)).  

factorial<-function(p) {P<-array(c(p:1),dim=c(p,1))
P<-log(P)
return(sum(P))}

Damien 

__________________________________________________


http://promo.yahoo.com/videomail/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Nick.Bond at sci.monash.edu.au  Wed Jan 16 04:08:56 2002
From: Nick.Bond at sci.monash.edu.au (Nick Bond)
Date: Wed, 16 Jan 2002 14:08:56 +1100
Subject: [R] exhaustive permutations
Message-ID: <3C44E0B8.296F7CC@sci.monash.edu.au>

Hello R-help Readers

I'm currently in the process of trying to write a permutation test
procedure for looking at differences between groups with a multivariate
data set (something equivalent to ANOSIM - analaysis of similarities for
those familiar with this test).  As with other permutation tests, for
cases where there are large numbers of possible permutations, randomly
sampling from these is appropriate, and can be done simply using
sample(vector_x) to create each random permutation.  

However, where sample sizes are small, it is more appropriate (I think)
to exhaustively calculate all possible permutations.  This is equivalent
to determining all possible ways of assigning n samples to each of k
groups = (kn)!/[(n!)^k*k!].  As a relative beginner at programming, I
suspect that writing the code to determine (and list) these permutations
is far beyond me.  I am wondering, therefore, whether anyone out there
has done somehting similar, or knows of any suitable routine to
calculate these permutations that they would be willing to share with
me.
Thanks in advance.
Nick

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Dr Nick Bond				 
Department of Biological Sciences 	 
Monash University (Clayton Campus)
Victoria, Australia, 3800
Ph: +61 3 9905 5606	Fax: +61 3 9905 5613
Email:   Nick.Bond at sci.monash.edu.au
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Wed Jan 16 04:39:53 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Tue, 15 Jan 2002 19:39:53 -0800 (PST)
Subject: [R] Postsript/Lattice interaction 
In-Reply-To: <3C44C586.C5E43678@arizona.edu>
Message-ID: <20020116033953.95454.qmail@web13904.mail.yahoo.com>



It's a known problem (with grid actually).


--- Kieran Healy <kjhealy at arizona.edu> wrote:
> Hello --
> 
> I'm using R-1.4.0 on a PC running SuSE Linux 7.1. Following Christian
> Ritter's announcement this morning, I downloaded the new versions of
> lattice and grid. I find that loading the lattice library causes
> postcript() to include a blank first page when creating a file. Like
> this:
> 
> 
> > # Create regular postscript file of a plot
> > postscript(file="anyplot.ps",horizontal=FALSE, paper="letter")
> > plot(any.data)
> > dev.off()
> 
> > # So far so good -- a one page plot.
> 
> > # Now load lattice library
> > library(lattice)
>   Loading required package: grid 
> > 
> 
> > # Now try to plot again
> > postscript(file="anyplot.ps",horizontal=FALSE, paper="letter")
> NULL
> > plot(any.data)
> > dev.off()
> 
> Note the NULL output. The file "anyplot.ps" will now be two pages long
> --- one blank page, then the proper plot. 
> 
> I'm not too familiar with lattice, so I'm not sure if this is a known
> issue. A search through the help archives didn't turn anything up. 
> 
> Cheers,
> 
> Kieran
> 
> --
> Kieran Healy, kjhealy at arizona.edu. (520) 621-3480.
> Asst Professor, Sociology Dept, University of Arizona.
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


__________________________________________________


http://promo.yahoo.com/videomail/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Wed Jan 16 06:55:41 2002
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Tue, 15 Jan 2002 21:55:41 -0800
Subject: [R] getting the response (dependent) from formula?
Message-ID: <000701c19e52$6eb1d6a0$01000001@godzilla>

I'm trying to build a vector (fitting systems of equations) and I'm having a
little trouble getting the response variables from a list of formulas...

bdgmodel   <- lbdg ~ d1sqr + ld1 + lhg
hgmodel    <- lhg ~ ht2 + lht + whc
inst       <- ~ d1sqr + ld1 + ht2 + lht + whc
systemeq  <- list( bdgmodel, hgmodel )

# manually generate the y matrix...
y <- cbind( matrix( lbdg ),
            matrix( log(hg) ) )

I would like to replace the previous line with something like...

# do the three stage least squares here...
for(i in 1:length( systemeq ) )
{
    bigy <- rbind( bigy, attr(terms(systemeq[[i]]),"variables")[2] )
}

... then go on to fit the system of equations, etc, etc, etc...

attr(terms(systemeq[[i]]),"variables")[2]

this statement returns
"lbdg()" - without the quotes, which I can't figure out how to use....

is there an equivalent to model.matrix( systemeq[[1]] )?

Thanks,
Jeff.




Jeff D. Hamann
Hamann, Donald & Associates, Inc.
PO Box 1421
Corvallis, Oregon USA 97339-1421
Bus. 541-753-7333
Cell. 541-740-5988
jeff_hamann at hamanndonald.com
www.hamanndonald.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 16 07:31:58 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 16 Jan 2002 06:31:58 +0000 (GMT)
Subject: [R] reading dates
In-Reply-To: <20020115181618.A10225@hepcat>
Message-ID: <Pine.LNX.4.31.0201160626160.25451-100000@gannet.stats>

On Tue, 15 Jan 2002, Suchandra Thapa wrote:

>     Is there any simple way of reading dates from a file?  I'm currently
> reading dates in as characters and then converting them to POSIXlt objects.
> However I would like to know if there is a way of having read.table or scan
> convert a field to a date-time class.

scan, no.
read.table, in principle in >=1.4.0, see the colClasses argument.

There are so many possible formats of dates that any attempt to automate
this is bound to lead to problems.

`In principle' because you need to set up as() to do the conversion (and
that is part of the methods package and not set up out-of-the-box).

What's the problem with what you are doing now?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 16 07:45:27 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 16 Jan 2002 06:45:27 +0000 (GMT)
Subject: [R] factorials
In-Reply-To: <20020116023655.53687.qmail@web14308.mail.yahoo.com>
Message-ID: <Pine.LNX.4.31.0201160634480.25451-100000@gannet.stats>

On Tue, 15 Jan 2002, Damien Joly wrote:

> I'm a total newbie at using R, and so there probably
> is a better way to do this.  However, I couldn't find
> one, and so maybe this will help someone.
>
> I was calculating log-likelihoods using a multinomial
> model, and found that for large n, prod(n:1) wouldn't
> work to calculate factorials (e.g., prod(200:1) =
> Inf).  The below function calculates the natural log
> of a factorial (e.g. factorial(100) returns ln(100!)
> or in other words 100! = exp(factorial(100)).
>
> factorial<-function(p) {P<-array(c(p:1),dim=c(p,1))
> P<-log(P)
> return(sum(P))}

1) Factorials rapidly get large, so you need to work directly with logs.
In this case 200! is larger than the largest representable number (on a
IEC60559 machine, as all current R implementations seem to be).

2) log(n!) = lgamma(n+1), so use lgamma (in preference to sum(log(n:2)):
you did not need an array, especially not a 1-dimensional one, as R
objects are vectors).

3) R-help has discussed this fairly recently and you might like to refer
back to the archive.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hortresearch.co.nz  Wed Jan 16 09:07:55 2002
From: P.Connolly at hortresearch.co.nz (Patrick Connolly)
Date: Wed, 16 Jan 2002 21:07:55 +1300 (NZDT)
Subject: [R] Postsript/Lattice interaction
In-Reply-To: <20020116033953.95454.qmail@web13904.mail.yahoo.com> from "Deepayan Sarkar" at Jan 15, 2002 07:39:53 PM
Message-ID: <200201160807.g0G87uw02545@biomat1.marc.hort.cri.nz>

According to Deepayan Sarkar:
|> 
|> 
|> 
|> It's a known problem (with grid actually).
|> 
|> 
|> --- Kieran Healy <kjhealy at arizona.edu> wrote:
|> > Hello --
|> > 
|> > I'm using R-1.4.0 on a PC running SuSE Linux 7.1. Following Christian
|> > Ritter's announcement this morning, I downloaded the new versions of
|> > lattice and grid. I find that loading the lattice library causes
|> > postcript() to include a blank first page when creating a file. Like

Now I'm confused again.  I had this problem with an earlier version of
grid but not with Version: 0.2 dated: 2000/11/07.  I did have to
specify bg = "white" when color = FALSE otherwise I'd get a pale grey
background but that's not a great problem.

Am I to understand that the fix that was made in 0.2 is now broken
again?  (I'm still using 1.3.1.)

best

-- 
*************************************************************
   ___      Patrick Connolly
 {~._.~}    HortResearch             Great minds discuss ideas;
 _( Y )_    Mt Albert                Average minds discuss events; 
(:_~*~_:)   Auckland                 Small minds discuss people.
 (_)-(_)    New Zealand                                    .... Anon
            Ph: +64-9 815 4200 x 7188
*************************************************************


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 16 08:27:20 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 16 Jan 2002 07:27:20 +0000 (GMT)
Subject: [R] Postsript/Lattice interaction
In-Reply-To: <200201160807.g0G87uw02545@biomat1.marc.hort.cri.nz>
Message-ID: <Pine.LNX.4.31.0201160725240.25567-100000@gannet.stats>

On Wed, 16 Jan 2002, Patrick Connolly wrote:

> According to Deepayan Sarkar:
> |>
> |>
> |>
> |> It's a known problem (with grid actually).
> |>
> |>
> |> --- Kieran Healy <kjhealy at arizona.edu> wrote:
> |> > Hello --
> |> >
> |> > I'm using R-1.4.0 on a PC running SuSE Linux 7.1. Following Christian
> |> > Ritter's announcement this morning, I downloaded the new versions of
> |> > lattice and grid. I find that loading the lattice library causes
> |> > postcript() to include a blank first page when creating a file. Like
>
> Now I'm confused again.  I had this problem with an earlier version of
> grid but not with Version: 0.2 dated: 2000/11/07.  I did have to
> specify bg = "white" when color = FALSE otherwise I'd get a pale grey
> background but that's not a great problem.
>
> Am I to understand that the fix that was made in 0.2 is now broken
> again?  (I'm still using 1.3.1.)

grid 0.5 is quite different from 0.2: it relies on changes made to the
graphics drivers shipped with R.

Yes, grid 0.5 gives an empty first page when opening a device. Paul
Murrell will fix it when he has time.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Schratz at ifgb.uni-hannover.de  Wed Jan 16 09:05:44 2002
From: Schratz at ifgb.uni-hannover.de (Cornelia Schratz)
Date: Wed, 16 Jan 2002 09:05:44 +0100
Subject: [R] memory problems
Message-ID: <3.0.6.32.20020116090544.00956cf0@oeko21.ifgb.uni-hannover.de>

Dear all,
I want to increase the memory of R (it is to small for my large data set).
However I find only instructions for UNIX. Could somebody write me how to
increase the memory for R running on WinNT, please?

Thanks in advance!

Sincerely,
Cornelia
******************************************************
Dipl.Ing.agr.
Cornelia Fr?mke
Lehrgebiet Bioinformatik
Fachbereich Gartenbau
Universitaet Hannover
Herrenhaeuser Str. 2
D-30419 Hannover

Tel.: 0511 762-5821
Email: Schratz at ifgb.uni-hannover.de

*****************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jan 16 09:37:27 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 16 Jan 2002 09:37:27 +0100
Subject: [R] memory problems
References: <3.0.6.32.20020116090544.00956cf0@oeko21.ifgb.uni-hannover.de>
Message-ID: <3C453BC7.97E826E5@statistik.uni-dortmund.de>



Cornelia Schratz wrote:
> 
> Dear all,
> I want to increase the memory of R (it is to small for my large data set).
> However I find only instructions for UNIX. Could somebody write me how to
> increase the memory for R running on WinNT, please?

See the "R for Windows FAQ", section 2.4, or ?Memory:

"(On Windows the --max-mem-size option sets the maximum memory
allocation: it has a minimum allowed value of 10M. This is intended to
catch attempts to allocate excessive amounts of memory which may cause
other processes to run out of resources. The default is the smaller of
the amount of physical RAM in the machine and 256Mb. See also
memory.limit.)"


Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jan 16 09:44:28 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 16 Jan 2002 09:44:28 +0100
Subject: [R] Subsetting data frames without a loop
References: <OF4A15D985.8359C519-ONCA256B43.000BCC2B@syd.syn.com.au>
Message-ID: <3C453D6C.37E7587C@statistik.uni-dortmund.de>



Michael_Nielsen/Syd/Synergy.SYNERGY at synergy.com.au wrote:
> 
> I KNOW this should be easy, but I'm stuck.
> 
> My data frame consists of multiple observations from each of a number of
> stations, and what I would like to do is create another data frame that
> contains all the variables of the first, but only rows where a certain
> variable is at its maximum for the station.
> 
> So, for example:
> 
> > my.df
>    stn obs           v
> 1    1   1  0.26400396
> 2    2   1 -0.79194397
> 3    3   1  0.11924528
> 4    4   1  0.42596859
> 5    5   1 -0.50528235
> 6    1   2 -1.57524853
> 7    2   2  0.17762482
> 8    3   2 -0.83013770
> 9    4   2 -0.53203400
> 10   5   2 -2.71397275
> 11   1   3  0.26902053
> 12   2   3  2.01147908
> 13   3   3  0.73301643
> 14   4   3 -0.67333384
> 15   5   3 -1.36219773
> 16   1   4 -2.20342109
> 17   2   4  0.18941702
> 18   3   4  0.51492032
> 19   4   4  0.03597370
> 20   5   4 -1.43502366
> 21   1   5 -1.34589392
> 22   2   5  1.00389195
> 23   3   5 -0.21233041
> 24   4   5 -1.35141044
> 25   5   5 -0.02052348
> 
> > tapply(v,factor(stn),max)
>           1           2           3           4           5
>  0.26902053  2.01147908  0.73301643  0.42596859 -0.02052348
> 
> so my new data frame should contain (possibly multiple rows per station)
> 
>    stn obs           v
> 1    1   3  0.26902053
> 2    2   3  2.01147908
> 3    3   3  0.73301643
> 4    4   1  0.42596859
> 5    5   5 -0.02052348


As a first idea:

  my.df[tapply(v,factor(stn), function(x) which(v==max(x))),]


Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Wed Jan 16 11:27:20 2002
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Wed, 16 Jan 2002 21:27:20 +1100
Subject: [R] exhaustive permutations
References: <3C44E0B8.296F7CC@sci.monash.edu.au>
Message-ID: <3C455587.5910FDFD@ozemail.com.au>

Nick Bond wrote:

> ...However, where sample sizes are small, it is more appropriate (I think)
> to exhaustively calculate all possible permutations.  This is equivalent
> to determining all possible ways of assigning n samples to each of k
> groups = (kn)!/[(n!)^k*k!].

Perhaps this will do the job.

Jim


-------------- next part --------------
insert.value<-function(vec,newval,pos) {
 if(pos == 1) return(c(newval,vec))
 lvec<-length(vec)
 if(pos > lvec) return(c(vec,newval))
 return(c(vec[1:pos-1],newval,vec[pos:lvec]))
}

permute<-function(elem) {
 if(!missing(elem)) {
  if(length(elem) == 2) return(matrix(c(elem,elem[2],elem[1]),nrow=2))
  last.matrix<-permute(elem[-1])
  dim.last<-dim(last.matrix)
  new.matrix<-matrix(0,nrow=dim.last[1]*(dim.last[2]+1),ncol=dim.last[2]+1)
  for(row in 1:(dim.last[1])) {
   for(col in 1:(dim.last[2]+1))
    new.matrix[row+(col-1)*dim.last[1],]<-insert.value(last.matrix[row,],elem[1],col)
  }
  return(new.matrix)
 }
 else cat("Usage: permute(elem)\n\twhere elem is a vector\n")
}

From ernesto at ipimar.pt  Wed Jan 16 13:22:29 2002
From: ernesto at ipimar.pt (Ernesto Jardim)
Date: 16 Jan 2002 12:22:29 +0000
Subject: [R] R for large data sets
In-Reply-To: <Pine.LNX.4.31.0201151940220.24828-100000@gannet.stats>
References: <Pine.LNX.4.31.0201151940220.24828-100000@gannet.stats>
Message-ID: <1011183749.18968.19.camel@gandalf>

Hi

I'm using some large datasets and I found the ROracle package to be of
great help.

If you have the chance to create a database in Oracle or MySQL with one
single table for your dataset, you can then use the ROracle package to
access the dataset. I found several advantages on that. 

I don't import the data into my environment. I use a small function (see
below) to access the dataset and because the result is a data.frame you
can use it as usually.

Your environment will not be to large and you'll have the ram memory
less full.

It's easier to select subsets with SQL than S/R language. 

Hope it helps

Regards

EJ

--//--

ora.fun <- function(){

        library(ROracle)
        m <- dbManager("Oracle")
        con <- dbConnect(m,user="user",password="password")
        dat <- quickSQL(con,"select ...")
        close(con)
        unload(m)
        dat

}

--//--

On Tue, 2002-01-15 at 19:43, Prof Brian Ripley wrote:
> On Tue, 15 Jan 2002, wei, xiaoyan wrote:
> 
> > As a part of our regular data analysis, I have to read in large data sets
> > with six columns and about a million rows. In Splus, this usually take a
> > couple of minutes. I just tried R, it seems take forever to use read.table()
> > to read in the data frame! It did not help much even though I specified
> > colClasses and nrows in read.table().
> >
> > How is R's ability to analyze large data sets? I used R on solaris 2.6 and I
> > used all default compilation flags when building the R package. Will it help
> > if I use some compilation flags with higher optimization level?
> 
> It will help to use R-patched, since I guess you are using 1.4.0.
> Also, look in the list archives, as I answered this more fully earlier
> today.
> 
> In either S-PLUS or R, scan would be a better choice for such a dataset.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Wed Jan 16 12:13:59 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 16 Jan 2002 12:13:59 +0100 (MET)
Subject: [R] getting the response (dependent) from formula?
In-Reply-To: <000701c19e52$6eb1d6a0$01000001@godzilla>
Message-ID: <Pine.LNX.4.21.0201161210360.31727-100000@artemis.imbe.med.uni-erlangen.de>


> I'm trying to build a vector (fitting systems of equations) and I'm having a
> little trouble getting the response variables from a list of formulas...
> 
> bdgmodel   <- lbdg ~ d1sqr + ld1 + lhg
> hgmodel    <- lhg ~ ht2 + lht + whc
> inst       <- ~ d1sqr + ld1 + ht2 + lht + whc
> systemeq  <- list( bdgmodel, hgmodel )

have a look at (e.g.) wilcox.test.formula:

wilcox.test.formula <-
function(formula, data, subset, na.action, ...)
{
    ...

    m <- match.call(expand.dots = FALSE)
    if(is.matrix(eval(m$data, parent.frame())))
        m$data <- as.data.frame(data)
    m[[1]] <- as.name("model.frame")
    m$... <- NULL
    mf <- eval(m, parent.frame())
   
    ...

    response <- attr(attr(mf, "terms"), "response")

    # And now you can get the response by mf[[-response]]

    myresp <- mf[[-response]]

    ...
}

Torsten

> 
> # manually generate the y matrix...
> y <- cbind( matrix( lbdg ),
>             matrix( log(hg) ) )
> 
> I would like to replace the previous line with something like...
> 
> # do the three stage least squares here...
> for(i in 1:length( systemeq ) )
> {
>     bigy <- rbind( bigy, attr(terms(systemeq[[i]]),"variables")[2] )
> }
> 
> ... then go on to fit the system of equations, etc, etc, etc...
> 
> attr(terms(systemeq[[i]]),"variables")[2]
> 
> this statement returns
> "lbdg()" - without the quotes, which I can't figure out how to use....
> 
> is there an equivalent to model.matrix( systemeq[[1]] )?
> 
> Thanks,
> Jeff.
> 
> 
> 
> 
> Jeff D. Hamann
> Hamann, Donald & Associates, Inc.
> PO Box 1421
> Corvallis, Oregon USA 97339-1421
> Bus. 541-753-7333
> Cell. 541-740-5988
> jeff_hamann at hamanndonald.com
> www.hamanndonald.com
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjw at celos.net  Wed Jan 16 13:45:36 2002
From: mjw at celos.net (Mark White)
Date: Wed, 16 Jan 2002 12:45:36 +0000
Subject: [R] Problems with .C - [Ff]ree()?
In-Reply-To: <20020115180429.G21381@celos.net>; from mark@celos.net on Tue, Jan 15, 2002 at 06:04:29PM +0000
References: <Pine.A41.4.43.0201141826120.57318-100000@homer27.u.washington.edu> <Pine.LNX.4.31.0201150756410.14906-100000@gannet.stats> <20020115180429.G21381@celos.net>
Message-ID: <20020116124536.C28405@celos.net>

Mark White writes:
> I also tried this: no problems for me with this small
> example, either, only dies when called from my R library
> code.  Maybe R needs to be doing something specific between
> the .C calls?  I'll see if I can extract a complete chunk of
> R code from my library which repeatably causes problems.

Ok, here's a pair which repeatably causes problems on this
machine.  I've spent a bit of time removing lines that don't
have any effect, but I expect it could be minimized further.

I've now tried on two other machines (one sparc, one other
NetBSD/i386 but with a different processor and release) and
it doesn't fail on either of them; and given the error
message, which I hadn't seen before, I'm starting to get
suspicious of the system's free() call.  However, here they
are, for posterity.

Mark <><

--- R_test.c

#include <stdio.h>
#include <stdlib.h>
#include "R.h"

void R_test (char **filename, int *dim, double *matrix)
{
	double *ptr;
	ptr = (double*)malloc(sizeof(double) * (160*160));
	if (ptr==NULL) {
		fprintf(stderr,"Ack\n");
		exit(0);
	}
	free(ptr);
}

--- R_test.R

Rtest2 <-
	function (arange) {
		im3d <- array(complex(160*160*14), c(160,160,length(arange)))
		j <- 0
		for (i in arange) {
			.C("R_test",as.character("test"),integer(100),double(160*160))
			j <- j+1
			im2d <- complex(160*160)
			im3d[,,j] <- im2d
		}
		return(im3d)
	}


Rtest <-
	function () {
		elem <- list()
		elem[[5]] <- array(double(1), c(256,160,14))
		for (i in 1:4) {
			elem[[i]] <- Rtest2(1:14)
		}
	}

--- session

$ R CMD SHLIB R_test.c

then, in a brand new R session with no saved data loaded:

> dyn.load("R_test.so")
> source("R_test.R")
> Rtest()
R.bin in free(): warning: junk pointer, too high to make sense.
zsh: segmentation fault (core dumped)  R

--- stack trace on the crash

Program received signal SIGSEGV, Segmentation fault.
0x80b4f83 in Rf_allocVector ()
(gdb) where
#0  0x80b4f83 in Rf_allocVector ()
#1  0x808779e in CPtrToRObj ()
#2  0x808c8cc in do_dotCode ()
#3  0x80972a4 in Rf_eval ()
#4  0x8098298 in do_begin ()
#5  0x80970fe in Rf_eval ()
#6  0x8097e90 in do_for ()
#7  0x80970fe in Rf_eval ()
#8  0x8098298 in do_begin ()
#9  0x80970fe in Rf_eval ()
#10 0x809766b in Rf_applyClosure ()
#11 0x809731a in Rf_eval ()
#12 0x80985d1 in applydefine ()
#13 0x8098a1f in do_set ()
#14 0x80970fe in Rf_eval ()
#15 0x8098298 in do_begin ()
#16 0x80970fe in Rf_eval ()
#17 0x8097e90 in do_for ()
#18 0x80970fe in Rf_eval ()
#19 0x8098298 in do_begin ()
#20 0x80970fe in Rf_eval ()
#21 0x809766b in Rf_applyClosure ()
#22 0x809731a in Rf_eval ()
#23 0x80b02d9 in R_ReplConsole ()
#24 0x80b0a46 in run_Rmainloop ()
#25 0x80b0a60 in Rf_mainloop ()
#26 0x81099c9 in main ()
#27 0x80582d0 in ___start ()

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MCCANNJ at britannic.co.uk  Wed Jan 16 13:58:29 2002
From: MCCANNJ at britannic.co.uk (MCCANN, JACKSON)
Date: Wed, 16 Jan 2002 12:58:29 -0000
Subject: [R] Subsetting data frames without a loop
Message-ID: <32992E789635D311AF8D0008C75D2D8B1114C26A@CO087>

Hi,

I've been working on data with a similar issue and ended up with the
following code. Given the test data in your post it seems to work.

	maxvals <- tapply(v,factor(stn),max)
	subset(my.df, v >= maxvals[stn])

However I've only been using R for a couple of weeks so comments on the
appropriateness of this solution or better/faster code please!

Regards Jackson

-----Original Message-----
From: Uwe Ligges [mailto:ligges at statistik.uni-dortmund.de]
Sent: 16 January 2002 08:44
To: Michael_Nielsen/Syd/Synergy.SYNERGY at synergy.com.au
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] Subsetting data frames without a loop



Michael_Nielsen/Syd/Synergy.SYNERGY at synergy.com.au wrote:
> 
> I KNOW this should be easy, but I'm stuck.
> 
> My data frame consists of multiple observations from each of a number of
> stations, and what I would like to do is create another data frame that
> contains all the variables of the first, but only rows where a certain
> variable is at its maximum for the station.
> 
> So, for example:
> 
> > my.df
>    stn obs           v
> 1    1   1  0.26400396
> 2    2   1 -0.79194397
> 3    3   1  0.11924528
> 4    4   1  0.42596859
> 5    5   1 -0.50528235
> 6    1   2 -1.57524853
> 7    2   2  0.17762482
> 8    3   2 -0.83013770
> 9    4   2 -0.53203400
> 10   5   2 -2.71397275
> 11   1   3  0.26902053
> 12   2   3  2.01147908
> 13   3   3  0.73301643
> 14   4   3 -0.67333384
> 15   5   3 -1.36219773
> 16   1   4 -2.20342109
> 17   2   4  0.18941702
> 18   3   4  0.51492032
> 19   4   4  0.03597370
> 20   5   4 -1.43502366
> 21   1   5 -1.34589392
> 22   2   5  1.00389195
> 23   3   5 -0.21233041
> 24   4   5 -1.35141044
> 25   5   5 -0.02052348
> 
> > tapply(v,factor(stn),max)
>           1           2           3           4           5
>  0.26902053  2.01147908  0.73301643  0.42596859 -0.02052348
> 
> so my new data frame should contain (possibly multiple rows per station)
> 
>    stn obs           v
> 1    1   3  0.26902053
> 2    2   3  2.01147908
> 3    3   3  0.73301643
> 4    4   1  0.42596859
> 5    5   5 -0.02052348


As a first idea:

  my.df[tapply(v,factor(stn), function(x) which(v==max(x))),]


Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

************
This email and any accompanying documents are intended only for the named recipient, are confidential and may be privileged. If you are not the intended recipient please notify us immediately by mailto:admin at britannic.co.uk and you must not copy, disclose or otherwise use this message. Unauthorised use is strictly prohibited and may be unlawful. The content of this email represents the view of the individual and not the company. The company reserves the right to monitor the content of all emails in accordance with lawful business practice.

Whilst attachments are virus checked before transmission, Britannic Assurance plc does not accept any liability in respect of any virus which is not detected.

Britannic Assurance plc, No.3002 is registered in England and maintains its registered office at 1 Wythall Green Way, Wythall, Birmingham B47 6WG.
Telephone: 0870 887 0001
Fax: 0870 887 0002
Website: www.britannicassurance.com

Britannic Assurance plc, Britannic Unit Linked Assurance Limited, Britannic ISA Managers Limited and Britannic Unit Trust Managers Limited are regulated by the Financial Services Authority. Each of these companies is a member of the Britannic marketing group which only advises on and sells its own life assurance, pension, unit trust and ISA products.
************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From d.orme at ic.ac.uk  Wed Jan 16 15:46:28 2002
From: d.orme at ic.ac.uk (David Orme)
Date: Wed, 16 Jan 2002 14:46:28 +0000
Subject: [R] list indexing
Message-ID: <a05100300b86b3aa57b67@[129.31.3.212]>

Hello

I've got a question about  list indexing. If anyone can help or point 
in the direction of some documentation, that'd be great. I've checked 
the Introduction to R and R language definition.

Say you have a list of vectors:

>  x_list(c("a","b","c"),c("a","b","c","d"),c("a","b"),c("a","b","c","d","e"))
>  x
[[1]]
[1] "a" "b" "c"

[[2]]
[1] "a" "b" "c" "d"

[[3]]
[1] "a" "b"

[[4]]
[1] "a" "b" "c" "d" "e"

Indexing single list components is fine using [[i]] and elements 
within using [[i]][j] but what if you want to get some information, 
for instance vector length or attributes of the components, across 
(or should that be down) the top level components. You can do it by 
looping across 1:length(list):

>  store <- numeric(0)
>  for(components in 1:length(x)) store <- c(store,length(x[[components]]))
>  store
[1] 3 4 2 5

I know it's only two lines of code. I  guess I'm wondering whether 
there is something that does what I'd expect from length(x[[1:4]]) if 
[[i]] allowed multiple indices.

Thanks,
David Orme.

-- 

---------------------------------
David Orme
Ph.D. Student - Macroevolution and diversity.

Department of Biology,
Imperial College,
Silwood Park,
Ascot,
Berkshire.
UK.
SL5 7PY

Phone:	(020) 759 42446	(wk.)
	(01344) 891539	(hm.)

E-mail:	d.orme at ic.ac.uk
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020116/373f5b40/attachment.html

From david.meyer at ci.tuwien.ac.at  Wed Jan 16 15:52:21 2002
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Wed, 16 Jan 2002 15:52:21 +0100
Subject: [R] list indexing
References: <a05100300b86b3aa57b67@[129.31.3.212]>
Message-ID: <3C4593A5.C3AD6A93@ci.tuwien.ac.at>

David Orme wrote:
> 
> Hello
> 
> I've got a question about  list indexing. If anyone can help or point
> in the direction of some documentation, that'd be great. I've checked
> the Introduction to R and R language definition.
> 
> Say you have a list of vectors:
> 
> >
> x_list(c("a","b","c"),c("a","b","c","d"),c("a","b"),c("a","b","c","d","e"))
> > x
> [[1]]
> [1] "a" "b" "c"
> 
> [[2]]
> [1] "a" "b" "c" "d"
> 
> [[3]]
> [1] "a" "b"
> 
> [[4]]
> [1] "a" "b" "c" "d" "e"
> Indexing single list components is fine using [[i]] and elements
> within using [[i]][j] but what if you want to get some information,
> for instance vector length or attributes of the components, across (or
> should that be down) the top level components. You can do it by
> looping across 1:length(list):
> 
> > store <- numeric(0)
> > for(components in 1:length(x)) store <-
> c(store,length(x[[components]]))
> > store
> [1] 3 4 2 5
> I know it's only two lines of code. I  guess I'm wondering whether
> there is something that does what I'd expect from length(x[[1:4]]) if
> [[i]] allowed multiple indices.

sapply(components,length)

-d

> 
> Thanks,
> David Orme.

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Wed Jan 16 15:56:22 2002
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Wed, 16 Jan 2002 15:56:22 +0100
Subject: [R] list indexing
References: <a05100300b86b3aa57b67@[129.31.3.212]>
Message-ID: <3C459496.D9CF3ACB@ci.tuwien.ac.at>

David Orme wrote:
> 
> Hello
> 
> I've got a question about  list indexing. If anyone can help or point
> in the direction of some documentation, that'd be great. I've checked
> the Introduction to R and R language definition.
> 
> Say you have a list of vectors:
> 
> >
> x_list(c("a","b","c"),c("a","b","c","d"),c("a","b"),c("a","b","c","d","e"))
> > x
> [[1]]
> [1] "a" "b" "c"
> 
> [[2]]
> [1] "a" "b" "c" "d"
> 
> [[3]]
> [1] "a" "b"
> 
> [[4]]
> [1] "a" "b" "c" "d" "e"
> Indexing single list components is fine using [[i]] and elements
> within using [[i]][j] but what if you want to get some information,
> for instance vector length or attributes of the components, across (or
> should that be down) the top level components. You can do it by
> looping across 1:length(list):
> 
> > store <- numeric(0)
> > for(components in 1:length(x)) store <-
> c(store,length(x[[components]]))
> > store
> [1] 3 4 2 5
> I know it's only two lines of code. I  guess I'm wondering whether
> there is something that does what I'd expect from length(x[[1:4]]) if
> [[i]] allowed multiple indices.

sorry:

sapply(x,length)

of course.

-d

> 
> Thanks,
> David Orme.

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-thapa-11 at alumni.uchicago.edu  Wed Jan 16 16:26:40 2002
From: s-thapa-11 at alumni.uchicago.edu (Suchandra Thapa)
Date: Wed, 16 Jan 2002 09:26:40 -0600
Subject: [R] reading dates
In-Reply-To: <Pine.LNX.4.31.0201160626160.25451-100000@gannet.stats>; from ripley@stats.ox.ac.uk on Wed, Jan 16, 2002 at 06:31:58AM +0000
References: <20020115181618.A10225@hepcat> <Pine.LNX.4.31.0201160626160.25451-100000@gannet.stats>
Message-ID: <20020116092640.A14297@hepcat>

On Wed, Jan 16, 2002 at 06:31:58AM +0000, Prof Brian Ripley wrote:
> There are so many possible formats of dates that any attempt to automate
> this is bound to lead to problems.

    The date is currently in %Y-%m-%d %H:%M format.  
     
> `In principle' because you need to set up as() to do the conversion (and
> that is part of the methods package and not set up out-of-the-box).

    Okay, I'm trying that but seem to be having some difficulties.  
Using this:

setClass('POSIXlt', representation(sec="numeric", 
                                   min="numeric",
                                   hour="numeric",
                                   mday="numeric",
                                   mon="numeric",
                                   year="numeric",
                                   wday="numeric",
                                   yday="numeric",
                                   isdst="numeric"))
setAs('POSIXlt', 'character', function(from) strptime(from, format="%Y-%m-%d %H:%M"))

allows the read.table to work and read the file in however I can't seem
to get individual dates. After running

foo <- read.table(file="output", as.is=c(T, F), colClasses=c('POSIXlt', 'double'), col.names=c('date', 'price'))

foo$date[1] gives all the second fields instead the first date.

> What's the problem with what you are doing now?
    
    Primarily that it doesn't work very well.  Also I'm trying to simplify
things as much as possible so that the person the script is being written 
for can understand it easily.

-- 
------------------------------------------------------------------

Suchandra S. Thapa 
s-thapa-11 at alumni.uchicago.edu

------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Jan 16 16:31:42 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 16 Jan 2002 10:31:42 -0500 (EST)
Subject: [R] acf conf intervals +speed
In-Reply-To: <20020115212502.36233.qmail@web20308.mail.yahoo.com>
Message-ID: <Pine.LNX.4.30.0201161025410.14171-100000@bolker.zoo.ufl.edu>


  A couple of questions:
  - have you looked at the code/etc. available under acf() and plot.acf()
in the ts library?  Does it do what you want? (My guess is that it
doesn't, that it provides confidence intervals on the null ACF under two
different hypotheses, not confidence intervals on the estimates
themselves.)  Computing the ACF itself is certainly faster using the
built-in acf(), but that may not be what's taking your time. Without
looking *too* closely at the code, I wonder if you can use (1) fft() or
(2) filter() to speed things up.

  Ben Bolker


On Tue, 15 Jan 2002, Brian Scholl wrote:

> Hi,
>
> I'm trying to obtain confidence intervals for auto and
> cross correlation estimates.  I've adapted code made
> available by Stock and Watson that uses the Bartlett
> Kernel and the delta method.  In R it runs really,
> really slow because of the loops it uses and I have 9
> series that I'd like to examine (81 total
> combinations).  It was easy enough to replace one of
> the while loops with a vector operation, but the
> others are tough.  Anyone have either alternative code
> or a suggestion for how to replace the other loops
> below?
>
> Thanks
>
>
>
> initc<-function(x,y){
> n<-min(length(x),length(y))
>
> # -- Demean -- @
> xm<-x-mean(x)
> ym<-y-mean(y)
>
> # -- Cross Products -- @
>
> a<-xm*ym
> b<-xm*xm
> c<-ym*ym
>
> cx0<-mean(b)
> cy0<-mean(c)
> list(cx0=cx0,cy0=cy0)
> }
>
>
>
>
> corse<-function(x,y,cx0,cy0,mix=1){
> # FROM code by stock and watson from HOM paper
> #corse.prc
>  #  10/28/97, mww
> #   Compute Correlation between x and y
>  #  Also compute se of estimated cor using
>   # HAC-Delta Method Calculation
>
>   n<-min(length(x),length(y))
> # -- Demean -- @
> xm<-x-mean(x)
> ym<-y-mean(y)
>
> # -- Cross Products -- @
> a<-xm*ym
> b<-xm*xm
> c<-ym*ym
>
> ma<-mean(a)
> mb<-mean(b)
> mc<-mean(c)
> cor<-ma/(sqrt(cx0*cy0))
> if (mix==1){
> 	cor<-ma/(sqrt(mb*mc))
> }
>
> # -- Compute SE of Cor using VAR Spectral Est. and
> delta method -- @
> am<-a-mean(a)
> bm<-b-mean(b)
> cm<-c-mean(c)
> d<-cbind(ts(am),ts(bm),ts(cm))
>
> # Form Bartlett Kernel @
> kern<-matrix(0,n+1,1)
> ii <- 0
> seq<-(0:n)
> kern<-1-(seq/(n+1))
> #while (ii <= n){
> # kern[ii+1]<-(1-ii/(n+1))
> # ii<-ii+1
> #}
> lam<-(t(d) %*% d)/nrow(d)
> vd<-kern[1]*lam
>
> ii<-1
> #while (ii <=n){
> while (ii < (n-1)){
>  lam<-(t(d[(1+ii):nrow(d),]) %*% d[1:(nrow(d)-ii),]) /
> nrow(d)
>  vd<-vd+kern[ii+1]*(lam+t(lam))
>  ii<-ii+1
> }
> lam<-(t(d[(1+ii):nrow(d),]) %o% d[1:(nrow(d)-ii),]) /
> nrow(d)
> lam<-lam[1,,]
> vd<-vd+kern[ii+1]*(lam+t(lam))
>
> vd<-vd/nrow(d)
>
> # Delta Method @
> g<-matrix(0,3,1)
> g[1]<-1/(sqrt(mb*mc))    # Grad wrt a @
> g[2]<-(-0.5)*(cor/mb)    # Grad wrt b @
> g[3]<-(-0.5)*(cor/mc)    # Grad wrt c @
>
> vcor<-t(g)%*%vd%*%g
> secor<-sqrt(vcor)
>
> list(cor=cor,secor=secor)
> }
>
> acf2<-function(x,y=x,lagmax=(length(x)-10),m="ACF",mix=0){
> 	L<-min(length(x),length(y))
> 	cormat<-matrix(0,lagmax,1)
> 	secormat<-matrix(0,lagmax,1)
>
>    x<-x[1:L]
> 	y<-y[1:L]
> 	c0<-initc(x,y)
> 	cx0<-c0$cx0
> 	cy0<-c0$cy0
> 	for (i in 1:lagmax){
>   	 x1<-x[1:(L-i)]
>   	 y1<-y[(i+1):L]
>   	 c<-corse(x1,y1,cx0,cy0)
>   	 cormat[i]<-c$cor
>   	 secormat[i]<-c$secor
> 	}
>
> 	stop<-lagmax-sum(is.na(cormat))
>
> plot(1:stop,cormat[1:stop],type="l",main=m,xlab="lag",ylab="ACF")
>
> lines(cormat[1:stop]+2*secormat[1:stop],col="red",lty=2)
>
> lines(cormat[1:stop]-2*secormat[1:stop],col="red",lty=2)
> 	lines(matrix(0,lagmax,1),col="black")
> 	cv<-1.96/sqrt(L)
> 	lines(matrix(cv,lagmax,1),col="blue",lty=2)
>
> 	list(cormat=cormat,secormat=secormat)
> }
>
>
>
>
> __________________________________________________
>
>
> http://promo.yahoo.com/videomail/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Jan 16 17:21:14 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 16 Jan 2002 17:21:14 +0100 (MET)
Subject: [R] R for large data sets
In-Reply-To: <1011183749.18968.19.camel@gandalf>
Message-ID: <Pine.OSF.3.96.1020116171659.18540A-100000@ija.csic.es>

This is really elegant, Ernesto. The only problem is
geting used to the database language also. Do you 
have a sort of small dictionary R-MySQL
for the (few) subseting procedures that we
commonly use in R? For example,
how would you say mat[mat[,1]>0,] in
MySQL? 

Agus

On 16 Jan 2002, Ernesto Jardim wrote:

> Hi
> 
> I'm using some large datasets and I found the ROracle package to be of
> great help.
> 
> If you have the chance to create a database in Oracle or MySQL with one
> single table for your dataset, you can then use the ROracle package to
> access the dataset. I found several advantages on that. 
> 
> I don't import the data into my environment. I use a small function (see
> below) to access the dataset and because the result is a data.frame you
> can use it as usually.
> 
> Your environment will not be to large and you'll have the ram memory
> less full.
> 
> It's easier to select subsets with SQL than S/R language. 
> 
> Hope it helps
> 
> Regards
> 
> EJ
> 
> --//--
> 
> ora.fun <- function(){
> 
>         library(ROracle)
>         m <- dbManager("Oracle")
>         con <- dbConnect(m,user="user",password="password")
>         dat <- quickSQL(con,"select ...")
>         close(con)
>         unload(m)
>         dat
> 
> }
> 
> --//--
> 
> On Tue, 2002-01-15 at 19:43, Prof Brian Ripley wrote:
> > On Tue, 15 Jan 2002, wei, xiaoyan wrote:
> > 
> > > As a part of our regular data analysis, I have to read in large data sets
> > > with six columns and about a million rows. In Splus, this usually take a
> > > couple of minutes. I just tried R, it seems take forever to use read.table()
> > > to read in the data frame! It did not help much even though I specified
> > > colClasses and nrows in read.table().
> > >
> > > How is R's ability to analyze large data sets? I used R on solaris 2.6 and I
> > > used all default compilation flags when building the R package. Will it help
> > > if I use some compilation flags with higher optimization level?
> > 
> > It will help to use R-patched, since I guess you are using 1.4.0.
> > Also, look in the list archives, as I answered this more fully earlier
> > today.
> > 
> > In either S-PLUS or R, scan would be a better choice for such a dataset.
> > 
> > -- 
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Jan 16 17:25:06 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 16 Jan 2002 08:25:06 -0800 (PST)
Subject: [R] exhaustive permutations
In-Reply-To: <3C44E0B8.296F7CC@sci.monash.edu.au>
Message-ID: <Pine.A41.4.44.0201160819590.48940-100000@homer26.u.washington.edu>

On Wed, 16 Jan 2002, Nick Bond wrote:

> However, where sample sizes are small, it is more appropriate (I think)
> to exhaustively calculate all possible permutations.  This is equivalent
> to determining all possible ways of assigning n samples to each of k
> groups = (kn)!/[(n!)^k*k!].  As a relative beginner at programming, I
> suspect that writing the code to determine (and list) these permutations
> is far beyond me.  I am wondering, therefore, whether anyone out there
> has done somehting similar, or knows of any suitable routine to
> calculate these permutations that they would be willing to share with
> me.

The k=2 case is discussed in the first two "Programmers' Niche" columns of
the R Newsletter. This should provide a starting point.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Wed Jan 16 17:18:32 2002
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Wed, 16 Jan 2002 11:18:32 -0500
Subject: [R] inconsistent(?) behavior of as.vector
Message-ID: <OF280334CF.00BB180B-ON85256B43.0057851F@rtp.epa.gov>

According to the documentation for as.vector, it removes all attributes
from its argument ("the attributes of x are removed").  This does not
seem to be the case for a list with a dim attribute.  Consider the
following code:

numarray <- vector("numeric",4)
dim(numarray) <- c(2,2)
dimnames(numarray) <- list(c("A","B"),c("C","D"))
numarray[] <- 1:4

listarray <- vector("list",4)
dim(listarray) <- c(2,2)
dimnames(listarray) <- list(c("A-","A+"),c("B-","B+"))
listarray[["A+","B-"]] <- A ~ 1
listarray[["A+","B+"]] <- A + B ~ 1

## You get the idea for the values of the elements of listarray

Now, what are the attributes in each case?
> print(attributes(numarray))
$dim
[1] 2 2

$dimnames
$dimnames[[1]]
[1] "A" "B"

$dimnames[[2]]
[1] "C" "D"

> print(attributes(listarray))
$dim
[1] 2 2

$dimnames
$dimnames[[1]]
[1] "A-" "A+"

$dimnames[[2]]
[1] "B-" "B+"

So, both objects have the attributes I expected.  However, applying as.vector does not remove the atrributes from the object based on a list:

> print(str(as.vector(numarray)))
 num [1:4] 1 2 3 4
NULL
> print(str(as.vector(listarray)))
List of 4
 $ : NULL
 $ :Class 'formula' length 3 A ~ 1
  .. ..- attr(*, ".Environment")=length 9 <environment>
 $ : NULL
 $ :Class 'formula' length 3 A + B ~ 1
  .. ..- attr(*, ".Environment")=length 9 <environment>
 - attr(*, "dim")= int [1:2] 2 2
 - attr(*, "dimnames")=List of 2
  ..$ : chr [1:2] "A-" "A+"
  ..$ : chr [1:2] "B-" "B+"
NULL

I am working with version 1.4.0 (not patched) on Linux (RedHat 7.1 on
i686), but the same thing happens in 1.3.1 under Windows 98.  Is this
intended behavior (in which case, the documentation for as.vector should
probably be changed), or a bug?


R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Wed Jan 16 18:55:23 2002
From: ernesto at ipimar.pt (=?ISO-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Wed, 16 Jan 2002 17:55:23 +0000
Subject: [R] R for large data sets
References: <Pine.OSF.3.96.1020116171659.18540A-100000@ija.csic.es>
Message-ID: <3C45BE8B.4090706@ipimar.pt>

Something like

select 'column' from mat where 'column' > 0

The difference is that in sql tables, columns must have names, so 
instead of using a relative reference like mat[,1] you should use the 
name of that column. The rest is very intuitive. The SQL language is 
more "human like" than R/S so it becomes easier to work with subsets.

I think that everyone that works with the S language will learn the 
basics of SQL very fast and will gain a lot in working with large datasets.

Take a look at http://www.sqlcourse.com

Regards

EJ

Agustin Lobo wrote:

>This is really elegant, Ernesto. The only problem is
>geting used to the database language also. Do you 
>have a sort of small dictionary R-MySQL
>for the (few) subseting procedures that we
>commonly use in R? For example,
>how would you say mat[mat[,1]>0,] in
>MySQL? 
>
>Agus
>
>On 16 Jan 2002, Ernesto Jardim wrote:
>
>>Hi
>>
>>I'm using some large datasets and I found the ROracle package to be of
>>great help.
>>
>>If you have the chance to create a database in Oracle or MySQL with one
>>single table for your dataset, you can then use the ROracle package to
>>access the dataset. I found several advantages on that. 
>>
>>I don't import the data into my environment. I use a small function (see
>>below) to access the dataset and because the result is a data.frame you
>>can use it as usually.
>>
>>Your environment will not be to large and you'll have the ram memory
>>less full.
>>
>>It's easier to select subsets with SQL than S/R language. 
>>
>>Hope it helps
>>
>>Regards
>>
>>EJ
>>
>>--//--
>>
>>ora.fun <- function(){
>>
>>        library(ROracle)
>>        m <- dbManager("Oracle")
>>        con <- dbConnect(m,user="user",password="password")
>>        dat <- quickSQL(con,"select ...")
>>        close(con)
>>        unload(m)
>>        dat
>>
>>}
>>
>>--//--
>>
>>On Tue, 2002-01-15 at 19:43, Prof Brian Ripley wrote:
>>
>>>On Tue, 15 Jan 2002, wei, xiaoyan wrote:
>>>
>>>>As a part of our regular data analysis, I have to read in large data sets
>>>>with six columns and about a million rows. In Splus, this usually take a
>>>>couple of minutes. I just tried R, it seems take forever to use read.table()
>>>>to read in the data frame! It did not help much even though I specified
>>>>colClasses and nrows in read.table().
>>>>
>>>>How is R's ability to analyze large data sets? I used R on solaris 2.6 and I
>>>>used all default compilation flags when building the R package. Will it help
>>>>if I use some compilation flags with higher optimization level?
>>>>
>>>It will help to use R-patched, since I guess you are using 1.4.0.
>>>Also, look in the list archives, as I answered this more fully earlier
>>>today.
>>>
>>>In either S-PLUS or R, scan would be a better choice for such a dataset.
>>>
>>>-- 
>>>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>>>University of Oxford,             Tel:  +44 1865 272861 (self)
>>>1 South Parks Road,                     +44 1865 272860 (secr)
>>>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>>
>>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>>Send "info", "help", or "[un]subscribe"
>>>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>>>
>>
>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>Send "info", "help", or "[un]subscribe"
>>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 16 18:03:00 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 16 Jan 2002 17:03:00 +0000 (GMT Standard Time)
Subject: [R] R for large data sets
In-Reply-To: <3C45BE8B.4090706@ipimar.pt>
Message-ID: <Pine.WNT.4.31.0201161656470.832-100000@gannet>

On Wed, 16 Jan 2002, [ISO-8859-1] Jos Ernesto Jardim wrote:

> Something like
>
> select 'column' from mat where 'column' > 0
>
> The difference is that in sql tables, columns must have names, so
> instead of using a relative reference like mat[,1] you should use the
> name of that column. The rest is very intuitive. The SQL language is
> more "human like" than R/S so it becomes easier to work with subsets.

The difference I believe is that is not the same operation as the S
indexing asked for, which shows that something is not intuitive!  I think
you want

select * from mat where 'column' > 0

but beware that whereas S will do the necessary coercions for ` > ', many
SQL dialects will not.

> I think that everyone that works with the S language will learn the
> basics of SQL very fast and will gain a lot in working with large datasets.

Possibly.  I find S indexing a lot more powerful, and a lot faster for
datasets that fit into S's memory (and that is pretty large: we regularly
use 100Mb datasets).

> Take a look at http://www.sqlcourse.com
>
> Regards
>
> EJ
>
> Agustin Lobo wrote:
>
> >This is really elegant, Ernesto. The only problem is
> >geting used to the database language also. Do you
> >have a sort of small dictionary R-MySQL
> >for the (few) subseting procedures that we
> >commonly use in R? For example,
> >how would you say mat[mat[,1]>0,] in
> >MySQL?
> >
> >Agus
> >
> >On 16 Jan 2002, Ernesto Jardim wrote:
> >
> >>Hi
> >>
> >>I'm using some large datasets and I found the ROracle package to be of
> >>great help.
> >>
> >>If you have the chance to create a database in Oracle or MySQL with one
> >>single table for your dataset, you can then use the ROracle package to
> >>access the dataset. I found several advantages on that.
> >>
> >>I don't import the data into my environment. I use a small function (see
> >>below) to access the dataset and because the result is a data.frame you
> >>can use it as usually.
> >>
> >>Your environment will not be to large and you'll have the ram memory
> >>less full.
> >>
> >>It's easier to select subsets with SQL than S/R language.
> >>
> >>Hope it helps
> >>
> >>Regards
> >>
> >>EJ
> >>
> >>--//--
> >>
> >>ora.fun <- function(){
> >>
> >>        library(ROracle)
> >>        m <- dbManager("Oracle")
> >>        con <- dbConnect(m,user="user",password="password")
> >>        dat <- quickSQL(con,"select ...")
> >>        close(con)
> >>        unload(m)
> >>        dat
> >>
> >>}
> >>
> >>--//--
> >>
> >>On Tue, 2002-01-15 at 19:43, Prof Brian Ripley wrote:
> >>
> >>>On Tue, 15 Jan 2002, wei, xiaoyan wrote:
> >>>
> >>>>As a part of our regular data analysis, I have to read in large data sets
> >>>>with six columns and about a million rows. In Splus, this usually take a
> >>>>couple of minutes. I just tried R, it seems take forever to use read.table()
> >>>>to read in the data frame! It did not help much even though I specified
> >>>>colClasses and nrows in read.table().
> >>>>
> >>>>How is R's ability to analyze large data sets? I used R on solaris 2.6 and I
> >>>>used all default compilation flags when building the R package. Will it help
> >>>>if I use some compilation flags with higher optimization level?
> >>>>
> >>>It will help to use R-patched, since I guess you are using 1.4.0.
> >>>Also, look in the list archives, as I answered this more fully earlier
> >>>today.
> >>>
> >>>In either S-PLUS or R, scan would be a better choice for such a dataset.
> >>>
> >>>--
> >>>Brian D. Ripley,                  ripley at stats.ox.ac.uk
> >>>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> >>>University of Oxford,             Tel:  +44 1865 272861 (self)
> >>>1 South Parks Road,                     +44 1865 272860 (secr)
> >>>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >>>
> >>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> >>>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >>>Send "info", "help", or "[un]subscribe"
> >>>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >>>
> >>
> >>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> >>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >>Send "info", "help", or "[un]subscribe"
> >>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Wed Jan 16 19:18:37 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Wed, 16 Jan 2002 13:18:37 -0500 (EST)
Subject: [R] R for large data sets
In-Reply-To: <3C45BE8B.4090706@ipimar.pt>
Message-ID: <Pine.LNX.4.21L1.0201161317160.10047-100000@hm269-26876.socsci.unc.edu>

I agree with this thread, but would also note that there's a very powerful
open-source database server available that's free (unlike Oracle) and
quite powerful (unlke MySQL [IMHO]). PostgreSQL (www.postgresql.org) is
what I use for a database backend, and it's amazingly impressive. I'm
working, at the moment, with a relational database that has, in total,
over 10 million records of different sorts, and it's quite serviceable.

Just my 2c.

ap

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


On Wed, 16 Jan 2002, [ISO-8859-1] Jos Ernesto Jardim wrote:

> Something like
> 
> select 'column' from mat where 'column' > 0
> 
> The difference is that in sql tables, columns must have names, so 
> instead of using a relative reference like mat[,1] you should use the 
> name of that column. The rest is very intuitive. The SQL language is 
> more "human like" than R/S so it becomes easier to work with subsets.
> 
> I think that everyone that works with the S language will learn the 
> basics of SQL very fast and will gain a lot in working with large datasets.
> 
> Take a look at http://www.sqlcourse.com
> 
> Regards
> 
> EJ
> 
> Agustin Lobo wrote:
> 
> >This is really elegant, Ernesto. The only problem is
> >geting used to the database language also. Do you 
> >have a sort of small dictionary R-MySQL
> >for the (few) subseting procedures that we
> >commonly use in R? For example,
> >how would you say mat[mat[,1]>0,] in
> >MySQL? 
> >
> >Agus
> >
> >On 16 Jan 2002, Ernesto Jardim wrote:
> >
> >>Hi
> >>
> >>I'm using some large datasets and I found the ROracle package to be of
> >>great help.
> >>
> >>If you have the chance to create a database in Oracle or MySQL with one
> >>single table for your dataset, you can then use the ROracle package to
> >>access the dataset. I found several advantages on that. 
> >>
> >>I don't import the data into my environment. I use a small function (see
> >>below) to access the dataset and because the result is a data.frame you
> >>can use it as usually.
> >>
> >>Your environment will not be to large and you'll have the ram memory
> >>less full.
> >>
> >>It's easier to select subsets with SQL than S/R language. 
> >>
> >>Hope it helps
> >>
> >>Regards
> >>
> >>EJ
> >>
> >>--//--
> >>
> >>ora.fun <- function(){
> >>
> >>        library(ROracle)
> >>        m <- dbManager("Oracle")
> >>        con <- dbConnect(m,user="user",password="password")
> >>        dat <- quickSQL(con,"select ...")
> >>        close(con)
> >>        unload(m)
> >>        dat
> >>
> >>}
> >>
> >>--//--
> >>
> >>On Tue, 2002-01-15 at 19:43, Prof Brian Ripley wrote:
> >>
> >>>On Tue, 15 Jan 2002, wei, xiaoyan wrote:
> >>>
> >>>>As a part of our regular data analysis, I have to read in large data sets
> >>>>with six columns and about a million rows. In Splus, this usually take a
> >>>>couple of minutes. I just tried R, it seems take forever to use read.table()
> >>>>to read in the data frame! It did not help much even though I specified
> >>>>colClasses and nrows in read.table().
> >>>>
> >>>>How is R's ability to analyze large data sets? I used R on solaris 2.6 and I
> >>>>used all default compilation flags when building the R package. Will it help
> >>>>if I use some compilation flags with higher optimization level?
> >>>>
> >>>It will help to use R-patched, since I guess you are using 1.4.0.
> >>>Also, look in the list archives, as I answered this more fully earlier
> >>>today.
> >>>
> >>>In either S-PLUS or R, scan would be a better choice for such a dataset.
> >>>
> >>>-- 
> >>>Brian D. Ripley,                  ripley at stats.ox.ac.uk
> >>>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> >>>University of Oxford,             Tel:  +44 1865 272861 (self)
> >>>1 South Parks Road,                     +44 1865 272860 (secr)
> >>>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >>>
> >>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> >>>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >>>Send "info", "help", or "[un]subscribe"
> >>>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >>>
> >>
> >>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> >>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >>Send "info", "help", or "[un]subscribe"
> >>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >>
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Wed Jan 16 19:29:07 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Wed, 16 Jan 2002 13:29:07 -0500
Subject: [R] RE: [S] Study group on bootstrap
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF1D2@groexmbcr02.pfizer.com>

You might also want to recruit on the R news group...
r-help at stat.math.ethz.ch.

-Greg

 >  -----Original Message-----
 >  From: Jan Ivanouw [mailto:ivanouw at post8.tele.dk]
 >  Sent: Wednesday, January 16, 2002 8:28 AM
 >  To: s-news at lists.biostat.wustl.edu
 >  Subject: [S] Study group on bootstrap
 >  
 >  
 >  Hi
 >  I am looking for participants for an e-mail based study 
 >  group on bootstrap methods based on reading 'Bootstrap 
 >  Methods and their Application' by Davison and Hinkley.
 >  
 >  My idea is to form a small group that reads the chapters of 
 >  the book for aggreed-on deadlines (with a lot of latitude) 
 >  and then help each other with understanding the material. 
 >  Everybody sends questions to the group and anybody in the 
 >  group answers to the best of his/her knowledge.
 >  
 >  To tell a little about the level of proficiency I can 
 >  contribute to such a group:
 >  I myself is a Danish psychologist teaching research method 
 >  and statistics for psychologists. I have read some parts of 
 >  the Davison/Hinkley book and find it just readable, but 
 >  difficult, and I especiallly have trouble with some of the 
 >  formulas and mathematic notations.
 >  
 >  I have been using S-PLUS for half a year (formerly using 
 >  SPSS exclusively). I have also read Harrells Regression 
 >  Modeling Strategies and Venables and Ripley: Modern Applied 
 >  Statistics with S-PLUS (3rd ed) and mostly been able to 
 >  understand and use the texts.
 >  
 >  If you are interested, send me an e-mail, and I will return 
 >  information about participants and suggestions for a study plan.
 >  
 >  Jan Ivanouw PhD
 >  Institute of Psychology
 >  University of Copenhagen
 >  Denmark
 >  ivanouw at post8.tele.dk 
 >  
 >  --------------------------------------------------------------------
 >  This message was distributed by s-news at lists.biostat.wustl.edu.  
 >  ....


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Douglas_Jones at hgsi.com  Wed Jan 16 19:34:43 2002
From: Douglas_Jones at hgsi.com (Douglas_Jones@hgsi.com)
Date: Wed, 16 Jan 2002 13:34:43 -0500
Subject: [R] Checking the Compiled R
Message-ID: <OF42355AF3.36FF16A6-ON85256B43.00654B0D@hgsi.com>

Hi,

Maybe someone can assist me with this question about checking the compiled
R code. I'm very much a novice in this arena, so forgive me if my use of
terms & desciptions are inaccurate or skewed :) My concern regards being
able to run a 'make check' on R after running the 'make install'. My
understanding is that the 'make check' checks the setup & configuration in
the location I downloaded it, but there is no 'make check' I can run after
running the 'make install', unless I modify the 'make check' program. Is
there a way I can obtain such a script or would I need to modify the
program in-house.

Thank You,

Douglas Jones
HGSI IT Department
Unix Administrator
(301)610-5790 x5066


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Leslie_Branch at hgsi.com  Wed Jan 16 20:15:41 2002
From: Leslie_Branch at hgsi.com (Leslie_Branch@hgsi.com)
Date: Wed, 16 Jan 2002 14:15:41 -0500
Subject: [R] Validating R after it has been installed!
Message-ID: <OF9992C0AF.0CCE58B1-ON85256B43.00677EF3@hgsi.com>

Hello All,

Just wondering if anyone may have a quick fix to our dilemma here.

I work for a company called HGS (Human Genome Sciences), we are in the
pharmaceutical business.  Everything we do has to be tested and re-tested
to ensure we are providing the most accurate form of data.  On top of that
everything is validated and regulated by FDA.  What this means is every
application on a validated server has to be tested in a test environment
then installed into the production environment at which it has to be
re-tested.

While compiling R (Any version) you run configure, make test, and then make
install.  After which you are done.  I am wondering if there is a way we
can run the "make test" part again on what was just installed.  If I
understand the process correctly when you initially run "make test" you are
testing R in the test area and not the install directory.  Is it something
as simple as changing the BASEDIR in the makefile or is it a bit more
complicated.


Thanks in advance for your HELP!



Leslie

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jan 16 20:51:11 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Jan 2002 20:51:11 +0100
Subject: [R] Validating R after it has been installed!
In-Reply-To: <OF9992C0AF.0CCE58B1-ON85256B43.00677EF3@hgsi.com>
References: <OF9992C0AF.0CCE58B1-ON85256B43.00677EF3@hgsi.com>
Message-ID: <x2zo3ekrbk.fsf@blueberry.kubism.ku.dk>

Leslie_Branch at hgsi.com writes:

> While compiling R (Any version) you run configure, make test, and then make
> install.  After which you are done.  I am wondering if there is a way we
> can run the "make test" part again on what was just installed.  If I
> understand the process correctly when you initially run "make test" you are
> testing R in the test area and not the install directory.  Is it something
> as simple as changing the BASEDIR in the makefile or is it a bit more
> complicated.

Installation is almost exclusively a copying operation, so
it is unlikely that installation would break the kind of thing
that "make test" checks for, but you could change the definition of $R
in the makefiles inside tests/ and tests/Examples. 

Alternatively, you can skip the installation step and run R out of the
build directory (ln -sf path/to/RBUILD/bin/R /usr/local/bin). 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kutinskyv at obninsk.com  Wed Jan 16 23:53:53 2002
From: kutinskyv at obninsk.com (Vladimir N. Kutinsky)
Date: Wed, 16 Jan 2002 22:53:53 +0000
Subject: [R] Regression Trees
Message-ID: <3C460480.29DA041D@obninsk.com>

Hi, all.

I'm trying to implement an interface between R and A+ programming
language (www.aplusdev.org). In A+ I create a scipt file which I pass to
R (R CMD BATCH file), the results are written into a file and then I
read them back in A+ where I can continue my work with my data.  Now, I
work with Regression tress and this is the problem:

when I print the tree I get something like this:
    1)  root 1130 19580.00 535.6
      2) V17: 2,3,4,5 853 4833.00 533.7
        4)V9 < 541.5 185 1011.00 531.9 *
    ................................etc

When I use this tree for prediction :

     >predict.tree(t, data[1,])

I get something like this:

     >531.9205  //note the precision!!!

though, according to the tree table above(suppose that the new point
gets to the 4th node) I should have got 531.9!
It looks like the function print.tree(t) rounds the predicted values. If
it is so, the question is if there is a way to make print.tree print the
predicted values as they are, without rounding them.
Is the problem in anything else?

By the way, does anybody have any suggestions of how to make the
interface another way, other than through script files?
Can R functions be called directly from within C scripts (like
tr=tree(data,formula)). I see that the function "tree" calls a C
function "BDRgrow1" and that would be just fine if it wasn't for some
additional R code contained in the "tree" function.

Thank you

Vladimir



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From merser at image.dk  Wed Jan 16 21:20:18 2002
From: merser at image.dk (=?iso-8859-1?Q?S=F8ren_Merser?=)
Date: Wed, 16 Jan 2002 21:20:18 +0100
Subject: [R] faster vector subtraction??
Message-ID: <000e01c19ecb$3d595960$8b00a8c0@OSEK>

hi
is there a faster way to do this?

i <- 1
for(x in vector1)
     for(y in vector2) {
         m[[i]] <- (x - y)
         i <- i + 1
      }

regards soren


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Wed Jan 16 21:36:43 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Wed, 16 Jan 2002 15:36:43 -0500 (EST)
Subject: [R] Validating R after it has been installed!
In-Reply-To: <OF9992C0AF.0CCE58B1-ON85256B43.00677EF3@hgsi.com>
Message-ID: <Pine.LNX.4.21L1.0201161535230.10047-100000@hm269-26876.socsci.unc.edu>

Just a thought: presumably the test routine works by running a series of
calculations on known data, then comparing the results of these
calculations to the known-correct results. There's no reason you couldn't
produce such a test suite, tuned specifically for the analyses you do, and
run it yourself.

Hope this helps-
ap

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


On Wed, 16 Jan 2002 Leslie_Branch at hgsi.com wrote:

> Hello All,
> 
> Just wondering if anyone may have a quick fix to our dilemma here.
> 
> I work for a company called HGS (Human Genome Sciences), we are in the
> pharmaceutical business.  Everything we do has to be tested and re-tested
> to ensure we are providing the most accurate form of data.  On top of that
> everything is validated and regulated by FDA.  What this means is every
> application on a validated server has to be tested in a test environment
> then installed into the production environment at which it has to be
> re-tested.
> 
> While compiling R (Any version) you run configure, make test, and then make
> install.  After which you are done.  I am wondering if there is a way we
> can run the "make test" part again on what was just installed.  If I
> understand the process correctly when you initially run "make test" you are
> testing R in the test area and not the install directory.  Is it something
> as simple as changing the BASEDIR in the makefile or is it a bit more
> complicated.
> 
> 
> Thanks in advance for your HELP!
> 
> 
> 
> Leslie
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 16 21:42:08 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 16 Jan 2002 20:42:08 +0000 (GMT)
Subject: [R] Regression Trees
In-Reply-To: <3C460480.29DA041D@obninsk.com>
Message-ID: <Pine.LNX.4.31.0201162037340.1251-100000@gannet.stats>

On Wed, 16 Jan 2002, Vladimir N. Kutinsky wrote:

> Hi, all.
>
> I'm trying to implement an interface between R and A+ programming
> language (www.aplusdev.org). In A+ I create a scipt file which I pass to
> R (R CMD BATCH file), the results are written into a file and then I
> read them back in A+ where I can continue my work with my data.  Now, I
> work with Regression tress and this is the problem:
>
> when I print the tree I get something like this:
>     1)  root 1130 19580.00 535.6
>       2) V17: 2,3,4,5 853 4833.00 533.7
>         4)V9 < 541.5 185 1011.00 531.9 *
>     ................................etc
>
> When I use this tree for prediction :
>
>      >predict.tree(t, data[1,])
>
> I get something like this:
>
>      >531.9205  //note the precision!!!
>
> though, according to the tree table above(suppose that the new point
> gets to the 4th node) I should have got 531.9!
> It looks like the function print.tree(t) rounds the predicted values. If
> it is so, the question is if there is a way to make print.tree print the
> predicted values as they are, without rounding them.
> Is the problem in anything else?

Yes, all print methods round, including that printing the second result
you gave.  Use the digits argument, or options("digits").

> By the way, does anybody have any suggestions of how to make the
> interface another way, other than through script files?
> Can R functions be called directly from within C scripts (like
> tr=tree(data,formula)). I see that the function "tree" calls a C
> function "BDRgrow1" and that would be just fine if it wasn't for some
> additional R code contained in the "tree" function.

Ah. but predict.tree is very different.

Yes, R code can be called from C programs, and this is documented in
various places, which I'll leave as a research project for you.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 16 21:46:39 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 16 Jan 2002 20:46:39 +0000 (GMT)
Subject: [R] faster vector subtraction??
In-Reply-To: <000e01c19ecb$3d595960$8b00a8c0@OSEK>
Message-ID: <Pine.LNX.4.31.0201162042470.1251-100000@gannet.stats>

On Wed, 16 Jan 2002, [iso-8859-1] Sren Merser wrote:

> hi
> is there a faster way to do this?
>
> i <- 1
> for(x in vector1)
>      for(y in vector2) {
>          m[[i]] <- (x - y)
>          i <- i + 1
>       }

outer and as.list (but why do you want a list)?

outer(vector1, vector2, "-") is a good start, and
as.list(-outer(vector2, vector1, "-"))
seems to reproduce your loops.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Wed Jan 16 21:48:47 2002
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Wed, 16 Jan 2002 21:48:47 +0100
Subject: [R] faster vector subtraction??
References: <000e01c19ecb$3d595960$8b00a8c0@OSEK>
Message-ID: <3C45E72F.D43AE87E@ci.tuwien.ac.at>

S?ren Merser wrote:
> 
> hi
> is there a faster way to do this?
> 
> i <- 1
> for(x in vector1)
>      for(y in vector2) {
>          m[[i]] <- (x - y)
>          i <- i + 1
>       }

I'm not completely sure, what you want, but this might give the desired
answer:
outer(vector1, vector2, FUN = "-")

Hope that helps
Z


> regards soren
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Jan 16 22:00:07 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 16 Jan 2002 16:00:07 -0500 (EST)
Subject: [R] faster vector subtraction??
In-Reply-To: <000e01c19ecb$3d595960$8b00a8c0@OSEK>
Message-ID: <Pine.LNX.4.30.0201161557090.21365-100000@bolker.zoo.ufl.edu>


  outer() is the basic answer:

  as.vector(t(outer(x,y,"-")))

 [ or as.list() if you really want it as a list ]

On Wed, 16 Jan 2002, S?ren Merser wrote:

> hi
> is there a faster way to do this?
>
> i <- 1
> for(x in vector1)
>      for(y in vector2) {
>          m[[i]] <- (x - y)
>          i <- i + 1
>       }
>
> regards soren
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From white.denis at epamail.epa.gov  Wed Jan 16 22:00:53 2002
From: white.denis at epamail.epa.gov (white.denis@epamail.epa.gov)
Date: Wed, 16 Jan 2002 13:00:53 -0800
Subject: [R] Regression Trees
Message-ID: <OF3547EF04.AF3CD870-ON88256B43.007356B8@rtp.epa.gov>


> when I print the tree I get something like this:
>     1)  root 1130 19580.00 535.6
>       2) V17: 2,3,4,5 853 4833.00 533.7
>         4)V9 < 541.5 185 1011.00 531.9 *
>     ................................etc
>
> When I use this tree for prediction :
>
>      >predict.tree(t, data[1,])
>
> I get something like this:
>
>      >531.9205  //note the precision!!!
>
> though, according to the tree table above(suppose that the new point
> gets to the 4th node) I should have got 531.9!
> It looks like the function print.tree(t) rounds the predicted values.
If
> it is so, the question is if there is a way to make print.tree print
the
> predicted values as they are, without rounding them.
> Is the problem in anything else?

See parameter "digits" in print.tree.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GPetris at uark.edu  Wed Jan 16 23:38:32 2002
From: GPetris at uark.edu (Giovanni Petris)
Date: Wed, 16 Jan 2002 16:38:32 -0600 (CST)
Subject: [R] faster vector subtraction??
In-Reply-To: <000e01c19ecb$3d595960$8b00a8c0@OSEK> (message from
	=?iso-8859-1?Q?S=F8ren_Merser?= on Wed, 16 Jan 2002 21:20:18 +0100)
References: <000e01c19ecb$3d595960$8b00a8c0@OSEK>
Message-ID: <200201162238.QAA02304@definetti.uark.edu>


I would start by looking at 
> outer(x,y,'-')

Giovanni

-- 

 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (501) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]

> From: =?iso-8859-1?Q?S=F8ren_Merser?= <merser at image.dk>
> Date: Wed, 16 Jan 2002 21:20:18 +0100
> X-Priority: 3
> X-MSMail-Priority: Normal
> X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
> Sender: owner-r-help at stat.math.ethz.ch
> Precedence: SfS-bulk
> Content-Type: text/plain;
> 	charset="iso-8859-1"
> Content-Length: 509
> 
> hi
> is there a faster way to do this?
> 
> i <- 1
> for(x in vector1)
>      for(y in vector2) {
>          m[[i]] <- (x - y)
>          i <- i + 1
>       }
> 
> regards soren
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.hankin at auckland.ac.nz  Thu Jan 17 01:15:25 2002
From: r.hankin at auckland.ac.nz (Robin Hankin)
Date: Thu, 17 Jan 2002 13:15:25 +1300
Subject: [R] R 1.4.0 much slower than R 1.3.1
Message-ID: <200201170015.g0H0FPC20649@r.hankin.sems.auckland.ac.nz>

Dear R-ers

I've recently upgraded to R-1.4 but I have noticed that it is slower
to load datasets than R-1.3.1:

R-1.3.1:

> system.time(a <- read.table("~/people/academics/mitchell/nzsl02.27",header=T))
[1] 40.86  0.51 54.10  0.00  0.00
> 


R-1.4.0:
> system.time(a <- read.table("~/people/academics/mitchell/nzsl02.27",header=T))
[1] 293.24  30.76 478.35   0.00   0.00


The dataset in question is big ( 75306 x 27) but not desperately so.
Am I doing something stupid here?



-- 

Robin Hankin, Lecturer,
School of Environmental and Marine Science
Private Bag 92019 Auckland
New Zealand

r.hankin at auckland.ac.nz
tel 0064-9-373-7599 x6820; FAX 0064-9-373-7042

as of: Thu Jan 17 13:10:00 NZDT 2002
This (linux) system up continuously for:  140 days, 19 hours, 05 minutes
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Jan 17 01:34:05 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 16 Jan 2002 16:34:05 -0800 (PST)
Subject: [R] R 1.4.0 much slower than R 1.3.1
In-Reply-To: <200201170015.g0H0FPC20649@r.hankin.sems.auckland.ac.nz>
Message-ID: <Pine.A41.4.44.0201161631570.75106-100000@homer05.u.washington.edu>

On Thu, 17 Jan 2002, Robin Hankin wrote:

> Dear R-ers
>
> I've recently upgraded to R-1.4 but I have noticed that it is slower
> to load datasets than R-1.3.1:
>

Yes. It's a bug. It's fixed in R-patched.  It's already been asked and
answered at least twice on this list in the last 48 hours.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jan 17 01:47:32 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Jan 2002 01:47:32 +0100
Subject: [R] R 1.4.0 much slower than R 1.3.1
In-Reply-To: <200201170015.g0H0FPC20649@r.hankin.sems.auckland.ac.nz>
References: <200201170015.g0H0FPC20649@r.hankin.sems.auckland.ac.nz>
Message-ID: <x2wuyholaz.fsf@blueberry.kubism.ku.dk>

Robin Hankin <r.hankin at auckland.ac.nz> writes:

> R-1.3.1:
> > system.time(a <- read.table("~/people/academics/mitchell/nzsl02.27",header=T))
> [1] 40.86  0.51 54.10  0.00  0.00

> R-1.4.0:
> > system.time(a <- read.table("~/people/academics/mitchell/nzsl02.27",header=T))
> [1] 293.24  30.76 478.35   0.00   0.00
> 
> The dataset in question is big ( 75306 x 27) but not desperately so.
> Am I doing something stupid here?

No. R is. This has been reported before and should be fixed in the
current patch set.

A temporary fix would seem to be to make sure that while (nlines < 5)
loop near the start of read.table actually increments nlines in its
body...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From angelus at truthmail.com  Thu Jan 17 07:34:14 2002
From: angelus at truthmail.com (Administrator)
Date: Thu, 17 Jan 2002 01:34:14 -0500
Subject: [R] Notification:  You are hereby.....
Message-ID: <1011249254.130@0.0.1>

Notification:

You are hereby challenged to see What the Media doen't want you to know.

The Truth about Abortion with your own eyes.

at http://www.getabortion.info

What you will never see on TV.

Its not a blob of tissue.  Every scientist , even those for abortion, will 
tell you that life begins at conception.  Once the egg and sperm join there 
is human life.

Why won't the media show you this?

They show open heart surgery, liver transplants and other operations on tv 
and cable.

Why not an abortion?

You can watch real videos online from former abortion doctors who have 
performed up to 75000 abortions, hear what they have to say about abortion.

Did you know that abortion is perfectly legal through all nine months of 
pregnancy, including the day of birth?

Did you know that in most states a child under the age of 16 can get an 
abortion without their parents knowing?

Anyone can plainly see that we are killing our own.

On September 11th 5000 people were killed.  Abortion in the US alone kills 
over 4000 children per day that's an average of one innocent unborn human 
murdered every 22 seconds!

An entire genertion has been slaughtered.

Overpopulation is a myth, back room abortions are a falsehood propagated by 
the money mongers of the industry.

See it for yourself.

http://getabortion.info























































































































-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrysopa at insecta.ufv.br  Thu Jan 17 11:47:29 2002
From: chrysopa at insecta.ufv.br (Ronaldo Reis Jr.)
Date: Thu, 17 Jan 2002 08:47:29 -0200
Subject: [R] R 1.4.0 much slower than R 1.3.1
In-Reply-To: <Pine.A41.4.44.0201161631570.75106-100000@homer05.u.washington.edu>
References: <Pine.A41.4.44.0201161631570.75106-100000@homer05.u.washington.edu>
Message-ID: <02011708472904.15266@termix.ufv.br>

Em Qua 16 Jan 2002 22:34, Thomas Lumley escreveu:
> On Thu, 17 Jan 2002, Robin Hankin wrote:
> > Dear R-ers
> >
> > I've recently upgraded to R-1.4 but I have noticed that it is slower
> > to load datasets than R-1.3.1:
>
> Yes. It's a bug. It's fixed in R-patched.  It's already been asked and
> answered at least twice on this list in the last 48 hours.
>
Hi
this bug is in all version of R (linux, windows etc)?
How I do make to download and patch R-1.4? I dont find anything in site.
Thanks
Ronaldo
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrysopa at insecta.ufv.br  Thu Jan 17 14:32:02 2002
From: chrysopa at insecta.ufv.br (Ronaldo Reis Jr.)
Date: Thu, 17 Jan 2002 11:32:02 -0200
Subject: [R] weibull in R 
Message-ID: <02011711320201.02607@termix.ufv.br>

Hi all
I try to make a weibull survival analysis on R.
I know make this on GLIM, and now I try to make the GLIM exercice GLEX8 on R 
to learning and compare the test.
The variables are:
time censor group bodymass

In GLIM I make:
$calc %s=1 $ to fit weibull rather than exponential
$input %pcl weibull $
$macro model group*bodymass $endmac$
$use weibull t w %s $

Then, GLIM estimate an alpha for the model group*bodymass, the value on GLIM 
is 0.736.

I try to make this on R.

> survreg(Surv(time,censor)~group*bodymass,dist="weibull",scale=0)

The result is an alpha (Scale on R) different.

Scale= 1.36 

Where is the error????

Exist any reference to learning survival in R?

Thanks
ROnaldo

 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 17 15:05:36 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 17 Jan 2002 14:05:36 +0000 (GMT)
Subject: [R] weibull in R 
In-Reply-To: <02011711320201.02607@termix.ufv.br>
Message-ID: <Pine.LNX.4.31.0201171357070.4861-100000@gannet.stats>

On Thu, 17 Jan 2002, Ronaldo Reis Jr. wrote:

> Hi all
> I try to make a weibull survival analysis on R.
> I know make this on GLIM, and now I try to make the GLIM exercice GLEX8 on R
> to learning and compare the test.
> The variables are:
> time censor group bodymass
>
> In GLIM I make:
> $calc %s=1 $ to fit weibull rather than exponential
> $input %pcl weibull $
> $macro model group*bodymass $endmac$
> $use weibull t w %s $
>
> Then, GLIM estimate an alpha for the model group*bodymass, the value on GLIM
> is 0.736.
>
> I try to make this on R.
>
> > survreg(Surv(time,censor)~group*bodymass,dist="weibull",scale=0)

You don't need to give default values in R.

> The result is an alpha (Scale on R) different.
>
> Scale= 1.36

1/1.36 is 0.7352941

It's parameterized differently.  Whatever `alpha' means, it is not what
the survival package is using as the Scale parameter in survreg.

> Where is the error????

Nowhere.  There are lots of parameter sets for the Weibull, so you have to
check each package to see what it uses.  And as you are using an addon-on
package and not R, I do mean package survival, and not R (where
dweibull is different).

> Exist any reference to learning survival in R?

This is covered in the appropriate chapter of Venables & Ripley.
(On page 375.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Jan 17 15:11:50 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 17 Jan 2002 15:11:50 +0100
Subject: [R] R 1.4.0 much slower than R 1.3.1
In-Reply-To: <02011708472904.15266@termix.ufv.br>
References: <Pine.A41.4.44.0201161631570.75106-100000@homer05.u.washington.edu>
	<02011708472904.15266@termix.ufv.br>
Message-ID: <15430.56230.524285.238474@gargle.gargle.HOWL>

>>>>> "Ronaldo" == Ronaldo Reis <chrysopa at insecta.ufv.br> writes:

    Ronaldo> Em Qua 16 Jan 2002 22:34, Thomas Lumley escreveu:
    >> On Thu, 17 Jan 2002, Robin Hankin wrote: > Dear R-ers
    >> >
    >> > I've recently upgraded to R-1.4 but I have noticed that
    >> it is slower > to load datasets than R-1.3.1:
    >> 
    >> Yes. It's a bug. It's fixed in R-patched.  It's already
    >> been asked and answered at least twice on this list in
    >> the last 48 hours.
    >> 
    Ronaldo> Hi this bug is in all version of R (linux, windows
    Ronaldo> etc)?  How I do make to download and patch R-1.4? I
    Ronaldo> dont find anything in site.  Thanks Ronaldo

CRAN (sidebar) -> [ R Sources ]  tells you how.

You must (be able to) compile from the sources .



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Thu Jan 17 15:19:36 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Thu, 17 Jan 2002 15:19:36 +0100
Subject: [R] criterion for Iterative procedure
Message-ID: <00e601c19f62$07aeeb80$5c13070a@it.giustizia.it>

Hi all,
I've written some function that is substantially an iterative call to glm()
where the linear predictor changes at each iteration with respect to just
one variable.
I used obj$dev as covergence criterion, i.e.:
epsilon<-abs((dev.old-dev.new)/dev.old)
    while(epsilon>toll).....

and I used cat(....) to see the trace of the process:
cat(iter=it,dev=dev.new, labels="iteration", fill=T)
[ Is there any best way to print this information? ]

Everything works but  with some dataset (really very little) I noted that
the deviance is not always a decreasing function, in sense that there some
iteration where the dev is smaller than one found when the algorithm attains
convergence.
Which solution have I to assume? Is it right to assume the solution when the
increment in deviance is negligible?
thanks for your help,

vito
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hmonder at nac.net  Thu Jan 17 20:53:00 2002
From: hmonder at nac.net (Harvey Monder)
Date: Thu, 17 Jan 2002 11:53:00 -0800
Subject: [R] Error with Grid
Message-ID: <000801c19f90$b071ce80$64141540@harvey5i5hbmjc>

I am using R for Windows ver.1.3.1 that I installed from binaries using the setup program.  I downloaded grid.zip and installed it using the 'install from zip' in the pull down menu.  When I execute library(grid) I get the following error message:

Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared library "D:/r/rw1031/library/grid/libs/grid.dll":
  LoadLibrary failure:  The specified procedure could not be found.
Error in library(grid) : .First.lib failed

and the following message window appears:

    The procedure entry point GECircle could not be located in the dynamic link library R.dll

Any suggestions?

    Thanks,
    Harvey
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020117/ac80f36d/attachment.html

From gavin.simpson at ucl.ac.uk  Thu Jan 17 17:55:51 2002
From: gavin.simpson at ucl.ac.uk (Gavin Simpson)
Date: Thu, 17 Jan 2002 16:55:51 -0000
Subject: [R] Problem building packages from source (WIN32)
Message-ID: <000101c19f77$d21c9e20$4c202880@GSIMPSON>

Dear List,

I have been experimenting with building packages from sources, having
previously relied upon the binaries.

I downloaded and installed all the tools suggested in
http://www.stats.ox.ac.uk/pub/Rtools/ , including ActivePerl 5.6.1.631.
I also downloaded the HTML Help workshop exe and installed it.  During
install though, a message popped up to say that I had a newer version of
the workshop installed, clicking OK allowed the installation to proceed
and end with a message saying that the installation had completed.  I
placed all the relevant info in my path, sh.exe in c:\bin, etc, and
edited MkRules to reflect the location of the HTML Help Workshop.

I was able to make libR.a without any problems following
readme.packages.  I am using rw1040, under Win2000(SP2), having
installed R from the SetupR binary.

To test things were working I tried to install some packages from CRAN.
I downloaded the tar files from CRAN and unpacked them into
R-HOME\rw1040\src\gnuwin32.  I then ran Rcmd INSTALL on the directory
containing the package.

This is where I started to have problems:

The following is the output from Rcmd INSTALL when trying to install
package vegan:

C:\R\rw1040\src\gnuwin32>Rcmd INSTALL C:\R\rw1040\src\gnuwin32\vegan

make: Entering directory `/cygdrive/c/R/rw1040/src/gnuwin32'
make DLLNM= \
  -C C:/R/rw1040/src/gnuwin32/vegan PKG=vegan RHOME=C:/R/rw1040
RLIB=C:/R/rw1040
/library \
  -f C:/R/rw1040/src/gnuwin32/MakePkg
make[1]: Entering directory `/cygdrive/c/R/rw1040/src/gnuwin32/vegan'
---------- Making package vegan ------------
mkdir -p C:/R/rw1040/library/vegan
cp -r   ./INDEX  ./TITLE ./WhatsNew.txt C:/R/rw1040/library/vegan/
  adding build stamp to DESCRIPTION
  making DLL
make[2]: Entering directory
`/cygdrive/c/R/rw1040/src/gnuwin32/vegan/src'
make[3]: `libR.a' is up to date.
make[2]: Leaving directory `/cygdrive/c/R/rw1040/src/gnuwin32/vegan/src'
  DLL made

mkdir -p C:/R/rw1040/library/vegan/libs
cp src/vegan.dll C:/R/rw1040/library/vegan/libs/vegan.dll
  installing R files
  installing data files
  installing man source files
make[1]: Leaving directory `/cygdrive/c/R/rw1040/src/gnuwin32/vegan'
make -C ./help RHOME=C:/R/rw1040 PKGDIR=C:/R/rw1040/src/gnuwin32
RLIB=C:/R/rw104
0/library help-vegan
make[1]: Entering directory `/cygdrive/c/R/rw1040/src/gnuwin32/help'
PERL5LIB=C:/R/rw1040/share/perl perl
../../../share/perl/build-help-windows.pl
 -txt -html -example -latex C:/R/rw1040/src/gnuwin32/vegan
C:/R/rw1040/library
 >>> Building/Updating help pages for package `vegan'
     Formats: text html latex example
  decorana                          text    html    latex   example
  decostand                         text    html    latex   example
  diversity                         text    html    latex   example
  initMDS                           text    html    latex   example
  postMDS                           text    html    latex   example
  procrustes                        text    html    latex   example
  rankindex                         text    html    latex   example
  varechem                          text    html    latex   example
  vectorfit                         text    html    latex   example
  vegdist                           text    html    latex   example
  wascores                          text    html    latex   example
make[1]: Leaving directory `/cygdrive/c/R/rw1040/src/gnuwin32/help'
make -C ./help RHOME=C:/R/rw1040 PKGDIR=C:/R/rw1040/src/gnuwin32
RLIB=C:/R/rw104
0/library contents-vegan
make[1]: Entering directory `/cygdrive/c/R/rw1040/src/gnuwin32/help'
PERL5LIB=C:/R/rw1040/share/perl perl \
  ../../../share/perl/Rd2contents.pl \
  --os=windows -o C:/R/rw1040/library/vegan/CONTENTS
C:/R/rw1040/src/gnuwin32/ve
gan
cat C:/R/rw1040/library/*/CONTENTS >
C:/R/rw1040/doc/html/search/index.txt
PERL5LIB=C:/R/rw1040/share/perl perl
../../../share/perl/build-help-windows.pl
-htmllists
make[1]: Leaving directory `/cygdrive/c/R/rw1040/src/gnuwin32/help'
make -C ./help RHOME=C:/R/rw1040 PKGDIR=C:/R/rw1040/src/gnuwin32
RLIB=C:/R/rw104
0/library chm-vegan
make[1]: Entering directory `/cygdrive/c/R/rw1040/src/gnuwin32/help'
PERL5LIB=C:/R/rw1040/share/perl perl
../../../share/perl/build-help-windows.pl
-chm C:/R/rw1040/src/gnuwin32/vegan C:/R/rw1040/library
 >>> Building/Updating help pages for package `vegan'
     Formats: chm
make  --no-print-directory -C C:/R/rw1040/src/gnuwin32/vegan/chm -f
C:/R/rw1040/
src/gnuwin32/help/Makefile vegan.chm
hhc vegan.hhp
make[2]: hhc: Command not found
make[2]: [vegan.chm] Error 127 (ignored)
mkdir -p C:/R/rw1040/library/vegan/chtml
cp C:/R/rw1040/src/gnuwin32/vegan/chm/vegan.chm
C:/R/rw1040/library/vegan/chtml
cp: cannot stat `C:/R/rw1040/src/gnuwin32/vegan/chm/vegan.chm': No such
file or
directory
make[1]: *** [chm-vegan] Error 1
make[1]: Leaving directory `/cygdrive/c/R/rw1040/src/gnuwin32/help'
make: *** [pkg-vegan] Error 2
make: Leaving directory `/cygdrive/c/R/rw1040/src/gnuwin32'
*** Installation of vegan failed ***

It seems to be getting as far as doing the compiled HTML help and then
not finding a particular file.  I'm am at a loss as to how to continue.
Can anyone suggest what I am doing wrong, or suggest what to do next?

I have tried this with a number of package sources from CRAN, and all
fail at the same point, with the same message.  Because the CHM thing
seemed to be the problem, I have installed the HTMLHelp workshop into a
different directory on my disk, altered MkRules and tried Rcmd again,
but the same thing happens.

Many thanks for your help,

Gavin Simpson


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jan 17 18:02:28 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Jan 2002 18:02:28 +0100
Subject: [R] Problem building packages from source (WIN32)
In-Reply-To: <000101c19f77$d21c9e20$4c202880@GSIMPSON>
References: <000101c19f77$d21c9e20$4c202880@GSIMPSON>
Message-ID: <x24rlklxln.fsf@blueberry.kubism.ku.dk>

Gavin Simpson <gavin.simpson at ucl.ac.uk> writes:

> hhc vegan.hhp
> make[2]: hhc: Command not found
> make[2]: [vegan.chm] Error 127 (ignored)


> It seems to be getting as far as doing the compiled HTML help and then
> not finding a particular file.  I'm am at a loss as to how to continue.
> Can anyone suggest what I am doing wrong, or suggest what to do next?
> 
> I have tried this with a number of package sources from CRAN, and all
> fail at the same point, with the same message.  Because the CHM thing
> seemed to be the problem, I have installed the HTMLHelp workshop into a
> different directory on my disk, altered MkRules and tried Rcmd again,
> but the same thing happens.

This looks like a problem with your PATH setting. It expects to be
able to invoke the help compiler from a command line with just "hhc".
Set in autoexec.bat (if that still exists in W2000).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 17 18:05:45 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 17 Jan 2002 17:05:45 +0000 (GMT)
Subject: [R] Error with Grid
In-Reply-To: <000801c19f90$b071ce80$64141540@harvey5i5hbmjc>
Message-ID: <Pine.LNX.4.31.0201171703040.12507-100000@gannet.stats>

On Thu, 17 Jan 2002, Harvey Monder wrote:

> I am using R for Windows ver.1.3.1 that I installed from binaries using the setup program.  I downloaded grid.zip and installed it using the 'install from zip' in the pull down menu.  When I execute library(grid) I get the following error message:
>
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library "D:/r/rw1031/library/grid/libs/grid.dll":
>   LoadLibrary failure:  The specified procedure could not be found.
> Error in library(grid) : .First.lib failed
>
> and the following message window appears:
>
>     The procedure entry point GECircle could not be located in the dynamic link library R.dll
>
> Any suggestions?

The compiled packages for Windows are for R 1.4.0 or later.  It does say
so in the ReadMe in the directory from which you downloaded: unfortunately
the grid author did not put a version check in the .First.lib, and
the check in DESCRIPTION is for (source) installation only.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 17 18:09:21 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 17 Jan 2002 17:09:21 +0000 (GMT)
Subject: [R] Problem building packages from source (WIN32)
In-Reply-To: <000101c19f77$d21c9e20$4c202880@GSIMPSON>
Message-ID: <Pine.LNX.4.31.0201171706370.12507-100000@gannet.stats>

The short answer, from readme.packages,

  All of these need to be installed and in your path, and the
  appropriate environment variables set.

Clearly hhc is not in your path.
The setting in MkRules is only used to find the C header files.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gavin.simpson at ucl.ac.uk  Thu Jan 17 18:40:47 2002
From: gavin.simpson at ucl.ac.uk (Gavin Simpson)
Date: Thu, 17 Jan 2002 17:40:47 -0000
Subject: [R] Problem building packages from source (WIN32)
In-Reply-To: <x24rlklxln.fsf@blueberry.kubism.ku.dk>
Message-ID: <000001c19f7e$190e7c80$4c202880@GSIMPSON>

Many thanks to Peter Dalgaard and Brian Ripley for there incredibly
quick and accurate identification of my error.

I hadn't put the path to hhc in my path, hence it wouldn't run.  Having
fixed this, things seem to run alright.  Is there a way to check to see
if everything has worked as required, or is there something more I
should do after Rcmd INSTALL pkg as a matter of course?  There still
seems to be an error (reported as ignored), and I wondered if this can
be checked?

<snip>
Created c:\R\rw1040\src\gnuwin32\vegan\chm\vegan.chm, 42,50
Compression decreased file by 19,366 bytes.
make[2]: [vegan.chm] Error 1 (ignored)
mkdir -p C:/R/rw1040/library/vegan/chtml
cp C:/R/rw1040/src/gnuwin32/vegan/chm/vegan.chm C:/R/rw1040
make[1]: Leaving directory `/cygdrive/c/R/rw1040/src/gnuwin
make: Leaving directory `/cygdrive/c/R/rw1040/src/gnuwin32'

By the way, as Uwe Ligges indicated in a private email, putting the path
information in autoexec.bat won't work under Win2000.  The way to do it
is in Control Panel > System > (click) Advanced Tab > Environmental
Variables... , choose path from the System Variables window and click
Edit..., and the add the new path information in the textbox, separating
entries with a semi colon ";"

Cheers

Gav

-----Original Message-----
From: pd at pubhealth.ku.dk [mailto:pd at pubhealth.ku.dk] On Behalf Of Peter
Dalgaard BSA
Sent: 17 January 2002 17:02
To: gavin.simpson
Cc: r-help
Subject: Re: [R] Problem building packages from source (WIN32)


Gavin Simpson <gavin.simpson at ucl.ac.uk> writes:

> hhc vegan.hhp
> make[2]: hhc: Command not found
> make[2]: [vegan.chm] Error 127 (ignored)


> It seems to be getting as far as doing the compiled HTML help and then

> not finding a particular file.  I'm am at a loss as to how to 
> continue. Can anyone suggest what I am doing wrong, or suggest what to

> do next?
> 
> I have tried this with a number of package sources from CRAN, and all 
> fail at the same point, with the same message.  Because the CHM thing 
> seemed to be the problem, I have installed the HTMLHelp workshop into 
> a different directory on my disk, altered MkRules and tried Rcmd 
> again, but the same thing happens.

This looks like a problem with your PATH setting. It expects to be able
to invoke the help compiler from a command line with just "hhc". Set in
autoexec.bat (if that still exists in W2000).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 17 18:51:07 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 17 Jan 2002 17:51:07 +0000 (GMT)
Subject: [R] Problem building packages from source (WIN32)
In-Reply-To: <000001c19f7e$190e7c80$4c202880@GSIMPSON>
Message-ID: <Pine.LNX.4.31.0201171742190.12697-100000@gannet.stats>

On Thu, 17 Jan 2002, Gavin Simpson wrote:

> Many thanks to Peter Dalgaard and Brian Ripley for there incredibly
> quick and accurate identification of my error.
>
> I hadn't put the path to hhc in my path, hence it wouldn't run.  Having
> fixed this, things seem to run alright.  Is there a way to check to see
> if everything has worked as required, or is there something more I
> should do after Rcmd INSTALL pkg as a matter of course?  There still
> seems to be an error (reported as ignored), and I wondered if this can
> be checked?

That's a bug in hhc.exe which always returns a non-zero error code.
That's documented in the help/Makefile, as I recall.

Double-click on the foo.chm installed and check it works is the only test.
But in hundreds of tests I have never seen hhc complete and produce an
invalid .chm.

I always run make pkgcheck-foo after Rcmd INSTALL foo, which checks all
the examples.


> <snip>
> Created c:\R\rw1040\src\gnuwin32\vegan\chm\vegan.chm, 42,50
> Compression decreased file by 19,366 bytes.
> make[2]: [vegan.chm] Error 1 (ignored)
> mkdir -p C:/R/rw1040/library/vegan/chtml
> cp C:/R/rw1040/src/gnuwin32/vegan/chm/vegan.chm C:/R/rw1040
> make[1]: Leaving directory `/cygdrive/c/R/rw1040/src/gnuwin
> make: Leaving directory `/cygdrive/c/R/rw1040/src/gnuwin32'
>
> By the way, as Uwe Ligges indicated in a private email, putting the path
> information in autoexec.bat won't work under Win2000.  The way to do it
> is in Control Panel > System > (click) Advanced Tab > Environmental
> Variables... , choose path from the System Variables window and click
> Edit..., and the add the new path information in the textbox, separating
> entries with a semi colon ";"

Or since you must run this from a terminal (commands prompt or whatever)
you can have a small batch file which sets the path as needed for building
R packages.  That's what I do, as otherwise the path can get too long.
>From what I read Windows NT variants accept paths of more than 262 chars,
but only parse the first 262 characters (which explains a problem Marc
Feldesman had with HHW a long time ago).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gparra at imim.es  Thu Jan 17 19:14:25 2002
From: gparra at imim.es (Parra, Genis)
Date: Thu, 17 Jan 2002 19:14:25 +0100
Subject: [R] stacked histograms
Message-ID: <3C471481.CEA637ED@imim.es>


I am trying to plot stacked histograms. 

I can plot them using barplot (with stacked barplots), but I think 
it must be a better way to do it using histogram.

Thanks in advance.

Genis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Thu Jan 17 19:29:03 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu, 17 Jan 2002 13:29:03 -0500
Subject: MKL seems to beat ATLAS, but some problems... (was RE: [R]
 li	nkin g R against MKL)
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC84BE@usrymx10.merck.com>

Prof. Ripley,

> From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]

[snipped...]

> R cannot currently make use of anyone else's LAPACK routines (because
> we've found too many problems with them).
> 
> If you are getting no useful diagnostics, try
> dyn.load("RHOME/modules/lapack.so").  That ought to tell you 
> why you can't
> load it.  My guess would be to do with libraries, so do an ldd on
> lapack.so and check that all the dependencies are resolved as 
> you expect.

I wonder if the problem is the clash between the Lapack routines in MKL and
those packaged with R.

Sorry, but seems like I need a bit more spoon-feeding:
I did the dyn.load, and got:
        unable to load shared library
"/home/andy/R-patched-mkl/modules/lapack.so":
  /home/andy/R-patched-mkl/modules/lapack.so: undefined symbol: lsame_

I then did ldd -r lapack.so, and got:
        libm.so.6 => /lib/libm.so.6 (0x401ef000)
        libz.so.1 => /usr/lib/libz.so.1 (0x4020d000)
        libreadline.so.4.1 => /usr/lib/libreadline.so.4.1 (0x4021b000)
        libdl.so.2 => /lib/libdl.so.2 (0x40243000)
        libncurses.so.5 => /usr/lib/libncurses.so.5 (0x40248000)
        libpthread.so.0 => /lib/libpthread.so.0 (0x4028f000)
        libc.so.6 => /lib/libc.so.6 (0x402a2000)
        /lib/ld-linux.so.2 => /lib/ld-linux.so.2 (0x2aaaa000)
        libgpm.so.1 => /usr/lib/libgpm.so.1 (0x40389000)
undefined symbol: R_NamesSymbol (./lapack.so)
undefined symbol: R_NilValue    (./lapack.so)
undefined symbol: R_DimSymbol   (./lapack.so)
undefined symbol: R_NaInt       (./lapack.so)
undefined symbol: Rf_isString   (./lapack.so)
undefined symbol: STRING_ELT    (./lapack.so)
undefined symbol: Rf_isComplex  (./lapack.so)
undefined symbol: Rf_duplicate  (./lapack.so)
undefined symbol: LENGTH        (./lapack.so)
undefined symbol: Rf_allocMatrix        (./lapack.so)
undefined symbol: Rf_coerceVector       (./lapack.so)
undefined symbol: Rf_mkChar     (./lapack.so)
undefined symbol: R_alloc       (./lapack.so)
undefined symbol: SET_STRING_ELT        (./lapack.so)
undefined symbol: Rf_allocVector        (./lapack.so)
undefined symbol: R_CHAR        (./lapack.so)
undefined symbol: Rf_unprotect_ptr      (./lapack.so)
undefined symbol: SET_VECTOR_ELT        (./lapack.so)
undefined symbol: Rf_isMatrix   (./lapack.so)
undefined symbol: R_setLapackRoutines   (./lapack.so)
undefined symbol: Rf_protect    (./lapack.so)
undefined symbol: VECTOR_ELT    (./lapack.so)
undefined symbol: Rf_asLogical  (./lapack.so)
undefined symbol: COMPLEX       (./lapack.so)
undefined symbol: Rf_unprotect  (./lapack.so)
undefined symbol: REAL  (./lapack.so)
undefined symbol: INTEGER       (./lapack.so)
undefined symbol: Rf_error      (./lapack.so)
undefined symbol: Rf_setAttrib  (./lapack.so)
undefined symbol: Rf_getAttrib  (./lapack.so)
undefined symbol: lsame_        (./lapack.so)

Looks like all the libraries it needs are there, but why can't it find those
undefined symbols?

Any help is greatly appreciated!

Regards,
Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xiao.gang.fan1 at libertysurf.fr  Thu Jan 17 22:03:03 2002
From: xiao.gang.fan1 at libertysurf.fr (Fan)
Date: Thu, 17 Jan 2002 22:03:03 +0100
Subject: [R] R for large data sets
References: <Pine.LNX.4.31.0201151940220.24828-100000@gannet.stats> <1011183749.18968.19.camel@gandalf>
Message-ID: <3C473C07.DA0C0B10@libertysurf.fr>

AFAK, ROracle works only for R unix. 

RODBC works very well for R Windows, I'd like to know 
if there's any interests of ROracle for Windows users 
(ex. large data sets, faster, etc.) ?

Thanks for advice
--
Xiao Gang FAN

Ernesto Jardim a ?crit :
> 
> Hi
> 
> I'm using some large datasets and I found the ROracle package to be of
> great help.
> 
> If you have the chance to create a database in Oracle or MySQL with one
> single table for your dataset, you can then use the ROracle package to
> access the dataset. I found several advantages on that.
> 
> I don't import the data into my environment. I use a small function (see
> below) to access the dataset and because the result is a data.frame you
> can use it as usually.
> 
> Your environment will not be to large and you'll have the ram memory
> less full.
> 
> It's easier to select subsets with SQL than S/R language.
> 
> Hope it helps
> 
> Regards
> 
> EJ
> 
> --//--
> 
> ora.fun <- function(){
> 
>         library(ROracle)
>         m <- dbManager("Oracle")
>         con <- dbConnect(m,user="user",password="password")
>         dat <- quickSQL(con,"select ...")
>         close(con)
>         unload(m)
>         dat
> 
> }
> 
> --//--
> 
> On Tue, 2002-01-15 at 19:43, Prof Brian Ripley wrote:
> > On Tue, 15 Jan 2002, wei, xiaoyan wrote:
> >
> > > As a part of our regular data analysis, I have to read in large data sets
> > > with six columns and about a million rows. In Splus, this usually take a
> > > couple of minutes. I just tried R, it seems take forever to use read.table()
> > > to read in the data frame! It did not help much even though I specified
> > > colClasses and nrows in read.table().
> > >
> > > How is R's ability to analyze large data sets? I used R on solaris 2.6 and I
> > > used all default compilation flags when building the R package. Will it help
> > > if I use some compilation flags with higher optimization level?
> >
> > It will help to use R-patched, since I guess you are using 1.4.0.
> > Also, look in the list archives, as I answered this more fully earlier
> > today.
> >
> > In either S-PLUS or R, scan would be a better choice for such a dataset.
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MagillB at usa.redcross.org  Thu Jan 17 22:23:02 2002
From: MagillB at usa.redcross.org (Magill, Brett)
Date: Thu, 17 Jan 2002 16:23:02 -0500
Subject: [R] Using S-Plus Documentation with R
Message-ID: <AC09DC4F4DFCD211A83C00805FE6138D051E0871@nhqjpk1ex2.bionet.org>

Insightful has some nice docs available for download that are s-plus command
line guides to statistics.  There are two versions, one for S-plus 2000 and
one for S-plus 6.0.  

With regard to syntax, is one a closer match to R than the other?  Are they
based on the same S engines?  Does that matter?  I know there will be
differences in any case, I am just trying to decide wich version I want to
dowload for use with R.

They docs are at:

http://www.insightful.com/support/documentation.asp?DID=1

Brett A. Magill, Evaluation Associate
Research and Program Development
Health, Safety, and Community Services
American Red Cross
magillb at usa.redcross.org
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 17 22:33:41 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 17 Jan 2002 21:33:41 +0000 (GMT)
Subject: [R] Using S-Plus Documentation with R
In-Reply-To: <AC09DC4F4DFCD211A83C00805FE6138D051E0871@nhqjpk1ex2.bionet.org>
Message-ID: <Pine.LNX.4.31.0201172128550.23780-100000@gannet.stats>

On Thu, 17 Jan 2002, Magill, Brett wrote:

> Insightful has some nice docs available for download that are s-plus command
> line guides to statistics.  There are two versions, one for S-plus 2000 and
> one for S-plus 6.0.
>
> With regard to syntax, is one a closer match to R than the other?  Are they
> based on the same S engines?  Does that matter?  I know there will be
> differences in any case, I am just trying to decide wich version I want to
> dowload for use with R.

S-PLUS 2000 is based on S3.
S-PLUS 6.0 is based on S4.

R is `not unlike' S3, with some S4 features, so S-PLUS 2000 is probaly
closer.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Fri Jan 18 12:01:12 2002
From: ernesto at ipimar.pt (Ernesto Jardim)
Date: 18 Jan 2002 11:01:12 +0000
Subject: [R] R for large data sets
In-Reply-To: <3C473C07.DA0C0B10@libertysurf.fr>
References: <Pine.LNX.4.31.0201151940220.24828-100000@gannet.stats>
	<1011183749.18968.19.camel@gandalf>  <3C473C07.DA0C0B10@libertysurf.fr>
Message-ID: <1011351672.2395.12.camel@gandalf>

Hi

ODBC is one more software layer between R and the database. In generic
terms I think it's better to use the proper client and "talk" directly
to the database server. 

Anyway I don't know exactly how ODBC for oracle works and I never made
any comparisons between the to packages (I use linux) so I can not give
you a fundamented answer.

Regards

EJ

On Thu, 2002-01-17 at 21:03, Fan wrote:

    AFAK, ROracle works only for R unix. 
    
    RODBC works very well for R Windows, I'd like to know 
    if there's any interests of ROracle for Windows users 
    (ex. large data sets, faster, etc.) ?
    
    Thanks for advice
    --
    Xiao Gang FAN
    
    Ernesto Jardim a ?crit :
    > 
    > Hi
    > 
    > I'm using some large datasets and I found the ROracle package to be of
    > great help.
    > 
    > If you have the chance to create a database in Oracle or MySQL with one
    > single table for your dataset, you can then use the ROracle package to
    > access the dataset. I found several advantages on that.
    > 
    > I don't import the data into my environment. I use a small function (see
    > below) to access the dataset and because the result is a data.frame you
    > can use it as usually.
    > 
    > Your environment will not be to large and you'll have the ram memory
    > less full.
    > 
    > It's easier to select subsets with SQL than S/R language.
    > 
    > Hope it helps
    > 
    > Regards
    > 
    > EJ
    > 
    > --//--
    > 
    > ora.fun <- function(){
    > 
    >         library(ROracle)
    >         m <- dbManager("Oracle")
    >         con <- dbConnect(m,user="user",password="password")
    >         dat <- quickSQL(con,"select ...")
    >         close(con)
    >         unload(m)
    >         dat
    > 
    > }
    > 
    > --//--
    > 
    > On Tue, 2002-01-15 at 19:43, Prof Brian Ripley wrote:
    > > On Tue, 15 Jan 2002, wei, xiaoyan wrote:
    > >
    > > > As a part of our regular data analysis, I have to read in large data sets
    > > > with six columns and about a million rows. In Splus, this usually take a
    > > > couple of minutes. I just tried R, it seems take forever to use read.table()
    > > > to read in the data frame! It did not help much even though I specified
    > > > colClasses and nrows in read.table().
    > > >
    > > > How is R's ability to analyze large data sets? I used R on solaris 2.6 and I
    > > > used all default compilation flags when building the R package. Will it help
    > > > if I use some compilation flags with higher optimization level?
    > >
    > > It will help to use R-patched, since I guess you are using 1.4.0.
    > > Also, look in the list archives, as I answered this more fully earlier
    > > today.
    > >
    > > In either S-PLUS or R, scan would be a better choice for such a dataset.
    > >
    > > --
    > > Brian D. Ripley,                  ripley at stats.ox.ac.uk
    > > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
    > > University of Oxford,             Tel:  +44 1865 272861 (self)
    > > 1 South Parks Road,                     +44 1865 272860 (secr)
    > > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
    > >
    > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
    > > Send "info", "help", or "[un]subscribe"
    > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
    > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
    > 
    > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
    > Send "info", "help", or "[un]subscribe"
    > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
    > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
    
    -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
    Send "info", "help", or "[un]subscribe"
    (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
    _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
    
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020118/4d5181db/attachment.html

From stuart.leask at nottingham.ac.uk  Fri Jan 18 11:32:43 2002
From: stuart.leask at nottingham.ac.uk (Stuart Leask)
Date: Fri, 18 Jan 2002 10:32:43 -0000
Subject: [R]: z-scores for different factor levels
References: <200201091528.g09FS2027571@cattell.psych.upenn.edu>
Message-ID: <011801c1a00b$76975c40$f2e1f380@nottingham.ac.uk>

Hi there.
I am trying to generate z-scores for a variable according to it's factor
level, leaving this result in the original dataframe.

ie. standardised birth weight for gestational age in weeks.
BWT is birthweight
GEST is gestational age in weeks (equivalent to the factor level)

I can generate the factor level mean & SD using tapply
tapply(BWT,GEST,mean) etc.
but this creates a new array of means & SDs.

- Can anyone suggest how I can slot these means & SDs by factor level
straight back into the original dataframe, so I can then subtract the mean &
divide by the SD to get a Z-score for each case?
- Is there a function already available that can generate z-scores by factor
levels?

Stuart

Dr Stuart Leask MA MRCPsych, Clinical Lecturer in Psychiatry
University of Nottingham Dept of Psychiatry, Duncan Macmillan House
Porchester Road, Nottingham. NG3 6AA. UK
http://www.nottingham.ac.uk/psychiatry/staff/sjl.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jan 18 12:11:28 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Jan 2002 12:11:28 +0100
Subject: [R]: z-scores for different factor levels
In-Reply-To: <011801c1a00b$76975c40$f2e1f380@nottingham.ac.uk>
References: <200201091528.g09FS2027571@cattell.psych.upenn.edu>
	<011801c1a00b$76975c40$f2e1f380@nottingham.ac.uk>
Message-ID: <x2sn939an3.fsf@blueberry.kubism.ku.dk>

"Stuart Leask" <stuart.leask at nottingham.ac.uk> writes:

> Hi there.
> I am trying to generate z-scores for a variable according to it's factor
> level, leaving this result in the original dataframe.
> 
> ie. standardised birth weight for gestational age in weeks.
> BWT is birthweight
> GEST is gestational age in weeks (equivalent to the factor level)
> 
> I can generate the factor level mean & SD using tapply
> tapply(BWT,GEST,mean) etc.
> but this creates a new array of means & SDs.
> 
> - Can anyone suggest how I can slot these means & SDs by factor level
> straight back into the original dataframe, so I can then subtract the mean &
> divide by the SD to get a Z-score for each case?
> - Is there a function already available that can generate z-scores by factor
> levels?
> 
> Stuart

I'd try something along the lines of

n <- length(BWT)
BWTz <- numeric(n)
BWTz[unlist(split(1:n,GEST))] <- unlist(lapply(split(BWT,GEST),scale))

or, probably better

n <- length(BWT)
BWTz <- numeric(n)
for (i in split(1:n,GEST))
       BWTz[i] <- scale(BWT[i])


[The cute way would be 

BWTz <- unsplit(lapply(split(BWT,GEST),scale),GEST)

but someone would have to write unsplit() first...]
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From t.m.b at masrawy.com  Fri Jan 18 12:31:58 2002
From: t.m.b at masrawy.com (Tamer Elbayoumy)
Date: Fri, 18 Jan 2002 13:31:58 +0200 (Egypt Standard Time)
Subject: [R] request
Message-ID: <3C4807AE.02564@compaq>



  I want to plot the quantiles  from=0.01 to 0.1 of normal ,stable and empirical in the same plot (the same axes).I used plot()function, but (add) does not work with plot()function. I used splinefun()function, but the axes of course incorrect.I used spline()function, but the same problem with plot() happened.I used curve(),but it need  f(x). Please how can l plot this?
Thanks for R-Development Core Team  


____________________________________________________
Cannot read this message in arabic?
Join the EGYPTIAN mail community @ http://www.masrawy.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From t.m.b at masrawy.com  Fri Jan 18 12:31:31 2002
From: t.m.b at masrawy.com (Tamer Elbayoumy)
Date: Fri, 18 Jan 2002 13:31:31 +0200 (Egypt Standard Time)
Subject: [R] request
Message-ID: <3C480793.00708@compaq>



  I want to plot the quantiles  from=0.01 to 0.1 of normal ,stable and empirical in the same plot (the same axes).I used plot()function, but (add) does not work with plot()function. I used splinefun()function, but the axes of course incorrect.I used spline()function, but the same problem with plot() happened.I used curve(),but it need  f(x). Please how can l plot this?
Thanks for R-Development Core Team  


____________________________________________________
Cannot read this message in arabic?
Join the EGYPTIAN mail community @ http://www.masrawy.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Fri Jan 18 13:23:55 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Fri, 18 Jan 2002 13:23:55 +0100 (MET)
Subject: [R] R 1.4.0 much slower than R 1.3.1
In-Reply-To: <15430.56230.524285.238474@gargle.gargle.HOWL>
Message-ID: <Pine.OSF.3.96.1020118130509.29651C-100000@ija.csic.es>

Ronaldo,

If you (as me) do not find anything on patched 
versions in the page CRAN (sidebar) -> [ R Sources ],
note that the R-FAQ says:
"Version r-patched is for bug fixes mostly"

and 

"Sources are also available via anonymous rsync.  Use

rsync -rC rsync.r-project.org::module R

to create a copy of the source tree specified by module in the
subdirectory R of the current directory, where module
specifies one of the four existing flavors of the R sources, and can be
one of r-release (current released version), r-patched..."
                                            ^^^^^^^^^^

My understanding is that rsync works by comparing
your current R installation to the one on the
server (R-patched in this case) and you get 
whatever is needed to upgrade.

I think that there is no other way of geting
the patch than using rsync, but I might be wrong.

I've searched the R-FAQ for Windows and there is no mention
of R-patched. I think that the binaries for Windows
do not include the patch, so you would need
to get the sources, then the patch (how in Windows?), and 
then compile yourself. But, personally, I would
not try to compile the Windows version on my own. 

If you are using the windows version, perhaps
you should wait for a newer upgrade of the binary, and,
in the meantime, use the hint provided by  Prof Brian Ripley
(ripley at stats.ox.ac.uk)
on Date: Tue Jan 15 2002 - 10:48:21 CET
(check the archieves, if you cannot let me know).

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Thu, 17 Jan 2002, Martin Maechler wrote:

> >>>>> "Ronaldo" == Ronaldo Reis <chrysopa at insecta.ufv.br> writes:
> 
>     Ronaldo> Em Qua 16 Jan 2002 22:34, Thomas Lumley escreveu:
>     >> On Thu, 17 Jan 2002, Robin Hankin wrote: > Dear R-ers
>     >> >
>     >> > I've recently upgraded to R-1.4 but I have noticed that
>     >> it is slower > to load datasets than R-1.3.1:
>     >> 
>     >> Yes. It's a bug. It's fixed in R-patched.  It's already
>     >> been asked and answered at least twice on this list in
>     >> the last 48 hours.
>     >> 
>     Ronaldo> Hi this bug is in all version of R (linux, windows
>     Ronaldo> etc)?  How I do make to download and patch R-1.4? I
>     Ronaldo> dont find anything in site.  Thanks Ronaldo
> 
> CRAN (sidebar) -> [ R Sources ]  tells you how.
> 
> You must (be able to) compile from the sources .
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jan 18 13:29:36 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Jan 2002 13:29:36 +0100
Subject: [R] R 1.4.0 much slower than R 1.3.1
In-Reply-To: <Pine.OSF.3.96.1020118130509.29651C-100000@ija.csic.es>
References: <Pine.OSF.3.96.1020118130509.29651C-100000@ija.csic.es>
Message-ID: <x2ofjr970v.fsf@blueberry.kubism.ku.dk>

Agustin Lobo <alobo at ija.csic.es> writes:

> I think that there is no other way of geting
> the patch than using rsync, but I might be wrong.

Look under "snapshots" and you'll eventually find

ftp://ftp.stat.math.ethz.ch/Software/R/R-release.diff.gz

Slightly unfortunate naming, perhaps. Maybe we should link it in a
more prominent place?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mylesj at icrf.icnet.uk  Fri Jan 18 14:31:12 2002
From: mylesj at icrf.icnet.uk (Jonathan Myles)
Date: Fri, 18 Jan 2002 13:31:12 +0000 (GMT)
Subject: [R] TeX error generated by R CMD CHECK
Message-ID: <Pine.GSO.3.96.1020118132858.24518B-100000@cordite>


Hello,

can anyone explain the following error I get when trying to
use the CHECK command to check a new version of my pakcage under 1.4.0?

******
./R CMD check ~/GLMMGibbs.0.5.1/GLMMGibbs


 
* checking for working latex ... OK
* using log directory `/homef/jonm/R-1.4.0/bin/GLMMGibbs.Rcheck'

...

<Installs library, documentation, and then performs various tests,
including the example, OK, then ...>


* creating GLMMGibbs-manual.tex ... OK
* checking GLMMGibbs-manual.tex ...
This is TeX, Version 3.14159 (Web2C 7.3.1)
(GLMMGibbs-manual.tex
LaTeX2e <1998/12/01> patch level 1
Babel <v3.6x> and hyphenation patterns for american, british, french,
german, n
german, nohyphenation, loaded.
(/usr/local/teTeX/texmf/tex/latex/base/article.cls
Document Class: article 1996/05/26 v1.3r Standard LaTeX document class

....

(/usr/local/teTeX/texmf/tex/latex/graphics/dvipsnam.def))
(/usr/local/teTeX/texmf/tex/latex/hyperref/hyperref.sty
(/usr/local/teTeX/texmf/tex/latex/graphics/keyval.sty)
(/homef/jonm/R-1.4.0/share/texmf/hyperref.cfg
! key-val: linktocpage undefined.
\KV at err #1->\errmessage {key-val: #1}
                                     
l.12 }
      
? h    <--TYPED BY ME
This error message was generated by an \errmessage
command, so I can't give any explicit help.
Pretend that you're Hercule Poirot: Examine all clues,
and deduce the truth by order and method.


? 
) (/usr/local/teTeX/texmf/tex/latex/hyperref/nameref.sty)
(/usr/local/teTeX/texmf/tex/latex/hyperref/backref.sty))
(/usr/local/teTeX/texmf/tex/latex/hyperref/hypertex.def))
No file GLMMGibbs-manual.aux.
[1] [2]
Overfull \hbox (128.90884pt too wide) in alignment at lines 111--111
 [] [] [] [] 
[3] [4] [5] [6] [7] [8] [9] [10] [11] (GLMMGibbs-manual.aux) )
Output written on GLMMGibbs-manual.dvi (11 pages, 31672 bytes).
Transcript written on GLMMGibbs-manual.log.
 ERROR

*****

Any help, from Belgian detectives or others, warmly apprreciated ...


Jonathan Myles
Imperial Cancer Research Fund
(soon to become Cancer Research UK)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Fri Jan 18 14:32:11 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Fri, 18 Jan 2002 14:32:11 +0100
Subject: [R]: z-scores for different factor levels
References: <200201091528.g09FS2027571@cattell.psych.upenn.edu> <011801c1a00b$76975c40$f2e1f380@nottingham.ac.uk>
Message-ID: <3C4823DB.6500E0F3@atmos.umnw.ethz.ch>

Stuart Leask wrote:
Hello Stuart,

i'm not sure if this is the soultion you looking for

#a random dataset with 5 factor levels
d <-
as.data.frame(cbind(BWT=runif(40),GEST=as.factor(round(runif(40)*4,0))))
#calculate mean and sd (like you didi it)
m <- tapply(d$BWT,d$GEST,mean)
s <- sqrt(tapply(d$BWT,d$GEST,var))
#recalculate BWT and save it inside your data.frame
d$BWT <- (d$BWT-m[d$GEST])/s[d$GEST]

The trick is, that you can use your GEST column to access the rigth item
of mean or sd.

gruess

joerg




> 
> Hi there.
> I am trying to generate z-scores for a variable according to it's factor
> level, leaving this result in the original dataframe.
> 
> ie. standardised birth weight for gestational age in weeks.
> BWT is birthweight
> GEST is gestational age in weeks (equivalent to the factor level)
> 
> I can generate the factor level mean & SD using tapply
> tapply(BWT,GEST,mean) etc.
> but this creates a new array of means & SDs.
> 
> - Can anyone suggest how I can slot these means & SDs by factor level
> straight back into the original dataframe, so I can then subtract the mean &
> divide by the SD to get a Z-score for each case?
> - Is there a function already available that can generate z-scores by factor
> levels?
> 
> Stuart
> 
> Dr Stuart Leask MA MRCPsych, Clinical Lecturer in Psychiatry
> University of Nottingham Dept of Psychiatry, Duncan Macmillan House
> Porchester Road, Nottingham. NG3 6AA. UK
> http://www.nottingham.ac.uk/psychiatry/staff/sjl.html
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
    Joerg Maeder             IACETH              INSTITUTE
   PhD Student                              FOR ATMOSPHERIC 
  Phone: +41 1 633 36 25                 AND CLIMATE SCIENCE
 Fax: +41 1 633 10 58                  ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Richard_Yanicky at nrgn.com  Fri Jan 18 14:57:10 2002
From: Richard_Yanicky at nrgn.com (Yanicky, Richard)
Date: Fri, 18 Jan 2002 08:57:10 -0500
Subject: [R] R for large data sets
Message-ID: <68DD016AFCDBD3118B3000508B6C6B17F1410B@nrgn.nrgn.com>

Hi,

I have been working with RODBC for a few months and have posted to this list
with questions(Thank You for the help!). The flexibility that ROracle would
bring to the Windows platform would be outstanding. I would like to write
SQL requests(no matter how complex) and simply call a function interface to
have them execute, and know that the analysis I have done with explain plan
would be accurate. Not to mention the other Oracle specific advantages that
package has.


P.S.

S-Plus Technical support told me to write my complex queries as stored
procedures and call those. I write/modify 2 or 3 a day. The DBA would just
love to hear from me. 

Rich

-----Original Message-----
From: Fan [mailto:xiao.gang.fan1 at libertysurf.fr]
Sent: Thursday, January 17, 2002 4:03 PM
To: Ernesto Jardim
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] R for large data sets


AFAK, ROracle works only for R unix. 

RODBC works very well for R Windows, I'd like to know 
if there's any interests of ROracle for Windows users 
(ex. large data sets, faster, etc.) ?

Thanks for advice
--
Xiao Gang FAN

Ernesto Jardim a ?crit :
> 
> Hi
> 
> I'm using some large datasets and I found the ROracle package to be of
> great help.
> 
> If you have the chance to create a database in Oracle or MySQL with one
> single table for your dataset, you can then use the ROracle package to
> access the dataset. I found several advantages on that.
> 
> I don't import the data into my environment. I use a small function (see
> below) to access the dataset and because the result is a data.frame you
> can use it as usually.
> 
> Your environment will not be to large and you'll have the ram memory
> less full.
> 
> It's easier to select subsets with SQL than S/R language.
> 
> Hope it helps
> 
> Regards
> 
> EJ
> 
> --//--
> 
> ora.fun <- function(){
> 
>         library(ROracle)
>         m <- dbManager("Oracle")
>         con <- dbConnect(m,user="user",password="password")
>         dat <- quickSQL(con,"select ...")
>         close(con)
>         unload(m)
>         dat
> 
> }
> 
> --//--
> 
> On Tue, 2002-01-15 at 19:43, Prof Brian Ripley wrote:
> > On Tue, 15 Jan 2002, wei, xiaoyan wrote:
> >
> > > As a part of our regular data analysis, I have to read in large data
sets
> > > with six columns and about a million rows. In Splus, this usually take
a
> > > couple of minutes. I just tried R, it seems take forever to use
read.table()
> > > to read in the data frame! It did not help much even though I
specified
> > > colClasses and nrows in read.table().
> > >
> > > How is R's ability to analyze large data sets? I used R on solaris 2.6
and I
> > > used all default compilation flags when building the R package. Will
it help
> > > if I use some compilation flags with higher optimization level?
> >
> > It will help to use R-patched, since I guess you are using 1.4.0.
> > Also, look in the list archives, as I answered this more fully earlier
> > today.
> >
> > In either S-PLUS or R, scan would be a better choice for such a dataset.
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> >
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Douglas_Jones at hgsi.com  Fri Jan 18 15:12:08 2002
From: Douglas_Jones at hgsi.com (Douglas_Jones@hgsi.com)
Date: Fri, 18 Jan 2002 09:12:08 -0500
Subject: [R] R configuration errors
Message-ID: <OF1DD252DC.53729C3F-ON85256B45.004D82CB@hgsi.com>

Hi,

I'm in the process of trying to configure R on a Solaris 2.6 box. I've been
successful in the past configuring R on a Solaris 2.8 box but I've
encountered the following errors while trying to configure R on my 2.6 box.
Any assistance would be appreciated.

ld: fatal: Symbol referencing errors. No output written to R.bin
*** Error code 1
make: Fatal error: Command failed for target `R.bin'
Current working directory /home/djones/R-1.3.1/src/main
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /home/djones/R-1.3.1/src/main
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /home/djones/R-1.3.1/src
*** Error code 1
make: Fatal error: Command failed for target `R'

Thank You,

Douglas Jones


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan 18 15:17:57 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 18 Jan 2002 14:17:57 +0000 (GMT)
Subject: [R] TeX error generated by R CMD CHECK
In-Reply-To: <Pine.GSO.3.96.1020118132858.24518B-100000@cordite>
Message-ID: <Pine.LNX.4.31.0201181410130.25216-100000@gannet.stats>

Your latex is 3 years out of date, the current one being
LaTeX2e <2001/06/01>
The error is occuring in hyperref, and my guess is that your hyperref is
also old.  doc/manual/README say at least version 6.56 is needed.

Please try a more recent hyperref.  You might get away with removing that
line in hyperref.cfg, though.

On Fri, 18 Jan 2002, Jonathan Myles wrote:

>
> Hello,
>
> can anyone explain the following error I get when trying to
> use the CHECK command to check a new version of my pakcage under 1.4.0?
>
> ******
> ./R CMD check ~/GLMMGibbs.0.5.1/GLMMGibbs
>
>
>
> * checking for working latex ... OK
> * using log directory `/homef/jonm/R-1.4.0/bin/GLMMGibbs.Rcheck'
>
> ...
>
> <Installs library, documentation, and then performs various tests,
> including the example, OK, then ...>
>
>
> * creating GLMMGibbs-manual.tex ... OK
> * checking GLMMGibbs-manual.tex ...
> This is TeX, Version 3.14159 (Web2C 7.3.1)
> (GLMMGibbs-manual.tex
> LaTeX2e <1998/12/01> patch level 1
> Babel <v3.6x> and hyphenation patterns for american, british, french,
> german, n
> german, nohyphenation, loaded.
> (/usr/local/teTeX/texmf/tex/latex/base/article.cls
> Document Class: article 1996/05/26 v1.3r Standard LaTeX document class
>
> ....
>
> (/usr/local/teTeX/texmf/tex/latex/graphics/dvipsnam.def))
> (/usr/local/teTeX/texmf/tex/latex/hyperref/hyperref.sty
> (/usr/local/teTeX/texmf/tex/latex/graphics/keyval.sty)
> (/homef/jonm/R-1.4.0/share/texmf/hyperref.cfg
> ! key-val: linktocpage undefined.
> \KV at err #1->\errmessage {key-val: #1}
>
> l.12 }
>
> ? h    <--TYPED BY ME
> This error message was generated by an \errmessage
> command, so I can't give any explicit help.
> Pretend that you're Hercule Poirot: Examine all clues,
> and deduce the truth by order and method.
>
>
> ?
> ) (/usr/local/teTeX/texmf/tex/latex/hyperref/nameref.sty)
> (/usr/local/teTeX/texmf/tex/latex/hyperref/backref.sty))
> (/usr/local/teTeX/texmf/tex/latex/hyperref/hypertex.def))
> No file GLMMGibbs-manual.aux.
> [1] [2]
> Overfull \hbox (128.90884pt too wide) in alignment at lines 111--111
>  [] [] [] []
> [3] [4] [5] [6] [7] [8] [9] [10] [11] (GLMMGibbs-manual.aux) )
> Output written on GLMMGibbs-manual.dvi (11 pages, 31672 bytes).
> Transcript written on GLMMGibbs-manual.log.
>  ERROR
>
> *****
>
> Any help, from Belgian detectives or others, warmly apprreciated ...
>
>
> Jonathan Myles
> Imperial Cancer Research Fund
> (soon to become Cancer Research UK)
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan 18 15:21:44 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 18 Jan 2002 14:21:44 +0000 (GMT)
Subject: [R] R configuration errors
In-Reply-To: <OF1DD252DC.53729C3F-ON85256B45.004D82CB@hgsi.com>
Message-ID: <Pine.LNX.4.31.0201181419420.25216-100000@gannet.stats>

On Fri, 18 Jan 2002 Douglas_Jones at hgsi.com wrote:

> Hi,
>
> I'm in the process of trying to configure R on a Solaris 2.6 box. I've been
> successful in the past configuring R on a Solaris 2.8 box but I've
> encountered the following errors while trying to configure R on my 2.6 box.
> Any assistance would be appreciated.

Normally its gives a list of what they are at this point, and without that
we can't help much. It also helps to know what compilers and configure
options were used ....

R 1.4.0 is current, and many of us no longer have 1.3.1 around.

> ld: fatal: Symbol referencing errors. No output written to R.bin
> *** Error code 1
> make: Fatal error: Command failed for target `R.bin'
> Current working directory /home/djones/R-1.3.1/src/main
> *** Error code 1
> make: Fatal error: Command failed for target `R'
> Current working directory /home/djones/R-1.3.1/src/main
> *** Error code 1
> make: Fatal error: Command failed for target `R'
> Current working directory /home/djones/R-1.3.1/src
> *** Error code 1
> make: Fatal error: Command failed for target `R'
>
> Thank You,
>
> Douglas Jones
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Fri Jan 18 15:28:47 2002
From: stuart.leask at nottingham.ac.uk (Stuart Leask)
Date: Fri, 18 Jan 2002 14:28:47 -0000
Subject: [R]: z-scores for different factor levels
References: <200201091528.g09FS2027571@cattell.psych.upenn.edu> <011801c1a00b$76975c40$f2e1f380@nottingham.ac.uk> <3C4823DB.6500E0F3@atmos.umnw.ethz.ch>
Message-ID: <009a01c1a02c$70f9aa60$f2e1f380@nottingham.ac.uk>

Many thanks to Joerg and Peter for their suggestions.

I had tried something using the same trick as Joerg (indexing m & s using
GEST), but despite much fiddling it didn't work. Joerg's version does work,
however. And now, with some further fiddling (to deal with missing values)
mine does too!

Stuart

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kubovy at virginia.edu  Fri Jan 18 15:37:28 2002
From: kubovy at virginia.edu (Michael Kubovy)
Date: Fri, 18 Jan 2002 09:37:28 -0500
Subject: [R] New R on Mac user fails to run MASS
Message-ID: <3C483329.D6EAA6BC@virginia.edu>

My R installation (Mac OS9.2.2) is working, but when I try to run the
examples from Venables & Ripley (p. 6):

R : Copyright 2001, The R Development Core Team
Version 1.4.0  (2001-12-19)

...

> library(MASS)
> x<-rnorm(1000)
> y<-rnorm(1000)
> truehist(c(x,y+3),nbins=25)					% Plots nicely
> dd<-con2tr(kde2d(x,y))						% Doesn't complain
> contourplot(z ~ x + y, data=dd,aspect=1)
Error: couldn't find function "contourplot"
> wireframe(z ~ x + y, data=dd,drape=T)
Error: couldn't find function "wireframe"
> 
-- 
=======================================================================
||\  /||  /  Michael Kubovy, Dept. of Psychology, Univ. of Virginia  ||
|| \/ || /   P.O.Box 400400, Charlottesville, VA 22904-4400          ||
||    ||/\   office (B011): 434-982-4729, lab (B019): -4751          ||
||    ||  \  Dept. fax: -4766; personal fax: 240-218-2334            ||
||    ||   \ URL http://www.people.virginia.edu/~mk9y                ||
======================================================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Fri Jan 18 15:37:33 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 18 Jan 2002 09:37:33 -0500
Subject: [R] RE: z-scores for different factor levels
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF1FE@groexmbcr02.pfizer.com>

Hi Stuart,

I often use this small function

	standardize <- function(x)  ( x - mean(x, na.rm=T) ) / sqrt(var(x,
na.rm=T))

to standardize variables. 

You should be able to use this to do what you want by splitting the data
frame into sections based on the factor level, using standardize() to create
a new variable in each section, then paste the data frame back together. 

Something like:

	# create test data
	test <- data.frame( f=sample(c("A","B","C"),100,replace=T), 
                           x1=rnorm(100,2,5), x2=rnorm(100) )
	# split by factor
	subsets <- split(test,test$f)

	# create the standardized version of x1
	subsets <- lapply(subsets, function(s) { s$x1s <- standardize(s$x1);
s} )

	# paste the results back together
	result <- data.frame()
	for(s in subsets) result <- rbind(result, s)

-Greg

-----Original Message-----
From: Stuart Leask [mailto:stuart.leask at nottingham.ac.uk]
Sent: Friday, January 18, 2002 5:33 AM
To: r-help at stat.math.ethz.ch
Subject: [R]: z-scores for different factor levels


Hi there.
I am trying to generate z-scores for a variable according to it's factor
level, leaving this result in the original dataframe.

ie. standardised birth weight for gestational age in weeks.
BWT is birthweight
GEST is gestational age in weeks (equivalent to the factor level)

I can generate the factor level mean & SD using tapply
tapply(BWT,GEST,mean) etc.
but this creates a new array of means & SDs.

- Can anyone suggest how I can slot these means & SDs by factor level
straight back into the original dataframe, so I can then subtract the mean &
divide by the SD to get a Z-score for each case?
- Is there a function already available that can generate z-scores by factor
levels?

Stuart

Dr Stuart Leask MA MRCPsych, Clinical Lecturer in Psychiatry
University of Nottingham Dept of Psychiatry, Duncan Macmillan House
Porchester Road, Nottingham. NG3 6AA. UK
http://www.nottingham.ac.uk/psychiatry/staff/sjl.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Fri Jan 18 16:00:51 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Fri, 18 Jan 2002 16:00:51 +0100 (MET)
Subject: [R] readline() to vector
Message-ID: <Pine.OSF.3.96.1020118155408.2649B-100000@ija.csic.es>


Hi!

I'm trying to use readline() to ask for xlim() and ylim() values
for a subsequent plot. I'm doing:

lim <- readline("Enter xlim and ylim values: ")

then would like to use the values in lim for a plot:

plot(etc, xlim=lim[1:2],ylim=lim[3:4])

The problem is that lim is a character,i.e.,

"10,20,-10,50"
or 
"c(10,20,-10,50)"

depending on the input to the readline request.

My question is: how can I transform either "10,20,-10,50" or
"c(10,20,-10,50)" into a numeric vector ?

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Fri Jan 18 16:06:14 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 18 Jan 2002 10:06:14 -0500
Subject: [R] RE: z-scores for different factor levels
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF200@groexmbcr02.pfizer.com>


Brian Ripley pointed out that there is already an R function scale() that
does the work of my standardize().

-Greg


-----Original Message-----
From: Warnes, Gregory R 
Sent: Friday, January 18, 2002 9:38 AM
To: 'Stuart Leask'
Cc: 'r-help at stat.math.ethz.ch'
Subject: RE: z-scores for different factor levels


Hi Stuart,

I often use this small function

	standardize <- function(x)  ( x - mean(x, na.rm=T) ) / sqrt(var(x,
na.rm=T))

to standardize variables. 

You should be able to use this to do what you want by splitting the data
frame into sections based on the factor level, using standardize() to create
a new variable in each section, then paste the data frame back together. 

Something like:

	# create test data
	test <- data.frame( f=sample(c("A","B","C"),100,replace=T), 
                           x1=rnorm(100,2,5), x2=rnorm(100) )
	# split by factor
	subsets <- split(test,test$f)

	# create the standardized version of x1
	subsets <- lapply(subsets, function(s) { s$x1s <- standardize(s$x1);
s} )

	# paste the results back together
	result <- data.frame()
	for(s in subsets) result <- rbind(result, s)

-Greg

-----Original Message-----
From: Stuart Leask [mailto:stuart.leask at nottingham.ac.uk]
Sent: Friday, January 18, 2002 5:33 AM
To: r-help at stat.math.ethz.ch
Subject: [R]: z-scores for different factor levels


Hi there.
I am trying to generate z-scores for a variable according to it's factor
level, leaving this result in the original dataframe.

ie. standardised birth weight for gestational age in weeks.
BWT is birthweight
GEST is gestational age in weeks (equivalent to the factor level)

I can generate the factor level mean & SD using tapply
tapply(BWT,GEST,mean) etc.
but this creates a new array of means & SDs.

- Can anyone suggest how I can slot these means & SDs by factor level
straight back into the original dataframe, so I can then subtract the mean &
divide by the SD to get a Z-score for each case?
- Is there a function already available that can generate z-scores by factor
levels?

Stuart

Dr Stuart Leask MA MRCPsych, Clinical Lecturer in Psychiatry
University of Nottingham Dept of Psychiatry, Duncan Macmillan House
Porchester Road, Nottingham. NG3 6AA. UK
http://www.nottingham.ac.uk/psychiatry/staff/sjl.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Fri Jan 18 16:09:22 2002
From: stuart.leask at nottingham.ac.uk (Stuart Leask)
Date: Fri, 18 Jan 2002 15:09:22 -0000
Subject: [R] Re: z-scores for different factor levels
References: <5429125E11E4D411AF7300805FE603A8014CF1FE@groexmbcr02.pfizer.com>
Message-ID: <00a801c1a032$1c6b7d60$f2e1f380@nottingham.ac.uk>

Thanks, Greg.

I had a feeling there must be a few different solutions to this (pretty
common) problem.

Stuart

----- Original Message -----
From: Warnes, Gregory R <gregory_r_warnes at groton.pfizer.com>
To: 'Stuart Leask' <stuart.leask at nottingham.ac.uk>
Cc: <r-help at stat.math.ethz.ch>
Sent: Friday, January 18, 2002 2:37 PM
Subject: RE: z-scores for different factor levels


> Hi Stuart,
>
> I often use this small function
>
> standardize <- function(x)  ( x - mean(x, na.rm=T) ) / sqrt(var(x,
> na.rm=T))
>
> to standardize variables.
>
> You should be able to use this to do what you want by splitting the data
> frame into sections based on the factor level, using standardize() to
create
> a new variable in each section, then paste the data frame back together.
>
> Something like:
>
> # create test data
> test <- data.frame( f=sample(c("A","B","C"),100,replace=T),
>                            x1=rnorm(100,2,5), x2=rnorm(100) )
> # split by factor
> subsets <- split(test,test$f)
>
> # create the standardized version of x1
> subsets <- lapply(subsets, function(s) { s$x1s <- standardize(s$x1);
> s} )
>
> # paste the results back together
> result <- data.frame()
> for(s in subsets) result <- rbind(result, s)
>
> -Greg
>
> -----Original Message-----
> From: Stuart Leask [mailto:stuart.leask at nottingham.ac.uk]
> Sent: Friday, January 18, 2002 5:33 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R]: z-scores for different factor levels
>
>
> Hi there.
> I am trying to generate z-scores for a variable according to it's factor
> level, leaving this result in the original dataframe.
>
> ie. standardised birth weight for gestational age in weeks.
> BWT is birthweight
> GEST is gestational age in weeks (equivalent to the factor level)
>
> I can generate the factor level mean & SD using tapply
> tapply(BWT,GEST,mean) etc.
> but this creates a new array of means & SDs.
>
> - Can anyone suggest how I can slot these means & SDs by factor level
> straight back into the original dataframe, so I can then subtract the mean
&
> divide by the SD to get a Z-score for each case?
> - Is there a function already available that can generate z-scores by
factor
> levels?
>
> Stuart
>
> Dr Stuart Leask MA MRCPsych, Clinical Lecturer in Psychiatry
> University of Nottingham Dept of Psychiatry, Duncan Macmillan House
> Porchester Road, Nottingham. NG3 6AA. UK
> http://www.nottingham.ac.uk/psychiatry/staff/sjl.html
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.
> -.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
>
>
> LEGAL NOTICE
> Unless expressly stated otherwise, this message is confidential and may be
privileged. It is intended for the addressee(s) only. Access to this E-mail
by anyone else is unauthorized. If you are not an addressee, any disclosure
or copying of the contents of this E-mail or any action taken (or not taken)
in reliance on it is unauthorized and may be unlawful. If you are not an
addressee, please inform the sender immediately.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Fri Jan 18 16:19:10 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Fri, 18 Jan 2002 16:19:10 +0100 (MET)
Subject: [R] readline() to vector
In-Reply-To: <Pine.OSF.3.96.1020118155408.2649B-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.21.0201181618570.1529-100000@artemis.imbe.med.uni-erlangen.de>

> Hi!
> 
> I'm trying to use readline() to ask for xlim() and ylim() values
> for a subsequent plot. I'm doing:
> 
> lim <- readline("Enter xlim and ylim values: ")
> 
> then would like to use the values in lim for a plot:
> 
> plot(etc, xlim=lim[1:2],ylim=lim[3:4])
> 
> The problem is that lim is a character,i.e.,
> 
> "10,20,-10,50"
> or 
> "c(10,20,-10,50)"

R> eval(parse(text="c(10,20,-10,50)"))

Torsten

> 
> depending on the input to the readline request.
> 
> My question is: how can I transform either "10,20,-10,50" or
> "c(10,20,-10,50)" into a numeric vector ?
> 
> Thanks
> 
> Agus
> 
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gattuso at obs-vlfr.fr  Fri Jan 18 17:01:34 2002
From: gattuso at obs-vlfr.fr (Jean-Pierre Gattuso)
Date: Fri, 18 Jan 2002 17:01:34 +0100
Subject: [R] length of dimnames???
Message-ID: <p05101002b86df6119a78@[193.49.112.222]>

Hi:

I have made a lot of progress reading and manipulating large data 
files, thanks to the help of several of you. I am now stuck with 
writing the final file with the following error (see also the full 
transcript below):

	Error in as.matrix.data.frame(x) : length of dimnames[2] not 
equal to array extent

I do not know what it means and could not find how to get around that 
in the manual nor in the R search page.

Any idea?

Thanks,
jp

-----------------------------
>  frame1 <- read.table("/Users/gattuso/zRdata/coca/oceanic.txt", 
>header=TRUE,sep=",")
>  frame2 <- read.table("/Users/gattuso/zRdata/coca/cellids.txt", 
>header=TRUE,sep=",")
>  frame1$celltype <- frame2[match(frame1$ID,frame2$ID),2]
>  frame1$cellid <- frame2[match(frame1$ID,frame2$ID),3]
>  frame1$zone <- frame2[match(frame1$ID,frame2$ID),6]
>  frame1$area <- frame2[match(frame1$ID,frame2$ID),7]
>  frame1$perimeter <- frame2[match(frame1$ID,frame2$ID),8]
>  write.table(frame1, file = 
>"/Users/gattuso/zRdata/coca/oceanictest.txt", sep = ",",eol = "\n")
Error in as.matrix.data.frame(x) : length of dimnames[2] not equal to 
array extent

-- 
____________________________________________________________________
Jean-Pierre Gattuso
Laboratoire d'Oc?anographie de Villefranche, UMR 7093 CNRS-UPMC
B. P. 28, F-06234 Villefranche-sur-mer Cedex - France
Voice: +33 (0)493763859 - Fax: +33 (0)493763834
<mailto:gattuso at obs-vlfr.fr> - http://www.obs-vlfr.fr/~gattuso
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Fri Jan 18 17:03:22 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Fri, 18 Jan 2002 11:03:22 -0500
Subject: [R] Underlined font
Message-ID: <15432.18250.959678.681778@gargle.gargle.HOWL>

Hi all,

   Is there a simple way to place underlined text in a plot?

   Hershey vector fonts seem to have a single underscore character ("\\ul"),
but no underlined font.  Plotmath (ref: ?plotmath) comes very close with:
  R> plot(0:1,0:1, type="n")
  R> text(.1, .1, quote(bar(Hello)))
but that's overlined, not underlined.  Also:
  R> text(.2, .2, quote(over(Hello, phantom())))
is the right idea but leaves too much space.  Thanks for any help!
-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baba at mxr.mesh.ne.jp  Fri Jan 18 16:48:10 2002
From: baba at mxr.mesh.ne.jp (baba@mxr.mesh.ne.jp)
Date: Sat, 19 Jan 2002 00:48:10 +0900
Subject: [R] Loading to R of Fortran DLL
Message-ID: <10201181548.AA00164@MyComputer.mxr.mesh.ne.jp>

Dear R-ers

Could you tell me how to build DLL from Fortran source and use the DLL in R?

Environments: 
Windows 98
Fortran compiler : DIGITAL Visual Fortran Optimizing Compiler Version: V5.0
R v1.2.3

EXAMPLE SOURCE : FOO.FOR
-------------------------------------
		SUBROUTINE FOO(I,J)
		INTEGER I,J
		I=0
		J=I+1
		END
-------------------------------------

I compiled FOO.FOR with DLL option.

C:\> DF FOO.FOR /DLL
#####
###
####
FOO.DLL

Then, I could build FOO.DLL and used R as follows.

R> print(dyn.load("FOO.DLL"))
NULL
R> 

I could not load FOO.DLL. I am not sure whether FOO.DLL is bad or not.

Could you tell me how to build DLL in Visual Fortran or another fortran compiler on Windows?
I will appreciate it, if you give me a sample Fortran code and any advice to build and use DLL. 

Best Regards,
Baba


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Luca.Toldo at merck.de  Fri Jan 18 17:25:47 2002
From: Luca.Toldo at merck.de (Luca.Toldo@merck.de)
Date: Fri, 18 Jan 2002 17:25:47 +0100
Subject: [R] [R 1.4] Cannot allocate vector of length 1073741824
Message-ID: <OFD1B1E265.69B24EA1-ONC1256B45.0059C4CA@merck.de>

dear All,
I am operating on an SGI machine with 16 GB memory, and I have unlimited
resource access.

However, when I run the following command

x<-matrix(NA,32768,32768)

I get the following error

Error in matrix(NA,32768,32768) : cannot allocate vector of length
1073741824

I have compiled R 1.4 myself, using the default ./configure option.
I have the feeling that perhaps I shall recompile it ...

any suggestion is welcome.

Regards and thanks
with compliments for keeping going the marvellous R system.

Luca

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jan 18 17:38:43 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 18 Jan 2002 08:38:43 -0800 (PST)
Subject: [R] Loading to R of Fortran DLL
In-Reply-To: <10201181548.AA00164@MyComputer.mxr.mesh.ne.jp>
Message-ID: <Pine.A41.4.44.0201180834180.16914-100000@homer26.u.washington.edu>

On Sat, 19 Jan 2002 baba at mxr.mesh.ne.jp wrote:

> Dear R-ers
>
> Could you tell me how to build DLL from Fortran source and use the DLL in R?
>
> Environments:
> Windows 98
> Fortran compiler : DIGITAL Visual Fortran Optimizing Compiler Version: V5.0
> R v1.2.3
     ^^^^^
  that isn't the problem, but you really should upgrade at least once a
year.


> EXAMPLE SOURCE : FOO.FOR
> -------------------------------------
> 		SUBROUTINE FOO(I,J)
> 		INTEGER I,J
> 		I=0
> 		J=I+1
> 		END
> -------------------------------------
>

>
> R> print(dyn.load("FOO.DLL"))
> NULL
> R>
>
> I could not load FOO.DLL. I am not sure whether FOO.DLL is bad or not.

That looks as if you *did* load it. There was no error message, and
dyn.load() is supposed to return NULL (though this could be documented
better).

To check, you can try

   is.loaded(symbol.For("FOO"))

to see if SUBROUTINE FOO is accessible to .Fortran calls.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jan 18 17:48:07 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 18 Jan 2002 08:48:07 -0800 (PST)
Subject: [R] [R 1.4] Cannot allocate vector of length 1073741824
In-Reply-To: <OFD1B1E265.69B24EA1-ONC1256B45.0059C4CA@merck.de>
Message-ID: <Pine.A41.4.44.0201180839520.16914-100000@homer26.u.washington.edu>

On Fri, 18 Jan 2002 Luca.Toldo at merck.de wrote:

> dear All,
> I am operating on an SGI machine with 16 GB memory, and I have unlimited
> resource access.
>
> However, when I run the following command
>
> x<-matrix(NA,32768,32768)
>
> I get the following error
>
> Error in matrix(NA,32768,32768) : cannot allocate vector of length
> 1073741824

This is asking for (probably) 4Gb of memory, which is quite a lot even
with 16Gb available.  The new (post1.2) memory manager should in principle
be able to allocate all the memory you can address, as long as no object
has more than 2^31 entries and there are no more than 2^31 objects, but I
don't think all the int vs long vs pointer details have been chased down
yet. I haven't heard of anyone using more than 2Gb for R, but if there is
anyone they are probably subscribed to this list...

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jan 18 17:50:01 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 18 Jan 2002 08:50:01 -0800 (PST)
Subject: [R] New R on Mac user fails to run MASS
In-Reply-To: <3C483329.D6EAA6BC@virginia.edu>
Message-ID: <Pine.A41.4.44.0201180848160.16914-100000@homer26.u.washington.edu>

On Fri, 18 Jan 2002, Michael Kubovy wrote:

> My R installation (Mac OS9.2.2) is working, but when I try to run the
> examples from Venables & Ripley (p. 6):
>
> R : Copyright 2001, The R Development Core Team
> Version 1.4.0  (2001-12-19)
>
> ...
>
> > library(MASS)
> > x<-rnorm(1000)
> > y<-rnorm(1000)
> > truehist(c(x,y+3),nbins=25)					% Plots nicely
> > dd<-con2tr(kde2d(x,y))						% Doesn't complain
> > contourplot(z ~ x + y, data=dd,aspect=1)
> Error: couldn't find function "contourplot"
> > wireframe(z ~ x + y, data=dd,drape=T)
> Error: couldn't find function "wireframe"

This looks as if you're trying to use the S-PLUS examples rather than the
`R Complements' that are available from the MASS website.

S-PLUS has some features that R lacks, and others that R implements
differently, and the `R Complements' help work around this.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jan 18 17:55:30 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 18 Jan 2002 08:55:30 -0800 (PST)
Subject: [R] length of dimnames???
In-Reply-To: <p05101002b86df6119a78@[193.49.112.222]>
Message-ID: <Pine.A41.4.44.0201180850060.16914-100000@homer26.u.washington.edu>

On Fri, 18 Jan 2002, Jean-Pierre Gattuso wrote:

<snip>
> 	Error in as.matrix.data.frame(x) : length of dimnames[2] not
> equal to array extent
>
<snip>
> Any idea?

My first guess would be that frame1 no longer has all its columns the same
length. You might need match(,all=TRUE) or something.

If this isn't the case you can do
   debug(as.matrix.data.frame)
and then see what is getting passed to the function [use
undebug(as.matrix.data.frame) to turn off debugging]

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Fri Jan 18 18:16:11 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Fri, 18 Jan 2002 18:16:11 +0100 (MET)
Subject: [R] readline() to vector
In-Reply-To: <Pine.OSF.3.96.1020118155408.2649B-100000@ija.csic.es>
Message-ID: <Pine.GSO.4.10.10201181810290.9782-100000@speed.maths.lth.se>

The following code handles the situation when you enter a string of type 
"10,20,-10,50":

  limStr <- readline("Enter xlim and ylim values: ");
  lim <- as.numeric(unlist(strsplit(limStr, ",")));

To parse strings of type "c(10,20,-10,50)" you could strsplit the string
on "c(" and ")" first to get the "10,20,-10,50" part and the proceed as
above. 

Cheers

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences 
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e
http://www.maths.lth.se/matstat/staff/hb/



On Fri, 18 Jan 2002, Agustin Lobo wrote:

> 
> Hi!
> 
> I'm trying to use readline() to ask for xlim() and ylim() values
> for a subsequent plot. I'm doing:
> 
> lim <- readline("Enter xlim and ylim values: ")
> 
> then would like to use the values in lim for a plot:
> 
> plot(etc, xlim=lim[1:2],ylim=lim[3:4])
> 
> The problem is that lim is a character,i.e.,
> 
> "10,20,-10,50"
> or 
> "c(10,20,-10,50)"
> 
> depending on the input to the readline request.
> 
> My question is: how can I transform either "10,20,-10,50" or
> "c(10,20,-10,50)" into a numeric vector ?
> 
> Thanks
> 
> Agus
> 
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Fri Jan 18 19:40:43 2002
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Fri, 18 Jan 2002 10:40:43 -0800
Subject: [R] easier way to update packages i'm developing?
Message-ID: <001901c1a04f$a30a8240$01000001@godzilla>

I'm frightfully new at developing r packages. I'm developing an econometrics
package, and each time I update my beta package, I close R, delete the
package dir in the library dir, rebuild the zip file, rerun R, reinstall the
package and run the functions. Is there a more efficient way?

Jeff.

Jeff D. Hamann
Hamann, Donald & Associates, Inc.
PO Box 1421
Corvallis, Oregon USA 97339-1421
Bus. 541-753-7333
Cell. 541-740-5988
jeff_hamann at hamanndonald.com
www.hamanndonald.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dan.he at inria.fr  Fri Jan 18 20:45:33 2002
From: dan.he at inria.fr (Dan HE)
Date: Fri, 18 Jan 2002 20:45:33 +0100
Subject: [R] length of dimnames???
References: <p05101002b86df6119a78@[193.49.112.222]>
Message-ID: <3C487B5D.6FB27247@inria.fr>

Hi,

I guess the length of frame1 colmun ID is not the same length as 
frame2's ID because your frame1 table will be created by those
assignments. 

/D

Jean-Pierre Gattuso wrote:
> 
> Hi:
> 
> I have made a lot of progress reading and manipulating large data
> files, thanks to the help of several of you. I am now stuck with
> writing the final file with the following error (see also the full
> transcript below):
> 
>         Error in as.matrix.data.frame(x) : length of dimnames[2] not
> equal to array extent
> 
> I do not know what it means and could not find how to get around that
> in the manual nor in the R search page.
> 
> Any idea?
> 
> Thanks,
> jp
> 
> -----------------------------
> >  frame1 <- read.table("/Users/gattuso/zRdata/coca/oceanic.txt",
> >header=TRUE,sep=",")
> >  frame2 <- read.table("/Users/gattuso/zRdata/coca/cellids.txt",
> >header=TRUE,sep=",")
> >  frame1$celltype <- frame2[match(frame1$ID,frame2$ID),2]
> >  frame1$cellid <- frame2[match(frame1$ID,frame2$ID),3]
> >  frame1$zone <- frame2[match(frame1$ID,frame2$ID),6]
> >  frame1$area <- frame2[match(frame1$ID,frame2$ID),7]
> >  frame1$perimeter <- frame2[match(frame1$ID,frame2$ID),8]
> >  write.table(frame1, file =
> >"/Users/gattuso/zRdata/coca/oceanictest.txt", sep = ",",eol = "\n")
> Error in as.matrix.data.frame(x) : length of dimnames[2] not equal to
> array extent
> 
> --
> ____________________________________________________________________
> Jean-Pierre Gattuso
> Laboratoire d'Oc?anographie de Villefranche, UMR 7093 CNRS-UPMC
> B. P. 28, F-06234 Villefranche-sur-mer Cedex - France
> Voice: +33 (0)493763859 - Fax: +33 (0)493763834
> <mailto:gattuso at obs-vlfr.fr> - http://www.obs-vlfr.fr/~gattuso
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jan 18 21:09:52 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 18 Jan 2002 12:09:52 -0800 (PST)
Subject: [R] easier way to update packages i'm developing?
In-Reply-To: <001901c1a04f$a30a8240$01000001@godzilla>
Message-ID: <Pine.A41.4.44.0201181206310.16914-100000@homer26.u.washington.edu>

On Fri, 18 Jan 2002, Jeff D. Hamann wrote:

> I'm frightfully new at developing r packages. I'm developing an econometrics
> package, and each time I update my beta package, I close R, delete the
> package dir in the library dir, rebuild the zip file, rerun R, reinstall the
> package and run the functions. Is there a more efficient way?
>

I think that's the best way if you want to test the whole package. You
don't actually have to quit R -- you can just detach() the package.

You could source individual .R files into R as you modify them, without
rebuilding the package, and then from time to time go through the whole
package-building process for the sake of tidiness.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GPetris at uark.edu  Fri Jan 18 21:36:48 2002
From: GPetris at uark.edu (Giovanni Petris)
Date: Fri, 18 Jan 2002 14:36:48 -0600 (CST)
Subject: [R] Shared libraries for use with R 
Message-ID: <200201182036.OAA05603@definetti.uark.edu>


I am moving my first steps in writing and compiling C code and calling
it from R. (I am also new to shared libraries...) My
problem is that my C code uses a C function contained in 
another library (".a", not ".so" - is that the problem?). 

This is how I compile the file with the functions I want to call from R:

cd /export/home/gpetris/
R SHLIB tryit.c
cc -I/export/home/share/R/R-1.4.0/lib/R/include "-I/export/home/gpetris/C" -I/usr/local/include -I/export/home/share/include   -KPIC  -xO5 -dalign -xlic_lib=sunperf -c tryit.c -o tryit.o
cc -G  -o tryit.so tryit.o "-L/export/home/gpetris/lib/SUN/32bit -lutil -lrand" -L/usr/local/lib -L/export/home/share/lib  

Compilation finished at Fri Jan 18 12:45:20

So far, so good. But when I dyn.load it in R:

> dyn.load("tryit.so")
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
	unable to load shared library "/export/home/gpetris/tryit.so":
  ld.so.1: /export/home/share/R/R-1.4.0/lib/R/bin/R.bin: fatal: relocation error: file /export/home/gpetris/tryit.so: symbol dmatrix: referenced symbol not found

The function dmatrix is contained in the object file nrutil.o in
the library /export/home/gpetris/lib/SUN/32bit/libutil.a
I was hoping that the flags given to R SHLIB could take care of that,
but apparently I was wrong...
What am I missing? Any help will be greatly appreciated.

Thank you in advance,
Giovanni

-- 

 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (501) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan 18 22:00:00 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 18 Jan 2002 21:00:00 +0000 (GMT)
Subject: [R] Shared libraries for use with R 
In-Reply-To: <200201182036.OAA05603@definetti.uark.edu>
Message-ID: <Pine.LNX.4.31.0201182054120.31063-100000@gannet.stats>

On Fri, 18 Jan 2002, Giovanni Petris wrote:

>
> I am moving my first steps in writing and compiling C code and calling
> it from R. (I am also new to shared libraries...) My
> problem is that my C code uses a C function contained in
> another library (".a", not ".so" - is that the problem?).
>
> This is how I compile the file with the functions I want to call from R:
>
> cd /export/home/gpetris/
> R SHLIB tryit.c
> cc -I/export/home/share/R/R-1.4.0/lib/R/include "-I/export/home/gpetris/C" -I/usr/local/include -I/export/home/share/include   -KPIC  -xO5 -dalign -xlic_lib=sunperf -c tryit.c -o tryit.o
> cc -G  -o tryit.so tryit.o "-L/export/home/gpetris/lib/SUN/32bit -lutil -lrand" -L/usr/local/lib -L/export/home/share/lib
>
> Compilation finished at Fri Jan 18 12:45:20
>
> So far, so good. But when I dyn.load it in R:

Solaris, I presume from the flags, but *please* tell us enough background
information.

> > dyn.load("tryit.so")
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
> 	unable to load shared library "/export/home/gpetris/tryit.so":
>   ld.so.1: /export/home/share/R/R-1.4.0/lib/R/bin/R.bin: fatal: relocation error: file /export/home/gpetris/tryit.so: symbol dmatrix: referenced symbol not found
>
> The function dmatrix is contained in the object file nrutil.o in
> the library /export/home/gpetris/lib/SUN/32bit/libutil.a
> I was hoping that the flags given to R SHLIB could take care of that,
> but apparently I was wrong...

Try nm -pg tryit.so and ldd tryit.so.  The linker will use a shared
version of libutil if one exists, and then you would need a -R flag.

I am also not sure why you have quotes around parts of the cc lines: I
think you have been quoting in Makevars when you should not be.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nawlnz at yahoo.com  Fri Jan 18 22:13:59 2002
From: nawlnz at yahoo.com (Dennis L. Malandro)
Date: Fri, 18 Jan 2002 13:13:59 -0800 (PST)
Subject: [R] Replacing data.frame values
Message-ID: <20020118211359.2511.qmail@web14402.mail.yahoo.com>

Hello,

I have two data frames, NameAndConc.df and
WhichOnes.df.  NameAndConc.df has two columns, the
first column is the names of some material, and the
second column is the concentration of active
ingredient.

> NameAndConc.df
       name conc
1 material1  0.8
2 material2  0.5
3 material3  0.4

WhichOnes.df has two columns, each of which specifies
which material.

> WhichOnes.df
  component1 component2
1  material2  material3
2         NA  material1
3  material3  material2
4  material2         NA

>From these two data.frames, I'd like to generate a
third data frame that is WhichOnes.df with the names
replaced by the corresponding concentrations from
NameAndConc.df.  So it would be

> New.df
  component1 component2
1        0.5        0.4
2         NA        0.8
3        0.4        0.5
4        0.5         NA


Would someone please lend me a help'n hand with this?

Cheers,
Dennis

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Jan 18 22:31:19 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 18 Jan 2002 22:31:19 +0100
Subject: [R] Underlined font
References: <15432.18250.959678.681778@gargle.gargle.HOWL>
Message-ID: <3C489427.ED0D5035@statistik.uni-dortmund.de>

David Brahm wrote:
> 
> Hi all,
> 
>    Is there a simple way to place underlined text in a plot?
> 
>    Hershey vector fonts seem to have a single underscore character ("\\ul"),
> but no underlined font.  Plotmath (ref: ?plotmath) comes very close with:
>   R> plot(0:1,0:1, type="n")
>   R> text(.1, .1, quote(bar(Hello)))
> but that's overlined, not underlined.  Also:
>   R> text(.2, .2, quote(over(Hello, phantom())))
> is the right idea but leaves too much space.  Thanks for any help!


Don't know a nice solution, but as a workaround you can underline the
text() yourself, e.g. with the following (quickly hacked) function:


  underlined <- function(x, y, label, ...){
    text(x, y, label, ...)
    sw <- strwidth(label)
    sh <- strheight(label)
    lines(x + c(-sw/2, sw/2), rep(y - 1.5*sh/2, 2))
  }

  plot(0:1, 0:1, type="n")
  underlined(0.1, 0.1, "Hello")


Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GPetris at uark.edu  Fri Jan 18 22:34:05 2002
From: GPetris at uark.edu (Giovanni Petris)
Date: Fri, 18 Jan 2002 15:34:05 -0600 (CST)
Subject: [R] Shared libraries for use with R
In-Reply-To: <Pine.LNX.4.31.0201182054120.31063-100000@gannet.stats> (message
	from Prof Brian Ripley on Fri, 18 Jan 2002 21:00:00 +0000 (GMT))
References: <Pine.LNX.4.31.0201182054120.31063-100000@gannet.stats>
Message-ID: <200201182134.PAA05723@definetti.uark.edu>


Thank you for the answer! There is something that is still not clear
to me though...

Thank you,
Giovanni

> 
> Solaris, I presume from the flags, but *please* tell us enough background
> information.
> 
Ooops! Yes, Solaris...

> 
> Try nm -pg tryit.so and ldd tryit.so.  The linker will use a shared
> version of libutil if one exists, and then you would need a -R flag.
> 
There is only a static version libutil.a. Do I need to create a shared
version of it? (see below the output form nm and ldd)

> I am also not sure why you have quotes around parts of the cc lines: I
> think you have been quoting in Makevars when you should not be.
>
Correct...

> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

Fri<15:07>gpetris[291]>nm -pg tryit.so 


tryit.so:
0000000000 U __1cG__CrunVdo_exit_code_in_range6Fpv1_v_
0000000000 U __1cH__CimplKcplus_fini6F_v_
0000000000 U __1cH__CimplKcplus_init6F_v_
0000068252 D _DYNAMIC
0000068474 D _edata
0000068488 B _end
0000002587 D _etext
0000000000 U _ex_deregister
0000000000 U _ex_register
0000002436 T _fini
0000068124 D _GLOBAL_OFFSET_TABLE_
0000002356 T _init
0000002568 D _lib_version
0000068152 D _PROCEDURE_LINKAGE_TABLE_
0000001992 T create
0000000000 U dgemm
0000000000 U dmatrix
0000000000 U fprint
0000002120 T MatMult
0000000000 U messdoublematrix2
Fri<15:07>gpetris[292]>ldd tryit.so
Fri<15:11>gpetris[293]>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan 18 22:44:13 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 18 Jan 2002 21:44:13 +0000 (GMT)
Subject: [R] Shared libraries for use with R
In-Reply-To: <200201182134.PAA05723@definetti.uark.edu>
Message-ID: <Pine.LNX.4.31.0201182141470.2196-100000@gannet.stats>

On Fri, 18 Jan 2002, Giovanni Petris wrote:

>
> Thank you for the answer! There is something that is still not clear
> to me though...
>
> Thank you,
> Giovanni
>
> >
> > Solaris, I presume from the flags, but *please* tell us enough background
> > information.
> >
> Ooops! Yes, Solaris...
>
> >
> > Try nm -pg tryit.so and ldd tryit.so.  The linker will use a shared
> > version of libutil if one exists, and then you would need a -R flag.
> >
> There is only a static version libutil.a. Do I need to create a shared
> version of it? (see below the output form nm and ldd)

No, but having one makes for more potential problems.

> > I am also not sure why you have quotes around parts of the cc lines: I
> > think you have been quoting in Makevars when you should not be.
> >
> Correct...
>
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> >
>
> Fri<15:07>gpetris[291]>nm -pg tryit.so
>
>
> tryit.so:
> 0000000000 U __1cG__CrunVdo_exit_code_in_range6Fpv1_v_
> 0000000000 U __1cH__CimplKcplus_fini6F_v_
> 0000000000 U __1cH__CimplKcplus_init6F_v_
> 0000068252 D _DYNAMIC
> 0000068474 D _edata
> 0000068488 B _end
> 0000002587 D _etext
> 0000000000 U _ex_deregister
> 0000000000 U _ex_register
> 0000002436 T _fini
> 0000068124 D _GLOBAL_OFFSET_TABLE_
> 0000002356 T _init
> 0000002568 D _lib_version
> 0000068152 D _PROCEDURE_LINKAGE_TABLE_
> 0000001992 T create
> 0000000000 U dgemm
> 0000000000 U dmatrix
> 0000000000 U fprint
> 0000002120 T MatMult
> 0000000000 U messdoublematrix2

So dmatrix was not linked in.  What's fprint (not fprintf) by the way?

> Fri<15:07>gpetris[292]>ldd tryit.so

So it has no dynamic dependencies.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GPetris at uark.edu  Fri Jan 18 23:04:35 2002
From: GPetris at uark.edu (Giovanni Petris)
Date: Fri, 18 Jan 2002 16:04:35 -0600 (CST)
Subject: [R] Shared libraries for use with R
In-Reply-To: <Pine.LNX.4.31.0201182141470.2196-100000@gannet.stats> (message
	from Prof Brian Ripley on Fri, 18 Jan 2002 21:44:13 +0000 (GMT))
References: <Pine.LNX.4.31.0201182141470.2196-100000@gannet.stats>
Message-ID: <200201182204.QAA05812@definetti.uark.edu>


> > Fri<15:07>gpetris[291]>nm -pg tryit.so
> >
> >
> > tryit.so:
> > 0000000000 U __1cG__CrunVdo_exit_code_in_range6Fpv1_v_
> > 0000000000 U __1cH__CimplKcplus_fini6F_v_
> > 0000000000 U __1cH__CimplKcplus_init6F_v_
> > 0000068252 D _DYNAMIC
> > 0000068474 D _edata
> > 0000068488 B _end
> > 0000002587 D _etext
> > 0000000000 U _ex_deregister
> > 0000000000 U _ex_register
> > 0000002436 T _fini
> > 0000068124 D _GLOBAL_OFFSET_TABLE_
> > 0000002356 T _init
> > 0000002568 D _lib_version
> > 0000068152 D _PROCEDURE_LINKAGE_TABLE_
> > 0000001992 T create
> > 0000000000 U dgemm
> > 0000000000 U dmatrix
> > 0000000000 U fprint
> > 0000002120 T MatMult
> > 0000000000 U messdoublematrix2
> 
> So dmatrix was not linked in.  What's fprint (not fprintf) by the way?
> 
And dgemm isn't linked in either. And that is a function in sunperf. 
What am I missing? How should I do to link them in? Is there any
flag that I need to add to R SHLIB?
Do I need to do something else before being able to dyn.load-ing the
library? Thank you very much, Giovanni

This is my R SHLIB command:

Fri<15:56>gpetris[298]>R SHLIB tryit.c
cc -I/export/home/share/R/R-1.4.0/lib/R/include -I/export/home/gpetris/C -I/usr/local/include -I/export/home/share/include   -KPIC  -xO5 -dalign -xlic_lib=sunperf -c tryit.c -o tryit.o
cc -G  -o tryit.so tryit.o -L/export/home/gpetris/lib/SUN/32bit -lutil -lrand -L/usr/local/lib -L/export/home/share/lib  
Fri<15:56>gpetris[299]>cat Makevars 
PKG_CPPFLAGS=-I$(HOME)/C
PKG_LIBS=-L$(HOME)/lib/SUN/32bit -lutil -lrand



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GPetris at uark.edu  Fri Jan 18 23:47:17 2002
From: GPetris at uark.edu (Giovanni Petris)
Date: Fri, 18 Jan 2002 16:47:17 -0600 (CST)
Subject: [R] Shared libraries for use with R
In-Reply-To: <200201182036.OAA05603@definetti.uark.edu> (message from Giovanni
	Petris on Fri, 18 Jan 2002 14:36:48 -0600 (CST))
References: <200201182036.OAA05603@definetti.uark.edu>
Message-ID: <200201182247.QAA05974@definetti.uark.edu>


Thanks to Professor Brian Ripley I was able to fix the problem. 

The lessons are:
1) Don't use quotes in Makevars
2) If you want to use "sunperf" (Solaris) in a shared library, you
need the flag -xlic_lib=sunperf in the variable PKG_LIBS

Giovanni

-- 

 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (501) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Fri Jan 18 23:55:04 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Fri, 18 Jan 2002 23:55:04 +0100
Subject: [R] easier way to update packages i'm developing?
In-Reply-To: <001901c1a04f$a30a8240$01000001@godzilla>
Message-ID: <KKEGJOGBELBHDIKPINBMOEHLCJAA.hb@maths.lth.se>

For the reasons you mention I wrote a 'relibrary()' function, which detaches
and reloads a library. It is basically a modification of the (R v1.3.1)
library() function. The reason for the cut-n-paste from the library() source
instead of a function that calls library() internally is that library makes
use of substitute() which is a very odd creature. Anyway, the code (and the
Rd source) for relibrary() is below.

Cheers

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e
http://www.maths.lth.se/matstat/staff/hb/

#########################################################################/**
# \name{relibrary}
# \alias{relibrary}
#
# \title{Reloads a package}
#
# \usage{
#   relibrary(package, character.only=FALSE, warn.conflicts=FALSE, ...)
# }
#
# \description{
#  Reloads a package. This function works exactly the same as
#  \code{\link[base]{library}}, \emph{except} that it is reloads the package
#  if it already loaded. This is useful for developers.
#  For more information see \code{\link[base]{library}}.
# }
#
# \arguments{
#   \item{package}{Name or character string giving the name of a package.}
#   \item{character.only}{A logical indicating whether \code{package} can
#      be assumed to be character strings. Default value is \code{FALSE}.}
#   \item{warn.conflicts}{If \code{TRUE}, warnings are printed about
#      conflicts from reattaching of the package, unless that package
#      contains an object \code{.conflicts.OK}. Default value is
#      \code{FALSE}.}
#   \item{...}{Any other arguments that \code{\link[base]{library}} takes.}
# }
#
# \details{
#   While relibrary is reloading a package the option \code{relibrary} will
#   be set to name of the package currently reloaded. This can be useful if
#   the package to be reloaded would like save away data until it is loaded
#   again.
# }
#
# \author{
#   Henrik Bengtsson, \email{henrikb at braju.com},
#   \url{http://www.braju.com/R/}
# }
#
# \seealso{
#   See \code{\link[base]{library}}.
# }
#
# @visibility public
#*/#########################################################################
t
relibrary <- function(package, character.only=FALSE, warn.conflicts=FALSE,
...) {
  if (!character.only)
    package <- as.character(substitute(package));

  options.relibrary <- options(relibrary=package)[[1]];

  # If package is already attached, then detach it first.
  pkgName <- paste(sep="", "package:", package);
  pos <- match(pkgName, search());
  if (!is.na(pos)) {
    # If there exists a function .Last.lib() in the package call it first!
    if (exists(".Last.lib", where=pos, inherits=FALSE)) {
      .Last.lib <- get(".Last.lib", pos=pos, inherits=FALSE);
      if (is.function(.Last.lib)) {
        libpath <- attr(pos.to.env(pos), "path");
        if (!is.null(libpath))
          try(.Last.lib(libpath));
      }
    }
    # ...then remove the package.
    .Internal(detach(pos));
  }

  library(package=package, character.only=TRUE,
                           warn.conflicts=warn.conflicts, ...);
  options(relibrary=options.relibrary);
} # relibrary



############################################################################
# HISTORY:
# 2001-08-06
# * Now relibrary will set the option "relibrary" to the name of the package
#   it is currently reloading. This option can be used by the package itself
#   in its .First.lib and .Last.lib for instance in case it will store
#   something until it is loaded again.
# 2001-08-03
# * Made relibrary by default not warning for conflicts.
# 2001-07-05
# * It is NOT possible to use UseMethod("relibrary", obj, ...).
# 2001-05-03
# * Created.
############################################################################


> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Jeff D. Hamann
> Sent: Friday, January 18, 2002 7:41 PM
> To: r-help at stat.math.ethz.ch
> Subject: [R] easier way to update packages i'm developing?
>
>
> I'm frightfully new at developing r packages. I'm developing an
> econometrics
> package, and each time I update my beta package, I close R, delete the
> package dir in the library dir, rebuild the zip file, rerun R,
> reinstall the
> package and run the functions. Is there a more efficient way?
>
> Jeff.
>
> Jeff D. Hamann
> Hamann, Donald & Associates, Inc.
> PO Box 1421
> Corvallis, Oregon USA 97339-1421
> Bus. 541-753-7333
> Cell. 541-740-5988
> jeff_hamann at hamanndonald.com
> www.hamanndonald.com
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Sat Jan 19 00:01:00 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 18 Jan 2002 15:01:00 -0800 (PST)
Subject: [R] Replacing data.frame values
In-Reply-To: <20020118211359.2511.qmail@web14402.mail.yahoo.com>
Message-ID: <Pine.A41.4.44.0201181456350.16914-100000@homer26.u.washington.edu>

On Fri, 18 Jan 2002, Dennis L. Malandro wrote:

> Hello,
>
> I have two data frames, NameAndConc.df and
> WhichOnes.df.  NameAndConc.df has two columns, the
> first column is the names of some material, and the
> second column is the concentration of active
> ingredient.
>
> > NameAndConc.df
>        name conc
> 1 material1  0.8
> 2 material2  0.5
> 3 material3  0.4
>
> WhichOnes.df has two columns, each of which specifies
> which material.
>
> > WhichOnes.df
>   component1 component2
> 1  material2  material3
> 2         NA  material1
> 3  material3  material2
> 4  material2         NA
>
> From these two data.frames, I'd like to generate a
> third data frame that is WhichOnes.df with the names
> replaced by the corresponding concentrations from
> NameAndConc.df.  So it would be
>
> > New.df
>   component1 component2
> 1        0.5        0.4
> 2         NA        0.8
> 3        0.4        0.5
> 4        0.5         NA
>
>
> Would someone please lend me a help'n hand with this?

You need match().
  match(New.df$component1,Nameandconc.df$name)
gives the row numbers in Nameandconc.df corresponding to the names of
component 1.

So
 Nameandconc.df$conc[match(New.df$component1,Nameandconc.df$name)]
gives the concentrations

and to do them all at once

apply(New.df, 2, function(this.component)
       Nameandconc.df$conc[match(this.component, Nameandconc.df$name)])


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jan 19 00:18:03 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Jan 2002 00:18:03 +0100
Subject: [R] Replacing data.frame values
In-Reply-To: <20020118211359.2511.qmail@web14402.mail.yahoo.com>
References: <20020118211359.2511.qmail@web14402.mail.yahoo.com>
Message-ID: <x24rlj2qqc.fsf@blueberry.kubism.ku.dk>

"Dennis L. Malandro" <nawlnz at yahoo.com> writes:

> Hello,
> 
> I have two data frames, NameAndConc.df and
> WhichOnes.df.  NameAndConc.df has two columns, the
> first column is the names of some material, and the
> second column is the concentration of active
> ingredient.
> 
> > NameAndConc.df
>        name conc
> 1 material1  0.8
> 2 material2  0.5
> 3 material3  0.4
> 
> WhichOnes.df has two columns, each of which specifies
> which material.
> 
> > WhichOnes.df
>   component1 component2
> 1  material2  material3
> 2         NA  material1
> 3  material3  material2
> 4  material2         NA
> 
> From these two data.frames, I'd like to generate a
> third data frame that is WhichOnes.df with the names
> replaced by the corresponding concentrations from
> NameAndConc.df.  So it would be
> 
> > New.df
>   component1 component2
> 1        0.5        0.4
> 2         NA        0.8
> 3        0.4        0.5
> 4        0.5         NA
> 
> 
> Would someone please lend me a help'n hand with this?
> 

Let's see... First of all, the structure of NameAndConc.df is getting
in the way since the name field is a key, not really a variable, so
try a named vector instead:

conc <- NameAndConc.df$conc
names(conc) <- NameAndConc.df$name

Then use the columns of WhichOnes.df for indexing:

New.df <-
data.frame(component1=conc[as.character(WhichOnes.df$component1)],
           component2=conc[as.character(WhichOnes.df$component2)])

or, 

New.df <- lapply(WhichOnes.df, function(x)conc[as.character(x)])

..something like that. I suppose you could use match() instead of the
character indexing.



-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From psolomon at maths.adelaide.edu.au  Sat Jan 19 01:22:17 2002
From: psolomon at maths.adelaide.edu.au (Patty Solomon)
Date: Sat, 19 Jan 2002 10:52:17 +1030
Subject: [R] correlated random effects in GLMMGibbs ?
Message-ID: <p0510100cb86e64617cce@[10.0.1.11]>

Dear R-users,

I wondered if anyone has extended GLMMGibbs to include correlated 
random effects, and if so, whether they would be willing to let me 
use their code?

Jonathan Myles has no plans to extend glmm in this manner within the 
foreseeable future.

With thanks,
Patty
-- 
--------------------------------------------------------------------------------

Assoc Prof Patty Solomon                            phone:  (08) 8303 3033
Department of Applied Mathematics and               fax:    (08) 8303 3696
Centre for the Molecular Genetics of Development
Adelaide University
Adelaide SA 5005
AUSTRALIA.

email: patty.solomon at adelaide.edu.au
http://www.maths.adelaide.edu.au/people/psolomon
--------------------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hzi at uol.com.br  Sat Jan 19 04:53:05 2002
From: hzi at uol.com.br (hzi@uol.com.br)
Date: Sat, 19 Jan 2002 01:53:05 -0200
Subject: [R] Validating R after it has been installed!
In-Reply-To: <x2zo3ekrbk.fsf@blueberry.kubism.ku.dk>; from p.dalgaard@biostat.ku.dk on Wed, Jan 16, 2002 at 08:51:11PM +0100
References: <OF9992C0AF.0CCE58B1-ON85256B43.00677EF3@hgsi.com> <x2zo3ekrbk.fsf@blueberry.kubism.ku.dk>
Message-ID: <20020119015305.B1153@uol.com.br>

On Wed, Jan 16, 2002 at 08:51:11PM +0100, Peter Dalgaard BSA wrote:
> Leslie_Branch at hgsi.com writes:
> 
> > While compiling R (Any version) you run configure, make test, and then make
> > install.  After which you are done.  I am wondering if there is a way we
> > can run the "make test" part again on what was just installed.  If I
> > understand the process correctly when you initially run "make test" you are
> > testing R in the test area and not the install directory.  Is it something
> > as simple as changing the BASEDIR in the makefile or is it a bit more
> > complicated.
> 
> Installation is almost exclusively a copying operation, so
> it is unlikely that installation would break the kind of thing
> that "make test" checks for, but you could change the definition of $R
> in the makefiles inside tests/ and tests/Examples. 
>
Hello-
	A bit off-topic, but shouldn't CRAN publish the MD5 checksums for R?
	I am saying this because of the recent crack episode, although as I understand CRAN has a fresh Debian GNU/Linux install.
	TIA
	Regs,
	HL
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baba at mxr.mesh.ne.jp  Sat Jan 19 05:07:06 2002
From: baba at mxr.mesh.ne.jp (baba@mxr.mesh.ne.jp)
Date: Sat, 19 Jan 2002 13:07:06 +0900
Subject: [R] Loading to R of Fortran DLL
Message-ID: <10201190407.AA00167@MyComputer.mxr.mesh.ne.jp>

Dear Thomas Lumley

Thank you very much for your support.

Thomas Lumley Forward:
On Sat, 19 Jan 2002 baba at mxr.mesh.ne.jp wrote:

>> >> R> print(dyn.load("FOO.DLL"))
>> >> NULL
>>
>> This means that FOO.DLL is not loaded.
>> If FOO.DLL is loaded, any subroutine name available should be output.
>>
>
>No.  dyn.load() always returns NULL.  There is an error message if the DLL
>could not be loaded.
>
>You can check this by using dyn.load() on one of the DLLs in the base or
>recommended packages.
>

Yes. I could check it on other recommemmded DLL. 

>Why did you think this would work? I can't find anything in the R
>documentation that suggests dyn.load() returns a list of symbols.

I read Japanese Traslated Book of "The New S Language" by Becker, Chambers, Wilks (1988). 
In Chapter 7.2.1, Dynamic loading is described.
In this chapter, I found the following description:

The Function "dyn.load" returns character vector of Routine name included in Object file loaded.
For example, print(dyn.load("aaa.o")) returns Routine names which are available in all.o.

I think R is mostly compatible of S language.
This is why I wrote such question.

Best Regards,
Baba

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Sat Jan 19 06:01:32 2002
From: aolinto at bignet.com.br (Antonio Olinto)
Date: Sat, 19 Jan 2002 03:01:32 -0200
Subject: [R] comma as decimal separator in plots 
Message-ID: <004101c1a0a6$5fd69c00$ae54fea9@nautilus>

Hi,

Some time ago I asked about how to use comma as decimal separator in plots
and Mr. Paul Murrell wrote:
-------
You could try something with axis() and chartr(), like ...
    par(mfrow=c(2,1))
    plot(1:10/11, rep(1, 10), main="Standard X-Axis")
    plot(1:10/11, rep(1, 10), main="Customised X-Axis", axes=F)
    axis(1, at=pretty(1:10/11),
        labels=chartr(".", ",", as.character(pretty(1:10/11))))
    axis(2)
    box()
-------

This was very useful to me, but in the example:

x <- rnorm(50, mean=2, sd=0.1)
y <- rnorm(50, mean=2, sd=0.2)
plot(x,y)
axis(1,at=pretty(x),labels=chartr(".", ",", as.character(pretty(x))))
axis(2,at=pretty(y),labels=chartr(".", ",", as.character(pretty(y))))

I got an "2" in the middle of  the "2.0". How could I avoid it?

Thanks very much,

Antonio Olinto


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Sat Jan 19 06:19:45 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Sat, 19 Jan 2002 18:19:45 +1300 (NZDT)
Subject: [R] Build R-patched from Source
Message-ID: <Pine.SOL.4.21.0201191819230.27269-100000@stat1.stat.auckland.ac.nz>

Hi,

If I want to build R-patched from source (on Windows), do I need to edit
Makefile and/or MkRules at all?

I have followed all instructions in the INSTALL file (under
R-patched/src/gnuwin32/), as well as downloaded all the files from
http://www.stats.ox.ac.uk/pub/Rtools/ .  My PATH variable has been
modified accordingly.

Now, with the only change to MkRules I made was to modify the Tcl/Tk path,
to C:/Tcl.  Then when I do:
   make
it goes on and on until it displays (I'm compiling under DOS Prompt):
    /cygdrive/c/BIN/MAKE  --no-print-directory -C
C:/Temp/R-patched/src/library/base
    /chm -f C:/Temp/R-patched/src/gnuwin32/help/Makefile base.chm
    cp C:/Temp/R-patched/src/gnuwin32/help/Rchm.css Rchm.css
    cp C:/Temp/R-patched/doc/html/logo.jpg logo.jpg
    hhc base.hhp
    MAKE[3]: hhc: Command not found
    MAKE[3]: [base.chm] Error 127 (ignored)
    mkdir -p C:/Temp/R-patched/library/base/chtml
    cp C:/Temp/R-patched/src/library/base/chm/base.chm
C:/Temp/R-patched/library/bas
    e/chtml
    cp: cannot stat `C:/Temp/R-patched/src/library/base/chm/base.chm': No
such file
    or directory
    MAKE[2]: *** [chm-base] Error 1
    MAKE[2]: Leaving directory
`/cygdrive/c/Temp/R-patched/src/gnuwin32/help'
    MAKE[1]: *** [pkg-base] Error 2
    MAKE[1]: Leaving directory `/cygdrive/c/Temp/R-patched/src/gnuwin32'
    MAKE: *** [rpackage] Error 2

However the *.exe files under bin directory were made and I can open
RGui.exe without a problem.  It is only when I tried to do a make check
when I found problems in the base package.  It also happens when I tried
running demo(graphics) under RGui - it stops and says cannot find iris
data (but it is there when I checked under base/data).

If I then cd into bitmap, and to a:
    make
then it also works fine.

I also tried to compiled some packages, such as the ctest
(R-patched/src/library), and get:
    ---------- Making package ctest ------------
    mkdir -p C:/TEMP/R-PATCHED/library/ctest
    cp -r   ./INDEX  ./TITLE  C:/TEMP/R-PATCHED/library/ctest/
      adding build stamp to DESCRIPTION
    make[1]: *** [C:/TEMP/R-PATCHED/library/ctest/zzzz] Error 2
    make[1]: Leaving directory
`/cygdrive/c/Temp/R-patched/src/library/ctest'
    make: *** [pkg-ctest] Error 2
    make: Leaving directory `/cygdrive/c/TEMP/R-PATCHED/src/gnuwin32'
    *** Installation of ctest failed ***

Some of the R-recommended packages also have the same problem.  As a
result when I tried to make everything into one SetupR.exe it also stopped
right at the beginning...

Any help will be greatly appreciated ;-)

Cheers,


Ko-Kang Wang


------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jan 19 08:15:43 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 19 Jan 2002 07:15:43 +0000 (GMT)
Subject: [R] Build R-patched from Source
In-Reply-To: <Pine.SOL.4.21.0201191819230.27269-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.31.0201190711570.2728-100000@gannet.stats>

On Sat, 19 Jan 2002, Ko-Kang Kevin Wang wrote:

> Hi,
>
> If I want to build R-patched from source (on Windows), do I need to edit
> Makefile and/or MkRules at all?

You don't need to edit the Makefile.  You probably do need to edit
MkRules.

> I have followed all instructions in the INSTALL file (under
> R-patched/src/gnuwin32/), as well as downloaded all the files from
> http://www.stats.ox.ac.uk/pub/Rtools/ .  My PATH variable has been
> modified accordingly.

Don't think so. hhc.exe appears not to be in your path, hence the first
problem below, and the second looks like another missed step.

> Now, with the only change to MkRules I made was to modify the Tcl/Tk path,
> to C:/Tcl.  Then when I do:
>    make
> it goes on and on until it displays (I'm compiling under DOS Prompt):
>     /cygdrive/c/BIN/MAKE  --no-print-directory -C
> C:/Temp/R-patched/src/library/base
>     /chm -f C:/Temp/R-patched/src/gnuwin32/help/Makefile base.chm
>     cp C:/Temp/R-patched/src/gnuwin32/help/Rchm.css Rchm.css
>     cp C:/Temp/R-patched/doc/html/logo.jpg logo.jpg
>     hhc base.hhp
>     MAKE[3]: hhc: Command not found
>     MAKE[3]: [base.chm] Error 127 (ignored)
>     mkdir -p C:/Temp/R-patched/library/base/chtml
>     cp C:/Temp/R-patched/src/library/base/chm/base.chm
> C:/Temp/R-patched/library/bas
>     e/chtml
>     cp: cannot stat `C:/Temp/R-patched/src/library/base/chm/base.chm': No
> such file
>     or directory
>     MAKE[2]: *** [chm-base] Error 1
>     MAKE[2]: Leaving directory
> `/cygdrive/c/Temp/R-patched/src/gnuwin32/help'
>     MAKE[1]: *** [pkg-base] Error 2
>     MAKE[1]: Leaving directory `/cygdrive/c/Temp/R-patched/src/gnuwin32'
>     MAKE: *** [rpackage] Error 2
>
> However the *.exe files under bin directory were made and I can open
> RGui.exe without a problem.  It is only when I tried to do a make check
> when I found problems in the base package.  It also happens when I tried
> running demo(graphics) under RGui - it stops and says cannot find iris
> data (but it is there when I checked under base/data).

Ah, did you install unzip.dll?

> If I then cd into bitmap, and to a:
>     make
> then it also works fine.
>
> I also tried to compiled some packages, such as the ctest
> (R-patched/src/library), and get:
>     ---------- Making package ctest ------------
>     mkdir -p C:/TEMP/R-PATCHED/library/ctest
>     cp -r   ./INDEX  ./TITLE  C:/TEMP/R-PATCHED/library/ctest/
>       adding build stamp to DESCRIPTION
>     make[1]: *** [C:/TEMP/R-PATCHED/library/ctest/zzzz] Error 2
>     make[1]: Leaving directory
> `/cygdrive/c/Temp/R-patched/src/library/ctest'
>     make: *** [pkg-ctest] Error 2
>     make: Leaving directory `/cygdrive/c/TEMP/R-PATCHED/src/gnuwin32'
>     *** Installation of ctest failed ***

That I have no idea about.

> Some of the R-recommended packages also have the same problem.  As a
> result when I tried to make everything into one SetupR.exe it also stopped
> right at the beginning...
>
> Any help will be greatly appreciated ;-)

You really do have to follow all the instructions exactly.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Sat Jan 19 11:16:23 2002
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Sat, 19 Jan 2002 21:16:23 +1100
Subject: [R] readline() to vector
References: <Pine.OSF.3.96.1020118155408.2649B-100000@ija.csic.es>
Message-ID: <3C494775.87677BA3@ozemail.com.au>

Agustin Lobo wrote:

> ...My question is: how can I transform either "10,20,-10,50" or
> "c(10,20,-10,50)" into a numeric vector ?
>

This may sound like cheating, but I usually just ask for one value at a time, e.g.

Enter x-min -
Enter x-max -

and so on.

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jan 19 12:19:20 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Jan 2002 12:19:20 +0100
Subject: [R] comma as decimal separator in plots
In-Reply-To: <004101c1a0a6$5fd69c00$ae54fea9@nautilus>
References: <004101c1a0a6$5fd69c00$ae54fea9@nautilus>
Message-ID: <x2lmeuk2pz.fsf@blueberry.kubism.ku.dk>

"Antonio Olinto" <aolinto at bignet.com.br> writes:

> Hi,
> 
> Some time ago I asked about how to use comma as decimal separator in plots
> and Mr. Paul Murrell wrote:
> -------
> You could try something with axis() and chartr(), like ...
>     par(mfrow=c(2,1))
>     plot(1:10/11, rep(1, 10), main="Standard X-Axis")
>     plot(1:10/11, rep(1, 10), main="Customised X-Axis", axes=F)
>     axis(1, at=pretty(1:10/11),
>         labels=chartr(".", ",", as.character(pretty(1:10/11))))
>     axis(2)
>     box()
> -------
> 
> This was very useful to me, but in the example:
> 
> x <- rnorm(50, mean=2, sd=0.1)
> y <- rnorm(50, mean=2, sd=0.2)
> plot(x,y)
> axis(1,at=pretty(x),labels=chartr(".", ",", as.character(pretty(x))))
> axis(2,at=pretty(y),labels=chartr(".", ",", as.character(pretty(y))))
> 
> I got an "2" in the middle of  the "2.0". How could I avoid it?

You forgot to put axes=F inside plot() as Paul did, so you are
overplotting the original axis labels, and you can see that in the
other labels too since "," is slightly wider than ".". The "2" comes
out because 

> pretty(y)
[1] 1.6 1.8 2.0 2.2 2.4 2.6
> as.character(pretty(y))
[1] "1.6" "1.8" "2"   "2.2" "2.4" "2.6"
                ***

You'll probably prefer

> format(pretty(y))
[1] "1.6" "1.8" "2.0" "2.2" "2.4" "2.6"

Another fine point is that (in my case---there's an rnorm() involved)
the 2.6 value is outside the y-limits, so it looks strange if you omit
the box(). pretty() will do that since it is required to cover the
range of its argument, but the ylim on the plot is not required to
cover pretty(y). This is easly fixed up in concrete cases, but I
don't see a simple general solution except the slightly awkward
py<-pretty(y)
py<-py[py>=par("usr")[3]]
py<-py[py<=par("usr")[4]].
 
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kutinskyv at obninsk.com  Sat Jan 19 16:32:21 2002
From: kutinskyv at obninsk.com (Vladimir N. Kutinsky)
Date: Sat, 19 Jan 2002 15:32:21 +0000
Subject: [R] ESS configuration
Message-ID: <3C499185.EB92D9EB@obninsk.com>

Hi!
I faced a few problems with configuring ESS. I sent my questions to the
ESS mailing list but recieved no replies, so i'm sending them here in
hope someone will help me.

I've just installed ESS and I'm quite a novice at it. In the docs it is
said that setting "ess-insert-function-templates" to non-nil
value will result in the edit buffer containing a skeleton function
definition. It is also said there that the default value is t, which, as
I assume, is non-nil. The problem is when I enter C-c C-d in xemacs and
give a name of a non-existent object i don't see any function skeleton,
just a new empty buffer. I tried (setq ess-insert-function-templates t)
and also(setq ess-insert-function-templates " <-function( )\n{\n\n}\n")
in my .emacs file but it didn't help. What is the problem?

Thank you,

vladimir

PS At the same time, setting the variable "ess-source-directory" works
just fine!



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petzoldt at rcs.urz.tu-dresden.de  Sat Jan 19 13:41:28 2002
From: petzoldt at rcs.urz.tu-dresden.de (Thomas Petzoldt)
Date: Sat, 19 Jan 2002 13:41:28 +0100
Subject: [R] Synthesis of harmonic functions
Message-ID: <3C496978.203DC772@rcs.urz.tu-dresden.de>

Hello,

I try to synthesize harmonic functions with a subset of frequencies
determined by fast fourier transform. I wrote two different functions, a
looped version and a matrix multiplication version. As an example the
looped version takes 5 sec and the matrix-version takes 3-4 sec (R 1.4,
Athlon 1.2 GHz, 256 MB, Win ME), but the latter needs huge amount of
memory due to the matrices. So, none of them is satisfying.

Is there a common way, a better solution or a built-in function (e.g.
inverse of fft) which I have overlooked?

Thank you very much!

Thomas Petzoldt

##====================================================

harmonic.simple <- function(x, a0, a, b, t, ord) {
  y <- a0
  for (p in ord) {
    k <- 2 * pi * p * x/t
    y <- y + a[p] * cos(k) + b[p] * sin(k)
  }
  y
}
   
harmonic.matrix <- function(x, a0, a, b, n, ord) {
  k <- (2 * pi * x/n) %*% t(ord)
  y <- a0 + cos(k) %*% a[ord] + sin(k) %*% b[ord]
  y 
}

n      <- 4000
maxord <- n/2
x      <- 0:(n-1)
y      <- sin(x*2*pi/n) + rnorm(n)*0.1

pf <- fft(y)      ## Fast Fourier Transform
a0 <- Re(pf[1])/n
pf <- pf[-1]      ## drop first element
a  <-  2*Re(pf)/n; b  <- -2*Im(pf)/n

y1 <-  harmonic.simple(x,a0,a,b,n,1:maxord)
y2 <-  harmonic.matrix(x,a0,a,b,n,1:maxord)

#plot(x,y)
#lines(x, y1,col="green")
#lines(x, y2,col="red",lty="dashed")

##====================================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petzoldt at rcs.urz.tu-dresden.de  Sat Jan 19 14:21:47 2002
From: petzoldt at rcs.urz.tu-dresden.de (Thomas Petzoldt)
Date: Sat, 19 Jan 2002 14:21:47 +0100
Subject: [R] comma as decimal separator in plots
References: <004101c1a0a6$5fd69c00$ae54fea9@nautilus>
Message-ID: <3C4972EB.E04C08C9@rcs.urz.tu-dresden.de>



Antonio Olinto wrote:
> 
> Hi,
> 
> Some time ago I asked about how to use comma as decimal separator in plots

[...]

> This was very useful to me, but in the example:
> 
> x <- rnorm(50, mean=2, sd=0.1)
> y <- rnorm(50, mean=2, sd=0.2)
> plot(x,y)
> axis(1,at=pretty(x),labels=chartr(".", ",", as.character(pretty(x))))
> axis(2,at=pretty(y),labels=chartr(".", ",", as.character(pretty(y))))
> 
> I got an "2" in the middle of  the "2.0". How could I avoid it?

The mistake in your example is, that you draw two sets axes, one with
dot and one with comma.

You should suppress the default axes in the plot() function:

plot(x,y, axes=FALSE)
box()
axis(1,at=pretty(x),labels=chartr(".", ",", as.character(pretty(x))))
axis(2,at=pretty(y),labels=chartr(".", ",", as.character(pretty(y))))

Thomas Petzoldt

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jan 19 15:30:10 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Jan 2002 15:30:10 +0100
Subject: [R] Synthesis of harmonic functions
In-Reply-To: <3C496978.203DC772@rcs.urz.tu-dresden.de>
References: <3C496978.203DC772@rcs.urz.tu-dresden.de>
Message-ID: <x21ygmv2fh.fsf@blueberry.kubism.ku.dk>

Thomas Petzoldt <petzoldt at rcs.urz.tu-dresden.de> writes:

> Hello,
> 
> I try to synthesize harmonic functions with a subset of frequencies
> determined by fast fourier transform. I wrote two different functions, a
> looped version and a matrix multiplication version. As an example the
> looped version takes 5 sec and the matrix-version takes 3-4 sec (R 1.4,
> Athlon 1.2 GHz, 256 MB, Win ME), but the latter needs huge amount of
> memory due to the matrices. So, none of them is satisfying.
> 
> Is there a common way, a better solution or a built-in function (e.g.
> inverse of fft) which I have overlooked?

Did you look into using fft(x, inverse=TRUE) ??

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tsumi at leo.auric.ne.jp  Sat Jan 19 17:05:50 2002
From: tsumi at leo.auric.ne.jp (Tsumiyama Isao)
Date: Sun, 20 Jan 2002 01:05:50 +0900
Subject: [R] Troubles in SJava
Message-ID: <200201191627.RAA09552@stat.math.ethz.ch>

OS              : Win95
R Version     : 1.4.0
JDK Version : 1.3.0


Hi, R-statisticians all over the world.

I'm trying to handling R objects in the Java code as follows:

[c:\myjava\R2JTest.java]
import org.omegahat.R.Java.*;

class R2JTest {
    public static void main(String args[]) {
        REvaluator e = new REvaluator();
        Object val = e.eval("objects()");
        int i;

        if (val != null) {
            String[] objs = (String[])val;
            
            for (i = 0; i < objs.length; i ++) {
                System.err.println("(" + i + ")" + objs[i]);
            }
        } 
    }
};

The environment variables CLASSPATH and R_HOME were set as follows:

CLASSPATH=c:\Progra~1\rw1040\library\SJava
R_HOME=c:\Progra~1\rw1040

And the path "c:\Progra~1\rw1040\library\SJava\libs" was included in
the environment variable PATH.

Then the Java code above passes through the compiler, but in executing
the program, JVM gives me the error message as follows:

java.lang.UnsatisfiedLinkError: no SJava in java.library.path
	at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1312)
	at java.lang.Runtime.loadLibrary0(Runtime.java:749)
	at java.lang.System.loadLibrary(System.java:820)
	at
org.omegahat.R.Java.RForeignReference.<clinit>(RForeignReference.java:25)
	at R2JTest.main(R2JTest.java:5)
Exception in thread "main" 

It seems that the file "SJava.dll" does not be identified by the 
Java interpreter.
Are there any invalid or wrong setting of environment variables? 

Thanks in advance.

>From a Japanese future biostatistician(?)

##################################
#  Tsumiyama Isao   
#  Mitubishi Pharma Corp.
#  e-mail:tsumi at leo.auric.ne.jp
##################################
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Sat Jan 19 22:40:19 2002
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Sat, 19 Jan 2002 22:40:19 +0100
Subject: [R] [R 1.4] Cannot allocate vector of length 1073741824
In-Reply-To: <Pine.A41.4.44.0201180839520.16914-100000@homer26.u.washington.edu>
References: <OFD1B1E265.69B24EA1-ONC1256B45.0059C4CA@merck.de>
	<Pine.A41.4.44.0201180839520.16914-100000@homer26.u.washington.edu>
Message-ID: <15433.59331.775640.976527@localhost.localdomain>

Thomas Lumley writes:

> This is asking for (probably) 4Gb of memory, which is quite a lot even
> with 16Gb available.  The new (post1.2) memory manager should in principle
> be able to allocate all the memory you can address, as long as no object
> has more than 2^31 entries and there are no more than 2^31 objects, but I
> don't think all the int vs long vs pointer details have been chased down
> yet. I haven't heard of anyone using more than 2Gb for R, but if there is
> anyone they are probably subscribed to this list...
> 

I once ran R with vsize=2Gb loooong ago (obviously with the old memory
system), just because I could.... :-) And I got away with it fine, it
did with it was supposed to do, and proved that I should take a
completely different approach to solve my problem... :-)
Unfortunately, I can't anymore... :-(

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://folk.uio.no/kjetikj/>
Webmaster at skepsis.no                            OpenPGP KeyID: 6A6A0BBC
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Sat Jan 19 23:35:52 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Sun, 20 Jan 2002 11:35:52 +1300 (NZDT)
Subject: [R] Build R-patched from Source
In-Reply-To: <Pine.LNX.4.31.0201190711570.2728-100000@gannet.stats>
Message-ID: <Pine.SOL.4.21.0201201129590.7523-100000@stat1.stat.auckland.ac.nz>

Ah yes, thanks.  I did forget to put hcc and unzip32.dll in my PATH.

Now I have successfully built R, and also build the zip distribution files
with:
    make distribution

However when I edited the Makefile under the installer directory as
follows:
    # location where Inno Setup was installed
    ISDIR="C:\Program Files\Inno Setup 2"
    # location where binary packages are kept
    PKGS=C:\Temp\R-patched\library

I got the following errors when I tried to make:
    [...omitted...]
    unzip:  cannot find either C:TempR-patchedlibrary/survival or
C:TempR-patchedlib
    rary/survival.zip.
    [...omitted...]
I have omitted the rest of lines as they're all the same.

I have also tried to change the PKGS definition to:
    PKGS=C:/Temp/R-patched/library
but it still didn't work.

Is it a wrong way to specify my PKGS?  C:\Temp\R-patched is my $R_HOME,
hence C:\Temp\R-patched\library contains all the compiled packages.

BTW I understand what R-patched and R-devels are, but what is R-ng in the
ftp directory?

Thanks again,


Ko-Kang Wang


On Sat, 19 Jan 2002, Prof Brian Ripley wrote:

> Date: Sat, 19 Jan 2002 07:15:43 +0000 (GMT)
> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
> To: Ko-Kang Kevin Wang <kwan022 at stat.auckland.ac.nz>
> Cc: R Help <r-help at stat.math.ethz.ch>
> Subject: Re: [R] Build R-patched from Source
> 
> On Sat, 19 Jan 2002, Ko-Kang Kevin Wang wrote:
> 
> > Hi,
> >
> > If I want to build R-patched from source (on Windows), do I need to edit
> > Makefile and/or MkRules at all?
> 
> You don't need to edit the Makefile.  You probably do need to edit
> MkRules.
> 
> > I have followed all instructions in the INSTALL file (under
> > R-patched/src/gnuwin32/), as well as downloaded all the files from
> > http://www.stats.ox.ac.uk/pub/Rtools/ .  My PATH variable has been
> > modified accordingly.
> 
> Don't think so. hhc.exe appears not to be in your path, hence the first
> problem below, and the second looks like another missed step.
> 
> > Now, with the only change to MkRules I made was to modify the Tcl/Tk path,
> > to C:/Tcl.  Then when I do:
> >    make
> > it goes on and on until it displays (I'm compiling under DOS Prompt):
> >     /cygdrive/c/BIN/MAKE  --no-print-directory -C
> > C:/Temp/R-patched/src/library/base
> >     /chm -f C:/Temp/R-patched/src/gnuwin32/help/Makefile base.chm
> >     cp C:/Temp/R-patched/src/gnuwin32/help/Rchm.css Rchm.css
> >     cp C:/Temp/R-patched/doc/html/logo.jpg logo.jpg
> >     hhc base.hhp
> >     MAKE[3]: hhc: Command not found
> >     MAKE[3]: [base.chm] Error 127 (ignored)
> >     mkdir -p C:/Temp/R-patched/library/base/chtml
> >     cp C:/Temp/R-patched/src/library/base/chm/base.chm
> > C:/Temp/R-patched/library/bas
> >     e/chtml
> >     cp: cannot stat `C:/Temp/R-patched/src/library/base/chm/base.chm': No
> > such file
> >     or directory
> >     MAKE[2]: *** [chm-base] Error 1
> >     MAKE[2]: Leaving directory
> > `/cygdrive/c/Temp/R-patched/src/gnuwin32/help'
> >     MAKE[1]: *** [pkg-base] Error 2
> >     MAKE[1]: Leaving directory `/cygdrive/c/Temp/R-patched/src/gnuwin32'
> >     MAKE: *** [rpackage] Error 2
> >
> > However the *.exe files under bin directory were made and I can open
> > RGui.exe without a problem.  It is only when I tried to do a make check
> > when I found problems in the base package.  It also happens when I tried
> > running demo(graphics) under RGui - it stops and says cannot find iris
> > data (but it is there when I checked under base/data).
> 
> Ah, did you install unzip.dll?
> 
> > If I then cd into bitmap, and to a:
> >     make
> > then it also works fine.
> >
> > I also tried to compiled some packages, such as the ctest
> > (R-patched/src/library), and get:
> >     ---------- Making package ctest ------------
> >     mkdir -p C:/TEMP/R-PATCHED/library/ctest
> >     cp -r   ./INDEX  ./TITLE  C:/TEMP/R-PATCHED/library/ctest/
> >       adding build stamp to DESCRIPTION
> >     make[1]: *** [C:/TEMP/R-PATCHED/library/ctest/zzzz] Error 2
> >     make[1]: Leaving directory
> > `/cygdrive/c/Temp/R-patched/src/library/ctest'
> >     make: *** [pkg-ctest] Error 2
> >     make: Leaving directory `/cygdrive/c/TEMP/R-PATCHED/src/gnuwin32'
> >     *** Installation of ctest failed ***
> 
> That I have no idea about.
> 
> > Some of the R-recommended packages also have the same problem.  As a
> > result when I tried to make everything into one SetupR.exe it also stopped
> > right at the beginning...
> >
> > Any help will be greatly appreciated ;-)
> 
> You really do have to follow all the instructions exactly.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jan 19 23:56:54 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Jan 2002 23:56:54 +0100
Subject: [R] Build R-patched from Source
In-Reply-To: <Pine.SOL.4.21.0201201129590.7523-100000@stat1.stat.auckland.ac.nz>
References: <Pine.SOL.4.21.0201201129590.7523-100000@stat1.stat.auckland.ac.nz>
Message-ID: <x2g052ar0p.fsf@blueberry.kubism.ku.dk>

Ko-Kang Kevin Wang <kwan022 at stat.auckland.ac.nz> writes:

> BTW I understand what R-patched and R-devels are, but what is R-ng in the
> ftp directory?

Not relevant at this time. It is the R "next generation" branch: A
version planned to hold large-scale changes to the development
version, eventually leading to R-2.0. Currently it isn't even kept up
to date with the released versions...

(I'm still pondering whether it was a mistake to create that branch
since we don't seem inclined to use it. On the other hand, the 6-month
interval between major releases is forcing us into a rather
conservative development style and/or panicky situations whenever we
have largish last-minute changes.)
 
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jan 20 09:10:40 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 20 Jan 2002 08:10:40 +0000 (GMT)
Subject: [R] Build R-patched from Source
In-Reply-To: <Pine.SOL.4.21.0201201129590.7523-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.31.0201200807570.17044-100000@gannet.stats>

On Sun, 20 Jan 2002, Ko-Kang Kevin Wang wrote:

> Ah yes, thanks.  I did forget to put hcc and unzip32.dll in my PATH.

unzip32.dll is put in the unzip directory, not in your PATH.

> Now I have successfully built R, and also build the zip distribution files
> with:
>     make distribution

You alos need to get or build the zip files for all the recommended
packages.

> However when I edited the Makefile under the installer directory as
> follows:
>     # location where Inno Setup was installed
>     ISDIR="C:\Program Files\Inno Setup 2"
>     # location where binary packages are kept
>     PKGS=C:\Temp\R-patched\library
>
> I got the following errors when I tried to make:
>     [...omitted...]
>     unzip:  cannot find either C:TempR-patchedlibrary/survival or
> C:TempR-patchedlib
>     rary/survival.zip.
>     [...omitted...]
> I have omitted the rest of lines as they're all the same.
>
> I have also tried to change the PKGS definition to:
>     PKGS=C:/Temp/R-patched/library
> but it still didn't work.
>
> Is it a wrong way to specify my PKGS?  C:\Temp\R-patched is my $R_HOME,
> hence C:\Temp\R-patched\library contains all the compiled packages.

Use forward slashes (although I think only the messages are confused
here). It's looking for zip files, not compiled packages.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Sat Jan 19 12:01:46 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Sat, 19 Jan 2002 12:01:46 +0100 (MET)
Subject: [R] SUMMARY: readline() to vector
Message-ID: <Pine.OSF.3.96.1020119115755.20224A-100000@ija.csic.es>


Thanks to all who answered my
question (appended to this message). Two solutions:

1. If the user answers with the 4 lim values (i.e., 10,20,1,100),
  limStr <- readline("Enter xlim and ylim values: ");
  lim <- as.numeric(unlist(strsplit(limStr, ",")));

2. If the user answers in R vector notation (i.e., c(10,20,1,100) )
  limStr <- readline("Enter xlim and ylim values: ")
  lim <- eval(parse(text=limStr)

Note that
as.numeric(limStr) or as.numeric("c(10,20,-10,50)")

do not work:
[1] NA
Warning message: 
NAs introduced by coercion 

Agus

####################################
ORIGINAL QUESTION:
I'm trying to use readline() to ask for xlim() and ylim() values
for a subsequent plot. I'm doing:

lim <- readline("Enter xlim and ylim values: ")

then would like to use the values in lim for a plot:

plot(etc, xlim=lim[1:2],ylim=lim[3:4])

The problem is that lim is a character,i.e.,

"10,20,-10,50"
or
"c(10,20,-10,50)"

depending on the input to the readline request.

My question is: how can I transform either "10,20,-10,50" or
"c(10,20,-10,50)" into a numeric vector ?

####################################################




Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Luca.Toldo at merck.de  Mon Jan 21 10:18:58 2002
From: Luca.Toldo at merck.de (Luca.Toldo@merck.de)
Date: Mon, 21 Jan 2002 10:18:58 +0100
Subject: [R] [R 1.4] WARNING: --max-vsize=8000M : too large and ignored
Message-ID: <OF92DBB1B4.D7C840B7-ONC1256B48.0032E6C9@merck.de>

Why is there a limit on the amount of vector heap one can use ?
I am operating on a 16GB SGI (O2000) machine.
Furthermore, is there any way to make R using multiple threads ?
Regards
Luca

p.s. I understand that I might be pushing a bit R beyond its most common
operation set. However, also understanding where the limits of R are, is
a good excercise.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wb at vestein.arb-phys.uni-dortmund.de  Mon Jan 21 10:48:03 2002
From: wb at vestein.arb-phys.uni-dortmund.de (Wilhelm B. Kloke)
Date: Mon, 21 Jan 2002 10:48:03 +0100
Subject: [R] a Bootstrap understanding problem
Message-ID: <3C4BE3D3.DFCBF9F5@vestein.arb-phys.uni-dortmund.de>

I tried to reproduce a result from a former colleague which he got
with S-plus bootstrap method. I don't have S-plus at hand.

In R, there are 2 packages related to bootstrap method, bootstrap and
boot. The former has a function called 'bootstrap' but this does not
seem to conform either to the function used in S-plus nor to that
described in MASS, 3d ed., p.144.
The latter seems to be applicable to the problem I have been asked for
help, but I am not happy insofar, as the BCa percentile confidence
interval
I am getting now is a lot larger. (The data I want to estimate are
correlations of 13 data pairs. The lower ci bound went from about 0.16
to
0.03 for the same data set.)

Is there a known difference in the use of the wording BCa percentile?
-- 
Dipl.-Math. Wilhelm Bernhard Kloke
Institut fuer Arbeitsphysiologie an der Universitaet Dortmund
Ardeystrasse 67, D-44139 Dortmund, Tel. 0231-1084-257
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Luca.Toldo at merck.de  Mon Jan 21 11:27:15 2002
From: Luca.Toldo at merck.de (Luca.Toldo@merck.de)
Date: Mon, 21 Jan 2002 11:27:15 +0100
Subject: [R] [R-1.4.0] minimum spanning tree of large ontology
Message-ID: <OF7A03FA1F.F53B7A2B-ONC1256B48.00382A65@merck.de>

Dear all,
I have an ontology which I would like to load in R to then compute the
minimum distance between elements.
Since this ontology is not only DAG, the problem is non trivial and
therefore decided to use R with the powerful e1071
library (allShortestPaths)  to do that.  That method requires to provide a
distance matrix between the
various objects.  My ontology contains 32768 objects and therefore I have
to load a matrix of 32768x32768.

Values in the matrix are set to 1 for those pair of terms that have a link
(semantic or hyper/hypo-nimic).

I am trying to reproduce at least part of the infrastructure described in
the following work
|--------------------------------------------------------------------------------|
|   1. Sugato Basu, Raymond J. Mooney, Krupakar V. Pasupuleti and Joydeep Ghosh  |
|      Evaluating the Novelty of Text-Mined Rules using Lexical Knowledge        |
|      Submitted to the Seventh ACM SIGKDD International Conference on Knowledge |
|      Discovery and Data Mining (KDD-2001), 2001                                |
|--------------------------------------------------------------------------------|


Unfortunately, when I try to do that I get into the reported problem
(cannot allocate vector of length 1073741824).
I am operating on an Irix Origin 2000 with 24 processors and 16 GB of
shared memory. My process has no limits
set to the amount of memory it can use.

I have noticed in the mailing as well as in the FAQ that since version >1.2
the memory management has been changed
and I got the information that somebody already successfully managed in
loading a 2GB dataset in previous versions.

I would be delighted to learn your opinion and instructions on how to
proceed.

Regards and compliments

Dr. Luca Toldo
Bioinformatician at Merck KGaA, Darmstadt

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 21 11:31:57 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 21 Jan 2002 10:31:57 +0000 (GMT)
Subject: [R] a Bootstrap understanding problem
In-Reply-To: <3C4BE3D3.DFCBF9F5@vestein.arb-phys.uni-dortmund.de>
Message-ID: <Pine.LNX.4.31.0201211014160.15847-100000@gannet.stats>

On Mon, 21 Jan 2002, Wilhelm B. Kloke wrote:

> I tried to reproduce a result from a former colleague which he got
> with S-plus bootstrap method. I don't have S-plus at hand.
>
> In R, there are 2 packages related to bootstrap method, bootstrap and
> boot. The former has a function called 'bootstrap' but this does not
> seem to conform either to the function used in S-plus nor to that
> described in MASS, 3d ed., p.144.

It certainly does not conform.  The `bootstrap' package (its original S
name was bootstrap.funs) is old and I suggest should not now be used, but
it does have a function for BCa which you could find by looking in its
INDEX.  The example is even

     # For example, find bca limits for
     # the correlation coefficient from a set of 15 data pairs:

but the bootstrap set is tiny (see below).

> The latter seems to be applicable to the problem I have been asked for
> help, but I am not happy insofar, as the BCa percentile confidence
> interval
> I am getting now is a lot larger. (The data I want to estimate are
> correlations of 13 data pairs. The lower ci bound went from about 0.16
> to
> 0.03 for the same data set.)
>
> Is there a known difference in the use of the wording BCa percentile?

No, and in e.g. the MASS examples they give similar results.

BCa needs large, often very large (tens of thousands), bootstrap sets.
Are you sure your colleague used a large enough set?  A quick bit of
replication suggests that the BCa limits are very variable for your
problem. I find BCa pretty unreliable, and for correlations using Fisher's
tanh transformation is normally enough to make all sensible confidence
interval procedures agree for all practical purposes.

Finally, what useful conclusions can be drawn from a confidence interval
for the correlation of 13 data pairs?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wb at vestein.arb-phys.uni-dortmund.de  Mon Jan 21 14:23:43 2002
From: wb at vestein.arb-phys.uni-dortmund.de (Wilhelm B. Kloke)
Date: 21 Jan 2002 14:23:43 +0100
Subject: [R] a Bootstrap understanding problem
References: <ifado.list.r.help/3C4BE3D3.DFCBF9F5@vestein.arb-phys.uni-dortmund.de> <ifado.list.r.help/Pine.LNX.4.31.0201211014160.15847-100000@gannet.stats>
Message-ID: <a2h4ov$qb9$1@yorikke.arb-phys.uni-dortmund.de>

In article <ifado.list.r.help/Pine.LNX.4.31.0201211014160.15847-100000 at gannet.stats>,
Prof Brian Ripley  <ripley at stats.ox.ac.uk> wrote:
>On Mon, 21 Jan 2002, Wilhelm B. Kloke wrote:
>
>It certainly does not conform.  The `bootstrap' package (its original S
>name was bootstrap.funs) is old and I suggest should not now be used, but
>it does have a function for BCa which you could find by looking in its
>INDEX.  The example is even

Which, BTW, yielded results resembling those I hoped to look for.

>
>     # For example, find bca limits for
>     # the correlation coefficient from a set of 15 data pairs:
>
>but the bootstrap set is tiny (see below).

As the data set is really tiny, I can give it here:
      V4    V5
1  -0.02 -0.07
2   0.04  0.02
3  -0.02  0.04
4   0.08 -0.02
5  -0.01  0.04
6   0.08  0.07
7   0.03  0.04
8   0.08  0.01
9   0.03  0.03
10 -0.12 -0.03
11  0.06  0.04
12 -0.21 -0.08
13  0.00 -0.01

My boot application gives:
: > mehnert.boot
: 
: ORDINARY NONPARAMETRIC BOOTSTRAP
: 
: 
: Call:
: boot(data = mehnert, statistic = function(x, i) {
:     cor(x[i, 1], x[i, 2])
: }, R = 1000)
: 
: 
: Bootstrap Statistics :
:      original      bias    std. error
: t1* 0.6623205 -0.03803166   0.2197617
: > 
and
: > boot.ci(mehnert.boot)
: BOOTSTRAP CONFIDENCE INTERVAL CALCULATIONS
: Based on 1000 bootstrap replicates
: 
: CALL : 
: boot.ci(boot.out = mehnert.boot)
: 
: Intervals : 
: Level      Normal              Basic         
: 95%   ( 0.2696,  1.1311 )   ( 0.4220,  1.2838 )  
: 
: Level     Percentile            BCa          
: 95%   ( 0.0408,  0.9027 )   ( 0.0322,  0.8962 )  
: Calculations and Intervals on Original Scale
: Warning message: 
: Bootstrap variances needed for studentized intervals in: boot.ci(mehnert.boot) 
My question was raised by the fact that in Mehnert's writeup I found
BCa ci from 0.16 to 0.93 for 5%level, which may indicate some more
confidence for assuming the correlation to be positive.

>No, and in e.g. the MASS examples they give similar results.

Indeed. I saw that.

>BCa needs large, often very large (tens of thousands), bootstrap sets.
>Are you sure your colleague used a large enough set?  A quick bit of

We cannot make more observations without difficulty. We have these
data from 13 probands. For the bootstrap simulation we used 1000 both
in the original study and in my replication trial.

>replication suggests that the BCa limits are very variable for your
>problem. I find BCa pretty unreliable, and for correlations using Fisher's
>tanh transformation is normally enough to make all sensible confidence
>interval procedures agree for all practical purposes.
>
>Finally, what useful conclusions can be drawn from a confidence interval
>for the correlation of 13 data pairs?

Of course, this is not a bad question. But aren't bootstrap methods
designed for application to problematic datasets?
-- 
Dipl.-Math. Wilhelm Bernhard Kloke
Institut fuer Arbeitsphysiologie an der Universitaet Dortmund
Ardeystrasse 67, D-44139 Dortmund, Tel. 0231-1084-257
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Luca.Toldo at merck.de  Mon Jan 21 14:44:16 2002
From: Luca.Toldo at merck.de (Luca.Toldo@merck.de)
Date: Mon, 21 Jan 2002 14:44:16 +0100
Subject: [R] [ 1.4.0] Compilation with 64 bits on Irix
Message-ID: <OF07D6F948.E58F8102-ONC1256B48.004B6824@merck.de>

Dear All,
I would appreciate if you could instruct me how to compile R under Irix
with 64 bits.
Thanks and regards
Luca

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From heberto.ghezzo at mcgill.ca  Mon Jan 21 15:04:13 2002
From: heberto.ghezzo at mcgill.ca (Heberto Ghezzo)
Date: Mon, 21 Jan 2002 09:04:13 -0500
Subject: [R] Problem with .libPaths
Message-ID: <3C4C1FDD.9FF440A0@mcgill.ca>

Hello, I am on win98 with R1.4 from BDR
I have a directory structure like this
c:\R\RW1040
c:\R\R_CRAN\Library
C:\R\R_SRC\Library
so Y put the new versions of R in RW... and I download the packages from
CRAN into R=R_CRAN\library so they do not change from R version to
version, R\R_SRC is for packages from other places than CRAN or for my
own things
Now if when R starts I say
> library()
I get the list of packages in RW1040\library. If I add
> .libPaths("c:/r/r_cran/library")
[1] "c:/r/r_cran/library" "C:/R/RW1040/library"
> library()
Error in cbind(unlist(lapply(x, "[[", 1)), unlist(lapply(x, function(t)
paste(t[-c(1,  :
        attempt to set an attribute on NULL
>
and any attempt to load a package from R_CRAN fails. Before I used to
have a lib.loc line in RW...\etc\R.profile where i set the paths to
r\r_cran\library and r\r_src\library, what is the procedure now? If I
try to use .lib.loc<-c('''') I get the same answer.
Thanks for any help.
--
R. Heberto Ghezzo Ph.D.
Meakins-Christie Labs
McGill University
Montreal  -  Canada


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Mon Jan 21 15:10:32 2002
From: siim at obs.ee (Ott Toomet)
Date: Mon, 21 Jan 2002 15:10:32 +0100 (CET)
Subject: [R] problems with read.table()
Message-ID: <Pine.LNX.4.33.0201211502260.1571-100000@localhost.localdomain>

Hi,

I have lately migrated to R 1.4.0.

trying to read a table into R with read.delim, I hot the following error:

> tab20 <- read.delim("tab20.and")
Error in "row.names<-.data.frame"(*tmp*, value = row.names) :
	duplicate row.names are not allowed

The beginning of the file looks like (there are TAB-s between columns, both
in the header and in the datalines):

t	prod
7.00000	0.0113800
9.00000	0.0113800

The read.delim() works fine as long I have only 51 lines of data in addition
to the header, but if there are 52 or more lines, the first column is read
in as the row.names and because some t-values coincide, it gives the error.

I have noticed problems with read.table here in the list before, but I could
not figure out what is the corresponding patch, and how to find and install
it.

I have RH 7.1 linux and

platform i686-pc-linux-gnu
arch     i686
os       linux-gnu
system   i686, linux-gnu
status
major    1
minor    4.0
year     2001
month    12
day      19
language R

Thanks in advance,

Ott Toomet

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 21 15:12:45 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 21 Jan 2002 14:12:45 +0000 (GMT)
Subject: [R] a Bootstrap understanding problem
In-Reply-To: <a2h4ov$qb9$1@yorikke.arb-phys.uni-dortmund.de>
Message-ID: <Pine.LNX.4.31.0201211357330.16781-100000@gannet.stats>

On 21 Jan 2002, Wilhelm B. Kloke wrote:

> In article <ifado.list.r.help/Pine.LNX.4.31.0201211014160.15847-100000 at gannet.stats>,
> Prof Brian Ripley  <ripley at stats.ox.ac.uk> wrote:
> >On Mon, 21 Jan 2002, Wilhelm B. Kloke wrote:
> >
> >It certainly does not conform.  The `bootstrap' package (its original S
> >name was bootstrap.funs) is old and I suggest should not now be used, but
> >it does have a function for BCa which you could find by looking in its
> >INDEX.  The example is even
>
> Which, BTW, yielded results resembling those I hoped to look for.
>
> >
> >     # For example, find bca limits for
> >     # the correlation coefficient from a set of 15 data pairs:
> >
> >but the bootstrap set is tiny (see below).
>
> As the data set is really tiny, I can give it here:
>       V4    V5
> 1  -0.02 -0.07
> 2   0.04  0.02
> 3  -0.02  0.04
> 4   0.08 -0.02
> 5  -0.01  0.04
> 6   0.08  0.07
> 7   0.03  0.04
> 8   0.08  0.01
> 9   0.03  0.03
> 10 -0.12 -0.03
> 11  0.06  0.04
> 12 -0.21 -0.08
> 13  0.00 -0.01

Looks like a discrete distribution, which makes bootstrapping pretty
questionable.

> My boot application gives:
> : > mehnert.boot
> :
> : ORDINARY NONPARAMETRIC BOOTSTRAP
> :
> :
> : Call:
> : boot(data = mehnert, statistic = function(x, i) {
> :     cor(x[i, 1], x[i, 2])
> : }, R = 1000)
> :
> :
> : Bootstrap Statistics :
> :      original      bias    std. error
> : t1* 0.6623205 -0.03803166   0.2197617
> : >
> and
> : > boot.ci(mehnert.boot)
> : BOOTSTRAP CONFIDENCE INTERVAL CALCULATIONS
> : Based on 1000 bootstrap replicates
> :
> : CALL :
> : boot.ci(boot.out = mehnert.boot)
> :
> : Intervals :
> : Level      Normal              Basic
> : 95%   ( 0.2696,  1.1311 )   ( 0.4220,  1.2838 )
> :
> : Level     Percentile            BCa
> : 95%   ( 0.0408,  0.9027 )   ( 0.0322,  0.8962 )
> : Calculations and Intervals on Original Scale
> : Warning message:
> : Bootstrap variances needed for studentized intervals in: boot.ci(mehnert.boot)
> My question was raised by the fact that in Mehnert's writeup I found
> BCa ci from 0.16 to 0.93 for 5%level, which may indicate some more
> confidence for assuming the correlation to be positive.

Ah, but that's a hypothesis test, not a confidence limit.  In any case
0.03 > 0, so the conclusion would be exactly the same.  If you want to
test for non-zero correlation, use a hypothesis test.  And you cannot
deduce that because 0.03 is nearer 0 than 0.16, the P-values would be any
different. You only know about 95% CIs and hence 5% tests.

> >No, and in e.g. the MASS examples they give similar results.
>
> Indeed. I saw that.
>
> >BCa needs large, often very large (tens of thousands), bootstrap sets.
> >Are you sure your colleague used a large enough set?  A quick bit of
>
> We cannot make more observations without difficulty. We have these
> data from 13 probands. For the bootstrap simulation we used 1000 both
> in the original study and in my replication trial.
>
> >replication suggests that the BCa limits are very variable for your
> >problem. I find BCa pretty unreliable, and for correlations using Fisher's
> >tanh transformation is normally enough to make all sensible confidence
> >interval procedures agree for all practical purposes.

I see you did not pick up on that: it was a very important comment.
The appropriate scale is known: don't try to estimate it from 13 pairs.

> >Finally, what useful conclusions can be drawn from a confidence interval
> >for the correlation of 13 data pairs?
>
> Of course, this is not a bad question. But aren't bootstrap methods
> designed for application to problematic datasets?

No. First, they are frequentist, so they are designed for applications
which little is known about the *distributions*, but not for any one
dataset.  Second, I don't think you can draw any useful conclusion from a
CI of (0.16, 0.93) except as a roundabout way to test rho > 0, and for
that you can gain more information from a test statistic and P-value.

Lots more can be said, but for example if you don't believe in normality
in your problem, you should be using an appropriate statistic (not the
product-moment correlation) and not just trying to fix the distribution of
the statistic.  It is robust statistics that is designed for non-standard
problems, not bootstrapping, but the first has been vastly undersold
relative to the second.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MCCANNJ at britannic.co.uk  Mon Jan 21 15:27:49 2002
From: MCCANNJ at britannic.co.uk (MCCANN, JACKSON)
Date: Mon, 21 Jan 2002 14:27:49 -0000
Subject: [R] [R-1.4.0] minimum spanning tree of large ontology
Message-ID: <32992E789635D311AF8D0008C75D2D8B11C99025@CO087>

Dr. Luca Toldo wrote >

>Dear all,
>I have an ontology which I would like to load in R to then compute the
>minimum distance between elements.
>Since this ontology is not only DAG, the problem is non trivial and
>therefore decided to use R with the powerful e1071
>library (allShortestPaths)  to do that.  That method requires to provide a
>distance matrix between the
>various objects.  My ontology contains 32768 objects and therefore I have
>to load a matrix of 32768x32768.

>Values in the matrix are set to 1 for those pair of terms that have a link
>(semantic or hyper/hypo-nimic).
>....

I'm not sure that this is the most efficient approach to the problem,  the
Floyd-Warshall algorithm computes all paths between all nodes on a weighted
graph, this is going to run in time O(n^3) and your n is fairly large here!
Another consideration is the size of the result set, I'm not sure how the
e1071 package works internally but looking at the return values they will be
at least twice as large as the input matrix - another 8Gbyte.

As described your graph appears to be unweighted, so the minimum path
between any two nodes can be found with a breadth-first search, so finding
the minimum distance between any two points would take O(n) time and
building an all paths solutions O(n^2).

I'd suggest you look for an adjacency list based graph package with a
breadth first search as this allows a more efficient implementation.

Regards Jackson McCann

************
This email and any accompanying documents are intended only for the named recipient, are confidential and may be privileged. If you are not the intended recipient please notify us immediately by mailto:admin at britannic.co.uk and you must not copy, disclose or otherwise use this message. Unauthorised use is strictly prohibited and may be unlawful. The content of this email represents the view of the individual and not the company. The company reserves the right to monitor the content of all emails in accordance with lawful business practice.

Whilst attachments are virus checked before transmission, Britannic Assurance plc does not accept any liability in respect of any virus which is not detected.

Britannic Assurance plc, No.3002 is registered in England and maintains its registered office at 1 Wythall Green Way, Wythall, Birmingham B47 6WG.
Telephone: 0870 887 0001
Fax: 0870 887 0002
Website: www.britannicassurance.com

Britannic Assurance plc, Britannic Unit Linked Assurance Limited, Britannic ISA Managers Limited and Britannic Unit Trust Managers Limited are regulated by the Financial Services Authority. Each of these companies is a member of the Britannic marketing group which only advises on and sells its own life assurance, pension, unit trust and ISA products.
************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jrgonzalez at ico.scs.es  Mon Jan 21 16:11:48 2002
From: jrgonzalez at ico.scs.es (Juan Ramon Gonzalez)
Date: Mon, 21 Jan 2002 16:11:48 +0100
Subject: [R] .Fortran or .C???
Message-ID: <008a01c1a28d$f266db00$1100a8c0@ico.scs.es>

Hello,

 I have made a dll with mingw32 fortran compiler. I load my dll with the dyn.load function, but when I call one of my Fortran procedures with the .Fortran instruction, an error message appears saying that my function is not in the load table. However, if I call my Fortran routines with ".C" it works fine. I would like to know what is happening here. Is it usual to call Fortran procedures with the .C function (in S-plus this problem doesn't appear)? 

Thanks,

JR
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020121/aa620680/attachment.html

From dechwang at yahoo.co.uk  Mon Jan 21 16:29:40 2002
From: dechwang at yahoo.co.uk (=?iso-8859-1?q?dechao=20wang?=)
Date: Mon, 21 Jan 2002 15:29:40 +0000 (GMT)
Subject: No subject
Message-ID: <20020121152940.93349.qmail@web20610.mail.yahoo.com>

hi, 

can you tell me where can I find some examples for 
analysis of variance in R?

many thanks in advance,

dechao

__________________________________________________

Everything you'll ever need on one web page
from News and Sport to Email and Music Charts
http://uk.my.yahoo.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matpau01 at borabora.crchul.ulaval.ca  Mon Jan 21 16:55:06 2002
From: matpau01 at borabora.crchul.ulaval.ca (Pauline Mattsson)
Date: Mon, 21 Jan 2002 10:55:06 -0500 (EST)
Subject: [R] microarray handling
Message-ID: <200201211556.KAA13776@hibou.crchul.ulaval.ca>

Dear all,

I am working with affymetrix data and I am writing a program in Perl to 
normalize the data. I would like to use some statistical formulas from R in my 
Perl program, some kind of interface. How can I do this? My second question is 
where can I find the R package translating the affymetrix cel files with the 
help of affymetrix cdf file. I know that I have seen a function like this in R 
but now I am not able to find it.

Thank you,

Pauline

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 21 17:10:22 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 21 Jan 2002 16:10:22 +0000 (GMT)
Subject: [R] .Fortran or .C???
In-Reply-To: <008a01c1a28d$f266db00$1100a8c0@ico.scs.es>
Message-ID: <Pine.LNX.4.31.0201211559410.16947-100000@gannet.stats>

On Mon, 21 Jan 2002, Juan Ramon Gonzalez wrote:

> Hello,
>
>  I have made a dll with mingw32 fortran compiler. I load my dll with the
dyn.load function, but when I call one of my Fortran procedures with the
.Fortran instruction, an error message appears saying that my function is
not in the load table. However, if I call my Fortran routines with ".C"
it works fine. I would like to know what is happening here. Is it usual to
call Fortran procedures with the .C function (in S-plus this problem doesn't
appear)?

[Single line broken manually: please make use of the Return key!]

No, it is not usual in R either.  You did something very unusual making
the DLL.  Please use the recommended facilities, either Rcmd SHLIB or
installing a package.

The utility pedump.exe is recommended in the R doumentation to see what is
going on.  Please make use of it.

BTW `in S-plus' is pretty unhelpful: even on Windows (which you forgot to
mention you are using) there are four quite different compilers and
conventions on different versions, three of which are current.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matpau01 at borabora.crchul.ulaval.ca  Mon Jan 21 17:13:13 2002
From: matpau01 at borabora.crchul.ulaval.ca (Pauline Mattsson)
Date: Mon, 21 Jan 2002 11:13:13 -0500 (EST)
Subject: [R] affymetrix files
Message-ID: <200201211614.LAA13798@hibou.crchul.ulaval.ca>

Dear all,

I am working with affymetrix data and I am writing a program in Perl to 
normalize the data. I would like to use some statistical formulas from R in my 
Perl program, some kind of interface. How can I do this? My second question is 
where can I find the R package translating the affymetrix cel files with the 
help of affymetrix cdf file. I know that I have seen a function like this in R 
but now I am not able to find it.

Thank you,

Pauline

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Jan 21 17:31:36 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 21 Jan 2002 17:31:36 +0100
Subject: [R] Re: no subject / aov
References: <20020121152940.93349.qmail@web20610.mail.yahoo.com>
Message-ID: <3C4C4268.5E5AFE6@statistik.uni-dortmund.de>



dechao wang wrote:
> 
> hi,
> 
> can you tell me where can I find some examples for
> analysis of variance in R?

You are seraching for aov(). Take a look into the help page:
  ?aov

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Mon Jan 21 17:40:43 2002
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Mon, 21 Jan 2002 17:40:43 +0100
Subject: [R] density function for gaussian vector
Message-ID: <3C4C448B.BDD3E499@inrialpes.fr>

Hi all,

I want to compute the value of the density  for a
gaussian distribution in a dimension greater than 1.
Is there a function that can do it or i have to write it?

Thanks
Olivier

--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN
PhD student                  phone: (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42
INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                   e-mail:olivier.martin at inrialpes.fr
38334 Saint Ismier cedex
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020121/c2771060/attachment.html

From tlumley at u.washington.edu  Mon Jan 21 19:45:13 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 21 Jan 2002 10:45:13 -0800 (PST)
Subject: [R] [R 1.4] WARNING: --max-vsize=8000M : too large and ignored
In-Reply-To: <OF92DBB1B4.D7C840B7-ONC1256B48.0032E6C9@merck.de>
Message-ID: <Pine.A41.4.44.0201211028440.135180-100000@homer36.u.washington.edu>

On Mon, 21 Jan 2002 Luca.Toldo at merck.de wrote:

> Why is there a limit on the amount of vector heap one can use ?
> I am operating on a 16GB SGI (O2000) machine.

The underlying reason is that nearly everyone uses R on machine that can't
address that much memory, so there isn't much motivation or ability to
extend the limits.

The more direct reason is that the memory manager indexes some things with
C ints, which are presumably still 32 bits on your machine. Extending it
isn't quite as simple as changing int to long everywhere, as the file
format requires 32bit types in some places, and R's integer type has to be
the same as C int and FORTRAN INTEGER.

Unless a user who needs to use large memories implements the changes it
may have to wait quite a while.

> Furthermore, is there any way to make R using multiple threads ?

Not at the moment (in the sense you probably want).  There is work being
done in that direction, and you can see some of the notes on
http://developer.r-project.org, but nothing is imminent.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cstrato at EUnet.at  Mon Jan 21 20:39:29 2002
From: cstrato at EUnet.at (cstrato@EUnet.at)
Date: Mon, 21 Jan 2002 20:39:29 +0100
Subject: [R] affymetrix files
References: <200201211614.LAA13798@hibou.crchul.ulaval.ca>
Message-ID: <3C4C6E71.9AA1F764@EUnet.at>

Dear Pauline

Maybe you mean the Raffy package from Terry Speed?s group?
http://biosun01.biostat.jhsph.edu/~ririzarr/Raffy/
(However, I am not sure whether it translates CEL files, I did not test it.)

Best regards
Christian
----------------------------------
C.h.r.i.s.t.i.a.n  S.t.r.a.t.o.w.a
V.i.e.n.n.a,  A.u.s.t.r.i.a


Pauline Mattsson wrote:

> Dear all,
>
> I am working with affymetrix data and I am writing a program in Perl to
> normalize the data. I would like to use some statistical formulas from R in my
> Perl program, some kind of interface. How can I do this? My second question is
> where can I find the R package translating the affymetrix cel files with the
> help of affymetrix cdf file. I know that I have seen a function like this in R
> but now I am not able to find it.
>
> Thank you,
>
> Pauline
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From o.christensen at lancaster.ac.uk  Mon Jan 21 21:30:26 2002
From: o.christensen at lancaster.ac.uk (Ole Christensen)
Date: Mon, 21 Jan 2002 20:30:26 +0000
Subject: [R] correlated random effects in GLMMGibbs ?
References: <Pine.GSO.4.21.0201212007460.3204-100000@unixb.lancs.ac.uk>
Message-ID: <3C4C7A62.CCB9DEA5@lancs.ac.uk>

Dear Patty

This may not be what you are asking for, but I have made a package for
GLM's with spatially correlated random effects, called geoRglm (intended
for geostatistical data). It is not using the Gibbs sampler for MCMC but
instead a Langevin-type algorithm, so it not an extension to GLMMGibbs.

The package is not yet submitted to CRAN, but can be dowloaded from the
homepage

http://www.maths.lancs.ac.uk/~christen/geoRglm/

where also an introduction to the package is found (note that it
requires package geoR).


Best Regards 

Ole F. Christensen


Patty Solomon wrote:
> 
> Dear R-users, 
> 
> I wondered if anyone has extended GLMMGibbs to include correlated 
> random effects, and if so, whether they would be willing to let me 
> use their code? 
> 
> Jonathan Myles has no plans to extend glmm in this manner within the 
> foreseeable future. 
> 
> With thanks, 
> Patty 


-- 
Ole F. Christensen
Department of Mathematics and Statistics
Fylde College, Lancaster University 
Lancaster, LA1 4YF, England
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ririzarr at jhsph.edu  Mon Jan 21 22:29:32 2002
From: ririzarr at jhsph.edu (Rafael A. Irizarry)
Date: Mon, 21 Jan 2002 16:29:32 -0500 (EST)
Subject: [R] affymetrix files
In-Reply-To: <200201211614.LAA13798@hibou.crchul.ulaval.ca>
Message-ID: <Pine.GSO.4.10.10201211621390.18648-100000@athena.biostat.jhsph.edu>

On Mon, 21 Jan 2002, Pauline Mattsson wrote:

> Perl program, some kind of interface. How can I do this? My second question is 
> where can I find the R package translating the affymetrix cel files with the 
> help of affymetrix cdf file. I know that I have seen a function like this in R 
> but now I am not able to find it.

you can find a package that includes a perl script that converts cel/cdf
files into a tab delimeted file here:

http://biosun01.biostat.jhsph.edu/~ririzarr/Raffy

another useful package can be found here:

http://www.cbs.dtu.dk/laurent/download/affyR/

a package combining these two packages that calls C to read in
information from cel/cdf is coming out soon.

rafael    

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Mon Jan 21 23:23:33 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Mon, 21 Jan 2002 23:23:33 +0100 (MET)
Subject: [R] R and 2 processors
Message-ID: <Pine.OSF.3.96.1020121231547.9183A-100000@ija.csic.es>


As far as I can see by searching the archieves, R could not
take advantage of two processors in the same machine but there
were plans for implementing multithreading 
in R. Is this work going on?

On the other hand, if two processors are
present in the same linux machine is it possible to focus one
processor on tasks of the operative system and the other
on R and/or other real computing? Could anyone point me
to info on this subject?

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hortresearch.co.nz  Tue Jan 22 04:00:42 2002
From: P.Connolly at hortresearch.co.nz (Patrick Connolly)
Date: Tue, 22 Jan 2002 16:00:42 +1300 (NZDT)
Subject: [R] glm.predict?
Message-ID: <200201220300.g0M30gs12986@biomat1.marc.hort.cri.nz>

I've been attempting to calculate the predictions from a poisson glm
object, along these lines:

predict(foo.glm, type = "response")

and 

predict(foo.glm, type = "response", se.fit = TRUE)


foo.glm is arrived at this way:

foo.glm <- glm(Insects ~ Dad * Mum + Location, offset = log(MM), family
                   = "poisson", data = model.df)

There are two levels for Dad and three each for Mum and Location but
the numbers of each level vary considerably.

The help file for predict.glm tells us that the returned value is:

     If `se = FALSE', a vector or matrix of predictions.  If `se =
     TRUE', a list with components 

     fit: Predictions

  se.fit: Estimated standard errors



So, I imagined I'd get the same result for predictions arrived at
these two ways:

things <- list()
things$fitA <- predict(foo.glm, type = "response")
things$fitB <- predict(foo.glm, type = "response", se.fit = TRUE)$fit

however, that is not the case

Warning messages: 
1: longer object length
	is not a multiple of shorter object length in: predictor + offset 
2: longer object length
	is not a multiple of shorter object length in: se.fit * abs(family(object)$mu.eta(fit)) 


Browse[1]> sapply(things,length)
fitA fitB 
 135  141 
Browse[1]> sapply(things, function(x) length(x[is.na(x)]))
fitA fitB 
   0    6 

So the warning message indicates something serious is happening.
Simply removing the 6 NAs does not fix the problem (though it's close
to it).  Removing the offset would eliminate the problem, but it would
not give me usable answers.


Looking through the code for predict.glm, I got confused by the
relationship between type and terms and by the subtleties of the
concise coding using switch.  Without any comments in the code, I
couldn't follow what was happening.

Ideas are gratefully accepted.  If anyone needs the dataframe to be
able to tell what's happening, it looks like this:

dput(model.df)
structure(list(Dad = structure(c(2, 2, 1, 1, 1, 2, 2, 2, 2, 2, 
2, 2, 1, 2, 2, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 
1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 1, 1, 2, 2, 2, 2, 2, 1, 1, 1, 2, 
2, 2, 2, 2, 2, 1, 2, 2, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 2, 2, 2, 
2, 2, 2, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 
1, 2, 2, 2, 2, 2, 2, 1, 2, 2, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 2, 
2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 1, 1, 2, 2, 2), .Label = c("1", 
"2"), class = "factor"), Mum = structure(c(3, 3, 3, 3, 2, 1, 
3, 3, 1, 1, 1, 2, 1, 3, 3, 3, 3, 3, 3, 3, 2, 3, 3, 1, 1, 1, 1, 
2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 3, 1, 1, 2, 1, 1, 2, 3, 3, 
3, 3, 2, 1, 3, 1, 1, 1, 2, 1, 3, 3, 3, 3, 3, 3, 3, 2, 3, 3, 1, 
1, 1, 1, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 3, 1, 1, 2, 1, 2, 
3, 3, 3, 3, 2, 1, 3, 3, 1, 1, 1, 1, 3, 3, 3, 3, 3, 3, 3, 2, 3, 
3, 3, 1, 1, 1, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 3, 1, 1, 2, 
1, 1, 2), .Label = c("A", "B", "C"), class = "factor"), Location = structure(c(1, 
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 
1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 
2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 
2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 
3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 
3, 3, 3, 3, 3, 3, 3, 3), .Label = c("Lead1", "Lead2", "Trunk"
), class = "factor"), Insects = structure(c(2, 2, 2, 2, 1, 2, 
0, 0, 0, 0, 0, 0, 0, 1, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
0, 1, 3, 3, 31, 0, 0, 0, 38, 0, 0, 0, 0, 0, 0, 16, 0, 1, 0, 4, 
1, 17, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
0, 3, 0, 0, 1, 0, 0, 1, 15, 4, 1, 0, 0, 2, 1, 0, 0, 3, 2, 0, 
11, 0, 0, 3, 4, 21, 0, 16, 6, 0, 0, 0, 0, 0, 0, 2, 0, 1, 3, 0, 
1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 1, 3, 0, 0, 0, 8, 6, 0, 0, 
0, 3, 0, 93, 1, 17, 0), .Names = c("Lead1.no1", "Lead1.no2", 
"Lead1.no3", "Lead1.no4", "Lead1.no5", "Lead1.no6", "Lead1.no7", 
"Lead1.no8", "Lead1.no9", "Lead1.no10", "Lead1.no11", "Lead1.no12", 
"Lead1.no13", "Lead1.no14", "Lead1.no15", "Lead1.no16", "Lead1.no17", 
"Lead1.no18", "Lead1.no19", "Lead1.no20", "Lead1.no21", "Lead1.no22", 
"Lead1.no23", "Lead1.no25", "Lead1.no26", "Lead1.no27", "Lead1.no28", 
"Lead1.no29", "Lead1.no30", "Lead1.no31", "Lead1.no32", "Lead1.no33", 
"Lead1.no34", "Lead1.no35", "Lead1.no36", "Lead1.no37", "Lead1.no38", 
"Lead1.no39", "Lead1.no40", "Lead1.no41", "Lead1.no42", "Lead1.no43", 
"Lead1.no44", "Lead1.no45", "Lead1.no46", "Lead1.no47", "Lead2.no1", 
"Lead2.no2", "Lead2.no3", "Lead2.no4", "Lead2.no5", "Lead2.no6", 
"Lead2.no8", "Lead2.no9", "Lead2.no10", "Lead2.no11", "Lead2.no12", 
"Lead2.no13", "Lead2.no14", "Lead2.no15", "Lead2.no16", "Lead2.no17", 
"Lead2.no18", "Lead2.no19", "Lead2.no20", "Lead2.no21", "Lead2.no22", 
"Lead2.no23", "Lead2.no25", "Lead2.no26", "Lead2.no27", "Lead2.no28", 
"Lead2.no29", "Lead2.no30", "Lead2.no31", "Lead2.no32", "Lead2.no33", 
"Lead2.no34", "Lead2.no35", "Lead2.no36", "Lead2.no37", "Lead2.no38", 
"Lead2.no39", "Lead2.no40", "Lead2.no41", "Lead2.no42", "Lead2.no43", 
"Lead2.no44", "Lead2.no45", "Lead2.no47", "Trunk.no1", "Trunk.no2", 
"Trunk.no3", "Trunk.no4", "Trunk.no5", "Trunk.no6", "Trunk.no7", 
"Trunk.no8", "Trunk.no9", "Trunk.no10", "Trunk.no11", "Trunk.no13", 
"Trunk.no14", "Trunk.no15", "Trunk.no16", "Trunk.no17", "Trunk.no18", 
"Trunk.no19", "Trunk.no20", "Trunk.no21", "Trunk.no22", "Trunk.no23", 
"Trunk.no24", "Trunk.no25", "Trunk.no27", "Trunk.no28", "Trunk.no29", 
"Trunk.no30", "Trunk.no31", "Trunk.no32", "Trunk.no33", "Trunk.no34", 
"Trunk.no35", "Trunk.no36", "Trunk.no37", "Trunk.no38", "Trunk.no39", 
"Trunk.no40", "Trunk.no41", "Trunk.no42", "Trunk.no43", "Trunk.no44", 
"Trunk.no45", "Trunk.no46", "Trunk.no47")), MM = structure(c(123, 
88, 133, 90, 153, 96, 116, 125, 89, 102, 107, 110, 112, 135, 
138, 145, 94, 132, 90, 117, 130, 135, 82, 124, 158, 151, 135, 
114, 126, 71, 113, 84, 97, 88, 115, 88, 120, 102, 123, 100, 92, 
126, 96, 108, 130, 76, 122, 110, 205, 219, 192, 126, 153, 162, 
162, 112, 180, 101, 205, 157, 239, 241, 165, 153, 146, 134, 135, 
155, 113, 154, 203, 94, 108, 106, 83, 125, 118, 104, 157, 144, 
140, 88, 110, 173, 67, 111, 83, 72, 76, 135, 177, 142, 177, 142, 
166, 144, 164, 171, 200, 187, 169, 189, 168, 182, 208, 207, 193, 
144, 178, 177, 176, 205, 153, 228, 227, 147, 173, 157, 214, 167, 
140, 179, 204, 184, 151, 115, 173, 208, 135, 175, 136, 121, 189, 
148, 174), .Names = c("Lead1.mm1", "Lead1.mm2", "Lead1.mm3", 
"Lead1.mm4", "Lead1.mm5", "Lead1.mm6", "Lead1.mm7", "Lead1.mm8", 
"Lead1.mm9", "Lead1.mm10", "Lead1.mm11", "Lead1.mm12", "Lead1.mm13", 
"Lead1.mm14", "Lead1.mm15", "Lead1.mm16", "Lead1.mm17", "Lead1.mm18", 
"Lead1.mm19", "Lead1.mm20", "Lead1.mm21", "Lead1.mm22", "Lead1.mm23", 
"Lead1.mm25", "Lead1.mm26", "Lead1.mm27", "Lead1.mm28", "Lead1.mm29", 
"Lead1.mm30", "Lead1.mm31", "Lead1.mm32", "Lead1.mm33", "Lead1.mm34", 
"Lead1.mm35", "Lead1.mm36", "Lead1.mm37", "Lead1.mm38", "Lead1.mm39", 
"Lead1.mm40", "Lead1.mm41", "Lead1.mm42", "Lead1.mm43", "Lead1.mm44", 
"Lead1.mm45", "Lead1.mm46", "Lead1.mm47", "Lead2.mm1", "Lead2.mm2", 
"Lead2.mm3", "Lead2.mm4", "Lead2.mm5", "Lead2.mm6", "Lead2.mm8", 
"Lead2.mm9", "Lead2.mm10", "Lead2.mm11", "Lead2.mm12", "Lead2.mm13", 
"Lead2.mm14", "Lead2.mm15", "Lead2.mm16", "Lead2.mm17", "Lead2.mm18", 
"Lead2.mm19", "Lead2.mm20", "Lead2.mm21", "Lead2.mm22", "Lead2.mm23", 
"Lead2.mm25", "Lead2.mm26", "Lead2.mm27", "Lead2.mm28", "Lead2.mm29", 
"Lead2.mm30", "Lead2.mm31", "Lead2.mm32", "Lead2.mm33", "Lead2.mm34", 
"Lead2.mm35", "Lead2.mm36", "Lead2.mm37", "Lead2.mm38", "Lead2.mm39", 
"Lead2.mm40", "Lead2.mm41", "Lead2.mm42", "Lead2.mm43", "Lead2.mm44", 
"Lead2.mm45", "Lead2.mm47", "Trunk.mm1", "Trunk.mm2", "Trunk.mm3", 
"Trunk.mm4", "Trunk.mm5", "Trunk.mm6", "Trunk.mm7", "Trunk.mm8", 
"Trunk.mm9", "Trunk.mm10", "Trunk.mm11", "Trunk.mm13", "Trunk.mm14", 
"Trunk.mm15", "Trunk.mm16", "Trunk.mm17", "Trunk.mm18", "Trunk.mm19", 
"Trunk.mm20", "Trunk.mm21", "Trunk.mm22", "Trunk.mm23", "Trunk.mm24", 
"Trunk.mm25", "Trunk.mm27", "Trunk.mm28", "Trunk.mm29", "Trunk.mm30", 
"Trunk.mm31", "Trunk.mm32", "Trunk.mm33", "Trunk.mm34", "Trunk.mm35", 
"Trunk.mm36", "Trunk.mm37", "Trunk.mm38", "Trunk.mm39", "Trunk.mm40", 
"Trunk.mm41", "Trunk.mm42", "Trunk.mm43", "Trunk.mm44", "Trunk.mm45", 
"Trunk.mm46", "Trunk.mm47"))), .Names = c("Dad", "Mum", "Location", 
"Insects", "MM"), row.names = c("X9", "X10", "X21", "X22", "X23", 
"X31", "X50", "X51", "X62", "X63", "X64", "X65", "X82", "X101", 
"X102", "X115", "X116", "X126", "X127", "X128", "X129", "X153", 
"X154", "X169", "X170", "X178", "X179", "X180", "X199", "X200", 
"X201", "X242", "X243", "X244", "X245", "X246", "X254", "X255", 
"X256", "X257", "X295", "X296", "X303", "X305", "X306", "X307", 
"X91", "X1021", "X213", "X224", "X235", "X316", "X518", "X629", 
"X6310", "X6411", "X6512", "X8213", "X10114", "X10215", "X11516", 
"X11617", "X12618", "X12719", "X12820", "X12921", "X15322", "X15423", 
"X16925", "X17026", "X17827", "X17928", "X18029", "X19930", "X20031", 
"X20132", "X24233", "X24334", "X24435", "X24536", "X24637", "X25438", 
"X25539", "X25640", "X25741", "X29542", "X29643", "X30344", "X30545", 
"X30747", "X948", "X1049", "X2150", "X2251", "X2352", "X3153", 
"X5054", "X5155", "X6256", "X6357", "X6458", "X8260", "X10161", 
"X10262", "X11563", "X11664", "X12665", "X12766", "X12867", "X12968", 
"X15369", "X15470", "X15571", "X16972", "X17874", "X17975", "X18076", 
"X19977", "X20078", "X20179", "X24280", "X24381", "X24482", "X24583", 
"X24684", "X25485", "X25586", "X25687", "X25788", "X29589", "X29690", 
"X30391", "X30592", "X30693", "X30794"), class = "data.frame")


Thanks


-- 
*************************************************************
   ___      Patrick Connolly
 {~._.~}    HortResearch             Great minds discuss ideas;
 _( Y )_    Mt Albert                Average minds discuss events; 
(:_~*~_:)   Auckland                 Small minds discuss people.
 (_)-(_)    New Zealand                                    .... Anon
            Ph: +64-9 815 4200 x 7188
*************************************************************


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deleeuw at stat.ucla.edu  Tue Jan 22 03:49:07 2002
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Mon, 21 Jan 2002 18:49:07 -0800
Subject: [R] R and 2 processors
In-Reply-To: <Pine.OSF.3.96.1020121231547.9183A-100000@ija.csic.es>
Message-ID: <9AAB6EF6-0EE2-11D6-9A9F-00039319314A@stat.ucla.edu>

On OS X the ATLAS library uses threading (as well as Altivec on G4's).
Of course the OS is threaded as well.

On Monday, January 21, 2002, at 02:23 PM, Agustin Lobo wrote:

>
> As far as I can see by searching the archieves, R could not
> take advantage of two processors in the same machine but there
> were plans for implementing multithreading
> in R. Is this work going on?
>
> On the other hand, if two processors are
> present in the same linux machine is it possible to focus one
> processor on tasks of the operative system and the other
> on R and/or other real computing? Could anyone point me
> to info on this subject?
>
> Agus
>
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-
> FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._._
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Tue Jan 22 05:20:42 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 21 Jan 2002 20:20:42 -0800
Subject: [R] R and 2 processors
In-Reply-To: <Pine.OSF.3.96.1020121231547.9183A-100000@ija.csic.es>
References: <Pine.OSF.3.96.1020121231547.9183A-100000@ija.csic.es>
Message-ID: <877kqbhv8l.fsf@jeeves.blindglobe.net>

>>>>> "AL" == Agustin Lobo <alobo at ija.csic.es> writes:

    AL> As far as I can see by searching the archieves, R could not
    AL> take advantage of two processors in the same machine but there
    AL> were plans for implementing multithreading in R. Is this work
    AL> going on?

    AL> On the other hand, if two processors are present in the same
    AL> linux machine is it possible to focus one processor on tasks
    AL> of the operative system and the other on R and/or other real
    AL> computing? Could anyone point me to info on this subject?

There is always the truly coarse user-level approach: RPVM (instead of
threads, you are looking at processes, with flexible inter-process
communication).

The API is reasonably straightforward, and the additional plus is that
we (well, Michael) should soon have the SPRNG library usable by R, for
a reasonably verified parallel pseudo-RNG.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
--- I'm 40% time until March 1st.  Try email the other 3 days.... -----
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Jan 22 08:23:03 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 22 Jan 2002 08:23:03 +0100
Subject: [R] Problems running 'R' on Windows-2000
References: <JAEPKPCEJMAEGDHFHCEKAEHPCGAA.jwehner2@gsb.uchicago.edu>
Message-ID: <3C4D1357.19AE1C79@statistik.uni-dortmund.de>

"Jason K. Wehner" wrote:
> 
> Do you know of common problems running 'R' on Windows-2000 Pro?  For some
> reason, the program crashes every time I try to start 'R'

No.
Does the crash still occur when you start R with:
  RGui --vanilla

I guess it is something with your Rprofile or workspace that goes wrong.

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jan 22 10:11:56 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Jan 2002 10:11:56 +0100
Subject: [R] glm.predict?
In-Reply-To: <200201220300.g0M30gs12986@biomat1.marc.hort.cri.nz>
References: <200201220300.g0M30gs12986@biomat1.marc.hort.cri.nz>
Message-ID: <x2wuyan40z.fsf@blueberry.kubism.ku.dk>

"Patrick Connolly" <P.Connolly at hortresearch.co.nz> writes:

> foo.glm <- glm(Insects ~ Dad * Mum + Location, offset = log(MM), family
>                    = "poisson", data = model.df)
> 
..
> things <- list()
> things$fitA <- predict(foo.glm, type = "response")
> things$fitB <- predict(foo.glm, type = "response", se.fit = TRUE)$fit

> 1: longer object length
> 	is not a multiple of shorter object length in: predictor + offset 
> 2: longer object length
> 	is not a multiple of shorter object length in: se.fit * abs(family(object)$mu.eta(fit)) 

I got:

> predict(foo.glm,se=T)
Error in log(MM) : Object "MM" not found

which looks like it is part of the problem

This works:
> predict(foo.glm,se.fit=T,newdata=model.df)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Tue Jan 22 10:20:15 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Tue, 22 Jan 2002 10:20:15 +0100
Subject: [R] problems with read.table()
References: <Pine.LNX.4.33.0201211502260.1571-100000@localhost.localdomain>
Message-ID: <3C4D2ECF.B5ECA265@atmos.umnw.ethz.ch>


from the r-documentation

on my system (sparc solaris 2.8) is no such behaviour 

Try row.names = NULL (forces row numbering)

gruess

joerg

Ott Toomet wrote:
> 
> Hi,
> 
> I have lately migrated to R 1.4.0.
> 
> trying to read a table into R with read.delim, I hot the following error:
> 
> > tab20 <- read.delim("tab20.and")
> Error in "row.names<-.data.frame"(*tmp*, value = row.names) :
>         duplicate row.names are not allowed
> 
> The beginning of the file looks like (there are TAB-s between columns, both
> in the header and in the datalines):
> 
> t       prod
> 7.00000 0.0113800
> 9.00000 0.0113800
> 
> The read.delim() works fine as long I have only 51 lines of data in addition
> to the header, but if there are 52 or more lines, the first column is read
> in as the row.names and because some t-values coincide, it gives the error.
> 
> I have noticed problems with read.table here in the list before, but I could
> not figure out what is the corresponding patch, and how to find and install
> it.
> 
> I have RH 7.1 linux and
> 
> platform i686-pc-linux-gnu
> arch     i686
> os       linux-gnu
> system   i686, linux-gnu
> status
> major    1
> minor    4.0
> year     2001
> month    12
> day      19
> language R
> 
> Thanks in advance,
> 
> Ott Toomet
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
    Joerg Maeder             IACETH              INSTITUTE
   PhD Student                              FOR ATMOSPHERIC 
  Phone: +41 1 633 36 25                 AND CLIMATE SCIENCE
 Fax: +41 1 633 10 58                  ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Tue Jan 22 10:22:51 2002
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Tue, 22 Jan 2002 10:22:51 +0100
Subject: [R] Validating R after it has been installed!
In-Reply-To: <20020119015305.B1153@uol.com.br>
References: <OF9992C0AF.0CCE58B1-ON85256B43.00677EF3@hgsi.com>
	<x2zo3ekrbk.fsf@blueberry.kubism.ku.dk>
	<20020119015305.B1153@uol.com.br>
Message-ID: <15437.12139.23575.641745@galadriel.ci.tuwien.ac.at>

>>>>> On Sat, 19 Jan 2002 01:53:05 -0200,
>>>>> hzi  (h) wrote:

  > On Wed, Jan 16, 2002 at 08:51:11PM +0100, Peter Dalgaard BSA wrote:
  >> Leslie_Branch at hgsi.com writes:
  >> 
  >> > While compiling R (Any version) you run configure, make test, and then make
  >> > install.  After which you are done.  I am wondering if there is a way we
  >> > can run the "make test" part again on what was just installed.  If I
  >> > understand the process correctly when you initially run "make test" you are
  >> > testing R in the test area and not the install directory.  Is it something
  >> > as simple as changing the BASEDIR in the makefile or is it a bit more
  >> > complicated.
  >> 
  >> Installation is almost exclusively a copying operation, so
  >> it is unlikely that installation would break the kind of thing
  >> that "make test" checks for, but you could change the definition of $R
  >> in the makefiles inside tests/ and tests/Examples. 
  >> 
  > Hello-
  > 	A bit off-topic, but shouldn't CRAN publish the MD5 checksums for R?

Yes, there are plans to do so, but I didn't have time yet to implement
it (next week is the last of the semester and time is currently packed
with teaching and exams).

fritz

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Tue Jan 22 11:06:38 2002
From: siim at obs.ee (Ott Toomet)
Date: Tue, 22 Jan 2002 11:06:38 +0100 (CET)
Subject: [R] problems with read.table()
In-Reply-To: <3C4D2ECF.B5ECA265@atmos.umnw.ethz.ch>
Message-ID: <Pine.LNX.4.33.0201221059180.2300-100000@localhost.localdomain>




According to the documentation, my previous try should be OK.  row.names
should not change the result as the documentation says:

Otherwise if row.names is missing, the rows are numbered.

If I try to add row.names=NULL, the result is strange:


> a <- read.delim("/home/siim/tyy/kestus-MC/tab20.and", row.names=NULL)
  # no error messages here but the result is not correct either:
> a
   row.names        t prod
1          7  0.01138   NA
2          9  0.01138   NA
3         13  0.01138   NA

You can notice, that all the columns have shifted to left -- column named
row.names should be t and t should be prod.  The original file looks like

t       prod
7.00000 0.0113800
9.00000 0.0113800


So I would be happy if anybody could explain me the patching.

Thanks in advance

Ott Toomet



On Tue, 22 Jan 2002, Joerg Maeder wrote:

>
> from the r-documentation
>
> on my system (sparc solaris 2.8) is no such behaviour
>
> Try row.names = NULL (forces row numbering)
>
> gruess
>
> joerg
>
> Ott Toomet wrote:
> >
> > Hi,
> >
> > I have lately migrated to R 1.4.0.
> >
> > trying to read a table into R with read.delim, I hot the following error:
> >
> > > tab20 <- read.delim("tab20.and")
> > Error in "row.names<-.data.frame"(*tmp*, value = row.names) :
> >         duplicate row.names are not allowed
> >
> > The beginning of the file looks like (there are TAB-s between columns, both
> > in the header and in the datalines):
> >
> >
> > The read.delim() works fine as long I have only 51 lines of data in addition
> > to the header, but if there are 52 or more lines, the first column is read
> > in as the row.names and because some t-values coincide, it gives the error.
> >
> > I have noticed problems with read.table here in the list before, but I could
> > not figure out what is the corresponding patch, and how to find and install
> > it.
> >
> > I have RH 7.1 linux and
> >
> > platform i686-pc-linux-gnu
> > arch     i686
> > os       linux-gnu
> > system   i686, linux-gnu
> > status
> > major    1
> > minor    4.0
> > year     2001
> > month    12
> > day      19
> > language R
> >
> > Thanks in advance,
> >
> > Ott Toomet

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Christian.C.Ritter at OPC.shell.com  Tue Jan 22 13:30:48 2002
From: Christian.C.Ritter at OPC.shell.com (Ritter, Christian C SRTCL-CTGAS)
Date: Tue, 22 Jan 2002 13:30:48 +0100
Subject: [R] lm/model.frame.default surgery: Am I doing something crazy?
Message-ID: <F169284AF6DDD111AA000001FAF836E802798A3C@LLNBBS22>

This message is for people who know the mechanics of model.frame within lm.

I am fitting lm models for different responses on a data frame which has (at
least some) factors.
As it happens, some of the responses are NA for some of the factor levels. 

Logically, lm creates an xlevels list for which the length of levels is
different from the original 
number of levels in the data frame (a consequence of na.action=na.omit). 

If I now call predict with the full data frame, error occurs in these cases
with the message
that there is a new factor level was encountered. 

This message originates from model.frame.default in the section:

                if (any(m <- is.na(match(nxl, xl)))) 
                  stop(paste("factor", nm, "has new level(s)", 
                    nxl[m]))

On first sight, this behavior is logical. Something is likely wrong if
someone submits newdata with factor levels which
did not contribute to the fitting. I

n my case, however, I would prefer as behavior that the program gives NA as
predicted
values for rows in newdata which correspond to "new" factor levels. This
behavior seems to occur if I simply change stop into
warning. (it then gives a warning message and there are in fact NA's where I
want).

Am I missing something?

Thanks in advance,
			Chris

platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    3.0            
year     2001           
month    06             
day      22             
language R              

> Kind Regards, 
> Christian Ritter, Statistical Services
> 
       Tel  +32 10 477349/ Fax +32 10 477219       
       email : Christian.C.Ritter at OPC.Shell.com

       Shell Coordination Centre
       Shell Research and Technology Centre 
       Avenue Jean Monnet 1
       B-1348 Ottignies Louvain-La-Neuve (Belgium)





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 22 13:49:52 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 22 Jan 2002 12:49:52 +0000 (GMT)
Subject: [R] glm.predict?
In-Reply-To: <x2wuyan40z.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.31.0201221242201.1306-100000@gannet.stats>

On 22 Jan 2002, Peter Dalgaard BSA wrote:

> "Patrick Connolly" <P.Connolly at hortresearch.co.nz> writes:
>
> > foo.glm <- glm(Insects ~ Dad * Mum + Location, offset = log(MM), family
> >                    = "poisson", data = model.df)
> >
> ..
> > things <- list()
> > things$fitA <- predict(foo.glm, type = "response")
> > things$fitB <- predict(foo.glm, type = "response", se.fit = TRUE)$fit
>
> > 1: longer object length
> > 	is not a multiple of shorter object length in: predictor + offset
> > 2: longer object length
> > 	is not a multiple of shorter object length in: se.fit * abs(family(object)$mu.eta(fit))
>
> I got:
>
> > predict(foo.glm,se=T)
> Error in log(MM) : Object "MM" not found
>
> which looks like it is part of the problem
>
> This works:
> > predict(foo.glm,se.fit=T,newdata=model.df)

Here's the fix, harder that it needs to be as predict.lm and predict.glm
have different defaults for newdata ...

predict.glm:

#        if (missing(newdata))
#            newdata <- model.frame(object)
        pred <- predict.lm(object, newdata, se.fit, scale = residual.scale,
            type = ifelse(type == "link", "response", type),
            terms = terms)

predict.lm:

    if (missing(newdata) || is.null(newdata)) {
        X <- model.matrix(object)
        offset <- object$offset
...

It looks like the note on prediction is out-of-date.



-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Tue Jan 22 14:08:16 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Tue, 22 Jan 2002 08:08:16 -0500
Subject: [R] R and 2 processors
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC84E1@usrymx10.merck.com>

On our Linux box (2 P-3 Xeons running 2.4.3 SMP kernel), I can get *some*
operations to use both cpus simultaneously with either threaded ATLAS or MKL
(which is threaded as well).  For example, crossprod(x) can make use of both
cpus.   It's not too clear to me which calls can be threaded and which
can't.  In any case, this is only for linear algebra, not general
computations, so unless sizable chunk of your task can make use of BLAS,
you're not likely to see much gain here.

One this machine, MKL seems to be up to 25% faster than ATLAS.  The strange
thing about threaded ATLAS is that, although it's fast at doing crossprod(),
the speed of other computations are slower than the non-threaded ATLAS.  I
have no idea why this is.

Cheers,
Andy

> -----Original Message-----
> From: Jan de Leeuw [mailto:deleeuw at stat.ucla.edu]
> Sent: Monday, January 21, 2002 9:49 PM
> To: Agustin Lobo
> Cc: r-help
> Subject: Re: [R] R and 2 processors
> 
> 
> On OS X the ATLAS library uses threading (as well as Altivec on G4's).
> Of course the OS is threaded as well.
> 
> On Monday, January 21, 2002, at 02:23 PM, Agustin Lobo wrote:
> 
> >
> > As far as I can see by searching the archieves, R could not
> > take advantage of two processors in the same machine but there
> > were plans for implementing multithreading
> > in R. Is this work going on?
> >
> > On the other hand, if two processors are
> > present in the same linux machine is it possible to focus one
> > processor on tasks of the operative system and the other
> > on R and/or other real computing? Could anyone point me
> > to info on this subject?
> >
> > Agus
> >
> > Dr. Agustin Lobo
> > Instituto de Ciencias de la Tierra (CSIC)
> > Lluis Sole Sabaris s/n
> > 08028 Barcelona SPAIN
> > tel 34 93409 5410
> > fax 34 93411 0012
> > alobo at ija.csic.es
> >
> >
> > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-
> > .-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-
> > FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> > 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._
> > ._._._
> >
> >
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: 
> deleeuw at stat.ucla.edu
> homepage: http://www.stat.ucla.edu/~deleeuw
> ========================================================
>            No matter where you go, there you are. --- Buckaroo Banzai
>                     
> http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
> ========================================================
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gco at eortc.be  Tue Jan 22 14:29:22 2002
From: gco at eortc.be (Gary Collins)
Date: Tue, 22 Jan 2002 14:29:22 +0100
Subject: [R] splitting a data.frame
Message-ID: <00a901c1a348$cd84f4a0$c90809c1@EORTC.BE>

 I have the following (simple!?) problem which I am unable to find a
 relatively trivial solution to.
 If I have a dataframe,

 A    1 
 A    7
 B    4
 B    5
 C    3
 D    3
 D    2
 E    5
 F    5
 F    6

 I would like to create a new data.frame in the form

 ID    pt1    pt2
 A    1    7
 B    4    5
 C    3    NA
 D    3    2
 E    5    NA
 F    5    6

 so that for each identifier, in this example, A...F I have a column for 
 each observation for each identifier... (with a maximum of 2 obs per 
 identifier, if only 1 obs exist then the second obs pt2 is set to NA)
 This is so I can find the absolute differences between the obs for each 
 identifier, that is abs(pt1-pt2)

 ID  Diff
 A    6
 B    1
 C    NA
 D    1
 E    NA
 F    1
 for which there may be another approach so as not to mess about creating 
 a new dataframe
 Any ideas?
 Gary


__________________________________________________
Gary S. Collins, PhD,
Statistics Research Fellow,
Quality of Life Unit, 
European Organisation for Research and Treatment of Cancer, 
EORTC Data Center, 
Avenue E. Mounier 83, bte. 11,
B-1200 Brussels, Belgium.

Tel: +32 2 774 1 606
Fax: +32 2 779 4 568
http://www.eortc.be/home/qol/
__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Richard_Yanicky at nrgn.com  Tue Jan 22 14:35:10 2002
From: Richard_Yanicky at nrgn.com (Yanicky, Richard)
Date: Tue, 22 Jan 2002 08:35:10 -0500
Subject: [R] Problems running 'R' on Windows-2000
Message-ID: <68DD016AFCDBD3118B3000508B6C6B17F1410E@nrgn.nrgn.com>


I run R 1.3.1 on Win 2000 Pro and I don't have any problems. I don't use the
--vanilla switch.

my Rprofile is completly commented out(This is the way it came). Here is a
copy of my Rconsole(I made no changes to it):


# Optional parameters for the console and the pager
# The system-wide copy is in rwxxxx/etc.
# A user copy can be installed in `R_USER'.

## Style
# This can be `yes' (for MDI) or `no' (for SDI).
MDI = yes
# the next two are only relevant for MDI
toolbar = yes
statusbar = yes

## Font.
# Please use only fixed width font.
# If font=FixedFont the system fixed font is used; in this case
# points and style are ignored. If font begins with "TT ", only 
# True Type fonts are searched for.
font = TT Courier New
points = 10
style = normal # Style can be normal, bold, italic


# Dimensions (in characters) of the console.
rows = 25
columns = 80
# Dimensions (in characters) of the internal pager.
pgrows = 25
pgcolumns = 80
# should options(width=) be set to the console width?
setwidthonresize = yes

# memory limits for the console scrolling buffer, in bytes and lines
bufbytes = 65000
buflines = 8000

# The internal pager can displays help in a single window
# or in multiple windows (one for each topic)
# pagerstyle can be set to `singlewindow' or `multiplewindows'
pagerstyle = multiplewindows


## Colours for console and pager(s)
# (see rwxxxx/etc/rgb.txt for the known colours).
background = White
normaltext = NavyBlue
usertext = Red
highlight = DarkRed




Hope this helps.

Rich
-----Original Message-----
From: Uwe Ligges [mailto:ligges at statistik.uni-dortmund.de]
Sent: Tuesday, January 22, 2002 2:23 AM
To: Jason K. Wehner
Cc: R-help at stat.math.ethz.ch
Subject: Re: [R] Problems running 'R' on Windows-2000


"Jason K. Wehner" wrote:
> 
> Do you know of common problems running 'R' on Windows-2000 Pro?  For some
> reason, the program crashes every time I try to start 'R'

No.
Does the crash still occur when you start R with:
  RGui --vanilla

I guess it is something with your Rprofile or workspace that goes wrong.

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Tue Jan 22 15:04:09 2002
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Tue, 22 Jan 2002 15:04:09 +0100
Subject: [R] splitting a data.frame
References: <00a901c1a348$cd84f4a0$c90809c1@EORTC.BE>
Message-ID: <3C4D7159.F1CF582D@ci.tuwien.ac.at>

Gary Collins wrote:
> 
>  I have the following (simple!?) problem which I am unable to find a
>  relatively trivial solution to.
>  If I have a dataframe,
> 
>  A    1
>  A    7
>  B    4
>  B    5
>  C    3
>  D    3
>  D    2
>  E    5
>  F    5
>  F    6
> 
>  I would like to create a new data.frame in the form
> 
>  ID    pt1    pt2
>  A    1    7
>  B    4    5
>  C    3    NA
>  D    3    2
>  E    5    NA
>  F    5    6
> 
>  so that for each identifier, in this example, A...F I have a column for
>  each observation for each identifier... (with a maximum of 2 obs per
>  identifier, if only 1 obs exist then the second obs pt2 is set to NA)
>  This is so I can find the absolute differences between the obs for each
>  identifier, that is abs(pt1-pt2)
> 
>  ID  Diff
>  A    6
>  B    1
>  C    NA
>  D    1
>  E    NA
>  F    1
>  for which there may be another approach so as not to mess about creating
>  a new dataframe
>  Any ideas?
>  Gary

What about

by(y,x,function(x) x[2]-x[1])

if x is your factor and y are your values?

-d

> 
> __________________________________________________
> Gary S. Collins, PhD,
> Statistics Research Fellow,
> Quality of Life Unit,
> European Organisation for Research and Treatment of Cancer,
> EORTC Data Center,
> Avenue E. Mounier 83, bte. 11,
> B-1200 Brussels, Belgium.
> 
> Tel: +32 2 774 1 606
> Fax: +32 2 779 4 568
> http://www.eortc.be/home/qol/
> __________________________________________________
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Tue Jan 22 15:18:28 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Tue, 22 Jan 2002 15:18:28 +0100 (MET)
Subject: [R] splitting a data.frame
In-Reply-To: <00a901c1a348$cd84f4a0$c90809c1@EORTC.BE>
Message-ID: <Pine.LNX.4.21.0201221517400.28046-100000@artemis.imbe.med.uni-erlangen.de>

>  I have the following (simple!?) problem which I am unable to find a
>  relatively trivial solution to.
>  If I have a dataframe,
> 
>  A    1 
>  A    7
>  B    4
>  B    5
>  C    3
>  D    3
>  D    2
>  E    5
>  F    5
>  F    6
> 
>  I would like to create a new data.frame in the form
> 
>  ID    pt1    pt2
>  A    1    7
>  B    4    5
>  C    3    NA
>  D    3    2
>  E    5    NA
>  F    5    6
> 

t(as.data.frame(split(1:4, factor(c("A", "A", "B", "B")))))

(for complete data)

Torsten

>  so that for each identifier, in this example, A...F I have a column for 
>  each observation for each identifier... (with a maximum of 2 obs per 
>  identifier, if only 1 obs exist then the second obs pt2 is set to NA)
>  This is so I can find the absolute differences between the obs for each 
>  identifier, that is abs(pt1-pt2)
> 
>  ID  Diff
>  A    6
>  B    1
>  C    NA
>  D    1
>  E    NA
>  F    1
>  for which there may be another approach so as not to mess about creating 
>  a new dataframe
>  Any ideas?
>  Gary
> 
> 
> __________________________________________________
> Gary S. Collins, PhD,
> Statistics Research Fellow,
> Quality of Life Unit, 
> European Organisation for Research and Treatment of Cancer, 
> EORTC Data Center, 
> Avenue E. Mounier 83, bte. 11,
> B-1200 Brussels, Belgium.
> 
> Tel: +32 2 774 1 606
> Fax: +32 2 779 4 568
> http://www.eortc.be/home/qol/
> __________________________________________________
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From york at noaa.gov  Tue Jan 22 16:00:11 2002
From: york at noaa.gov (Anne York)
Date: Tue, 22 Jan 2002 07:00:11 -0800 (PST)
Subject: [R] specifying font in axis label (output from expression)
Message-ID: <Pine.GSO.4.05.10201211405410.10880-100000@ofis450a.akctr.noaa.gov>

My default fonts are Times, but a colleague needs a plot with Helvetica
looking  labels (font 6 on my setup).  The plot contains an x-axis label
generated by the R-command expression. Here is an example:

deln15.lab <-  expression(delta^15 * N) 
par(font = 6, font.axis = 6, font.lab=6,font.main = 6, font.sub = 6)
plot(1:10,1:10,xlab = deln15.lab) 

All is fine except that the label generated by expression on the x-axis
is still in Times. 

Can anyone tell me what I'm doing wrong? -- besides running R 1.3.1 on
windows 2000. 

Thanks,

Anne
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Anne E. York
National Marine Mammal Laboratory
Seattle WA 98115-0070  USA
e-mail: anne.york at noaa.gov
Voice: +1 206-526-4039
Fax: +1 206-526-6615
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dvdsn at printhost.beckman.uiuc.edu  Tue Jan 22 15:16:46 2002
From: dvdsn at printhost.beckman.uiuc.edu (Doug Davidson)
Date: Tue, 22 Jan 2002 09:16:46 -0500 (EST)
Subject: [R] lme and mixed effects
Message-ID: <15437.29774.487396.66288@lindy.cogsci.uiuc.edu>


Dear r-help,

With lme, is there a way to specify multiple fixed factors under one level of grouping?

For example, for a single fixed factor, I use the following:

fm1.lme <- lme(fixed=resp ~ fact1, random=~1|subj/fact1, data=mydata) 


I would like to have multiple factors under subj, like the following
for a two-way design, but I get an error:


fm2.lme <- lme(fixed=resp ~ fact1*fact2, random=~1|subj/(fact1+fact2), data=mydata) 

Error in getGroups.data.frame(dataMix, groups): 
      Invalid formula for groups


I get the same error when I try to construct a groupedData object with
the above two-factor formula. Generally, I am trying to write something analogous to the following in aov:

fm2.aov <- aov(resp ~ fact1*fact2 + Error(subj/(fact1+fact2)), data=mydata)



Many thanks.

-Doug

Doug Davidson/2143 Beckman Institute/dvdsn at casper.beckman.uiuc.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Jan 22 16:32:51 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 22 Jan 2002 09:32:51 -0600
Subject: [R] lme and mixed effects
In-Reply-To: <15437.29774.487396.66288@lindy.cogsci.uiuc.edu>
References: <15437.29774.487396.66288@lindy.cogsci.uiuc.edu>
Message-ID: <6rofjm2yfw.fsf@franz.stat.wisc.edu>

Doug Davidson <dvdsn at printhost.beckman.uiuc.edu> writes:

> With lme, is there a way to specify multiple fixed factors under one
> level of grouping?

I'm not sure I understand the question.  Can you tell us more about
the model that you want to fit?

If you mean that you want a random interaction term then you might
want to check the description in section 1.3 of Pinheiro and Bates
(Springer, 2000) on different ways that interactions can be expressed
in lme.

> For example, for a single fixed factor, I use the following:
> 
> fm1.lme <- lme(fixed=resp ~ fact1, random=~1|subj/fact1, data=mydata) 
> 
> 
> I would like to have multiple factors under subj, like the following
> for a two-way design, but I get an error:
> 
> 
> fm2.lme <- lme(fixed=resp ~ fact1*fact2, random=~1|subj/(fact1+fact2), data=mydata) 

-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patrick at giub.unibe.ch  Tue Jan 22 16:38:21 2002
From: patrick at giub.unibe.ch (Patrick Buetzberger)
Date: Tue, 22 Jan 2002 16:38:21 +0100
Subject: [R] creation of objects
Message-ID: <3C4D876D.E9BFBA36@giub.unibe.ch>

Hi there,

I'm a new R user and I've got a little problem:
I would like to read several files at once (which works) and create R
objects for each individual file (which doesen't work) within a loop:
this is the way I've tried to program this:

fn<-list.files(path =
"/home/klimet/patrick/LAEGEREN/NEBEL/FOGEVENT2000/", pattern=NULL,
all.files=FALSE, full.names=FALSE)
for(i in seq(1,nfn,1)){

fin<-paste("/home/klimet/patrick/LAEGEREN/NEBEL/FOGEVENT2000/",fn[i],sep="")

    fi <- as.matrix(read.table(fin,skip=1))
}

The i in fin and fi should create new objects for every loop with i
being the number, like f1, f2,f3 and so  on. The way I did it, it reads
i as a character and overwrites the object in every loop.

Thanks for any hints....

Patrick
-------------- next part --------------
A non-text attachment was scrubbed...
Name: patrick.vcf
Type: text/x-vcard
Size: 339 bytes
Desc: Card for Patrick Buetzberger
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020122/a47b51b7/patrick.vcf

From GPetris at uark.edu  Tue Jan 22 16:38:49 2002
From: GPetris at uark.edu (Giovanni Petris)
Date: Tue, 22 Jan 2002 09:38:49 -0600 (CST)
Subject: [R] splitting a data.frame
In-Reply-To: <00a901c1a348$cd84f4a0$c90809c1@EORTC.BE> (gco@eortc.be)
References: <00a901c1a348$cd84f4a0$c90809c1@EORTC.BE>
Message-ID: <200201221538.JAA09024@definetti.uark.edu>


This gives you what you want, I think (maybe up to the sign). 
However, you must be sure that each identifier occurs at most twice. 

Giovanni

> a
   V1 V2
1   A  1
2   A  7
3   B  4
4   B  5
5   C  3
6   D  3
7   D  2
8   E  5
9   F  5
10  F  6
> tapply(a$V2, a$V1, diff)
$A
[1] 6

$B
[1] 1

$C
numeric(0)

$D
[1] -1

$E
numeric(0)

$F
[1] 1

> From: "Gary Collins" <gco at eortc.be>
> Date: Tue, 22 Jan 2002 14:29:22 +0100
> Organization: EORTC
> X-Priority: 3
> X-MSMail-Priority: Normal
> X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
> Sender: owner-r-help at stat.math.ethz.ch
> Precedence: SfS-bulk
> Content-Type: text/plain;
> 	charset="iso-8859-1"
> Content-Length: 1597
> 
>  I have the following (simple!?) problem which I am unable to find a
>  relatively trivial solution to.
>  If I have a dataframe,
> 
>  A    1 
>  A    7
>  B    4
>  B    5
>  C    3
>  D    3
>  D    2
>  E    5
>  F    5
>  F    6
> 
>  I would like to create a new data.frame in the form
> 
>  ID    pt1    pt2
>  A    1    7
>  B    4    5
>  C    3    NA
>  D    3    2
>  E    5    NA
>  F    5    6
> 
>  so that for each identifier, in this example, A...F I have a column for 
>  each observation for each identifier... (with a maximum of 2 obs per 
>  identifier, if only 1 obs exist then the second obs pt2 is set to NA)
>  This is so I can find the absolute differences between the obs for each 
>  identifier, that is abs(pt1-pt2)
> 
>  ID  Diff
>  A    6
>  B    1
>  C    NA
>  D    1
>  E    NA
>  F    1
>  for which there may be another approach so as not to mess about creating 
>  a new dataframe
>  Any ideas?
>  Gary
> 
> 
> __________________________________________________
> Gary S. Collins, PhD,
> Statistics Research Fellow,
> Quality of Life Unit, 
> European Organisation for Research and Treatment of Cancer, 
> EORTC Data Center, 
> Avenue E. Mounier 83, bte. 11,
> B-1200 Brussels, Belgium.
> 
> Tel: +32 2 774 1 606
> Fax: +32 2 779 4 568
> http://www.eortc.be/home/qol/
> __________________________________________________
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 

 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (501) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 22 16:51:36 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 22 Jan 2002 15:51:36 +0000 (GMT)
Subject: [R] creation of objects
In-Reply-To: <3C4D876D.E9BFBA36@giub.unibe.ch>
Message-ID: <Pine.LNX.4.31.0201221548440.11343-100000@gannet.stats>

On Tue, 22 Jan 2002, Patrick Buetzberger wrote:

> Hi there,
>
> I'm a new R user and I've got a little problem:
> I would like to read several files at once (which works) and create R
> objects for each individual file (which doesen't work) within a loop:
> this is the way I've tried to program this:
>
> fn<-list.files(path =
> "/home/klimet/patrick/LAEGEREN/NEBEL/FOGEVENT2000/", pattern=NULL,
> all.files=FALSE, full.names=FALSE)
> for(i in seq(1,nfn,1)){
>
> fin<-paste("/home/klimet/patrick/LAEGEREN/NEBEL/FOGEVENT2000/",fn[i],sep="")
>
>     fi <- as.matrix(read.table(fin,skip=1))
> }
>
> The i in fin and fi should create new objects for every loop with i
> being the number, like f1, f2,f3 and so  on. The way I did it, it reads
> i as a character and overwrites the object in every loop.
>
> Thanks for any hints....

?assign, something like

assign(paste("f", i, sep = ""), as.matrix(read.table(fin,skip=1)))

Overwriting fn seems fine to me.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Tue Jan 22 16:50:19 2002
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Tue, 22 Jan 2002 10:50:19 -0500
Subject: [R] affymetrix files
In-Reply-To: <200201211614.LAA13798@hibou.crchul.ulaval.ca>; from matpau01@borabora.crchul.ulaval.ca on Mon, Jan 21, 2002 at 11:13:13AM -0500
References: <200201211614.LAA13798@hibou.crchul.ulaval.ca>
Message-ID: <20020122105019.B13852@jessie.research.bell-labs.com>

Hi Pauline,
 
  The RSPerl package (http://www.omegahat.org/RSPerl) provides a way
to call R from Perl and Perl from R. It works for Unix and could be
ported to Windows.

   D.


Pauline Mattsson wrote:
> Dear all,
> 
> I am working with affymetrix data and I am writing a program in Perl to 
> normalize the data. I would like to use some statistical formulas from R in my 
> Perl program, some kind of interface. How can I do this? My second question is 
> where can I find the R package translating the affymetrix cel files with the 
> help of affymetrix cdf file. I know that I have seen a function like this in R 
> but now I am not able to find it.
> 
> Thank you,
> 
> Pauline
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jan 22 16:56:45 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Jan 2002 16:56:45 +0100
Subject: [R] lme and mixed effects
In-Reply-To: <6rofjm2yfw.fsf@franz.stat.wisc.edu>
References: <15437.29774.487396.66288@lindy.cogsci.uiuc.edu>
	<6rofjm2yfw.fsf@franz.stat.wisc.edu>
Message-ID: <x24rle4bwi.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates at stat.wisc.edu> writes:

> Doug Davidson <dvdsn at printhost.beckman.uiuc.edu> writes:
> 
> > With lme, is there a way to specify multiple fixed factors under one
> > level of grouping?
> 
> I'm not sure I understand the question.  Can you tell us more about
> the model that you want to fit?
> 
> If you mean that you want a random interaction term then you might
> want to check the description in section 1.3 of Pinheiro and Bates
> (Springer, 2000) on different ways that interactions can be expressed
> in lme.

I read it as two crossed within-subject terms. lme() is not quite
built for that with its emphasis on nested random effects, but this
kind of stuff has worked for me before:

> lme((y~fact1*fact2,
+       random=list(subj=pdIdent(form=~fact1-1),
+                   subj=~1,
+                   fact2=~1),

(That implies a subj within subj grouping, but the algorithm treats
that just like subj.)


> > For example, for a single fixed factor, I use the following:
> > 
> > fm1.lme <- lme(fixed=resp ~ fact1, random=~1|subj/fact1, data=mydata) 
> > 
> > 
> > I would like to have multiple factors under subj, like the following
> > for a two-way design, but I get an error:
> > 
> > 
> > fm2.lme <- lme(fixed=resp ~ fact1*fact2, random=~1|subj/(fact1+fact2), data=mydata) 
> 
> -- 
> Douglas Bates                            bates at stat.wisc.edu
> Statistics Department                    608/262-2598
> University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Jan 22 17:18:36 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 22 Jan 2002 17:18:36 +0100 (MET)
Subject: [R] R-gnome
Message-ID: <Pine.OSF.3.96.1020122171356.30086B-100000@ija.csic.es>

(Thanks for answers on my naif dual processor
question!).

I'm going to compile R-1.4.0 for linux (Suse 7.3)
and hesitate at including the gnome interface.

Do people that have tried the gnome
interface recommend it? How is R started
with this interface? If I build with the
 --with-gnome  option, will still have
the option of actually not using the interface
if I don't find it useful?

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jan 22 17:58:01 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 22 Jan 2002 08:58:01 -0800 (PST)
Subject: [R] splitting a data.frame
In-Reply-To: <00a901c1a348$cd84f4a0$c90809c1@EORTC.BE>
Message-ID: <Pine.A41.4.44.0201220850340.140338-100000@homer37.u.washington.edu>

On Tue, 22 Jan 2002, Gary Collins wrote:

>  I have the following (simple!?) problem which I am unable to find a
>  relatively trivial solution to.
>  If I have a dataframe,
>
>  A    1
>  A    7
>  B    4
>  B    5
>  C    3
>  D    3
>  D    2
>  E    5
>  F    5
>  F    6
>
>  I would like to create a new data.frame in the form
>
>  ID    pt1    pt2
>  A    1    7
>  B    4    5
>  C    3    NA
>  D    3    2
>  E    5    NA
>  F    5    6
>

In addition to the specific suggestions already given there is a general
solution to this sort of problem with reshape()

You would need to create a time variable to indicate which is the first
or second observation, which in your case could be
  df$time<-c(0,df$ID[-1]==df$ID[-10])
then
  newdf<-reshape(df,timevar="time",idvar="ID",direction="wide")


In your case this isn't a big saving over the other approaches. It becomes
really useful when you have many variables, especially if some are
constant over time and others aren't.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kulli at ito.umnw.ethz.ch  Tue Jan 22 18:00:22 2002
From: kulli at ito.umnw.ethz.ch (Beatrice Kulli Honauer)
Date: Tue, 22 Jan 2002 18:00:22 +0100
Subject: [R] cutree using a vector for h giving meaningless results
Message-ID: <v03110701b8733f6467c0@[129.132.129.128]>

I try to use the routine cutree to cut a tree (created by hclust) into
several groups by specifiing the hight of the cut.

a<-1:10
cutree(tree, h=a*100)

The Matrix with group meberships returned is ok for most of the hights, but
in some cases (as for example h=800 and h=900) the results don't make sense
(group membership=0 or 58965231, it looks like the range of data allowed by
the data type was too small). It's interesting that h=1000 gives proper
results again. When I run the same for only one value of h (for example
800), the results are ok again. I did not use hights higher than the
maximum hight of the tree!

Thank you for any help!
Beatrice Kulli

----------------------------------------------
Beatrice Kulli
Institute of Terrestrial Ecology, Soil Physics
ETH Zuerich
Grabenstrasse 3, CH-8952 Schlieren
Phone: +41 1 633 60 17; Fax: +41 1 633 11 23
http://www.ito.umnw.ethz.ch/SoilPhys/
----------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Jan 22 18:16:31 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 22 Jan 2002 18:16:31 +0100 (MET)
Subject: [R] make check : problems?
Message-ID: <Pine.OSF.3.96.1020122172940.30086C-100000@ija.csic.es>


I'm the happy user of a new machine and
I'm trying to compile R-1.4.0 on it
(linux Suse 7.3 box).

After
./configure --with-gnome

I get the following configuration:

R is now configured for i686-pc-linux-gnu

  Source directory:          .
  Installation directory:    /usr/local
  C compiler:                gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
  C++ compiler:              c++  -mieee-fp -g -O2
  FORTRAN compiler:          g77  -g -O2

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            no

  R profiling support:       yes
  R as a shared library:     no

configure: warning: you cannot build DVI versions of the R manuals
configure: warning: you cannot build PDF versions of the R manuals

The warnings are because:
checking for dvips...no
(same for tex,latex,makeindex,pdftex,pdflatex)
but this is not a concern now. I can do it later

Instead, I don't get gnome support despite the --with-gnome flag

And, worst, this is what I get from make check:

linux:/usr/local/R-1.4.0 # make check FORCE=FORCE
make[1]: Entering directory `/usr/local/R-1.4.0/tests'
make[2]: Entering directory `/usr/local/R-1.4.0/tests'
make[3]: Entering directory `/usr/local/R-1.4.0/tests/Examples'
make[4]: Entering directory `/usr/local/R-1.4.0/tests/Examples'
make[4]: Leaving directory `/usr/local/R-1.4.0/tests/Examples'
make[4]: Entering directory `/usr/local/R-1.4.0/tests/Examples'
collecting examples for package `base' ...
make[5]: Entering directory `/usr/local/R-1.4.0/src/library'
/bin/sh: ../../bin/R: No such file or directory
/bin/sh: ../../library/base/CONTENTS: No such file or directory
cat: ../../library/*/CONTENTS: No such file or directory
make[5]: *** [DOCS] Error 1
make[5]: Leaving directory `/usr/local/R-1.4.0/src/library'
file ../../library/base/R-ex cannot be opened at
../../share/perl/massage-Examples.pl line 84.
make[4]: *** No rule to make target `../../bin/R.bin', needed by
`base-Ex.Rout'.  Stop.
make[4]: Leaving directory `/usr/local/R-1.4.0/tests/Examples'
make[3]: *** [test-Examples] Error 2
make[3]: Leaving directory `/usr/local/R-1.4.0/tests/Examples'
make[2]: *** [test-Examples] Error 2
make[2]: Leaving directory `/usr/local/R-1.4.0/tests'
make[1]: *** [test-all-basics] Error 1
make[1]: Leaving directory `/usr/local/R-1.4.0/tests'
make: *** [check] Error 2

What's wrong? I've downloaded the tar file from two diferent mirrors
with identical results.

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Tue Jan 22 18:11:27 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Tue, 22 Jan 2002 11:11:27 -0600
Subject: [R] R-gnome
In-Reply-To: <Pine.OSF.3.96.1020122171356.30086B-100000@ija.csic.es>
References: <Pine.OSF.3.96.1020122171356.30086B-100000@ija.csic.es>
Message-ID: <20020122171127.GA25735@sonny.eddelbuettel.com>

On Tue, Jan 22, 2002 at 05:18:36PM +0100, Agustin Lobo wrote:
> Do people that have tried the gnome
> interface recommend it? How is R started
> with this interface? If I build with the
>  --with-gnome  option, will still have
> the option of actually not using the interface
> if I don't find it useful?

You simply get another --gui=... option. Up to you to use it or not.

Debian ships R with Gnome support. 

Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Tue Jan 22 18:29:25 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Tue, 22 Jan 2002 11:29:25 -0600
Subject: [R] make check : problems?
In-Reply-To: <Pine.OSF.3.96.1020122172940.30086C-100000@ija.csic.es>
References: <Pine.OSF.3.96.1020122172940.30086C-100000@ija.csic.es>
Message-ID: <20020122172925.GA25846@sonny.eddelbuettel.com>

On Tue, Jan 22, 2002 at 06:16:31PM +0100, Agustin Lobo wrote:
> R is now configured for i686-pc-linux-gnu
> 
>   Source directory:          .
>   Installation directory:    /usr/local
>   C compiler:                gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
>   C++ compiler:              c++  -mieee-fp -g -O2
>   FORTRAN compiler:          g77  -g -O2
> 
>   X11 support:               yes
>   Gnome support:             no
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

This tells you that configure did not manage to locate all it needed to let
you compile Gnome support. Up to you and the friendly SuSE support to figure
out what else you need.

Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dvdsn at printhost.beckman.uiuc.edu  Tue Jan 22 17:38:30 2002
From: dvdsn at printhost.beckman.uiuc.edu (Doug Davidson)
Date: Tue, 22 Jan 2002 11:38:30 -0500 (EST)
Subject: [R] lme and mixed effects
In-Reply-To: <x24rle4bwi.fsf@blueberry.kubism.ku.dk>
References: <15437.29774.487396.66288@lindy.cogsci.uiuc.edu>
	<6rofjm2yfw.fsf@franz.stat.wisc.edu>
	<x24rle4bwi.fsf@blueberry.kubism.ku.dk>
Message-ID: <15437.38278.152767.138839@lindy.cogsci.uiuc.edu>

Peter Dalgaard BSA writes:
 > Douglas Bates <bates at stat.wisc.edu> writes:
 > 
 > > Doug Davidson <dvdsn at printhost.beckman.uiuc.edu> writes:
 > > 
 > > > With lme, is there a way to specify multiple fixed factors under one
 > > > level of grouping?
 > > 
 > > I'm not sure I understand the question.  Can you tell us more about
 > > the model that you want to fit?
 > > 
 > > If you mean that you want a random interaction term then you might
 > > want to check the description in section 1.3 of Pinheiro and Bates
 > > (Springer, 2000) on different ways that interactions can be expressed
 > > in lme.
 > 
 > I read it as two crossed within-subject terms. lme() is not quite
 > built for that with its emphasis on nested random effects, but this
 > kind of stuff has worked for me before:
 > 
 > > lme((y~fact1*fact2,
 > +       random=list(subj=pdIdent(form=~fact1-1),
 > +                   subj=~1,
 > +                   fact2=~1),
 > 
 > (That implies a subj within subj grouping, but the algorithm treats
 > that just like subj.)
 > 

Yes, I have two crossed within-subject terms.  The design is for an
experiment where each subject sees all levels of two crossed factors.

Here is an example, and the results I get using aov and lme (note the
variable names have changed slightly from the above).  The y is a
continous response, x1 and x2 are fixed factors (both
within-subjects), and sbj is the random factor.

> mydata.gd
   sbj x1 x2    y
1    1  1  1  5.0
2    2  1  1  1.5
3    3  1  1  1.6
4    4  1  1  2.8
5    1  1  2  5.6
6    2  1  2  4.3
7    3  1  2 16.3
8    4  1  2  6.6
9    1  2  1 31.7
10   2  2  1 22.8
11   3  2  1 28.7
12   4  2  1 65.5
13   1  2  2 20.8
14   2  2  2 23.3
15   3  2  2 21.2
16   4  2  2 47.3

> fm1.aov <- aov(y~x1*x2+Error(sbj/(x1+x2)), data=mydata.gd)

> summary(fm1.aov)

Error: sbj
          Df Sum Sq Mean Sq F value Pr(>F)
Residuals  3    736     245               

Error: sbj:x1
          Df Sum Sq Mean Sq F value Pr(>F)  
x1         1   2958    2958    10.9  0.046 *
Residuals  3    814     271                 
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1 

Error: sbj:x2
          Df Sum Sq Mean Sq F value Pr(>F)
x2         1   12.5    12.5    0.46   0.55
Residuals  3   81.3    27.1               

Error: Within
          Df Sum Sq Mean Sq F value Pr(>F)  
x1:x2      1  208.8   208.8    9.25  0.056 .
Residuals  3   67.7    22.6                 
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1 



> fm1.lme <- lme(y~x1*x2, random=list(sbj=pdIdent(form=~x1-1), sbj=~1,
x2=~1), data=mydata.gd)

> anova(fm1.lme)
            numDF denDF F-value p-value
(Intercept)     1     6   0.970  0.3628
x1              1     6  32.545  0.0013
x2              1     3   0.219  0.6715
x1:x2           1     6   3.660  0.1043


I think I need to investigate pdIdent(form=...) further, but I'm unclear
why the degrees of freedom are allocated as they are in the lme anova.

In any case, thank you for your help!!

-Doug

Doug Davidson/2143 Beckman Institute/dvdsn at casper.beckman.uiuc.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patrick at giub.unibe.ch  Tue Jan 22 18:36:19 2002
From: patrick at giub.unibe.ch (Patrick Buetzberger)
Date: Tue, 22 Jan 2002 18:36:19 +0100
Subject: [R] assigning NA's
Message-ID: <3C4DA313.CC99F8EA@giub.unibe.ch>

I've had a question a few moments ago about how to create multiple
objects from multiple files within a loop. Thanks for the quick answers,

it worked with "assign", like this:

for(i in seq(1,nfn,1)){
 fin<-paste("/home/klimet/patrick/LAEGEREN/NEBEL/FOGEVENT2000/",fn[i],sep="")

 assign(paste("f", i, sep = ""), as.matrix(read.table(fin,skip=1)))
}

I've tried to use the same command for assigning NA's to missing values
(=-999)  in each object created with above loop, like this:
for(i in seq(1,nfn,1)){
 assign(paste("f", i, sep = "")[paste("f", i, sep = "") < -500.], NA)
}

This did not work, it created an error "invalid first argument"
I've also tried:
for(i in seq(1,nfn,1)){
 paste("f", i, sep = "")[paste("f", i, sep = "") < -500.] <- NA
}


This also created an error. Any clues about how to handle this problem?
Thanks again,

Patrick



-------------- next part --------------
A non-text attachment was scrubbed...
Name: patrick.vcf
Type: text/x-vcard
Size: 339 bytes
Desc: Card for Patrick Buetzberger
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020122/4e7d77e2/patrick.vcf

From p.dalgaard at biostat.ku.dk  Tue Jan 22 18:45:05 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Jan 2002 18:45:05 +0100
Subject: [R] make check : problems?
In-Reply-To: <Pine.OSF.3.96.1020122172940.30086C-100000@ija.csic.es>
References: <Pine.OSF.3.96.1020122172940.30086C-100000@ija.csic.es>
Message-ID: <x2sn8yb7q6.fsf@blueberry.kubism.ku.dk>

Agustin Lobo <alobo at ija.csic.es> writes:

> I'm the happy user of a new machine and
> I'm trying to compile R-1.4.0 on it
> (linux Suse 7.3 box).
> 
> After
> ./configure --with-gnome
> 
> I get the following configuration:
...
> configure: warning: you cannot build DVI versions of the R manuals
> configure: warning: you cannot build PDF versions of the R manuals
> 
> The warnings are because:
> checking for dvips...no
> (same for tex,latex,makeindex,pdftex,pdflatex)
> but this is not a concern now. I can do it later
> 
> Instead, I don't get gnome support despite the --with-gnome flag

Given the amount of other stuff you seem to be missing, I'd guess that
you need to install some of the gnome -devel packages.
 
> And, worst, this is what I get from make check:
> 
> linux:/usr/local/R-1.4.0 # make check FORCE=FORCE
> make[1]: Entering directory `/usr/local/R-1.4.0/tests'
> make[2]: Entering directory `/usr/local/R-1.4.0/tests'
> make[3]: Entering directory `/usr/local/R-1.4.0/tests/Examples'
> make[4]: Entering directory `/usr/local/R-1.4.0/tests/Examples'
> make[4]: Leaving directory `/usr/local/R-1.4.0/tests/Examples'
> make[4]: Entering directory `/usr/local/R-1.4.0/tests/Examples'
> collecting examples for package `base' ...
> make[5]: Entering directory `/usr/local/R-1.4.0/src/library'
> /bin/sh: ../../bin/R: No such file or directory
> /bin/sh: ../../library/base/CONTENTS: No such file or directory
> cat: ../../library/*/CONTENTS: No such file or directory
> make[5]: *** [DOCS] Error 1

Did you run plain "make" first?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 22 18:52:45 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 22 Jan 2002 17:52:45 +0000 (GMT)
Subject: [R] assigning NA's
In-Reply-To: <3C4DA313.CC99F8EA@giub.unibe.ch>
Message-ID: <Pine.LNX.4.31.0201221743300.11561-100000@gannet.stats>

On Tue, 22 Jan 2002, Patrick Buetzberger wrote:

> I've had a question a few moments ago about how to create multiple
> objects from multiple files within a loop. Thanks for the quick answers,
>
> it worked with "assign", like this:
>
> for(i in seq(1,nfn,1)){
>  fin<-paste("/home/klimet/patrick/LAEGEREN/NEBEL/FOGEVENT2000/",fn[i],sep="")
>
>  assign(paste("f", i, sep = ""), as.matrix(read.table(fin,skip=1)))
> }
>
> I've tried to use the same command for assigning NA's to missing values
> (=-999)  in each object created with above loop, like this:
> for(i in seq(1,nfn,1)){
>  assign(paste("f", i, sep = "")[paste("f", i, sep = "") < -500.], NA)
> }
>
> This did not work, it created an error "invalid first argument"
> I've also tried:
> for(i in seq(1,nfn,1)){
>  paste("f", i, sep = "")[paste("f", i, sep = "") < -500.] <- NA
> }
>
>
> This also created an error. Any clues about how to handle this problem?

You can only use character strings created by paste as names in assign,
not as expressions.

There are two ways to do this, and an extensive discussion in `S
Programming' section 3.5.  Perhaps the simpler is

for(i in seq(1,nfn))
 eval(parse(text = paste("f", i, "[f", i, " < -500] <- NA", sep = "")))

The other involves substitute().  This can very rapidly get pretty tricky,
though.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jan 22 19:01:09 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 22 Jan 2002 10:01:09 -0800 (PST)
Subject: [R] assigning NA's
In-Reply-To: <3C4DA313.CC99F8EA@giub.unibe.ch>
Message-ID: <Pine.A41.4.44.0201220953240.140338-100000@homer37.u.washington.edu>

On Tue, 22 Jan 2002, Patrick Buetzberger wrote:

> I've had a question a few moments ago about how to create multiple
> objects from multiple files within a loop. Thanks for the quick answers,
>
> it worked with "assign", like this:
>
> for(i in seq(1,nfn,1)){
>  fin<-paste("/home/klimet/patrick/LAEGEREN/NEBEL/FOGEVENT2000/",fn[i],sep="")
>
>  assign(paste("f", i, sep = ""), as.matrix(read.table(fin,skip=1)))
> }
>
> I've tried to use the same command for assigning NA's to missing values
> (=-999)  in each object created with above loop, like this:
> for(i in seq(1,nfn,1)){
>  assign(paste("f", i, sep = "")[paste("f", i, sep = "") < -500.], NA)
> }
>
> This did not work, it created an error "invalid first argument"

assign() doesn't dispatch things like f1[10]<-NA to the "[<-" methods, so
this kind of approach won't work.

> I've also tried:
> for(i in seq(1,nfn,1)){
>  paste("f", i, sep = "")[paste("f", i, sep = "") < -500.] <- NA
> }
>
> This also created an error. Any clues about how to handle this problem?

This kind of approach can work, but you need to create expressions rather
than strings.

  expr<-substitute(fi[fi< -500]<-NA,
		list(fi=as.name(paste("f",i,sep=""))))

creates expressions like
	f1[f1 < -500] <- NA
and these need to be evaluated in the current environment
	eval(expr,envir=environment())
or possibly in the global environment
	eval(expr,envir=.GlobalEnv)

Note that it would be much easier to create a single object (a list)
rather than multiple objects, and it might well be easier to manipulate
them that way afterwards.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Jan 22 19:09:21 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 22 Jan 2002 19:09:21 +0100 (MET)
Subject: [R] make check : problems?
In-Reply-To: <x2sn8yb7q6.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.OSF.3.96.1020122190407.30086D-100000@ija.csic.es>


On 22 Jan 2002, Peter Dalgaard BSA wrote:

> Did you run plain "make" first?
> 

Glups... No, I did not. Sorry for annoying everyone
with this stupid question (my only excuse is that until now
I had installed only the rpm versions).
 
After make, make check gives no problem 
(as far as I can tell, all tests are ok).

Thanks

Agus

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at stat.umn.edu  Tue Jan 22 19:22:13 2002
From: luke at stat.umn.edu (Luke Tierney)
Date: Tue, 22 Jan 2002 12:22:13 -0600
Subject: [R] make check : problems?
In-Reply-To: <Pine.OSF.3.96.1020122172940.30086C-100000@ija.csic.es>; from alobo@ija.csic.es on Tue, Jan 22, 2002 at 06:16:31PM +0100
References: <Pine.OSF.3.96.1020122172940.30086C-100000@ija.csic.es>
Message-ID: <20020122122213.A11669@nokomis.stat.umn.edu>

You don't have tcltk either.  SuSE seems to not install devel support
for things like tcl or gnome even if you specify a devel system.  You
need to install tcl-devel to get tcl support and I think you need at
least gnome-core-devel libxml-devel libglade-devel esound-devel and
maybe also gnome-libs-devel to get gnome support.  With those
installed I build successfully on SuSE 7.3, but I don't know what else
I might have that you do not.

luke



On Tue, Jan 22, 2002 at 06:16:31PM +0100, Agustin Lobo wrote:
> 
> I'm the happy user of a new machine and
> I'm trying to compile R-1.4.0 on it
> (linux Suse 7.3 box).
> 
> After
> ./configure --with-gnome
> 
> I get the following configuration:
> 
> R is now configured for i686-pc-linux-gnu
> 
>   Source directory:          .
>   Installation directory:    /usr/local
>   C compiler:                gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
>   C++ compiler:              c++  -mieee-fp -g -O2
>   FORTRAN compiler:          g77  -g -O2
> 
>   X11 support:               yes
>   Gnome support:             no
>   Tcl/Tk support:            no
> 
>   R profiling support:       yes
>   R as a shared library:     no
> 
> configure: warning: you cannot build DVI versions of the R manuals
> configure: warning: you cannot build PDF versions of the R manuals
> 
> The warnings are because:
> checking for dvips...no
> (same for tex,latex,makeindex,pdftex,pdflatex)
> but this is not a concern now. I can do it later
> 
> Instead, I don't get gnome support despite the --with-gnome flag
> 
> And, worst, this is what I get from make check:
> 
> linux:/usr/local/R-1.4.0 # make check FORCE=FORCE
> make[1]: Entering directory `/usr/local/R-1.4.0/tests'
> make[2]: Entering directory `/usr/local/R-1.4.0/tests'
> make[3]: Entering directory `/usr/local/R-1.4.0/tests/Examples'
> make[4]: Entering directory `/usr/local/R-1.4.0/tests/Examples'
> make[4]: Leaving directory `/usr/local/R-1.4.0/tests/Examples'
> make[4]: Entering directory `/usr/local/R-1.4.0/tests/Examples'
> collecting examples for package `base' ...
> make[5]: Entering directory `/usr/local/R-1.4.0/src/library'
> /bin/sh: ../../bin/R: No such file or directory
> /bin/sh: ../../library/base/CONTENTS: No such file or directory
> cat: ../../library/*/CONTENTS: No such file or directory
> make[5]: *** [DOCS] Error 1
> make[5]: Leaving directory `/usr/local/R-1.4.0/src/library'
> file ../../library/base/R-ex cannot be opened at
> ../../share/perl/massage-Examples.pl line 84.
> make[4]: *** No rule to make target `../../bin/R.bin', needed by
> `base-Ex.Rout'.  Stop.
> make[4]: Leaving directory `/usr/local/R-1.4.0/tests/Examples'
> make[3]: *** [test-Examples] Error 2
> make[3]: Leaving directory `/usr/local/R-1.4.0/tests/Examples'
> make[2]: *** [test-Examples] Error 2
> make[2]: Leaving directory `/usr/local/R-1.4.0/tests'
> make[1]: *** [test-all-basics] Error 1
> make[1]: Leaving directory `/usr/local/R-1.4.0/tests'
> make: *** [check] Error 2
> 
> What's wrong? I've downloaded the tar file from two diferent mirrors
> with identical results.
> 
> Agus
> 
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Cooper.Richey at enron.com  Tue Jan 22 19:40:15 2002
From: Cooper.Richey at enron.com (Richey, Cooper)
Date: Tue, 22 Jan 2002 11:40:15 -0700
Subject: [R] problems using lattice on windows (not the blank first page problem)
Message-ID: <63AB7E8BA1E1A54BA7698F31E2E77F30019986@NACAL-MSMBX01V.corp.enron.com>

All:

I'm attempting to use lattice on windows 2000 under R 1.4.

Rgui and Rterm crash when I invoke "xyplot" or "trellis.device" commands (including the oft-used "quakes" example)

In particular, I get a message box from the windows OS with the following text:
--------------------------------------------------------------------
Rgui.exe has generated errors and will be closed by Windows.  
You will need to restart the program.  

An error log is being generated
--------------------------------------------------------------------

this seems to happen right after the graphics window is spawned. 

I'm using lattice version 0.4-0 and grid version 0.5

am I missing some sort of prep work for lattice graphics?

thanks any help,
Cooper





**********************************************************************
This e-mail is the property of Enron Corp. and/or its relevant affiliate and may contain confidential and privileged material for the sole use of the intended recipient (s). Any review, use, distribution or disclosure by others is strictly prohibited. If you are not the intended recipient (or authorized to receive for the recipient), please contact the sender or reply to Enron Corp. at enron.messaging.administration at enron.com and delete all copies of the message. This e-mail (and any attachments hereto) are not intended to be an offer (or an acceptance) and do not create or evidence a binding and enforceable contract between Enron Corp. (or any of its affiliates) and the intended recipient or any other party, and may not be relied on by anyone as the basis of a contract by estoppel or otherwise. Thank you. 
**********************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Harvey.Monder at pharma.com  Tue Jan 22 19:42:20 2002
From: Harvey.Monder at pharma.com (Monder, Harvey)
Date: Tue, 22 Jan 2002 13:42:20 -0500
Subject: [R] Memory exception error with lattice
Message-ID: <E5EC0556E8B6D2118CB600A0C9B6BB6003BA58D0@a2mbx01.pharma.com>

I am running 1.4.0 on Win2K. I installed using SetupR.exe, but since I do
not have admin privileges I installed to c:\rw1040.  When I execute any
command that uses a lattice graphic I get a memory error:

	The instruction at '0x00543f06 refeerenced memory at ...  
            The memory could not be read.

Have I missed something in the installation? Previous versions of lattice in
earlier versions of R have worked.

	Thanks,
	Harvey
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 22 20:00:13 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 22 Jan 2002 19:00:13 +0000 (GMT)
Subject: [R] Memory exception error with lattice
In-Reply-To: <E5EC0556E8B6D2118CB600A0C9B6BB6003BA58D0@a2mbx01.pharma.com>
Message-ID: <Pine.LNX.4.31.0201221857090.11722-100000@gannet.stats>

Two messages in succession on this!

If you want to use R 1.4.0 with lattice you need either to compile it
yourself or use the version I put up.  The version on CRAN is faulty.


On Tue, 22 Jan 2002, Monder, Harvey wrote:

> I am running 1.4.0 on Win2K. I installed using SetupR.exe, but since I do
> not have admin privileges I installed to c:\rw1040.  When I execute any
> command that uses a lattice graphic I get a memory error:
>
> 	The instruction at '0x00543f06 refeerenced memory at ...
>             The memory could not be read.
>
> Have I missed something in the installation? Previous versions of lattice in
> earlier versions of R have worked.
>
> 	Thanks,
> 	Harvey
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From csprin at brandybuck.ca.sandia.gov  Tue Jan 22 22:46:23 2002
From: csprin at brandybuck.ca.sandia.gov (Clayton Springer)
Date: Tue, 22 Jan 2002 13:46:23 -0800
Subject: [R] documentation and plotting with lqs
Message-ID: <20020122134623.E26542@brandybuck>

Dear r-help,

Is there any available description of the components of lqs objects
found in the package "lqs"?

> names(slts)
 [1] "crit"          "sing"          "coefficients"  "bestone"      
 [5] "fitted.values" "residuals"     "scale"         "terms"        
 [9] "call"          "xlevels"       "model" 

Also is there any plotting available for lqs?
And trying plot on the lqs object doesn't work:

> data(stackloss)
> set.seed(123)
> examplelqs <- lqs(stack.loss ~ ., data = stackloss)
> plot (examplelqs)
Error in as.double.default(x) : (list) object cannot be coerced to vector type 14

thanks,

--Clayton



-- 
Clayton Springer, Ph. D.
Sandia National Laboratories                      csprin at ca.sandia.gov
Biosystems Research Department                    (925) 294-2143
P.O. Box 969, MS 9951                fax:         (925) 294-3020
Livermore, CA, 94551-0969

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 22 23:07:01 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 22 Jan 2002 22:07:01 +0000 (GMT)
Subject: [R] documentation and plotting with lqs
In-Reply-To: <20020122134623.E26542@brandybuck>
Message-ID: <Pine.LNX.4.31.0201222201050.12118-100000@gannet.stats>

On Tue, 22 Jan 2002, Clayton Springer wrote:

> Dear r-help,
>
> Is there any available description of the components of lqs objects
> found in the package "lqs"?

Only the source code.
"coefficients", "fitted.values", "residuals", "terms", "call",
"xlevels" and "model" are as in lm, and "scale" is the estimate
of the scale of the residuals.

crit is the best value found of the fit criterion, "sing" is a message
about singular fits found, and "bestone" is numbers of the points used for
the best fit.

> > names(slts)
>  [1] "crit"          "sing"          "coefficients"  "bestone"
>  [5] "fitted.values" "residuals"     "scale"         "terms"
>  [9] "call"          "xlevels"       "model"
>
> Also is there any plotting available for lqs?

No.

> And trying plot on the lqs object doesn't work:
>
> > data(stackloss)
> > set.seed(123)
> > examplelqs <- lqs(stack.loss ~ ., data = stackloss)
> > plot (examplelqs)
> Error in as.double.default(x) : (list) object cannot be coerced to vector type 14
>
> thanks,
>
> --Clayton
>
>
>
> --
> Clayton Springer, Ph. D.
> Sandia National Laboratories                      csprin at ca.sandia.gov
> Biosystems Research Department                    (925) 294-2143
> P.O. Box 969, MS 9951                fax:         (925) 294-3020
> Livermore, CA, 94551-0969
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Tharacad.Ramanarayanan at aventis.com  Tue Jan 22 23:17:25 2002
From: Tharacad.Ramanarayanan at aventis.com (Tharacad.Ramanarayanan@aventis.com)
Date: Tue, 22 Jan 2002 17:17:25 -0500
Subject: [R] Help with Beta Distribution
Message-ID: <0282308471EAD511B37C00508B0CAA53C22795@AUSRT021>

First let me confess that I am a R-novice.

I am trying to fit a beta distribution for a dataset using fitdistr(MASS). I
am having difficulties with it because the function tends to fit a
distribution with a range of 0 to 1 (I guess). However, my dataset is not!

Anytips or tricks will be very much appreciated.

Many Thanks.

T. S. Ramanarayanan, Ph.D.
Aventis CropScience
Research Triangle Park, NC 27709
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Tue Jan 22 23:25:30 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 22 Jan 2002 14:25:30 -0800
Subject: [R] Help with Beta Distribution
In-Reply-To: <0282308471EAD511B37C00508B0CAA53C22795@AUSRT021>
References: <0282308471EAD511B37C00508B0CAA53C22795@AUSRT021>
Message-ID: <87wuyahvl1.fsf@jeeves.blindglobe.net>

>>>>> "TR" == Tharacad Ramanarayanan <Tharacad.Ramanarayanan at aventis.com> writes:

    TR> First let me confess that I am a R-novice.  I am trying to fit
    TR> a beta distribution for a dataset using fitdistr(MASS). I am
    TR> having difficulties with it because the function tends to fit
    TR> a distribution with a range of 0 to 1 (I guess). However, my
    TR> dataset is not!

Since a beta (range in 0,1) doesn't describe what you want, why force
it? 

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
--- I'm 40% time until March 1st.  Try email the other 3 days.... -----
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aarons at aberrant.org  Wed Jan 23 04:22:03 2002
From: aarons at aberrant.org (Aaron Solochek)
Date: Tue, 22 Jan 2002 22:22:03 -0500
Subject: [R] exporting plots
Message-ID: <3C4E2C5B.6020708@aberrant.org>

I'm running R (latest) on linux, using gnome.  I was wondering how 
export the plots to an image file of sort sort.  I can't find anything 
obvious in the documentation.

Thanks in advace.  Please CC me any replies, as I'm not subscribed to 
the list.

-Aaron

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Toby.Patterson at csiro.au  Wed Jan 23 04:41:09 2002
From: Toby.Patterson at csiro.au (Toby.Patterson@csiro.au)
Date: Wed, 23 Jan 2002 14:41:09 +1100
Subject: [R] multiple surfaces in persp?
Message-ID: <A8877251964B294BAB5BA1FC58B43FED4F708E@molly.tas.csiro.au>

All, 
Does anybody know if persp() can display multiple surfaces on the one plot?
If not is there any other functions/code that will do this. 

Cheers
Toby 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Wed Jan 23 06:07:24 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Tue, 22 Jan 2002 21:07:24 -0800 (PST)
Subject: [R] exporting plots
In-Reply-To: <3C4E2C5B.6020708@aberrant.org>
Message-ID: <Pine.GSO.4.10.10201222105230.19620-100000@quetelet.stat.ucla.edu>

Try running

> postscript("myfile.ps")
> [ comands for constructing plot ]
...
> dev.off()

This will create a postscript file.  Depending on your capabilities, you
may also be able to create jpeg's, png's or pdf's.  You can check this
with

> capabilities()

Another useful function you may want to look up is dev.off(), which can be
used /after/ a plot has been constructed.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Tue, 22 Jan 2002, Aaron Solochek wrote:

> I'm running R (latest) on linux, using gnome.  I was wondering how 
> export the plots to an image file of sort sort.  I can't find anything 
> obvious in the documentation.
> 
> Thanks in advace.  Please CC me any replies, as I'm not subscribed to 
> the list.
> 
> -Aaron
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pfaffman at relaxpc.com  Wed Jan 23 07:57:28 2002
From: pfaffman at relaxpc.com (Jay Pfaffman)
Date: Tue, 22 Jan 2002 22:57:28 -0800
Subject: [R] exporting plots
In-Reply-To: <3C4E2C5B.6020708@aberrant.org> (message from Aaron Solochek on
	Tue, 22 Jan 2002 22:22:03 -0500)
References: <3C4E2C5B.6020708@aberrant.org>
Message-ID: <200201230657.g0N6vSK04083@pfaffman.Stanford.EDU>

> I'm running R (latest) on linux, using gnome.  I was wondering how 
> export the plots to an image file of sort sort.  I can't find anything 
> obvious in the documentation.

Finally one I can answer!  (Thanks to those pointing out to me the
various docs in the "user contributed" section.  I'm on my way to
knowing how to use R & maybe even learning the statistics that didn't
quite soak in during my two stats classes).

Anyway, the short answer: "?Devices"

Choose a device, turn it on with a call like "png()", issue your
graphics commands & be sure to issue the dev.off() command when you're
done.  If you don't, your graphics file won't be complete (or might be
empty). 

I hope this helps.

-- 
Jay Pfaffman                           pfaffman at relaxpc.com
+1-415-821-7507 (H)                    +1-415-810-2238 (M)
http://relax.ltc.vanderbilt.edu/~pfaffman/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jan 23 08:28:37 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Jan 2002 08:28:37 +0100
Subject: [R] exporting plots
In-Reply-To: <200201230657.g0N6vSK04083@pfaffman.Stanford.EDU>
References: <3C4E2C5B.6020708@aberrant.org>
	<200201230657.g0N6vSK04083@pfaffman.Stanford.EDU>
Message-ID: <x2g04x4jbu.fsf@blueberry.kubism.ku.dk>

Jay Pfaffman <pfaffman at relaxpc.com> writes:

> > I'm running R (latest) on linux, using gnome.  I was wondering how 
> > export the plots to an image file of sort sort.  I can't find anything 
> > obvious in the documentation.
> 
> Finally one I can answer!  (Thanks to those pointing out to me the
> various docs in the "user contributed" section.  I'm on my way to
> knowing how to use R & maybe even learning the statistics that didn't
> quite soak in during my two stats classes).
> 
> Anyway, the short answer: "?Devices"
> 
> Choose a device, turn it on with a call like "png()", issue your
> graphics commands & be sure to issue the dev.off() command when you're
> done.  If you don't, your graphics file won't be complete (or might be
> empty). 
> 
> I hope this helps.

Also notice dev.copy() and dev.copy2eps() (These work best if you make
the screen dimensions match those of the final image.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From landgreb at mpipsykl.mpg.de  Wed Jan 23 08:35:13 2002
From: landgreb at mpipsykl.mpg.de (Jobst Landgrebe)
Date: Wed, 23 Jan 2002 08:35:13 +0100
Subject: [R] trouble with package mva on R 1.4.0
Message-ID: <20020123073513.GA13338@pcc113.mpipsykl.mpg.de>

Dear List,

although the library() command tells me that the pcakage "mva" is
installed on my machine, I cannot use its functions or get help() about them. 
And, strange enough, I never installed the package manually. Has it
become a part of R-base?
I can't find the package among the package sources on CRAN, so I
can't (re)install it manually. I'm using R 1.4.0.

Can anyone help me?

Thanks in advance,

Jobst Landgrebe

Dr. Jobst Landgrebe
AG Wurst (Molecular Neurogenetics)
MPI of Psychiatry
Kraepelinstr. 2-10
D-80804 Munich
phone +49 89 30622-626 or -252
fax +49 89 30622642
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jan 23 08:41:25 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Jan 2002 08:41:25 +0100
Subject: [R] trouble with package mva on R 1.4.0
In-Reply-To: <20020123073513.GA13338@pcc113.mpipsykl.mpg.de>
References: <20020123073513.GA13338@pcc113.mpipsykl.mpg.de>
Message-ID: <x2bsfl4iqi.fsf@blueberry.kubism.ku.dk>

Jobst Landgrebe <landgreb at mpipsykl.mpg.de> writes:

> Dear List,
> 
> although the library() command tells me that the pcakage "mva" is
> installed on my machine, I cannot use its functions or get help() about them. 
> And, strange enough, I never installed the package manually. Has it
> become a part of R-base?
> I can't find the package among the package sources on CRAN, so I
> can't (re)install it manually. I'm using R 1.4.0.
> 
> Can anyone help me?

Did you load the package? (library(mva))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laine at unilim.fr  Wed Jan 23 08:59:44 2002
From: laine at unilim.fr (Jean Pierre Laine)
Date: Wed, 23 Jan 2002 08:59:44 +0100
Subject: [R] R on Tru64 5.1
Message-ID: <4.2.0.58.20020123084640.0252d940@pop.unilim.fr>

Hi,

R-1.4.0 on ES40 under OSF 5.1.
I use gcc version 3.0.3

During gnu make I have the message :


dumping R code in package `methods'
Error in dyn.load(x, as.logical(local), as.logical(now)) :
  unable to load shared 
library"/usr/local/R1.4.0/library/methods/libs/methods.so":
  dlopen: /usr/local/R-1.4.0/library/ctest/libs/ctest.so: symbol "dansari" 
unresolved
Execution halted
gmake[4]: *** [../../../library/methods/R/all.rda] Error 1
gmake[4]: Leaving directory `/usr/local/R-1.4.0/src/library/methods'


Could someone please help me with this.
Thanks in advance!
Sincerely,




Jean Pierre LAINE
Service Commun Informatique - Universite de Limoges -
123, avenue Albert Thomas - 87060 Limoges Cedex - France -
Telephone : (33) 05-55-45-77-08 Telecopie : (33)  05-55-45-75-95

Mailto:laine at unilim.fr    http://www.unilim.fr/sci

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020123/86b20d15/attachment.html

From Jan_Svatos at eurotel.cz  Wed Jan 23 09:39:40 2002
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Wed, 23 Jan 2002 09:39:40 +0100
Subject: [R] Posthoc tests for ANOVA
Message-ID: <OF39F7C59F.FAEA5DCC-ONC1256B4A.002D326F@eurotel.cz>

Dear List,

are there post-hoc tests like Scheffe, LSD, etc. available after ANOVA test
is performed with significant F-statistic?
I have tried
help.search("Scheffe"),
but "No documentation found" (and I have most of packages installed).
Probably there are such tests in R, and I am just searching badly...

My second question is: Which test/method I should use for ANOVA-like test
on 0-1 variables
(leading to multiple binomial variables instead of Normal)?

TIA,
Jan



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Wed Jan 23 10:14:13 2002
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Wed, 23 Jan 2002 09:14:13 +0000 (GMT)
Subject: [R] multiple surfaces in persp?
In-Reply-To: <A8877251964B294BAB5BA1FC58B43FED4F708E@molly.tas.csiro.au>
Message-ID: <Pine.GSO.4.21.0201230911000.28666-100000@dolphin>

> Does anybody know if persp() can display multiple surfaces on the one plot?
> If not is there any other functions/code that will do this. 

- you can do this using par(new=TRUE) between calls to persp() to get
plots overlayed: persp.gam() in package mgcv does this, for example.

 ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 23 10:27:11 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 23 Jan 2002 09:27:11 +0000 (GMT)
Subject: [R] Posthoc tests for ANOVA
In-Reply-To: <OF39F7C59F.FAEA5DCC-ONC1256B4A.002D326F@eurotel.cz>
Message-ID: <Pine.LNX.4.31.0201230918490.19566-100000@gannet.stats>

On Wed, 23 Jan 2002 Jan_Svatos at eurotel.cz wrote:

> Dear List,
>
> are there post-hoc tests like Scheffe, LSD, etc. available after ANOVA test
> is performed with significant F-statistic?
> I have tried
> help.search("Scheffe"),
> but "No documentation found" (and I have most of packages installed).
> Probably there are such tests in R, and I am just searching badly...

This is usually known as `multiple comparisons', and there is not
much in R.  There are

1) Function Tukey in package Devore5
2) pairwise.t.test and friends in package ctest, including p.adjust.

but as S-PLUS users keep pointing out, multicomp there has much more.

> My second question is: Which test/method I should use for ANOVA-like test
> on 0-1 variables
> (leading to multiple binomial variables instead of Normal)?

Not sure I understand.  Anova is about a single response.  Perhaps you
mean logistic regression and the analysis of deviance?

Many of us would feel that testing is not important here: what is
important is to estimate sizes of effects and perhaps to select predictive
models.  Classical multiple comparisons deals with only a small part of
the selection effects, in particular ignores model choice.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at stat.umn.edu  Wed Jan 23 11:10:10 2002
From: luke at stat.umn.edu (Luke Tierney)
Date: Wed, 23 Jan 2002 04:10:10 -0600
Subject: [R] R on Tru64 5.1
In-Reply-To: <4.2.0.58.20020123084640.0252d940@pop.unilim.fr>; from laine@unilim.fr on Wed, Jan 23, 2002 at 08:59:44AM +0100
References: <4.2.0.58.20020123084640.0252d940@pop.unilim.fr>
Message-ID: <20020123041010.B752@nokomis.stat.umn.edu>

OSF 5 seems to not like having the same library dyn.loaded twice,
which the build of methods in 1.4 happens to do (OSF 4.0 seemed to be
able to cope with this).  This should be fixed in the current
R-patched snapshot.  I believe you can fix it manually by removing the
the dyn.load expression at the end of src/library/methods/R/zzz.R.

luke

On Wed, Jan 23, 2002 at 08:59:44AM +0100, Jean Pierre Laine wrote:
> Hi,
> 
> R-1.4.0 on ES40 under OSF 5.1.
> I use gcc version 3.0.3
> 
> During gnu make I have the message :
> 
> 
> dumping R code in package `methods'
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>   unable to load shared 
> library"/usr/local/R1.4.0/library/methods/libs/methods.so":
>   dlopen: /usr/local/R-1.4.0/library/ctest/libs/ctest.so: symbol "dansari" 
> unresolved
> Execution halted
> gmake[4]: *** [../../../library/methods/R/all.rda] Error 1
> gmake[4]: Leaving directory `/usr/local/R-1.4.0/src/library/methods'
> 
> 
> Could someone please help me with this.
> Thanks in advance!
> Sincerely,
> 
> 
> 
> 
> Jean Pierre LAINE
> Service Commun Informatique - Universite de Limoges -
> 123, avenue Albert Thomas - 87060 Limoges Cedex - France -
> Telephone : (33) 05-55-45-77-08 Telecopie : (33)  05-55-45-75-95
> 
> Mailto:laine at unilim.fr    http://www.unilim.fr/sci
> 

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Wed Jan 23 12:48:48 2002
From: ozric at web.de (christian)
Date: Wed, 23 Jan 2002 12:48:48 +0100
Subject: [R] cor & logistic regression
Message-ID: <3C4EA320.7080407@web.de>

mnoModell <- as.data.frame(mnoModell0)
$ attach(mnoModell)
$ cor(Q31.1,Q41.1,use="pairwise.complete.obs")
[1] 0.0833
$
$ for( i in length(mnoModell)) {
+       cor(names(mnoModell)[i],Q41.1,use="complete.obs")
+       }
Error in cor(x, y, na.method) : incompatible dimensions                 
                       
In addition: Warning message:
NAs introduced by coercion
$
$ names(mnoModell)[3]
[1] "Q31.3"

Hello ,
(1) What can i do that the  loop works ?
Perhaps anything with lapply ?

(2) Is it correct that is not very useful  works with logistic regression
when sample < 100 cases ?

thanks for advance &
regards, Christian Schulz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020123/1db528bf/attachment.html

From fharrell at virginia.edu  Wed Jan 23 12:53:56 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Wed, 23 Jan 2002 06:53:56 -0500
Subject: [R] Posthoc tests for ANOVA
In-Reply-To: <Pine.LNX.4.31.0201230918490.19566-100000@gannet.stats>
References: <OF39F7C59F.FAEA5DCC-ONC1256B4A.002D326F@eurotel.cz>
	<Pine.LNX.4.31.0201230918490.19566-100000@gannet.stats>
Message-ID: <20020123065356.6d228ed8.fharrell@virginia.edu>

To add to the strong points made by Brian Ripley, there are many choices of multiple comparison adjustment methods, and the choice is pretty much arbitrary.  
Also see 

@ARTICLE{coo96mul,
  author = {Cook, Richard J. and Farewell, Vern T.},
  year = 1996,
  title = {Multiplicity considerations in the design and analysis of clinical
          trials},
  journal = J Royal Statist Society Series A,
  volume = 159,
  pages = {93-110},
  annote = {multiplicity; multiple endpoints; multiple treatments; p-value
           adjustment; type I error; argues that if results are intended to be
           interpreted marginally, there may be no need for controlling
           experimentwise error rate}
}

Frank Harrell


On Wed, 23 Jan 2002 09:27:11 +0000 (GMT)
Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:

> On Wed, 23 Jan 2002 Jan_Svatos at eurotel.cz wrote:
> 
> > Dear List,
> >
> > are there post-hoc tests like Scheffe, LSD, etc. available after ANOVA test
> > is performed with significant F-statistic?
> > I have tried
> > help.search("Scheffe"),
> > but "No documentation found" (and I have most of packages installed).
> > Probably there are such tests in R, and I am just searching badly...
> 
> This is usually known as `multiple comparisons', and there is not
> much in R.  There are
> 
> 1) Function Tukey in package Devore5
> 2) pairwise.t.test and friends in package ctest, including p.adjust.
> 
> but as S-PLUS users keep pointing out, multicomp there has much more.
> 
> > My second question is: Which test/method I should use for ANOVA-like test
> > on 0-1 variables
> > (leading to multiple binomial variables instead of Normal)?
> 
> Not sure I understand.  Anova is about a single response.  Perhaps you
> mean logistic regression and the analysis of deviance?
> 
> Many of us would feel that testing is not important here: what is
> important is to estimate sizes of effects and perhaps to select predictive
> models.  Classical multiple comparisons deals with only a small part of
> the selection effects, in particular ignores model choice.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Wed Jan 23 13:33:48 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Wed, 23 Jan 2002 07:33:48 -0500
Subject: [R] assigning NA's
Message-ID: <5429125E11E4D411AF7300805FE603A8040DE51F@groexmbcr02.pfizer.com>



> -----Original Message-----
> From: Patrick Buetzberger [mailto:patrick at giub.unibe.ch]
> Sent: Tuesday, January 22, 2002 12:36 PM
> To: r-help at lists.R-project.org
> Subject: [R] assigning NA's
[...]

> I've tried to use the same command for assigning NA's to 
> missing values
> (=-999)  in each object created with above loop, like this:
> for(i in seq(1,nfn,1)){
>  assign(paste("f", i, sep = "")[paste("f", i, sep = "") < -500.], NA)
> }

Probably the simplest solution is to use a temporary object inside your
first loop and do the NA handling there.  Something like:

	for(i in seq(1,nfn,1)){
		fin<-
paste("/home/klimet/patrick/LAEGEREN/NEBEL/FOGEVENT2000/",fn[i],sep="")

	 	dat<- as.matrix(read.table(fin,skip=1))
		dat[dat< -500.] <- NA

		assign(paste("f", i, sep = ""), dat)
	}
	

If you really need to keep the loops separate, you can use 'get' to grab the
contents of each object, make the substitution, and then use 'assign' again
to write it out:


	for(i in seq(1,nfn,1)){
	
	 	dat<- get( paste("f", i, sep = "") )
		dat[dat< -500.] <- NA
		assign(paste("f", i, sep = ""), dat)
	}

-Greg


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Wed Jan 23 14:08:00 2002
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Wed, 23 Jan 2002 14:08:00 +0100
Subject: [R] cutree using a vector for h giving meaningless results
In-Reply-To: <v03110701b8733f6467c0@[129.132.129.128]>
References: <v03110701b8733f6467c0@[129.132.129.128]>
Message-ID: <15438.46512.849121.997568@galadriel.ci.tuwien.ac.at>

>>>>> On Tue, 22 Jan 2002 18:00:22 +0100,
>>>>> Beatrice Kulli Honauer (BKH) wrote:

  > I try to use the routine cutree to cut a tree (created by hclust) into
  > several groups by specifiing the hight of the cut.

  > a<-1:10
  > cutree(tree, h=a*100)

  > The Matrix with group meberships returned is ok for most of the hights, but
  > in some cases (as for example h=800 and h=900) the results don't make sense
  > (group membership=0 or 58965231, it looks like the range of data allowed by
  > the data type was too small). It's interesting that h=1000 gives proper
  > results again. When I run the same for only one value of h (for example
  > 800), the results are ok again. I did not use hights higher than the
  > maximum hight of the tree!

could you give a complete reproducible example, i.e., code to create a
tree where you observe the problem? "in some cases" is a
little bit hard to debug ...

best,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From raphael.christien at eurocontrol.int  Wed Jan 23 14:46:15 2002
From: raphael.christien at eurocontrol.int (CHRISTIEN Raphael)
Date: Wed, 23 Jan 2002 14:46:15 +0100
Subject: [R] do a pause in the program
Message-ID: <CD4F7F9A2B7DD41194B900508BB0B8DD01614D8F@agnfr02.eurocontrol.fr>

Dear R-Users, 

I would like to wait for a hit 
to the <Return> key (to let the user look at a plot), like in the demos
given with R, but I do not have found
the method to use. 

Thanks, 
Rapha?l Christien
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Tharacad.Ramanarayanan at aventis.com  Wed Jan 23 14:55:38 2002
From: Tharacad.Ramanarayanan at aventis.com (Tharacad.Ramanarayanan@aventis.com)
Date: Wed, 23 Jan 2002 08:55:38 -0500
Subject: [R] Help with Beta Distribution
Message-ID: <0282308471EAD511B37C00508B0CAA53C22796@AUSRT021>

-----Original Message-----
From: rossini at blindglobe.net [mailto:rossini at blindglobe.net]
Sent: Tuesday, January 22, 2002 5:26 PM
To: Ramanarayanan, Tharacad
Cc: r-help at hypatia.math.ethz.ch
Subject: Re: [R] Help with Beta Distribution


>>>>> "TR" == Tharacad Ramanarayanan <Tharacad.Ramanarayanan at aventis.com>
writes:

    TR> First let me confess that I am a R-novice.  I am trying to fit
    TR> a beta distribution for a dataset using fitdistr(MASS). I am
    TR> having difficulties with it because the function tends to fit
    TR> a distribution with a range of 0 to 1 (I guess). However, my
    TR> dataset is not!

Since a beta (range in 0,1) doesn't describe what you want, why force
it? 

Hmm . . . a standard beta distribution(B(x)) is 0 < x < 1. So is a standard
uniform distribution. A standard beta distribution can be transformed for
any (positive) range.

thanks.
-ram 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rnassar at duke.edu  Wed Jan 23 15:20:30 2002
From: rnassar at duke.edu (Rashid Nassar)
Date: Wed, 23 Jan 2002 09:20:30 -0500 (EST)
Subject: [R] do a pause in the program
In-Reply-To: <CD4F7F9A2B7DD41194B900508BB0B8DD01614D8F@agnfr02.eurocontrol.fr>
Message-ID: <Pine.GSO.4.44.0201230920060.802-100000@godzilla2.acpub.duke.edu>


 par(ask=TRUE) will do it

Rashid Nassar

On Wed, 23 Jan 2002, CHRISTIEN Raphael wrote:

> Dear R-Users,
>
> I would like to wait for a hit
> to the <Return> key (to let the user look at a plot), like in the demos
> given with R, but I do not have found
> the method to use.
>
> Thanks,
> Rapha?l Christien
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 23 15:30:10 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 23 Jan 2002 14:30:10 +0000 (GMT)
Subject: [R] Help with Beta Distribution
In-Reply-To: <0282308471EAD511B37C00508B0CAA53C22796@AUSRT021>
Message-ID: <Pine.LNX.4.31.0201231428220.1164-100000@gannet.stats>

On Wed, 23 Jan 2002 Tharacad.Ramanarayanan at aventis.com wrote:

> -----Original Message-----
> From: rossini at blindglobe.net [mailto:rossini at blindglobe.net]
> Sent: Tuesday, January 22, 2002 5:26 PM
> To: Ramanarayanan, Tharacad
> Cc: r-help at hypatia.math.ethz.ch
> Subject: Re: [R] Help with Beta Distribution
>
>
> >>>>> "TR" == Tharacad Ramanarayanan <Tharacad.Ramanarayanan at aventis.com>
> writes:
>
>     TR> First let me confess that I am a R-novice.  I am trying to fit
>     TR> a beta distribution for a dataset using fitdistr(MASS). I am
>     TR> having difficulties with it because the function tends to fit
>     TR> a distribution with a range of 0 to 1 (I guess). However, my
>     TR> dataset is not!
>
> Since a beta (range in 0,1) doesn't describe what you want, why force
> it?
>
> Hmm . . . a standard beta distribution(B(x)) is 0 < x < 1. So is a standard
> uniform distribution. A standard beta distribution can be transformed for
> any (positive) range.

But then it is not a beta distribution as defined in R and used in
fitdistr, so you need to define it yourself.

You appear to want the `four-parameter beta distribution' as defined in
the Encyclopedia of Statistical Sciences, with a reference to an
unpublished PhD thesis.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Wed Jan 23 16:37:33 2002
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Wed, 23 Jan 2002 16:37:33 +0100
Subject: [R] cor & logistic regression
Message-ID: <OFD3BD7D40.E37054F5-ONC1256B4A.00548B9D@eurotel.cz>


Hi Christian,

the for loop should be written as
> for (i in 1:length(mnoModell))
instead of
> for( i in length(mnoModell)),

just type
> ?"for"
on R command line.

Not sure with

> cor(names(mnoModell)[i],Q41.1,use="complete.obs")

construction, too.
names
returns _strings_, while cor needs _data_,
use

> cor(mnoModell[,i],Q41.1,use="complete.obs")

or (little bit more complicated)

> cor(mnoModell[,names(mnoModell)[i]],Q41.1,use="complete.obs")

if you want to compute correlations between i-th column of mnoModell and
Q41.1

Jan



- - - Original message: - - -
From: owner-r-help at stat.math.ethz.ch
Send: 23/01/2002 4:21:33 PM
To: r-help <r-help at lists.r-project.org>
Subject: [R] cor & logistic regression

mnoModell <- as.data.frame(mnoModell0)
$ attach(mnoModell)
$ cor(Q31.1,Q41.1,use="pairwise.complete.obs")
[1] 0.0833
$
$ for( i in length(mnoModell)) {
+?????? cor(names(mnoModell)[i],Q41.1,use="complete.obs")
+?????? }
Error in cor(x, y, na.method) : incompatible dimensions


In addition: Warning message:
NAs introduced by coercion
$
$ names(mnoModell)[3]
[1] "Q31.3"

Hello ,
(1) What can i do that the? loop works ?
Perhaps anything with lapply ?

(2) Is it correct that is not very useful ?works with logistic regression
when sample < 100 cases ?

thanks for advance &
regards, Christian Schulz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From turk at gauss.math.montana.edu  Wed Jan 23 17:35:18 2002
From: turk at gauss.math.montana.edu (Philip Turk)
Date: Wed, 23 Jan 2002 09:35:18 -0700 (MST)
Subject: No subject
Message-ID: <Pine.GSO.4.33.0201211555001.16260-100000@gauss.math.montana.edu>

Does anyone have any R code or suggestions on how to generate a population
that follows a Neyman-Scott process?  More specifically, I'd like to
randomly generate both the parents and the children from Poisson
distributions and the children locations from a bivariate normal onto an
N by N grid.  If the locations spill over outside the grid, then I'd like
to reflect those locations back into the grid.  Thanks for any advice.

Phil Turk

Department of                   ____________
Mathematical Sciences          |            |           phone: (406)994-5362
2-226 Wilson Hall               \   BZM, MT |           FAX:   (406)994-1789
Montana State University         |  *_______|
Bozeman, MT 59717                 \_|          e-mail: turk at math.montana.edu



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Wed Jan 23 18:38:56 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Wed, 23 Jan 2002 17:38:56 +0000
Subject: [R] do a pause in the program
References: <CD4F7F9A2B7DD41194B900508BB0B8DD01614D8F@agnfr02.eurocontrol.fr>
Message-ID: <3C4EF530.423A0209@psy.uni-muenchen.de>

CHRISTIEN Raphael wrote:
> 
> Dear R-Users,
> 
> I would like to wait for a hit
> to the <Return> key (to let the user look at a plot), like in the demos
> given with R, but I do not have found
> the method to use.

Hi,

try readline().

By, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Jan 23 17:54:00 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 23 Jan 2002 08:54:00 -0800 (PST)
Subject: [R] trouble with package mva on R 1.4.0
In-Reply-To: <20020123073513.GA13338@pcc113.mpipsykl.mpg.de>
Message-ID: <Pine.A41.4.44.0201230852350.127874-100000@homer05.u.washington.edu>

On Wed, 23 Jan 2002, Jobst Landgrebe wrote:

> Dear List,
>
> although the library() command tells me that the pcakage "mva" is
> installed on my machine, I cannot use its functions or get help() about them.
> And, strange enough, I never installed the package manually. Has it
> become a part of R-base?

It's *always* been part of R-base.  You need to load it before using it
  load(mva)

or specify the package name in eg help(), data()
  help(cancor,package="mva")


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Jan 23 17:55:11 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 23 Jan 2002 08:55:11 -0800 (PST)
Subject: [R] trouble with package mva on R 1.4.0
In-Reply-To: <Pine.A41.4.44.0201230852350.127874-100000@homer05.u.washington.edu>
Message-ID: <Pine.A41.4.44.0201230854300.127874-100000@homer05.u.washington.edu>

On Wed, 23 Jan 2002, Thomas Lumley wrote:
> It's *always* been part of R-base.  You need to load it before using it
>   load(mva)

That is to say
     library(mva)
of course.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 23 18:07:37 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 23 Jan 2002 17:07:37 +0000 (GMT)
Subject: [R] Versions of R 1.4.0 for Windows
Message-ID: <Pine.LNX.4.31.0201231701430.1194-100000@gannet.stats>

We have removed from CRAN the seemingly faulty version of R 1.4.0 for
Windows and replaced it by the one I built on Dec 20 that is known to work
with grid and lattice.

I've built a SetupR-patched.exe today from the current R-patched sources
and with the latest versions of the recommended packages.  You might
prefer to change to that if you want to re-install: otherwise wait for
R 1.4.1 in a week or so.  As this is a snapshot, it is only minimally
tested.

These will propogate around CRAN in due course, but are available at
http://www.stats.ox.ac.uk/pub/RWin.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Wed Jan 23 18:38:02 2002
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Wed, 23 Jan 2002 09:38:02 -0800
Subject: [R] ?Corrupt Recommended packages source 
Message-ID: <5.1.0.14.2.20020123093125.00b09d10@odin.pdx.edu>

I'm not really sure this is the place to raise this, but here goes anyway.

I've downloaded the 1.4.0 recommended package sources 
R-1.4.0-recommended.tgz multiple times from the main CRAN site.  The 
sources have arrived corrupted each time (from multiple computers BTW).  If 
I download the same file from the UCLA or University of Bristol mirror, I 
also get corrupt archive files.  On the other hand, if I download from the 
University of Wisconsin mirror, the file arrives uncorrupted.  I've 
verified this at each site multiple times using computers attached to T1 
lines, to DSL lines, and to cable modem lines.

I don't know much about mirroring, but is it possible that some mirror 
sites are storing (possibly) corrupted archive files while other sites have 
uncorrupted copies?

I don't have this problem with any other files on the CRAN master site.








=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://web.pdx.edu/~h1mf
PGP Key Available On Request
======================

"Anyway, no drug, not even alcohol, causes the fundamental ills of society.
If we're looking for the source of our troubles, we shouldn't test people
for drugs, we should test them for stupidity, ignorance, greed and love of
power."   P.J. O'Rourke

Powered by Optiplochoerus and Windows 2000 (scary isn't it?)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Jan 23 18:57:44 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 23 Jan 2002 18:57:44 +0100 (MET)
Subject: [R] do a pause in the program
In-Reply-To: <CD4F7F9A2B7DD41194B900508BB0B8DD01614D8F@agnfr02.eurocontrol.fr>
Message-ID: <Pine.OSF.3.96.1020123185551.27374A-100000@ija.csic.es>

I normally use readline(). You can also
put a comment, i.e., readline("Before calling function").

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Wed, 23 Jan 2002, CHRISTIEN Raphael wrote:

> Dear R-Users, 
> 
> I would like to wait for a hit 
> to the <Return> key (to let the user look at a plot), like in the demos
> given with R, but I do not have found
> the method to use. 
> 
> Thanks, 
> Raphal Christien
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Wed Jan 23 18:50:12 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Wed, 23 Jan 2002 18:50:12 +0100 (MET)
Subject: [R] Question about substitute (and eval, parse and deparse)
Message-ID: <Pine.GSO.4.10.10201231834340.15695-100000@speed.maths.lth.se>

I would like to define a function at run-time, but I just can't make it
work (please don't question why I want to do this, because that would be 
too much to explain). For example, I want to define the the following
function

  foo <- function(x) {
    cat("Function", "foo", "was called with argument", x, ".\n")
  }

However, I would like to create similar function where 'foo' is replaced 
with say 'bar' and 'x' is replaced with 'object'. I'll use the variables
'name' and 'arg' for this purpose;

  name <- "foo";
  arg <- "x";

Now I'll create the 'call' to be evaluate to define the new function:

  call <- substitute(fcn <- function(arg) { cat("Function", name, "was
   called with argument", arg, ".\n"); }, list=list(fcn=as.name(name),
   arg=as.name(arg), name=name))   

Now looking at the call things look a little bit strange:

  > print(call)
  foo <- function(arg) {
    cat("Function", "foo", "was called with argument", x, ".\n")
  }  

  > str(call)
  language foo <- function(arg) {     cat("Function", "foo", "was called
   with argument", x, ".\n") ...

Notice how the name ('foo') and the arguments to 'cat' ("foo", and 'x')
of the function are correct, but *not* the first argument/formal ('arg').
For me this is strange. Continuing anyway and evaluating this call by

  > eval(call)

will define the function 'foo'. Now looking at this function we get

  > print(foo)
  function(arg) { cat("Function", name, "was called with argument", arg,
   ".\n"); } 

where we see that 'name' and 'arg' now is back!? If we instead use 
body() we get the following

  > body(foo)
  {
      cat("Function", "foo", "was called with argument", x, ".\n")
  }  

which is what we expected and finally

  > attr(foo, "source")
  [1] "function(arg) { cat(\"Function\", name, \"was called with
   argument\", arg, \".\\n\"); }" 

which is not what we expected. Further more, calling 'foo' will *not*
work: 

  > foo(2)
  Error in cat("Function", "foo", "was called with argument", x, ".\n") :
          Object "x" not found 
  > foo(x=2)
  Error in foo(x = 2) : unused argument(s) (x ...) 
  > foo(arg=2)
  Error in cat("Function", "foo", "was called with argument", x, ".\n") :
          Object "x" not found 

I have also tried

  call <- substitute(fcn <- function(arg) { cat("Function", name,
   "was called with argument", argName, ".\n"); },
   list=list(fcn=as.name(name), arg=arg, name=name, argName=as.name(arg))) 

with the same result. So, it comes to the argument/formal 'arg'.


A STEP CLOSER?

If one first deparse the call and the parse into a new call, which is then
evaluated by 'eval': 

  > eval(parse(text=deparse(call)))

then it the body of the function gets correct but I still have problem
with the arguments/formals: 

  > print(foo)
  function(arg) {
    cat("Function", "foo", "was called with argument", x, ".\n") 
  }
  > body(foo)
  {
    cat("Function", "foo", "was called with argument", x, ".\n")
  }
  > attr(foo, "source")
  [1] "function(arg) {"
  [2] "    cat(\"Function\", \"foo\", \"was called with argument\", x,
   \".\\n\")" 
  [3] "}"

So, what is going on here? How should I do this in a correct way?

I really appreciate your help!

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences 
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e
http://www.maths.lth.se/matstat/staff/hb/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Wed Jan 23 19:07:13 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 23 Jan 2002 10:07:13 -0800
Subject: [R] Help with Beta Distribution
In-Reply-To: <0282308471EAD511B37C00508B0CAA53C22796@AUSRT021>
References: <0282308471EAD511B37C00508B0CAA53C22796@AUSRT021>
Message-ID: <87vgdt3pri.fsf@jeeves.blindglobe.net>

>>>>> "TR" == Tharacad Ramanarayanan <Tharacad.Ramanarayanan at aventis.com> writes:

    TR> First let me confess that I am a R-novice.  I am trying to fit
    TR> a beta distribution for a dataset using fitdistr(MASS). I am
    TR> having difficulties with it because the function tends to fit
    TR> a distribution with a range of 0 to 1 (I guess). However, my
    TR> dataset is not!

    TR> Since a beta (range in 0,1) doesn't describe what you want,
    TR> why force it?

    TR> Hmm . . . a standard beta distribution(B(x)) is 0 < x < 1. So
    TR> is a standard uniform distribution. A standard beta
    TR> distribution can be transformed for any (positive) range.

Right - so did you transform your data back (or rewrite the
distribution forward)?

It does work when everything is on the same scale.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
--- I'm 40% time until March 1st.  Try email the other 3 days.... -----
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From schultz at fig.cox.miami.edu  Wed Jan 23 19:40:17 2002
From: schultz at fig.cox.miami.edu (Stewart Schultz)
Date: Wed, 23 Jan 2002 13:40:17 -0500
Subject: [R] MANOVA extension of paired t-test?
Message-ID: <l03102802b874b163d07a@[129.171.42.223]>

I would like to test the hypothesis that the difference between pairs, for
several variables, is zero.  This is easily done separately for each
variable with:

lm(Y ~ rep(0, nrow(Y)))

where Y is a matrix whose columns are the differences for each variable
between pair members.

However, I would like to get an overall probability across all variables
from a Wilks or Pillai-Bartlett statistic as in MANOVA.  However, the
analogous command:

manova(Y ~ rep(0, nrow(Y)))

does not work presumably because the predictor variable is not a factor.

This would be a repeated-measures MANOVA, except that it is a trivial case
of only one repeat, so the difference between pair members can simply be
used as the variable of interest.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Jan 23 19:28:27 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 23 Jan 2002 10:28:27 -0800 (PST)
Subject: [R] Question about substitute (and eval, parse and deparse)
In-Reply-To: <Pine.GSO.4.10.10201231834340.15695-100000@speed.maths.lth.se>
Message-ID: <Pine.A41.4.44.0201231006360.127874-100000@homer05.u.washington.edu>

On Wed, 23 Jan 2002, Henrik Bengtsson wrote:

> I would like to define a function at run-time, but I just can't make it
> work (please don't question why I want to do this, because that would be
> too much to explain). For example, I want to define the the following
> function
>
>   foo <- function(x) {
>     cat("Function", "foo", "was called with argument", x, ".\n")
>   }
>
> However, I would like to create similar function where 'foo' is replaced
> with say 'bar' and 'x' is replaced with 'object'. I'll use the variables
> 'name' and 'arg' for this purpose;
>
>   name <- "foo";
>   arg <- "x";
>
> Now I'll create the 'call' to be evaluate to define the new function:
>
>   call <- substitute(fcn <- function(arg) { cat("Function", name, "was
>    called with argument", arg, ".\n"); }, list=list(fcn=as.name(name),
>    arg=as.name(arg), name=name))

<and strange things happen>

There are two issues here. One is that you really should have
options(keep.source=FALSE) if you're going to do this sort of thing, for
the sake of all our sanity.

The other is that substitute() doesn't do formal arguments to functions.

g<-eval(substitute( function(x){x+1},  list(x=as.name("y")) ))
> g
function (x)
{
    y + 1
}

I don't think this is precisely a bug, but it can be surprising.  You need
to set the formals() explicitly or use parse(deparse()).

The `macros' example in the last R Newsletter involves creating functions
at runtime a bit like this. You might find it helpful, but I think the
easiest solution may be to find a way of not doing this.


	-thomas




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From colin at DMI.USherb.CA  Wed Jan 23 20:03:10 2002
From: colin at DMI.USherb.CA (Bernard Colin)
Date: Wed, 23 Jan 2002 14:03:10 -0500
Subject: [R] multivariate simulation
Message-ID: <000f01c1a440$a2dfe950$5928d284@dmi.usherb.ca>

To whom it may concern,

I try to simulate a non-normal multivariate distribution. The MASS package
allows by mean of "mvrnorm" command to perform a multivariate normal
simulation. Is there an equivalent command for an arbitrary multivariate
distribution available in the R-language?

Thank you in advance.

Bernard Colin


Colin Bernard
Professeur titulaire
D?partement de Math?matiques et d'Informatique
Facult? des Sciences
Universit? de Sherbrooke
SHERBROOKE J1K-2R1 (Qu?bec)
Canada
Tel : (819)821-8000 poste 2012
Fax :(819)821-8200
e-mail : bernard.colin at dmi.usherb.ca

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 23 20:39:39 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 23 Jan 2002 19:39:39 +0000 (GMT)
Subject: [R] multivariate simulation
In-Reply-To: <000f01c1a440$a2dfe950$5928d284@dmi.usherb.ca>
Message-ID: <Pine.LNX.4.31.0201231937350.1875-100000@gannet.stats>

On Wed, 23 Jan 2002, Bernard Colin wrote:

> To whom it may concern,
>
> I try to simulate a non-normal multivariate distribution. The MASS package
> allows by mean of "mvrnorm" command to perform a multivariate normal
> simulation. Is there an equivalent command for an arbitrary multivariate
> distribution available in the R-language?

There is no equivalent command to sample from an arbitary *univariate*
distribution either!  There are no general algorithmic methods even in the
univariate case, although inversion comes closest.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Jan 23 20:43:19 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 23 Jan 2002 11:43:19 -0800 (PST)
Subject: [R] multivariate simulation
In-Reply-To: <000f01c1a440$a2dfe950$5928d284@dmi.usherb.ca>
Message-ID: <Pine.A41.4.44.0201231134240.214322-100000@homer04.u.washington.edu>

On Wed, 23 Jan 2002, Bernard Colin wrote:

> To whom it may concern,
>
> I try to simulate a non-normal multivariate distribution. The MASS package
> allows by mean of "mvrnorm" command to perform a multivariate normal
> simulation. Is there an equivalent command for an arbitrary multivariate
> distribution available in the R-language?
>

No. An `arbitrary multivariate distribution' covers a whole lot of
possibilities.

It would be fairly easy to write a function that linearly transformed an
arbitrary starting distribution to have arbitrary mean and variance in the
same way that mvrnorm() does, but that is usually not desirable.

It is unusual (? unique) to the Normal that this procedure produces a
random vector that is marginally and conditionally Normal.  An analogous
mvrgamma would produce variables that are not Gamma distributed and an
mvrpois wouldn't even produce integers.

There are many other ways of producing multivariate versions of univariate
distributions and most of them are `natural' for only a few cases.

If you could be more specific about what you want someone might be able to
help, but most of these methods aren't programmed in R. Jim Lindsey's
packages have a few.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Tharacad.Ramanarayanan at aventis.com  Wed Jan 23 21:21:29 2002
From: Tharacad.Ramanarayanan at aventis.com (Tharacad.Ramanarayanan@aventis.com)
Date: Wed, 23 Jan 2002 15:21:29 -0500
Subject: [R] Help with Beta Distribution
Message-ID: <0282308471EAD511B37C00508B0CAA53C22797@AUSRT021>

Prof. Ripley:

Thank you. Yes, I want to fit a 4 parameter beta distribution. I transformed
to data using a simple linear transform X(A,B) => x(0,1) (following
suggestions from Jagath Seth and Tony Rossini -- thank you) and tried to use
fitdistr. I could not get much convergence from 'optim' and I ran out of
patience to try a whole bunch of starting values. I guess because of the
inherent non-linearity, the output from 'pbeta' are very senstive to the
parameteres and hence the difficulty in convergence(??)

I have not tried to write my own function using the density function for
beta. For my immediate need, I had another distribution (gamma) fitting the
data reasonably well and I was trying to fit beta out of curiosity. BTW, I
am  indeed looking into distributions for use as a "prior" distribution for
a parameters in a Monte Carlo simulation. I might play more with 'beta'
later.

Thank you all for your suggestions and help.

T. S. Ramanarayanan, Ph.D.
Aventis CropScience
Research Triangle Park, NC 27709
(919) 549-2611

-----Original Message-----
From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
Sent: Wednesday, January 23, 2002 9:30 AM
To: Ramanarayanan, Tharacad
Cc: rossini at u.washington.edu; r-help at stat.math.ethz.ch
Subject: RE: [R] Help with Beta Distribution


On Wed, 23 Jan 2002 Tharacad.Ramanarayanan at aventis.com wrote:

> -----Original Message-----
> From: rossini at blindglobe.net [mailto:rossini at blindglobe.net]
> Sent: Tuesday, January 22, 2002 5:26 PM
> To: Ramanarayanan, Tharacad
> Cc: r-help at hypatia.math.ethz.ch
> Subject: Re: [R] Help with Beta Distribution
>
>
> >>>>> "TR" == Tharacad Ramanarayanan <Tharacad.Ramanarayanan at aventis.com>
> writes:
>
>     TR> First let me confess that I am a R-novice.  I am trying to fit
>     TR> a beta distribution for a dataset using fitdistr(MASS). I am
>     TR> having difficulties with it because the function tends to fit
>     TR> a distribution with a range of 0 to 1 (I guess). However, my
>     TR> dataset is not!
>
> Since a beta (range in 0,1) doesn't describe what you want, why force
> it?
>
> Hmm . . . a standard beta distribution(B(x)) is 0 < x < 1. So is a
standard
> uniform distribution. A standard beta distribution can be transformed for
> any (positive) range.

But then it is not a beta distribution as defined in R and used in
fitdistr, so you need to define it yourself.

You appear to want the `four-parameter beta distribution' as defined in
the Encyclopedia of Statistical Sciences, with a reference to an
unpublished PhD thesis.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Wed Jan 23 22:39:25 2002
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Wed, 23 Jan 2002 15:39:25 -0600 (CST)
Subject: No subject
Message-ID: <200201232139.PAA02922@uhddx01.dt.uh.edu>

Dear R People:

Here is a very simple question, please:

I have a data frame with the state name, state division, and population.

Note: state division is something like Atlantic, Mountain, etc.

I want to produce a table with the state division and the total of the 
populations for the states within that division.

I've been messing with "table" but so far, no luck.

This is R1.3.1, on Windows 98.

thanks in advance!

Sincerely,
Erin Hodgess
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
1 Main Street 
Houston, TX 77002
mailto: hodgess at uhddx01.dt.uh.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Wed Jan 23 22:46:56 2002
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Wed, 23 Jan 2002 15:46:56 -0600 (CST)
Subject: [R] table
Message-ID: <200201232146.PAA03256@uhddx01.dt.uh.edu>

Never mind....I've got it.

Sorry.
e
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brad at aris.ss.uci.edu  Wed Jan 23 22:52:07 2002
From: brad at aris.ss.uci.edu (Brad Buchsbaum)
Date: Wed, 23 Jan 2002 13:52:07 -0800
Subject: [R] Re: coding factor replicates
In-Reply-To: <000f01c1a440$a2dfe950$5928d284@dmi.usherb.ca>
References: <000f01c1a440$a2dfe950$5928d284@dmi.usherb.ca>
Message-ID: <02012313520700.06334@sebring.ss.uci.edu>


Hi All,

If I have a factor f:

A B C B C A C B A A B ....

and I would like to generate a factor to indicate the trial number
as a function of condition: e.g.

1 1 1 2 2 2 3 3 3 4 4 ...

how might I attack this in R?

thanks,

Brad Buchsbaum

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jan 23 23:11:14 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 23 Jan 2002 23:11:14 +0100
Subject: [R] Re: coding factor replicates
References: <000f01c1a440$a2dfe950$5928d284@dmi.usherb.ca> <02012313520700.06334@sebring.ss.uci.edu>
Message-ID: <3C4F3502.D553BA7D@statistik.uni-dortmund.de>



Brad Buchsbaum wrote:
> 
> Hi All,
> 
> If I have a factor f:
> 
> A B C B C A C B A A B ....
> 
> and I would like to generate a factor to indicate the trial number
> as a function of condition: e.g.
> 
> 1 1 1 2 2 2 3 3 3 4 4 ...
> 
> how might I attack this in R?

What about something like
  as.factor(outer(rep(1, 3), 1:4))

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Farrar.David at epamail.epa.gov  Wed Jan 23 23:14:34 2002
From: Farrar.David at epamail.epa.gov (Farrar.David@epamail.epa.gov)
Date: Wed, 23 Jan 2002 17:14:34 -0500
Subject: [R] driving R from Python (calldll?)
Message-ID: <OF0B84887D.5D105B73-ON85256B4A.007A109C@rtp.epa.gov>

Sam Rushing's Python extension 'calldll' will supposedly give me access
to any DLL,
and presumably R.DLL in particular, from Python.  I have no experience
manipulating DLLs as
yet.  I am learning Python.  I can't find any simple step-by-step
instructions on how
to get done what I want to do.  Does anyone have experience with this?
Is there a
better way?  Of course, one can use Rterm with DOS piping commands.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Wed Jan 23 23:26:17 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 23 Jan 2002 14:26:17 -0800
Subject: [R] driving R from Python (calldll?)
In-Reply-To: <OF0B84887D.5D105B73-ON85256B4A.007A109C@rtp.epa.gov>
References: <OF0B84887D.5D105B73-ON85256B4A.007A109C@rtp.epa.gov>
Message-ID: <87hepcn1py.fsf@jeeves.blindglobe.net>

>>>>> "FD" == Farrar David <Farrar.David at epamail.epa.gov> writes:

    FD> Sam Rushing's Python extension 'calldll' will supposedly give
    FD> me access to any DLL, and presumably R.DLL in particular, from
    FD> Python.  I have no experience manipulating DLLs as yet.  I am
    FD> learning Python.  I can't find any simple step-by-step
    FD> instructions on how to get done what I want to do.  Does
    FD> anyone have experience with this?  Is there a better way?  Of
    FD> course, one can use Rterm with DOS piping commands.

The RSPython package works extremely well.  

Duncan, did you ever incorporate Greg Warnes' fixes for formulas?

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
--- I'm 40% time until March 1st.  Try email the other 3 days.... -----
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brad at aris.ss.uci.edu  Wed Jan 23 23:20:49 2002
From: brad at aris.ss.uci.edu (Brad Buchsbaum)
Date: Wed, 23 Jan 2002 14:20:49 -0800
Subject: [R] Re: coding factor replicates
In-Reply-To: <3C4F3502.D553BA7D@statistik.uni-dortmund.de>
References: <000f01c1a440$a2dfe950$5928d284@dmi.usherb.ca> <02012313520700.06334@sebring.ss.uci.edu> <3C4F3502.D553BA7D@statistik.uni-dortmund.de>
Message-ID: <02012314204900.06396@sebring.ss.uci.edu>

On Wednesday 23 January 2002 02:11 pm, Uwe Ligges wrote:
> Brad Buchsbaum wrote:
> > Hi All,
> >
> > If I have a factor f:
> >
> > A B C B C A C B A A B ....
> >
> > and I would like to generate a factor to indicate the trial number
> > as a function of condition: e.g.
> >
> > 1 1 1 2 2 2 3 3 3 4 4 ...
> >
> > how might I attack this in R?
>
> What about something like
>   as.factor(outer(rep(1, 3), 1:4))
>
> Uwe

I should have mentioned that the condtions A, B, C vary randomly,
so I have to perform some operation on the existing factor "f".

Brad B.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Farrar.David at epamail.epa.gov  Wed Jan 23 23:26:16 2002
From: Farrar.David at epamail.epa.gov (Farrar.David@epamail.epa.gov)
Date: Wed, 23 Jan 2002 17:26:16 -0500
Subject: [R] driving R from Python (calldll?)
Message-ID: <OF5B2C36C6.85CDD642-ON85256B4A.007B3232@rtp.epa.gov>



Sorry for not providing appropriate detail.  I am working in Windows 98.
It looked to us like RSPython was Unix.

DF


                                                                                           
                    rossini at blind                                                          
                    globe.net            To:     David Farrar/DC/USEPA/US at EPA              
                    (A.J.                cc:     r-help at hypatia.math.ethz.ch               
                    Rossini)             Subject:     Re: [R] driving R from Python        
                                         (calldll?)                                        
                    01/23/2002                                                             
                    05:26 PM                                                               
                    Please                                                                 
                    respond to                                                             
                    rossini                                                                
                                                                                           
                                                                                           




>>>>> "FD" == Farrar David <Farrar.David at epamail.epa.gov> writes:

    FD> Sam Rushing's Python extension 'calldll' will supposedly give
    FD> me access to any DLL, and presumably R.DLL in particular, from
    FD> Python.  I have no experience manipulating DLLs as yet.  I am
    FD> learning Python.  I can't find any simple step-by-step
    FD> instructions on how to get done what I want to do.  Does
    FD> anyone have experience with this?  Is there a better way?  Of
    FD> course, one can use Rterm with DOS piping commands.

The RSPython package works extremely well.

Duncan, did you ever incorporate Greg Warnes' fixes for formulas?

best,
-tony

--
A.J. Rossini                                        Rsrch. Asst. Prof.
of Biostatistics
U. of Washington Biostatistics
rossini at u.washington.edu
FHCRC/SCHARP/HIV Vaccine Trials Net            rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
--- I'm 40% time until March 1st.  Try email the other 3 days.... -----




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Wed Jan 23 23:30:46 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 23 Jan 2002 14:30:46 -0800
Subject: [R] driving R from Python (calldll?)
In-Reply-To: <OF5B2C36C6.85CDD642-ON85256B4A.007B3232@rtp.epa.gov>
References: <OF5B2C36C6.85CDD642-ON85256B4A.007B3232@rtp.epa.gov>
Message-ID: <87d700n1ih.fsf@jeeves.blindglobe.net>

>>>>> "FD" == Farrar David <Farrar.David at epamail.epa.gov> writes:

    FD> Sorry for not providing appropriate detail.  I am working in
    FD> Windows 98.  It looked to us like RSPython was Unix.

It probably should be possible to port it over (I'm not going to
comment on the pain involved, though...).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
--- I'm 40% time until March 1st.  Try email the other 3 days.... -----
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Jan 23 23:47:27 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 23 Jan 2002 16:47:27 -0600
Subject: [R] Re: coding factor replicates
In-Reply-To: <3C4F3502.D553BA7D@statistik.uni-dortmund.de>
References: <000f01c1a440$a2dfe950$5928d284@dmi.usherb.ca>
	<02012313520700.06334@sebring.ss.uci.edu>
	<3C4F3502.D553BA7D@statistik.uni-dortmund.de>
Message-ID: <6r3d0w1y80.fsf@franz.stat.wisc.edu>

Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:

> Brad Buchsbaum wrote:
> > 
> > Hi All,
> > 
> > If I have a factor f:
> > 
> > A B C B C A C B A A B ....
> > 
> > and I would like to generate a factor to indicate the trial number
> > as a function of condition: e.g.
> > 
> > 1 1 1 2 2 2 3 3 3 4 4 ...
> > 
> > how might I attack this in R?
> 
> What about something like
>   as.factor(outer(rep(1, 3), 1:4))

I think the point is that the 1's are at the first occurence of the
level, the 2's at the second occurence, etc.  This seems like the sort
of problem that Bill Venables would come up with a devilishly clever
way of solving.

I would do it as

> result <- seq(along = f)         # create an vector to hold the response
> sp <- split(seq(along = f), f)   # split the factor on levels
> result[unlist(sp)] <- unlist(lapply(sp, function(x) seq(along = x)))
> result
 [1] 1 1 1 2 2 2 3 3 3 4 4

but I'm sure Bill would do it much more elegantly than that.

-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Jan 23 23:55:16 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 23 Jan 2002 16:55:16 -0600
Subject: [R] Re: coding factor replicates
In-Reply-To: <6r3d0w1y80.fsf@franz.stat.wisc.edu>
References: <000f01c1a440$a2dfe950$5928d284@dmi.usherb.ca>
	<02012313520700.06334@sebring.ss.uci.edu>
	<3C4F3502.D553BA7D@statistik.uni-dortmund.de>
	<6r3d0w1y80.fsf@franz.stat.wisc.edu>
Message-ID: <6radv4znhn.fsf@franz.stat.wisc.edu>

Douglas Bates <bates at cs.wisc.edu> writes:

> Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:
> 
> > Brad Buchsbaum wrote:
> > > 
> > > Hi All,
> > > 
> > > If I have a factor f:
> > > 
> > > A B C B C A C B A A B ....
> > > 
> > > and I would like to generate a factor to indicate the trial number
> > > as a function of condition: e.g.
> > > 
> > > 1 1 1 2 2 2 3 3 3 4 4 ...
> > > 
> > > how might I attack this in R?
> > 
> > What about something like
> >   as.factor(outer(rep(1, 3), 1:4))
> 
> I think the point is that the 1's are at the first occurence of the
> level, the 2's at the second occurence, etc.  This seems like the sort
> of problem that Bill Venables would come up with a devilishly clever
> way of solving.
> 
> I would do it as
> 
> > result <- seq(along = f)         # create an vector to hold the response
> > sp <- split(seq(along = f), f)   # split the factor on levels
> > result[unlist(sp)] <- unlist(lapply(sp, function(x) seq(along = x)))
> > result
>  [1] 1 1 1 2 2 2 3 3 3 4 4
> 
> but I'm sure Bill would do it much more elegantly than that.

Before others point out the obvious simplification (I did it in stages
and assembled the "swish" result, as Bill would term it - apparently
swish has a different connotation in Australia than it does in North
America), the second line could be

> sp <- split(result, f)   # split the index vector on factor levels
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Jan 24 00:03:35 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 23 Jan 2002 15:03:35 -0800
Subject: [R] driving R from Python (calldll?)
In-Reply-To: <87d700n1ih.fsf@jeeves.blindglobe.net>
References: <OF5B2C36C6.85CDD642-ON85256B4A.007B3232@rtp.epa.gov>
	<87d700n1ih.fsf@jeeves.blindglobe.net>
Message-ID: <878zaomzzs.fsf@jeeves.blindglobe.net>

>>>>> "AJR" == A J Rossini <rossini at blindglobe.net> writes:

>>>>> "FD" == Farrar David <Farrar.David at epamail.epa.gov> writes:
    FD> Sorry for not providing appropriate detail.  I am working in
    FD> Windows 98.  It looked to us like RSPython was Unix.

    AJR> It probably should be possible to port it over (I'm not going
    AJR> to comment on the pain involved, though...).

Well, that was a content-free snide remark.  After 30 seconds of
remembering and a brief , I'm going to stick my neck out and say that
it should be reasonably easy, since Python's foreign library loading
mechanism is quite flexible between OS's.

best,
-tony


-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
--- I'm 40% time until March 1st.  Try email the other 3 days.... -----
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From schultz at fig.cox.miami.edu  Thu Jan 24 01:28:07 2002
From: schultz at fig.cox.miami.edu (Stewart Schultz)
Date: Wed, 23 Jan 2002 19:28:07 -0500
Subject: [R] MANOVA extension of paired t-test?
Message-ID: <l03102803b87503ad27e3@[129.171.42.223]>

Thanks everyone for your help on this question.  I solved the problem by
writing a procedure to calculate Hotelling's T^2 for a one-sample,
multivariate t-test.  Here's how it looks, perhaps it will be useful to
others.

data <- cbind(rnorm(50, 0.1, .01), rnorm(50,.1,.01), rnorm(50,.1,.01))
k <- ncol(data)
n <- nrow(data)
xbar <- apply(data, 2, mean)
mubar <- rep(0,k) #hypothesized means are zero
dbar <- xbar - mubar
v <- var(data)
t2 <- n*dbar%*%solve(v)%*%dbar
F <- (n-k)*t2/((n-1)*k)
P <- 1-pf(F,k,n-k)

A previous post by Peter B. Mandeville was very helpful, as well as the
Johnson/Wichern book on multivariate stats.
-S. Schultz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Thu Jan 24 03:19:56 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Wed, 23 Jan 2002 21:19:56 -0500
Subject: [R] Re: coding factor replicates
Message-ID: <5429125E11E4D411AF7300805FE603A8040DE531@groexmbcr02.pfizer.com>


How about this.  Its not as 'swish' as Doug's response, but it might be a
little simpler to think about and adapt...


# show the test vector
> tmp
 [1] A B C B C A C B A A B
Levels:  A B C 
>
# create a named vector to store the number of occurences of each level
> index <- numeric(length=length(levels(tmp)))
> names(index) <- levels(tmp)
> index
    A B C
[1] 0 0 0
>
# create a vector to store the results
> retval <- numeric(length(tmp))
>
# iterate across the vector, counting the number of occurences 
# store the cumulative count in the index vector and the current count in
the result vector
> for( i in 1:length(tmp) )
+    retval[i] <- index[tmp[i]] <- index[tmp[i]] + 1
>
# show the results
> retval
 [1] 1 1 1 2 2 2 3 3 3 4 4

-Greg


> -----Original Message-----
> From: Brad Buchsbaum [mailto:brad at aris.ss.uci.edu]
> Sent: Wednesday, January 23, 2002 4:52 PM
> To: r-help at stat.math.ethz.ch
> Subject: [R] Re: coding factor replicates
> 
> 
> 
> Hi All,
> 
> If I have a factor f:
> 
> A B C B C A C B A A B ....
> 
> and I would like to generate a factor to indicate the trial number
> as a function of condition: e.g.
> 
> 1 1 1 2 2 2 3 3 3 4 4 ...
> 
> how might I attack this in R?
> 
> thanks,
> 
> Brad Buchsbaum
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at CMIS.CSIRO.AU  Thu Jan 24 04:34:07 2002
From: Bill.Venables at CMIS.CSIRO.AU (Bill.Venables@CMIS.CSIRO.AU)
Date: Thu, 24 Jan 2002 13:34:07 +1000
Subject: [R] Re: coding factor replicates
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A90C164E@Roper-CV.qld.cmis.csiro.au>



>  -----Original Message-----
> From: 	Douglas Bates [mailto:bates at stat.wisc.edu] 
> Sent:	Thursday, January 24, 2002 8:55 AM
> To:	Uwe Ligges
> Cc:	Brad Buchsbaum; r-help at stat.math.ethz.ch
> Subject:	Re: [R] Re: coding factor replicates
> 
> Douglas Bates <bates at cs.wisc.edu> writes:
> 
> > Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:
> > 
> > > Brad Buchsbaum wrote:
> > > > 
> > > > Hi All,
> > > > 
> > > > If I have a factor f:
> > > > 
> > > > A B C B C A C B A A B ....
> > > > 
> > > > and I would like to generate a factor to indicate the trial number
> > > > as a function of condition: e.g.
> > > > 
> > > > 1 1 1 2 2 2 3 3 3 4 4 ...
> > > > 
> > > > how might I attack this in R?
> > > 
> > > What about something like
> > >   as.factor(outer(rep(1, 3), 1:4))
> > 
> > I think the point is that the 1's are at the first occurence of the
> > level, the 2's at the second occurence, etc.  This seems like the sort
> > of problem that Bill Venables would come up with a devilishly clever
> > way of solving.
> > 
> > I would do it as
> > 
> > > result <- seq(along = f)         # create an vector to hold the
response
> > > sp <- split(seq(along = f), f)   # split the factor on levels
> > > result[unlist(sp)] <- unlist(lapply(sp, function(x) seq(along = x)))
> > > result
> >  [1] 1 1 1 2 2 2 3 3 3 4 4
> > 
> > but I'm sure Bill would do it much more elegantly than that.
> 
> Before others point out the obvious simplification (I did it in stages
> and assembled the "swish" result, as Bill would term it - apparently
> swish has a different connotation in Australia than it does in North
> America), the second line could be
> 
> > sp <- split(result, f)   # split the index vector on factor levels

Doug is much too kind (I think).  The tricks with match() I have learned
from him are just amazing.

With this problem you can cheat a bit if you assume that the trials are
contiguous (as I think they must be).  All you need to know then are (1) the
run length of a trial and (2) the number of trials.

> run.length <- which(duplicated(f))[1] - 1
> no.trials <- ceiling(length(f)/run.length)
> trials <- factor(rep(1:no.trials, rep(run.length, no.trials), 
			length.out = length(f)))
> trials
 [1] 1 1 1 2 2 2 3 3 3 4 4
Levels:  1 2 3 4 

No more elegant than Doug's, I contend!

Bill Venables.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Peter.Baker at cmis.csiro.au  Thu Jan 24 06:02:04 2002
From: Peter.Baker at cmis.csiro.au (Peter Baker)
Date: Thu, 24 Jan 2002 16:02:04 +1100 (EST)
Subject: [R] Re: coding factor replicates
In-Reply-To: <5429125E11E4D411AF7300805FE603A8040DE531@groexmbcr02.pfizer.com>
References: <5429125E11E4D411AF7300805FE603A8040DE531@groexmbcr02.pfizer.com>
Message-ID: <15439.37740.598539.457589@pride.nsw.cmis.CSIRO.AU>

>>>>> "Greg Warnes" == Warnes, Gregory R <gregory_r_warnes at groton.pfizer.com> writes:

    Greg Warnes> How about this.  Its not as 'swish' as Doug's
    Greg Warnes> response, but it might be a little simpler to think
    Greg Warnes> about and adapt...


I get the distinct impression I've missed something here - isn't the
answer just to convert the factor to numeric? eg

> g <- factor(c("A","B","C","B","C","A","C","B","A","A","B"))
> g
 [1] A B C B C A C B A A B
Levels:  A B C 
> 
> gnum <-  as.numeric(g)
> gnum    
 [1] 1 2 3 2 3 1 3 2 1 1 2
>
> gfac <- factor(as.numeric(g))
> gfac
 [1] 1 2 3 2 3 1 3 2 1 1 2
Levels:  1 2 3 
>

Regards
Peter

    Greg Warnes> # show the test vector
    >> tmp
    Greg Warnes>  [1] A B C B C A C B A A B Levels: A B C
    >>
    Greg Warnes> # create a named vector to store the number of
    Greg Warnes> occurences of each level
    >> index <- numeric(length=length(levels(tmp))) names(index) <-
    >> levels(tmp) index
    Greg Warnes>     A B C [1] 0 0 0
    >>
    Greg Warnes> # create a vector to store the results
    >> retval <- numeric(length(tmp))
    >> 
    Greg Warnes> # iterate across the vector, counting the number of
    Greg Warnes> occurences # store the cumulative count in the index
    Greg Warnes> vector and the current count in the result vector
    >> for( i in 1:length(tmp) )
    Greg Warnes> + retval[i] <- index[tmp[i]] <- index[tmp[i]] + 1
    >>
    Greg Warnes> # show the results
    >> retval
    Greg Warnes>  [1] 1 1 1 2 2 2 3 3 3 4 4

    Greg Warnes> -Greg


    >> -----Original Message----- From: Brad Buchsbaum
    >> [mailto:brad at aris.ss.uci.edu] Sent: Wednesday, January 23, 2002
    >> 4:52 PM To: r-help at stat.math.ethz.ch Subject: [R] Re: coding
    >> factor replicates
    >> 
    >> 
    >> 
    >> Hi All,
    >> 
    >> If I have a factor f:
    >> 
    >> A B C B C A C B A A B ....
    >> 
    >> and I would like to generate a factor to indicate the trial
    >> number as a function of condition: e.g.
    >> 
    >> 1 1 1 2 2 2 3 3 3 4 4 ...
    >> 
    >> how might I attack this in R?
    >> 
    >> thanks,
    >> 
    >> Brad Buchsbaum

-- 
Dr Peter Baker, Statistician (Bioinformatics/Genetics),
CSIRO Mathematical & Information Sciences,
120 Meiers Rd, INDOOROOPILLY, QLD 4068.  Australia. 
Email: Peter.Baker at csiro.au
WWW: http://www.cmis.csiro.au/Peter.Baker/
Phone:+61 7 3214 2210   Fax:+61 7 3214 2881
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Peter.Baker at cmis.csiro.au  Thu Jan 24 06:14:39 2002
From: Peter.Baker at cmis.csiro.au (Peter Baker)
Date: Thu, 24 Jan 2002 16:14:39 +1100 (EST)
Subject: [R] Re: coding factor replicates
Message-ID: <15439.38788.262895.318955@pride.nsw.cmis.CSIRO.AU>


> I get the distinct impression I've missed something here - isn't the
> answer just to convert the factor to numeric? eg

Oops I did miss something and interpreted the question wrongly.

Sorry!

Regards
Peter

-- 
Dr Peter Baker, Statistician (Bioinformatics/Genetics),
CSIRO Mathematical & Information Sciences,
120 Meiers Rd, INDOOROOPILLY, QLD 4068.  Australia. 
Email: Peter.Baker at csiro.au
WWW: http://www.cmis.csiro.au/Peter.Baker/
Phone:+61 7 3214 2210   Fax:+61 7 3214 2881
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Thu Jan 24 07:56:59 2002
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Thu, 24 Jan 2002 07:56:59 +0100
Subject: [R] aggregate, by tapply
Message-ID: <3C4FBE4B.28111.1BB71F@localhost>

Dear R users

I searched some sources but i did not find an answer.Please give 
me some hint to following problem.

I would like to compute a summary statistic for some vector for 
different factor levels. I know I can use tapply or aggregate but I 
do not know if there is a way how to use function with several 
(two) variable input (like weighted.mean).

I wrote a simple a function for factor weighted mean
fff<-function(x,fact,w)
{
ws<-tapply(w,fact,sum)
newx<-x*w
tapply(newx,fact,sum)/ws
}

which can handle particular case but does exist some more general 
solution how to use FUN(X1,X2) in aggregation procedures 
(tapply, aggregate, by) directly?

Thank you
Petr Pikal
petr.pikal at precheza.cz
p.pik at volny.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 24 08:35:03 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 24 Jan 2002 07:35:03 +0000 (GMT)
Subject: [R] driving R from Python (calldll?)
In-Reply-To: <OF0B84887D.5D105B73-ON85256B4A.007A109C@rtp.epa.gov>
Message-ID: <Pine.LNX.4.31.0201240721500.2481-100000@gannet.stats>

On Wed, 23 Jan 2002 Farrar.David at epamail.epa.gov wrote:

> Sam Rushing's Python extension 'calldll' will supposedly give me access
> to any DLL,
> and presumably R.DLL in particular, from Python.  I have no experience
> manipulating DLLs as
> yet.  I am learning Python.  I can't find any simple step-by-step
> instructions on how
> to get done what I want to do.  Does anyone have experience with this?
> Is there a
> better way?  Of course, one can use Rterm with DOS piping commands.

Presumably this is for Windows.  You can't use R.dll in isolation.
What you can do is the use the DCOM interface written by Thomas Baier that
you will find on CRAN, which provides a completely standard Windows
interface that I am sure Python can talk to.  My suspicion is that
this would be much easier than porting RSPython to Windows, because no
work would be involved on the R side.  Conversely, it will give you less,
but you don't say anything about `to get done what I want to do'.

BTW

`Of course, one can use Rterm with DOS piping commands'

isn't really true.  Rterm is a Windows program, not a DOS program.  You
can certainly do it on Windows NT/2000/XP, but pipes are limited on
95/98/ME, and DOS can't pipe to Windows programs.  Guido and I failed to
get this sort of thing to work from R for pipe connections under 95/98/ME,
and found lots of things which did not work as documented nor as on NT in
the process.  Also, Perl's system() has problems with redirection and
pipes on 95/98/ME.  So beware!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Thu Jan 24 09:03:45 2002
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Thu, 24 Jan 2002 09:03:45 +0100
Subject: [R] ?Corrupt Recommended packages source 
In-Reply-To: <5.1.0.14.2.20020123093125.00b09d10@odin.pdx.edu>
References: <5.1.0.14.2.20020123093125.00b09d10@odin.pdx.edu>
Message-ID: <15439.49121.42646.57194@galadriel.ci.tuwien.ac.at>

>>>>> On Wed, 23 Jan 2002 09:38:02 -0800,
>>>>> Marc Feldesman (MF) wrote:

  > I'm not really sure this is the place to raise this, but here goes anyway.
  > I've downloaded the 1.4.0 recommended package sources 
  > R-1.4.0-recommended.tgz multiple times from the main CRAN site.  The 
  > sources have arrived corrupted each time (from multiple computers BTW).  If 
  > I download the same file from the UCLA or University of Bristol mirror, I 
  > also get corrupt archive files.  On the other hand, if I download from the 
  > University of Wisconsin mirror, the file arrives uncorrupted.  I've 
  > verified this at each site multiple times using computers attached to T1 
  > lines, to DSL lines, and to cable modem lines.

  > I don't know much about mirroring, but is it possible that some mirror 
  > sites are storing (possibly) corrupted archive files while other sites have 
  > uncorrupted copies?

  > I don't have this problem with any other files on the CRAN master site.

The symptom you describe is possible (files from $CRAN/src/base that are
only Ok in Wisconsin), because the CRAN master mirrors that directory
from Wisconsin (and all other sites from the master site).

However, I have just checked the file R-1.4.0-recommended.tgz at the
master and I cannot see any problems ... what exactly do you mean by
"arrived corrupted"?

I can untar both the R-1.4.0-recommended.tgz file and all .tgz files
contained in it without any problems.

Have others experiences problems with the file?

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Thu Jan 24 09:10:09 2002
From: siim at obs.ee (Ott Toomet)
Date: Thu, 24 Jan 2002 09:10:09 +0100 (CET)
Subject: [R] Re: your mail
In-Reply-To: <200201232139.PAA02922@uhddx01.dt.uh.edu>
Message-ID: <Pine.LNX.4.33.0201240907390.1529-100000@localhost.localdomain>

Hi,

you have to use tapply().  A small example:

> region <- c("Atl", "Mount", "Atl")
> state <- c("NY", "AR", "WAS")
> pop <- c(1000, 100, 1000)
> d <- data.frame(region,state,pop)
	# note that region and state are coerced to factors by data.frame()
> tapply(d$pop, d$region, sum)
  Atl Mount
 2000   100

A very similar example was in ,,An introduction to R'' for version 1.1, I
think it is in the current version too.


best wishes,

Ott Toomet




On Wed, 23 Jan 2002, Erin Hodgess wrote:

> Dear R People:
>
> Here is a very simple question, please:
>
> I have a data frame with the state name, state division, and population.
>
> Note: state division is something like Atlantic, Mountain, etc.
>
> I want to produce a table with the state division and the total of the
> populations for the states within that division.
>
> I've been messing with "table" but so far, no luck.
>
> This is R1.3.1, on Windows 98.
>
> thanks in advance!
>
> Sincerely,
> Erin Hodgess
> Associate Professor
> Department of Computer and Mathematical Sciences
> University of Houston - Downtown
> 1 Main Street
> Houston, TX 77002
> mailto: hodgess at uhddx01.dt.uh.edu
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Jan 24 09:47:51 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 24 Jan 2002 09:47:51 +0100 (MET)
Subject: [R] multivariate simulation
In-Reply-To: <000f01c1a440$a2dfe950$5928d284@dmi.usherb.ca>
Message-ID: <Pine.OSF.3.96.1020124094402.9351A-100000@ija.csic.es>

When you say that a distribution is normal, you can tell very
specific properties, but when you say thatis "not normal"
there is an infinite range of possibilities (just as when you
say that a function is non-linear...). You must investigate
your data and come up with some alternative distributions
that you can test as alternative hypothesis. Perhaps the
book Hilborn and Mangel 1997 The ecological detective, confronting
models with data (princeon Univ. Press) might be useful
for you.

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Wed, 23 Jan 2002, Bernard Colin wrote:

> To whom it may concern,
> 
> I try to simulate a non-normal multivariate distribution. The MASS package
> allows by mean of "mvrnorm" command to perform a multivariate normal
> simulation. Is there an equivalent command for an arbitrary multivariate
> distribution available in the R-language?
> 
> Thank you in advance.
> 
> Bernard Colin
> 
> 
> Colin Bernard
> Professeur titulaire
> Dpartement de Mathmatiques et d'Informatique
> Facult des Sciences
> Universit de Sherbrooke
> SHERBROOKE J1K-2R1 (Qubec)
> Canada
> Tel : (819)821-8000 poste 2012
> Fax :(819)821-8200
> e-mail : bernard.colin at dmi.usherb.ca
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Thu Jan 24 10:44:17 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Thu, 24 Jan 2002 10:44:17 +0100
Subject: [R] aggregate, by tapply
References: <3C4FBE4B.28111.1BB71F@localhost>
Message-ID: <010d01c1a4bb$b5b28620$5c13070a@it.giustizia.it>

Hi Petr,
probably I don't understand correctly your question. However
you can write any function with several arguments (input variables) and
after use tapply. That is:

fn<-function(arg1, arg2, arg3, ....){....}
tapply(arg1, factor, fn, arg2, arg3,....)

Furthermore you can you the three dots "..." to pass any argument in the
functions in your fn()

Hope this helps you!
vito


----- Original Message -----
From: "Petr Pikal" <petr.pikal at precheza.cz>
To: <r-help at stat.math.ethz.ch>
Sent: Thursday, January 24, 2002 7:56 AM
Subject: [R] aggregate, by tapply


> Dear R users
>
> I searched some sources but i did not find an answer.Please give
> me some hint to following problem.
>
> I would like to compute a summary statistic for some vector for
> different factor levels. I know I can use tapply or aggregate but I
> do not know if there is a way how to use function with several
> (two) variable input (like weighted.mean).
>
> I wrote a simple a function for factor weighted mean
> fff<-function(x,fact,w)
> {
> ws<-tapply(w,fact,sum)
> newx<-x*w
> tapply(newx,fact,sum)/ws
> }
>
> which can handle particular case but does exist some more general
> solution how to use FUN(X1,X2) in aggregation procedures
> (tapply, aggregate, by) directly?
>
> Thank you
> Petr Pikal
> petr.pikal at precheza.cz
> p.pik at volny.cz
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jan 24 11:17:09 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Jan 2002 11:17:09 +0100
Subject: [R] Re: coding factor replicates
In-Reply-To: <6r3d0w1y80.fsf@franz.stat.wisc.edu>
References: <000f01c1a440$a2dfe950$5928d284@dmi.usherb.ca>
	<02012313520700.06334@sebring.ss.uci.edu>
	<3C4F3502.D553BA7D@statistik.uni-dortmund.de>
	<6r3d0w1y80.fsf@franz.stat.wisc.edu>
Message-ID: <x2zo349hp6.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates at stat.wisc.edu> writes:

> I would do it as
> 
> > result <- seq(along = f)         # create an vector to hold the response
> > sp <- split(seq(along = f), f)   # split the factor on levels
> > result[unlist(sp)] <- unlist(lapply(sp, function(x) seq(along = x)))
> > result
>  [1] 1 1 1 2 2 2 3 3 3 4 4
> 
> but I'm sure Bill would do it much more elegantly than that.

Essentially the same thing, but we saw a similar pattern recently and
I wonder whether we should systematize it:

"split<-" <- function(x,f,value){
    x[unlist(split(seq(along=x),f)] <- unlist(value)
    x
}

unsplit <- function(v,f) {
    x <- vector(length=length(f))
    split(x,f) <- v
    x
}

Now we can do (breaks horribly if there's an empty factor level, though):

unsplit(lapply(table(f), seq)))

and the within-group z-score from the other day would become

unsplit(tapply(x,f,scale),f)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Thu Jan 24 11:27:59 2002
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Thu, 24 Jan 2002 11:27:59 +0100 (CET)
Subject: [R] problem driving R from Python 
In-Reply-To: <Pine.LNX.4.31.0201240721500.2481-100000@gannet.stats>
Message-ID: <Pine.LNX.4.33L2.0201241046410.3588-100000@localhost.localdomain>


I tried installing RSPython ( R 1.4.0, linux mandrake 8.1).
Bash shell.

export PYTHON_INCLUDE_DIR=/usr/lib/python2.1

R INSTALL --clean RSPython_0.3-0.tar.gz \
--configure-args=--with-pylib=/usr/lib/python2.1

................
.........

DONE (RSPython)

DONE (INSTALL)

export R_HOME=/usr/lib/R
export PYTHONPATH=${R_HOME}/library/RSPython/Python
export PYTHONPATH=${PYTHONPATH}:${R_HOME}/library/RSPython/libs
export LD_LIBRARY_PATH=${R_HOME}/bin

python

>>> import RS
Traceback (most recent call last):
  File "<stdin>", line 1, in ?
  File "/usr/lib/R/library/RSPython/Python/RS.py", line 1, in ?
    import RSInternal
ImportError: /usr/lib/R/library/RSPython/libs/RSInternal.so: undefined
symbol: R_GlobalEnv


What's wrong here ?

-- 
Michele Alzetta


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Jan 24 11:54:02 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 24 Jan 2002 11:54:02 +0100 (MET)
Subject: [R] aggregate, by tapply
In-Reply-To: <3C4FBE4B.28111.1BB71F@localhost>
Message-ID: <Pine.OSF.3.96.1020124115145.15195A-100000@ija.csic.es>


In the case of *apply functions, the paramenters follow
the name of the function. I.e., if you want to compute a mean
with na.rm=T(which for one single vector would be
mean(mivector,na.rm=T), then

apply(mat,1,mean,na.rm=T)

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Thu, 24 Jan 2002, Petr Pikal wrote:

> Dear R users
> 
> I searched some sources but i did not find an answer.Please give 
> me some hint to following problem.
> 
> I would like to compute a summary statistic for some vector for 
> different factor levels. I know I can use tapply or aggregate but I 
> do not know if there is a way how to use function with several 
> (two) variable input (like weighted.mean).
> 
> I wrote a simple a function for factor weighted mean
> fff<-function(x,fact,w)
> {
> ws<-tapply(w,fact,sum)
> newx<-x*w
> tapply(newx,fact,sum)/ws
> }
> 
> which can handle particular case but does exist some more general 
> solution how to use FUN(X1,X2) in aggregation procedures 
> (tapply, aggregate, by) directly?
> 
> Thank you
> Petr Pikal
> petr.pikal at precheza.cz
> p.pik at volny.cz
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Thu Jan 24 11:48:52 2002
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Thu, 24 Jan 2002 05:48:52 -0500
Subject: [R] problem driving R from Python
In-Reply-To: <Pine.LNX.4.33L2.0201241046410.3588-100000@localhost.localdomain>; from mikalzet@libero.it on Thu, Jan 24, 2002 at 11:27:59AM +0100
References: <Pine.LNX.4.31.0201240721500.2481-100000@gannet.stats> <Pine.LNX.4.33L2.0201241046410.3588-100000@localhost.localdomain>
Message-ID: <20020124054852.D10171@jessie.research.bell-labs.com>


A quick guess would be that R was not built as a shared library.
Specifically, does the file $R_HOME/bin/libR.so exist?
If not, you can rebuild R with

  cd $R_HOME
  ./configure  --enable-R-shlib
  make

and then re-install RSPython.

Another diagnostic is to look at the link command during the
installation of the RSPython package and see if `-lR' is in included
in the command.

The RSPython package is a two-headed monster because it allows Python
to be run in R, and/or R to be run in Python. The latter requires R as
a shared library, the former doesn't.

If libR.so exists and is used in the compilation, then we can try to 
figure out what else might be wrong.

 D.

mikalzet at libero.it wrote:
> 
> I tried installing RSPython ( R 1.4.0, linux mandrake 8.1).
> Bash shell.
> 
> export PYTHON_INCLUDE_DIR=/usr/lib/python2.1
> 
> R INSTALL --clean RSPython_0.3-0.tar.gz \
> --configure-args=--with-pylib=/usr/lib/python2.1
> 
> ................
> .........
> 
> DONE (RSPython)
> 
> DONE (INSTALL)
> 
> export R_HOME=/usr/lib/R
> export PYTHONPATH=${R_HOME}/library/RSPython/Python
> export PYTHONPATH=${PYTHONPATH}:${R_HOME}/library/RSPython/libs
> export LD_LIBRARY_PATH=${R_HOME}/bin
> 
> python
> 
> >>> import RS
> Traceback (most recent call last):
>   File "<stdin>", line 1, in ?
>   File "/usr/lib/R/library/RSPython/Python/RS.py", line 1, in ?
>     import RSInternal
> ImportError: /usr/lib/R/library/RSPython/libs/RSInternal.so: undefined
> symbol: R_GlobalEnv
> 
> 
> What's wrong here ?
> 
> -- 
> Michele Alzetta
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Jan 24 12:04:54 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 24 Jan 2002 12:04:54 +0100 (MET)
Subject: [R] R-gnome: no way to configure
In-Reply-To: <Pine.OSF.3.96.1020122194200.1430B-100000@ija.csic.es>
Message-ID: <Pine.OSF.3.96.1020123192036.27374B-100000@ija.csic.es>


Hi!

I've been able to configure and make R (1,4,0 linux)
except for the gnome support. I've checked all packages and libs mentioned
in R-admin.pdf (and by Luke Tierny) to make sure that I have them and even
using the following:

./configure --with-gnome --with-gnome-includes=/opt/gnome/include
--with-gnome-libs=/opt/gnome/lib --with-libglade-config=opt/gnome/lib

I still get:

R is now configured for i686-pc-linux-gnu
  Source directory:          .
  Installation directory:    /usr/local
  C compiler:                gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
  C++ compiler:              c++  -mieee-fp -g -O2
  FORTRAN compiler:          g77  -g -O2
  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            yes
  R profiling support:       yes
  R as a shared library:     no

I really don't know what else I can do, gnome runs ok on this machine.

Should I just give up? There is no way to require that configure tells 
exactly what's missing?

Thanks

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


> On Tue, 22 Jan 2002, Luke Tierney wrote:
> 
> > You don't have tcltk either.  SuSE seems to not install devel support
> > for things like tcl or gnome even if you specify a devel system.  You
> > need to install tcl-devel to get tcl support and I think you need at
> > least gnome-core-devel libxml-devel libglade-devel esound-devel and
> > maybe also gnome-libs-devel to get gnome support.  With those
> > installed I build successfully on SuSE 7.3, but I don't know what else
> > I might have that you do not.
> > 
> > luke
> > 
> > 
> > 
> > On Tue, Jan 22, 2002 at 06:16:31PM +0100, Agustin Lobo wrote:
> > > 
> > > I'm the happy user of a new machine and
> > > I'm trying to compile R-1.4.0 on it
> > > (linux Suse 7.3 box).
> > > 
> > > After
> > > ./configure --with-gnome
> > > 
> > > I get the following configuration:
> > > 
> > > R is now configured for i686-pc-linux-gnu
> > > 
> > >   Source directory:          .
> > >   Installation directory:    /usr/local
> > >   C compiler:                gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
> > >   C++ compiler:              c++  -mieee-fp -g -O2
> > >   FORTRAN compiler:          g77  -g -O2
> > > 
> > >   X11 support:               yes
> > >   Gnome support:             no
> > >   Tcl/Tk support:            no
> > > 
> > >   R profiling support:       yes
> > >   R as a shared library:     no
> > > 
> > > configure: warning: you cannot build DVI versions of the R manuals
> > > configure: warning: you cannot build PDF versions of the R manuals
> > > 
> > > The warnings are because:
> > > checking for dvips...no
> > > (same for tex,latex,makeindex,pdftex,pdflatex)
> > > but this is not a concern now. I can do it later
> > > 
> > > Instead, I don't get gnome support despite the --with-gnome flag
> > > 
> > > And, worst, this is what I get from make check:
> > > 
> > > linux:/usr/local/R-1.4.0 # make check FORCE=FORCE
> > > make[1]: Entering directory `/usr/local/R-1.4.0/tests'
> > > make[2]: Entering directory `/usr/local/R-1.4.0/tests'
> > > make[3]: Entering directory `/usr/local/R-1.4.0/tests/Examples'
> > > make[4]: Entering directory `/usr/local/R-1.4.0/tests/Examples'
> > > make[4]: Leaving directory `/usr/local/R-1.4.0/tests/Examples'
> > > make[4]: Entering directory `/usr/local/R-1.4.0/tests/Examples'
> > > collecting examples for package `base' ...
> > > make[5]: Entering directory `/usr/local/R-1.4.0/src/library'
> > > /bin/sh: ../../bin/R: No such file or directory
> > > /bin/sh: ../../library/base/CONTENTS: No such file or directory
> > > cat: ../../library/*/CONTENTS: No such file or directory
> > > make[5]: *** [DOCS] Error 1
> > > make[5]: Leaving directory `/usr/local/R-1.4.0/src/library'
> > > file ../../library/base/R-ex cannot be opened at
> > > ../../share/perl/massage-Examples.pl line 84.
> > > make[4]: *** No rule to make target `../../bin/R.bin', needed by
> > > `base-Ex.Rout'.  Stop.
> > > make[4]: Leaving directory `/usr/local/R-1.4.0/tests/Examples'
> > > make[3]: *** [test-Examples] Error 2
> > > make[3]: Leaving directory `/usr/local/R-1.4.0/tests/Examples'
> > > make[2]: *** [test-Examples] Error 2
> > > make[2]: Leaving directory `/usr/local/R-1.4.0/tests'
> > > make[1]: *** [test-all-basics] Error 1
> > > make[1]: Leaving directory `/usr/local/R-1.4.0/tests'
> > > make: *** [check] Error 2
> > > 
> > > What's wrong? I've downloaded the tar file from two diferent mirrors
> > > with identical results.
> > > 
> > > Agus
> > > 
> > > Dr. Agustin Lobo
> > > Instituto de Ciencias de la Tierra (CSIC)
> > > Lluis Sole Sabaris s/n
> > > 08028 Barcelona SPAIN
> > > tel 34 93409 5410
> > > fax 34 93411 0012
> > > alobo at ija.csic.es
> > > 
> > > 
> > > 
> > > 
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > 
> > -- 
> > Luke Tierney
> > University of Minnesota                      Phone:           612-625-7843
> > School of Statistics                         Fax:             612-624-8868
> > 313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
> > Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
> > 
> 
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Thu Jan 24 12:04:02 2002
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Thu, 24 Jan 2002 12:04:02 +0100 (CET)
Subject: [R] problem driving R from Python
In-Reply-To: <20020124054852.D10171@jessie.research.bell-labs.com>
Message-ID: <Pine.LNX.4.33L2.0201241159470.11621-100000@localhost.localdomain>

On Thu, 24 Jan 2002, Duncan Temple Lang wrote:

> A quick guess would be that R was not built as a shared library.
> Specifically, does the file $R_HOME/bin/libR.so exist?
> If not, you can rebuild R with
>
>   cd $R_HOME
>   ./configure  --enable-R-shlib
>   make
>
> and then re-install RSPython.

That's it. That means also that all Mandrake and probably Red-Hat rpm's do
not build R as a shared library.

I think it might be a good idea to change the spec file to allow for that
- so at least this could be corrected for R 1.4.1

-- 
Michele Alzetta

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 24 12:26:22 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 24 Jan 2002 11:26:22 +0000 (GMT)
Subject: [R] problem driving R from Python
In-Reply-To: <Pine.LNX.4.33L2.0201241159470.11621-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.31.0201241123080.3328-100000@gannet.stats>

On Thu, 24 Jan 2002 mikalzet at libero.it wrote:

> On Thu, 24 Jan 2002, Duncan Temple Lang wrote:
>
> > A quick guess would be that R was not built as a shared library.
> > Specifically, does the file $R_HOME/bin/libR.so exist?
> > If not, you can rebuild R with
> >
> >   cd $R_HOME
> >   ./configure  --enable-R-shlib
> >   make
> >
> > and then re-install RSPython.
>
> That's it. That means also that all Mandrake and probably Red-Hat rpm's do
> not build R as a shared library.
>
> I think it might be a good idea to change the spec file to allow for that
> - so at least this could be corrected for R 1.4.1

If you do, you need to arrange to run the tests which show that it worked.
They are in tests/Embedding and not run by make check.

Also, this sets up all packages to be linked against libR.so, which may
not be desirable for the average user.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jan 24 12:25:23 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Jan 2002 12:25:23 +0100
Subject: [R] Re: coding factor replicates
In-Reply-To: <x2zo349hp6.fsf@blueberry.kubism.ku.dk>
References: <000f01c1a440$a2dfe950$5928d284@dmi.usherb.ca>
	<02012313520700.06334@sebring.ss.uci.edu>
	<3C4F3502.D553BA7D@statistik.uni-dortmund.de>
	<6r3d0w1y80.fsf@franz.stat.wisc.edu>
	<x2zo349hp6.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2r8og9ejg.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> Now we can do (breaks horribly if there's an empty factor level, though):
> 
> unsplit(lapply(table(f), seq)))

Oops, make that:

 unsplit(lapply(table(f), seq)), f)

> 
> and the within-group z-score from the other day would become
> 
> unsplit(tapply(x,f,scale),f)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jan 24 12:29:34 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Jan 2002 12:29:34 +0100
Subject: [R] R-gnome: no way to configure
In-Reply-To: <Pine.OSF.3.96.1020123192036.27374B-100000@ija.csic.es>
References: <Pine.OSF.3.96.1020123192036.27374B-100000@ija.csic.es>
Message-ID: <x2n0z49ecg.fsf@blueberry.kubism.ku.dk>

Agustin Lobo <alobo at ija.csic.es> writes:

> Hi!
> 
> I've been able to configure and make R (1,4,0 linux)
> except for the gnome support. I've checked all packages and libs mentioned
> in R-admin.pdf (and by Luke Tierny) to make sure that I have them and even
> using the following:
> 
> ./configure --with-gnome --with-gnome-includes=/opt/gnome/include
> --with-gnome-libs=/opt/gnome/lib --with-libglade-config=opt/gnome/lib
                                                          !!
Was that as typed? That might explain things.

> 
> I still get:
> 
> R is now configured for i686-pc-linux-gnu
>   Source directory:          .
>   Installation directory:    /usr/local
>   C compiler:                gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
>   C++ compiler:              c++  -mieee-fp -g -O2
>   FORTRAN compiler:          g77  -g -O2
>   X11 support:               yes
>   Gnome support:             no
>   Tcl/Tk support:            yes
>   R profiling support:       yes
>   R as a shared library:     no
> 
> I really don't know what else I can do, gnome runs ok on this machine.
> 
> Should I just give up? There is no way to require that configure tells 
> exactly what's missing?

Somewhere in the output from configure there should be a line saying
which test is failing, and config.log has the details. Don't forget to
remove config.cache, btw.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Jan 24 12:53:26 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 24 Jan 2002 12:53:26 +0100 (MET)
Subject: [R] R-gnome: no way to configure
In-Reply-To: <x2n0z49ecg.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.OSF.3.96.1020124124827.15195C-100000@ija.csic.es>


On 24 Jan 2002, Peter Dalgaard BSA wrote:

> > ./configure --with-gnome --with-gnome-includes=/opt/gnome/include
> > --with-gnome-libs=/opt/gnome/lib --with-libglade-config=opt/gnome/lib
>                                                           !!
> Was that as typed? That might explain things.
> 
Yes, thanks for pointing it,  but even correcting the missing "/" 
I get the same result.

The R-admin.pdf doc says 
"`--with-libglade-config=LIBGLADE CONFIG' specify location of
libglade-config "

I understand that it refers to the file

libgladeConf.sh

that I have under /opt/gnome/lib, but I'm not sure.

Thanks

Agus

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu Jan 24 12:56:08 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Thu, 24 Jan 2002 06:56:08 -0500
Subject: [R] aggregate, by tapply
In-Reply-To: <3C4FBE4B.28111.1BB71F@localhost>
References: <3C4FBE4B.28111.1BB71F@localhost>
Message-ID: <20020124065608.585adec4.fharrell@virginia.edu>

In the soon-to-be beta-released Hmisc library, you can do this with the summarize function (attached) in the following way:

summarize(cbind(y,weights), groups, function(x)g(x[,1],x[,2]))

I have attached code for summarize.  Also, Hmisc has several functions for weighted estimators. -Frank Harrell

On Thu, 24 Jan 2002 07:56:59 +0100
Petr Pikal <petr.pikal at precheza.cz> wrote:

> Dear R users
> 
> I searched some sources but i did not find an answer.Please give 
> me some hint to following problem.
> 
> I would like to compute a summary statistic for some vector for 
> different factor levels. I know I can use tapply or aggregate but I 
> do not know if there is a way how to use function with several 
> (two) variable input (like weighted.mean).
> 
> I wrote a simple a function for factor weighted mean
> fff<-function(x,fact,w)
> {
> ws<-tapply(w,fact,sum)
> newx<-x*w
> tapply(newx,fact,sum)/ws
> }
> 
> which can handle particular case but does exist some more general 
> solution how to use FUN(X1,X2) in aggregation procedures 
> (tapply, aggregate, by) directly?
> 
> Thank you
> Petr Pikal
> petr.pikal at precheza.cz
> p.pik at volny.cz
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: summarize.txt
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020124/fce89753/summarize.txt

From alobo at ija.csic.es  Thu Jan 24 13:31:47 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 24 Jan 2002 13:31:47 +0100 (MET)
Subject: [R] Renviron and Rprofile
Message-ID: <Pine.OSF.3.96.1020124132813.15195G-100000@ija.csic.es>


Regarding user's home and working directories,
is Rprofile just an old name of Renviron?
or (can) should we have both files with different type
of definitions?
(talking about R.1.4.0 in linux).

Thanks

Agus


Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Jan 24 13:39:10 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 24 Jan 2002 13:39:10 +0100 (MET)
Subject: [R] Arrow keys don't work in R
Message-ID: <Pine.OSF.3.96.1020124133236.15195H-100000@ija.csic.es>

Hi,

Besides the problem with gnome, I have now
a compiled version of R-1.4.0 that has the
same functionality than what I had from
an rpm installation, except that the arrow
keys (so useful to recover history and
edit lines) write garbage like:

^[[A^[[A^[[A^[[A

The keys work fine in both kde and xterm
windows outside R. I suspect this might be something to
specify in one of the Renviron files,
but don't have the ones created by the
rpm to compare.

By the way, the installation did not create
any Renviron.site file, is this a problem?

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 24 13:38:31 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 24 Jan 2002 12:38:31 +0000 (GMT)
Subject: [R] Renviron and Rprofile
In-Reply-To: <Pine.OSF.3.96.1020124132813.15195G-100000@ija.csic.es>
Message-ID: <Pine.GSO.4.31.0201241235300.5063-100000@toucan.stats>

On Thu, 24 Jan 2002, Agustin Lobo wrote:

>
> Regarding user's home and working directories,
> is Rprofile just an old name of Renviron?
> or (can) should we have both files with different type
> of definitions?
> (talking about R.1.4.0 in linux).

The files are .Rprofile and .Renviron, and the first has a help entry,
as does Rprofile.  Is something wrong with your help system?

.Renviron sets environment variables
.Rprofile contains R code.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jan 24 13:47:46 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 24 Jan 2002 13:47:46 +0100
Subject: [R] Renviron and Rprofile
References: <Pine.OSF.3.96.1020124132813.15195G-100000@ija.csic.es>
Message-ID: <3C500272.DC514EBC@statistik.uni-dortmund.de>



Agustin Lobo wrote:
> 
> Regarding user's home and working directories,
> is Rprofile just an old name of Renviron?
> or (can) should we have both files with different type
> of definitions?
> (talking about R.1.4.0 in linux).


Cp. Appendix B.1 "Invoking R under UNIX" in "An Introduction to R"

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jan 24 13:50:40 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 24 Jan 2002 13:50:40 +0100
Subject: [R] Arrow keys don't work in R
References: <Pine.OSF.3.96.1020124133236.15195H-100000@ija.csic.es>
Message-ID: <3C500320.3AEA25FB@statistik.uni-dortmund.de>



Agustin Lobo wrote:
> 
> Hi,
> 
> Besides the problem with gnome, I have now
> a compiled version of R-1.4.0 that has the
> same functionality than what I had from
> an rpm installation, except that the arrow
> keys (so useful to recover history and
> edit lines) write garbage like:
> 
> ^[[A^[[A^[[A^[[A
> 
> The keys work fine in both kde and xterm
> windows outside R. I suspect this might be something to
> specify in one of the Renviron files,
> but don't have the ones created by the
> rpm to compare.
> 
> By the way, the installation did not create
> any Renviron.site file, is this a problem?


It's not the Renviron.site file (you can create it manually, if you need
it). 
Looks like the readline library is not installed or was not linked
during the installation process.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hedderich at medinfo.uni-kiel.de  Thu Jan 24 13:57:58 2002
From: hedderich at medinfo.uni-kiel.de (Juergen Hedderich)
Date: Thu, 24 Jan 2002 13:57:58 +0100
Subject: [R] general minimisation function
Message-ID: <3C5004D5.5D13F4A@medinfo.uni-kiel.de>


Dear R users,

I am searching for a general minimisaton function like 'ms' in R.

Please give me a hint!


-- 
------------------------------------------------------------
     Dipl. Inform. J. Hedderich       
Institut f?r Medizinische Informatik  
und Statistik im Klinikum an der CAU  
                                        Phone : 0431/5973182
Brunswiker Str. 10                      Fax   : 0431/5973193
24105 Kiel              E-mail:hedderich at medinfo.uni-kiel.de
------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jan 24 14:11:33 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Jan 2002 14:11:33 +0100
Subject: [R] general minimisation function
In-Reply-To: <3C5004D5.5D13F4A@medinfo.uni-kiel.de>
References: <3C5004D5.5D13F4A@medinfo.uni-kiel.de>
Message-ID: <x2d6zzao6y.fsf@blueberry.kubism.ku.dk>

Juergen Hedderich <hedderich at medinfo.uni-kiel.de> writes:

> Dear R users,
> 
> I am searching for a general minimisaton function like 'ms' in R.
> 
> Please give me a hint!

optim()

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Jan 24 14:42:37 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 24 Jan 2002 14:42:37 +0100 (MET)
Subject: [R] Renviron and Rprofile
In-Reply-To: <Pine.GSO.4.31.0201241235300.5063-100000@toucan.stats>
Message-ID: <Pine.OSF.3.96.1020124142020.15195I-100000@ija.csic.es>

On Thu, 24 Jan 2002, Prof Brian Ripley wrote:

> The files are .Rprofile and .Renviron, and the first has a help entry,
> as does Rprofile.  Is something wrong with your help system?
> 
> .Renviron sets environment variables
> .Rprofile contains R code.
> 

The same problem than anybody else: ?Rprofile gives details on the order
of execution of both .Renviron and .Rprofile, but not the simple,
plain information that you provide in your message. Also, it
would be useful providing an example of user
.Rprofile,
as  R-1.4.0/etc/Rprofile warns that 
"it is a bad idea to use this file as a template for
 personal startup files,".

(information in R-intro.pdf is similar to
the one in ?Rprofile, but obsolete as R-1.4.0
follows a different order. According to NEWS, the
doc in  `Writing R Extensions' has been updated,
but not R-intro.pdf)

(As quite often happens in R, perhaps all the required 
information is there,
but sometimes the jargon and the jungle of other
information makes it very hard
to get to what the user is searching). 

Thanks

Agus


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Thu Jan 24 14:38:54 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu, 24 Jan 2002 08:38:54 -0500
Subject: [R] Arrow keys don't work in R
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8500@usrymx10.merck.com>

The readline-dev package need to be installed.  As Peter pointed out
earlier, check the config.log to see why readline is not found.

Andy

> -----Original Message-----
> From: Uwe Ligges [mailto:ligges at statistik.uni-dortmund.de]
> Sent: Thursday, January 24, 2002 7:51 AM
> To: Agustin Lobo
> Cc: r-help
> Subject: Re: [R] Arrow keys don't work in R
> 
> 
> 
> 
> Agustin Lobo wrote:
> > 
> > Hi,
> > 
> > Besides the problem with gnome, I have now
> > a compiled version of R-1.4.0 that has the
> > same functionality than what I had from
> > an rpm installation, except that the arrow
> > keys (so useful to recover history and
> > edit lines) write garbage like:
> > 
> > ^[[A^[[A^[[A^[[A
> > 
> > The keys work fine in both kde and xterm
> > windows outside R. I suspect this might be something to
> > specify in one of the Renviron files,
> > but don't have the ones created by the
> > rpm to compare.
> > 
> > By the way, the installation did not create
> > any Renviron.site file, is this a problem?
> 
> 
> It's not the Renviron.site file (you can create it manually, 
> if you need
> it). 
> Looks like the readline library is not installed or was not linked
> during the installation process.
> 
> Uwe Ligges
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Thu Jan 24 14:50:28 2002
From: plummer at iarc.fr (Martyn Plummer)
Date: Thu, 24 Jan 2002 14:50:28 +0100 (CET)
Subject: [R] R-gnome: no way to configure
In-Reply-To: <Pine.OSF.3.96.1020124124827.15195C-100000@ija.csic.es>
Message-ID: <XFMail.20020124145028.plummer@iarc.fr>

On 24-Jan-2002 Agustin Lobo wrote:
> 
> On 24 Jan 2002, Peter Dalgaard BSA wrote:
> 
>> > ./configure --with-gnome --with-gnome-includes=/opt/gnome/include
>> > --with-gnome-libs=/opt/gnome/lib --with-libglade-config=opt/gnome/lib
>>                                                           !!
>> Was that as typed? That might explain things.
>> 
> Yes, thanks for pointing it,  but even correcting the missing "/" 
> I get the same result.
> 
> The R-admin.pdf doc says 
> "`--with-libglade-config=LIBGLADE CONFIG' specify location of
> libglade-config "
> 
> I understand that it refers to the file
> 
> libgladeConf.sh
> 
> that I have under /opt/gnome/lib, but I'm not sure.

No it doesn't.  It refers to the shell script "libglade-config"
which comes with the libglade package.  On Red Hat systems, this
is included in the package libglade-devel, so on Debian I would
guess you need libglade-dev.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at stat.umn.edu  Thu Jan 24 14:51:30 2002
From: luke at stat.umn.edu (Luke Tierney)
Date: Thu, 24 Jan 2002 07:51:30 -0600
Subject: [R] Re: R-gnome: no way to configure
In-Reply-To: <Pine.OSF.3.96.1020123192036.27374B-100000@ija.csic.es>; from alobo@ija.csic.es on Thu, Jan 24, 2002 at 12:04:54PM +0100
References: <Pine.OSF.3.96.1020122194200.1430B-100000@ija.csic.es> <Pine.OSF.3.96.1020123192036.27374B-100000@ija.csic.es>
Message-ID: <20020124075130.A5819@nokomis.stat.umn.edu>

I was able to configure on SuSE 7.3 with just

	./configure --with-gnome

so I would guess that you don't have all the devel rpm's you need yet.
Look at config.log and see if that helps; remove the cache before you
re-run configure just to be sure; and save or pipe configure's output
so you can look at it and see if that helps. If you're seeing a
problem with glade, check if you have /usr/bin/libglade-config; if you
don't you need the libglade-devel rpm.  If that doesn't help I can
send you a list of the rpm's that are installed on my box and you can
compare to yours and look for likely suspects.

luke

On Thu, Jan 24, 2002 at 12:04:54PM +0100, Agustin Lobo wrote:
> 
> Hi!
> 
> I've been able to configure and make R (1,4,0 linux)
> except for the gnome support. I've checked all packages and libs mentioned
> in R-admin.pdf (and by Luke Tierny) to make sure that I have them and even
> using the following:
> 
> ./configure --with-gnome --with-gnome-includes=/opt/gnome/include
> --with-gnome-libs=/opt/gnome/lib --with-libglade-config=opt/gnome/lib
> 
> I still get:
> 
> R is now configured for i686-pc-linux-gnu
>   Source directory:          .
>   Installation directory:    /usr/local
>   C compiler:                gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
>   C++ compiler:              c++  -mieee-fp -g -O2
>   FORTRAN compiler:          g77  -g -O2
>   X11 support:               yes
>   Gnome support:             no
>   Tcl/Tk support:            yes
>   R profiling support:       yes
>   R as a shared library:     no
> 
> I really don't know what else I can do, gnome runs ok on this machine.
> 
> Should I just give up? There is no way to require that configure tells 
> exactly what's missing?
> 
> Thanks
> 
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
> 
> 
> > On Tue, 22 Jan 2002, Luke Tierney wrote:
> > 
> > > You don't have tcltk either.  SuSE seems to not install devel support
> > > for things like tcl or gnome even if you specify a devel system.  You
> > > need to install tcl-devel to get tcl support and I think you need at
> > > least gnome-core-devel libxml-devel libglade-devel esound-devel and
> > > maybe also gnome-libs-devel to get gnome support.  With those
> > > installed I build successfully on SuSE 7.3, but I don't know what else
> > > I might have that you do not.
> > > 
> > > luke
> > > 
> > > 
> > > 
> > > On Tue, Jan 22, 2002 at 06:16:31PM +0100, Agustin Lobo wrote:
> > > > 
> > > > I'm the happy user of a new machine and
> > > > I'm trying to compile R-1.4.0 on it
> > > > (linux Suse 7.3 box).
> > > > 
> > > > After
> > > > ./configure --with-gnome
> > > > 
> > > > I get the following configuration:
> > > > 
> > > > R is now configured for i686-pc-linux-gnu
> > > > 
> > > >   Source directory:          .
> > > >   Installation directory:    /usr/local
> > > >   C compiler:                gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
> > > >   C++ compiler:              c++  -mieee-fp -g -O2
> > > >   FORTRAN compiler:          g77  -g -O2
> > > > 
> > > >   X11 support:               yes
> > > >   Gnome support:             no
> > > >   Tcl/Tk support:            no
> > > > 
> > > >   R profiling support:       yes
> > > >   R as a shared library:     no
> > > > 
> > > > configure: warning: you cannot build DVI versions of the R manuals
> > > > configure: warning: you cannot build PDF versions of the R manuals
> > > > 
> > > > The warnings are because:
> > > > checking for dvips...no
> > > > (same for tex,latex,makeindex,pdftex,pdflatex)
> > > > but this is not a concern now. I can do it later
> > > > 
> > > > Instead, I don't get gnome support despite the --with-gnome flag
> > > > 
> > > > And, worst, this is what I get from make check:
> > > > 
> > > > linux:/usr/local/R-1.4.0 # make check FORCE=FORCE
> > > > make[1]: Entering directory `/usr/local/R-1.4.0/tests'
> > > > make[2]: Entering directory `/usr/local/R-1.4.0/tests'
> > > > make[3]: Entering directory `/usr/local/R-1.4.0/tests/Examples'
> > > > make[4]: Entering directory `/usr/local/R-1.4.0/tests/Examples'
> > > > make[4]: Leaving directory `/usr/local/R-1.4.0/tests/Examples'
> > > > make[4]: Entering directory `/usr/local/R-1.4.0/tests/Examples'
> > > > collecting examples for package `base' ...
> > > > make[5]: Entering directory `/usr/local/R-1.4.0/src/library'
> > > > /bin/sh: ../../bin/R: No such file or directory
> > > > /bin/sh: ../../library/base/CONTENTS: No such file or directory
> > > > cat: ../../library/*/CONTENTS: No such file or directory
> > > > make[5]: *** [DOCS] Error 1
> > > > make[5]: Leaving directory `/usr/local/R-1.4.0/src/library'
> > > > file ../../library/base/R-ex cannot be opened at
> > > > ../../share/perl/massage-Examples.pl line 84.
> > > > make[4]: *** No rule to make target `../../bin/R.bin', needed by
> > > > `base-Ex.Rout'.  Stop.
> > > > make[4]: Leaving directory `/usr/local/R-1.4.0/tests/Examples'
> > > > make[3]: *** [test-Examples] Error 2
> > > > make[3]: Leaving directory `/usr/local/R-1.4.0/tests/Examples'
> > > > make[2]: *** [test-Examples] Error 2
> > > > make[2]: Leaving directory `/usr/local/R-1.4.0/tests'
> > > > make[1]: *** [test-all-basics] Error 1
> > > > make[1]: Leaving directory `/usr/local/R-1.4.0/tests'
> > > > make: *** [check] Error 2
> > > > 
> > > > What's wrong? I've downloaded the tar file from two diferent mirrors
> > > > with identical results.
> > > > 
> > > > Agus
> > > > 
> > > > Dr. Agustin Lobo
> > > > Instituto de Ciencias de la Tierra (CSIC)
> > > > Lluis Sole Sabaris s/n
> > > > 08028 Barcelona SPAIN
> > > > tel 34 93409 5410
> > > > fax 34 93411 0012
> > > > alobo at ija.csic.es
> > > > 
> > > > 
> > > > 
> > > > 
> > > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > > Send "info", "help", or "[un]subscribe"
> > > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > > 
> > > -- 
> > > Luke Tierney
> > > University of Minnesota                      Phone:           612-625-7843
> > > School of Statistics                         Fax:             612-624-8868
> > > 313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
> > > Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
> > > 
> > 
> > 
> 
> 

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ginter at cs.utu.fi  Thu Jan 24 14:57:21 2002
From: ginter at cs.utu.fi (Filip Ginter)
Date: Thu, 24 Jan 2002 15:57:21 +0200
Subject: [R] Data input performance
Message-ID: <20020124140029.E8C2553865@purkki.cs.utu.fi>

Dear list,

I'm brand new to R (started using it few days ago...), so sorry for possibly 
stupid question.

Anyways, I'm using R to cluster my data. I do have the dissimilarity matrix 
as a text file, numbers separated by space. It's at its best something like 
2300x2300 matrix.

Now, it seems to me, that the process of importing the matrix into R is 
rather slow. For the peak size of 2300x2300 it takes almost two hours. The 
clustering itself takes a minimum of time when compared to importing the 
data. I have 256MB memory, 900MHz processor PC, Linux (RH7.1). The version of 
R is "Version 1.4.0  (2001-12-19)"

I have tried to follow all the recomendations I found in the documentation, 
so I do something like this: (The file consists of 2300 rows, each containing 
2300 real numbers, separated by space. Nothing else.)

__________________________

library(cluster)
CC<-c("numeric")
T1<-read.table("matrix",nrows=2300,colClasses=CC)
T2<-as.dist(T1)
rm(T1)
T3<-agnes(T2,diss=TRUE)
write.table(T3$merge,file=outfile,quote=FALSE)

___________________________

The CC vector contains the "numeric" only once, as I read that the values are 
"recycled"...

So, is there any room for improvement? Any way to make the data import 
quicker?

Thanks a lot.

Best regards,

Filip

-- 

-----------------------------------------------------------------
Filip Ginter
Ph.D. student

Email: ginter at cs.utu.fi
Phone: +358-2-2154078
Office: 4122, 4th floor
ICQ: 146959496

Turku Centre for Computer Science
Lemmink?isenkatu 14A
20520 Turku
Finland

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Thu Jan 24 15:11:55 2002
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Thu, 24 Jan 2002 15:11:55 +0100 (CET)
Subject: [R] problem driving R from Python
In-Reply-To: <Pine.LNX.4.31.0201241123080.3328-100000@gannet.stats>
Message-ID: <Pine.LNX.4.33L2.0201241510260.15794-100000@localhost.localdomain>

On Thu, 24 Jan 2002, Prof Brian Ripley wrote:

> If you do, you need to arrange to run the tests which show that it worked.
> They are in tests/Embedding and not run by make check.
>
> Also, this sets up all packages to be linked against libR.so, which may
> not be desirable for the average user.

In that case better we leave things as they are. It would be sufficient
that information on building are as a shared library be included in the
RSpython package.

-- 
Michele Alzetta

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 24 15:12:13 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 24 Jan 2002 14:12:13 +0000 (GMT)
Subject: [R] Data input performance
In-Reply-To: <20020124140029.E8C2553865@purkki.cs.utu.fi>
Message-ID: <Pine.LNX.4.31.0201241401050.4027-100000@gannet.stats>

There is an extra problem with R 1.4.0 (only), but this would always be
slow. You are trying to read in a numeric matrix, but read.table is
designed to read in a data frame, for which each of the 2300 columns could
be a different type, so lots of housekeeping is inevitable.

I think you need

T2 <- as.dist(matrix(scan("matrix"), 2300, 2300, byrow=T)))

and if the matrix is symmetric you can omit `byrow=T'.

(One recommendation you missed was

     Using `comment.char = ""' will be appreciably faster.

)

Even so, processing 5 million text strings to form a 40Mb object will not
be instant: you would do better to write a binary file and read it with
readBin.  You could also write only one triangle of the matrix if it is
symmetric.

On Thu, 24 Jan 2002, Filip Ginter wrote:

> Dear list,
>
> I'm brand new to R (started using it few days ago...), so sorry for possibly
> stupid question.
>
> Anyways, I'm using R to cluster my data. I do have the dissimilarity matrix
> as a text file, numbers separated by space. It's at its best something like
> 2300x2300 matrix.
>
> Now, it seems to me, that the process of importing the matrix into R is
> rather slow. For the peak size of 2300x2300 it takes almost two hours. The
> clustering itself takes a minimum of time when compared to importing the
> data. I have 256MB memory, 900MHz processor PC, Linux (RH7.1). The version of
> R is "Version 1.4.0  (2001-12-19)"
>
> I have tried to follow all the recomendations I found in the documentation,
> so I do something like this: (The file consists of 2300 rows, each containing
> 2300 real numbers, separated by space. Nothing else.)
>
> __________________________
>
> library(cluster)
> CC<-c("numeric")
> T1<-read.table("matrix",nrows=2300,colClasses=CC)
> T2<-as.dist(T1)
> rm(T1)
> T3<-agnes(T2,diss=TRUE)
> write.table(T3$merge,file=outfile,quote=FALSE)
>
> ___________________________
>
> The CC vector contains the "numeric" only once, as I read that the values are
> "recycled"...
>
> So, is there any room for improvement? Any way to make the data import
> quicker?
>
> Thanks a lot.
>
> Best regards,
>
> Filip
>
> --
>
> -----------------------------------------------------------------
> Filip Ginter
> Ph.D. student
>
> Email: ginter at cs.utu.fi
> Phone: +358-2-2154078
> Office: 4122, 4th floor
> ICQ: 146959496
>
> Turku Centre for Computer Science
> Lemminkisenkatu 14A
> 20520 Turku
> Finland
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amurta at ipimar.pt  Thu Jan 24 15:01:37 2002
From: amurta at ipimar.pt (Alberto Murta)
Date: Thu, 24 Jan 2002 14:01:37 +0000
Subject: [R] Arrow keys don't work in R
References: <Pine.OSF.3.96.1020124133236.15195H-100000@ija.csic.es> <3C500320.3AEA25FB@statistik.uni-dortmund.de>
Message-ID: <3C5013C1.8AC9FF0F@ipimar.pt>

Uwe Ligges wrote:
> 
> Agustin Lobo wrote:
> >
> > Hi,
> >
> > Besides the problem with gnome, I have now
> > a compiled version of R-1.4.0 that has the
> > same functionality than what I had from
> > an rpm installation, except that the arrow
> > keys (so useful to recover history and
> > edit lines) write garbage like:
> >
> > ^[[A^[[A^[[A^[[A
> >
> > The keys work fine in both kde and xterm
> > windows outside R. I suspect this might be something to
> > specify in one of the Renviron files,
> > but don't have the ones created by the
> > rpm to compare.
> >
> > By the way, the installation did not create
> > any Renviron.site file, is this a problem?
> 
> It's not the Renviron.site file (you can create it manually, if you need
> it).
> Looks like the readline library is not installed or was not linked
> during the installation process.
> 

If your Linux is from a recent SuSE distribution you must compile R with
both 'ncurses' and 'ncurses-devel' packages installed.


-- 
                           Alberto G. Murta                      
           IPIMAR - Institute of Fisheries and Sea Research
            Avenida de Brasilia, 1449-006 Lisboa, Portugal       
Tel:+351 213027062; Fax:+351 213015849; http://www.ipimar.pt/pelagicos/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Thu Jan 24 16:05:11 2002
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Thu, 24 Jan 2002 16:05:11 +0100
Subject: [R] aggregate, by, tapply bug or not? 
In-Reply-To: <Pine.OSF.3.96.1020124115145.15195A-100000@ija.csic.es>
References: <3C4FBE4B.28111.1BB71F@localhost>
Message-ID: <3C5030B7.31076.1DAAC73@localhost>

On 24 Jan 2002 at 11:54, Agustin Lobo wrote:

> 
> In the case of *apply functions, the paramenters follow
> the name of the function. I.e., if you want to compute a mean
> with na.rm=T(which for one single vector would be
> mean(mivector,na.rm=T), then
> 
> apply(mat,1,mean,na.rm=T)
> 
> Agus
> 


Thanks to all.

Actually this works for mean, sum, var, sd with na.rm=T. My problem is with 
weighted.mean It works as standalone function, but inside any aggregation 
function it causes warning and it ***does not compute correctly***.

> weighted.mean(lll[rrr==2001],ttt[rrr==2001])
[1] -0.9257375

> tapply(lll,rrr,weighted.mean,ttt)
      1997       1998       1999       2000       2001 
-0.4495764 -0.4956762 -0.4920173 -0.9416626 -0.9455542 
Warning messages: 
1: longer object length
        is not a multiple of shorter object length in: x * w 
<snip>
5: longer object length
        is not a multiple of shorter object length in: x * w 

I traced the problem to ***lapply*** (probably the workhorse for all aggregate 
functions - see the enclosed code)

> lapply(split(lll,rrr),weighted.mean,ttt)

$"1997"
[1] -0.4495764

<snip>
$"2001"
[1] -0.9455542

Warning messages: 
1: longer object length
        is not a multiple of shorter object length in: x * w 
<snip>
5: longer object length
        is not a multiple of shorter object length in: x * w



I used a modified wersion of weighted.mean which works alone

> weighted.mean.modif(lll[rrr==2001],ttt[rrr==2001])
[1] -0.9257375

weighted.mean.modif_function (x, w) 
{
    if (missing(w)) 
        w <- rep(1, length(x))

{	i <- complete.cases(x,w)
        	w <- w[i]
        	x <- x[i]
    }
sw <-sum(w)
    sum(x * w)/sw
}

but using it in any aggregate function causes error and debugging does not show 
me any hints.

> tapply(lll,rrr,weighted.mean,ttt)
Error in complete.cases(...) : not all arguments have the same length

debug: rval <- .Internal(lapply(X, FUN))
Browse[1]> 
Error in complete.cases(...) : not all arguments have the same length

and this is completely beyond my ability to solve it.
 
I use R 1.4.0 Windows version,

lll is some property of a product
rrr are years
ttt is tonage of the product

they are all the same length (226) but the length varies from year to year 

> tapply(lll,rrr,length)
1997 1998 1999 2000 2001 
  48   51   40   42   45

Please if anybody can tell me where is the mistake.



> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
> 
> 
> On Thu, 24 Jan 2002, Petr Pikal wrote:
> 
> > Dear R users
> > 
> > I searched some sources but i did not find an answer.Please give me
> > some hint to following problem.
> > 
> > I would like to compute a summary statistic for some vector for
> > different factor levels. I know I can use tapply or aggregate but I
> > do not know if there is a way how to use function with several (two)
> > variable input (like weighted.mean).
> > 
> > I wrote a simple a function for factor weighted mean
> > fff<-function(x,fact,w)
> > {
> > ws<-tapply(w,fact,sum)
> > newx<-x*w
> > tapply(newx,fact,sum)/ws
> > }
> > 
> > which can handle particular case but does exist some more general
> > solution how to use FUN(X1,X2) in aggregation procedures (tapply,
> > aggregate, by) directly?
> > 
> > Thank you
> > Petr Pikal
> > petr.pikal at precheza.cz
> > p.pik at volny.cz
> > 
> > 
Petr Pikal
petr.pikal at precheza.cz
p.pik at volny.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From schultz at fig.cox.miami.edu  Thu Jan 24 16:34:40 2002
From: schultz at fig.cox.miami.edu (Stewart Schultz)
Date: Thu, 24 Jan 2002 10:34:40 -0500
Subject: [R] MANOVA extension of paired t-test?
Message-ID: <l03102809b875d9be76dc@[129.171.42.223]>

Just a quick followup question: is it true that although manova() performs
multivariate two-sample t-tests, it currently does not perform multivariate
one-sample t-tests?

-S. Schultz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 24 16:16:00 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 24 Jan 2002 15:16:00 +0000 (GMT)
Subject: [R] aggregate, by, tapply bug or not? 
In-Reply-To: <3C5030B7.31076.1DAAC73@localhost>
Message-ID: <Pine.GSO.4.31.0201241509420.5775-100000@auk.stats>

Ah, now it is clearer what you want to do.  You want to subset the weights
vector for each group.

There's no problem in lapply, it's just not clear what you wanted. Try,
if I understand your meaningless notation,

tapply(seq(along=lll), rrr, function(i, x, w) weighted.mean(x[i], w[i]),
       x=lll, w=ttt)

If you want to subset more than one thing, subset the index vector.


On Thu, 24 Jan 2002, Petr Pikal wrote:

> On 24 Jan 2002 at 11:54, Agustin Lobo wrote:
>
> >
> > In the case of *apply functions, the paramenters follow
> > the name of the function. I.e., if you want to compute a mean
> > with na.rm=T(which for one single vector would be
> > mean(mivector,na.rm=T), then
> >
> > apply(mat,1,mean,na.rm=T)
> >
> > Agus
> >
>
>
> Thanks to all.
>
> Actually this works for mean, sum, var, sd with na.rm=T. My problem is with
> weighted.mean It works as standalone function, but inside any aggregation
> function it causes warning and it ***does not compute correctly***.
>
> > weighted.mean(lll[rrr==2001],ttt[rrr==2001])
> [1] -0.9257375
>
> > tapply(lll,rrr,weighted.mean,ttt)
>       1997       1998       1999       2000       2001
> -0.4495764 -0.4956762 -0.4920173 -0.9416626 -0.9455542
> Warning messages:
> 1: longer object length
>         is not a multiple of shorter object length in: x * w
> <snip>
> 5: longer object length
>         is not a multiple of shorter object length in: x * w
>
> I traced the problem to ***lapply*** (probably the workhorse for all aggregate
> functions - see the enclosed code)
>
> > lapply(split(lll,rrr),weighted.mean,ttt)
>
> $"1997"
> [1] -0.4495764
>
> <snip>
> $"2001"
> [1] -0.9455542
>
> Warning messages:
> 1: longer object length
>         is not a multiple of shorter object length in: x * w
> <snip>
> 5: longer object length
>         is not a multiple of shorter object length in: x * w
>
>
>
> I used a modified wersion of weighted.mean which works alone
>
> > weighted.mean.modif(lll[rrr==2001],ttt[rrr==2001])
> [1] -0.9257375
>
> weighted.mean.modif_function (x, w)
> {
>     if (missing(w))
>         w <- rep(1, length(x))
>
> {	i <- complete.cases(x,w)
>         	w <- w[i]
>         	x <- x[i]
>     }
> sw <-sum(w)
>     sum(x * w)/sw
> }
>
> but using it in any aggregate function causes error and debugging does not show
> me any hints.
>
> > tapply(lll,rrr,weighted.mean,ttt)
> Error in complete.cases(...) : not all arguments have the same length
>
> debug: rval <- .Internal(lapply(X, FUN))
> Browse[1]>
> Error in complete.cases(...) : not all arguments have the same length
>
> and this is completely beyond my ability to solve it.
>
> I use R 1.4.0 Windows version,
>
> lll is some property of a product
> rrr are years
> ttt is tonage of the product
>
> they are all the same length (226) but the length varies from year to year
>
> > tapply(lll,rrr,length)
> 1997 1998 1999 2000 2001
>   48   51   40   42   45
>
> Please if anybody can tell me where is the mistake.
>
>
>
> > Dr. Agustin Lobo
> > Instituto de Ciencias de la Tierra (CSIC)
> > Lluis Sole Sabaris s/n
> > 08028 Barcelona SPAIN
> > tel 34 93409 5410
> > fax 34 93411 0012
> > alobo at ija.csic.es
> >
> >
> > On Thu, 24 Jan 2002, Petr Pikal wrote:
> >
> > > Dear R users
> > >
> > > I searched some sources but i did not find an answer.Please give me
> > > some hint to following problem.
> > >
> > > I would like to compute a summary statistic for some vector for
> > > different factor levels. I know I can use tapply or aggregate but I
> > > do not know if there is a way how to use function with several (two)
> > > variable input (like weighted.mean).
> > >
> > > I wrote a simple a function for factor weighted mean
> > > fff<-function(x,fact,w)
> > > {
> > > ws<-tapply(w,fact,sum)
> > > newx<-x*w
> > > tapply(newx,fact,sum)/ws
> > > }
> > >
> > > which can handle particular case but does exist some more general
> > > solution how to use FUN(X1,X2) in aggregation procedures (tapply,
> > > aggregate, by) directly?
> > >
> > > Thank you
> > > Petr Pikal
> > > petr.pikal at precheza.cz
> > > p.pik at volny.cz
> > >
> > >
> Petr Pikal
> petr.pikal at precheza.cz
> p.pik at volny.cz
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 24 16:25:45 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 24 Jan 2002 15:25:45 +0000 (GMT)
Subject: [R] MANOVA extension of paired t-test?
In-Reply-To: <l03102809b875d9be76dc@[129.171.42.223]>
Message-ID: <Pine.GSO.4.31.0201241516280.5775-100000@auk.stats>

On Thu, 24 Jan 2002, Stewart Schultz wrote:

> Just a quick followup question: is it true that although manova() performs
> multivariate two-sample t-tests, it currently does not perform multivariate
> one-sample t-tests?

It's not true, indeed false in almost every detail.  manova performs no
tests at all.  summary.manova uses multivariate tests in an ANOVA table,
but they are not t-tests and there is an experimental design, not one or
two samples.

I am at loss as to what you meant!  If you want to test the overall mean
vector in such a design, you can do so by specifying intercept=TRUE in
summary.manova.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Thu Jan 24 16:32:37 2002
From: siim at obs.ee (Ott Toomet)
Date: Thu, 24 Jan 2002 16:32:37 +0100 (CET)
Subject: [R] general minimisation function
In-Reply-To: <3C5004D5.5D13F4A@medinfo.uni-kiel.de>
Message-ID: <Pine.LNX.4.33.0201241631340.2050-100000@localhost.localdomain>

What is 'ms'?

look at nlm() and optim().

best wishes,

Ott Toomet


On Thu, 24 Jan 2002, Juergen Hedderich wrote:

>
> Dear R users,
>
> I am searching for a general minimisaton function like 'ms' in R.
>
> Please give me a hint!
>
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From turk at gauss.math.montana.edu  Thu Jan 24 16:31:57 2002
From: turk at gauss.math.montana.edu (Philip Turk)
Date: Thu, 24 Jan 2002 08:31:57 -0700 (MST)
Subject: [R] Simulation of a particular type of population
Message-ID: <Pine.GSO.4.33.0201240830150.3236-100000@gauss.math.montana.edu>



Does anyone have any R code or suggestions on how to generate a population
that follows a Neyman-Scott process?  More specifically, I'd like to
randomly generate both the parents and the children from Poisson
distributions and the children locations from a bivariate normal onto an
N by N grid.  If the locations spill over outside the grid, then I'd like
to reflect those locations back into the grid.  Thanks for any advice.

Phil Turk

Department of                   ____________
Mathematical Sciences          |            |           phone: (406)994-5362
2-226 Wilson Hall               \   BZM, MT |           FAX:   (406)994-1789
Montana State University         |  *_______|
Bozeman, MT 59717                 \_|          e-mail: turk at math.montana.edu




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From schultz at fig.cox.miami.edu  Thu Jan 24 17:15:49 2002
From: schultz at fig.cox.miami.edu (Stewart Schultz)
Date: Thu, 24 Jan 2002 11:15:49 -0500
Subject: [R] MANOVA extension of paired t-test?
Message-ID: <l0310280cb875e28586cd@[129.171.42.223]>

>It's not true, indeed false in almost every detail.  manova performs no
>tests at all.  summary.manova uses multivariate tests in an ANOVA table,
>but they are not t-tests and there is an experimental design, not one or
>two samples.
>
>I am at loss as to what you meant!  If you want to test the overall mean
>vector in such a design, you can do so by specifying intercept=TRUE in
>summary.manova.

What is the original manova() statement in such a case?  In other words,
one has several variables, and the desire is to test whether the mean of
each is zero (the "treatment" has been subsumed by the definition of the
variable, which is a before-after difference).  manova(Y~rep(0,nrow(Y))) is
the intuitive choice, but doesn't work.
-S. Schultz


>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Thu Jan 24 16:54:05 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Thu, 24 Jan 2002 10:54:05 -0500
Subject: [R] Re: coding factor replicates
In-Reply-To: <3368857@toto.iv>
Message-ID: <15440.11805.744616.833328@gargle.gargle.HOWL>

Brad Buchsbaum <brad at aris.ss.uci.edu> has a factor:
  R> f <- factor(c("A","B","C","B","C","A","C","B","A","A","B"))
and wants to create a vector (same length as f) to indicate trial number:
  1 1 1 2 2 2 3 3 3 4 4

Here's a 2-line solution, done with matrices and cumsum():
  R> m <- outer(f, unique(f), "==")
  R> apply(m * apply(m, 2, cumsum), 1, sum)
     [1] 1 1 1 2 2 2 3 3 3 4 4

With package "colSums" loaded, the second line could use rowSums() instead.
Is that "swish"?
-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 24 17:01:08 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 24 Jan 2002 16:01:08 +0000 (GMT)
Subject: [R] MANOVA extension of paired t-test?
In-Reply-To: <l0310280cb875e28586cd@[129.171.42.223]>
Message-ID: <Pine.LNX.4.31.0201241559200.8126-100000@gannet.stats>

On Thu, 24 Jan 2002, Stewart Schultz wrote:

> >It's not true, indeed false in almost every detail.  manova performs no
> >tests at all.  summary.manova uses multivariate tests in an ANOVA table,
> >but they are not t-tests and there is an experimental design, not one or
> >two samples.
> >
> >I am at loss as to what you meant!  If you want to test the overall mean
> >vector in such a design, you can do so by specifying intercept=TRUE in
> >summary.manova.
>
> What is the original manova() statement in such a case?  In other words,
> one has several variables, and the desire is to test whether the mean of
> each is zero (the "treatment" has been subsumed by the definition of the
> variable, which is a before-after difference).  manova(Y~rep(0,nrow(Y))) is
> the intuitive choice, but doesn't work.

manova(Y ~ 1) specifies an overall mean, if that is what you want.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dechwang at yahoo.co.uk  Thu Jan 24 17:08:29 2002
From: dechwang at yahoo.co.uk (=?iso-8859-1?q?dechao=20wang?=)
Date: Thu, 24 Jan 2002 16:08:29 +0000 (GMT)
Subject: [R] anova results?
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC8500@usrymx10.merck.com>
Message-ID: <20020124160829.28611.qmail@web20610.mail.yahoo.com>

Dear R users,

I did 16 experiments, with 16 responses (yield), and 4
factors(hidden, theres, lrate, cycl) with each having
2 levels as shown below. I want to do analysis of
variance to see which factor affect the response. The
coses are as follows: 


hidden<-c(2,2,10,10,2,2,10,10,2,2,10,10,2,2,10,10)
theres<-c(0.0001, 0.1, 0.0001, 0.1, 0.0001, 0.1,
0.0001, 0.1, 0.0001, 0.1, 0.0001, 0.1, 0.0001, 0.1,
0.0001, 0.1)
lrate<-c(0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9)
cycl<-c(5000,5000,5000,5000,10000,10000,10000,10000,5000,5000,5000,5000,10000,10000,10000,10000)
yield<-c(0.26, 1.77, 0.29, 1.75, 0.26, 1.77, 0.31,
1.75, 0.29, 1.78, 0.35, 1.83, 0.29, 1.79, 0.35, 1.83)

    npk <- data.frame(H=factor(hidden),
T=factor(theres),
                       L=factor(lrate),
C=factor(cycl), yield=yield)

     ( npk.aov <- aov(yield ~ H*T*L*C, npk) )
     summary(npk.aov)

when I run it, I got the following results: but there
is no any F values and p-values. Can you please advise
me what I missed? Many thanks in advance, dechao

            Df   Sum Sq  Mean Sq
H            1   0.0039   0.0039
T            1   8.8061   8.8061
L            1   0.0077   0.0077
C            1   0.0001   0.0001
H:T          1   0.0014   0.0014
H:L          1   0.0018   0.0018
H:C          1 6.25e-06 6.25e-06
T:L          1   0.0001   0.0001
T:C          1 6.25e-06 6.25e-06
L:C          1 6.25e-06 6.25e-06
H:T:L        1   0.0005   0.0005
H:T:C        1   0.0001   0.0001
H:L:C        1   0.0001   0.0001
T:L:C        1   0.0001   0.0001
H:T:L:C      1 6.25e-06 6.25e-06


__________________________________________________

Everything you'll ever need on one web page
from News and Sport to Email and Music Charts

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Thu Jan 24 17:24:31 2002
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Thu, 24 Jan 2002 17:24:31 +0100
Subject: [R] anova results?
References: <20020124160829.28611.qmail@web20610.mail.yahoo.com>
Message-ID: <3C50353F.D0BA340B@ci.tuwien.ac.at>

dechao wang wrote:
> 
> Dear R users,
> 
> I did 16 experiments, with 16 responses (yield), and 4
> factors(hidden, theres, lrate, cycl) with each having
> 2 levels as shown below. I want to do analysis of
> variance to see which factor affect the response. The
> coses are as follows:
> 
> hidden<-c(2,2,10,10,2,2,10,10,2,2,10,10,2,2,10,10)
> theres<-c(0.0001, 0.1, 0.0001, 0.1, 0.0001, 0.1,
> 0.0001, 0.1, 0.0001, 0.1, 0.0001, 0.1, 0.0001, 0.1,
> 0.0001, 0.1)
> lrate<-c(0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9)
> cycl<-c(5000,5000,5000,5000,10000,10000,10000,10000,5000,5000,5000,5000,10000,10000,10000,10000)
> yield<-c(0.26, 1.77, 0.29, 1.75, 0.26, 1.77, 0.31,
> 1.75, 0.29, 1.78, 0.35, 1.83, 0.29, 1.79, 0.35, 1.83)
> 
>     npk <- data.frame(H=factor(hidden),
> T=factor(theres),
>                        L=factor(lrate),
> C=factor(cycl), yield=yield)
> 
>      ( npk.aov <- aov(yield ~ H*T*L*C, npk) )
>      summary(npk.aov)
> 
> when I run it, I got the following results: but there
> is no any F values and p-values. Can you please advise
> me what I missed? Many thanks in advance, dechao


Your model is much to complex for only 16 observations.

The following e.g. works:

 tmp <- lm(yield ~ H+T+L+C, npk)
> summary(tmp)

Call:
lm(formula = yield ~ H + T + L + C, data = npk)

Residuals:
      Min        1Q    Median        3Q       Max 
-0.029375 -0.009687 -0.001250  0.011563  0.025625 

Coefficients:
            Estimate Std. Error t value Pr(>|t|)    
(Intercept) 0.260625   0.010618  24.545 5.88e-11 ***
H10         0.031250   0.009497   3.290 0.007200 ** 
T0.1        1.483750   0.009497 156.228  < 2e-16 ***
L0.9        0.043750   0.009497   4.607 0.000757 ***
C10000      0.003750   0.009497   0.395 0.700503    
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1 

Residual standard error: 0.01899 on 11 degrees of freedom
Multiple R-Squared: 0.9996,	Adjusted R-squared: 0.9994 
F-statistic:  6110 on 4 and 11 DF,  p-value:     0 



> 
>             Df   Sum Sq  Mean Sq
> H            1   0.0039   0.0039
> T            1   8.8061   8.8061
> L            1   0.0077   0.0077
> C            1   0.0001   0.0001
> H:T          1   0.0014   0.0014
> H:L          1   0.0018   0.0018
> H:C          1 6.25e-06 6.25e-06
> T:L          1   0.0001   0.0001
> T:C          1 6.25e-06 6.25e-06
> L:C          1 6.25e-06 6.25e-06
> H:T:L        1   0.0005   0.0005
> H:T:C        1   0.0001   0.0001
> H:L:C        1   0.0001   0.0001
> T:L:C        1   0.0001   0.0001
> H:T:L:C      1 6.25e-06 6.25e-06
> 
> __________________________________________________
> 
> Everything you'll ever need on one web page
> from News and Sport to Email and Music Charts
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Thu Jan 24 18:31:22 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Thu, 24 Jan 2002 17:31:22 +0000
Subject: [R] File end in binary connection
Message-ID: <3C5044EA.5229CD0B@psy.uni-muenchen.de>

Hi,

I need to read to the file end of a binary file connection. My idea is
to do this in a while loop: while(actual.position < file.size) readBin()
... How can I determine the file size?

> p9lr
   description          class           mode           text        
opened 
"p9lr_all.mea"         "file"           "rb"       "binary"      
"opened" 
      can read      can write 
         "yes"           "no" 

> seek(p9lr, 0, "end")
[1] 0

> seek(p9lr)
[1] 0

Looks for me that seek() doesn't re-position the connection, or have I
missed something?. R version 1.4.0 on Linux i386.


Thanks, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Jan 24 17:40:41 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 24 Jan 2002 17:40:41 +0100 (MET)
Subject: [R] Arrow keys don't work in R
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC8500@usrymx10.merck.com>
Message-ID: <Pine.OSF.3.96.1020124172501.22096D-100000@ija.csic.es>


Problem solved, thanks to the many
who offered their help: readline was installed
but readline-devel was not.

(config.log was not that useful as the following 3 lines
configure:8610: checking for rl_callback_read_char in -lreadline
configure:10229: checking for readline/history.h
configure:10229: checking for readline/readline.h

state the checking but not the actual result.
I wonder if there is not an easy way to make sure that
all elements needed by make are present, this would
also help me with my problem with gnome).

Agus

On Thu, 24 Jan 2002, Liaw, Andy wrote:

> The readline-dev package need to be installed.  As Peter pointed out
> earlier, check the config.log to see why readline is not found.
> 
> Andy
> 
> > -----Original Message-----
> > From: Uwe Ligges [mailto:ligges at statistik.uni-dortmund.de]
> > Sent: Thursday, January 24, 2002 7:51 AM
> > To: Agustin Lobo
> > Cc: r-help
> > Subject: Re: [R] Arrow keys don't work in R
> > 
> > 
> > 
> > 
> > Agustin Lobo wrote:
> > > 
> > > Hi,
> > > 
> > > Besides the problem with gnome, I have now
> > > a compiled version of R-1.4.0 that has the
> > > same functionality than what I had from
> > > an rpm installation, except that the arrow
> > > keys (so useful to recover history and
> > > edit lines) write garbage like:
> > > 
> > > ^[[A^[[A^[[A^[[A
> > > 
> > > The keys work fine in both kde and xterm
> > > windows outside R. I suspect this might be something to
> > > specify in one of the Renviron files,
> > > but don't have the ones created by the
> > > rpm to compare.
> > > 
> > > By the way, the installation did not create
> > > any Renviron.site file, is this a problem?
> > 
> > 
> > It's not the Renviron.site file (you can create it manually, 
> > if you need
> > it). 
> > Looks like the readline library is not installed or was not linked
> > during the installation process.
> > 
> > Uwe Ligges
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Jan 24 17:34:24 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 24 Jan 2002 08:34:24 -0800 (PST)
Subject: [R] aggregate, by tapply
In-Reply-To: <3C4FBE4B.28111.1BB71F@localhost>
Message-ID: <Pine.A41.4.44.0201240832560.56972-100000@homer34.u.washington.edu>

On Thu, 24 Jan 2002, Petr Pikal wrote:

> Dear R users
>
> I searched some sources but i did not find an answer.Please give
> me some hint to following problem.
>
> I would like to compute a summary statistic for some vector for
> different factor levels. I know I can use tapply or aggregate but I
> do not know if there is a way how to use function with several
> (two) variable input (like weighted.mean).
>
> I wrote a simple a function for factor weighted mean
> fff<-function(x,fact,w)
> {
> ws<-tapply(w,fact,sum)
> newx<-x*w
> tapply(newx,fact,sum)/ws
> }
>
> which can handle particular case but does exist some more general
> solution how to use FUN(X1,X2) in aggregation procedures
> (tapply, aggregate, by) directly?

If all your variables are in some data frame df you can do

by(df, df$fact, function(df.i) weighted.mean(df.i$x,df.i$w))

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jan 24 17:39:24 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Jan 2002 17:39:24 +0100
Subject: [R] MANOVA extension of paired t-test?
In-Reply-To: <Pine.LNX.4.31.0201241559200.8126-100000@gannet.stats>
References: <Pine.LNX.4.31.0201241559200.8126-100000@gannet.stats>
Message-ID: <x2wuy79003.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> On Thu, 24 Jan 2002, Stewart Schultz wrote:
> 
> > What is the original manova() statement in such a case?  In other words,
> > one has several variables, and the desire is to test whether the mean of
> > each is zero (the "treatment" has been subsumed by the definition of the
> > variable, which is a before-after difference).  manova(Y~rep(0,nrow(Y))) is
> > the intuitive choice, but doesn't work.
> 
> manova(Y ~ 1) specifies an overall mean, if that is what you want.

There appears to be several ways not to do that...

This works:

> Y <- cbind(rnorm(10),rnorm(10))
> summary(manova(Y~1),intercept=T) 
            Df Pillai approx F num Df den Df Pr(>F)
(Intercept)  1 0.2090   1.0569      2      8 0.3915
Residuals    9                                     


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 24 17:52:43 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 24 Jan 2002 16:52:43 +0000 (GMT)
Subject: [R] Arrow keys don't work in R
In-Reply-To: <Pine.OSF.3.96.1020124172501.22096D-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.31.0201241647350.8211-100000@gannet.stats>

On Thu, 24 Jan 2002, Agustin Lobo wrote:

>
> Problem solved, thanks to the many
> who offered their help: readline was installed
> but readline-devel was not.
>
> (config.log was not that useful as the following 3 lines
> configure:8610: checking for rl_callback_read_char in -lreadline
> configure:10229: checking for readline/history.h
> configure:10229: checking for readline/readline.h
>
> state the checking but not the actual result.
> I wonder if there is not an easy way to make sure that
> all elements needed by make are present, this would
> also help me with my problem with gnome).

That's *exactly* what configure is doing.  If you looked at the output
from configure, it does tell you the result.

On gnome, the R-admin manual does tell you what is needed.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Farrar.David at epamail.epa.gov  Thu Jan 24 17:43:36 2002
From: Farrar.David at epamail.epa.gov (Farrar.David@epamail.epa.gov)
Date: Thu, 24 Jan 2002 11:43:36 -0500
Subject: [R] driving R from Python (calldll?)
Message-ID: <OF455984FC.4A4E49B5-ON85256B4B.005B9F83@rtp.epa.gov>


Thanks for your time.  We'll look into Baier's DCOM interface.

What I am doing at the moment is to have Python write an R program that
does some curve fits, run the program using Rterm, piping the output to
a disk file, then parse the output with Python.  If there is some tool I
can easily use to reduce the complexity of the program, then I would
consider using it.

DF




                                                                                           
                    Prof Brian                                                             
                    Ripley               To:     David Farrar/DC/USEPA/US at EPA              
                    <ripley at stats        cc:     r-help at hypatia.math.ethz.ch               
                    .ox.ac.uk>           Subject:     Re: [R] driving R from Python        
                                         (calldll?)                                        
                    01/24/2002                                                             
                    02:35 AM                                                               
                                                                                           
                                                                                           




On Wed, 23 Jan 2002 Farrar.David at epamail.epa.gov wrote:

> Sam Rushing's Python extension 'calldll' will supposedly give me
access
> to any DLL,
> and presumably R.DLL in particular, from Python.  I have no experience
> manipulating DLLs as
> yet.  I am learning Python.  I can't find any simple step-by-step
> instructions on how
> to get done what I want to do.  Does anyone have experience with this?
> Is there a
> better way?  Of course, one can use Rterm with DOS piping commands.

Presumably this is for Windows.  You can't use R.dll in isolation.
What you can do is the use the DCOM interface written by Thomas Baier
that
you will find on CRAN, which provides a completely standard Windows
interface that I am sure Python can talk to.  My suspicion is that
this would be much easier than porting RSPython to Windows, because no
work would be involved on the R side.  Conversely, it will give you
less,
but you don't say anything about `to get done what I want to do'.

BTW

`Of course, one can use Rterm with DOS piping commands'

isn't really true.  Rterm is a Windows program, not a DOS program.  You
can certainly do it on Windows NT/2000/XP, but pipes are limited on
95/98/ME, and DOS can't pipe to Windows programs.  Guido and I failed to
get this sort of thing to work from R for pipe connections under
95/98/ME,
and found lots of things which did not work as documented nor as on NT
in
the process.  Also, Perl's system() has problems with redirection and
pipes on 95/98/ME.  So beware!

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Jan 24 18:14:31 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 24 Jan 2002 18:14:31 +0100 (MET)
Subject: [R] Re: R-gnome: no way to configure
In-Reply-To: <20020124075130.A5819@nokomis.stat.umn.edu>
Message-ID: <Pine.OSF.3.96.1020124171324.22096C-100000@ija.csic.es>

I have 
/opt/gnome/bin/libglade-config
instead of 
/usr/bin/libglade-config

and Yast states that libglade-config is installed.

I've searched config.log and did not find anything
on libglade.

Instead, the output of configure seems interesting:

checking for gnome-config... (cached) no
checking for gnomeConf.sh file in /usr/local/lib... not found

I do have gnomeConf.sh, but in /opt/gnome/lib/ Nevertheless,
I do state 
--with-gnome-libs=/opt/gnome/lib

So it seems that configure does not look where it's told.

Might be that configure does not actually read the
--with-gnome-libs parameter ?

Agus

On Thu, 24 Jan 2002, Luke Tierney wrote:

> I was able to configure on SuSE 7.3 with just
> 
> 	./configure --with-gnome
> 
> so I would guess that you don't have all the devel rpm's you need yet.
> Look at config.log and see if that helps; remove the cache before you
> re-run configure just to be sure; and save or pipe configure's output
> so you can look at it and see if that helps. If you're seeing a
> problem with glade, check if you have /usr/bin/libglade-config; if you
> don't you need the libglade-devel rpm.  If that doesn't help I can
> send you a list of the rpm's that are installed on my box and you can
> compare to yours and look for likely suspects.
> 
> luke
> 
> On Thu, Jan 24, 2002 at 12:04:54PM +0100, Agustin Lobo wrote:
> > 
> > Hi!
> > 
> > I've been able to configure and make R (1,4,0 linux)
> > except for the gnome support. I've checked all packages and libs mentioned
> > in R-admin.pdf (and by Luke Tierny) to make sure that I have them and even
> > using the following:
> > 
> > ./configure --with-gnome --with-gnome-includes=/opt/gnome/include
> > --with-gnome-libs=/opt/gnome/lib --with-libglade-config=opt/gnome/lib
> > 
> > I still get:
> > 
> > R is now configured for i686-pc-linux-gnu
> >   Source directory:          .
> >   Installation directory:    /usr/local
> >   C compiler:                gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
> >   C++ compiler:              c++  -mieee-fp -g -O2
> >   FORTRAN compiler:          g77  -g -O2
> >   X11 support:               yes
> >   Gnome support:             no
> >   Tcl/Tk support:            yes
> >   R profiling support:       yes
> >   R as a shared library:     no
> > 
> > I really don't know what else I can do, gnome runs ok on this machine.
> > 
> > Should I just give up? There is no way to require that configure tells 
> > exactly what's missing?
> > 
> > Thanks
> > 
> > Dr. Agustin Lobo
> > Instituto de Ciencias de la Tierra (CSIC)
> > Lluis Sole Sabaris s/n
> > 08028 Barcelona SPAIN
> > tel 34 93409 5410
> > fax 34 93411 0012
> > alobo at ija.csic.es
> > 
> > 
> > > On Tue, 22 Jan 2002, Luke Tierney wrote:
> > > 
> > > > You don't have tcltk either.  SuSE seems to not install devel support
> > > > for things like tcl or gnome even if you specify a devel system.  You
> > > > need to install tcl-devel to get tcl support and I think you need at
> > > > least gnome-core-devel libxml-devel libglade-devel esound-devel and
> > > > maybe also gnome-libs-devel to get gnome support.  With those
> > > > installed I build successfully on SuSE 7.3, but I don't know what else
> > > > I might have that you do not.
> > > > 
> > > > luke
> > > > 
> > > > 
> > > > 
> > > > On Tue, Jan 22, 2002 at 06:16:31PM +0100, Agustin Lobo wrote:
> > > > > 
> > > > > I'm the happy user of a new machine and
> > > > > I'm trying to compile R-1.4.0 on it
> > > > > (linux Suse 7.3 box).
> > > > > 
> > > > > After
> > > > > ./configure --with-gnome
> > > > > 
> > > > > I get the following configuration:
> > > > > 
> > > > > R is now configured for i686-pc-linux-gnu
> > > > > 
> > > > >   Source directory:          .
> > > > >   Installation directory:    /usr/local
> > > > >   C compiler:                gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
> > > > >   C++ compiler:              c++  -mieee-fp -g -O2
> > > > >   FORTRAN compiler:          g77  -g -O2
> > > > > 
> > > > >   X11 support:               yes
> > > > >   Gnome support:             no
> > > > >   Tcl/Tk support:            no
> > > > > 
> > > > >   R profiling support:       yes
> > > > >   R as a shared library:     no
> > > > > 
> > > > > configure: warning: you cannot build DVI versions of the R manuals
> > > > > configure: warning: you cannot build PDF versions of the R manuals
> > > > > 
> > > > > The warnings are because:
> > > > > checking for dvips...no
> > > > > (same for tex,latex,makeindex,pdftex,pdflatex)
> > > > > but this is not a concern now. I can do it later
> > > > > 
> > > > > Instead, I don't get gnome support despite the --with-gnome flag
> > > > > 
> > > > > And, worst, this is what I get from make check:
> > > > > 
> > > > > linux:/usr/local/R-1.4.0 # make check FORCE=FORCE
> > > > > make[1]: Entering directory `/usr/local/R-1.4.0/tests'
> > > > > make[2]: Entering directory `/usr/local/R-1.4.0/tests'
> > > > > make[3]: Entering directory `/usr/local/R-1.4.0/tests/Examples'
> > > > > make[4]: Entering directory `/usr/local/R-1.4.0/tests/Examples'
> > > > > make[4]: Leaving directory `/usr/local/R-1.4.0/tests/Examples'
> > > > > make[4]: Entering directory `/usr/local/R-1.4.0/tests/Examples'
> > > > > collecting examples for package `base' ...
> > > > > make[5]: Entering directory `/usr/local/R-1.4.0/src/library'
> > > > > /bin/sh: ../../bin/R: No such file or directory
> > > > > /bin/sh: ../../library/base/CONTENTS: No such file or directory
> > > > > cat: ../../library/*/CONTENTS: No such file or directory
> > > > > make[5]: *** [DOCS] Error 1
> > > > > make[5]: Leaving directory `/usr/local/R-1.4.0/src/library'
> > > > > file ../../library/base/R-ex cannot be opened at
> > > > > ../../share/perl/massage-Examples.pl line 84.
> > > > > make[4]: *** No rule to make target `../../bin/R.bin', needed by
> > > > > `base-Ex.Rout'.  Stop.
> > > > > make[4]: Leaving directory `/usr/local/R-1.4.0/tests/Examples'
> > > > > make[3]: *** [test-Examples] Error 2
> > > > > make[3]: Leaving directory `/usr/local/R-1.4.0/tests/Examples'
> > > > > make[2]: *** [test-Examples] Error 2
> > > > > make[2]: Leaving directory `/usr/local/R-1.4.0/tests'
> > > > > make[1]: *** [test-all-basics] Error 1
> > > > > make[1]: Leaving directory `/usr/local/R-1.4.0/tests'
> > > > > make: *** [check] Error 2
> > > > > 
> > > > > What's wrong? I've downloaded the tar file from two diferent mirrors
> > > > > with identical results.
> > > > > 
> > > > > Agus
> > > > > 
> > > > > Dr. Agustin Lobo
> > > > > Instituto de Ciencias de la Tierra (CSIC)
> > > > > Lluis Sole Sabaris s/n
> > > > > 08028 Barcelona SPAIN
> > > > > tel 34 93409 5410
> > > > > fax 34 93411 0012
> > > > > alobo at ija.csic.es
> > > > > 
> > > > > 
> > > > > 
> > > > > 
> > > > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > > > Send "info", "help", or "[un]subscribe"
> > > > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > > > 
> > > > -- 
> > > > Luke Tierney
> > > > University of Minnesota                      Phone:           612-625-7843
> > > > School of Statistics                         Fax:             612-624-8868
> > > > 313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
> > > > Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
> > > > 
> > > 
> > > 
> > 
> > 
> 
> -- 
> Luke Tierney
> University of Minnesota                      Phone:           612-625-7843
> School of Statistics                         Fax:             612-624-8868
> 313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
> Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Thu Jan 24 18:05:19 2002
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Thu, 24 Jan 2002 12:05:19 -0500
Subject: [R] driving R from Python (calldll?)
In-Reply-To: <OF455984FC.4A4E49B5-ON85256B4B.005B9F83@rtp.epa.gov>; from Farrar.David@epamail.epa.gov on Thu, Jan 24, 2002 at 11:43:36AM -0500
References: <OF455984FC.4A4E49B5-ON85256B4B.005B9F83@rtp.epa.gov>
Message-ID: <20020124120519.B4178@jessie.research.bell-labs.com>

There is no major problem porting the RSPython package to Windows. I
believe I have completed all but one step of this a few months ago and
then got side-tracked. The remaining task is to be able to use the
mingw compiler to create the RSPython.dll that R will load and link
against the python libraries. Conceptually this is easy. All that is
needed is to locate a linkable Python library. This is the same task
that was needed for getting the SJava, XML, ... packages to work on
windows. Hopefully I can remember how to do this.

I am currently resolving a problem in my Windows compilation setup.
If/when this is completed, I'll try to build Window's binaries for
qmost of the different packages about which people have expressed an
interest in having on Windows: Java, XML, RGtk, RSPython, Rggobi,
RGnumeric,....


Farrar.David at epamail.epa.gov wrote:
> 
> Thanks for your time.  We'll look into Baier's DCOM interface.
> 
> What I am doing at the moment is to have Python write an R program that
> does some curve fits, run the program using Rterm, piping the output to
> a disk file, then parse the output with Python.  If there is some tool I
> can easily use to reduce the complexity of the program, then I would
> consider using it.
> 
> DF
> 
> 
> 
> 
>                                                                                            
>                     Prof Brian                                                             
>                     Ripley               To:     David Farrar/DC/USEPA/US at EPA              
>                     <ripley at stats        cc:     r-help at hypatia.math.ethz.ch               
>                     .ox.ac.uk>           Subject:     Re: [R] driving R from Python        
>                                          (calldll?)                                        
>                     01/24/2002                                                             
>                     02:35 AM                                                               
>                                                                                            
>                                                                                            
> 
> 
> 
> 
> On Wed, 23 Jan 2002 Farrar.David at epamail.epa.gov wrote:
> 
> > Sam Rushing's Python extension 'calldll' will supposedly give me
> access
> > to any DLL,
> > and presumably R.DLL in particular, from Python.  I have no experience
> > manipulating DLLs as
> > yet.  I am learning Python.  I can't find any simple step-by-step
> > instructions on how
> > to get done what I want to do.  Does anyone have experience with this?
> > Is there a
> > better way?  Of course, one can use Rterm with DOS piping commands.
> 
> Presumably this is for Windows.  You can't use R.dll in isolation.
> What you can do is the use the DCOM interface written by Thomas Baier
> that
> you will find on CRAN, which provides a completely standard Windows
> interface that I am sure Python can talk to.  My suspicion is that
> this would be much easier than porting RSPython to Windows, because no
> work would be involved on the R side.  Conversely, it will give you
> less,
> but you don't say anything about `to get done what I want to do'.
> 
> BTW
> 
> `Of course, one can use Rterm with DOS piping commands'
> 
> isn't really true.  Rterm is a Windows program, not a DOS program.  You
> can certainly do it on Windows NT/2000/XP, but pipes are limited on
> 95/98/ME, and DOS can't pipe to Windows programs.  Guido and I failed to
> get this sort of thing to work from R for pipe connections under
> 95/98/ME,
> and found lots of things which did not work as documented nor as on NT
> in
> the process.  Also, Perl's system() has problems with redirection and
> pipes on 95/98/ME.  So beware!
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From heberto at meakins.lan.mcgill.ca  Thu Jan 24 18:13:06 2002
From: heberto at meakins.lan.mcgill.ca (R. Heberto Ghezzo)
Date: Thu, 24 Jan 2002 13:13:06 -0400
Subject: [R] grep
Message-ID: <3C5040A1.191D0273@meakins.lan.mcgill.ca>

Hello, I have a problem with 'grep'
I read several lines from a file
 p <- readLines(pfile,n=8)
now I have to check that a key word "JABBERWOCKY" is not in that segment

a <- grep("JABBERWOCKY",p)
which gives a 1 if the key is in the text or 'numeric(0)
how can I test it
if(a==1) gives Ok in one case and error:missing value where logical
needed in the other.
How can I coerce 'a' to be 0 or 1?
thanks for any help.
.
H.Ghezzo
McGill University
Montreal - Canada

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Jan 24 18:17:26 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 24 Jan 2002 09:17:26 -0800 (PST)
Subject: [R] grep
In-Reply-To: <3C5040A1.191D0273@meakins.lan.mcgill.ca>
Message-ID: <Pine.A41.4.44.0201240916540.56972-100000@homer34.u.washington.edu>

On Thu, 24 Jan 2002, R. Heberto Ghezzo wrote:

> Hello, I have a problem with 'grep'
> I read several lines from a file
>  p <- readLines(pfile,n=8)
> now I have to check that a key word "JABBERWOCKY" is not in that segment
>
> a <- grep("JABBERWOCKY",p)
> which gives a 1 if the key is in the text or 'numeric(0)
> how can I test it

if (length(a))
	a is 1
else
	a is numeric(0)



	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Jan 24 18:26:21 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 24 Jan 2002 18:26:21 +0100 (MET)
Subject: [R] Data input performance
In-Reply-To: <20020124140029.E8C2553865@purkki.cs.utu.fi>
Message-ID: <Pine.OSF.3.96.1020124182304.22096F-100000@ija.csic.es>

Perhaps

mimatriz <- scan("directory_and_file_names"),byrow=T,ncol=2300)

is more efficient. Be sure you only have names
in the file, otherwise you need:

mimatriz <- scan("directory_and_file_names",what=""),byrow=T,ncol=2300)

and then mimatriz will be char. Then you subset the
numeric cols and/or rows and apply as.numeric.

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Thu, 24 Jan 2002, Filip Ginter wrote:

> Dear list,
> 
> I'm brand new to R (started using it few days ago...), so sorry for possibly 
> stupid question.
> 
> Anyways, I'm using R to cluster my data. I do have the dissimilarity matrix 
> as a text file, numbers separated by space. It's at its best something like 
> 2300x2300 matrix.
> 
> Now, it seems to me, that the process of importing the matrix into R is 
> rather slow. For the peak size of 2300x2300 it takes almost two hours. The 
> clustering itself takes a minimum of time when compared to importing the 
> data. I have 256MB memory, 900MHz processor PC, Linux (RH7.1). The version of 
> R is "Version 1.4.0  (2001-12-19)"
> 
> I have tried to follow all the recomendations I found in the documentation, 
> so I do something like this: (The file consists of 2300 rows, each containing 
> 2300 real numbers, separated by space. Nothing else.)
> 
> __________________________
> 
> library(cluster)
> CC<-c("numeric")
> T1<-read.table("matrix",nrows=2300,colClasses=CC)
> T2<-as.dist(T1)
> rm(T1)
> T3<-agnes(T2,diss=TRUE)
> write.table(T3$merge,file=outfile,quote=FALSE)
> 
> ___________________________
> 
> The CC vector contains the "numeric" only once, as I read that the values are 
> "recycled"...
> 
> So, is there any room for improvement? Any way to make the data import 
> quicker?
> 
> Thanks a lot.
> 
> Best regards,
> 
> Filip
> 
> -- 
> 
> -----------------------------------------------------------------
> Filip Ginter
> Ph.D. student
> 
> Email: ginter at cs.utu.fi
> Phone: +358-2-2154078
> Office: 4122, 4th floor
> ICQ: 146959496
> 
> Turku Centre for Computer Science
> Lemminkisenkatu 14A
> 20520 Turku
> Finland
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 24 18:23:43 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 24 Jan 2002 17:23:43 +0000 (GMT)
Subject: [R] grep
In-Reply-To: <3C5040A1.191D0273@meakins.lan.mcgill.ca>
Message-ID: <Pine.GSO.4.31.0201241721420.6227-100000@auk.stats>

On Thu, 24 Jan 2002, R. Heberto Ghezzo wrote:

> Hello, I have a problem with 'grep'
> I read several lines from a file
>  p <- readLines(pfile,n=8)
> now I have to check that a key word "JABBERWOCKY" is not in that segment
>
> a <- grep("JABBERWOCKY",p)
> which gives a 1 if the key is in the text or 'numeric(0)
> how can I test it
> if(a==1) gives Ok in one case and error:missing value where logical
> needed in the other.
> How can I coerce 'a' to be 0 or 1?
> thanks for any help.

You could test the length of the result, which is > 0 iff there was a match
in any of the lines.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GPetris at uark.edu  Thu Jan 24 19:00:27 2002
From: GPetris at uark.edu (Giovanni Petris)
Date: Thu, 24 Jan 2002 12:00:27 -0600 (CST)
Subject: [R] Simulation of a particular type of population
In-Reply-To: <Pine.GSO.4.33.0201240830150.3236-100000@gauss.math.montana.edu>
	(message from Philip Turk on Thu, 24 Jan 2002 08:31:57 -0700 (MST))
References: <Pine.GSO.4.33.0201240830150.3236-100000@gauss.math.montana.edu>
Message-ID: <200201241800.MAA11504@definetti.uark.edu>


The function pcp.sim in package splancs simulate a Poisson cluster
process. It may be a starting point. It doesn't do the reflection
part, though.

Best,
Giovanni

> 
> Does anyone have any R code or suggestions on how to generate a population
> that follows a Neyman-Scott process?  More specifically, I'd like to
> randomly generate both the parents and the children from Poisson
> distributions and the children locations from a bivariate normal onto an
> N by N grid.  If the locations spill over outside the grid, then I'd like
> to reflect those locations back into the grid.  Thanks for any advice.
> 
> Phil Turk

-- 

 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (501) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amurta at ipimar.pt  Thu Jan 24 18:59:09 2002
From: amurta at ipimar.pt (Alberto Murta)
Date: Thu, 24 Jan 2002 17:59:09 +0000
Subject: [R] using names inside a loop
Message-ID: <3C504B6D.F1E8AB4F@ipimar.pt>

I expected that something like

> for(i in names(my.data.frame)){j <- as.name(i); print(my.data.frame$j)}

should work in R (and S). There's always the possibility of using  

> for(i in names(my.data.frame)){print(my.data.frame[,i])}

but can someone someone tell me why doesn't the 1st option work also?
Thanks

Alberto

-- 
                           Alberto G. Murta                      
           IPIMAR - Institute of Fisheries and Sea Research
            Avenida de Brasilia, 1449-006 Lisboa, Portugal       
Tel:+351 213027062; Fax:+351 213015849; http://www.ipimar.pt/pelagicos/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-thapa-11 at alumni.uchicago.edu  Thu Jan 24 20:20:46 2002
From: s-thapa-11 at alumni.uchicago.edu (Suchandra Thapa)
Date: Thu, 24 Jan 2002 13:20:46 -0600
Subject: [R] R-gnome
In-Reply-To: <Pine.OSF.3.96.1020122171356.30086B-100000@ija.csic.es>; from alobo@ija.csic.es on Tue, Jan 22, 2002 at 05:18:36PM +0100
References: <Pine.OSF.3.96.1020122171356.30086B-100000@ija.csic.es>
Message-ID: <20020124132046.S15126@hepcat>

On Tue, Jan 22, 2002 at 05:18:36PM +0100, Agustin Lobo wrote:
> Do people that have tried the gnome
> interface recommend it? How is R started
> with this interface? If I build with the
>  --with-gnome  option, will still have
> the option of actually not using the interface
> if I don't find it useful?

    You just get the -g gnome option.  However, I find the gnome
interface to be not as useful as the commandline interface.  Readline
isn't available and interrupting computations doesn't work as reliably
as in the commandline interface.

-- 
------------------------------------------------------------------

Suchandra S. Thapa 
s-thapa-11 at alumni.uchicago.edu

------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 24 20:07:48 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 24 Jan 2002 19:07:48 +0000 (GMT)
Subject: [R] using names inside a loop
In-Reply-To: <3C504B6D.F1E8AB4F@ipimar.pt>
Message-ID: <Pine.GSO.4.31.0201241900570.15079-100000@auk.stats>

On Thu, 24 Jan 2002, Alberto Murta wrote:

> I expected that something like
>
> > for(i in names(my.data.frame)){j <- as.name(i); print(my.data.frame$j)}
>
> should work in R (and S). There's always the possibility of using
>
> > for(i in names(my.data.frame)){print(my.data.frame[,i])}
>
> but can someone someone tell me why doesn't the 1st option work also?

Because it doesn't know that j is meant to be a variable.
What you can do is

for(i in names(my.data.frame)){
  print(eval(substitute(my.data.frame$j, list(j=i))))
}

Is there some reason to want to do this?  as.list(my.data.frame)
would seem to do the same job with some informative labels,

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Thu Jan 24 22:22:51 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Fri, 25 Jan 2002 10:22:51 +1300 (NZDT)
Subject: [R] Compiling R Package on Windows
Message-ID: <Pine.SOL.4.21.0201251019230.16863-100000@stat1.stat.auckland.ac.nz>

I just installed the R-patched 1.4.0 and for some reason I now have
trouble compiling R packages - I could compile it a few weeks ago with R
1.4.0 released in December.  This only happens if I put the --binary
option in.

For example:
  Rcmd build --binary cw
returns the error:
make: Entering directory `/cygdrive/c/PROGRA~1/R/RW1040/src/gnuwin32'
make DLLNM= \
  -C C:/MyRWork/cw PKG=cw RHOME=c:/PROGRA~1/R/RW1040
RLIB=c:/TEMP/Rbuild.503609
\
  -f c:/PROGRA~1/R/RW1040/src/gnuwin32/MakePkg
make[1]: Entering directory `/cygdrive/c/MyRWork/cw'
if [ ! -f ./TITLE -a -f ./DESCRIPTION ] ; then \
  perl c:/PROGRA~1/R/RW1040/share/perl/maketitle.pl ./DESCRIPTION >
TITLE; \
fi
make[1]: /bin/sh.exe: Command not found
make[1]: *** [TITLE] Error 127
make[1]: Leaving directory `/cygdrive/c/MyRWork/cw'
make: *** [pkg-cw] Error 2
make: Leaving directory `/cygdrive/c/PROGRA~1/R/RW1040/src/gnuwin32'
*** Installation of cw failed ***

installing R.css in c:/TEMP/Rbuild.503609

* building `cw_0.1.zip'
        zip warning: name not matched: cw

zip error: Nothing to do! (try: zip -r9X C:/MyRWork/cw_0.1.zip . -i cw)


But if I do something like:
  Rcmd build cw
then I can successfully built a .tar.gz version of it...

Thanks in advance for the help :-)

Ko-Kang Wang

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student (Summer Research Assistant)
Department of Statistics
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 24 22:50:11 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 24 Jan 2002 21:50:11 +0000 (GMT)
Subject: [R] Compiling R Package on Windows
In-Reply-To: <Pine.SOL.4.21.0201251019230.16863-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.31.0201242133230.17257-100000@gannet.stats>

You need to fix the error, which is

  make[1]: /bin/sh.exe: Command not found

I think it means /bin/sh.exe is not found, but it might mean perl is not
being found.  In any case, this is a clear error message, and you must
resolve it.

The problem you are having is installing source packages, and build
without --binary does not try to do that.  I would note though that you
are lucky this works at all, as you appear to be using an installation
path with spaces in, and readme.packages does say

  BEWARE: Don't expect this to work if the path to R_HOME contains spaces.

Under Windows 2000/XP, it doesn't work; it does sometimes under earlier
versions of Windows, but that might be why you are having problems.

There are similar warnings in the rw-FAQ.


On Fri, 25 Jan 2002, Ko-Kang Kevin Wang wrote:

> I just installed the R-patched 1.4.0 and for some reason I now have
> trouble compiling R packages - I could compile it a few weeks ago with R
> 1.4.0 released in December.  This only happens if I put the --binary
> option in.
>
> For example:
>   Rcmd build --binary cw
> returns the error:
> make: Entering directory `/cygdrive/c/PROGRA~1/R/RW1040/src/gnuwin32'
> make DLLNM= \
>   -C C:/MyRWork/cw PKG=cw RHOME=c:/PROGRA~1/R/RW1040
> RLIB=c:/TEMP/Rbuild.503609
> \
>   -f c:/PROGRA~1/R/RW1040/src/gnuwin32/MakePkg
> make[1]: Entering directory `/cygdrive/c/MyRWork/cw'
> if [ ! -f ./TITLE -a -f ./DESCRIPTION ] ; then \
>   perl c:/PROGRA~1/R/RW1040/share/perl/maketitle.pl ./DESCRIPTION >
> TITLE; \
> fi
> make[1]: /bin/sh.exe: Command not found
> make[1]: *** [TITLE] Error 127
> make[1]: Leaving directory `/cygdrive/c/MyRWork/cw'
> make: *** [pkg-cw] Error 2
> make: Leaving directory `/cygdrive/c/PROGRA~1/R/RW1040/src/gnuwin32'
> *** Installation of cw failed ***
>
> installing R.css in c:/TEMP/Rbuild.503609
>
> * building `cw_0.1.zip'
>         zip warning: name not matched: cw
>
> zip error: Nothing to do! (try: zip -r9X C:/MyRWork/cw_0.1.zip . -i cw)
>
>
> But if I do something like:
>   Rcmd build cw
> then I can successfully built a .tar.gz version of it...
>
> Thanks in advance for the help :-)
>
> Ko-Kang Wang
>
> ------------------------------------------------------------------------------
> Ko-Kang Kevin Wang
> Postgraduate PGDipSci Student (Summer Research Assistant)
> Department of Statistics
> University of Auckland
> New Zealand
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Thu Jan 24 23:39:14 2002
From: faheem at email.unc.edu (Faheem Mitha)
Date: Thu, 24 Jan 2002 17:39:14 -0500 (EST)
Subject: [R] random number generation issues with r and compiled C code
Message-ID: <Pine.LNX.4.43.0201240036460.22349-100000@Chrestomanci>


Dear People,

I have been writing a simulation routine that is currently entirely
written in c++. I've been using the R standalone math library to give me
random number generation for this. However, I have had to set the seed
myself, and I am using

set_seed(time(NULL), clock)

for every call to unif_rand().

However, this works really badly. The random numbers aren't uniform at
all. Does anyone have better suggestions?

I think the problem is that every time I call the random number generation
function, I have to set the seed, and this messes up the uniformity of the
random number generation. To be more explicit, if I was to call the seed
once, and then generate a thousand unif rand variates, these would be
distributed more or less correctly, but if I set the seed for each of the
thousand variates separately, this screws up the algorithm. Is my
understanding correct?

I've been looking on the web, and it looks like there is no perfect
solution to the problem of generating random numbers in C/C++. So, I'm
thinking of running my program inside R by compiling my code as a shared
library, and using R's builtin random number facilities.

I have a couple of questions about this.

1) The functions GetRNGstate() and PutRNGetate() read and write
.Random.Seed. The question is what is the best strategy for calling these.
Would it be best to call these routines as infrequently as possible? My
remarks above (if correct) suggest that. That is, would be best to call
GetRNGstate() once before generating all random numbers necessary and then
call it again when I have finished calling all the random variates? Or
does it not matter that much?

Also, is scoping a problem here? I have not tried this yet, but suppose I
was to do as follows

foo()
{
GetRNGstate();
randcall();
randcall();
PutRNGetate();
}

where

randcall()
{
int i;

for(i=0; i < 100; i++)
cout << unif_rand();
}

would this be Ok, or do calls to GetRNGstate() and PutRNGetate() have
to be inside randcall()? If this is the case, then the above strategy
of reading in seed as early as possible and writing it out as late as
possible will not work.

Also, what is the answer to the corresponding question in the purely
C/C++ situation? Ie. can I call set_seed at top level? eg, in main()?
If so, this would make a lot of the problems go away.

2) What is the difference between doing

GetRNGstate();
unif_rand();
PutRNGetate();

and calling runif()?

or are these equivalent? Ie. does runif() read in and out seed itself?

Thanks in advance.

                                       Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan 25 00:20:52 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 24 Jan 2002 23:20:52 +0000 (GMT)
Subject: [R] random number generation issues with r and compiled C code
In-Reply-To: <Pine.LNX.4.43.0201240036460.22349-100000@Chrestomanci>
Message-ID: <Pine.LNX.4.31.0201242309470.17434-100000@gannet.stats>

All the answers here are taken from R-exts.texi.

1)
  However, before these are used, the user must call

  GetRNGstate();

  and after all the required variates have been generated, call

  PutRNGstate();

  These essentially read in (or create) @code{.Random.seed} and write it
  out after use.

So, call each just once in each call from R to your compiled code.

2)
  The C code behind @R{}'s @code{r at var{xxx}} functions can be accessed by
  including the header file @file{Rmath.h}; @xref{Distribution
  functions}.  Those calls generate a single variate and should also be
  enclosed in calls to @code{GetRNGstate} and @code{PutRNGstate}.

(The difference between unif_rand() and runif(a, b) lies in the extra
arguments.)

3) When using standalone Rmathlib

  A little care is needed to use the random-number routines. You will
  need to supply the uniform random number generator

  double unif_rand(void)

  or use the one supplied (and with a shared library or DLL you will have
  to use the one supplied, which is the Marsaglia-multicarry with an entry
  point

  set_seed(unsigned int, unsigned int)

  to set its seeds).

So, I'm not clear if you have supplied your own or used the one supplied,
but if the latter, you need to call set_seed, *but only once*.

Finally, R's random number generators are of course written in C and are
also not perfect.  (They were chosen by an expert based on the consensus
of experts, though.)


On Thu, 24 Jan 2002, Faheem Mitha wrote:

>
> Dear People,
>
> I have been writing a simulation routine that is currently entirely
> written in c++. I've been using the R standalone math library to give me
> random number generation for this. However, I have had to set the seed
> myself, and I am using
>
> set_seed(time(NULL), clock)
>
> for every call to unif_rand().
>
> However, this works really badly. The random numbers aren't uniform at
> all. Does anyone have better suggestions?
>
> I think the problem is that every time I call the random number generation
> function, I have to set the seed, and this messes up the uniformity of the
> random number generation. To be more explicit, if I was to call the seed
> once, and then generate a thousand unif rand variates, these would be
> distributed more or less correctly, but if I set the seed for each of the
> thousand variates separately, this screws up the algorithm. Is my
> understanding correct?
>
> I've been looking on the web, and it looks like there is no perfect
> solution to the problem of generating random numbers in C/C++. So, I'm
> thinking of running my program inside R by compiling my code as a shared
> library, and using R's builtin random number facilities.
>
> I have a couple of questions about this.
>
> 1) The functions GetRNGstate() and PutRNGetate() read and write
> .Random.Seed. The question is what is the best strategy for calling these.
> Would it be best to call these routines as infrequently as possible? My
> remarks above (if correct) suggest that. That is, would be best to call
> GetRNGstate() once before generating all random numbers necessary and then
> call it again when I have finished calling all the random variates? Or
> does it not matter that much?
>
> Also, is scoping a problem here? I have not tried this yet, but suppose I
> was to do as follows
>
> foo()
> {
> GetRNGstate();
> randcall();
> randcall();
> PutRNGetate();
> }
>
> where
>
> randcall()
> {
> int i;
>
> for(i=0; i < 100; i++)
> cout << unif_rand();
> }
>
> would this be Ok, or do calls to GetRNGstate() and PutRNGetate() have
> to be inside randcall()? If this is the case, then the above strategy
> of reading in seed as early as possible and writing it out as late as
> possible will not work.
>
> Also, what is the answer to the corresponding question in the purely
> C/C++ situation? Ie. can I call set_seed at top level? eg, in main()?
> If so, this would make a lot of the problems go away.
>
> 2) What is the difference between doing
>
> GetRNGstate();
> unif_rand();
> PutRNGetate();
>
> and calling runif()?
>
> or are these equivalent? Ie. does runif() read in and out seed itself?
>
> Thanks in advance.
>
>                                        Sincerely, Faheem Mitha.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pfaffman at relaxpc.com  Fri Jan 25 00:35:14 2002
From: pfaffman at relaxpc.com (Jay Pfaffman)
Date: Thu, 24 Jan 2002 15:35:14 -0800
Subject: [R] getting rank order
Message-ID: <200201242335.g0ONZEL06909@aaalab.Stanford.EDU>

I'm doing a study where people place a deck of cards in a certain
order.  It's sufficient to assume that their colors & each has a
number (it's actually about attributes of hobbies).  I'd like to look
for patterns in how they've arranged the deck.  For each subject I
have a list like 3,5,2,4,1, indicating that (s)he chose 3 first, then
5, then 2. . . .

I think what I first need to do is to make a variable for each card
with the rank given to each card, so the above list should be
transformed to something like

card1 card2 card3 card4 card5
  5     3     1     4     2

I've RTFMed on sort and rank.  I can't find an elegant solution in
either a spreadsheet or R.  I'm about to give up and do it by hand.

I thought that something like

   for (i in 1:25) ranks [1,as.integer(motivations[1,i])] <- i

might do it (and I'd add another loop to replace the 1's above), but
I've been unsuccessful.

Anyway, solutions to that problem are welcome, as are suggestions
about how to start looking at those data once I've done that.

Thanks.

P.S.  I asked some weeks ago for pointers to some "R cookbooks."
Several people pointed out the "user contributed" documents.  I'm not
sure how I missed them, but I did.  They've been quite helpful.  Also,
I was able to find a copy of MASS in the library (not sure why I
didn't think to look there sooner).  I'll soon break down and buy it.
Thanks to all those who helped.

-- 
Jay Pfaffman                           pfaffman at relaxpc.com
+1-415-821-7507 (H)                    +1-415-810-2238 (M)
http://relax.ltc.vanderbilt.edu/~pfaffman/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jan 25 00:51:07 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Jan 2002 00:51:07 +0100
Subject: [R] getting rank order
In-Reply-To: <200201242335.g0ONZEL06909@aaalab.Stanford.EDU>
References: <200201242335.g0ONZEL06909@aaalab.Stanford.EDU>
Message-ID: <x2elkf5mvo.fsf@blueberry.kubism.ku.dk>

Jay Pfaffman <pfaffman at relaxpc.com> writes:

> I'm doing a study where people place a deck of cards in a certain
> order.  It's sufficient to assume that their colors & each has a
> number (it's actually about attributes of hobbies).  I'd like to look
> for patterns in how they've arranged the deck.  For each subject I
> have a list like 3,5,2,4,1, indicating that (s)he chose 3 first, then
> 5, then 2. . . .
> 
> I think what I first need to do is to make a variable for each card
> with the rank given to each card, so the above list should be
> transformed to something like
> 
> card1 card2 card3 card4 card5
>   5     3     1     4     2
> 
> I've RTFMed on sort and rank.  I can't find an elegant solution in
> either a spreadsheet or R.  I'm about to give up and do it by hand.

Is this what you are looking for?

> order(c(3,5,2,4,1))
[1] 5 3 1 4 2

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Fri Jan 25 00:52:41 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Fri, 25 Jan 2002 00:52:41 +0100
Subject: Best way to check/assert a certain version of [R] or a package
Message-ID: <KKEGJOGBELBHDIKPINBMCEJNCJAA.hb@maths.lth.se>

When loading a package with library(APkg) or require(APkg) I would like to
make sure that (1) the correct version of [R] is installed. If not an
informative error message should be given. I would also like to make sure
that (2)  another required package which is loaded from within the APkg
package (by require(OtherPkg)) is of a certain version or later.

First of all, I believe that the check should be done in .First.lib(),
correct? To check for the correct version of [R] I would guess that
R.Version()$major and R.Version()$minor could be used to retrieve the
version. Is there any prewritten function to compare two version strings;
"1.2.1" is before "1.2.10"?
What is the easiest way to retrieve the version string of a certain package.
Should one find the path to the package, then load the DESCRIPTION file and
parse it?

Thanks a lot

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e
http://www.maths.lth.se/matstat/staff/hb/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Fri Jan 25 00:52:23 2002
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Thu, 24 Jan 2002 18:52:23 -0500
Subject: [R] RSPython for Windows: was driving R from Python (calldll?)
Message-ID: <20020124185223.F4178@jessie.research.bell-labs.com>


Just a note to complete this thread regarding the RSPython package.  A
binary version for this package is now available for Windows, compiled
against R-1.4.0 and Python 2.2. Also makefiles and instructions are
provided for compiling it oneself. It currently works only for one
direction, namely embedding Python within R. As time permits, I'll add
the embedding of R in Python to make it the same as the Unix versions.

 D.

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brad at aris.ss.uci.edu  Fri Jan 25 01:01:30 2002
From: brad at aris.ss.uci.edu (Brad Buchsbaum)
Date: Thu, 24 Jan 2002 16:01:30 -0800 (PST)
Subject: [R] nested versus crossed random effects
Message-ID: <Pine.LNX.4.44.0201241518500.8048-100000@sebring.ss.uci.edu>



Hi all,

I'm trying to test a repeated measures model with random effects using the
nlme library. Suppose I have two within subjects factors A, B both with
two levels. Using aov I can do:

aov.1 <- aov(y ~ A*B + Error(S/(A+B))

following Pinheiro and Bates I can acheive the analagous mixed-effects
model with:

lme.1 <- lme(y~A*B, random=pdBlocked(list(pdIdent(~1),pdIdent(~A-1),
pdIdent(~B-1))), data=gdat)

But what if we add an additional level of nesting such that each of
the conditions within A and B are repeated multiple times within a
subject. This would then be a trial factor, call it "T". So we'd have
something like this:

s1:t1:a1:b1, s1:t1:a2:b2, s1:t1:a1:b2, s1:t1:a2:b1, s1:t2:a1:b1,
s1:t2:a2:b2 ... s1:t10:a2:b2

s2:t1:a1:b1 .. and so on.

Here the levels of T are held constant for each full iteration of the
crossed factors A and B. But a trial could just as easily mean a single
iteration of any combination of the factors A and B, e.g.

s1:t1:a1:b1, s1:t2:a2:b2, s1:t3:a1:b2 ...

The question is, which of these is the correct specification of the
"Trial" factor and how would I express it using aov and "Error" or,
better yet, using lme? I guess I'm confused as to the practical difference
between coding "Trial" as replicates of certain factorial combinations
or coding "Trial" without respect to other variables in the design.


Forgive me if this is a little adrift for the R-Help mailing list.


Brad Buchsbaum



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri Jan 25 01:27:01 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Thu, 24 Jan 2002 19:27:01 -0500 (EST)
Subject: [R] getting rank order
Message-ID: <200201250027.g0P0R1510969@cattell.psych.upenn.edu>

>From: Jay Pfaffman <pfaffman at relaxpc.com>

>I'm doing a study where people place a deck of cards in a certain
>order.  It's sufficient to assume that their colors & each has a
>number (it's actually about attributes of hobbies).  I'd like to look
>for patterns in how they've arranged the deck.  For each subject I
>have a list like 3,5,2,4,1, indicating that (s)he chose 3 first, then
>5, then 2. . . .
>
>I think what I first need to do is to make a variable for each card
>with the rank given to each card, so the above list should be
>transformed to something like
>
>card1 card2 card3 card4 card5
>  5     3     1     4     2

I think what you want is order()
If you have something like m1:

3 5 2 4 1
1 2 3 4 5
5 4 3 2 1
..

Then 
t(apply(m1,1,order))
gives you
     [,1] [,2] [,3] [,4] [,5]
[1,]    5    3    1    4    2
[2,]    1    2    3    4    5
[3,]    5    4    3    2    1

You need the t() if you want it laid out this way.  Otherwise it
comes out in columns instead of rows.

Jon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mingliz2 at netscape.net  Fri Jan 25 02:21:26 2002
From: mingliz2 at netscape.net (mingliz2@netscape.net)
Date: Thu, 24 Jan 2002 20:21:26 -0500
Subject: [R] How to add error bars to plot(x,y)in R?
Message-ID: <43A2B39D.2228F1C3.00A174A8@netscape.net>

Dear R Experts,

Is there a way in R to add an error bar (say in the y direction) for each data point?  

Thanks

Ming Chow
-- 




__________________________________________________________________




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jan 25 02:23:21 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 24 Jan 2002 17:23:21 -0800 (PST)
Subject: Best way to check/assert a certain version of [R] or a package
In-Reply-To: <KKEGJOGBELBHDIKPINBMCEJNCJAA.hb@maths.lth.se>
Message-ID: <Pine.A41.4.44.0201241713480.56972-100000@homer34.u.washington.edu>

On Fri, 25 Jan 2002, Henrik Bengtsson wrote:

> When loading a package with library(APkg) or require(APkg) I would like to
> make sure that (1) the correct version of [R] is installed. If not an
> informative error message should be given. I would also like to make sure
> that (2)  another required package which is loaded from within the APkg
> package (by require(OtherPkg)) is of a certain version or later.

Following my usual habit of answering a different question from the one
you asked: there is an automated way to do this at install-time, which
should be sufficient for requiring 'at least' a certain version.  The `Depends'
field in the DESCRIPTION is described in `Writing R Extensions'

> First of all, I believe that the check should be done in .First.lib(),
> correct? To check for the correct version of [R] I would guess that
> R.Version()$major and R.Version()$minor could be used to retrieve the
> version. Is there any prewritten function to compare two version strings;
> "1.2.1" is before "1.2.10"?

 No, but you can convert it to a vector of numbers with
eg as.numeric(strsplit("1.2.10","\\.")[[1]])
and compare the resulting numbers

> What is the easiest way to retrieve the version string of a certain package.
> Should one find the path to the package, then load the DESCRIPTION file and
> parse it?

eg
> read.dcf(file = system.file("DESCRIPTION",package="MASS"),fields="Version")
     Version
[1,] "6.3-2"


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Fri Jan 25 02:52:27 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Thu, 24 Jan 2002 20:52:27 -0500
Subject: [R] getting rank order
Message-ID: <5429125E11E4D411AF7300805FE603A8040DE540@groexmbcr02.pfizer.com>

Jay,

I believe that 'order' will do what you want:

> motivations <- c(3,5,2,4,1)
> order(motivations)
[1] 5 3 1 4 2

So, if you a data frame or a matrix of 'motivations' with one row per
subject and one column per 'pick', you should be able to do

ranks <- apply( motivation.matix, 1, order )

I hope this helps.

-Greg


> -----Original Message-----
> From: Jay Pfaffman [mailto:pfaffman at relaxpc.com]
> Sent: Thursday, January 24, 2002 6:35 PM
> To: r-help at stat.math.ethz.ch
> Subject: [R] getting rank order
> 
> 
> I'm doing a study where people place a deck of cards in a certain
> order.  It's sufficient to assume that their colors & each has a
> number (it's actually about attributes of hobbies).  I'd like to look
> for patterns in how they've arranged the deck.  For each subject I
> have a list like 3,5,2,4,1, indicating that (s)he chose 3 first, then
> 5, then 2. . . .
> 
> I think what I first need to do is to make a variable for each card
> with the rank given to each card, so the above list should be
> transformed to something like
> 
> card1 card2 card3 card4 card5
>   5     3     1     4     2
> 
> I've RTFMed on sort and rank.  I can't find an elegant solution in
> either a spreadsheet or R.  I'm about to give up and do it by hand.
> 
> I thought that something like
> 
>    for (i in 1:25) ranks [1,as.integer(motivations[1,i])] <- i
> 
> might do it (and I'd add another loop to replace the 1's above), but
> I've been unsuccessful.
> 
> Anyway, solutions to that problem are welcome, as are suggestions
> about how to start looking at those data once I've done that.
> 
> Thanks.
> 
> P.S.  I asked some weeks ago for pointers to some "R cookbooks."
> Several people pointed out the "user contributed" documents.  I'm not
> sure how I missed them, but I did.  They've been quite helpful.  Also,
> I was able to find a copy of MASS in the library (not sure why I
> didn't think to look there sooner).  I'll soon break down and buy it.
> Thanks to all those who helped.
> 
> -- 
> Jay Pfaffman                           pfaffman at relaxpc.com
> +1-415-821-7507 (H)                    +1-415-810-2238 (M)
> http://relax.ltc.vanderbilt.edu/~pfaffman/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Fri Jan 25 03:12:09 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Thu, 24 Jan 2002 20:12:09 -0600
Subject: [R] How to add error bars to plot(x,y)in R?
In-Reply-To: <43A2B39D.2228F1C3.00A174A8@netscape.net>
References: <43A2B39D.2228F1C3.00A174A8@netscape.net>
Message-ID: <15440.48889.290304.896398@sonny.eddelbuettel.com>


  "Ming" == mingliz2  <mingliz2 at netscape.net> writes:
  Ming>  Dear R Experts, Is there a way in R to add an error bar (say in the
  Ming> y direction) for each data point?

This is a FAQ. Here is but one reply from the mailing list.

Dirk

   To: Baruch P Feldman <baruchf at mit.edu>
   cc: <r-help at stat.math.ethz.ch>
   Subject: Re: [R] Help with plotting error bars in R
   Date: Mon, 16 Apr 2001 15:29:07 -0400 (EDT)
   Status: O
   Content-Length: 4307
   Lines: 108
   
   
     This comes up as a FAQ every so often (it hasn't yet been added to the
   official FAQ list), you can find it in the mail archives in several
   places.
   
   http://www.R-project.org/nocvs/mail/r-help/2000/0451.html
   http://www.R-project.org/nocvs/mail/r-help/2000/2289.html
   http://www.R-project.org/nocvs/mail/r-help/2000/3326.html
   
     (plus a whole recent discussion of whether to include a plotCI function
   in the R base, or just to tell people how to do what they want using
   arrows() or segments())
   
     Here's the most recent version of my function:
   
   plotCI <- function (x, y = NULL, uiw, liw = uiw, aui=NULL, ali=aui,
                       err="y", ylim=NULL, sfrac = 0.01, gap=0, add=FALSE,
                       col=par("col"), lwd=par("lwd"), slty=par("lty"), xlab=NULL,
                       ylab=NULL, ...)  {
   ## originally from Bill Venables, R-list
     if (is.list(x)) {
       y <- x$y
       x <- x$x
     }
     if (is.null(y)) {
       if (is.null(x))
         stop("both x and y NULL")
       y <- as.numeric(x)
       x <- seq(along = x)
     }
     if (missing(xlab)) xlab <- deparse(substitute(x))
     if (missing(ylab)) ylab <- deparse(substitute(y))
     if (missing(uiw)) {  ## absolute limits
       ui <- aui
       li <- ali
     }
     else {  ## relative limits
       if (err=="y") z <- y else z <- x
       ui <- z + uiw
       li <- z - liw
     }
     if (is.null(ylim)) ylim <- range(c(y, ui, li), na.rm=TRUE)
     if (add) {
       points(x, y, col=col, lwd=lwd, ...)
     } else {
       plot(x, y, ylim = ylim, col=col, lwd=lwd, xlab=xlab, ylab=ylab, ...)
     }
     if (gap==TRUE) gap <- 0.01  ## default gap size
     ul <- c(li, ui)
     if (err=="y") {
       gap <- rep(gap,length(x))*diff(par("usr")[3:4])
   #    smidge <- diff(par("usr")[1:2]) * sfrac
       smidge <- par("fin")[1] * sfrac
   #    segments(x , li, x, pmax(y-gap,li), col=col, lwd=lwd, lty=slty)
   #    segments(x , ui, x, pmin(y+gap,ui), col=col, lwd=lwd, lty=slty)
       arrows(x , li, x, pmax(y-gap,li), col=col, lwd=lwd, lty=slty, angle=90, length=smidge, code=1)
       arrows(x , ui, x, pmin(y+gap,ui), col=col, lwd=lwd, lty=slty, angle=90, length=smidge, code=1)
       ## horizontal segments
   #    x2 <- c(x, x)
   #    segments(x2 - smidge, ul, x2 + smidge, ul, col=col, lwd=lwd)
     }
     else if (err=="x") {
       gap <- rep(gap,length(x))*diff(par("usr")[1:2])
       smidge <- par("fin")[2] * sfrac
   #    smidge <- diff(par("usr")[3:4]) * sfrac
       arrows(li, y, pmax(x-gap,li), y, col=col, lwd=lwd, lty=slty, angle=90, length=smidge, code=1)
       arrows(ui, y, pmin(x+gap,ui), y, col=col, lwd=lwd, lty=slty, angle=90, length=smidge, code=1)
       ## vertical segments
   #    y2 <- c(y, y)
   #    segments(ul, y2 - smidge, ul, y2 + smidge, col=col, lwd=lwd)
     }
     invisible(list(x = x, y = y))
   }
   
   On Mon, 16 Apr 2001, Baruch P Feldman wrote:
   
   > Hi,
   >
   > I'm sorry to send email to everyone on this list, but I have a simple question
   > which is bothering me and I can't seem to figure out the correct answer.  I
   > just downloaded R and I'm trying to reproduce some simple analysis I've done
   > on other packages.  In particular, if I have a vector of experimental values
   > and a vector of their uncertainties, is there a way to plot the values using
   > the uncertainties as error bars?  Other than this one problem R so far seems to
   > be a very good package.
   >
   > I'd greatly appreciate it if someone could reply to my email directly.
   >
   > Thank you.
   > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   > Send "info", "help", or "[un]subscribe"
   > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
   >
   
   -- 
   318 Carr Hall                                bolker at zoo.ufl.edu
   Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
   Box 118525                                   (ph)  352-392-5697
   Gainesville, FL 32611-8525                   (fax) 352-392-3704
    

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hortresearch.co.nz  Fri Jan 25 04:44:08 2002
From: P.Connolly at hortresearch.co.nz (Patrick Connolly)
Date: Fri, 25 Jan 2002 16:44:08 +1300 (NZDT)
Subject: [R] Better idea than Poisson?
Message-ID: <200201250344.g0P3i8815541@biomat1.marc.hort.cri.nz>


My data has three factors, a discrete response and an offset column.
>From the summary of a glm object derived using three way interactions,
I get this deviance information:

(Dispersion parameter for poisson family taken to be 1)

    Null deviance: 39244  on 896  degrees of freedom
Residual deviance: 11913  on 795  degrees of freedom
AIC: 13905

Number of Fisher Scoring iterations: 6


The rather high residual deviance could indicate that the data does
not fit a poisson distrubution very well.  That's believable since in
quite a number of combinations of the three factors, zero occurs more
often that one might expect for a Poisson distribution.


Are there suggestions as to what might be a better way to analyse this
data?


Thanks

-- 
*************************************************************
   ___      Patrick Connolly
 {~._.~}    HortResearch             Great minds discuss ideas;
 _( Y )_    Mt Albert                Average minds discuss events; 
(:_~*~_:)   Auckland                 Small minds discuss people.
 (_)-(_)    New Zealand                                    .... Anon
            Ph: +64-9 815 4200 x 7188
*************************************************************


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Fri Jan 25 07:35:36 2002
From: faheem at email.unc.edu (Faheem Mitha)
Date: Fri, 25 Jan 2002 01:35:36 -0500 (EST)
Subject: [R] random number generation issues with r and compiled C code
In-Reply-To: <Pine.LNX.4.31.0201242309470.17434-100000@gannet.stats>
Message-ID: <Pine.LNX.4.43.0201250133080.22349-100000@Chrestomanci>



On Thu, 24 Jan 2002, Prof Brian Ripley wrote:

> 3) When using standalone Rmathlib
>
>   A little care is needed to use the random-number routines. You will
>   need to supply the uniform random number generator
>
>   double unif_rand(void)
>
>   or use the one supplied (and with a shared library or DLL you will have
>   to use the one supplied, which is the Marsaglia-multicarry with an entry
>   point
>
>   set_seed(unsigned int, unsigned int)
>
>   to set its seeds).
>
> So, I'm not clear if you have supplied your own or used the one supplied,
> but if the latter, you need to call set_seed, *but only once*.

Thank you for the reply. I used the one supplied (set_seed). So can I call
set_seed from the top level of my C code; ie from main(), which then calls
other functions which call unif_rand() etc?

                                  Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan 25 08:51:59 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 25 Jan 2002 07:51:59 +0000 (GMT)
Subject: [R] random number generation issues with r and compiled C code
In-Reply-To: <Pine.LNX.4.43.0201250133080.22349-100000@Chrestomanci>
Message-ID: <Pine.GSO.4.31.0201250747370.15891-100000@auk.stats>

On Fri, 25 Jan 2002, Faheem Mitha wrote:

>
>
> On Thu, 24 Jan 2002, Prof Brian Ripley wrote:
>
> > 3) When using standalone Rmathlib
> >
> >   A little care is needed to use the random-number routines. You will
> >   need to supply the uniform random number generator
> >
> >   double unif_rand(void)
> >
> >   or use the one supplied (and with a shared library or DLL you will have
> >   to use the one supplied, which is the Marsaglia-multicarry with an entry
> >   point
> >
> >   set_seed(unsigned int, unsigned int)
> >
> >   to set its seeds).
> >
> > So, I'm not clear if you have supplied your own or used the one supplied,
> > but if the latter, you need to call set_seed, *but only once*.
>
> Thank you for the reply. I used the one supplied (set_seed). So can I call
> set_seed from the top level of my C code; ie from main(), which then calls
> other functions which call unif_rand() etc?

Yes, you can do it.  What it does is to set internal C variables which
unif_rand() consults.  It's all in .../src/nmath/standalone/sunif.c, and
it is easier to read the code than to try explain it to you in words.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From carlos.ortega at minorplanet.com  Thu Jan 24 10:03:14 2002
From: carlos.ortega at minorplanet.com (Carlos Ortega)
Date: Thu, 24 Jan 2002 10:03:14 +0100
Subject: [R] Versions of R 1.4.0 for Windows (LATTICE PACKAGE MISSING IN CONTRIB - WINDOWS ?? )
In-Reply-To: <Pine.LNX.4.31.0201231701430.1194-100000@gannet.stats>
Message-ID: <025b01c1a4b5$f54a07f0$176ea8c0@MinorplanetDev>

Dear R-Help

I have just downloaded the SetupR-patched.exe from the CRAN and install it.
I also wanted to install the grid and lattice package, but it seems that the
lattice is not available in the contrib directory.

I installed and old version of both them (November last year) and they seem
to work. But, obviously they are not the latest
0.5 and 0.4-0 respectively versions.

Thanks,
Carlos.

-----Mensaje original-----
De: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]En nombre de Prof Brian Ripley
Enviado el: miercoles, 23 de enero de 2002 18:08
Para: R-help at stat.math.ethz.ch
Asunto: [R] Versions of R 1.4.0 for Windows


We have removed from CRAN the seemingly faulty version of R 1.4.0 for
Windows and replaced it by the one I built on Dec 20 that is known to work
with grid and lattice.

I've built a SetupR-patched.exe today from the current R-patched sources
and with the latest versions of the recommended packages.  You might
prefer to change to that if you want to re-install: otherwise wait for
R 1.4.1 in a week or so.  As this is a snapshot, it is only minimally
tested.

These will propogate around CRAN in due course, but are available at
http://www.stats.ox.ac.uk/pub/RWin.

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From carlos.ortega at minorplanet.com  Thu Jan 24 19:24:38 2002
From: carlos.ortega at minorplanet.com (Carlos Ortega)
Date: Thu, 24 Jan 2002 19:24:38 +0100
Subject: [R] RE:
Message-ID: <02da01c1a504$628489f0$176ea8c0@MinorplanetDev>

Hello,

Although your message is not very explicit about the structure of your data
frame,
I think you can get what you want by using a combination of the function
"split" and
the "apply" functions family: apply, lapply and sapply.

If you provide a more detailed organization of your data frame, perhaps we
can give
to you a more wiser advice.

Thanks,
Carlos.
P.S: By the way, please include in the "Subject" a more descriptive message.

-----Mensaje original-----
De: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]En nombre de Erin Hodgess
Enviado el: mi?rcoles, 23 de enero de 2002 22:39
Para: r-help at stat.math.ethz.ch
Asunto:


Dear R People:

Here is a very simple question, please:

I have a data frame with the state name, state division, and population.

Note: state division is something like Atlantic, Mountain, etc.

I want to produce a table with the state division and the total of the
populations for the states within that division.

I've been messing with "table" but so far, no luck.

This is R1.3.1, on Windows 98.

thanks in advance!

Sincerely,
Erin Hodgess
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
1 Main Street
Houston, TX 77002
mailto: hodgess at uhddx01.dt.uh.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan 25 09:15:36 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 25 Jan 2002 08:15:36 +0000 (GMT)
Subject: [R] Versions of R 1.4.0 for Windows (LATTICE PACKAGE MISSING IN
 CONTRIB - WINDOWS ?? )
In-Reply-To: <025b01c1a4b5$f54a07f0$176ea8c0@MinorplanetDev>
Message-ID: <Pine.GSO.4.31.0201250812100.15919-100000@auk.stats>

On Thu, 24 Jan 2002, Carlos Ortega wrote:

> Dear R-Help
>
> I have just downloaded the SetupR-patched.exe from the CRAN and install it.
> I also wanted to install the grid and lattice package, but it seems that the
> lattice is not available in the contrib directory.

It was there when I wrote.  I've no idea what has happened, but it should
reappear tomorrow.  Sorry for the hiatus.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan 25 09:21:52 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 25 Jan 2002 08:21:52 +0000 (GMT)
Subject: Best way to check/assert a certain version of [R] or a package
In-Reply-To: <Pine.A41.4.44.0201241713480.56972-100000@homer34.u.washington.edu>
Message-ID: <Pine.GSO.4.31.0201250816370.15919-100000@auk.stats>

On Thu, 24 Jan 2002, Thomas Lumley wrote:

> On Fri, 25 Jan 2002, Henrik Bengtsson wrote:
>
> > When loading a package with library(APkg) or require(APkg) I would like to
> > make sure that (1) the correct version of [R] is installed. If not an
> > informative error message should be given. I would also like to make sure
> > that (2)  another required package which is loaded from within the APkg
> > package (by require(OtherPkg)) is of a certain version or later.
>
> Following my usual habit of answering a different question from the one
> you asked: there is an automated way to do this at install-time, which
> should be sufficient for requiring 'at least' a certain version.  The `Depends'
> field in the DESCRIPTION is described in `Writing R Extensions'

I don't think it is sufficient, and have been about to propose automatic
run-time R version checking.  The problem is that if installed on one
version it can be used on another.  It's a particular problem with binary
distributions.


> > First of all, I believe that the check should be done in .First.lib(),
> > correct? To check for the correct version of [R] I would guess that
> > R.Version()$major and R.Version()$minor could be used to retrieve the
> > version. Is there any prewritten function to compare two version strings;
> > "1.2.1" is before "1.2.10"?
>
>  No, but you can convert it to a vector of numbers with
> eg as.numeric(strsplit("1.2.10","\\.")[[1]])
> and compare the resulting numbers

Yes, but for checking R versions that does not arise.

R.Version()$major == 1 && R.Version()$minor >= 4.1

will work (and normally >= 4 is the sort of test required).

> > What is the easiest way to retrieve the version string of a certain package.
> > Should one find the path to the package, then load the DESCRIPTION file and
> > parse it?
>
> eg
> > read.dcf(file = system.file("DESCRIPTION",package="MASS"),fields="Version")
>      Version
> [1,] "6.3-2"
>
>
> 	-thomas
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Fri Jan 25 09:47:14 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 25 Jan 2002 08:47:14 +0000
Subject: [R] How to add error bars to plot(x,y)in R?
In-Reply-To: <43A2B39D.2228F1C3.00A174A8@netscape.net>
References: <43A2B39D.2228F1C3.00A174A8@netscape.net>
Message-ID: <EtV5DDASuRU8Ew6k@myatt.demon.co.uk>

mingliz2 at netscape.net writes:
>Dear R Experts,
>
>Is there a way in R to add an error bar (say in the y direction) for each data 
>point?  

Have a look at my notes on R from:

        http://www.myatt.demon.co.uk

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan 25 09:58:33 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 25 Jan 2002 08:58:33 +0000 (GMT)
Subject: [R] Better idea than Poisson?
In-Reply-To: <200201250344.g0P3i8815541@biomat1.marc.hort.cri.nz>
Message-ID: <Pine.LNX.4.31.0201250854440.18807-100000@gannet.stats>

On Fri, 25 Jan 2002, Patrick Connolly wrote:

>
> My data has three factors, a discrete response and an offset column.
> >From the summary of a glm object derived using three way interactions,
> I get this deviance information:
>
> (Dispersion parameter for poisson family taken to be 1)
>
>     Null deviance: 39244  on 896  degrees of freedom
> Residual deviance: 11913  on 795  degrees of freedom
> AIC: 13905
>
> Number of Fisher Scoring iterations: 6
>
>
> The rather high residual deviance could indicate that the data does
> not fit a poisson distrubution very well.  That's believable since in
> quite a number of combinations of the three factors, zero occurs more
> often that one might expect for a Poisson distribution.
>
>
> Are there suggestions as to what might be a better way to analyse this
> data?

I would at least try a negative binomial (glm.nb in MASS), but as that
seems to be a very large degree of over-dispersion it might not fit much
better.  You could fairly easily write code for a zero-augmented Poisson
(a mixture of a Poisson and always zero) by a direct likelihood
maximization.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Fri Jan 25 10:29:05 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Fri, 25 Jan 2002 10:29:05 +0100 (MET)
Subject: [R] How to add error bars to plot(x,y)in R?
In-Reply-To: <15440.48889.290304.896398@sonny.eddelbuettel.com>
Message-ID: <Pine.OSF.3.96.1020125102720.8203B-100000@ija.csic.es>


On Thu, 24 Jan 2002, Dirk Eddelbuettel wrote:

> 
>   "Ming" == mingliz2  <mingliz2 at netscape.net> writes:
>   Ming>  Dear R Experts, Is there a way in R to add an error bar (say in the
>   Ming> y direction) for each data point?
> 
> This is a FAQ. Here is but one reply from the mailing list.
>.../...
>    
>      This comes up as a FAQ every so often (it hasn't yet been added to the
>    official FAQ list), you can find it in the mail archives in several
>    places.


The real solution would be adding this feature as an option
to plot.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Fri Jan 25 11:24:28 2002
From: siim at obs.ee (Ott Toomet)
Date: Fri, 25 Jan 2002 11:24:28 +0100 (CET)
Subject: [R] problem with read.table -- example
Message-ID: <Pine.LNX.4.33.0201251113180.2928-100000@localhost.localdomain>

Hi,

I have not get much response for my question about read.table for couple of
days ago.  As I said, the problem is that read.delim() do not want to read
more than 51 lines of data, with longer file it reads the first column as
row names, although I have not noticed any special binary symbols around
line 51 either.  This problem seems to happen with this particular file, I
could easily read in a 12000 rows x 22 cols table.

I add my problematic file (it is really small) here, in a uuencoded gziped
form.  What I did was:

> a <- read.delim("tab20.and")
Error in "row.names<-.data.frame"(*tmp*, value = row.names) :
	duplicate row.names are not allowed

I am interested if anybody (specially on RH 7.1) is able to read the table
in the same way.

Thanks in advance,

Ott Toomet


My R-version is 1.4.0 without any patches I am aware of:

platform i686-pc-linux-gnu
arch     i686
os       linux-gnu
system   i686, linux-gnu
status
major    1
minor    4.0
year     2001
month    12
day      19
language R

And the table itself:

begin 664 tab20.and.gz
M'XL("%'M3SP``W1A8C(P+F%N9`"=T\L. at D`,!=`U_(N3ON;1_W&O,?Y_!$$'
M>M$869&3MA<FG?MPO5W.8TTT/P,E8M9&-#H(:XIB4:2`>)0L,$<I?4P7<9]$
M:PIB#.)1-EFK,'L*D]>LTT3JN<Y%:]B6'$@:4!4 at QT:FY\'MB)&6C]^31A(N
M6-43LY69"@-Y`Y)^ZI0UTTPY16I(VANKR?*+*4JO*;;,!M&_Q$`:"/=E>:4+
MB(+4*`I="EV:HQC4'(A%87I?BU5R7]5IATQI>._\AJ17$=7G^\B;Q?QFPC]:
31=.&9D>YR_7:V0/)#`.YB`0`````
`
end

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Fri Jan 25 11:24:30 2002
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Fri, 25 Jan 2002 11:24:30 +0100
Subject: [R] RE:
References: <02da01c1a504$628489f0$176ea8c0@MinorplanetDev>
Message-ID: <3C51325E.527C05CA@ci.tuwien.ac.at>

Carlos Ortega wrote:
> 
> Hello,
> 
> Although your message is not very explicit about the structure of your data
> frame,
> I think you can get what you want by using a combination of the function
> "split" and
> the "apply" functions family: apply, lapply and sapply.
> 
> If you provide a more detailed organization of your data frame, perhaps we
> can give
> to you a more wiser advice.

aggregate() is your friend.

-d

> 
> Thanks,
> Carlos.
> P.S: By the way, please include in the "Subject" a more descriptive message.
> 
> -----Mensaje original-----
> De: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]En nombre de Erin Hodgess
> Enviado el: mi?rcoles, 23 de enero de 2002 22:39
> Para: r-help at stat.math.ethz.ch
> Asunto:
> 
> Dear R People:
> 
> Here is a very simple question, please:
> 
> I have a data frame with the state name, state division, and population.
> 
> Note: state division is something like Atlantic, Mountain, etc.
> 
> I want to produce a table with the state division and the total of the
> populations for the states within that division.
> 
> I've been messing with "table" but so far, no luck.
> 
> This is R1.3.1, on Windows 98.
> 
> thanks in advance!
> 
> Sincerely,
> Erin Hodgess
> Associate Professor
> Department of Computer and Mathematical Sciences
> University of Houston - Downtown
> 1 Main Street
> Houston, TX 77002
> mailto: hodgess at uhddx01.dt.uh.edu
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan 25 11:43:59 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 25 Jan 2002 10:43:59 +0000 (GMT)
Subject: [R] problem with read.table -- example
In-Reply-To: <Pine.LNX.4.33.0201251113180.2928-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.31.0201251033380.19057-100000@gannet.stats>

On Fri, 25 Jan 2002, Ott Toomet wrote:

> I have not get much response for my question about read.table for couple of
> days ago.  As I said, the problem is that read.delim() do not want to read

There is no problem with this example using R-patched or if you edit
read.table to apply the patch I posted on R-help:

Date: Tue, 15 Jan 2002 09:48:21 +0000 (GMT)
Subject: Re: [R] Lower performance execution in read.table()  in R-1.4.0
vs. R-1.3.1.. ?

which you will be find at
http://www.r-project.org/nocvs/mail/r-help/2002/0335.html

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dechwang at yahoo.co.uk  Fri Jan 25 11:43:51 2002
From: dechwang at yahoo.co.uk (=?iso-8859-1?q?dechao=20wang?=)
Date: Fri, 25 Jan 2002 10:43:51 +0000 (GMT)
Subject: [R] interpretation of lm
In-Reply-To: <20020125102031.88627.qmail@web20610.mail.yahoo.com>
Message-ID: <20020125104351.88101.qmail@web20601.mail.yahoo.com>

Dear statistitians / R users,

I was told to analyse the effects of the four factors
using lm or update for aov. The following is the
result from lm. As you can see that in the last few
lines enclosed coefficients. 

1)Does this mean I can write a formula, like 

yield =0.26 + 0.03*H + 1.48*T + 0.04*L + 0.004*C

2) in the two levels design, is there any difference
between I use (-1, 1) to represent the lower and
higher levels and I use (5000, 10000) as the real
levels?

3) how can I extract the coefficients after analysis,
I mean can I write the coefficients as a vector?

4) how can I call R function from C code, for example,
can I call lm(...) from C functiomns?

5) after experiment designs, we can analyse which
factors have big effects, can we construct in R a
response surface so that we can optimise the levels of
the factors by maxmising the response surface, can you
advise me how to do that in R?

6) if the number of factors is over 1000, is it
possible to analyse the effect of each factor using
the same way as above?

Many thanks
Dechao
> > 
> > Dear R users,
> > 
> > I did 16 experiments, with 16 responses (yield),
> and 4
> > factors(hidden, theres, lrate, cycl) with each
> having
> > 2 levels as shown below. I want to do analysis of
> > variance to see which factor affect the response.
> The
> > coses are as follows:
> > 
> > hidden<-c(2,2,10,10,2,2,10,10,2,2,10,10,2,2,10,10)
> > theres<-c(0.0001, 0.1, 0.0001, 0.1, 0.0001, 0.1,
> > 0.0001, 0.1, 0.0001, 0.1, 0.0001, 0.1, 0.0001,
> 0.1,
> > 0.0001, 0.1)
> >
>
lrate<-c(0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9)
> >
>
cycl<-c(5000,5000,5000,5000,10000,10000,10000,10000,5000,5000,5000,5000,10000,10000,10000,10000)
> > yield<-c(0.26, 1.77, 0.29, 1.75, 0.26, 1.77, 0.31,
> > 1.75, 0.29, 1.78, 0.35, 1.83, 0.29, 1.79, 0.35,
> 1.83)
> > 
> >     npk <- data.frame(H=factor(hidden),
> > T=factor(theres),
> >                        L=factor(lrate),
> > C=factor(cycl), yield=yield)
> > 
> >      ( npk.aov <- aov(yield ~ H*T*L*C, npk) )
> >      summary(npk.aov)
> > 
> > when I run it, I got the following results: but
> there
> > is no any F values and p-values. Can you please
> advise
> > me what I missed? Many thanks in advance, dechao
> 
> 
> Your model is much to complex for only 16
> observations.
> 
> The following e.g. works:
> 
>  tmp <- lm(yield ~ H+T+L+C, npk)
> > summary(tmp)
> 
> Call:
> lm(formula = yield ~ H + T + L + C, data = npk)
> 
> Residuals:
>       Min        1Q    Median        3Q       Max 
> -0.029375 -0.009687 -0.001250  0.011563  0.025625 
> 
> Coefficients:
>             Estimate Std. Error t value Pr(>|t|)    
> (Intercept) 0.260625   0.010618  24.545 5.88e-11 ***
> H10         0.031250   0.009497   3.290 0.007200 ** 
> T0.1        1.483750   0.009497 156.228  < 2e-16 ***
> L0.9        0.043750   0.009497   4.607 0.000757 ***
> C10000      0.003750   0.009497   0.395 0.700503    
> ---
> Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.'
> 0.1 ` ' 1 
> 


__________________________________________________

Everything you'll ever need on one web page
from News and Sport to Email and Music Charts

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jan 25 11:56:06 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Jan 2002 11:56:06 +0100
Subject: [R] problem with read.table -- example
In-Reply-To: <Pine.LNX.4.33.0201251113180.2928-100000@localhost.localdomain>
References: <Pine.LNX.4.33.0201251113180.2928-100000@localhost.localdomain>
Message-ID: <x2hepaem2h.fsf@blueberry.kubism.ku.dk>

Ott Toomet <siim at obs.ee> writes:

> Hi,
> 
> I have not get much response for my question about read.table for couple of
> days ago.  As I said, the problem is that read.delim() do not want to read
> more than 51 lines of data, with longer file it reads the first column as
> row names, although I have not noticed any special binary symbols around
> line 51 either.  This problem seems to happen with this particular file, I
> could easily read in a 12000 rows x 22 cols table.
> 
> I add my problematic file (it is really small) here, in a uuencoded gziped
> form.  What I did was:
> 
> > a <- read.delim("tab20.and")
> Error in "row.names<-.data.frame"(*tmp*, value = row.names) :
> 	duplicate row.names are not allowed
> 
> I am interested if anybody (specially on RH 7.1) is able to read the table
> in the same way.

The error message is unduly cryptic, but the problem seems to be this:

> count.fields("tab20.and",sep="\t")
 [1] 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2
[39] 2 2 2 2 2 2 2 2 2 2 2 2 2 2 3 3 2 2 2 2 2 2 2 2 2
                                 ! !

(lines 53 and 54 have an extra TAB at the end)

Interestingly,

> read.table("tab20.and",head=T,sep="\t")
Error in scan(file = file, what = what, sep = sep, quote = quote, dec = dec,  : 
        line 1 did not have 3 elements

which is not exactly pinpointing the problem, but gives a better clue.
(I.e., fill=T is making things confused)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan 25 13:16:07 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 25 Jan 2002 12:16:07 +0000 (GMT)
Subject: Best way to check/assert a certain version of [R] or a package
In-Reply-To: <KKEGJOGBELBHDIKPINBMCEJNCJAA.hb@maths.lth.se>
Message-ID: <Pine.LNX.4.31.0201251211470.19326-100000@gannet.stats>

On Fri, 25 Jan 2002, Henrik Bengtsson wrote:

[...]

> What is the easiest way to retrieve the version string of a certain package.
> Should one find the path to the package, then load the DESCRIPTION file and
> parse it?

Take a look at packageStatus, which uses package.description and
compareVersion.  package.dependencies can be used to test the R version
at present, at least.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Fri Jan 25 14:43:03 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Fri, 25 Jan 2002 14:43:03 +0100 (MET)
Subject: SUMMARY: Best way to check/assert a certain version of [R] or
 a package
In-Reply-To: <Pine.LNX.4.31.0201251211470.19326-100000@gannet.stats>
Message-ID: <Pine.GSO.4.10.10201251431370.16960-100000@speed.maths.lth.se>

Thanks for all you replies here. Here is a short summary how to solve the
two problems discussed:

1) Check for correct version of [R]

  current <- paste(R.Version()[c("major", "minor")], collapse=".")
  wanted <- "1.4.0"
  tooOld <- (compareVersion(current, wanted) < 0)

2) Check for correct version of a package

  package <- "eda"
  current <- package.description(package)["Version"]
  wanted <- "1.3.1"
  tooOld <- (compareVersion(current, wanted) < 0)

It could be questioned if compareVersion("1.4.0", "1.4") should give 1
and not 0, but hopefully that is not an real issue.

PS. packageStatus() seems promising. DS.

Have nice day!

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences 
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e
http://www.maths.lth.se/matstat/staff/hb/



On Fri, 25 Jan 2002, Prof Brian Ripley wrote:

> On Fri, 25 Jan 2002, Henrik Bengtsson wrote:
> 
> [...]
> 
> > What is the easiest way to retrieve the version string of a certain package.
> > Should one find the path to the package, then load the DESCRIPTION file and
> > parse it?
> 
> Take a look at packageStatus, which uses package.description and
> compareVersion.  package.dependencies can be used to test the R version
> at present, at least.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dechwang at yahoo.co.uk  Fri Jan 25 16:06:47 2002
From: dechwang at yahoo.co.uk (=?iso-8859-1?q?dechao=20wang?=)
Date: Fri, 25 Jan 2002 15:06:47 +0000 (GMT)
Subject: [R] interpretation of lm
In-Reply-To: <20020125104351.88101.qmail@web20601.mail.yahoo.com>
Message-ID: <20020125150647.40232.qmail@web20609.mail.yahoo.com>

Hello,

I have not receive the response for this. Sorry for
putting many questions together. I am newer using R.
Some questions may not be good, however, answer to any
question will be very appreciated. 

By the way can you tell me is it possible to do
polynomail regression and response Surface Regression?

thanks,
 --- dechao wang <dechwang at yahoo.co.uk> wrote: > Dear
statistitians / R users,
> 
> I was told to analyse the effects of the four
> factors
> using lm or update for aov. The following is the
> result from lm. As you can see that in the last few
> lines enclosed coefficients. 
> 
> 1)Does this mean I can write a formula, like 
> 
> yield =0.26 + 0.03*H + 1.48*T + 0.04*L + 0.004*C
> 
> 2) in the two levels design, is there any difference
> between I use (-1, 1) to represent the lower and
> higher levels and I use (5000, 10000) as the real
> levels?
> 
> 3) how can I extract the coefficients after
> analysis,
> I mean can I write the coefficients as a vector?
> 
> 4) how can I call R function from C code, for
> example,
> can I call lm(...) from C functiomns?
> 
> 5) after experiment designs, we can analyse which
> factors have big effects, can we construct in R a
> response surface so that we can optimise the levels
> of
> the factors by maxmising the response surface, can
> you
> advise me how to do that in R?
> 
> 6) if the number of factors is over 1000, is it
> possible to analyse the effect of each factor using
> the same way as above?
> 
> Many thanks
> Dechao
> > > 
> > > Dear R users,
> > > 
> > > I did 16 experiments, with 16 responses (yield),
> > and 4
> > > factors(hidden, theres, lrate, cycl) with each
> > having
> > > 2 levels as shown below. I want to do analysis
> of
> > > variance to see which factor affect the
> response.
> > The
> > > coses are as follows:
> > > 
> > >
> hidden<-c(2,2,10,10,2,2,10,10,2,2,10,10,2,2,10,10)
> > > theres<-c(0.0001, 0.1, 0.0001, 0.1, 0.0001, 0.1,
> > > 0.0001, 0.1, 0.0001, 0.1, 0.0001, 0.1, 0.0001,
> > 0.1,
> > > 0.0001, 0.1)
> > >
> >
>
lrate<-c(0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9)
> > >
> >
>
cycl<-c(5000,5000,5000,5000,10000,10000,10000,10000,5000,5000,5000,5000,10000,10000,10000,10000)
> > > yield<-c(0.26, 1.77, 0.29, 1.75, 0.26, 1.77,
> 0.31,
> > > 1.75, 0.29, 1.78, 0.35, 1.83, 0.29, 1.79, 0.35,
> > 1.83)
> > > 
> > >     npk <- data.frame(H=factor(hidden),
> > > T=factor(theres),
> > >                        L=factor(lrate),
> > > C=factor(cycl), yield=yield)
> > > 
> > >      ( npk.aov <- aov(yield ~ H*T*L*C, npk) )
> > >      summary(npk.aov)
> > > 
> > > when I run it, I got the following results: but
> > there
> > > is no any F values and p-values. Can you please
> > advise
> > > me what I missed? Many thanks in advance, dechao
> > 
> > 
> > Your model is much to complex for only 16
> > observations.
> > 
> > The following e.g. works:
> > 
> >  tmp <- lm(yield ~ H+T+L+C, npk)
> > > summary(tmp)
> > 
> > Call:
> > lm(formula = yield ~ H + T + L + C, data = npk)
> > 
> > Residuals:
> >       Min        1Q    Median        3Q       Max 
> > -0.029375 -0.009687 -0.001250  0.011563  0.025625 
> > 
> > Coefficients:
> >             Estimate Std. Error t value Pr(>|t|)  
>  
> > (Intercept) 0.260625   0.010618  24.545 5.88e-11
> ***
> > H10         0.031250   0.009497   3.290 0.007200
> ** 
> > T0.1        1.483750   0.009497 156.228  < 2e-16
> ***
> > L0.9        0.043750   0.009497   4.607 0.000757
> ***
> > C10000      0.003750   0.009497   0.395 0.700503  
>  
> > ---
> > Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05
> `.'
> > 0.1 ` ' 1 
> > 
> 
> 
> __________________________________________________
> 
> Everything you'll ever need on one web page
> from News and Sport to Email and Music Charts
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 

__________________________________________________

Everything you'll ever need on one web page
from News and Sport to Email and Music Charts

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Fri Jan 25 16:18:33 2002
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Fri, 25 Jan 2002 16:18:33 +0100 (MET)
Subject: [R] Better idea than Poisson?
In-Reply-To: <Pine.LNX.4.31.0201250854440.18807-100000@gannet.stats> from "Prof Brian Ripley" at Jan 25, 2002 08:58:33 AM
Message-ID: <200201251518.QAA20397@luc.ac.be>

> 
> On Fri, 25 Jan 2002, Patrick Connolly wrote:
> 
> >
> > My data has three factors, a discrete response and an offset column.
> > >From the summary of a glm object derived using three way interactions,
> > I get this deviance information:
> >
> > (Dispersion parameter for poisson family taken to be 1)
> >
> >     Null deviance: 39244  on 896  degrees of freedom
> > Residual deviance: 11913  on 795  degrees of freedom
> > AIC: 13905
> >
> > Number of Fisher Scoring iterations: 6
> >
> >
> > The rather high residual deviance could indicate that the data does
> > not fit a poisson distrubution very well.  That's believable since in
> > quite a number of combinations of the three factors, zero occurs more
> > often that one might expect for a Poisson distribution.
> >
> >
> > Are there suggestions as to what might be a better way to analyse this
> > data?
> 
> I would at least try a negative binomial (glm.nb in MASS), but as that
> seems to be a very large degree of over-dispersion it might not fit much
> better.  You could fairly easily write code for a zero-augmented Poisson
> (a mixture of a Poisson and always zero) by a direct likelihood
> maximization.

The zero-augmented Poisson regression is available in my fmr function,
and a number of different overdispersed binomial distribution
regressions, including negative binomial, are available in gnlr, all
in my gnlm library at www.luc.ac.be/~jlindsey/rcode.html
  Jim

> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan 25 16:44:34 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 25 Jan 2002 15:44:34 +0000 (GMT)
Subject: [R] interpretation of lm
In-Reply-To: <20020125150647.40232.qmail@web20609.mail.yahoo.com>
Message-ID: <Pine.GSO.4.31.0201251537410.18636-100000@auk.stats>

On Fri, 25 Jan 2002, [iso-8859-1] dechao wang wrote:

> Hello,
>
> I have not receive the response for this. Sorry for
> putting many questions together. I am newer using R.
> Some questions may not be good, however, answer to any
> question will be very appreciated.

You said

`I was told to analyse the effects of the four factors ...'

This makes some of us suspect that either this is a homework question or
that you were asked to do this by an employer.  If you want help, please
identify yourself and make clear the purpose of your enquiry, and then your
readers can better judge if they want to offer statistical consultancy for
free.

> By the way can you tell me is it possible to do
> polynomail regression and response Surface Regression?

It is possible, in R.

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From york at noaa.gov  Fri Jan 25 16:47:48 2002
From: york at noaa.gov (Anne York)
Date: Fri, 25 Jan 2002 07:47:48 -0800 (PST)
Subject: [R] How to add error bars to plot(x,y)in R?
In-Reply-To: <43A2B39D.2228F1C3.00A174A8@netscape.net>
Message-ID: <Pine.GSO.4.05.10201250745540.21601-100000@ofis450a.akctr.noaa.gov>

Here is a very  simple function to superimpose error bars (in the
y-direction) on an existing  plot. Play with lh to get desired width. You
have to take care that the plot limits are wide enough to accomodate the
error bars.

"superpose.eb" <-
function(x,y,ebl,ebu = ebl,lh=.01,...){
 segments(x, y + ebu, x, y - ebl, ...) 
 segments(x - lh , y + ebu, x + lh , y + ebu,  ...)
 segments(x - lh , y - ebl, x + lh , y - ebl,
        ...)
}
 

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Anne E. York
National Marine Mammal Laboratory
Seattle WA 98115-0070  USA
e-mail: anne.york at noaa.gov
Voice: +1 206-526-4039
Fax: +1 206-526-6615  
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Anne E. York
National Marine Mammal Laboratory
Seattle WA 98115-0070  USA
e-mail: anne.york at noaa.gov
Voice: +1 206-526-4039
Fax: +1 206-526-6615
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

On Thu, 24 Jan 2002 mingliz2 at netscape.net wrote:

>Dear R Experts,
>
>Is there a way in R to add an error bar (say in the y direction) for each data point?  
>
>Thanks
>
>Ming Chow
>-- 
>
>
>
>
>__________________________________________________________________
>
>
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dechwang at yahoo.co.uk  Fri Jan 25 17:05:28 2002
From: dechwang at yahoo.co.uk (=?iso-8859-1?q?dechao=20wang?=)
Date: Fri, 25 Jan 2002 16:05:28 +0000 (GMT)
Subject: [R] interpretation of lm
In-Reply-To: <Pine.GSO.4.31.0201251537410.18636-100000@auk.stats>
Message-ID: <20020125160528.81977.qmail@web20604.mail.yahoo.com>

 --- Prof Brian D Ripley <ripley at stats.ox.ac.uk>
wrote: > On Fri, 25 Jan 2002, [iso-8859-1] dechao wang
wrote:
> 
> > Hello,
> >
> > I have not receive the response for this. Sorry
> for
> > putting many questions together. I am newer using
> R.
> > Some questions may not be good, however, answer to
> any
> > question will be very appreciated.
> 
> You said
> 
> `I was told to analyse the effects of the four
> factors ...'
> 
> This makes some of us suspect that either this is a
> homework question or
> that you were asked to do this by an employer.  If
> you want help, please
> identify yourself and make clear the purpose of your
> enquiry, and then your
> readers can better judge if they want to offer
> statistical consultancy for
> free.
> 
I am trying to learn R at moment. It is neither
homework nor employer ask to do that. I found an
example to do effect analysis, but i got a problem, I
sent a question to the list yesterday. I was told by
r-help users yesterday that the effects of four
factors in the example can be analysed using ...
But I did not know any rules about this mailing list.

Many thanks,
Dechao
> > By the way can you tell me is it possible to do
> > polynomail regression and response Surface
> Regression?
> 
> It is possible, in R.
> 
> [...]
> 
> -- 
> Brian D. Ripley,                 
> ripley at stats.ox.ac.uk
> Professor of Applied Statistics, 
> http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865
> 272861 (self)
> 1 South Parks Road,                     +44 1865
> 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865
> 272595
>  

__________________________________________________

Everything you'll ever need on one web page
from News and Sport to Email and Music Charts

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gbrush at darwin.sfbr.org  Fri Jan 25 17:20:50 2002
From: gbrush at darwin.sfbr.org (Gerry Brush)
Date: Fri, 25 Jan 2002 10:20:50 -0600
Subject: [R] Simplex difficulties
Message-ID: <7F710134-11AF-11D6-A868-003065AB1B98@darwin.sfbr.org>

I'm exploring the simplex algorithm with a simple transportation problem 
of the form:

minimize:

	8a + 6b + 10c + 9d + 5e + 7f

subject to the constraints:

	a + b + c = 11
	d + e + f = 14
	a + d = 10
	b + e = 8
	c + f = 7

I've implemented this in R (1.4.0 (2001-12-19), SunOS 5.7) as:

	require(boot)
	costs = c(8,6,10,9,5,7)
	constraints = c(
	1,1,1,0,0,0,
	0,0,0,1,1,1,
	1,0,0,1,0,0,
	0,1,0,0,1,0,
	0,0,1,0,0,1
	)
	consmat = matrix(constraints, nrow=5, ncol=6, byrow=T)
	consrhs = c(11,14,10,8,7)
	simpres = simplex(a=costs, A3=consmat, b3=consrhs, maxi=F)

where I get the error from the simplex function:

	Error in simplex1(out1$a[1:(n + m1 + m2)], out1$A[, 1:(n + m1 + 
m2)],  :
	subscript out of bounds

According to Gass (An Illustrated Guide to Linear Programming) the 
solution should be a=10, b=1, c=0, d=0, e=7, f=7 to minimize the 
objective function at 170.  Have I misunderstood the use of the simplex 
function here?

Thanks,

Gerry Brush


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andys at neptuneandco.com  Fri Jan 25 17:40:42 2002
From: andys at neptuneandco.com (Andrew Schuh)
Date: Fri, 25 Jan 2002 09:40:42 -0700
Subject: [R] RODBC, Apache, Linux
Message-ID: <4.1.20020125093542.00acf9e8@63.225.15.193>

This may be as much of a Linux Newbie question as an RODBC question.  I've
managed to get iODBC working on my RedHat 7.2 system.  I can load the
library and run it as root.  However, I would like to be able to run it via
Perl and Apache over the web.  I'm not sure what I need to change in order
to let "nobody" (the user running the scripts off of Apache) load the
library.  I can log in as "nobody" to run R but can't seem to load the
library.  I imagine there might be an access issue?  Has anybody done this
and can you tell me how?  
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Fri Jan 25 18:12:54 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 25 Jan 2002 11:12:54 -0600
Subject: [R] RODBC, Apache, Linux
In-Reply-To: <4.1.20020125093542.00acf9e8@63.225.15.193>
References: <4.1.20020125093542.00acf9e8@63.225.15.193>
Message-ID: <20020125171253.GA12057@sonny.eddelbuettel.com>

On Fri, Jan 25, 2002 at 09:40:42AM -0700, Andrew Schuh wrote:
> This may be as much of a Linux Newbie question as an RODBC question.  I've
> managed to get iODBC working on my RedHat 7.2 system.  I can load the
> library and run it as root.  However, I would like to be able to run it via

I'd try smaller steps, i.e. make sure it works as you.

> Perl and Apache over the web.  I'm not sure what I need to change in order
> to let "nobody" (the user running the scripts off of Apache) load the
> library.  I can log in as "nobody" to run R but can't seem to load the
> library.  I imagine there might be an access issue?  Has anybody done this
> and can you tell me how?  

On my (Debian) system, "cd ~nobody" goes into /home/. [1] So that's where
I placed the .odbc.ini, which is in fact a soft link to ~edd/.iodbc.ini.
With that, Perl cgi scripts (which call R) work just fine. 

The usual caveat applies about security of cgi scripts etc. For me, the setup
is at work behind fairly extensive firewalls.

Dirk

[1] This is defined in /etc/passwd, see "man 5 passwd".

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brianscholl at yahoo.com  Fri Jan 25 18:36:32 2002
From: brianscholl at yahoo.com (Brian Scholl)
Date: Fri, 25 Jan 2002 09:36:32 -0800 (PST)
Subject: [R] Mapping (followup) + package installation
Message-ID: <20020125173632.6741.qmail@web20303.mail.yahoo.com>

Hi,

I'm looking to create a few basic world maps in R (for
Windows).  A while back someone asked for the same
thing and was referred to the (*.tar) files at:
ftp://ftp.mcs.vuw.ac.nz/pub/statistics/map/ 
which I downloaded.  

However, I am unable to install them, and clearly I'm
not doing something properly (I'm your basic moron
when it comes to installation, so please understand).
>From what I can find, the FAQ stuff on the web site
relating to this doesn't seem to be relevant for
windows.  Anyhow, I used the drop down menu to load
from a local zip file, it says it installs fine and
updates html documentation, etc.  But subsequently, it
isn't listed on the list of packages and nothing has
changed on the html help file.  Is there something I
need to do to the downloads before they'll load (I had
this problem with other packages that I was ultimately
able to install successfully directly from CRAN)?  

Also, are each of the files in the above directory
part of the package, are they separate packages, etc. 
(the readme says some are unix, etc, but there are a
bunch of files).  

Another question is on the Maps package itself. 
Someone posted message a while back indicating that
the maps package is only available on unix.  Is this
accurate, or is there any more recent information? It
wasn't clear to me if they were talking about the
packages located at the site above or something else.

Thanks for your patience and help,

Brian

__________________________________________________

Great stuff seeking new owners in Yahoo! Auctions! 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bdavies at intel.com  Fri Jan 25 19:25:17 2002
From: bdavies at intel.com (Davies, Bob)
Date: Fri, 25 Jan 2002 10:25:17 -0800
Subject: [R] rpart subsets
Message-ID: <25A36276A29AD5119FB000508BB26843012C8D43@fmsmsx101.fm.intel.com>

A few weeks back I posted that the subset feature of rpart was not working
when predicting a categorical variable.  I was able to figure out a simple
solution to the problem that I hope can be included in future editions of
rpart.  I also include a fix for another related problem.

The basic problem is that when predicting a categorical using a subset, the
subset may not have all the categories present.  For instance, using a
subset of car.test.frame to predict the Type, you might have a subset that
does not include Type=Small.

The frequency is counted in the gini.c with zero for Small and then the
priors are calculated.  The priors will then have entries that are NaN's as
the frequency is used in a divide.  Naturally, this causes lots of problems
and the rpart will fail.

The simple solution which I am hoping can be validated here is to put a very
small number there instead of zero.  Here is the change to gini.c:

#if 1 // Bob's simple fix
	// This fixes a problem when predicting a categorical using a
subset.
	// The subset may be missing one or more of the categories.  Here 
	// we make any zeros a very small number so that the rpart run will
not fail.
	for (i=0; i<numclass; i++) {
		if (freq[i] == 0) freq[i] = 0.00000000001;
	}
#endif
	for (i=0; i<numclass; i++) {
	    prior[i] /= freq[i];            
	    aprior[i] /= (temp * freq[i]);  /* pi_i / n_i */
	    }
	}

The calculation of the priors (existing code) above shows where I put the
fix in giniinit (in gini.c).  However, at this point the rpart run will
complete but will have many NaN's in the rpart$frame for yval's.  This is
because of an oversight in rpart.s when calculating the probabilities for
each node.  The change to the function rpart in rpart.s is:

    if (method.int ==3 ) {
        numclass <- init$numresp -1
        temp <- rp$dnode[,-(1:4)] %*% diag(init$parms$prior*
					   sum(init$counts)/init$counts)
# Bob's clumsy attempt to remove the NaN's that result when
# calculating the probabilities
		tempx <- matrix(0, nrow=nrow(temp), ncol=ncol(temp))
		tempx[which(is.finite(temp))] <-
temp[which(is.finite(temp))]
		temp <- tempx
# end of Bob's changes
        yprob <- temp /apply(temp,1,sum)   #necessary with altered priors
        yval2 <- matrix(rp$dnode[, -(1:3)], ncol=numclass+1)
	frame$yval2 <- cbind(yval2, yprob)
	}

The frequencies are calculated for each node and the resulting zeros produce
NaN's when calculating the probabilities.  My clumsy R code simply removes
the NaN's from the matrix of probabilities.

During my testing for this solution, I found that any priors provided as
parameters to the rpart call were not being honored for categorical
variables.  My first attempted solution had bee to provide priors that would
not have zeros.  This override failed to provide an alternative solution to
the original problem as I had hoped.  I was surprised so I investigated
further and found that priors in the parms were not being honored by the
function giniinit in gini.c.  

Here is the solution to that problem:

#if 0 
	for (i=0; i<numclass; i++)  freq[i] =0;
	temp =0;
	for (i=0; i<n; i++) {
	    j = *y[i] -1;
	    freq[j] += wt[i];
	    temp += wt[i];   /*sum total of weights */
	    }
	for (i=0; i<numclass; i++)  freq[i] /=temp;   /*relative frequency
*/
#else
	// The frequency was already calculated from the data OR overidden
with "parms=list(prior=c(....))"
	for (i=0; i<numclass; i++) freq[i] = parm[i];
#endif

The code that is now removed was always calculating the frequencies from the
data but the frequencies were already provided in the parms so the
calculation was unnecessary.  By using the parms as the source for the
frequencies, any priors in the parameter list would be honored as well.
Less is more.

The combination of honoring any priors in the parameters with the assumption
that the frequency is some really small value seems to me to be a flexible
solution.  If you don't like the very small number, you must provide another
one in the parameter list. 

I am hoping that Prof. Ripley or anyone else working on rpart will vet these
recommendations and incorporate them into the tree.

Bob Davies
Intel Corp.

PS: here is some R code from my original message that can be used to test
the subset option and validate the above changes:

On Wed, 2 Jan 2002, Davies, Bob wrote:

Any rpart user:
I am trying to construct an rpart tree using a subset of the data and it
will occasionally fail when predicting a categorical response variable.

The reason that rpart fails is that the subset does not contain each of the
categories present in the original data.  For example, in the car.test.frame
example, a subset that has all the categories except "Small" will not
produce an rpart tree.

I attempted to use "parms=list(prior=...) and it did not correct the
problem.

Here is a demonstration of the problem using the car.test.frame:

library(rpart)
data(car.test.frame)
t1 <- rpart(Type ~ ., car.test.frame)
t1
sub <- row.names(car.test.frame[car.test.frame[,"Weight"] > 2567.5,])  #
 create a subset
rpart (Type ~ ., car.test.frame, subset=sub )  # this statement will fail
# so now attempt to indicate what the priors should look like:
rpart (Type ~ ., car.test.frame, subset=sub,
parms=list(prior=t1$parms$prior))  # this statement will fail

# now add 1 "Small" car to this subset of car.test.frame
sub <- row.names(car.test.frame[car.test.frame[,"Weight"] > 2559,])  # lower
the weight just a little to get a "Small" car.
rpart(Type ~ ., car.test.frame, subset=sub) # This statement will work !

Any suggestions?

I am using R 1.4.0 on Windows 2000.

Bob Davies

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgould at stat.ucla.edu  Fri Jan 25 19:48:13 2002
From: rgould at stat.ucla.edu (Rob Gould (local))
Date: Fri, 25 Jan 2002 10:48:13 -0800
Subject: [R] bootstrap: boot package
Message-ID: <15EE8D08-11C4-11D6-BA9A-003065451944@stat.ucla.edu>

I'm teaching a class and using R for the first time.  We're talking 
about the bootstrap, and I've been trying to get R to replicate some 
simple bootstrap programs with no success.  I'd like to be able to use 
the boot.ci function to produce confidence intervals (non-parametric) 
for some simple statistics, and this requires first creating a "boot" 
object.  The boot object, in turn, requires a statistic that takes two 
inputs: the data and the second a vector of indices, frequencies, or 
weights which "define" the bootstrap.  My question, I guess, is which 
option do I choose to "define" an ordinary sample-with-replacement?  And 
where does this vector come from?  Suppose I want to bootstrap a 
confidence interval for the mean.  Do i have to write my own "mean" 
function to provide for this defining vector of indices?

Just to clarify, I want to use the boot command to replicate this:
bstraps <- c()
for (i in 1:R){
bstraps <- c(mean(sample(data,replace=T,n=length(data))), bstraps)}

thanks,
Rob

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Fri Jan 25 20:07:03 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Fri, 25 Jan 2002 14:07:03 -0500
Subject: [R] bootstrap: boot package
In-Reply-To: <15EE8D08-11C4-11D6-BA9A-003065451944@stat.ucla.edu>
References: <15EE8D08-11C4-11D6-BA9A-003065451944@stat.ucla.edu>
Message-ID: <20020125140703.4db8124f.fharrell@virginia.edu>

This doesn't answer Rob's general question but here is some code that is very fast for running the nonparametric bootstrap percentile method for a mean, in S-Plus.  If anyone knows the corresponding R internal function to sample.index (special case where "prob" argument not needed) I would appreciate knowing it.  Thanks -Frank Harrell

smean.cl.boot <- function(x, conf.int=.95, B=1000, na.rm=TRUE) {
  if(na.rm) x <- x[!is.na(x)]
  n <- length(x)
  xbar <- mean(x)
  if(n < 2) return(Mean=xbar, Lower=NA, Upper=NA)
  z <- unlist(lapply(1:B, function(i,x,N)
        sum(x[.Internal(sample.index(N, N, TRUE),
 			 "S_sample",TRUE,0)]), x=x, N=n)) / n
  quant <- quantile(z, c((1-conf.int)/2,(1+conf.int)/2))
  names(quant) <- NULL
  c(Mean=xbar, Lower=quant[1], Upper=quant[2])
}


On Fri, 25 Jan 2002 10:48:13 -0800
Rob Gould (local) <rgould at stat.ucla.edu> wrote:

> I'm teaching a class and using R for the first time.  We're talking 
> about the bootstrap, and I've been trying to get R to replicate some 
> simple bootstrap programs with no success.  I'd like to be able to use 
> the boot.ci function to produce confidence intervals (non-parametric) 
> for some simple statistics, and this requires first creating a "boot" 
> object.  The boot object, in turn, requires a statistic that takes two 
> inputs: the data and the second a vector of indices, frequencies, or 
> weights which "define" the bootstrap.  My question, I guess, is which 
> option do I choose to "define" an ordinary sample-with-replacement?  And 
> where does this vector come from?  Suppose I want to bootstrap a 
> confidence interval for the mean.  Do i have to write my own "mean" 
> function to provide for this defining vector of indices?
> 
> Just to clarify, I want to use the boot command to replicate this:
> bstraps <- c()
> for (i in 1:R){
> bstraps <- c(mean(sample(data,replace=T,n=length(data))), bstraps)}
> 
> thanks,
> Rob
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jan 25 20:31:46 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 25 Jan 2002 19:31:46 +0000 (GMT)
Subject: [R] bootstrap: boot package
In-Reply-To: <15EE8D08-11C4-11D6-BA9A-003065451944@stat.ucla.edu>
Message-ID: <Pine.GSO.4.31.0201251928120.21374-100000@auk.stats>

On Fri, 25 Jan 2002, Rob Gould wrote:

> I'm teaching a class and using R for the first time.  We're talking
> about the bootstrap, and I've been trying to get R to replicate some
> simple bootstrap programs with no success.  I'd like to be able to use
> the boot.ci function to produce confidence intervals (non-parametric)
> for some simple statistics, and this requires first creating a "boot"
> object.  The boot object, in turn, requires a statistic that takes two
> inputs: the data and the second a vector of indices, frequencies, or
> weights which "define" the bootstrap.  My question, I guess, is which
> option do I choose to "define" an ordinary sample-with-replacement?  And
> where does this vector come from?  Suppose I want to bootstrap a
> confidence interval for the mean.  Do i have to write my own "mean"
> function to provide for this defining vector of indices?
>
> Just to clarify, I want to use the boot command to replicate this:
> bstraps <- c()
> for (i in 1:R){
> bstraps <- c(mean(sample(data,replace=T,n=length(data))), bstraps)}

Following the example in Venables & Ripley for the median:

data.boot <- boot(data, function(x, i) mean(x[i]), R=R)
boot.ci(data.boot, more options)

Pretty simple, I think, Frank?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From york at noaa.gov  Fri Jan 25 20:50:18 2002
From: york at noaa.gov (Anne York)
Date: Fri, 25 Jan 2002 11:50:18 -0800 (PST)
Subject: [R] Mapping (followup) + package installation
In-Reply-To: <20020125173632.6741.qmail@web20303.mail.yahoo.com>
Message-ID: <Pine.GSO.4.05.10201251148230.1345-100000@ofis450a.akctr.noaa.gov>

The package on that site is for unix type systems only. Several people have
been working on porting this package to windows, but, unfortunately, the
work is not finished yet. 

Anne
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Anne E. York
National Marine Mammal Laboratory
Seattle WA 98115-0070  USA
e-mail: anne.york at noaa.gov
Voice: +1 206-526-4039
Fax: +1 206-526-6615
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

On Fri, 25 Jan 2002, Brian Scholl wrote:

>Hi,
>
>I'm looking to create a few basic world maps in R (for
>Windows).  A while back someone asked for the same
>thing and was referred to the (*.tar) files at:
>ftp://ftp.mcs.vuw.ac.nz/pub/statistics/map/ 
>which I downloaded.  
>
>However, I am unable to install them, and clearly I'm
>not doing something properly (I'm your basic moron
>when it comes to installation, so please understand).
>From what I can find, the FAQ stuff on the web site
>relating to this doesn't seem to be relevant for
>windows.  Anyhow, I used the drop down menu to load
>from a local zip file, it says it installs fine and
>updates html documentation, etc.  But subsequently, it
>isn't listed on the list of packages and nothing has
>changed on the html help file.  Is there something I
>need to do to the downloads before they'll load (I had
>this problem with other packages that I was ultimately
>able to install successfully directly from CRAN)?  
>
>Also, are each of the files in the above directory
>part of the package, are they separate packages, etc. 
>(the readme says some are unix, etc, but there are a
>bunch of files).  
>
>Another question is on the Maps package itself. 
>Someone posted message a while back indicating that
>the maps package is only available on unix.  Is this
>accurate, or is there any more recent information? It
>wasn't clear to me if they were talking about the
>packages located at the site above or something else.
>
>Thanks for your patience and help,
>
>Brian
>
>__________________________________________________
>
>Great stuff seeking new owners in Yahoo! Auctions! 
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Fri Jan 25 20:55:30 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Fri, 25 Jan 2002 14:55:30 -0500
Subject: [R] bootstrap: boot package
In-Reply-To: <Pine.GSO.4.31.0201251928120.21374-100000@auk.stats>
References: <15EE8D08-11C4-11D6-BA9A-003065451944@stat.ucla.edu>
	<Pine.GSO.4.31.0201251928120.21374-100000@auk.stats>
Message-ID: <20020125145530.061adeb7.fharrell@virginia.edu>

Brian - I wasn't talking about simplicity, but speed, for this special case.  -Frank

On Fri, 25 Jan 2002 19:31:46 +0000 (GMT)
Prof Brian D Ripley <ripley at stats.ox.ac.uk> wrote:

> On Fri, 25 Jan 2002, Rob Gould wrote:
> 
> > I'm teaching a class and using R for the first time.  We're talking
> > about the bootstrap, and I've been trying to get R to replicate some
> > simple bootstrap programs with no success.  I'd like to be able to use
> > the boot.ci function to produce confidence intervals (non-parametric)
> > for some simple statistics, and this requires first creating a "boot"
> > object.  The boot object, in turn, requires a statistic that takes two
> > inputs: the data and the second a vector of indices, frequencies, or
> > weights which "define" the bootstrap.  My question, I guess, is which
> > option do I choose to "define" an ordinary sample-with-replacement?  And
> > where does this vector come from?  Suppose I want to bootstrap a
> > confidence interval for the mean.  Do i have to write my own "mean"
> > function to provide for this defining vector of indices?
> >
> > Just to clarify, I want to use the boot command to replicate this:
> > bstraps <- c()
> > for (i in 1:R){
> > bstraps <- c(mean(sample(data,replace=T,n=length(data))), bstraps)}
> 
> Following the example in Venables & Ripley for the median:
> 
> data.boot <- boot(data, function(x, i) mean(x[i]), R=R)
> boot.ci(data.boot, more options)
> 
> Pretty simple, I think, Frank?
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tdlong at uci.edu  Fri Jan 25 21:13:01 2002
From: tdlong at uci.edu (Tony Long)
Date: Fri, 25 Jan 2002 12:13:01 -0800
Subject: [R] selecting clusters of points
Message-ID: <p05001901b8776bb04900@[128.200.28.179]>

All:

	Are there any functions out there for selecting all the 
points in a region of a plot.  I envision something like the 
identify() function except one could circle a cloud of points (and 
perhaps a vector would be returned of the same length as the points 
plotted indicating logical membership in the circled cloud).  Perhaps 
someone has done something with the locator() function that would 
allow this (or can suggest a way I could do this).   Thanks.  Tony
-- 

Tony Long

Ecology and Evolutionary Biology
Steinhaus Hall
University of California at Irvine
Irvine, CA
92697-2525

Tel:  (949) 824-2562   (office)
Tel:  (949) 824-5994   (lab)
Fax: (949) 824-2181

email:  tdlong at uci.edu
http://hjmuller.bio.uci.edu/~labhome/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Fri Jan 25 22:41:11 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 25 Jan 2002 16:41:11 -0500
Subject: [R] How to add error bars to plot(x,y)in R?
Message-ID: <5429125E11E4D411AF7300805FE603A8040DE552@groexmbcr02.pfizer.com>


The package gregmisc contains a function plotCI which handles this nicely.  

> -----Original Message-----
> From: mingliz2 at netscape.net [mailto:mingliz2 at netscape.net]
> Sent: Thursday, January 24, 2002 8:21 PM
> To: r-help at stat.math.ethz.ch
> Subject: [R] How to add error bars to plot(x,y)in R?
> 
> 
> Dear R Experts,
> 
> Is there a way in R to add an error bar (say in the y 
> direction) for each data point?  
> 
> Thanks
> 
> Ming Chow
> -- 
> 
> 
> 
> 
> __________________________________________________________________
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Fri Jan 25 22:43:00 2002
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Fri, 25 Jan 2002 22:43:00 +0100 (CET)
Subject: [R] selecting clusters of points
In-Reply-To: <p05001901b8776bb04900@[128.200.28.179]>
Message-ID: <Pine.LNX.4.21.0201252235040.1271-100000@reclus.nhh.no>

On Fri, 25 Jan 2002, Tony Long wrote:

> 	Are there any functions out there for selecting all the 
> points in a region of a plot.  I envision something like the 
> identify() function except one could circle a cloud of points (and 
> perhaps a vector would be returned of the same length as the points 
> plotted indicating logical membership in the circled cloud).  Perhaps 
> someone has done something with the locator() function that would 
> allow this (or can suggest a way I could do this).   Thanks.  Tony
> 
At least one possibility is:

> library(splancs)
> poly <- cbind(x=c(0,0,1,1), y=c(0,1,1,0))
> data <- csr(poly, 50)
> plot(data)
> subset <- getpoly()
 -- here interactively choose your polygon --
> inout(data, subset)
 -- outputs logical vector for points within subset polygon --

If you need to resolve for points precisely on the polygon boundaries,
pip() may be more help. The subset polygon could be constructed
non-interactively too, but needs to be a polygon.

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Fri Jan 25 22:50:40 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Fri, 25 Jan 2002 13:50:40 -0800 (PST)
Subject: [R] bootstrap: boot package
In-Reply-To: <15EE8D08-11C4-11D6-BA9A-003065451944@stat.ucla.edu>
Message-ID: <Pine.GSO.4.10.10201251349430.12130-100000@fisher.stat.ucla.edu>

Hi Rob, here's an example I worked out:

> data <- rnorm(100)
> f <- function(x, i) { median(x[i]) }
> b <- boot(data, f, R = 1000)
> b

ORDINARY NONPARAMETRIC BOOTSTRAP


Call:
boot(data = data, statistic = f, R = 1000)


Bootstrap Statistics :
       original      bias    std. error
t1* -0.07986221 0.008121274  0.09311031

> boot.ci(b, type="perc")
BOOTSTRAP CONFIDENCE INTERVAL CALCULATIONS
Based on 1000 bootstrap replicates

CALL : 
boot.ci(boot.out = b, type = "perc")

Intervals : 
Level     Percentile     
95%   (-0.2264,  0.1228 )  
Calculations and Intervals on Original Scale


-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Fri, 25 Jan 2002, Rob Gould wrote:

> I'm teaching a class and using R for the first time.  We're talking 
> about the bootstrap, and I've been trying to get R to replicate some 
> simple bootstrap programs with no success.  I'd like to be able to use 
> the boot.ci function to produce confidence intervals (non-parametric) 
> for some simple statistics, and this requires first creating a "boot" 
> object.  The boot object, in turn, requires a statistic that takes two 
> inputs: the data and the second a vector of indices, frequencies, or 
> weights which "define" the bootstrap.  My question, I guess, is which 
> option do I choose to "define" an ordinary sample-with-replacement?  And 
> where does this vector come from?  Suppose I want to bootstrap a 
> confidence interval for the mean.  Do i have to write my own "mean" 
> function to provide for this defining vector of indices?
> 
> Just to clarify, I want to use the boot command to replicate this:
> bstraps <- c()
> for (i in 1:R){
> bstraps <- c(mean(sample(data,replace=T,n=length(data))), bstraps)}
> 
> thanks,
> Rob
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From steinep at uni-muenster.de  Fri Jan 25 23:33:12 2002
From: steinep at uni-muenster.de (Petra Steiner)
Date: Fri, 25 Jan 2002 23:33:12 +0100
Subject: Fw: Summary for [R] Distance matrix by cosine?
Message-ID: <002a01c1a5f0$468d8b60$0decb080@oemcomputer>

Dear all,

below you find enclosed my message from January 9th and my program
(attention: beginner).
Thanks for both answers!  a. However, as far as I know the cosine is not the
same as the Pearson correlation (only in special cases).
b. Reid Huntsinger's hint was very useful, however I had to transpose the
matrix first, for I want to calculate the distance of the _rows_.

Regards,
Petra Steiner



#Funktion: Berechnung der Distanzmatrix mit dem Kosinus als Abstandsmass

library(Matrix)

normalize <- function(ma) {
# zunaechst werden die Zeilen der Matrix normalisiert

   nreihe <- nrow(ma)
   nspalte <- ncol(ma)
   print(nspalte)
   c <- matrix(NA, nreihe, nspalte)
   row.names(c) <- row.names(ma)
   colnames(c) <- colnames(ma)
   for (i in 1:nreihe)
   {
    print(i)
     normrow <- norm(ma[i,],"F")
     for (j in 1:nspalte)
    {
        c[i,j] <-ma[i,j]/normrow
    }
   }
   print(c)
   return (c)
 }

# und somit ist der Cosinus identisch mit dem Skalarprodukt
# and thus the Cosine is identical to the inner product

   distmatrix_cos <- function(c) {
  d <- crossprod(t(c))
   row.names(d) <- row.names(c)
   colnames(d) <- row.names(c)

  return(d)
 }

# Hauptprogramm/ Main program

library(mva)
tab <- read.table("C:/Programme/Perl/index/tabelle", header=TRUE)
n <- normalize(tab)
dista <- distmatrix_cos(n)
distanz <- as.dist(dista)

etc.

----- Original Message -----
From: Petra Steiner
To: r-help at lists.r-project.org
Sent: Wednesday, January 09, 2002 11:13 PM
Subject: [R] Distance matrix by cosine?


Hello,

a. is there a possibility to obtain a distance matrix with the cosine
between vectors?? hclust, hierclust, dist will not work and seem to be hard
to extend.

b. if there is not: Is the cosine between vectors implemented somewhere?

Thanks for all hints and advice!

Petra Steiner

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mroberts at ers.usda.gov  Sat Jan 26 02:57:28 2002
From: mroberts at ers.usda.gov (Michael Roberts)
Date: Fri, 25 Jan 2002 20:57:28 -0500
Subject: Fw: Summary for [R] Distance matrix by cosine?
Message-ID: <sc51c852.039@mailbox.ers.usda.gov>

Hello:

I would like to estimate, for lack of a better description,
a partially additive non-parametric model with the following
structure:

z~ f(x,y):w1 + g(x,y):w2 + e

In other words, I'd like to estimate the marginals with 
respect to w1 and w2 and nonparametric functions of 
w1 and w2.  

I'm not positive, but I think I recall being able to estimate
a model like this using Splus gam function a couple years
ago (I no longer have Splus).  Although, I can
see that this would be a bit more difficult to do than a standard
gam with univariate partials and no interaction terms.

Is there an R package that can estimate a model like this that
someone can point me toward?  Any help would be 
greatly appreciated.

Many thanks


Michael J. Roberts

Resource Economics Division
Production, Management, and Technology
USDA-ERS
(202) 694-5557 (phone)
(202) 694-5775 (fax)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pem at theriver.com  Sat Jan 26 08:09:24 2002
From: pem at theriver.com (Patrick E. McKnight)
Date: 26 Jan 2002 00:09:24 -0700
Subject: [R] Trouble with contrasts
Message-ID: <1012028964.4754.20.camel@copernicus.mcknightconsulting.com>

Greetings,

I have a nagging problem with contrasts and I can't seem to resolve it. 
A factor exists with four levels (lib1, lib2, con1, con2) and when I
check the contrasts or set the contrasts to any of the prespecified
ones, I do not get the exact contrasts necessary to test the
theoretically relevant ones.  I need orthogonal contrasts that look just
like this matrix:

       con1   con2    con3
lib1     1      0       1
lib2    -1      0       1
con1     0      1      -1
con2     0     -1      -1

How might I change the contrast matrix for this factor and this one
alone?  I see in the documentation that C ought to be the ticket but I
can't figure out how to specify the matrix correctly.  I read in MASS or
S programming that the matrix can be specified but I was unable to
follow the example and apply the logic to my problem.

Thanks in advance for any help solving this problem.

-- 
________________________________________________________________________

Cheers,

Patrick
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jan 26 08:41:03 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 26 Jan 2002 07:41:03 +0000 (GMT)
Subject: [R] Trouble with contrasts
In-Reply-To: <1012028964.4754.20.camel@copernicus.mcknightconsulting.com>
Message-ID: <Pine.GSO.4.31.0201260732230.24275-100000@auk.stats>

On 26 Jan 2002, Patrick E. McKnight wrote:

> Greetings,
>
> I have a nagging problem with contrasts and I can't seem to resolve it.
> A factor exists with four levels (lib1, lib2, con1, con2) and when I
> check the contrasts or set the contrasts to any of the prespecified
> ones, I do not get the exact contrasts necessary to test the
> theoretically relevant ones.  I need orthogonal contrasts that look just
> like this matrix:
>
>        con1   con2    con3
> lib1     1      0       1
> lib2    -1      0       1
> con1     0      1      -1
> con2     0     -1      -1
>
> How might I change the contrast matrix for this factor and this one
> alone?  I see in the documentation that C ought to be the ticket but I
> can't figure out how to specify the matrix correctly.  I read in MASS or
> S programming that the matrix can be specified but I was unable to
> follow the example and apply the logic to my problem.

I presume that you are using con1 and con2 in two different senses in your
rows and columns!

You need to know the order of the levels, for which it would be unusual to
have the order you gave.  But if that is the order, and the factor is
called` foo'

contrasts(foo) <- M

where M is the matrix you give is all that is required:  MASS p.157, last
para.  You could also use C in the formula, but you will get less clear
labels on your output.

I presume you do have the balance needed to make these orthogonal
contrasts.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hzi at uol.com.br  Sat Jan 26 18:03:41 2002
From: hzi at uol.com.br (hzi@uol.com.br)
Date: Sat, 26 Jan 2002 15:03:41 -0200
Subject: [R] Can't upgrade R properly with Debian potato
Message-ID: <20020126150341.A1493@uol.com.br>

Hello-

	I had to reinstall my system completely, due to a cracker (a script kiddie).
	I've added the CRAN recommended lines to my sources.list.
	I removed my old R package (0.92, I believe) and intalled a new one, but it's
	the 1.3.1
	If I remember correctly, this is not the __latest__ version is it?
	What's happening than, since my /etc/apt/sources.list is correct?

	TIA
	Regards
	Henry L
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hzi at uol.com.br  Sat Jan 26 18:08:03 2002
From: hzi at uol.com.br (hzi@uol.com.br)
Date: Sat, 26 Jan 2002 15:08:03 -0200
Subject: [R] [O-T] rsync security bug on Debian potato
Message-ID: <20020126150803.B1493@uol.com.br>

Hello-

	This is off-tpoic, but of interest.
	There's a remote exploit bug on rsync, that was posted on Linux Today.
	I post this here because apparently it hasn't been mentioned (yet) on the
	Debian security advisory. The package list is not updated either.
	Perhaps this is what happened to CRAN when it was cracked...
	Maybe you admins at CRAN would want to contact the debian-security list.

	URL:
	<http://www.linuxtoday.org/news_story.php3?ltsn=2002-01-26-006-20-SC-DB>
	
	Best regards,

	Henry L.


	
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Sat Jan 26 19:30:19 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sat, 26 Jan 2002 12:30:19 -0600
Subject: [R] Can't upgrade R properly with Debian potato
In-Reply-To: <20020126150341.A1493@uol.com.br>
References: <20020126150341.A1493@uol.com.br>
Message-ID: <20020126183019.GA12002@sonny.eddelbuettel.com>

On Sat, Jan 26, 2002 at 03:03:41PM -0200, hzi at uol.com.br wrote:
> Hello-
> 
> 	I had to reinstall my system completely, due to a cracker (a script kiddie).

Uhh. Was your Debian current? Did you apply the security updates?

> 	I've added the CRAN recommended lines to my sources.list.
> 	I removed my old R package (0.92, I believe) and intalled a new one, but it's
> 	the 1.3.1
> 	If I remember correctly, this is not the __latest__ version is it?
> 	What's happening than, since my /etc/apt/sources.list is correct?

I'd be happy to help you off-line. Let me know exactly what version of
Debian you installed. We do not have current packages for Debian 2.2
("stable") but it is straightforward to compile yourself. 

Or to upgrade to the pre-release of Debian 3.0 which I what I'd recommend.

Ask for me details on either route, if you need them.

Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Sat Jan 26 19:31:52 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sat, 26 Jan 2002 12:31:52 -0600
Subject: [R] [O-T] rsync security bug on Debian potato
In-Reply-To: <20020126150803.B1493@uol.com.br>
References: <20020126150803.B1493@uol.com.br>
Message-ID: <20020126183152.GB12002@sonny.eddelbuettel.com>

On Sat, Jan 26, 2002 at 03:08:03PM -0200, hzi at uol.com.br wrote:
> Hello-
> 
> 	This is off-tpoic, but of interest.
> 	There's a remote exploit bug on rsync, that was posted on Linux Today.
> 	I post this here because apparently it hasn't been mentioned (yet) on the
> 	Debian security advisory. The package list is not updated either.

Because is appears that the upstream patch is not addressing the problem.

> 	Perhaps this is what happened to CRAN when it was cracked...
> 	Maybe you admins at CRAN would want to contact the debian-security list.

I appreciate your concern, but I don't really think that this is the forum
for Debian-only questions.

Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hzi at uol.com.br  Sun Jan 27 04:09:51 2002
From: hzi at uol.com.br (hzi@uol.com.br)
Date: Sun, 27 Jan 2002 01:09:51 -0200
Subject: [R] [O-T] rsync security bug on Debian potato
In-Reply-To: <20020126183152.GB12002@sonny.eddelbuettel.com>; from edd@debian.org on Sat, Jan 26, 2002 at 12:31:52PM -0600
References: <20020126150803.B1493@uol.com.br> <20020126183152.GB12002@sonny.eddelbuettel.com>
Message-ID: <20020127010951.A5365@uol.com.br>

On Sat, Jan 26, 2002 at 12:31:52PM -0600, Dirk Eddelbuettel wrote:
> On Sat, Jan 26, 2002 at 03:08:03PM -0200, hzi at uol.com.br wrote:
> > Hello-
> > 
> > 	This is off-tpoic, but of interest.
> > 	There's a remote exploit bug on rsync, that was posted on Linux Today.
> > 	I post this here because apparently it hasn't been mentioned (yet) on the
> > 	Debian security advisory. The package list is not updated either.
> 
> Because is appears that the upstream patch is not addressing the problem.
> 
> > 	Perhaps this is what happened to CRAN when it was cracked...
> > 	Maybe you admins at CRAN would want to contact the debian-security list.
> 
> I appreciate your concern, but I don't really think that this is the forum
> for Debian-only questions.
> 
> Dirk
>

	Dirk -
		You're absolutely right. Sorry about that.
		Regs,
		Henry 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Gavin.Kennedy at csiro.au  Sun Jan 27 05:16:17 2002
From: Gavin.Kennedy at csiro.au (Gavin.Kennedy@csiro.au)
Date: Sun, 27 Jan 2002 15:16:17 +1100
Subject: [R] Testing if an object exists
Message-ID: <754324CDE8E4EE4498D8E0357D9136854E38D2@saab-bt.act.cmis.csiro.au>

Is it possible to test if an object exists without using the object name?

For example I have a function with scanid as a variable. I want to test for
the attributes of that object, but if the object has 
not already been defined I will get an error 'Object "SC000027" not found'
where SC000027 is the scanid. So can I 
check if the object exists or not before attempting any operations on it. I
know I can use exists() but I am want to avoid 
having to pass the object name as an argument.

Thanks for your help.

Gavin Kennedy
Software Engineer - Bioinformatics
CSIRO Mathematical and Information Sciences
Gavin.Kennedy at CSIRO.AU

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pem at theriver.com  Sun Jan 27 06:38:21 2002
From: pem at theriver.com (Patrick E. McKnight)
Date: 26 Jan 2002 22:38:21 -0700
Subject: [R] Trouble with contrasts
In-Reply-To: <Pine.GSO.4.31.0201260732230.24275-100000@auk.stats>
References: <Pine.GSO.4.31.0201260732230.24275-100000@auk.stats>
Message-ID: <1012109901.4754.26.camel@copernicus.mcknightconsulting.com>

Brian,

Yes, I overlooked my simplification by using con twice.  Of course, I do
not have that duplicated in real life.  The order is fixed by the
researchers who decided to identify each level with the numbers 1-4 as
specified in my matrix below (1-4 for lib1-con2, respectively).  So if I
create my matrix with the following commands:

M <- matrix(c(1,-1,0,0,0,0,1,-1,1,1,-1,-1),nrow = 4, ncol = 3)
contrasts(foo) <- M

then I get the exact contrasts I desired!  Thanks greatly for the prompt
help.  Unfortunately I limped along with MASS 2nd edition and referred
to p. 199-202 but I plan to get the latest version right away.  Your
hint gave me all I needed to get the job done.

Cheers,

Patrick



On Sat, 2002-01-26 at 00:41, Prof Brian D Ripley wrote:
> On 26 Jan 2002, Patrick E. McKnight wrote:
> 
> > Greetings,
> >
> > I have a nagging problem with contrasts and I can't seem to resolve it.
> > A factor exists with four levels (lib1, lib2, con1, con2) and when I
> > check the contrasts or set the contrasts to any of the prespecified
> > ones, I do not get the exact contrasts necessary to test the
> > theoretically relevant ones.  I need orthogonal contrasts that look just
> > like this matrix:
> >
> >        con1   con2    con3
> > lib1     1      0       1
> > lib2    -1      0       1
> > con1     0      1      -1
> > con2     0     -1      -1
> >
> > How might I change the contrast matrix for this factor and this one
> > alone?  I see in the documentation that C ought to be the ticket but I
> > can't figure out how to specify the matrix correctly.  I read in MASS or
> > S programming that the matrix can be specified but I was unable to
> > follow the example and apply the logic to my problem.
> 
> I presume that you are using con1 and con2 in two different senses in your
> rows and columns!
> 
> You need to know the order of the levels, for which it would be unusual to
> have the order you gave.  But if that is the order, and the factor is
> called` foo'
> 
> contrasts(foo) <- M
> 
> where M is the matrix you give is all that is required:  MASS p.157, last
> para.  You could also use C in the formula, but you will get less clear
> labels on your output.
> 
> I presume you do have the balance needed to make these orthogonal
> contrasts.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
-- 
________________________________________________________________________

Cheers,

Patrick
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jan 27 08:36:22 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 27 Jan 2002 07:36:22 +0000 (GMT)
Subject: [R] Testing if an object exists
In-Reply-To: <754324CDE8E4EE4498D8E0357D9136854E38D2@saab-bt.act.cmis.csiro.au>
Message-ID: <Pine.GSO.4.31.0201270732001.21819-100000@auk.stats>

On Sun, 27 Jan 2002 Gavin.Kennedy at csiro.au wrote:

> Is it possible to test if an object exists without using the object name?
>
> For example I have a function with scanid as a variable. I want to test for
> the attributes of that object, but if the object has
> not already been defined I will get an error 'Object "SC000027" not found'
> where SC000027 is the scanid. So can I
> check if the object exists or not before attempting any operations on it. I
> know I can use exists() but I am want to avoid
> having to pass the object name as an argument.

How else do you intend to specify the object?  If you want to avoid putting
the name in a charcter string as e.g. library does, look at what such
functions do, as in

testObject <- function(object)
{
   exists(as.character(substitute(object)))
}

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Sun Jan 27 12:00:10 2002
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Sun, 27 Jan 2002 12:00:10 +0100
Subject: [R] cran@ci.tuwien.ac.at is not responding?
Message-ID: <MABBLJDICACNFOLGIHJOKENGCIAA.phgrosje@ulb.ac.be>

Hi,

I have submitted a package to CRAN in
ftp://ftp.tuwien.ac.at/incoming/pastecs_1.0.tar.gz. The R extension manual
advises to send a mail to cran at ci.tuwien.ac.at about it, but it fails. I
have also tried WWWadmin at ci.tuwien.ac.at. Are these email adresses still
valid?
Best,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Sun Jan 27 12:27:44 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Sun, 27 Jan 2002 12:27:44 +0100 (MET)
Subject: [R] cran@ci.tuwien.ac.at is not responding?
In-Reply-To: <MABBLJDICACNFOLGIHJOKENGCIAA.phgrosje@ulb.ac.be>
Message-ID: <Pine.LNX.4.21.0201271225480.11330-100000@artemis.imbe.med.uni-erlangen.de>


> Hi,
> 
> I have submitted a package to CRAN in
> ftp://ftp.tuwien.ac.at/incoming/pastecs_1.0.tar.gz. The R extension manual
> advises to send a mail to cran at ci.tuwien.ac.at about it, but it fails. I
> have also tried WWWadmin at ci.tuwien.ac.at. Are these email adresses still
> valid?
> Best,
> 
> Philippe Grosjean

cran.r-project.org states:

To ``submit'' to CRAN, simply upload to ftp://cran.r-project.org/incoming
and send email to cran at r-project.org. 

I think Fritz changed the adress due to troubles with crackers ...

Torsten

> 
> 
> ...........]<(({?<...............<?}))><...............................
>  ) ) ) ) )	 __               	 __
> ( ( ( ( ( 	|__)              	|  _
>  ) ) ) ) )	|   hilippe       	|__)rosjean
> ( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
>  ) ) ) ) )	                  	 __
> ( ( ( ( ( 	|\  /|            	|__)
>  ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
> ( ( ( ( (
>  ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
> ( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
>  ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
> ( ( ( ( (
>  ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
> ( ( ( ( (                                  L. Gonick & W. Smith (1993)
>  ) ) ) ) )
> .......................................................................
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From steinep at uni-muenster.de  Sun Jan 27 12:36:18 2002
From: steinep at uni-muenster.de (Petra Steiner)
Date: Sun, 27 Jan 2002 12:36:18 +0100
Subject: [R] DBM databases for R?
Message-ID: <00ac01c1a726$d6d0f9a0$7fecb080@oemcomputer>


Hello!

Can I use DBM databases (as they are used in Perl) for the import of
large datasets in R?

Thanks in advance for your help,

Petra Steiner

-
---------------------------------------------------
Petra Steiner                          
Arbeitsbereich Linguistik       
Universitaet Muenster         
Huefferstrasse 27                   
48149  Muenster                   
                                             
Tel: 0251 / 83 39442            
petra at marley.uni-muenster.de  
http://santana.uni-muenster.de/~petra/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xiejun at powertong.com.cn  Sun Jan 27 12:36:33 2002
From: xiejun at powertong.com.cn (=?gb2312?B?0Lu+/A==?=)
Date: Sun, 27 Jan 2002 19:36:33 +0800
Subject: [R] Bayesian Networks
Message-ID: <OLEKLFJFLGECJOLAIHJLGEHHCCAA.xiejun@powertong.com.cn>


Could some one advice me a package for Baysian Networks if there is. Thanks a lot

Julian
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Sun Jan 27 17:29:17 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Sun, 27 Jan 2002 11:29:17 -0500 (EST)
Subject: [R] EPS->LaTeX problem
Message-ID: <Pine.LNX.4.21L1.0201271126130.23345-100000@nujoma.perrins>

Greetings-

I have a strange problem displaying a graph from R (1.3.1, linux) in a
LaTeX document of documentclass seminar.

I'm using graphicx to include the file:

\usepackage{graphicx}

...

\resizebox{\textwidth}{\textheight}{\includegraphics{crime.eps}}

When I do this, the entire slide (including the page number) is rotated
180 degrees. Any ideas why this happens?

The graph was created using the syntax in R:

data(USArrests)
postscript(file="crime.eps")
plot(USArrests$Murder, USArrests$Assault)
abline(lm(USArrests$Assault ~ USArrests$Murder))
dev.off()

Thanks for any advice. This is rather urgent, as I'm trying to use it for
a lecture in my class Monday morning.

ap

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun Jan 27 18:17:46 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 27 Jan 2002 18:17:46 +0100
Subject: [R] EPS->LaTeX problem
References: <Pine.LNX.4.21L1.0201271126130.23345-100000@nujoma.perrins>
Message-ID: <3C54363A.68C9CCCF@statistik.uni-dortmund.de>



Andrew Perrin wrote:
> 
> Greetings-
> 
> I have a strange problem displaying a graph from R (1.3.1, linux) in a
> LaTeX document of documentclass seminar.
> 
> I'm using graphicx to include the file:
> 
> \usepackage{graphicx}
> 
> ...
> 
> \resizebox{\textwidth}{\textheight}{\includegraphics{crime.eps}}
> 
> When I do this, the entire slide (including the page number) is rotated
> 180 degrees. Any ideas why this happens?
> 
> The graph was created using the syntax in R:
> 
> data(USArrests)
> postscript(file="crime.eps")
> plot(USArrests$Murder, USArrests$Assault)
> abline(lm(USArrests$Assault ~ USArrests$Murder))
> dev.off()
> 
> Thanks for any advice. This is rather urgent, as I'm trying to use it for
> a lecture in my class Monday morning.

Two solutions (not tested):

1 - Use  postscript(..., horzontal = FALSE)  
    (maybe you have to adjust width and height)
    for details see ?postscript

2 - generate a bounding box, so the page will still be horizontal.

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Sun Jan 27 18:28:24 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Sun, 27 Jan 2002 09:28:24 -0800 (PST)
Subject: [R] EPS->LaTeX problem
In-Reply-To: <Pine.LNX.4.21L1.0201271126130.23345-100000@nujoma.perrins>
Message-ID: <20020127172824.88961.qmail@web13901.mail.yahoo.com>



I'm not entirely sure what the problem is, but either of these 
(but not both) might help:

1. \includegraphics[angle=-90]{crime.eps}
2. postscript(file = "crime.eps", horizontal = FALSE)


--- Andrew Perrin <andrew_perrin at unc.edu> wrote:
> Greetings-
> 
> I have a strange problem displaying a graph from R (1.3.1, linux) in a
> LaTeX document of documentclass seminar.
> 
> I'm using graphicx to include the file:
> 
> \usepackage{graphicx}
> 
> ...
> 
> \resizebox{\textwidth}{\textheight}{\includegraphics{crime.eps}}
> 
> When I do this, the entire slide (including the page number) is rotated
> 180 degrees. Any ideas why this happens?
> 
> The graph was created using the syntax in R:
> 
> data(USArrests)
> postscript(file="crime.eps")
> plot(USArrests$Murder, USArrests$Assault)
> abline(lm(USArrests$Assault ~ USArrests$Murder))
> dev.off()
> 
> Thanks for any advice. This is rather urgent, as I'm trying to use it for
> a lecture in my class Monday morning.
> 
> ap
> 
> ----------------------------------------------------------------------
> Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
>  Assistant Professor of Sociology, U of North Carolina, Chapel Hill
>       269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA
> 
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

__________________________________________________

Great stuff seeking new owners in Yahoo! Auctions! 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Sun Jan 27 18:43:07 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sun, 27 Jan 2002 12:43:07 -0500 (EST)
Subject: [R] EPS->LaTeX problem
Message-ID: <200201271743.g0RHh7M29087@cattell.psych.upenn.edu>

>I have a strange problem displaying a graph from R (1.3.1, linux) in a
>LaTeX document of documentclass seminar.
>
>I'm using graphicx to include the file:
>
>\usepackage{graphicx}
>
>...
>
>\resizebox{\textwidth}{\textheight}{\includegraphics{crime.eps}}
>
>When I do this, the entire slide (including the page number) is rotated
>180 degrees. Any ideas why this happens?
>
>The graph was created using the syntax in R:
>
>data(USArrests)
>postscript(file="crime.eps")
>plot(USArrests$Murder, USArrests$Assault)
>abline(lm(USArrests$Assault ~ USArrests$Murder))
>dev.off()

Since it is urgent, I will attempt to answer, despite the
risk of being wrong.  You could try dev.copy2eps:

     `dev.copy2eps' is similar to `dev.print' but produces an EPSF
     output file, in portrait orientation (`horizontal = FALSE')

I think you can just use this command, and follow it with
dev.off().  Then I recall you have to rename the resulting output
to crime.eps.

You might also try adding horiz=F to your postscript command.

You could also try

\includegraphics[angle=90]{crime.eps}
or angle=-90, or whatever.

And I think you could also use graphicx commands instead of
resize...  For example, 
\includegraphics[angle=90,width=\textwidth]{crime.eps}

(I would let the height define itself.)

Jon

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jan 27 18:46:03 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 27 Jan 2002 17:46:03 +0000 (GMT)
Subject: [R] EPS->LaTeX problem
In-Reply-To: <20020127172824.88961.qmail@web13901.mail.yahoo.com>
Message-ID: <Pine.LNX.4.31.0201271742001.6928-100000@gannet.stats>

On Sun, 27 Jan 2002, Deepayan Sarkar wrote:

> I'm not entirely sure what the problem is, but either of these
> (but not both) might help:
>
> 1. \includegraphics[angle=-90]{crime.eps}
> 2. postscript(file = "crime.eps", horizontal = FALSE)

Or see the advice in ?postscript for how to make eps files.

BTW,

\includegraphics[width=\textwidth]{crime.eps}

is preferred, both as the way to do this, and because you shouldn't be
changing the aspect ratio after producing the plot: any text shows
up as distorted if you do.

>
>
> --- Andrew Perrin <andrew_perrin at unc.edu> wrote:
> > Greetings-
> >
> > I have a strange problem displaying a graph from R (1.3.1, linux) in a
> > LaTeX document of documentclass seminar.
> >
> > I'm using graphicx to include the file:
> >
> > \usepackage{graphicx}
> >
> > ...
> >
> > \resizebox{\textwidth}{\textheight}{\includegraphics{crime.eps}}
> >
> > When I do this, the entire slide (including the page number) is rotated
> > 180 degrees. Any ideas why this happens?
> >
> > The graph was created using the syntax in R:
> >
> > data(USArrests)
> > postscript(file="crime.eps")
> > plot(USArrests$Murder, USArrests$Assault)
> > abline(lm(USArrests$Assault ~ USArrests$Murder))
> > dev.off()
> >
> > Thanks for any advice. This is rather urgent, as I'm trying to use it for
> > a lecture in my class Monday morning.
> >
> > ap
> >
> > ----------------------------------------------------------------------
> > Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
> >  Assistant Professor of Sociology, U of North Carolina, Chapel Hill
> >       269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA
> >
> >
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
> __________________________________________________
>
> Great stuff seeking new owners in Yahoo! Auctions!
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From michaell.taylor at reis.com  Sun Jan 27 19:42:42 2002
From: michaell.taylor at reis.com (Michaell Taylor)
Date: Sun, 27 Jan 2002 13:42:42 -0500
Subject: [R] EPS->LaTeX problem
In-Reply-To: <Pine.LNX.4.21L1.0201271126130.23345-100000@nujoma.perrins>
References: <Pine.LNX.4.21L1.0201271126130.23345-100000@nujoma.perrins>
Message-ID: <20020127184245.595C8170203@newman.bestweb.net>


Both R and latex can twist plots around some. I usually explicitly indicate 
the orientation in R via the horizontal switch on the postscript command.

postscript("estimate.ps",height=4, width=6, horizontal=F)

You can also rotate graphs around in latex thusly,

\rotatebox{0}{\resizebox{10cm}{!}{\includegraphics{DeComExtrems.ps}}}

The first arguement of the rotatebox command is the degree to rotate.

Michaell

Andrew Perrin wrote:
> Greetings-
>
> I have a strange problem displaying a graph from R (1.3.1, linux) in a
> LaTeX document of documentclass seminar.
>
> I'm using graphicx to include the file:
>
> \usepackage{graphicx}
>
> ...
>
> \resizebox{\textwidth}{\textheight}{\includegraphics{crime.eps}}
>
> When I do this, the entire slide (including the page number) is rotated
> 180 degrees. Any ideas why this happens?
>
> The graph was created using the syntax in R:
>
> data(USArrests)
> postscript(file="crime.eps")
> plot(USArrests$Murder, USArrests$Assault)
> abline(lm(USArrests$Assault ~ USArrests$Murder))
> dev.off()
>
> Thanks for any advice. This is rather urgent, as I'm trying to use it for
> a lecture in my class Monday morning.
>
> ap
>
> ----------------------------------------------------------------------
> Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
>  Assistant Professor of Sociology, U of North Carolina, Chapel Hill
>       269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>.-.- r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help", or
> "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>._._

-- 
=========================================
Michaell Taylor, PhD
Senior Economist, Reis, New York, USA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmartinez at uia.net  Sun Jan 27 19:49:04 2002
From: jmartinez at uia.net (Jason Martinez)
Date: Sun, 27 Jan 2002 10:49:04 -0800
Subject: [R] EPS->LaTeX problem
References: <Pine.LNX.4.21L1.0201271126130.23345-100000@nujoma.perrins>
Message-ID: <3C544BA0.911C8BAF@uia.net>

Andrew,

Try something like:

\includegraphics[height=5in,width=4in,angle=-90]{crime.eps} 

jason

Andrew Perrin wrote:
> 
> Greetings-
> 
> I have a strange problem displaying a graph from R (1.3.1, linux) in a
> LaTeX document of documentclass seminar.
> 
> I'm using graphicx to include the file:
> 
> \usepackage{graphicx}
> 
> ...
> 
> \resizebox{\textwidth}{\textheight}{\includegraphics{crime.eps}}
> 
> When I do this, the entire slide (including the page number) is rotated
> 180 degrees. Any ideas why this happens?
> 
> The graph was created using the syntax in R:
> 
> data(USArrests)
> postscript(file="crime.eps")
> plot(USArrests$Murder, USArrests$Assault)
> abline(lm(USArrests$Assault ~ USArrests$Murder))
> dev.off()
> 
> Thanks for any advice. This is rather urgent, as I'm trying to use it for
> a lecture in my class Monday morning.
> 
> ap
> 
> ----------------------------------------------------------------------
> Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
>  Assistant Professor of Sociology, U of North Carolina, Chapel Hill
>       269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
Jason Martinez
Sociology Graduate Student
University of California, Riverside
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Sun Jan 27 21:21:13 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Sun, 27 Jan 2002 15:21:13 -0500 (EST)
Subject: [R] SUMMARY: EPS->LaTeX problem
Message-ID: <Pine.LNX.4.21L1.0201271516320.23345-100000@nujoma.perrins>

Earlier today I posted a problem importing an R graph into a LaTeX file of
seminar class: specifically, the graphic was showing up rotated 180
degrees, along with the rest of the page it was on.

In a real victory for open-source software, I got lots of responses with
three distinct approaches, each of which appears to solve the problem. Try
getting fast, correct help from Microsoft on a Sunday morning!

Here's the summary:

1.) From Brian Flaherty on the Debian list:
Rather than what you have above, what about something along the lines
of this:

\includegraphics[scale=.5,angle=180,keepaspectratio=T]{crime.eps}

and chose the scale that you wish.  

(I actually ended up using:
\includegraphics[scale=.37,angle=270,keepaspectratio=T]{crime.eps}
), which works fine

2.) From numerous helpers on the R-Help list:
use the horizontal=FALSE argument to the postscript() command in R:
 
postscript(..., horzontal = FALSE) 


3.)  You could try dev.copy2eps:

     `dev.copy2eps' is similar to `dev.print' but produces an EPSF
     output file, in portrait orientation (`horizontal = FALSE')

I think you can just use this command, and follow it with
dev.off().  Then I recall you have to rename the resulting output
to crime.eps.


----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA







-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jan 27 21:43:20 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 27 Jan 2002 20:43:20 +0000 (GMT)
Subject: [R] SUMMARY: EPS->LaTeX problem
In-Reply-To: <Pine.LNX.4.21L1.0201271516320.23345-100000@nujoma.perrins>
Message-ID: <Pine.LNX.4.31.0201272041090.11108-100000@gannet.stats>

On Sun, 27 Jan 2002, Andrew Perrin wrote:

> Earlier today I posted a problem importing an R graph into a LaTeX file of
> seminar class: specifically, the graphic was showing up rotated 180
> degrees, along with the rest of the page it was on.
>
> In a real victory for open-source software, I got lots of responses with
> three distinct approaches, each of which appears to solve the problem. Try
> getting fast, correct help from Microsoft on a Sunday morning!
>
> Here's the summary:
>
> 1.) From Brian Flaherty on the Debian list:
> Rather than what you have above, what about something along the lines
> of this:
>
> \includegraphics[scale=.5,angle=180,keepaspectratio=T]{crime.eps}
>
> and chose the scale that you wish.
>
> (I actually ended up using:
> \includegraphics[scale=.37,angle=270,keepaspectratio=T]{crime.eps}
> ), which works fine

As several people suggested, including me, setting width= or height= is
better. And keepaspectratio=T is the default unless you set both.

> 2.) From numerous helpers on the R-Help list:
> use the horizontal=FALSE argument to the postscript() command in R:
>
> postscript(..., horzontal = FALSE)
>
>
> 3.)  You could try dev.copy2eps:
>
>      `dev.copy2eps' is similar to `dev.print' but produces an EPSF
>      output file, in portrait orientation (`horizontal = FALSE')
>
> I think you can just use this command, and follow it with
> dev.off().  Then I recall you have to rename the resulting output
> to crime.eps.

Neither.  You don't need dev.off, but you do need to specify the file name
to dev.copy2eps.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Simon.Gatehouse at csiro.au  Sun Jan 27 22:08:46 2002
From: Simon.Gatehouse at csiro.au (Simon.Gatehouse@csiro.au)
Date: Mon, 28 Jan 2002 08:08:46 +1100
Subject: [R] selecting clusters of points
Message-ID: <0504018E9DCAD1119FE900A0C9A39AF8050A7FE1@anaconda>

Tony,
This may be of some help. I hope it is sufficiently self explanatory.  I
will be out of contact for a week so if you have any queries to response may
be a little slow.

****************************************************************************
********
function(xx, yy, nodes = locator(type = "l"))
{
##counts the number of lines in a polygon which cross a perpendicular
dropped below
##each point in xx,yy
## first strip points beyond max range of polygon nodes
        lenxmin <- length(nodes$x)
        wch <- c(lenxmin, 1)
        points(nodes$x[wch], nodes$y[wch], type = "l", lty = 1)
        xnr <- range(nodes$x)
        ynr <- range(nodes$y)
        indx <- seq(along = xx) 
        ## identify points within largest rectangle defined by nodes first
        isin <- xx > xnr[1] & xx < xnr[2] & yy > ynr[1] & yy < ynr[2]
        xx <- xx[isin]
        yy <- yy[isin]
        indx <- indx[isin]
        if(length(xx)) {
##put lines in form of slope and intercept coefficients
                xmin <- nodes$x
                ymin <- nodes$y
                xmax <- c(xmin[-1], xmin[1])
                ymax <- c(ymin[-1], ymin[1])
                dx <- xmin - xmax
                slope <- (ymin - ymax)/dx
                intercept <- (ymax * xmin - xmax * ymin)/dx
                lenrec <- length(xx)
                xmin <- matrix(xmin, ncol = lenxmin, nrow = lenrec, byrow =
T)
                xmax <- matrix(xmax, ncol = lenxmin, nrow = lenrec, byrow =
T)
                xint <- matrix(xx, ncol = lenxmin, nrow = lenrec, byrow = F)
                yint <- matrix(yy, ncol = lenxmin, nrow = lenrec, byrow = F)
                hint <- t(t(xint) * slope + intercept)
                yint <- hint <= yint & ((xint >= xmin & xint <= xmax) |
(xint <= 
                        xmin & xint >= xmax))
                isin[indx] <- is.odd(marsum(ifelse(yint, 1, 0)))
        }
        points(c(nodes$x, nodes$x[1]), c(nodes$y, nodes$y[1]), type = "l",
col
                 = 16, lty = 1)
        isin
}

****************************************************************************
*****************
Simon Gatehouse                                  
CSIRO Exploration and Mining,
Newbigin Close off Julius Ave
North Ryde, NSW
 
Mail:      PO Box 136, North Ryde
           NSW 1670, Australia
Phone:     61 (2) 9490 8677
Fax:       61 (2) 9490 8921
Mobile:    61  0407 130 635 
E-mail:    simon.gatehouse at csiro.au
Web Page:  http://www.csiro.au/


-----Original Message-----
From: Tony Long [mailto:tdlong at uci.edu]
Sent: Saturday, January 26, 2002 7:13 AM
To: r-help at stat.math.ethz.ch
Subject: [R] selecting clusters of points


All:

	Are there any functions out there for selecting all the 
points in a region of a plot.  I envision something like the 
identify() function except one could circle a cloud of points (and 
perhaps a vector would be returned of the same length as the points 
plotted indicating logical membership in the circled cloud).  Perhaps 
someone has done something with the locator() function that would 
allow this (or can suggest a way I could do this).   Thanks.  Tony
-- 

Tony Long

Ecology and Evolutionary Biology
Steinhaus Hall
University of California at Irvine
Irvine, CA
92697-2525

Tel:  (949) 824-2562   (office)
Tel:  (949) 824-5994   (lab)
Fax: (949) 824-2181

email:  tdlong at uci.edu
http://hjmuller.bio.uci.edu/~labhome/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ray.Brownrigg at mcs.vuw.ac.nz  Sun Jan 27 23:27:21 2002
From: Ray.Brownrigg at mcs.vuw.ac.nz (Ray Brownrigg)
Date: Mon, 28 Jan 2002 11:27:21 +1300 (NZDT)
Subject: [R] Mapping (followup) + package installation
Message-ID: <200201272227.g0RMRLA00686@aqua.mcs.vuw.ac.nz>

Anne York wrote:

> The package on that site is for unix type systems only. Several people have
> been working on porting this package to windows, but, unfortunately, the
> work is not finished yet. 
> 
My understanding is that the port is awaiting testing, but that there
are some unresolved licensing issues with some of the source code.

There is what might be called a beta test package available from
ftp://ftp.mcs.vuw.ac.nz/pub/statistics/map/.maptest.tar.gz.  This has
been tested on a Unix system but is yet to be fully tested on a Windows
system.  You are welcome to try.   It is a source package, so you need
to have the appropriate compilers, and it does not contain the
projection code which is the code for which there remain potential
licensing issues.  [The projection code in the S maps package came
straight from 10th Edition Unix.]

Ray Brownrigg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at volcanomail.com  Sun Jan 27 23:37:40 2002
From: ggrothendieck at volcanomail.com (Gabor Grothendieck)
Date: Sun, 27 Jan 2002 14:37:40 -0800 (PST)
Subject: [R] Iterate over 1 <= i < j <= n
Message-ID: <20020127223740.D7E0B36F9@sitemail.everyone.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020127/ebdcc755/attachment.pl

From meyer at ci.tuwien.ac.at  Sun Jan 27 23:58:30 2002
From: meyer at ci.tuwien.ac.at (David Meyer)
Date: Sun, 27 Jan 2002 23:58:30 +0100 (CET)
Subject: [R] Iterate over 1 <= i < j <= n
In-Reply-To: <20020127223740.D7E0B36F9@sitemail.everyone.net>
Message-ID: <Pine.LNX.4.21.0201272354470.24881-100000@boromir.ci.tuwien.ac.at>


On Sun, 27 Jan 2002, Gabor Grothendieck wrote:

> 
> What is the preferred way to iterate over 1 <= i < j <= n  ?
> 
> The following does not work as it gives an error message 
> when i+1 exceeds n:
> 
>    for(i in 1:n)
>       for(j in seq(i+1,n,1))

for(i in 1:(n-1))
  for (j in (i+1):n)

should work, I think.

-d



> 
> This works but seems like too much work:
> 
>    for(i in 1:n) {
>       j <- i+1
>       while(j<=n) {
>          ...
>          j <- j+1
>       }
>    }
> 
> This is briefer but offends my sense of how to do things:
> 
>    for(i in 1:n)
>       for(j in i:n) {
>          if (i==j) next
>          ...
>       }
> 
> This works too but seems somewhat involved:
> 
>    d <- diag(n)
>    for( idx in seq(d)[upper.tri(d,diag=FALSE)] ) {
>       i <- row(d)[idx]; j <- col(d)[idx]
>       ...
>    }
> 
> What is the preferred way to do this?
> 
> 
> _____________________________________________________________
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Toby.Patterson at csiro.au  Mon Jan 28 01:58:55 2002
From: Toby.Patterson at csiro.au (Toby.Patterson@csiro.au)
Date: Mon, 28 Jan 2002 11:58:55 +1100
Subject: [R] residuals in plot.gam (mgcv)
Message-ID: <A8877251964B294BAB5BA1FC58B43FED4F70A8@molly.tas.csiro.au>


Is there a way to add residuals to plots produced by plot.gam in the mgcv
package? I'm looking for something like what you get using resid=T in Splus
plot.gam. 

Thanks in advance
Toby 


-----Original Message-----
From: Simon Wood [mailto:snw at mcs.st-and.ac.uk]
Sent: 23 January, 2002 8:14 PM
To: Toby.Patterson at csiro.au
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] multiple surfaces in persp?


> Does anybody know if persp() can display multiple surfaces on the one
plot?
> If not is there any other functions/code that will do this. 

- you can do this using par(new=TRUE) between calls to persp() to get
plots overlayed: persp.gam() in package mgcv does this, for example.

 ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Mon Jan 28 09:23:04 2002
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Mon, 28 Jan 2002 09:23:04 +0100
Subject: [R] DBM databases for R?
Message-ID: <OFD446E719.C860CB4A-ONC1256B4F.002D0D36@eurotel.cz>


Hello,
in general, there is RODBC package for general ODBC connection.
This works for me well (Windows NT, with name.of.server in ODBC sources):

library(RODBC)
str1 <- "some.sql.select"

channel <- odbcConnect("name.of.database","","",host="name.of.server") #
connects to database
BTS <- sqlQuery(channel, str1) # runs SQL command
odbcClose(channel)

I think there are even some packages for specific RDBMS, like Postgres, but
I am quite happy with RODBC

Jan



- - - Original message: - - -
From: owner-r-help at stat.math.ethz.ch
Send: 27/01/2002 3:35:33 PM
To: <r-help at lists.r-project.org> "Petra Steiner" <steinep at uni-muenster.de>
Subject: [R] DBM databases for R?

Hello!

Can I use DBM databases (as they are used in Perl) for the import of
large datasets in R?

Thanks in advance for your help,

Petra Steiner

-
---------------------------------------------------
Petra Steiner
Arbeitsbereich Linguistik
Universitaet Muenster
Huefferstrasse 27
48149  Muenster

Tel: 0251 / 83 39442
petra at marley.uni-muenster.de
http://santana.uni-muenster.de/~petra/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etptupaf at bs.ehu.es  Mon Jan 28 11:11:08 2002
From: etptupaf at bs.ehu.es (F. Tusell)
Date: Mon, 28 Jan 2002 11:11:08 +0100
Subject: [R] Multivariate response trees
Message-ID: <200201281011.g0SAB85G001817@agesi.bs.ehu.es>

I  would  like  to  know  if  someone has  done  work  on  trees  with
multivariate  response. I  need something  like rpart  but  for vector
responses.  If someone has  code that  he/she is  willing to  share, I
would be grateful. If not, even guidelines for writing my own starting
from rpart would be welcomed.


ft.
--
Fernando TUSELL                                e-mail:
Departamento de Econometria y Estadistica           etptupaf at bs.ehu.es
Facultad de CC.EE. y Empresariales             Tel:   (+34)94.601.3733
Avenida Lendakari Aguirre, 83                  Fax:   (+34)94.601.3754
E-48015 BILBAO  (Spain)                        Secr:  (+34)94.601.3740
PGP: finger etptupaf at bsdx01.bs.ehu.es          http://etdx01.bs.ehu.es
----------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Mon Jan 28 10:10:25 2002
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Mon, 28 Jan 2002 10:10:25 +0100
Subject: [R] cran@ci.tuwien.ac.at is not responding?
In-Reply-To: <Pine.LNX.4.21.0201271225480.11330-100000@artemis.imbe.med.uni-erlangen.de>
References: <MABBLJDICACNFOLGIHJOKENGCIAA.phgrosje@ulb.ac.be>
	<Pine.LNX.4.21.0201271225480.11330-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <15445.5505.609940.138564@galadriel.ci.tuwien.ac.at>

>>>>> On Sun, 27 Jan 2002 12:27:44 +0100 (MET),
>>>>> Torsten Hothorn (TH) wrote:

  >> Hi,
  >> 
  >> I have submitted a package to CRAN in
  >> ftp://ftp.tuwien.ac.at/incoming/pastecs_1.0.tar.gz. The R extension manual
  >> advises to send a mail to cran at ci.tuwien.ac.at about it, but it fails. I
  >> have also tried WWWadmin at ci.tuwien.ac.at. Are these email adresses still
  >> valid?
  >> Best,
  >> 
  >> Philippe Grosjean

  > cran.r-project.org states:

  > To ``submit'' to CRAN, simply upload to ftp://cran.r-project.org/incoming
  > and send email to cran at r-project.org. 

  > I think Fritz changed the adress due to troubles with crackers ...


Yes, the new address for reaching the CRAN maintainers is

	cran at r-project.org

the reason for the change is that the CRAN server has been blocked for
incoming emails (we have tried to close as many ports as
possible). The new address will be in the manuals from 1.4.1 on.

.f

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 28 10:37:17 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 28 Jan 2002 09:37:17 +0000 (GMT)
Subject: [R] Multivariate response trees
In-Reply-To: <200201281011.g0SAB85G001817@agesi.bs.ehu.es>
Message-ID: <Pine.LNX.4.31.0201280935440.14547-100000@gannet.stats>

On Mon, 28 Jan 2002, F. Tusell wrote:

> I  would  like  to  know  if  someone has  done  work  on  trees  with
> multivariate  response. I  need something  like rpart  but  for vector
> responses.  If someone has  code that  he/she is  willing to  share, I
> would be grateful. If not, even guidelines for writing my own starting
> from rpart would be welcomed.

You will need to define spliting and pruning criteria. Once you have,
rpart is extensible, and there are examples of doing so in the test suite.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Jan 28 11:05:28 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 28 Jan 2002 10:05:28 +0000
Subject: [R] bootstrap: boot package
In-Reply-To: <15EE8D08-11C4-11D6-BA9A-003065451944@stat.ucla.edu>
References: <15EE8D08-11C4-11D6-BA9A-003065451944@stat.ucla.edu>
Message-ID: <nOqB7QAoJSV8Ewlh@myatt.demon.co.uk>

Rob Gould <rgould at stat.ucla.edu> writes:
>I'm teaching a class and using R for the first time.  We're talking 
>about the bootstrap, and I've been trying to get R to replicate some 
>simple bootstrap programs with no success.  I'd like to be able to use 
>the boot.ci function to produce confidence intervals (non-parametric) 
>for some simple statistics, and this requires first creating a "boot" 
>object.  The boot object, in turn, requires a statistic that takes two 
>inputs: the data and the second a vector of indices, frequencies, or 
>weights which "define" the bootstrap.  My question, I guess, is which 
>option do I choose to "define" an ordinary sample-with-replacement?  And 
>where does this vector come from?  Suppose I want to bootstrap a 
>confidence interval for the mean.  Do i have to write my own "mean" 
>function to provide for this defining vector of indices?
>
>Just to clarify, I want to use the boot command to replicate this:
>bstraps <- c()
>for (i in 1:R){
>bstraps <- c(mean(sample(data,replace=T,n=length(data))), bstraps)}

The bootstrap is surprisingly easy to do in R. I have a brief and simple
section in my R notes (www.myatt.demon.co.uk) that I use as a teaching
example. Selvin:

        Selvin, S, ?Modern Applied Biostatistical Methods Using S-Plus?,
        Oxford University Press, New York, 1998

Covers this quite well.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Mon Jan 28 13:17:14 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Mon, 28 Jan 2002 12:17:14 +0000
Subject: [R] How to add error bars to plot(x,y)in R?
References: <Pine.OSF.3.96.1020125102720.8203B-100000@ija.csic.es>
Message-ID: <3C55414A.FEA34C52@psy.uni-muenchen.de>

Agustin Lobo wrote:
> 
> On Thu, 24 Jan 2002, Dirk Eddelbuettel wrote:
> 
> >
> >   "Ming" == mingliz2  <mingliz2 at netscape.net> writes:
> >   Ming>  Dear R Experts, Is there a way in R to add an error bar (say in the
> >   Ming> y direction) for each data point?
> >
> > This is a FAQ. Here is but one reply from the mailing list.
> >.../...
> >
> >      This comes up as a FAQ every so often (it hasn't yet been added to the
> >    official FAQ list), you can find it in the mail archives in several
> >    places.
> 
> The real solution would be adding this feature as an option
> to plot.

Maybe, but its very easy to add error bars to a plot. A nice example is
in 

http://cran.r-project.org/doc/contrib/rpsych.pdf

By, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Gerard.Keogh at cso.ie  Mon Jan 28 13:17:11 2002
From: Gerard.Keogh at cso.ie (Gerard.Keogh@cso.ie)
Date: Mon, 28 Jan 2002 12:17:11 +0000
Subject: [R] Multivariate response trees
Message-ID: <OFD20B52A0.77628567-ON80256B4F.004205EF@cso.ie>


Fernando,

I'm not sure (and may in fact be wrong) but I think what your looking for
is something like PolyMARS ( Kooperburg, Bose &Stone, JASA 1997). There is
as far as I'm aware a suite of programs in C with S calling routines
available from www.stat.washington.edu - mabye the package is directly
available in S but I don't know this.

Anyway, hope this helps.

Gerard




                                                                                                                      
                    "F. Tusell"                                                                                       
                    <etptupaf at bs.ehu.es>        To:     r-help at stat.math.ethz.ch                                      
                    Sent by:                    cc:                                                                   
                    owner-r-help at stat.ma        Subject:     [R] Multivariate response trees                          
                    th.ethz.ch                                                                                        
                                                                                                                      
                                                                                                                      
                    28/01/02 10:11                                                                                    
                                                                                                                      
                                                                                                                      




I  would  like  to  know  if  someone has  done  work  on  trees  with
multivariate  response. I  need something  like rpart  but  for vector
responses.  If someone has  code that  he/she is  willing to  share, I
would be grateful. If not, even guidelines for writing my own starting
from rpart would be welcomed.


ft.
--
Fernando TUSELL                                e-mail:
Departamento de Econometria y Estadistica           etptupaf at bs.ehu.es
Facultad de CC.EE. y Empresariales             Tel:   (+34)94.601.3733
Avenida Lendakari Aguirre, 83                  Fax:   (+34)94.601.3754
E-48015 BILBAO  (Spain)                        Secr:  (+34)94.601.3740
PGP: finger etptupaf at bsdx01.bs.ehu.es          http://etdx01.bs.ehu.es
----------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




The information in this email, and any attachments transmitted with it, are confidential 
and are for the intended recipient only. If you receive this message in error, please 
notify us via postmaster at cso.ie.

To see the latest figures from the CSO go to http://www.cso.ie
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dlucy at maths.ed.ac.uk  Mon Jan 28 13:24:27 2002
From: dlucy at maths.ed.ac.uk (David Lucy)
Date: Mon, 28 Jan 2002 12:24:27 +0000 (GMT)
Subject: [R] R/Tk from batch file
Message-ID: <Pine.SOL.4.21.0201281101100.16960-100000@wallis>

Dear R-help,

Reccently I've been working on sample size estimates for our forensic
scientists and have to make the work accessible to them, preferably 
in some Windows based graphical form. The obvious choise was Tk via R,
so I now have a couple of very nice, user friendly front ends for
calculating betas and beta-binomials which run equally well under
Windows and other systems (same code - amazing).

The problem is that the habitual users of windows are going to get
flummoxed firing up R then sourcing the script files, so what I have
been trying to do, without success, is link a batch file to run the
script as a batch without ever seeing the terminal (or gui version in
windows). Problem is running R as a batch disables graphics plotting,
and the toplevel fires up, but then just shuts down again.

Are there any modifying parameters I can pass to R to make it run in the
background with a graphics device enabled? I've done all the usual
searches through the archives and FAQ's etc.

Dave.





**********************************************************************
**  Dr. David Lucy                                                  **
**  Joseph Bell Centre for Forensic Statistics and Legal Reasoning  **
**  Department of Mathematics and Statistics                        **
**  The University of Edinburgh                                     **
**  James Clerk Maxwell Building                                    **
**  King's Buildings                                                **
**  Mayfield Road                                                   **
**  Edinburgh                                                       **
**  EH9 3JZ                                                         **
**                                                                  **
**  tel: 0131 650 5057                                              **
**  extension: 505057                                               **
**  e-mail: dlucy at maths.ed.ac.uk                                    **
**                                                                  **
**  Truncated address:                                              **
**                                                                  **
**  Dr. David Lucy                                                  **
**  Department of Mathematics                                       **
**  JCMB                                                            **
**  King's Buildings                                                **
**  Edinburgh University                                            **
**  Edinburgh                                                       **
**  EH9 3JZ                                                         **
**********************************************************************




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 28 13:42:16 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 28 Jan 2002 12:42:16 +0000 (GMT)
Subject: [R] R/Tk from batch file
In-Reply-To: <Pine.SOL.4.21.0201281101100.16960-100000@wallis>
Message-ID: <Pine.GSO.4.31.0201281233530.4138-100000@auk.stats>

On Mon, 28 Jan 2002, David Lucy wrote:

> Dear R-help,
>
> Reccently I've been working on sample size estimates for our forensic
> scientists and have to make the work accessible to them, preferably
> in some Windows based graphical form. The obvious choise was Tk via R,
> so I now have a couple of very nice, user friendly front ends for
> calculating betas and beta-binomials which run equally well under
> Windows and other systems (same code - amazing).
>
> The problem is that the habitual users of windows are going to get
> flummoxed firing up R then sourcing the script files, so what I have
> been trying to do, without success, is link a batch file to run the
> script as a batch without ever seeing the terminal (or gui version in
> windows). Problem is running R as a batch disables graphics plotting,

Not true on Windows, and only true on Unix if R CMD BATCH is used.

> and the toplevel fires up, but then just shuts down again.

Right. So you have to give it something to do, like wait at a prompt
(equally true on Unix).

> Are there any modifying parameters I can pass to R to make it run in the
> background with a graphics device enabled? I've done all the usual
> searches through the archives and FAQ's etc.

1) In non-interactive use the default plotting device is postscript().
So you either want to explicitly open a windows() device, or alter the
option which is set in Rprofile to

if(interactive()) options(device="windows") else options(device = "postscript")

2) I think you want to do all this via a .Rprofile file.
Or set the batch file to set R_PROFILE to point to a suitable file and use
that as the equivalent of Rprofile.site.  Then use rterm --slave and
make the `dos' windows of the batch file come up minimized.



-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Mon Jan 28 14:06:14 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Mon, 28 Jan 2002 14:06:14 +0100 (MET)
Subject: [R] Multivariate response trees
In-Reply-To: <200201281011.g0SAB85G001817@agesi.bs.ehu.es>
Message-ID: <Pine.OSF.3.96.1020128140533.12409G-100000@ija.csic.es>

Regresion and/or classification trees, perhaps?

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Mon, 28 Jan 2002, F. Tusell wrote:

> I  would  like  to  know  if  someone has  done  work  on  trees  with
> multivariate  response. I  need something  like rpart  but  for vector
> responses.  If someone has  code that  he/she is  willing to  share, I
> would be grateful. If not, even guidelines for writing my own starting
> from rpart would be welcomed.
> 
> 
> ft.
> --
> Fernando TUSELL                                e-mail:
> Departamento de Econometria y Estadistica           etptupaf at bs.ehu.es
> Facultad de CC.EE. y Empresariales             Tel:   (+34)94.601.3733
> Avenida Lendakari Aguirre, 83                  Fax:   (+34)94.601.3754
> E-48015 BILBAO  (Spain)                        Secr:  (+34)94.601.3740
> PGP: finger etptupaf at bsdx01.bs.ehu.es          http://etdx01.bs.ehu.es
> ----------------------------------------------------------------------
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etptupaf at bs.ehu.es  Mon Jan 28 14:02:36 2002
From: etptupaf at bs.ehu.es (F. Tusell)
Date: Mon, 28 Jan 2002 14:02:36 +0100
Subject: [R] Multivariate response trees
In-Reply-To: <OFD20B52A0.77628567-ON80256B4F.004205EF@cso.ie>
	(Gerard.Keogh@cso.ie)
References: <OFD20B52A0.77628567-ON80256B4F.004205EF@cso.ie>
Message-ID: <200201281302.g0SD2aY0004995@agesi.bs.ehu.es>

Gerard,

Thank you very much for pointing this out. Yes, PolyMARS is close to
what I need, and is available in R as Prof. Ripley points out. So is 
mars, in package mda, which I have also looked at. It seems to me that 
both allow multivariate responses, but do not take into account their
correlation structure. Perhaps someone can correct me on this.
 
ft.
-- 
Fernando TUSELL                                e-mail:
Departamento de Econometr?a y Estad?stica           etptupaf at bs.ehu.es 
Facultad de CC.EE. y Empresariales             Tel:   (+34)94.601.3733
Avenida Lendakari Aguirre, 83                  Fax:   (+34)94.601.3754
E-48015 BILBAO  (Spain)                        Secr:  (+34)94.601.3740
PGP: finger etptupaf at bsdx01.bs.ehu.es          http://etdx01.bs.ehu.es
----------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Jan 28 14:14:39 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 28 Jan 2002 13:14:39 +0000
Subject: [R] bootstrap: boot package
In-Reply-To: <Pine.GSO.4.31.0201281101330.3062-100000@auk.stats>
References: <nOqB7QAoJSV8Ewlh@myatt.demon.co.uk>
 <Pine.GSO.4.31.0201281101330.3062-100000@auk.stats>
Message-ID: <Z4PumlA$6UV8EwgC@myatt.demon.co.uk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

>What, `I want to use the boot command to replicate this'?  I don't
>think either of you cover it or `the boot.ci function to produce confidence
>intervals'.  In my experience it is well worth using the code writen by
>experts, for bootstrapping as well as in general.
>
>It is `surprisingly easy' to re-invent the wheel in R.

I like that last comment a lot and would like to add my tuppence. It is
surprisingly easy to re-invent the wheel in R because it is surprisingly
easy to overlook the existence of functions and, in my case, entire
libraries of functions that are already there, debugged, and working
well. I am not sure how to overcome this problem (I understand that it
is not a problem for you, Prof.) with R. Perhaps there is a
documentation solution.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Mon Jan 28 14:50:44 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Mon, 28 Jan 2002 08:50:44 -0500 (EST)
Subject: [R] DBM databases for R?
In-Reply-To: <OFD446E719.C860CB4A-ONC1256B4F.002D0D36@eurotel.cz>
Message-ID: <Pine.LNX.4.21L1.0201280849090.3338-100000@hm269-26876.socsci.unc.edu>

Unfortunately, I don't think that's what the OP is looking for - by DBM
databases she probably means Berkeley-style database files, for which (as
far as I know) there is no ODBC driver.  The only method I can think of to
do it would be to read the dbm using perl, then write it out, either to a
socket connected to R (the fancy way) or to a file which R could then read
in.

ap

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


On Mon, 28 Jan 2002 Jan_Svatos at eurotel.cz wrote:

> 
> Hello,
> in general, there is RODBC package for general ODBC connection.
> This works for me well (Windows NT, with name.of.server in ODBC sources):
> 
> library(RODBC)
> str1 <- "some.sql.select"
> 
> channel <- odbcConnect("name.of.database","","",host="name.of.server") #
> connects to database
> BTS <- sqlQuery(channel, str1) # runs SQL command
> odbcClose(channel)
> 
> I think there are even some packages for specific RDBMS, like Postgres, but
> I am quite happy with RODBC
> 
> Jan
> 
> 
> 
> - - - Original message: - - -
> From: owner-r-help at stat.math.ethz.ch
> Send: 27/01/2002 3:35:33 PM
> To: <r-help at lists.r-project.org> "Petra Steiner" <steinep at uni-muenster.de>
> Subject: [R] DBM databases for R?
> 
> Hello!
> 
> Can I use DBM databases (as they are used in Perl) for the import of
> large datasets in R?
> 
> Thanks in advance for your help,
> 
> Petra Steiner
> 
> -
> ---------------------------------------------------
> Petra Steiner
> Arbeitsbereich Linguistik
> Universitaet Muenster
> Huefferstrasse 27
> 48149  Muenster
> 
> Tel: 0251 / 83 39442
> petra at marley.uni-muenster.de
> http://santana.uni-muenster.de/~petra/
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Mon Jan 28 11:01:19 2002
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Mon, 28 Jan 2002 10:01:19 +0000 (GMT)
Subject: [R] residuals in plot.gam (mgcv)
In-Reply-To: <A8877251964B294BAB5BA1FC58B43FED4F70A8@molly.tas.csiro.au>
Message-ID: <Pine.GSO.4.21.0201280954290.24694-100000@dolphin>

> Is there a way to add residuals to plots produced by plot.gam in the mgcv
> package? I'm looking for something like what you get using resid=T in Splus
> plot.gam. 
> 
> Thanks in advance
> Toby 
- It's on my "to do" list, but isn't there yet - sorry (mgcv doesn't
backfit so the partial residuals aren't just sitting there waiting to be
plotted). Of course you can add residuals of your own by using the
`select' argument to plot.gam() to produce single term plots, and then
using points() to add the residuals, but this isn't very convenient. 

Simon

  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 

 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mroberts at ers.usda.gov  Mon Jan 28 15:34:57 2002
From: mroberts at ers.usda.gov (Michael Roberts)
Date: Mon, 28 Jan 2002 09:34:57 -0500
Subject: [R] Almost a GAM?
Message-ID: <sc551cdd.072@mailbox.ers.usda.gov>

Hello:

I sent this question the other day with the wrong subject
heading and couple typos, with no response.  So, 
here I go again, having made those corrections.

I would like to estimate, for lack of a better description,
a partially additive non-parametric model with the following
structure:

z~ f(x,y):w1 + g(x,y):w2 + e

In other words, I'd like to estimate the marginals with 
respect to w1 and w2 as nonparametric functions of 
x and y.    

I'm not positive, but I think I recall being able to estimate
a model like this using Splus gam function a couple years
ago (I no longer have Splus).  Although, I can
see that this would be a bit more difficult to do than a standard
gam with univariate partials and no interaction terms. The mgcv
gam function doesn't seem to like a function of this form.

Is there an R package that can estimate a model like this that
someone can point me toward?

Many thanks


Michael J. Roberts

Resource Economics Division
Production, Management, and Technology
USDA-ERS
(202) 694-5557 (phone)
(202) 694-5775 (fax)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ulrich.arndt at vodafone.de  Mon Jan 28 16:06:41 2002
From: ulrich.arndt at vodafone.de (Arndt, Ulrich, VF-VP)
Date: Mon, 28 Jan 2002 16:06:41 +0100
Subject: [R] Functions on matrix row level
Message-ID: <8615625410DAD511BB2200508BB85FE81888E9@pc034018.mm.mannesmann.de>

Hi together,

I have some data in a matrix structure - say 1000 rows with 10 columns. And
I like to do some calculations (like max, avg or min) on row level. 
The only solution I found so fare was using a loop like 

for (i in 1:1000) {
       max[i]  <- max(matrix[I,])
}

It looks like that this is not very fast.
Does an other way exists?

Kind regards

          Ulrich


---------------------------------------------------------
This Mail has been checked for Viruses
Attention: Encrypted mails can NOT be checked!

**

Diese Mail wurde auf Viren geprueft
Hinweis: Verschluesselte mails koennen NICHT auf Viren geprueft werden!
---------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Mon Jan 28 16:06:08 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Mon, 28 Jan 2002 09:06:08 -0600
Subject: [R] bootstrap: boot package
In-Reply-To: <Z4PumlA$6UV8EwgC@myatt.demon.co.uk>
References: <nOqB7QAoJSV8Ewlh@myatt.demon.co.uk> <Pine.GSO.4.31.0201281101330.3062-100000@auk.stats> <Z4PumlA$6UV8EwgC@myatt.demon.co.uk>
Message-ID: <20020128150608.GA21451@sonny.eddelbuettel.com>

On Mon, Jan 28, 2002 at 01:14:39PM +0000, Mark Myatt wrote:
> Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:
[..] 
> >It is `surprisingly easy' to re-invent the wheel in R.
> 
> I like that last comment a lot and would like to add my tuppence. It is
> surprisingly easy to re-invent the wheel in R because it is surprisingly
> easy to overlook the existence of functions and, in my case, entire
> libraries of functions that are already there, debugged, and working
> well. I am not sure how to overcome this problem (I understand that it
> is not a problem for you, Prof.) with R. Perhaps there is a
> documentation solution.

IIRC one problem is help.search() on one's computer is "local", it cannot
know about packages which are not installed.  So would it be a) feasible and
b) desirable to create a "meta"-package for nothing but "global"
documentation searches ? One way would be to go online and query Jon Baron's
search engine, another to work offline by searching a db-in-a-file of
keywords stripped from the documentation on a CRAN master [ feeding this
could be automated with Perl scripts ] 

Am I making sense, or do I need more coffee?

Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jan 28 16:26:56 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Jan 2002 16:26:56 +0100
Subject: [R] Functions on matrix row level
In-Reply-To: <8615625410DAD511BB2200508BB85FE81888E9@pc034018.mm.mannesmann.de>
References: <8615625410DAD511BB2200508BB85FE81888E9@pc034018.mm.mannesmann.de>
Message-ID: <x24rl6fqdb.fsf@blueberry.kubism.ku.dk>

"Arndt, Ulrich, VF-VP" <ulrich.arndt at vodafone.de> writes:

> Hi together,
> 
> I have some data in a matrix structure - say 1000 rows with 10 columns. And
> I like to do some calculations (like max, avg or min) on row level. 
> The only solution I found so fare was using a loop like 
> 
> for (i in 1:1000) {
>        max[i]  <- max(matrix[I,])
> }
> 
> It looks like that this is not very fast.
> Does an other way exists?

apply(matrix,1,max)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 28 16:30:22 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 28 Jan 2002 15:30:22 +0000 (GMT)
Subject: [R] Functions on matrix row level
In-Reply-To: <8615625410DAD511BB2200508BB85FE81888E9@pc034018.mm.mannesmann.de>
Message-ID: <Pine.GSO.4.31.0201281523370.8695-100000@auk.stats>

On Mon, 28 Jan 2002, Arndt, Ulrich, VF-VP wrote:

> Hi together,
>
> I have some data in a matrix structure - say 1000 rows with 10 columns. And
> I like to do some calculations (like max, avg or min) on row level.
> The only solution I found so fare was using a loop like
>
> for (i in 1:1000) {
>        max[i]  <- max(matrix[I,])
> }
>
> It looks like that this is not very fast.

Only 0.12 secs on my machine.  You did set max to numeric(1000) first?

> Does an other way exists?

More comprehensible, but not necessarily much faster is

mymax <- apply(mymatrix, 1, max)

(0.03 secs)

Try to avoid confusing people (and perhaps R) by calling objects the same
name as system ones (max, matrix).

For average, rowMeans in R-devel is much faster still, if you need to save
another 0.03 seconds ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bdavies at intel.com  Mon Jan 28 16:36:21 2002
From: bdavies at intel.com (Davies, Bob)
Date: Mon, 28 Jan 2002 07:36:21 -0800
Subject: [R] rpart subset fix
Message-ID: <25A36276A29AD5119FB000508BB26843012C8D49@fmsmsx101.fm.intel.com>

(Apparently, I posted this to the wrong place.  I am hopefully posting this
is the correct place now.  If not, please advise.)

A few weeks back I posted that the subset feature of rpart was not working
when predicting a categorical variable.  I was able to figure out a simple
solution to the problem that I hope can be included in future editions of
rpart.  I also include a fix for another related problem.

The basic problem is that when predicting a categorical using a subset, the
subset may not have all the categories present.  For instance, using a
subset of car.test.frame to predict the Type, you might have a subset that
does not include Type=Small.

The frequency is counted in the gini.c with zero for Small and then the
priors are calculated.  The priors will then have entries that are NaN's as
the frequency is used in a divide.  Naturally, this causes lots of problems
and the rpart will fail.

The simple solution which I am hoping can be validated here is to put a very
small number there instead of zero.  Here is the change to gini.c:

#if 1 // Bob's simple fix
	// This fixes a problem when predicting a categorical using a
subset.
	// The subset may be missing one or more of the categories.  Here 
	// we make any zeros a very small number so that the rpart run will
not fail.
	for (i=0; i<numclass; i++) {
		if (freq[i] == 0) freq[i] = 0.00000000001;
	}
#endif
	for (i=0; i<numclass; i++) {
	    prior[i] /= freq[i];            
	    aprior[i] /= (temp * freq[i]);  /* pi_i / n_i */
	    }
	}

The calculation of the priors (existing code) above shows where I put the
fix in giniinit (in gini.c).  However, at this point the rpart run will
complete but will have many NaN's in the rpart$frame for yval's.  This is
because of an oversight in rpart.s when calculating the probabilities for
each node.  The change to the function rpart in rpart.s is:

    if (method.int ==3 ) {
        numclass <- init$numresp -1
        temp <- rp$dnode[,-(1:4)] %*% diag(init$parms$prior*
					   sum(init$counts)/init$counts)
# Bob's clumsy attempt to remove the NaN's that result when
# calculating the probabilities
		tempx <- matrix(0, nrow=nrow(temp), ncol=ncol(temp))
		tempx[which(is.finite(temp))] <-
temp[which(is.finite(temp))]
		temp <- tempx
# end of Bob's changes
        yprob <- temp /apply(temp,1,sum)   #necessary with altered priors
        yval2 <- matrix(rp$dnode[, -(1:3)], ncol=numclass+1)
	frame$yval2 <- cbind(yval2, yprob)
	}

The frequencies are calculated for each node and the resulting zeros produce
NaN's when calculating the probabilities.  My clumsy R code simply removes
the NaN's from the matrix of probabilities.

During my testing for this solution, I found that any priors provided as
parameters to the rpart call were not being honored for categorical
variables.  My first attempted solution had bee to provide priors that would
not have zeros.  This override failed to provide an alternative solution to
the original problem as I had hoped.  I was surprised so I investigated
further and found that priors in the parms were not being honored by the
function giniinit in gini.c.  

Here is the solution to that problem:

#if 0 
	for (i=0; i<numclass; i++)  freq[i] =0;
	temp =0;
	for (i=0; i<n; i++) {
	    j = *y[i] -1;
	    freq[j] += wt[i];
	    temp += wt[i];   /*sum total of weights */
	    }
	for (i=0; i<numclass; i++)  freq[i] /=temp;   /*relative frequency
*/
#else
	// The frequency was already calculated from the data OR overidden
with "parms=list(prior=c(....))"
	for (i=0; i<numclass; i++) freq[i] = parm[i];
#endif

The code that is now removed was always calculating the frequencies from the
data but the frequencies were already provided in the parms so the
calculation was unnecessary.  By using the parms as the source for the
frequencies, any priors in the parameter list would be honored as well.
Less is more.

The combination of honoring any priors in the parameters with the assumption
that the frequency is some really small value seems to me to be a flexible
solution.  If you don't like the very small number, you must provide another
one in the parameter list. 

I am hoping that Prof. Ripley or anyone else working on rpart will vet these
recommendations and incorporate them into the tree.

Bob Davies
Intel Corp.

PS: here is some R code from my original message that can be used to test
the subset option and validate the above changes:

On Wed, 2 Jan 2002, Davies, Bob wrote:

Any rpart user:
I am trying to construct an rpart tree using a subset of the data and it
will occasionally fail when predicting a categorical response variable.

The reason that rpart fails is that the subset does not contain each of the
categories present in the original data.  For example, in the car.test.frame
example, a subset that has all the categories except "Small" will not
produce an rpart tree.

I attempted to use "parms=list(prior=...) and it did not correct the
problem.

Here is a demonstration of the problem using the car.test.frame:

library(rpart)
data(car.test.frame)
t1 <- rpart(Type ~ ., car.test.frame)
t1
sub <- row.names(car.test.frame[car.test.frame[,"Weight"] > 2567.5,])  #
 create a subset
rpart (Type ~ ., car.test.frame, subset=sub )  # this statement will fail
# so now attempt to indicate what the priors should look like:
rpart (Type ~ ., car.test.frame, subset=sub,
parms=list(prior=t1$parms$prior))  # this statement will fail

# now add 1 "Small" car to this subset of car.test.frame
sub <- row.names(car.test.frame[car.test.frame[,"Weight"] > 2559,])  # lower
the weight just a little to get a "Small" car.
rpart(Type ~ ., car.test.frame, subset=sub) # This statement will work !

Any suggestions?

I am using R 1.4.0 on Windows 2000.

Bob Davies

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Mon Jan 28 16:35:58 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Mon, 28 Jan 2002 16:35:58 +0100 (MET)
Subject: [R] Functions on matrix row level
In-Reply-To: <8615625410DAD511BB2200508BB85FE81888E9@pc034018.mm.mannesmann.de>
Message-ID: <Pine.LNX.4.21.0201281634400.26145-100000@artemis.imbe.med.uni-erlangen.de>


> Hi together,
> 
> I have some data in a matrix structure - say 1000 rows with 10 columns. And
> I like to do some calculations (like max, avg or min) on row level. 
> The only solution I found so fare was using a loop like 
> 
> for (i in 1:1000) {
>        max[i]  <- max(matrix[I,])
> }

this will not work anyway (`I' is unknown) and it is unwise to overwrite
`matrix'.

R> apply(mymatrix, 1, max)

will do,

Torsten



> 
> It looks like that this is not very fast.
> Does an other way exists?
> 
> Kind regards
> 
>           Ulrich
> 
> 
> ---------------------------------------------------------
> This Mail has been checked for Viruses
> Attention: Encrypted mails can NOT be checked!
> 
> **
> 
> Diese Mail wurde auf Viren geprueft
> Hinweis: Verschluesselte mails koennen NICHT auf Viren geprueft werden!
> ---------------------------------------------------------
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Corey.Moffet at ttu.edu  Mon Jan 28 16:50:29 2002
From: Corey.Moffet at ttu.edu (Moffet, Corey)
Date: Mon, 28 Jan 2002 09:50:29 -0600
Subject: [R] Type III Sums of Squares
Message-ID: <938690ACF269D311928B0090279C2772E91EAF@cyclops.net.ttu.edu>

I am trying to reproduce an analysis done in SAS from which Type III Sums of
squares are used. How can you get Type III sums of squares in an aov similar
to what SAS provides?


With best wishes and kind regards I am

Sincerely,

Corey A. Moffet
Instructor
Department of Range, Wildlife, and Fisheries Management
Mail Stop 2125
Texas Tech University
Lubbock, Texas 79409-2125
 
(806) 742-2843  Voice
(806) 742-2280  FAX
c.moffet at ttu.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From steinep at uni-muenster.de  Mon Jan 28 16:54:12 2002
From: steinep at uni-muenster.de (Petra Steiner)
Date: Mon, 28 Jan 2002 16:54:12 +0100
Subject: [R] DBM databases for R?
References: <Pine.LNX.4.21L1.0201280849090.3338-100000@hm269-26876.socsci.unc.edu>
Message-ID: <001a01c1a814$08d6ed40$3aecb080@oemcomputer>

Hello,

> Unfortunately, I don't think that's what the OP is looking for - by DBM
> databases she probably means Berkeley-style database files, for which (as

that is what I meant indeed. I hoped I could use this mode of storing large
data for the import of my matrix stuff.  Writing out to a file which R could
read would be of no improvement, for this is what my program is doing at the
moment by scan.

Thanks for your answers!

Regards,
Petra

> far as I know) there is no ODBC driver.  The only method I can think of to
> do it would be to read the dbm using perl, then write it out, either to a
> socket connected to R (the fancy way) or to a file which R could then read
> in.
>
> ap
>
> ----------------------------------------------------------------------
> Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
>  Assistant Professor of Sociology, U of North Carolina, Chapel Hill
>       269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA
>
>
> On Mon, 28 Jan 2002 Jan_Svatos at eurotel.cz wrote:
>
> >
> > Hello,
> > in general, there is RODBC package for general ODBC connection.
> > This works for me well (Windows NT, with name.of.server in ODBC
sources):
> >
> > library(RODBC)
> > str1 <- "some.sql.select"
> >
> > channel <- odbcConnect("name.of.database","","",host="name.of.server") #
> > connects to database
> > BTS <- sqlQuery(channel, str1) # runs SQL command
> > odbcClose(channel)
> >
> > I think there are even some packages for specific RDBMS, like Postgres,
but
> > I am quite happy with RODBC
> >
> > Jan
> >
> >
> >
> > - - - Original message: - - -
> > From: owner-r-help at stat.math.ethz.ch
> > Send: 27/01/2002 3:35:33 PM
> > To: <r-help at lists.r-project.org> "Petra Steiner"
<steinep at uni-muenster.de>
> > Subject: [R] DBM databases for R?
> >
> > Hello!
> >
> > Can I use DBM databases (as they are used in Perl) for the import of
> > large datasets in R?
> >
> > Thanks in advance for your help,
> >
> > Petra Steiner
> >
> > -
> > ---------------------------------------------------
> > Petra Steiner
> > Arbeitsbereich Linguistik
> > Universitaet Muenster
> > Huefferstrasse 27
> > 48149  Muenster
> >
> > Tel: 0251 / 83 39442
> > petra at marley.uni-muenster.de
> > http://santana.uni-muenster.de/~petra/
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-
> > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
> >
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jan 28 17:00:17 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Jan 2002 17:00:17 +0100
Subject: [R] R/Tk from batch file
In-Reply-To: <Pine.SOL.4.21.0201281101100.16960-100000@wallis>
References: <Pine.SOL.4.21.0201281101100.16960-100000@wallis>
Message-ID: <x2zo2yea9a.fsf@blueberry.kubism.ku.dk>

David Lucy <dlucy at maths.ed.ac.uk> writes:

> Dear R-help,
> 
> Reccently I've been working on sample size estimates for our forensic
> scientists and have to make the work accessible to them, preferably 
> in some Windows based graphical form. The obvious choise was Tk via R,
> so I now have a couple of very nice, user friendly front ends for
> calculating betas and beta-binomials which run equally well under
> Windows and other systems (same code - amazing).

This almost works, but there seems to be a bug in Rterm/Tcl preventing
R from closing up properly (in w98 under win4lin).

$ cat win/Programmer/R/rw1040/bin/tkR.bat 
Rterm --vanilla < tk.R

$ cat win/Programmer/R/rw1040/bin/tk.R
library(tcltk)
tt <- tktoplevel()
v <- tclVar()
tkpack(tkcheckbutton(tt,variable=v))
tkwait.variable(v)
tkdestroy(tt)
q("no")

Then make a shortcut that calls up tkR.bat. 

For now, it might be better to just leave the process hanging at

tkwait.variable("fubar")

and close stuff up by closing the controlling "DOS-box".

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Mon Jan 28 17:07:21 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Mon, 28 Jan 2002 11:07:21 -0500 (EST)
Subject: [R] DBM databases for R?
In-Reply-To: <001a01c1a814$08d6ed40$3aecb080@oemcomputer>
Message-ID: <Pine.LNX.4.21L1.0201281105440.3338-100000@hm269-26876.socsci.unc.edu>

In principle, you could write a perl program to run as a daemon, listen on
a socket, and dynamically pass data to R from a DBM file. However, that
seems like a lot of work.

Alternatively, you might consider using a real RDBMS, which R can then
read dynamically. I tend to use PostgreSQL, but others work fine too. That
does let you do what you're talking about: store the data in a relational,
efficient format, and bring it into R when you actually need to analyze.

Andy

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


On Mon, 28 Jan 2002, Petra Steiner wrote:

> Hello,
> 
> > Unfortunately, I don't think that's what the OP is looking for - by DBM
> > databases she probably means Berkeley-style database files, for which (as
> 
> that is what I meant indeed. I hoped I could use this mode of storing large
> data for the import of my matrix stuff.  Writing out to a file which R could
> read would be of no improvement, for this is what my program is doing at the
> moment by scan.
> 
> Thanks for your answers!
> 
> Regards,
> Petra
> 
> > far as I know) there is no ODBC driver.  The only method I can think of to
> > do it would be to read the dbm using perl, then write it out, either to a
> > socket connected to R (the fancy way) or to a file which R could then read
> > in.
> >
> > ap
> >
> > ----------------------------------------------------------------------
> > Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
> >  Assistant Professor of Sociology, U of North Carolina, Chapel Hill
> >       269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA
> >
> >
> > On Mon, 28 Jan 2002 Jan_Svatos at eurotel.cz wrote:
> >
> > >
> > > Hello,
> > > in general, there is RODBC package for general ODBC connection.
> > > This works for me well (Windows NT, with name.of.server in ODBC
> sources):
> > >
> > > library(RODBC)
> > > str1 <- "some.sql.select"
> > >
> > > channel <- odbcConnect("name.of.database","","",host="name.of.server") #
> > > connects to database
> > > BTS <- sqlQuery(channel, str1) # runs SQL command
> > > odbcClose(channel)
> > >
> > > I think there are even some packages for specific RDBMS, like Postgres,
> but
> > > I am quite happy with RODBC
> > >
> > > Jan
> > >
> > >
> > >
> > > - - - Original message: - - -
> > > From: owner-r-help at stat.math.ethz.ch
> > > Send: 27/01/2002 3:35:33 PM
> > > To: <r-help at lists.r-project.org> "Petra Steiner"
> <steinep at uni-muenster.de>
> > > Subject: [R] DBM databases for R?
> > >
> > > Hello!
> > >
> > > Can I use DBM databases (as they are used in Perl) for the import of
> > > large datasets in R?
> > >
> > > Thanks in advance for your help,
> > >
> > > Petra Steiner
> > >
> > > -
> > > ---------------------------------------------------
> > > Petra Steiner
> > > Arbeitsbereich Linguistik
> > > Universitaet Muenster
> > > Huefferstrasse 27
> > > 48149  Muenster
> > >
> > > Tel: 0251 / 83 39442
> > > petra at marley.uni-muenster.de
> > > http://santana.uni-muenster.de/~petra/
> > >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > > -.-.-
> > > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > > _._._
> > >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> > > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> > >
> >
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jan 28 17:11:49 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Jan 2002 17:11:49 +0100
Subject: [R] Type III Sums of Squares
In-Reply-To: <938690ACF269D311928B0090279C2772E91EAF@cyclops.net.ttu.edu>
References: <938690ACF269D311928B0090279C2772E91EAF@cyclops.net.ttu.edu>
Message-ID: <x2vgdme9q2.fsf@blueberry.kubism.ku.dk>

"Moffet, Corey" <Corey.Moffet at ttu.edu> writes:

> I am trying to reproduce an analysis done in SAS from which Type III Sums of
> squares are used. How can you get Type III sums of squares in an aov similar
> to what SAS provides?

drop1(), except that R will refuse to test main effects in the presence
of an interaction. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 28 17:32:11 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 28 Jan 2002 16:32:11 +0000 (GMT)
Subject: [R] DBM databases for R?
In-Reply-To: <001a01c1a814$08d6ed40$3aecb080@oemcomputer>
Message-ID: <Pine.GSO.4.31.0201281621010.13604-100000@auk.stats>

On Mon, 28 Jan 2002, Petra Steiner wrote:

> Hello,
>
> > Unfortunately, I don't think that's what the OP is looking for - by DBM
> > databases she probably means Berkeley-style database files, for which (as
>
> that is what I meant indeed. I hoped I could use this mode of storing large
> data for the import of my matrix stuff.  Writing out to a file which R could
> read would be of no improvement, for this is what my program is doing at the
> moment by scan.

*But* you don't need to write an ASCII file as readBin can read from binary
files (already a big win) and you can avoid the file altogether by
using a pipe or fifo if space were an issue (unlikely).

There's also RSPerl, which should enable you to share binary Perl objects.

For large matrices it is hard to see how anything will do much better than
using binary files, which are pretty close to a dump of the internal
representation.  Much of the apparent slowness of R in data input comes
from people using methods designed for data frames on matrices.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Jan 28 17:35:19 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 28 Jan 2002 08:35:19 -0800 (PST)
Subject: [R] Type III Sums of Squares
In-Reply-To: <938690ACF269D311928B0090279C2772E91EAF@cyclops.net.ttu.edu>
Message-ID: <Pine.A41.4.44.0201280826190.142964-100000@homer08.u.washington.edu>

On Mon, 28 Jan 2002, Moffet, Corey wrote:

> I am trying to reproduce an analysis done in SAS from which Type III Sums of
> squares are used. How can you get Type III sums of squares in an aov similar
> to what SAS provides?
>

You can get any set of sums of squares by fitting two aov models and
comparing them (it's a FAQ).  While I don't speak SAS fluently I believe
that the Type III sums of squares for a term A compare a full model to a
model without A but with everything else
eg
    full.model<-aov(Y~A+B+C,data=df)
    anova(full.model, update(full.model,.~.-A))


You can use
    drop1(full.model)
to get all of these at once.  By default this will not give Type III SS
for main effects in the presence of interactions but as these are usually
silly that's not a big problem.

If you really do want to test for a main effect in the presence of
interactions (which occasionally makes sense) you can specify a list of
specific terms to consider, eg:
    full.model2<-aov(Y~A+B*C,data=df)
    drop1(full.model2, scope=c("A","B"))



	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arc at arcriswell.com  Mon Jan 28 17:43:51 2002
From: arc at arcriswell.com (Andrew Criswell)
Date: Mon, 28 Jan 2002 23:43:51 +0700
Subject: [R] bootstrap: boot package
Message-ID: <003201c1a81a$f9474c60$5c2295cb@andrewvhowclyz>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

>What, `I want to use the boot command to replicate this'?  I don't
>think either of you cover it or `the boot.ci function to produce confidence
>intervals'.  In my experience it is well worth using the code writen by
>experts, for bootstrapping as well as in general.
>
>It is `surprisingly easy' to re-invent the wheel in R.

As a learning device and with the luxury of time, reinventing the wheel is
great with R. I've been working through Clifford Lunneborg's "Data Analysis
by Resampling", expressing his ideas and sometimes the code from the text
written in Resampling Stats, SC and S-Plus, in R.

In reinventing the wheel, I've learned much about resampling techniques and
R. Much less would have been learned had I relied upon the functions written
by others. Not a bad investment of time but the importance and press of time
to others might differ.

ANDREW

Andrew Criswell
Professor of Finance
Graduate School, Bangkok University

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Douglas_Jones at hgsi.com  Mon Jan 28 18:49:32 2002
From: Douglas_Jones at hgsi.com (Douglas_Jones@hgsi.com)
Date: Mon, 28 Jan 2002 12:49:32 -0500
Subject: [R] Symbol referencing errors...
Message-ID: <OF0AF3F0A3.F6A07B0F-ON85256B4F.0061AFD8@hgsi.com>

This is the error I get when trying to install R-1.3.1 on my Solaris 2.6
box. Any assistance would be greatly appreciated.

g77   -g -O2 -c xxxpr.f -o xxxpr.o
gcc   -o R.bin  CConverters.o  Rdynload.o RNG.o  apply.o arithmetic.o
array.o at
trib.o  bind.o builtin.o  character.o coerce.o colors.o complex.o
connections.o
context.o  cov.o cum.o  dcf.o datetime.o debug.o devPS.o devPicTeX.o
deparse.o d
eriv.o  devices.o dotcode.o dstruct.o duplicate.o  envir.o errors.o eval.o
form
at.o fourier.o  gram.o gram-ex.o graphics.o  internet.o iosupport.o
lapack.o li
st.o logic.o  main.o match.o memory.o model.o  names.o  objects.o optim.o
optimi
ze.o options.o  par.o paste.o platform.o  plot.o plot3d.o plotmath.o
print.o pr
intarray.o printvector.o printutils.o  random.o regex.o relop.o  saveload.o
scan
.o seq.o size.o sort.o source.o split.o  subassign.o subscript.o subset.o
summar
y.o  unique.o util.o  version.o vfonts.o xxxpr.o ../unix/libunix.a
../appl/libap
pl.a ../nmath/libnmath.a -lcblas -latlas -lg2c -lm  -L/usr/ccs/lib
-L/usr/lib -L
/usr/local/lib/gcc-lib/sparc-sun-solaris2.6/2.8.1
-L/usr/local/sparc-sun-solaris
2.6/lib -L/usr/ccs/bin -L/usr/ccs/lib -L/usr/local/lib -lm
-L/usr/local/lib  -l
z -lnsl -lsocket -lreadline -ldl -ltermcap -lm
Undefined                       first referenced
 symbol                             in file
dscal_                              ../appl/libappl.a(lbfgsb.o)
drot_                               ../appl/libappl.a(dsvdc.o)
daxpy_                              ../appl/libappl.a(lbfgsb.o)
ddot_                               ../appl/libappl.a(lbfgsb.o)
dswap_                              ../appl/libappl.a(dqrdc.o)
dnrm2_                              ../appl/libappl.a(uncmin.o)
dtrsm_                              ../appl/libappl.a(bakslv.o)
dcopy_                              ../appl/libappl.a(bakslv.o)
drotg_                              ../appl/libappl.a(dsvdc.o)
dgemm_                              array.o
dasum_                              ../appl/libappl.a(dpoco.o)
ld: fatal: Symbol referencing errors. No output written to R.bin
*** Error code 1
make: Fatal error: Command failed for target `R.bin'
Current working directory /home/djones/R-1.3.1/src/main
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /home/djones/R-1.3.1/src/main
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /home/djones/R-1.3.1/src
*** Error code 1
make: Fatal error: Command failed for target `R'


Thank You,

Douglas Jones



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 28 19:17:51 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 28 Jan 2002 18:17:51 +0000 (GMT)
Subject: [R] Symbol referencing errors...
In-Reply-To: <OF0AF3F0A3.F6A07B0F-ON85256B4F.0061AFD8@hgsi.com>
Message-ID: <Pine.LNX.4.31.0201281812350.15099-100000@gannet.stats>

I think we've been asked about missing blas entry points before by you?

You are somewhere specifying ATLAS incorectly: the correct set of
libraries is -lf77blas -lcblas -latlas, and you have -lf77blas missing.

configure has the right set, so I presume you must have set this manually.

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Mon Jan 28 19:34:18 2002
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Mon, 28 Jan 2002 18:34:18 +0000 (GMT)
Subject: [R] Almost a GAM?
In-Reply-To: <sc551cdd.072@mailbox.ers.usda.gov>
Message-ID: <Pine.GSO.4.21.0201281820240.1741-100000@dolphin>

I don't know of a package that will do this easily, sorry! It's on the
mgcv "to do" list, but involves a fair bit of work. In principle you can
do it yourself by manipulating the design matrix G$X that you'd get by
calling 
G<-gam.setup(z~s(x,y)+s(x,y))
G<-GAMsetup(G)
.. you just need to multiply the columns of the design matrix relating to
the first smooth by w1 and the columns relating to the second by w2, then
gam.fit() can do the rest... the easiest way to do this would be to modify
gam() [just after GAMsetup() is called].... but obviously this is a
nuisance (and will hopefully not be necessary in mgcv 0.8!) 

> I would like to estimate, for lack of a better description,
> a partially additive non-parametric model with the following
> structure:
> 
> z~ f(x,y):w1 + g(x,y):w2 + e
> 
> In other words, I'd like to estimate the marginals with 
> respect to w1 and w2 as nonparametric functions of 
> x and y.    
> 
> I'm not positive, but I think I recall being able to estimate
> a model like this using Splus gam function a couple years
> ago (I no longer have Splus).  Although, I can
> see that this would be a bit more difficult to do than a standard
> gam with univariate partials and no interaction terms. The mgcv
> gam function doesn't seem to like a function of this form.

Simon
  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Mon Jan 28 19:52:25 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Mon, 28 Jan 2002 13:52:25 -0500
Subject: [R] merge() generates a factor: bug?
Message-ID: <15445.40425.319296.726158@gargle.gargle.HOWL>

Hello,

   When I merge two dataframes, each created by read.table and containing no
factors, the result has columns which have been converted to factor.  I think
this is a bug (and may be related to some fixed bugs, eg PR#1102, PR#1121), but
will await comments before submitting.  Also, I'm not sure if the bug is in
merge() or in read.table().  I am using R-1.4.0 patch 1/13/02 on Solaris 2.6.

File "merge1.txt":
k a
A w
B x

File "merge2.txt":
k b
A y
C z

Bug-testing code:
R> x <- read.table("merge1.txt",header=T,row.names=NULL,colClasses="character")
R> y <- read.table("merge2.txt",header=T,row.names=NULL,colClasses="character")
R> z <- merge(x, y, all.x=T)
R> sapply(z, is.factor)
    k     a     b 
FALSE FALSE  TRUE 

Note z$b has become a factor!  I strongly suspect it has to do with setting
all.x=T and the fact that some rows of z$b (for key k="B") had to be filled in.

Also note, I do not get this behavior if I create "x" and "y" with data.frame:
R> x <- data.frame(k=I(c("A","B")), a=I(c("w","x")))
R> y <- data.frame(k=I(c("A","C")), b=I(c("y","z")))
R> z <- merge(x, y, all.x=T)
R> sapply(z, is.factor)
    k     a     b 
FALSE FALSE FALSE 


Version:
 platform = sparc-sun-solaris2.6
 arch = sparc
 os = solaris2.6
 system = sparc, solaris2.6
 status = Patched
 major = 1
 minor = 4.0
 year = 2002
 month = 01
 day = 13
 language = R

Search Path:
 .GlobalEnv, package:secref, package:misc, package:io, package:arrays, package:ls1, package:g.data, package:db, package:ts, package:ctest, Autoloads, package:base

-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Mon Jan 28 20:48:30 2002
From: jfox at mcmaster.ca (John Fox)
Date: Mon, 28 Jan 2002 14:48:30 -0500
Subject: [R] Type III Sums of Squares
In-Reply-To: <938690ACF269D311928B0090279C2772E91EAF@cyclops.net.ttu.edu
 >
Message-ID: <5.1.0.14.2.20020128144545.01d98d28@mcmail.cis.mcmaster.ca>

Dear Corey,

At 09:50 AM 1/28/2002 -0600, Moffet, Corey wrote:
>I am trying to reproduce an analysis done in SAS from which Type III Sums of
>squares are used. How can you get Type III sums of squares in an aov similar
>to what SAS provides?

The Anova function in the car package will calculate both "Type II" and 
"Type III" sums of squares, but be careful with contrast coding for the 
latter or you'll get nonsense.

I hope that this helps,
  John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonathan_li at agilent.com  Mon Jan 28 21:13:37 2002
From: jonathan_li at agilent.com (jonathan_li@agilent.com)
Date: Mon, 28 Jan 2002 12:13:37 -0800
Subject: [R] handle a sequence of strings with for loop
Message-ID: <FC0B9DA2600ED4118F76009027AA5DDD02B27B48@ALEX2>

Hi all,

I have a string sequence:
"my00", "my01", "my02",...,"my99". 
I would like to process them one by one use a for loop like:

for(i in 0:99){
	str <- paste("my", i, sep="")
	print(str)
}

But this only works with string "my10" to "my99". 
In Python, this problem can be solved by string formating zero fill such as 
print "%02d", i;
which will give 
00, 01, ...,09,10,...,99

I wonder if R has similar solutions?

Regards,
Jonathan


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jan 28 21:27:27 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 28 Jan 2002 20:27:27 +0000 (GMT)
Subject: [R] handle a sequence of strings with for loop
In-Reply-To: <FC0B9DA2600ED4118F76009027AA5DDD02B27B48@ALEX2>
Message-ID: <Pine.LNX.4.31.0201282023470.15489-100000@gannet.stats>

On Mon, 28 Jan 2002 jonathan_li at agilent.com wrote:

> Hi all,
>
> I have a string sequence:
> "my00", "my01", "my02",...,"my99".
> I would like to process them one by one use a for loop like:
>
> for(i in 0:99){
> 	str <- paste("my", i, sep="")
> 	print(str)
> }
>
> But this only works with string "my10" to "my99".
> In Python, this problem can be solved by string formating zero fill such as
> print "%02d", i;
> which will give
> 00, 01, ...,09,10,...,99
>
> I wonder if R has similar solutions?

?formatC. As in

> formatC(9, width=2, flag="0")
[1] "09"


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ptsant at otenet.gr  Mon Jan 28 21:32:56 2002
From: ptsant at otenet.gr (Petros Tsantoulis)
Date: Mon, 28 Jan 2002 22:32:56 +0200
Subject: [R] Cluster package broken in 1.4.0?
Message-ID: <20020128223256.A538@hagakure>


Greetings,

I am reasonably experienced with R but I recently tried to 
do some clustering using the "cluster" package, in order
to see if it would help.

I only tried this once with the 1.3.1 version and it worked 
(I don't quite remember which method I used).

Now, I tried with the 1.4.0 version and no clustering function
seems to work with matrices that contain NAs, even
though the help page says it should. I even tried the same
data that worked with 1.3.1.

For example :

> foo
 [1] 68 NA 33 63 53 62 44 NA 20 69 NA 62 59 43 51 19 38 57 30 53 62 67 42 31
38
[26] 50 NA 69 67 38 NA 26 NA 52 39 45 42 58 79 92 53 NA 22 21 30 38 64 49 43
28
[51] 33 42 59 32 41 52 44 54 37 43 32 42 59 39 74 38 33 56 NA 52 38 46 42 29
58
[76] 54 62 32 53 39 28 34 24 44 46 27 38
> fanny(foo, k=2, diss=FALSE)
Error in fanny(foo, k = 2, diss = FALSE) :
        No clustering performed, NA-values in the dissimilarity matrix.

The help page says :

	In case of a matrix or dataframe, each row corresponds to an
        observation, and each column corresponds to a variable. All
        variables must be numeric. Missing values (NAs) are allowed.

This happens with every (?) clustering function that I tried.

Am I doing something wrong? I am not experienced with these 
algorithms and therefore I could be seriously wrong. Is it
possible that this is a software problem? I have used both
the included "cluster" package and a later version that
I got with install.package(). 

My environment is Linux 2.4.11, R compiled with gcc 3.0, libc
2.2.3, using emacs with iESS.

Thank you for your time!

Petros

P.S. Please also reply via e-mail because I read the "digest" list and
     it can be cumbersome to read sometimes. 

-- 
----------------------------------------------------------
GPG key available upon request. Also from keys.pgp.com.
Please verify fingerprint before using.
----------------------------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 232 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020128/d8939dcc/attachment.bin

From ligges at statistik.uni-dortmund.de  Mon Jan 28 21:40:13 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 28 Jan 2002 21:40:13 +0100
Subject: [R] handle a sequence of strings with for loop
References: <FC0B9DA2600ED4118F76009027AA5DDD02B27B48@ALEX2>
Message-ID: <3C55B72D.60039864@statistik.uni-dortmund.de>



jonathan_li at agilent.com wrote:
> 
> Hi all,
> 
> I have a string sequence:
> "my00", "my01", "my02",...,"my99".
> I would like to process them one by one use a for loop like:
> 
> for(i in 0:99){
>         str <- paste("my", i, sep="")
>         print(str)
> }
> 
> But this only works with string "my10" to "my99".
> In Python, this problem can be solved by string formating zero fill such as
> print "%02d", i;
> which will give
> 00, 01, ...,09,10,...,99
> 
> I wonder if R has similar solutions?


Details in ?formatC

In your case:
  formatC(i, width=2, flag=0)

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ralphl at lrz.uni-muenchen.de  Mon Jan 28 22:46:12 2002
From: ralphl at lrz.uni-muenchen.de (Ralph Leonhardt)
Date: Mon, 28 Jan 2002 22:46:12 +0100
Subject: [R] Models with Incidental Truncation/Self Selectivity
Message-ID: <3C55C6A4.1CAB319D@lrz.uni-muenchen.de>

Hi,

is there already a package that allows the estimation  of Heckman-Type
models, i.e.
Models of the Type
y=xb+e_1
z=wc+e_2
with
z \in {0,1}
and y>0 only if z=1 and 0 otherwise and COv(e_1, e_2) \neq 0.

Thank you.
	Ralph
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Corey.Moffet at ttu.edu  Mon Jan 28 23:30:26 2002
From: Corey.Moffet at ttu.edu (Moffet, Corey)
Date: Mon, 28 Jan 2002 16:30:26 -0600
Subject: [R] Type III Sums of Squares
Message-ID: <938690ACF269D311928B0090279C2772E91EB0@cyclops.net.ttu.edu>

Thank you the Anova function does just what I needed.


With best wishes and kind regards I am

Sincerely,

Corey A. Moffet
Instructor
Department of Range, Wildlife, and Fisheries Management
Mail Stop 2125
Texas Tech University
Lubbock, Texas 79409-2125
 
(806) 742-2843  Voice
(806) 742-2280  FAX
c.moffet at ttu.edu

-----Original Message-----
From: John Fox [mailto:jfox at mcmaster.ca]
Sent: Monday, January 28, 2002 1:49 PM
To: Moffet, Corey
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] Type III Sums of Squares


Dear Corey,

At 09:50 AM 1/28/2002 -0600, Moffet, Corey wrote:
>I am trying to reproduce an analysis done in SAS from which Type III Sums
of
>squares are used. How can you get Type III sums of squares in an aov
similar
>to what SAS provides?

The Anova function in the car package will calculate both "Type II" and 
"Type III" sums of squares, but be careful with contrast coding for the 
latter or you'll get nonsense.

I hope that this helps,
  John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hzi at uol.com.br  Tue Jan 29 03:29:23 2002
From: hzi at uol.com.br (hzi@uol.com.br)
Date: Tue, 29 Jan 2002 00:29:23 -0200
Subject: [R] random number generation issues with r and compiled C code
In-Reply-To: <Pine.LNX.4.43.0201240036460.22349-100000@Chrestomanci>; from faheem@email.unc.edu on Thu, Jan 24, 2002 at 05:39:14PM -0500
References: <Pine.LNX.4.43.0201240036460.22349-100000@Chrestomanci>
Message-ID: <20020129002923.A3111@uol.com.br>

On Thu, Jan 24, 2002 at 05:39:14PM -0500, Faheem Mitha wrote:
> 
> Dear People,
> 
> I have been writing a simulation routine that is currently entirely
> written in c++. I've been using the R standalone math library to give me
> random number generation for this. However, I have had to set the seed
> myself, and I am using
> 
> set_seed(time(NULL), clock)
> 
> for every call to unif_rand().
> 
> However, this works really badly. The random numbers aren't uniform at
> all. Does anyone have better suggestions?

Hi-

	One question about "random number generation": AFAIK, true random number generation has to receive random input from the "outside." For instance, when you generate GnuPG or PGP keys for encryption, you have to type something on the keyboard.
	With all the other stuff I've seen that purports to generate random numbers, real randomo is no being generated, right?
	Shoudn't R have some function similar to the above mentioned one that exists in PGP or GNuPG?

	TIA
	Regs,
	Henry



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Tue Jan 29 03:48:07 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 28 Jan 2002 18:48:07 -0800
Subject: [R] random number generation issues with r and compiled C code
In-Reply-To: <20020129002923.A3111@uol.com.br>
References: <Pine.LNX.4.43.0201240036460.22349-100000@Chrestomanci>
	<20020129002923.A3111@uol.com.br>
Message-ID: <87pu3tvpnc.fsf@jeeves.blindglobe.net>


>>>>> "h" == hzi  <hzi at uol.com.br> writes:

    h> 	One question about "random number generation": AFAIK, true
    h> random number generation has to receive random input from the
    h> "outside." For instance, when you generate GnuPG or PGP keys
    h> for encryption, you have to type something on the keyboard.
    h> With all the other stuff I've seen that purports to generate
    h> random numbers, real randomo is no being generated, right?
    h> Shoudn't R have some function similar to the above mentioned
    h> one that exists in PGP or GNuPG?

No.  Statistical "random number" simulation actually relies upon
reproducible pseudo-random number streams, rather than "true" random
numbers.  (I'll say streams rather than algorithms, because
historically, lists were used as well!).  

Reproducibility is the key.  It's a bit harder to understand your
results if you can't characterise (for example) the uniformity and
lack of correlation (of various dimensions) of the pseudo-RNG.

However, we've got an expert in our midst who could comment more.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
--- I'm 40% time until March 1st.  Try email the other 3 days.... -----
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at volcanomail.com  Tue Jan 29 04:39:14 2002
From: ggrothendieck at volcanomail.com (Gabor Grothendieck)
Date: Mon, 28 Jan 2002 19:39:14 -0800 (PST)
Subject: [R] Problems with seq (was Iterate over 1<=i<j<=n
Message-ID: <20020129033914.D2B7636F9@sitemail.everyone.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020128/400e67bb/attachment.pl

From jim.lemon at uts.edu.au  Tue Jan 29 05:50:08 2002
From: jim.lemon at uts.edu.au (Jim Lemon)
Date: Tue, 29 Jan 2002 15:50:08 +1100
Subject: [R] fitdistr() in MASS library
References: <3C3CFB6A.9604C770@ozemail.com.au>
Message-ID: <3C562A00.B264628A@uts.edu.au>

Prof Brian Ripley wrote:
>
> Even better, use the function fitdistr in package MASS...
>

I had a look in my MASS library (from the package VR_6.2-6) and couldn't
find this function. Is there a newer version available? Thanks for any
help.

Jim


This email message and any accompanying attachments may contain confidential information.  If you are not the intended recipient, do not read, use, disseminate, distribute or copy this message or attachments. If you have received this message in error, please notify the sender immediately and delete this message. Any views expressed in this message are those of the individual sender, except where the sender expressly, and with authority, states them to be the views the University of Technology Sydney. Before opening any attachments, please check them for viruses and defects.
CRICOS Number:  00099F


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 29 08:49:26 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 29 Jan 2002 07:49:26 +0000 (GMT)
Subject: [R] fitdistr() in MASS library
In-Reply-To: <3C562A00.B264628A@uts.edu.au>
Message-ID: <Pine.GSO.4.31.0201290745120.14137-100000@auk.stats>

On Tue, 29 Jan 2002, Jim Lemon wrote:

> Prof Brian Ripley wrote:
> >
> > Even better, use the function fitdistr in package MASS...
> >
>
> I had a look in my MASS library (from the package VR_6.2-6) and couldn't
> find this function. Is there a newer version available? Thanks for any
> help.

Take a look on CRAN or the MASS3 site: the current version is 6.3-2.

VR_6.2-6.tar.gz dates from June last year: R has had three releases since,
so you might want to upgrade your R too (or after 1.4.1 comes out
tomorrow).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Jan 29 09:35:47 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 29 Jan 2002 09:35:47 +0100
Subject: [R] Cluster package broken in 1.4.0? -- no!
In-Reply-To: <20020128223256.A538@hagakure>
References: <20020128223256.A538@hagakure>
Message-ID: <15446.24291.625100.344623@gargle.gargle.HOWL>

>>>>> "Petros" == Petros Tsantoulis <ptsant at otenet.gr> writes:

    Petros> Greetings,

    Petros> I am reasonably experienced with R but I recently
    Petros> tried to do some clustering using the "cluster"
    Petros> package, in order to see if it would help.

    Petros> I only tried this once with the 1.3.1 version and it
    Petros> worked (I don't quite remember which method I used).

not with the example below!

    Petros> Now, I tried with the 1.4.0 version and no
    Petros> clustering function seems to work with matrices that
    Petros> contain NAs, even though the help page says it
    Petros> should. I even tried the same data that worked with
    Petros> 1.3.1.

    Petros> For example :

This defines a vector foo, but you want a data matrix, don't
you? or are we talking about 1-D observations?
if yes, forget about cluster with NAs!  
	{but there's an easy way around; ask in a separate e-mail if
	 that's what you have and want}

(redone by MM, such as easily cut-&-pastable) :

foo <-
  c(68,NA,33,63,53,62,44,NA,20,69,NA,62,59,43,51,19,38,57,30,53,62,67,42,31,38,
    50,NA,69,67,38,NA,26,NA,52,39,45,42,58,79,92,53,NA,22,21,30,38,64,49,43,28,
    33,42,59,32,41,52,44,54,37,43,32,42,59,39,74,38,33,56,NA,52,38,46,42,29,58,
    54,62,32,53,39,28,34,24,44,46,27,38)
str(foo)# length 87
foomat <- matrix(foo, ncol = 3) # now have data MATRIX !

fanny(foo, k=2, diss=FALSE)
## Error in fanny(foo, k = 2, diss = FALSE) :
##         No clustering performed, NA-values in the dissimilarity matrix.

fanny(foomat, k=2, diss=FALSE)# same error!


    Petros> The help page says :

    Petros> 	In case of a matrix or dataframe, each row
    Petros> corresponds to an observation, and each column
    Petros> corresponds to a variable. All variables must be
    Petros> numeric. Missing values (NAs) are allowed.

and the help page should probably add ``but not too many!''  !!

    Petros> This happens with every (?) clustering function that
    Petros> I tried.

    Petros> Am I doing something wrong? 
(yes)

The help page(s) should (and will) be improved; and yes the NA
handling is far from perfect. R is here still just doing the
same thing as {Rouseeuw et al}'s original code. 
As said above, NAs are only allowed if there are not too many,
i.e., every observation still has enough non-NA entries such
that a distance (dissimilarity) to every other observation can
be computed --- either via the daisy() function in R, or the
"dysta()" subroutine used internally.  

As the help pages say, if you have ``diss = TRUE'', 
no NAs are allowed.

I continue your example, assuming your foo constists of 29
3-dimensional observations :
 foodist <- daisy(foomat)
 str(foodist)
 ## Classes 'dissimilarity', 'dist' atomic [1:406] 10.39 37.34 8.66 30.08 6.40...
 ##-   ..- attr(*, "NA.message")= chr "NA-values in the dissimilarity matrix !"
 ##                                    =======================================
 ##-   ..- attr(*, "Size")= int 29
 ##-   ..- attr(*, "Metric")= chr "euclidean"
 which(is.na(as.matrix(foodist)), arr = TRUE)
 ##-    row col
 ##- 11  11   2
 ##- 11  11   4
 ##- 2    2  11
 ##- 4    4  11
 ##- 13  13  11
 ##- 11  11  13

 ##--> Leaving away observation number 11 will save us!

 foo.m11 <- foomat[ -11, ]
 str(foodm11 <- daisy(foo.m11)) # no "NA message"

 f11d <- fanny(foodm11, k=2, diss = TRUE)# now works
 f11x <- fanny(foo.m11, k=2, diss = FALSE)# now works

 ii <- c(1:4,7)
 all.equal(f11x[ii], f11d[ii]) ##-> TRUE

--------

I hope this helps.

Quick Summary: 
 No, nothing about NA handling
 has changed in R or the cluster package recently.

Regards,
Martin  {maintainer of "cluster"},

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Tue Jan 29 09:40:13 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Tue, 29 Jan 2002 09:40:13 +0100
Subject: [R] Almost a GAM?
References: <Pine.GSO.4.21.0201281820240.1741-100000@dolphin>
Message-ID: <007f01c1a8a0$96a64f80$5c13070a@it.giustizia.it>

Hi all,

> > I would like to estimate, for lack of a better description,
> > a partially additive non-parametric model with the following
> > structure:
> >
> > z~ f(x,y):w1 + g(x,y):w2 + e
> >
> > In other words, I'd like to estimate the marginals with
> > respect to w1 and w2 as nonparametric functions of
> > x and y.

This model should be a "univariate version" to fit interaction between a
variate, x and a factor w, say:
z~ f(x, df1):w1 + g(x, df2):w2 + e
To fit this model a possible solution is

1)build the variate x in each level of w
xw1<-x*w1
xw2<-x*w2

2)then fit gam, by:
z~ w1+w2-1+f(xw1, df1)+ g(xw2, df2)

I am not able to find any theoretical difficulty in this model and
furthermore it seems to work with gam().
However recent works by M.P. Wand et al. use mixed models (GLMM) to fit
additive models with interactions between a smooth variate and factor.
(Actually I don't remember exactly the references but if you want I can look
for it). Although understanding the connections between GAMs and GLMMs may
be not difficult, I really don't understand why I have to fit GLMMs to model
interactions in GAMs.
Any comment is coming?
regards,
vito

PS (for Michael): If I remember well, the S-Plus gam() function never
handled interactions "s(x):w". Just it fitted the linear term "x:w"


----- Original Message -----
From: "Simon Wood" <snw at mcs.st-and.ac.uk>
To: "Michael Roberts" <mroberts at ers.usda.gov>
Cc: <r-help at stat.math.ethz.ch>
Sent: Monday, January 28, 2002 7:34 PM
Subject: Re: [R] Almost a GAM?


> I don't know of a package that will do this easily, sorry! It's on the
> mgcv "to do" list, but involves a fair bit of work. In principle you can
> do it yourself by manipulating the design matrix G$X that you'd get by
> calling
> G<-gam.setup(z~s(x,y)+s(x,y))
> G<-GAMsetup(G)
> .. you just need to multiply the columns of the design matrix relating to
> the first smooth by w1 and the columns relating to the second by w2, then
> gam.fit() can do the rest... the easiest way to do this would be to modify
> gam() [just after GAMsetup() is called].... but obviously this is a
> nuisance (and will hopefully not be necessary in mgcv 0.8!)
>
> > I would like to estimate, for lack of a better description,
> > a partially additive non-parametric model with the following
> > structure:
> >
> > z~ f(x,y):w1 + g(x,y):w2 + e
> >
> > In other words, I'd like to estimate the marginals with
> > respect to w1 and w2 as nonparametric functions of
> > x and y.
> >
> > I'm not positive, but I think I recall being able to estimate
> > a model like this using Splus gam function a couple years
> > ago (I no longer have Splus).  Although, I can
> > see that this would be a bit more difficult to do than a standard
> > gam with univariate partials and no interaction terms. The mgcv
> > gam function doesn't seem to like a function of this form.
>
> Simon
>   ______________________________________________________________________
> > Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> > The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> > Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Tue Jan 29 10:39:37 2002
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Tue, 29 Jan 2002 09:39:37 +0000 (GMT)
Subject: [R] Almost a GAM?
In-Reply-To: <007f01c1a8a0$96a64f80$5c13070a@it.giustizia.it>
Message-ID: <Pine.GSO.4.21.0201290931530.11923-100000@dolphin>

> > > I would like to estimate, for lack of a better description,
> > > a partially additive non-parametric model with the following
> > > structure:
> > >
> > > z~ f(x,y):w1 + g(x,y):w2 + e
> > >
> > > In other words, I'd like to estimate the marginals with
> > > respect to w1 and w2 as nonparametric functions of
> > > x and y.
> 
> This model should be a "univariate version" to fit interaction between a
> variate, x and a factor w, say:
> z~ f(x, df1):w1 + g(x, df2):w2 + e
> To fit this model a possible solution is
> 
> 1)build the variate x in each level of w
> xw1<-x*w1
> xw2<-x*w2
> 
> 2)then fit gam, by:
> z~ w1+w2-1+f(xw1, df1)+ g(xw2, df2)
> 
> I am not able to find any theoretical difficulty in this model and
> furthermore it seems to work with gam().

- This often seems to work quite well, but the problem is that f(0) and
g(0) are not equal to zero - so it doesn't do exactly what you would like
*and* all those zero covariate values will influence the smoothing
parameter selection. [Of course if the model of interest is really this
simple then one way to proceed is just to split the dataset up by levels
of the single factor and fit smooths to the data for each level].

cheers,
Simon

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredrik.karlsson at ling.umu.se  Tue Jan 29 12:43:12 2002
From: fredrik.karlsson at ling.umu.se (Fredrik Karlsson)
Date: Tue, 29 Jan 2002 12:43:12 +0100
Subject: [R] Newbe Q: Some plotting diffculty..
Message-ID: <20020129124312.A5500@ling.umu.se>

Hi all.

I've got a NUBQ for you all:

I've got a data-frame contining variables i columns named after the
specified subject and with data which represents time of observation.

What I would like to do is to get a plot with observation time on the
ordinate and subject on the abscissa -- kind of a "at what time did I
observe the subjects?" summary..

Please help me..

/Fredrik

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From H.RINNER at TIROL.GV.AT  Tue Jan 29 12:07:19 2002
From: H.RINNER at TIROL.GV.AT (RINNER Heinrich)
Date: Tue, 29 Jan 2002 12:07:19 +0100
Subject: [R] lattice dotplot and graphic devices on Windows
Message-ID: <C4D44AB4CB62D311BA6500041202E886031EDFC1@xms1.tirol.gv.at>

I am using R1.4.0 on WindowsNT (the precompiled version from Brian Ripley's
website) and the lattice package (version details are at the end of this
message).
After producing a lattice dotplot, I want to insert the graph into a
MicrosoftWord document. With "ordinary" R-graphics, I have done this
successfully by copying the graph as a metafile to the clipboard and pasting
this into my word document.

However, when trying to do the same with a lattice plot, I encountered some
problems:

# simple example:
> library(lattice)
> test <- data.frame(a = c("A","A","B","B"), x = 1:4, g =
rep(c("g1","g2"),2))
> trellis.device(width=3.35, height=3.35, color=F)
> dotplot(a~x, groups=g, data=test, panel="panel.superpose" )
# this is fine on screen, but when right-clicking on the picture and chosing
"Copy as metafile", an error is generated:
Error: A metafile can store only one figure.

# However, "Copy as bitmap" works (but quality is poorer when pasting to
WinWord).
# What also works is chosing from the menu "File>Save As>Jpeg" (or Bmp).

# As jpeg and bmp work, I try to print this to a file directly, but get an
error:
> dev.off()
> trellis.device("jpeg", quality=100, width=3.35, height=3.35, color=F)
> dotplot(a~x, groups=g, data=test, panel="panel.superpose" )
Error in grid.newpage() : A jpeg file can store only one figure.
# same with bmp:
> trellis.device("bmp", width=3.35, height=3.35, color=F)
> dotplot(a~x, groups=g, data=test, panel="panel.superpose" )
Error in grid.newpage() : A bmp file can store only one figure.
>

So my three points here are:
1) Is there a way to copy and/or save the graph as a metafile?
2) If not, can someone give advice which graphic format else is the best to
use here (it seems to me that bitmap is not)?
3) As saving (in jpeg, bmp) via the file menu works here, shoudn't these
graphic devices work with "trellis.device" as well?


---------------------------
version information:

> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    4.0            
year     2001           
month    12             
day      19             
language R              
> 
# from the package Description files:
Package: lattice
Version: 0.4-0
Date: 2002/01/10
Package: grid
Version: 0.5
Date: 2000/11/07

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 29 12:33:25 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 29 Jan 2002 11:33:25 +0000 (GMT)
Subject: [R] lattice dotplot and graphic devices on Windows
In-Reply-To: <C4D44AB4CB62D311BA6500041202E886031EDFC1@xms1.tirol.gv.at>
Message-ID: <Pine.LNX.4.31.0201291131190.17884-100000@gannet.stats>

Update your version of grid.  This is a known problem, reported here many
times and fixed in grid 0.5-1.

On Tue, 29 Jan 2002, RINNER Heinrich wrote:

> I am using R1.4.0 on WindowsNT (the precompiled version from Brian Ripley's
> website) and the lattice package (version details are at the end of this
> message).
> After producing a lattice dotplot, I want to insert the graph into a
> MicrosoftWord document. With "ordinary" R-graphics, I have done this
> successfully by copying the graph as a metafile to the clipboard and pasting
> this into my word document.
>
> However, when trying to do the same with a lattice plot, I encountered some
> problems:
>
> # simple example:
> > library(lattice)
> > test <- data.frame(a = c("A","A","B","B"), x = 1:4, g =
> rep(c("g1","g2"),2))
> > trellis.device(width=3.35, height=3.35, color=F)
> > dotplot(a~x, groups=g, data=test, panel="panel.superpose" )
> # this is fine on screen, but when right-clicking on the picture and chosing
> "Copy as metafile", an error is generated:
> Error: A metafile can store only one figure.
>
> # However, "Copy as bitmap" works (but quality is poorer when pasting to
> WinWord).
> # What also works is chosing from the menu "File>Save As>Jpeg" (or Bmp).
>
> # As jpeg and bmp work, I try to print this to a file directly, but get an
> error:
> > dev.off()
> > trellis.device("jpeg", quality=100, width=3.35, height=3.35, color=F)
> > dotplot(a~x, groups=g, data=test, panel="panel.superpose" )
> Error in grid.newpage() : A jpeg file can store only one figure.
> # same with bmp:
> > trellis.device("bmp", width=3.35, height=3.35, color=F)
> > dotplot(a~x, groups=g, data=test, panel="panel.superpose" )
> Error in grid.newpage() : A bmp file can store only one figure.
> >
>
> So my three points here are:
> 1) Is there a way to copy and/or save the graph as a metafile?
> 2) If not, can someone give advice which graphic format else is the best to
> use here (it seems to me that bitmap is not)?
> 3) As saving (in jpeg, bmp) via the file menu works here, shoudn't these
> graphic devices work with "trellis.device" as well?
>
>
> ---------------------------
> version information:
>
> > version
>          _
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    4.0
> year     2001
> month    12
> day      19
> language R
> >
> # from the package Description files:
> Package: lattice
> Version: 0.4-0
> Date: 2002/01/10
> Package: grid
> Version: 0.5
> Date: 2000/11/07
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue Jan 29 12:36:23 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 29 Jan 2002 06:36:23 -0500 (EST)
Subject: [R] Newbe Q: Some plotting diffculty..
Message-ID: <200201291136.g0TBaNi07191@cattell.psych.upenn.edu>

>From owner-r-help at stat.math.ethz.ch Tue Jan 29 06:13:23 2002
>I've got a data-frame contining variables i columns named after the
>specified subject and with data which represents time of observation.
>
>What I would like to do is to get a plot with observation time on the
>ordinate and subject on the abscissa -- kind of a "at what time did I
>observe the subjects?" summary..

One way to do what I think you want is:

matplot(mydataframe,type="l")

The type="l" means "lines".  If subjects are columns, then each
line is a plot of one subject.  If subjects are rows, then

matplot(t(mydataframe),t="l")

will work.  (You can abbreviate arguments.)  You can also add the
lines one by one to a plot, using

lines().  Jon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 29 15:05:03 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 29 Jan 2002 14:05:03 +0000 (GMT)
Subject: [R] lattice dotplot and graphic devices on Windows
In-Reply-To: <C4D44AB4CB62D311BA6500041202E886031EDFC2@xms1.tirol.gv.at>
Message-ID: <Pine.LNX.4.31.0201291357560.21444-100000@gannet.stats>

On Tue, 29 Jan 2002, I wrote:

> > Update your version of grid.  This is a known problem, reported here many
> > times and fixed in grid 0.5-1.

Heinrich Ritter commented that this had not been announced.  Since that
may be a common misunderstanding, let me explain.  It is not usual to
announce patch releases (here -1) of packages.  You would get tired of
hearing about them: there have been at least 70 since 1.4.0 was announced
on Dec 19.  (Your maintainers do get a bit tired of the flood sometimes
too.)  What we do expect is that you run update.packages() fairly
frequently, and certainly when you encounter a problem.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Thomas.Petzoldt at mailbox.tu-dresden.de  Tue Jan 29 15:32:30 2002
From: Thomas.Petzoldt at mailbox.tu-dresden.de (Thomas Petzoldt)
Date: Tue, 29 Jan 2002 15:32:30 +0100
Subject: [R] Biplots for non-normal data
Message-ID: <3C56B27E.9000300@mailbox.tu-dresden.de>

Hello,

we have a large data set of water quality data and want to identify 
influence variables or *why*  different groups of data are different (in 
an explorative sense).
We consider to use biplots, however there are only the common 
PCA-Biplots available in R (biplot.princomp).
We consider to use transformations (log-type, x^a, Box-Cox), but are 
seeking for alternatives.

Are there experiences or comments about using something like a
* PCA with rank-transformed data,
* other transformations, or does anybody have
* R-code to produce a biplot with MDS-like methods
* or a suggestion for a "global alternative" method?

Thank you in advance!

Thomas Petzoldt






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Tue Jan 29 15:58:10 2002
From: siim at obs.ee (Ott Toomet)
Date: Tue, 29 Jan 2002 15:58:10 +0100 (CET)
Subject: [R] Newbe Q: Some plotting diffculty..
In-Reply-To: <20020129124312.A5500@ling.umu.se>
Message-ID: <Pine.LNX.4.33.0201291548530.7544-100000@localhost.localdomain>

Hi,

what I suggest is basically matplot() too, but in this way you will have
more explicit control.

Assume you have a dataframe df with variables var1, var2 etc.  It also
assumes you have the observations taken after a constant time interval
(otherwise you should have a variable time).  Plot

plot(df$var1)
points(df$var2, pch=2)
points(df$var3, pch=3)

etc.
You notice probably that the y-scale of the graph is good for the first
variable but not for the following ones.  In that case you may use

plot(df$var1, ylim=range(c(df$var1, df$var2, ...)))

instead of just plot() as in the first example.


Best wishes,

Ott Toomet



On Tue, 29 Jan 2002, Fredrik Karlsson wrote:

> Hi all.
>
> I've got a NUBQ for you all:
>
> I've got a data-frame contining variables i columns named after the
> specified subject and with data which represents time of observation.
>
> What I would like to do is to get a plot with observation time on the
> ordinate and subject on the abscissa -- kind of a "at what time did I
> observe the subjects?" summary..
>
> Please help me..
>
> /Fredrik
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dlucy at maths.ed.ac.uk  Tue Jan 29 16:50:28 2002
From: dlucy at maths.ed.ac.uk (David Lucy)
Date: Tue, 29 Jan 2002 15:50:28 +0000 (GMT)
Subject: [R] R/Tk from batch file
In-Reply-To: <x2zo2yea9a.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.SOL.4.21.0201291546430.20939-100000@wallis>

Dear R-users,

Thank you for your help. I have spent the last day or so playing with the
R/tk functions in windows and got to the point where I have an icon on my
desktop which when double clicked runs the R/tk functions without the
user seeing any of the underlying Rterm.

What I have found is that there is no need to edit the system Rprofile.
The windows version seems to be quite happy to direct it's graphics
output to a standard window by an explicit opening of a device (as
suggested by Brian Ripley, however Brian Ripley also says that the entry
in the system Rprofile will allow new graphic devices to be opened when
needed, for instance in case the graphics device is shut down for any
reason). 

The following function

############################################################
library(tcltk)
control <- tktoplevel()
alpha <- tclVar(1)
windows()
b <- tkbutton(control, text = "Press me")
c <- tkbutton(control, text = "Quit")
tkpack(b)
tkpack(c)
exit <- function(){tkdestroy(control); dev.off()}
change.text <- function()
	{
	tclvalue(alpha) <- as.integer(tclvalue(alpha)) + 1
	barplot(as.integer(tclvalue(alpha)))
	}
tkconfigure(b, command = change.text)
tkconfigure(c, command = exit)
tkwait.window(control)
###########################################################

has windows() on line 4 - if this is #shed out the graphical output goes
to a .ps file. With it in the output goes to a standard windows device.

The second little problem of the toplevel() going down was (again as
suggested) solved by tkwait (I wondered what tkwait did). Rather than use
a tkwait.variable() I used tkwait.window() and get clean operation and
shutdown.

The batch file is in the same directory as the script file consists of:

###########################################################
c:\progra~1\r\rw1040\bin\rterm --slave < test.r
###########################################################

or wherever the Rterm.exe is - I find the progra~1 style of navigating
through the directory system is easiest, rather than messing about with
all the speech marks.

This opens up a little term (or whatever the windows equivalent is) with
an R session in it which takes stdio and stderr - it closes down nicely
when the function exits, however, the term cannot be persuaded to open
iconised. What will open iconised is a link (shortcut) from the desktop,
or menu, to the .bat file (from Peter Dalgaard). This is probably a
Windows 2000 feature? and may be different on other versions of Windows.
Brian Ripley suggests there may be a .pif file which will allow launch as
an icon.

Initially I had used a dev.off() in the exit() - this is required to take
the graphics window down when running from an interactive R session, but
is not really required for non-interactive operation (B. Ripley).

Again, many thanks for your help - the functions will be availible at:

http://www.maths.ed.ac.uk/~dlucy

in the near future.

Dave.


**********************************************************************
**  Dr. David Lucy                                                  **
**  Joseph Bell Centre for Forensic Statistics and Legal Reasoning  **
**  Department of Mathematics and Statistics                        **
**  The University of Edinburgh                                     **
**  James Clerk Maxwell Building                                    **
**  King's Buildings                                                **
**  Mayfield Road                                                   **
**  Edinburgh                                                       **
**  EH9 3JZ                                                         **
**                                                                  **
**  tel: 0131 650 5057                                              **
**  extension: 505057                                               **
**  e-mail: dlucy at maths.ed.ac.uk                                    **
**                                                                  **
**  Truncated address:                                              **
**                                                                  **
**  Dr. David Lucy                                                  **
**  Department of Mathematics                                       **
**  JCMB                                                            **
**  King's Buildings                                                **
**  Edinburgh University                                            **
**  Edinburgh                                                       **
**  EH9 3JZ                                                         **
**********************************************************************



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jan 29 18:06:17 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 29 Jan 2002 09:06:17 -0800 (PST)
Subject: [R] random number generation issues with r and compiled C code
In-Reply-To: <20020129002923.A3111@uol.com.br>
Message-ID: <Pine.A41.4.44.0201290840080.193624-100000@homer01.u.washington.edu>

On Tue, 29 Jan 2002 hzi at uol.com.br wrote:

>
> 	One question about "random number generation": AFAIK, true random
> number generation has to receive random input from the "outside." For
> instance, when you generate GnuPG or PGP keys for encryption, you have
> to type something on the keyboard.
> 	With all the other stuff I've seen that purports to generate
> random numbers, real randomo is no being generated, right?
> 	Shoudn't R have some function similar to the above mentioned one
> that exists in PGP or GNuPG?
>

No, but some other packages should :).  There are three concepts all
called, loosely, `random number generators'.

1) Statisticians are happy with generators where the numbers are uniformly
distributed in one, two,... some reasonable number of dimensions and the
stream has a period much longer than the number of numbers needed.  Being
able to rerun the same sequence of random numbers is also important. These
generators are fairly easy to program and fast, and will only break down
if there is some weird conspiracy between the generator and the statistic
being calculated.

2) Cryptographers deal with the situation where there *is* a conspiracy to
make the generator and the statistic interact badly, so they aren't
satisfied with our random number generators. They need generators where
it is infeasible to guess anything about future `random' numbers from
observing past ones. These are of two subtypes

2a) Deterministic, cryptographically strong generators: these use an
encryption function (a cipher like triple DES or a secure hash) to update
the random numbers.  Given some of the random numbers you shouldn't be
able to guess others without knowing the key.  These tend to be slower
than statistical random number generators and have no real advantage in
cases where your statistic isn't out to get you.

2b) Deterministic generators are very sensitive to someone finding the
key, so encryption software often uses a generator that mixes in
information that should be unpredictable to outsiders (eg timings of
keypresses, disk latencies). This allows recovery if someone finds out or
guesses the key.  As these generators are not deterministic they are less
useful for statisticians -- they can't be rerun. In addition, the amount
of genuine randomness available may not be very large. Since R is
frequently used to produce millions of random numbers per hour (and
sometimes much more) there just isn't enough entropy in these sources even
if we wanted to use it.


So, R doesn't provide cryptographically secure random number generators
because we're not security experts and that isn't what R is for. Other
statistical packages don't either.  Don't use R to write an email
encryption program.


	-thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mroberts at ers.usda.gov  Tue Jan 29 18:09:29 2002
From: mroberts at ers.usda.gov (Michael Roberts)
Date: Tue, 29 Jan 2002 12:09:29 -0500
Subject: [R] Almost a GAM?
Message-ID: <sc5692ad.091@mailbox.ers.usda.gov>

I don't think I can solve my problem in this way because w1
and w2 are continuous variables.

A second problem is that my f(x,y) is not f(x, df), i.e., I'd
like to have a sum of *two* dimensional smoothers interacted
with other variables.

After my first post I did find a discussion of this problem on the 
S archive, which suggested the same appraoch as Vito did.  S can
fit 2-d smooths, but still can't handle the interaction terms.

If nothing else is out there I thought I might try the following.
(Please let me know if this is a crazy thing to do).

It seems to me that I can fit this model by backfitting each smoother,
being careful to re-weight each smooth fit according to the
interaction
term.  So estimate

( z - ghat(x,y):w2 )/w1 ~ f(x,y) + e/w1

to get fhat(x,y), then similarly estimate ghat, then fhat, and so on 
until convergence.  The idea was to use smoothers already
out there (such as loess in modreg).

In principle this doesn't seem like a big job to me.  If it is, please
let me know, because I'm not a heavy programmer either.  And 
really prefer not to "reinvent the wheel."

Thanks for your help!

Mike






Michael J. Roberts

Resource Economics Division
Production, Management, and Technology
USDA-ERS
(202) 694-5557 (phone)
(202) 694-5775 (fax)

>>> Simon Wood <snw at mcs.st-and.ac.uk> 01/29/02 04:39AM >>>
> > > I would like to estimate, for lack of a better description,
> > > a partially additive non-parametric model with the following
> > > structure:
> > >
> > > z~ f(x,y):w1 + g(x,y):w2 + e
> > >
> > > In other words, I'd like to estimate the marginals with
> > > respect to w1 and w2 as nonparametric functions of
> > > x and y.
> 
> This model should be a "univariate version" to fit interaction
between a
> variate, x and a factor w, say:
> z~ f(x, df1):w1 + g(x, df2):w2 + e
> To fit this model a possible solution is
> 
> 1)build the variate x in each level of w
> xw1<-x*w1
> xw2<-x*w2
> 
> 2)then fit gam, by:
> z~ w1+w2-1+f(xw1, df1)+ g(xw2, df2)
> 
> I am not able to find any theoretical difficulty in this model and
> furthermore it seems to work with gam().

- This often seems to work quite well, but the problem is that f(0)
and
g(0) are not equal to zero - so it doesn't do exactly what you would
like
*and* all those zero covariate values will influence the smoothing
parameter selection. [Of course if the model of interest is really
this
simple then one way to proceed is just to split the dataset up by
levels
of the single factor and fit smooths to the data for each level].

cheers,
Simon

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html 
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To:
r-help-request at stat.math.ethz.ch 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 29 18:30:28 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 29 Jan 2002 17:30:28 +0000 (GMT)
Subject: [R] Almost a GAM?
In-Reply-To: <sc5692ad.091@mailbox.ers.usda.gov>
Message-ID: <Pine.GSO.4.31.0201291719240.9708-100000@auk.stats>

On Tue, 29 Jan 2002, Michael Roberts wrote:

> I don't think I can solve my problem in this way because w1
> and w2 are continuous variables.
>
> A second problem is that my f(x,y) is not f(x, df), i.e., I'd
> like to have a sum of *two* dimensional smoothers interacted
> with other variables.
>
> After my first post I did find a discussion of this problem on the
> S archive, which suggested the same appraoch as Vito did.  S can
> fit 2-d smooths, but still can't handle the interaction terms.

I think you need to define carefully what you mean. I had no idea what

z ~ f(x,y):w1 + g(x,y):w2 + e

is about, and now you tell me w1 and w2 are continuous I have even less
idea.  What is the interaction you are talking about?  And how can the
model possibly be identifiable?

`:' is S model notation for an interaction, and at least one of the
components is a factor (otherwise special rules apply, generally
multiplication).  But smooth functions cannot be factors.

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Tue Jan 29 18:59:31 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 29 Jan 2002 09:59:31 -0800
Subject: [R] random number generation issues with r and compiled C code
In-Reply-To: <Pine.A41.4.44.0201290840080.193624-100000@homer01.u.washington.edu>
References: <Pine.A41.4.44.0201290840080.193624-100000@homer01.u.washington.edu>
Message-ID: <87sn8pujgc.fsf@jeeves.blindglobe.net>

>>>>> "TL" == Thomas Lumley <tlumley at u.washington.edu> writes:


    TL> So, R doesn't provide cryptographically secure random number
    TL> generators because we're not security experts and that isn't
    TL> what R is for. Other statistical packages don't either.  Don't
    TL> use R to write an email encryption program.

And now it'd be humorous to see the Java disclaimer as well...

but I can't remember it exactly, this morning.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
--- I'm 40% time until March 1st.  Try email the other 3 days.... -----
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Tue Jan 29 21:30:35 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Wed, 30 Jan 2002 09:30:35 +1300
Subject: [R] lattice dotplot and graphic devices on Windows
References: <Pine.LNX.4.31.0201291357560.21444-100000@gannet.stats> <00c401c1a902$0eb77f60$7632d882@stat.auckland.ac.nz>
Message-ID: <013501c1a903$ce89fbf0$7632d882@stat.auckland.ac.nz>

Hi


> > > Update your version of grid.  This is a known problem, reported here
many
> > > times and fixed in grid 0.5-1.
>
> Heinrich Ritter commented that this had not been announced.  Since that
> may be a common misunderstanding, let me explain.  It is not usual to
> announce patch releases (here -1) of packages.  You would get tired of
> hearing about them: there have been at least 70 since 1.4.0 was announced
> on Dec 19.  (Your maintainers do get a bit tired of the flood sometimes
> too.)  What we do expect is that you run update.packages() fairly
> frequently, and certainly when you encounter a problem.


Since there were a few problems reported, here's a bit more information
about the bug-fix version of grid, 0.5-1.

The purpose of this version is to fix the following bugs:
 (i)   grid (lattice) output could not be saved in metafile format
 (ii)  non-grid output could not be saved in metafile format when
       grid (lattice) was loaded
 (iii) empty page at start of grid (lattice) postscript output
 (iv) empty page at start of non-grid postscript output when
       grid (lattice) was loaded
 (v)  copying grid (lattice) output from x11 to postscript (dev.copy)
       produced blank pages in postscript

The latest version of the lattice package (version 0.4-0) should work fine
with this new version of grid.

Paul



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From michaell.taylor at reis.com  Tue Jan 29 21:56:12 2002
From: michaell.taylor at reis.com (Michaell Taylor)
Date: Tue, 29 Jan 2002 15:56:12 -0500
Subject: [R] RMySQL install
Message-ID: <20020129205612.6C151170204@newman.bestweb.net>


I am having some trouble getting RMySQL installed.  Thought there might be 
some ideas out there.  The problem:

MySQL 3.23.47 is installed (server,devel, client, benchmarks,shared) and 
seems to be working.  R 1.4.0 is working.

>On first install attempt I get :
>
>checking for mysql_init in -lmysqlclient... no
>checking for /usr/local/include/mysql/mysql.h... no
>checking for /usr/include/mysql/mysql.h... yes
>
>Configuration error:
>  could not find the MySQL installation include and/or library
>  directories.  Manually specify the location of the MySQL
>  libraries and the header files and re-run R CMD INSTALL.

following the instructions, I:
 export MYSQL_DIR="/usr"
then,
R CMD INSTALL RMySQL_0.4-3.tar.gz

Seems to have solved the problem, no errors, help files built, etc.  BUT...

> library(RMySQL)
Error in dyn.load(x, as.logical(local), as.logical(now)) :
        unable to load shared library 
"/usr/local/lib/R/library/RMySQL/libs/RMySQL.so":
  /usr/local/lib/R/library/RMySQL/libs/RMySQL.so: undefined symbol: 
mysql_field_count
Error in library(RMySQL) : .First.lib failed

repeated the process on a similar (but apparently not the same) box - no 
problems, didn't even have to specify the mysql home directory as a shell 
variable.  

Tried rebuilding R and MySQL - didn't help.  Otherwise R and MySQL seem to be 
working.

Has anyone seen this problem before?  Thanks in advance.
=========================================
Michaell Taylor, PhD
Senior Economist, Reis, New York, USA
Professor, NTNU, Norway
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jan 29 22:11:47 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 29 Jan 2002 21:11:47 +0000 (GMT)
Subject: [R] RMySQL install
In-Reply-To: <20020129205612.6C151170204@newman.bestweb.net>
Message-ID: <Pine.LNX.4.31.0201292109100.22001-100000@gannet.stats>

On Tue, 29 Jan 2002, Michaell Taylor wrote:

> I am having some trouble getting RMySQL installed.  Thought there might be
> some ideas out there.  The problem:
>
> MySQL 3.23.47 is installed (server,devel, client, benchmarks,shared) and
> seems to be working.  R 1.4.0 is working.
>
> >On first install attempt I get :
> >
> >checking for mysql_init in -lmysqlclient... no
> >checking for /usr/local/include/mysql/mysql.h... no
> >checking for /usr/include/mysql/mysql.h... yes
> >
> >Configuration error:
> >  could not find the MySQL installation include and/or library
> >  directories.  Manually specify the location of the MySQL
> >  libraries and the header files and re-run R CMD INSTALL.
>
> following the instructions, I:
>  export MYSQL_DIR="/usr"
> then,
> R CMD INSTALL RMySQL_0.4-3.tar.gz
>
> Seems to have solved the problem, no errors, help files built, etc.  BUT...
>
> > library(RMySQL)
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library
> "/usr/local/lib/R/library/RMySQL/libs/RMySQL.so":
>   /usr/local/lib/R/library/RMySQL/libs/RMySQL.so: undefined symbol:
> mysql_field_count
> Error in library(RMySQL) : .First.lib failed
>
> repeated the process on a similar (but apparently not the same) box - no
> problems, didn't even have to specify the mysql home directory as a shell
> variable.
>
> Tried rebuilding R and MySQL - didn't help.  Otherwise R and MySQL seem to be
> working.
>
> Has anyone seen this problem before?  Thanks in advance.

Yes. You need to set LD_LIBRARY_PATH to include your MySQL libraries: they
are installed in strange places by default.

Try ldd on /usr/local/lib/R/library/RMySQL/libs/RMySQL.so.

What happened to giving your system information, BTW?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Tue Jan 29 22:34:44 2002
From: chong at stat.purdue.edu (Chong Gu)
Date: Tue, 29 Jan 2002 16:34:44 -0500
Subject: [R] Almost a GAM?
In-Reply-To: <sc5692ad.091@mailbox.ers.usda.gov> (mroberts@ers.usda.gov)
Message-ID: <200201292134.QAA89142@odds.stat.purdue.edu>


I probably missed the original problem, but did you try gss?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Tue Jan 29 22:37:20 2002
From: chong at stat.purdue.edu (Chong Gu)
Date: Tue, 29 Jan 2002 16:37:20 -0500
Subject: [R] Almost a GAM?
In-Reply-To: <sc5692ad.091@mailbox.ers.usda.gov> (mroberts@ers.usda.gov)
Message-ID: <200201292137.QAA42516@odds.stat.purdue.edu>


I probably missed the posting with the original problem, but are you
aware of gss?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From collin.carbno at sk.sympatico.ca  Wed Jan 30 02:20:11 2002
From: collin.carbno at sk.sympatico.ca (Collin Carbno)
Date: Tue, 29 Jan 2002 19:20:11 -0600
Subject: [R] multiple series on same graph
Message-ID: <3C574A4B.4C342A29@sk.sympatico.ca>

I'm trying to duplicate some graphs from powerpoint in R package.  One
of things I'm having trouble with is I don't understand how to use the
points command to create different sets of points with different color
and marking attributes, and a legend on the graph.  Where should I look?
I can't seem to find an example of two different sets of data on the
same graph.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mroberts at ers.usda.gov  Wed Jan 30 03:18:40 2002
From: mroberts at ers.usda.gov (Michael Roberts)
Date: Tue, 29 Jan 2002 21:18:40 -0500
Subject: [R] Hi,
Message-ID: <sc57136a.039@mailbox.ers.usda.gov>

Hi,

Sorry for the confusion.

I would like to estimate a model wherein
the marginals of z with respect to w1 and w2 
are smooth functions of  x and y.  I have data
on z, x, y, w1 and w2. 

so E[dz/dw1] = f(x,y) and E[dz/dw2] = g(x,y)

and I would like to estimate f(x,y) and g(x,y)

I suppose I could try to fit something more general
using projection pursuit, but the nature of the problem
suggests the above structure.

For some reason I thought 

x:y:z 

would fit just the interaction term 

xyz 

and not expend to 

x + y + z + xy +xz + yz + xyz

like x*y*z,  which is why I wrote it the way I did.

So maybe it should have bern written

y ~ I(f(x,y)*w1) + I(g(x,y)*w2) + e

e is a symmetric random error.

This seems identifiable to me, but am I missing something?



Michael J. Roberts

Resource Economics Division
Production, Management, and Technology
USDA-ERS
(202) 694-5557 (phone)
(202) 694-5775 (fax)

>>> Prof Brian D Ripley <ripley at stats.ox.ac.uk> 01/29/02 12:30PM >>>
On Tue, 29 Jan 2002, Michael Roberts wrote:

> I don't think I can solve my problem in this way because w1
> and w2 are continuous variables.
>
> A second problem is that my f(x,y) is not f(x, df), i.e., I'd
> like to have a sum of *two* dimensional smoothers interacted
> with other variables.
>
> After my first post I did find a discussion of this problem on the
> S archive, which suggested the same appraoch as Vito did.  S can
> fit 2-d smooths, but still can't handle the interaction terms.

I think you need to define carefully what you mean. I had no idea what

z ~ f(x,y):w1 + g(x,y):w2 + e

is about, and now you tell me w1 and w2 are continuous I have even
less
idea.  What is the interaction you are talking about?  And how can the
model possibly be identifiable?

`:' is S model notation for an interaction, and at least one of the
components is a factor (otherwise special rules apply, generally
multiplication).  But smooth functions cannot be factors.

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk 
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/ 
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Wed Jan 30 05:15:13 2002
From: chong at stat.purdue.edu (Chong Gu)
Date: Tue, 29 Jan 2002 23:15:13 -0500
Subject: [R] Hi,
In-Reply-To: <sc57136a.039@mailbox.ers.usda.gov> (mroberts@ers.usda.gov)
Message-ID: <200201300415.XAA101832@odds.stat.purdue.edu>

   X-Mailer: Novell GroupWise Internet Agent 6.0.1
   Date: Tue, 29 Jan 2002 21:18:40 -0500
   From: "Michael Roberts" <mroberts at ers.usda.gov>
   Mime-Version: 1.0
   Content-Type: text/plain; charset=US-ASCII
   Content-Transfer-Encoding: 7bit
   Content-Disposition: inline
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: SfS-bulk

   Hi,

   Sorry for the confusion.

   I would like to estimate a model wherein
   the marginals of z with respect to w1 and w2 
   are smooth functions of  x and y.  I have data
   on z, x, y, w1 and w2. 

   so E[dz/dw1] = f(x,y) and E[dz/dw2] = g(x,y)

   and I would like to estimate f(x,y) and g(x,y)

   I suppose I could try to fit something more general
   using projection pursuit, but the nature of the problem
   suggests the above structure.

   For some reason I thought 

   x:y:z 

   would fit just the interaction term 

   xyz 

   and not expend to 

   x + y + z + xy +xz + yz + xyz

   like x*y*z,  which is why I wrote it the way I did.

   So maybe it should have bern written

   y ~ I(f(x,y)*w1) + I(g(x,y)*w2) + e

   e is a symmetric random error.

   This seems identifiable to me, but am I missing something?



   Michael J. Roberts

   Resource Economics Division
   Production, Management, and Technology
   USDA-ERS
   (202) 694-5557 (phone)
   (202) 694-5775 (fax)


gss would in principal fit y~x*y*w1+x*z*w2 for you, but the current
algorithm is too slow for the sample size needed for fitting such a
model successfully.

As for identifiability, the current form MIGHT be okey, but are you
sure y=e for w1=w2=0?

Chong Gu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jan 30 08:25:13 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 30 Jan 2002 08:25:13 +0100
Subject: [R] multiple series on same graph
References: <3C574A4B.4C342A29@sk.sympatico.ca>
Message-ID: <3C579FD9.9D2A3330@statistik.uni-dortmund.de>



Collin Carbno wrote:
> 
> I'm trying to duplicate some graphs from powerpoint in R package.  

???

Which R package do you mean?
Do you want to import a graph into R? Why?

> One
> of things I'm having trouble with is I don't understand how to use the
> points command to create different sets of points with different color
> and marking attributes, and a legend on the graph.  Where should I look?
> I can't seem to find an example of two different sets of data on the
> same graph.


1. Read "An Introduction to R"

2. Look at the help for points():
 ?points
 , particularly the examples.

3. Look at the help for legend():
 ?legend

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredrik.karlsson at ling.umu.se  Wed Jan 30 09:32:08 2002
From: fredrik.karlsson at ling.umu.se (Fredrik Karlsson)
Date: Wed, 30 Jan 2002 09:32:08 +0100
Subject: [R] Newbe Q: Some plotting diffculty..
In-Reply-To: <Pine.LNX.4.33.0201291548530.7544-100000@localhost.localdomain>
References: <20020129124312.A5500@ling.umu.se> <Pine.LNX.4.33.0201291548530.7544-100000@localhost.localdomain>
Message-ID: <20020130093208.A26509@ling.umu.se>

Thank  you all for your solutions. I finally got it the way I want it..

R is indeed powerful.

/Fredrik
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Wed Jan 30 08:45:20 2002
From: siim at obs.ee (Ott Toomet)
Date: Wed, 30 Jan 2002 08:45:20 +0100 (CET)
Subject: [R] multiple series on same graph
In-Reply-To: <3C574A4B.4C342A29@sk.sympatico.ca>
Message-ID: <Pine.LNX.4.33.0201300840530.8177-100000@localhost.localdomain>

Hi,

you should use col= and pch= graphical parameters for point type and color
correspondingly.  Legend get you with legend().  E.g. you can plot:

> x <- 1:10
> y1 <- x
> y2 <- sqrt(x)
> y3 <- log(x)
> plot(x,y1)
> points(x,y2,pch=2,col=3)
> points(x,y3,pch=3,col=4)
> legend(1.5,9, legend=c(expression(x), expression(sqrt(x)), expression(log(x))), pch=c(1,2,3), col=c(1,3,4))

instead of points(), you can consider also lines() wich draws a lines as
default.  The line type is controlled by lty= parameter.  To see different
possible point- and color types, use

> plot(0:30, pch=0:30, col=0:30)

Perhaps it helps.

Ott Toomet



On Tue, 29 Jan 2002, Collin Carbno wrote:

> I'm trying to duplicate some graphs from powerpoint in R package.  One
> of things I'm having trouble with is I don't understand how to use the
> points command to create different sets of points with different color
> and marking attributes, and a legend on the graph.  Where should I look?
> I can't seem to find an example of two different sets of data on the
> same graph.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Wed Jan 30 10:26:24 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Wed, 30 Jan 2002 09:26:24 +0000
Subject: [R] multiple series on same graph
References: <3C574A4B.4C342A29@sk.sympatico.ca>
Message-ID: <3C57BC40.5366184@psy.uni-muenchen.de>

Collin Carbno wrote:
> 
> I'm trying to duplicate some graphs from powerpoint in R package.  One
> of things I'm having trouble with is I don't understand how to use the
> points command to create different sets of points with different color
> and marking attributes, and a legend on the graph.  Where should I look?
> I can't seem to find an example of two different sets of data on the
> same graph.

You can use points() or lines() to add points or lines to an existing
plot. See the help pages, there are a lot of examples on how to use
these functions. Use legend() to add a legend to a plot (and there are
also a lot of examples on how to use legend()). But you can also build
your legend with text(), polygon(), lines() etc if you prefer a flexible
style. See (for example)
http://cran.r-project.org/doc/contrib/rpsych.pdf on how to build a
legend with text(), polygon() etc. 

By, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Wed Jan 30 09:38:33 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Wed, 30 Jan 2002 09:38:33 +0100
Subject: [R] multiple series on same graph
References: <3C574A4B.4C342A29@sk.sympatico.ca>
Message-ID: <3C57B109.35AEC3B3@atmos.umnw.ethz.ch>

Hello Collin,

The thing with different colors, symbols or size is very easy. Just give
a vector with as many elements as points you want to the function
points.

points(c(x1,x2,x3,x4,x5),c(y1,y1,y2,y3,y4,y5),col=c(col1,col2,col3,col4,col5),phc=(pch1,pc...),cex=c(....))

the same thing also works in plot, text, lines and so on, and also for
the arguments lty (line typ)
If your vector is too short it will be duplicated as many time as
neccessary. In this case col=c('black','blue') will produce alternating
colors.

with legends i don't have much experience. I often do it with 'text' and
'points'. But there is a function called legend. I should also have to
look to it.

gruess 

joerg 

Collin Carbno wrote:
> 
> I'm trying to duplicate some graphs from powerpoint in R package.  One
> of things I'm having trouble with is I don't understand how to use the
> points command to create different sets of points with different color
> and marking attributes, and a legend on the graph.  Where should I look?
> I can't seem to find an example of two different sets of data on the
> same graph.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From RGIORGI at mail.ap-hm.fr  Wed Jan 30 11:35:15 2002
From: RGIORGI at mail.ap-hm.fr (GIORGI Roch)
Date: Wed, 30 Jan 2002 11:35:15 +0100
Subject: [R] Error calling Fortran code
Message-ID: <945D7ABABF6AFB43877CAFC1B123260F07607E@SRVMAIL2>

Dear R users,

I have to use a R function which call a Fortran code:
result <- .Fortran("Name", arguments)

I have the following error message:
R> Error in .Fortran("Name", arguments ....
R>         C/Fortran function name not in load table

Any ideas?

I am working on PC with R 1.4.0 (loading from R Binaries, Windows, Base,
SetupR.exe installation with all the components) on Windows NT.

Thanks for your help

Roch


-------------------------------------------------------------------
| Roch GIORGI                       |                             |
| Service de l'Information M?dicale |                             |
| H?pital de la Timone - Adultes    |  T?l : +33 (0)4 91 38 70 84 |
| 264, rue St Pierre                |  Fax : +33 (0)4 91 38 57 49 |
| 13385 Marseille Cedex 05          |  Email: rgiorgi at ap-hm.fr
<mailto:rgiorgi at ap-hm.fr>     |
| FRANCE                            |                             |
| http://cybertim.timone.univ-mrs.fr/cybertim
<http://cybertim.timone.univ-mrs.fr/cybertim>                 |
-------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 30 11:57:19 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 30 Jan 2002 10:57:19 +0000 (GMT)
Subject: [R] Error calling Fortran code
In-Reply-To: <945D7ABABF6AFB43877CAFC1B123260F07607E@SRVMAIL2>
Message-ID: <Pine.GSO.4.31.0201301048060.10058-100000@auk.stats>

On Wed, 30 Jan 2002, GIORGI Roch wrote:

> Dear R users,
>
> I have to use a R function which call a Fortran code:
> result <- .Fortran("Name", arguments)
>
> I have the following error message:
> R> Error in .Fortran("Name", arguments ....
> R>         C/Fortran function name not in load table
>
> Any ideas?

1) You did not load the appropriate DLL containing the compiled code.

2) The DLL does not export the symbol.  Try pedump -e on it and check that
Name_ (note the underline) is being exported.

It is unlikely that Fortran could produce a mixed-case symbol like that.
My bet is that it is name_.  But do check with pedump.

> I am working on PC with R 1.4.0 (loading from R Binaries, Windows, Base,
> SetupR.exe installation with all the components) on Windows NT.

R's internals could be a bit cleverer about this, but it would be easy to
be too clever, so for portability write Fortran in lower case and use only
lower-case symbols in .Fortran calls.  (I suspect there is a system out
there that maps Fortran symbols to upper case, and there are compiler
options to do so, in which case R sould not build.)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Wed Jan 30 13:00:48 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Wed, 30 Jan 2002 12:00:48 +0000
Subject: [R] Rotation of axis labels
Message-ID: <3C57E070.8BFD3A6D@psy.uni-muenchen.de>

Hi all,

I can I rotate the x-axis labels 45 degree in clockwise direction? I`ve
tried 

> axis(1, ..., las=2)

but this gives labels vertical to the axis, and las=0 or las=1 always
parallel axis labels.

Thanks, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jan 30 12:55:19 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 30 Jan 2002 12:55:19 +0100
Subject: [R] Rotation of axis labels
References: <3C57E070.8BFD3A6D@psy.uni-muenchen.de>
Message-ID: <3C57DF27.3AD112FC@statistik.uni-dortmund.de>

Sven Garbade wrote:
> 
> Hi all,
> 
> I can I rotate the x-axis labels 45 degree in clockwise direction? I`ve
> tried
> 
> > axis(1, ..., las=2)
> 
> but this gives labels vertical to the axis, and las=0 or las=1 always
> parallel axis labels.


I think that's not possible with axis().

One way is to use text() as in this quick hack:

 plot(x, y, xaxt="n")
 axis(1, labels=FALSE)
 pr <- pretty(x)
 par(xpd=TRUE)
 text(pr, par("usr")[3], pr, adj=0, srt=-90)

Surely that's not perfect!

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Wed Jan 30 15:32:10 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Wed, 30 Jan 2002 14:32:10 +0000
Subject: [R] Rotation of axis labels
References: <3C57E070.8BFD3A6D@psy.uni-muenchen.de> <3C57DF27.3AD112FC@statistik.uni-dortmund.de>
Message-ID: <3C5803EA.F41B4785@psy.uni-muenchen.de>

Uwe Ligges wrote:
> 
> Sven Garbade wrote:
> >
> > Hi all,
> >
> > I can I rotate the x-axis labels 45 degree in clockwise direction? I`ve
> > tried
> >
> > > axis(1, ..., las=2)
> >
> > but this gives labels vertical to the axis, and las=0 or las=1 always
> > parallel axis labels.
> 
> I think that's not possible with axis().
> 
> One way is to use text() as in this quick hack:
> 
>  plot(x, y, xaxt="n")
>  axis(1, labels=FALSE)
>  pr <- pretty(x)
>  par(xpd=TRUE)
>  text(pr, par("usr")[3], pr, adj=0, srt=-90)
> 
> Surely that's not perfect!

Thanks, with some modifications this works perfecly for me.

By, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From heberto.ghezzo at mcgill.ca  Wed Jan 30 14:33:34 2002
From: heberto.ghezzo at mcgill.ca (Heberto Ghezzo)
Date: Wed, 30 Jan 2002 08:33:34 -0500
Subject: [R] read zips
Message-ID: <3C57F62E.44E6CE6@mcgill.ca>

Hello, I have to read ASCII files with readLine. Some of these files are
big. I receive these files in zip format, then unzip and read into R to
process.
Is it possible to read directly the Zip file? Help is zipped so the
tools to unzip while reading are there, is it possible to use them from
my package?
Thanks
--
R. Heberto Ghezzo Ph.D.
Meakins-Christie Labs
McGill University
Montreal  -  Canada


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 30 14:48:42 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 30 Jan 2002 13:48:42 +0000 (GMT Standard Time)
Subject: [R] read zips
In-Reply-To: <3C57F62E.44E6CE6@mcgill.ca>
Message-ID: <Pine.WNT.4.31.0201301347020.308-100000@gannet>

On Wed, 30 Jan 2002, Heberto Ghezzo wrote:

> Hello, I have to read ASCII files with readLine. Some of these files are
> big. I receive these files in zip format, then unzip and read into R to
> process.
> Is it possible to read directly the Zip file? Help is zipped so the
> tools to unzip while reading are there, is it possible to use them from
> my package?

Yes. ?zip.file.extract but note the warnings.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Wed Jan 30 17:06:16 2002
From: ernesto at ipimar.pt (Ernesto Jardim)
Date: 30 Jan 2002 16:06:16 +0000
Subject: [R] dataframe subset using levels as criteria
Message-ID: <1012406776.17209.6.camel@gandalf>

Hi

I want to select a subset of a dataframe (frota) using the levels of a
factor (matricula) in another dataframe (logbooks.eda). 

The command and output are bellow and it's not working ...

> frota[frota$matricula==levels(logbooks.eda$matricula),]
  matricula compff   tab potmaq
1  A-1420-C     NA    NA     NA
2  A-1676-C     NA 12070  36800
3  A-1954-C   3214 17565  44100
4  A-1961-C   3197 17992  46300
5  A-2011-C   3198 17184  46300
Warning messages: 
1: longer object length
	is not a multiple of shorter object length in: is.na(e1) | is.na(e2) 
2: longer object length
	is not a multiple of shorter object length in:
"==.default"(frota$matricula, levels(logbooks.eda$matricula)) 

Can someone help me with this ?

EJ

ps: I'm using R-1.4.0-patched and SuSE 7.1

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 30 16:03:16 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 30 Jan 2002 15:03:16 +0000 (GMT)
Subject: [R] dataframe subset using levels as criteria
In-Reply-To: <1012406776.17209.6.camel@gandalf>
Message-ID: <Pine.LNX.4.31.0201301501001.17619-100000@gannet.stats>

On 30 Jan 2002, Ernesto Jardim wrote:

> Hi
>
> I want to select a subset of a dataframe (frota) using the levels of a
> factor (matricula) in another dataframe (logbooks.eda).
>
> The command and output are bellow and it's not working ...
>
> > frota[frota$matricula==levels(logbooks.eda$matricula),]
>   matricula compff   tab potmaq
> 1  A-1420-C     NA    NA     NA
> 2  A-1676-C     NA 12070  36800
> 3  A-1954-C   3214 17565  44100
> 4  A-1961-C   3197 17992  46300
> 5  A-2011-C   3198 17184  46300
> Warning messages:
> 1: longer object length
> 	is not a multiple of shorter object length in: is.na(e1) | is.na(e2)
> 2: longer object length
> 	is not a multiple of shorter object length in:
> "==.default"(frota$matricula, levels(logbooks.eda$matricula))
>
> Can someone help me with this ?

Use %in% and not ==.  == matches cyclically along the shorter vector, and
I presume you want all cases matching any of the levels.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Jan 30 16:13:15 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 30 Jan 2002 10:13:15 -0500 (EST)
Subject: [R] dataframe subset using levels as criteria
In-Reply-To: <1012406776.17209.6.camel@gandalf>
Message-ID: <Pine.LNX.4.30.0201301012210.29176-100000@bolker.zoo.ufl.edu>


 Perhaps you mean
frota[frota$matricula %in% levels(logbooks.eda$matricula),]

?

On 30 Jan 2002, Ernesto Jardim wrote:

> Hi
>
> I want to select a subset of a dataframe (frota) using the levels of a
> factor (matricula) in another dataframe (logbooks.eda).
>
> The command and output are bellow and it's not working ...
>
> > frota[frota$matricula==levels(logbooks.eda$matricula),]
>   matricula compff   tab potmaq
> 1  A-1420-C     NA    NA     NA
> 2  A-1676-C     NA 12070  36800
> 3  A-1954-C   3214 17565  44100
> 4  A-1961-C   3197 17992  46300
> 5  A-2011-C   3198 17184  46300
> Warning messages:
> 1: longer object length
> 	is not a multiple of shorter object length in: is.na(e1) | is.na(e2)
> 2: longer object length
> 	is not a multiple of shorter object length in:
> "==.default"(frota$matricula, levels(logbooks.eda$matricula))
>
> Can someone help me with this ?
>
> EJ
>
> ps: I'm using R-1.4.0-patched and SuSE 7.1
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From benjamin.warr at insead.edu  Wed Jan 30 16:13:31 2002
From: benjamin.warr at insead.edu (WARR Benjamin)
Date: Wed, 30 Jan 2002 16:13:31 +0100
Subject: [R] multiple series on same graph
Message-ID: <C374E6A0E25BD41197FB00508B014A13044D46A7@fw-zeus.insead.fr>

Hi Collin,

you can also try overlaying plots using par(new=...)

plot(x,y1)
par(new=TRUE)
plot(x,y2)

this plots in the same device, but take care with the annotations by using

par(ann=F)

to suppress them

good luck

Benjamin Warr

Research Associate
Centre for the Management of Environmental Resource(CMER)
INSEAD


> -----Original Message-----
> From: Collin Carbno [mailto:collin.carbno at sk.sympatico.ca]
> Sent: 30 January 2002 02:20
> To: r-help at hypatia.math.ethz.ch
> Subject: [R] multiple series on same graph
> 
> 
> I'm trying to duplicate some graphs from powerpoint in R package.  One
> of things I'm having trouble with is I don't understand how to use the
> points command to create different sets of points with different color
> and marking attributes, and a legend on the graph.  Where 
> should I look?
> I can't seem to find an example of two different sets of data on the
> same graph.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020130/f363397b/attachment.html

From ernesto at ipimar.pt  Wed Jan 30 17:29:04 2002
From: ernesto at ipimar.pt (Ernesto Jardim)
Date: 30 Jan 2002 16:29:04 +0000
Subject: [R] dataframe subset using levels as criteria
In-Reply-To: <Pine.LNX.4.30.0201301012210.29176-100000@bolker.zoo.ufl.edu>
References: <Pine.LNX.4.30.0201301012210.29176-100000@bolker.zoo.ufl.edu>
Message-ID: <1012408144.17209.8.camel@gandalf>

Yes!

Thanks

EJ

On Wed, 2002-01-30 at 15:13, Ben Bolker wrote:
> 
>  Perhaps you mean
> frota[frota$matricula %in% levels(logbooks.eda$matricula),]
> 
> ?
> 
> On 30 Jan 2002, Ernesto Jardim wrote:
> 
> > Hi
> >
> > I want to select a subset of a dataframe (frota) using the levels of a
> > factor (matricula) in another dataframe (logbooks.eda).
> >
> > The command and output are bellow and it's not working ...
> >
> > > frota[frota$matricula==levels(logbooks.eda$matricula),]
> >   matricula compff   tab potmaq
> > 1  A-1420-C     NA    NA     NA
> > 2  A-1676-C     NA 12070  36800
> > 3  A-1954-C   3214 17565  44100
> > 4  A-1961-C   3197 17992  46300
> > 5  A-2011-C   3198 17184  46300
> > Warning messages:
> > 1: longer object length
> > 	is not a multiple of shorter object length in: is.na(e1) | is.na(e2)
> > 2: longer object length
> > 	is not a multiple of shorter object length in:
> > "==.default"(frota$matricula, levels(logbooks.eda$matricula))
> >
> > Can someone help me with this ?
> >
> > EJ
> >
> > ps: I'm using R-1.4.0-patched and SuSE 7.1
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> 318 Carr Hall                                bolker at zoo.ufl.edu
> Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
> Box 118525                                   (ph)  352-392-5697
> Gainesville, FL 32611-8525                   (fax) 352-392-3704


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.Lundqvist at ies.luth.se  Wed Jan 30 16:20:46 2002
From: Robert.Lundqvist at ies.luth.se (Robert Lundqvist)
Date: Wed, 30 Jan 2002 16:20:46 +0100
Subject: [R] Shade area under curve?
Message-ID: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFBE@marge.ies.ad.ltu.se>

Hi all,

I've got this graphics question which really should be easy. I want to shade
an area between bounds under a curve. A suitable beginning seems to be the
following:

> plot(dnorm,-4,4)
> segments(-4,0,4,0)
> segments(-2,0,-2,dnorm(-2))
> segments(2,0,2,dnorm(2))

It is the area between -2 and 2 which I want to shade (or something
similar). Hints anyone?

Robert
****************
Robert Lundqvist
Dept of Quality Technology & Statistics
Lulea University of Technology
Sweden
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Jan 30 16:40:37 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 30 Jan 2002 10:40:37 -0500 (EST)
Subject: [R] Shade area under curve?
In-Reply-To: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFBE@marge.ies.ad.ltu.se>
Message-ID: <Pine.LNX.4.30.0201301038140.29758-100000@bolker.zoo.ufl.edu>


plot(dnorm,-4,4)
xvals <- seq(-2,2,length=50)
dvals <- dnorm(xvals)
polygon(c(xvals,rev(xvals)),c(rep(0,50),rev(dvals)),col="gray")

On Wed, 30 Jan 2002, Robert Lundqvist wrote:

> Hi all,
>
> I've got this graphics question which really should be easy. I want to shade
> an area between bounds under a curve. A suitable beginning seems to be the
> following:
>
> > plot(dnorm,-4,4)
> > segments(-4,0,4,0)
> > segments(-2,0,-2,dnorm(-2))
> > segments(2,0,2,dnorm(2))
>
> It is the area between -2 and 2 which I want to shade (or something
> similar). Hints anyone?
>
> Robert
> ****************
> Robert Lundqvist
> Dept of Quality Technology & Statistics
> Lulea University of Technology
> Sweden
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mroberts at ers.usda.gov  Wed Jan 30 16:49:49 2002
From: mroberts at ers.usda.gov (Michael Roberts)
Date: Wed, 30 Jan 2002 10:49:49 -0500
Subject: [R] Almost a GAM?
Message-ID: <sc57d175.054@mailbox.ers.usda.gov>


>>> Simon Wood <snw at mcs.st-and.ac.uk> 01/30/02 04:28AM >>>
> Wouldn't an "interaction"
> between a smooth function f(x,y) and a continuous covariate w be
another
> smooth function g(x,y,w), say? But in this case:
> y~g(x,y,w1)+f(x,y,w2)+e 
> won't generally be identifiable, without imposing extra structure on
the
> model [for example g1(x,y)+g2(w1) is a valid g(x,y,w1), while 
> f1(x,y)+f2(w2) is a valid f(x,y,w2) - clearly there's an
identifiability
> problem with f1 and g1!]. 
- Sorry, this was wrong (Chong Gu is right). The model is identifiable
subject only to side conditions on the basis of completely smooth
components of f and g - identifiability of the non-smooth components
seems
to come about because the solution of the smoothing problem involving
f(x,y,w) simply cannot have the form f1(x,y)+f2(w). Unfortunately mgcv
doesn't impose the necessary side conditions, so you can't use it to
estimate
y~g(x,y,w1)+f(x,y,w2)+e
[...yet]  
cheers,
Simon

....
Sorry to drag this out further.

This has been a great help. Although I thought that ssanova in gss 
would solve my problem, now I do not think so.

I do not want to estimate
y~g(x,y,w1) + f(x,y,w2) + e

This would be too expensive besides.

I would like to estimate
y~g(x,y)*w1 + f(x,y)*w2 + e without any of the expansion terms.

w1 and w2 are continuous. 

I don't see how to specify such a functional form in ssanova

This is much more restrictive than the form above and
cheap enough to do on my computer (I think).  It is also
makes good sense for my problem.

Right now I see four potential routes:

1) try to augment Simon's mgcv (rework the design matrix)

2) try to augment Chong Gu's (at this point I have no idea if this is
doable)

3) try backfitting the smooth terms in conjunction with ssanova or
another
smooth regression technique.

4) try a "crude" approximation by descretizing w1 and w2 into factor
levels
and use the technique first suggested by Vito.

Any suggestions on the most promissing route would be 
greatly appreciated. (one of these or something else?)

Many thanks,

Michael



Michael J. Roberts

Resource Economics Division
Production, Management, and Technology
USDA-ERS
(202) 694-5557 (phone)
(202) 694-5775 (fax)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Wed Jan 30 17:57:58 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Wed, 30 Jan 2002 16:57:58 +0000
Subject: [R] read zips
References: <3C57F62E.44E6CE6@mcgill.ca>
Message-ID: <3C582616.F4165ED5@psy.uni-muenchen.de>

Heberto Ghezzo wrote:
> 
> Hello, I have to read ASCII files with readLine. Some of these files are
> big. I receive these files in zip format, then unzip and read into R to
> process.
> Is it possible to read directly the Zip file? Help is zipped so the
> tools to unzip while reading are there, is it possible to use them from
> my package?
> Thanks

If you can use gzip (under Unix, Windows?, Mac?) you can open the file
with gzfile().

By, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eger.m at gmx.de  Wed Jan 30 16:57:05 2002
From: eger.m at gmx.de (Marcus Eger)
Date: Wed, 30 Jan 2002 16:57:05 +0100
Subject: [R] Shade area under curve?
In-Reply-To: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFBE@marge.ies.ad.ltu.se>
References: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFBE@marge.ies.ad.ltu.se>
Message-ID: <E16Vx6g-0008HT-00@ernie.physik.uni-marburg.de>

Hi,
I've written a small function "fill" that can be called after a plot(x,y) 
call. There might be simpler ways, but it works.
Ciao
Marcus

"fill" <-  function 
(x,y,ref=0,xlim=NULL,set.na=NA,log=NULL,limit.y="lower",...) {
  if (missing(y)) {
    y <- x
    x <- 1:length(x)
  }
  log <- if(is.null(log)) getlog()
  xlim <- if (is.null(xlim)) range(x) else xlim
  ix <- limit(x,lower=xlim[1],upper=xlim[2],index=T,equal=T)
  x <- x[ix]
  switch(limit.y,
         "lower"={y <- limit(Re(y[ix]),lower=ref)},
         "upper"={y <- limit(Re(y[ix]),upper=ref)}
         )
  x <- c(x[1],x,last(x))
  y[is.na(y)] <- set.na
  y <- c(ref,y,ref)
  polygon(x,y,...)

}
"getlog" <-  function () {
  x <- if (par()$xlog) "x"
  y <- if (par()$ylog) "y"
  x%+%y
}
"last" <-  function (x) {
  x[length(x)]
}
"limit" <-  function (arr,lower=min(arr),upper=max(arr),index=F,...) {
  if (index) return(betwval(arr,lower,upper,index=T,...))
 ixl <- which(arr < lower)
  ixu <- which(arr > upper)
  arr[ixl] <- lower
  arr[ixu] <- upper
  arr
}
"betwval" <-  function (arr,val1,val2,sort=F,equal=F,index=F) {
  n <- length(arr)
  if (sort) aux <- arr[order(arr)] else aux <- arr
  if (missing(val2)) {  #then it is a range
    val2 <- val1[2]
    val1 <- val1[1]
  }
  if(equal) ix <- where((aux >= val1) & (aux <= val2))
  else ix <- where((aux > val1) & (aux < val2))
  if (ix != -1)
    if(index) return(ix) else return(aux[ix])
  if(!index) return(NA) else return(ix)
}





On Wednesday 30 January 2002 16:20, Robert Lundqvist wrote:
> Hi all,
>
> I've got this graphics question which really should be easy. I want to
> shade an area between bounds under a curve. A suitable beginning seems to
> be the
>
> following:
> > plot(dnorm,-4,4)
> > segments(-4,0,4,0)
> > segments(-2,0,-2,dnorm(-2))
> > segments(2,0,2,dnorm(2))
>
> It is the area between -2 and 2 which I want to shade (or something
> similar). Hints anyone?
>
> Robert

-- 
+-------------------------------------------------------
| Dr.-Ing. Marcus Eger
| Philipps Universitaet Marburg
| Fachbereich Physik AG Neurophysik
| Renthof 7
| 35032 Marburg
| Tel. ++49 +6421 282-4169
| Fax  ++49 +6421 282-7034
+-------- ><> -------------------------------------------
| E-Mail: eger.m at gmx.de (NEW)
|         marcus.eger at physik.uni-marburg.de (OLD)
| WWW:    http://neuro.physik.uni-marburg.de/~eger (NEW)
+--------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Wed Jan 30 17:11:35 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Wed, 30 Jan 2002 11:11:35 -0500
Subject: [R] Functions on matrix row level
In-Reply-To: <9797001@toto.iv>
Message-ID: <15448.6967.819228.669971@gargle.gargle.HOWL>

Arndt, Ulrich, VF-VP <ulrich.arndt at vodafone.de> wrote:
> I like to do some calculations (like max, avg or min) on row level.

Prof Brian D Ripley <ripley at stats.ox.ac.uk> replied, in part:
> For average, rowMeans in R-devel is much faster still, if you need to save
> another 0.03 seconds ....

If you don't want to install a "devel" version of R and can't wait for 1.5.0,
try package "colSums" at:
  <http://cran.r-project.org/src/contrib/Devel/colSums_1.0.tar.gz>
which contains a function rowMeans() (but not rowMax or rowMin, which would be
nice additions).

   By the way, I will be submitting version 1.1 soon, which incorporates the
"2-pass" method in colVars and rowVars.
-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From friendly at yorku.ca  Wed Jan 30 17:43:49 2002
From: friendly at yorku.ca (Michael Friendly)
Date: Wed, 30 Jan 2002 11:43:49 -0500
Subject: [R] mosaicplot(formula, data)--- bugged?
Message-ID: <3C5822C5.66373AC0@yorku.ca>

I have been tinkering with mosaicplot() and friends as a way
of learning R.  As part of this, I've written a pair.table()
method for mosaic matrices, and would like to extend mosaicplot
to work with loglin and logln (MASS) objects.  I'm using
R 1.4.0 on Win 98.

I've been trying to figure out the formula interface, and think
there's a bug, but not sure how to find it, yet alone fix it.

It seems to only work with independence models:

> data(HairEyeColor)
> mosaicplot(~ Hair + Eye + Sex, data=HairEyeColor)
> mosaicplot(~ Hair * Eye + Sex, data=HairEyeColor)
Error in aperm(a, perm, resize) : `perm' is of wrong length

here's a traceback:

> debug(mosaicplot)
> mosaicplot(~Hair + Eye + Sex + Hair:Eye, data=HairEyeColor)
debugging in: mosaicplot(~Hair + Eye + Sex + Hair:Eye, data =
HairEyeColor)
debug: UseMethod("mosaicplot")
Browse[1]> 
Error in aperm(a, perm, resize) : `perm' is of wrong length
> traceback()
5: aperm(X, c(s.call, s.ans))
4: apply(x, margin, sum)
3: margin.table(data, match(varnames, names(dimnames(data))))
2: mosaicplot.formula(~Hair + Eye + Sex + Hair:Eye, data = HairEyeColor)
1: mosaicplot(~Hair + Eye + Sex + Hair:Eye, data = HairEyeColor)
> 

but this works correctly:

> library(MASS)
> lm1 <- loglm(~Hair*Eye + Sex, HairEyeColor)
> lm1
Call:
loglm(formula = ~Hair * Eye + Sex, data = HairEyeColor)

Statistics:
                      X^2 df   P(> X^2)
Likelihood Ratio 29.34982 15 0.01449443
Pearson          28.99286 15 0.01611871
>

Can anyone help?

-- 
Michael Friendly              friendly at yorku.ca
York University               http://www.math.yorku.ca/SCS/friendly.html
Psychology Department
4700 Keele Street             Tel:  (416) 736-5115 x66249
Toronto, Ontario, M3J 1P3     Fax:  (416) 736-5814
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jin_xiaodong at yahoo.com  Wed Jan 30 17:52:43 2002
From: jin_xiaodong at yahoo.com (xiaodong jin)
Date: Wed, 30 Jan 2002 08:52:43 -0800 (PST)
Subject: [R] Goodness-of-fit test on equal distribution of 2 samples
Message-ID: <20020130165243.50002.qmail@web14207.mail.yahoo.com>


Dear R experts,

I wish to test

 H0: the distributions of 2 samples are equal. vs Ha: not H0.

Here the 2 sample are of equal size and large size (over 10,000). Is there any existing codes for Anderson-Darling, Cramer-Smirnov-Von-Mises test? 

I know that KS (Kormogov-Smirnov) test is available but it rejects the null hypothesis too often so I will not take it.

Your great help is very much appreciated!

Truly Yours,

Shelton



---------------------------------

Yahoo! Auctions Great stuff seeking new owners! Bid now!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020130/c881be2c/attachment.html

From ripley at stats.ox.ac.uk  Wed Jan 30 17:57:59 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 30 Jan 2002 16:57:59 +0000 (GMT)
Subject: [R] mosaicplot(formula, data)--- bugged?
In-Reply-To: <3C5822C5.66373AC0@yorku.ca>
Message-ID: <Pine.LNX.4.31.0201301648530.1278-100000@gannet.stats>

On Wed, 30 Jan 2002, Michael Friendly wrote:

> I have been tinkering with mosaicplot() and friends as a way
> of learning R.  As part of this, I've written a pair.table()
> method for mosaic matrices, and would like to extend mosaicplot
> to work with loglin and logln (MASS) objects.  I'm using
> R 1.4.0 on Win 98.
>
> I've been trying to figure out the formula interface, and think
> there's a bug, but not sure how to find it, yet alone fix it.

As documented it should not have interaction terms:

     For the formula method, if `data' is an object inheriting from
     classes `"table"' or `"ftable"', or an array with more than 2
     dimensions, it is taken as a contingency table, and hence all
     entries should be nonnegative.  In this case, the left-hand side
     of `formula' should be empty, and the variables on the right-hand
     side should be taken from the names of the dimnames attribute of
     the contingency table.  A marginal table of these variables is
     computed, and a mosaic of this table is produced.

I am really not sure what you expected Hair * Eye + Sex to give you.
As a log-linear model the meaning is clear, but mosaicplot is working with
data and not a model *unless* you ask for an extended mosaicplot
by specifying `shade'.  The way two modes are described on one help page
may be misleading.  For data the model is really Hair * Eye * Sex
and arguments `margin' and `type' are not relevant (AFAIK).

What one could do is to extend the notation so that instead of

     mosaicplot(HairEyeColor, shade = TRUE, margin = list(c(1,2), 3))

the model could be specified by a formula (rather than by margins).

> It seems to only work with independence models:
>
> > data(HairEyeColor)
> > mosaicplot(~ Hair + Eye + Sex, data=HairEyeColor)
> > mosaicplot(~ Hair * Eye + Sex, data=HairEyeColor)
> Error in aperm(a, perm, resize) : `perm' is of wrong length
>
> here's a traceback:
>
> > debug(mosaicplot)
> > mosaicplot(~Hair + Eye + Sex + Hair:Eye, data=HairEyeColor)
> debugging in: mosaicplot(~Hair + Eye + Sex + Hair:Eye, data =
> HairEyeColor)
> debug: UseMethod("mosaicplot")
> Browse[1]>
> Error in aperm(a, perm, resize) : `perm' is of wrong length
> > traceback()
> 5: aperm(X, c(s.call, s.ans))
> 4: apply(x, margin, sum)
> 3: margin.table(data, match(varnames, names(dimnames(data))))
> 2: mosaicplot.formula(~Hair + Eye + Sex + Hair:Eye, data = HairEyeColor)
> 1: mosaicplot(~Hair + Eye + Sex + Hair:Eye, data = HairEyeColor)
> >
>
> but this works correctly:
>
> > library(MASS)
> > lm1 <- loglm(~Hair*Eye + Sex, HairEyeColor)
> > lm1
> Call:
> loglm(formula = ~Hair * Eye + Sex, data = HairEyeColor)
>
> Statistics:
>                       X^2 df   P(> X^2)
> Likelihood Ratio 29.34982 15 0.01449443
> Pearson          28.99286 15 0.01611871
> >
>
> Can anyone help?
>
> --
> Michael Friendly              friendly at yorku.ca
> York University               http://www.math.yorku.ca/SCS/friendly.html
> Psychology Department
> 4700 Keele Street             Tel:  (416) 736-5115 x66249
> Toronto, Ontario, M3J 1P3     Fax:  (416) 736-5814
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ploner at stat.boku.ac.at  Wed Jan 30 20:00:57 2002
From: ploner at stat.boku.ac.at (Alex Ploner)
Date: Wed, 30 Jan 2002 20:00:57 +0100 (MET)
Subject: [R] Grid won't load on Windows NT
Message-ID: <200201301900.UAA24621@stat.boku.ac.at>

Dear list,

I have problems loading the grid library; running

> library(grid)

results in 

Error in .Call("L_initGrid"): Call function name not in load table
Error in library(grid): .First.lib failed

PC: Windows NT 4.0 SP6 on a Ghz-Pentium machine with 256 MB memory
R: version 1.4.0 patched (23/01/02)
grid: 0.5-1, built 26/01/02

I haven't found this on CRAN; any ideas would be appreciated.

alexander


--
Alexander Ploner
Applied Statistics
Univ. f. Agricultural Sciences
Gregor Mendel Str. 33
1180 Vienna, Austria, Europe
Tel.: +43-1-47654-5063
E-Mail: ploner at stat.boku.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Jan 30 19:55:52 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 30 Jan 2002 10:55:52 -0800 (PST)
Subject: [R] Grid won't load on Windows NT
In-Reply-To: <200201301900.UAA24621@stat.boku.ac.at>
Message-ID: <Pine.A41.4.44.0201301052090.74956-100000@homer40.u.washington.edu>

On Wed, 30 Jan 2002, Alex Ploner wrote:

> Dear list,
>
> I have problems loading the grid library; running
>
> > library(grid)
>
> results in
>
> Error in .Call("L_initGrid"): Call function name not in load table
> Error in library(grid): .First.lib failed
>
> PC: Windows NT 4.0 SP6 on a Ghz-Pentium machine with 256 MB memory
> R: version 1.4.0 patched (23/01/02)
> grid: 0.5-1, built 26/01/02
>
> I haven't found this on CRAN; any ideas would be appreciated.

There have been some problem reports with lattice and grid under Windows.

These should be fixed in R 1.4.1, out today, and were an important
motivation in releasing 1.4.1 this soon. The grid package in 1.4.1 works
for me on Win2k.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Wed Jan 30 20:38:24 2002
From: chong at stat.purdue.edu (Chong Gu)
Date: Wed, 30 Jan 2002 14:38:24 -0500
Subject: [R] adapt may "cheat"
Message-ID: <200201301938.OAA137786@odds.stat.purdue.edu>


Just want to let whoever may be interested to know that the adapt
function (package adapt) for multivariate integration may "cheat".

A student here made a function f(x,y)=g(x)g(y) on the unit square and
sent it to adapt, and adapt happily returned a value between 2 and 3
with an error estimate of the order E-11.  He then used a 128-point
Legendre quadrature produced by the gaussq.f function from netlib to
calculate the univariate integral then squared it, and the result
differ from the adapt number in the 4th or 5th digit.  Forcing adapt
to use more points doesn't seem to have any effect.

We were led to this experiment when we were testing the smolyak
cubature in SMOLPACK by Knut Petras, which gave the same number as the
squared Legendre.

Chong Gu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Wed Jan 30 21:07:56 2002
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Wed, 30 Jan 2002 15:07:56 -0500
Subject: [R] Almost a GAM?
Message-ID: <B9A894093554D511941700508B5C76DB02ADE190@uswpmx08.merck.com>

You could look at this as a "varying coefficient regression model" of the
type econometricians have been interested in. Perhaps a spatial (because you
have bivariate coefficient functions) Kalman filter approach could be
adapted. I don't know if the spatial R packages do this. Perhaps GeoR?

Another possibility is to use a series expansion for the functional
coefficients, e.g., tensor product wavelets, or radial basis functions
(mixture of Gaussian densities). This would reduce to linear least squares
plus choice of regularization/smoothing parameter (eg via CV).

Reid Huntsinger

-----Original Message-----
From: Michael Roberts [mailto:mroberts at ers.usda.gov]
Sent: Wednesday, January 30, 2002 10:50 AM
To: r-help at stat.math.ethz.ch
Subject: Re: [R] Almost a GAM?



>>> Simon Wood <snw at mcs.st-and.ac.uk> 01/30/02 04:28AM >>>
> Wouldn't an "interaction"
> between a smooth function f(x,y) and a continuous covariate w be
another
> smooth function g(x,y,w), say? But in this case:
> y~g(x,y,w1)+f(x,y,w2)+e 
> won't generally be identifiable, without imposing extra structure on
the
> model [for example g1(x,y)+g2(w1) is a valid g(x,y,w1), while 
> f1(x,y)+f2(w2) is a valid f(x,y,w2) - clearly there's an
identifiability
> problem with f1 and g1!]. 
- Sorry, this was wrong (Chong Gu is right). The model is identifiable
subject only to side conditions on the basis of completely smooth
components of f and g - identifiability of the non-smooth components
seems
to come about because the solution of the smoothing problem involving
f(x,y,w) simply cannot have the form f1(x,y)+f2(w). Unfortunately mgcv
doesn't impose the necessary side conditions, so you can't use it to
estimate
y~g(x,y,w1)+f(x,y,w2)+e
[...yet]  
cheers,
Simon

....
Sorry to drag this out further.

This has been a great help. Although I thought that ssanova in gss 
would solve my problem, now I do not think so.

I do not want to estimate
y~g(x,y,w1) + f(x,y,w2) + e

This would be too expensive besides.

I would like to estimate
y~g(x,y)*w1 + f(x,y)*w2 + e without any of the expansion terms.

w1 and w2 are continuous. 

I don't see how to specify such a functional form in ssanova

This is much more restrictive than the form above and
cheap enough to do on my computer (I think).  It is also
makes good sense for my problem.

Right now I see four potential routes:

1) try to augment Simon's mgcv (rework the design matrix)

2) try to augment Chong Gu's (at this point I have no idea if this is
doable)

3) try backfitting the smooth terms in conjunction with ssanova or
another
smooth regression technique.

4) try a "crude" approximation by descretizing w1 and w2 into factor
levels
and use the technique first suggested by Vito.

Any suggestions on the most promissing route would be 
greatly appreciated. (one of these or something else?)

Many thanks,

Michael



Michael J. Roberts

Resource Economics Division
Production, Management, and Technology
USDA-ERS
(202) 694-5557 (phone)
(202) 694-5775 (fax)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Wed Jan 30 22:19:30 2002
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Wed, 30 Jan 2002 15:19:30 -0600
Subject: [R] 1.4.1 R CMD check broken?
Message-ID: <OF218FFCD0.DD1E4ED4-ON86256B51.0071B1A0@mmm.com>

I am not sure if this is already known.  I checked BUGS and found some
references to similar behavior when R_HOME is set?

Here is what I get:

(1) Fresh build of 1.4.1 under Linux/RH-7.2. All tests pass.

      > R CMD check ctest
     * checking for working latex ... OK
     * using log directory `/home/andyj/stat/R-1.4.1/library/ctest.Rcheck'

     Installing *source* package `ctest' ...
      R
      help
      >>> Building/Updating help pages for package `ctest'
      Formats: text html latex example

      At this point R hangs.

(2) Just installed 1.4.1 on Win200 using Prof. Ripley single file installer


     c:/R/rw1041/library > Rcmd.exe check ctest
     * checking for working latex ... OK
     * using log directory `/cygdrive/c/R/rw1041/library/ctest.Rcheck'

     make: Entering directory `/cygdrive/c/R/rw1041/src/gnuwin32'
     make DLLNM= \
     -C /cygdrive/c/R/rw1041/library/ctest PKG=ctest
RHOME=/cygdrive/c/R/rw1041 RLI
     B=/cygdrive/c/R/rw1041/library/ctest.Rcheck \
     -f /cygdrive/c/R/rw1041/src/gnuwin32/MakePkg
     make[1]: Entering directory `/cygdrive/c/R/rw1041/library/ctest'
     ---------- Making package ctest ------------
     mkdir -p /cygdrive/c/R/rw1041/library/ctest.Rcheck/ctest
     cp -r   ./INDEX  ./TITLE ./CONTENTS ./R-ex ./chtml ./help ./html
./latex ./libs
     /cygdrive/c/R/rw1041/library/ctest.Rcheck/ctest/
     adding build stamp to DESCRIPTION
     no R files in this package
     installing man source files

     At this point Rcmd hangs also.

In both cases the problems seems to be that the $R_HOME/library/ctest/R
never gets copied to the ctest.Rcheck/ctest.  In the Windows case there is
no man directory in ctest, but an empty one is created in ctest.Rcheck.

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jan 30 22:50:44 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Jan 2002 22:50:44 +0100
Subject: [R] 1.4.1 R CMD check broken?
In-Reply-To: <OF218FFCD0.DD1E4ED4-ON86256B51.0071B1A0@mmm.com>
References: <OF218FFCD0.DD1E4ED4-ON86256B51.0071B1A0@mmm.com>
Message-ID: <x21yg7v77v.fsf@blueberry.kubism.ku.dk>

apjaworski at mmm.com writes:

> I am not sure if this is already known.  I checked BUGS and found some
> references to similar behavior when R_HOME is set?
> 
> Here is what I get:
> 
> (1) Fresh build of 1.4.1 under Linux/RH-7.2. All tests pass.
> 
>       > R CMD check ctest
>      * checking for working latex ... OK
>      * using log directory `/home/andyj/stat/R-1.4.1/library/ctest.Rcheck'
> 
>      Installing *source* package `ctest' ...
>       R
>       help
>       >>> Building/Updating help pages for package `ctest'
>       Formats: text html latex example
> 
>       At this point R hangs.

I wouldn't try this with the internal packages. Works fine with e.g.
boot.

Even for ctest, I get (OK, that r-patches is from Saturday)

$ ~/R-devel/r-patched/BUILD/bin/R CMD check ctest
* checking for working latex ... OK
* using log directory
`/home/pd/R-devel/r-patched/R/src/library/ctest.Rcheck'
* looks like `ctest' is a base package
* skipping installation test
* checking package directory ... OK
* checking for sufficient/correct file permissions ... OK

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jan 30 22:53:06 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 30 Jan 2002 22:53:06 +0100
Subject: [R] 1.4.1 R CMD check broken?
References: <OF218FFCD0.DD1E4ED4-ON86256B51.0071B1A0@mmm.com>
Message-ID: <3C586B42.899392E7@statistik.uni-dortmund.de>

apjaworski at mmm.com wrote:
> 
> I am not sure if this is already known.  I checked BUGS and found some
> references to similar behavior when R_HOME is set?
> 
> Here is what I get:
> 
> (1) Fresh build of 1.4.1 under Linux/RH-7.2. All tests pass.
> 
>       > R CMD check ctest
>      * checking for working latex ... OK
>      * using log directory `/home/andyj/stat/R-1.4.1/library/ctest.Rcheck'

I see, you are running R CMD check on the binary version of the package.
The binaries were made during the "global":

 ./configure
 make


>      Installing *source* package `ctest' ...
>       R
>       help
>       >>> Building/Updating help pages for package `ctest'
>       Formats: text html latex example
> 
>       At this point R hangs.
> 
> (2) Just installed 1.4.1 on Win200 using Prof. Ripley single file installer
> 
>      c:/R/rw1041/library > Rcmd.exe check ctest

The binary package is installed at this place, but Rcmd CHECK is
designed for the source package.


>      * checking for working latex ... OK
>      * using log directory `/cygdrive/c/R/rw1041/library/ctest.Rcheck'
> 
>      make: Entering directory `/cygdrive/c/R/rw1041/src/gnuwin32'
>      make DLLNM= \
>      -C /cygdrive/c/R/rw1041/library/ctest PKG=ctest
> RHOME=/cygdrive/c/R/rw1041 RLI
>      B=/cygdrive/c/R/rw1041/library/ctest.Rcheck \
>      -f /cygdrive/c/R/rw1041/src/gnuwin32/MakePkg
>      make[1]: Entering directory `/cygdrive/c/R/rw1041/library/ctest'
>      ---------- Making package ctest ------------
>      mkdir -p /cygdrive/c/R/rw1041/library/ctest.Rcheck/ctest
>      cp -r   ./INDEX  ./TITLE ./CONTENTS ./R-ex ./chtml ./help ./html
> ./latex ./libs
>      /cygdrive/c/R/rw1041/library/ctest.Rcheck/ctest/
>      adding build stamp to DESCRIPTION
>      no R files in this package

Right, because it's the binary version, and CHECK makes no sense.


>      installing man source files
> 
>      At this point Rcmd hangs also.
> 
> In both cases the problems seems to be that the $R_HOME/library/ctest/R
> never gets copied to the ctest.Rcheck/ctest.  In the Windows case there is
> no man directory in ctest, but an empty one is created in ctest.Rcheck.


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jan 30 22:57:57 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 30 Jan 2002 21:57:57 +0000 (GMT)
Subject: [R] 1.4.1 R CMD check broken?
In-Reply-To: <OF218FFCD0.DD1E4ED4-ON86256B51.0071B1A0@mmm.com>
Message-ID: <Pine.GSO.4.31.0201302150300.24558-100000@auk.stats>

Why do *you* need to check ctest? What were you going to do with it
if it failed?

My surmise is that you are running this in a binary installation,
not in the source tree.  No one said you could check on installed packages
in a binary installation.

On Wed, 30 Jan 2002 apjaworski at mmm.com wrote:

> I am not sure if this is already known.  I checked BUGS and found some
> references to similar behavior when R_HOME is set?
>
> Here is what I get:
>
> (1) Fresh build of 1.4.1 under Linux/RH-7.2. All tests pass.
>
>       > R CMD check ctest
>      * checking for working latex ... OK
>      * using log directory `/home/andyj/stat/R-1.4.1/library/ctest.Rcheck'
>
>      Installing *source* package `ctest' ...
>       R
>       help
>       >>> Building/Updating help pages for package `ctest'
>       Formats: text html latex example
>
>       At this point R hangs.
>
> (2) Just installed 1.4.1 on Win200 using Prof. Ripley single file installer
>
>
>      c:/R/rw1041/library > Rcmd.exe check ctest
>      * checking for working latex ... OK
>      * using log directory `/cygdrive/c/R/rw1041/library/ctest.Rcheck'
>
>      make: Entering directory `/cygdrive/c/R/rw1041/src/gnuwin32'
>      make DLLNM= \
>      -C /cygdrive/c/R/rw1041/library/ctest PKG=ctest
> RHOME=/cygdrive/c/R/rw1041 RLI
>      B=/cygdrive/c/R/rw1041/library/ctest.Rcheck \
>      -f /cygdrive/c/R/rw1041/src/gnuwin32/MakePkg
>      make[1]: Entering directory `/cygdrive/c/R/rw1041/library/ctest'
>      ---------- Making package ctest ------------
>      mkdir -p /cygdrive/c/R/rw1041/library/ctest.Rcheck/ctest
>      cp -r   ./INDEX  ./TITLE ./CONTENTS ./R-ex ./chtml ./help ./html
> ./latex ./libs
>      /cygdrive/c/R/rw1041/library/ctest.Rcheck/ctest/
>      adding build stamp to DESCRIPTION
>      no R files in this package
>      installing man source files
>
>      At this point Rcmd hangs also.
>
> In both cases the problems seems to be that the $R_HOME/library/ctest/R
> never gets copied to the ctest.Rcheck/ctest.  In the Windows case there is
> no man directory in ctest, but an empty one is created in ctest.Rcheck.

It shouldn't get copied: it should get installed.  I think you are running
this in a binary installation: at least on Windows it is not supposed to
work except for addon packages or on a source installation.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ycheng at cooperinst.org  Wed Jan 30 23:10:32 2002
From: ycheng at cooperinst.org (Cheng, Yiling)
Date: Wed, 30 Jan 2002 16:10:32 -0600
Subject: [R] question from a beginner
Message-ID: <55686C29832DD311A3CF00902784B9C298F7E8@CICORP>

Dear there,
   R is pretty flexible and powerful. I wonder whether there are any GUI
programs to
 do basic statistic work by just clicking menu and selecting procedure.
   Thank you for your time.
Yiling

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Thu Jan 31 00:08:04 2002
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Wed, 30 Jan 2002 17:08:04 -0600
Subject: [R] 1.4.1 R CMD check broken?
Message-ID: <OF9FB136D8.B07B371F-ON86256B51.007F0BF1@mmm.com>


Thanks for all who responded to this.

I guess I did nor realize that the check should only be run on the packages
installed from sources.

There was no particular reason for me to check ctest.  I used to install R
on my Win machine in the "Program Files" folder.  The space in path seems
to break some Perl scripts, so when I tried to run Rcmd check, it would
complain that it could not find "C:/Program" or something similar.  I
installed the newest version in C:/R and was simply trying to see if I
could run Rcmd check.

Thanks again,

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122


                                                                                                                                               
                    apjaworski at mmm.                                                                                                            
                    com                  To:     r-help at stat.math.ethz.ch                                                                      
                                         cc:     (bcc: Andrzej P. Jaworski/US-Corporate/3M/US)                                                 
                    01/30/2002           Subject:     [R] 1.4.1 R CMD check broken?                                                            
                    03:19 PM                                                                                                                   
                                                                                                                                               
                                                                                                                                               





I am not sure if this is already known.  I checked BUGS and found some
references to similar behavior when R_HOME is set?

Here is what I get:

(1) Fresh build of 1.4.1 under Linux/RH-7.2. All tests pass.

      > R CMD check ctest
     * checking for working latex ... OK
     * using log directory `/home/andyj/stat/R-1.4.1/library/ctest.Rcheck'

     Installing *source* package `ctest' ...
      R
      help
      >>> Building/Updating help pages for package `ctest'
      Formats: text html latex example

      At this point R hangs.

(2) Just installed 1.4.1 on Win200 using Prof. Ripley single file installer


     c:/R/rw1041/library > Rcmd.exe check ctest
     * checking for working latex ... OK
     * using log directory `/cygdrive/c/R/rw1041/library/ctest.Rcheck'

     make: Entering directory `/cygdrive/c/R/rw1041/src/gnuwin32'
     make DLLNM= \
     -C /cygdrive/c/R/rw1041/library/ctest PKG=ctest
RHOME=/cygdrive/c/R/rw1041 RLI
     B=/cygdrive/c/R/rw1041/library/ctest.Rcheck \
     -f /cygdrive/c/R/rw1041/src/gnuwin32/MakePkg
     make[1]: Entering directory `/cygdrive/c/R/rw1041/library/ctest'
     ---------- Making package ctest ------------
     mkdir -p /cygdrive/c/R/rw1041/library/ctest.Rcheck/ctest
     cp -r   ./INDEX  ./TITLE ./CONTENTS ./R-ex ./chtml ./help ./html
./latex ./libs
     /cygdrive/c/R/rw1041/library/ctest.Rcheck/ctest/
     adding build stamp to DESCRIPTION
     no R files in this package
     installing man source files

     At this point Rcmd hangs also.

In both cases the problems seems to be that the $R_HOME/library/ctest/R
never gets copied to the ctest.Rcheck/ctest.  In the Windows case there is
no man directory in ctest, but an empty one is created in ctest.Rcheck.

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Richard.Rowe at jcu.edu.au  Thu Jan 31 00:39:23 2002
From: Richard.Rowe at jcu.edu.au (Richard Rowe)
Date: Thu, 31 Jan 2002 09:39:23 +1000
Subject: [R] How to add error bars to plot(x,y)in R?
In-Reply-To: <Pine.OSF.3.96.1020125102720.8203B-100000@ija.csic.es>
References: <15440.48889.290304.896398@sonny.eddelbuettel.com>
Message-ID: <5.0.0.25.1.20020131093044.031d19e0@pop.jcu.edu.au>

At 10:29 25/01/02 +0100, you wrote:

>On Thu, 24 Jan 2002, Dirk Eddelbuettel wrote:
>
> >
> >   "Ming" == mingliz2  <mingliz2 at netscape.net> writes:
> >   Ming>  Dear R Experts, Is there a way in R to add an error bar (say 
> in the
> >   Ming> y direction) for each data point?
> >
> > This is a FAQ. Here is but one reply from the mailing list.
> >.../...
> >
> >      This comes up as a FAQ every so often (it hasn't yet been added to the
> >    official FAQ list), you can find it in the mail archives in several
> >    places.
>
>
>The real solution would be adding this feature as an option
>to plot.

Respectfully I disagree as the conventions for 'error bars' differ in 
different branches of science and engineering.  Users are often/generally 
oblivious to the other conventions and will presume their preference is 
being implemented. Perhaps adding a 'script' directory to plot and 
incorporating the straightforward plotting function there might be a way to 
go, in this way users have to understand and to insert their own desired 
'confidence interval',


Richard Rowe
Senior Lecturer
Department of Zoology and Tropical Ecology, James Cook University
Townsville, Queensland 4811, Australia
fax (61)7 47 25 1570
phone (61)7 47 81 4851
e-mail: Richard.Rowe at jcu.edu.au
http://www.jcu.edu.au/school/tbiol/zoology/homepage.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Jan 31 00:49:00 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 30 Jan 2002 18:49:00 -0500 (EST)
Subject: [R] question from a beginner
In-Reply-To: <55686C29832DD311A3CF00902784B9C298F7E8@CICORP>
Message-ID: <Pine.LNX.4.30.0201301833510.5723-100000@bolker.zoo.ufl.edu>


  No, not really.
  There are some facilities if you want to *design* GUIs for other people
to use, e.g. the Tcl/Tk extensions or Rweb (www.math.montana.edu/Rweb/),
but nothing where you can start from scratch with an arbitrary set of
data.  R is much more process-oriented: if you know what you want to do
(linear regression, ANOVA, etc.), it should be fairly easy to find the
commands that do what you want.  S-PLUS has GUI facilities, although I
haven't tried them.  I think there is a fairly strong philosophy among
most R developers that the "right" way to do things is to learn some of
the underlying foundations so that you can really understand what you are
doing.  It is easier to go wrong with GUIs -- although there are lots of
confounding factors, and GUIs can be designed in better or worse ways.

  Ben

On Wed, 30 Jan 2002, Cheng, Yiling wrote:

> Dear there,
>    R is pretty flexible and powerful. I wonder whether there are any GUI
> programs to
>  do basic statistic work by just clicking menu and selecting procedure.
>    Thank you for your time.
> Yiling
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hzi at uol.com.br  Thu Jan 31 04:17:45 2002
From: hzi at uol.com.br (hzi@uol.com.br)
Date: Thu, 31 Jan 2002 01:17:45 -0200
Subject: [R] Is there a function to plot a Pareto diagram?
Message-ID: <20020131011745.A6526@uol.com.br>

Hi-

	Is there a quick way to plot a Pareto diagram?
	I couldn't find one. I'm being forced to do some pretty weird stuff,
	with awk and all, to extract data in order to plot the frequency of
	qualitative data from a larger set. Perhaps it's just my GNUrance.
	I mean, one day, if I have time, I might even write a generic Perl script,
	but right now, it doesn't look too good on the client side, if you know
	what I mean.

	(And what's with the hist function? __Not__ how I learned...)
	
	TIA,
	Regs,
	Henry L.
	
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hzi at uol.com.br  Thu Jan 31 04:24:00 2002
From: hzi at uol.com.br (hzi@uol.com.br)
Date: Thu, 31 Jan 2002 01:24:00 -0200
Subject: [R] question from a beginner
In-Reply-To: <Pine.LNX.4.30.0201301833510.5723-100000@bolker.zoo.ufl.edu>; from ben@zoo.ufl.edu on Wed, Jan 30, 2002 at 06:49:00PM -0500
References: <55686C29832DD311A3CF00902784B9C298F7E8@CICORP> <Pine.LNX.4.30.0201301833510.5723-100000@bolker.zoo.ufl.edu>
Message-ID: <20020131012400.B6526@uol.com.br>

On Wed, Jan 30, 2002 at 06:49:00PM -0500, Ben Bolker wrote:
> 
>   No, not really.
>   There are some facilities if you want to *design* GUIs for other people
> to use, e.g. the Tcl/Tk extensions or Rweb (www.math.montana.edu/Rweb/),
> but nothing where you can start from scratch with an arbitrary set of
> data.  R is much more process-oriented: if you know what you want to do
> (linear regression, ANOVA, etc.), it should be fairly easy to find the
> commands that do what you want.  S-PLUS has GUI facilities, although I
> haven't tried them.  I think there is a fairly strong philosophy among
> most R developers that the "right" way to do things is to learn some of
> the underlying foundations so that you can really understand what you are
> doing.  It is easier to go wrong with GUIs -- although there are lots of
> confounding factors, and GUIs can be designed in better or worse ways.
>

	As true as it what you've said may be, one sometimes wishes for a little GUI
functionality.
	If one __were__ to develop (say something with Tk), or any other contribution
in that sense, how could one distribute it)?
	Little tedious things like summary and histograms...

	Cheers,

	Henry L

















>   Ben
> 
> On Wed, 30 Jan 2002, Cheng, Yiling wrote:
> 
> > Dear there,
> >    R is pretty flexible and powerful. I wonder whether there are any GUI
> > programs to
> >  do basic statistic work by just clicking menu and selecting procedure.
> >    Thank you for your time.
> > Yiling
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> 318 Carr Hall                                bolker at zoo.ufl.edu
> Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
> Box 118525                                   (ph)  352-392-5697
> Gainesville, FL 32611-8525                   (fax) 352-392-3704
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 31 09:02:18 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 31 Jan 2002 08:02:18 +0000 (GMT)
Subject: [R] 1.4.1 R CMD check broken?
In-Reply-To: <OF9FB136D8.B07B371F-ON86256B51.007F0BF1@mmm.com>
Message-ID: <Pine.GSO.4.31.0201310759510.29093-100000@auk.stats>

On Wed, 30 Jan 2002 apjaworski at mmm.com wrote:

>
> Thanks for all who responded to this.
>
> I guess I did nor realize that the check should only be run on the packages
> installed from sources.
>
> There was no particular reason for me to check ctest.  I used to install R
> on my Win machine in the "Program Files" folder.  The space in path seems
> to break some Perl scripts, so when I tried to run Rcmd check, it would
> complain that it could not find "C:/Program" or something similar.  I
> installed the newest version in C:/R and was simply trying to see if I
> could run Rcmd check.

The warning is still there in (in several places) not to install in a path
with spaces in if you want to use source packages.

This is relaxed in R-devel, but not the sort of thing done in a patch
release.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Thu Jan 31 09:18:36 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Thu, 31 Jan 2002 21:18:36 +1300
Subject: [R] Is there a function to plot a Pareto diagram?
In-Reply-To: <20020131011745.A6526@uol.com.br>; from hzi@uol.com.br on Thu, Jan 31, 2002 at 01:17:45AM -0200
References: <20020131011745.A6526@uol.com.br>
Message-ID: <20020131211836.A1116@camille.indigoindustrial.co.nz>

On Thu, Jan 31, 2002 at 01:17:45AM -0200, hzi at uol.com.br wrote:
> Hi-
> 
> 	Is there a quick way to plot a Pareto diagram?


Yup.  You can find it quite easily if you go to the R search engine:

http://finzi.psych.upenn.edu/search.html

and type in "pareto chart" to get an immediate answer, rather than
waiting for the list to get your message out. 

(the short answer is at: 
http://finzi.psych.upenn.edu/R/Rhelp/archive/5227.html  )


> 	(And what's with the hist function? __Not__ how I learned...)

Um, could be a little more specific..?  What did you learn?  From whom?
What surprised you? etc.

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.Lundqvist at ies.luth.se  Thu Jan 31 09:42:18 2002
From: Robert.Lundqvist at ies.luth.se (Robert Lundqvist)
Date: Thu, 31 Jan 2002 09:42:18 +0100
Subject: [R] Add item to scale?
Message-ID: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFC5@marge.ies.ad.ltu.se>

Hi,

many thanks for all suggestions as to shading of areas. Now to another small
detail: how do I add items to the x-axis? Given a plot of "dnorm", I'd like
to add some text to the x-axis, preferably with a corresponding tick mark.
Imagine the typical \lambda demarcating a tail area. So far, I've only been
able to add text in the plot region, not in the one of the axes.
Suggestions?

Robert
****************
Robert Lundqvist
Dept of Quality Technology & Statistics
Lulea University of Technology
Sweden
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jan 31 10:01:27 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 31 Jan 2002 10:01:27 +0100
Subject: [R] Add item to scale?
References: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFC5@marge.ies.ad.ltu.se>
Message-ID: <3C5907E7.63EC1F1B@statistik.uni-dortmund.de>



Robert Lundqvist wrote:
> 
> Hi,
> 
> many thanks for all suggestions as to shading of areas. Now to another small
> detail: how do I add items to the x-axis? Given a plot of "dnorm", I'd like
> to add some text to the x-axis, preferably with a corresponding tick mark.
> Imagine the typical \lambda demarcating a tail area. So far, I've only been
> able to add text in the plot region, not in the one of the axes.
> Suggestions?

Two solutions:
 mtext() for placing text into the margins or
 text() after par(xpd=TRUE)

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Jan 31 10:05:50 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 31 Jan 2002 10:05:50 +0100
Subject: [R] R-help & -devel mailing lists : indigestion problems
Message-ID: <15449.2286.705554.871645@gargle.gargle.HOWL>

Because of a lapsus on my side and then a problematic server
re-boot at just the wrong time,  the daily digest versions of the R mailing
lists (see the lower part of http://www.r-project.org/mail.html)
haven't been delivered in time, unfortunately.
I'm sending this message just *before* starting the digest
manually for today. I hope this won't happen anymore.

Apropos, I'd like to `advertize' the digest lists to all
R-help readers who feel they can't cope with the daily amount
of traffic anymore (should you rather use more than one mail
		    inbox, e.g. using procmail and/or emacs+Gnus?) :

To keep the volume low, I'd recommend subscribing to both
R-announce and R-help-digest.

Your list maintainer,
Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 31 10:12:32 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 31 Jan 2002 09:12:32 +0000 (GMT)
Subject: [R] Add item to scale?
In-Reply-To: <3C5907E7.63EC1F1B@statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.31.0201310908400.2146-100000@gannet.stats>

On Thu, 31 Jan 2002, Uwe Ligges wrote:

>
>
> Robert Lundqvist wrote:
> >
> > Hi,
> >
> > many thanks for all suggestions as to shading of areas. Now to another small
> > detail: how do I add items to the x-axis? Given a plot of "dnorm", I'd like
> > to add some text to the x-axis, preferably with a corresponding tick mark.
> > Imagine the typical \lambda demarcating a tail area. So far, I've only been
> > able to add text in the plot region, not in the one of the axes.
> > Suggestions?
>
> Two solutions:
>  mtext() for placing text into the margins or
>  text() after par(xpd=TRUE)

or perhaps easier, use axis() with at= and label=.  This will draw another
axis line, but normally that is not a problem (especially for one value of
`at').

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From steinep at uni-muenster.de  Thu Jan 31 10:55:58 2002
From: steinep at uni-muenster.de (Petra Steiner)
Date: Thu, 31 Jan 2002 10:55:58 +0100
Subject: [R] Passing parameters with Rcmd BATCH
Message-ID: <005d01c1aa3d$7c8fa440$65ecb080@oemcomputer>

Hello!

How can I pass arguments with Rcmd BATCH and commandArgs() ?

"Rcmd BATCH myparameter input.R output" 

and similar permutations do not work.

Thanks for your help!

Petra Steiner

-
---------------------------------------------------
Petra Steiner                          
Arbeitsbereich Linguistik       
Universitaet Muenster         
Huefferstrasse 27                   
48149  Muenster                   
                                             
Tel: 0251 / 83 39442            
petra at marley.uni-muenster.de  


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 31 11:04:45 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 31 Jan 2002 10:04:45 +0000 (GMT)
Subject: [R] Passing parameters with Rcmd BATCH
In-Reply-To: <005d01c1aa3d$7c8fa440$65ecb080@oemcomputer>
Message-ID: <Pine.GSO.4.31.0201310952330.29222-100000@auk.stats>

On Thu, 31 Jan 2002, Petra Steiner wrote:

> Hello!
>
> How can I pass arguments with Rcmd BATCH and commandArgs() ?
>
> "Rcmd BATCH myparameter input.R output"
>
> and similar permutations do not work.

They do not work, and they are documented not to work: try Rcmd BATCH
--help.

A convenient way is to use environental variables, and the easiest way to
do that is

Rterm --restore --save < input.R > output MYPAR=foo

and in input.R

mypar <- Sys.getenv("MYPAR")

My recollection is that you *can* add parameters to the command line with
Rterm and use commandArgs(), but this is not a documented feature.  Duncan
Temple Lang has been promising it (on all ports of R) from time to time.

(What does work on Windows but is undocumented (it supports file
associations) is to append to the command line of Rgui or Rterm the path to
a .RData file, which is used in place of the one in the working directory.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hjm at holos.pt  Thu Jan 31 11:11:48 2002
From: hjm at holos.pt (Hugo Morganho)
Date: Thu, 31 Jan 2002 10:11:48 +0000
Subject: [R] Problems with tree package
In-Reply-To: <20020131012400.B6526@uol.com.br>
References: <Pine.LNX.4.30.0201301833510.5723-100000@bolker.zoo.ufl.edu>
 <55686C29832DD311A3CF00902784B9C298F7E8@CICORP>
 <Pine.LNX.4.30.0201301833510.5723-100000@bolker.zoo.ufl.edu>
Message-ID: <5.0.0.25.0.20020131100828.03390c80@127.0.0.1>

	Hi,
	I'm getting a problem with the tree package under windows nt
	I'm using the package to produce a tree. The training set has +- 4000 
examples.
	I use the instruction

	hm.tr <-tree(X1~.,teste2)

	wich produces me this tree

   1) root 4272 4037.000 0 ( 0.819288 0.180712 )
     2) X2: 0 1640 2261.000 0 ( 0.543902 0.456098 )
       4) X4: 0 357  170.600 1 ( 0.064426 0.935574 ) *
       5) X4: 1 1283 1614.000 0 ( 0.677319 0.322681 )
        10) X8: 0 849 1172.000 0 ( 0.538280 0.461720 )
          20) X34: 0 701  965.800 1 ( 0.453638 0.546362 )
            40) X20: 0 618  823.800 1 ( 0.385113 0.614887 )
              80) X31: 0 516  629.100 1 ( 0.298450 0.701550 )
               160) X3: 0 247  166.200 1 ( 0.105263 0.894737 ) *
               161) X3: 1 269  372.300 1 ( 0.475836 0.524164 )
                 322) X35: 0 200  262.500 0 ( 0.635000 0.365000 )
                   644) X30: 0 99  131.900 1 ( 0.383838 0.616162 ) *
                   645) X30: 1 101   73.640 0 ( 0.881188 0.118812 ) *
                 323) X35: 1 69   10.450 1 ( 0.014493 0.985507 ) *
              81) X31: 1 102   95.060 0 ( 0.823529 0.176471 ) *
            41) X20: 1 83   25.810 0 ( 0.963855 0.036145 ) *
          21) X34: 1 148   67.840 0 ( 0.939189 0.060811 ) *
        11) X8: 1 434  174.100 0 ( 0.949309 0.050691 ) *
     3) X2: 1 2632  273.300 0 ( 0.990881 0.009119 )
       6) X9: 0 2553  152.600 0 ( 0.995300 0.004700 ) *
       7) X9: 1 79   67.310 0 ( 0.848101 0.151899 )
        14) X32: 0 12    6.884 1 ( 0.083333 0.916667 ) *
        15) X32: 1 67   10.390 0 ( 0.985075 0.014925 ) *

when i used this examples to classificate

 > classifica
   X1 X2 X3 X4 X5 X6 X7 X8 X9 X10 X11 X12 X13 X14 X15 X16 X17 X18 X19 X20 X21
1  0  1  0  0  0  0  0  0  0   0   0   0   0   0   0   0   0   0   0   0   0
   X22 X23 X24 X25 X26 X27 X28 X29 X30 X31 X32 X33 X34 X35 X36
1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
 > predict(hm.tr,classifica,"where")
1
3
 > classifica[1,2]<-0
 > predict(hm.tr,classifica,"where")
1
1

i have this result.
In the first example, as X2 is 1 and X9 is 0 shouldn't result 20?
Is this a problem of the package or i'm i using it inciorrectly?

Thanks
Hugo 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Detlef.Steuer at unibw-hamburg.de  Thu Jan 31 11:26:11 2002
From: Detlef.Steuer at unibw-hamburg.de (Detlef Steuer)
Date: Thu, 31 Jan 2002 11:26:11 +0100 (CET)
Subject: [R] Add item to scale?
In-Reply-To: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFC5@marge.ies.ad.ltu.se>
Message-ID: <XFMail.20020131112611.steuer@unibw-hamburg.de>


On 31-Jan-2002 Robert Lundqvist wrote:
> Hi,
> 
> many thanks for all suggestions as to shading of areas. Now to another small
> detail: how do I add items to the x-axis? Given a plot of "dnorm", I'd like
> to add some text to the x-axis, preferably with a corresponding tick mark.
> Imagine the typical \lambda demarcating a tail area. So far, I've only been
> able to add text in the plot region, not in the one of the axes.
> Suggestions?

Look at  plot(...., axes=FALSE) and help(axis).
Hope this helps,

detlef


> 
> Robert
> ****************
> Robert Lundqvist
> Dept of Quality Technology & Statistics
> Lulea University of Technology
> Sweden
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _

Detlef Steuer --- http://fawn.unibw-hamburg.de/steuer.html

***** Encrypted mail preferred *****
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Thu Jan 31 11:39:16 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Thu, 31 Jan 2002 11:39:16 +0100 (MET)
Subject: [R] Problems with tree package
In-Reply-To: <5.0.0.25.0.20020131100828.03390c80@127.0.0.1>
Message-ID: <Pine.LNX.4.21.0201311136170.17468-100000@artemis.imbe.med.uni-erlangen.de>

> 	Hi,
> 	I'm getting a problem with the tree package under windows nt
> 	I'm using the package to produce a tree. The training set has +- 4000 
> examples.
> 	I use the instruction
> 
> 	hm.tr <-tree(X1~.,teste2)
> 
> 	wich produces me this tree
> 
>    1) root 4272 4037.000 0 ( 0.819288 0.180712 )
>      2) X2: 0 1640 2261.000 0 ( 0.543902 0.456098 )
>        4) X4: 0 357  170.600 1 ( 0.064426 0.935574 ) *
>        5) X4: 1 1283 1614.000 0 ( 0.677319 0.322681 )
>         10) X8: 0 849 1172.000 0 ( 0.538280 0.461720 )
>           20) X34: 0 701  965.800 1 ( 0.453638 0.546362 )
>             40) X20: 0 618  823.800 1 ( 0.385113 0.614887 )
>               80) X31: 0 516  629.100 1 ( 0.298450 0.701550 )
>                160) X3: 0 247  166.200 1 ( 0.105263 0.894737 ) *
>                161) X3: 1 269  372.300 1 ( 0.475836 0.524164 )
>                  322) X35: 0 200  262.500 0 ( 0.635000 0.365000 )
>                    644) X30: 0 99  131.900 1 ( 0.383838 0.616162 ) *
>                    645) X30: 1 101   73.640 0 ( 0.881188 0.118812 ) *
>                  323) X35: 1 69   10.450 1 ( 0.014493 0.985507 ) *
>               81) X31: 1 102   95.060 0 ( 0.823529 0.176471 ) *
>             41) X20: 1 83   25.810 0 ( 0.963855 0.036145 ) *
>           21) X34: 1 148   67.840 0 ( 0.939189 0.060811 ) *
>         11) X8: 1 434  174.100 0 ( 0.949309 0.050691 ) *
>      3) X2: 1 2632  273.300 0 ( 0.990881 0.009119 )
>        6) X9: 0 2553  152.600 0 ( 0.995300 0.004700 ) *
>        7) X9: 1 79   67.310 0 ( 0.848101 0.151899 )
>         14) X32: 0 12    6.884 1 ( 0.083333 0.916667 ) *
>         15) X32: 1 67   10.390 0 ( 0.985075 0.014925 ) *
> 
> when i used this examples to classificate
> 
>  > classifica
>    X1 X2 X3 X4 X5 X6 X7 X8 X9 X10 X11 X12 X13 X14 X15 X16 X17 X18 X19 X20 X21
> 1  0  1  0  0  0  0  0  0  0   0   0   0   0   0   0   0   0   0   0   0   0
>    X22 X23 X24 X25 X26 X27 X28 X29 X30 X31 X32 X33 X34 X35 X36
> 1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
>  > predict(hm.tr,classifica,"where")
> 1
> 3
>  > classifica[1,2]<-0
>  > predict(hm.tr,classifica,"where")
> 1
> 1

hm.tr$where corresponds to the row of hm.tr$frame where rownames codes for
the leaf numbers, e.g.

R> example(rpart)
R> fit
n= 81 

node), split, n, loss, yval, (yprob)
      * denotes terminal node

 1) root 81 17 absent (0.7901235 0.2098765)  
   2) Start>=8.5 62  6 absent (0.9032258 0.0967742)  
     4) Start>=14.5 29  0 absent (1.0000000 0.0000000) *
     5) Start< 14.5 33  6 absent (0.8181818 0.1818182)  
      10) Age< 55 12  0 absent (1.0000000 0.0000000) *
      11) Age>=55 21  6 absent (0.7142857 0.2857143)  
        22) Age>=111 14  2 absent (0.8571429 0.1428571) *
        23) Age< 111 7  3 present (0.4285714 0.5714286) *
   3) Start< 8.5 19  8 present (0.4210526 0.5789474) *

but

R> fit$frame[,1:3]
      var  n wt
1   Start 81 81
2   Start 62 62
4  <leaf> 29 29
5     Age 33 33
10 <leaf> 12 12
11    Age 21 21
22 <leaf> 14 14
23 <leaf>  7  7
3  <leaf> 19 19

has the node numbers as rownames and 

> fit$where
 1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25
26 
 9  7  9  9  3  3  3  3  3  8  8  3  9  5  3  3  3  7  3  5  3  9  8  9  9
5 

...

refers to row-numbers !

Torsten


> 
> i have this result.
> In the first example, as X2 is 1 and X9 is 0 shouldn't result 20?
> Is this a problem of the package or i'm i using it inciorrectly?
> 
> Thanks
> Hugo 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Jan 31 11:46:11 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 31 Jan 2002 10:46:11 +0000
Subject: [R] read zips
In-Reply-To: <3C57F62E.44E6CE6@mcgill.ca>
References: <3C57F62E.44E6CE6@mcgill.ca>
Message-ID: <s+fDndAzBSW8Ew+q@myatt.demon.co.uk>

Heberto Ghezzo <heberto.ghezzo at mcgill.ca> writes:
>Hello, I have to read ASCII files with readLine. Some of these files are
>big. I receive these files in zip format, then unzip and read into R to
>process.
>Is it possible to read directly the Zip file? Help is zipped so the
>tools to unzip while reading are there, is it possible to use them from
>my package?

You can to extract the files from within R and then use readLines() or
whatever to read them. I think you can use zip.file.extract() but this
function is internal and not stable. On Windows you can use
zip.unpack(). Another approach is to call the unzipper with shell() or
system().

The function gzfile() was, I think, introduced in v1.3.0 and allows
reading and writing to gzipped files. I think you need to have gzip
installed (all Linux systems should have this installed by default or
you would not be able to install compressed tarballs). I have not used
this function so I cant tell you if there are any oddities.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Jan 31 11:45:34 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 31 Jan 2002 10:45:34 +0000
Subject: [R] Is there a function to plot a Pareto diagram?
In-Reply-To: <20020131011745.A6526@uol.com.br>
References: <20020131011745.A6526@uol.com.br>
Message-ID: <tuADTaAOBSW8Ew$L@myatt.demon.co.uk>

hzi at uol.com.br writes:
>Hi-
>
>       Is there a quick way to plot a Pareto diagram?
>       I couldn't find one. I'm being forced to do some pretty weird stuff,
>       with awk and all, to extract data in order to plot the frequency of
>       qualitative data from a larger set. Perhaps it's just my GNUrance.
>       I mean, one day, if I have time, I might even write a generic Perl 
>script,
>       but right now, it doesn't look too good on the client side, if you know
>       what I mean.

It's a matter of sorting in revers order the values in a table and
passing that to barplot():

        barplot(rev(sort(table(my.variable))))

as in:

        data(attenu)
        barplot(rev(sort(table(attenu$event))))

Get rid of the colours using the col parameter:

        barplot(rev(sort(table(attenu$event))), col = "white")

I hope that helps,

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From RGIORGI at mail.ap-hm.fr  Thu Jan 31 13:53:35 2002
From: RGIORGI at mail.ap-hm.fr (GIORGI Roch)
Date: Thu, 31 Jan 2002 13:53:35 +0100
Subject: [R] Leaps and bound
Message-ID: <945D7ABABF6AFB43877CAFC1B123260F07607F@SRVMAIL2>

Hi,

I used the bic.surv function, S-PLUS functions developed by Chris Volinsky
http://www.research.att.com/~volinsky/bma.html, without problems with
S-PLUS.

I have to use it with R but I am face with a problem: this function call a
fortran routine named "leaps" (answer <- .Fortran("leaps", arguments)). I
loaded the leaps library, and the leaps function work well with my R, but
there is no Fortran routine named "leaps" within it. 

Do you know in what package I can find the "leaps" Fortran routine or what
is the R version of the S-PLUS "leaps" Fortran routine (if exist)?

Thanks

Roch

-------------------------------------------------------------------
| Roch GIORGI                       |                             |
| Service de l'Information M?dicale |                             |
| H?pital de la Timone - Adultes    |  T?l : +33 (0)4 91 38 70 84 |
| 264, rue St Pierre                |  Fax : +33 (0)4 91 38 57 49 |
| 13385 Marseille Cedex 05          |  Email: rgiorgi at ap-hm.fr
<mailto:rgiorgi at ap-hm.fr>     |
| FRANCE                            |                             |
| http://cybertim.timone.univ-mrs.fr/cybertim
<http://cybertim.timone.univ-mrs.fr/cybertim>                 |
-------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alqamy at lycos.com  Thu Jan 31 14:34:55 2002
From: alqamy at lycos.com (Husam  Alqamy)
Date: Thu, 31 Jan 2002 15:34:55 +0200
Subject: [R] Help with Bootstrap function.
Message-ID: <IENBPJEBDDCBEBAA@mailcity.com>

Dear List
I am using R with mcgv package to model spatial variation in density estimates of dorcas gazelle in Sinai. I have 59 points of data and 4 explanatory variables(distance from mountain edge, camel presence, Latitude & Longitude). I want to test the model fir via bootstraping. I have used the jacknife bootstraping but it have the limitation of allowing only 58 trials. I tried to use the bootstrap function in R but I couldn;t understand the help file description. Please forgive my novice with such advance statistics since I am a biologist.
I would appreciate any help on advicing on how to use the bootstrap function in R.
Thanks in advance 
Husam El Alqamy
----------------------------------------
Biologist Ranger
St. Katherine Protectorate
South Sinai,
EGYPT
----------------------------------------
tel 002-069-470032 
Fax 002-069-470033
----------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Thu Jan 31 15:09:05 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Thu, 31 Jan 2002 09:09:05 -0500 (EST)
Subject: [R] question from a beginner
In-Reply-To: <20020131012400.B6526@uol.com.br>
Message-ID: <Pine.LNX.4.21L1.0201310908070.8643-100000@hm269-26876.socsci.unc.edu>

On Thu, 31 Jan 2002 hzi at uol.com.br wrote:

> On Wed, Jan 30, 2002 at 06:49:00PM -0500, Ben Bolker wrote:
> > 
> >   No, not really.
> >   There are some facilities if you want to *design* GUIs for other people
> > to use, e.g. the Tcl/Tk extensions or Rweb (www.math.montana.edu/Rweb/),
> > but nothing where you can start from scratch with an arbitrary set of
> > data.  R is much more process-oriented: if you know what you want to do
> > (linear regression, ANOVA, etc.), it should be fairly easy to find the
> > commands that do what you want.  S-PLUS has GUI facilities, although I
> > haven't tried them.  I think there is a fairly strong philosophy among
> > most R developers that the "right" way to do things is to learn some of
> > the underlying foundations so that you can really understand what you are
> > doing.  It is easier to go wrong with GUIs -- although there are lots of
> > confounding factors, and GUIs can be designed in better or worse ways.
> >
> 
> 	As true as it what you've said may be, one sometimes wishes for a little GUI
> functionality.
> 	If one __were__ to develop (say something with Tk), or any other contribution
> in that sense, how could one distribute it)?
> 	Little tedious things like summary and histograms...
> 
> 	Cheers,
> 
> 	Henry L
> 
> 


Distribution doesn't seem hard -- tar it up and stick it on a website
somewhere. The real problem is developing it in such a way that it's
useful but doesn't gloss over too much of the underlying mathematics.

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Thu Jan 31 15:20:58 2002
From: chong at stat.purdue.edu (Chong Gu)
Date: Thu, 31 Jan 2002 09:20:58 -0500
Subject: [R] Help with Bootstrap function.
In-Reply-To: <IENBPJEBDDCBEBAA@mailcity.com> (alqamy@lycos.com)
Message-ID: <200201311420.JAA78484@odds.stat.purdue.edu>


   Date: Thu, 31 Jan 2002 15:34:55 +0200
   From: "Husam  Alqamy" <alqamy at lycos.com>
   Mime-Version: 1.0
   X-Sent-Mail: off
   Reply-To: alqamy at lycos.com
   X-Mailer: MailCity Service
   X-Priority: 3
   X-Sender-Ip: 213.131.66.41
   Organization: Lycos Mail  (http://mail.lycos.com:80)
   Content-Type: text/plain; charset=us-ascii
   Content-Language: en
   Content-Transfer-Encoding: 7bit
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: SfS-bulk

   Dear List
   I am using R with mcgv package to model spatial variation in density estimates of dorcas gazelle in Sinai. I have 59 points of data and 4 explanatory variables(distance from mountain edge, camel presence, Latitude & Longitude). I want to test the model fir via bootstraping. I have used the jacknife bootstraping but it have the limitation of allowing only 58 trials. I tried to use the bootstrap function in R but I couldn;t understand the help file description. Please forgive my novice with such advance statistics since I am a biologist.
   I would appreciate any help on advicing on how to use the bootstrap function in R.
   Thanks in advance 
   Husam El Alqamy
   ----------------------------------------
   Biologist Ranger
   St. Katherine Protectorate
   South Sinai,
   EGYPT
   ----------------------------------------
   tel 002-069-470032 
   Fax 002-069-470033
   ----------------------------------------


   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


Just a off-topic comment.  With only 59 points but 4 variables, you
are stretched very very thin using a nonparametric method.  Bootstrap
isn't going to bring in more information.

If I were you, I would try to find some parametric model to fit to the
data.

Chong Gu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From your_resume at bluemedianetworks.com  Thu Jan 31 15:20:42 2002
From: your_resume at bluemedianetworks.com (Nicole)
Date: Thu, 31 Jan 2002 06:20:42 -0800
Subject: [R] Your resume
Message-ID: <200201311421.PAA00930@stat.math.ethz.ch>

Broadcast and Network your R?sum? to thousands!


This is a one time email. We will not send you any additional correspondence.
Your email was attained from an online Resume Job Bank THAT WE
SUBSCRIBE TO. If this is in error or you are no longer searching for the perfect
job, we apologize and please disregard this email. Under Bill s.1618 TITLE III
passed by the 105th US Congress this letter cannot be considered Spam OR
UCE as long as the sender includes contact information and a method of
removal (AT BOTTOM OF THIS PAGE).

NETWORK AND FIND Potential Employers the direct way!

Inproinegrated.com

&

ResumeBIZ


The Internet's most effective OPEN job search engine and resume submission
EXTREME NETWORKING service

Position yourself at the top of the Employer List

Are you seeking a career change?

Are you unemployed or is your current job in jeopardy due to the current
economic downturn?

Inproinegrated.Com and ResumeBIZ give you the power to see what available
positions are open and awaiting your resume.  You will be given the tools and
direct contacts by which to find your perfect job!

You will not find another service that can give you as many job leads and
positive avenues for your employment search.

Consider our service....

?         ResumeBiz announces and broadcasts your Resume instantly to upwards
of 14,000 qualified employers-recruiters and VC's*.

?         Your skills and abilities are immediately cross-referenced with the
requirements of BOTH employers AND recruiters.

?         The ResumeBiz resume announcement service will save you untold hours
in your job search.

?         Current partner count: Companies: 7,541 Recruiters: 14,564

?         Nationwide job query to over 10,000 employment sites, newsgroups and
company postings! (this new service will save you weeks and months of
manually searching these sites  --- results are scored from 1-100 and are based
on your qualifications)

?         *TIP* - Most jobs are never advertised; instead they are assigned to a
recruiting firm who finds the right person. At ResumeBiz, your resume is in front
recruiters or companies that are hiring immediately, instead of the weeks or
months that it would take for you to contact them individually.

Visit our site: Inproinegrated.com/ ResumeBiz

ResumeBiz - We make the search more convenient.

("CC", "Info", "Biz" are new domains --- site optimized for Internet Explorer 3.0
and above. Some Components will not display correctly on Netscape browsers)

Five services to choose from: (Click on one)

Platinum
Gold
Silver
VC Broadcast
Resume post
VC Post

See what some of our customers have said:

"Wow! What an incredible response that resulted in interviews. I'm on my way to
a new career thanks to the exposure on ResumeBiz. This was well worth the
small investment. I've passed on the information to my associations who are
looking. Thanks for a terrific service." Theresa, Chicago, IL.

"I enlisted your services to find employment and the response was staggering.
Less than a month later, I started my new position. I never properly thanked you
-- I appreciate the help you gave me. ResumeBiz is the most worthwhile service
I've seen and I highly recommend it to anyone starting out in the job market."
Richard, Newport Beach, CA.

Thank you for your time. If we cannot help you now then we hope you will
consider us in the future. Once again, this is a one time email. If you want to
insure no other emails are sent then click: abuse1 at bluemedianetworks.com
(ALSO CONTACT). They will insure that your request is in compliance with your
wishes.

Our email policy: www.ResumeBIZ.cc/ email policy_d.htm --- on it includes the
web-sites from which we subscribe and where your resume information was
obtained. Please check the specific TERMS OF SERVICE (TOS) of each site to
see what their policy is on releasing and receiving certain offers from their
partners in exchange for them allowing you to post and advertise your resume on
their site.

Under Bill s.1618 TITLE III passed by the 105th US Congress this letter cannot
be considered Spam OR UCE as long as the sender includes contact
information and a method of removal.

This email is sent in compliance with all applicable state (California) (adv) and
federal laws.

* Final distribution number depends on qualifications of client.



-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020131/801ee835/attachment.html

From pflugshaupt at geobot.umnw.ethz.ch  Thu Jan 31 16:32:33 2002
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Thu, 31 Jan 2002 16:32:33 +0100
Subject: [R] MacOS X: Packages KernSmooth and cluster won't compile
Message-ID: <B87F2221.686B%pflugshaupt@geobot.umnw.ethz.ch>

Hello,

I'm using R 1.40 on MacOS X X.1.2 (installed via the fink package manager).

To upgrade my installed packages, I tried to use update.packages() today.
All went well for most packages, with the exception of KernSmooth and
cluster. In both cases, libraries were not found although I think they are
present.

Here's what happened:

----------------------------------
> update.packages()

[snip]

KernSmooth :
 Version 2.22-6 in /sw/lib/R/library
 Version 2.22-7 on CRAN
Update (y/N)?  y
cluster :
 Version 1.3-6 in /sw/lib/R/library
 Version 1.4-0 on CRAN
Update (y/N)?  y

[snip]

Installing *source* package `KernSmooth' ...

[snip]

cc -I/sw/lib/R/include  -I/sw/include   -fno-common  -g -O2 -c sstdiag.c -o
sstdiag.o
cc -bundle -bundle_loader /sw/lib/R/bin/R.bin  -o KernSmooth.so blkest.o
cp.o dgedi.o dgefa.o dgesl.o linbin.o linbin2D.o locpoly.o rlbin.o sdiag.o
sstdiag.o -lf77blas -lcblas -latlas -L/usr/local/lib -lf2c -lm
/usr/bin/ld: can't locate file for: -lf77blas
make: *** [KernSmooth.so] Error 1
ERROR: compilation failed for package `KernSmooth'
Installing *source* package `cluster' ...

[snip]

cc -bundle -bundle_loader /sw/lib/R/bin/R.bin  -o cluster.so clara.o daisy.o
fanny.o meet.o mona.o pam.o spannel.o twins.o  -L/usr/local/lib -lf2c -lm
/usr/bin/ld: can't locate file for: -lf2c
make: *** [cluster.so] Error 1
ERROR: compilation failed for package `cluster'
---------------------------------------

So, in the first case, library f77blas was not found. I do have
/sw/lib/libf77blas.a, though. In the second case, library f2c is missed, but
it's there at /sw/lib/libf2c.a.

Is this a linking path problem, and how can I check? I had assumed that
/sw/lib/ should be visible to the linker, since it's fink's standard lib
directory and I've compiled many packages with fink.

Thanks for any hint

Kaspar



-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Jan 31 16:44:31 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 31 Jan 2002 07:44:31 -0800 (PST)
Subject: [R] Leaps and bound
In-Reply-To: <945D7ABABF6AFB43877CAFC1B123260F07607F@SRVMAIL2>
Message-ID: <Pine.A41.4.44.0201310737001.158986-100000@homer10.u.washington.edu>

On Thu, 31 Jan 2002, GIORGI Roch wrote:

> Hi,
>
> I used the bic.surv function, S-PLUS functions developed by Chris Volinsky
> http://www.research.att.com/~volinsky/bma.html, without problems with
> S-PLUS.
>
> I have to use it with R but I am face with a problem: this function call a
> fortran routine named "leaps" (answer <- .Fortran("leaps", arguments)). I
> loaded the leaps library, and the leaps function work well with my R, but
> there is no Fortran routine named "leaps" within it.
>
> Do you know in what package I can find the "leaps" Fortran routine or what
> is the R version of the S-PLUS "leaps" Fortran routine (if exist)?
>

There is no `leaps' Fortran routine in R -- the all-subsets code in R is
completely different.  All the same information is probably there, but you
would have to look at the Fortran code to see how to find it.  The routine
you are looking for is an undocumented internal part of S, so it would be
surprising if it were in R.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Jan 31 17:43:34 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Thu, 31 Jan 2002 11:43:34 -0500 (EST)
Subject: [R] bootstrap: boot package
In-Reply-To: <20020128150608.GA21451@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.4.30.0201311137370.9800-100000@bolker.zoo.ufl.edu>


  I've basically done this (although entirely in R rather than using
Perl); see attached.
  (Frank Harrell reported a problem with an earlier version of this, so
I'm attaching the latest.  It seems to work OK on my system with
--vanilla).
  Basically,
  source(...)
  create.index.CRAN()
  help.search.CRAN("foo")

 should work.
  Improvements welcome.

On Mon, 28 Jan 2002, Dirk Eddelbuettel wrote:

> IIRC one problem is help.search() on one's computer is "local", it cannot
> know about packages which are not installed.  So would it be a) feasible and
> b) desirable to create a "meta"-package for nothing but "global"
> documentation searches ? One way would be to go online and query Jon Baron's
> search engine, another to work offline by searching a db-in-a-file of
> keywords stripped from the documentation on a CRAN master [ feeding this
> could be automated with Perl scripts ]
>
> Am I making sense, or do I need more coffee?
>
> Dirk
>

download.index.CRAN <- function(pkg,CRAN=getOption("CRAN"),
                    descrip=paste(srccontrib.url(CRAN),"/Descriptions",sep=""),
                    local.ext=".INDEX.tmp") {
  download.file(paste(descrip,"/",pkg,".INDEX",sep=""),
                paste(pkg,local.ext,sep=""))
}

srccontrib.url <- function(CRAN) {
   paste(CRAN,"/src/contrib",sep="")
}

## these two functions are duplicated from bbfuns package:
##  didn't want to introduce dependence for minor utility functions
## strsplit produces zero-length words if there are leading spaces
nwords <- function(x) {
  sapply(strsplit.words(x),function(z)length(z[nchar(z)>0]))
}

strsplit.words <- function(x) {
  strsplit(gsub("[ \t]*"," ",x)," ")
}

## readline() without the 32-char limit
## [unnecessary with more recent R versions??]
myreadline <- function(prompt="") {
  cat(prompt)
  readLines(n=1)
}

trans.index.CRAN <- function(fn) {
  ##  cat(fn,"\n")
  lines <- scan(fn,what=character(),sep="\n",quiet=TRUE)
  ret <- NULL
  if (length(lines)>0) {
    ## paste continuation lines together
    ## look for initial whitespace; might miss funny formats
    tablines <- grep("^[ \t]",lines)
    lines <- sub("^[\t ]*","",lines) ## now delete initial whitespace
    ## join "continuation sets" (sets of consecutive lines with leading whitespace)
    if (length(tablines)>0) {
      v <- 1:length(lines)
      csets <- v-cumsum(v %in% tablines)
      lines <- sapply(split(lines,csets),paste,collapse=" ")
    }
    pkgname <- gsub("/INDEX","",gsub("[\* ]*","",lines[1]))
    lines <- lines[-1]
    pkg <- rep(pkgname,length(lines))
    fun <- sapply(strsplit.words(lines),"[",1)
    descr <- sapply(strsplit.words(lines),function(z)paste(z[-1],collapse=" "))
    ret <- cbind(pkg,fun,descr)
    dimnames(ret) <- list(NULL,c("Package","Function","Description"))
  }
  ret
}

create.index.CRAN <- function(CRAN=getOption("CRAN"),
                         contriburl=srccontrib.url(CRAN),
                         descrip=paste(srccontrib.url(CRAN),"/Descriptions",sep=""),
                         local.ext=".INDEX.tmp",
                         save=TRUE,savefile="CRAN-index.RData",
                         download=TRUE) {
  if (download) {
    pkglist <- CRAN.packages(contriburl=contriburl)
    sapply(pkglist[,1],download.index.CRAN,CRAN=CRAN,descrip=descrip,
           local.ext=local.ext)
  }
  indfiles <- list.files(pattern=paste("*",local.ext,sep=""))
  CRAN.index <- do.call("rbind",lapply(indfiles,trans.index.CRAN))
  answer <- substr(myreadline("Delete temporary index files (y/N)? "), 1, 1)
  if (answer == "y" | answer == "Y")
    unlink(indfiles, TRUE)
  if (save) save(CRAN.index,file=savefile)
  invisible(CRAN.index)
}

help.search.CRAN <- function(str,indexmat=CRAN.index,ignore.case=TRUE,
                             packages.only=FALSE,
                             load=TRUE,
                             file="CRAN-index.RData") {
  ## check for object/file, load if possible
  if (!exists(deparse(substitute(indexmat)))) {
    if (load) {
      if (!file.exists(file))
        stop("Can't find CRAN index file to load (try create.index.CRAN)")
      load(file)
    }
    else stop ("Can't find CRAN index object (try loading from a file?)")
  }
  ## find matches in either Function or Description fields
  ind <- unique(c(grep(str,indexmat[,"Function"],ignore.case=ignore.case),
                  grep(str,indexmat[,"Description"],ignore.case=ignore.case)))
  if (length(ind)==0)
    cat("No functions found\n")
  else
    if (packages.only) noquote(unique(indexmat[ind,"Package"]))
    else noquote(indexmat[ind,])
}

## junk in index: PTAk (how to filter?)
## give "no functions found" message ?



-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deleeuw at stat.ucla.edu  Thu Jan 31 17:45:45 2002
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Thu, 31 Jan 2002 08:45:45 -0800
Subject: [R] MacOS X: Packages KernSmooth and cluster won't compile
In-Reply-To: <B87F2221.686B%pflugshaupt@geobot.umnw.ethz.ch>
Message-ID: <F8C4BBAF-1669-11D6-A978-00039319314A@stat.ucla.edu>

This is one disadvantage of using the fink version of R: although the
maintainer (jsw at cdc.noaa.gov ) has patched and ported the base
and recommended packages, there is no guarantee that other
contributed packages must not be patched to fit into the fink hierarchy.
The advantage of fink is that you get easy updating and the package 
manager
keeps track of the libraries that are installed. But you do give up some
control (and you lose some features such as gnome) compared to
rolling your own or downloading from ftp://gifi.stat.ucla.edu/pub/R.

Contact Jeff at the email address given above to see if he can help.

On Thursday, January 31, 2002, at 07:32 AM, Kaspar Pflugshaupt wrote:

> Hello,
>
> I'm using R 1.40 on MacOS X X.1.2 (installed via the fink package 
> manager).
>
> To upgrade my installed packages, I tried to use update.packages() 
> today.
> All went well for most packages, with the exception of KernSmooth and
> cluster. In both cases, libraries were not found although I think they 
> are
> present.
>
> Here's what happened:
>
> ----------------------------------
>> update.packages()
>
> [snip]
>
> KernSmooth :
>  Version 2.22-6 in /sw/lib/R/library
>  Version 2.22-7 on CRAN
> Update (y/N)?  y
> cluster :
>  Version 1.3-6 in /sw/lib/R/library
>  Version 1.4-0 on CRAN
> Update (y/N)?  y
>
> [snip]
>
> Installing *source* package `KernSmooth' ...
>
> [snip]
>
> cc -I/sw/lib/R/include  -I/sw/include   -fno-common  -g -O2 -c 
> sstdiag.c -o
> sstdiag.o
> cc -bundle -bundle_loader /sw/lib/R/bin/R.bin  -o KernSmooth.so blkest.o
> cp.o dgedi.o dgefa.o dgesl.o linbin.o linbin2D.o locpoly.o rlbin.o 
> sdiag.o
> sstdiag.o -lf77blas -lcblas -latlas -L/usr/local/lib -lf2c -lm
> /usr/bin/ld: can't locate file for: -lf77blas
> make: *** [KernSmooth.so] Error 1
> ERROR: compilation failed for package `KernSmooth'
> Installing *source* package `cluster' ...
>
> [snip]
>
> cc -bundle -bundle_loader /sw/lib/R/bin/R.bin  -o cluster.so clara.o 
> daisy.o
> fanny.o meet.o mona.o pam.o spannel.o twins.o  -L/usr/local/lib -lf2c 
> -lm
> /usr/bin/ld: can't locate file for: -lf2c
> make: *** [cluster.so] Error 1
> ERROR: compilation failed for package `cluster'
> ---------------------------------------
>
> So, in the first case, library f77blas was not found. I do have
> /sw/lib/libf77blas.a, though. In the second case, library f2c is 
> missed, but
> it's there at /sw/lib/libf2c.a.
>
> Is this a linking path problem, and how can I check? I had assumed that
> /sw/lib/ should be visible to the linker, since it's fink's standard lib
> directory and I've compiled many packages with fink.
>
> Thanks for any hint
>
> Kaspar
>
>
>
> --
>
> Kaspar Pflugshaupt
> Geobotanisches Institut
> Zuerichbergstr. 38
> CH-8044 Zuerich
>
> Tel. ++41 1 632 43 19
> Fax  ++41 1 632 12 15
>
> mailto:pflugshaupt at geobot.umnw.ethz.ch
> privat:pflugshaupt at mails.ch
> http://www.geobot.umnw.ethz.ch
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-
> FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._._
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Scott.Waichler at pnl.gov  Thu Jan 31 18:04:13 2002
From: Scott.Waichler at pnl.gov (Waichler, Scott R)
Date: Thu, 31 Jan 2002 09:04:13 -0800
Subject: [R] Example scripts for trellis graphs
Message-ID: <202822BFB70EBC4BB3EAFD853EE2B6BF5A53E2@pnlmse10.pnl.gov>

How can I access examples of trellis graphs in R?  I'm especially
interested in getting code for xyplot() examples.  

Failing a collection of examples in R, I see that
under Splus there are numerous example.*() functions.  I can
access Splus with a command line but can't open a graphics window,
so I can't to execute the example.*() functions.  Is there a way
I could get the associated script without generating the plot?

Thanks,

Scott Waichler, Senior Research Scientist
Hydrology Group/Environmental Technology Division
Battelle Pacific Northwest National Laboratory
(email) scott.waichler at pnl.gov
(web) http://hydrology.pnl.gov
________________________________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Thu Jan 31 18:05:52 2002
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Thu, 31 Jan 2002 17:05:52 +0000 (GMT)
Subject: [R] Help with Bootstrap function.
In-Reply-To: <IENBPJEBDDCBEBAA@mailcity.com>
Message-ID: <Pine.GSO.4.21.0201311651160.23300-100000@dolphin>

> I am using R with mcgv package to model spatial variation in density estimates of dorcas gazelle in Sinai. I have 59 points of data and 4 explanatory variables(distance from mountain edge, camel presence, Latitude & Longitude). I want to test the model fir via bootstraping. I have used the jacknife bootstraping but it have the limitation of allowing only 58 trials. I tried to use the bootstrap function in R but I couldn;t understand the help file description. Please forgive my novice with such advance statistics since I am a biologist.
> I would appreciate any help on advicing on how to use the bootstrap function in R.
> Thanks in advance 
> Husam El Alqamy
- 59 datapoints is really pushing it for estimating 4 functions! You might
want to run the first bit of the code pasted below a few times to see if
this is really good enough for you [it's actually not as bad as I assumed
it was going to be]. 
- If you want a *really* simple bootstrap then the second part of the code
below gives an example: but for this sample size, the effect of neglecting
the bias in the fitted values and the variability in the variance estimate
will not be negligible!
- Finally, note that bootstrapping non-parametrically (i.e. case
resampling) would be a bit of a disaster in this case, since the
smoothing parameters are being selected by cross validation. 

Simon.

# fit model to simulated data....
n<-59
sig2<-4
x0 <- runif(n, 0, 1)
x1 <- runif(n, 0, 1)
x2 <- runif(n, 0, 1)
x3 <- runif(n, 0, 1)
pi <- asin(1) * 2
f <- 2 * sin(pi * x0)
f <- f + exp(2 * x1) - 3.75887
f <- f + 0.2 * x2^11 * (10 * (1 - x2))^6 + 10 * (10 * x2)^3 * (1 - x2)^10-1.396
e <- rnorm(n, 0, sqrt(abs(sig2)))
y <- f + e
da<-data.frame(y=y,x0=x0,x1=x1,x2=x2,x3=x3)
b<-gam(y~s(x0)+s(x1)+s(x2)+s(x3),data=da)
plot(b,pages=1)

# now a crude parametric bootstrap....

model.mean<-fitted(b)
model.se<-b$sig2^0.5
for (i in 1:20)
{ da$y<-model.mean+rnorm(n,sd=model.se)
  b.bs<-gam(y~s(x0)+s(x1)+s(x2)+s(x3),data=da)
  plot(b.bs,pages=1)
}

  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Scott.Waichler at pnl.gov  Thu Jan 31 18:46:35 2002
From: Scott.Waichler at pnl.gov (Waichler, Scott R)
Date: Thu, 31 Jan 2002 09:46:35 -0800
Subject: [R] Example scripts for trellis graphs
Message-ID: <202822BFB70EBC4BB3EAFD853EE2B6BF5A53E4@pnlmse10.pnl.gov>

How can I access examples of trellis graphs in R?  I'm especially
interested in getting code for xyplot() examples.  

Failing a collection of examples in R, I see that
under Splus there are numerous example.*() functions.  I can
access Splus with a command line but can't open a graphics window,
so I can't to execute the example.*() functions.  Is there a way
I could get the associated script and data without generating the plot?

Thanks,
Scott Waichler

Senior Research Scientist
Hydrology Group/Environmental Technology Division
Battelle Pacific Northwest National Laboratory
(email) scott.waichler at pnl.gov
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.milkosky at xpedite.com  Thu Jan 31 19:15:25 2002
From: c.milkosky at xpedite.com (Chris Milkosky)
Date: Thu, 31 Jan 2002 13:15:25 -0500
Subject: [R] Why is plotting so slow?
Message-ID: <NEEALIKPCPOEAMABNNLLOEOHDDAA.c.milkosky@xpedite.com>

WARNING - R newbie alert. =)

I'm sorry, this may be a real stupid question -  but why is plotting in R so slow?  BTW, I've used R in Windows 2000 (1 Ghz Pentium
512MB RAM) and on Linux box (200 Mhz P2 64MB RAM) and had the same problem.

I have CSV data sets that I load that sometimes have around 40000 data points in them.  Here's what I do usually:

> dataset<-read.csv("data.csv")
> windows()
> dev.list()	#making sure that windows is device #1
> dev.set(1)
> plot(dataset$Time,dataset$Value,type="l")

plot just sits there for a LONG time, and then after a few minutes, starts plotting 1 dot every once in a blue moon.

Anyone have an idea what I'm missing?

Thanks in advance - like I said, this may be a real stupid question, but when I searched through the FAQ and tried to RTFM, I didn't
see anything.

Thanks,

Chris


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Thu Jan 31 19:47:58 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Thu, 31 Jan 2002 10:47:58 -0800 (PST)
Subject: [R] Example scripts for trellis graphs
In-Reply-To: <202822BFB70EBC4BB3EAFD853EE2B6BF5A53E4@pnlmse10.pnl.gov>
Message-ID: <20020131184758.1137.qmail@web13907.mail.yahoo.com>


I'm not entirely sure what you want, but you can try the following :

1. at the R prompt, with lattice loaded, try

   example(xyplot)

   to see output from the documented examples (this would also include other
   functions). You can see the associated code at the bottom of the help page
   brought up by help(xyplot). This is standard procedure for all documented
   R examples.

   [If you are having problems with this, try updating to the latest versions]

   Similarly, demo(lattice) has some xyplot examples.


2. You can see the S-Plus examples by printing the example.* functions (i.e., 
   call them without the parentheses). To run them, you would obviously need
   the associated data sets (and possibly some modifications to the code).

3. You can get some examples in the documentation from Bell Labs' Trellis
pages,
   in particular, 
  
http://cm.bell-labs.com/cm/ms/departments/sia/project/trellis/display.writing.html

4. You can get the datasets and examples in Bill Cleveland's Visualizing Data 
   from his homepage
   http://cm.bell-labs.com/cm/ms/departments/sia/wsc/

Hope that helps.

Deepayan


--- "Waichler, Scott R" <Scott.Waichler at pnl.gov> wrote:
> How can I access examples of trellis graphs in R?  I'm especially
> interested in getting code for xyplot() examples.
> 
> Failing a collection of examples in R, I see that
> under Splus there are numerous example.*() functions.  I can
> access Splus with a command line but can't open a graphics window,
> so I can't to execute the example.*() functions.  Is there a way
> I could get the associated script and data without generating the plot?
> 
> Thanks,
> Scott Waichler
> 
> Senior Research Scientist
> Hydrology Group/Environmental Technology Division
> Battelle Pacific Northwest National Laboratory
> (email) scott.waichler at pnl.gov


__________________________________________________

Great stuff seeking new owners in Yahoo! Auctions! 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.milkosky at xpedite.com  Thu Jan 31 20:35:38 2002
From: c.milkosky at xpedite.com (Chris Milkosky)
Date: Thu, 31 Jan 2002 14:35:38 -0500
Subject: [R] Why is plotting so slow?
Message-ID: <NEEALIKPCPOEAMABNNLLMEOKDDAA.c.milkosky@xpedite.com>

Thanks all!  It looks like the problem was in the X variable date/time format.  I changed it to a simple 1:40000 and the graph
popped up in seconds.  So, all I have to do is get R to understand the date format properly I guess.

Thanks all

Chris

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From micahkimbrough at earthlink.net  Thu Jan 31 20:59:51 2002
From: micahkimbrough at earthlink.net (Micah J. Kimbrough)
Date: Thu, 31 Jan 2002 13:59:51 -0600
Subject: [R] Problem with recommended files
Message-ID: <3C59A237.9090701@earthlink.net>

Hello,
      I just wanted to drop you a note about one of the recommended 
packages. I compiled R-1.4.0 distribution and installed it. I went into 
the R-recommended temp directory that was created by uncommpressing the 
tar file. Than I ran R CMD INSTALL *.tar.gz and it worked fine until it 
got to VR-6.2-13.tar.gz. I got this error: This R is version 1.3.0 
package 'MASS' depends on R 1.4.0. I am a little confused. I can run R 
--version and get version 1.4.0 so I wouldn't think I would get this 
error while running R CMD INSTALL VR-6.2-13.tar.gz. If I remember the 
docs right the recommended packages are not critcal to using R so I will 
go ahead and work with R and not worry to much about it. I hope this 
message helps you though.

Thank You,
Micah J. Kimbrough
micahkimbrough at earthlink.net

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jan 31 21:27:22 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 31 Jan 2002 20:27:22 +0000 (GMT)
Subject: [R] Problem with recommended files
In-Reply-To: <3C59A237.9090701@earthlink.net>
Message-ID: <Pine.LNX.4.31.0201312026030.12597-100000@gannet.stats>

On Thu, 31 Jan 2002, Micah J. Kimbrough wrote:

> Hello,
>       I just wanted to drop you a note about one of the recommended
> packages. I compiled R-1.4.0 distribution and installed it. I went into
> the R-recommended temp directory that was created by uncommpressing the
> tar file. Than I ran R CMD INSTALL *.tar.gz and it worked fine until it
> got to VR-6.2-13.tar.gz. I got this error: This R is version 1.3.0
> package 'MASS' depends on R 1.4.0. I am a little confused. I can run R
> --version and get version 1.4.0 so I wouldn't think I would get this
> error while running R CMD INSTALL VR-6.2-13.tar.gz. If I remember the
> docs right the recommended packages are not critcal to using R so I will
> go ahead and work with R and not worry to much about it. I hope this
> message helps you though.

The current R is 1.4.1.  Which recommended do you actually have?

The problem is that it is finding R 1.3.0, so is this a path problem.

I suggest you start again with 1.4.1.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


