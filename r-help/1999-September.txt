From mhart at terrigal.net.au  Wed Sep  1 01:03:39 1999
From: mhart at terrigal.net.au (Michael HART)
Date: Wed, 1 Sep 1999 09:03:39 +1000
Subject: [R] AR models
Message-ID: <004101bef405$117d7100$cff410cb@michael>

Hello everyone,

I have just installed R and was wondering if anyone knows of any AR routines
available for it.  I have had a look on the web site and it says that a
package called 'ts' (time series) is available but I can't seem to find it
anywhere.

any help appreciated

Michael Hart


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.King at mailbox.gu.edu.au  Wed Sep  1 08:38:41 1999
From: Robert.King at mailbox.gu.edu.au (Robert.King@mailbox.gu.edu.au)
Date: Wed, 1 Sep 1999 16:38:41 +1000 (EST)
Subject: [R] What happened to error()
Message-ID: <Pine.LNX.4.10.9909011638040.1956-100000@solzhenitsyn.ens.gu.edu.au>

Apologies for the dumb question, but what happened to error()?

How do I fail out of a function?

----
Robert King, Australian Environmental Studies, Griffith University, Australia
3875 6677   Robert.King at mailbox.gu.edu.au   http://www.ens.gu.edu.au/robertk/

 "It might be in the basement,         
 I'll go upstairs and check .." Escher


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep  1 08:48:03 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 1 Sep 1999 07:48:03 +0100 (BST)
Subject: [R] AR models
In-Reply-To: <004101bef405$117d7100$cff410cb@michael>
Message-ID: <Pine.GSO.4.05.9909010745010.9222-100000@auk.stats>

On Wed, 1 Sep 1999, Michael HART wrote:

> I have just installed R and was wondering if anyone knows of any AR routines
> available for it.  I have had a look on the web site and it says that a
> package called 'ts' (time series) is available but I can't seem to find it
> anywhere.

It is there, in the current R-0.65.0 distribution. What version of R have
you just installed?  If it was for Windows, you need rw0650, and that is
(temporarily) at bin/windows/window-NT/contrib/rw0650 on CRAN and not in
the proper place.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Sep  1 08:51:49 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 1 Sep 1999 08:51:49 +0200
Subject: [R] What happened to error()
In-Reply-To: 
	<Pine.LNX.4.10.9909011638040.1956-100000@solzhenitsyn.ens.gu.edu.au>
	(Robert.King@mailbox.gu.edu.au)
References: <Pine.LNX.4.10.9909011638040.1956-100000@solzhenitsyn.ens.gu.edu.au>
Message-ID: <199909010651.IAA02651@sophie.ethz.ch>


    Robert> Apologies for the dumb question, but what happened to error()?
nothing..
    Robert> How do I fail out of a function?

It's   stop(<message>),
not    error(	     )

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Sep  1 09:30:01 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 1 Sep 1999 09:30:01 +0200
Subject: [R] Re: [S] Putting values into matrices: desired behaviour?
In-Reply-To: <37CCC8DE.A756F3D6@nr.no> (message from Mette Langaas on Wed, 01
	Sep 1999 08:34:06 +0200)
References: <37CCC8DE.A756F3D6@nr.no>
Message-ID: <199909010730.JAA02696@sophie.ethz.ch>

>>>>> On Wed, 01 Sep 1999 08:34, Mette Langaas <Mette.Langaas at nr.no> said:

    Mette> I'm running S-Plus 5.1 on UNIX (but the same behaviour I'm
    Mette> describing is seen on S-Plus 3.4 R1 for UNIX).

    Mette> I have first created a matrix with two rows and three columns

    >> test_matrix(ncol=3,nrow=2)
    >> test
    Mette>       [,1] [,2] [,3] 
    Mette> [1,]   NA   NA   NA
    Mette> [2,]   NA   NA   NA

    Mette> I then want to put values into parts of the matrix, but by mistake I
    Mette> index outside the matrix (use rows 3-7 when there are only 2 rows).

    >> ind_matrix(c(1,2,3,4,5,6,7,2,2,2,2,2,2,2),ncol=2)
    >> ind
    Mette>      [,1] [,2] 
    Mette> [1,]    1    2
    Mette> [2,]    2    2
    Mette> [3,]    3    2
    Mette> [4,]    4    2
    Mette> [5,]    5    2
    Mette> [6,]    6    2
    Mette> [7,]    7    2
    >> test[ind]_c(3,4,5,6,7,8,9)
    >> test
    Mette>       [,1] [,2] [,3] 
    Mette> [1,]   NA    3    5
    Mette> [2,]   NA    4    6

    Mette> The first observation is that in addition to correctly putting
    Mette> values 3 ang 4 into position (1,2) and (2,2) the value 5 is put
    Mette> into (1,3) instead of (3,2) as requested and
    Mette> 6 is put into (2,3) instead of (4,3) as requested.

	   <...snip...>

    Mette> Is this the desired behaviour of indexing matrices? What
    Mette> measures can I take to avoid this behaviour -- e.g. to instead
    Mette> get an error message?

In R, you do get an error message
    ``Error: subscript out of bounds''
and  test[,] remains unaltered.

I hope nobody complains about non-compatibility with S...  ;-)

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mhart at terrigal.net.au  Wed Sep  1 11:29:28 1999
From: mhart at terrigal.net.au (Michael HART)
Date: Wed, 1 Sep 1999 19:29:28 +1000
Subject: [R] AR models
Message-ID: <003101bef45c$96eaee60$cff410cb@michael>

Thank you.  I installed version 0642 (from the windows95 directory) :(

I am now in the process of reinstalling it.

BTW.  I have had a bit of a search around the varios R and S sites for a
document providing a definition of S and how it works.  Is there anyone who
knows of a site with a good description of the language or is it necessary
to purchase a book?

Michael Hart

-----Original Message-----
From: Prof Brian D Ripley <ripley at stats.ox.ac.uk>
To: Michael HART <mhart at terrigal.net.au>
Cc: r-Help List <r-help at stat.math.ethz.ch>
Date: Wednesday, September 01, 1999 4:49 PM
Subject: Re: [R] AR models


>On Wed, 1 Sep 1999, Michael HART wrote:
>
>> I have just installed R and was wondering if anyone knows of any AR
routines
>> available for it.  I have had a look on the web site and it says that a
>> package called 'ts' (time series) is available but I can't seem to find
it
>> anywhere.
>
>It is there, in the current R-0.65.0 distribution. What version of R have
>you just installed?  If it was for Windows, you need rw0650, and that is
>(temporarily) at bin/windows/window-NT/contrib/rw0650 on CRAN and not in
>the proper place.
>
>
>--
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep  1 11:48:13 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 1 Sep 1999 10:48:13 +0100 (BST)
Subject: on-line documentation (was [R] AR models)
In-Reply-To: <003101bef45c$96eaee60$cff410cb@michael>
Message-ID: <Pine.GSO.4.05.9909011041350.9530-100000@auk.stats>

On Wed, 1 Sep 1999, Michael HART wrote:

[...]

> BTW.  I have had a bit of a search around the varios R and S sites for a
> document providing a definition of S and how it works.  Is there anyone who
> knows of a site with a good description of the language or is it necessary
> to purchase a book?

I think that depends on the level of description you want. There is
Rnotes, based on the Venables-Smith Snotes (see the CRAN top level).
Beyond that I think you do need a book, and at a certain point you will
find only information on S, but that is being worked on.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep  1 11:58:42 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Sep 1999 11:58:42 +0200
Subject: [R] AR models
In-Reply-To: "Michael HART"'s message of "Wed, 1 Sep 1999 19:29:28 +1000"
References: <003101bef45c$96eaee60$cff410cb@michael>
Message-ID: <x23dwzdkbx.fsf@blueberry.kubism.ku.dk>

"Michael HART" <mhart at terrigal.net.au> writes:

> BTW.  I have had a bit of a search around the varios R and S sites for a
> document providing a definition of S and how it works.  Is there anyone who
> knows of a site with a good description of the language or is it necessary
> to purchase a book?

Definitory texts are scarce and generally contained in books, although
we do have an R language definition in the works (not gotten much
beyond the table of contents at this time). 

For getting acquainted with R/S, you could do a lot worse than using
the Venables+Smith/Gentleman+Ihaka/Maechler R-notes which are
available from CRAN, or the S-notes from StatLib
(ftp://lib.stat.cmu.edu/S/SplusNotes/) on which they are built.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ladrake at ece.nwu.edu  Wed Sep  1 15:18:54 1999
From: ladrake at ece.nwu.edu (Laura Drake)
Date: Wed, 01 Sep 1999 08:18:54 -0500
Subject: [R] BATCH processing in R
Message-ID: <37CD27BE.13884996@ece.nwu.edu>

Dear List,

My question is whether it is possible (and if so, how) to enter values
into R vectors (R_OUTFILE, and R_INFILE in my example below) from the
command line.  In particular, I would like to run R, as a BATCH job,
from a shell script, such as the following:

	while read inputfile_name outputfile_name; do
	  R_OUTFILE=$outputfile_name
	  R_INFILE=$inputfile_name

	  R BATCH infile.R
	done

with, for example, the following infile.R able to use the variables,
R_OUTFILE, and R_INFILE.

	sink(R_OUTFILE)

	x<-read.table(R_INFILE)
	mode(x)="numeric"
	library(cluster)

	a<-agnes(x,T)
	a$order
	a$height

	sink()
	q("no")

I suppose I could write a different infile.R for each pass through the
shell script while-loop, but I don't want to do that if it's avoidable.


Thank You for Any Help You are Able to Provide,

	Laura Drake
	ladrake at ece.nwu.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Sep  1 20:29:37 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 1 Sep 1999 11:29:37 -0700 (PDT)
Subject: [R] BATCH processing in R
In-Reply-To: <37CD27BE.13884996@ece.nwu.edu>
Message-ID: <Pine.GSO.4.10.9909011127140.4256-100000@wompom.biostat.washington.edu>

On Wed, 1 Sep 1999, Laura Drake wrote:

> Dear List,
> 
> My question is whether it is possible (and if so, how) to enter values
> into R vectors (R_OUTFILE, and R_INFILE in my example below) from the
> command line.  In particular, I would like to run R, as a BATCH job,
> from a shell script, such as the following:

yes. Use getenv()

wompom% setenv R_INFILE foobar
R is a collaborative project with many contributors.
Type    "?contributors" for a list.

Type    "demo()" for some demos, "help()" for on-line help, or
        "help.start()" for a HTML browser interface to help.
Type    "q()" to quit R.

> getenv("R_INFILE")
R_INFILE 
"foobar" 
> sink(getenv("R_INFILE"))

etc at least under Unix (which I presume is where you are if you want to
use a shell script)


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wdmccoy at geo.umass.edu  Wed Sep  1 20:35:50 1999
From: wdmccoy at geo.umass.edu (William D. McCoy)
Date: Wed, 1 Sep 1999 14:35:50 -0400 (EDT)
Subject: [R] configure for R-0.65
Message-ID: <199909011835.OAA12454@aeolus.geo.umass.edu>

I am trying to compile R-0.65 on a Sparc 20.  I have gcc 2.7.2.2 and I 
have SC4.0.  I used gcc to compile R-0.64.2 in July with no problems.
Now when I run configure for R-0.65 I get the following message:

>checking whether the C compiler (gcc ) works... no
>configure: error: installation or configuration problem: C compiler
cannot create executables.

and then configure exits.  I had no such problem with any previous R
configure script.  Any ideas?

-- 
William D. McCoy
Geosciences
University of Massachusetts
Amherst, MA  01003
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wdmccoy at geo.umass.edu  Wed Sep  1 21:02:30 1999
From: wdmccoy at geo.umass.edu (William D. McCoy)
Date: Wed, 1 Sep 1999 15:02:30 -0400 (EDT)
Subject: [R] configure for R-0.65 (cont'd)
Message-ID: <199909011902.PAA12481@aeolus.geo.umass.edu>

>I am trying to compile R-0.65 on a Sparc 20.  I have gcc 2.7.2.2 and I 
>have SC4.0.  I used gcc to compile R-0.64.2 in July with no problems.
>Now when I run configure for R-0.65 I get the following message:
>
>>checking whether the C compiler (gcc ) works... no
>>configure: error: installation or configuration problem: C compiler
cannot create executables.
>
>and then configure exits.  I had no such problem with any previous R
>configure script.  Any ideas?


I meant to add to my previous e-mail that when I set CC=cc, I get the
same error message, i.e. it finds cc alright but it cannot execute cc!

Any ideas.

-- 
William D. McCoy
Geosciences
University of Massachusetts
Amherst, MA  01003
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep  1 21:22:27 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Sep 1999 21:22:27 +0200
Subject: [R] configure for R-0.65
In-Reply-To: "William D. McCoy"'s message of "Wed, 1 Sep 1999 14:35:50 -0400 (EDT)"
References: <199909011835.OAA12454@aeolus.geo.umass.edu>
Message-ID: <x2d7w2qvws.fsf@blueberry.kubism.ku.dk>

"William D. McCoy" <wdmccoy at geo.umass.edu> writes:

> I am trying to compile R-0.65 on a Sparc 20.  I have gcc 2.7.2.2 and I 
> have SC4.0.  I used gcc to compile R-0.64.2 in July with no problems.
> Now when I run configure for R-0.65 I get the following message:
> 
> >checking whether the C compiler (gcc ) works... no
> >configure: error: installation or configuration problem: C compiler
> cannot create executables.
> 
> and then configure exits.  I had no such problem with any previous R
> configure script.  Any ideas?

a) make sure there is no config.cache or similar items floating
around.
b) look into config.log for clues, this will tell you the exact
command that failed and there's likely also a conftest.xxx file
around.  

..and watch out for stray environment variables and write protected
directories. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep  1 21:25:13 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 1 Sep 1999 20:25:13 +0100 (BST)
Subject: [R] BATCH processing in R
In-Reply-To: <Pine.GSO.4.10.9909011127140.4256-100000@wompom.biostat.washington.edu>
Message-ID: <Pine.GSO.4.05.9909012023560.10525-100000@auk.stats>

On Wed, 1 Sep 1999, Thomas Lumley wrote:

> On Wed, 1 Sep 1999, Laura Drake wrote:
> 
> > Dear List,
> > 
> > My question is whether it is possible (and if so, how) to enter values
> > into R vectors (R_OUTFILE, and R_INFILE in my example below) from the
> > command line.  In particular, I would like to run R, as a BATCH job,
> > from a shell script, such as the following:
> 
> yes. Use getenv()
> 
> wompom% setenv R_INFILE foobar
> R is a collaborative project with many contributors.
> Type    "?contributors" for a list.
> 
> Type    "demo()" for some demos, "help()" for on-line help, or
>         "help.start()" for a HTML browser interface to help.
> Type    "q()" to quit R.
> 
> > getenv("R_INFILE")
> R_INFILE 
> "foobar" 
> > sink(getenv("R_INFILE"))
> 
> etc at least under Unix (which I presume is where you are if you want to
> use a shell script)

Works under Windows too (although how you set environment variables
depends in the shell in use, as it does under Unix, in fact).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wdmccoy at geo.umass.edu  Wed Sep  1 21:22:43 1999
From: wdmccoy at geo.umass.edu (William D. McCoy)
Date: Wed, 1 Sep 1999 15:22:43 -0400 (EDT)
Subject: [R] configure for R-0.65
In-Reply-To: <x2d7w2qvws.fsf@blueberry.kubism.ku.dk>
References: <199909011835.OAA12454@aeolus.geo.umass.edu>
	<x2d7w2qvws.fsf@blueberry.kubism.ku.dk>
Message-ID: <199909011922.PAA14924@aeolus.geo.umass.edu>

Ok, it works now.  The hint was in the config.log file.  I had
specified LIBS=/usr/local/lib instead of LIBS=-L/usr/local/lib in my
config.site file.  Thanks to Peter Dalgaard for the instantaneous
help!


Peter Dalgaard BSA writes:
 > "William D. McCoy" <wdmccoy at geo.umass.edu> writes:
 > 
 > > I am trying to compile R-0.65 on a Sparc 20.  I have gcc 2.7.2.2 and I 
 > > have SC4.0.  I used gcc to compile R-0.64.2 in July with no problems.
 > > Now when I run configure for R-0.65 I get the following message:
 > > 
 > > >checking whether the C compiler (gcc ) works... no
 > > >configure: error: installation or configuration problem: C compiler
 > > cannot create executables.
 > > 
 > > and then configure exits.  I had no such problem with any previous R
 > > configure script.  Any ideas?
 > 
 > a) make sure there is no config.cache or similar items floating
 > around.
 > b) look into config.log for clues, this will tell you the exact
 > command that failed and there's likely also a conftest.xxx file
 > around.  
 > 
 > ..and watch out for stray environment variables and write protected
 > directories. 
 > 
 > -- 
 >    O__  ---- Peter Dalgaard             Blegdamsvej 3  
 >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 >  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
 > ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
 > 

-- 
William D. McCoy
Geosciences
University of Massachusetts
Amherst, MA  01003
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep  1 23:25:10 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 1 Sep 1999 22:25:10 +0100 (BST)
Subject: [R] Using R-0.65.0 under ESS on Unix
Message-ID: <Pine.GSO.4.05.9909012218110.10627-100000@auk.stats>

There is a bug in the command-line handling of 0.65.0 under Unix that
may affect some users of R-inferior-mode under ESS, as that sets
--no-readline as the first argument, and any arguments after that are
ignored.

The fix is simple: delete line 448 of src/unix/sys-common.c (`break;')
and re-compile.

The most used arguments are (I'm told) --vsize and --nsize. I find it more
convenient to set those as environment variables in ~/.Renviron,
using something like

auk% cat ~/.Renviron
R_LIBS=/opt/R/library
R_NSIZE=400k
export R_NSIZE R_LIBS

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From twestley at buffalo.veridian.com  Thu Sep  2 00:18:32 1999
From: twestley at buffalo.veridian.com (Terry Westley)
Date: Wed, 1 Sep 1999 18:18:32 -0400
Subject: [R] BATCH processing in R
In-Reply-To: <Pine.GSO.4.10.9909011127140.4256-100000@wompom.biostat.washington.edu>
Message-ID: <NDBBJPJEPMDADGHILPFJIEDCCBAA.twestley@buffalo.veridian.com>

> On Wed, 1 Sep 1999, Laura Drake wrote:
> My question is whether it is possible (and if so, how) to enter values
> into R vectors (R_OUTFILE, and R_INFILE in my example below) from the
> command line.  In particular, I would like to run R, as a BATCH job,
> from a shell script, such as the following:

> On Wed, 1 Sep 1999, Thomas Lumley wrote:
> yes. Use getenv()

An alternative method is to create a file named .Rprofile which
contains initialization code, then call the R script.  Example:

echo "R.OUTFILE <- \"$outputfile_name\"" >  .Rprofile
echo "R.INFILE  <- \"$inputfile_name\""  >> .Rprofile
R BATCH infile.R

--
Terry J. Westley, Software Systems Engineering Supervisor
Veridian Engineering, Calspan Operations
P.O. Box 400, Buffalo, NY 14225
twestley at buffalo.veridian.com    http://www.veridian.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent.gautier at lion-ag.de  Thu Sep  2 10:17:46 1999
From: laurent.gautier at lion-ag.de (Laurent Gautier)
Date: Thu, 02 Sep 1999 10:17:46 +0200
Subject: [R] count of factors
Message-ID: <37CE32A9.473925A7@lion-ag.de>

Hello,


I was used to count how many times every factor is found the following
way :

(assuming 'vect' is a vector of factors)
tapply(vect,vect,length)

but recently I experienced weird results with this

In fact, my command line was
tapply(ORGMORE[[1]][vect],ORGMORE[[1]][vect],length)
where
- 'vect' is a vector of indices
- 'ORGMORE[[1]]' is a slightly long vector of factors

In managed to get correct results using
tapply(paste(ORGMORE[[1]][vect]),paste(ORGMORE[[1]][vect]),length)

I am not sure the reason is the presence of NA values in ORGMORE[[1]],
or
the size of it because I tried unsuccessfully to reproduce this with an
another session
of R and a short vector having NA values.
....and 'vect' is the result of a previous tapply call.



In my opinion, I do not get what I want the good-safe way...


Any hints ?







Laurent

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Thu Sep  2 11:20:15 1999
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Thu, 02 Sep 1999 21:20:15 +1200
Subject: [R] Plotting slowly
Message-ID: <3.0.5.32.19990902212015.007b1540@pop.stats.waikato.ac.nz>

Some older members of this list will remember the strange pleasure of
seeing a pattern slowly emerge as points were laboriously added to a
scatterplot on graph paper.

A colleague (Harold Henderson, in fact) recently pointed out to me that
there is some quite interesting structure in the abrasion loss data set of
O. L. Davies (reprinted in the book by Hand et al) if you consider the
order of the data. One way to see this is by adding a column of row numbers
to the data and forming a scatterplot matrix and doing a bit of brushing.

Harold commented that someone plotting any two of the variables manually
would have seen this as the plots would form in a series of roughly
parallel curves. 

It occured to me that we could simulate manual plotting by allowing points
to form progressively row by row; or more generally at times proportional
to a 'time' variable which, of course, need not really be time.

I just thought that I'd toss this idea out in case it appeals to any of the
gun programmers on this list! If it doesn't I may have a bash at it some day.


Murray


Murray Jorgensen,  Department of Statistics,  U of Waikato, Hamilton, NZ
-----[+64-7-838-4773]---------------------------[maj at waikato.ac.nz]-----
"Doubt everything or believe everything:these are two equally convenient
strategies. With either we dispense with the need to think."
http://www.cs.waikato.ac.nz/stats/Staff/maj.html       - Henri Poincare'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjantti at abo.fi  Thu Sep  2 11:37:26 1999
From: mjantti at abo.fi (mjantti@abo.fi)
Date: Thu, 2 Sep 1999 12:37:26 +0300 (EEST)
Subject: [R] Using R-0.65.0 under ESS on Unix
In-Reply-To: <Pine.GSO.4.05.9909012218110.10627-100000@auk.stats>
Message-ID: <199909020937.MAA13356@demetri.pp.htv.fi>

On  1 Sep, Prof Brian D Ripley wrote:
> The fix is simple: delete line 448 of src/unix/sys-common.c (`break;') 
> and re-compile. 

In the version of  src/unix/sys-common.c that I had, there were no more
than 413 lines. I tried deleting the last occurrence of   `break;' on
line 404. vsize now gets set also under ESS.   

Thanks for the information. (and great software, i should add.)

Regards,

Markus 
-- 
Markus Jantti				|	Department of Statistics
markus.jantti at abo.fi			|	Abo Akademi University
http://www.abo.fi/~mjantti		|	FIN 20500 Turku, Finland
358-9-643 747  (Home/Voice)		|	358-2-2154 161	(Office/Voice)
					|	358-2-2154 677	(Office/Fax)
PGP public key: http://www.abo.fi/~mjantti/pubring.asc

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep  2 12:11:03 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 2 Sep 1999 11:11:03 +0100 (BST)
Subject: [R] Using R-0.65.0 under ESS on Unix
In-Reply-To: <199909020937.MAA13356@demetri.pp.htv.fi>
Message-ID: <Pine.GSO.4.05.9909021108480.11735-100000@auk.stats>

On Thu, 2 Sep 1999 mjantti at abo.fi wrote:

> On  1 Sep, Prof Brian D Ripley wrote:
> > The fix is simple: delete line 448 of src/unix/sys-common.c (`break;') 
> > and re-compile. 
> 
> In the version of  src/unix/sys-common.c that I had, there were no more
> than 413 lines. I tried deleting the last occurrence of   `break;' on
> line 404. vsize now gets set also under ESS.   

Yes, that is the right line. I was looking at R-devel by mistake. Sorry for
the added confusion.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From twestley at buffalo.veridian.com  Thu Sep  2 14:55:10 1999
From: twestley at buffalo.veridian.com (Terry Westley)
Date: Thu, 2 Sep 1999 08:55:10 -0400
Subject: [R] reading netCDF files
Message-ID: <NDBBJPJEPMDADGHILPFJEEDECBAA.twestley@buffalo.veridian.com>

Are there routines available for reading/writing netCDF
(http://www.unidata.ucar.edu/packages/netcdf/) files in R?

--
Terry J. Westley, Software Systems Engineering Supervisor
Veridian Engineering, Calspan Operations
P.O. Box 400, Buffalo, NY 14225
twestley at buffalo.veridian.com    http://www.veridian.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjantti at abo.fi  Thu Sep  2 17:22:54 1999
From: mjantti at abo.fi (mjantti@abo.fi)
Date: Thu, 2 Sep 1999 18:22:54 +0300 (EEST)
Subject: [R] unresolved symbols in growth and repeated libraries
Message-ID: <199909021522.SAA30709@demetri.pp.htv.fi>



I am having trouble using Jim Lindsey's libraries because of unresolved
symbols. I am currently using R 0.65.0, but had this problem in earlier
releases as well. I have a RedHat 6.0 Linux on i386 and use egcs
(upgraded to that distributed with rawhide, after first failures with
the libraries):
egcs-g77-1.1.2-19
egcs-1.1.2-19

Installation of the libraries works but on loading
> library(repeated)
Loading required package: rmutil 
Error in dyn.load(file) : unable to load shared library "/usr/local/lib/R/library/repeated/libs/repeated.so":
  /usr/local/lib/R/library/repeated/libs/repeated.so: undefined symbol: do_lio
> library(growth)
Error in dyn.load(file) : unable to load shared library "/usr/local/lib/R/library/growth/libs/growth.so":
  /usr/local/lib/R/library/growth/libs/growth.so: undefined symbol: trans_

I would be greatful for tips from someone who has managed to get these
working on a RedHat Linux (or other Linux for that matter, which
fortran compiler was used and what libraries linked is what I would
like to know).

My $RHOME
/etc/Makeconf is

I# Generated automatically from Makeconf.in by configure.
#
# ${R_HOME}/etc/Makeconf

CC = gcc
CFLAGS = -g -O2
CPICFLAGS = -fPIC
CPPFLAGS = 
DEFS = -DHAVE_CONFIG_H
FC = g77
FFLAGS = -g -O2
FLIBS =  -L/usr/lib/gcc-lib/i386-redhat-linux/egcs-2.91.66 -L/usr/i386-redhat-linux/lib -lg2c -lm
FPICFLAGS = -fPIC
F2C = 
F2CFLAGS = 
SHLIBEXT = so
SHLIBLD = gcc
SHLIBLDFLAGS = -shared

R_XTRA_CFLAGS =  -mieee-fp
R_XTRA_CPPFLAGS = -I$(R_HOME)/include
R_XTRA_FFLAGS = 

ALL_CPPFLAGS = $(R_XTRA_CPPFLAGS) $(CPPFLAGS) $(DEFS)
ALL_CFLAGS = $(R_XTRA_CFLAGS) $(CPICFLAGS) $(CFLAGS)
ALL_FFLAGS = $(R_XTRA_FFLAGS) $(FPICFLAGS) $(FFLAGS)

.SUFFIXES:
.SUFFIXES: .c .f .o

.c.o:
	$(CC) $(ALL_CPPFLAGS) $(ALL_CFLAGS) -c $< -o $@

.f.c:
.f.o:
	$(FC) $(ALL_FFLAGS) -c $< -o $@

$(SHLIB): $(OBJS)
	$(SHLIBLD) $(SHLIBLDFLAGS) $(LDFLAGS) -o $@ $(OBJS) $(FLIBS)
-----------------------------------------------------------------------------------

-- 
Markus Jantti				|	Department of Statistics
markus.jantti at abo.fi			|	Abo Akademi University
http://www.abo.fi/~mjantti		|	FIN 20500 Turku, Finland
358-9-643 747  (Home/Voice)		|	358-2-2154 161	(Office/Voice)
					|	358-2-2154 677	(Office/Fax)
PGP public key: http://www.abo.fi/~mjantti/pubring.asc

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Sep  2 17:51:27 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 2 Sep 1999 08:51:27 -0700 (PDT)
Subject: [R] count of factors
In-Reply-To: <37CE32A9.473925A7@lion-ag.de>
Message-ID: <Pine.GSO.4.10.9909020849320.7486-100000@wompom.biostat.washington.edu>

On Thu, 2 Sep 1999, Laurent Gautier wrote:

> Hello,
> 
> 
> I was used to count how many times every factor is found the following
> way :
> 
> (assuming 'vect' is a vector of factors)
> tapply(vect,vect,length)

You could use table(vect) to count the number of times each level appears
in vect.


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep  2 17:59:01 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Sep 1999 17:59:01 +0200
Subject: [R] unresolved symbols in growth and repeated libraries
In-Reply-To: mjantti@abo.fi's message of "Thu, 2 Sep 1999 18:22:54 +0300 (EEST)"
References: <199909021522.SAA30709@demetri.pp.htv.fi>
Message-ID: <x2iu5t8fui.fsf@blueberry.kubism.ku.dk>

mjantti at abo.fi writes:

> Installation of the libraries works but on loading
> > library(repeated)
> Loading required package: rmutil 
> Error in dyn.load(file) : unable to load shared library "/usr/local/lib/R/library/repeated/libs/repeated.so":
>   /usr/local/lib/R/library/repeated/libs/repeated.so: undefined symbol: do_lio
> > library(growth)
> Error in dyn.load(file) : unable to load shared library "/usr/local/lib/R/library/growth/libs/growth.so":
>   /usr/local/lib/R/library/growth/libs/growth.so: undefined symbol: trans_
> 
> I would be greatful for tips from someone who has managed to get these
> working on a RedHat Linux (or other Linux for that matter, which
> fortran compiler was used and what libraries linked is what I would
> like to know).

Fix the Makefile in repeated so that the libs come after the objects.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjantti at abo.fi  Thu Sep  2 18:08:58 1999
From: mjantti at abo.fi (mjantti@abo.fi)
Date: Thu, 2 Sep 1999 19:08:58 +0300 (EEST)
Subject: [R] unresolved symbols in growth and repeated libraries
In-Reply-To: <x2iu5t8fui.fsf@blueberry.kubism.ku.dk>
Message-ID: <199909021609.TAA31073@demetri.pp.htv.fi>

On  2 Sep, Peter Dalgaard BSA wrote:
> mjantti at abo.fi writes: 
>  
> > Installation of the libraries works but on loading 
> > > library(repeated) 
> > > library(growth) 
> > Error in dyn.load(file) : unable to load shared library "/usr/local/lib/R/library/growth/libs/growth.so": 
SNIP

> Fix the Makefile in repeated so that the libs come after the objects. 

Thanks for swift reply. Changing the line with  $(SHLIBLD) to 

$(SHLIBLD) $(SHLIBLDFLAGS) -o $@ $(OBJS) $(FLIBS) 

in both growth/src/Makefile and repeated/src/Makefile
got rid of the problem. 

Markus
-- 
Markus Jantti				|	Department of Statistics
markus.jantti at abo.fi			|	Abo Akademi University
http://www.abo.fi/~mjantti		|	FIN 20500 Turku, Finland
358-9-643 747  (Home/Voice)		|	358-2-2154 161	(Office/Voice)
					|	358-2-2154 677	(Office/Fax)
PGP public key: http://www.abo.fi/~mjantti/pubring.asc

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.adi.purnomo at EnergyLink.co.nz  Thu Sep  2 22:18:44 1999
From: s.adi.purnomo at EnergyLink.co.nz (Peppy)
Date: Fri, 3 Sep 1999 08:18:44 +1200 
Subject: [R] R Function
Message-ID: <2AEEA90C9555D11198D70000F8790814106F0C@ELSRV1>

Hello,

I need to have a customised R function.  Is there any easy way to do it?
and can it be icluded in the R - library?   My R is 0.64.2  

ta,
Peppy
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sxmishra at dukeengineering.com  Thu Sep  2 22:38:34 1999
From: sxmishra at dukeengineering.com (sxmishra@dukeengineering.com)
Date: Thu, 2 Sep 1999 16:38:34 -0400
Subject: [R] variable importance in ACE
Message-ID: <852567E0.00716534.00@dpinet01.dukepower.com>



Dear List:

I am trying to fit a model y~(x1,x2,...,xn) using ACE, and would like to know
the relative importance of these variables with respect to the overall goodness
of fit.  One approach would be to run ACE multiple times, dropping one variable
at a time, to get the loss in R^2 corresponding to each of the variables, and
ranking them accordingly.  Is there a more elegant solution to this problem?

Thanks.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From imsw at holyrood.ed.ac.uk  Fri Sep  3 16:56:52 1999
From: imsw at holyrood.ed.ac.uk (Ian White)
Date: Fri, 3 Sep 1999 15:56:52 +0100 (BST)
Subject: [R] pictex device driver
Message-ID: <199909031456.PAA23350@holyrood.ed.ac.uk>

I can't get LaTeX to recognize the output from the pictex device
driver. Are these commands for some special latex package which I
don't know about?

************************************************
*    I.White                                   *
*    ICAPB, University of Edinburgh            *
*    Ashworth Laboratories, West Mains Road    *
*    Edinburgh EH9 3JT                         *
*    Fax: 0131 667 3210   Tel: 0131 650 5490   *
*    E-mail: i.m.s.white at ed.ac.uk              *
************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Sep  3 23:59:20 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 3 Sep 1999 23:59:20 +0200
Subject: [R] pictex device driver
In-Reply-To: <199909031456.PAA23350@holyrood.ed.ac.uk> (message from Ian White
	on Fri, 3 Sep 1999 15:56:52 +0100 (BST))
References: <199909031456.PAA23350@holyrood.ed.ac.uk>
Message-ID: <199909032159.XAA02315@sophie.ethz.ch>

>>>>> On Fri, 3 Sep 1999 15:56:52, Ian White <imsw at holyrood.ed.ac.uk> said:

    Ian> I can't get LaTeX to recognize the output from the pictex device
    Ian> driver. Are these commands for some special latex package which I
    Ian> don't know about?

yes, if you read the online help (which you should before asking R-help),
you find the following at the end of the help "page" :

     %% LaTeX Example
     \documentclass{article}
>>>> \usepackage{pictex}   
     \begin{document}
     %...
     \begin{figure}[h]
       \centerline{\input{Rplots.tex}}
       \caption{}
     \end{figure}
     %...
     \end{document}

i.e. the `unknown' package is called "pictex"	...
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mhart at terrigal.net.au  Sat Sep  4 08:24:46 1999
From: mhart at terrigal.net.au (Michael HART)
Date: Sat, 4 Sep 1999 16:24:46 +1000
Subject: [R] AR models
Message-ID: <001e01bef69e$30e91580$41f410cb@michael>

Thanks for all who have helped me with my original queries, below.

I have now managed to import some data and use the ar modeling.  Now I have
some more specific questions about this package if anyone knows the answers
to I would appreciate some help in clearing up a few issues.

I used the routine ar.yw (amongst others) in the library ts.  This routine
automagically chose the ar model order for me.  I was wondering what method
it uses to do this?

The package allows the user to enter a maximum model order from which it
chooses the model order it prefers (below this value).  However I would like
to force it to use a particular ar model order of my choice as I know how
many theoretical processes are in the data (which is more that the order
being chosen).

Can someone with experience with this package or with ar modelling tell me
how to make it force a particular model order.

Also the libraries ts and tseries each use the same name for their base data
types but they are incompatible with each other.

Michael Hart

-----Original Message-----
From: Michael HART <mhart at terrigal.net.au>
To: r-Help List <r-help at stat.math.ethz.ch>
Date: Wednesday, September 01, 1999 6:02 PM
Subject: [R] AR models


>Hello everyone,
>
>I have just installed R and was wondering if anyone knows of any AR
routines
>available for it.  I have had a look on the web site and it says that a
>package called 'ts' (time series) is available but I can't seem to find it
>anywhere.
>
>any help appreciated
>
>Michael Hart
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Sep  4 09:23:45 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 4 Sep 1999 08:23:45 +0100 (BST)
Subject: [R] AR models
In-Reply-To: <001e01bef69e$30e91580$41f410cb@michael>
Message-ID: <Pine.GSO.4.05.9909040813350.14870-100000@auk.stats>

On Sat, 4 Sep 1999, Michael HART wrote:

> Thanks for all who have helped me with my original queries, below.
> 
> I have now managed to import some data and use the ar modeling.  Now I have
> some more specific questions about this package if anyone knows the answers
> to I would appreciate some help in clearing up a few issues.
> 
> I used the routine ar.yw (amongst others) in the library ts.  This routine
> automagically chose the ar model order for me.  I was wondering what method
> it uses to do this?

You could try reading the help page:

     aic: Logical flag.  If `TRUE' then the Akaike Informa-
          tion Criterion is used to choose the order of the
          autoregressive model. If `FALSE', the model of
          order `order.max' is fitted.
...
     Order selection is done by AIC if `aic' is true. This

And AIC is described in the first, second and fourth reference, at least.

> The package allows the user to enter a maximum model order from which it
> chooses the model order it prefers (below this value).  However I would like
> to force it to use a particular ar model order of my choice as I know how
> many theoretical processes are in the data (which is more that the order
> being chosen).

ar(x, aic=F, order=3), for example.

> Can someone with experience with this package or with ar modelling tell me
> how to make it force a particular model order.

Advice: do read the help pages on the functions you use, especially before
asking here.

Library ts is close to but not the same as the functions in S-PLUS. These
and the backround are described in Venables & Ripley (1999) `Modern Applied
Statistics with S-PLUS' and how to do its examples in R is in the R version
of the script in the VR61* package on CRAN.

> Also the libraries ts and tseries each use the same name for their base data
> types but they are incompatible with each other.

We know they overlap, but I was not aware of incompatibility of the base
type (ts) which is defined in base R, not in any package. Package tseries
will be updated shortly: its author contributed some of the functionality
in package ts.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Sun Sep  5 23:08:28 1999
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Sun, 5 Sep 1999 17:08:28 -0400 (EDT)
Subject: [R] data frame component replacement: feature or bug?
Message-ID: <Pine.SGI.3.96.990905151705.25325B-100000@ln.nimh.nih.gov>

Hi, all.

The following does not behave as I think it should, and as it seems to me
it has in the past (although I can't check this easily).  I know it
happens in both R-0.64.2 and R-0.65.0 on an old Power Computing running
Linux-PPC 1999, and in R-0.64.2 on an SGI running Irix 6.5.

Try the following:

t1 <- data.frame(matrix(rnorm(16), nc=4))

> t1
          X1 X2 X3 X4 
1 -0.7206945   0.4511310  -1.0638681 -0.9128938 
2 -1.6340557  -0.8063090   0.7753397  0.3607708 
3  0.5999834   0.5256372   0.4393342  1.3218485 
4  2.8542598  -2.8740136   2.0165816 -0.3026954

> dim(t1)
[1] 4 4

> t1$X1 <- 1  
> t1$X2 <- 2

Note that R accepts this.  I think it's replaced t1$X1 with a 
vector of 1's using the usual repeating rules, and similarly for
X2.  So I should still have a 4 X 4 data frame.
R seems to think so too.

> dim(t1)  
[1] 4 4
> is.data.frame(t1)
[1] TRUE

But:

> print(t1)
Error: dim<- length of dims do not match the length of object

> t1[, 1:2]

$X1
[1] 1

$X2
[1] 2

whereas t1[,3:4] gives me a 4 x 2 data frame as I would expect.

It seems that the "listness" of t1 is beating out it's "matrixness"
(having dimension and so on).  It is possible to get what I want with
t1$X1 <- rep(1, length(t1$X1)).

As I said before, I thought that t1$X1 <- 1 would replace the whole first
column of t1 with 1's.  Did other people think so too?  And is that in
fact the way R should work?

(This example used all numeric columns, in which case a matrix would work.
In some of my real applications, that's not necessarily practical.)

Thanks, 

Matt Wiener



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep  6 00:03:29 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Sep 1999 00:03:29 +0200
Subject: [R] data frame component replacement: feature or bug?
In-Reply-To: Matthew Wiener's message of "Sun, 5 Sep 1999 17:08:28 -0400 (EDT)"
References: <Pine.SGI.3.96.990905151705.25325B-100000@ln.nimh.nih.gov>
Message-ID: <x2u2p9uiby.fsf@blueberry.kubism.ku.dk>

Matthew Wiener <mcw at ln.nimh.nih.gov> writes:

> t1 <- data.frame(matrix(rnorm(16), nc=4))
> t1$X1 <- 1  
> t1$X2 <- 2
> print(t1)
> Error: dim<- length of dims do not match the length of object

Well, it is prototype-compatible. Splus 5.3 does likewise. A way out
is

t1<-data.frame(unclass(t1))

However, we do seem to have a bug in the area:

>  t1 <- data.frame(matrix(rnorm(16), nc=4))
>  transform(t1,X1=1)
Error: dim<- length of dims do not match the length of object
>  transform(t1,X1=1,X2=2)
  X1 X2         X3         X4
1  1  2  0.6020524  1.1595935
2  1  2 -1.8212204 -0.2118746
3  1  2  1.5506706  0.0680275
4  1  2 -0.8872958  0.4709870

This boils down to the construction

dfr[1]<-list(X1=1)

which doesn't extend dfr$X1, whereas

dfr[c(1,2)]<-list(X1=3,X2=4)

does. Splus handles both cases. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep  6 00:32:35 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Sep 1999 00:32:35 +0200
Subject: [R] data frame component replacement: feature or bug? (PR#266)
In-Reply-To: p.dalgaard@biostat.ku.dk's message of "Mon, 6 Sep 1999 00:00:49 +0200 (MET DST)"
References: <199909052200.AAA08081@pubhealth.ku.dk>
Message-ID: <x2so4txa4c.fsf@blueberry.kubism.ku.dk>

p.dalgaard at biostat.ku.dk writes:

> dfr[1]<-list(X1=1)
> 
> which doesn't extend dfr$X1, whereas
> 
> dfr[c(1,2)]<-list(X1=3,X2=4)
> 
> does. Splus handles both cases. 

Found, fixed, and committed for 0.65.1 (a drop=FALSE was missing where
the replication was done)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mavip5 at inet.polyu.edu.hk  Mon Sep  6 03:40:34 1999
From: mavip5 at inet.polyu.edu.hk (Li Dongfeng)
Date: Mon, 06 Sep 1999 09:40:34 +0800
Subject: [R] suggestion: postscript paper=user
Message-ID: <37D31B92.7D4C11DA@inet.polyu.edu.hk>

Dear R developers and users,

  I have a suggestion for the postscript device driver.
Now the paer= option only support "a4", "letter",
"legal", "executive". I suggest we add a "user" option
and letter user provide paper size, even like "595x421",
width>height.

For printing purpose, the provided paper size are
nearly enought. But I need to use R to produce
a lot of graphics, and transform these graphics to
PNG format for web publication.  I use ghostscript
to do the transformation, but the default paper size of the
R postscript device is too big, and the orietation
is not correct(we need landscape). I don't know
how to make the image size smaller and
rotating 90 degrees with ghostscript.  I had to
patch the R source(src/unix/devPS.c)  myself
to add a paper size. If R provide a paper="user "
option for the postscript device, things would be
much easier.

Li Dongfeng


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mavip5 at inet.polyu.edu.hk  Mon Sep  6 07:27:09 1999
From: mavip5 at inet.polyu.edu.hk (Li Dongfeng)
Date: Mon, 06 Sep 1999 13:27:09 +0800
Subject: [R] suggestion: postscript paper=user
References: <37D31B92.7D4C11DA@inet.polyu.edu.hk> <99090600005300.25196@friedman>
Message-ID: <37D350AD.4ED3B32@inet.polyu.edu.hk>



"Alvaro A. Novo" wrote:

> On Sun, 05 Sep 1999, you wrote:
> > Dear R developers and users,
> >
> >   I have a suggestion for the postscript device driver.
> > Now the paer= option only support "a4", "letter",
> > "legal", "executive". I suggest we add a "user" option
> > and letter user provide paper size, even like "595x421",
> > width>height.
> >
> > For printing purpose, the provided paper size are
> > nearly enought. But I need to use R to produce
> > a lot of graphics, and transform these graphics to
> > PNG format for web publication.  I use ghostscript
> > to do the transformation, but the default paper size of the
> > R postscript device is too big, and the orietation
> > is not correct(we need landscape). I don't know
> > how to make the image size smaller and
> > rotating 90 degrees with ghostscript.  I had to
>
> When you issue postscript( ), use option horizontal=TRUE.
>

This will cause the transformed image to be 90 degrees rotated.

>
> Also, by specifying height= and width= you can get size-customized
> images... although I am not sure that this solves your "web problem".
>

The R postscript driver put the restricted graph in the middle of the
page, and ghostscript cannot easily cut the desired region.

>
> Alvaro Novo
> --      --      --      --      --
> Alvaro A. Novo
> 2116-304 S. Orchard St.
> Urbana, IL 61801
> USA
>
> novo at uiuc.edu (Ph.D. Econ)
> (217)369-4872
> --      --      --      --      --

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Sep  6 08:39:33 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 6 Sep 1999 07:39:33 +0100 (BST)
Subject: [R] suggestion: postscript paper=user
In-Reply-To: <37D350AD.4ED3B32@inet.polyu.edu.hk>
Message-ID: <Pine.GSO.4.05.9909060730060.17152-100000@auk.stats>

On Mon, 6 Sep 1999, Li Dongfeng wrote:

> 
> 
> "Alvaro A. Novo" wrote:
> 
> > On Sun, 05 Sep 1999, you wrote:
> > > Dear R developers and users,
> > >
> > >   I have a suggestion for the postscript device driver.
> > > Now the paer= option only support "a4", "letter",
> > > "legal", "executive". I suggest we add a "user" option
> > > and letter user provide paper size, even like "595x421",
> > > width>height.
> > >
> > > For printing purpose, the provided paper size are
> > > nearly enought. But I need to use R to produce
> > > a lot of graphics, and transform these graphics to
> > > PNG format for web publication.  I use ghostscript
> > > to do the transformation, but the default paper size of the
> > > R postscript device is too big, and the orietation
> > > is not correct(we need landscape). I don't know
> > > how to make the image size smaller and
> > > rotating 90 degrees with ghostscript.  I had to
> >
> > When you issue postscript( ), use option horizontal=TRUE.
> >
> 
> This will cause the transformed image to be 90 degrees rotated.

That is actually what you asked for: you want a width > height aspect
ratio on a portrait plot: `landscape' means rotated (one way or the other).

> > Also, by specifying height= and width= you can get size-customized
> > images... although I am not sure that this solves your "web problem".
> >
> 
> The R postscript driver put the restricted graph in the middle of the
> page, and ghostscript cannot easily cut the desired region.

The real issue I think is that you need R to produce an encapsulated
postscript plot with the bounding box set to the region used. Then your (->
PNG) converter will do what you want.  Until we do that (it is on the TODO
list), the simplest idea is to set the postscript bounding box yourself to
the region you want converted.  If you use raw ghostscript to do the
conversion you may need to do more work, but xv and ImageMagick, for
example, convert the region inside the bounding box.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From K.E.Vorloou at durham.ac.uk  Mon Sep  6 11:52:15 1999
From: K.E.Vorloou at durham.ac.uk (Konstantinos Euripides Vorloou)
Date: Mon, 06 Sep 1999 10:52:15 +0100
Subject: [R] Printer button
Message-ID: <37D38ECE.B8067810@durham.ac.uk>

Hi,

I am not able to print from within windows 98 (graphics and text) in
the latest R. Menus and buttons don't function...

platform   Windows
arch       x86
os         Win32
system     x86, Win32
status
status.rev 0
major      0
minor      65.0
year       1999
month      August
day        27
language   R

Anybody encountering the same problem ?
Also windows manipulation by the environment seems problematic.
I keep loosing my text on the screen and the windows refresh
seems to  be really in trouble...

Occasionaly R crashes and I have to reload.
Older Windows versions seemed to be more stable...

Best,
Costas
--

-------------------------------------------------------------------------

Konstantinos E. Vorloou           | Tel: +44 (0)191 374 1821
Department of Economics & Finance | Fax: +44 (0)191 374 7289
University of Durham,             | email: K.E.Vorloou at durham.ac.uk
23/26 Old Elvet,                  | or : Vorlow at bigfoot.com
Durham DH1 3HY,                   | or : vorlow at rocketmail.com
UK.                               | Express:
20595534 at pager.mirabilis.com
----------------------------------| ICQ number: 20595534
http://www.durham.ac.uk/Economics | http://www.durham.ac.uk/~dec3kev
-------------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Sep  6 23:04:58 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 6 Sep 1999 22:04:58 +0100 (BST)
Subject: [R] Printer button
In-Reply-To: <37D38ECE.B8067810@durham.ac.uk>
Message-ID: <Pine.GSO.4.05.9909062153070.18179-100000@auk.stats>

On Mon, 6 Sep 1999, Konstantinos Euripides Vorloou wrote:

> Hi,
> 
> I am not able to print from within windows 98 (graphics and text) in
> the latest R. Menus and buttons don't function...

The version info does not square with `the latest R' (R-release or R-devel,
and the latest R for Windows release is 0.64.2). Which compiler did you use
to compile it? This and a few other things seem related to the precise
compiler header files used.  The menus and buttons do function: the printer
interface does not with gcc-2.95 for some reason.

> Also windows manipulation by the environment seems problematic.
> I keep loosing my text on the screen and the windows refresh
> seems to  be really in trouble...

I have no problems here, but I only use NT, and I don't have a printer
attached.

> Occasionaly R crashes and I have to reload.
> Older Windows versions seemed to be more stable...

Could you please do some debugging of your crashes and send in a more
informative error report using bug.report(), so we get all the information?

BTW, if perchance you are using the preliminary version from my contrib
area, do read the announcement more carefully.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nda at mailcall.com.au  Tue Sep  7 00:59:04 1999
From: nda at mailcall.com.au (Nikita Atkins)
Date: Tue, 7 Sep 1999 08:59:04 +1000 (EST)
Subject: [R] Formatted Tables
Message-ID: <199909062259.IAA29103@cuss.mailcall>

I was wondering is there anything in R that allows better presentated
tables.  I think in S-Plus there is something like a LaTeX command that
allows such things to be used and formatted in LaTeX.  

This is probably a bit much but just something that could be output to
both the X11 or a postscript file

Thank you for any suggestions

Nikita Atkins
nda at mailcall.com.au
Mail Call Couriers
PO BOX 675
Willoughby NSW 2068
"Consistently Fast Couriers"

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Tue Sep  7 11:55:24 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Tue, 7 Sep 1999 11:55:24 +0200 (MET DST)
Subject: [R] broken libraries
Message-ID: <199909070955.LAA17124@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 1240 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19990907/7659ff38/attachment.pl

From karen at gecko.biol.wits.ac.za  Tue Sep  7 12:24:38 1999
From: karen at gecko.biol.wits.ac.za (KAREN KOTSCHY)
Date: Tue, 7 Sep 1999 12:24:38 GMT+2
Subject: [R] Error bars on barplots
Message-ID: <83F2C477DAE@gecko.biol.wits.ac.za>

Hi everyone

I've finally had a chance to look at this problem again. Thanks to 
Paul Murrell and Bendix Carstensen, putting error bars on barplots 
with single bars is quite simple, as barplot returns the x locations 
of the bar midpoints.

However... with plots where you have groups of bars (where x is a 
matrix and beside=T), it is not as simple. One can work out the x 
locations of each individual bar manually, knowing the bar width 
and the midpoint of the group. I've written a function to do this when 
there are 3 bars in a group (see below). I'm sure the R gurus out 
there could suggest a more elegant or a simpler way!

Here are my functions, for anyone else wanting to put error bars 
onto these kind of barplots. Hopefully someone might find them 
useful.

# This calculates the x locations of individual bars, where there are 
# 3 bars per group.
# Arguments: x = the vector of bar group midpoints returned by 
# barplot.

barxloc <- function(x) {
   j <- 1
   v <- c()
   for (i in 1:length(x)) {
      v[[j]] <- x[[i]] - 1
      j <- j + 1
      v[[j]] <- x[[i]]
      j <- j + 1
      v[[j]] <- x[[i]] + 1
      j <- j + 1
      }
   return(v)
}

# This adds error bars to the plot (y+se only):
# Arguments: x = as above, means and se = matrices containing 
# the data to be plotted.

errbars <- function(x, means, se) {
   a <- barxloc(x)
   a <- unlist(a)
   arrows(a, means, a means+se, angle=90, code=2, length=0.1)
}

----------------------------

Karen Kotschy
Centre for Water in the Environment
University of the Witwatersrand
Johannesburg

Tel: 011 716-2218
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Sep  7 17:38:26 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 7 Sep 1999 08:38:26 -0700 (PDT)
Subject: [R] broken libraries
In-Reply-To: <199909070955.LAA17124@alpha.luc.ac.be>
Message-ID: <Pine.GSO.4.10.9909070828060.8362-100000@wompom.biostat.washington.edu>

On Tue, 7 Sep 1999, Jim Lindsey wrote:

> Due to several changes in R0.65.0, virtually all of the functions in
> my libraries (v0.5) are broken. For example, for some strange reason,
> functions now have a character copy of themselves as an attribute,
> conflicting with the attributes I have on my created (environment
> dependent) functions.

This is to hold the comments in the right place. There have been
complaints for a long time that comments can drift badly in, for example,
if() statements. It's mentioned in the NEWS file, but not, unfortunately,
documented in help(options).

Packages loaded by the library() command do not have this
attribute present. You can stop it being added in closure-generating
functions by using
	
	op<-options(keep.source=FALSE)
	on.exit(options(op))

There is an example of this in the library() function.


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego.Kuonen at epfl.ch  Tue Sep  7 20:30:09 1999
From: Diego.Kuonen at epfl.ch (Diego Kuonen)
Date: Tue, 07 Sep 1999 20:30:09 +0200
Subject: [R] R-0.65.0 on mips-sgi-irix6.5:  Error code 1 (bu21)
Message-ID: <37D559B1.536C4CA@epfl.ch>

Dear all,

I want to install R-0.65.0 on mips-sgi-irix6.5 (SGI IRIX 6.5 IP32),
but it doesn't work !!!


I run the following configure call:


<146>: ./configure --prefix=/usr/people40c/kuonen/Software/bin

  ...

R is now configured for mips-sgi-irix6.5

  Source directory:         .
  Installation directory:   /usr/people40c/kuonen/Software/bin
  C compiler:               gcc  -g -O2
  FORTRAN compiler:         f77
  Gnome support:            no


Ok, then I simply type


<147>:R-0.65.0: make
        gcc -I. -I../include -I../../src/include  -DHAVE_CONFIG_H  -g -O2 -c S_compat.c -o S_compat.o
In file included from ../include/S.h:47,
                 from ../include/S_compat.h:28,
                 from S_compat.c:28:
/usr/local/lib/gcc-lib/mips-sgi-irix6.2/2.8.1/include/math.h:681: conflicting types for `srandom'
/usr/include/stdlib.h:234: previous declaration of `srandom'
/usr/local/lib/gcc-lib/mips-sgi-irix6.2/2.8.1/include/math.h:682: conflicting types for `initstate'
/usr/include/stdlib.h:226: previous declaration of `initstate'
/usr/local/lib/gcc-lib/mips-sgi-irix6.2/2.8.1/include/math.h:683: conflicting types for `setstate'
/usr/include/stdlib.h:233: previous declaration of `setstate'
*** Error code 1 (bu21)
*** Error code 1 (bu21)
*** Error code 1 (bu21)
*** Error code 1 (bu21)



I know that these errors mean that the functions srandom and *state are being
declared twice with different types; giving me  the relevant files and line
numbers....

But, as I am not root on the machine, I'm unable to change the system files, but
I tried to change the header files in

   /usr/people40c/kuonen/Software/R-0.65.0/include

in order to comment lines where "math.h" occurred (as the declaration in
/usr/include/stdlib.h may be sufficient), but each time re-running
"make", it produced the same error messages...  May there be a possibility
to use "make" without rebuilding the header files in

   /usr/people40c/kuonen/Software/R-0.65.0/include

, or is there a simpler solution to my problem? Maybe just an argument to
be passed to gcc?


I appreciate your help!

Have a great day,

  Diego



P.S.: using "egcs" instead of the "normal gcc" did produce the same...


--
------------------------------------------------------------
Diego Kuonen, DMA-Ecublens, EPFL, 1015 Lausanne, Switzerland

Diego.Kuonen at epfl.ch                        Diego at Kuonen.com
http://statwww.epfl.ch/people/kuonen/

"You have to live on the
edge of reality - to
make your dreams
come true!"                              Powered by Linux...
------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ist10504 at giuliari.univr.it  Wed Sep  8 09:21:57 1999
From: ist10504 at giuliari.univr.it (Francesco Pecci)
Date: Wed, 08 Sep 1999 09:21:57 +0200
Subject: [R] Installation of R in a Linux/Intel platform
Message-ID: <3.0.6.32.19990908092157.007cf5a0@giuliari.univr.it>

I use R fluently with Windows98/NT. I have tried to install R
(R-base_0.64_2-2.i386.rpm) in a Linux/Intel platform  (RedHat 6.0), but the
system signals the following message of error (gnomerpm): file not rpm.I
have tried, without success, to install R-base_0.64_2-2.src.rpm. Thanks for
the help.
Francesco Pecci
Dipartimento di Economie, Societ? ed Istituzioni
Via dell'Artigliere, 8
37129 VERONA
tel. 39-45-8098718/236
fax 39-45-8098434
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Wed Sep  8 10:50:07 1999
From: plummer at iarc.fr (Martyn Plummer)
Date: Wed, 08 Sep 1999 10:50:07 +0200 (CEST)
Subject: [R] Installation of R in a Linux/Intel platform
In-Reply-To: <3.0.6.32.19990908092157.007cf5a0@giuliari.univr.it>
Message-ID: <XFMail.990908105007.plummer@iarc.fr>

On 08-Sep-99 Francesco Pecci wrote:
> I use R fluently with Windows98/NT. I have tried to install R
> (R-base_0.64_2-2.i386.rpm) in a Linux/Intel platform  (RedHat 6.0), but the
> system signals the following message of error (gnomerpm): file not rpm.I
> have tried, without success, to install R-base_0.64_2-2.src.rpm. Thanks for
> the help.
> Francesco Pecci

It works for me! It is possible that the file has become corrupted
when you downloaded it and is therefore no longer recognized as an RPM
file. If you are using ftp, make sure you set the connection to binary
before downloading.

The file with the extension src.rpm is not installable: it contains the
source from which the RPM file is built.

Red Hat Linux/Intel 6.0 RPMS for R 0.65.0 will be available from
CRAN in a day or so, with RPMS for other platforms following soon
after. 

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From y0004379 at tu-bs.de  Wed Sep  8 13:51:05 1999
From: y0004379 at tu-bs.de (Peter Malewski)
Date: Wed, 8 Sep 1999 13:51:05 +0200 (METDST)
Subject: No subject
Message-ID: <Pine.HPX.4.05.9909081347140.10753-100000@rzsrv1.rz.tu-bs.de>

Hallo,
I'm looking for a "sunflower" plot. I noticed the
Splus function "p.sunflowers" (Andreas Ruckstuhl, Werner Stahel, Martin
Maechler, Tim Hesterberg) don't work... If its not available I would port
this function...

Thanks for 1 answer
P



***************************************************************************
P.Malewski					Tel.: 0531 500965
Maschplatz 8					Email: P.Malewski at tu-bs.de
************************38114 Braunschweig********************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uli at biochem.dshs-koeln.de  Wed Sep  8 15:54:01 1999
From: uli at biochem.dshs-koeln.de (Uli Flenker; Raum 704)
Date: Wed, 8 Sep 1999 15:54:01 +0200 (CEST)
Subject: [R] Error bars on barplots
In-Reply-To: <83F2C477DAE@gecko.biol.wits.ac.za>
Message-ID: <Pine.LNX.3.95.990908154634.27929B-100000@pcinternet.biochem.dshs-koeln.de>


As I wrote before: This calculates appropriate x-values for grouped
barplots, "x" being the matrix of interest. Not elegant but it works.

cumsum(array(c(1,rep(0,dim(x)[1]-1)),
	dim=c(1,length(x))))+0:(length(x)-1)+.5


        Uli Flenker
        Institute of Biochemistry
        German Sports University Cologne
        Carl-Diem-Weg 6

        50933 Cologne / Germany

        Phone 0049/0221/4982-493


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Sep  8 16:55:21 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 8 Sep 1999 16:55:21 +0200
Subject: [R] sunflowers for R
In-Reply-To: <Pine.HPX.4.05.9909081347140.10753-100000@rzsrv1.rz.tu-bs.de>
	(message from Peter Malewski on Wed, 8 Sep 1999 13:51:05 +0200
	(METDST))
References: <Pine.HPX.4.05.9909081347140.10753-100000@rzsrv1.rz.tu-bs.de>
Message-ID: <199909081455.QAA10013@sophie.ethz.ch>


    Peter> Hallo, I'm looking for a "sunflower" plot. I noticed the Splus
    Peter> function "p.sunflowers" (Andreas Ruckstuhl, Werner Stahel,
    Peter> Martin Maechler, Tim Hesterberg) don't work... If its not
    Peter> available I would port this function...

    Peter> Thanks for 1 answer P

Good you ask.
Actually, I *did* the port already a while ago,
and have always wanted to add it to "base" R.

During writing documentation, 
I found I wanted to improve on the port,
and then somehow didn't get finished..

I'll have a look send you a working version in a few minutes.
After your feedback (and some polishing), I hope it will finally make its
way into R...


Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep  8 17:27:17 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Sep 1999 17:27:17 +0200
Subject: [R] Error bars on barplots
In-Reply-To: "Uli Flenker; Raum 704"'s message of "Wed, 8 Sep 1999 15:54:01 +0200 (CEST)"
References: <Pine.LNX.3.95.990908154634.27929B-100000@pcinternet.biochem.dshs-koeln.de>
Message-ID: <x2wvu1o23u.fsf@blueberry.kubism.ku.dk>

"Uli Flenker; Raum 704" <uli at biochem.dshs-koeln.de> writes:

> As I wrote before: This calculates appropriate x-values for grouped
> barplots, "x" being the matrix of interest. Not elegant but it works.
> 
> cumsum(array(c(1,rep(0,dim(x)[1]-1)),
> 	dim=c(1,length(x))))+0:(length(x)-1)+.5
> 

There are also issues of "width" and "space". Actually barplot()
itself will return the relevant values if the names.arg argument has
the same length as the total number of columns, but the plot will look
awful. I suppose we could do with a plot=FALSE argument as we have for
hist()?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oka at debian.or.jp  Wed Sep  8 13:00:09 1999
From: oka at debian.or.jp (Mitsuru Oka)
Date: Wed, 08 Sep 1999 20:00:09 +0900
Subject: [R] PostScript output error
Message-ID: <14294.16825.513858.25346W@ryo1131.aist-nara.ac.jp>


Hello,

I'm currently using R-0.65.0 with --gnome option in
configure on IRIX64 and Debian GNU/Linux.

I found a problem in generated postscript file which
has following sequence:

  x <- 1:30
  postscript("output.ps")
  par(mfg=c(1,1,2,2))
  plot(x,sin(x))
  plot(x,sin(x))
  plot(x,sin(x))
  plot(x,sin(x))
  dev.off()

The generated postscript file "output.ps" can't be
interpreted by Aladdin Ghostscript 5.10.

  Error: /undefined in ps
  Operand stack:
     (0)   0.5   0.0
  Execution stack:
     %interp_exit   .runexec2   --nostringval--   --nostringval--   --nostringval--   2   %stopped_push   --nostringval--   2   3   %oparray_pop   --nostringval--   --nostringval--   false   1   %stopped_push   1   3   %oparray_pop   .runexec2   --nostringval--   --nostringval--   --nostringval--   2   %stopped_push   --nostringval--   --nostringval--   --nostringval--   --nostringval--   5   3   %oparray_pop
  Dictionary stack:
     --dict:781/809--   --dict:0/20--   --dict:89/200--
  Current allocation mode is local
  Current file position is 3092


What is a problem in my program or R?

Thanks.
--
Mitsuru Oka
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gordon.harrington at uni.edu  Thu Sep  9 07:16:26 1999
From: gordon.harrington at uni.edu (gordon.harrington@uni.edu)
Date: Thu, 09 Sep 1999 00:16:26 -0500 (CDT)
Subject: [R] monitor linearity
Message-ID: <ML-3.3.936854186.9124.gordon@rats.localdomain>

demo("graphics") notes that a circle (piechart) is a test of monitor linearity.
With a new monitor on a new linux system with R-0.65.0 I get an ellipse. This
is not a pincushion effect and the major/minor axis ratio is constant over size
and screen location variation. Is this a hardware problem or are there
alternative possible explanations to explore?



Gordon M. Harrington		Mail:	3720 Village Place, #6308
Professor Emeritus			Waterloo, IA 50702-5848
University of Northern Iowa 	Phone:	319-291-8535
gordon.harrington at uni.edu	Fax:	319-291-8491
dryfly at aya.yale.edu			319-291-8324

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep  9 08:31:20 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 9 Sep 1999 07:31:20 +0100 (BST)
Subject: [R] PostScript output error
In-Reply-To: <14294.16825.513858.25346W@ryo1131.aist-nara.ac.jp>
Message-ID: <Pine.GSO.4.05.9909090717590.3933-100000@auk.stats>

On Wed, 8 Sep 1999, Mitsuru Oka wrote:

> 
> Hello,
> 
> I'm currently using R-0.65.0 with --gnome option in
> configure on IRIX64 and Debian GNU/Linux.
> 
> I found a problem in generated postscript file which
> has following sequence:
> 
>   x <- 1:30
>   postscript("output.ps")
>   par(mfg=c(1,1,2,2))
>   plot(x,sin(x))
>   plot(x,sin(x))
>   plot(x,sin(x))
>   plot(x,sin(x))
>   dev.off()
> 
> The generated postscript file "output.ps" can't be
> interpreted by Aladdin Ghostscript 5.10.
> 
>   Error: /undefined in ps
>   Operand stack:
>      (0)   0.5   0.0
>   Execution stack:
>      %interp_exit   .runexec2   --nostringval--   --nostringval--   --nostringval--   2   %stopped_push   --nostringval--   2   3   %oparray_pop   --nostringval--   --nostringval--   false   1   %stopped_push   1   3   %oparray_pop   .runexec2   --nostringval--   --nostringval--   --nostringval--   2   %stopped_push   --nostringval--   --nostringval--   --nostringval--   --nostringval--   5   3   %oparray_pop
>   Dictionary stack:
>      --dict:781/809--   --dict:0/20--   --dict:89/200--
>   Current allocation mode is local
>   Current file position is 3092
> 
> 
> What is a problem in my program or R?

Your R code, primarily.

I get that error too. But you need

   x <- 1:30
   par(mfcol=c(2,2))
   plot(x,sin(x))
....

As?par says

     mfg: A numerical vector of the form `c(i, j, nr, nc)'
          where `i' and `j' indicate which figure in an
          `nr'-by-`nc' array of figures is currently being
          drawn.

and you need to set up the array first, by setting parameter mfrow or
mfcol.

I have to say that this would be hard to really understand from the help
page, but it is quite clearly explaind in the recommended R documentation
(as both Rnotes and Venables & Ripley have the same original source for
this, Bill Venables).

S, which is being copied here, just draws 4 superimposed plots.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oka at debian.or.jp  Thu Sep  9 09:41:14 1999
From: oka at debian.or.jp (Mitsuru Oka)
Date: Thu, 09 Sep 1999 16:41:14 +0900
Subject: [R] PostScript output error
In-Reply-To: In your message of "Thu, 9 Sep 1999 07:31:20 +0100 (BST)"
	<Pine.GSO.4.05.9909090717590.3933-100000@auk.stats>
References: <14294.16825.513858.25346W@ryo1131.aist-nara.ac.jp>
	<Pine.GSO.4.05.9909090717590.3933-100000@auk.stats>
Message-ID: <14295.25754.297585.90123Q@ryo1131.aist-nara.ac.jp>


At Thu, 9 Sep 1999 07:31:20 +0100 (BST),
Prof Brian D Ripley <ripley at stats.ox.ac.uk> wrote:
> 
> On Wed, 8 Sep 1999, Mitsuru Oka wrote:
> 
> > 
> > Hello,
> > 
> > I'm currently using R-0.65.0 with --gnome option in
> > configure on IRIX64 and Debian GNU/Linux.
> > 
> > I found a problem in generated postscript file which
> > has following sequence:
> > 
> >   x <- 1:30
> >   postscript("output.ps")
> >   par(mfg=c(1,1,2,2))
> >   plot(x,sin(x))
> >   plot(x,sin(x))
> >   plot(x,sin(x))
> >   plot(x,sin(x))
> >   dev.off()
> > 
> > The generated postscript file "output.ps" can't be
> > interpreted by Aladdin Ghostscript 5.10.
> > 
> >   Error: /undefined in ps
> >   Operand stack:
> >      (0)   0.5   0.0
> >   Execution stack:
> >      %interp_exit   .runexec2   --nostringval--   --nostringval--   --nostringval--   2   %stopped_push   --nostringval--   2   3   %oparray_pop   --nostringval--   --nostringval--   false   1   %stopped_push   1   3   %oparray_pop   .runexec2   --nostringval--   --nostringval--   --nostringval--   2   %stopped_push   --nostringval--   --nostringval--   --nostringval--   --nostringval--   5   3   %oparray_pop
> >   Dictionary stack:
> >      --dict:781/809--   --dict:0/20--   --dict:89/200--
> >   Current allocation mode is local
> >   Current file position is 3092

I added following contexts:

  %%Page: 1 1
  bp                  <- this, (after %%Page..)

and

  /ps 12 def R 12 s   <- this, (before ... t, `t' contain `ps' operator)
  71.56 335.65 (-2) 0.50 0.00 0.00 t

Then, ghostscript interpret modified program right well.


> > What is a problem in my program or R?
> 
> Your R code, primarily.
> 
> I get that error too. But you need
> 
>    x <- 1:30
>    par(mfcol=c(2,2))
>    plot(x,sin(x))
> ....
> 
> As?par says
> 
>      mfg: A numerical vector of the form `c(i, j, nr, nc)'
>           where `i' and `j' indicate which figure in an
>           `nr'-by-`nc' array of figures is currently being
>           drawn.
> 
> and you need to set up the array first, by setting parameter mfrow or
> mfcol.

Thanks, mfcol work right well on my R.

But, I compared mfg with mfcol (file src/main/par.c).
mfcol relate context here:

    else if (streql(what, "mfcol")) {
    int nrow, ncol;
    value = coerceVector(value, INTSXP);
    lengthCheck(what, value, 2);
    posIntCheck(INTEGER(value)[0], what);
    posIntCheck(INTEGER(value)[1], what);
    nrow = INTEGER(value)[0];
    ncol = INTEGER(value)[1];
    dd->gp.numrows = dd->dp.numrows = nrow;
    dd->gp.numcols = dd->dp.numcols = ncol;
    dd->gp.currentFigure = dd->dp.currentFigure = nrow*ncol;
    dd->gp.lastFigure = dd->dp.lastFigure = nrow*ncol;
    dd->gp.defaultFigure = dd->dp.defaultFigure = 1;
    dd->gp.layout = dd->dp.layout = 0;
    if (nrow > 2 || ncol > 2) {
        dd->gp.cexbase = dd->dp.cexbase = 0.5;
        dd->gp.mex = dd->dp.mex = 1.0;
    }
    else if (nrow == 2 && ncol == 2) {
        dd->gp.cexbase = dd->dp.cexbase = 0.8;
        dd->gp.mex = dd->dp.mex = 1.0;
    }
    else {
        dd->gp.cexbase = dd->dp.cexbase = 1.0;
        dd->gp.mex = dd->dp.mex = 1.0;
    }
    dd->dp.mfind = dd->gp.mfind = 1;
    GReset(dd);
    }

and mfg here:

    else if (streql(what, "mfg")) {
    int row, col, nrow, ncol;
    value = coerceVector(value, INTSXP);
    lengthCheck(what, value, 4);
    posIntCheck(INTEGER(value)[0], what);
    posIntCheck(INTEGER(value)[1], what);
    posIntCheck(INTEGER(value)[2], what);
    posIntCheck(INTEGER(value)[3], what);
    row = INTEGER(value)[0];
    col = INTEGER(value)[1];
    nrow = INTEGER(value)[2];
    ncol = INTEGER(value)[3];
    dd->gp.numrows = dd->dp.numrows = nrow;
    dd->gp.numcols = dd->dp.numcols = ncol;
    dd->gp.lastFigure = dd->dp.lastFigure = nrow*ncol;
    dd->dp.mfind = dd->gp.mfind = 1;
    /* currentFigure is 1-based */
    dd->dp.currentFigure = (col-1)*nrow + row;
    /*
      if (dd->dp.currentFigure == 0)
      dd->dp.currentFigure = dd->dp.lastFigure;
    */
    dd->gp.currentFigure = dd->dp.currentFigure;
    dd->gp.defaultFigure = dd->dp.defaultFigure = 1;
    dd->gp.layout = dd->dp.layout = 0;
    dd->gp.new = dd->dp.new = 1;
    if (nrow > 2 || ncol > 2) {
        dd->gp.cexbase = dd->dp.cexbase = 0.5;
        dd->gp.mex = dd->dp.mex = 1.0;
    }
    else if (nrow == 2 && ncol == 2) {
        dd->gp.cexbase = dd->dp.cexbase = 0.8;
        dd->gp.mex = dd->dp.mex = 1.0;
    }
    else {
        dd->gp.cexbase = dd->dp.cexbase = 1.0;
        dd->gp.mex = dd->dp.mex = 1.0;
    }
    GReset(dd);
    }

Both are not so different.
Where is the code to set up array?

--
Mitsuru Oka
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep  9 10:03:37 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Sep 1999 10:03:37 +0200
Subject: [R] monitor linearity
In-Reply-To: gordon.harrington@uni.edu's message of "Thu, 09 Sep 1999 00:16:26 -0500 (CDT)"
References: <ML-3.3.936854186.9124.gordon@rats.localdomain>
Message-ID: <x2g10opl46.fsf@blueberry.kubism.ku.dk>

gordon.harrington at uni.edu writes:

> demo("graphics") notes that a circle (piechart) is a test of monitor linearity.
> With a new monitor on a new linux system with R-0.65.0 I get an ellipse. This
> is not a pincushion effect and the major/minor axis ratio is constant over size
> and screen location variation. Is this a hardware problem or are there
> alternative possible explanations to explore?

(Actually, I always though that referred to the colour scale...) 

I get circles. Well, close enough anyway...

I suspect that your hardware is giving rectangular pixels. What's the
resolution of your display? It is possible to set up X with a non-4:3
aspect ratio (i.e. 800x600, 1024x768, 1152x864, ...) which might be
what is happening to you. Or maybe the monitor itself isn't 4:3.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Thu Sep  9 10:00:26 1999
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 9 Sep 1999 10:00:26 +0200 (CEST)
Subject: [R] R-0.65.0 on mips-sgi-irix6.5:  Error code 1 (bu21)
In-Reply-To: <37D559B1.536C4CA@epfl.ch>
References: <37D559B1.536C4CA@epfl.ch>
Message-ID: <14295.26906.955027.412866@fangorn.ci.tuwien.ac.at>

>>>>> Diego Kuonen writes:

> Dear all,
> I want to install R-0.65.0 on mips-sgi-irix6.5 (SGI IRIX 6.5 IP32),
> but it doesn't work !!!

> I run the following configure call:


> <146>: ./configure --prefix=/usr/people40c/kuonen/Software/bin

>   ...

> R is now configured for mips-sgi-irix6.5

>   Source directory:         .
>   Installation directory:   /usr/people40c/kuonen/Software/bin
>   C compiler:               gcc  -g -O2
>   FORTRAN compiler:         f77
>   Gnome support:            no


> Ok, then I simply type


> <147>:R-0.65.0: make
>         gcc -I. -I../include -I../../src/include  -DHAVE_CONFIG_H  -g -O2 -c S_compat.c -o S_compat.o
> In file included from ../include/S.h:47,
>                  from ../include/S_compat.h:28,
>                  from S_compat.c:28:
> /usr/local/lib/gcc-lib/mips-sgi-irix6.2/2.8.1/include/math.h:681: conflicting types for `srandom'
> /usr/include/stdlib.h:234: previous declaration of `srandom'
> /usr/local/lib/gcc-lib/mips-sgi-irix6.2/2.8.1/include/math.h:682: conflicting types for `initstate'
> /usr/include/stdlib.h:226: previous declaration of `initstate'
> /usr/local/lib/gcc-lib/mips-sgi-irix6.2/2.8.1/include/math.h:683: conflicting types for `setstate'
> /usr/include/stdlib.h:233: previous declaration of `setstate'
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)
> *** Error code 1 (bu21)

> I know that these errors mean that the functions srandom and *state
> are being declared twice with different types; giving me the relevant
> files and line numbers....

Hmm ... looks like gcc's math.h is trying to fix a ``broken'' system
header file.  I am not sure what ANSI thinks about srandom, my Linux
manpage says

       #include <stdlib.h>

       long int random(void);
       void srandom(unsigned int seed);
       char *initstate(unsigned int seed, char *state, size_t n);
       char *setstate(char *state);

What do the conflicting header files think?

Duncan and whoever else has access to SGI---anything special one needs
on SGI?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego.Kuonen at epfl.ch  Thu Sep  9 10:23:03 1999
From: Diego.Kuonen at epfl.ch (Diego Kuonen)
Date: Thu, 09 Sep 1999 10:23:03 +0200
Subject: [R] R-0.65.0 on mips-sgi-irix6.5:  Error code 1 (bu21)
References: <37D559B1.536C4CA@epfl.ch> <14295.26906.955027.412866@fangorn.ci.tuwien.ac.at>
Message-ID: <37D76E67.92CED366@epfl.ch>

> What do the conflicting header files think?

Lines 681 to 683 from 
  /usr/local/lib/gcc-lib/mips-sgi-irix6.2/2.8.1/include/math.h

	extern int  srandom(unsigned);
	extern char *initstate(unsigned int, char *, int);
	extern char *setstate(char *);

And /usr/include/stdlib.h says:

	extern char *initstate(unsigned int, char *, size_t);
	extern char *setstate(const char *);
	extern void srandom(unsigned);

 
There's no "#include <stdlib.h>" call in the file
  /usr/local/lib/gcc-lib/mips-sgi-irix6.2/2.8.1/include/math.h
as there was for your math.h header file:

	<120> : cat math.h | grep include
	#include <sgidefs.h>
	#include <standards.h>
	#include <svr4_math.h>

BTW,
	<121>: cat /usr/include/stdlib.h | grep include
	#include <standards.h>
	#include <sgidefs.h>
	#include <locale_attr.h>
	#include <getopt.h>
	#include <inttypes.h>


But, as said, I'm not root an the system...

I appreciate your help...

    Diego


-- 
                       _     _ 
                     o' \,=./ `o
                        (o o)
 /----------------o-ooO--(_)--Ooo-o---------------\
/                                                  \
|                   Diego  Kuonen                  |
|  DMA-Ecublens, EPFL, 1015 Lausanne, Switzerland  |
|  Diego.Kuonen at epfl.ch          Diego at Kuonen.com  |
|      http://statwww.epfl.ch/people/kuonen/       |
|                                                  |
|   _           __   _                         _   |
|  (o-         / /  (_)__  __ ____  __        -o)  |
|  //\        / /__/ / _ \/ // /\ \/ /        /\\  |
|..v_/_....../____/_/_//_/\_,_/ /_/\_\......._\_v..|
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep  9 11:00:39 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 9 Sep 1999 10:00:39 +0100 (BST)
Subject: [R] R-0.65.0 on mips-sgi-irix6.5:  Error code 1 (bu21)
In-Reply-To: <37D76E67.92CED366@epfl.ch>
Message-ID: <Pine.GSO.4.05.9909090952490.4193-100000@auk.stats>

On Thu, 9 Sep 1999, Diego Kuonen wrote:

> > What do the conflicting header files think?
> 
> Lines 681 to 683 from 
>   /usr/local/lib/gcc-lib/mips-sgi-irix6.2/2.8.1/include/math.h
> 
> 	extern int  srandom(unsigned);
> 	extern char *initstate(unsigned int, char *, int);
> 	extern char *setstate(char *);

> And /usr/include/stdlib.h says:
> 
> 	extern char *initstate(unsigned int, char *, size_t);
> 	extern char *setstate(const char *);
> 	extern void srandom(unsigned);

That's what my book has for ANSI, including having those defined in
stdlib.h not math.h. That's where they are for me on Solaris and Linux.

> 
> I appreciate your help...
> 

You need a working compilation system.  We had one report:

NAME            Laurent Gautier
EMAIL           laurent.gautier at lionbioscience.de
VERSION         0.65.0 (1999/08/18)
PLATFORM     mips-sgi-irix6.5
SYSTEM
CC              gcc version egcs-2.91.60 19981201 (egcs-1.1.1 release)
FC              g77 GNU Fortran 0.5.24-19980804
MAKE            make

so perhaps you need to try egcs-1.1.2 or gcc-2.95.1.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep  9 11:17:31 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Sep 1999 11:17:31 +0200
Subject: [R] R-0.65.0 on mips-sgi-irix6.5:  Error code 1 (bu21)
In-Reply-To: Diego Kuonen's message of "Tue, 07 Sep 1999 20:30:09 +0200"
References: <37D559B1.536C4CA@epfl.ch>
Message-ID: <x2g10oxx3o.fsf@blueberry.kubism.ku.dk>

Diego Kuonen <Diego.Kuonen at epfl.ch> writes:

> Dear all,
> 
> I want to install R-0.65.0 on mips-sgi-irix6.5 (SGI IRIX 6.5 IP32),
                                             ***

> /usr/local/lib/gcc-lib/mips-sgi-irix6.2/2.8.1/include/math.h:681:
                                      ***

I think that is your problem. Your OS got upgraded but not your gcc.
GCC looks at the system include files and generates its own ones from
them. If the system files change, one gets in trouble. We've
previously seen very similar effects between Solaris versions.

> But, as I am not root on the machine, I'm unable to change the system files

Well, I suggest that you go and talk to the person who is and say that
the system C compiler is defunct... 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego.Kuonen at epfl.ch  Thu Sep  9 11:40:52 1999
From: Diego.Kuonen at epfl.ch (Diego Kuonen)
Date: Thu, 09 Sep 1999 11:40:52 +0200
Subject: [R] R-0.65.0 on mips-sgi-irix6.5:  Error code 1 (bu21)
References: <Pine.GSO.4.05.9909090952490.4193-100000@auk.stats>
Message-ID: <37D780A4.4E1184A7@epfl.ch>

Prof Brian D Ripley wrote:
> so perhaps you need to try egcs-1.1.2 or gcc-2.95.1.

I tried both:

<140>:R-0.65.0: /usr/local/egcs/bin/gcc -v
Reading specs from /usr/local/egcs/lib/gcc-lib/mips-sgi-irix6.2/egcs-2.91.66/specs
gcc version egcs-2.91.66 19990314 (egcs-1.1.2 release)

<141>:R-0.65.0: gcc -v
Reading specs from /usr/local/lib/gcc-lib/mips-sgi-irix6.2/2.8.1/specs
gcc version 2.8.1


But, as Peter Dalgaard said that the OS got upgraded but not 
the gcc, I just contacted our system administrator...

Thanks for your replies, and have a good day!

   Diego 


-- 
                       _     _ 
                     o' \,=./ `o
                        (o o)
 /----------------o-ooO--(_)--Ooo-o---------------\
/                                                  \
|                   Diego  Kuonen                  |
|  DMA-Ecublens, EPFL, 1015 Lausanne, Switzerland  |
|  Diego.Kuonen at epfl.ch          Diego at Kuonen.com  |
|      http://statwww.epfl.ch/people/kuonen/       |
|                                                  |
|   _           __   _                         _   |
|  (o-         / /  (_)__  __ ____  __        -o)  |
|  //\        / /__/ / _ \/ // /\ \/ /        /\\  |
|..v_/_....../____/_/_//_/\_,_/ /_/\_\......._\_v..|
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pm254 at medschl.cam.ac.uk  Thu Sep  9 12:26:49 1999
From: pm254 at medschl.cam.ac.uk (Paul Murrell)
Date: Thu, 9 Sep 1999 11:26:49 +0100
Subject: [R] PostScript output error
Message-ID: <009401befaad$d334ed60$54566f83@capc03t.medlan.cam.ac.uk>

hi


>> > I found a problem in generated postscript file which
>> > has following sequence:
>> >
>> >   x <- 1:30
>> >   postscript("output.ps")
>> >   par(mfg=c(1,1,2,2))
>> >   plot(x,sin(x))
>> >   plot(x,sin(x))
>> >   plot(x,sin(x))
>> >   plot(x,sin(x))
>> >   dev.off()



as Brian Ripley pointed out, par(mfcol=c(2,2)) or par(mfrow=c(2,2)) will
"fix" your "problem".

the intended use of par(mfg) is to allow you to add extra bits to graphs in
a multiple-graph arrangement.  for example, something like ...

par(mfrow=c(2,2))
for (i in 1:4) plot(i)
par(mfg=c(1,2,2,2))
mtext("some text i forgot to add when i first made this graph")

however, this does not excuse R  for misbehaving in your example.  I will
take a look at what we should do to fix it - thanks for bringing this
problem to our attention !

paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Thu Sep  9 12:55:24 1999
From: peter at esb.ucp.pt (Peter Ho)
Date: Thu, 09 Sep 1999 11:55:24 +0100
Subject: [R] princomp
References: <Pine.HPX.4.05.9909081347140.10753-100000@rzsrv1.rz.tu-bs.de> <199909081455.QAA10013@sophie.ethz.ch>
Message-ID: <37D7921A.62B7B403@esb.ucp.pt>

Hi,

In using the princomp function for Principle components analysis does setting

1) cor=TRUE result in princomp using a correlation matrix as in princomp(crimes,
cor = TRUE) and

2)cor=FALSE, a covariance matrix as in princomp(scale(crimes, scale = TRUE, center
= TRUE), cor = FALSE)

The help file explains the difference in scaling, but it is unclear to me if
automatic scaling (cor=TRUE) gives standardisation of data like in the case when
(cor=FALSE)

Rusults using both methods are quite similar though.
Can anyone explain the difference.


Thanks

Peter
-----------------------

Peter Ho
Escola Superior de Biotecnologia
Universidade Cat?lica Portuguesa
Rua Dr. Ant?nio Bernardino de Almeida
4200 Porto
Portugal
Tel: ++351-2-5580043

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oka at debian.or.jp  Thu Sep  9 13:30:54 1999
From: oka at debian.or.jp (Mitsuru Oka)
Date: Thu, 09 Sep 1999 20:30:54 +0900
Subject: [R] PostScript output error
In-Reply-To: In your message of "Thu, 9 Sep 1999 11:26:49 +0100"
	<009401befaad$d334ed60$54566f83@capc03t.medlan.cam.ac.uk>
References: <009401befaad$d334ed60$54566f83@capc03t.medlan.cam.ac.uk>
Message-ID: <14295.39534.495953.10043F@ryo1131.aist-nara.ac.jp>


At Thu, 9 Sep 1999 11:26:49 +0100,
Paul Murrell <pm254 at medschl.cam.ac.uk> wrote:
> 
> hi
...
> as Brian Ripley pointed out, par(mfcol=c(2,2)) or par(mfrow=c(2,2)) will
> "fix" your "problem".
> 
> the intended use of par(mfg) is to allow you to add extra bits to graphs in
> a multiple-graph arrangement.  for example, something like ...
> 
> par(mfrow=c(2,2))
> for (i in 1:4) plot(i)
> par(mfg=c(1,2,2,2))
> mtext("some text i forgot to add when i first made this graph")

Oh, I understood about mfg. It may be usefull in interactive mode.

By the way, what is difference between mfrow and mfcol?

> however, this does not excuse R  for misbehaving in your example.  I will
> take a look at what we should do to fix it - thanks for bringing this
> problem to our attention !
> 
> paul

You're welcome :)
--
Mitsuru Oka
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep  9 14:41:59 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Sep 1999 14:41:59 +0200
Subject: [R] PostScript output error
In-Reply-To: Mitsuru Oka's message of "Thu, 09 Sep 1999 20:30:54 +0900"
References: <009401befaad$d334ed60$54566f83@capc03t.medlan.cam.ac.uk> <14295.39534.495953.10043F@ryo1131.aist-nara.ac.jp>
Message-ID: <x2d7vsxnmw.fsf@blueberry.kubism.ku.dk>

Mitsuru Oka <oka at debian.or.jp> writes:

> By the way, what is difference between mfrow and mfcol?

1  2       1  3
      vs.
3  4       2  4

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hyoon at nyptsrv1.etsd.ml.com  Thu Sep  9 15:10:34 1999
From: hyoon at nyptsrv1.etsd.ml.com (Hoon Yoon - IPT Quant)
Date: Thu, 9 Sep 1999 09:10:34 -0400 (EDT)
Subject: [R] princomp
Message-ID: <199909091310.JAA26201@ptq2.etsd.ml.com>

Peter,


  As I understand your Q. You probably have data that is similar to each other 
like stock Prices for all RHS variable. In that case the difference between corr 
and cov is not significant; however, if your RHS contains totally dissimilar 
variables it matters a great deal. If x1 income, x2 job type, x3 Education 
level, etc..., then taking cov of these variables would not be desireable and it 
should have different result from corr. BTW: Factor Anal is very similar.
  Hope this helps, (and right ;)
  

Hoon,

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mavip5 at inet.polyu.edu.hk  Thu Sep  9 15:17:38 1999
From: mavip5 at inet.polyu.edu.hk (Li Dongfeng)
Date: Thu, 09 Sep 1999 21:17:38 +0800
Subject: [R] read.table bug
Message-ID: <37D7B372.CDA3589D@inet.polyu.edu.hk>

Suppose we have a data file containing:

"Smith, John", 120, 90
"Thomson, Peter", 110, 85

there are 3 variables in it. If we use 

x <- read.table("tmp.txt", sep=",")

to read the data to a data.frame,
the result will be 4 columns.
Splus 4.0 have no problem with this kind
of data.

Li Dongfeng
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Thu Sep  9 15:16:23 1999
From: peter at esb.ucp.pt (Peter Ho)
Date: Thu, 09 Sep 1999 14:16:23 +0100
Subject: [R] princomp
References: <199909091310.JAA26201@ptq2.etsd.ml.com>
Message-ID: <37D7B326.2FE7635E@esb.ucp.pt>

hi Hoon,


>   As I understand your Q. You probably have data that is similar to each other
> like stock Prices for all RHS variable. In that case the difference between corr
> and cov is not significant; however, if your RHS contains totally dissimilar
> variables it matters a great deal. If x1 income, x2 job type, x3 Education
> level, etc..., then taking cov of these variables would not be desireable and it
> should have different result from corr. BTW: Factor Anal is very similar.
>   Hope this helps, (and right ;)
>

In fact I have variables which have different scales, so in fact what I want to do
is to standardise the variables and then use a correlation matrix.



Peter

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pm254 at medschl.cam.ac.uk  Thu Sep  9 15:23:50 1999
From: pm254 at medschl.cam.ac.uk (Paul Murrell)
Date: Thu, 9 Sep 1999 14:23:50 +0100
Subject: [R] PostScript output error
Message-ID: <008001befac6$8f63bee0$54566f83@capc03t.medlan.cam.ac.uk>

hi


>By the way, what is difference between mfrow and mfcol?



with mfrow the plots are "numbered" across rows and with mfcol they are down
the columns.  this is in the help for "par", but perhaps it is not clear.
the best way to see the difference is with an example ...

mfrow=c(3,2) gives six plots like this ...

1  2
3  4
5  6

mfcol=c(3,2) gives six plots like this ...

1  4
2  5
3  6

paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep  9 15:39:48 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Sep 1999 15:39:48 +0200
Subject: [R] read.table bug
In-Reply-To: Li Dongfeng's message of "Thu, 09 Sep 1999 21:17:38 +0800"
References: <37D7B372.CDA3589D@inet.polyu.edu.hk>
Message-ID: <x2aeqwxkyj.fsf@blueberry.kubism.ku.dk>

Li Dongfeng <mavip5 at inet.polyu.edu.hk> writes:

> Suppose we have a data file containing:
> 
> "Smith, John", 120, 90
> "Thomson, Peter", 110, 85
> 
> there are 3 variables in it. If we use 
> 
> x <- read.table("tmp.txt", sep=",")
> 
> to read the data to a data.frame,
> the result will be 4 columns.
> Splus 4.0 have no problem with this kind
> of data.

Splus 3.4 has:

> read.table("data", sep=",")
               V2  V3 V4 
  "Smith   John\" 120 90
"Thomson  Peter\" 110 85

i.e. 3 variables but with row.names '"Smith' and '"Thomson'

Or, closer to what R does:

> read.table("data", sep=",",row.names=NULL)
         V1       V2  V3 V4 
1   \"Smith   John\" 120 90
2 \"Thomson  Peter\" 110 85

By its definition, this is what sep=',' must do, but it obviously will
not handle all CSV files properly. Anyone want to write a read.csv()
function or something of the sorts? It would be very useful.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oka at debian.or.jp  Thu Sep  9 16:38:00 1999
From: oka at debian.or.jp (Mitsuru Oka)
Date: Thu, 09 Sep 1999 23:38:00 +0900
Subject: [R] PostScript output error
In-Reply-To: In your message of "09 Sep 1999 14:41:59 +0200"
	<x2d7vsxnmw.fsf@blueberry.kubism.ku.dk>
References: <009401befaad$d334ed60$54566f83@capc03t.medlan.cam.ac.uk>
	<14295.39534.495953.10043F@ryo1131.aist-nara.ac.jp>
	<x2d7vsxnmw.fsf@blueberry.kubism.ku.dk>
Message-ID: <14295.50760.415902.94878G@ryo1131.aist-nara.ac.jp>


At 09 Sep 1999 14:41:59 +0200,
Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> wrote:
> 
> Mitsuru Oka <oka at debian.or.jp> writes:
> 
> > By the way, what is difference between mfrow and mfcol?
> 
> 1  2       1  3
>       vs.
> 3  4       2  4


At Thu, 9 Sep 1999 14:23:50 +0100,
Paul Murrell <pm254 at medschl.cam.ac.uk> wrote:
> 
> >By the way, what is difference between mfrow and mfcol?
> 
> with mfrow the plots are "numbered" across rows and with mfcol they are down
> the columns.  this is in the help for "par", but perhaps it is not clear.
> the best way to see the difference is with an example ...
> 
> mfrow=c(3,2) gives six plots like this ...
> 
> 1  2
> 3  4
> 5  6
> 
> mfcol=c(3,2) gives six plots like this ...
> 
> 1  4
> 2  5
> 3  6

Thanks for your lots of kinds!

My english is broken may be, and not so clear to
understand online-help well. But your answers
are very clear.
--
Mitsuru Oka
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Thu Sep  9 18:29:10 1999
From: pauljohn at ukans.edu (Paul Johnson)
Date: Thu, 09 Sep 1999 11:29:10 -0500
Subject: [R] Any RPMS for R 0.65.0?
Message-ID: <37D7E056.836E23A@ukans.edu>

I'm trying to build an RPM for R 65 that has support for the hdf5 data
format. In the past this was easy because I used the SPEC file from your
SRPM.  Now in the CRAN sites I find no RPM for 0.65.0 and there is some
monkey business with a patch for LIBINDEX that I can't seem to get
straight in my effort to graft the 0.64.0 spec file onto the 0.65.0
release of R.  

I was able to edit the source file src/scripts/R.sh.in in a way that was
consistent with the older versions of R and did build an RPM, but in the
resulting installation I've got some problems with paths being wrong in
the R scripts.

So, if anybody has built an RPM for 0.65.0, I would be glad if you gave
me your SPEC file.
-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Thu Sep  9 18:35:25 1999
From: pauljohn at ukans.edu (Paul Johnson)
Date: Thu, 09 Sep 1999 11:35:25 -0500
Subject: [R] nevermind my rpm question
Message-ID: <37D7E1CD.3386A5C5@ukans.edu>

I see just now new rpms are appearing at the main R site. Sorry for the
previous question.
-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep  9 19:17:56 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 9 Sep 1999 18:17:56 +0100 (BST)
Subject: [R] PostScript output error
In-Reply-To: <14295.50760.415902.94878G@ryo1131.aist-nara.ac.jp>
Message-ID: <Pine.GSO.4.05.9909091816250.26890-100000@auk.stats>

On Thu, 9 Sep 1999, Mitsuru Oka wrote:

> 
> At 09 Sep 1999 14:41:59 +0200,
> Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> wrote:
> > 
> > Mitsuru Oka <oka at debian.or.jp> writes:
> > 
> > > By the way, what is difference between mfrow and mfcol?
> > 
> > 1  2       1  3
> >       vs.
> > 3  4       2  4
> 
> 
> At Thu, 9 Sep 1999 14:23:50 +0100,
> Paul Murrell <pm254 at medschl.cam.ac.uk> wrote:
> > 
> > >By the way, what is difference between mfrow and mfcol?
> > 
> > with mfrow the plots are "numbered" across rows and with mfcol they are down
> > the columns.  this is in the help for "par", but perhaps it is not clear.
> > the best way to see the difference is with an example ...
> > 
> > mfrow=c(3,2) gives six plots like this ...
> > 
> > 1  2
> > 3  4
> > 5  6
> > 
> > mfcol=c(3,2) gives six plots like this ...
> > 
> > 1  4
> > 2  5
> > 3  6
> 
> Thanks for your lots of kinds!
> 
> My english is broken may be, and not so clear to
> understand online-help well. But your answers
> are very clear.

We've altered par(mfg=) for the next release so you will get sensible
error messages. We also found par("mfg") was broken.... 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From saenz at ecn.purdue.edu  Thu Sep  9 22:19:04 1999
From: saenz at ecn.purdue.edu (Martica Saenz)
Date: Thu, 9 Sep 1999 15:19:04 -0500 (EST)
Subject: [R] Wavelets?
Message-ID: <Pine.SOL.4.05.9909091518300.23792-100000@stargate.ecn.purdue.edu>


I was wondering if there is a WAVELET module for R as there is for s-plus?


--Martica

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oka at debian.or.jp  Fri Sep 10 06:07:21 1999
From: oka at debian.or.jp (Mitsuru Oka)
Date: Fri, 10 Sep 1999 13:07:21 +0900
Subject: [R] problem in R.sh.in script
Message-ID: <14296.33785.440089.72159A@ryo1131.aist-nara.ac.jp>


Hi,

I found problem in R-0.65.0/src/scripts/R.sh.in script.
When I run R program with `R -d gdb', R script say,

  /usr/local/bin/R[104]: shift: bad number

I fixed this problem by apply following patch:

*** R.sh.in.orig    Fri Sep 10 13:01:10 1999
--- R.sh.in Fri Sep 10 13:01:23 1999
***************
*** 48,54 ****
      -g|--gnome)
        R_BINARY="R.gnome" ;;
      -d|--debugger)
!       DBG="${2}"; shift 2 ;;
      --no-environ)
        USE_R_ENVIRON=false ;;
      --vanilla)
--- 48,54 ----
      -g|--gnome)
        R_BINARY="R.gnome" ;;
      -d|--debugger)
!       DBG="${2}"; shift ;;
      --no-environ)
        USE_R_ENVIRON=false ;;
      --vanilla)

--
Mitsuru Oka
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gordon.harrington at uni.edu  Fri Sep 10 21:55:11 1999
From: gordon.harrington at uni.edu (gordon.harrington@uni.edu)
Date: Fri, 10 Sep 1999 14:55:11 -0500 (CDT)
Subject: [R] monitor linearity
In-Reply-To: <x2g10opl46.fsf@blueberry.kubism.ku.dk>
Message-ID: <ML-3.3.936993311.7349.gordon@rats.localdomain>



Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> gordon.harrington at uni.edu writes:
> 
> > demo("graphics") notes that a circle (piechart) is a test of monitor
> > linearity. With a new monitor on a new linux system with R-0.65.0 I get
> > an ellipse. This is not a pincushion effect and the major/minor axis ratio
> > is constant over size and screen location variation. Is this a hardware
> > problem or are there alternative possible explanations to explore?
> 
> (Actually, I always though that referred to the colour scale...) 
> 
> I get circles. Well, close enough anyway...
> 
> I suspect that your hardware is giving rectangular pixels. What's the
> resolution of your display? It is possible to set up X with a non-4:3
> aspect ratio (i.e. 800x600, 1024x768, 1152x864, ...) which might be
> what is happening to you. Or maybe the monitor itself isn't 4:3.

The diagnosis is correct and led to the discovery of a hardware problem which
was new both to Micron and to Sony. The monitor is being replaced by Micron.

Thanks for the help.



Gordon M. Harrington		Mail:	3720 Village Place, #6308
Professor Emeritus			Waterloo, IA 50702-5848
University of Northern Iowa 	Phone:	319-291-8535
gordon.harrington at uni.edu	Fax:	319-291-8491
dryfly at aya.yale.edu			319-291-8324

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Sat Sep 11 12:02:00 1999
From: gb at stat.umu.se (Goran Brostrom)
Date: Sat, 11 Sep 1999 12:02:00 +0200 (CEST)
Subject: [R] Writing documentation of libraries
In-Reply-To: <199908201038.MAA13730@sophie.ethz.ch>
Message-ID: <Pine.LNX.4.10.9909111152250.28725-100000@capa.stat.umu.se>


I am writing a library for  R  and it is time for documentation.
Where can I find instructions for writing those  .Rd  files?
It seems to be (a dialect of) latex?

Any hint is appreciated.

G?ran
______________________________________________________________
 G?ran Brostr?m
 Professor of Statistics               tel: +46 90 786-5223
 Ume? University                       fax: +46 90 786-6614
 S-90187 Ume?, Sweden               e-mail:  gb at stat.umu.se

 http://www.stat.umu.se/~gb          ftp://capa.stat.umu.se
--------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Sep 11 12:48:53 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Sep 1999 12:48:53 +0200
Subject: [R] Writing documentation of libraries
In-Reply-To: Goran Brostrom's message of "Sat, 11 Sep 1999 12:02:00 +0200 (CEST)"
References: <Pine.LNX.4.10.9909111152250.28725-100000@capa.stat.umu.se>
Message-ID: <x2lnadpvu2.fsf@blueberry.kubism.ku.dk>

Goran Brostrom <gb at stat.umu.se> writes:

> I am writing a library for  R  and it is time for documentation.
> Where can I find instructions for writing those  .Rd  files?
> It seems to be (a dialect of) latex?
> 
> Any hint is appreciated.

make dvi
xdvi doc/manual/Manual

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ksueber at gwdg.de  Sat Sep 11 15:05:25 1999
From: ksueber at gwdg.de (Knut Suebert)
Date: Sat, 11 Sep 1999 15:05:25 +0200
Subject: [R] legend(): adjust space between symbol and tex
Message-ID: <19990911150525.A6947@slab>

Hello,

I'd like to ask, how to adjust the space between symbol/line and text in a
legend. My legend() is build like that

  legend(xmax-netzdiff/11,                  # shouldn't matter here
         ifelse(ydiff>=0,                   #
	        ymin-6.5*(netzdiff/11),     #
	        ymax-netzdiff/11),          #
	 c("stehender Stamm","Windwurf",
	   "Eklektor","Thermometer","Kreuzfalle"),
         col=c("#000000","#808080","#707070","#A0A0A0","#404040"),
	 merge=T, 
	 pch=c( 1,-1, 5,20, 4),
	 lty=c(-1, 1,-1,-1,-1),
	 xjust=1, yjust=ifelse(ydiff>=0,-1,1),
	 y.intersp=0.8, cex=0.6)
		
and looks like http://www.gwdg.de/~ksueber/beispiel.jpg or

  +-------------------------+
  |O        stehender Stamm |
  |--       Windwurf        |
  |#        Eklektor        |
  
and so, but it should look something like

  +----------------------+
  |  O   stehender Stamm |
  | ---  Windwurf        |
  |  #   Eklektor        |

and so on. Most important for me would be to reduce the space between
symbols and text. 

Thank you,
Knut S?bert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Sun Sep 12 10:12:29 1999
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Sun, 12 Sep 1999 09:12:29 +0100 (GMT)
Subject: [R] Just a thought ...
Message-ID: <Pine.LNX.4.04.9909120845220.11531-100000@mercury.quantex>

Dear all

As someone who leaves his R session open for days - even longer - because
only I access the computer it is on, I very occasionally crash it (my most
recent success was to use a very long plot() which it turned out have both
'l' and a 'b' without keyword!).

I try to be careful, preserving essential bits of coding in an adjacent
emacs screen and doing save.image() from time to time but of course when
it crashes, you lose the data and structures.  S+ of course stores
everything as separate files, which always seems very wasteful but would
be useful for idiots like me!  However I don't have immediate access to
it and anyway it's my own fault.

However, in the eternal quest to improve R, would it be possible then to
have an option autosave that only worked when waiting for input (ie in
interactive mode)?

Something like (a crude version - perhaps better to use system facilities
like cron under *ix):

options(autosave=10)#Autosaves every 10 minutes or later

then in the code where *when awaiting input only* 

while (noinput){
  if(current.time()>=save.time){
    save.image('.Rautosave')
    save.time<-current.time()
  }
}

The >= would be necessary because R might be doing something at save.time
and by having the autosave check done only when doing nothing else would
save valuable clock cycles and possible confusion on restoring.  You
wouldn't want to tie up the processor unnecessarily so there are probably
better ways of doing this.

John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ralfh at cs.tu-berlin.de  Mon Sep 13 23:05:43 1999
From: ralfh at cs.tu-berlin.de (Ralf Herbrich)
Date: Mon, 13 Sep 1999 23:05:43 +0200 (MET DST)
Subject: [R] Problems with R-0.65.0
Message-ID: <Pine.SOL.4.10.9909132259490.16807-100000@vapnik>


Hello,

I installed the new release 0.65.0 of R on our local Solaris system. As I
already (and sucessfully) installed the 0.64.0 and 0.64.1 version of R, I
hadn't had any trouble during the installation. But as I've started R in
order to see the demo I've got horizontal and vertical lines goint to the
left and top of the X11 window at each tick (demo ("graphics")). This
seems not to be a grid but is now standard in any 2D plot (I also tried
several of my own R programs). Furthermore, the exported postscripts
(dev.print (file="blabla.ps")) can't be displayed by ghostscript.

What did I wrong during the installation?



Thank for your help

Ralf Herbrich

-------------------------------------------------------------------
 Ralf Herbrich	        phone : +49-30-314-25817
 TU Berlin              email : ralfh at cs.tu-berlin.de
 FB 13; FR 6-9          URL   : http://stat.cs.tu-berlin.de/~ralfh
 10587 Berlin                    
 Germany

   [teaching assistant in the statistics group at the TU Berlin]
------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep 13 23:51:31 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Sep 1999 23:51:31 +0200
Subject: [R] Problems with R-0.65.0
In-Reply-To: Ralf Herbrich's message of "Mon, 13 Sep 1999 23:05:43 +0200 (MET DST)"
References: <Pine.SOL.4.10.9909132259490.16807-100000@vapnik>
Message-ID: <x2puzmo4yk.fsf@blueberry.kubism.ku.dk>

Ralf Herbrich <ralfh at cs.tu-berlin.de> writes:

> Hello,
> 
> I installed the new release 0.65.0 of R on our local Solaris system. As I
> already (and sucessfully) installed the 0.64.0 and 0.64.1 version of R, I
> hadn't had any trouble during the installation. But as I've started R in
> order to see the demo I've got horizontal and vertical lines goint to the
> left and top of the X11 window at each tick (demo ("graphics")). This
> seems not to be a grid but is now standard in any 2D plot (I also tried
> several of my own R programs). Furthermore, the exported postscripts
> (dev.print (file="blabla.ps")) can't be displayed by ghostscript.
> 
> What did I wrong during the installation?

Possibly nothing, but I don't see that effect on solaris 2.5.1. You're
not using an older config.cache by any chance?

What version of Solaris are we talking about? And is the effect
visible on all X servers? And which version of which C compiler?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Sep 14 00:13:32 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 13 Sep 1999 15:13:32 -0700 (PDT)
Subject: [R] Problems with R-0.65.0
In-Reply-To: <x2puzmo4yk.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.10.9909131512460.3164-100000@wompom.biostat.washington.edu>

On 13 Sep 1999, Peter Dalgaard BSA wrote:

> Ralf Herbrich <ralfh at cs.tu-berlin.de> writes:
> 
> > Hello,
> > 
> > I installed the new release 0.65.0 of R on our local Solaris system. As I
> > already (and sucessfully) installed the 0.64.0 and 0.64.1 version of R, I
> > hadn't had any trouble during the installation. But as I've started R in
> > order to see the demo I've got horizontal and vertical lines goint to the
> > left and top of the X11 window at each tick (demo ("graphics")). This
> > seems not to be a grid but is now standard in any 2D plot (I also tried
> > several of my own R programs). Furthermore, the exported postscripts
> > (dev.print (file="blabla.ps")) can't be displayed by ghostscript.
> > 
> > What did I wrong during the installation?
> 
> Possibly nothing, but I don't see that effect on solaris 2.5.1. You're
> not using an older config.cache by any chance?
> 
> What version of Solaris are we talking about? And is the effect
> visible on all X servers? And which version of which C compiler?

I don't see it on Solaris 2.7 either.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep 14 08:50:44 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 14 Sep 1999 07:50:44 +0100 (BST)
Subject: [R] Problems with R-0.65.0
In-Reply-To: <Pine.SOL.4.10.9909132259490.16807-100000@vapnik>
Message-ID: <Pine.GSO.4.05.9909140739540.630-100000@auk.stats>

On Mon, 13 Sep 1999, Ralf Herbrich wrote:

> 
> Hello,
> 
> I installed the new release 0.65.0 of R on our local Solaris system. As I
> already (and sucessfully) installed the 0.64.0 and 0.64.1 version of R, I
> hadn't had any trouble during the installation. But as I've started R in
> order to see the demo I've got horizontal and vertical lines goint to the
> left and top of the X11 window at each tick (demo ("graphics")). This
> seems not to be a grid but is now standard in any 2D plot (I also tried
> several of my own R programs). Furthermore, the exported postscripts
> (dev.print (file="blabla.ps")) can't be displayed by ghostscript.
> 
> What did I wrong during the installation?

Probably nothing. I have seen this effect on Solaris when the configuration
did not work consistently (that is it re-configured with different settings
because the environment variables were different: usually because I did not
ask it to re-configure).

I think the reason is that either HAVE_FINITE is not defined in
src/include/Rconfig.h or it is defined and FINITE_BROKEN is also defined.
Can you send me (privately) 

that file, 
the result of typing `R.version' and
details of the compilers used 

(for starters).

It might be worth doing 

make clean
rm config.cache
./configure
(keep the output)
make

to try once again.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Sep 14 09:11:39 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 14 Sep 1999 09:11:39 +0200
Subject: [R] Problems with R-0.65.0 -- IEEE-Arithmetic again ?!
In-Reply-To: <x2puzmo4yk.fsf@blueberry.kubism.ku.dk> (message from Peter
	Dalgaard BSA on 13 Sep 1999 23:51:31 +0200)
References: <Pine.SOL.4.10.9909132259490.16807-100000@vapnik> <x2puzmo4yk.fsf@blueberry.kubism.ku.dk>
Message-ID: <199909140711.JAA09008@sophie.ethz.ch>

>>>>> On 13 Sep 1999 23:51:31 +0200, Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> said:

    PD> Ralf Herbrich <ralfh at cs.tu-berlin.de> writes:
    >> Hello,
    >> 
    >> I installed the new release 0.65.0 of R on our local Solaris
    >> system. As I already (and sucessfully) installed the 0.64.0 and
    >> 0.64.1 version of R, I hadn't had any trouble during the
    >> installation. But as I've started R in order to see the demo I've
    >> got horizontal and vertical lines goint to the left and top of the
    >> X11 window at each tick (demo ("graphics")). This seems not to be a
    >> grid but is now standard in any 2D plot (I also tried several of my
    >> own R programs). Furthermore, the exported postscripts (dev.print
    >> (file="blabla.ps")) can't be displayed by ghostscript.
    >> 
    >> What did I wrong during the installation?

    PD> Possibly nothing, but I don't see that effect on solaris
    PD> 2.5.1. You're not using an older config.cache by any chance?

    PD> What version of Solaris are we talking about? And is the effect
    PD> visible on all X servers? And which version of which C compiler?

As yesterday (on R-devel, with Kurt Suebert who had problems on a Dec Alpha):

This must be a bug in the handling of IEEE-Arithmetic,
i.e. +/- Inf and NaN
[to people not running "make check", it always shows first in the graphics!]

In your toplevel directory,

   cd tests
   make test-Specific

will most probably show how the IEEE-Arithmetic is broken.
(and please let us know how..).

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rsb at reclus.nhh.no  Tue Sep 14 10:20:19 1999
From: rsb at reclus.nhh.no (Roger Bivand)
Date: Tue, 14 Sep 1999 08:20:19 +0000 (   )
Subject: [R] Problems with R-0.65.0
In-Reply-To: <Pine.SOL.4.10.9909132259490.16807-100000@vapnik>
Message-ID: <Pine.LNX.4.04.9909140813460.2207-100000@reclus.nhh.no>

Ralf:

I have had the same experience under RH 6.0 Linux. The lines were present
when the HDF library was found and linked in - make check also failed at
example(contour) when HDF was found. On reconfiguring without the HDF
input/output enabled, the problems went away - both the ugly lines, and
the failure of make check. I hadn't posted a bug.report, waitng for
corroboration. If you have the HDF library in a searchable place,
./configure will find it and enable HDF input/output. I don't know,
however, if this is the problem, it feels more like symptoms of some
deeper clash in namespace?

-- 
Roger Bivand
Department of Geography, 
Norwegian School of Economics and Business Administration,
Breiviksveien 40, N-5045 Bergen, Norway.
voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Sep 14 10:26:09 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 14 Sep 1999 10:26:09 +0200
Subject: [R] legend(): adjust space between symbol and text : x.intersp=.
In-Reply-To: <19990911150525.A6947@slab> (message from Knut Suebert on Sat, 11
	Sep 1999 15:05:25 +0200)
References: <19990911150525.A6947@slab>
Message-ID: <199909140826.KAA09083@sophie.ethz.ch>

>>>>> On Sat, 11 Sep 1999 15:05:25 +0200, Knut Suebert <ksueber at gwdg.de> said:

    Knut> I'd like to ask, how to adjust the space between symbol/line and
    Knut> text in a legend. My legend() is build like that

  legend(xmax-netzdiff/11,                  # shouldn't matter here
         ifelse(ydiff>=0,                   #
	        ymin-6.5*(netzdiff/11),     #
	        ymax-netzdiff/11),          #
	 c("stehender Stamm","Windwurf",
	   "Eklektor","Thermometer","Kreuzfalle"),
         col=c("#000000","#808080","#707070","#A0A0A0","#404040"),
	 merge=T, 
	 pch=c( 1,-1, 5,20, 4),
	 lty=c(-1, 1,-1,-1,-1),
	 xjust=1, yjust=ifelse(ydiff>=0,-1,1),
	 y.intersp=0.8, cex=0.6)
		
    Knut> and looks like http://www.gwdg.de/~ksueber/beispiel.jpg or

    Knut> +-------------------------+
    Knut> |O        stehender Stamm |
    Knut> |--       Windwurf        |
    Knut> |#        Eklektor        |
  
    Knut> and so, but it should look something like

    Knut> +----------------------+
    Knut> |  O   stehender Stamm |
    Knut> | ---  Windwurf        |
    Knut> |  #   Eklektor        |

    Knut> and so on. Most important for me would be to reduce the space between
    Knut> symbols and text. 

Use  x.intersp = 1.5  (or so).
     -----------
Here is your example, extended and reproducible

##--------------------
leg1 <- c("stehender Stamm", "Windwurf","Eklektor", "Thermometer", "Kreuzfalle")
col1 <- c("#000000","#808080","#707070","#A0A0A0","#404040")
pch1 <- c( 1,-1, 5,20, 4)
lty1 <- c(-1, 1,-1,-1,-1)

plot(1)
legend(1,1, legend= leg1, col= col1, merge=TRUE, pch=pch1, lty=lty1, trace=TRUE)
## to see defaults				                     ==========
## Defaults: x.intersp = 3 ; y.intersp = 1.2
legend(1,1.1, legend= leg1, col= col1, merge=TRUE, pch=pch1, lty=lty1,
       y.intersp = .8, cex = 0.6, bg = "lightskyblue")
legend(1.03,1.22, legend= leg1, col= col1, merge=TRUE, pch=pch1, lty=lty1,
       x.intersp = 1.5, y.intersp = .9, cex = 0.6, bg='light green')
legend(1,0.75, legend= leg1, col= col1, merge=TRUE, pch=pch1, lty=lty1,
       x.intersp = 1.5, y.intersp = 1, cex = 0.4, bg='light steel blue')
##--------------------


Note that legend() had been enhanced (from its origin) by
Ben Bolker (and me) in order to provide the current functionality.
One main issue was
    1) reasonable defaults for many situations
    2) configurable by the user.
The computation of the box (drawn around the legend) dimensions
tries to be smart, using  strwidth() and strlength() and some heuristics
(dependency on "cex" argument) which might still be quite a bit improvable.

Deficiencies come from at least
	     - strwidth(ch) & strlength(ch) currently depend on the font,	
	       rather than the characters *used* in ch.
	     - Fonts exist in discrete sizes only, whereas as 'cex' is 
	       continuous.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Zdenek.Skala at incoma.cz  Tue Sep 14 11:59:50 1999
From: Zdenek.Skala at incoma.cz (Zdenek Skala)
Date: Tue, 14 Sep 1999 10:59:50 +0100
Subject: [R] table()
Message-ID: <199909140900.LAA25095@benes.incoma.cz>

Sorry for a stupid question but in table() I am surprised by the 
behavior of R 0.65.0 (Windows):

table(abc$a, abc$b)
# result OK, but:
zzz<-data.frame(abc$a)
table(zzz, abc$b)
Error: all arguments must have the same length

Surely I am missing something obvious. Thanks for hints!
Zdenek

++++++++++++++++++++++
] Zdenek Skala
] e-mail:
] Zdenek.Skala at incoma.cz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mhdelsemme at ulg.ac.be  Tue Sep 14 11:39:07 1999
From: mhdelsemme at ulg.ac.be (=?iso-8859-1?Q?Marie-H=E9l=E8ne?= Delsemme)
Date: Tue, 14 Sep 1999 11:39:07 +0200
Subject: [R] Problems with compilation of R packages.
Message-ID: <4.1.19990914113345.00930990@pop3.mailst.ulg.ac.be>

Hello

I want to compile some R-packages under windows (rmutil and revent for
instance from Pr Lindsey)
I followed the instrictions given in the help. The compilation succeeded,
but I can't run the programs.

I receive the message: "error in dyn.oad(file): unable to load shared
library "C:\R\Rwo650/library/rmutil"
LoadLibrary failure.

I found the given path quite strange!! (what about these "/" and "\"?)

I succeeded in loading the event library butI doesn't work. 

Thank for your help.

Marie-H?l?ne Delsemme
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep 14 12:08:38 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 14 Sep 1999 11:08:38 +0100 (BST)
Subject: [R] Problems with compilation of R packages.
In-Reply-To: <4.1.19990914113345.00930990@pop3.mailst.ulg.ac.be>
Message-ID: <Pine.GSO.4.05.9909141055530.853-100000@auk.stats>

On Tue, 14 Sep 1999, [iso-8859-1] Marie-Hlne Delsemme wrote:

> Hello
> 
> I want to compile some R-packages under windows (rmutil and revent for
> instance from Pr Lindsey)
> I followed the instrictions given in the help. The compilation succeeded,
> but I can't run the programs.
> 
> I receive the message: "error in dyn.oad(file): unable to load shared
> library "C:\R\Rwo650/library/rmutil"
> LoadLibrary failure.
> 
> I found the given path quite strange!! (what about these "/" and "\"?)

That is no problem: they are all mapped as needed (to / or \, depending on
context: Windows can be pretty inconsistent).

The problem is that the path should be much longer:
C:\R\Rwo650/library/rmutil/libs/rmutil.dll

Given your address, I think you need to consult the author for advice on
why this is going wrong in those packages.  You can see how all this
works by reading the R source code (that is how I found out).

Warning: I don't know what `Rwo650' is, but there is not yet an official
version of R-0.65.0 for Windows, and there are a few problems in compiling
it up from the source code. This will remain the position until the
principal porter (Guido Masarotto) is back in action, and I have no idea
when that might be.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From syring at email.com  Tue Sep 14 13:22:45 1999
From: syring at email.com (Karl M. Syring)
Date: Tue, 14 Sep 1999 13:22:45 +0200
Subject: [R] Problems with compilation of R packages.
In-Reply-To: <4.1.19990914113345.00930990@pop3.mailst.ulg.ac.be>
Message-ID: <000101befea3$77c731a0$ba109d3e@fenris>

If you use the latest gcc-2.95 together with the M. Khans msvcrt patch (this
means, the compiled programs use msvcrt.dll instead of the somewhat dated
crtdll.dll) at least rmutil should work.

Karl

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Marie-H?l?ne
> Delsemme
> Sent: Dienstag, 14. September 1999 11:39
> To: r-help at stat.math.ethz.ch
> Subject: [R] Problems with compilation of R packages.
>
>
> Hello
>
> I want to compile some R-packages under windows (rmutil and revent for
> instance from Pr Lindsey)
> I followed the instrictions given in the help. The compilation succeeded,
> but I can't run the programs.
>
> I receive the message: "error in dyn.oad(file): unable to load shared
> library "C:\R\Rwo650/library/rmutil"
> LoadLibrary failure.
>
> I found the given path quite strange!! (what about these "/" and "\"?)
>
> I succeeded in loading the event library butI doesn't work.
>
> Thank for your help.
>
> Marie-H?l?ne Delsemme
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info",
> "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From karen at gecko.biol.wits.ac.za  Mon Sep 13 17:40:25 1999
From: karen at gecko.biol.wits.ac.za (karen@gecko.biol.wits.ac.za)
Date: Mon, 13 Sep 1999 15:40:25 +0000 (GMT)
Subject: [R] increasing memory size
Message-ID: <Pine.LNX.4.04.9909131533490.10584-100000@euclea.sevenc.private>

Help!

I've done this before but can't remember how to do it, and can't find any
reference to it in the docs I have access to now.
I need to increase --vsize (I think), as I'm getting a message when I
start my R session "vector heap too small to load data".
How does one exactly do this, and what is the default setting? I don't
know how much to increase it by. 

I know I read this somewhere....
This is very irritating!
I'll appreciate any help!

Karen

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gautier at lion-ag.de  Tue Sep 14 15:29:50 1999
From: gautier at lion-ag.de (Laurent Gautier)
Date: Tue, 14 Sep 1999 15:29:50 +0200
Subject: [R] increasing memory size
References: <Pine.LNX.4.04.9909131533490.10584-100000@euclea.sevenc.private>
Message-ID: <37DE4DCD.2424B08A@lion-ag.de>

karen at gecko.biol.wits.ac.za wrote:

> Help!
>
> I've done this before but can't remember how to do it, and can't find any
> reference to it in the docs I have access to now.
> I need to increase --vsize (I think), as I'm getting a message when I
> start my R session "vector heap too small to load data".
> How does one exactly do this, and what is the default setting? I don't
> know how much to increase it by.
>
> I know I read this somewhere....
> This is very irritating!
> I'll appreciate any help!

I guess I am the Nth person to send you an e-mail having the following advice.
Never mind :


try

help(Memory)






Laurent

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep 14 16:17:17 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 14 Sep 1999 15:17:17 +0100 (BST)
Subject: R with a broken finite() (was [R] Problems with R-0.65.0)
In-Reply-To: <Pine.SOL.4.10.9909132259490.16807-100000@vapnik>
Message-ID: <Pine.GSO.4.05.9909141507280.15617-100000@auk.stats>

[Copied to R-bugs so it goes into the database.]

On Mon, 13 Sep 1999, Ralf Herbrich wrote:

> 
> Hello,
> 
> I installed the new release 0.65.0 of R on our local Solaris system. As I
> already (and sucessfully) installed the 0.64.0 and 0.64.1 version of R, I
> hadn't had any trouble during the installation. But as I've started R in
> order to see the demo I've got horizontal and vertical lines goint to the
> left and top of the X11 window at each tick (demo ("graphics")). This
> seems not to be a grid but is now standard in any 2D plot (I also tried
> several of my own R programs). Furthermore, the exported postscripts
> (dev.print (file="blabla.ps")) can't be displayed by ghostscript.
> 
> What did I wrong during the installation?

To follow up on this, Ralf was using Solaris 2.6 and 

gcc version egcs-2.91.63 19990224 (egcs-1.1.2 pre-release-3)

which is probably not a good idea, being an old pre-release (gcc 2.8.1,
real egcs-1.1.2 and gcc-2.95.1 have all been tried).  This reported that
calloc and finite are broken on Solaris 2.6, and they are not on other
systems, so it seems more likely that the compiler is broken.

If you find a system with HAVE_FINITE and FINITE_BROKEN defined, then R
will not work correctly (unless it uses the AIX workaround). The fix I
suggested to Ralf worked, and will probably be incorporated in 0.65.1
(unless we find a better one).

Try replacing the line

#   define R_FINITE(x)          ((x) != R_NaReal)

in Arith.h by

static int R_FINITE(double x) {
    return !isnan(x) & (x != R_PosInf) & (x != R_NegInf); }


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Sep 14 17:17:30 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 14 Sep 1999 17:17:30 +0200
Subject: [R] Error bars on barplots
In-Reply-To: <83F2C477DAE@gecko.biol.wits.ac.za> (karen@gecko.biol.wits.ac.za)
References: <83F2C477DAE@gecko.biol.wits.ac.za>
Message-ID: <199909141517.RAA18508@sophie.ethz.ch>

>>>>> On Tue, 7 Sep 1999 12:24:38 GMT+2, "Karen KOTSCHY" <karen at gecko.biol.wits.ac.za> said:

    Karen> Hi everyone I've finally had a chance to look at this problem
    Karen> again. Thanks to Paul Murrell and Bendix Carstensen, putting
    Karen> error bars on barplots with single bars is quite simple, as
    Karen> barplot returns the x locations of the bar midpoints.

    Karen> However... with plots where you have groups of bars (where x is
    Karen> a matrix and beside=T), it is not as simple. One can work out
    Karen> the x locations of each individual bar manually, knowing the bar
    Karen> width and the midpoint of the group. I've written a function to
    Karen> do this when there are 3 bars in a group (see below). I'm sure
    Karen> the R gurus out there could suggest a more elegant or a simpler
    Karen> way!

    <....> 

    Karen> ----------------------------
    Karen> Karen Kotschy Centre for Water in the Environment University of
    Karen> the Witwatersrand Johannesburg

I've changed  barplot() to
- accept a "plot = FALSE" argument (default remains TRUE)
- in the above case ``beside = TRUE'' return 
  a vector of locations for *each* bar 
  (instead of midpoints of group of "beside-bar"s)

I wonder if we shouldn't even return a matrix of these locations
with the same dimension as  the barplot matrix argument.
This matrix result could still be addressed as a vector (as all
matrices can), but additionally, one could also use  apply(<res>, 2, mean)
to get the locations of the mids of each bar group.

Opinions?

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 14 17:43:55 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Sep 1999 17:43:55 +0200
Subject: [R] Error bars on barplots
In-Reply-To: Martin Maechler's message of "Tue, 14 Sep 1999 17:17:30 +0200"
References: <83F2C477DAE@gecko.biol.wits.ac.za> <199909141517.RAA18508@sophie.ethz.ch>
Message-ID: <x29069biro.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler at stat.math.ethz.ch> writes:

> I've changed  barplot() to
> - accept a "plot = FALSE" argument (default remains TRUE)
> - in the above case ``beside = TRUE'' return 
>   a vector of locations for *each* bar 
>   (instead of midpoints of group of "beside-bar"s)
> 
> I wonder if we shouldn't even return a matrix of these locations
> with the same dimension as  the barplot matrix argument.
> This matrix result could still be addressed as a vector (as all
> matrices can), but additionally, one could also use  apply(<res>, 2, mean)
> to get the locations of the mids of each bar group.
> 
> Opinions?

Agree on the last count. I suspect, however, that you might want an
all.bars=FALSE argument to get the current behavior as default?

BTW, anyone considered the PR#130 strangeness of

 x<-c(a=1,b=2,c=3)
 barplot(x)

where you get a dash-dotted axis because of axis(..., lty=0)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mestiv at bach.urbb.jussieu.fr  Tue Sep 14 18:43:11 1999
From: mestiv at bach.urbb.jussieu.fr (Mestivier Denis)
Date: Tue, 14 Sep 1999 18:43:11 +0200
Subject: [R] dyn.load
Message-ID: <37DE7B1F.327BBA6B@urbb.jussieu.fr>

Hello,

I have a probleme with the dynamic loading. I make
two librairies "myfct.so" and "otherfct.so", where
"myfct.so" is calling functions of "otherfct.so",
and I want dyn.load() each of it,  without generating
a unique librarie. For exemple :

myfct.c :

void myfct(double *x, double *y)
{
 otherfct(x);
 *y=(*x)+1.0;
}

myoth.c :

void otherfct( double *x )
{
 *x=99.;
}

I create the two libraries as following :

~/R/testR$ R SHLIB myfct.c
gcc -g -O2 -fpic -I/usr/local/lib/R/include -c myfct.c -o myfct.o
ld -shared -o myfct.so myfct.o
~/R/testR$ R SHLIB myother.c
gcc -g -O2 -fpic -I/usr/local/lib/R/include -c myother.c -o myother.o
ld -shared -o myother.so myother.o

Then, when I am running R :

> dyn.load("myother.so")
> dyn.load("myfct.so")
> x_5
> y_7
> is.loaded(symbol.C("myfct"))
[1] TRUE
> is.loaded(symbol.C("otherfct"))
[1] TRUE
> .C("myfct",x,y)
/usr/local/lib/R/bin/R.binary: error in loading shared libraries
/home/mestiv/R/testR/myfct.so: undefined symbol: otherfct

What is my error ?
Thank you for your help,
sincerely

Mestivier Denis


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep 14 20:25:28 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 14 Sep 1999 19:25:28 +0100 (BST)
Subject: [R] dyn.load
In-Reply-To: <37DE7B1F.327BBA6B@urbb.jussieu.fr>
Message-ID: <Pine.GSO.4.05.9909141921520.18149-100000@auk.stats>

On Tue, 14 Sep 1999, Mestivier Denis wrote:

> Hello,
> 
> I have a probleme with the dynamic loading. I make
> two librairies "myfct.so" and "otherfct.so", where
> "myfct.so" is calling functions of "otherfct.so",
> and I want dyn.load() each of it,  without generating
> a unique librarie. For exemple :
> 
> myfct.c :
> 
> void myfct(double *x, double *y)
> {
>  otherfct(x);
>  *y=(*x)+1.0;
> }
> 
> myoth.c :
> 
> void otherfct( double *x )
> {
>  *x=99.;
> }
> 
> I create the two libraries as following :
> 
> ~/R/testR$ R SHLIB myfct.c
> gcc -g -O2 -fpic -I/usr/local/lib/R/include -c myfct.c -o myfct.o
> ld -shared -o myfct.so myfct.o
> ~/R/testR$ R SHLIB myother.c
> gcc -g -O2 -fpic -I/usr/local/lib/R/include -c myother.c -o myother.o
> ld -shared -o myother.so myother.o
> 
> Then, when I am running R :
> 
> > dyn.load("myother.so")
> > dyn.load("myfct.so")
> > x_5
> > y_7
> > is.loaded(symbol.C("myfct"))
> [1] TRUE
> > is.loaded(symbol.C("otherfct"))
> [1] TRUE
> > .C("myfct",x,y)
> /usr/local/lib/R/bin/R.binary: error in loading shared libraries
> /home/mestiv/R/testR/myfct.so: undefined symbol: otherfct
> 
> What is my error ?

What is your platform?  I can give you an answer for Solaris. R uses
RTLD_LOCAL in its call to dlopen, and that says

     RTLD_LOCAL        The  object's  globals  symbols  are  only
                       available for the relocation processing of
                       other  objects  that  comprise  the   same
                       group.

In other words, symbols in myother.so are only available to shared
libraries linked with it, not others.

Two solutions are:

(1) Make myfct.so a dependence of myother.so so it gets linked in the same
group.

(2) Use R-release, that has a local=TRUE flag on dyn.open.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Sep 15 11:44:23 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 15 Sep 1999 11:44:23 +0200
Subject: [R] Error bars on barplots -- change default return() value !?
In-Reply-To: <x29069biro.fsf@blueberry.kubism.ku.dk> (message from Peter
	Dalgaard BSA on 14 Sep 1999 17:43:55 +0200)
References: <83F2C477DAE@gecko.biol.wits.ac.za> <199909141517.RAA18508@sophie.ethz.ch> <x29069biro.fsf@blueberry.kubism.ku.dk>
Message-ID: <199909150944.LAA26743@sophie.ethz.ch>


    PD> Martin Maechler <maechler at stat.math.ethz.ch> writes:
    >> I've changed barplot() to - accept a "plot = FALSE" argument
    >> (default remains TRUE) - in the above case ``beside = TRUE'' return
    >> a vector of locations for *each* bar (instead of midpoints of group
    >> of "beside-bar"s)
    >> 
    >> I wonder if we shouldn't even return a matrix of these locations
    >> with the same dimension as the barplot matrix argument.  This matrix
    >> result could still be addressed as a vector (as all matrices can),
    >> but additionally, one could also use apply(<res>, 2, mean) to get
    >> the locations of the mids of each bar group.
    >> 
    >> Opinions?

    PD> Agree on the last count. I suspect, however, that you might want an
    PD> all.bars=FALSE argument to get the current behavior as default?

The current behavior is
  - not as documented
     (the documentation amounts to saying that you'd get all bar locations)
  - not compatible to the prototype [S, S-plus]

I think we should change the default behavior, therefore
(and if we provide an extra `all.bars' argument,
 it should at least default to TRUE, the new behavior).

I'd argue that the current behavior is a bug...
{R version is still 0.xx, so we should be allowed to change even such things?}

How can we warn users who now use the return value of
barplot(... beside = T) ?

--
More opinions?
What do users think?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep 15 15:34:45 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Sep 1999 15:34:45 +0200
Subject: [R] Error bars on barplots -- change default return() value !?
In-Reply-To: Martin Maechler's message of "Wed, 15 Sep 1999 11:44:23 +0200"
References: <83F2C477DAE@gecko.biol.wits.ac.za> <199909141517.RAA18508@sophie.ethz.ch> <x29069biro.fsf@blueberry.kubism.ku.dk> <199909150944.LAA26743@sophie.ethz.ch>
Message-ID: <x2k8psz4ay.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler at stat.math.ethz.ch> writes:

> I'd argue that the current behavior is a bug...
> {R version is still 0.xx, so we should be allowed to change even such things?}

Ok. I'll buy that.

> How can we warn users who now use the return value of
> barplot(... beside = T) ?

Are there any...? (except in the case where nothing actually changes)
 
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Wed Sep 15 15:58:52 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Wed, 15 Sep 1999 15:58:52 +0200 (MET DST)
Subject: [R] libg2c.mingw32
Message-ID: <199909151358.PAA20561@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 721 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19990915/82d1800c/attachment.pl

From p.dalgaard at biostat.ku.dk  Wed Sep 15 16:37:13 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Sep 1999 16:37:13 +0200
Subject: [R] libg2c.mingw32
In-Reply-To: Jim Lindsey's message of "Wed, 15 Sep 1999 15:58:52 +0200 (MET DST)"
References: <199909151358.PAA20561@alpha.luc.ac.be>
Message-ID: <x2g10gz1eu.fsf@blueberry.kubism.ku.dk>

Jim Lindsey <jlindsey at alpha.luc.ac.be> writes:

> In the README for libg2c.mingw32.a.bz2, what in the world does
> "unpack" mean? winzip, tar, gzip do not recognize it.

bzip2/bunzip2 available on ...er... recent Linuxen and ... there we go:
http://sourceware.cygnus.com/bzip2/index.html 

> I find all of the documentation in and around readme.package for
> MS-Windows extremely obscure, at least for some unfamiliar with this
> OS.

Believe me, the subject matter is even more obscure! Guido and Brian
have done a huge job sorting things out.

> My assistant, who sent an earlier message, would appreciate any help
> available to understand this.

Be warned that it takes a substantial time investment, but start off
on

http://www.xraylith.wisc.edu/~khan/software/gnu-win32/index.html

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep 15 17:40:18 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 15 Sep 1999 16:40:18 +0100 (BST)
Subject: [R] libg2c.mingw32
In-Reply-To: <x2g10gz1eu.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.05.9909151624450.4477-100000@auk.stats>

On 15 Sep 1999, Peter Dalgaard BSA wrote:

> Jim Lindsey <jlindsey at alpha.luc.ac.be> writes:
> 
> > In the README for libg2c.mingw32.a.bz2, what in the world does
> > "unpack" mean? winzip, tar, gzip do not recognize it.
> 
> bzip2/bunzip2 available on ...er... recent Linuxen and ... there we go:
> http://sourceware.cygnus.com/bzip2/index.html

Yes, and in many other places, including native Windows binaries.

> > I find all of the documentation in and around readme.package for
> > MS-Windows extremely obscure, at least for some unfamiliar with this
> > OS.

Obscureness is in the eye of the beholder, but the first step is to get
familiar with the OS before passing judgement.

That file is not mentioned in the current readme.packages (sic), by the
way, which says

`We recommend that you use the mingw32 port of gcc-2.95 by Mumit Khan from
ftp://ftp.xraylith.wisc.edu/pub/khan/gnu-win32/mingw32. ...

It is also possible to use earlier mingw32 compilers or cygwin-b20.1
with the --no-cygwin flag, but we suggest you do so only if you have a
working setup from building earlier versions of R.  We have also
successfully used the variant of mingw32 that uses the MSVCRT run-time 
system (under gcc-2.95 but not earlier versions), and in the case of the
mclust library found this more successful that the standard version.'

You might find it easier to follow the advice, as we have tried
to simplify the process.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ist10504 at giuliari.univr.it  Thu Sep 16 10:19:51 1999
From: ist10504 at giuliari.univr.it (Francesco Pecci)
Date: Thu, 16 Sep 1999 10:19:51 +0200
Subject: [R] Problems with compilation of R packages.
Message-ID: <3.0.6.32.19990916101951.007dbd90@giuliari.univr.it>

I have installed R 065 in the directory /usr/lib/ R (Linux RedHat 6.0).
Subsequently I have add-on packages MASS and tree using R INSTALL namepkg.
To the command library(MASS) or library(tree) I receive the message: Error:
dynamic library (MASS) not found: The same thing for library(tree). Where
is my error?
Thank for your help.
                                  FP

PS. In the messages that appear during the procedure R INSTALL  is
signalled the following error: make:*** [*.o] Error 1

Francesco Pecci
Dipartimento di Economie, Societ? ed Istituzioni
Via dell'Artigliere, 8
37129 VERONA
tel. 39-45-8098718/236
fax 39-45-8098434
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep 16 11:02:52 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Sep 1999 11:02:52 +0200
Subject: [R] Problems with compilation of R packages.
In-Reply-To: Francesco Pecci's message of "Thu, 16 Sep 1999 10:19:51 +0200"
References: <3.0.6.32.19990916101951.007dbd90@giuliari.univr.it>
Message-ID: <x2g10f6xfn.fsf@blueberry.kubism.ku.dk>

Francesco Pecci <ist10504 at giuliari.univr.it> writes:

> PS. In the messages that appear during the procedure R INSTALL  is
> signalled the following error: make:*** [*.o] Error 1

And the messages *before* that one? Looks like your tools can't build
the shared object files.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at luc.ac.be  Thu Sep 16 13:43:44 1999
From: jlindsey at luc.ac.be (Jim Lindsey)
Date: Thu, 16 Sep 1999 13:43:44 +0200 (MET DST)
Subject: [R] MS executables for my libraries
Message-ID: <Pine.OSF.4.10.9909161338110.1668-100000@alpha.luc.ac.be>

An executable version 0.6 of my libraries is now available at

www.luc.ac.be/~jlindsey/rcode.html

This works with MS R0.64.2 and appears possibly to work with R65.0.

There is a serious problem with the Fortran compiler as some of the
examples for elliptic and carma crash it. These same examples do not crash
R63.0 with the library executables of Jan 99. I am releasing this anyway
because of the numerous requests; everything else seems to work OK.

I know nothing about MS OS so please let me know of problems.
  Thanks. Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyls98 at doc.ic.ac.uk  Thu Sep 16 17:32:50 1999
From: cyls98 at doc.ic.ac.uk (Lionel Siau)
Date: Thu, 16 Sep 1999 16:32:50 +0100
Subject: [R] Java/C interface with R
Message-ID: <37E10DA2.3B69AF76@doc.ic.ac.uk>

Hi,

I'm rarther curious if it is possible to interface C or Java GUIs with
the underlying R statistical engine. SPLUS has something like this in
S+SDK.

Lionel



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Sep 16 17:49:26 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 16 Sep 1999 08:49:26 -0700 (PDT)
Subject: [R] Java/C interface with R
In-Reply-To: <37E10DA2.3B69AF76@doc.ic.ac.uk>
Message-ID: <Pine.GSO.4.10.9909160846320.24376-100000@wompom.biostat.washington.edu>

On Thu, 16 Sep 1999, Lionel Siau wrote:

> Hi,
> 
> I'm rarther curious if it is possible to interface C or Java GUIs with
> the underlying R statistical engine. SPLUS has something like this in
> S+SDK.

Up to a point.  The Gnome and Windows ports use R as a backend library and
feed commands to it from a GUI frontend. You could do something similar.

Also, a .Java() interface may be available Real Soon Now to allow popping
up Java things from R functions.  I am currently doing something like this
only less elegant with sockets to control dynamic graphics in Java.

	-thomas


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep 16 19:14:24 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 16 Sep 1999 18:14:24 +0100 (BST)
Subject: [R] Java/C interface with R
In-Reply-To: <Pine.GSO.4.10.9909160846320.24376-100000@wompom.biostat.washington.edu>
Message-ID: <Pine.GSO.4.05.9909161808270.4430-100000@auk.stats>

On Thu, 16 Sep 1999, Thomas Lumley wrote:

> On Thu, 16 Sep 1999, Lionel Siau wrote:
> 
> > Hi,
> > 
> > I'm rarther curious if it is possible to interface C or Java GUIs with
> > the underlying R statistical engine. SPLUS has something like this in
> > S+SDK.
> 
> Up to a point.  The Gnome and Windows ports use R as a backend library and
> feed commands to it from a GUI frontend. You could do something similar.

(The Windows version has a documented plug-in interface for its DLL. It is
not quite as simple as Thomas paints it, as both the front and back ends
need to run event loops.)

> Also, a .Java() interface may be available Real Soon Now to allow popping
> up Java things from R functions.  I am currently doing something like this
> only less elegant with sockets to control dynamic graphics in Java.

I think the future of this has to be inter-process communications,
like CORBA or (shudder) (D)COM.  There is some example code for the latter
on Windows, which should appear in the next release: we can let you
see a version shortly if you really want to get on with it. (It works well,
but it does not handle errors well yet).  And an R/CORBA interface
is also under construction, I understand.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mavip5 at inet.polyu.edu.hk  Fri Sep 17 07:17:26 1999
From: mavip5 at inet.polyu.edu.hk (Li Dongfeng)
Date: Fri, 17 Sep 1999 13:17:26 +0800
Subject: [R] Java/C interface with R
References: <Pine.GSO.4.05.9909161808270.4430-100000@auk.stats>
Message-ID: <37E1CEE6.5E21B7A3@inet.polyu.edu.hk>



Prof Brian D Ripley wrote:
> 
> On Thu, 16 Sep 1999, Thomas Lumley wrote:
> 
> > On Thu, 16 Sep 1999, Lionel Siau wrote:
> >
> > > Hi,
> > >
> > > I'm rarther curious if it is possible to interface C or Java GUIs with
> > > the underlying R statistical engine. SPLUS has something like this in
> > > S+SDK.
> >
> > Up to a point.  The Gnome and Windows ports use R as a backend library and
> > feed commands to it from a GUI frontend. You could do something similar.
> 
> (The Windows version has a documented plug-in interface for its DLL. It is
> not quite as simple as Thomas paints it, as both the front and back ends
> need to run event loops.)
> 
> > Also, a .Java() interface may be available Real Soon Now to allow popping
> > up Java things from R functions.  I am currently doing something like this
> > only less elegant with sockets to control dynamic graphics in Java.
> 
> I think the future of this has to be inter-process communications,
> like CORBA or (shudder) (D)COM.  There is some example code for the latter
> on Windows, which should appear in the next release: we can let you
> see a version shortly if you really want to get on with it. (It works well,
> but it does not handle errors well yet).  And an R/CORBA interface
> is also under construction, I understand.

That's really exciting! I am creating (another) R web interface,
this time using an long-running R subprocess(the other existing
R web servers start one R process per request). But the subprocess
will end if the submited source has any error. An R/CORBA interface
with good error handling will be great for web integration.


> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep 17 08:23:12 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 17 Sep 1999 07:23:12 +0100 (BST)
Subject: [R] Java/C interface with R
In-Reply-To: <37E1CEE6.5E21B7A3@inet.polyu.edu.hk>
Message-ID: <Pine.GSO.4.05.9909170704250.4912-100000@auk.stats>

On Fri, 17 Sep 1999, Li Dongfeng wrote:

> 
> 
> Prof Brian D Ripley wrote:
> > 
> > > On Thu, 16 Sep 1999, Lionel Siau wrote:
> > >
> > > > Hi,
> > > >
> > > > I'm rarther curious if it is possible to interface C or Java GUIs with
> > > > the underlying R statistical engine. SPLUS has something like this in
> > > > S+SDK.

[...]

> > I think the future of this has to be inter-process communications,
> > like CORBA or (shudder) (D)COM.  There is some example code for the latter
> > on Windows, which should appear in the next release: we can let you
> > see a version shortly if you really want to get on with it. (It works well,
> > but it does not handle errors well yet).  And an R/CORBA interface
> > is also under construction, I understand.
> 
> That's really exciting! I am creating (another) R web interface,
> this time using an long-running R subprocess(the other existing
> R web servers start one R process per request). But the subprocess
> will end if the submited source has any error. An R/CORBA interface
> with good error handling will be great for web integration.

Well, 

(i) It is R that will need the good error handling, and better error
handling is planned but is not imminent.

(ii) Running multiple external requests to a single R process needs a lot
of thought. What happens when two users try to do similar things? Suppose
two people want to send slightly different versions of the same data set to
R and get plots back? How are you going to ensure that they don't
interfere?  What is to stop one user overriding some system functions with
copies in the workspace that will persist for all subsequent users?

I see this as a lot more complicated than the original question (a GUI for
R) unless the capabilities of R are severely curtailed.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From syring at email.com  Fri Sep 17 10:40:20 1999
From: syring at email.com (Karl M. Syring)
Date: Fri, 17 Sep 1999 10:40:20 +0200
Subject: [R] MS executables for my libraries
In-Reply-To: <Pine.OSF.4.10.9909161338110.1668-100000@alpha.luc.ac.be>
Message-ID: <000201bf00e8$46c23a90$7792b8d4@fenris>

Jim,
I have rebuild all libraries from the source on R65.0. with gcc-2.95
(mingw32,msvcrt). There is no problem during the build and all libraries get
loaded properly.
The carma example runs to completion without problems but the elliptic
example runs some tests and stops then with this Rterm output

....
Variance
  estimate      se   sigsq
   -0.7632  0.2253  0.4662

exponential autocorrelation
     estimate     se
rho    -2.265  2.117  0.09409

Correlation matrix of nonlinear parameters
       1      2
1 1.0000 0.1218
2 0.1218 1.0000

ellptc> elliptic(y, ccov = ~x1 + x2, interact = c(2, 0), torder = 3,
    pre = 2)
<dies silently>

Further investigation into the problem with gdb was not helpful as I did not
build R with the DEBUG option.

Karl

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Jim Lindsey
> Sent: Donnerstag, 16. September 1999 13:44
> To: r-help at stat.math.ethz.ch
> Subject: [R] MS executables for my libraries
>
>
> An executable version 0.6 of my libraries is now available at
>
> www.luc.ac.be/~jlindsey/rcode.html
>
> This works with MS R0.64.2 and appears possibly to work with R65.0.
>
> There is a serious problem with the Fortran compiler as some of the
> examples for elliptic and carma crash it. These same examples do not crash
> R63.0 with the library executables of Jan 99. I am releasing this anyway
> because of the numerous requests; everything else seems to work OK.
>
> I know nothing about MS OS so please let me know of problems.
>   Thanks. Jim
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info",
> "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mavip5 at inet.polyu.edu.hk  Fri Sep 17 11:43:50 1999
From: mavip5 at inet.polyu.edu.hk (Li Dongfeng)
Date: Fri, 17 Sep 1999 17:43:50 +0800
Subject: [R] Java/C interface with R
References: <Pine.GSO.4.05.9909170704250.4912-100000@auk.stats>
Message-ID: <37E20D56.AB62D0F8@inet.polyu.edu.hk>



Prof Brian D Ripley wrote:
> 
> On Fri, 17 Sep 1999, Li Dongfeng wrote:
> 
> >
> >
> > Prof Brian D Ripley wrote:
> > >
> > > > On Thu, 16 Sep 1999, Lionel Siau wrote:
> > > >
> > > > > Hi,
> > > > >
> > > > > I'm rarther curious if it is possible to interface C or Java GUIs with
> > > > > the underlying R statistical engine. SPLUS has something like this in
> > > > > S+SDK.
> 
> [...]
> 
> > > I think the future of this has to be inter-process communications,
> > > like CORBA or (shudder) (D)COM.  There is some example code for the latter
> > > on Windows, which should appear in the next release: we can let you
> > > see a version shortly if you really want to get on with it. (It works well,
> > > but it does not handle errors well yet).  And an R/CORBA interface
> > > is also under construction, I understand.
> >
> > That's really exciting! I am creating (another) R web interface,
> > this time using an long-running R subprocess(the other existing
> > R web servers start one R process per request). But the subprocess
> > will end if the submited source has any error. An R/CORBA interface
> > with good error handling will be great for web integration.
> 
> Well,
> 
> (i) It is R that will need the good error handling, and better error
> handling is planned but is not imminent.
> 
> (ii) Running multiple external requests to a single R process needs a lot
> of thought. What happens when two users try to do similar things? Suppose

There is a locking mechanism. If two request come, the later one use
a new short-run R sub-process.

> two people want to send slightly different versions of the same data set to
> R and get plots back? How are you going to ensure that they don't
I am now using a naive solution: for every request, prepend
  rm(list=ls())
to the program. Since there is a lock, two request will
not get there code mixed together.
If the sub-process stopped due to program
error, a new request will automatically re-start the 
long-running R sub-process.

> interfere?  What is to stop one user overriding some system functions with
> copies in the workspace that will persist for all subsequent users?
This is a problem to be solved. In fact, there is no
good way to prevent users to use the system() function
to do some nasty things(maybe I can scan the code
and reject those containing system(...) calll, 
but this is not an elegant solution).
Now I use a long-running R process for trusted
code(code installed at the server), use short-run
R process for user's codes.

> 
> I see this as a lot more complicated than the original question (a GUI for
> R) unless the capabilities of R are severely curtailed.
You are right. 

> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyls98 at doc.ic.ac.uk  Fri Sep 17 13:00:24 1999
From: cyls98 at doc.ic.ac.uk (Lionel Siau)
Date: Fri, 17 Sep 1999 12:00:24 +0100
Subject: [R] Java/C interface with R
References: <Pine.GSO.4.05.9909161808270.4430-100000@auk.stats> <37E1CEE6.5E21B7A3@inet.polyu.edu.hk>
Message-ID: <37E21F48.DA163A83@doc.ic.ac.uk>

Hi,

Are are u activating the R process via web browser with a CGI(Perl? C?) or java
servlet or rmi?

I'm thinking of writing a application for data mining/statistical analysis using
JavaBeans which access R(with JNI) and display some fancy Java graphics. Everything
to be done on a linux system. Is there anything similar going on?

Lionel

> Prof Brian D Ripley wrote:
> >
> > On Thu, 16 Sep 1999, Thomas Lumley wrote:
> >
> > > On Thu, 16 Sep 1999, Lionel Siau wrote:
> > >
> > > > Hi,
> > > >
> > > > I'm rarther curious if it is possible to interface C or Java GUIs with
> > > > the underlying R statistical engine. SPLUS has something like this in
> > > > S+SDK.
> > >
> > > Up to a point.  The Gnome and Windows ports use R as a backend library and
> > > feed commands to it from a GUI frontend. You could do something similar.
> >
> > (The Windows version has a documented plug-in interface for its DLL. It is
> > not quite as simple as Thomas paints it, as both the front and back ends
> > need to run event loops.)
> >
> > > Also, a .Java() interface may be available Real Soon Now to allow popping
> > > up Java things from R functions.  I am currently doing something like this
> > > only less elegant with sockets to control dynamic graphics in Java.
> >
> > I think the future of this has to be inter-process communications,
> > like CORBA or (shudder) (D)COM.  There is some example code for the latter
> > on Windows, which should appear in the next release: we can let you
> > see a version shortly if you really want to get on with it. (It works well,
> > but it does not handle errors well yet).  And an R/CORBA interface
> > is also under construction, I understand.
>
> That's really exciting! I am creating (another) R web interface,
> this time using an long-running R subprocess(the other existing
> R web servers start one R process per request). But the subprocess
> will end if the submited source has any error. An R/CORBA interface
> with good error handling will be great for web integration.
>
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Fri Sep 17 17:42:33 1999
From: s-luppescu at uchicago.edu (Stuart Luppescu)
Date: Fri, 17 Sep 1999 10:42:33 -0500 (CDT)
Subject: [R] Tukey's biweight
Message-ID: <XFMail.990917104233.s-luppescu@uchicago.edu>

I want to estimate the center of a distribution with lots of outliers in one
tail, and thought I would use a function such as S-plus's location.m() with
psi.fun=bisquare (as per MASS 3 p. 131). However, R seems not have such a
function, so my questions are:
1) Is there an R equivalent to location.m()?
2) Would huber() give me results that are similar (i.e., close enough)?

Thanks.
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl/sl.html
ICQ #21172047  AIM: psycho7070
If at first you don't succeed, you must be a programmer.
>> Sent on 17-Sep-99 at 10:37:02 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep 17 19:08:37 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 17 Sep 1999 18:08:37 +0100 (BST)
Subject: [R] Tukey's biweight
In-Reply-To: <XFMail.990917104233.s-luppescu@uchicago.edu>
Message-ID: <Pine.GSO.4.05.9909171755330.5600-100000@auk.stats>

On Fri, 17 Sep 1999, Stuart Luppescu wrote:

> I want to estimate the center of a distribution with lots of outliers in one
> tail, and thought I would use a function such as S-plus's location.m() with
> psi.fun=bisquare (as per MASS 3 p. 131). However, R seems not have such a
> function, so my questions are:
> 1) Is there an R equivalent to location.m()?

Not directly.

> 2) Would huber() give me results that are similar (i.e., close enough)?

Not if you have lots of extreme outliers on just one side.


You ought to be able to use rlm in the latest MASS to do this, as in

x <- rcauchy(100) 
rlm(x ~ 1, psi=psi.bisquare, init="lts")

but unfortunately there is a bug in lm.wfit:

    if (zero.weights) {
        save.r <- y
        save.f <- y
        save.w <- w
        ok <- w != 0
        nok <- !ok
        w <- w[ok]
        x0 <- x[!ok, , drop = FALSE] # add drop=FALSE
        x <- x[ok, , drop = FALSE]   #

which once fixed does this.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Fri Sep 17 22:46:04 1999
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Fri, 17 Sep 1999 16:46:04 -0400 (EDT)
Subject: [R] using C++ with R?
Message-ID: <Pine.SGI.3.96.990917164430.909J-100000@ln.nimh.nih.gov>

Hi, all.

Is it possible to compile C++ code for use with R?  Based on a few
experiments with simple C++ programs, the answer appears to be no.  Has
anyone managed this?

Thanks,

Matt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nklepeis at uclink4.berkeley.edu  Sat Sep 18 01:07:30 1999
From: nklepeis at uclink4.berkeley.edu (Neil E. Klepeis)
Date: Fri, 17 Sep 1999 16:07:30 -0700
Subject: [R] Non-interactive sessions
Message-ID: <37E2C9B2.CBC727FC@uclink4.berkeley.edu>

Greetings,

Quick Summary:   How does R function non-interactively?  I can't print
graphics to an X11 window.

I set up what appears to be called a "noninteractive" R session using
the Perl code at the end of this message.  Everthing seems to work fine
as written.  I get a nice postscript file with my graphics.

However, I would like to display X11 R-graphics for the Perl-script
user.  Is there some way of sending commands to R to configure this
"noninterative mode"?  Especially so that I can produce X11 graphics.

Another related issue:  When I first sent the pipe to R (with no
options) it didn't work and I got the following error message:

" Fatal error : you must specify '--save', '--no-save', or '--vanilla' "

What is the '--vanilla' option all about?


Regards,
Neil


Appendix: My Perl Code
------------------------------------------
use FileHandle;
$R = new FileHandle ("| R --no-save");
$R->print("postscript(\"myfile.ps\")\n");
$R->print("dev.print(postscript)\n");
$R->print("curve(sin(x),-pi,pi)\n");
$R->print("dev.off()\n");
-------------------------------------------

-- 
___________________________________________________________
Neil E. Klepeis, School of Public Health, UC Berkeley, USA
Web: http://socrates.berkeley.edu/~nklepeis
Email: nklepeis at uclink4.berkeley.edu
Voice: 510-848-5827
-------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Sat Sep 18 01:18:12 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 17 Sep 1999 16:18:12 -0700 (PDT)
Subject: [R] Non-interactive sessions
In-Reply-To: <37E2C9B2.CBC727FC@uclink4.berkeley.edu>
Message-ID: <Pine.GSO.4.10.9909171616120.24945-100000@wompom.biostat.washington.edu>

On Fri, 17 Sep 1999, Neil E. Klepeis wrote:

> Greetings,
> 
> Quick Summary:   How does R function non-interactively?  I can't print
> graphics to an X11 window.
> 
> I set up what appears to be called a "noninteractive" R session using
> the Perl code at the end of this message.  Everthing seems to work fine
> as written.  I get a nice postscript file with my graphics.
> 
> However, I would like to display X11 R-graphics for the Perl-script
> user.  Is there some way of sending commands to R to configure this
> "noninterative mode"?  Especially so that I can produce X11 graphics.

You need to explicitly start an x11 driver if you are not running
interactively, ie using the  x11() function.

 
> Another related issue:  When I first sent the pipe to R (with no
> options) it didn't work and I got the following error message:
> 
> " Fatal error : you must specify '--save', '--no-save', or '--vanilla' "
> 
> What is the '--vanilla' option all about?

--vanilla is a debugging option. As R --help reports:

  --vanilla                 Combine --no-save, --no-restore,--no-site-file,
                            --no-init-file, and --no-environ.


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Sep 18 01:33:08 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Sep 1999 01:33:08 +0200
Subject: [R] Non-interactive sessions
In-Reply-To: "Neil E. Klepeis"'s message of "Fri, 17 Sep 1999 16:07:30 -0700"
References: <37E2C9B2.CBC727FC@uclink4.berkeley.edu>
Message-ID: <x2btb1t8p7.fsf@blueberry.kubism.ku.dk>

"Neil E. Klepeis" <nklepeis at uclink4.berkeley.edu> writes:

> However, I would like to display X11 R-graphics for the Perl-script
> user.  Is there some way of sending commands to R to configure this
> "noninterative mode"?  Especially so that I can produce X11 graphics.

Like this?

use FileHandle;
$R = new FileHandle ("| R --no-save");
$R->print("X11()\n");
$R->print("curve(sin(x),-pi,pi)\n");
$R->print("locator()\n");

You need some kind of interactivity to keep R from taking the window
down immediately.


> Another related issue:  When I first sent the pipe to R (with no
> options) it didn't work and I got the following error message:
> 
> " Fatal error : you must specify '--save', '--no-save', or '--vanilla' "
> 
> What is the '--vanilla' option all about?

'R --help' will tell you.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Sep 18 06:31:35 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 18 Sep 1999 05:31:35 +0100 (BST)
Subject: [R] using C++ with R?
In-Reply-To: <Pine.SGI.3.96.990917164430.909J-100000@ln.nimh.nih.gov>
Message-ID: <Pine.GSO.4.05.9909180515040.19573-100000@auk.stats>

On Fri, 17 Sep 1999, Matthew Wiener wrote:

> Is it possible to compile C++ code for use with R?  Based on a few
> experiments with simple C++ programs, the answer appears to be no.  Has
> anyone managed this?

Yes.  There is a tiny example in the draft R programming manual (not yet
available). There are two issues I know of:

(i) Use extern "C" { } around things you want to export symbols from to R.
(ii) Link the shared library/DLL with the C++ compiler (e.g. g++)
not ld.

The issues are pretty generic, and apply also to S-PLUS, for example,
and there there are plenty of successful examples.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Sat Sep 18 15:51:50 1999
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Sat, 18 Sep 1999 15:51:50 +0200 (CEST)
Subject: [R] using C++ with R?
In-Reply-To: <Pine.GSO.4.05.9909180515040.19573-100000@auk.stats>
References: <Pine.SGI.3.96.990917164430.909J-100000@ln.nimh.nih.gov>
	<Pine.GSO.4.05.9909180515040.19573-100000@auk.stats>
Message-ID: <14307.39158.135483.24441@aragorn.ci.tuwien.ac.at>

>>>>> Prof Brian D Ripley writes:

> On Fri, 17 Sep 1999, Matthew Wiener wrote:
>> Is it possible to compile C++ code for use with R?  Based on a few
>> experiments with simple C++ programs, the answer appears to be no.  Has
>> anyone managed this?

> Yes.  There is a tiny example in the draft R programming manual (not yet
> available). There are two issues I know of:

> (i) Use extern "C" { } around things you want to export symbols from
> to R.

See

  http://www.ens.gu.edu.au/robertk/R/help/99a/0317.htm

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Sat Sep 18 16:32:29 1999
From: chong at stat.purdue.edu (Chong Gu)
Date: Sat, 18 Sep 1999 09:32:29 -0500
Subject: [R] janka data
Message-ID: <199909181432.JAA16742@mean.stat.purdue.edu>


There is a documentation of janka hardness data in MASS, but no data.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Sep 18 21:05:39 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 18 Sep 1999 20:05:39 +0100 (GMT Daylight Time)
Subject: [R] janka data
In-Reply-To: <199909181432.JAA16742@mean.stat.purdue.edu>
Message-ID: <Pine.WNT.4.05.9909181951440.6538-100000@tern.stats>

On Sat, 18 Sep 1999, Chong Gu wrote:

> There is a documentation of janka hardness data in MASS, but no data.

And the help you wanted was?  The help file does give the source of the
data, assuming you read it.  It is also in the Rnotes package, as that does
use it (unlike MASS, the book).

If you want help with an R package, do please ask the authors not the
world, or at the very least Cc the authors. That is the convention on
S-news, where several library authors have expressed the view that not to
do so is rather impolite.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From royle at penguin.irm.r9.fws.gov  Sun Sep 19 21:59:24 1999
From: royle at penguin.irm.r9.fws.gov (royle@penguin.irm.r9.fws.gov)
Date: Sun, 19 Sep 1999 15:59:24 -0400 (EDT)
Subject: [R] error in loading shared libraries
Message-ID: <Pine.LNX.3.96.990919155706.576G-100000@penguin.fws.gov>

Hi Folks,

I have been using R for many months on my Intel box running RH 5.1
and just recently have run into the following problem:

/home/royle> R
/usr/local/share/R/bin/R.binary: error in loading shared libraries: /usr/local/share/R/bin/R.binary: undefined symbol: __setfpucw

Can someone advise me on how to fix this problem?  

I haven't modified my system at all, other than to install Octave
and Scilab (and an add-on package for Octave).

kind regards
andy


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Sep 19 22:15:56 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Sep 1999 22:15:56 +0200
Subject: [R] error in loading shared libraries
In-Reply-To: royle@penguin.irm.r9.fws.gov's message of "Sun, 19 Sep 1999 15:59:24 -0400 (EDT)"
References: <Pine.LNX.3.96.990919155706.576G-100000@penguin.fws.gov>
Message-ID: <x2906264jn.fsf@blueberry.kubism.ku.dk>

royle at penguin.irm.r9.fws.gov writes:

> Hi Folks,
> 
> I have been using R for many months on my Intel box running RH 5.1
> and just recently have run into the following problem:
> 
> /home/royle> R
> /usr/local/share/R/bin/R.binary: error in loading shared libraries: /usr/local/share/R/bin/R.binary: undefined symbol: __setfpucw
> 
> Can someone advise me on how to fix this problem?  
> 
> I haven't modified my system at all, other than to install Octave
> and Scilab (and an add-on package for Octave).

Are you *sure* you didn't install glibc2 as part of that? People
generally bump into that error by upgrading to RH6.0. If you are lazy,
there is a workaround involving a dummy entry for __setfpucw, which I
posted on one of the R lists a while ago. 

$ cat > dummy.c
__setfpucw(){}
$ gcc -shared -o dummy.so dummy.c
$ LD_PRELOAD=$PWD/dummy.so R


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Mon Sep 20 09:51:58 1999
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Mon, 20 Sep 1999 09:51:58 +0200 (CEST)
Subject: [R] using C++ with R?
In-Reply-To: <Pine.GSO.4.05.9909180515040.19573-100000@auk.stats>
References: <Pine.SGI.3.96.990917164430.909J-100000@ln.nimh.nih.gov>
	<Pine.GSO.4.05.9909180515040.19573-100000@auk.stats>
Message-ID: <14309.59294.742537.353255@galadriel.ci.tuwien.ac.at>

>>>>> On Sat, 18 Sep 1999 05:31:35 +0100 (BST),
>>>>> Prof Brian D Ripley (PBDR) wrote:

PBDR> On Fri, 17 Sep 1999, Matthew Wiener wrote:
>> Is it possible to compile C++ code for use with R?  Based on a few
>> experiments with simple C++ programs, the answer appears to be no.  Has
>> anyone managed this?

PBDR> Yes.  There is a tiny example in the draft R programming manual (not yet
PBDR> available).

The examples are also in doc/manual/Manual.tex contained in the R
sources.

best,
fritz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Sep 20 10:37:33 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 20 Sep 1999 10:37:33 +0200
Subject: [R] "Digest" version of R-help and R-devel mailing lists
Message-ID: <199909200837.KAA29173@sophie.ethz.ch>

A few of you have expressed the desire for a "digest" subscription to the
R-help and/or R-devel mailing lists.
{This may be especially useful if you leave for vacation etc}.

These ``digest lists'' have now been put into place, i.e., if you don't
want to get as much e-mail from R-help or R-devel as currently, 
but still would want to be in touch,
you could now consider changing your subscription, from, e.g.,
R-help to R-help-digest. 

Note that a "digest" in this sense is no condensation; it's just
one e-mail with all messages instead of single message e-mails.
The one I (as currently only subscribe to R-help-digest) got this morning
started as

>> R-help Digest        Monday, September 20 1999        Volume 01 : Number 002
>> 
>> 
>> 
>> In this issue:
>> 
>>   Re: [R] janka data
>>   Re: [R] using C++ with R?
>>   [R] janka data
>>   Re: [R] using C++ with R?
>>   [R] error in loading shared libraries
>>   Re: [R] error in loading shared libraries
>> 
>> See the end of the digest for information about r-help-digest

> (and then these 6 messages concatenated)

Further note that the digest follows "official" standard RFC 934,
and can be dealt with `` almost any digest-digester that comes along ''
(eg. in Emacs RMAIL, I can do M-x undigestify-rmail-message which would split
 the above digest into 1+6 single messages)

Mail to R-help-digest is the same as mail to R-help
     (such that replying to R-help-digest will reply to where appropriate).

I am proposing (and have currently activated) to have digestifications
3 times a week, on  Monday, Wednesday, and Friday (at MET 04 = UTC 04+{1|2}).
Another possibility would be daily digests.
I think we should keep it as it is now for a while and have the digest
subscribers send me mail (not to the list which is identical to R-help)
if a different schedule is desired [e.g. S-news-digest is daily].

Finally, how do you change your subscription from R-help to R-help-digest?
On Unix {with working e-mail}, it's as simple as
	echo   subscribe r-help-digest | mail majordomo at stat.math.ethz.ch
	echo unsubscribe r-help        | mail majordomo at stat.math.ethz.ch

Of course, I'm not encouraging anyone to do this, since "immediate"
discussions are more helpful to anyone looking for help on R-help.
On the other hand, you might be interested in R's development, but not want
to get as many messages as you get now.
I think this is particularly true for R-devel which gets all bug reports.
You may consider subscribing to R-devel-digest if you  have shied away from
subscribing to R-devel till now.

BTW, this is *not* sent to R-devel since I assume any R-develers to be
    subscribed to R-help anyway... okay?

Your list maintainer,
Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stefan.ma at commed.hku.hk  Mon Sep 20 11:30:44 1999
From: stefan.ma at commed.hku.hk (Stefan Ma)
Date: Mon, 20 Sep 1999 17:30:44 +0800 (HKT)
Subject: [R] GAM in R?
Message-ID: <199909200930.RAA09703@cmd0.commed.hku.hk>

Dear R users,

Does anyone know the GAM (generalized additive models) implemented in
R?

-Stefan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Mon Sep 20 13:34:52 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Mon, 20 Sep 1999 13:34:52 +0200 (MET DST)
Subject: [R] growth library
Message-ID: <199909201134.NAA28715@alpha.luc.ac.be>

I have placed a corrected executable of my growth library for
MS-Windows at
www.luc.ac.be/~jlindsey/rcode.html
This now runs Peter Mandeville's example for carma and the example for
elliptic from my docs.

This Fortran compiler is clearly having serious problems with small
double precision numbers that it sets exactly to zero. I have had to
put in checks for this. I have not had any similar problems with this
Fortran code on any other compiler on any platform in the last 10
years.

By the way, please address problems with my libraries directly to me
without a copy to R-help. Thanks.
  Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Fri Sep 17 17:09:55 1999
From: kjetilh at umsanet.edu.bo (Kjetil Halvorsen)
Date: Fri, 17 Sep 1999 11:09:55 -0400
Subject: [R] tukey.1
Message-ID: <37E259C3.35D1B490@umsanet.edu.bo>

Hola!
 I have been trying to get thetukey.1 function from one of the s books
to function 
under R, but have still problems. Below is my slightly changed version
given. 

> tukey.1
function (aov.obj, data) 
{
    vnames <- names(aov.obj$contrasts)
    if (length(vnames) != 2) 
        stop("The model must be two-way.")
    vara <- data[, vnames[1]]
    varb <- data[, vnames[2]]
    na <- length(levels(vara))
    nb <- length(levels(varb))
    where.resp <- as.character(attr(aov.obj$terms,
"variables")[attr(aov.obj$terms, 
        "response")])

# This gets the value "list"!!, so resp below becomes null I cannot find
a workaround
3 for this.  Any suggestions?


    resp <- data[, where.resp]
    cfs <- coef(aov.obj)
    alpha.A <- aov.obj$contrasts[[vnames[1]]] %*%
cfs[aov.obj$assign[aov.obj$assign == 
        1]]
    alpha.B <- aov.obj$contrasts[[vnames[2]]] %*%
cfs[aov.obj$assign[aov.obj$assign == 
        2]]
    r.mat <- matrix(0, nb, na)
    r.mat[cbind(as.vector(unclass(varb)), as.vector(unclass(vara)))] <-
resp
    SS.theta.num <- sum((alpha.B %*% t(alpha.A)) * r.mat)^2
    SS.theta.den <- sum(alpha.A^2) * sum(alpha.B^2)
    SS.theta <- SS.theta.num/SS.theta.den
    SS.res <- sum(resid(aov.obj)^2)
    SS.res.1 <- SS.res - SS.theta
    T.1df <- ((na * nb - na - nb) * SS.theta)/SS.res.1
    p.value <- 1 - pf(T.1df, 1, na * nb - na - nb)
    list(T.1df = T.1df, p.value = p.value)
}


Kjetil Halvorsen

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Sep 20 17:20:22 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 20 Sep 1999 16:20:22 +0100 (BST)
Subject: [R] tukey.1
Message-ID: <199909201520.QAA05406@toucan.stats.ox.ac.uk>

> From: Kjetil Halvorsen <kjetilh at umsanet.edu.bo>
> Hola!
>  I have been trying to get thetukey.1 function from one of the s books
> to function 
> under R, but have still problems. Below is my slightly changed version
> given. 
> 
> > tukey.1
> function (aov.obj, data) 
> {
>     vnames <- names(aov.obj$contrasts)
>     if (length(vnames) != 2) 
>         stop("The model must be two-way.")
>     vara <- data[, vnames[1]]
>     varb <- data[, vnames[2]]
>     na <- length(levels(vara))
>     nb <- length(levels(varb))
>     where.resp <- as.character(attr(aov.obj$terms,
> "variables")[attr(aov.obj$terms, 
>         "response")])
> 
> # This gets the value "list"!!, so resp below becomes null I cannot find
> a workaround
> 3 for this.  Any suggestions?

Yes, the terms structure is different in R. Try, for example,

> tt <- attr(npk.aov$terms, "variables")
list(yield, block, N, P, K)
> as.character(tt)[-1]
[1] "yield" "block" "N"     "P"     "K"    

so you need (as.character(tt)[-1])[attr(aov.obj$terms, "response")]
(but I think the response is always first in R).

>     resp <- data[, where.resp]
>     cfs <- coef(aov.obj)
>     alpha.A <- aov.obj$contrasts[[vnames[1]]] %*%
> cfs[aov.obj$assign[aov.obj$assign == 
>         1]]
>     alpha.B <- aov.obj$contrasts[[vnames[2]]] %*%
> cfs[aov.obj$assign[aov.obj$assign == 
>         2]]

The assign structure is even more different, but maybe you have already
altered this.

A good place to look is aov.R or glm.R which have

        mf <- eval(lmcall, sys.frame(sys.parent()))
        xvars <- as.character(attr(Terms, "variables"))[-1]
        if ((yvar <- attr(Terms, "response")) > 0)
            xvars <- xvars[-yvar]
....



-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From royle at penguin.irm.r9.fws.gov  Mon Sep 20 18:22:05 1999
From: royle at penguin.irm.r9.fws.gov (royle@penguin.irm.r9.fws.gov)
Date: Mon, 20 Sep 1999 12:22:05 -0400 (EDT)
Subject: [R] image legend
Message-ID: <Pine.LNX.3.96.990920122050.576O-100000@penguin.fws.gov>

Dear R users,

Does anyone have a function for putting a legend on an image
plot?  I couldn't locate an R equivalent of image.legend....has
anyone written such a thing?

kind regards
andy



---------------------------------------------------------------------
J. Andy Royle, U.S. Fish and Wildlife Service - Office of Migratory 
Bird Management; 11510 American Holly Drive , Laurel, MD 20708-4017; 
phone - 301-497-5673 fax - 301-497-5706 email - royle at penguin.fws.gov
---------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Adrian.Trapletti at wu-wien.ac.at  Mon Sep 20 18:08:25 1999
From: Adrian.Trapletti at wu-wien.ac.at (Adrian Trapletti)
Date: Mon, 20 Sep 1999 16:08:25 +0000
Subject: [R] Updated tseries package
Message-ID: <37E65BF9.B37B63C0@wu-wien.ac.at>

Fritz just put the updated tseries package to CRAN. I mainly removed
(and corrected) code such that tseries fits together with package ts.
New code is White's and Teraesvirta's tests for neglected non-linearity
(also for the regression case). From the INDEX file:

NelPlo                   Nelson-Plosser Macroeconomic Time Series
adf.test                 Augmented Dickey-Fuller Test
amif                     Auto Mutual Information Function
bds.test                 BDS Test
portfolio.optim          Portfolio Optimization
quadmap                  Quadratic Map (Logistic Equation)
read.matrix              Read Matrix Data
read.ts                  Read Time Series Data
runs.test                Runs Test
surrogate                Generate Surrogate Data
tcm                      Yields on Treasury Securities
terasvirta.test          Teraesvirta Neural Network Test for
Nonlinearity
white.test               White Neural Network Test for Nonlinearity

Comments and suggestions are welcome!

Adrian


--
Adrian Trapletti, Vienna University of Economics and Business
Administration, Augasse 2-6, A-1090 Vienna, Austria
Phone: ++43 1 31336 4561, Fax: ++43 1 31336 708,
Email: adrian.trapletti at wu-wien.ac.at



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mhart at terrigal.net.au  Tue Sep 21 06:46:35 1999
From: mhart at terrigal.net.au (Michael HART)
Date: Tue, 21 Sep 1999 14:46:35 +1000
Subject: [R] regressions (simple question)
Message-ID: <009701bf03ec$4a796c60$c8f410cb@michael>

I have a list of measurements taken at 1 second samples in a vector (y).
All I want to do is generate a regression through them, and obtain the
residuals in another vector.  I am currently using the 'line' function from
the eda package to do this (ie :

z <- line(time,y)
rsd <- residuals(z)

)
but this method does not handle NA values in the data.  I would like to try
to use the lm functions but cannot figure out how to do this simple
regression with it (how do I set up the model parameter etc).

Also can anyone let me know how the ts package handles NA values.

Michael Hart


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Tue Sep 21 07:44:22 1999
From: novo at uiuc.edu (Alvaro A. Novo)
Date: Tue, 21 Sep 1999 00:44:22 -0500
Subject: [R] image legend
References: <Pine.LNX.3.96.990920122050.576O-100000@penguin.fws.gov>
Message-ID: <99092100455602.19057@friedman>

On Mon, 20 Sep 1999, royle at penguin.irm.r9.fws.gov wrote:
> Dear R users,
> 
> Does anyone have a function for putting a legend on an image
> plot?  I couldn't locate an R equivalent of image.legend....has
> anyone written such a thing?

Are you looking for something like:

    text(115, 13, expression(f(x, theta) == theta[1] * x/(x +
        theta[2] + theta[3] * x^2)))


Where 115 and 13 is the coordinates (x,y).

Alvaro Novo
> 
> kind regards
> andy
> 
> 
> 
> ---------------------------------------------------------------------
> J. Andy Royle, U.S. Fish and Wildlife Service - Office of Migratory 
> Bird Management; 11510 American Holly Drive , Laurel, MD 20708-4017; 
> phone - 301-497-5673 fax - 301-497-5706 email - royle at penguin.fws.gov
> ---------------------------------------------------------------------
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep 21 08:29:26 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 21 Sep 1999 07:29:26 +0100 (BST)
Subject: [R] regressions (simple question)
In-Reply-To: <009701bf03ec$4a796c60$c8f410cb@michael>
Message-ID: <Pine.GSO.4.05.9909210720400.22106-100000@auk.stats>

On Tue, 21 Sep 1999, Michael HART wrote:

> I have a list of measurements taken at 1 second samples in a vector (y).
> All I want to do is generate a regression through them, and obtain the
> residuals in another vector.  I am currently using the 'line' function from
> the eda package to do this (ie :
> 
> z <- line(time,y)
> rsd <- residuals(z)
> 
> )
> but this method does not handle NA values in the data.  I would like to try
> to use the lm functions but cannot figure out how to do this simple
> regression with it (how do I set up the model parameter etc).

fit <- lm(y ~ time, na.action=na.omit)
rsd <- residuals(fit)

But watch out, as the residuals for the input NAs (which are NAs) are
omitted. Which they are is handled in attribute na.action of fit$model.

> Also can anyone let me know how the ts package handles NA values.

It depends on the function (and that is an aspect that is incomplete as
yet). Many of the functions can use na.omit.ts or na.contiguous, that keeps
a longs contiguous block of non-NAs. You will need to read the help page
for each. Eventually there will be an arima function that handles NAs
internally.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlennert at ulb.ac.be  Mon Sep 20 12:07:12 1999
From: mlennert at ulb.ac.be (Moritz Lennert)
Date: Mon, 20 Sep 1999 12:07:12 +0200
Subject: [R] princomp
Message-ID: <002f01bf0403$ee1c2c60$81f60fa4@secr-tariat>

Hello !

I downloaded R-base-0.64.1-1 for Linux and for Windows and in both I cannot find princomp.
When I type library(help=mva), princomp is not listed.
Where can I find it ?

Moritz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/19990920/588e8bb9/attachment.html

From J.C.Rougier at durham.ac.uk  Tue Sep 21 09:56:30 1999
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Tue, 21 Sep 1999 08:56:30 +0100 (BST)
Subject: [R] image legend
In-Reply-To: <Pine.LNX.3.96.990920122050.576O-100000@penguin.fws.gov>
Message-ID: <Pine.GSO.3.96.990921084527.20520F-300000@laplace>

Hi Andy,

> Does anyone have a function for putting a legend on an image
> plot?  I couldn't locate an R equivalent of image.legend....has
> anyone written such a thing?

I'm attaching a couple of files for an `image.legend' that I wrote a few
weeks ago, although I have called it `image.scale' as it is not Splus
compatible. Because I am lazy it has lots of default options.  I am afraid
it falls a bit into the `crude but effective until shown otherwise'
category.

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE

"[B]egin upon the precept ... that the things we see are to be 
 weighed in the scale with what we know"  (Meredith, 1879, The Egoist)
-------------- next part --------------
"image.scale" <-
function (z, col, x, y = NULL, size = NULL, digits = 2, labels = c("breaks", 
    "ranges"))
{
    # sort out the location
    n <- length(col)
    usr <- par("usr")
    mx <- mean(usr[1:2]); my <- mean(usr[3:4])
    dx <- diff(usr[1:2]); dy <- diff(usr[3:4])
    if (missing(x))
        x <- mx + 1.05*dx/2	# default x to right of image
    else if (is.list(x)) {
        if (length(x$x) == 2) 
          size <- c(diff(x$x), -diff(x$y)/n)
        y <- x$y[1]
        x <- x$x[1]
    } else x <- x[1]
    if (is.null(size))
        if (is.null(y)) {
          size <- 0.618*dy/n	# default size, golden ratio
          y <- my + 0.618*dy/2	# default y to give centred scale
        } else size <- (y-my)*2/n
    if (length(size)==1)
        size <- rep(size, 2)	# default square boxes
    if (is.null(y))
        y <- my + n*size[2]/2
    # draw the image scale
    i <- seq(along = col)
    rect(x, y - i * size[2], x + size[1], y - (i - 1) * size[2], 
        col = rev(col), xpd = TRUE)
    # sort out the labels
    rng <- range(z, na.rm = TRUE)
    bks <- seq(from = rng[2], to = rng[1], length = n + 1)
    bks <- formatC(bks, format="f", digits=digits)
    labels <- match.arg(labels)
    if (labels == "breaks")
        ypts <- y - c(0, i) * size[2]
    else {
        bks <- paste(bks[-1], bks[-(n+1)], sep = " - ")
        ypts <- y - (i - 0.5) * size[2]
    }
    text(x = x + 1.2 * size[1], y = ypts, labels = bks, adj =
        ifelse(size[1]>0, 0, 1), xpd = TRUE) 
}
-------------- next part --------------
\name{image.scale}

\alias{image.scale}

\title{Provide scale to image plots}

\usage{
image.scale(z, col, x, y=NULL, size=NULL, digits=2, labels=c("breaks", "ranges"))
}

\arguments{
 \item{z}{Data from image plot}
 \item{col}{Colours from image plot}
 \item{x}{Horizintal location of top-left corner of scale, or list with
\code{x} and \code{y} components}
 \item{y}{Vertical location of top-left corner of scale}
 \item{size}{1- or 2-vector of colour-box dimensions}
 \item{digits}{Number of digits after the decimal point in labels}
 \item{labels}{Type of labels}
}

\description{
Provides a vertical colour scale to accompany an image plot.  The
location defaults to the right of the plot, the colour-boxes
default to square, and the style of the labels defaults to giving
the breaks to the right of the scale.}

\details{
Use \code{x=locator(1)} or give both \code{x} and \code{y}
arguments to specify the top-left corner of the scale.  The
colour-boxes then default to squares, and the image is centred
around the vertical midpoint.  Use \code{x=locator(2)} for
complete control of the scale size and location.  The usual scale
(labels to the right) requires a top-left and bottom-right.  To
reverse the scale, go bottom-top.  To swith labels to the left,
go right-left.

The labels default to single values giving the breaks, centred
between colour-boxes.  For ranges centred vertically on each
colour-box (wider), specify \code{labels="ranges"}.}

\author{Jonathan Rougier}

\seealso{\code{\link{image}}}

\examples{
# create an image plot
x <- seq(-0.5, 0.5, len = 31)
qform <- function(x, y) 3*x^2 + y^2 - 2*x*y
z <- outer(x, x, FUN = qform)

par("mar" = c(5, 4, 4, 10) + 0.1)	# wide righthand margin
image(x, x, z, col=gray(6:12/15))
image.scale(z, gray(6:12/15))		# the default

image(x, x, z, col=gray(6:12/15))
image.scale(z, gray(6:12/15), labels="range")	# with range labels

# play around with the following ...
image(x, x, z, col=gray(6:12/15))
image.scale(z, gray(6:12/15), x=locator(1))	# or locator(2)
}

\keyword{aplot,iplot,color}

From maechler at stat.math.ethz.ch  Tue Sep 21 10:09:10 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 21 Sep 1999 10:09:10 +0200
Subject: [R] princomp
In-Reply-To: <002f01bf0403$ee1c2c60$81f60fa4@secr-tariat> (mlennert@ulb.ac.be)
References: <002f01bf0403$ee1c2c60$81f60fa4@secr-tariat>
Message-ID: <199909210809.KAA17346@sophie.ethz.ch>

>>>>> On Mon, 20 Sep 1999 12:07, "Moritz Lennert" <mlennert at ulb.ac.be> said:

    Moritz> I downloaded R-base-0.64.1-1 for Linux and for Windows and in
    Moritz> both I cannot find princomp.  When I type
    Moritz> library(help=mva), princomp is not listed.  Where can I find it?

library(help= <anypackage>)   
	   doesn't actually list ALL functions in package <anypackage>.
It only lists the supposedly important ones 
	   (that the package maintainers have put in the INDEX file).
However, you are right, "princomp" should be on that list (same as biplot),
and it will be in the next version.

If you look at the output of
   library(help = mva)
the last of only six lines is 
    prcomp   Principal Components Analysis
and from
    library(mva)
    ?prcomp
you see that there's both  prcomp() and princomp()...

In short

   library(mva)
   ?princomp

`has it all'



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From iosu at ensia.inra.fr  Tue Sep 21 10:44:31 1999
From: iosu at ensia.inra.fr (=?iso-8859-1?Q?Jes=FAs_Mar=EDa_Fr=EDas_Celayeta?=)
Date: Tue, 21 Sep 1999 10:44:31 +0200 (CEST)
Subject: [R] princomp
In-Reply-To: <002f01bf0403$ee1c2c60$81f60fa4@secr-tariat>
Message-ID: <Pine.LNX.3.96.990921103943.19533D-100000@joxepa.ensia.inra.fr>

Hi!!

> I downloaded R-base-0.64.1-1 for Linux and for Windows and in both I cannot find princomp.
> When I type library(help=mva), princomp is not listed.

	Well, princomp is not listed in the library index, but it is
installed and you can use it. That happened  in 0.64.1 and it keeps on
0.65.0.

	In fact if you do,

> library(mva)
> library(help=mva)
cancor                   Canonical Correlations
cmdscale                 Classical (Metric) Multidimensional Scaling
dist                     Distance Matrix Computation
hclust                   Hierarchical Clustering
kmeans                   K-Means Clustering
prcomp                   Principal Components Analysis


princomp is not listed, but if you call the princomp help page

> help(princomp)

   Principal Components Analysis

        princomp(x, cor = FALSE, scores = TRUE,
                 subset = rep(TRUE, nrow(as.matrix(x))))

        print(obj,...)  summary(obj)  plot(obj,...)  predict(obj,...)

   Arguments:

....etc.

or you can work out the example

>         data(USArrests)
>         (pc.cr <- princomp(USArrests))
Call:
princomp(x = USArrests)

Standard deviations:
   Comp.1    Comp.2    Comp.3    Comp.4 
82.890847 14.069560  6.424204  2.457837 

 4  variables and  50 observations.
>         princomp(USArrests, cor = TRUE)
Call:
princomp(x = USArrests, cor = TRUE)

Standard deviations:
   Comp.1    Comp.2    Comp.3    Comp.4 
1.5748783 0.9948694 0.5971291 0.4164494 

 4  variables and  50 observations.
>         princomp(scale(USArrests, scale = TRUE, center = TRUE), cor =
FALSE)
Call:
princomp(x = scale(USArrests, scale = TRUE, center = TRUE), cor = FALSE)

Standard deviations:
   Comp.1    Comp.2    Comp.3    Comp.4 
1.5590500 0.9848705 0.5911277 0.4122639 

 4  variables and  50 observations.


	This is a minor thing that i discovered sometime ago working with
the mva library, but 


     
> Where can I find it ?
> 
> Moritz
> 

-------------------------------------------------------------------------------
Jes?s Mar?a Fr?as Celayeta		"Valeu a pena? Tudo vale a pena
ENSIA-INRA, Av. des Olimpiades, 1	se a alma n?o ? pequena
91744, Massy. FRANCE			Quem quer passar al?m do Bojador
Fax:intl+33+1+69935185			Tem que passar al?m da dor.
Phone:intl+33+1+69935191		Deus ao mar o perigo e abismo deu,
					Mas nele ? que espelhou o c?u"
-------------------------------------------------------------------------------





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rsb at reclus.nhh.no  Tue Sep 21 10:56:07 1999
From: rsb at reclus.nhh.no (Roger Bivand)
Date: Tue, 21 Sep 1999 08:56:07 +0000 (   )
Subject: [R] image legend
In-Reply-To: <Pine.LNX.3.96.990920122050.576O-100000@penguin.fws.gov>
Message-ID: <Pine.LNX.4.04.9909210833470.8684-100000@reclus.nhh.no>

Andy:

> Does anyone have a function for putting a legend on an image
> plot?  I couldn't locate an R equivalent of image.legend....has
> anyone written such a thing?
> 
> ---------------------------------------------------------------------
> J. Andy Royle, U.S. Fish and Wildlife Service - Office of Migratory 
> Bird Management; 11510 American Holly Drive , Laurel, MD 20708-4017; 
> phone - 301-497-5673 fax - 301-497-5706 email - royle at penguin.fws.gov
> ---------------------------------------------------------------------

This is a quick hack and obscures part of the image plot, but has worked
for me:

imagelegend <- function(xl,yt,width,nbox,bheight,bgap,col,border=NULL)
{
	x <- c(xl,xl,xl+width,xl+width)
	top <- 0
	bottom <- bheight
	y <- c(yt-bottom,yt-top,yt-top,yt-bottom)
	polygon(x,y,border=border,col=col[1])
	for (i in 2:nbox) {
		top <- top + bheight + bgap
		bottom <- top + bheight
		y <- c(yt-bottom,yt-top,yt-top,yt-bottom)
		polygon(x,y,border=border,col=col[i])
	}
}

As far as I remenber, the arguments are:

xl	x-location of legend panel left edge
yt	y-location of legend panel top edge
width	fill box width
nbox	number of boxes
bheight	fill box height
bgap	vertical gap between boxes
col	nbox colours
border	colour to draw fill box boundaries

An example:

> image(xseq[1:163], yseq, LR.im[1:163,], col=gray(15:36/36), xlab="",
+ ylab="", main="local relief")
> imagelegend(125000,250000,5000,21,2000,0,col=gray(15:36/36))
> polygon(x = c(125000, 125000, 130000, 130000), y=c(250000-(21*2000), 
+ 250000, 250000, 250000-(21*2000)), border="black")
> quantile(LR.im, seq(0,1,1/4), na.rm=T)
         0%         25%         50%         75%        100% 
   3.632019   77.948784  161.057007  291.832001 1189.821045 
> text(x=132000, y=seq(245500,208500,by=-9000), adj=0, 
+ labels=c(0,80,160,300,1200), cex=0.7)

The image was blank at top left, so the polygon drawn around the legend
didn't need to "overfill" first, otherwise it should have come before
imagelegend. Automating the text legend values can be difficult if you
make a factor out of the classification, because the ordering of the
classes may not be what you expect (this from experience, but it sounds
wierd!). Ideally, the legend should be drawn in a separate pane, of
course, but setting up image (or plot) to draw the x and y axes at the
same scale is not something I've mastered so far.

Hope this helps,

Roger Bivand
Department of Geography, 
Norwegian School of Economics and Business Administration,
Breiviksveien 40, N-5045 Bergen, Norway.
voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Armin.Roehrl at epfl.ch  Tue Sep 21 20:15:42 1999
From: Armin.Roehrl at epfl.ch (Armin S. A. Roehrl)
Date: Tue, 21 Sep 1999 20:15:42 +0200
Subject: [R] MPI bindings for R?
Message-ID: <37E7CB4E.47CB92D5@epfl.ch>

Dear R users,

	did anybody hack MPI bindings for R? (hoping somebody did that for me
before :)
Otherwise I might do that soonish.
Anybody out there who has some special wishes for that?
If yes, please email me directly.. as I'll spend a few days
thinking about how to do that best and then do it. 
(Note: I'm not producing a parallel, thread-safe version of R)
	Armin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laniel at cmu.edu  Wed Sep 22 07:53:20 1999
From: laniel at cmu.edu (Stephen R. Laniel)
Date: Wed, 22 Sep 1999 01:53:20 -0400
Subject: [R] Brace highlighting in R for the PC?
Message-ID: <1662330280.937965200@BERTRANDRUSSELL>

Hey everyone,

Might it be possible for future versions of PC-R to highlight the opening
brace in a pair, a la emacs?  Programs that do that are infinitely
friendlier than those that don't.

Thanks,
Steve

Stephen R. Laniel            |    "I've got a match:
Carnegie Mellon University   |     Your embrace and my collapse."
laniel at cmu.edu               |     --They Might Be Giants
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep 22 08:56:21 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 22 Sep 1999 07:56:21 +0100 (BST)
Subject: [R] Brace highlighting in R for the PC?
In-Reply-To: <1662330280.937965200@BERTRANDRUSSELL>
Message-ID: <Pine.GSO.4.05.9909220742460.1305-100000@auk.stats>

On Wed, 22 Sep 1999, Stephen R. Laniel wrote:

> Hey everyone,
> 
> Might it be possible for future versions of PC-R to highlight the opening
> brace in a pair, a la emacs?  Programs that do that are infinitely
> friendlier than those that don't.

Excuse me, what do you mean by PC-R, precisely?  The Rgui console
front-end? Rterm? R for Windows running under ESS under Emacs?

It surprises me that anyone would be typing anything sufficiently
complicated into the R command line that brace matching would matter, as
that has editing only on the current line. I write such things elsewhere
and paste them in. And if I write in a R-mode buffer in NTemacs, I get all
the syntax highlighting and brace matching etc.  There is also the option
to run R for Windows directly from NTemacs under ESS, reducing the pasting
to key-strokes.

Does anyone else see a need for this?  It is certainly possible, and if you
really want it, please submit the code patches to implement it. But that
other users do not seem to find the current scheme `infinitely unfriendly'
suggests that this ought not to be high on the primary developers' list of
priorities.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Todd.Taylor at pnl.gov  Wed Sep 22 16:17:46 1999
From: Todd.Taylor at pnl.gov (Z. Todd Taylor)
Date: Wed, 22 Sep 1999 07:17:46 -0700 (PDT)
Subject: [R] Brace highlighting in R for the PC?
Message-ID: <199909221417.HAA03291@aggie.pnl.gov>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> wrote:

> On Wed, 22 Sep 1999, Stephen R. Laniel wrote:
> 
> > Hey everyone,
> > 
> > Might it be possible for future versions of PC-R to highlight the opening
> > brace in a pair, a la emacs?  Programs that do that are infinitely
> > friendlier than those that don't.

[ snip... ]

> Does anyone else see a need for this?  It is certainly possible, and if you
> really want it, please submit the code patches to implement it. But that
> other users do not seem to find the current scheme `infinitely unfriendly'
> suggests that this ought not to be high on the primary developers' list of
> priorities.

I'd argue against it.  Reimplimenting every functionality in
every application results in bloated, buggy, nonportable code
(I'll resist citing popular examples :-).  Editing is best done
with an editor, and I don't want R picking my editor for me.

--Todd
-- 
Z. Todd Taylor
Pacific Northwest National Laboratory
Todd.Taylor at pnl.gov
Why do 'slim chance' and 'fat chance' mean the same thing?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Wed Sep 22 17:20:59 1999
From: novo at uiuc.edu (Alvaro A. Novo)
Date: Wed, 22 Sep 1999 10:20:59 -0500
Subject: [R] Brace highlighting in R for the PC?
References: <Pine.GSO.4.05.9909220742460.1305-100000@auk.stats>
Message-ID: <99092210331000.05609@friedman>

On Wed, 22 Sep 1999, Prof Brian D Ripley wrote:
> Does anyone else see a need for this?  It is certainly possible, and if you
> really want it, please submit the code patches to implement it. But that
> other users do not seem to find the current scheme `infinitely unfriendly'
> suggests that this ought not to be high on the primary developers' list of
> priorities.

I once was a user of R for Windows and I really liked the input / output
different coloring (eg. input in blue, output in red). Would it be difficult to
implement this feature in R for Linux, say, under XTerm, ETerm, Kvt or any other
"standard" terminal? Or, is it already implemented, (I read R-Notes and R
Complements to Modern Applied Statistics w/ S+ and, as far as I remember, I did
not find such feature described)? 

Would it be hard to implement? Maybe not, since for example ls --color already
distinguishes different types of files... but my computer knowledge does not go
that far.

Thank your for your time,

Alvaro A. Novo
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Wed Sep 22 17:54:08 1999
From: novo at uiuc.edu (Alvaro A. Novo)
Date: Wed, 22 Sep 1999 10:54:08 -0500
Subject: [R] Brace highlighting in R for the PC?
References: <Pine.GSO.4.05.9909221632340.7589-100000@auk.stats>
Message-ID: <99092210560800.05655@friedman>

On Wed, 22 Sep 1999, Prof Brian D Ripley wrote:
> On Wed, 22 Sep 1999, Alvaro A. Novo wrote:
> 
> > I once was a user of R for Windows and I really liked the input / output
> > different coloring (eg. input in blue, output in red). Would it be difficult to
> > implement this feature in R for Linux, say, under XTerm, ETerm, Kvt or any other
> > "standard" terminal? 
>
> No, but using ESS mode for Emacs will already do this for you.
> I'm happy to try to include something like this, but not if ESS would
> suffice for you.

The problem is Emacs... I do all my editing, including command line editing
with vi keystrokes. Therefore, if you could consider such implementation
in future releases of R it would be really appreciated. 

Thank you for your prompt and helpful answer,

Alvaro A. Novo
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Sep 22 17:54:44 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 22 Sep 1999 10:54:44 -0500
Subject: [R] Brace highlighting in R for the PC?
In-Reply-To: "Alvaro A. Novo"'s message of "Wed, 22 Sep 1999 10:20:59 -0500"
References: <Pine.GSO.4.05.9909220742460.1305-100000@auk.stats> <99092210331000.05609@friedman>
Message-ID: <6r7lljq6uz.fsf@franz.stat.wisc.edu>

"Alvaro A. Novo" <novo at uiuc.edu> writes:

> I once was a user of R for Windows and I really liked the input /
> output different coloring (eg. input in blue, output in red). Would
> it be difficult to implement this feature in R for Linux, say, under
> XTerm, ETerm, Kvt or any other "standard" terminal? Or, is it
> already implemented, (I read R-Notes and R Complements to Modern
> Applied Statistics w/ S+ and, as far as I remember, I did not find
> such feature described)?

> Would it be hard to implement? Maybe not, since for example ls
> --color already distinguishes different types of files... but my
> computer knowledge does not go that far.

Have you tried using ESS (emacs speaks statistics) as the front end to
R under Linux?  GNU emacs and Xemacs are both available for
practically any flavor of Linux and ESS can be used with either.  The
sources for ESS are available at
		      http://ess.stat.wisc.edu/

ESS provides many capabilities for R including syntax highlighting,
object name completion, modes to manipulate transcripts and source
files, ...

There is now a Debian ess package for the "unstable" version of the
Debian GNU/Linux distribution so you don't even have to read how to
install ESS.  Just install the r-base package, the emacs package, and
the ess package and you are ready to roll.  I'm not sure if there are
plans to make an RPM package of ESS for RedHat or SuSE.

(Note to Debian users: the ess package is still in the incoming queue
so it you look for it right away you won't find it.  I'm not sure why
it is stuck in the incoming queue.  Maybe we'll throw a copy of it
into the ESS web site.)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Wed Sep 22 18:37:49 1999
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Wed, 22 Sep 1999 12:37:49 -0400
Subject: [R] Brace highlighting in R for the PC?
Message-ID: <OFED40497C.5E43E483-ON852567F4.005B3DC7@hgsi.com>


I would like to second that. I prefer to use PFE (under windows) and emacs
(under Unix).



                                                                                                              
                    "Z. Todd Taylor"                                                                          
                    <Todd.Taylor at pnl.gov        To:     r-help at stat.math.ethz.ch                              
                    >                           cc:     todd.taylor at pnl.gov                                   
                    Sent by:                    Subject:     Re: [R] Brace highlighting in R for the PC?      
                    owner-r-help at stat.ma                                                                      
                    th.ethz.ch                                                                                
                                                                                                              
                                                                                                              
                    09/22/1999 10:17 AM                                                                       
                                                                                                              
                                                                                                              



Prof Brian D Ripley <ripley at stats.ox.ac.uk> wrote:

> On Wed, 22 Sep 1999, Stephen R. Laniel wrote:
>
> > Hey everyone,
> >
> > Might it be possible for future versions of PC-R to highlight the
opening
> > brace in a pair, a la emacs?  Programs that do that are infinitely
> > friendlier than those that don't.

[ snip... ]

> Does anyone else see a need for this?  It is certainly possible, and if
you
> really want it, please submit the code patches to implement it. But that
> other users do not seem to find the current scheme `infinitely
unfriendly'
> suggests that this ought not to be high on the primary developers' list
of
> priorities.

I'd argue against it.  Reimplimenting every functionality in
every application results in bloated, buggy, nonportable code
(I'll resist citing popular examples :-).  Editing is best done
with an editor, and I don't want R picking my editor for me.

--Todd
--
Z. Todd Taylor
Pacific Northwest National Laboratory
Todd.Taylor at pnl.gov
Why do 'slim chance' and 'fat chance' mean the same thing?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at biostat.washington.edu  Wed Sep 22 19:16:04 1999
From: rossini at biostat.washington.edu (A.J. Rossini)
Date: 22 Sep 1999 10:16:04 -0700
Subject: [R] Brace highlighting in R for the PC?
In-Reply-To: "Alvaro A. Novo"'s message of "Wed, 22 Sep 1999 10:54:08 -0500"
References: <Pine.GSO.4.05.9909221632340.7589-100000@auk.stats> <99092210560800.05655@friedman>
Message-ID: <87n1ue3m0b.fsf@alpha.cfas.washington.edu>


>>>>> "AAN" == Alvaro A Novo <novo at uiuc.edu> writes:

    AAN> On Wed, 22 Sep 1999, Prof Brian D Ripley wrote:

    >> No, but using ESS mode for Emacs will already do this for you.
    >> I'm happy to try to include something like this, but not if ESS
    >> would suffice for you.

    AAN> The problem is Emacs... I do all my editing, including
    AAN> command line editing with vi keystrokes. Therefore, if you
    AAN> could consider such implementation in future releases of R it
    AAN> would be really appreciated.

Have you tried vi-emulation using ESS?   (viper, or similar?)

(I need to, in my copious spare time -- I recall that it worked, but
this was about 4 years ago, when it was S-mode).

best,
-tony

-- 
A.J. Rossini			Research Assistant Professor of Biostatistics 
Center for AIDS Research/HMC	Biostatistics/Univ. of Washington
Box 359931			Box 357232
206-731-3647 (3693=fax)		206-543-1044 (3286=fax)
rossini at u.washington.edu	rossini at biostat.washington.edu
http://www.biostat.washington.edu/~rossini/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kbd at email.byu.edu  Wed Sep 22 19:57:13 1999
From: kbd at email.byu.edu (Karl Diether)
Date: Wed, 22 Sep 1999 12:57:13 -0500
Subject: [R] Brace highlighting in R for the PC?
References: <99092210560800.05655@friedman>
Message-ID: <99092213011300.00701@trex>

> 
> The problem is Emacs... I do all my editing, including command line editing
> with vi keystrokes. Therefore, if you could consider such implementation
> in future releases of R it would be really appreciated. 

If you want to be able to use vi keystrokes, then use viper mode (VI
emulation)  and ESS together.

Karl Diether
Graduate School of Business
University of Chicago
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Wed Sep 22 22:34:30 1999
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Thu, 23 Sep 1999 06:34:30 +1000
Subject: [R] Brace highlighting in R for the PC?
Message-ID: <37E93D55.23154E2@ozemail.com.au>

I don't know whether the approach I use is common or not, but I use
Nedit for editing (in which one can turn highlighting on or off) and run
the results in an R window.  Most of the time syntax highlighting  is an
annoyance, and I only turn it on to discover the inevitable dangling
parenthesis, bracket or brace.

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laniel at cmu.edu  Thu Sep 23 06:40:16 1999
From: laniel at cmu.edu (Stephen R. Laniel)
Date: Thu, 23 Sep 1999 00:40:16 -0400
Subject: [R] Auto-correlation function?
In-Reply-To: <37E93D55.23154E2@ozemail.com.au>
Message-ID: <1744346070.938047216@OATMEAL-5.SLIP.ANDREW.CMU.EDU>

Does the acf() function that one finds inside S+ exist in R?  I thought I
had downloaded all the correct files, and I would have expected that the
standard files contained an auto-correlation function.  Is it just under a
different name than the S+ function?

Thanks,
Steve

Stephen R. Laniel            |    "I've got a match:
Carnegie Mellon University   |     Your embrace and my collapse."
laniel at cmu.edu               |     --They Might Be Giants
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at students.uiuc.edu  Thu Sep 23 07:30:04 1999
From: novo at students.uiuc.edu (Alvaro A. Novo)
Date: Thu, 23 Sep 1999 00:30:04 -0500 (CDT)
Subject: [R] Auto-correlation function?
In-Reply-To: <1744346070.938047216@OATMEAL-5.SLIP.ANDREW.CMU.EDU>
Message-ID: <Pine.GSO.4.10.9909230026260.19020-100000@ux4.cso.uiuc.edu>

On Thu, 23 Sep 1999, Stephen R. Laniel wrote:

> Does the acf() function that one finds inside S+ exist in R?  I thought I
> had downloaded all the correct files, and I would have expected that the
> standard files contained an auto-correlation function.  Is it just under a
> different name than the S+ function?

There's a package tseries that includes an acf function. (see http below)

tseries 

Library for time series analysis

Version: 0.2-0
Depends: package ts , White.test needs package mva , portfolio.optim needs
package quadprog 

Now, it says that it depends on package ts (which I have installed), but
I can't find it in 

http://lib.stat.cmu.edu/R/CRAN/src/contrib/PACKAGES.html

Has gone missing? Or, am I missing something?

Alvaro A. Novo

> 
> Thanks,
> Steve
> 
> Stephen R. Laniel            |    "I've got a match:
> Carnegie Mellon University   |     Your embrace and my collapse."
> laniel at cmu.edu               |     --They Might Be Giants
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep 23 08:09:18 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 23 Sep 1999 07:09:18 +0100 (BST)
Subject: [R] Auto-correlation function?
In-Reply-To: <Pine.GSO.4.10.9909230026260.19020-100000@ux4.cso.uiuc.edu>
Message-ID: <Pine.GSO.4.05.9909230704450.4914-100000@auk.stats>

On Thu, 23 Sep 1999, Alvaro A. Novo wrote:

> On Thu, 23 Sep 1999, Stephen R. Laniel wrote:
> 
> > Does the acf() function that one finds inside S+ exist in R?  I thought I
> > had downloaded all the correct files, and I would have expected that the
> > standard files contained an auto-correlation function.  Is it just under a
> > different name than the S+ function?
> 
> There's a package tseries that includes an acf function. (see http below)

The current version (0.2-0) does not include an acf function; earlier ones
did.

> Now, it says that it depends on package ts (which I have installed), but
> I can't find it in 
> 
> http://lib.stat.cmu.edu/R/CRAN/src/contrib/PACKAGES.html
> 
> Has gone missing? Or, am I missing something?

It is part of the standard R 0.65.0.


In summary, the answer is

Use R 0.65.0
Invoke library(ts).

If you cannot use 0.65.0, there are versions in packages bats and coda,
I believe.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Thu Sep 23 16:05:57 1999
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 23 Sep 1999 10:05:57 -0400
Subject: [R] Auto-correlation function?
References: <Pine.GSO.4.10.9909230026260.19020-100000@ux4.cso.uiuc.edu>
Message-ID: <37EA33C5.5E89AEB4@bank-banque-canada.ca>

>There's a package tseries that includes an acf function.

This is in a state of change, it's location depends on which version or R you
are running. As of R 0.65 acf is in the "ts" library which is in the main
distribution. Previously there was a version in the "bats" library, another in
my "dse" library, and another in the "tseries" library, but I expect  Adrian
Trapletti has removed it from the most recent version of "tseries" (though I
have not checked). Brian Ripley has been making a valiant attempt to take the
best parts of these and put them in "ts". There may also be a couple of minor
fixes to acf in R 0.65.1 when it comes out shortly (and they are probably in the
snapshot already).

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Adrian.Trapletti at wu-wien.ac.at  Thu Sep 23 17:26:18 1999
From: Adrian.Trapletti at wu-wien.ac.at (Adrian Trapletti)
Date: Thu, 23 Sep 1999 15:26:18 +0000
Subject: [R] Auto-correlation function?
References: <Pine.GSO.4.10.9909230026260.19020-100000@ux4.cso.uiuc.edu>
Message-ID: <37EA469A.49C7C825@wu-wien.ac.at>

"Alvaro A. Novo" wrote:

> There's a package tseries that includes an acf function. (see http below)
>

>
> This is in a state of change, it's location depends on which version or R you
> are running. As of R 0.65 acf is in the "ts" library which is in the main
> distribution. Previously there was a version in the "bats" library, another in
> my "dse" library, and another in the "tseries" library, but I expect  Adrian
> Trapletti has removed it from the most recent version of "tseries" (though I
> have not checked). Brian Ripley has been making a valiant attempt to take the
> best parts of these and put them in "ts". There may also be a couple of minor
> fixes to acf in R 0.65.1 when it comes out shortly (and they are probably in the
> snapshot already).
>
> Paul Gilbert
>

Paul is right! I just want to confirm. tseries is updated, i.e., it contains no
longer an acf() and other things which are provided by the "base" ts.

btw I will soon make available a class for GARCH models in tseries.

Adrian


--
Adrian Trapletti, Vienna University of Economics and Business
Administration, Augasse 2-6, A-1090 Vienna, Austria
Phone: ++43 1 31336 4561, Fax: ++43 1 31336 708,
Email: adrian.trapletti at wu-wien.ac.at



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From albrecht.gebhardt at uni-klu.ac.at  Thu Sep 23 18:48:18 1999
From: albrecht.gebhardt at uni-klu.ac.at (Albrecht Gebhardt)
Date: Thu, 23 Sep 1999 18:48:18 +0200 (MET DST)
Subject: [R] Brace highlighting in R for the PC?
In-Reply-To: <6r7lljq6uz.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.OSF.4.10.9909231837590.2363-100000@zidsrv.sci.uni-klu.ac.at>

On 22 Sep 1999, Douglas Bates wrote:

> [...]
> 
> There is now a Debian ess package for the "unstable" version of the
> Debian GNU/Linux distribution so you don't even have to read how to
> install ESS.  Just install the r-base package, the emacs package, and
> the ess package and you are ready to roll.  I'm not sure if there are
> plans to make an RPM package of ESS for RedHat or SuSE.
> 

There are RPM packages for SuSE on 

ftp://ftp.ci.tuwien.ac.at/pub/R/bin/linux/suse/5.3/RPMS/i386/ess

Sorry, only version ESS 5.0. But I'm using them both on SuSE 5.3/6.1/6.2
and Digital Unix 4.0E.

I'm currently reorganizing my RPM for SuSE and DU 4.0 repository on 
ftp://ftp-stat.sci.uni-klu.ac.at/pub/R/bin/ (which gets mirrored on the
above place on CRAN), so may be I will update these ESS packages too.

Albrecht

-------------------------------------------------------------------------------
Albrecht Gebhardt                   email   : albrecht.gebhardt at uni-klu.ac.at
Institut fuer Mathematik            Tel.    : (++43 463) 2700/837
Universitaet Klagenfurt             Fax     : (++43 463) 2700/834
Villacher Str. 161
A-9020 Klagenfurt, Austria
-------------------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hothorn at statistik.uni-dortmund.de  Fri Sep 24 18:07:04 1999
From: hothorn at statistik.uni-dortmund.de (Torsten Hothorn)
Date: Fri, 24 Sep 1999 18:07:04 +0200 (MET DST)
Subject: [R] Announce: multilm
Message-ID: <Pine.GSO.4.05.9909241806130.27748-100000@amadeus.statistik.uni-dortmund.de>


I uploaded the package "multilm_0.1.tar.gz", which implements multivariate 
linear models and test procedures (T^2 and stabilized multivariate procedures 
by Laeuter et. al.). 

The function "multilm" allows the specification of multivariate linear
models Y = X B + E, parameter restrictions Z B = 0 and linear hypotheses 
K B = 0. The Hotelling T^2 test ist computed and also p-values are 
available (an approximation of the null distribution by Laeuter is used). 

The summary method "summary.multilm" offers the computation of stabilized
multivariate tests: SS, PC-1, PC-q and CS.

Unlike "lm" this package uses the Moore-Penrose inverse for least square
fitting (see the MP, QR, lm, anova discussion in June). 

I'm not sure if those basic methods fit most users needs, maybe wrappers for
special models (MANOVA) are required.  I'm very grateful for any hint and
discussion, mails of common interest please to the R-list, others to my
email address.

Torsten 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Fri Sep 24 18:13:38 1999
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 24 Sep 1999 18:13:38 +0200 (CEST)
Subject: [R] Re: Announce: multilm
In-Reply-To: <Pine.GSO.4.05.9909241806130.27748-100000@amadeus.statistik.uni-dortmund.de>
References: <Pine.GSO.4.05.9909241806130.27748-100000@amadeus.statistik.uni-dortmund.de>
Message-ID: <14315.41778.23213.309953@galadriel.ci.tuwien.ac.at>



Package installed at CRAN.

fritz


>>>>> On Fri, 24 Sep 1999 18:07:04 +0200 (MET DST),
>>>>> Torsten Hothorn (TH) wrote:

TH> I uploaded the package "multilm_0.1.tar.gz", which implements multivariate 
TH> linear models and test procedures (T^2 and stabilized multivariate procedures 
TH> by Laeuter et. al.). 

TH> The function "multilm" allows the specification of multivariate linear
TH> models Y = X B + E, parameter restrictions Z B = 0 and linear hypotheses 
TH> K B = 0. The Hotelling T^2 test ist computed and also p-values are 
TH> available (an approximation of the null distribution by Laeuter is used). 

TH> The summary method "summary.multilm" offers the computation of stabilized
TH> multivariate tests: SS, PC-1, PC-q and CS.

TH> Unlike "lm" this package uses the Moore-Penrose inverse for least square
TH> fitting (see the MP, QR, lm, anova discussion in June). 

TH> I'm not sure if those basic methods fit most users needs, maybe wrappers for
TH> special models (MANOVA) are required.  I'm very grateful for any hint and
TH> discussion, mails of common interest please to the R-list, others to my
TH> email address.

TH> Torsten 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep 24 23:12:31 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Sep 1999 23:12:31 +0200
Subject: [R] Announce: multilm
In-Reply-To: Torsten Hothorn's message of "Fri, 24 Sep 1999 18:07:04 +0200 (MET DST)"
References: <Pine.GSO.4.05.9909241806130.27748-100000@amadeus.statistik.uni-dortmund.de>
Message-ID: <x2vh905800.fsf@blueberry.kubism.ku.dk>

Torsten Hothorn <hothorn at statistik.uni-dortmund.de> writes:

> I'm not sure if those basic methods fit most users needs, maybe wrappers for
> special models (MANOVA) are required.  I'm very grateful for any hint and
> discussion, mails of common interest please to the R-list, others to my
> email address.

Now I didn't actually try this (yet), but one thing that reduces the
practical value of these models is missing values. Is there any
provision to handle these? Someone mentioned code to handle
multivariate normals with missings earlier today, how do the two
packages get along? 

I did some special cases of this for a project a couple of years back
where I did polynomial curve fits to repeated measurements of bone
metabolism data. In those data, an overall rate of 10% missing data
would result in losing half the data set for complete-case analyses.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Sat Sep 25 01:59:52 1999
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Sat, 25 Sep 1999 09:59:52 +1000 (EST)
Subject: [R] What is R - A Summary
Message-ID: <199909242359.JAA14670@leonard.anu.edu.au>

I wonder whether there is any comment on the following.  It is a 
summary of a 10 minute contribution that I made to a biostatistical
workshop help yesterday in Sydney.  My aim was to highlight the
benefits of the Linux/R development model, in a session with the
title: "How can statistical packages be improved?"

===================================================================
The R Statistical Language

R is a public domain dialect of the S/S-PLUS language. 
Criticism, bug fixes and contributions of code or 
documentation are invited from anyone willing to expose 
their offerings for critical evaluation.  Many of the 
well-known statistical computing specialists are actively 
involved in developing R.  Contrast the R approach with 
commercial statistical software developers.  Typically 
they do not post details of known bugs, they fix only the 
most blatant bugs, and they are remarkably resistant to user 
input.  (Stata and Genstat are honourable exceptions.)  The 
development model is similar to that followed for the
development of the Linux operating system.

Most of the independent developers of S-PLUS libraries have 
made their code available for porting to R, or have actually
ported the code themselves. While R base graphics is good, 
trellis graphics is at present unavailable.  Due to the present 
fixed memory model, R may not run very large problems well as 
well as S-PLUS. An interface to a point and click system is at 
an early stage of development.

The ANU Statistical Consulting Unit co-operates with CSIRO
Mathematical and Information Sciences to offer a series of 
block courses on statistical methodology for researchers.
The aim is understanding and awareness, not to train
participants in the use of statistical software.  I use R
for most of the calculations which I demonstrate.
Praticipants can take my scripts and run them on their office 
or home PC or Linux machine. There has been a strong demand
to borrow the floppy disk copies of R which I take to the
courses.

R sources and binaries, and information on history, contributors,
and ongoing development, are available from the Comprehensive R
Archive Network mirror sites.  The Australian mirror site is:
  http://mirror.aarnet.edu.au/CRAN

===================================================================
John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Sat Sep 25 10:25:06 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Sat, 25 Sep 1999 10:25:06 +0200 (MET DST)
Subject: [R] warning about libraries for MS
Message-ID: <199909250825.KAA18892@alpha.luc.ac.be>

It is now definitely established that there are problems with library
executables under MS-Windows when compiled as described in
package.readme, at least for Fortran code. In extreme cases, R
crashes, but the result can simply be wrong answers as both Philippe
Lambert and I warned about a year ago, warnings that were blissfully
ignored.

I have not used any other executables for MS from CRAN, and so have no
direct evidence of problems, but I recommend extreme caution when using
them if Fortran code is involved.
  Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Sep 25 12:00:49 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Sep 1999 12:00:49 +0200
Subject: [R] What is R - A Summary
In-Reply-To: John Maindonald's message of "Sat, 25 Sep 1999 09:59:52 +1000 (EST)"
References: <199909242359.JAA14670@leonard.anu.edu.au>
Message-ID: <x2aeqbqpim.fsf@blueberry.kubism.ku.dk>

John Maindonald <john.maindonald at anu.edu.au> writes:


> involved in developing R.  Contrast the R approach with 
> commercial statistical software developers.  Typically 
> they do not post details of known bugs, they fix only the 
> most blatant bugs, and they are remarkably resistant to user 
> input.  (Stata and Genstat are honourable exceptions.) 

Hm. I'm not sure this is entirely fair to the S-plus people, although
everyone has probably been cursing at them at some point in time. They
(too) are a limited manpower operation so there is simply a limit to
what they can overcome. And they *have* been putting a quite
substantial effort into solving or ameliorating some the design
problems in the S code base.

The difference between them and R is rather that in a closed-source
operation you only get a limited quality of user input, because people
cannot go in and analyze problems and tell you that there's a problem
in a particular stretch of code. Also, they have logistic problems of
distributing binary patches for N operating systems, etc.

Trying to keep the strings together in the R development does tend to
make you more forgiving about the work that people do in commercial
environments.
 
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Sep 25 12:12:54 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Sep 1999 12:12:54 +0200
Subject: [R] warning about libraries for MS
In-Reply-To: Jim Lindsey's message of "Sat, 25 Sep 1999 10:25:06 +0200 (MET DST)"
References: <199909250825.KAA18892@alpha.luc.ac.be>
Message-ID: <x2905vqoyh.fsf@blueberry.kubism.ku.dk>

Jim Lindsey <jlindsey at alpha.luc.ac.be> writes:

> It is now definitely established that there are problems with library
> executables under MS-Windows when compiled as described in
> package.readme, at least for Fortran code. In extreme cases, R
> crashes, but the result can simply be wrong answers as both Philippe
> Lambert and I warned about a year ago, warnings that were blissfully
> ignored.
> 
> I have not used any other executables for MS from CRAN, and so have no
> direct evidence of problems, but I recommend extreme caution when using
> them if Fortran code is involved.
>   Jim

Um, you'd better remind us what the problem is, then... What kind of
code is acting up and what are the symptoms? (If it gets technical,
then r-devel might be a better forum, though.)

Given the weirdness of the MS platform I'll easily believe that
something is getting done not quite right, but we'd need some more to
go on.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hothorn at statistik.uni-dortmund.de  Sat Sep 25 15:24:32 1999
From: hothorn at statistik.uni-dortmund.de (Torsten Hothorn)
Date: Sat, 25 Sep 1999 15:24:32 +0200 (MET DST)
Subject: [R] Announce: multilm
In-Reply-To: <x2vh905800.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.05.9909251521210.5010-100000@amadeus.statistik.uni-dortmund.de>



On 24 Sep 1999, Peter Dalgaard BSA wrote:

> Torsten Hothorn <hothorn at statistik.uni-dortmund.de> writes:
> 
> > I'm not sure if those basic methods fit most users needs, maybe wrappers for
> > special models (MANOVA) are required.  I'm very grateful for any hint and
> > discussion, mails of common interest please to the R-list, others to my
> > email address.
> 
> Now I didn't actually try this (yet), but one thing that reduces the
> practical value of these models is missing values. Is there any
> provision to handle these? Someone mentioned code to handle
> multivariate normals with missings earlier today, how do the two
> packages get along? 

Laeuter and Kropf discuss the handling of missing values in their paper

Kropf et.al: Stabilized Multivariate Tests - The Inclusing of Missing
Values, Biometric Journal 39, pp. 149-169

They use the variable mean instead of NA's.

PLEASE note: there is an mistake in multilm_0.1.tar.gz, I corrected it and
uploaded multilm_0.1.tgz.

Torsten

> 
> I did some special cases of this for a project a couple of years back
> where I did polynomial curve fits to repeated measurements of bone
> metabolism data. In those data, an overall rate of 10% missing data
> would result in losing half the data set for complete-case analyses.
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Sat Sep 25 18:09:25 1999
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Sat, 25 Sep 1999 17:09:25 +0100 (GMT)
Subject: [R] What is R - A Summary
In-Reply-To: <199909242359.JAA14670@leonard.anu.edu.au>
Message-ID: <Pine.LNX.4.04.9909251605130.9796-100000@mercury.quantex>

John and R-ists

While your comments may not be entirely fair to MathSoft, as Peter
suggests, there is one clear benefit of the open source bazaar approach to
writing applications like R or Linux for that matter.  This is the
question of verifiability - confused of course by the non-guarantee
comment when you start R (or any other GPL software) and by the fact that,
as you have to pay for proprietory programs, a contract exists that many
feel is a guarantee that the program is correct.  In most cases careful
reading of such contracts always reveals get-out clauses that render any
such guarantee worthless.

Consider a bug in a proprietory piece of (closed source) coding. The
checks available are by definition *only* those available to the authoring
company and there is always the incentive to postpone fixes until a major
release is due.  With open source, the problem can be fixed by *anyone*
with the expertise rather than anyone with the expertise *and* employed by
the company.  The verification *can* therefore be much wider and more
rigorous.

It is rather like the difference between public/academic research and
research carried out by private institutions.  Academic research is, by
and large, rigorously checked and verified.  Errors do creep in and
sometimes there are open and vitriolic arguments about the correct
interpretation but these are rare.  Private research *can* reach such
standards but it is much more difficult for the research teams to convince
their management of the need for rigorous verification if only because for
commercial pressures and reasons of confidentiality.  Perhaps the major
exceptions in my experience are where there is a pro-active regulator
breathing down the company's neck willing to close the plant down if
necessary.  This concentrates the mind.  Unfortunately there is no such
regulator of software - hence the number of fiascos that have become part
of computing folklore recently.

Recent reports from the US are a little encouraging in these aspects.  
Major federal agencies - the National Security Council, General Accounting
Office, National Security Agencym Commerce Department - are considering
open source software specifically for security reasons.  See
www.usatoday.com/life/cyber/tech/ctg182.htm.  Microsoft also appreciate
the power of the bazaar coding method, as seen in the famous Halloween
document (I forget the URL).

John

On Sat, 25 Sep 1999, John Maindonald wrote:

> I wonder whether there is any comment on the following.  It is a 
> summary of a 10 minute contribution that I made to a biostatistical
> workshop help yesterday in Sydney.  My aim was to highlight the
> benefits of the Linux/R development model, in a session with the
> title: "How can statistical packages be improved?"
> 
> ===================================================================
> The R Statistical Language
> 
> R is a public domain dialect of the S/S-PLUS language. 
> Criticism, bug fixes and contributions of code or 
> documentation are invited from anyone willing to expose 
> their offerings for critical evaluation.  Many of the 
> well-known statistical computing specialists are actively 
> involved in developing R.  Contrast the R approach with 
> commercial statistical software developers.  Typically 
> they do not post details of known bugs, they fix only the 
> most blatant bugs, and they are remarkably resistant to user 
> input.  (Stata and Genstat are honourable exceptions.)  The 
> development model is similar to that followed for the
> development of the Linux operating system.
> 
> Most of the independent developers of S-PLUS libraries have 
> made their code available for porting to R, or have actually
> ported the code themselves. While R base graphics is good, 
> trellis graphics is at present unavailable.  Due to the present 
> fixed memory model, R may not run very large problems well as 
> well as S-PLUS. An interface to a point and click system is at 
> an early stage of development.
> 
> The ANU Statistical Consulting Unit co-operates with CSIRO
> Mathematical and Information Sciences to offer a series of 
> block courses on statistical methodology for researchers.
> The aim is understanding and awareness, not to train
> participants in the use of statistical software.  I use R
> for most of the calculations which I demonstrate.
> Praticipants can take my scripts and run them on their office 
> or home PC or Linux machine. There has been a strong demand
> to borrow the floppy disk copies of R which I take to the
> courses.
> 
> R sources and binaries, and information on history, contributors,
> and ongoing development, are available from the Comprehensive R
> Archive Network mirror sites.  The Australian mirror site is:
>   http://mirror.aarnet.edu.au/CRAN
> 
> ===================================================================
> John Maindonald               email : john.maindonald at anu.edu.au        
> Statistical Consulting Unit,  phone : (6249)3998        
> c/o CMA, SMS,                 fax   : (6249)5549  
> John Dedman Mathematical Sciences Building
> Australian National University
> Canberra ACT 0200
> Australia
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Sun Sep 26 00:03:59 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Sat, 25 Sep 1999 15:03:59 -0700 (PDT)
Subject: [R] What is R - A Summary
In-Reply-To: <199909242359.JAA14670@leonard.anu.edu.au>
Message-ID: <Pine.GSO.4.10.9909251459130.300-100000@wompom.biostat.washington.edu>

On Sat, 25 Sep 1999, John Maindonald wrote:

> I wonder whether there is any comment on the following.  It is a 


> ===================================================================
> The R Statistical Language
> 
> R is a public domain dialect of the S/S-PLUS language. 

It isn't "public domain" (people probably know what you mean, but it is an
important distinction to keep clear).  It's 'free' or 'open source', but
the code is owned by various people and there are definite restrictions on
what you can do with it. 


Thomas Lumley 
Assistant Professor, Biostatistics
University of Washington, Seattle




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From qz73804 at pegasus.cc.ucf.edu  Sun Sep 26 05:12:09 1999
From: qz73804 at pegasus.cc.ucf.edu (Tony Zhang)
Date: Sat, 25 Sep 1999 23:12:09 -0400
Subject: [R] install problem -- libg2c
Message-ID: <37ED8F08.A86129BD@pegasus.cc.ucf.edu>

Hi, there

     I'm totally new to this. I used to use SPLUS, but think maybe
useful to try R at home.
But seems it doesn't like me. I got error message says

            ld: cannot open -lg2c: No such file or directory

    My OS is openlinux 2.3. I use egcs-2.91.66.  I searched under
/lib/egcs-2.91.66/ but found no libg2c.a. There's only a libgcc.a.
Thought maybe g77 people changed its name from g2c to gcc, so I tried to
change FLIBS in both MkRules and Makeconf.  This didn't work out.
    My next try is to download egcs-g77 rpm from redhat. This one has
file libg2c.a. However, it requires GLIBC_2.1 and GLIBC_2.0 (don't know
why it needs both version). I have glibc from caldera installed
already,  don't want to mess it up with redhat.
     My last try is to cry for help at here.  Many thanks to any
suggestion.

Tony


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Sep 26 12:31:28 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Sep 1999 12:31:28 +0200
Subject: [R] install problem -- libg2c
In-Reply-To: Tony Zhang's message of "Sat, 25 Sep 1999 23:12:09 -0400"
References: <37ED8F08.A86129BD@pegasus.cc.ucf.edu>
Message-ID: <x2905uezgf.fsf@blueberry.kubism.ku.dk>

Tony Zhang <qz73804 at pegasus.cc.ucf.edu> writes:

> Hi, there
> 
>      I'm totally new to this. I used to use SPLUS, but think maybe
> useful to try R at home.
> But seems it doesn't like me. I got error message says
> 
>             ld: cannot open -lg2c: No such file or directory
> 
>     My OS is openlinux 2.3. I use egcs-2.91.66.  I searched under
> /lib/egcs-2.91.66/ but found no libg2c.a. There's only a libgcc.a.
> Thought maybe g77 people changed its name from g2c to gcc, so I tried to
> change FLIBS in both MkRules and Makeconf.  This didn't work out.
>     My next try is to download egcs-g77 rpm from redhat. This one has
> file libg2c.a. However, it requires GLIBC_2.1 and GLIBC_2.0 (don't know
> why it needs both version). I have glibc from caldera installed
> already,  don't want to mess it up with redhat.
>      My last try is to cry for help at here.  Many thanks to any
> suggestion.

Yes, this is a pain. We've heard it before about openlinux, but didn't
seem to find a solution (or did we?). Some ideas:

Would it work to use f2c as your fortran compiler instead (configure
--with-f2c)?

Are there any *f2c.* files lurking around? I haven't looked at egcs
sources since egcs-2.90.23, but it seems that they actually build
f2c.h and libf2c.a and RedHat renames them g2c to avoid name clashes
with the "real" f2c. 

If you have the install CD handy, perhaps try something like

find  /path/to/RPMS/ -name *.rpm -exec sh -c "rpm -qlp {} | grep [fg]2c"  \; -print

to see what package contains files named something with f2c or g2c.


There was a note from Jack Fenner on how to extract the libg2c.a file
from the RedHat RPM with rpm2cpio which seemed to work for him. He
ended his not with a request for instruction on how to use the
program, so I'm not sure it got tested very thoroughly... Anyways,
here's what he did:

>>----
I then encountered the linking same problem as you describe below. The
error message is saying that the compiler can't find the libg2c library,
which is its runtime library.  Apparently the g77 supplied by Caldera is
missing this important piece.  I downloaded egcs-1.1.2-12.i386.rpm from
the Red Hat web site, then did the following to extract and install libg2c:

1) rpm2cpio < egcs-1.1.2-12.i386.rpm > egcs-1.1.2-12.cpio

2) cpio -irv \*libg2c.a < egcs-1.1.2-12.cpio
- when prompted to rename it, I entered libg2c.a.  This created the
libg2c archive in my current directory.

3) mv libg2c.a /usr/lib/gcc-lib/i386-linux/egcs-2.91.66
----<<

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.malewski at tu-bs.de  Sun Sep 26 16:38:45 1999
From: p.malewski at tu-bs.de (Peter Malewski)
Date: Sun, 26 Sep 1999 16:38:45 +0200
Subject: [R] Brace highlighting in R for the PC?
References: <Pine.GSO.4.05.9909220742460.1305-100000@auk.stats>
Message-ID: <37EE2FF5.7F72FA26@tu-bs.de>

Dear Rhelp-List, Prof. B. Ripley,


Prof Brian D Ripley wrote:

> suggests that this ought not to be high on the primary developers' list of
> priorities.
>

On my "privat-wish list" stands functions like "nlme", "polr" at the top...

But: Last week I copied a psychology-student the Windows Port of R: Without any
programming experience he stopped after the demo() experience and returned to
SPSS...

When I remember my first statistical package "SPSS" and the way I learned the
syntax, I would suggest a primitve editor for a R-GUI (R-Gnome, Rgui). In SPSS you
can do much by the Gui: Clicking on "ok" the command is executed, clicking
"command" the command is written in the editor.  This sekond possibility gave me a
easy starting point for the syntax (I think Splus hasn't got this opportunity) .
For a GUI - Interface for R I would recommend this as a primary goal---and for
educational purposes *not* the ability to directly execute R-Commands with the
GUI! Additionally this might be easier to realize in Software???

Just a suggestion...
Peter

ps.: Are there plans for functions like  "add.menu.item" etc?



--
*********************** Life is hard and then you die ********************
P.Malewski                                      Tel.: 0531 500965
Maschplatz 8                                    Email: P.Malewski at tu-bs.de
************************38114 Braunschweig********************************



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Sep 26 18:56:13 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 26 Sep 1999 17:56:13 +0100 (BST)
Subject: [R] Brace highlighting in R for the PC?
In-Reply-To: <37EE2FF5.7F72FA26@tu-bs.de>
Message-ID: <Pine.GSO.4.05.9909261740430.3525-100000@auk.stats>

On Sun, 26 Sep 1999, Peter Malewski wrote:

> Dear Rhelp-List, Prof. B. Ripley,
> 
> 
> Prof Brian D Ripley wrote:
> 
> > suggests that this ought not to be high on the primary developers' list of
> > priorities.
> >
> 
> On my "privat-wish list" stands functions like "nlme", "polr" at the top...

I am sure Doug Bates is aware of the many requests for nlme. For both that
(I believe) and polr we need better (ability to use gradients) optimizers,
and I am working on that too.

> But: Last week I copied a psychology-student the Windows Port of R: Without any
> programming experience he stopped after the demo() experience and returned to
> SPSS...
> 
> When I remember my first statistical package "SPSS" and the way I learned the
> syntax, I would suggest a primitve editor for a R-GUI (R-Gnome, Rgui). In SPSS you
> can do much by the Gui: Clicking on "ok" the command is executed, clicking
> "command" the command is written in the editor.  This sekond possibility gave me a
> easy starting point for the syntax (I think Splus hasn't got this opportunity) .
> For a GUI - Interface for R I would recommend this as a primary goal---and for
> educational purposes *not* the ability to directly execute R-Commands with the
> GUI! Additionally this might be easier to realize in Software???
> 
> Just a suggestion...

Thank you: we _will_ consider it.

> ps.: Are there plans for functions like  "add.menu.item" etc?

Yes, there are indeed plans. Guido Masarotto has been in hospital and
is not yet fully on-stream, so a lot of this has been delayed. I spent time
on the ts library, because for me that was a big gap.


Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zha at mosfet.engr.ucf.edu  Sun Sep 26 20:08:30 1999
From: zha at mosfet.engr.ucf.edu (Tony Zhang)
Date: Sun, 26 Sep 1999 14:08:30 -0400
Subject: [R] install problem -- libg2c
References: <x2905uezgf.fsf@blueberry.kubism.ku.dk>
Message-ID: <99092614183701.13011@mosfet.engr.ucf.edu>


> >>----
> I then encountered the linking same problem as you describe below. The
> error message is saying that the compiler can't find the libg2c library,
> which is its runtime library.  Apparently the g77 supplied by Caldera is
> missing this important piece.  I downloaded egcs-1.1.2-12.i386.rpm from
> the Red Hat web site, then did the following to extract and install libg2c:
> 
> 1) rpm2cpio < egcs-1.1.2-12.i386.rpm > egcs-1.1.2-12.cpio
> 
> 2) cpio -irv \*libg2c.a < egcs-1.1.2-12.cpio
> - when prompted to rename it, I entered libg2c.a.  This created the
> libg2c archive in my current directory.
> 
> 3) mv libg2c.a /usr/lib/gcc-lib/i386-linux/egcs-2.91.66
> ----<<

Hi, thanks for so many helpful suggestions I got so far.
I first tried to extract libg2c.a since it looks very easy to do. And indeed,
it was a breeze. Now, I have R up and running. It looks pretty and runs fast. I
may think of migrate my Splus works to R later.
 Thanks again.

Tony
--
                                                         \|||/
                                                     Q o o Q
==========================oooQ= ( - )====Qooo========================
                                                         """                   
Tony Q. Zhang                                 
Micro-electronics Lab. rm422    
Electrical and Computer Engineering 
University of Central Florida  
Orlando, FL 32816       
Office: (407)823-5376  
Home: (407)273-3502 
************************************************************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Mon Sep 27 03:14:42 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 26 Sep 1999 20:14:42 -0500
Subject: [R] Brace highlighting in R for the PC?
In-Reply-To: Prof Brian D Ripley's message of "Sun, 26 Sep 1999 17:56:13 +0100 (BST)"
References: <Pine.GSO.4.05.9909261740430.3525-100000@auk.stats>
Message-ID: <6riu4xcfzx.fsf@franz.stat.wisc.edu>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> On Sun, 26 Sep 1999, Peter Malewski wrote:
> 
> > Dear Rhelp-List, Prof. B. Ripley,
> > 
> > Prof Brian D Ripley wrote:
> > 
> > > suggests that this ought not to be high on the primary developers' list of
> > > priorities.
> > >
> > 
> > On my "privat-wish list" stands functions like "nlme", "polr" at the top...
> 
> I am sure Doug Bates is aware of the many requests for nlme. 

We're working on it.  Internally the current NLME library uses
highly S-specific constructions so the port is non-trivial.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Mon Sep 27 14:41:32 1999
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Mon, 27 Sep 1999 08:41:32 -0400
Subject: [R] HTML Output from R
Message-ID: <OFA73DD8CE.7ECD1FFE-ON852567F9.0044B2D3@hgsi.com>


Apologies to the group for not having summarized (and taking all this time)
all the replies I got on this topic.
The original question was if anyone had done HTML output from R. The
message also included a first attempt at writing such a function..
_________

Thanks, to Terry Westley who suggested that I model the function after
write.table. I was not aware of write.table (my fault). Since then I have
looked at to see how it handles rows and columns.
Thanks to Peter Sinn who suggested I look at Rweb. Rweb uses <ver></ver> to
write output. I was looking to "pretty" up the output.
Thanks to Kurt Hornik who echoed Terry Westley's suggestions and also noted
the eventuality of HTML output or LaTeX output from write.table.
_________

Based on write.table, the solution I settled on, is as follows: (as usual,
suggestions welcomed).

write.html.table <- function(x, file= "", capt= "The Default Title", append
= FALSE){
#x the dataframe to be written to an HTML file
  head <- paste("<table border= 1, align= \"center\">\n<caption>", capt,
"</caption>\n<tr><td>\n")
  cat(head, file= file, append= append)
  write.table(x, sep= "<td>", file= file, eol= "</tr>\n", row.names= rep
("<tr>", nrow(x)),
              col.names= TRUE, append= TRUE, quote= FALSE)
  cat("</tr>\n</table>\n", file= file, append= TRUE)
}

_________

Partha Bagchi.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From qz73804 at pegasus.cc.ucf.edu  Mon Sep 27 18:14:26 1999
From: qz73804 at pegasus.cc.ucf.edu (Tony Zhang)
Date: Mon, 27 Sep 1999 12:14:26 -0400
Subject: [R] install problem -- libg2c
References: <Pine.GSO.4.10.9909271124100.26366-100000@sun2539.sph.umich.edu>
Message-ID: <37EF97E2.3A84F42E@pegasus.cc.ucf.edu>

Andrew E Long wrote:

> Hi Tony,
>         I tried to follow the steps you said worked for you, but my first
> problem was that the rpm I downloaded didn't seem to contain libg2c. Do
> you have the actual URL you used to get that? I'm in the same boat:
> Caldera Linux and R install problems. Thanks,
> Andy

Sorry, I forgot to point it out. The rpm that contains libg2c.a is the
egcs-g77-1.1.2-12.i386.rpm now, instead of  egcs-1.1.2-12.i386.rpm. It can
be downloaded from any site at www.redhat.com/mirrors.html
Hope this will help

Tony

--
                    \|||/
                   Q o o Q
==============oooQ= ( - )====Qooo===================
                                 """
Tony Q. Zhang
Micro-electronics Lab. rm422
Electrical and Computer Engineering
University of Central Florida
Orlando, FL 32816
Office: (407)823-5376
Home: (407)273-3502
*****************************************************


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/19990927/7c1046f8/attachment.html

From ralphl at lrz.uni-muenchen.de  Mon Sep 27 18:43:04 1999
From: ralphl at lrz.uni-muenchen.de (Ralph Leonhardt)
Date: Mon, 27 Sep 1999 18:43:04 +0200
Subject: [R] Building R-065 on SuSE-Linux 6.3
Message-ID: <37EF9E98.4DAA2ADF@lrz.uni-muenchen.de>

Hi,

is somebody out there who has successfullly built R-065 on SuSE-6.2
Linux ?
This is for short, If nobody has I?ll describe the problem in depth
later.

	Ralph

-- 
Ralph Leonhardt, 8-)
Seminar fuer Internationale Wirtschaftsbeziehungen
Tel: 2180-2201
email: ralphl at lrz.uni-muenchen.de
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Sep 27 18:59:07 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 27 Sep 1999 09:59:07 -0700 (PDT)
Subject: [R] Building R-065 on SuSE-Linux 6.3
In-Reply-To: <37EF9E98.4DAA2ADF@lrz.uni-muenchen.de>
Message-ID: <Pine.GSO.4.10.9909270958240.1198-100000@wompom.biostat.washington.edu>

On Mon, 27 Sep 1999, Ralph Leonhardt wrote:

> Hi,
> 
> is somebody out there who has successfullly built R-065 on SuSE-6.2
> Linux ?
> This is for short, If nobody has Ill describe the problem in depth
> later.

I have built it on SuSE 6.1

	-thomas


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Mon Sep 27 20:39:47 1999
From: novo at uiuc.edu (Alvaro A. Novo)
Date: Mon, 27 Sep 1999 13:39:47 -0500
Subject: [R] Building R-065 on SuSE-Linux 6.3
In-Reply-To: <37EF9E98.4DAA2ADF@lrz.uni-muenchen.de>
References: <37EF9E98.4DAA2ADF@lrz.uni-muenchen.de>
Message-ID: <99092713430200.04410@friedman>

On Mon, 27 Sep 1999, Ralph Leonhardt wrote:
> Hi,
> 
> is somebody out there who has successfullly built R-065 on SuSE-6.2
> Linux ?
> This is for short, If nobody has Ill describe the problem in depth
> later.

Yes, although I didn't but there are rpms available at:

http://lib.stat.cmu.edu/R/CRAN/bin/linux/suse/6.2/RPMS/i386/base/

ps. I compiled R-0.65.0 in SuSE 6.1, but there are also rpms available.

Alvaro Novo

> 
> 	Ralph
> 
> -- 
> Ralph Leonhardt, 8-)
> Seminar fuer Internationale Wirtschaftsbeziehungen
> Tel: 2180-2201
> email: ralphl at lrz.uni-muenchen.de
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From moro at ibwk.baum.ethz.ch  Mon Sep 27 21:57:21 1999
From: moro at ibwk.baum.ethz.ch (moro@ibwk.baum.ethz.ch)
Date: Mon, 27 Sep 1999 21:57:21 +0200
Subject: [R] Building R-065 on SuSE-Linux 6.3
Message-ID: <199909271957.VAA20346@percol.ethz.ch>

 I did, but had to add some packages to the ground-installation proposed py SuSE.
Fabrizio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oka at debian.or.jp  Mon Sep 27 22:43:22 1999
From: oka at debian.or.jp (Mitsuru Oka)
Date: Tue, 28 Sep 1999 05:43:22 +0900
Subject: [R] Is there D.E. solver?
Message-ID: <14319.55018.758219.72159A@ryo1131.aist-nara.ac.jp>

Hi,

  I have not found differential equation solver in the R environment.
Is there D.E. solver such as Runge-Kutta method?
I want to solve Lorenz Model.

Thanks.
--
Mitsuru Oka
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From albrecht.gebhardt at uni-klu.ac.at  Tue Sep 28 15:36:07 1999
From: albrecht.gebhardt at uni-klu.ac.at (Albrecht Gebhardt)
Date: Tue, 28 Sep 1999 15:36:07 +0200 (MET DST)
Subject: [R] Building R-065 on SuSE-Linux 6.3
In-Reply-To: <37EF9E98.4DAA2ADF@lrz.uni-muenchen.de>
Message-ID: <Pine.OSF.4.10.9909281526070.30413-100000@zidsrv.sci.uni-klu.ac.at>

On Mon, 27 Sep 1999, Ralph Leonhardt wrote:

> Hi,
> 
> is somebody out there who has successfullly built R-065 on SuSE-6.2
> Linux ?
> This is for short, If nobody has I?ll describe the problem in depth
> later.
> 

Yes, I did. RPMs should be now/soon available at CRAN. You can find them 
also at 

     ftp://ftp-stat.sci.uni-klu.ac.at/pub/R/bin/ 

Sorry, I had a hard disk crash today, just at the time when
ftp://ftp.ci.tuwien.ac.at was mirroring these directories into
CRAN/bin/linux/suse, so don't trust the mirrored versions until tomorrow
(it will be mirrored again about 7.00 CET)

It contains SuSE 5.3 (libc5) and 6.2 (glibc 2.1) RPMS, 6.0 (glibc 2.0)
will be available later this week. And of course there are also RPMS and
setld packages for Digital Unix 4.0.  


Albrecht

-------------------------------------------------------------------------------
Albrecht Gebhardt                   email   : albrecht.gebhardt at uni-klu.ac.at
Institut fuer Mathematik            Tel.    : (++43 463) 2700/837
Universitaet Klagenfurt             Fax     : (++43 463) 2700/834
Villacher Str. 161
A-9020 Klagenfurt, Austria
-------------------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Tue Sep 28 16:14:28 1999
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 28 Sep 1999 16:14:28 +0200 (CEST)
Subject: [R] Building R-065 on SuSE-Linux 6.3
In-Reply-To: <Pine.OSF.4.10.9909281526070.30413-100000@zidsrv.sci.uni-klu.ac.at>
References: <37EF9E98.4DAA2ADF@lrz.uni-muenchen.de>
	<Pine.OSF.4.10.9909281526070.30413-100000@zidsrv.sci.uni-klu.ac.at>
Message-ID: <14320.52548.783165.971788@galadriel.ci.tuwien.ac.at>

>>>>> On Tue, 28 Sep 1999 15:36:07 +0200 (MET DST),
>>>>> Albrecht Gebhardt (AG) wrote:

AG> On Mon, 27 Sep 1999, Ralph Leonhardt wrote:
>> Hi,
>> 
>> is somebody out there who has successfullly built R-065 on SuSE-6.2
>> Linux ?
>> This is for short, If nobody has I?ll describe the problem in depth
>> later.
>> 

AG> Yes, I did. RPMs should be now/soon available at CRAN. You can find them 
AG> also at 

AG>      ftp://ftp-stat.sci.uni-klu.ac.at/pub/R/bin/ 

AG> Sorry, I had a hard disk crash today, just at the time when
AG> ftp://ftp.ci.tuwien.ac.at was mirroring these directories into
AG> CRAN/bin/linux/suse, so don't trust the mirrored versions until tomorrow
AG> (it will be mirrored again about 7.00 CET)


I have updated the mirrors manually, so SuSE is OK now in Vienna and
should propagate to most mirror sites within the next 24 hours.

Albrecht: I have also made the OSF changes.

Best,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pete at seul.org  Wed Sep 29 02:10:06 1999
From: pete at seul.org (Pete St. Onge)
Date: Tue, 28 Sep 1999 20:10:06 -0400
Subject: [R] Is there an R-SQUARE function?
Message-ID: <37F158DE.5D5FA63F@seul.org>

Hi there, I realize that this is a bit of a strange question, but here
goes.

In SAS, one can use the REG procedure to carry out a least-squares
regression analysis. By specifying the R-SQUARE option in the SELECTION
command, the program carries out regressions for every combination of
every independant variable against the dependant variable. This is
useful in smaller datasets, though difficult to justify from the
perspective of statistical design.

In this case, I have little choice but to ask if there is a similar
procedure in R to carry out this sort of analysis. Any suggestions would
be greatly appreciated.

Thanks,

Pete

-- 
Pete St. Onge
pete at seul.org
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Sep 29 02:22:34 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 28 Sep 1999 17:22:34 -0700 (PDT)
Subject: [R] Is there an R-SQUARE function?
In-Reply-To: <37F158DE.5D5FA63F@seul.org>
Message-ID: <Pine.GSO.4.10.9909281722020.4905-100000@wompom.biostat.washington.edu>

On Tue, 28 Sep 1999, Pete St. Onge wrote:

> Hi there, I realize that this is a bit of a strange question, but here
> goes.
> 
> In SAS, one can use the REG procedure to carry out a least-squares
> regression analysis. By specifying the R-SQUARE option in the SELECTION
> command, the program carries out regressions for every combination of
> every independant variable against the dependant variable. This is
> useful in smaller datasets, though difficult to justify from the
> perspective of statistical design.


The "leaps" package on CRAN does this.  This is normally called
all-subsets regression rather than R-SQUARE (or, to be fair, "leaps")


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Wed Sep 29 05:58:08 1999
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Tue, 28 Sep 1999 23:58:08 -0400 (EDT)
Subject: [R] avoiding loops, gaining generality
Message-ID: <Pine.SGI.3.96.990928234148.29275A-100000@ln.nimh.nih.gov>

Hi, all.

Given an array, I'd like to add elements whose location vectors are
permutations of one another.  For example, in a 3-dimensional array, I'd
add the elements in positions (1,2,3), (1,3,2), (2,1,3), (2,3,1), (3,1,2)
and (3,2,1); those in positions (1,2,4), (1,4,2), (2,1,4), (2,4,1),
(4,1,2), and (4,2,1); and so on.  Elements with repeated positions
-- (1,1,2) or (1,4,4), for example -- can be ignored.

In two dimensions, what I want can be done with (x + t(x))[lower.tri(x)]. 

My idea for duplicating this in more than two dimensions involve loops
and if statements, and require me to write a separate function for each
number of dimensions.  Something like:

for(i1 in 1:dim(x)[1]){
  for(i2 in 1:dim(x)[2]){
	...
    for(in in 1:dim(x)[n]){
      	temp.vec <- c(i1, i2, ..., in)
	ans[sort(temp.vec)] <- ans[sort(temp.vec)] + x[temp.vec]
    }
   ...
  }
}

This seems like a very clunky approach, but so far I haven't come up with
anything better.

I'm wondering whether any of the R aficionados out there can recommend a
way that works for any dimension, and is reasonably efficient. In fact,
even a reasonably efficient way to do it for a fixed number of dimensions
(with a separate function for each number of dimensions) would be helpful. 

I'll summarize to the list.

Thanks,

Matt

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From William.Venables at cmis.CSIRO.AU  Wed Sep 29 09:19:45 1999
From: William.Venables at cmis.CSIRO.AU (Bill Venables)
Date: Wed, 29 Sep 1999 17:19:45 +1000
Subject: [R] avoiding loops, gaining generality 
In-Reply-To: Your message of "Tue, 28 Sep 1999 23:58:08 -0400."
             <Pine.SGI.3.96.990928234148.29275A-100000@ln.nimh.nih.gov> 
Message-ID: <199909290722.RAA03981@snowy.nsw.cmis.CSIRO.AU>

Matthew Wiener asks:

> Hi, all.
> 
> Given an array, I'd like to add elements whose location vectors are
> permutations of one another.  For example, in a 3-dimensional array, I'd
> add the elements in positions (1,2,3), (1,3,2), (2,1,3), (2,3,1), (3,1,2)
> and (3,2,1); those in positions (1,2,4), (1,4,2), (2,1,4), (2,4,1),
> (4,1,2), and (4,2,1); and so on.  Elements with repeated positions
> -- (1,1,2) or (1,4,4), for example -- can be ignored.
> 
> In two dimensions, what I want can be done with (x + t(x))[lower.tri(x)]. 

One idea is to use a matrix index, of course.  The following is
not optimal by any means, but if you don't push it too far it
should work well enough.  First a couple of helper functions
whose purpose is self-evident (and the first now pretty
well-known):

subsets <- function(r, n, v = 1:n)
  if(r <= 0) NULL else
if(r >= n) v[1:n] else
rbind(cbind(v[1], Recall(r - 1, n - 1, v[-1])),
      Recall(r, n - 1, v[-1]))

permutations <- function(n, v = 1:n) {
  if(n == 1)
    return(v[1])
  X <- NULL
  for(i in 1:n)
    X <- rbind(X,
               cbind(v[i], permutations(n - 1, v[-i])))
  X
}

The following example uses a 3-dimensional array but the
generalization to any number of dimensions is no more
complicated.  It does assume that you are dealing with an array
with all dimensions having the same ranges.  If this is not the
case you will need to do some additional pruning, but that too
can be vectorized.

> A <- array(1:(4^3), dim = c(4,4,4))  # let's say

First generate the non-repeated index vectors as the rows of a
matrix:

> ind <- subsets(3, 4)
> ind
     [,1] [,2] [,3] 
[1,]    1    2    3
[2,]    1    2    4
[3,]    1    3    4
[4,]    2    3    4

Now generate the sums (this next step is the nub):

> sums <- apply(ind, 1, function(x) sum(A[permutations(3, x)]))

Finally give the vector names that identify which sum it is:

> names(sums) <- do.call("paste", c(data.frame(ind), sep = ","))

and here is what we have:

> sums
 1,2,3 1,2,4 1,3,4 2,3,4 
   132   174   216   258

Disclaimer: this was actually done in S, but you should never know!

> I'll summarize to the list.

Yes, please do, but I thought I would post this one anyway as my
puzzle of the month...

Bill Venables.

-- 
-----------------------------------------------------------------
Bill Venables, Statistician, CMIS Environmetrics Project.

Physical address:                            Postal address:
CSIRO Marine Laboratories,                   PO Box 120,       
233 Middle St, Cleveland, Queensland         Cleveland, Qld, 4163
AUSTRALIA                                    AUSTRALIA

Telephone: +61 7 3826 7251     Email: Bill.Venables at cmis.csiro.au     
      Fax: +61 7 3826 7304
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Wed Sep 29 11:24:34 1999
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Wed, 29 Sep 1999 10:24:34 +0100 (GMT)
Subject: [R] nlm recursion problem
Message-ID: <Pine.LNX.4.04.9909291005310.13625-100000@mercury.quantex>

Hi

I am trying to use nlm with an additional call to nlm within the function
but after the first pass, the parameters to the outer call are being
passed to the inner call.  The inner call is a very trivial problem.

ie:

test.outer<-function(param.outer){
  slope<-nlm(test.inner,param.inner)
 ...
  loglikelihood<-sum(...)
return(-loglikelihood)
}

and

nlm(test.outer,param.outer)

on the second call of test.outer by nlm, the inner calls to test.inner are
finding param.outer.

I have tried the obvious nlmx<-nlm and calling nlmx as the inner call but
this does not fix it.  Can I use recursion with nlm or is there an
alternative non-linear minimiser?  I suspect that it is the static memory
within the Fortran - is there any way of copying this to an object after
the outer call then restoring it after the inner calls?

nlm is called by many functions and packages so perhaps this is quite a
common problem - what is the slickest way round it?  The solution required
is just the intercept and slope of a line where there may be censored data
so lm() won't do and neither will optimise() (it is only for 1 dimension
and I require 2).

John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep 29 12:36:36 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Sep 1999 12:36:36 +0200
Subject: [R] nlm recursion problem
In-Reply-To: John Logsdon's message of "Wed, 29 Sep 1999 10:24:34 +0100 (GMT)"
References: <Pine.LNX.4.04.9909291005310.13625-100000@mercury.quantex>
Message-ID: <x27llaxavf.fsf@blueberry.kubism.ku.dk>

John Logsdon <j.logsdon at lancaster.ac.uk> writes:

> nlm is called by many functions and packages so perhaps this is quite a
> common problem - what is the slickest way round it?  The solution required
> is just the intercept and slope of a line where there may be censored data
> so lm() won't do and neither will optimise() (it is only for 1 dimension
> and I require 2).

There really is no way around this, except either to rewrite the
maximiser in a language that allows reentrancy ( = C in practice) or
wait for someone to write a Fortran compiler that does. We've
previously done this for the solvers, and nlm appears to be under
scrutiny at the moment anyway, so perhaps...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From William.Venables at cmis.CSIRO.AU  Wed Sep 29 13:44:56 1999
From: William.Venables at cmis.CSIRO.AU (Bill Venables)
Date: Wed, 29 Sep 1999 21:44:56 +1000
Subject: [R] nlm recursion problem 
In-Reply-To: Your message of "29 Sep 1999 12:36:36 +0200."
             <x27llaxavf.fsf@blueberry.kubism.ku.dk> 
Message-ID: <199909291147.VAA12910@snowy.nsw.cmis.CSIRO.AU>

> John Logsdon <j.logsdon at lancaster.ac.uk> writes:
> 
> > nlm is called by many functions and packages so perhaps this is quite a
> > common problem - what is the slickest way round it?  The solution required
> > is just the intercept and slope of a line where there may be censored data
> > so lm() won't do and neither will optimise() (it is only for 1 dimension
> > and I require 2).
> 
> There really is no way around this, except either to rewrite the
> maximiser in a language that allows reentrancy ( = C in practice) or
> wait for someone to write a Fortran compiler that does. We've
> previously done this for the solvers, and nlm appears to be under
> scrutiny at the moment anyway, so perhaps...
> 
Right, there is no way to make Fortran of this vintage recursive
but, much as I hesitate to point it out, if you know in advance
that all you need is two levels (as John appears to do) you could
use another Fortran routine as the inner minimizer, and there is
no reason why that one could not be the same one that sits behind
nlm by another name.  Ugly, I know, but in a jam I'd do it, and
in an Open Source system the code is sitting there, waiting...

"Fortran - just say `No'."

Bill.

-- 
-----------------------------------------------------------------
Bill Venables, Statistician, CMIS Environmetrics Project.

Physical address:                            Postal address:
CSIRO Marine Laboratories,                   PO Box 120,       
233 Middle St, Cleveland, Queensland         Cleveland, Qld, 4163
AUSTRALIA                                    AUSTRALIA

Telephone: +61 7 3826 7251     Email: Bill.Venables at cmis.csiro.au     
      Fax: +61 7 3826 7304
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Wed Sep 29 17:59:56 1999
From: s-luppescu at uchicago.edu (Stuart Luppescu)
Date: Wed, 29 Sep 1999 10:59:56 -0500 (CDT)
Subject: [R] Is there an R-SQUARE function?
In-Reply-To: <Pine.GSO.4.10.9909281722020.4905-100000@wompom.biostat.washington.edu>
Message-ID: <XFMail.990929105956.s-luppescu@uchicago.edu>

On 29-Sep-99 Thomas Lumley wrote:
> On Tue, 28 Sep 1999, Pete St. Onge wrote:
> 
>> Hi there, I realize that this is a bit of a strange question, but here
>> goes.
>> 
>> In SAS, one can use the REG procedure to carry out a least-squares
>> regression analysis. By specifying the R-SQUARE option in the SELECTION
>> command, the program carries out regressions for every combination of
>> every independant variable against the dependant variable. This is
>> useful in smaller datasets, though difficult to justify from the
>> perspective of statistical design.
> 
> 
> The "leaps" package on CRAN does this.  This is normally called
> all-subsets regression rather than R-SQUARE (or, to be fair, "leaps")

This interests me a lot. But when I tried to use the package, I got this
message:
> library(leaps)
Error in dyn.load(file) : unable to load shared library
"/usr/lib/R/library/leaps/libs/leaps.so":
  /usr/lib/R/library/leaps/libs/leaps.so: undefined symbol: do_lio

Did I make some mistake in installing the package, or what?

I'm running R 0.65 on RedHat Linux 6.0 (intel) with kernel 2.2.12; leaps is 
Aug 17 12:45 leaps_2.0.tar.gz
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl/sl.html
ICQ #21172047  AIM: psycho7070
Q:      Why does Washington have the most lawyers per capita and
        New Jersey the most toxic waste dumps?
A:      God gave New Jersey first choice.
>> Sent on 29-Sep-99 at 10:56:43 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Wed Sep 29 17:31:53 1999
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Wed, 29 Sep 1999 16:31:53 +0100 (GMT)
Subject: [R] nlm recursion problem 
In-Reply-To: <199909291147.VAA12910@snowy.nsw.cmis.CSIRO.AU>
Message-ID: <Pine.LNX.4.04.9909291615580.15717-100000@mercury.quantex>

Dear R-ists

Further thinking shows me that the easiest way round this problem is not
to spend time hacking the code but to write a simple Newton scheme for the
inner solution in R, since the derivatives are easy.  This I am doing but
a thought arose:

How common is this problem with R?  It was a little obscure - it only fell
over because the vectors were different lengths.  What happens if the
vectors are the same length?  It won't warn you.  Does this also happen
with S+ (nlmin())?  Can anyone test this - I don't have S?

Peter indicated that a number of Fortran routines had already been fixed.  
To fix the Fortran is not *in principle* all that difficult - you need to
add working arrays and ensure that no data are retainded internally.  NAG
showed the way a long time ago - a bit messy but I think it would work.
However, looking at the R coding where the Fortran is called from the C
and calls further routines, it is not a simple job.  Which is why I
elected to practice my differentiation!

Thanks for the messages

John

On Wed, 29 Sep 1999, Bill Venables wrote:

> > John Logsdon <j.logsdon at lancaster.ac.uk> writes:
> > 
> > > nlm is called by many functions and packages so perhaps this is quite a
> > > common problem - what is the slickest way round it?  The solution required
> > > is just the intercept and slope of a line where there may be censored data
> > > so lm() won't do and neither will optimise() (it is only for 1 dimension
> > > and I require 2).
> > 
> > There really is no way around this, except either to rewrite the
> > maximiser in a language that allows reentrancy ( = C in practice) or
> > wait for someone to write a Fortran compiler that does. We've
> > previously done this for the solvers, and nlm appears to be under
> > scrutiny at the moment anyway, so perhaps...
> > 
> Right, there is no way to make Fortran of this vintage recursive
> but, much as I hesitate to point it out, if you know in advance
> that all you need is two levels (as John appears to do) you could
> use another Fortran routine as the inner minimizer, and there is
> no reason why that one could not be the same one that sits behind
> nlm by another name.  Ugly, I know, but in a jam I'd do it, and
> in an Open Source system the code is sitting there, waiting...
> 
> "Fortran - just say `No'."
> 
> Bill.
> 
> -- 
> -----------------------------------------------------------------
> Bill Venables, Statistician, CMIS Environmetrics Project.
> 
> Physical address:                            Postal address:
> CSIRO Marine Laboratories,                   PO Box 120,       
> 233 Middle St, Cleveland, Queensland         Cleveland, Qld, 4163
> AUSTRALIA                                    AUSTRALIA
> 
> Telephone: +61 7 3826 7251     Email: Bill.Venables at cmis.csiro.au     
>       Fax: +61 7 3826 7304
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Sep 29 18:10:58 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 29 Sep 1999 09:10:58 -0700 (PDT)
Subject: [R] Is there an R-SQUARE function?
In-Reply-To: <XFMail.990929105956.s-luppescu@uchicago.edu>
Message-ID: <Pine.GSO.4.10.9909290908170.9863-100000@wompom.biostat.washington.edu>

On Wed, 29 Sep 1999, Stuart Luppescu wrote:

> On 29-Sep-99 Thomas Lumley wrote:
> > The "leaps" package on CRAN does this.  This is normally called
> > all-subsets regression rather than R-SQUARE (or, to be fair, "leaps")
> 
> This interests me a lot. But when I tried to use the package, I got this
> message:
> > library(leaps)
> Error in dyn.load(file) : unable to load shared library
> "/usr/lib/R/library/leaps/libs/leaps.so":
>   /usr/lib/R/library/leaps/libs/leaps.so: undefined symbol: do_lio
> 
> Did I make some mistake in installing the package, or what?
> 
> I'm running R 0.65 on RedHat Linux 6.0 (intel) with kernel 2.2.12; leaps is 
> Aug 17 12:45 leaps_2.0.tar.gz


It sounds like there is a problem with your Fortran compiling or linking.
On my Debian system using g77, nm leaps.so shows that the symbol do_lio is
defined, and on Solaris using Sun's f77 it isn't even exported.

What compilers are you using, and did you get any error messages when
installing the package?


	-thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Wed Sep 29 18:39:17 1999
From: s-luppescu at uchicago.edu (Stuart Luppescu)
Date: Wed, 29 Sep 1999 11:39:17 -0500 (CDT)
Subject: [R] Is there an R-SQUARE function?
In-Reply-To: <Pine.GSO.4.10.9909290908170.9863-100000@wompom.biostat.washington.edu>
Message-ID: <XFMail.990929113917.s-luppescu@uchicago.edu>

On 29-Sep-99 Thomas Lumley wrote:
> On Wed, 29 Sep 1999, Stuart Luppescu wrote:
> 
>> On 29-Sep-99 Thomas Lumley wrote:
>> > The "leaps" package on CRAN does this.  This is normally called
>> > all-subsets regression rather than R-SQUARE (or, to be fair, "leaps")
>> 
>> This interests me a lot. But when I tried to use the package, I got this
>> message:
>> > library(leaps)
>> Error in dyn.load(file) : unable to load shared library
>> "/usr/lib/R/library/leaps/libs/leaps.so":
>>   /usr/lib/R/library/leaps/libs/leaps.so: undefined symbol: do_lio
>> 
>> Did I make some mistake in installing the package, or what?
>> 
>> I'm running R 0.65 on RedHat Linux 6.0 (intel) with kernel 2.2.12; leaps is 
>> Aug 17 12:45 leaps_2.0.tar.gz
> 
> 
> It sounds like there is a problem with your Fortran compiling or linking.
> On my Debian system using g77, nm leaps.so shows that the symbol do_lio is
> defined, and on Solaris using Sun's f77 it isn't even exported.
> 
> What compilers are you using, and did you get any error messages when
> installing the package?

Never mind. I just REMOVEd and then reINSTALLed the package and things are OK
now.
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl/sl.html
ICQ #21172047  AIM: psycho7070
Beer & Pretzels -- Breakfast of Champions.
>> Sent on 29-Sep-99 at 11:32:54 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Wed Sep 29 18:58:33 1999
From: peter at esb.ucp.pt (Peter Ho)
Date: Wed, 29 Sep 1999 17:58:33 +0100
Subject: [R] Factor Rotation
References: <Pine.GSO.4.05.9909210720400.22106-100000@auk.stats>
Message-ID: <37F24537.232EA10@esb.ucp.pt>

Hi,

A function for factor rotation is available in S-PLUS, but I have not been able to
find a similar function in R. Is there a way of doing factor rotation after PCA in
R? Has anyone written a function that can do this? Is it possible to use the
function written in S?

Thanks


Peter
-------------------------

Peter Ho
Escola Superior de Biotecnologia
Universidade Cat?lica Portuguesa
Rua Dr. Ant?nio Bernardino de Almeida
4200 Porto
Portugal
Tel: ++351-2-5580043

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep 29 23:17:47 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 29 Sep 1999 22:17:47 +0100 (BST)
Subject: [R] RFC: help systems on Windows
Message-ID: <Pine.GSO.4.05.9909292155120.7043-100000@auk.stats>

To: Windows Users
-----------------

We would appreciate your comments on future possibilities for help on
Windows systems. I have put up a pre-test version based on the current
R-release snapshot at

http://www.stats.ox.ac.uk/pub/bdr/RWin/rwtest999.zip  (ca 4.5Mb)
ftp://ftp.stats.ox.ac.uk/....

(999 means Sept 1999, BTW).  This has 

(i)   text help
(ii)  HTML help to be viewed in Netscape/IE*
(iii) latex help, all as before
(iv)  Compiled HTML Help (*.chm)
(v)   Windows Help (*.hlp)

We need to make some choices and would value your input.

(iv) is the help system that Office 2000 and (I am told) Windows 2000 uses.
According to Microsoft's docs, you will need Internet Explorer 3 and
perhaps 4 installed to use it, or use the updater file at
http://www.stats.ox.ac.uk/pub/RWin/hhupd.exe.

(v) Is the standard Windows 95/NT4 help.  We know the translation is a
bit rough: it can be improved if people want this style of help.

In particular, we would like your votes on what you like, and to know
whether you have any difficulty using Compiled HTML.

As this is based on R-release there are many new features you can explore,
described in the CHANGES and NEWS files.  Please do remember this is a 
pre-test, only tested on one machine (under NT4sp5 with IE5 and
Office 2000 installed), and don't expect too much.

As Windows is a minority interest, please reply to Guido and me, or if you
want to raise more general development issues, Cc: the R-devel list.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cmaley at cs.unm.edu  Thu Sep 30 07:18:23 1999
From: cmaley at cs.unm.edu (Carlo Maley)
Date: Wed, 29 Sep 1999 23:18:23 -0600
Subject: [R] plotting text on a postscript device
Message-ID: <37F2F29F.5DE42BFB@cs.unm.edu>

It seems that the text command isn't working for a postscript device.
Here is my code:

#-----------------------------
# I have stored some data in a 21 by 21 matrix called mat

x <- 1:ncol(mat);
y <- 1:nrow(mat);
labs <- c(" ", "1298", "1537", "TP53", "786", "974", "1303", "1288",
"1294", "1293", "1290", "1301", "9GATA", "935", "925", "932", "1121",
"1118", "301", "930", " ")

postscript(file="corr-markers.eps", paper="letter", family="Times",
horizontal=F,append=T,onefile=F);

image(x, y, mat, zlim=c(-1,1), col =
rev(rainbow(100,s=1,v=1,gamma=1,start=0,end=.6)), axes = FALSE,
     xlab="", ylab="", main="Correlations of Marker LoH")
text(x,rep(0.5,time=length(x)),labels=labs,srt=315,adj=0)
text(rep(0,time=length(x)), y, labels=rev(labs));

#-----------------------------

When I do this without the postscript command, I get a nice image with
all the text labels, but when I do this with the postscript command,
only the image makes it into the file.

I've even tried dev.print and dev.copy but the same behavior occurs.

Can anyone help?  I've beat against this for hours now.

        thanks, Carlo Maley
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cmaley.vcf
Type: text/x-vcard
Size: 309 bytes
Desc: Card for Carlo Maley
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19990929/4b077005/cmaley.vcf

From y0004379 at tu-bs.de  Thu Sep 30 11:27:44 1999
From: y0004379 at tu-bs.de (Peter Malewski)
Date: Thu, 30 Sep 1999 11:27:44 +0200 (METDST)
Subject: [R] plotting text on a postscript device
In-Reply-To: <37F2F29F.5DE42BFB@cs.unm.edu>
Message-ID: <Pine.HPX.4.10.9909301125500.8910-100000@rzpool04.rz.tu-bs.de>

Dear Carlo,
have you closed the postscript-device?
The code:

 postscript("c:/temp/temp.eps")
> plot(0,0)
> text(0,0,"xx")
> dev.off()
null device 
 
works fine at my windows r-65

The other possibilty is to 
dev.print(postscipt,file=""  ...

P


On Wed, 29 Sep 1999, Carlo Maley wrote:

> It seems that the text command isn't working for a postscript device.
> Here is my code:
> 
> #-----------------------------
> # I have stored some data in a 21 by 21 matrix called mat
> 
> x <- 1:ncol(mat);
> y <- 1:nrow(mat);
> labs <- c(" ", "1298", "1537", "TP53", "786", "974", "1303", "1288",
> "1294", "1293", "1290", "1301", "9GATA", "935", "925", "932", "1121",
> "1118", "301", "930", " ")
> 
> postscript(file="corr-markers.eps", paper="letter", family="Times",
> horizontal=F,append=T,onefile=F);
> 
> image(x, y, mat, zlim=c(-1,1), col =
> rev(rainbow(100,s=1,v=1,gamma=1,start=0,end=.6)), axes = FALSE,
>      xlab="", ylab="", main="Correlations of Marker LoH")
> text(x,rep(0.5,time=length(x)),labels=labs,srt=315,adj=0)
> text(rep(0,time=length(x)), y, labels=rev(labs));
> 
> #-----------------------------
> 
> When I do this without the postscript command, I get a nice image with
> all the text labels, but when I do this with the postscript command,
> only the image makes it into the file.
> 
> I've even tried dev.print and dev.copy but the same behavior occurs.
> 
> Can anyone help?  I've beat against this for hours now.
> 
>         thanks, Carlo Maley
> 

***************************************************************************
P.Malewski					Tel.: 0531 500965
Maschplatz 8					Email: P.Malewski at tu-bs.de
************************38114 Braunschweig********************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Armin.Roehrl at epfl.ch  Thu Sep 30 12:56:01 1999
From: Armin.Roehrl at epfl.ch (Armin S. A. Roehrl)
Date: Thu, 30 Sep 1999 12:56:01 +0200
Subject: [R] non-cpu intensive sleep in R?; 
Message-ID: <37F341C1.2F570ED6@epfl.ch>

Hi,

Is there a function similar to C's usleep in R? 
	 usleep(10000);
from the man pages:
The usleep() function will cause the calling thread to be suspended from
execution until either the number of real-time microseconds specified by
the argument  useconds has elapsed or a signal is delivered to the
calling thread and its action is to invoke a signal-catching function or
to terminate the process. The
suspension time may be longer than requested due to the scheduling of
other activity by the system. 

I do not want to dyn.load usleep for portability reasons. Calling sth.
like a system("sleep 1")
is not an option.

Thanks,
	Armin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Thu Sep 30 14:46:52 1999
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Thu, 30 Sep 1999 22:46:52 +1000
Subject: [R] plotting text on a postscript device
References: <37F2F29F.5DE42BFB@cs.unm.edu>
Message-ID: <37F35BBB.9D5BCD8A@ozemail.com.au>

Carlo Maley wrote:

> It seems that the text command isn't working for a postscript device.

Carlo,

The offending command is generated in the plotting, I think.  It is:

77.04 91.44 563.76 714.96 cl

on line 689 in the output on my system (I faked the numbers, so it may be
different on yours)
What is happening is the clip statement is excluding the labels.  You can
hack it by just deleting this line from the output.  However, a proper fix
will involve finding where the plotting routine generates a clip region which
does not allow text to be added.  I'll see if I can trace it.

Jim


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ksueber at gwdg.de  Thu Sep 30 22:24:49 1999
From: ksueber at gwdg.de (Knut Suebert)
Date: Thu, 30 Sep 1999 22:24:49 +0200
Subject: [R] LaTeX Output (was: HTML Output from R)
In-Reply-To: <14247.56254.438060.70633@fangorn.ci.tuwien.ac.at>
References: <OF8F1FF647.7341B987-ON852567C1.004131A1@hgsi.com> <NABBLIOAJNIMENKGLDDGOEIDCNAA.twestley@buffalo.veridian.com> <14247.56254.438060.70633@fangorn.ci.tuwien.ac.at>
Message-ID: <19990930222448.A2493@gwdg.de>

Kurt Hornik schrieb:
> >>>>> Terry J Westley writes:
> 
> > I recommend that you model your HTML write function after
> > write.table().  It's got many of the features you'd like
> > to have and also will give you some good hints on how
> > to handle row and column names and avoid that "forbidden"
> > for loop.
> 
> Yes, this is a very good suggestion.  Eventually, one could have
> something like write.table(..., format = "HTML") (or LaTeX).

Hello.

I wrote  a library(tex), it may be not as clean as a write.table(...,
format="LaTeX"), but it is quite powerful, I think. 

It takes the colnames as default, extra (and rotated) headers are possible
(also grouping the header over some cols), grouping the body automatically
by inserting clines if a value in selected cols changes, using longtable,
booktabs, rotating, adjusting cols at the decimal comma (german, but to use
comma or point to split is a thing on the TeX-side)... the result is written
to stdout or to a file.

possible options are:

textable <- function(data,
                     caption="",
		     header=NA, headerunits=NA, # a list would be better 
		     xheader=NA, 
		     rotlab=NA,rotlabheight="6em",
		     label="", sepcols=NA,
                     kommata=NA, nosplit=integer(0),
                     file=NULL, na.mask=T, sideways=F,
		     tabletype="normal",
                     arraystretch=NA
	             ){

The code is weird, it's one the way to be rewritten. So it could be a good
time to do it clean as write.table... I'll try to start next week. 

Bye,
Knut
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


