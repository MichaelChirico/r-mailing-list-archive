From macq at llnl.gov  Wed May  1 00:43:16 2002
From: macq at llnl.gov (Don MacQueen)
Date: Tue, 30 Apr 2002 15:43:16 -0700
Subject: [R] generating graphical output when DISPLAY is not set?
In-Reply-To: <Pine.LNX.4.33.0204301341580.3566-100000@luino.neomorphic.com>
References: <Pine.LNX.4.33.0204301341580.3566-100000@luino.neomorphic.com>
Message-ID: <p05111713b8f4cce9c0b2@[128.115.153.6]>

Having asked this question myself within the last 6 months or so, I 
think I can answer.

The R png() driver relies on the png libraries, which come from 
another open-source project, not R. Those libraries require an active 
X11 display. Thus there is no within-R solution for the png() device 
without X11.

There is, however, the bitmap() device (thanks to Prof. Ripley), 
which takes a different approach, and will produce png files without 
X11, provided you have ghostscript installed. In my experience, fonts 
rendered by ghostscript are not as good as fonts with the png(),X11 
combination.

Another approach might be to use the Xvfb "device", and see if you 
can't guarantee that it will always be running.

-Don

At 1:51 PM -0700 4/30/02, Simon Cawley wrote:
>Is it possible to generate graphical output (to a file) when the
>DISPLAY environment variable is not set?  Here's the problem:
>
>   $ unset DISPLAY
>   $ R
>   > png("foo.png")
>   Error in X11(paste("png::", filename, sep = ""), width, height, 
>pointsize,  :
>           unable to start device PNG
>   In addition: Warning message:
>   unable to open connection to X11 display`'
>
>I want to have a process running on a server call R to generate graphical
>output, and the problem is that I'm not guaranteed to have a valid
>DISPLAY set.  I have some clumsy workarounds, but it would be cleaner if
>if I had some way to have R not require the DISPLAY.
>
>Thanks,
>
>-Simon
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sundard at pdf.com  Wed May  1 00:46:36 2002
From: sundard at pdf.com (Sundar Dorai-Raj)
Date: Tue, 30 Apr 2002 17:46:36 -0500
Subject: [R] A sample question
References: <PPEGLLABFLFCJDLCGPGHCEIPCAAA.klavan@tiscalinet.it>
Message-ID: <3CCF1ECC.151C275A@pdf.com>



Ambrosini Alessandro wrote:
> 
> Hello.
> Given a vector 1 3 4 2 8 9 5
> I want to obtain a vector with all 0 except in the second position and in
> the fifth, where the numbers are the same of the first vector.
> The new vector must be
>  0 3 0 0 8 0 0
> 

x <- c(1,3,4,2,8,9,5)
x[-c(2,5)] <- 0

-- 

Sundar Dorai-Raj, Ph.D.
Statistical Methods Engineer
PDF Solutions, Inc.
Richardson TX
(972) 889-3085 x216
(214) 392-7619 cell
sundard at pdf.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pdimitro at gnf.org  Wed May  1 02:09:43 2002
From: pdimitro at gnf.org (Petre Dimitrov)
Date: Tue, 30 Apr 2002 17:09:43 -0700
Subject: [R] generating graphical output when DISPLAY is not set?
Message-ID: <D670CBFB481BB64D8F2B53F4DE8086CF49FC78@EXCHCLUSTER01.lj.gnf.org>

Do you have libpng installed properly on your machine? It seems R is not linked against that library. Check the output of ./configure or config.log whether the check for libpng was succesfull. If not, go to www.libpng.org/pub/png/libpng.html to download and install the relevant binary or source. Assuming you have Linux distro with rpm package management, you can download libpng-devel package from ftp.redhat.com or mirrors.

Once R is linked against that library, look at the help for png() for the proper way to redirect the plotting to a file.

Peter Dimitrov

-----Original Message-----
From: Simon Cawley [mailto:simon_cawley at affymetrix.com]
Sent: Tuesday, April 30, 2002 1:51 PM
To: r-help at stat.math.ethz.ch
Subject: [R] generating graphical output when DISPLAY is not set?



Is it possible to generate graphical output (to a file) when the
DISPLAY environment variable is not set?  Here's the problem:

  $ unset DISPLAY
  $ R
  > png("foo.png")
  Error in X11(paste("png::", filename, sep = ""), width, height, pointsize,  :
          unable to start device PNG
  In addition: Warning message:
  unable to open connection to X11 display`'

I want to have a process running on a server call R to generate graphical
output, and the problem is that I'm not guaranteed to have a valid
DISPLAY set.  I have some clumsy workarounds, but it would be cleaner if
if I had some way to have R not require the DISPLAY.

Thanks,

-Simon

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pdimitro at gnf.org  Wed May  1 03:01:18 2002
From: pdimitro at gnf.org (Petre Dimitrov)
Date: Tue, 30 Apr 2002 18:01:18 -0700
Subject: [R] generating graphical output when DISPLAY is not set?
Message-ID: <D670CBFB481BB64D8F2B53F4DE8086CF488D3F@EXCHCLUSTER01.lj.gnf.org>

Do you have libpng installed properly on your machine? It seems R is not linked against that library. Check the output of ./configure or config.log whether the check for libpng was succesfull. If not, go to www.libpng.org/pub/png/libpng.html to download and install the relevant binary or source. Assuming you have Linux distro with rpm package management, you can download libpng-devel package from ftp.redhat.com or mirrors.

Once R is linked against that library, look at the help for png() for the proper way to redirect the plotting to a file.

Peter Dimitrov

-----Original Message-----
From: Simon Cawley [mailto:simon_cawley at affymetrix.com]
Sent: Tuesday, April 30, 2002 1:51 PM
To: r-help at stat.math.ethz.ch
Subject: [R] generating graphical output when DISPLAY is not set?



Is it possible to generate graphical output (to a file) when the
DISPLAY environment variable is not set?  Here's the problem:

  $ unset DISPLAY
  $ R
  > png("foo.png")
  Error in X11(paste("png::", filename, sep = ""), width, height, pointsize,  :
          unable to start device PNG
  In addition: Warning message:
  unable to open connection to X11 display`'

I want to have a process running on a server call R to generate graphical
output, and the problem is that I'm not guaranteed to have a valid
DISPLAY set.  I have some clumsy workarounds, but it would be cleaner if
if I had some way to have R not require the DISPLAY.

Thanks,

-Simon

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed May  1 04:43:41 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Tue, 30 Apr 2002 22:43:41 -0400
Subject: [R] R-1.5.0: compiling package foreign on WinNT failed
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC285@usrymx10.merck.com>

Dear R-help,

I was able to build R-1.5.0 on WinNT w/o problem (actually it seems easier
than previous version).  However, I encountered problem when trying to
compile the recommended package foreign:

make: Entering directory `/cygdrive/g/rbuild/R-1.5.0/src/gnuwin32'
make DLLNM=  FLIBS="-lg2c -lRblas" BUILD=MINGW \
  -C G:/Rbuild/R-1.5.0-recommended/R.INSTALL/foreign PKG=foreign
RHOME=g:/rbuild
/R-1.5.0 RLIB=g:/rbuild/R-1.5.0/library \
  -f g:/rbuild/R-1.5.0/src/gnuwin32/MakePkg
make[1]: Entering directory
`/cygdrive/g/Rbuild/R-1.5.0-recommended/R.INSTALL/fo
reign'
---------- Making package foreign ------------
configure.win: not found
make[1]: *** [g:/rbuild/R-1.5.0/library/foreign/zzzz] Error 127
make[1]: Leaving directory
`/cygdrive/g/Rbuild/R-1.5.0-recommended/R.INSTALL/for
eign'
make: *** [pkg-foreign] Error 2
make: Leaving directory `/cygdrive/g/rbuild/R-1.5.0/src/gnuwin32'
*** Installation of foreign failed ***

Does anyone have any idea what's wrong?  configure.win is there, and all it
does is copying two files in src from .h.in to .h.

Cheers,
Andy


------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May  1 08:31:16 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 1 May 2002 07:31:16 +0100 (GMT Daylight Time)
Subject: [R] generating graphical output when DISPLAY is not set?
In-Reply-To: <D670CBFB481BB64D8F2B53F4DE8086CF49FC78@EXCHCLUSTER01.lj.gnf.org>
Message-ID: <Pine.WNT.4.44.0205010724430.3364-100000@Reeve>

Peter Dalgaard has already given the correct answer: the png() driver *on
Unix* uses the Xserver to render the bitmap, and so you need one running.
That is on the help page.

This keeps on coming up ....  The problem (both in writing a png driver and
aesthetically) is the rendering of fonts.  For me bitmap() is an equally
good alternative, but other people don't like its output and so presumably
do not have gs working as well as mine (and I've been sent samples I don't
like which suggest that).

Ross once mentioned using (I think) OpenType fonts everywhere, which would
help solve this and the problems of copying bewteen devices (with
inevitably different font metrics).  I don't see that happening any time
soon.


On Tue, 30 Apr 2002, Petre Dimitrov wrote:

> Do you have libpng installed properly on your machine? It seems R is not linked against that library. Check the output of ./configure or config.log whether the check for libpng was succesfull. If not, go to www.libpng.org/pub/png/libpng.html to download and install the relevant binary or source. Assuming you have Linux distro with rpm package management, you can download libpng-devel package from ftp.redhat.com or mirrors.
>
> Once R is linked against that library, look at the help for png() for the proper way to redirect the plotting to a file.
>
> Peter Dimitrov
>
> -----Original Message-----
> From: Simon Cawley [mailto:simon_cawley at affymetrix.com]
> Sent: Tuesday, April 30, 2002 1:51 PM
> To: r-help at stat.math.ethz.ch
> Subject: [R] generating graphical output when DISPLAY is not set?
>
>
>
> Is it possible to generate graphical output (to a file) when the
> DISPLAY environment variable is not set?  Here's the problem:
>
>   $ unset DISPLAY
>   $ R
>   > png("foo.png")
>   Error in X11(paste("png::", filename, sep = ""), width, height, pointsize,  :
>           unable to start device PNG
>   In addition: Warning message:
>   unable to open connection to X11 display`'
>
> I want to have a process running on a server call R to generate graphical
> output, and the problem is that I'm not guaranteed to have a valid
> DISPLAY set.  I have some clumsy workarounds, but it would be cleaner if
> if I had some way to have R not require the DISPLAY.
>
> Thanks,
>
> -Simon
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rajiv.prasad at charter.net  Wed May  1 08:35:55 2002
From: rajiv.prasad at charter.net (Rajiv Prasad)
Date: Tue, 30 Apr 2002 23:35:55 -0700
Subject: [R] upgrading to 1.5.0/uninstalling 1.4.1 on Linux
Message-ID: <02043023355601.01158@ts46-01-qdr1297.knnwck.wa.charter.com>

Hi folks:

I have a feeling this must be a FAQ, but I did not find the answer in R 
Installation and Administration manual.  Please point me to the right place 
to look for answer to this question if it's already answered.

I am running 1.4.1 on an Alpha PCA56 (aka 164SX) running Redhat Linux 7.1 
(kernel 2.4.19-pre4).  I built 1.4.1 from sources and it is installed in 
/usr/local (the default).  I did compile and install some additional packages 
for 1.4.1 besides the recommended ones.

I want to upgrade to 1.5.0 now (it is being built now).  Do I need to 
uninstall 1.4.1 before I "make install" 1.5.0?  If yes, how exactly?

Thanks.

Rajiv

PS:

1.4.1 info:
> version
         _
platform alphapca56-unknown-linux-gnu
arch     alphapca56
os       linux-gnu
system   alphapca56, linux-gnu
status
major    1
minor    4.1
year     2002
month    01
day      30
language R

System info:
$ uname -a
Linux <hostname> 2.4.19-pre4 #1 Mon Apr 1 01:01:11 PST 2002 alpha unknown
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May  1 09:11:47 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 1 May 2002 08:11:47 +0100 (BST)
Subject: [R] R-1.5.0: compiling package foreign on WinNT failed
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC285@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.31.0205010807140.10017-100000@gannet.stats>

My best guess is that you don't have `.' in your path.  That is a new
instruction for 1.5.0 (see the INSTALL file).

People building this themselves need to be aware that lots of packages
need to be rebuilt for rw1050. I will not update CRAN contrib area
until binaries are released: until then see the rw1050 directory. Even
then, update.packages() will not pull rebuilt versions, only updated
packages.

On Tue, 30 Apr 2002, Liaw, Andy wrote:

> Dear R-help,
>
> I was able to build R-1.5.0 on WinNT w/o problem (actually it seems easier
> than previous version).  However, I encountered problem when trying to
> compile the recommended package foreign:
>
> make: Entering directory `/cygdrive/g/rbuild/R-1.5.0/src/gnuwin32'
> make DLLNM=  FLIBS="-lg2c -lRblas" BUILD=MINGW \
>   -C G:/Rbuild/R-1.5.0-recommended/R.INSTALL/foreign PKG=foreign
> RHOME=g:/rbuild
> /R-1.5.0 RLIB=g:/rbuild/R-1.5.0/library \
>   -f g:/rbuild/R-1.5.0/src/gnuwin32/MakePkg
> make[1]: Entering directory
> `/cygdrive/g/Rbuild/R-1.5.0-recommended/R.INSTALL/fo
> reign'
> ---------- Making package foreign ------------
> configure.win: not found
> make[1]: *** [g:/rbuild/R-1.5.0/library/foreign/zzzz] Error 127
> make[1]: Leaving directory
> `/cygdrive/g/Rbuild/R-1.5.0-recommended/R.INSTALL/for
> eign'
> make: *** [pkg-foreign] Error 2
> make: Leaving directory `/cygdrive/g/rbuild/R-1.5.0/src/gnuwin32'
> *** Installation of foreign failed ***
>
> Does anyone have any idea what's wrong?  configure.win is there, and all it
> does is copying two files in src from .h.in to .h.
>
> Cheers,
> Andy
>
>
> ------------------------------------------------------------------------------
> Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.
>
> ==============================================================================
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May  1 09:42:16 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 May 2002 09:42:16 +0200
Subject: [R] upgrading to 1.5.0/uninstalling 1.4.1 on Linux
In-Reply-To: <02043023355601.01158@ts46-01-qdr1297.knnwck.wa.charter.com>
References: <02043023355601.01158@ts46-01-qdr1297.knnwck.wa.charter.com>
Message-ID: <x21ycwl3fr.fsf@blueberry.kubism.ku.dk>

Rajiv Prasad <rajiv.prasad at charter.net> writes:

> Hi folks:
> 
> I have a feeling this must be a FAQ, but I did not find the answer in R 
> Installation and Administration manual.  Please point me to the right place 
> to look for answer to this question if it's already answered.
> 
> I am running 1.4.1 on an Alpha PCA56 (aka 164SX) running Redhat Linux 7.1 
> (kernel 2.4.19-pre4).  I built 1.4.1 from sources and it is installed in 
> /usr/local (the default).  I did compile and install some additional packages 
> for 1.4.1 besides the recommended ones.
> 
> I want to upgrade to 1.5.0 now (it is being built now).  Do I need to 
> uninstall 1.4.1 before I "make install" 1.5.0?  If yes, how exactly?

Most likely, very little harm would come from just installing on top
of the old version. It does have the advantage of keeping previously
installed packages in place, but also the risk that some of them may
be broken with the new version.

Removing your current /usr/local/lib/R is a sure kill, but you could
also

mv /usr/local/lib/R /usr/local/lib/R-1.4.1
mv /usr/local/bin/R /usr/local/bin/R-1.4.1

And -- this is the important bit -- edit the /usr/local/bin/R-1.4.1
shell script and set R_HOME_DIR to the new location. This leaves the
old version runnable as "R-1.4.1" until you see fit to remove it.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From seniorr at aracnet.com  Wed May  1 09:55:03 2002
From: seniorr at aracnet.com (Russell Senior)
Date: 01 May 2002 00:55:03 -0700
Subject: [R] "normal probability plot" with a percentile scale?
Message-ID: <86g01cti94.fsf@coulee.tdb.com>


I'd like to generate some plots like you'd see on the old "normal
probability graph paper", like the first plot in:

  <http://www.itl.nist.gov/div898/handbook/eda/section3/normprpl.htm>

except the horizontal scale would have 1%, 5%, 25%, 50%, 75%, 95%,
99%, or similar quantiles, with associated tick/grid lines.  [still
hunting around for a good example...] something like these, but with
the probability along the horizontal axis:

  <http://www.fw.umn.edu/biochr/assoc/dho/107/notes/minitab/NORMPROB.HTM>
  <http://www.survo.fi/gallery/002.html>
  <http://www.unistat.com/534.htm>
  <http://www.mathworks.com/access/helpdesk/help/toolbox/stats/normplot.shtml>

I dug around in the mailing list archives, but didn't find anything.

Thanks!

-- 
Russell Senior         ``The two chiefs turned to each other.        
seniorr at aracnet.com      Bellison uncorked a flood of horrible       
                         profanity, which, translated meant, `This is
                         extremely unusual.' ''                      
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May  1 10:11:46 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 May 2002 10:11:46 +0200
Subject: [R] "normal probability plot" with a percentile scale?
In-Reply-To: <86g01cti94.fsf@coulee.tdb.com>
References: <86g01cti94.fsf@coulee.tdb.com>
Message-ID: <x2sn5cjni5.fsf@blueberry.kubism.ku.dk>

Russell Senior <seniorr at aracnet.com> writes:

> I'd like to generate some plots like you'd see on the old "normal
> probability graph paper", like the first plot in:
> 
>   <http://www.itl.nist.gov/div898/handbook/eda/section3/normprpl.htm>
> 
> except the horizontal scale would have 1%, 5%, 25%, 50%, 75%, 95%,
> 99%, or similar quantiles, with associated tick/grid lines.  [still
> hunting around for a good example...] something like these, but with
> the probability along the horizontal axis:

This'll be close:

x <- rnorm(100)
pp <- c(.01, .05, .25, .50, .75, .95,.99)
qq <- qnorm(pp)
qqnorm(x,axes=F)
axis(2)
axis(1,at=qq,labels=pp)
box()

For smaller samples, you may need to throw in an xlim=range(qq)
argument. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ian.davies at uk.amershambiosciences.com  Wed May  1 11:47:07 2002
From: ian.davies at uk.amershambiosciences.com (Ian Davies)
Date: Wed, 1 May 2002 10:47:07 +0100
Subject: No subject
Message-ID: <OF51D2650E.41BD157C-ON80256BAC.0035BCF3@se.apbiotech.com>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Wed May  1 12:33:08 2002
From: siim at obs.ee (Ott Toomet)
Date: Wed, 1 May 2002 12:33:08 +0200 (CEST)
Subject: [R] upgrading to 1.5.0/uninstalling 1.4.1 on Linux
In-Reply-To: <02043023355601.01158@ts46-01-qdr1297.knnwck.wa.charter.com>
Message-ID: <Pine.LNX.4.44.0205011222120.1665-100000@localhost.localdomain>

On Tue, 30 Apr 2002, Rajiv Prasad wrote:

  |Hi folks:
  |I am running 1.4.1 on an Alpha PCA56 (aka 164SX) running Redhat Linux 7.1 
  |(kernel 2.4.19-pre4).  I built 1.4.1 from sources and it is installed in 
  |/usr/local (the default).  I did compile and install some additional packages 
  |for 1.4.1 besides the recommended ones.
  |
  |I want to upgrade to 1.5.0 now (it is being built now).  Do I need to 
  |uninstall 1.4.1 before I "make install" 1.5.0?  If yes, how exactly?

I am not a specialist with compiling on UNIX but I suggest to remove (or
rather rename the subdirectory for safety) the previous files before you
install the new ones.  Generally, it is not necessary, because (I think) the
old files will be overwritten, but in the case that there are not
corresponding new file, the old unnecessary file may still stay there and
take your disk space.  I do not think there is any automatic way to remove
the old files.  You have to find those yourself and remove them manually.

I have R 1.4.0 on RH 7.1 on I686 and I installed it using pre-compiled rpm. 
The R resides in

/usr/lib/R
/usr/share/doc/R-base-1.4.0

I think these directories can simply be removed.  In addition, there are
documentation files in shared directories

/usr/share/info
/usr/man/man1

here you should remove the files, associated with R1.4.1 only.  And be
careful, if you are removing directories as root!!!!

You might consider making an rpm from the sources first, and thereafter
install as rpm.  It is much more easy to remove.  But I have no experience
here.

Perhaps it helps.

Ott Toomet

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richard.nixon at mrc-bsu.cam.ac.uk  Wed May  1 13:40:39 2002
From: richard.nixon at mrc-bsu.cam.ac.uk (Richard Nixon)
Date: Wed, 1 May 2002 12:40:39 +0100 (BST)
Subject: [R] glm() function not finding the maximum
In-Reply-To: <15559.11830.233921.661918@minke.stat.ufl.edu>
Message-ID: <Pine.GSO.4.44.0205011237080.15258-100000@moeran>


For those of you who have been following my random ranting about the
glm(,family=gamma) function, for completeness here are my final
(hopefully!) remarks.

Thanks to Brett Presnell for explaining how the glm function estimates its
parameters.

The dispersion parameter in a gamma distribution is the same thing as
dispersion as defined by McCullagh and Nelder (Generalized linear models).
It is estimated by a moment estimator.

If one requires a maximum likelihood estimator, then one can use the
gamma.shape() function from the MASS library. shape=1/dispersion.

These two methods will generally yield similar results, but for highly
skewed data, like that given in my example, they can differ markedly.

Code showing this is included below.

Hope this is of some use to someone, and has iterated close enough to how
this function actually works.

Richard.


> gamma(data)

$loglik.mom
[1] 875.0035 #-2log likelihood using a moment estimator for shape

$loglik.mle
[1] 793.3913 #-2log likelihood using a mle estimator for shape

$par
[1]   0.09622557   0.51814501 415.99465517
#par[1] = moment estmator for shape
#par[2] = mle estimator for shape

data_c(51.47, 210.19, 49.55, 61.93, 60.61, 744.57, 338.59, 133.93,
191.57, 111.43, 432.83, 185.23, 155.61, 84.72, 120.2, 15.33,
77.05, 115.77, 25.23, 657.94, 108.39, 61.08, 142.42, 87.86, 272.87,
213.78, 65.23, 102.45, 58.16, 176.58, 76.58, 434.12, 362.35,
102.53, 103.6, 25.23, 97.19, 88.52, 118.55, 151.9, 2.7, 156.41,
21.79, 272.27, 23.16, 32.07, 6325.23, 92.37, 8340.04, 51.08,
55.59, 94.08, 69.98, 554.13, 104.88, 170.15, 945.1, 143.52)

#Fits data to a gamma distribution using glm()
gamma_function(data){
require(MASS, quietly=T)
model_glm(data~1, family=Gamma)
shape.mom_1/summary(model)$dispersion #this is a moment estimator
shape.mle_gamma.shape(m)$alpha        #this is a mle estimator
mu_mean(data)

dev.res.mom_-2*log(dgamma(data,shape=shape.mom,scale=mu/shape.mom))
loglik.mom_sum(dev.res.mom)  #actually -2 * log like
dev.res.mle_-2*log(dgamma(data,shape=shape.mle,scale=mu/shape.mle))
loglik.mle_sum(dev.res.mle)  #actually -2 * log like

list(loglik.mom=loglik.mom,loglik.mle=loglik.mle,par=c(shape.mom,shape.mle,mu))
}

--
Dr. Richard Nixon
MRC Biostatistics Unit, Institute of Public Health,
Robinson Way, Cambridge, CB2 2SR
http://www.mrc-bsu.cam.ac.uk/personal/richard
Tel: +44 (0)1223 330382, Fax: +44 (0)1223 330388

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From york at noaa.gov  Wed May  1 16:24:28 2002
From: york at noaa.gov (Anne York)
Date: Wed, 1 May 2002 07:24:28 -0700 (PDT)
Subject: [R] different data series on one graph
In-Reply-To: <1019853726.3cc9bb9ec082e@yuclnx4.yucom.be>
Message-ID: <Pine.GSO.4.05.10205010715230.27537-100000@ofis450a.akctr.noaa.gov>

Here is a function that can be easily modified for your purposes. 

Example of usage:

 x2 <- 0:12
 y1 <- x1^2
 y2 <- x2+3


plot.double(x1,y1,x2,y2,lty1=1,lty2=3,pch2=1,type1="b",type2="h")


"plot.double" <- function(x1, y1, x2, y2, type1 = "l",type2="l", xlim =
         NULL,   main = NULL, xlab = NULL,lty1=1,lty2=2,pch2=16,pch1=1, 
         ylab1 = "y1", ylab2 = "y2", ...)
{
# Written by AE York Sept. 1996 for Splus; converted to R Jan 2001 
# Plots y1 vs x1 and y2 vs x2 on the same plot types type1 and type2
# Labels for y1 are on the left and labels for y2 on the right
        oldpar <- par()
        par(mar = rep(6, 4))    #       
        if(missing(xlim))
        xlim <- range(pretty(range(c(x1, x2))))
        plot(x1, y1, lty = lty1, pch = pch1, type = type1, xlim = xlim,
             xlab = xlab, ylab = ylab1, ...)
        par(new = T)
        plot(x2, y2, lty = lty2, pch = pch2, type = type2, axes = F, xlim =
             xlim, xlab  = "", ylab = "")
        axis(side = 4)
        mtext(ylab2, side = 4, line = 2, outer = F)

        title(main=main)
        
        par(mar=oldpar$mar)

}

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Anne E. York
National Marine Mammal Laboratory
Seattle WA 98115-0070  USA
e-mail: anne.york at noaa.gov
Voice: +1 206-526-4039
Fax: +1 206-526-6615
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

On Fri, 26 Apr 2002 wouter.buytaert at yucom.be wrote:

>
>Hello,
>
>I'm looking for a way to plot different data series on one graph.
>I have a series of hourly rainfall and quarterly flow
>measurements (i.e. 4 times an hour) of a catchment. The rainfall
>should be plotted in bars, the flow as a line. Both on the same X
>axe (time) but with different Y axes.
>
>The problem is the plot() function does not support add=TRUE...
>
>Furthermore I'm not sure what's the best format for input data.
>Now it are two data frames with a time (POSIXct) and a
>rainfall/flow part. Maybe time series are easier, but in 
>
>ts(data = NA, start = X,...
>
>X should be a number or a vector. how does this coresponds to a
>data and hour (e.g. april 26,2002, 15:00:00)?
>
>Thanks,
>
>Wouter Buytaert
>Institute for Land and Water Management
>Katholieke Universiteit Leuven
>
>---------------------------------------------------------------
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jyan at stat.wisc.edu  Wed May  1 16:51:14 2002
From: jyan at stat.wisc.edu (Jun Yan)
Date: Wed, 1 May 2002 09:51:14 -0500 (CDT)
Subject: [R] bivariate normal cdf and rho
Message-ID: <Pine.LNX.4.21.0205010941210.26600-100000@gstat205.stat.wisc.edu>

Suppose F(x, y; rho) is the cdf of a bivariate normal distribution, with
standardized marginals and correlation parameter rho. For any fixed x and
y, I wonder if F(x, y; rho) is a monotone increasing function of rho,
i.e., there is a 1 to 1 map from rho to F(x, y; rho).

I explored it using the function pmvnorm in package mvtnorm with
different x and y. The plot suggests the statement may be true. But I can
not prove it analytically after a few days thinking.

I would appreciate if people on the list can point me to the 
references. 

Jun

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed May  1 17:39:26 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 1 May 2002 08:39:26 -0700 (PDT)
Subject: [R] bivariate normal cdf and rho
In-Reply-To: <Pine.LNX.4.21.0205010941210.26600-100000@gstat205.stat.wisc.edu>
Message-ID: <Pine.A41.4.44.0205010831110.21152-100000@homer28.u.washington.edu>

On Wed, 1 May 2002, Jun Yan wrote:

> Suppose F(x, y; rho) is the cdf of a bivariate normal distribution, with
> standardized marginals and correlation parameter rho. For any fixed x and
> y, I wonder if F(x, y; rho) is a monotone increasing function of rho,
> i.e., there is a 1 to 1 map from rho to F(x, y; rho).
>

It is true.  You want references to the tetrachoric correlation.  The
tetrachoric correlation is the estimate of rho based on F(x,y), and it
wouldn't be any use if it weren't 1-1. I don't have any specific
references. I tried Kendall & Stuart, but it doesn't give details.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dstierman at micron.com  Wed May  1 17:48:26 2002
From: dstierman at micron.com (dstierman)
Date: Wed, 1 May 2002 09:48:26 -0600 
Subject: [R] RPart help
Message-ID: <CFEFA50C9BCAD21197470001FA7EBA6B0DECF198@ntexchange05.micron.com>

I am using the rpart package and would like to know if there is a way to set
a minimum limit on how many rows there can be in a single factor to be
considered. I am getting results back on columns that have several factors,
but each factor will only have 2 or 3 rows. So it meets the minbucket and
minsplit criteria when they get grouped together. See below for an example
(leaf 6 has 12 rows, 6 factors so each one has an average of 2 actual data
points). I would like to set the cutoff above 2 to avoid this.
Thanks, Don

n=57 (200 observations deleted due to missing)

node), split, n, deviance, yval
      * denotes terminal node

1) root 57 122.910600 1.5271950  
  2) X.1.A=A53 ,A59 ,A61 ,A63 ,A64  31  50.516670 0.9799769  
    4) X.2.A=A53 ,A58 ,A59 ,A60 ,A64 ,A72  16   5.221407 0.1872424 *
    5) X.2.A=A56 ,A57 ,A61 ,A62 ,A63  15  24.515240 1.8255600 *
  3) X.1.A=A56 ,A57 ,A58 ,A60 ,A62 ,A72  26  52.043030 2.1796470  
    6) X.S..A=A54 ,A57 ,A58 ,A59 ,A61 ,A62  12   9.819111 0.9266623 *
    7) X.S..A=A53 ,A56 ,A60 ,A63 ,A64  14   7.236000 3.2536340 *	
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Matthias.Fischer at wiso.uni-erlangen.de  Wed May  1 17:49:28 2002
From: Matthias.Fischer at wiso.uni-erlangen.de (Matthias Fischer)
Date: Wed, 1 May 2002 17:49:28 +0200
Subject: [R] polynom division
Message-ID: <3CD02AA8.9185.107DED8@localhost>

Dear R-users,

is there any package that allows for a division of two polynomials?

Regards,

M. Fischer



Dr. Matthias Fischer
Friedrich-Alexander-Universit?t Erlangen-N?rnberg
Lehrstuhl f?r Statistik und ?konometrie
Lange Gasse 20
90403 N?rnberg
Telefon: 0911 / 5302-271
Telefax: 0911 / 5302-277
E-Mail: Matthias.Fischer at wiso.uni-erlangen.de
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May  1 18:03:57 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 1 May 2002 17:03:57 +0100 (BST)
Subject: [R] polynom division
In-Reply-To: <3CD02AA8.9185.107DED8@localhost>
Message-ID: <Pine.LNX.4.31.0205011703390.11623-100000@gannet.stats>

Have you checked out polynom?  On CRAN.


On Wed, 1 May 2002, Matthias Fischer wrote:

> Dear R-users,
>
> is there any package that allows for a division of two polynomials?
>
> Regards,
>
> M. Fischer
>
>
>
> Dr. Matthias Fischer
> Friedrich-Alexander-Universität Erlangen-Nürnberg
> Lehrstuhl für Statistik und Ökonometrie
> Lange Gasse 20
> 90403 Nürnberg
> Telefon: 0911 / 5302-271
> Telefax: 0911 / 5302-277
> E-Mail: Matthias.Fischer at wiso.uni-erlangen.de
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Wed May  1 18:36:15 2002
From: macq at llnl.gov (Don MacQueen)
Date: Wed, 1 May 2002 09:36:15 -0700
Subject: [R] julian() in base depends on chron
Message-ID: <p05111702b8f5c950e888@[128.115.153.6]>

It appears that julian() is in R-base, but julian.default() is in the 
chron package.


>  search()
[1] ".GlobalEnv"    "package:ctest" "Autoloads"     "package:base"
>  julian(1:3,4:6,1991:1993)
Error in julian(1:3, 4:6, 1991:1993) : no applicable method for "julian"
>  find('julian')
[1] "package:base"
>  library(chron)
>  julian(1:3,4:6,1991:1993)
[1] 7673 8070 8465
>  find('julian')
[1] "package:base"

>  search()
[1] ".GlobalEnv"    "package:chron" "package:ctest" "Autoloads" 
"package:base"
>  ls(5)[grep('julian',ls(5))]
[1] "julian"        "julian.POSIXt"
>  ls(2)[grep('julian',ls(2))]
[1] "julian.default" "julian2mine"    "mine2julian"

>  version
          _
platform sparc-sun-solaris2.7
arch     sparc
os       solaris2.7
system   sparc, solaris2.7
status
major    1
minor    5.0
year     2002
month    04
day      29
language R

-Don
-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dstierman at micron.com  Wed May  1 18:39:57 2002
From: dstierman at micron.com (dstierman)
Date: Wed, 1 May 2002 10:39:57 -0600 
Subject: [R] display env variable
Message-ID: <CFEFA50C9BCAD21197470001FA7EBA6B0DECF199@ntexchange05.micron.com>

I had the same problem with trying to run R from a cgi script on the web.
The only way I got it to work was to set the DISPLAY variable to the server
itself. That way the cgi script had permission to do that because it was
using the server web user account on the server. So I added the following to
the cgi script:
setenv DISPLAY servername:0
This also works for crontab jobs that don't have a display set.
Don

-----Original Message-----
> From: Simon Cawley [mailto:simon_cawley at affymetrix.com]
> Sent: Tuesday, April 30, 2002 1:51 PM
> To: r-help at stat.math.ethz.ch
> Subject: [R] generating graphical output when DISPLAY is not set?
>
>
>
> Is it possible to generate graphical output (to a file) when the
> DISPLAY environment variable is not set?  Here's the problem:
>
>   $ unset DISPLAY
>   $ R
>   > png("foo.png")
>   Error in X11(paste("png::", filename, sep = ""), width, height,
pointsize,  :
>           unable to start device PNG
>   In addition: Warning message:
>   unable to open connection to X11 display`'
>
> I want to have a process running on a server call R to generate graphical
> output, and the problem is that I'm not guaranteed to have a valid
> DISPLAY set.  I have some clumsy workarounds, but it would be cleaner if
> if I had some way to have R not require the DISPLAY.
>
> Thanks,
>
> -Simon

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Wed May  1 19:21:52 2002
From: aolinto at bignet.com.br (Antonio Olinto)
Date: Wed, 1 May 2002 14:21:52 -0300
Subject: [R] coefficient of determination on a nls regression
References: <Pine.LNX.4.31.0204221430180.30610-100000@gannet.stats>
Message-ID: <003e01c1f135$10d8f820$4846000a@batata>

Hello R-users,

How can I caculate the coefficient of determination (r-squared, r2) from a
nls regression model?

r2 = regression SS / total SS

The regression SS is given by deviance(model), isn't it? And what about
total SSQ?

Thanks,

Antonio Olinto
S?o Paulo Fisheries Institute
Brasil
www.institutopesca.sp.gov.br



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May  1 19:20:52 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 1 May 2002 18:20:52 +0100 (BST)
Subject: [R] julian() in base depends on chron
In-Reply-To: <p05111702b8f5c950e888@[128.115.153.6]>
Message-ID: <Pine.LNX.4.31.0205011819020.31101-100000@gannet.stats>

On Wed, 1 May 2002, Don MacQueen wrote:

> It appears that julian() is in R-base, but julian.default() is in the
> chron package.

Yes.  As far as R is concerned there is no default method for julian(),
so it does not really depend on chron.

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed May  1 19:25:35 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 01 May 2002 19:25:35 +0200
Subject: [R] compiling R-1.5.0, package methods, on Solaris 5.7
Message-ID: <3CD0250F.6B644D76@statistik.uni-dortmund.de>

Compiling package methods, R-1.5.0, on Solaris 5.7 failed (output below)
for me with
- gcc-2.95.3, perl-5.005_03
 and also
- gcc-3.0.4, perl-5.6.1

Any ideas a) what the problem is or even better b) how to solve it?

Uwe Ligges

===================================

[...]

building package 'methods'
../../../library/methods/man/methods.Rd is unchanged
making do_substitute_direct.d from do_substitute_direct.c

[...]

gcc -I../../../../include  -I/usr/local/include   -fPIC  -g -O2 -c
slot.c -o slo
t.o
gcc -G  -o methods.so do_substitute_direct.o methods_list_dispatch.o 
method_met
a_data.o slot.o
dumping R code in package 'methods'
initializing class and method definitions now ...Error in
.Call("R_missingArg",
if (eval) symbol else substitute(symbol),  :
        .Call function name not in load table
Execution halted
*** Error code 1
make: Fatal error: Command failed for target
`../../../library/methods/R/all.rda'

[...]
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed May  1 19:32:52 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 01 May 2002 13:32:52 -0400
Subject: [R] R-1.5.0: compiling package foreign on WinNT failed
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC289@usrymx10.merck.com>

Thanks very much to Prof. Ripley and Tom Stockton.  Yes, adding `.' to PATH
solved the problem.  It is mentioned in INSTALL in *two* places.  Apologies
for not reading it carefully.

In addition, Prof. Ripley suggests:
========================
Replacing in MakePkg

sh -c configure.win

by

sh ${SPKG}/configure.win

seems to work even if . is not in the path.
========================

Thanks again,
Andy

> -----Original Message-----
> From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
> Sent: Wednesday, May 01, 2002 3:12 AM
> To: Liaw, Andy
> Cc: 'R-help at stat.math.ethz.ch'
> Subject: Re: [R] R-1.5.0: compiling package foreign on WinNT failed
> 
> 
> My best guess is that you don't have `.' in your path.  That is a new
> instruction for 1.5.0 (see the INSTALL file).
> 
> People building this themselves need to be aware that lots of packages
> need to be rebuilt for rw1050. I will not update CRAN contrib area
> until binaries are released: until then see the rw1050 directory. Even
> then, update.packages() will not pull rebuilt versions, only updated
> packages.
> 
> On Tue, 30 Apr 2002, Liaw, Andy wrote:
> 
> > Dear R-help,
> >
> > I was able to build R-1.5.0 on WinNT w/o problem (actually 
> it seems easier
> > than previous version).  However, I encountered problem 
> when trying to
> > compile the recommended package foreign:
> >
> > make: Entering directory `/cygdrive/g/rbuild/R-1.5.0/src/gnuwin32'
> > make DLLNM=  FLIBS="-lg2c -lRblas" BUILD=MINGW \
> >   -C G:/Rbuild/R-1.5.0-recommended/R.INSTALL/foreign PKG=foreign
> > RHOME=g:/rbuild
> > /R-1.5.0 RLIB=g:/rbuild/R-1.5.0/library \
> >   -f g:/rbuild/R-1.5.0/src/gnuwin32/MakePkg
> > make[1]: Entering directory
> > `/cygdrive/g/Rbuild/R-1.5.0-recommended/R.INSTALL/fo
> > reign'
> > ---------- Making package foreign ------------
> > configure.win: not found
> > make[1]: *** [g:/rbuild/R-1.5.0/library/foreign/zzzz] Error 127
> > make[1]: Leaving directory
> > `/cygdrive/g/Rbuild/R-1.5.0-recommended/R.INSTALL/for
> > eign'
> > make: *** [pkg-foreign] Error 2
> > make: Leaving directory `/cygdrive/g/rbuild/R-1.5.0/src/gnuwin32'
> > *** Installation of foreign failed ***
> >
> > Does anyone have any idea what's wrong?  configure.win is 
> there, and all it
> > does is copying two files in src from .h.in to .h.
> >
> > Cheers,
> > Andy
> >
> >
> > 
> --------------------------------------------------------------
> ----------------
> > Notice: This e-mail message, together with any attachments, 
> contains information of Merck & Co., Inc. (Whitehouse 
> Station, New Jersey, USA) that may be confidential, 
> proprietary copyrighted and/or legally privileged, and is 
> intended solely for the use of the individual or entity named 
> on this message.  If you are not the intended recipient, and 
> have received this message in error, please immediately 
> return this by e-mail and then delete it.
> >
> > 
> ==============================================================
> ================
> >
> > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> > 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brian.o'gorman at noaa.gov  Wed May  1 20:40:12 2002
From: brian.o'gorman at noaa.gov (Brian O'Gorman)
Date: Wed, 01 May 2002 10:40:12 -0800
Subject: [R] make check
Message-ID: <3CD0368C.E7496AC8@noaa.gov>

I am able  to install R-1.5.0 on a Solaris 8 machine (configure, make,
make install) but get the following messages when I attempt  make check.

Anyone know what's wrong.  Thanks in advance.

make check
-n running code in 'base-Ex.R' ...
*** Error code 1
make: Fatal error: Command failed for target `base-Ex.Rout'
Current working directory /apps/R/R-1.5.0/tests/Examples
*** Error code 1
make: Fatal error: Command failed for target `test-Examples'
Current working directory /apps/R/R-1.5.0/tests/Examples
*** Error code 1
make: Fatal error: Command failed for target `test-Examples'
Current working directory /apps/R/R-1.5.0/tests
*** Error code 1
make: Fatal error: Command failed for target `test-all-basics'
Current working directory /apps/R/R-1.5.0/tests
*** Error code 1
make: Fatal error: Command failed for target `check'

-------------- next part --------------
A non-text attachment was scrubbed...
Name: brian.o'gorman.vcf
Type: text/x-vcard
Size: 211 bytes
Desc: Card for Brian O'Gorman
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020501/3b17dfa0/brian.ogorman.vcf

From apjaworski at mmm.com  Wed May  1 20:52:07 2002
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Wed, 1 May 2002 13:52:07 -0500
Subject: [R] coefficient of determination on a nls regression
Message-ID: <OF8807ADF6.BFD484B8-ON86256BAC.0066D1C9@mmm.com>


Antonio,

For linear regression we have the following identity

     total SS = regression SS + residual SS        (*)

where total SS is the sum of squares of observations around their mean,
i.e.

     total SS = (n-1)*var(y)

and residual SS is given by the deviance function.

R-squared is defined as

     R^2 = regression SS/ total SS = 1 - residual SS/total SS.

You can use this last formula to define a similar quantity for nonlinear
regression.  You have to remember that R^2 does not have its usual meaning
for NLS.  In fact, the basic identity (*) does not hold and the residuals
do not add up to zero.

Hope this helps,

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122


                                                                                                                                               
                    "Antonio                                                                                                                   
                    Olinto"              To:     "R-help" <r-help at stat.math.ethz.ch>                                                           
                    <aolinto at bignet      cc:     (bcc: Andrzej P. Jaworski/US-Corporate/3M/US)                                                 
                    .com.br>             Subject:     [R] coefficient of determination on a nls regression                                     
                                                                                                                                               
                    05/01/2002                                                                                                                 
                    12:21                                                                                                                      
                                                                                                                                               
                                                                                                                                               





Hello R-users,

How can I caculate the coefficient of determination (r-squared, r2) from a
nls regression model?

r2 = regression SS / total SS

The regression SS is given by deviance(model), isn't it? And what about
total SSQ?

Thanks,

Antonio Olinto
S?o Paulo Fisheries Institute
Brasil
www.institutopesca.sp.gov.br



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Wed May  1 21:20:13 2002
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 01 May 2002 15:20:13 -0400
Subject: [R] bivariate normal cdf and rho
In-Reply-To: <Pine.A41.4.44.0205010831110.21152-100000@homer28.u.washing
 ton.edu>
References: <Pine.LNX.4.21.0205010941210.26600-100000@gstat205.stat.wisc.edu>
Message-ID: <5.1.0.14.2.20020501151822.01d5d790@mcmail.cis.mcmaster.ca>

Dear Thomas and Jun Yan,

The Encyclopedia of Statistical Sciences (Kotz and Johnson, eds.) has an 
article on tetrachoric correlation, including many references.

John

At 08:39 AM 5/1/2002 -0700, Thomas Lumley wrote:
>On Wed, 1 May 2002, Jun Yan wrote:
>
> > Suppose F(x, y; rho) is the cdf of a bivariate normal distribution, with
> > standardized marginals and correlation parameter rho. For any fixed x and
> > y, I wonder if F(x, y; rho) is a monotone increasing function of rho,
> > i.e., there is a 1 to 1 map from rho to F(x, y; rho).
> >
>
>It is true.  You want references to the tetrachoric correlation.  The
>tetrachoric correlation is the estimate of rho based on F(x,y), and it
>wouldn't be any use if it weren't 1-1. I don't have any specific
>references. I tried Kendall & Stuart, but it doesn't give details.

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Wed May  1 21:53:21 2002
From: macq at llnl.gov (Don MacQueen)
Date: Wed, 1 May 2002 12:53:21 -0700
Subject: [R] Non-alignment of <NA> from print.data.frame()
Message-ID: <p05111705b8f5f7009d99@[128.115.153.6]>

The use of <NA> to indicate "missing" when printing in a non-quoted 
context seems like a good idea to me. But it appears to have a 
side-effect:

>  foo <- data.frame(x=1:5,ch=c('a','b',NA,'c','d'),gr=rep('ab',5))
>  foo
   x   ch gr
1 1    a ab
2 2    b ab
3 3   <NA> ab
4 4    c ab
5 5    d ab
>  version
          _
platform sparc-sun-solaris2.7
arch     sparc
os       solaris2.7
system   sparc, solaris2.7
status
major    1
minor    5.0
year     2002
month    04
day      29
language R


>  print.data.frame(foo,quote=T)
     x  ch   gr
1 "1" "a" "ab"
2 "2" "b" "ab"
3 "3"  NA "ab"
4 "4" "c" "ab"
5 "5" "d" "ab"

>  print.data.frame(foo,right=T)
   x   ch gr
1 1    a ab
2 2    b ab
3 3   <NA> ab
4 4    c ab
5 5    d ab

>  print.data.frame(foo,right=F)
   x ch   gr
1 1 a    ab
2 2 b    ab
3 3 <NA> ab
4 4 c    ab
5 5 d    ab

-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pols1oh at bestweb.net  Wed May  1 23:24:34 2002
From: pols1oh at bestweb.net (Michaell Taylor)
Date: Wed, 1 May 2002 17:24:34 -0400
Subject: [R] predict assistance
Message-ID: <200205011724.34680.pols1oh@bestweb.net>



I have a question regarding application of model coefficients between 
datasets.  In particular, I have several datasets which I would like to apply 
a model estimated from only a single dataset (sort of a crude - out of sample 
application - to show the variances).

lets say,
names(a)
[1] "stdnoi"   "momentum" "tbm3"     "metcons"  "premium"  "STDrfa"   "t10" 
"Y"
attach(a)
mymodel <- lm(Y ~ stdnoi+momentum+tbm3+metcons+premium+ STDrfa +   t10)
detach(a)
load('b')
names(b)
[1] "stdnoi"   "momentum" "tbm3"     "metcons"  "premium"  "STDrfa"   "t10" 
"Y"
attach(b)
b$hat <- predict(mymodel)

The question really is, is b$hat properly defined in terms of (a)coefficients 
* (b)variables?

I have attempted this, and was surprised to see b$hat of the appropriate 
length for the a dataset - but not the b (which is much larger)

Obviously I could save out the coefficients, but there are actually several 
such models and datasets.  Besides, I am generally curious if model objects 
can be used in such a manner.


=========================================
Michaell Taylor, PhD

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu May  2 00:21:25 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 May 2002 00:21:25 +0200
Subject: [R] predict assistance
In-Reply-To: <200205011724.34680.pols1oh@bestweb.net>
References: <200205011724.34680.pols1oh@bestweb.net>
Message-ID: <x2u1pr33x6.fsf@blueberry.kubism.ku.dk>

Michaell Taylor <pols1oh at bestweb.net> writes:

> I have a question regarding application of model coefficients between 
> datasets.  In particular, I have several datasets which I would like to apply 
> a model estimated from only a single dataset (sort of a crude - out of sample 
> application - to show the variances).
> 
> lets say,
> names(a)
> [1] "stdnoi"   "momentum" "tbm3"     "metcons"  "premium"  "STDrfa"   "t10" 
> "Y"
> attach(a)
> mymodel <- lm(Y ~ stdnoi+momentum+tbm3+metcons+premium+ STDrfa +   t10)
> detach(a)
> load('b')
> names(b)
> [1] "stdnoi"   "momentum" "tbm3"     "metcons"  "premium"  "STDrfa"   "t10" 
> "Y"
> attach(b)
> b$hat <- predict(mymodel)
> 
> The question really is, is b$hat properly defined in terms of (a)coefficients 
> * (b)variables?
> 
> I have attempted this, and was surprised to see b$hat of the appropriate 
> length for the a dataset - but not the b (which is much larger)
> 
> Obviously I could save out the coefficients, but there are actually several 
> such models and datasets.  Besides, I am generally curious if model objects 
> can be used in such a manner.

A fitted model embodies the data on which it was fitted, so
predict(mymodel) gives you the fitted values on your a data frame
whether you detach it or not. To predict on a new data frame use the
`newdata' argument, as in predict(myplot, newdata=b). 

You can use help(predict.lm) to learn about this and more.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joshi at engr.orst.edu  Thu May  2 02:11:33 2002
From: joshi at engr.orst.edu (Saket Joshi)
Date: Wed, 1 May 2002 17:11:33 -0700 (PDT)
Subject: [R] Reading from files
In-Reply-To: <200205011724.34680.pols1oh@bestweb.net>
Message-ID: <Pine.GSO.4.31.0205011706280.21672-100000@flop.ENGR.ORST.EDU>

Hi,

I am a novice to R and have a question here. Is it possible to read a
single line from a file into a vector or list etc? If so, is it possible
to read comma separated values?
Eg:
1000,x,y,z
1001,s,d,f

How do I read the first line only i.e. 1000,x,y,z from the file and that
too so that I get separate storage for 1000, x, y and z?

Thanks in advance.
Saket.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From B.Mao at cerep.com  Thu May  2 03:00:49 2002
From: B.Mao at cerep.com (Boryeu Mao)
Date: Wed, 1 May 2002 18:00:49 -0700 
Subject: [R] how to trap any warnings from an R function -- again :(
Message-ID: <0957E70F25F7D111974B00A0C9833064AF88CD@mayo.cerep.com>

With the incorporation of the useful hints, my user function now looks like
this:

userfn <- function() {
  ...
ow <- options("warn")
options(warn = 2);
  ...
reg<-try(polr(act~.,data=mm,Hess=TRUE))
  ...
sumreg<-try(summary(reg))
print(length(sumreg))
print(sumreg)
  ...
options(ow) # reset

}

The routine userfn() is called multiple times, two of which I happen to know
to have warnings about NaNs being produced.  However, only once was the
condition caught, with the following output from the print statements:

[1] 1
[1] "Error in sqrt(diag(vc)) : (converted from warning) NaNs produced\n"
attr(,"class")
[1] "try-error"

The other time (the second time in fact), the length of sumreg was 16 (that
for a normal summary), and the printed sumreg actually shows NaN's in the
coefficients, without any printed error message as that in the 1st instance.
Where do I look to see why any error should escape?


-----Original Message-----
From: Prof Brian D Ripley [mailto:ripley at stats.ox.ac.uk]
Sent: Tuesday, April 30, 2002 10:00 AM
To: Boryeu Mao
Cc: 'Jason Turner'; r-help at stat.math.ethz.ch
Subject: RE: [R] how to trap any warnings from an R function


On Tue, 30 Apr 2002, Boryeu Mao wrote:

> Thanks for the reply.  The problem that I have in a nutshell is the
> following:
>
> usertest <- function {
>  ...
>  reg<-polr(act~., data=mm)
>  summary(reg)
>  return(reg$AIC)
>  }
>
> For some data, NaN's are produced (in sqrt(diag(vc))), and I'd like to
trap
> this condition and any other warnings, so that a negative value, say, can
be
> returned to the calling function to indicate the warning condition.
> Warnings from
> summary() are produced and placed in 'last.warning' but that is accessible
> only at the top-level, not within usertest(); I've tried setting 'warn' in
> options() but hadn't found a way to do this.  I'm still searching various
> docs for any ideas, and it seems to be something that might be quite
> straightforward.  Any points/ideas are appreciated.   Thanks!

To exmpand Jason's suggestion:

options(warn=2)
try(summary(reg))

should do this.  But of course you can test the condition directly, as
it will be in the object returned by summary(reg) (which in your code
sample does nothing useful, as it will not be auto-printed).


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu May  2 04:22:28 2002
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 01 May 2002 22:22:28 -0400
Subject: [R] problem with lme in nlme package
Message-ID: <5.1.0.14.2.20020501221836.01d5db20@mcmail.cis.mcmaster.ca>

Dear R list members,

I've turned up a strange discrepancy between results obtained from the lme 
function in the nlme package in R and results obtained with lme in S-PLUS. 
I'm using version 3.1-24 of nlme in R 1.4.1 under Windows 2000, and both 
S-PLUS 2000 and 6.0, again under Windows 2000.

I've noticed discrepancies in a couple of instances. Here's one, using data 
from Bryk and Raudenbush's Hierarchical Linear models:

 From R:

     > attach(Bryk)
     > cses <- meanses <- numeric(length(ses))  # initialize
     > for (sc in unique(school)) {
     +     meanses[school==sc] <- mean(ses[school==sc])
     +     cses[school==sc]<-ses[school==sc]- meanses[school==sc]
     +     }
     > Bryk$cses <- cses
     > Bryk$meanses <- meanses
     > Bryk[1:10,]
        school    ses mathach sector      cses  meanses
     1    1224  0.022   4.583 public  0.456383 -0.43438
     2    1224  0.332  20.349 public  0.766383 -0.43438
     3    1224  0.372   6.714 public  0.806383 -0.43438
     4    1224 -0.078  16.405 public  0.356383 -0.43438
     5    1224 -0.158  17.898 public  0.276383 -0.43438
     6    1224 -0.298  19.338 public  0.136383 -0.43438
     7    1224 -0.458  21.521 public -0.023617 -0.43438
     8    1224 -0.468   3.154 public -0.033617 -0.43438
     9    1224 -0.468  21.178 public -0.033617 -0.43438
     10   1224 -0.528  20.349 public -0.093617 -0.43438
     > remove(cses, meanses)
     > Bryk$sector <- factor(Bryk$sector, levels=c('public', 'Catholic'))
     > contrasts(Bryk$sector)
             Catholic
     public          0
     Catholic        1
     >
     > bryk.lme.1<-lme(mathach ~ meanses*cses + sector*cses,
     +     random = ~ cses | school,
     +     data=Bryk)
     > summary(bryk.lme.1)
     Linear mixed-effects model fit by REML
     Data: Bryk
         AIC   BIC logLik
     46525 46594 -23252

     Random effects:
     Formula: ~cses | school
     Structure: General positive-definite, Log-Cholesky parametrization
                 StdDev   Corr
     (Intercept) 1.541177 (Intr)
     cses        0.018174 0.006
     Residual    6.063492

     Fixed effects: mathach ~ meanses * cses + sector * cses
                           Value Std.Error   DF t-value p-value
     (Intercept)         12.1282   0.19920 7022  60.886  <.0001
     meanses              5.3367   0.36898  157  14.463  <.0001
     cses                 2.9421   0.15122 7022  19.456  <.0001
     sectorCatholic       1.2245   0.30611  157   4.000   1e-04
     meanses:cses         1.0444   0.29107 7022   3.588   3e-04
     cses:sectorCatholic -1.6421   0.23312 7022  -7.044  <.0001
     Correlation:
                         (Intr) meanss cses   sctrCt mnss:c
     meanses              0.256
     cses                 0.000  0.000
     sectorCatholic      -0.699 -0.356  0.000
     meanses:cses         0.000  0.000  0.295  0.000
     cses:sectorCatholic  0.000  0.000 -0.696  0.000 -0.351

     Standardized Within-Group Residuals:
         Min        Q1       Med        Q3       Max
     -3.170106 -0.724877  0.014892  0.754263  2.965498

     Number of Observations: 7185
     Number of Groups: 160
     >

 From S-PLUS 6.0 (identical results from S-PLUS 2000):

     > attach(Bryk)
     > cses <- meanses <- numeric(length(ses))  # initialize
     > for (sc in unique(school)) {
     +     meanses[school==sc] <- mean(ses[school==sc])
     +     cses[school==sc]<-ses[school==sc]- meanses[school==sc]
     +     }
     > Bryk$cses <- cses
     > Bryk$meanses <- meanses
     > Bryk[1:10,]
       school    ses mathach sector      cses  meanses
     1   1224  0.022   4.583 public  0.456383 -0.43438
     2   1224  0.332  20.349 public  0.766383 -0.43438
     3   1224  0.372   6.714 public  0.806383 -0.43438
     4   1224 -0.078  16.405 public  0.356383 -0.43438
     5   1224 -0.158  17.898 public  0.276383 -0.43438
     6   1224 -0.298  19.338 public  0.136383 -0.43438
     7   1224 -0.458  21.521 public -0.023617 -0.43438
     8   1224 -0.468   3.154 public -0.033617 -0.43438
     9   1224 -0.468  21.178 public -0.033617 -0.43438
     10   1224 -0.528  20.349 public -0.093617 -0.43438
     > remove(c('cses', 'meanses'))
     > options(contrasts=c('contr.treatment', 'contr.poly'))
     >
     > Bryk$sector <- factor(Bryk$sector, levels=c('public', 'Catholic'))
     > contrasts(Bryk$sector)
             Catholic
     public        0
     Catholic      1
     >
     > bryk.lme.1<-lme(mathach ~ meanses*cses + sector*cses,
     +     random = ~ cses | school,
     +     data=Bryk)
     > summary(bryk.lme.1)
     Linear mixed-effects model fit by REML
     Data: Bryk
         AIC   BIC logLik
     46524 46592 -23252

     Random effects:
     Formula:  ~ cses | school
     Structure: General positive-definite
                 StdDev   Corr
     (Intercept) 1.54278 (Inter
         cses 0.32004 0.395
     Residual 6.05976

     Fixed effects: mathach ~ meanses * cses + sector * cses
                   Value Std.Error   DF t-value p-value
     (Intercept)  12.128   0.19931 7022  60.851  <.0001
         meanses   5.333   0.36920  157  14.444  <.0001
            cses   2.945   0.15565 7022  18.921  <.0001
          sector   1.227   0.30630  157   4.005  0.0001
     meanses:cses  1.039   0.29899 7022   3.476  0.0005
     sector:cses  -1.643   0.23986 7022  -6.849  <.0001
     Correlation:
                 (Intr) meanss   cses sector mnss:c
          meanses  0.256
             cses  0.076  0.020
           sector -0.699 -0.356 -0.053
     meanses:cses  0.019  0.076  0.293 -0.027
      sector:cses -0.053 -0.028 -0.696  0.078 -0.351

     Standardized Within-Group Residuals:
         Min       Q1     Med      Q3    Max
     -3.1591 -0.72314 0.01723 0.75461 2.9581

     Number of Observations: 7185
     Number of Groups: 160

Notice that the results are very close, except for the standard deviation 
of the random cses effect and the correlation between the random effects 
for cses and the intercept. Published results and SAS PROC MIXED agree with 
the S-PLUS output.

I don't think that I've done anything wrong in setting up the problem in R. 
In any event, any suggestions would be greatly appreciated. I could make 
the data available, if that would help.

Thanks,
  John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MSchwartz at medanalytics.com  Thu May  2 04:51:23 2002
From: MSchwartz at medanalytics.com (Marc Schwartz)
Date: Wed, 1 May 2002 21:51:23 -0500
Subject: [R] Reading from files
In-Reply-To: <Pine.GSO.4.31.0205011706280.21672-100000@flop.ENGR.ORST.EDU>
Message-ID: <000e01c1f184$3f76c550$0201a8c0@MARC>

> Hi,
> 
> I am a novice to R and have a question here. Is it possible to read a
> single line from a file into a vector or list etc? If so, is it
possible
> to read comma separated values?
> Eg:
> 1000,x,y,z
> 1001,s,d,f
> 
> How do I read the first line only i.e. 1000,x,y,z from the file and
that
> too so that I get separate storage for 1000, x, y and z?
> 
> Thanks in advance.
> Saket.

Review the "nrows" option for the read.csv function (?read.csv).  It
lets you specify how many rows to read from a delimited file.  In the
help file the option is listed for read.table, but it applies to
read.csv as well. The differences between the variations of read.* are
the default values.

For read.csv, the default value for nrows is -1, which reads in all
rows. The default delimiter for read.csv is ",". Also, the default value
for the "header" option is TRUE, which indicates that the first row in
your file contains column names. If your data is structured as you
define above, set header = FALSE.

Thus, to read in the first line only, add in "nrows = 1" to the
arguments, such that the command would be:

> V <- read.csv(FileName, nrows = 1, header = FALSE, ....)

Note that the option "skip = x" lets you tell the function to skip a
certain number of rows before starting the read. 

The combination of skip and nrows let's you read in a specific subset of
rows from a larger file.  For example to read in rows 6 through 10, you
would use:

> V <- read.csv(FileName, skip = 5, nrows = 5, header = FALSE, ...)

Hope that helps.

Marc Schwartz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rajiv.prasad at charter.net  Thu May  2 08:01:45 2002
From: rajiv.prasad at charter.net (Rajiv Prasad)
Date: Wed, 1 May 2002 23:01:45 -0700
Subject: [R] upgrading to 1.5.0/uninstalling 1.4.1 on Linux
Message-ID: <02050123014500.01179@ts46-01-qdr1297.knnwck.wa.charter.com>


Thanks to Peter Dalgaard and Ott Toomet for answering my question.  I'd stick 
with renaming the 1.4.1 R directories and files to have the old version run 
for a while until I clean out any of my potentially broken R programs/scripts.

By the way, it does seem that building an RPM would be better for 
uninstalling.  I have a couple of questions in this regard.  (This is getting 
a bit off-topic, so please reply off the list.)

1. I'd like to get pointers as how to set up my own RPM build from R sources 
(1.5.0 for now, later versions in future).
2. How would I handle installation/uninstallation of contributed packages?  
Is it possible to build RPMs for them too?

Thanks a lot.

Rajiv
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May  2 08:49:13 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 2 May 2002 07:49:13 +0100 (GMT Daylight Time)
Subject: [R] Reading from files
In-Reply-To: <000e01c1f184$3f76c550$0201a8c0@MARC>
Message-ID: <Pine.WNT.4.44.0205020742480.3248-100000@Reeve>

To read just one row it is easier to use scan() directly (it lies
underneath read.table)

scan("foo", list(num=0, a="", b="", c=""), nmax=1, sep =",")
$num
[1] 1000
$a
[1] "x"
$b
[1] "y"
$c
[1] "z"

gives the four items in a list.

I didn't see why you would want to read just one line.  If you are doing
this repeatedly it is normally better to use read.csv to read the whole
file and process all the rows at once in R.


On Wed, 1 May 2002, Marc Schwartz wrote:

> > Hi,
> >
> > I am a novice to R and have a question here. Is it possible to read a
> > single line from a file into a vector or list etc? If so, is it
> possible
> > to read comma separated values?
> > Eg:
> > 1000,x,y,z
> > 1001,s,d,f
> >
> > How do I read the first line only i.e. 1000,x,y,z from the file and
> that
> > too so that I get separate storage for 1000, x, y and z?
> >
> > Thanks in advance.
> > Saket.
>
> Review the "nrows" option for the read.csv function (?read.csv).  It
> lets you specify how many rows to read from a delimited file.  In the
> help file the option is listed for read.table, but it applies to
> read.csv as well. The differences between the variations of read.* are
> the default values.
>
> For read.csv, the default value for nrows is -1, which reads in all
> rows. The default delimiter for read.csv is ",". Also, the default value
> for the "header" option is TRUE, which indicates that the first row in
> your file contains column names. If your data is structured as you
> define above, set header = FALSE.
>
> Thus, to read in the first line only, add in "nrows = 1" to the
> arguments, such that the command would be:
>
> > V <- read.csv(FileName, nrows = 1, header = FALSE, ....)
>
> Note that the option "skip = x" lets you tell the function to skip a
> certain number of rows before starting the read.
>
> The combination of skip and nrows let's you read in a specific subset of
> rows from a larger file.  For example to read in rows 6 through 10, you
> would use:
>
> > V <- read.csv(FileName, skip = 5, nrows = 5, header = FALSE, ...)
>
> Hope that helps.
>
> Marc Schwartz
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jarioksa at sun3.oulu.fi  Thu May  2 10:29:57 2002
From: jarioksa at sun3.oulu.fi (Jari Oksanen)
Date: Thu, 02 May 2002 11:29:57 +0300
Subject: [R] upgrading to 1.5.0/uninstalling 1.4.1 on Linux 
In-Reply-To: Message from Rajiv Prasad <rajiv.prasad@charter.net> 
   of "Wed, 01 May 2002 23:01:45 PDT." <02050123014500.01179@ts46-01-qdr1297.knnwck.wa.charter.com> 
Message-ID: <200205020829.g428Tw902872@pc112145.oulu.fi>


rajiv.prasad at charter.net said:
> 1. I'd like to get pointers as how to set up my own RPM build from R
> sources  (1.5.0 for now, later versions in future).

The easiest alternative is to wait for rpm's to appear at CRAN...
However, it is not too complicated to build your own RPM form sources. I
guess the most certain and reliable source of information is 
http://www.rpm.org/. 

In principle, you need only the source files (R-*.tgz files) and
then you have to write your SPECS file. This would be easier if the
SPECS file of previous version were available at CRAN (hint), so that
you could edit that SPECS file to work with a new version. In the
luckiest case, you need to change only version (and release) numbers on
the first lines:

%define ver     1.5.0

and it may work magically. Or fail just as mysteriously.

Of course, everything must be in their correct places for rpm to work
(spec file in SPECS/, source archive in SOURCES/, and you need all tools
(Fortran compiler is not in default installation), and you need 
sufficient permissions.

I wouldn't try, though, since I rely on R folks to do better work than 
I would do, and I anticipate complications.

rajiv.prasad at charter.net said:
> 2. How would I handle installation/uninstallation of contributed
> packages?   Is it possible to build RPMs for them too?

see ?update.packages.

You can build rpm's (they do that at CRAN), but update.packages etc will 
be easier.

cheers, jari oksanen
-- 
Jari Oksanen -- Dept Biology, Univ Oulu, 90014 Oulu, Finland
Ph. +358 8 5531526, cell +358 40 5136529, fax +358 8 5531061
email jari.oksanen at oulu.fi, homepage http://cc.oulu.fi/~jarioksa/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Thu May  2 10:23:56 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Thu, 2 May 2002 10:23:56 +0200
Subject: [R] regression, for loop 
References: <AF84AD19B4A8D411B18500508BAF0E0EC299B5@se-excur01-uslj.nadi.uslj>
Message-ID: <008701c1f1b2$b9e2b640$5c13070a@it.giustizia.it>

Hi, you could use sapply() on the list having each component=1 data.frame:
That is:

1) Let data be the list where
>is.data.frame(data[[15]]) #say
[1] TRUE
and where the variables of interest are in the same position: 1,2 and 3 for
the response and the two explanatory variables.

2)Build some function to be applied to the list
fn.lm<-function(x,...){lm(x[,1]~x[,2]+x[,3], ...)}

3)Each component of out is a lm model.
out<-sapply(data, fn.lm)

4)Extract the p-values
fn.extract<-function(x,...){coef(summary(x))[,4]}
pvalue<-sapply(out, fn.extract)

#pvalue should be a vector of the p-values from every estimated model.

In my (small) experience using sapply() instead of for() is a bit more
efficient.
However for large list and/or model you could increase the memory limit:
memory.limit(500) #say

Also splitting the list "data" into several sub-lists should speed the
process.

Hope this help you,
best,
vito


----- Original Message -----
From: <yiping.fan at syngenta.com>
To: <r-help at stat.math.ethz.ch>
Sent: Tuesday, April 30, 2002 6:23 PM
Subject: [R] regression, for loop


> Hello, all
>    Here are the questions I have:
> data samples:
>  Data          style  x   y
> data1   r       2   3
> data1   r       3  4
> data1   r       4 5
> data1   g      4  5
> data1  g      6  7
> data1  g     6   7
> data2  r    8  9
> data2  r     8  9
> data2  r     8   9
> data2  g     8    9
> data2  g      8   9
> data2   g   8    9
> ...
> datan
>
>
> we have n data  (data1 - datan).  For each data, I want to do a simple
> regression:
> y ~ x+style
> I am using a for loop now
> for(i in 1:n){
>    data.name=Data[i];
>    res<-lm(y~x+style, data, subset=(Data == data.name) )
> }
>
> I am wondering whether it is possible to do the same without using for
loop?
> Also,  after regression, I am only interested in getting  the P value for
> style, how to extract it?
>
> Thank you very much!
>
>           Best regards,
>
> Y. Fan
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido.wyseure at agr.kuleuven.ac.be  Thu May  2 09:54:24 2002
From: guido.wyseure at agr.kuleuven.ac.be (Guido Wyseure)
Date: Thu, 2 May 2002 09:54:24 +0200
Subject: [R] ncp parameter in F distribution
Message-ID: <NFBBJJGIIFANLBPBCJLOEECECBAA.guido.wyseure@agr.kuleuven.ac.be>

Dear R,

I tried to find the definition of the ncp parameter for the F-distribution
in the manual. Somehow, I could not find it in the documentation.

For some reasons the density F function does not contain the ncp parameter.
I can manage this by differentiating numerically the cumulative one, or am I
overlooking something. My purpose is to demonstrate to the students the
central F ( H0) and noncentral F (Ha under some assumed scenario).

The implementation appears to be different from the Neter, Kutner,
Nachtsheim and Wasserman 1996 on linear models.

thanks and kind regards,



Guido Wyseure
FLTBW/ Facultaire Didaktiek /Office LI 91.21
Kasteelpark Arenberg 21
3001 Heverlee (Leuven)
tel +32/16/3 29661  fax 32/16/3 21964
Http://www.agr.kuleuven.ac.be

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marwan.khawaja at aub.edu.lb  Thu May  2 18:49:43 2002
From: marwan.khawaja at aub.edu.lb (Marwan Khawaja)
Date: Thu, 2 May 2002 09:49:43 -0700
Subject: [R] design/HMISC packages
Message-ID: <CLECJBOEBGOMOKJHJNDAIEEJCFAA.marwan.khawaja@aub.edu.lb>

Hello,
No luck in loading Frank Harrell's packages -- did anyone encountered the
same problem?

R : Copyright 2002, The R Development Core Team
Version 1.4.1  (2002-01-30)


> library(design, T)
Design library by Frank E Harrell Jr,  Version of Wed Apr 17 17:07:30 EDT
2002

Error in dyn.load(x, as.logical(local), as.logical(now)) :
        unable to load shared library
"C:/PROGRA~1/R/rw1041/library/design/libs/Design.dll":
  LoadLibrary failure:  %1 is not a valid Win32 application.
Error in library(design, T) : .First.lib failed
> version
         _
platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    4.1
year     2002
month    01
day      30
language R
>

Thanks for your help
Marwan

=======================
Marwan Khawaja						marwan.khawaja at aub.edu.lb
Center for Research on Population & Health	Tel:  +961 1 35 00 00-4668 (self)
Faculty of Health Sciences		    			+961 1 35 00 00-4640 (secr)
American University of Beirut					+961 1 35 00 00-2821 (home)
Beirut, Lebanon	 					Fax:  +961 1 47 44 70

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From klavan at tiscalinet.it  Thu May  2 10:57:14 2002
From: klavan at tiscalinet.it (Ambrosini Alessandro)
Date: Thu, 2 May 2002 10:57:14 +0200
Subject: [R] Two scattered matrix
Message-ID: <PPEGLLABFLFCJDLCGPGHMEJCCAAA.klavan@tiscalinet.it>

Hello.
Given two scattered matrix

a b c d
s n
q w e r t y

and

cx vf re ty sw k 
sa gf jk we 
as cd

I want to obtain a single matrix as

a b c d
s n
q w e r t y
cx vf re ty sw k 
sa gf jk we 
as cd

What have I to do? 
Thank you
Alessandro
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meinhard.ploner at akh-wien.ac.at  Thu May  2 10:59:34 2002
From: meinhard.ploner at akh-wien.ac.at (Meinhard Ploner)
Date: Thu, 2 May 2002 10:59:34 +0200
Subject: [R] segmentation fault
Message-ID: <EC5098C9-5DAA-11D6-82FB-0003930EA956@akh-wien.ac.at>

during the call of "polymars" (matrix 2040 x 16)  R exits by a 
segmentation fault.

My system is R 1.4.0 Mac/Darwin.

Anybody has an idea what occures?
Thanks
meinhard

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jbarnier at lille-metropole-2015.org  Thu May  2 11:07:34 2002
From: jbarnier at lille-metropole-2015.org (Julien Barnier)
Date: Thu, 2 May 2002 11:07:34 +0200
Subject: [R] biplot labels
Message-ID: <3CD11DF6.5179.802BB3@localhost>

Hello,

I am trying to draw the biplot of a PCA, but I would like to use another variable of my initial data frame than my "row.names" to assign 
labels to the points.

A part of my R file follows ; "m" is my initial data frame, which has the variable "code" as row.names, and another variable "name" that I'd 
like to use as labels for the points.

> attach(m)
> t <- subset(m, comm == "59512", select=c(pvviol,pcamb,pvvoit,pvroul,pinc,pdeg,ptot,pvp,pmin))
> library(mva)
> a <- princomp(na.omit(t),cor=TRUE)

I have tried some complicated things like

> biplot(a, cex=0.6, xlabs = subset(m, (comm == "59512") & !(is.na(pvviol)), select = name))

(because I have two points who have missing values), but it doesn't work (error message "length of dimnames[1] not equal to array extent").

Is there a simple way to do that ?
(I hope the explanations of my problem are clear enough)

Thanks a lot in advance.
-- 
Julien Barnier
Observatoire des Evolutions Sociales et Urbaines
Agence de d?veloppement et d'urbanisme de Lille M?tropole
2, place du Concert
59043 Lille Cedex
T?l. : 03.20.63.33.91


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dantec at netcourrier.com  Thu May  2 11:21:13 2002
From: dantec at netcourrier.com (dantec@netcourrier.com)
Date: Thu, 2 May 2002 11:21:13 +0200 (CEST)
Subject: [R] a question
Message-ID: <mnet2.1020331271.4649.dantec@netcourrier.com>


Hi,


I have a program written in R which is good on the version 1.2, but for 
the fallowing versions of R, an error always is at the same place.
That is at the level of the fallowing line:
Sur<- 
getInitial(res2[m:M,2]~SSasymp(res2[m:M,1],Asymp,resp0,lrc),data=res2)
Error in eval(expr,envir,enclos):numeric envir arg not of length one


I don't know at all this langage for the instant.

Thanks,



Christelle


-------------------------------------------------------------
NetCourrier, votre bureau virtuel sur Internet : Mail, Agenda, Clubs, Toolbar...
Web/Wap : www.netcourrier.com
T?l?phone/Fax : 08 92 69 00 21 (0,34 ? TTC/min)
Minitel: 3615 NETCOURRIER (0,15 ? TTC/min)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r_stuff_online at hotmail.com  Thu May  2 11:26:59 2002
From: r_stuff_online at hotmail.com (Neil Osborne)
Date: Thu, 02 May 2002 09:26:59 +0000
Subject: [R] General "moving" functions
Message-ID: <F157rBHORUedPfmsLCq00006464@hotmail.com>

General "moving" function.

I'm a relatively new comer to R, and I've only just started writing my own R 
functions. However, I need some help for something which I'm sure is quite 
straight forward.

I want to write a function that will allow me to calculate "moving results" 
for a given vector. Ideally, the function will be of the form


foo<-function(vector1, funcname, lag)
{

}

for example, if I use arguments :

funcname = mean
lag = 10


Then foo will return a vector of 10 day moving average

Many Thanks

_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.Espesser at lpl.univ-aix.fr  Thu May  2 12:34:19 2002
From: Robert.Espesser at lpl.univ-aix.fr (Robert Espesser)
Date: Thu, 02 May 2002 08:34:19 -0200
Subject: [R] influence.measures for glm
References: <Pine.WNT.4.44.0205020742480.3248-100000@Reeve>
Message-ID: <3CD1162B.6454EE29@lpl.univ-aix.fr>

>From the mail archives, it is not clear for me in what extend 
influence.measures is  correct for 
a glm model  ( family=binomial, for my problem).  I'm aware of the
existence of
glm.diag and glm.diag.plot, but is there somewhere a function like
influence.measures for a glm model , from which it is very easy to get a
list
of the influential observations.

Thanks you for your help.
-- 
Robert Espesser     
Laboratoire Parole et Langage  ESA 6057, CNRS
29 Av. Robert Schuman  13621 AIX    (FRANCE)
Tel: +33 (0)4 42 95 36 26   Fax: +33 (0)4 42 59 50 96
http://www.lpl.univ-aix.fr/~espesser
mailto:Robert.Espesser at lpl.univ-aix.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May  2 11:43:38 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 2 May 2002 10:43:38 +0100 (BST)
Subject: [R] General "moving" functions
In-Reply-To: <F157rBHORUedPfmsLCq00006464@hotmail.com>
Message-ID: <Pine.GSO.4.44.0205021043001.6182-100000@auk.stats>

filter() in package ts.

On Thu, 2 May 2002, Neil Osborne wrote:

> General "moving" function.
>
> I'm a relatively new comer to R, and I've only just started writing my own R
> functions. However, I need some help for something which I'm sure is quite
> straight forward.
>
> I want to write a function that will allow me to calculate "moving results"
> for a given vector. Ideally, the function will be of the form
>
>
> foo<-function(vector1, funcname, lag)
> {
>
> }
>
> for example, if I use arguments :
>
> funcname = mean
> lag = 10
>
>
> Then foo will return a vector of 10 day moving average
>
> Many Thanks

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Thu May  2 12:06:38 2002
From: siim at obs.ee (Ott Toomet)
Date: Thu, 2 May 2002 12:06:38 +0200 (CEST)
Subject: [R] upgrading to 1.5.0/uninstalling 1.4.1 on Linux
In-Reply-To: <02050123014500.01179@ts46-01-qdr1297.knnwck.wa.charter.com>
Message-ID: <Pine.LNX.4.44.0205021139400.1048-100000@localhost.localdomain>

On Wed, 1 May 2002, Rajiv Prasad wrote:

  |1. I'd like to get pointers as how to set up my own RPM build from R sources 
  |(1.5.0 for now, later versions in future).
  |2. How would I handle installation/uninstallation of contributed packages?  
  |Is it possible to build RPMs for them too?
  |

Hi,

I have never made a RPM myself, but I think the basic issue is to make a
.spec-file.  You can try to search the web, there are many descriptions how
to do it, you can look e.g. at

http://www-106.ibm.com/developerworks/library/l-rpm1/

Perhaps it is the easiest to get a ready-made src.rpm somewhere, take the
spec file from it (and modify, if needed) and use it.  You can extract a
spec file using 

rpm2cpio package.src.rpm >package.cpio
cpio -i --file=package.cpio

and now should you have package.spec in your current directory.  BTW, it you
can get a src.rpm, you may be able to install it without any modification.

Perhaps it can be made easier, but, as said, I have never done it.

Have a good luck!

Ott

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu May  2 12:15:40 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 02 May 2002 12:15:40 +0200
Subject: [R] compiling R-1.5.0, package methods, on Solaris 5.7
References: <3CD0250F.6B644D76@statistik.uni-dortmund.de>
Message-ID: <3CD111CC.532CD354@statistik.uni-dortmund.de>

Uwe Ligges wrote:
> 
> Compiling package methods, R-1.5.0, on Solaris 5.7 failed (output below)
> for me with
> - gcc-2.95.3, perl-5.005_03
>  and also
> - gcc-3.0.4, perl-5.6.1
> 
> Any ideas a) what the problem is or even better b) how to solve it?


Thanks to Jonathan Baron and Brian Ripley for suggestions.

The problem was, I have set an environment variable R_LIBS (and forgot
it) to the location of an old R library path.
In that case the R script all.R which is generated and executed with the
recently builded new version of R during the compilation of the package
"methods" uses the old package paths instead of the new ones.

Uwe Ligges


> ===================================
> 
> [...]
> 
> building package 'methods'
> ../../../library/methods/man/methods.Rd is unchanged
> making do_substitute_direct.d from do_substitute_direct.c
> 
> [...]
> 
> gcc -I../../../../include  -I/usr/local/include   -fPIC  -g -O2 -c
> slot.c -o slo
> t.o
> gcc -G  -o methods.so do_substitute_direct.o methods_list_dispatch.o
> method_met
> a_data.o slot.o
> dumping R code in package 'methods'
> initializing class and method definitions now ...Error in
> .Call("R_missingArg",
> if (eval) symbol else substitute(symbol),  :
>         .Call function name not in load table
> Execution halted
> *** Error code 1
> make: Fatal error: Command failed for target
> `../../../library/methods/R/all.rda'
> 
> [...]
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luchini at ehess.cnrs-mrs.fr  Thu May  2 11:33:02 2002
From: luchini at ehess.cnrs-mrs.fr (=?iso-8859-1?Q?St=E9phane?= Luchini)
Date: Thu, 02 May 2002 11:33:02 +0200
Subject: [R] Uncomplete code with pictex device driver
Message-ID: <3CD107CE.338CB43C@ehess.cnrs-mrs.fr>


Ptatform: linux RdeHat 7.2
R version : 1.4.1
Prblem : pictex driver

I draw an histogram of a vector of size 759. When I graph this histogram
in a X11 windows there is no problem.
But I want to export my graphics in pictex mode the pictex code stops
after a 750 lines.... as if there was not enough memory to generate the
entire code. What appends ?...

Stephane Luchini

--
Liberte Egalite Fraternite


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020502/8f7ce0ed/attachment.html

From fharrell at virginia.edu  Thu May  2 12:54:06 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Thu, 2 May 2002 06:54:06 -0400
Subject: [R] design/HMISC packages
In-Reply-To: <CLECJBOEBGOMOKJHJNDAIEEJCFAA.marwan.khawaja@aub.edu.lb>
References: <CLECJBOEBGOMOKJHJNDAIEEJCFAA.marwan.khawaja@aub.edu.lb>
Message-ID: <20020502065406.0f5abc92.fharrell@virginia.edu>

The Windows packages of Hmisc and Design are being fixed and I will announce the availability of a new version soon.  Xiao Gang Fan has found a problem with the .zip files that he thinks resulted from having R open in another session at the time he was building the packages.  

The Linux/Unix/MacOSX versions have been updated and now most of the Cox model functions are working in Design.

-Frank Harrell

On Thu, 2 May 2002 09:49:43 -0700
Marwan Khawaja <marwan.khawaja at aub.edu.lb> wrote:

> Hello,
> No luck in loading Frank Harrell's packages -- did anyone encountered the
> same problem?
> 
> R : Copyright 2002, The R Development Core Team
> Version 1.4.1  (2002-01-30)
> 
> 
> > library(design, T)
> Design library by Frank E Harrell Jr,  Version of Wed Apr 17 17:07:30 EDT
> 2002
> 
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library
> "C:/PROGRA~1/R/rw1041/library/design/libs/Design.dll":
>   LoadLibrary failure:  %1 is not a valid Win32 application.
> Error in library(design, T) : .First.lib failed
> > version
>          _
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    4.1
> year     2002
> month    01
> day      30
> language R
> >
> 
> Thanks for your help
> Marwan
> 
> =======================
> Marwan Khawaja						marwan.khawaja at aub.edu.lb
> Center for Research on Population & Health	Tel:  +961 1 35 00 00-4668 (self)
> Faculty of Health Sciences		    			+961 1 35 00 00-4640 (secr)
> American University of Beirut					+961 1 35 00 00-2821 (home)
> Beirut, Lebanon	 					Fax:  +961 1 47 44 70
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dantec at netcourrier.com  Thu May  2 13:52:30 2002
From: dantec at netcourrier.com (dantec@netcourrier.com)
Date: Thu, 2 May 2002 13:52:30 +0200 (CEST)
Subject: [R] R.1.2 vs R.1.4/R.1.5
Message-ID: <mnet1.1020340347.26598.dantec@netcourrier.com>


Hi,


I have a program written in R which is good on the version 1.2, but for 
the fallowing versions of R, an error always is at the same place.
That is at the level of the fallowing line:
Sur<- 
getInitial(res2[m:M,2]~SSasymp(res2[m:M,1],Asymp,resp0,lrc),data=res2)
Error in eval(expr,envir,enclos):numeric envir arg not of length one


I don't know at all this langage for the instant.

Thank you very much for your answers,



Christelle


-------------------------------------------------------------
NetCourrier, votre bureau virtuel sur Internet : Mail, Agenda, Clubs, Toolbar...
Web/Wap : www.netcourrier.com
T?l?phone/Fax : 08 92 69 00 21 (0,34 ? TTC/min)
Minitel: 3615 NETCOURRIER (0,15 ? TTC/min)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at genome.cbs.dtu.dk  Thu May  2 13:08:15 2002
From: laurent at genome.cbs.dtu.dk (Laurent Gautier)
Date: Thu, 2 May 2002 13:08:15 +0200
Subject: [R] a question
In-Reply-To: <mnet2.1020331271.4649.dantec@netcourrier.com>
References: <mnet2.1020331271.4649.dantec@netcourrier.com>
Message-ID: <20020502110815.GB28090@giraffa.cbs.dtu.dk>

On Thu, May 02, 2002 at 11:21:13AM +0200, dantec at netcourrier.com wrote:
> 
> Hi,
> 
> 
> I have a program written in R which is good on the version 1.2, but for 
> the fallowing versions of R, an error always is at the same place.
> That is at the level of the fallowing line:
> Sur<- 
> getInitial(res2[m:M,2]~SSasymp(res2[m:M,1],Asymp,resp0,lrc),data=res2)
> Error in eval(expr,envir,enclos):numeric envir arg not of length one
> 
> 
> I don't know at all this langage for the instant.
> 
> Thanks,
> 
> 
> 
> Christelle


Dear Christelle,


The error occured while executing the function called getInitial.
You may try either to contact the author of this function or to do
'traceback()' and learn a bit of R (note: Emmanuel Paradis contributed 
a translation of 'R for beginners' 
http://cran.r-project.org/other-docs.html
)

Hopin' it helps,


Laurent


--------------------------------------------------------------
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Zhuanshi at kjist.ac.kr  Thu May  2 15:06:54 2002
From: Zhuanshi at kjist.ac.kr (Zhuanshi He)
Date: Thu, 2 May 2002 21:6:54 +0800
Subject: [R] Two scattered matrix
Message-ID: <200205021209.OAA00936@stat.math.ethz.ch>

I think use copy (DOS) or cat (Unix/Linux) command is the easieat way!


>Hello.
>Given two scattered matrix
>
>a b c d
>s n
>q w e r t y
>
>and
>
>cx vf re ty sw k 
>sa gf jk we 
>as cd
>
>I want to obtain a single matrix as
>
>a b c d
>s n
>q w e r t y
>cx vf re ty sw k 
>sa gf jk we 
>as cd
>
>What have I to do? 
>Thank you
>Alessandro
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r_stuff_online at hotmail.com  Thu May  2 14:26:44 2002
From: r_stuff_online at hotmail.com (Neil Osborne)
Date: Thu, 02 May 2002 12:26:44 +0000
Subject: [R] General "moving" functions
Message-ID: <F95K5KsfnpyU75sPneO00005d87@hotmail.com>

Thanks,

But not quite what I'm after. What I need is a way to perform a function on 
contiguous subsets of a time series.

For example:

if x is a vector (length > 9), then :

day<-5
mean(x[day:(day+4)])

will give me a scalar: the mean of the data points passed to the mean 
function.

What I want to do is:

1) return a vector of the moving means
2) be able to use any function I want (as opposed to just mean


I would also like the function to be generic ala "outer" which takes a 
function name (pointer?) as one of its arguments.

Any help will be much appreciated.


>From: Prof Brian D Ripley <ripley at stats.ox.ac.uk>
>To: Neil Osborne <r_stuff_online at hotmail.com>
>CC: r-help at stat.math.ethz.ch
>Subject: Re: [R] General "moving" functions
>Date: Thu, 2 May 2002 10:43:38 +0100 (BST)
>
>filter() in package ts.
>
>On Thu, 2 May 2002, Neil Osborne wrote:
>
> > General "moving" function.
> >
> > I'm a relatively new comer to R, and I've only just started writing my 
>own R
> > functions. However, I need some help for something which I'm sure is 
>quite
> > straight forward.
> >
> > I want to write a function that will allow me to calculate "moving 
>results"
> > for a given vector. Ideally, the function will be of the form
> >
> >
> > foo<-function(vector1, funcname, lag)
> > {
> >
> > }
> >
> > for example, if I use arguments :
> >
> > funcname = mean
> > lag = 10
> >
> >
> > Then foo will return a vector of 10 day moving average
> >
> > Many Thanks
>
>--
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>


_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oehl_list at gmx.de  Thu May  2 14:33:15 2002
From: oehl_list at gmx.de (oehl_list@gmx.de)
Date: Thu, 2 May 2002 14:33:15 +0200 (MEST)
Subject: [R] improving match.args()
Message-ID: <23337.1020342795@www8.gmx.net>


Here is a suggestion for improving match.arg()
Comments welcome.

Best


Jens Oehlschl?gel


# up to now match.arg() works as

t1 <- function( param = c("default", "alternative1", "alternative2") ){
  param <- match.arg(param)
  param
}

# and 

args(t1)

# > function (param = c("default", "alternative1", "alternative2")) 
# misleadingly tells us the default of param would be a vector of length 3
 
# the modified version of match.args() works as before, but additionally
allows us to be more clear about our parameter default:

t1 <- function( param = c("default", "alternative1", "alternative2")[1] ){
  param <- match.arg1(param)
  param
}
 
# so 

args(t1)

# > function (param = c("default", "alternative1", "alternative2")[1]) 
# gives the desired clarity

# of course, if we have only one default extracted by [1] the following 
t1 <- function( param = letters[1] ){
  param <- match.arg1(param)
  param
}
# will allow too many values, however, with only one default, isn't using
match.arg() nonsense anyhow?


match.arg1 <- function (arg, choices)
{
    if (missing(choices)) {
        formal.arg <-
formals(sys.function(sys.parent()))[[deparse(substitute(arg))]]
        if (length(formal.arg)==3 && formal.arg[[1]]=="[" &&
formal.arg[[3]]==1)
          formal.arg <- formal.arg[[2]]
        choices <- eval(formal.arg)
    }
    if (all(arg == choices)) 
        return(choices[1])
    i <- pmatch(arg, choices)
    if (is.na(i)) 
        stop(paste("ARG should be one of", paste(choices, collapse = ", "), 
            sep = " "))
    if (length(i) > 1) 
        stop("there is more than one match in match.arg")
    choices[i]
}



-- 
GMX - Die Kommunikationsplattform im Internet.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r_stuff_online at hotmail.com  Thu May  2 14:36:44 2002
From: r_stuff_online at hotmail.com (Neil Osborne)
Date: Thu, 02 May 2002 12:36:44 +0000
Subject: [R] Returning a dataframe from a C function (How) ?
Message-ID: <F259prMpARg2LGl0kOn00006604@hotmail.com>

I'm writing an R extension. The language I'm using is ANSI C. One of the 
functions I'm writing will accept a string and return a dataset as a 
dataframe. i.e the prototype will be of the form:

dataframe foo(R_String)
{
}


Does anyone have any skeleton code for such a function, i.e. one that 
receives an R "string" and returns a dataset as a dataframe ?

The main concerns I have are:

1. Handling the "R_String" in C (i.e. converting it into a char*)
2. Creating an R dataframe in C


Any help will be very much appreciated (and yes, I have read "Writing R 
extensions")


Many thanks in advance

_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Thu May  2 14:44:37 2002
From: siim at obs.ee (Ott Toomet)
Date: Thu, 2 May 2002 14:44:37 +0200 (CEST)
Subject: [R] Two scattered matrix
In-Reply-To: <PPEGLLABFLFCJDLCGPGHMEJCCAAA.klavan@tiscalinet.it>
Message-ID: <Pine.LNX.4.44.0205021442100.2295-100000@localhost.localdomain>

On Thu, 2 May 2002, Ambrosini Alessandro wrote:

  |Hello.
  |Given two scattered matrix
  |
  |a b c d
  |s n
  |q w e r t y
  |
  |and
  |
  |cx vf re ty sw k 
  |sa gf jk we 
  |as cd
  |
  |I want to obtain a single matrix as
  |
  |a b c d
  |s n
  |q w e r t y
  |cx vf re ty sw k 
  |sa gf jk we 
  |as cd

Hi,

What is ,,scattered matrix''?  I do not know such a data structure in R.  If
you have lists (which allow components of different length), you have simply
to say

c(list1, list2)

to get the lists concated.  You may also look at ?rbind and ?cbind, if you
indeed have some matrix or data.frame type variables.

Ott

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Thu May  2 14:52:17 2002
From: plummer at iarc.fr (Martyn Plummer)
Date: Thu, 02 May 2002 14:52:17 +0200 (CEST)
Subject: [R] General "moving" functions
In-Reply-To: <F95K5KsfnpyU75sPneO00005d87@hotmail.com>
Message-ID: <XFMail.20020502145217.plummer@iarc.fr>

Something like this perhaps?

foo <- function(x, FUN, lag)
{
        FUN=match.fun(FUN)
        n <- length(x) - lag
        y <- numeric(n)
        for (i in 1:n) {
                y[i] <- FUN(x[i:(i + lag)])
        }
        return(y)
}

On 02-May-2002 Neil Osborne wrote:
> Thanks,
> 
> But not quite what I'm after. What I need is a way to perform a function on 
> contiguous subsets of a time series.
> 
> For example:
> 
> if x is a vector (length > 9), then :
> 
> day<-5
> mean(x[day:(day+4)])
> 
> will give me a scalar: the mean of the data points passed to the mean 
> function.
> 
> What I want to do is:
> 
> 1) return a vector of the moving means
> 2) be able to use any function I want (as opposed to just mean
> 
> 
> I would also like the function to be generic ala "outer" which takes a 
> function name (pointer?) as one of its arguments.
> 
> Any help will be much appreciated.
>
>>From: Prof Brian D Ripley <ripley at stats.ox.ac.uk>
>>To: Neil Osborne <r_stuff_online at hotmail.com>
>>CC: r-help at stat.math.ethz.ch
>>Subject: Re: [R] General "moving" functions
>>Date: Thu, 2 May 2002 10:43:38 +0100 (BST)
>>
>>filter() in package ts.
>>
>>On Thu, 2 May 2002, Neil Osborne wrote:
>>
>> > General "moving" function.
>> >
>> > I'm a relatively new comer to R, and I've only just started writing my 
>>own R
>> > functions. However, I need some help for something which I'm sure is 
>>quite
>> > straight forward.
>> >
>> > I want to write a function that will allow me to calculate "moving 
>>results"
>> > for a given vector. Ideally, the function will be of the form
>> >
>> >
>> > foo<-function(vector1, funcname, lag)
>> > {
>> >
>> > }
>> >
>> > for example, if I use arguments :
>> >
>> > funcname = mean
>> > lag = 10
>> >
>> >
>> > Then foo will return a vector of 10 day moving average
>> >
>> > Many Thanks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From crambe at toulouse.inra.fr  Thu May  2 14:51:14 2002
From: crambe at toulouse.inra.fr (crambe Christophe)
Date: Thu, 02 May 2002 14:51:14 +0200
Subject: [R] splines
Message-ID: <3CD13642.1A157BE3@toulouse.inra.fr>

I've got a problem with the R function spline.des.

I use the following arguments:
    x_seq(0,1,length=200)
    knot_quantile(x,(1:8)/9)
    ord_3
    k_sort(c(rep(range(x),ord,knot)))
    derivs_rep(2,200)

When I do spline.des(k,x,ord,derivs)$design on Splus and on R, I don't
have the same results.
However, if I take an order ord=4 (ie a spline of degree 3), then, I
have the same results on Splus and R.

Why? Is there an error from R or from Splus?

Thanks in advance

        Christophe Crambes

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maslcgr at bath.ac.uk  Thu May  2 15:12:59 2002
From: maslcgr at bath.ac.uk (L C G Rogers)
Date: Thu, 2 May 2002 14:12:59 +0100 (BST)
Subject: [R] identify.hclust problem
Message-ID: <Pine.GSO.4.04.10205021408510.5496-100000@midge.bath.ac.uk>


I've been using this command to select some subset of the 
dendrogram, and when I left click on the picture I get the
error message

Error in rect.hclust(x, k = k, x = x$x, cluster = cluster[, k - 1], border
= "red") : 
        k must be between 2 and 0

This is happening even when I just cut-and-paste the specimen
example from the documentation page, and appears to happen
in windows and linux, and for various versions of R - 1.4.1, 1.5.0,
but NOT 1.3.0, which functions as intended ... any enlightenment??


-----------------------------------------------------------------------
L C G Rogers, Professor of Probability              tel:+44 1225 386224
Department of Mathematical Sciences                 fax:+44 1225 386492
University of Bath, Bath BA2 7AY, GB

Email: L.C.G.Rogers at bath.ac.uk  web: www.bath.ac.uk/~maslcgr/home.html
-----------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu May  2 15:18:36 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 02 May 2002 08:18:36 -0500
Subject: [R] problem with lme in nlme package
In-Reply-To: <5.1.0.14.2.20020501221836.01d5db20@mcmail.cis.mcmaster.ca>
References: <5.1.0.14.2.20020501221836.01d5db20@mcmail.cis.mcmaster.ca>
Message-ID: <6rsn5a1ydv.fsf@franz.stat.wisc.edu>

John,

I'm travelling today and won't be able to check this discrepancy.  I
will try to look at it tomorrow.

A couple of things to consider:

 - the underlying optimization software is different in S-PLUS and R.
   It may be that the REML estimates are poorly defined and
   convergence is being declared in different places by different software.
   Have you checked the intervals on those variance components using
   intervals(bryk.lme.1)

 - I believe the data are already in the nlme package as the
   MathAchieve and MathAchSchool data sets.

 - In Bryk's analysis the meanses is calculated incorrectly.

 - Some analysis of these data is given in the slides at
   http://www.stat.wisc.edu/~st850-1/MEcourse6_4up.pdf

 - It is much easier (and faster) to calculate the meanses gsummary.
   I think it would be gsummary(MathAchieve, which = "ses")


-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Thu May  2 15:41:47 2002
From: plummer at iarc.fr (Martyn Plummer)
Date: Thu, 02 May 2002 15:41:47 +0200 (CEST)
Subject: [R] upgrading to 1.5.0/uninstalling 1.4.1 on Linux
In-Reply-To: <02050123014500.01179@ts46-01-qdr1297.knnwck.wa.charter.com>
Message-ID: <XFMail.20020502154147.plummer@iarc.fr>

On 02-May-2002 Rajiv Prasad wrote:
> 
> Thanks to Peter Dalgaard and Ott Toomet for answering my question.  I'd stick
> with renaming the 1.4.1 R directories and files to have the old version run 
> for a while until I clean out any of my potentially broken R
> programs/scripts.
> 
> By the way, it does seem that building an RPM would be better for 
> uninstalling.  I have a couple of questions in this regard.  (This is getting
> a bit off-topic, so please reply off the list.)
> 
> 1. I'd like to get pointers as how to set up my own RPM build from R sources 
> (1.5.0 for now, later versions in future).

Documentation on rpm can be found here
http://www.rpm.org
including the book "Maximum rpm" by Edward C Bailey.  This is now a
little dated, but contains almost everything you need.

To build your own rpms you need to recreate the subdirectories of
/usr/src/redhat (on Red Hat) somewhere in your home directory. I have
done this in the directory "mybuild".  Then define this in the file
".rpmmacros" with the line

%_topdir        /home/martyn/mybuild

Unpack the source RPM using
rpm -i R-base-1.5.0-1.src.rpm

Change directory to mybuild/SPECS
Modify the R-base.spec file to suit your needs.
Rebuild the rpm binary with
rpm -bb R-base.spec

> 2. How would I handle installation/uninstallation of contributed packages?  
> Is it possible to build RPMs for them too?

It is possible, but not worth it.  R has a very good internal package
management system which provides most of the capabilities of RPM.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Natasha.Kozul at rbos.com  Thu May  2 16:39:57 2002
From: Natasha.Kozul at rbos.com (KOZUL, Natasha, FM)
Date: Thu, 2 May 2002 15:39:57 +0100 
Subject: [R] Rconfig.h file
Message-ID: <D742BC7E5611D411B0C500508BCF8A9C09128BF0@lon0905tnb.fm.rbsgrp.net>

Hi,

I was trying to compile a C++ dll that includes R.h file.

One of the errors was that the file Rconfig.h (used in several places as
#include) could not be found. I searched all the r-related directories and
could not find it.

Where is that file, and can I download it for free from your site?

What is its function?

Many thanks in advance for your help,

Natasha

Natasha Kozul

Pricing Unit
Financial Markets
Royal Bank of Scotland 

tel: 020 7648 3513
fax: 020 7334 1770




********************************************************************
      Visit our Internet site at http://www.rbsmarkets.com

This e-mail is intended only for the addressee named above.
As this e-mail may contain confidential or privileged information,
if you are not the named addressee, you are not authorised to
retain, read, copy or disseminate this message or any part of it.
********************************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu May  2 16:50:47 2002
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 02 May 2002 10:50:47 -0400
Subject: [R] problem with lme in nlme package
In-Reply-To: <6rsn5a1ydv.fsf@franz.stat.wisc.edu>
References: <5.1.0.14.2.20020501221836.01d5db20@mcmail.cis.mcmaster.ca>
 <5.1.0.14.2.20020501221836.01d5db20@mcmail.cis.mcmaster.ca>
Message-ID: <5.1.0.14.2.20020502100102.02ca9218@mcmail.cis.mcmaster.ca>

Dear Doug,

First, thanks for getting back to me.

At 08:18 AM 5/2/2002 -0500, Douglas Bates wrote:
>John,
>
>I'm travelling today and won't be able to check this discrepancy.  I
>will try to look at it tomorrow.

There's no rush.

>A couple of things to consider:
>
>  - the underlying optimization software is different in S-PLUS and R.
>    It may be that the REML estimates are poorly defined and
>    convergence is being declared in different places by different software.
>    Have you checked the intervals on those variance components using
>    intervals(bryk.lme.1)

It occurred to me that the problem may be ill-conditioned, but I didn't 
check the confidence intervals for the variance components. I did look at 
the log-likelihoods, though. To more decimal places than in my previous 
note, they are:

R: -23252.3919

S-PLUS: -23253.2177


Getting the confidence intervals on the variance components produces:

R:

     > intervals(bryk.lme.1)
     Approximate 95% confidence intervals

     Fixed effects:
                             lower      est.     upper
     (Intercept)         11.7377216 12.128207 12.518692
     meanses              4.6078631  5.336665  6.065467
     cses                 2.6457000  2.942145  3.238589
     sectorCatholic       0.6198986  1.224531  1.829164
     meanses:cses         0.4738118  1.044406  1.615000
     cses:sectorCatholic -2.0991261 -1.642148 -1.185170

     Random Effects:
     Level: school
                                 lower        est.        upper
     sd((Intercept))        1.321746e+00 1.541176850 1.797037e+00
     sd(cses)               6.686558e-09 0.018173637 4.939478e+04
     cor((Intercept),cses) -8.630434e-02 0.005809486 9.782482e-02

     Within-group standard error:
     lower     est.    upper
     5.964008 6.063492 6.164636

S-PLUS

     > intervals(bryk.lme.1)
     Problem in intervals.lme(bryk.lme.1): Cannot get confidence inter
     vals on var-cov components: Non-positive definite approximate var
     iance-covariance
     Use traceback() to see the call stack

Obviously, there's a problem here, as you suspected: the interval for 
sd(cses) in the R solution is very broad, and the covariance matrix in the 
S-PLUS solution isn't positive definite. (Does the S-PLUS version of the 
software use the log-Cholesky parametrization of the covariance matrix for 
the random effects?)

>  - I believe the data are already in the nlme package as the
>    MathAchieve and MathAchSchool data sets.

Yes, they are -- I didn't know that. Thanks.

>  - In Bryk's analysis the meanses is calculated incorrectly.

I was aware of this -- it's why I recalculated the means rather than using 
Bryk and Raudenbush's -- but the results don't change much.

>  - Some analysis of these data is given in the slides at
>    http://www.stat.wisc.edu/~st850-1/MEcourse6_4up.pdf

Again, thanks. I'll take a look. I'm working up the example for use in my 
appendix on mixed models, a draft of which is at 
<http://socserv.socsci.mcmaster.ca/jfox/Books/Companion/appendix-mixed-models.pdf>.

>  - It is much easier (and faster) to calculate the meanses gsummary.
>    I think it would be gsummary(MathAchieve, which = "ses")

The versions of gsummary that I have don't seem to take a which argument, 
but tapply works (and is faster than my previous code, though in a data set 
this size both are essentially instantaneous):

 >    mses <- tapply(ses, school, mean)
 >    meanses <- mses[as.character(school)]

I expect that the simple answer to my basic question is that the problem is 
ill-conditioned. Interesting, since Bryk and Raudenbush's data have been 
used a lot.

Thanks for the suggestions and for your help.

John





-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From H.F.Xie at westminster.ac.uk  Thu May  2 17:47:29 2002
From: H.F.Xie at westminster.ac.uk (Haifeng (Kevin) Xie)
Date: Thu, 2 May 2002 16:47:29 +0100
Subject: [R] Compiling R-1.5.0 failed on Solaris 5.8
Message-ID: <00fa01c1f1f0$aa616840$be884aa1@staffpc79>


Greetings!

When compiling R-1.5.0 on Solaris 5.8, I got the following error message (see
below). I've been using R-1.4.0 with no difficulties. I renamed the previous R
installation to R-1.4.0 (following suggestions of an earlier post by Peter
Dalgaard) before compiling R-1.5.0. And I've checked that the enviornment
variable R_LIBS is not set.

Is there something I overlooked? Any suggestions are much appreciated.

Kevin

=========================================================
[...]

mkdir -p -- ../../../../library/methods/libs
make[5]: Leaving directory `/tmp/R-1.5            .0/src/library/methods/src'
make[4]: Leaving directory `/tmp/R-1.5.0/src/library/methods/src'
make[4]: Entering directory `/tmp/R-1.5.0/src/library/methods'
dumping R code in package 'methods'
ld.so.1: /tmp/R-1.5.0/bin/R.bin: fatal: libbz2.so.1.0: open failed: No such file
or directory
Killed
make[4]: *** [../../../library/methods/R/all.rda] Error 137
make[4]: Leaving directory `/tmp/R-1.5.0/src/library/methods'
make[3]: *** [all] Error 2
make[3]: Leaving directory `/tmp/R-1.5.0/src/library/methods'
make[2]: *** [R] Error 1
make[2]: Leaving directory `/tmp/R-1.5.0/src/library'
make[1]: *** [R] Error 1
make[1]: Leaving directory `/tmp/R-1.5.0/src'
make: *** [R] Error 1
==========================================================


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Thu May  2 17:43:48 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu, 02 May 2002 11:43:48 -0400
Subject: [R] help.start() problem with netscape 6.2.2 (was: R 1.5.0 RPM's
 for Mandrake)
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC294@usrymx10.merck.com>

I've installed Netscape 6.2.2 on Mdk82, but have not had much luck with
help.start() (R-1.5.0 compiled from source).

When I do help.start(), it just starts up netscape with the default home
page, rather than the R help page.  Doing ?<anything> at the R prompt starts
up yet another netscape instance, but still no R help.

Anyone knows why, or even better, how to solve this?

Regards,
Andy


> -----Original Message-----
> From: mikalzet at libero.it [mailto:mikalzet at libero.it]
> Sent: Thursday, May 02, 2002 10:38 AM
> To: r-announce at stat.math.ethz.ch
> Subject: R 1.5.0 RPM's for Mandrake
> 
> 
> 
> 
> RPM's and SRPM's for Mandrake versions 8.1 and 8.2 have been 
> uploaded and
> will be mirrored on CRAN shortly.
> 
> Please note that the binary -1mdk rpm's are for mandrake 8.1 while the
> -2mdk rpm's are for 8.2, install the correct version for your system.
> 
> People with mandrake 8.0 or earlier can easily build (and hopefully
> contribute) binaries; consult the readme file for instructions.
> 
> Please note: Mandrake 8.2 comes without netscape; the help.start()
> function must therefore be started as:
> 
> help.start(browser = 'mozilla')
> 
> N.B. :
> Unfortunately I have not yet figured out how to get the 
> search applet on
> the help page working - mozilla just refuses to initialize 
> the applet even
> though the java subsystem I have apparently works with 
> applets on other
> sites (e.g. www.avsi.org). This happens both with the version 
> shipped with
> 8.1 and with the version shipped with 8.2 (I've tried sun java and IBM
> java).  An error messages flashes on the bottom bar for an instant,
> something about 'impossible to access'. If any Mandrake guru 
> figures out
> why, please post. Meanwhile, 8.2 users could consider 
> installing netscape.
> 
> -- 
> Michele Alzetta
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-announce mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-announce-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Thu May  2 19:09:29 2002
From: wolski at molgen.mpg.de (Witold Eryk Wolski)
Date: Thu, 02 May 2002 18:09:29 +0100
Subject: [R] Building own packages on Windows 2000!
Message-ID: <3CD172C9.3050306@molgen.mpg.de>

Hi!
I encountered some things trying to build own packages under Windows 
2000 for which i found no answer in the documentation.
First.

1. I do not found the rcmd.exe in the bin directory of R_HOME.
 I installed R using the setup.exe
2. I updated the R intatllation with one of the zip files. (rw1041sp.zip)
now i had the rcmd.exe in the bin.
3. I do not found any hint in the docu that perl is needed.
4. I even do not found any hint that there are shared modules and that i 
can be necessary to add an
PERL5LIB path to the enviroment variables to use them and i still do not 
know if it is necessary.


Anyway, after few ours and some print statements i figured out that
system("tar chXf $exclude $filepath $pkgname"); in the build file called 
with
rcmd build
causes:

C:\prog\R\rw1041\myfiles\test>rcmd build --use-zip masspec
1
Its Windows MAN
** Options  --use-zip for --binary ignored
* checking for file `masspec/DESCRIPTION' ... OK
* preparing `masspec':
* cleaning src
its ok
* checking whether `INDEX' is up-to-date ... OK
* checking whether `data/00Index' is up-to-date ... OK
* removing junk files
* building `masspec_0.1.tar.gz'
something wrong!!!!!!!!!!
tar: Unknown option "-hXf"
Usage: tar -{crtux}[lpmovwzU[0-7[lmh]]] [-b blocks]
           [-f tarfile] [-V volpattern] [file [-C pathname] ...]
masspec_0.1.tar: No such file or directory

even i have the tools for windows installed.


I really want to build and install my own packages! I am out of ideas now!
Can anyone give me a hint?


(is there a mailing list for R-Ms Windows?)
Sinerely Eryk




-- 
    _ _     \|/     \|/
    ?v?     'v?     'v'
  //| |\\ //| |\\ //| |\\
----m-m-----m-m-----m-m--------w-w-----
                             \\| |//
   Eryk Witold Wolski          .^.
                               /|\
wolski at molen.mpg.de
tel      : 0049-(0)30-8413-1543
fax      : 0049-(0)30-8413-1139
mobile   : 0049-1793210931
http://www.molgen.mpg.de/~mass-spec
http://www.molgen.mpg.de/~wolski


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu May  2 18:11:57 2002
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 02 May 2002 12:11:57 -0400
Subject: [R] influence.measures for glm
In-Reply-To: <3CD1162B.6454EE29@lpl.univ-aix.fr>
References: <Pine.WNT.4.44.0205020742480.3248-100000@Reeve>
Message-ID: <5.1.0.14.2.20020502120754.01d70ca0@mcmail.cis.mcmaster.ca>

Dear Robert,

The car package calculates a variety of influence diagnostics for GLMs. 
After loading the package, try, e.g., ?cookd.

I hope that this helps,
John

At 08:34 AM 5/2/2002 -0200, you wrote:
> >From the mail archives, it is not clear for me in what extend
>influence.measures is  correct for
>a glm model  ( family=binomial, for my problem).  I'm aware of the
>existence of
>glm.diag and glm.diag.plot, but is there somewhere a function like
>influence.measures for a glm model , from which it is very easy to get a
>list
>of the influential observations.
>
>Thanks you for your help.
>--
>Robert Espesser
>Laboratoire Parole et Langage  ESA 6057, CNRS
>29 Av. Robert Schuman  13621 AIX    (FRANCE)
>Tel: +33 (0)4 42 95 36 26   Fax: +33 (0)4 42 59 50 96
>http://www.lpl.univ-aix.fr/~espesser
>mailto:Robert.Espesser at lpl.univ-aix.fr
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu May  2 18:21:18 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 2 May 2002 09:21:18 -0700 (PDT)
Subject: [R] influence.measures for glm
In-Reply-To: <3CD1162B.6454EE29@lpl.univ-aix.fr>
Message-ID: <Pine.A41.4.44.0205020918280.27118-100000@homer36.u.washington.edu>

On Thu, 2 May 2002, Robert Espesser wrote:

> From the mail archives, it is not clear for me in what extend
> influence.measures is  correct for
> a glm model  ( family=binomial, for my problem).  I'm aware of the
> existence of
> glm.diag and glm.diag.plot, but is there somewhere a function like
> influence.measures for a glm model , from which it is very easy to get a
> list
> of the influential observations.
>

I think all the influence measures for lm also work for glm. Certainly
lm.influence(), which underlies them, does.  Most of these measures are
defined for glms in terms of the weighted linear model fit by the last
iteration of IWLS.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Thu May  2 19:24:37 2002
From: wolski at molgen.mpg.de (Witold Eryk Wolski)
Date: Thu, 02 May 2002 18:24:37 +0100
Subject: [R] Building own packages on Windows 2000!
Message-ID: <3CD17655.4080504@molgen.mpg.de>

Hi!
I encountered some things trying to build own packages under Windows
2000 for which i found no answer in the documentation.
First.

1. I do not found the rcmd.exe in the bin directory of R_HOME.
  I installed R using the setup.exe
2. I updated the R intatllation with one of the zip files. (rw1041sp.zip)
now i had the rcmd.exe in the bin.
3. I do not found any hint in the docu that perl is needed.
4. I even do not found any hint that there are shared modules and that i
can be necessary to add an
PERL5LIB path to the enviroment variables to use them and i still do not
know if it is necessary.


Anyway, after few hours and some print statements i figured out that
system("tar chXf $exclude $filepath $pkgname"); in the build file called
with
rcmd build
causes:

C:\prog\R\rw1041\myfiles\test>rcmd build --use-zip masspec
1
Its Windows MAN
** Options  --use-zip for --binary ignored
* checking for file `masspec/DESCRIPTION' ... OK
* preparing `masspec':
* cleaning src
its ok
* checking whether `INDEX' is up-to-date ... OK
* checking whether `data/00Index' is up-to-date ... OK
* removing junk files
* building `masspec_0.1.tar.gz'
something wrong!!!!!!!!!!
tar: Unknown option "-hXf"
Usage: tar -{crtux}[lpmovwzU[0-7[lmh]]] [-b blocks]
            [-f tarfile] [-V volpattern] [file [-C pathname] ...]
masspec_0.1.tar: No such file or directory

even i have the tools for windows installed.


I really want to build and install my own packages! I am out of ideas now!
Can anyone give me a hint?


(is there a mailing list for R-Ms Windows?)
Sinerely Eryk




-- 
     _ _     \|/     \|/
     ?v?     'v?     'v'
   //| |\\ //| |\\ //| |\\
----m-m-----m-m-----m-m--------w-w-----
                              \\| |//
    Eryk Witold Wolski          .^.
                                /|\
wolski at molen.mpg.de
tel      : 0049-(0)30-8413-1543
fax      : 0049-(0)30-8413-1139
mobile   : 0049-1793210931
http://www.molgen.mpg.de/~mass-spec
http://www.molgen.mpg.de/~wolski



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Thu May  2 18:20:18 2002
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Thu, 2 May 2002 18:20:18 +0200 (CEST)
Subject: [R] Re: help.start() problem with netscape 6.2.2 (was: R 1.5.0 RPM's
 for Mandrake)
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC294@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.33L2.0205021818020.3026-100000@localhost.localdomain>

On Thu, 2 May 2002, Liaw, Andy wrote:

> I've installed Netscape 6.2.2 on Mdk82, but have not had much luck with
> help.start() (R-1.5.0 compiled from source).
>
> When I do help.start(), it just starts up netscape with the default home
> page, rather than the R help page.  Doing ?<anything> at the R prompt starts
> up yet another netscape instance, but still no R help.

Doing help.start() a second time with netscape already started gives you
the R help page ?

Does the search applet work ?

I mean to go over to mdk 8.2 but I think I'll install a version of good
old netscape 4.7 ...

-- 
Michele Alzetta

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu May  2 18:32:32 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 2 May 2002 09:32:32 -0700 (PDT)
Subject: [R] Returning a dataframe from a C function (How) ?
In-Reply-To: <F259prMpARg2LGl0kOn00006604@hotmail.com>
Message-ID: <Pine.A41.4.44.0205020923260.27118-100000@homer36.u.washington.edu>

On Thu, 2 May 2002, Neil Osborne wrote:

> I'm writing an R extension. The language I'm using is ANSI C. One of the
> functions I'm writing will accept a string and return a dataset as a
> dataframe. i.e the prototype will be of the form:
>
> dataframe foo(R_String)
> {
> }
>
>
> Does anyone have any skeleton code for such a function, i.e. one that
> receives an R "string" and returns a dataset as a dataframe ?
>
> The main concerns I have are:
>
> 1. Handling the "R_String" in C (i.e. converting it into a char*)
> 2. Creating an R dataframe in C
>

You could look at the code in foreign, which takes file names and returns
data frames.

For example,

foreign/src/stataread.c:do_readStata

has
 fp = fopen(R_ExpandFileName(CHAR(STRING_ELT(fname,0))), "rb");

showing the use of CHAR(STRING_ELT(fname,0)) to extract a char * from an R
string.

and foreign/src/stataread.c:R_LoadStataData creates a data frame and
passes it back to R

foreign/src/SASxport.c: xport_read is shorter and may be easier to read.

It actually returns a list, which is coerced to a dataframe in interpreted
code.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu May  2 18:48:16 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 2 May 2002 09:48:16 -0700 (PDT)
Subject: [R] splines
In-Reply-To: <3CD13642.1A157BE3@toulouse.inra.fr>
Message-ID: <Pine.A41.4.44.0205020939020.27118-100000@homer36.u.washington.edu>

On Thu, 2 May 2002, crambe Christophe wrote:

> I've got a problem with the R function spline.des.
>
> I use the following arguments:
>     x_seq(0,1,length=200)
>     knot_quantile(x,(1:8)/9)
>     ord_3
>     k_sort(c(rep(range(x),ord,knot)))
>     derivs_rep(2,200)
>
> When I do spline.des(k,x,ord,derivs)$design on Splus and on R, I don't
> have the same results.
> However, if I take an order ord=4 (ie a spline of degree 3), then, I
> have the same results on Splus and R.

I do get the same results --

R:
Warning message:
Numerical expression has 8 elements: only the first used in: 1:length.out

Splus6:
Warning messages:
  Condition has 8 elements: only the first used in: if(length.out > 0)
        Recall(x, ceiling(length.out/n))[1:length.out] else x[0]

and assuming you meant

k<-sort(c(rep(range(x),ord),knot))

I then get the same result from both packages except for the last line of
the matrix, which is all zero in R but is equal to the previous line in
S-PLUS

This appears to be a rounding error due to having multiple knots `exactly'
at the maximum value -- if the knot is moved very slightly to the right
then the packages agree again.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From B.Mao at cerep.com  Thu May  2 19:24:27 2002
From: B.Mao at cerep.com (Boryeu Mao)
Date: Thu, 2 May 2002 10:24:27 -0700 
Subject: [R] how to trap any warnings from an R function -- again :(
Message-ID: <0957E70F25F7D111974B00A0C9833064AF88CE@mayo.cerep.com>

Still working on this problem, though I need to add one more bit of info.  I
actually have nested try()'s;  userfn() is called by another routine, which
is called by yet another one via try().  The options() are in the inner most
one, userfn(), only, though.  Is this a legal use within R?  If not, I will
look for another, less graceful mechanism?


-----Original Message-----
From: Boryeu Mao [mailto:B.Mao at cerep.com]
Sent: Wednesday, May 01, 2002 6:01 PM
To: r-help at stat.math.ethz.ch
Subject: [R] how to trap any warnings from an R function -- again :(


With the incorporation of the useful hints, my user function now looks like
this:

userfn <- function() {
  ...
ow <- options("warn")
options(warn = 2);
  ...
reg<-try(polr(act~.,data=mm,Hess=TRUE))
  ...
sumreg<-try(summary(reg))
print(length(sumreg))
print(sumreg)
  ...
options(ow) # reset

}

The routine userfn() is called multiple times, two of which I happen to know
to have warnings about NaNs being produced.  However, only once was the
condition caught, with the following output from the print statements:

[1] 1
[1] "Error in sqrt(diag(vc)) : (converted from warning) NaNs produced\n"
attr(,"class")
[1] "try-error"

The other time (the second time in fact), the length of sumreg was 16 (that
for a normal summary), and the printed sumreg actually shows NaN's in the
coefficients, without any printed error message as that in the 1st instance.
Where do I look to see why any error should escape?


-----Original Message-----
From: Prof Brian D Ripley [mailto:ripley at stats.ox.ac.uk]
Sent: Tuesday, April 30, 2002 10:00 AM
To: Boryeu Mao
Cc: 'Jason Turner'; r-help at stat.math.ethz.ch
Subject: RE: [R] how to trap any warnings from an R function


On Tue, 30 Apr 2002, Boryeu Mao wrote:

> Thanks for the reply.  The problem that I have in a nutshell is the
> following:
>
> usertest <- function {
>  ...
>  reg<-polr(act~., data=mm)
>  summary(reg)
>  return(reg$AIC)
>  }
>
> For some data, NaN's are produced (in sqrt(diag(vc))), and I'd like to
trap
> this condition and any other warnings, so that a negative value, say, can
be
> returned to the calling function to indicate the warning condition.
> Warnings from
> summary() are produced and placed in 'last.warning' but that is accessible
> only at the top-level, not within usertest(); I've tried setting 'warn' in
> options() but hadn't found a way to do this.  I'm still searching various
> docs for any ideas, and it seems to be something that might be quite
> straightforward.  Any points/ideas are appreciated.   Thanks!

To exmpand Jason's suggestion:

options(warn=2)
try(summary(reg))

should do this.  But of course you can test the condition directly, as
it will be in the object returned by summary(reg) (which in your code
sample does nothing useful, as it will not be auto-printed).


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Thu May  2 20:26:19 2002
From: wolski at molgen.mpg.de (Witold Eryk Wolski)
Date: Thu, 02 May 2002 19:26:19 +0100
Subject: [R] Building own packages on Windows 2000!
References: <3CD17655.4080504@molgen.mpg.de> <3CD16B92.46794235@statistik.uni-dortmund.de>
Message-ID: <3CD184CB.8060809@molgen.mpg.de>

Hi Uwe!

Thanks. The key to solve this problem was the output of your tar program.
I had a different tar. Setting the tools directory first  in the path 
variable solved the problem.

But solving  one problem leads to the next.
now i have a file called
mypackage.tar.gz generated by
 >rcmd build mypackage
But i am still working with windows 2000?
I expected to find a zip file.

I know that I am asking trivial questions but I want to come after a few 
hours to an end.


I a missing in R extension a more detailed step by step description with 
some examples.
To whom send proposals of change to the R extensions manual.  I am also 
willing to writ one step by step descriptin for windows 2000.

Sincerely Eryk


The output of tar --version is:
C:\prog\R\rw1041\myfiles\test>tar --version
tar: Unknown option "--version"
Usage: tar -{crtux}[lpmovwzU[0-7[lmh]]] [-b blocks]
           [-f tarfile] [-V volpattern] [file [-C pathname] ...]



But for sure it is the tar that i downloaded with the tools from the cran.


Uwe Ligges wrote:

>
>Witold Eryk Wolski wrote:
>
>>Hi!
>>I encountered some things trying to build own packages under Windows
>>2000 for which i found no answer in the documentation.
>>First.
>>
>>1. I do not found the rcmd.exe in the bin directory of R_HOME.
>>  I installed R using the setup.exe
>>2. I updated the R intatllation with one of the zip files. (rw1041sp.zip)
>>now i had the rcmd.exe in the bin.
>>3. I do not found any hint in the docu that perl is needed.
>>4. I even do not found any hint that there are shared modules and that i
>>can be necessary to add an
>>PERL5LIB path to the enviroment variables to use them and i still do not
>>know if it is necessary.
>>
>>Anyway, after few hours and some print statements i figured out that
>>system("tar chXf $exclude $filepath $pkgname"); in the build file called
>>with
>>rcmd build
>>causes:
>>
>>C:\prog\R\rw1041\myfiles\test>rcmd build --use-zip masspec
>>1
>>Its Windows MAN
>>** Options  --use-zip for --binary ignored
>>* checking for file `masspec/DESCRIPTION' ... OK
>>* preparing `masspec':
>>* cleaning src
>>its ok
>>* checking whether `INDEX' is up-to-date ... OK
>>* checking whether `data/00Index' is up-to-date ... OK
>>* removing junk files
>>* building `masspec_0.1.tar.gz'
>>something wrong!!!!!!!!!!
>>tar: Unknown option "-hXf"
>>Usage: tar -{crtux}[lpmovwzU[0-7[lmh]]] [-b blocks]
>>            [-f tarfile] [-V volpattern] [file [-C pathname] ...]
>>masspec_0.1.tar: No such file or directory
>>
>>even i have the tools for windows installed.
>>
>>I really want to build and install my own packages! I am out of ideas now!
>>Can anyone give me a hint?
>>
>>(is there a mailing list for R-Ms Windows?)
>>Sinerely Eryk
>>
>
>What does tar --version say (my version is GNU tar 1.13.19)?
>Did you set "." in your path, the tools at first, then gcc-2.95.3 and
>also perl-5.6.1?
>
>Uwe
>

-- 
    _ _     \|/     \|/
    ?v?     'v?     'v'
  //| |\\ //| |\\ //| |\\
----m-m-----m-m-----m-m--------w-w-----
                             \\| |//
   Eryk Witold Wolski          .^.
                               /|\
wolski at molen.mpg.de
tel      : 0049-(0)30-8413-1543
fax      : 0049-(0)30-8413-1139
mobile   : 0049-1793210931
http://www.molgen.mpg.de/~mass-spec
http://www.molgen.mpg.de/~wolski


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020502/ef843cf1/attachment.html

From chrysopa at insecta.ufv.br  Thu May  2 19:41:14 2002
From: chrysopa at insecta.ufv.br (Ronaldo Reis Jr.)
Date: Thu, 2 May 2002 14:41:14 -0300
Subject: [R] plot survival points
Message-ID: <200205021741.g42HfFx05251@apicot.dba.ufv.br>

Hi all,
I have a little problem.
I make an weibull survival analysis using the survival package. It,s OK, them 
I have the functions. I plot this funcions with curve(). I want to make a 
plot with the real survival points (proportion of alive x time) and them add 
the curves to points. I have the time to dead, the censor data and my 
trataments. To analysis the model is:
model1 <- survreg(Surv(time,censor)~trat)
Exist any function in R to plot the real point (proportion of alive in time)?
Thanks
Ronaldo

-- 
That's odd.  That's very odd.  Wouldn't you say that's very odd?
--
|   //|\\   [*****************************][*******************]
|| ( ? ? )  [Ronaldo Reis J?nior          ][PentiumIII-600     ]
|     V     [ESALQ/USP-Entomologia, CP-09 ][HD: 30 + 10 Gb     ]
||  / l \   [13418-900 Piracicaba - SP    ][RAM: 128 Mb        ]
|  /(lin)\  [Fone: 19-429-4199 r.229      ][Video: SiS620-8Mb  ]
||/(linux)\ [chrysopa at insecta.ufv.br      ][Modem: Pctel-onboar]
|/ (linux) \[ICQ#: 5692561                ][SO: CL 7.0 (2.2.19)]
||  ( x )   [*****************************][*******************]
||| _/ \_Powered by Conectiva Linux 7.0 D+:) | Lxuser#: 205366
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Thu May  2 19:40:09 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu, 02 May 2002 13:40:09 -0400
Subject: [R] Building own packages on Windows 2000!
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC295@usrymx10.merck.com>

At install time, you need to select "source package installation files".
Then read the `readme.packages' file, which tells you what you'll need,
which explicitly includes Perl.

Andy

> -----Original Message-----
> From: Witold Eryk Wolski [mailto:wolski at molgen.mpg.de]
> Sent: Thursday, May 02, 2002 1:09 PM
> To: r-help at stat.math.ethz.ch
> Subject: [R] Building own packages on Windows 2000!
> 
> 
> Hi!
> I encountered some things trying to build own packages under Windows 
> 2000 for which i found no answer in the documentation.
> First.
> 
> 1. I do not found the rcmd.exe in the bin directory of R_HOME.
>  I installed R using the setup.exe
> 2. I updated the R intatllation with one of the zip files. 
> (rw1041sp.zip)
> now i had the rcmd.exe in the bin.
> 3. I do not found any hint in the docu that perl is needed.
> 4. I even do not found any hint that there are shared modules 
> and that i 
> can be necessary to add an
> PERL5LIB path to the enviroment variables to use them and i 
> still do not 
> know if it is necessary.
> 
> 
> Anyway, after few ours and some print statements i figured out that
> system("tar chXf $exclude $filepath $pkgname"); in the build 
> file called 
> with
> rcmd build
> causes:
> 
> C:\prog\R\rw1041\myfiles\test>rcmd build --use-zip masspec
> 1
> Its Windows MAN
> ** Options  --use-zip for --binary ignored
> * checking for file `masspec/DESCRIPTION' ... OK
> * preparing `masspec':
> * cleaning src
> its ok
> * checking whether `INDEX' is up-to-date ... OK
> * checking whether `data/00Index' is up-to-date ... OK
> * removing junk files
> * building `masspec_0.1.tar.gz'
> something wrong!!!!!!!!!!
> tar: Unknown option "-hXf"
> Usage: tar -{crtux}[lpmovwzU[0-7[lmh]]] [-b blocks]
>            [-f tarfile] [-V volpattern] [file [-C pathname] ...]
> masspec_0.1.tar: No such file or directory
> 
> even i have the tools for windows installed.
> 
> 
> I really want to build and install my own packages! I am out 
> of ideas now!
> Can anyone give me a hint?
> 
> 
> (is there a mailing list for R-Ms Windows?)
> Sinerely Eryk
> 
> 
> 
> 
> -- 
>     _ _     \|/     \|/
>     ?v?     'v?     'v'
>   //| |\\ //| |\\ //| |\\
> ----m-m-----m-m-----m-m--------w-w-----
>                              \\| |//
>    Eryk Witold Wolski          .^.
>                                /|\
> wolski at molen.mpg.de
> tel      : 0049-(0)30-8413-1543
> fax      : 0049-(0)30-8413-1139
> mobile   : 0049-1793210931
> http://www.molgen.mpg.de/~mass-spec
> http://www.molgen.mpg.de/~wolski
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Thu May  2 19:47:28 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu, 02 May 2002 13:47:28 -0400
Subject: [R] Re: help.start() problem with netscape 6.2.2 (was: R
 1.5.	0 RPM's for Mandrake)
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC296@usrymx10.merck.com>

> From: mikalzet at libero.it [mailto:mikalzet at libero.it]
> 
> On Thu, 2 May 2002, Liaw, Andy wrote:
> 
> > I've installed Netscape 6.2.2 on Mdk82, but have not had 
> much luck with
> > help.start() (R-1.5.0 compiled from source).
> >
> > When I do help.start(), it just starts up netscape with the 
> default home
> > page, rather than the R help page.  Doing ?<anything> at 
> the R prompt starts
> > up yet another netscape instance, but still no R help.
> 
> Doing help.start() a second time with netscape already 
> started gives you
> the R help page ?

Nope.  It starts yet another netscape with the default page.  :( 

> Does the search applet work ?

Yes.
 
> I mean to go over to mdk 8.2 but I think I'll install a 
> version of good
> old netscape 4.7 ...

May not be a bad idea.  I've had better luck with netscape 4.7, I think. 

Andy


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu May  2 19:42:03 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 2 May 2002 10:42:03 -0700 (PDT)
Subject: [R] plot survival points
In-Reply-To: <200205021741.g42HfFx05251@apicot.dba.ufv.br>
Message-ID: <Pine.A41.4.44.0205021040440.27118-100000@homer36.u.washington.edu>

On Thu, 2 May 2002, Ronaldo Reis Jr. wrote:

> Hi all,
> I have a little problem.
> I make an weibull survival analysis using the survival package. It,s OK, them
> I have the functions. I plot this funcions with curve(). I want to make a
> plot with the real survival points (proportion of alive x time) and them add
> the curves to points. I have the time to dead, the censor data and my
> trataments. To analysis the model is:
> model1 <- survreg(Surv(time,censor)~trat)
> Exist any function in R to plot the real point (proportion of alive in time)?

plot(survfit(Surv(time,censor)~trt))

or to superimpose on an existing plot

lines(survfit(Surv(time,censor)~trt))

	-thomas


Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From csprin at brandybuck.ca.sandia.gov  Thu May  2 20:08:06 2002
From: csprin at brandybuck.ca.sandia.gov (Clayton Springer)
Date: Thu, 2 May 2002 11:08:06 -0700
Subject: [R] regression tree robustness
In-Reply-To: <E09E527B56BE2D438A3D6A246DDD27A90C18AA@Roper-CV.qld.cmis.csiro.au>; from Bill.Venables@CMIS.CSIRO.AU on Sun, Apr 28, 2002 at 05:30:14PM +1000
References: <E09E527B56BE2D438A3D6A246DDD27A90C18AA@Roper-CV.qld.cmis.csiro.au>
Message-ID: <20020502110806.B14914@brandybuck>

Bill Venables suggestes:

> The problem, such as it is, is not with rpart but with your model.  You
> might try a transformation of y, for example, and see if you get anything
> more useful to you.  With a transformed response the least squares fitting
> procedure might be more reasonable and productive.

Is there robust alternative to least squares fitting that could applied instead?

--Clayton
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrysopa at insecta.ufv.br  Thu May  2 20:21:38 2002
From: chrysopa at insecta.ufv.br (Ronaldo Reis Jr.)
Date: Thu, 2 May 2002 15:21:38 -0300
Subject: [R] plot survival points
In-Reply-To: <Pine.A41.4.44.0205021040440.27118-100000@homer36.u.washington.edu>
References: <Pine.A41.4.44.0205021040440.27118-100000@homer36.u.washington.edu>
Message-ID: <200205021821.g42ILdx05352@apicot.dba.ufv.br>

Em Qui 02 Mai 2002 14:42, Thomas Lumley escreveu:
>
> plot(survfit(Surv(time,censor)~trt))
>
> or to superimpose on an existing plot
>
> lines(survfit(Surv(time,censor)~trt))
>
> 	-thomas
>
>
> Thomas Lumley			Asst. Professor, Biostatistics
> tlumley at u.washington.edu	University of Washington, Seattle

Hi Thomas
I try it, but the graphic make is not a point graphic, is a ?scale? plot, 
like this:

|_
| |_
|   |
|   |__
|      |_
|        |_
|_____________

I need the same graphic, but with point like this:

|
| *
|   *
|   *
|       *
|         *
|____________

I try to change the type (plot(survfit(Surv(tempo,censor)~trat),type="p")), 
but  dont work:(((. I try to use points(survfit(Surv(tempo,censor)~trat), but 
this only work over the plot graphics with ?scales lines? I try to plot using 
type="n" but dont work too. Whem I use type the error appear:

Error in plot.default(tempx, tempy * yscale, type = "n", log = logax,  : 
	formal argument "type" matched by multiple actual arguments

Exist a mode for save the data to be plotted, saving all points calculated by 
the function survfit(Surv(tempo,censor)~trat in a object?

Thanks for all
Inte mais
Ronaldo

-- 
Maternity pay?	Now every Tom, Dick and Harry will get pregnant.
		-- Malcolm Smith
--
|   //|\\   [*****************************][*******************]
|| ( ? ? )  [Ronaldo Reis J?nior          ][PentiumIII-600     ]
|     V     [ESALQ/USP-Entomologia, CP-09 ][HD: 30 + 10 Gb     ]
||  / l \   [13418-900 Piracicaba - SP    ][RAM: 128 Mb        ]
|  /(lin)\  [Fone: 19-429-4199 r.229      ][Video: SiS620-8Mb  ]
||/(linux)\ [chrysopa at insecta.ufv.br      ][Modem: Pctel-onboar]
|/ (linux) \[ICQ#: 5692561                ][SO: CL 7.0 (2.2.19)]
||  ( x )   [*****************************][*******************]
||| _/ \_Powered by Conectiva Linux 7.0 D+:) | Lxuser#: 205366
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu May  2 20:48:19 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 2 May 2002 11:48:19 -0700 (PDT)
Subject: [R] plot survival points
In-Reply-To: <200205021821.g42ILdx05352@apicot.dba.ufv.br>
Message-ID: <Pine.A41.4.44.0205021145550.27118-100000@homer36.u.washington.edu>

On Thu, 2 May 2002, Ronaldo Reis Jr. wrote:
>
> Hi Thomas
> I try it, but the graphic make is not a point graphic, is a ?scale? plot,
> like this:
>
> |_
> | |_
> |   |
> |   |__
> |      |_
> |        |_
> |_____________
>
> I need the same graphic, but with point like this:
>
> |
> | *
> |   *
> |   *
> |       *
> |         *
> |____________
>

Here's an example of superimposing points on lines for two groups

library(survival)
data(aml)
#fitted exponential models
curve(1-pexp(x,rate=0.04314),col="green",from=0,to=150)
curve(1-pexp(x,rate=0.01655),col="blue",from=0,to=150,add=TRUE)
 fit <- survfit(Surv(time, status) ~ x, data = aml)
 points(fit[1],col="blue")
 points(fit[2],col="green")


	-thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu May  2 21:07:49 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Thu, 2 May 2002 15:07:49 -0400
Subject: [R] Re: help.start() problem with netscape 6.2.2 (was: R 1.5.	0 RPM's for Mandrake)
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC296@usrymx10.merck.com>
References: <51F9C42DA15CD311BD220008C707D81906FFC296@usrymx10.merck.com>
Message-ID: <20020502150749.71ff7f8f.fharrell@virginia.edu>

I suggest you take a look at the ultra-compact ultra-fast dillo web browser (http://dillo.cipsga.org.br) too.  I have sometimes found it handy to get help on R functions outside of R using this browser, by defining the "rhlp" command in Linux/bash as

dillo file:`locate -r "/usr/lib/R/.*/$1.html" | head -1` &

I'm sure you could use dillo from within R also.  -Frank

On Thu, 02 May 2002 13:47:28 -0400
"Liaw, Andy" <andy_liaw at merck.com> wrote:

> > From: mikalzet at libero.it [mailto:mikalzet at libero.it]
> > 
> > On Thu, 2 May 2002, Liaw, Andy wrote:
> > 
> > > I've installed Netscape 6.2.2 on Mdk82, but have not had 
> > much luck with
> > > help.start() (R-1.5.0 compiled from source).
> > >
> > > When I do help.start(), it just starts up netscape with the 
> > default home
> > > page, rather than the R help page.  Doing ?<anything> at 
> > the R prompt starts
> > > up yet another netscape instance, but still no R help.
> > 
> > Doing help.start() a second time with netscape already 
> > started gives you
> > the R help page ?
> 
> Nope.  It starts yet another netscape with the default page.  :( 
> 
> > Does the search applet work ?
> 
> Yes.
>  
> > I mean to go over to mdk 8.2 but I think I'll install a 
> > version of good
> > old netscape 4.7 ...
> 
> May not be a bad idea.  I've had better luck with netscape 4.7, I think. 
> 
> Andy
> 
> 
> ------------------------------------------------------------------------------
> Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.
> 
> ==============================================================================
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu May  2 21:26:05 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 02 May 2002 21:26:05 +0200
Subject: [R] Building own packages on Windows 2000!
References: <3CD17655.4080504@molgen.mpg.de> <3CD16B92.46794235@statistik.uni-dortmund.de> <3CD184CB.8060809@molgen.mpg.de>
Message-ID: <3CD192CD.8FDF69D7@statistik.uni-dortmund.de>

Witold Eryk Wolski wrote:
> 
> Hi Uwe!
> 
> Thanks. The key to solve this problem was the output of your tar
> program.
> I had a different tar. Setting the tools directory first  in the path
> variable solved the problem.
> 
> But solving  one problem leads to the next.
> now i have a file called
> mypackage.tar.gz generated by
> >rcmd build mypackage
> But i am still working with windows 2000?
> I expected to find a zip file.

You can install the package with
 Rcmd INSTALL package.tar.gz
which compiles the sources, builds the help files etc.

After that you'll find the package installed in 
...\rw1050\library\packagename
Now you can build a *.zip file containing that particular directory with
any zip tool.


> I know that I am asking trivial questions but I want to come after a
> few hours to an end.
> 
> I a missing in R extension a more detailed step by step description
> with some examples.
> To whom send proposals of change to the R extensions manual.  I am
> also willing to writ one step by step descriptin for windows 2000.

I think the right people got your mail now ...

 
> Sincerely Eryk
> 
> The output of tar --version is:
> C:\prog\R\rw1041\myfiles\test>tar --version
> tar: Unknown option "--version"
> Usage: tar -{crtux}[lpmovwzU[0-7[lmh]]] [-b blocks]
>            [-f tarfile] [-V volpattern] [file [-C pathname] ...]
> 
> But for sure it is the tar that i downloaded with the tools from the
> cran.

Well, my tar is a few weeks old, but it reports its version with tar
--version on WinNT and WinXP. Are your really sure about executing the
right one?

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From H.F.Xie at westminster.ac.uk  Thu May  2 22:07:40 2002
From: H.F.Xie at westminster.ac.uk (Haifeng (Kevin) Xie)
Date: Thu, 2 May 2002 21:07:40 +0100
Subject: [R] Compiling R-1.5.0 failed on Solaris 5.8
References: <00fa01c1f1f0$aa616840$be884aa1@staffpc79> <3CD16576.FBEC6692@statistik.uni-dortmund.de>
Message-ID: <00a101c1f215$03844680$be884aa1@staffpc79>


Earlier I posted a message regarding an error encountered when compiling
R-1.5.0. It turned out that it was due to (or it seems to be) the name of the a
library libbz2.so.1.0 appears differently in our system (don't know why). I
managed to work around it by making a local copy of the file, rename it and -L
to the LD_LIBRARY_PATH. It seems to do the trick, R-1.5.0 compilied without
complaining :-)

My sincere thanks to Uwe Ligges who gave me a big hint.

Best regards,

Kevin


> "Haifeng (Kevin) Xie" wrote:
> >
> > Greetings!
> >
> > When compiling R-1.5.0 on Solaris 5.8, I got the following error message
(see
> > below). I've been using R-1.4.0 with no difficulties. I renamed the previous
R
> > installation to R-1.4.0 (following suggestions of an earlier post by Peter
> > Dalgaard) before compiling R-1.5.0. And I've checked that the enviornment
> > variable R_LIBS is not set.
> >
> > Is there something I overlooked? Any suggestions are much appreciated.
> >
> > Kevin
> >
> > =========================================================
> > [...]
> >
> > mkdir -p -- ../../../../library/methods/libs
> > make[5]: Leaving directory `/tmp/R-1.5
.0/src/library/methods/src'
> > make[4]: Leaving directory `/tmp/R-1.5.0/src/library/methods/src'
> > make[4]: Entering directory `/tmp/R-1.5.0/src/library/methods'
> > dumping R code in package 'methods'
> > ld.so.1: /tmp/R-1.5.0/bin/R.bin: fatal: libbz2.so.1.0: open failed: No such
file
> > or directory
> > Killed
> > make[4]: *** [../../../library/methods/R/all.rda] Error 137
> > make[4]: Leaving directory `/tmp/R-1.5.0/src/library/methods'
> > make[3]: *** [all] Error 2
> > make[3]: Leaving directory `/tmp/R-1.5.0/src/library/methods'
> > make[2]: *** [R] Error 1
> > make[2]: Leaving directory `/tmp/R-1.5.0/src/library'
> > make[1]: *** [R] Error 1
> > make[1]: Leaving directory `/tmp/R-1.5.0/src'
> > make: *** [R] Error 1


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu May  2 22:35:37 2002
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 02 May 2002 16:35:37 -0400
Subject: [R] influence.measures for glm
In-Reply-To: <Pine.A41.4.44.0205020918280.27118-100000@homer36.u.washing
 ton.edu>
References: <3CD1162B.6454EE29@lpl.univ-aix.fr>
Message-ID: <5.1.0.14.2.20020502162823.01d5e830@mcmail.cis.mcmaster.ca>

Dear Thomas and Robert,

At 09:21 AM 5/2/2002 -0700, Thomas Lumley wrote:
>On Thu, 2 May 2002, Robert Espesser wrote:
>
> > From the mail archives, it is not clear for me in what extend
> > influence.measures is  correct for
> > a glm model  ( family=binomial, for my problem).  I'm aware of the
> > existence of
> > glm.diag and glm.diag.plot, but is there somewhere a function like
> > influence.measures for a glm model , from which it is very easy to get a
> > list
> > of the influential observations.
> >
>
>I think all the influence measures for lm also work for glm. Certainly
>lm.influence(), which underlies them, does.  Most of these measures are
>defined for glms in terms of the weighted linear model fit by the last
>iteration of IWLS.

If I remember correctly, some common influence statistics (and other 
casewise diagnostics), such as Cook's distances and studentized residuals, 
need a little tweaking to get the usual generalizations to GLMs. Again, if 
I remember right, most of the information needed is available from 
lm.influence.

John


-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hortresearch.co.nz  Thu May  2 23:20:49 2002
From: P.Connolly at hortresearch.co.nz (Patrick Connolly)
Date: Fri, 3 May 2002 09:20:49 +1200 (NZST)
Subject: [R] upgrading to 1.5.0/uninstalling 1.4.1 on Linux
In-Reply-To: <x21ycwl3fr.fsf@blueberry.kubism.ku.dk> from "Peter Dalgaard BSA" at May 01, 2002 09:42:16 AM
Message-ID: <200205022120.g42LKnT12600@biomat1.marc.hort.cri.nz>

According to Peter Dalgaard BSA:
|> 
|> Rajiv Prasad <rajiv.prasad at charter.net> writes:
|> 
|> > Hi folks:
|> > 
|> > I have a feeling this must be a FAQ, but I did not find the answer in R 
|> > Installation and Administration manual.  Please point me to the right place 
|> > to look for answer to this question if it's already answered.
|> > 
|> > I am running 1.4.1 on an Alpha PCA56 (aka 164SX) running Redhat Linux 7.1 
|> > (kernel 2.4.19-pre4).  I built 1.4.1 from sources and it is installed in 
|> > /usr/local (the default).  I did compile and install some additional packages 
|> > for 1.4.1 besides the recommended ones.
|> > 
|> > I want to upgrade to 1.5.0 now (it is being built now).  Do I need to 
|> > uninstall 1.4.1 before I "make install" 1.5.0?  If yes, how exactly?
|> 
|> Most likely, very little harm would come from just installing on top
|> of the old version. It does have the advantage of keeping previously
|> installed packages in place, but also the risk that some of them may
|> be broken with the new version.
|> 
|> Removing your current /usr/local/lib/R is a sure kill, but you could
|> also
|> 
|> mv /usr/local/lib/R /usr/local/lib/R-1.4.1
|> mv /usr/local/bin/R /usr/local/bin/R-1.4.1
|> 
|> And -- this is the important bit -- edit the /usr/local/bin/R-1.4.1
|> shell script and set R_HOME_DIR to the new location. This leaves the
|> old version runnable as "R-1.4.1" until you see fit to remove it.

Is that sufficient if R has been installed as a shared library?  It
would appear not in my experience.  I tried that suggestion, but R is
still referring to R-1.4.1 when I try to install the
R-1.5.0-recommended tar.gz files.

Does it mean I have to remove the R-1.4.1 before I start?

Thanks

-- 
*************************************************************
   ___      Patrick Connolly
 {~._.~}    HortResearch             Great minds discuss ideas;
 _( Y )_    Mt Albert                Average minds discuss events; 
(:_~*~_:)   Auckland                 Small minds discuss people.
 (_)-(_)    New Zealand                                    .... Anon
            Ph: +64-9 815 4200 x 7188
*************************************************************


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcos_sanches at gallup.com  Thu May  2 23:25:18 2002
From: marcos_sanches at gallup.com (Marcos Sanches)
Date: Thu, 2 May 2002 18:25:18 -0300
Subject: [R] Surface Graphic
Message-ID: <001a01c1f21f$dbcae620$b454a8c0@gallup.com.br>


Hello list!

I have a problem with the function 'persp'. I have a data set with the
variables
X -> The X coordenate of the insect
Y -> The Y coordenate of the insect
deep-> how deep the insect buried into the soil.

I would like to have a plot with a surface simulating the way the insect
buried. Is it possible? If I type

persp(x,y,deep)

R gives me this error message

Error in persp.default(X, Y, deep) :
        increasing x and y values expected

How do I overcome this?

Thanks,

Marcos

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.hankin at auckland.ac.nz  Thu May  2 23:28:18 2002
From: r.hankin at auckland.ac.nz (Robin Hankin)
Date: Fri, 3 May 2002 09:28:18 +1200
Subject: [R] Surface Graphic
In-Reply-To: <001a01c1f21f$dbcae620$b454a8c0@gallup.com.br>
	(marcos_sanches@gallup.com)
References: <001a01c1f21f$dbcae620$b454a8c0@gallup.com.br>
Message-ID: <200205022128.g42LSIE05580@r.hankin.sems.auckland.ac.nz>

Hello Marcos

library (akima) includes a function interp() which will do
what you want.


rksh


> 
> Hello list!
> 
> I have a problem with the function 'persp'. I have a data set with the
> variables
> X -> The X coordenate of the insect
> Y -> The Y coordenate of the insect
> deep-> how deep the insect buried into the soil.
> 
> I would like to have a plot with a surface simulating the way the insect
> buried. Is it possible? If I type
> 
> persp(x,y,deep)
> 
> R gives me this error message
> 
> Error in persp.default(X, Y, deep) :
>         increasing x and y values expected
> 
> How do I overcome this?
> 
> Thanks,
> 
> Marcos
> 


-- 

Robin Hankin, Lecturer,
School of Geographical and Environmental Science
Private Bag 92019 Auckland
New Zealand

r.hankin at auckland.ac.nz
tel 0064-9-373-7599 x6820; FAX 0064-9-373-7042

as of: Fri May  3 09:26:01 NZST 2002
This (linux) system up continuously for:  246 days, 16 hours, 21 minutes
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From klavan at tiscalinet.it  Thu May  2 23:42:46 2002
From: klavan at tiscalinet.it (Ambrosini Alessandro)
Date: Thu, 2 May 2002 23:42:46 +0200
Subject: [R] Problem
Message-ID: <PPEGLLABFLFCJDLCGPGHEEJECAAA.klavan@tiscalinet.it>

Hello.
I have a vector of about 1000 words. Now I make an example with 5 words.
The vector is
a b c d e
after some works I obtained a matrix with the vector in the first row as

aa bb cc dd ee
1  0  1  1  0

After other passage I obtained another vector that has the same words but
that not the same order of the first one. I obtained

dd ee cc aa bb

Now my problem is to find a new matrix starting from the one that I wrote
before, changing the position of the columns, according to the order of the
second vector.
Using the example I want to obtain

dd ee cc aa bb
1  0  1  1  0

The real vector is very long and so I can't make  change of position of the
columns manually.
Thank you
Alessandro

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From seniorr at aracnet.com  Thu May  2 23:45:16 2002
From: seniorr at aracnet.com (Russell Senior)
Date: 02 May 2002 14:45:16 -0700
Subject: [R] coercing "numeric" components of data frame to "factor" or "ordered"?
Message-ID: <866626teab.fsf@coulee.tdb.com>


I am getting ready to load a bunch of data into R.  The data is all
numeric, but some of the numbers are integer codes representing
non-numeric semantics.  What is the best way to "fix" the data frames
so that these compenents are recognized as "factors" or "ordered", as
appropriate?

Can I "assign" to some attribute of the data frame component, like the
"class" or "levels" to get the desired effect?

Thanks!

-- 
Russell Senior         ``The two chiefs turned to each other.        
seniorr at aracnet.com      Bellison uncorked a flood of horrible       
                         profanity, which, translated meant, `This is
                         extremely unusual.' ''                      
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Thu May  2 23:48:37 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Thu, 2 May 2002 14:48:37 -0700 (PDT)
Subject: [R] Surface Graphic
In-Reply-To: <001a01c1f21f$dbcae620$b454a8c0@gallup.com.br>
Message-ID: <Pine.GSO.4.10.10205021445090.5458-100000@fisher.stat.ucla.edu>

persp() takes a matrix and plots it as a surface.

I'm not entirely sure of what you're saying, but if you just want to plot
the points, you might consider using the scatterplot3d package on CRAN.  
If you want a surface, then you might want to smooth the points -- for
instance, you could use sm.regression() from the sm package.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Thu, 2 May 2002, Marcos Sanches wrote:

> 
> Hello list!
> 
> I have a problem with the function 'persp'. I have a data set with the
> variables
> X -> The X coordenate of the insect
> Y -> The Y coordenate of the insect
> deep-> how deep the insect buried into the soil.
> 
> I would like to have a plot with a surface simulating the way the insect
> buried. Is it possible? If I type
> 
> persp(x,y,deep)
> 
> R gives me this error message
> 
> Error in persp.default(X, Y, deep) :
>         increasing x and y values expected
> 
> How do I overcome this?
> 
> Thanks,
> 
> Marcos
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Thu May  2 23:56:55 2002
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Fri, 3 May 2002 09:56:55 +1200
Subject: [R] tab complete for R under ESS
Message-ID: <3CD25EE7.18516.898C74A@localhost>

> System info:
> R Version 1.4.1  (2002-01-30) on Windows 2000
> ESS v. 5.1.20 using emacs ver. 21.1.1

Colleagues

Some time ago I asked about tab complete functionality for R under 
ESS on windows. I never got it working as well as I might have liked until 
today. It is still slow the first time while all the environments are checked 
but after that it works well. 

The solution below might usefully go in the R-tips 
<http://lark.cc.ukans.edu/~pauljohn/R/statsRus.html>.

**** Please note: credit goes to my colleague, Michael Manning, not to 
me, especially if you do put this in R-tips *****

Here is the fix, in Martin's words:
------------------------------------
The lines you need to change are in the file "ess-inf.el".  You should
be able to find this file inside the lisp directory inside your ess
directory, e.g.

"c:\Program Files\XEmacs\xemacs-packages\lisp\ess-5.1.21\lisp"

You need to replace the line (comment out with ;;;)

"(ess-command (format inferior-ess-load-command filename) 
errbuffer)" 

with the lines

"(ess-command (format inferior-ess-load-command
                    (let ((directory-sep-char ?/))
                    (expand-file-name filename)))
                    errbuffer)"

and things should be sweet.  NOTE: this works for ESS 5.1.21 or 5.1.20 
(and R 1.4.1)  under the win32 port of XEmacs 21.4.1.  It also works for  
GNU Emacs as the problem is in ESS, not (X)Emacs.
-------------------------------

Sam

Sam McClatchie, 
Research scientist (fisheries acoustics))))))))))
http://www.smcc.150m.com/
NIWA (National Institute of Water & Atmospheric Research Ltd)
Postal address: PO Box 14 901, Kilbirnie, Wellington, New Zealand. 
Street address: 301 Evans Bay Parade, Greta Point, 6003 Wellington, New Zealand.
phone 64-04-386-0300, FAX: 64-4-386 0574. 
                   /\
      ...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Fri May  3 00:34:29 2002
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Thu, 2 May 2002 17:34:29 -0500
Subject: [R] coercing "numeric" components of data frame to "factor" or "ordered"?
Message-ID: <OF662CFB3B.A634775F-ON86256BAD.007BBBC8@mmm.com>


I am not sure if this is the best way, but one way to do this is simply to
call the as.factor function.  Here is a trivial example.

> x <- c(1, 1, 2, 2, 2, 4, 5, 5)
> y <- rnorm(length(x))
> dd <- data.frame(x, y)
> dd$x <- as.factor(dd$x)

Now the x component is a factor.

Cheers,

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122


                                                                                                                                               
                    Russell Senior                                                                                                             
                    <seniorr at aracne      To:     r-help at stat.math.ethz.ch                                                                      
                    t.com>               cc:     (bcc: Andrzej P. Jaworski/US-Corporate/3M/US)                                                 
                                         Subject:     [R] coercing "numeric" components of data frame to "factor" or "ordered"?                
                    05/02/2002                                                                                                                 
                    16:45                                                                                                                      
                                                                                                                                               
                                                                                                                                               






I am getting ready to load a bunch of data into R.  The data is all
numeric, but some of the numbers are integer codes representing
non-numeric semantics.  What is the best way to "fix" the data frames
so that these compenents are recognized as "factors" or "ordered", as
appropriate?

Can I "assign" to some attribute of the data frame component, like the
"class" or "levels" to get the desired effect?

Thanks!

--
Russell Senior         ``The two chiefs turned to each other.
seniorr at aracnet.com      Bellison uncorked a flood of horrible
                         profanity, which, translated meant, `This is
                         extremely unusual.' ''
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jean-francois.rami at euralis.fr  Fri May  3 01:00:59 2002
From: jean-francois.rami at euralis.fr (jean-francois.rami@euralis.fr)
Date: Fri, 3 May 2002 01:00:59 +0200
Subject: [R] Jean-Francois RAMI/RPG/SEMENCES/EURALIS est absent.
Message-ID: <OF2A7E1DF4.1A44980F-ONC1256BAD.007E6EEF-C1256BAD.007E6EEF@euralis.fr>

Je serai absent(e) du  02/05/2002 au 14/05/2002.

Je r?pondrai ? votre message d?s mon retour.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From seniorr at aracnet.com  Fri May  3 01:18:21 2002
From: seniorr at aracnet.com (Russell Senior)
Date: 02 May 2002 16:18:21 -0700
Subject: [R] coercing "numeric" components of data frame to "factor" or "ordered"?
In-Reply-To: <OF662CFB3B.A634775F-ON86256BAD.007BBBC8@mmm.com>
References: <OF662CFB3B.A634775F-ON86256BAD.007BBBC8@mmm.com>
Message-ID: <86y9f2rveq.fsf@coulee.tdb.com>

>>>>> "Andy" == apjaworski  <apjaworski at mmm.com> writes:

Andy> I am not sure if this is the best way, but one way to do this is
Andy> simply to call the as.factor function.  Here is a trivial
Andy> example.

  > x <- c(1, 1, 2, 2, 2, 4, 5, 5) 
  > y <- rnorm(length(x)) 
  > dd <- data.frame(x, y) 
  > dd$x <- as.factor(dd$x)

Andy> Now the x component is a factor.

It looks like if I then do:

> attr(dd$x,"levels") <- c("a","b","d","e")

I can "poke" new factor labels into the data frame (being careful to
align the new alphabetic levels with the previously numeric levels):

> dd
  x            y
1 a  1.493814499
2 a -1.146225474
3 b  0.004065931
4 b -1.426267694
5 b -0.084461051
6 d -0.094001987
7 e -0.631636358
8 e  0.227095141

I guess that'll work for me.  Thanks!


-- 
Russell Senior         ``The two chiefs turned to each other.        
seniorr at aracnet.com      Bellison uncorked a flood of horrible       
                         profanity, which, translated meant, `This is
                         extremely unusual.' ''                      
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri May  3 03:03:33 2002
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 02 May 2002 21:03:33 -0400
Subject: [R] coercing "numeric" components of data frame to
  "factor" or "ordered"?
In-Reply-To: <866626teab.fsf@coulee.tdb.com>
Message-ID: <5.1.0.14.2.20020502205354.01d6ccf0@mcmail.cis.mcmaster.ca>

Dear Russell,

At 02:45 PM 5/2/2002 -0700, you wrote:

>I am getting ready to load a bunch of data into R.  The data is all
>numeric, but some of the numbers are integer codes representing
>non-numeric semantics.  What is the best way to "fix" the data frames
>so that these compenents are recognized as "factors" or "ordered", as
>appropriate?
>
>Can I "assign" to some attribute of the data frame component, like the
>"class" or "levels" to get the desired effect?
>
>Thanks!


Actually, you can do exactly what you suggest. Say you have a data frame df 
with numeric variables one and two:

         attr(df$one, 'levels') <- sort(unique(df$one))
         class(df$one) <- 'factor'

         attr(df$two, 'levels') <- sort(unique(df$two))
         class(df$two) <- c('ordered', 'factor')

But it's probably simpler just to do

         df$one <- factor(df$one)
         df$two <- ordered(df$two)

I hope that this helps,
  John





-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at yifan.net  Fri May  3 04:51:32 2002
From: ggrothendieck at yifan.net (ggrothendieck@yifan.net)
Date: Thu, 2 May 2002 22:51:32 -0400
Subject: [R] GUI Input Forms 
Message-ID: <3CD1C2F4.10529.7A3B16@localhost>


I have been inputting my data into text files using a text 
editor on a Windows 2000 PC.

I would like to create a front end form that does validation
on the fly to reduce the errors in my input and make it
possible for family members that are not into computers 
to help me out with data input tasks.

I assume that my form program would translate the
input into a text file which I would then read in the
normal way into R.

Does anyone have any suggestions of some software that 
makes it easy to set this up.   I was hoping not to have to put 
a major time commitment into learning it nor to create the form
so something with a fast learning curve and not too much
required expertise is preferred.

Free software is preferred, cheap software is second best
but any suggestions are welcome.  

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Fri May  3 05:07:56 2002
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Fri, 3 May 2002 15:07:56 +1200
Subject: [R] tab complete for R under ESS/ 2
Message-ID: <3CD2A7CC.6683.2C74FB@localhost>

> System info:
> R Version 1.4.1  (2002-01-30) on Windows 2000
> ESS v. 5.1.20 using emacs ver. 21.1.1

Colleagues

Please ignore my previous posts about this subject. 
There was a mixup on my part concerning what this "fix" was for. The fix 
has been unfixed and all is now working again.

Sincerely,

Sam

Sam McClatchie, 
Research scientist (fisheries acoustics))))))))))
http://www.smcc.150m.com/
NIWA (National Institute of Water & Atmospheric Research Ltd)
Postal address: PO Box 14 901, Kilbirnie, Wellington, New Zealand. 
Street address: 301 Evans Bay Parade, Greta Point, 6003 Wellington, New Zealand.
phone 64-04-386-0300, FAX: 64-4-386 0574. 
                   /\
      ...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.C.Rougier at durham.ac.uk  Fri May  3 08:35:55 2002
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Fri, 03 May 2002 07:35:55 +0100
Subject: [R] Problem
References: <PPEGLLABFLFCJDLCGPGHEEJECAAA.klavan@tiscalinet.it>
Message-ID: <3CD22FCB.6F3A6456@durham.ac.uk>

Hi Alessandro,

Your question is a bit confusing but I think that the standard
subscripting operation will do this for you.  If your first vector is
named "orig" and your permuted vector is "perm", and the matrix with
columns named "orig" is "X", then you want to use the command "X[, perm,
drop=FALSE]" (you may not need to put "drop=FALSE", see "help("[")"). 
This is exactly the same as doing "X[, match(perm, orig), drop=FALSE]",
and you can examine the command "match(perm, orig)" directly to see what
is going on.

Cheers, Jonathan.

Ambrosini Alessandro wrote:
> 
> Hello.
> I have a vector of about 1000 words. Now I make an example with 5 words.
> The vector is
> a b c d e
> after some works I obtained a matrix with the vector in the first row as
> 
> aa bb cc dd ee
> 1  0  1  1  0
> 
> After other passage I obtained another vector that has the same words but
> that not the same order of the first one. I obtained
> 
> dd ee cc aa bb
> 
> Now my problem is to find a new matrix starting from the one that I wrote
> before, changing the position of the columns, according to the order of the
> second vector.
> Using the example I want to obtain
> 
> dd ee cc aa bb
> 1  0  1  1  0
> 
> The real vector is very long and so I can't make  change of position of the
> columns manually.
> Thank you
> Alessandro
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fromont at biomserv.univ-lyon1.fr  Fri May  3 09:50:52 2002
From: fromont at biomserv.univ-lyon1.fr (Emmanuelle Fromont)
Date: Fri, 3 May 2002 09:50:52 +0200
Subject: [R] Regression models for ordinal responses ??
Message-ID: <v03007801b8f7ee3a29b1@[134.214.32.67]>

Hello list,

Is there any mean to fit models for ordinal response other than multinomial
polytomous ("multinom" from nnet ) and cumulative logit ("polr" from MASS)?
I am particularly interested in continuation-ratio model and
adjacent-category logit model. It is for the sake of epidemiology in
wild-living populations!

Many thanks,

Emmanuelle Fromont





************************************
     Emmanuelle Fromont / India
     UMR CNRS 5558
     Universit? Lyon 1
     43 Bd du 11 novembre 1918
     69622 Villeurbanne Cedex France
      tel (0)4 72 44 80 18 / poste 48018
      fax (0)4 78 89 27 19
************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jerome.Goudet at ie-zea.unil.ch  Fri May  3 10:07:54 2002
From: Jerome.Goudet at ie-zea.unil.ch (Jerome Goudet)
Date: Fri, 03 May 2002 10:07:54 +0200
Subject: [R] R-squared in lm
Message-ID: <5.0.0.25.2.20020503100128.00abc0e8@pop-server.unil.ch>

Dear all,

I'm puzzled by the definition of r-squared used by 'lm' when the model is 
without intercept.

The help for summary says:

>r.squared: R^2, the ``fraction of variance explained by the model'',
>
>               R^2 = 1 - Sum(R[i]^2) / Sum((y[i]- y*)^2),
>
>           where y* is the mean of y[i] if there is an intercept and
>           zero otherwise.



Why, when there is no intercept (when the intercept is set to 0), should 
the average values of the response be 0?

Many thanks for any enlightments!

Prof. Jerome GOUDET
Institut d'Ecologie, Bat. Biologie
Uni. Lausanne , CH-1015 Lausanne
Switzerland
Tel: +41 21 692 42 42    Fax: +41 21 692 42 65
Secr:+41 21 692 42 60

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jaitchis at hwy.com.au  Fri May  3 10:14:23 2002
From: jaitchis at hwy.com.au (John Aitchison)
Date: Fri, 3 May 2002 18:14:23 +1000
Subject: [R] seq curiosity
In-Reply-To: <Pine.GSO.4.31.0109040652450.7740-100000@auk.stats>
References: <Pine.SOL.4.33.0109040125290.22993-100000@is-sm1.uncc.edu>
Message-ID: <3CD2D37F.16527.5CA9D0@localhost>



Is this a bug or a feature?

> seq(0:4)  # colon 
[1] 1 2 3 4 5
> 0:4
[1] 0 1 2 3 4
> seq(0,4)
[1] 0 1 2 3 4

I am aware that the first usage is incorrect, but I was surprised that
I did not get any sort of syntax error



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Fri May  3 10:26:45 2002
From: plummer at iarc.fr (Martyn Plummer)
Date: Fri, 03 May 2002 10:26:45 +0200 (CEST)
Subject: [R] seq curiosity
In-Reply-To: <3CD2D37F.16527.5CA9D0@localhost>
Message-ID: <XFMail.20020503102645.plummer@iarc.fr>


On 03-May-2002 John Aitchison wrote:

> Is this a bug or a feature?
> 
>> seq(0:4)  # colon 
> [1] 1 2 3 4 5
>> 0:4
> [1] 0 1 2 3 4
>> seq(0,4)
> [1] 0 1 2 3 4
> 
> I am aware that the first usage is incorrect, but I was surprised that
> I did not get any sort of syntax error

Feature.  With a single (vector) argument, seq returns the sequence
1:n where n is the length of the vector.  This is described on the
help page ( see argument "along" ).

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri May  3 10:31:24 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 03 May 2002 10:31:24 +0200
Subject: [R] seq curiosity
References: <Pine.SOL.4.33.0109040125290.22993-100000@is-sm1.uncc.edu> <3CD2D37F.16527.5CA9D0@localhost>
Message-ID: <3CD24ADC.82A7C478@statistik.uni-dortmund.de>

John Aitchison wrote:
> 
> Is this a bug or a feature?
> 
> > seq(0:4)  # colon
> [1] 1 2 3 4 5
> > 0:4
> [1] 0 1 2 3 4
> > seq(0,4)
> [1] 0 1 2 3 4
> 
> I am aware that the first usage is incorrect, but I was surprised that
> I did not get any sort of syntax error

It's a feature! It's mentioned in the help page. If you provide a vector
(length > 1) as an argument to seq(), seq() is smart enough to detect
the case "seq(along)":

 along <- 0:4
 seq(along)

The same should happen for

 along <- LETTERS[10:14]
 along
 seq(along)

Everything works perfectly!

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May  3 10:40:20 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 3 May 2002 09:40:20 +0100 (BST)
Subject: [R] R-squared in lm
In-Reply-To: <5.0.0.25.2.20020503100128.00abc0e8@pop-server.unil.ch>
Message-ID: <Pine.GSO.4.44.0205030935540.7162-100000@auk.stats>

On Fri, 3 May 2002, Jerome Goudet wrote:

> Dear all,
>
> I'm puzzled by the definition of r-squared used by 'lm' when the model is
> without intercept.
>
> The help for summary says:
>
> >r.squared: R^2, the ``fraction of variance explained by the model'',
> >
> >               R^2 = 1 - Sum(R[i]^2) / Sum((y[i]- y*)^2),
> >
> >           where y* is the mean of y[i] if there is an intercept and
> >           zero otherwise.
>
>
>
> Why, when there is no intercept (when the intercept is set to 0), should
> the average values of the response be 0?

No reason, and that's not what is said.

That is the definition of R^2, the proportion of the total variation
explained.  And the total variation is defined to be about the mean if it
is in the model, and about 0 otherwise.


Think of R^2 as comparing the regression SS with that of a minimal model.
If there is an intercept, the data are assumed to be on an arbitrary
interval scale, so the minimal model has an intercept too. If there is no
intercept, you are saying that 0 is special on the y scale, and the minimal
model is to predict 0.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From W.Simpson at gcal.ac.uk  Fri May  3 10:42:48 2002
From: W.Simpson at gcal.ac.uk (Bill Simpson)
Date: Fri, 3 May 2002 09:42:48 +0100 (BST)
Subject: [R] Surface Graphic
In-Reply-To: <001a01c1f21f$dbcae620$b454a8c0@gallup.com.br>
Message-ID: <Pine.LNX.4.10.10205030932110.8454-100000@localhost.localdomain>

What you need is Delanguay triangulation.
Here is a demo:
http://www.cs.cornell.edu/Info/People/chew/Delaunay.html
You want to do a 3D plot of this, as shown here:
http://www.colorado.edu/ITS/docs/scientific/idl/3D.html

Not simple in R I don't think, though there apparently there is a package
akima that allows you to do it.

If you figure this out I would be very interested in seeing a simple
working example.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May  3 11:14:49 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 3 May 2002 10:14:49 +0100 (BST)
Subject: [R] Surface Graphic
In-Reply-To: <Pine.LNX.4.10.10205030932110.8454-100000@localhost.localdomain>
Message-ID: <Pine.GSO.4.44.0205031007280.7227-100000@auk.stats>

On Fri, 3 May 2002, Bill Simpson wrote:

> What you need is Delanguay triangulation.
> Here is a demo:
> http://www.cs.cornell.edu/Info/People/chew/Delaunay.html
> You want to do a 3D plot of this, as shown here:
> http://www.colorado.edu/ITS/docs/scientific/idl/3D.html
>
> Not simple in R I don't think, though there apparently there is a package
> akima that allows you to do it.

It is simple using packages deldir and tripack.  But then you need to do
something to interface with persp (notice the use of TriGrid in IDL in your
url).  Interpolation by package akima has already been mentioned, but that
same a number of problems and I would suggest loess or kriging is
preferable: all are covered in spatial statistics books (and the spatial
statistics chapter of Venables & Ripley) and are available in R packages.

> If you figure this out I would be very interested in seeing a simple
> working example.

There are published ones in the references above.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri May  3 11:17:36 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 May 2002 11:17:36 +0200
Subject: [R] seq curiosity
In-Reply-To: <3CD24ADC.82A7C478@statistik.uni-dortmund.de>
References: <Pine.SOL.4.33.0109040125290.22993-100000@is-sm1.uncc.edu>
	<3CD2D37F.16527.5CA9D0@localhost>
	<3CD24ADC.82A7C478@statistik.uni-dortmund.de>
Message-ID: <x2elgty4i7.fsf@blueberry.kubism.ku.dk>

Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:

> John Aitchison wrote:
> > 
> > Is this a bug or a feature?
> > 
> > > seq(0:4)  # colon
> > [1] 1 2 3 4 5
> > > 0:4
> > [1] 0 1 2 3 4
> > > seq(0,4)
> > [1] 0 1 2 3 4
> > 
> > I am aware that the first usage is incorrect, but I was surprised that
> > I did not get any sort of syntax error
> 
> It's a feature! It's mentioned in the help page. If you provide a vector
> (length > 1) as an argument to seq(), seq() is smart enough to detect
> the case "seq(along)":
> 
>  along <- 0:4
>  seq(along)
> 
> The same should happen for
> 
>  along <- LETTERS[10:14]
>  along
>  seq(along)
> 
> Everything works perfectly!

Well, almost. The case where x is numeric and length(x) == 1 is the
source of some subtle and nasty bugs. Try a couple of iterations of

 x <- rnorm(20, sd=100) ; seq(x[x>100]) 

and you'll see the problem.

However, we probably have to retain it for compatibility.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Fri May  3 11:36:45 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Fri, 03 May 2002 09:36:45 +0000
Subject: [R] "lower or equal" symbols in lattice graphics tick labels
Message-ID: <3CD25A2D.A7C9E0E0@sentoo.sn>

Dear all,

Is there a way to draw "lower or equal", and "greater or equal" symbols
in tick labels for lattice graphics ?

platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    4.1            
year     2002           
month    01             
day      30             
language R    

Thanks in advance,

Renaud

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From W.Simpson at gcal.ac.uk  Fri May  3 11:48:13 2002
From: W.Simpson at gcal.ac.uk (Bill Simpson)
Date: Fri, 3 May 2002 10:48:13 +0100 (BST)
Subject: [R] Surface Graphic
In-Reply-To: <Pine.GSO.4.44.0205031007280.7227-100000@auk.stats>
Message-ID: <Pine.LNX.4.10.10205031043570.8667-100000@localhost.localdomain>


> 
> It is simple using packages deldir and tripack.  But then you need to do
> something to interface with persp (notice the use of TriGrid in IDL in your
> url).  Interpolation by package akima has already been mentioned, but that
> same a number of problems and I would suggest loess or kriging is
> preferable: all are covered in spatial statistics books (and the spatial
> statistics chapter of Venables & Ripley) and are available in R packages.
Thanks for the pointer.
> 
> > If you figure this out I would be very interested in seeing a simple
> > working example.
> 
> There are published ones in the references above.
Thanks. It would be really nice to see a persp 3D plot example somewhere
in the docs for packages deldir and tripack (I just looked and didn't see 
any--all examples are 2D plots).

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jan.wiener at tuebingen.mpg.de  Fri May  3 11:49:09 2002
From: jan.wiener at tuebingen.mpg.de (Jan Malte Wiener)
Date: Fri, 03 May 2002 11:49:09 +0200
Subject: [R] array of matrices resp. dataFrames
Message-ID: <3CD25D15.9080404@tuebingen.mpg.de>

hi,
from a rather complex data set (a huge matrix) i want to extract 
submatrices (of different no. of rows). i need to store those 
submatrices (resp. data.frames) in an array (at least something data 
structure i can address via an index to get the submatrices).
unfortunately i have no idea how to accomplish that.
thanks for any suggestions ,
greetinx jan



-- 
Jan Malte Wiener
Max-Planck-Institute for Biological Cybernetics
Spemannstr. 38, 72076 Tuebingen, Germany
Tel.: +49 7071 601 631
Email: jan.wiener at tuebingen.mpg.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri May  3 12:14:26 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 03 May 2002 12:14:26 +0200
Subject: [R] array of matrices resp. dataFrames
References: <3CD25D15.9080404@tuebingen.mpg.de>
Message-ID: <3CD26302.BA4E2740@statistik.uni-dortmund.de>



Jan Malte Wiener wrote:
> 
> hi,
> from a rather complex data set (a huge matrix) i want to extract
> submatrices (of different no. of rows). i need to store those
> submatrices (resp. data.frames) in an array (at least something data
> structure i can address via an index to get the submatrices).
> unfortunately i have no idea how to accomplish that.
> thanks for any suggestions ,

You should use a list:

 X <- matrix(1:100, 10)
 Y <- matrix(1:25, 5)
 L <- list(X, Y)
 L[[2]]   # get the second list element (Y)

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Fri May  3 12:26:20 2002
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Fri, 03 May 2002 12:26:20 +0200
Subject: [R] GUI Input Forms
References: <3CD1C2F4.10529.7A3B16@localhost>
Message-ID: <3CD265CC.55FC462A@ci.tuwien.ac.at>

You might consider the use of a spreadsheet (e.g, Excel?) - if your data
isn't too complex, import in R should be easy. AFAIK you can easily
define input forms in Excel for validation purposes in a `family
compliant' way...

g.,
-d

ggrothendieck at yifan.net wrote:
> 
> I have been inputting my data into text files using a text
> editor on a Windows 2000 PC.
> 
> I would like to create a front end form that does validation
> on the fly to reduce the errors in my input and make it
> possible for family members that are not into computers
> to help me out with data input tasks.
> 
> I assume that my form program would translate the
> input into a text file which I would then read in the
> normal way into R.
> 
> Does anyone have any suggestions of some software that
> makes it easy to set this up.   I was hoping not to have to put
> a major time commitment into learning it nor to create the form
> so something with a fast learning curve and not too much
> required expertise is preferred.
> 
> Free software is preferred, cheap software is second best
> but any suggestions are welcome.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
         Department of			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at genome.cbs.dtu.dk  Fri May  3 11:38:45 2002
From: laurent at genome.cbs.dtu.dk (Laurent Gautier)
Date: Fri, 3 May 2002 11:38:45 +0200
Subject: [R] seq curiosity
In-Reply-To: <3CD2D37F.16527.5CA9D0@localhost>
References: <Pine.SOL.4.33.0109040125290.22993-100000@is-sm1.uncc.edu> <3CD2D37F.16527.5CA9D0@localhost>
Message-ID: <20020503093845.GA1415@giraffa.cbs.dtu.dk>

On Fri, May 03, 2002 at 06:14:23PM +1000, John Aitchison wrote:
> 
> 
> Is this a bug or a feature?
> 
> > seq(0:4)  # colon 
> [1] 1 2 3 4 5
> > 0:4
> [1] 0 1 2 3 4
> > seq(0,4)
> [1] 0 1 2 3 4
> 
> I am aware that the first usage is incorrect, but I was surprised that
> I did not get any sort of syntax error
> 

The first usage is not 'incorrect'. help(seq) says :
------------
Usage:

     from:to
     seq(from, to)
     seq(from, to, by=)
     seq(from, to, length=)
     seq(along)
------------

It returns a sequence of indices 'along' the given vector...




Hopin' it helps,



L.





--------------------------------------------------------------
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Fri May  3 12:49:43 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Fri, 3 May 2002 06:49:43 -0400
Subject: [R] Regression models for ordinal responses ??
In-Reply-To: <v03007801b8f7ee3a29b1@[134.214.32.67]>
References: <v03007801b8f7ee3a29b1@[134.214.32.67]>
Message-ID: <20020503064943.6fb1e604.fharrell@virginia.edu>

The lrm function in the Design library in conjunction with the cr.setup function makes this easy.  See an extended case study using lrm in my 1998 Statistics in Medicine paper or my book Regression Modeling Strategies.  Also see
http://hesweb1.med.virginia.edu/biostat/rms and

@Article{gui00ord,
  author = 		 {Guisan, Antoine and Harrell, Frank E.},
  title = 		 {Ordinal response regression models in
ecology},
  journal = 	 {Journal of Vegetation Science},
  year = 		 2000,
  volume = 11,
  pages = {617-626},
  annote =		 {teaching;ordinal logistic model}
}

for more information. -Frank Harrell
 
On Fri, 3 May 2002 09:50:52 +0200
Emmanuelle Fromont <fromont at biomserv.univ-lyon1.fr> wrote:

> Hello list,
> 
> Is there any mean to fit models for ordinal response other than multinomial
> polytomous ("multinom" from nnet ) and cumulative logit ("polr" from MASS)?
> I am particularly interested in continuation-ratio model and
> adjacent-category logit model. It is for the sake of epidemiology in
> wild-living populations!
> 
> Many thanks,
> 
> Emmanuelle Fromont
> 
> 
> 
> 
> 
> ************************************
>      Emmanuelle Fromont / India
>      UMR CNRS 5558
>      Universit? Lyon 1
>      43 Bd du 11 novembre 1918
>      69622 Villeurbanne Cedex France
>       tel (0)4 72 44 80 18 / poste 48018
>       fax (0)4 78 89 27 19
> ************************************
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Fri May  3 13:10:19 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Fri, 3 May 2002 13:10:19 +0200
Subject: [R] seq curiosity
In-Reply-To: <x2elgty4i7.fsf@blueberry.kubism.ku.dk>
Message-ID: <KKEGJOGBELBHDIKPINBMEECECMAA.hb@maths.lth.se>

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Peter Dalgaard BSA
> Sent: Friday, May 03, 2002 11:18 AM
> To: Uwe Ligges
> Cc: jaitchis at hwy.com.au; r-help at stat.math.ethz.ch
> Subject: Re: [R] seq curiosity
>
>
> Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:
>
> > John Aitchison wrote:
> > >
> > > Is this a bug or a feature?
> > >
> > > > seq(0:4)  # colon
> > > [1] 1 2 3 4 5
> > > > 0:4
> > > [1] 0 1 2 3 4
> > > > seq(0,4)
> > > [1] 0 1 2 3 4
> > >
> > > I am aware that the first usage is incorrect, but I was surprised that
> > > I did not get any sort of syntax error
> >
> > It's a feature! It's mentioned in the help page. If you provide a vector
> > (length > 1) as an argument to seq(), seq() is smart enough to detect
> > the case "seq(along)":
> >
> >  along <- 0:4
> >  seq(along)
> >
> > The same should happen for
> >
> >  along <- LETTERS[10:14]
> >  along
> >  seq(along)
> >
> > Everything works perfectly!
>
> Well, almost. The case where x is numeric and length(x) == 1 is the
> source of some subtle and nasty bugs. Try a couple of iterations of
>
>  x <- rnorm(20, sd=100) ; seq(x[x>100])
>
> and you'll see the problem.
>
> However, we probably have to retain it for compatibility.

...which is actually no problem if one is more explicit:

  x <- rnorm(20, sd=100) ; seq(along=x[x>100])

(as most of you already know)

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marta_andrea at libero.it  Fri May  3 13:43:17 2002
From: marta_andrea at libero.it (=?utf-8?Q?marta=5Fandrea@libero.it?=)
Date: Fri,  3 May 2002 13:43:17 +0200
Subject: [R] =?iso-8859-1?Q?an_info_on_3d_representation?=
Message-ID: <GVJ9W5$40D3A852EEBB535057D9211C4FD8FB48@libero.it>

Dear list,
sorry to waste your time. I downloaded R and I like it very much. 
However, my main interest is in plotting 3D graphics form imported data 
(points and lines in a 3d space). I imported data in a very elegant way 
but I wasn't able to find in R something similar to the simple "splot" 
function of WGNUplot (I don't need persp, image, contour: my values are 
not necessarily progressive).
Maybe it's a very stupid question: in case, please pardon me.
Any help is appreciated.
Please reply privately. I am not (actually) in the list.
Thank you very much.

Andrea Valle 
Universit? di Torino e Bologna
marta_andrea at libero.it
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri May  3 13:43:40 2002
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 03 May 2002 07:43:40 -0400
Subject: [R] Regression models for ordinal responses ??
In-Reply-To: <v03007801b8f7ee3a29b1@[134.214.32.67]>
Message-ID: <5.1.0.14.2.20020503071944.01d723b0@mcmail.cis.mcmaster.ca>

At 09:50 AM 5/3/2002 +0200, you wrote:
>Hello list,
>
>Is there any mean to fit models for ordinal response other than multinomial
>polytomous ("multinom" from nnet ) and cumulative logit ("polr" from MASS)?
>I am particularly interested in continuation-ratio model and
>adjacent-category logit model. It is for the sake of epidemiology in
>wild-living populations!

Dear Emmaneulle,

Continuation-ratio models are just a collection of binomial (or binary) 
logit models, each of which can be fit with glm. So, for example, if you 
have categories A, B, and C, you'd fit a model in which the response is A 
vs. (B or C), and another in which the response is B vs. C. In the second 
model, the response if NA for those in category A. The models are 
independent, so, for example, you can add corresponding log-likelihood 
ratio statistics and df.

I believe that the adjacent-categories logit model is equivalent to the 
multinomial logit model. To get the coefficients for the log-odds of 
category i vs. i + 1 [i.e., log(pi_i/pi_{i+1})], subtract the multinomial 
logit coefficients for category i + 1 (vs. the baseline) from the 
coefficients for category i. (You should check that this is right -- I 
might not remember it correctly.)

I hope that this helps,
  John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rasmus.benestad at met.no  Fri May  3 13:58:07 2002
From: rasmus.benestad at met.no (Rasmus Benestad)
Date: Fri, 03 May 2002 11:58:07 +0000
Subject: [R] On creating an R package..
Message-ID: <3CD27B4F.1000601@met.no>

Dear R-help,

I'm trying to create a simple R package that contains 3 string 
functions, but I have run into some
problems: what are the correct permission for the files in the package 
directory?

Yours faitfully,

Rasmus 

* checking for file `stringfun/DESCRIPTION' ... OK
* checking package directory ... OK
* checking for sufficient/correct file permissions ... WARNING
*   Found the following text files with incorrect permissions:
*     ./lower.case.R
*     ./upper.case.R
*     ./strip.R
*     ./man/stringfun.Rd
*     ./DESCRIPTION
*     ./INDEX
*     ./tests/test.R
*   Please fix permissions.
* checking DESCRIPTION Package field ... OK
* checking DESCRIPTION Version field ... OK
* checking DESCRIPTION License field ... OK
* checking DESCRIPTION Description field ... OK
* checking DESCRIPTION Title field ... OK
* checking DESCRIPTION Author field ... OK
* checking DESCRIPTION Maintainer field ... OK
* checking R files for syntax errors ... ERROR
*   Syntax error in file

-- 
______________________________________________________________________________
Rasmus E. Benestad, D.Phil, AMINSTP,    The Norwegian Meteorological Institute
rasmus.benestad at met.no            
phone: (+47) 22 96 33 77   mobile: (+47) 99 45 04 16    fax: (+47) 22 69 63 55
______________________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Fri May  3 14:05:55 2002
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Fri, 03 May 2002 08:05:55 -0400
Subject: [R] Detailed instructions for building packages
Message-ID: <vvt4du490gntf3gjjpfn9ab0o6t9m69hms@4ax.com>

>I a missing in R extension a more detailed step by step description with=20
>some examples.
>To whom send proposals of change to the R extensions manual.  I am also=20
>willing to writ one step by step descriptin for windows 2000.


If you would like to draft a detailed section on building packages
under windows, that would be great.  Once you're done, please email it
to me (as I'm currently the Windows maintainer); I'll put it (or
something based on it) into R-exts or elsewhere as appropriate.

By the way, once all the tools are set up properly, the easiest way to
build a .zip of your package is

  Rcmd build --binary sourcedir

The --use-zip options have to do with compressing files within the
installation, not compressing the whole installation.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aperrin at email.unc.edu  Fri May  3 15:01:41 2002
From: aperrin at email.unc.edu (Andrew Perrin)
Date: Fri, 3 May 2002 09:01:41 -0400 (EDT)
Subject: [R] GUI Input Forms 
In-Reply-To: <3CD1C2F4.10529.7A3B16@localhost>
Message-ID: <Pine.LNX.4.21L1.0205030900160.15497-100000@perrin.socsci.unc.edu>

The "cadillac" version would be to use something like Perl/Tk or the
tcl/tk extensions to R to write an input mechanism.

If you were using linux, pgaccess or a web-based solution would make
sense, but neither will be simple under windows.

If you already own Access, that would be an option, but it's decidedly
non-free.

A spreadsheet is probably the best price-performance compromise.

ap

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


On Thu, 2 May 2002 ggrothendieck at yifan.net wrote:

> 
> I have been inputting my data into text files using a text 
> editor on a Windows 2000 PC.
> 
> I would like to create a front end form that does validation
> on the fly to reduce the errors in my input and make it
> possible for family members that are not into computers 
> to help me out with data input tasks.
> 
> I assume that my form program would translate the
> input into a text file which I would then read in the
> normal way into R.
> 
> Does anyone have any suggestions of some software that 
> makes it easy to set this up.   I was hoping not to have to put 
> a major time commitment into learning it nor to create the form
> so something with a fast learning curve and not too much
> required expertise is preferred.
> 
> Free software is preferred, cheap software is second best
> but any suggestions are welcome.  
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From klavan at tiscalinet.it  Fri May  3 15:02:46 2002
From: klavan at tiscalinet.it (Ambrosini Alessandro)
Date: Fri, 3 May 2002 15:02:46 +0200
Subject: [R] Problem with table
Message-ID: <PPEGLLABFLFCJDLCGPGHGEJGCAAA.klavan@tiscalinet.it>

Hello.
I have to import this table

aa bb cc vic
bb cif aa dd ee

Using "read.table" I want to obtain

  V1 V2  V3 V4  V5
1 aa bb  cc vic
2 bb cif aa dd  ee

but writing read.table("dat.txt",fill=TRUE) it gives me

    aa bb cc vic
bb cif aa dd  ee

and so it considers that the first column and the first row are the names of
columns and rows but it is not true because I want to consider everything as
data.
What have I to add into read.table?
Thanks
Ale

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Fri May  3 16:11:53 2002
From: wolski at molgen.mpg.de (Witold Eryk Wolski)
Date: Fri, 03 May 2002 15:11:53 +0100
Subject: [R] Re: Detailed instructions for building packages
References: <vvt4du490gntf3gjjpfn9ab0o6t9m69hms@4ax.com>
Message-ID: <3CD29AA9.6060507@molgen.mpg.de>

Dear Duncan!
I will if i will be able to build a simple package without any C or F 
code on my computer running Windows 2000.
But i am not. And im going more and more frustrated.

I went so far:
1. I generated a skeleton using the function:
package.skeleton()

After that I edited a little the file R Description and called thinking 
that now the html documents will be generated the install.packages function.

install.packages("c:/prog/r/rw1041/myfiles/test/masspec",CRAN=NULL)
updating HTML package descriptions
Warning message:
argument `lib' is missing: using C:/prog/R/rw1041/library in: 
install.packages("c:/prog/r/rw1041/myfiles/test/masspec", CRAN = NULL)


But than i got this.

 > library(masspec)
Error in library(masspec) : There is no package called `masspec'

With rcmd install
i passed the build process.
but the install fails.

C:\prog\R\rw1041\library>rcmd install masspec

make: Entering directory `/cygdrive/c/prog/r/rw1041/src/gnuwin32'
make DLLNM= \
  -C C:/prog/R/rw1041/library/masspec PKG=masspec RHOME=c:/prog/r/rw1041 
RLIB=c:/prog/r/rw1041/library \
  -f c:/prog/r/rw1041/src/gnuwin32/MakePkg
make: Entering an unknown directory
make: *** C:/prog/R/rw1041/library/masspec: No such file or directory.  
Stop.
make: Leaving an unknown directory
make: *** [pkg-masspec] Error 2
make: Leaving directory `/cygdrive/c/prog/r/rw1041/src/gnuwin32'
*** Installation of masspec failed ***

I have no C or F code included in my functions!!!

I am really frustrated now. Any help appreciated.
I can't believe that such a basic functionality as building a package 
has to be so complicated. Therefore i am quite sure i have overseen some 
really simple thing.

Sincerely.
Eryk

Duncan Murdoch wrote:

>>I a missing in R extension a more detailed step by step description with=20
>>some examples.
>>To whom send proposals of change to the R extensions manual.  I am also=20
>>willing to writ one step by step descriptin for windows 2000.
>>
>
>
>If you would like to draft a detailed section on building packages
>under windows, that would be great.  Once you're done, please email it
>to me (as I'm currently the Windows maintainer); I'll put it (or
>something based on it) into R-exts or elsewhere as appropriate.
>
>By the way, once all the tools are set up properly, the easiest way to
>build a .zip of your package is
>
>  Rcmd build --binary sourcedir
>
>The --use-zip options have to do with compressing files within the
>installation, not compressing the whole installation.
>
>Duncan Murdoch
>

-- 
    _|_     \|/     \|/
    ?v?     'v?   \\'v'//
  //| |\\ //| |\\   |*|
----m-m-----m-m-----m-m--------w-w-----
                               | |
   Eryk Witold Wolski        //.^.\\
                               /|\
wolski at molen.mpg.de             o
tel      : 0049-(0)30-8413-1543 o
fax      : 0049-(0)30-8413-1139 o
mobile   : 0049-1793210931      o
http://www.molgen.mpg.de/~mass-spec
http://www.molgen.mpg.de/~wolski
                             __\o/__  
                               


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020503/645e38ab/attachment.html

From wolfram at fischer-zim.ch  Fri May  3 15:16:25 2002
From: wolfram at fischer-zim.ch (Wolfram Fischer - Z/I/M)
Date: Fri, 3 May 2002 15:16:25 +0200
Subject: [R] sub() of matrix returns a vector and not a matrix
Message-ID: <NDBBINKOMLDCOHBLDMGHAENPCMAA.wolfram@fischer-zim.ch>

Is there a simple possibility
to become directly a matrix
from a call of sub() on a matrix?


--------- START OF LOGFILE ----------------
	# R 1.4.1

> a <- matrix( letters[1:6], 2, 3 )
	# a is a matrix
> print( a )
     [,1] [,2] [,3]
[1,] "a"  "c"  "e" 
[2,] "b"  "d"  "f" 

> b <- sub( '(.)', '-\\1-', a )
	# I had expected b to be a matrix
	# but b is a vector
> print( b )
[1] "-a-" "-b-" "-c-" "-d-" "-e-" "-f-"


> dim(b) <- dim(a)
> print( b )
	# b is now a matrix again
     [,1]  [,2]  [,3] 
[1,] "-a-" "-c-" "-e-"
[2,] "-b-" "-d-" "-f-"

--------- END OF LOGFILE ----------------



Wolfram Fischer
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri May  3 15:19:03 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 May 2002 15:19:03 +0200
Subject: [R] an info on 3d representation
In-Reply-To: <GVJ9W5$40D3A852EEBB535057D9211C4FD8FB48@libero.it>
References: <GVJ9W5$40D3A852EEBB535057D9211C4FD8FB48@libero.it>
Message-ID: <x2wuulwerc.fsf@blueberry.kubism.ku.dk>

"=?utf-8?Q?marta=5Fandrea at libero.it?=" <marta_andrea at libero.it> writes:

> Dear list,
> sorry to waste your time. I downloaded R and I like it very much. 
> However, my main interest is in plotting 3D graphics form imported data 
> (points and lines in a 3d space). I imported data in a very elegant way 
> but I wasn't able to find in R something similar to the simple "splot" 
> function of WGNUplot (I don't need persp, image, contour: my values are 
> not necessarily progressive).
> Maybe it's a very stupid question: in case, please pardon me.
> Any help is appreciated.
> Please reply privately. I am not (actually) in the list.
> Thank you very much.

You probably want to check out the scatterplot3d package.
(Which is great, but I'm sure we could do even better with true 3D
visualization tools using lighting models, hidden surface removal, and
all that.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Fri May  3 15:20:53 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Fri, 03 May 2002 09:20:53 -0400
Subject: [R] array of matrices resp. dataFrames
References: <3CD25D15.9080404@tuebingen.mpg.de>
Message-ID: <3CD28EB5.62E7AC37@umsanet.edu.bo>

Put the matrices in a list?

a <- matrix(1:4,2)
b <- matrix(2:7,2)
l <- list(a,b)
 l[[1]]
     [,1] [,2]
[1,]    1    3
[2,]    2    4
> l[[1]][1,2]
[1] 3

Kjetil Halvorsen


Jan Malte Wiener wrote:
> 
> hi,
> from a rather complex data set (a huge matrix) i want to extract
> submatrices (of different no. of rows). i need to store those
> submatrices (resp. data.frames) in an array (at least something data
> structure i can address via an index to get the submatrices).
> unfortunately i have no idea how to accomplish that.
> thanks for any suggestions ,
> greetinx jan
> 
> --
> Jan Malte Wiener
> Max-Planck-Institute for Biological Cybernetics
> Spemannstr. 38, 72076 Tuebingen, Germany
> Tel.: +49 7071 601 631
> Email: jan.wiener at tuebingen.mpg.de
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jrgonzalez at ico.scs.es  Fri May  3 15:33:44 2002
From: jrgonzalez at ico.scs.es (Juan Ramon Gonzalez)
Date: Fri, 3 May 2002 15:33:44 +0200
Subject: [R] problems with rexp ?
Message-ID: <002701c1f2a7$259eaa20$1100a8c0@ico.scs.es>

Does anyone know if R have any problems with the exponential random number
generation (function rexp)?

I comment it because I executed

data<-sort(rexp(100))
plot(data,dexp(data)/(1-pexp(data)),type="l")

and the graphic isn't constant.

(Note: exponential distribution have a constant hazard failure rate).

Thank you,

Juan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jarioksa at sun3.oulu.fi  Fri May  3 15:43:24 2002
From: jarioksa at sun3.oulu.fi (Jari Oksanen)
Date: Fri, 03 May 2002 16:43:24 +0300
Subject: [R] On creating an R package.. 
In-Reply-To: Message from "Rasmus Benestad" <rasmus.benestad@met.no> 
   of "Fri, 03 May 2002 11:58:07 -0000." <3CD27B4F.1000601@met.no> 
Message-ID: <200205031343.g43DhO423521@pc112145.oulu.fi>


rasmus.benestad at met.no said:
>  what are the correct permission for the files in the package
> directory?

What is the OS you are using?  In Linux/unix, `chmod 644 *R' seems to be what is 
asked for.

Further guessing: Red Hat Linux is in conflict with unix tradition (and 
many other Linuxes) and uses 664 as default permissions. This is 
because they have abandoned the traditional user/group distinction and 
put every user to a group of their own. People disagree about benefits 
of this scheme, but RH is proud of it. 

cheers, jari oksanen

-- 
Jari Oksanen -- Dept Biology, Univ Oulu, 90014 Oulu, Finland
Ph. +358 8 5531526, cell +358 40 5136529, fax +358 8 5531061
email jari.oksanen at oulu.fi, homepage http://cc.oulu.fi/~jarioksa/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From o.christensen at lancaster.ac.uk  Fri May  3 15:55:20 2002
From: o.christensen at lancaster.ac.uk (Ole Christensen)
Date: Fri, 03 May 2002 14:55:20 +0100
Subject: [R] problems with rexp ?
References: <002701c1f2a7$259eaa20$1100a8c0@ico.scs.es>
Message-ID: <3CD296C8.C48E983@lancs.ac.uk>

Hi Juan

It looks constant to me. Note the range of the values on the second axis
!!!
Sometimes you even get a warning about this

Warning message: 
relative range of values =  22.5 * EPS, is small (axis 2).


Note also: By calling your variable ``data'' you are over-writting a
function of the same name
(I do not think it did any harm in your example).

Cheers Ole

Juan Ramon Gonzalez wrote:
> 
> Does anyone know if R have any problems with the exponential random number
> generation (function rexp)?
> 
> I comment it because I executed
> 
> data<-sort(rexp(100))
> plot(data,dexp(data)/(1-pexp(data)),type="l")
> 
> and the graphic isn't constant.
> 
> (Note: exponential distribution have a constant hazard failure rate).
> 
> Thank you,
> 
> Juan
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Ole F. Christensen
Department of Mathematics and Statistics
Fylde College, Lancaster University 
Lancaster, LA1 4YF, England
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May  3 16:01:54 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 3 May 2002 15:01:54 +0100 (BST)
Subject: [R] GUI Input Forms 
In-Reply-To: <Pine.LNX.4.21L1.0205030900160.15497-100000@perrin.socsci.unc.edu>
Message-ID: <Pine.LNX.4.31.0205031456450.12338-100000@gannet.stats>

On Fri, 3 May 2002, Andrew Perrin wrote:

> The "cadillac" version would be to use something like Perl/Tk or the
> tcl/tk extensions to R to write an input mechanism.
>
> If you were using linux, pgaccess or a web-based solution would make
> sense, but neither will be simple under windows.
>
> If you already own Access, that would be an option, but it's decidedly
> non-free.
>
> A spreadsheet is probably the best price-performance compromise.

Most people I know who do this use either Visual Basic or VBA within
Excel.  Excel is decidedly non-free, but Visual Basic has a cheap learning
edition which comes bundled for free with some books about it.

Other spreadsheets that I know have far less programmability than Excel.

>
> ap
>
> ----------------------------------------------------------------------
> Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
>  Assistant Professor of Sociology, U of North Carolina, Chapel Hill
>       269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA
>
>
> On Thu, 2 May 2002 ggrothendieck at yifan.net wrote:
>
> >
> > I have been inputting my data into text files using a text
> > editor on a Windows 2000 PC.
> >
> > I would like to create a front end form that does validation
> > on the fly to reduce the errors in my input and make it
> > possible for family members that are not into computers
> > to help me out with data input tasks.
> >
> > I assume that my form program would translate the
> > input into a text file which I would then read in the
> > normal way into R.
> >
> > Does anyone have any suggestions of some software that
> > makes it easy to set this up.   I was hoping not to have to put
> > a major time commitment into learning it nor to create the form
> > so something with a fast learning curve and not too much
> > required expertise is preferred.
> >
> > Free software is preferred, cheap software is second best
> > but any suggestions are welcome.
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri May  3 16:07:47 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 03 May 2002 16:07:47 +0200
Subject: [R] problems with rexp ?
References: <002701c1f2a7$259eaa20$1100a8c0@ico.scs.es>
Message-ID: <3CD299B3.6E72E69F@statistik.uni-dortmund.de>

Juan Ramon Gonzalez wrote:
> 
> Does anyone know if R have any problems with the exponential random number
> generation (function rexp)?
> 
> I comment it because I executed
> 
> data<-sort(rexp(100))
> plot(data,dexp(data)/(1-pexp(data)),type="l")
> 
> and the graphic isn't constant.
> 
> (Note: exponential distribution have a constant hazard failure rate).

Well, plot() scales the "y"-values to fit best into the area:

 data <- sort(rexp(100))
 dexp(data)/(1-pexp(data))      # all 1 ???
 dexp(data)/(1-pexp(data)) - 1  # almost !!

>From the computational point of view everything is looking very well,
isn't it?
Maybe you would like to set a ylim as in

 plot(data,dexp(data)/(1-pexp(data)),type="l", ylim =c(0,2))


Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri May  3 16:08:28 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 03 May 2002 10:08:28 -0400
Subject: [R] problems with rexp ?
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC2A0@usrymx10.merck.com>

Have you looked at the range of the numbers?  I got

> range(dexp(data)/(1-pexp(data)))
[1] 1 1

and 

range(dexp(data)/(1-pexp(data)))-1.0
[1] -1.665335e-15  1.110223e-15

Andy


> -----Original Message-----
> From: Juan Ramon Gonzalez [mailto:jrgonzalez at ico.scs.es]
> Sent: Friday, May 03, 2002 9:34 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] problems with rexp ?
> 
> 
> Does anyone know if R have any problems with the exponential 
> random number
> generation (function rexp)?
> 
> I comment it because I executed
> 
> data<-sort(rexp(100))
> plot(data,dexp(data)/(1-pexp(data)),type="l")
> 
> and the graphic isn't constant.
> 
> (Note: exponential distribution have a constant hazard failure rate).
> 
> Thank you,
> 
> Juan
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Fri May  3 16:23:35 2002
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Fri, 03 May 2002 10:23:35 -0400
Subject: [R] problems with rexp ?
Message-ID: <OFA6E76D19.98C0A1C4-ON85256BAE.004EEFD7@rtp.epa.gov>


instead of (1 - pexp(data)), try using pexp(data, lower.tail=FALSE), for
a more accurate calculation of upper tail probabilities.

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


|---------+------------------------------>
|         |           Juan Ramon Gonzalez|
|         |           <jrgonzalez at ico.scs|
|         |           .es>               |
|         |           Sent by:           |
|         |           owner-r-help at stat.m|
|         |           ath.ethz.ch        |
|         |                              |
|         |                              |
|         |           05/03/02 09:33 AM  |
|         |                              |
|---------+------------------------------>
  >---------------------------------------------------------------------------------------------------------------------|
  |                                                                                                                     |
  |        To:      r-help at stat.math.ethz.ch                                                                            |
  |        cc:                                                                                                          |
  |        Subject: [R] problems with rexp ?                                                                            |
  >---------------------------------------------------------------------------------------------------------------------|




Does anyone know if R have any problems with the exponential random
number
generation (function rexp)?

I comment it because I executed

data<-sort(rexp(100))
plot(data,dexp(data)/(1-pexp(data)),type="l")

and the graphic isn't constant.

(Note: exponential distribution have a constant hazard failure rate).

Thank you,

Juan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Fri May  3 16:19:24 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Fri, 3 May 2002 16:19:24 +0200 (CEST)
Subject: [R] problems with rexp ?
In-Reply-To: <002701c1f2a7$259eaa20$1100a8c0@ico.scs.es>
Message-ID: <Pine.LNX.4.44.0205031617050.26071-100000@tal.stat.umu.se>

On Fri, 3 May 2002, Juan Ramon Gonzalez wrote:

> Does anyone know if R have any problems with the exponential random number
> generation (function rexp)?
> 
> I comment it because I executed
> 
> data<-sort(rexp(100))
> plot(data,dexp(data)/(1-pexp(data)),type="l")
> 
> and the graphic isn't constant.

Try

> data<-sort(rexp(100))
> plot(data,dexp(data)/(1-pexp(data)),type="l", ylim = c(0, 2))

and you may guess what's going on. (Has nothing to do with random 
number generation!)

G?ran

> (Note: exponential distribution have a constant hazard failure rate).
> 
> Thank you,
> 
> Juan
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Fri May  3 16:42:15 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 3 May 2002 15:42:15 +0100
Subject: [R] GUI Input Forms
In-Reply-To: <3CD1C2F4.10529.7A3B16@localhost>
References: <3CD1C2F4.10529.7A3B16@localhost>
Message-ID: <rGgCZaAHHq08EwsL@myatt.demon.co.uk>


For Win32 systems you might like to look at EpiData:

        http://www.epidata.dk

which is freeware but not GPL. A tutorial is available from my website:

        http://www.myatt.demon.co.uk

At present it exports to Excel, dBase, Stata, SPSS, and text files ...
not too difficult to import the text file into R.

I hope that helps,

Mark

DISCLAIMER - I like EpiData and use it for all my data-entry tasks but I
did have a hand in designing the thing so I would.

ggrothendieck at yifan.net writes:
>
>I have been inputting my data into text files using a text 
>editor on a Windows 2000 PC.
>
>I would like to create a front end form that does validation
>on the fly to reduce the errors in my input and make it
>possible for family members that are not into computers 
>to help me out with data input tasks.
>
>I assume that my form program would translate the
>input into a text file which I would then read in the
>normal way into R.
>
>Does anyone have any suggestions of some software that 
>makes it easy to set this up.   I was hoping not to have to put 
>a major time commitment into learning it nor to create the form
>so something with a fast learning curve and not too much
>required expertise is preferred.
>
>Free software is preferred, cheap software is second best
>but any suggestions are welcome.  
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From psu17772 at hotmail.com  Fri May  3 17:08:51 2002
From: psu17772 at hotmail.com (sonchawan tamkaew)
Date: Fri, 03 May 2002 15:08:51 +0000
Subject: [R] delete rows
Message-ID: <F6784SFqzx1VX04yGiP0000ac2b@hotmail.com>

Hello,

I would like to know how to delete some rows?
Suppose I have a large data frame look something like this:

x1      x2       x3     ..............
a        1      0.45
b        1      0.41
c        0      0.43
a        1      0.39
d        1      0.40
e        0      0.41
r        1      0.42
a        0      0.46
.        .       ..

I would like to have another data frame which has all columns like the 
original one but if any rows have the same values in x1, then keep only the 
first row and delet the rest. Is it any way to make it look like this?

x1      x2       x3     ..............
a        1      0.45
b        1      0.41
c        0      0.43
d        1      0.40
e        0      0.41
r        1      0.42
.        .       ..



Another question is I downloaded data from Oracle database to R which looks 
like this:
   DATE,'yyyy,ww'  TRD_AMT
1    2001,01       57.99330
2    2001,01       59.52926
3    2001,03       61.31018
4    2001,04       59.07095
5    2001,05       62.29583
6    2001,06       63.96679

It's weekly data and I would like to plot it. How could I do that?

Many thanks,

Sonchawan




_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri May  3 17:46:20 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 3 May 2002 08:46:20 -0700 (PDT)
Subject: [R] GUI Input Forms
In-Reply-To: <rGgCZaAHHq08EwsL@myatt.demon.co.uk>
Message-ID: <Pine.A41.4.44.0205030842280.100836-100000@homer39.u.washington.edu>

On Fri, 3 May 2002, Mark Myatt wrote:

>
> For Win32 systems you might like to look at EpiData:
>
>         http://www.epidata.dk
>
> which is freeware but not GPL. A tutorial is available from my website:
>
>         http://www.myatt.demon.co.uk
>
> At present it exports to Excel, dBase, Stata, SPSS, and text files ...
> not too difficult to import the text file into R.
>

I was going to suggest EpiInfo, the old DOS-based database and statistics
package from the Centers for Disease Control, but EpiData should be even
easier.

Note that the 'foreign' package can now read EpiInfo .REC files as well as
many of these formats EpiData will export to.

	-thoams


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri May  3 17:58:23 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 3 May 2002 08:58:23 -0700 (PDT)
Subject: [R] delete rows
In-Reply-To: <F6784SFqzx1VX04yGiP0000ac2b@hotmail.com>
Message-ID: <Pine.A41.4.44.0205030852150.100836-100000@homer39.u.washington.edu>

On Fri, 3 May 2002, sonchawan tamkaew wrote:

> Hello,
>
> I would like to know how to delete some rows?
> Suppose I have a large data frame look something like this:
>
> x1      x2       x3     ..............
> a        1      0.45
> b        1      0.41
> c        0      0.43
> a        1      0.39
> d        1      0.40
> e        0      0.41
> r        1      0.42
> a        0      0.46
> .        .       ..
>
> I would like to have another data frame which has all columns like the
> original one but if any rows have the same values in x1, then keep only the
> first row and delet the rest. Is it any way to make it look like this?
>
> x1      x2       x3     ..............
> a        1      0.45
> b        1      0.41
> c        0      0.43
> d        1      0.40
> e        0      0.41
> r        1      0.42
> .        .       ..
>

If your data frame is called df then
  df<-subset(df,!duplicated(x1))
will do it.

>
> Another question is I downloaded data from Oracle database to R which looks
> like this:
>    DATE,'yyyy,ww'  TRD_AMT
> 1    2001,01       57.99330
> 2    2001,01       59.52926
> 3    2001,03       61.31018
> 4    2001,04       59.07095
> 5    2001,05       62.29583
> 6    2001,06       63.96679
>
> It's weekly data and I would like to plot it. How could I do that?

You probably want to convert the first column to a date. If it is a
factor, convert it to a string with as.character(), and then use
strptime() to convert it to a date. This requires specifying a weekday.
One possibility is
  strptime(paste(DATE,"1"),"%Y,%W %w")
which will give Mondays

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri May  3 18:24:16 2002
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 03 May 2002 12:24:16 -0400
Subject: [R] Problem with table
In-Reply-To: <PPEGLLABFLFCJDLCGPGHGEJGCAAA.klavan@tiscalinet.it>
Message-ID: <5.1.0.14.2.20020503122049.01d5edb0@mcmail.cis.mcmaster.ca>

Dear Ale,

At 03:02 PM 5/3/2002 +0200, Ambrosini Alessandro wrote:
>I have to import this table
>
>aa bb cc vic
>bb cif aa dd ee
>
>Using "read.table" I want to obtain
>
>   V1 V2  V3 V4  V5
>1 aa bb  cc vic
>2 bb cif aa dd  ee
>
>but writing read.table("dat.txt",fill=TRUE) it gives me
>
>     aa bb cc vic
>bb cif aa dd  ee
>
>and so it considers that the first column and the first row are the names of
>columns and rows but it is not true because I want to consider everything as
>data.
>What have I to add into read.table?

The problem here is that the first row of the data file has one fewer entry 
(4) than the second row (5), so read.table assumes that the first row 
contains column names. You could try setting header=FALSE in the call to 
read.table, but that will generate an error, since the numbers of entries 
in the lines differ.

Why not just fill out the first line in the file with NA?

     aa bb cc vic NA
     bb cif aa dd ee

John


-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wouter.buytaert at yucom.be  Fri May  3 18:36:10 2002
From: wouter.buytaert at yucom.be (wouter.buytaert@yucom.be)
Date: Fri, 03 May 2002 18:36:10 +0200 (CEST)
Subject: [R] change default directory
Message-ID: <1020443770.3cd2bc7aab3ba@yuclnx4.yucom.be>


hello,

maybe a silly question, but how do you set a default directory of
R, i.e. the place where R looks for source() files etc. at startup?

R 1.5.0 on Mandrake linux 8.2

BTW, it seems that my doc-directory is crippled (a lot of files
are lacking). A flaw of the mandrake 8.2-rpm's or a bad install?

thanks!

Wouter
---------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Fri May  3 18:36:26 2002
From: wolski at molgen.mpg.de (Witold Eryk Wolski)
Date: Fri, 03 May 2002 17:36:26 +0100
Subject: [R] Computing on language.
Message-ID: <3CD2BC8A.4070207@molgen.mpg.de>

Hi!
How to change  parameters of a function during runtime.
instead for example calling with column names
subset(airquality, Day == 1, select = -Temp)
    i want call subset with column indices something like this.
subset(airquality, xxx(names(airquality)[4])> 80 , select =
c(xxx(names(airquality)[3]),xxx(names(airquality)[4])))

In genereral I am interested in changing the  parameters during runtime.
for example i want to call at runtime
instead of:
plot(x,y,col=1).
plot(x,y,log= "xy")
by calling:
myarg<-"log"
myargval<-"xy"
plot(x,y,xxx(myarg,myargval))
It is possible to do that?

Sincerely Eryk

-- 
       _ _     \|/     \|/
       ?v?     'v?     'v'
     //| |\\ //| |\\ //| |\\
----m-m-----m-m-----m-m--------w-w-----
                                \\| |//
      Eryk Witold Wolski          .^.
                                  /|\
wolski at molen.mpg.de
tel      : 0049-(0)30-8413-1543
fax      : 0049-(0)30-8413-1139
mobile   : 0049-1793210931
http://www.molgen.mpg.de/~mass-spec
http://www.molgen.mpg.de/~wolski





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Brett.Magill at slps.org  Fri May  3 18:53:51 2002
From: Brett.Magill at slps.org (Brett A Magill)
Date: Fri, 3 May 2002 11:53:51 -0500
Subject: [R] skipping columns with read.fwf?
Message-ID: <20458245FA51654B8BDE6B4EFF7B519401060CFC@EXCHANGE1.slps.SLPSROOT.ORG>

I have a file in fwf.  It is rather large, about 40,000 rows and 40 variables (columns).  I only need about 10 variables form the data set for the analysis at hand.  Unfortunately, these 10 variables are not contiguous in the file, for example, the first is position 1-8, the next position 25-27, then 40.

Is there a way to read the selected varaibles that I need without reading in the entire data set?

Thanks,

Brett    
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mrennie at utm.utoronto.ca  Fri May  3 18:51:58 2002
From: mrennie at utm.utoronto.ca (Michael Rennie)
Date: Fri, 03 May 2002 12:51:58 -0400
Subject: [R] Nested anovas in R
Message-ID: <5.1.0.14.0.20020503124714.00a53b80@142.150.1.1>


Hi, there

I am not a member on your mailing list, so could you please cc: a response 
to me?

I am currently attempting to perform an ANOVA with both nested and normal 
factors.  My problem is that R is treating my nested factors the exact same 
way as it would interaction terms.

My output for the nested model is as follows:

 > nested <- anova(lm(ltotinv ~ habitat + fish/lake + habitat:fish + 
habitat:(la\
ke %in% fish)))
 > nested
Analysis of Variance Table

Response: ltotinv
                   Df  Sum Sq Mean Sq F value    Pr(>F)
habitat            1 17.0829 17.0829 50.0917 3.083e-09 ***
fish               1  0.9131  0.9131  2.6774  0.107600
habitat:fish       1 13.0100 13.0100 38.1488 8.877e-08 ***
fish:lake          1  1.0256  1.0256  3.0072  0.088599 .
habitat:fish:lake  1  2.7641  2.7641  8.1051  0.006229 **
Residuals         54 18.4158  0.3410
---lysis of Variance Table
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1

With just interactions, not nested:

 > test <- anova(lm(ltotinv ~ habitat + fish + lake:fish + habitat:fish + 
fish:h\
abitat:lake))
 > test
Analysis of Variance Table

Response: ltotinv
                   Df  Sum Sq Mean Sq F value    Pr(>F)
habitat            1 17.0829 17.0829 50.0917 3.083e-09 ***
fish               1  0.9131  0.9131  2.6774  0.107600
habitat:fish       1 13.0100 13.0100 38.1488 8.877e-08 ***
fish:lake          1  1.0256  1.0256  3.0072  0.088599 .
habitat:fish:lake  1  2.7641  2.7641  8.1051  0.006229 **
Residuals         54 18.4158  0.3410
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1
 >


We get the same answer.  The reason I figured this out is because I did 
this analysis first in SAS, and then tried to reproduce it in R.  It must 
be something to do with my syntax, I imagine, but I can't see what it is.

Any help anyone has would be greatly appreciated.


Sincerely,

Mike Rennie
M.Sc. Candidate, University of Toronto at Mississauga

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May  3 19:06:40 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 3 May 2002 18:06:40 +0100 (BST)
Subject: [R] skipping columns with read.fwf?
In-Reply-To: <20458245FA51654B8BDE6B4EFF7B519401060CFC@EXCHANGE1.slps.SLPSROOT.ORG>
Message-ID: <Pine.LNX.4.31.0205031803370.18136-100000@gannet.stats>

On Fri, 3 May 2002, Brett A Magill wrote:

> I have a file in fwf.  It is rather large, about 40,000 rows and 40 variables (columns).  I only need about 10 variables form the data set for the analysis at hand.  Unfortunately, these 10 variables are not contiguous in the file, for example, the first is position 1-8, the next position 25-27, then 40.
>
> Is there a way to read the selected varaibles that I need without reading in the entire data set?

No. The first thing read.fwf does is read the whole dataset as a character
vector.  It's not designed for large files, but it may well read all the
vars in your problem if you have enough memory: the file only seems to be
of the order of 20Mb.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dhunter at stat.psu.edu  Fri May  3 19:14:17 2002
From: dhunter at stat.psu.edu (David Hunter)
Date: Fri, 3 May 2002 13:14:17 -0400 (EDT)
Subject: [R] problems with rexp ?
In-Reply-To: <002701c1f2a7$259eaa20$1100a8c0@ico.scs.es>
Message-ID: <Pine.GSO.4.10.10205031307350.22844-100000@gauss.stat.psu.edu>


On Fri, 3 May 2002, Juan Ramon Gonzalez wrote:

> Does anyone know if R have any problems with the exponential random number
> generation (function rexp)?
> 
> I comment it because I executed
> 
> data<-sort(rexp(100))
> plot(data,dexp(data)/(1-pexp(data)),type="l")
> 
> and the graphic isn't constant.

Hi.  Note that dexp(data)/(1-pexp(data)) is exactly (theoretically) 1
regardless of the values of 'data'.  Thus, the nonconstant plot you're
getting is solely due to roundoff (cancellation) error and gives no
information about the distribution of the 'data' vector except that it
contains some positive values for which the exponential density is very
small. (Hence there's no indication of any problem with rexp).


David Hunter
Assistant Professor of Statistics
Penn State University
dhunter at stat.psu.edu
(814) 863-0979



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri May  3 19:39:14 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 03 May 2002 19:39:14 +0200
Subject: [R] change default directory
References: <1020443770.3cd2bc7aab3ba@yuclnx4.yucom.be>
Message-ID: <3CD2CB42.8BFF8534@statistik.uni-dortmund.de>



wouter.buytaert at yucom.be wrote:
> 
> hello,
> 
> maybe a silly question, but how do you set a default directory of
> R, i.e. the place where R looks for source() files etc. at startup?

You can specify the path in source().
To set the working directory, use setwd().


> R 1.5.0 on Mandrake linux 8.2
> 
> BTW, it seems that my doc-directory is crippled (a lot of files
> are lacking). A flaw of the mandrake 8.2-rpm's or a bad install?

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri May  3 19:38:57 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 03 May 2002 12:38:57 -0500
Subject: [R] a question
In-Reply-To: <mnet2.1020331271.4649.dantec@netcourrier.com>
References: <mnet2.1020331271.4649.dantec@netcourrier.com>
Message-ID: <6rg019cery.fsf@franz.stat.wisc.edu>

dantec at netcourrier.com writes:

> I have a program written in R which is good on the version 1.2, but for 
> the fallowing versions of R, an error always is at the same place.
> That is at the level of the fallowing line:
> Sur<- 
> getInitial(res2[m:M,2]~SSasymp(res2[m:M,1],Asymp,resp0,lrc),data=res2)
> Error in eval(expr,envir,enclos):numeric envir arg not of length one

> I don't know at all this langage for the instant.

It is uncommon to use getInitial outside of nls.  Is there a reason
you are not using
  nls(res2[m:M,2]~SSasymp(res2[m:M,1],Asymp,resp0,lrc),data=res2)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sundard at pdf.com  Fri May  3 20:43:24 2002
From: sundard at pdf.com (Sundar Dorai-Raj)
Date: Fri, 03 May 2002 13:43:24 -0500
Subject: [R] delete rows
References: <F6784SFqzx1VX04yGiP0000ac2b@hotmail.com>
Message-ID: <3CD2DA4C.ECCD09F8@pdf.com>

Sonchawan,
I have an answer for your first question:

> I would like to know how to delete some rows?
> Suppose I have a large data frame look something like this:
> 
> x1      x2       x3     ..............
> a        1      0.45
> b        1      0.41
> c        0      0.43
> a        1      0.39
> d        1      0.40
> e        0      0.41
> r        1      0.42
> a        0      0.46
> .        .       ..
> 
> I would like to have another data frame which has all columns like the
> original one but if any rows have the same values in x1, then keep only the
> first row and delet the rest. Is it any way to make it look like this?
> 
> x1      x2       x3     ..............
> a        1      0.45
> b        1      0.41
> c        0      0.43
> d        1      0.40
> e        0      0.41
> r        1      0.42
> .        .       ..

SOLUTION:
> df <- data.frame(x1=gl(4,2,labels=letters[1:4]),
+                  x2=gl(2,4,labels=0:1),
+                  x3=rnorm(8))
> df
  x1 x2          x3
1  a  0  0.08317423
2  a  0 -1.10762737
3  b  0  0.71998683
4  b  0 -1.61450894
5  c  1 -0.07808250
6  c  1  0.36657481
7  d  1  0.26291955
8  d  1 -0.65862664
> aggregate(df$x3,list(x1=df$x1,x2=df$x2),function(x) x[1])
  x1 x2           x
1  a  0  0.08317423
2  b  0  0.71998683
3  c  1 -0.07808250
4  d  1  0.26291955
> 

> 
> Another question is I downloaded data from Oracle database to R which looks
> like this:
>    DATE,'yyyy,ww'  TRD_AMT
> 1    2001,01       57.99330
> 2    2001,01       59.52926
> 3    2001,03       61.31018
> 4    2001,04       59.07095
> 5    2001,05       62.29583
> 6    2001,06       63.96679
> 
> It's weekly data and I would like to plot it. How could I do that?
> 

Can't help you with the second one off the top of my head.

Sundar


-- 

Sundar Dorai-Raj, Ph.D.
Statistical Methods Engineer
PDF Solutions, Inc.
Richardson TX
(972) 889-3085 x216
(214) 392-7619 cell
sundard at pdf.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri May  3 21:04:20 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 03 May 2002 14:04:20 -0500
Subject: [R] problem with lme in nlme package
In-Reply-To: <5.1.0.14.2.20020502100102.02ca9218@mcmail.cis.mcmaster.ca>
References: <5.1.0.14.2.20020501221836.01d5db20@mcmail.cis.mcmaster.ca>
	<5.1.0.14.2.20020501221836.01d5db20@mcmail.cis.mcmaster.ca>
	<5.1.0.14.2.20020502100102.02ca9218@mcmail.cis.mcmaster.ca>
Message-ID: <6rd6wd9hor.fsf@franz.stat.wisc.edu>

John Fox <jfox at mcmaster.ca> writes:

> At 08:18 AM 5/2/2002 -0500, Douglas Bates wrote:
> 
> >A couple of things to consider:
> >
> >  - the underlying optimization software is different in S-PLUS and R.
> >    It may be that the REML estimates are poorly defined and
> >    convergence is being declared in different places by different software.
> >    Have you checked the intervals on those variance components using
> >    intervals(bryk.lme.1)
> 
> It occurred to me that the problem may be ill-conditioned, but I
> didn't check the confidence intervals for the variance components. I
> did look at the log-likelihoods, though. To more decimal places than
> in my previous note, they are:
> 
> 
> R: -23252.3919
> 
> S-PLUS: -23253.2177

Apparently the optimizer in S-PLUS declared convergence prematurely.

> Getting the confidence intervals on the variance components produces:
> 
> R:
> 
>      > intervals(bryk.lme.1)
>      Approximate 95% confidence intervals
> 
>      Fixed effects:
>                              lower      est.     upper
>      (Intercept)         11.7377216 12.128207 12.518692
>      meanses              4.6078631  5.336665  6.065467
>      cses                 2.6457000  2.942145  3.238589
>      sectorCatholic       0.6198986  1.224531  1.829164
>      meanses:cses         0.4738118  1.044406  1.615000
>      cses:sectorCatholic -2.0991261 -1.642148 -1.185170
> 
>      Random Effects:
>      Level: school
>                                  lower        est.        upper
>      sd((Intercept))        1.321746e+00 1.541176850 1.797037e+00
>      sd(cses)               6.686558e-09 0.018173637 4.939478e+04
>      cor((Intercept),cses) -8.630434e-02 0.005809486 9.782482e-02
> 
>      Within-group standard error:
>      lower     est.    upper
>      5.964008 6.063492 6.164636
> 
> S-PLUS
> 
>      > intervals(bryk.lme.1)
>      Problem in intervals.lme(bryk.lme.1): Cannot get confidence inter
>      vals on var-cov components: Non-positive definite approximate var
>      iance-covariance
>      Use traceback() to see the call stack

> Obviously, there's a problem here, as you suspected: the interval for
> sd(cses) in the R solution is very broad, and the covariance matrix in
> the S-PLUS solution isn't positive definite. (Does the S-PLUS version
> of the software use the log-Cholesky parametrization of the covariance
> matrix for the random effects?)

The default parameterization in the S-PLUS version of lme is the
Matrix logarithm.  The difference in parameterization should not have
a major effect on the convergence as both of these are unconstrained,
nonredundant parameterizations.  I think the difference in the results
from different optimization methods is an indication that the optimum
is poorly defined, as you can see from the intervals.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pkleiber at honlab.nmfs.hawaii.edu  Fri May  3 21:11:59 2002
From: pkleiber at honlab.nmfs.hawaii.edu (Pierre Kleiber)
Date: Fri, 03 May 2002 09:11:59 -1000
Subject: [R] skipping columns with read.fwf?
References: <20458245FA51654B8BDE6B4EFF7B519401060CFC@EXCHANGE1.slps.SLPSROOT.ORG>
Message-ID: <3CD2E0FF.90801@honlab.nmfs.hawaii.edu>

If you are in a Unix-like environment, you can use awk to preselect
the columns you want as follows:

read.table(pipe("awk '{print $1,$3,$4,$5,$6,$7,$8,$25,$26,$27,$40}' fwf"))

  Cheers, Pierre


Brett A Magill wrote:
> I have a file in fwf.  It is rather large, about 40,000 rows and 40 variables (columns).  I only need about 10 variables form the data set for the analysis at hand.  Unfortunately, these 10 variables are not contiguous in the file, for example, the first is position 1-8, the next position 25-27, then 40.
> 
> Is there a way to read the selected varaibles that I need without reading in the entire data set?
> 
> Thanks,
> 
> Brett    
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 



-- 
-----------------------------------------------------------------
Pierre Kleiber             Email: pkleiber at honlab.nmfs.hawaii.edu
Fishery Biologist                     Tel: 808 983-5399/737-7544
NOAA FISHERIES - Honolulu Laboratory         Fax: 808 983-2902
2570 Dole St., Honolulu, HI 96822-2396
-----------------------------------------------------------------
  "God could have told Moses about galaxies and mitochondria and
   all.  But behold... It was good enough for government work."
-----------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri May  3 21:16:40 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 03 May 2002 15:16:40 -0400
Subject: [R] Compiling R-1.5.0 failed on AIX4.3
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC2A5@usrymx10.merck.com>

Dear R-help,

I've having some trouble building R on AIX.  I'm using gcc/g77/g++.  The
error occurs when building the methods package:

gmake[4]: Entering directory
`/.../merck.com/fs/user/liawand/R-1.5.0/src/library
/methods'
dumping R code in package 'methods'
Fatal error: The X11 shared library could not be loaded.
  The error was 

gmake[4]: *** [../../../library/methods/R/all.rda] Error 2
gmake[4]: Leaving directory
`/.../merck.com/fs/user/liawand/R-1.5.0/src/library/
methods'
gmake[3]: *** [all] Error 2
gmake[3]: Leaving directory
`/.../merck.com/fs/user/liawand/R-1.5.0/src/library/
methods'
gmake[2]: *** [R] Error 1
gmake[2]: Leaving directory
`/.../merck.com/fs/user/liawand/R-1.5.0/src/library'
gmake[1]: *** [R] Error 1
gmake[1]: Leaving directory `/.../merck.com/fs/user/liawand/R-1.5.0/src'
gmake: *** [R] Error 1

I went through the fairly long thread on R-devel a while ago regarding
difficulties on AIX, and saw that there was a similar problem, but didn't
see any solution.  Can anyone help?

TIA!

Regards,
Andy


------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From talk-lists2 at civilnews.com  Fri May  3 22:10:44 2002
From: talk-lists2 at civilnews.com (Tim Johnson)
Date: 03 May 2002 16:10:44 -0400
Subject: [R] Technical Forums
Message-ID: <OSCARXPCK7wbaj3ywts000a9be8@oscar.Haestad.com>


You are invited to join...

WaterTalk
StormTalk
SewerTalk

...three new Technical Forums for water resource professionals.

These forums will keep you up-to-date with the latest tips and tricks in hydraulic and hydrologic modeling. Post your engineering questions and share your unique modeling experiences with a global audience of thousands of professionals. 

Learn more and sign up at the link below...
http://www.haestad.com/e/m.asp?d=49&m=020503DGb


Not part of the Civil Engineering community?

Click the link below to remove r-help at stat.math.ethz.ch from our list...
http://www.haestad.com/e/m.asp?d=27&e=r-help at stat.math.ethz.ch&m=020503DGb

Or, reply to this message and change the subject to " stop ".

LSID: 11546-1235333

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Sat May  4 00:44:22 2002
From: macq at llnl.gov (Don MacQueen)
Date: Fri, 3 May 2002 15:44:22 -0700
Subject: [R] Daylight savings time and conversion to POSIXt (arghh!)
Message-ID: <p05111708b8f8afabe54a@[128.115.153.6]>

I have asked this question before, and received some suggestions for 
work-arounds that get the job done--and they are much appreciated.

But I would still like to find out if I'm missing something, and 
whether there is a direct way using POSIXt functions (as.POSIXct, 
as.POSIXlt, strptime, in particular).

I have environmental data collected once per minute. Here is a subset 
of 3 input character strings; I have not found a way to correctly 
convert all three to POSIXt using POSIXt functions. I would 
appreciate help with this.

>  gdat <- c('2002-4-7 1:30:00',
+           '2002-4-7 2:30:00',
+           '2002-4-7 3:30:00')

The times are recorded with a fixed 8 hour offset from GMT 
(equivalently, they are recorded in "pacific standard time" 
year-round, even when the local convention is to switch to "pacific 
daylight-savings time".

Therefore the times are an hour apart.

They also cross the boundary from "standard" to "daylight-savings" in 
their timezone, so that in the daylight-savings convention they would 
represented with 1:30, 3:30, 4:30 (1:30 PST, 3:30 PDT, 4:30 PDT).

Here is a (naive) attempt at conversion:

>  gtim <- as.POSIXct(gdat)
>  gtim
[1] "2002-04-07 01:30:00 PST" "2002-04-07 01:30:00 PST"
[3] "2002-04-07 03:30:00 PDT"

Which doesn't work, as shown by:
>  diff(as.numeric(gtim))
[1]    0 3600

The most serious problem, and the one for which I'm looking for help 
with, is that the first two times are converted so as to be the same, 
when they are in fact an hour apart.

The third element is converted as if it were PDT, a 7 hour offset 
from GMT, when it is actually an 8 hour offset. This is not a 
problem. In fact, it is easy to handle both the first time and the 
last time correctly with

>  gcnv <- as.POSIXct(gdat,tz='GMT') + 28800
>  gcnv
[1] "2002-04-07 01:30:00 PST" "2002-04-07 01:30:00 PST"
[3] "2002-04-07 04:30:00 PDT"

And verify that the first and last are two hours apart with:
>  diff(as.numeric(gcnv))
[1]    0 7200

But the middle one is still wrong. If they were correctly converted I 
would see 0 3600 7200.

This suggests to me that as.POSIXct() isn't _fully_ honoring the tz argument.

Am I right in concluding that this is fundamentally due to:
>  strptime
function (x, format)
.Internal(strptime(x, format))
and the fact that the internal strptime has no timezone argument?

Somewhat more generally, if my input time character vector was 
specified to be all in GMT, I would think that it should be possible 
to convert this correctly to POSIXct or POSIXlt, but the same problem 
occurs
gdatg <- c('2002-4-7 1:30:00 GMT',
            '2002-4-7 2:30:00 GMT',
            '2002-4-7 3:30:00 GMT')
>  as.POSIXct(gdatg)
[1] "2002-04-07 01:30:00 PST" "2002-04-07 01:30:00 PST"
[3] "2002-04-07 03:30:00 PDT"
>  as.POSIXct(gdatg,tz='GMT')
[1] "2002-04-06 17:30:00 PST" "2002-04-06 17:30:00 PST"
[3] "2002-04-06 19:30:00 PST"
>  as.POSIXlt(gdatg)
[1] "2002-04-07 01:30:00" "2002-04-07 01:30:00" "2002-04-07 03:30:00"
>  as.POSIXlt(gdatg,tz='GMT')
[1] "2002-04-07 01:30:00 GMT" "2002-04-07 01:30:00 GMT"
[3] "2002-04-07 03:30:00 GMT"
>  strptime(gdatg,format='%Y-%m-%d %H:%M:%S')
[1] "2002-04-07 01:30:00" "2002-04-07 01:30:00" "2002-04-07 03:30:00"



Thanks
-Don

>  version
          _
platform sparc-sun-solaris2.7
arch     sparc
os       solaris2.7
system   sparc, solaris2.7
status
major    1
minor    5.0
year     2002
month    04
day      29
language R
>
>  Sys.getlocale()
[1] "C"
>
>  Sys.getenv('TZ')
           TZ
"US/Pacific"

-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ricardo at icmc.sc.usp.br  Sat May  4 02:45:21 2002
From: ricardo at icmc.sc.usp.br (=?iso-8859-1?Q?Ricardo_Gon=E7alves?=)
Date: Fri, 3 May 2002 21:45:21 -0300
Subject: [R] R Server Stas
Message-ID: <000901c1f304$f997f9f0$0100000a@stats>

Dear Users
I am trying to use the RServer Stats, however, when I click |Start R| excel tells me that it could
not start R.
Someone could help me with this problem?
Thanks
Rick.


---
Outgoing mail is certified Virus Free.
Checked by AVG anti-virus system (http://www.grisoft.com).
Version: 6.0.351 / Virus Database: 197 - Release Date: 19/4/2002

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kgleditsch at ucsd.edu  Sat May  4 02:42:30 2002
From: kgleditsch at ucsd.edu (Kristian Skrede Gleditsch)
Date: Fri, 3 May 2002 17:42:30 -0700
Subject: [R] acf() function
Message-ID: <HMEAKPEGMCEDLNICJDIHEEEJCHAA.kgleditsch@ucsd.edu>

As far as I can see, R does not appear to have an acf() function akin to
Splus. Does anyone have code for this?

regards,
KSG
------------------------------------------------------------
Kristian Skrede Gleditsch, Ph.D.
Assistant Professor
Department of Political Science
University of California, San Diego
La Jolla, CA 92093-0521, USA
Tel: (858) 822 0535, Fax: (858) 534 7130
Email: kgleditsch at ucsd.edu  http://weber.ucsd.edu/~kgledits/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Sat May  4 03:47:33 2002
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Fri, 03 May 2002 21:47:33 -0400
Subject: [R] acf() function
References: <HMEAKPEGMCEDLNICJDIHEEEJCHAA.kgleditsch@ucsd.edu>
Message-ID: <3CD33DB5.2B06C800@bank-banque-canada.ca>

Kristian Skrede Gleditsch wrote:
> 
> As far as I can see, R does not appear to have an acf() function akin to
> Splus. Does anyone have code for this?

Try
  library("ts")
  ?acf

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ken_lee at tynesys.com  Sat May  4 05:09:55 2002
From: ken_lee at tynesys.com (ken_lee)
Date: Sat, 4 May 2002 11:09:55 +0800
Subject: [R] Sys.getenv("os") issue
Message-ID: <IPECKKKLFINFHEGMEKKGGEGDCAAA.ken_lee@tynesys.com>

Dear all,
      Why I cat not get the value of  Sys.getenv("os") at the unix platform?

Best regards,
Ken
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From asone at latte.harvard.edu  Sat May  4 05:43:59 2002
From: asone at latte.harvard.edu (asone@latte.harvard.edu)
Date: Fri, 3 May 2002 23:43:59 -0400
Subject: [R] skipping columns with read.fwf?
In-Reply-To: <20458245FA51654B8BDE6B4EFF7B519401060CFC@EXCHANGE1.slps.SLPSROOT.ORG>
Message-ID: <000201c1f31d$ee1a32a0$5329f78c@HMDCVDCAS>

While at least two people had already responded to your question and
probably you may have received other tips on this topic personally, this
e-mail intends to have two of these other tips get into the help archive
for future reference.

1. cut command and read.fwf

This is a once-and-for-all (preprocessing the file before R) approach:
if you handle the file on some Linux/Unix-type platform, you can extract
the necessary columns from the data file and save them as a new file by
using 'cut' command with -b option and '> a_new_file_name' [redirection]
; for MS windows, cut.exe can be found within the tools.zip available at
http://www.stats.ox.ac.uk/pub/Rtools/.

2. customize read.fwf

As Professor Ripley mentioned in his e-mail, read.fwf isn't suitable for
large files; however, if you stick to solutions within R, one approach
is to customize read.fwf that is just a wrapping function of scan,
read.table, and others. As you can see, read.fwf internally calculates
first and last positions to cut/save relevant columns [i.e., an internal
function, doone]; therefore, instead of the argument widths, these
first/last positions can be externally given to the function as new
argument(s) of your customized read.fwf.

Cheers,

Akio Sone

Harvard-MIT data center




> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch 
> [mailto:owner-r-help at stat.math.ethz.ch] On Behalf Of Brett A Magill
> Sent: Friday, May 03, 2002 12:54 PM
> To: r-help at stat.math.ethz.ch
> Subject: [R] skipping columns with read.fwf?
> 
> 
> I have a file in fwf.  It is rather large, about 40,000 rows 
> and 40 variables (columns).  I only need about 10 variables 
> form the data set for the analysis at hand.  Unfortunately, 
> these 10 variables are not contiguous in the file, for 
> example, the first is position 1-8, the next position 25-27, then 40.
> 
> Is there a way to read the selected varaibles that I need 
> without reading in the entire data set?
> 
> Thanks,
> 
> Brett    
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-> FAQ.html
> Send "info", 
> "help", or "[un]subscribe"
> (in the 
> "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> o

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat May  4 07:08:34 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 4 May 2002 06:08:34 +0100 (GMT Daylight Time)
Subject: [R] Sys.getenv("os") issue
In-Reply-To: <IPECKKKLFINFHEGMEKKGGEGDCAAA.ken_lee@tynesys.com>
Message-ID: <Pine.WNT.4.44.0205040605280.3408-100000@Reeve>

On Sat, 4 May 2002, ken_lee wrote:

> Dear all,
>       Why I cat not get the value of  Sys.getenv("os") at the unix platform?

I get

> Sys.getenv("os")
os
""

which is correct (os is undefined as an environment variable, which are
conventionally upper case).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolfram at fischer-zim.ch  Sat May  4 07:53:07 2002
From: wolfram at fischer-zim.ch (Wolfram Fischer - Z/I/M)
Date: Sat, 4 May 2002 07:53:07 +0200
Subject: [R] sub() of matrix returns a vector and not a matrix
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC29E@usrymx10.merck.com>
Message-ID: <NDBBINKOMLDCOHBLDMGHIEOACMAA.wolfram@fischer-zim.ch>

Thanks, Andy, for this hint which is easy to implement.

I am just wundering now if there is a reason for this
loss of information about the data structure or if it is
only an inconsistant implementation of a good idea about
matrix operations:
	MATRIX * 10  results in a MATRIX
	paste( MATRIX, "." )  results in a VECTOR
	sub( "a", "A", as.character(MATRIX) )  results in a VECTOR

Wolfram Fischer

-----Original Message-----
From: Liaw, Andy [mailto:andy_liaw at merck.com]
Sent: Friday, May 03, 2002 3:56 PM
To: 'Wolfram Fischer - Z/I/M'
Subject: RE: [R] sub() of matrix returns a vector and not a matrix


`Matrix' in R is just a vector with `dim' attribute.  The sub()
function
(and many others) take a vector as input, and returns a vector.  It
does not
copy any attributes from the input to the output.  You can just as
easily
write a simple wrapper function that adds the dim(b) <- dim(a)
operation.

Andy

> -----Original Message-----
> From: Wolfram Fischer - Z/I/M [mailto:wolfram at fischer-zim.ch]
> Sent: Friday, May 03, 2002 9:16 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] sub() of matrix returns a vector and not a matrix
>
>
> Is there a simple possibility
> to become directly a matrix
> from a call of sub() on a matrix?
>
>
> --------- START OF LOGFILE ----------------
> 	# R 1.4.1
>
> > a <- matrix( letters[1:6], 2, 3 )
> 	# a is a matrix
> > print( a )
>      [,1] [,2] [,3]
> [1,] "a"  "c"  "e"
> [2,] "b"  "d"  "f"
>
> > b <- sub( '(.)', '-\\1-', a )
> 	# I had expected b to be a matrix
> 	# but b is a vector
> > print( b )
> [1] "-a-" "-b-" "-c-" "-d-" "-e-" "-f-"
>
>
> > dim(b) <- dim(a)
> > print( b )
> 	# b is now a matrix again
>      [,1]  [,2]  [,3]
> [1,] "-a-" "-c-" "-e-"
> [2,] "-b-" "-d-" "-f-"
>
> --------- END OF LOGFILE ----------------
>
> Wolfram Fischer


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lukas.kubin at permonik.com  Sat May  4 10:14:52 2002
From: lukas.kubin at permonik.com (Lukas Kubin)
Date: Sat, 4 May 2002 10:14:52 +0200 (CEST)
Subject: [R] algorithm -- generating combinations
Message-ID: <Pine.LNX.4.33.0205041011120.22432-100000@x.opf.slu.cz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

I would like to code a script which processess all possible combinations
of matrix columns. The purpose of such operation is to automatically find
best combination of factors (not those factors in mean of R, but
explaining factors -- independent variables) received from lm(). The
independent variables are present in columns of the matrix.
I am not a skilled programmer and I would like to ask someone to help me
create an algorithm generating the factors' combination so that I can work
with them further. What I need is: Let's say I have 3 matrix columns --
x1, x2, x3. The algorithm returns combinations x1 x2 x3; x1 x2; x2 x3; x1
x3; x1; x2; x3. It should also allow to limit the resulting set of
variables to contain at least a given number of items. For example: limit
is 2, algorithm returns x1 x2 x3; x1 x2; x2 x3 and x1 x3.
Which format should be the returned result? A vector? I will need to use
it way like: matrix[, c(1, 2, 3)] for a returned set x1 x2 x3.

I am almost sure all I am looking for has someone already done. I will
appreciate any help.
Thank you.

lukas

- -- 
Lukas Kubin
lukas.kubin at permonik.com
phone: 00420603836180
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.5 (GNU/Linux)
Comment: Made with pgp4pine 1.75-6

iD8DBQE805iE4TIZ2lmUAtsRAtz2AJ9ryZN4jwrSKFOSwTiJVECHgxTBCwCdGT7y
NpVfwWpJ/6DuUwZ9DVgjbzs=
=S6pM
-----END PGP SIGNATURE-----


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat May  4 11:20:31 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 4 May 2002 10:20:31 +0100 (BST)
Subject: [R] Windows pre-compiled packages updated for rw1050
Message-ID: <Pine.LNX.4.31.0205041011240.31022-100000@gannet.stats>

I have now moved the precompiled packages for rw1050 into the main
bin/windows/contrib area, and this will propagate around CRAN in the next
couple of days.

This makes it inadvisable to use update.packages() (or the menu item to
update packages) from rw1041 or earlier.

When you upgrade to rw1050, you will need to reinstall the following
packages:

	Matrix bqtl fracdiff gss odesolve quadprog quantreg

if you have them installed.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat May  4 11:25:12 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 May 2002 11:25:12 +0200
Subject: [R] Daylight savings time and conversion to POSIXt (arghh!)
In-Reply-To: <p05111708b8f8afabe54a@[128.115.153.6]>
References: <p05111708b8f8afabe54a@[128.115.153.6]>
Message-ID: <x2d6wcgt8n.fsf@blueberry.kubism.ku.dk>

Don MacQueen <macq at llnl.gov> writes:

> The third element is converted as if it were PDT, a 7 hour offset from
> GMT, when it is actually an 8 hour offset. This is not a problem. In
> fact, it is easy to handle both the first time and the last time
> correctly with
> 
> >  gcnv <- as.POSIXct(gdat,tz='GMT') + 28800
> >  gcnv
> [1] "2002-04-07 01:30:00 PST" "2002-04-07 01:30:00 PST"
> [3] "2002-04-07 04:30:00 PDT"
> 
> And verify that the first and last are two hours apart with:
> >  diff(as.numeric(gcnv))
> [1]    0 7200
> 
> But the middle one is still wrong. If they were correctly converted I
> would see 0 3600 7200.
> 
> This suggests to me that as.POSIXct() isn't _fully_ honoring the tz argument.

Yes, there seems to be a bug there.

I get a slightly different effect though:

> as.POSIXct(gdat,tz='GMT')
[1] "2002-04-07 03:30:00 CEST" "2002-04-07 04:30:00 CEST"
[3] "2002-04-07 05:30:00 CEST"
> unclass(as.POSIXct(gdat,tz='GMT'))
[1] 1018143000 1018146600 1018150200

> Sys.putenv(TZ="US/Pacific")
> as.POSIXct(gdat,tz='GMT')
[1] "2002-04-06 17:30:00 PST" "2002-04-06 19:30:00 PST"
[3] "2002-04-06 19:30:00 PST"
> unclass(as.POSIXct(gdat,tz='GMT'))
[1] 1018143000 1018150200 1018150200

The workaround would be along the lines of

> {x<-Sys.getenv("TZ");Sys.putenv(TZ="GMT")
+  z<-as.POSIXct(gdat);Sys.putenv(TZ=x);z}+28800
[1] "2002-04-07 01:30:00 PST" "2002-04-07 03:30:00 PDT"
[3] "2002-04-07 04:30:00 PDT"

which is probably what as.POSIXlt should do internally too.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat May  4 11:48:46 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 4 May 2002 10:48:46 +0100 (BST)
Subject: [R] Daylight savings time and conversion to POSIXt (arghh!)
In-Reply-To: <x2d6wcgt8n.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.31.0205041041260.31287-100000@gannet.stats>

The issue is that you are supplying a time to strptime that does not exist
in the timezone your computer is running in.  I did not expect this to be
relevant, but it seems some OSes will adjust it (and Solaris and Linux
adjust it differently).

As Peter suggests, the workaround on Solaris (where TZ is always set) is
to set TZ to GMT.  But that's not what the code should do internally, as
on some systems it cannot be unset. I suspect I can work around this, with
one small problem (what should be isdst component be?).

I am getting a little fed up with working around undocumented `features'
of calendar-time support on various OSes!

On 4 May 2002, Peter Dalgaard BSA wrote:

> Don MacQueen <macq at llnl.gov> writes:
>
> > The third element is converted as if it were PDT, a 7 hour offset from
> > GMT, when it is actually an 8 hour offset. This is not a problem. In
> > fact, it is easy to handle both the first time and the last time
> > correctly with
> >
> > >  gcnv <- as.POSIXct(gdat,tz='GMT') + 28800
> > >  gcnv
> > [1] "2002-04-07 01:30:00 PST" "2002-04-07 01:30:00 PST"
> > [3] "2002-04-07 04:30:00 PDT"
> >
> > And verify that the first and last are two hours apart with:
> > >  diff(as.numeric(gcnv))
> > [1]    0 7200
> >
> > But the middle one is still wrong. If they were correctly converted I
> > would see 0 3600 7200.
> >
> > This suggests to me that as.POSIXct() isn't _fully_ honoring the tz argument.
>
> Yes, there seems to be a bug there.
>
> I get a slightly different effect though:
>
> > as.POSIXct(gdat,tz='GMT')
> [1] "2002-04-07 03:30:00 CEST" "2002-04-07 04:30:00 CEST"
> [3] "2002-04-07 05:30:00 CEST"
> > unclass(as.POSIXct(gdat,tz='GMT'))
> [1] 1018143000 1018146600 1018150200
>
> > Sys.putenv(TZ="US/Pacific")
> > as.POSIXct(gdat,tz='GMT')
> [1] "2002-04-06 17:30:00 PST" "2002-04-06 19:30:00 PST"
> [3] "2002-04-06 19:30:00 PST"
> > unclass(as.POSIXct(gdat,tz='GMT'))
> [1] 1018143000 1018150200 1018150200
>
> The workaround would be along the lines of
>
> > {x<-Sys.getenv("TZ");Sys.putenv(TZ="GMT")
> +  z<-as.POSIXct(gdat);Sys.putenv(TZ=x);z}+28800
> [1] "2002-04-07 01:30:00 PST" "2002-04-07 03:30:00 PDT"
> [3] "2002-04-07 04:30:00 PDT"
>
> which is probably what as.POSIXlt should do internally too.
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From renaud.lancelot at cirad.fr  Sat May  4 11:51:24 2002
From: renaud.lancelot at cirad.fr (Renaud Lancelot)
Date: Sat, 04 May 2002 10:51:24 +0100
Subject: [R] R crashes trying to read a data.frame
Message-ID: <3CD3AF1C.67576A17@cirad.fr>

Dear all,

> version
         _              
platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    5.0            
year     2002           
month    04             
day      29             
language R              

OS: Win98

I have a strange problem with a particular data.frame built with an SQL
query in a database (package RODBC). The query is simple and the
data.frame is small (108 rows * 6 columns). The problem does not seem to
be related with the format of the data source: it occurs with 2
different formats of the same table (MS Access and MS Visual FoxPro).

> library(RODBC)
> bd <- odbcConnect(dsn = "Baobab_VFP")
> req <- "select * from lieu"
> vill <- sqlQuery(channel = bd, query = req)
> odbcClose(bd)
[1] 1
> dim(vill)
[1] 108   6

The problem is limited to the 6th column (which contains labels:
character string, 2 missing values) and the 93th row. The particular
values in this record do not seem to matter: they are not the same in
the Access table and in the FoxPro table (tables are the same but order
is different).

> vill[50:54, ]
   codelieu    lati hemi   longi meri                       nom
50 SNKOLDJI 12.8436    N 15.0192    O Djida Marietou           
51 SNKOLHAM 12.9519    N 14.8467    O SARE HAMIDOU             
52 SNKOLKIS 12.9767    N 14.8714    O MARAKISSA                
53 SNKOLLAM 12.8594    N 15.0219    O SARE LAMINE              
54 SNKOLLAY 12.8275    N 14.8803    O DIOULAYEL       

> vill[93, 1:5]
   codelieu lati hemi longi meri
93 SNFLLWAD   NA   <NA>    NA   <NA>

> vill[ , 6] # ===> crash
> vill[93, ] # ===> crash

I was able to write the whole data.frame in a text file with
write.table(). I can read this text file with read.table() but R crashes
as before at the same place:

> write.table(vill, "d:\\vill.txt")
> temp <- read.table("d:\\vill.txt")

> temp[50:54, ]
   codelieu    lati hemi   longi meri                       nom
50 SNKOLDJI 12.8436    N 15.0192    O Djida Marietou           
51 SNKOLHAM 12.9519    N 14.8467    O SARE HAMIDOU             
52 SNKOLKIS 12.9767    N 14.8714    O MARAKISSA                
53 SNKOLLAM 12.8594    N 15.0219    O SARE LAMINE              
54 SNKOLLAY 12.8275    N 14.8803    O DIOULAYEL      

> temp[ , 6] # ===> crash
> temp[93, ] # ===> crash

Where does this come from ?

For those interested, I attach the text file in a zip file (vill.zip,
size = 3 ko)

Thanks in advance,

Renaud


-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: vill.zip
Type: application/x-zip-compressed
Size: 2106 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020504/4b16ff33/vill.bin

From jfox at mcmaster.ca  Sat May  4 15:49:35 2002
From: jfox at mcmaster.ca (John Fox)
Date: Sat, 04 May 2002 09:49:35 -0400
Subject: [R] R crashes trying to read a data.frame
In-Reply-To: <3CD3AF1C.67576A17@cirad.fr>
Message-ID: <5.1.0.14.2.20020504094221.01d706e0@mcmail.cis.mcmaster.ca>

Dear Renaud,

This seems to work OK for me, using the same version of R (1.5.0), but 
under Windows 2000:

 > vill <- read.table('c:/temp/vill.txt')
 > vill[50:54, ]
    codelieu    lati hemi   longi meri                       nom
50 SNKOLDJI 12.8436    N 15.0192    O Djida Marietou
51 SNKOLHAM 12.9519    N 14.8467    O SARE HAMIDOU
52 SNKOLKIS 12.9767    N 14.8714    O MARAKISSA
53 SNKOLLAM 12.8594    N 15.0219    O SARE LAMINE
54 SNKOLLAY 12.8275    N 14.8803    O DIOULAYEL
 > vill[ , 6]
   [1] Barkeyel 2                Mbar Mback?
   [3] Barkeyel                  MBELA NDOCK
   [5] Mboss?dji Bara            Tchiky
   [7] Darou Marnane             Ndi?gh?ne Hibra
   [9] Ndock Peul                NGAR GUEYE
  [11] Gassel                    GUINGUINEO
  [13] Guin?e Mass               Gniby
  [15] Gossas                    GOSSAS VILLAGE
  [17] Guin?e Walo               Keur Isma?la
  [19] Keur Ndiouga              Keur Cheickh Mbaye
  [21] Keur Mor Djit?            Ndi?nn? Lagane
  [23] Ndock Diouma L?ourou      Leyi
  [25] NDIOLOFENE                Mbadi?ne
  [27] MBOSS                     Meth
  [29] Moungouniane              Ndiayene Waly
  [31] Niangu?                   Ndock Diouma Coumba
  [33] PETEGNE                   Panal Peul
  [35] Panal Thiar?ne            Sinthiou Thi?n?ba
  [37] NDINGLER TAWFEKH          THIADIA
  [39] Thiab?di?ne               SARE BAKARY
  [41] SARE BAMBA                SARE YORO BANA
  [43] SARE BIDJI                SARE BILALY
  [45] SARE BORY                 SARE BOUBEL
  [47] BANTHANGEL YORO DIAO      BANTHANTO DEMBA
  [49] SARE DIANAMBE             Djida Marietou
  [51] SARE HAMIDOU              MARAKISSA
  [53] SARE LAMINE               DIOULAYEL
  [55] MEDINA FASS               MAHON OUSMANE
  [57] MARAKISSA                 MEDINA SADIOUMA
  [59] DIANABO                   SINDIAN ADAMA
  [61] SAGHARE                   SARE SAMBOUDIANG
  [63] SANTANKOYE                SARE MAMADY
  [65] SARE SOUNKARY             WELIA DEMBEL
  [67] DIALACOUNA                KEUR DIANKO
  [69] KEUR MOUSSA BA            LEONA
  [71] NDIAYENE                  NDAKHAR KARIM
  [73] PADDAF 1                  PADDAF 2
  [75] PADDAF 3                  PADDAF 4
  [77] DIAGNE                    NDIOBEME SANTHIE
  [79] DIONABE                   GARKI
  [81] GUET ARDO                 KEUR MOUSSA KEBE
  [83] KEUR MANDOUMBE            NDEME
  [85] NOUFLE                    TOURE ATMANE
  [87] THIEMBAR                  TOURE FALL
  [89] THIALAGA                  THIALENE
  [91] THIAR PEULH               THIAR WOLOFF
  [93] Wadab? Nawar              Lampsar Peulh
  [95] Ouroube                   Madina
  [97] Ndiack Fall               Soutouboulbe
  [99] Sowanabes                 Ndiol
[101] Lampsar                   Thil?ne
[103] Diawar                    <NA>
[105] Ndombo                    Ngandiaye
[107] <NA>                      Thiago
Levels:  BANTHANGEL YORO DIAO      BANTHANTO 
DEMBA           Barkeyel                  Barkeyel 2                Darou 
Marnane             DIAGNE                    DIALACOUNA 
DIANABO                   Diawar                    DIONABE 
   DIOULAYEL                 Djida 
Marietou            GARKI                     Gassel 
Gniby                     Gossas                    GOSSAS 
VILLAGE            GUET ARDO                 Guin?e 
Mass               Guin?e Walo               GUINGUINEO                Keur 
Cheickh Mbaye        KEUR DIANKO               Keur 
Isma?la              KEUR MANDOUMBE            Keur Mor 
Djit?            KEUR MOUSSA BA            KEUR MOUSSA KEBE          Keur 
Ndiouga              Lampsar                   Lampsar 
Peulh             LEONA                     Leyi 
Madina                    MAHON 
OUSMANE             MARAKISSA                 Mbadi?ne 
Mbar Mback?               MBELA 
NDOCK               MBOSS                     Mboss?dji 
Bara            MEDINA FASS               MEDINA 
SADIOUMA           Meth                      Moungouniane 
NDAKHAR KARIM             NDEME                     Ndiack 
Fall               NDIAYENE                  Ndiayene 
Waly             Ndi?gh?ne Hibra           Ndi?nn? 
Lagane            NDINGLER TAWFEKH          NDIOBEME 
SANTHIE          Ndiol                     NDIOLOFENE                Ndock 
Diouma Coumba       Ndock Diouma L?ourou      Ndock 
Peul                Ndombo                    Ngandiaye 
NGAR 
GUEYE                Niangu?                   NOUFLE 
Ouroube                   PADDAF 1                  PADDAF 
2                  PADDAF 3                  PADDAF 
4                  Panal Peul                Panal 
Thiar?ne            PETEGNE                   SAGHARE 
SANTANKOYE                SARE BAKARY               SARE 
BAMBA                SARE BIDJI                SARE 
BILALY               SARE BORY                 SARE 
BOUBEL               SARE DIANAMBE             SARE 
HAMIDOU              SARE LAMINE               SARE 
MAMADY               SARE SAMBOUDIANG          SARE 
SOUNKARY             SARE YORO BANA            SINDIAN 
ADAMA             Sinthiou 
Thi?n?ba         Soutouboulbe              Sowanabes                 Tchiky 
                    Thiab?di?ne               THIADIA 
Thiago                    THIALAGA                  THIALENE 
   THIAR PEULH               THIAR 
WOLOFF              THIEMBAR                  Thil?ne 
TOURE ATMANE              TOURE FALL                Wadab? 
Nawar              WELIA DEMBEL
 > vill[93, ]
    codelieu lati hemi longi meri                       nom
93 SNFLLWAD   NA   <NA>    NA   <NA> Wadab? Nawar
 >

R 1.5.0 appears to have some problems lining up the column names with the 
columns, though -- see the result of vill[93, ]. (I got a neater listing 
under 1.4.1).

I hope that this helps,
  John

At 10:51 AM 5/4/2002 +0100, Renaud Lancelot wrote:
>Dear all,
>
> > version
>          _
>platform i386-pc-mingw32
>arch     i386
>os       mingw32
>system   i386, mingw32
>status
>major    1
>minor    5.0
>year     2002
>month    04
>day      29
>language R
>
>OS: Win98
>
>I have a strange problem with a particular data.frame built with an SQL
>query in a database (package RODBC). The query is simple and the
>data.frame is small (108 rows * 6 columns). The problem does not seem to
>be related with the format of the data source: it occurs with 2
>different formats of the same table (MS Access and MS Visual FoxPro).
>
> > library(RODBC)
> > bd <- odbcConnect(dsn = "Baobab_VFP")
> > req <- "select * from lieu"
> > vill <- sqlQuery(channel = bd, query = req)
> > odbcClose(bd)
>[1] 1
> > dim(vill)
>[1] 108   6
>
>The problem is limited to the 6th column (which contains labels:
>character string, 2 missing values) and the 93th row. The particular
>values in this record do not seem to matter: they are not the same in
>the Access table and in the FoxPro table (tables are the same but order
>is different).
>
> > vill[50:54, ]
>    codelieu    lati hemi   longi meri                       nom
>50 SNKOLDJI 12.8436    N 15.0192    O Djida Marietou
>51 SNKOLHAM 12.9519    N 14.8467    O SARE HAMIDOU
>52 SNKOLKIS 12.9767    N 14.8714    O MARAKISSA
>53 SNKOLLAM 12.8594    N 15.0219    O SARE LAMINE
>54 SNKOLLAY 12.8275    N 14.8803    O DIOULAYEL
>
> > vill[93, 1:5]
>    codelieu lati hemi longi meri
>93 SNFLLWAD   NA   <NA>    NA   <NA>
>
> > vill[ , 6] # ===> crash
> > vill[93, ] # ===> crash
>
>I was able to write the whole data.frame in a text file with
>write.table(). I can read this text file with read.table() but R crashes
>as before at the same place:
>
> > write.table(vill, "d:\\vill.txt")
> > temp <- read.table("d:\\vill.txt")
>
> > temp[50:54, ]
>    codelieu    lati hemi   longi meri                       nom
>50 SNKOLDJI 12.8436    N 15.0192    O Djida Marietou
>51 SNKOLHAM 12.9519    N 14.8467    O SARE HAMIDOU
>52 SNKOLKIS 12.9767    N 14.8714    O MARAKISSA
>53 SNKOLLAM 12.8594    N 15.0219    O SARE LAMINE
>54 SNKOLLAY 12.8275    N 14.8803    O DIOULAYEL
>
> > temp[ , 6] # ===> crash
> > temp[93, ] # ===> crash
>
>Where does this come from ?
>
>For those interested, I attach the text file in a zip file (vill.zip,
>size = 3 ko)
>
>Thanks in advance,
>
>Renaud
>
>
>--
>Dr Renaud Lancelot, v?t?rinaire
>CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
>Programme Productions Animales
>http://www.cirad.fr/presentation/programmes/prod-ani.shtml
>
>ISRA-LNERV                      tel    (221) 832 49 02
>BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
>Senegal                         e-mail renaud.lancelot at cirad.fr

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Sat May  4 15:56:44 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Sat, 4 May 2002 09:56:44 -0400
Subject: [R] Code for simulating repeated measurements or for estimating correlation structure
Message-ID: <20020504095644.28cb0fa0.fharrell@virginia.edu>

Does anyone have code to share for simulating repeated measurement data using one or more correlation structures along with random intercepts or random intercepts and random slopes for subjects?  

I would also like to have some recommendations for methods/functions for empirically (i.e., without a linear model) estimating the correlation structure from such repeated measures data.  Of particular interest would be a method that assumes correlations are smooth functions of the time separation and estimates those functions flexibly using splines for example.  The data I have in mind have 15-200 measurements per subject.
After all these years I am still not experienced in repeated measures analysis so forgive me if this is misguided.  I have only just begun reading Pinheiro and Bates.

Thanks in advance,

Frank
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Sat May  4 16:06:17 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Sat, 4 May 2002 10:06:17 -0400 
Subject: [R] algorithm -- generating combinations
Message-ID: <97E365D56960A642A79B2EE0ADA14E803F4C55@Groexmbcr10.pfizer.com>


It sounds like you want to do 'all possible subsets' regression.  There are
a couple of packages that address this, leaps and subsets.  See 
	http://cran.r-project.org/src/contrib/PACKAGES.html


If you really want to examine all possible subsets yourself, you can use the
te combinations() from the package gregmisc to compute all the combinations
of the column names.

-Greg

> -----Original Message-----
> From: Lukas Kubin [mailto:lukas.kubin at permonik.com]
> Sent: Saturday, May 04, 2002 4:15 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] algorithm -- generating combinations
> 
> 
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> I would like to code a script which processess all possible 
> combinations
> of matrix columns. The purpose of such operation is to 
> automatically find
> best combination of factors (not those factors in mean of R, but
> explaining factors -- independent variables) received from lm(). The
> independent variables are present in columns of the matrix.
> I am not a skilled programmer and I would like to ask someone 
> to help me
> create an algorithm generating the factors' combination so 
> that I can work
> with them further. What I need is: Let's say I have 3 matrix 
> columns --
> x1, x2, x3. The algorithm returns combinations x1 x2 x3; x1 
> x2; x2 x3; x1
> x3; x1; x2; x3. It should also allow to limit the resulting set of
> variables to contain at least a given number of items. For 
> example: limit
> is 2, algorithm returns x1 x2 x3; x1 x2; x2 x3 and x1 x3.
> Which format should be the returned result? A vector? I will 
> need to use
> it way like: matrix[, c(1, 2, 3)] for a returned set x1 x2 x3.
> 
> I am almost sure all I am looking for has someone already done. I will
> appreciate any help.
> Thank you.
> 
> lukas
> 
> - -- 
> Lukas Kubin
> lukas.kubin at permonik.com
> phone: 00420603836180
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.0.5 (GNU/Linux)
> Comment: Made with pgp4pine 1.75-6
> 
> iD8DBQE805iE4TIZ2lmUAtsRAtz2AJ9ryZN4jwrSKFOSwTiJVECHgxTBCwCdGT7y
> NpVfwWpJ/6DuUwZ9DVgjbzs=
> =S6pM
> -----END PGP SIGNATURE-----
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Sat May  4 16:06:13 2002
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Sat, 04 May 2002 10:06:13 -0400
Subject: [R] Sys.getenv("os") issue
References: <IPECKKKLFINFHEGMEKKGGEGDCAAA.ken_lee@tynesys.com>
Message-ID: <3CD3EAD5.225046EA@bank-banque-canada.ca>

ken_lee wrote:
> 
> Dear all,
>       Why I cat not get the value of  Sys.getenv("os") at the unix platform?

This will depend on your own local environment settings. For example, on
my Linux it would be Sys.getenv("OSTYPE"), but my Solaris machine does
not having any environment variable set for this. If you want something
that is a bit more portable, I would suggest
  Sys.info()["sysname"]
or
  Platform()$OS.type

(Also, if you want your code to run in S as well as R, you might look at
my syskern package in DSE on CRAN. It addresses a few compatibility
issues like this.)

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrysopa at insecta.ufv.br  Sat May  4 16:18:35 2002
From: chrysopa at insecta.ufv.br (Ronaldo Reis Jr.)
Date: Sat, 4 May 2002 11:18:35 -0300
Subject: [R] R gui
Message-ID: <200205041418.g44EIci08055@apicot.dba.ufv.br>

Hi all,
I have seen a lot of "graphic user interface" for R in the Omega Project. But 
I dont understand it. Are these gui an implementation for final user (like 
the java Splus interface) or only the code for developers?
Thanks
Ronaldo
-- 
"Cogito ergo I'm right and you're wrong."
-- Blair Houghton
--
|   //|\\   [*****************************][*******************]
|| ( ? ? )  [Ronaldo Reis J?nior          ][PentiumIII-600     ]
|     V     [ESALQ/USP-Entomologia, CP-09 ][HD: 30 + 10 Gb     ]
||  / l \   [13418-900 Piracicaba - SP    ][RAM: 128 Mb        ]
|  /(lin)\  [Fone: 19-429-4199 r.229      ][Video: SiS620-8Mb  ]
||/(linux)\ [chrysopa at insecta.ufv.br      ][Modem: Pctel-onboar]
|/ (linux) \[ICQ#: 5692561                ][SO: CL 7.0 (2.2.19)]
||  ( x )   [*****************************][*******************]
||| _/ \_Powered by Conectiva Linux 7.0 D+:) | Lxuser#: 205366
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From renaud.lancelot at cirad.fr  Sat May  4 15:29:55 2002
From: renaud.lancelot at cirad.fr (Renaud Lancelot)
Date: Sat, 04 May 2002 14:29:55 +0100
Subject: [R] R crashes trying to read a data.frame
References: <5.1.0.14.2.20020504094221.01d706e0@mcmail.cis.mcmaster.ca>
Message-ID: <3CD3E253.94997094@cirad.fr>

Dear John,

Thanks for your reply. I am afraid it's a problem with some Windows 98
dll. Do you know how I can check it ?

Best regards,

Renaud


-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat May  4 18:13:12 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 May 2002 18:13:12 +0200
Subject: [R] R crashes trying to read a data.frame
In-Reply-To: <3CD3E253.94997094@cirad.fr>
References: <5.1.0.14.2.20020504094221.01d706e0@mcmail.cis.mcmaster.ca>
	<3CD3E253.94997094@cirad.fr>
Message-ID: <x2u1pnriw7.fsf@blueberry.kubism.ku.dk>

Renaud Lancelot <renaud.lancelot at cirad.fr> writes:

> Dear John,
> 
> Thanks for your reply. I am afraid it's a problem with some Windows 98
> dll. Do you know how I can check it ?

Take a look at sec 2.14 in the Windows FAQ. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat May  4 18:37:43 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 4 May 2002 17:37:43 +0100 (BST)
Subject: [R] R crashes trying to read a data.frame
In-Reply-To: <3CD3E253.94997094@cirad.fr>
Message-ID: <Pine.LNX.4.31.0205041725080.2401-100000@gannet.stats>

On Sat, 4 May 2002, Renaud Lancelot wrote:

> Dear John,
>
> Thanks for your reply. I am afraid it's a problem with some Windows 98
> dll. Do you know how I can check it ?

The only DLL that is at all likely to be involved in msvcrt.dll, but when
you get a crash you should get a dialog telling you in which DLL this
occurred.  (If not you might need to install a `Dr Watson' clone such as
DrMingw: don't ask for further elucidation as this has always worked for
me, even on Windows 95.)

Looking at this on Windows 2000, you have a character (octal 202) in
temp[93, 6] that does not reproduce here.  That is exactly the point in
the rw-FAQ Q2.14 about msvcrt.dll and crashes!

I suspect this is an error in your file.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From renaud.lancelot at cirad.fr  Sat May  4 18:34:03 2002
From: renaud.lancelot at cirad.fr (Renaud Lancelot)
Date: Sat, 04 May 2002 17:34:03 +0100
Subject: [R] R crashes trying to read a data.frame
References: <Pine.LNX.4.31.0205041725080.2401-100000@gannet.stats>
Message-ID: <3CD40D7B.4734ED6E@cirad.fr>

Many thanks to Prs Ripley and Dalgaard who identified the problem. I
extracted MSVCRT.DLL (as well as MSVCRT20.DLL and MSVCRT40.DLL) and put
it in ...\rw1050\bin as indicated in rw-FAQ Q2.14.
I also installed Dr. Mingw
(http://mefriss1.swan.ac.uk/~jfonseca/gnu-win32/software/drmingw/index.html)
as suggested by Pr Ripley.

The problem is still here but at least, I know why:

RGUI.EXE caused an Access Violation at location 7801447b in module
MSVCRT.DLL Reading from location 0092ff7e.

Registers:
eax=0093007a ebx=04a85f8d ecx=ffffff82 edx=8194a07c esi=00000005
edi=00000000
eip=7801447b esp=0091e818 ebp=0091e844 iopl=0         nv up ei pl zr na
po nc
cs=0167  ss=016f  ds=016f  es=016f  fs=3f77  gs=0000            
efl=00010246

Call stack:
7801447B  MSVCRT.DLL:7801447B  isprint
00482821  R.DLL:00482821  Rf_formatString
004DC514  R.DLL:004DC514  xerbla_
[snip]

I also deleted and rewrote the presumed faulty line in the database, but
it did not change anything... I'll change my OS asap !

Thanks again and best regards,

Renaud

ripley at stats.ox.ac.uk wrote:
> 
> On Sat, 4 May 2002, Renaud Lancelot wrote:
> 
> > Dear John,
> >
> > Thanks for your reply. I am afraid it's a problem with some Windows 98
> > dll. Do you know how I can check it ?
> 
> The only DLL that is at all likely to be involved in msvcrt.dll, but when
> you get a crash you should get a dialog telling you in which DLL this
> occurred.  (If not you might need to install a `Dr Watson' clone such as
> DrMingw: don't ask for further elucidation as this has always worked for
> me, even on Windows 95.)
> 
> Looking at this on Windows 2000, you have a character (octal 202) in
> temp[93, 6] that does not reproduce here.  That is exactly the point in
> the rw-FAQ Q2.14 about msvcrt.dll and crashes!
> 
> I suspect this is an error in your file.
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Sat May  4 23:54:27 2002
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Sat, 4 May 2002 14:54:27 -0700
Subject: [R] lattice help....
Message-ID: <000f01c1f3b6$43ca1880$7c74c180@jackson>

I'm trying to create some trellis plots (like the last plot in the lattice
demo). When I run the demo( "lattice" ), the demo runs just fine, but when I
cut and paste some or all of the demo code into a r file of mine (and
nothing else), I can't see anything on a device and it doesn't look like any
of the demo is being run. Has anyone else seen this?

Jeff.

Jeff D. Hamann
Hamann, Donald & Associates
PO Box 1421
Corvallis, Oregon 97339
jeff_hamann at hamanndonald.com
www.hamanndonald.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun May  5 00:17:48 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 May 2002 00:17:48 +0200
Subject: [R] lattice help....
In-Reply-To: <000f01c1f3b6$43ca1880$7c74c180@jackson>
References: <000f01c1f3b6$43ca1880$7c74c180@jackson>
Message-ID: <x21ycrzhf7.fsf@blueberry.kubism.ku.dk>

"Jeff D. Hamann" <jeff_hamann at hamanndonald.com> writes:

> I'm trying to create some trellis plots (like the last plot in the lattice
> demo). When I run the demo( "lattice" ), the demo runs just fine, but when I
> cut and paste some or all of the demo code into a r file of mine (and
> nothing else), I can't see anything on a device and it doesn't look like any
> of the demo is being run. Has anyone else seen this?

Notice that trellis plots are created from objects of class "trellis"
by print.trellis. In contexts where the result of computations need an
explicit print(), e.g. when part of a function, so do the trellis
objects.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ken_lee at tynesys.com  Sun May  5 05:32:13 2002
From: ken_lee at tynesys.com (ken_lee)
Date: Sun, 5 May 2002 11:32:13 +0800
Subject: [R] How to get the position from a file to drill down 
Message-ID: <IPECKKKLFINFHEGMEKKGAEGHCAAA.ken_lee@tynesys.com>

Dear all,
      Can I generate a chart  file like scatter.png
           and record the pixel positions of every points?

Best regards

Ken
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Sun May  5 13:20:04 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sun, 5 May 2002 07:20:04 -0400
Subject: [R] possible changed organization of help files in 1.5.0?
Message-ID: <20020505072004.A13330@cattell.psych.upenn.edu>

I recently updated my search site at
http://finzi.psych.upenn.edu
It took about 7 hours with htDig, instead of the usual 3 hours.
Now, when I search the "functions" index I get all sorts of
non-html documents (indicated with brackets).  These have never
shown up before.  Did htDig mogrify itself while it sat on my
computer?  (I didn't do anything to change it.)  Or, more likely,
I thought, did the organization of the help files change?  I have
looked to see if I can find any changes (still have not updated
my laptop - so I compared to that), and I cannot.  Does anyone
know of any changes that would cause this?

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun May  5 14:16:13 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 5 May 2002 13:16:13 +0100 (BST)
Subject: [R] possible changed organization of help files in 1.5.0?
In-Reply-To: <20020505072004.A13330@cattell.psych.upenn.edu>
Message-ID: <Pine.LNX.4.31.0205051306220.12296-100000@gannet.stats>

On Sun, 5 May 2002, Jonathan Baron wrote:

> I recently updated my search site at
> http://finzi.psych.upenn.edu
> It took about 7 hours with htDig, instead of the usual 3 hours.
> Now, when I search the "functions" index I get all sorts of
> non-html documents (indicated with brackets).  These have never
> shown up before.  Did htDig mogrify itself while it sat on my
> computer?  (I didn't do anything to change it.)  Or, more likely,
> I thought, did the organization of the help files change?  I have
> looked to see if I can find any changes (still have not updated
> my laptop - so I compared to that), and I cannot.  Does anyone
> know of any changes that would cause this?

I suspect the following item from NEWS:

    o   If a directory 'inst/doc' is present in the sources of a
        package, the HTML index of the installed package has a link to
        the respective subdirectory.

(which was put in UTILITIES not DOCUMENTATION for some reason). There are
packages with PDF (and other) documentation installed in doc.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From forporphyry at hotmail.com  Sun May  5 20:30:30 2002
From: forporphyry at hotmail.com (graham lawrence)
Date: Sun, 05 May 2002 11:30:30 -0700
Subject: [R] writing functions
Message-ID: <F146adTMVwVn20lbhsK0000c769@hotmail.com>

This is my first attempt at writing a function.  Would someone kindly 
explain its result, or non-result.  Thanking you in advance.

restore<-function(){n<-Nx}
>restore
function(){n<-Nx}
>n
[1] 408
>Nx
[1] 10
>restore()
>n
[1] 408

and, by way of variation

>restora<-function(n){n<-Nx}
>n
[1] 408
>restora
function(n){n<-Nx}
>restora()
>n
[1] 408
>restora(n)
>n
[1] 408

graham lawrence

_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jniesch at gwdg.de  Sun May  5 20:47:03 2002
From: jniesch at gwdg.de (Jens Nieschulze)
Date: Sun, 5 May 2002 20:47:03 +0200 (MET DST)
Subject: [R] writing functions
In-Reply-To: <F146adTMVwVn20lbhsK0000c769@hotmail.com>
Message-ID: <Pine.SO4.4.10.10205052043230.5628-100000@ufobi7.uni-forst.gwdg.de>

On Sun, 5 May 2002, graham lawrence wrote:

%This is my first attempt at writing a function.  Would someone kindly 
%explain its result, or non-result.  Thanking you in advance.
%
the function uses a Call by value, ie n within your function is not
n outside your function 

%restore<-function(){n<-Nx}
%>restore
%function(){n<-Nx}
%>n
%[1] 408
%>Nx
%[1] 10
%>restore()
%>n
%[1] 408
%
%and, by way of variation
%
%>restora<-function(n){n<-Nx}
%>n
%[1] 408
%>restora
%function(n){n<-Nx}
%>restora()
%>n
%[1] 408
%>restora(n)
%>n
%[1] 408
%
%graham lawrence
%
%_________________________________________________________________
%
%
%-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
%r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
%Send "info", "help", or "[un]subscribe"
%(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
%_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
%

***********************************************************************
Jens Nieschulze

Institute for Forest Biometrics &	
Applied Computer Science	
Buesgenweg 4
37077 Goettingen		
GERMANY	

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From steve at stat.tku.edu.tw  Sun May  5 21:37:52 2002
From: steve at stat.tku.edu.tw (Steve Chen)
Date: Mon, 6 May 2002 03:37:52 +0800 (CST)
Subject: [R] Announce: My arma_scan.R for ARIMA
Message-ID: <Pine.LNX.4.21.0205060329440.26383-100000@paradise.stat.tku.edu.tw>

Hellow all R fans,

I wrote a R program for 
SCAN: Smallest CANonical Correlation Method for
ARIMA(p,d,q) identification. (by Tsay and Tiao (1985))

I don't know if there is already one for this, 
but since I was unable to find one, so I did it.

It's ready to download at the following page

http://netstat.stat.tku.edu.tw/download.php

I've tested the program and comared the results with SAS example
output for 197 concentration readings data (Box et al,1994)
and several other data sets, nothing wrong so far, but it might
still have bugs.

Please let me know if you find any question in the program.

regards,

Steve Chen       steve at stat.tku.edu.tw
Associate Professor
Department of Statistics
TamKang University, Taiwan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hkimscil at scils.rutgers.edu  Sun May  5 22:21:11 2002
From: hkimscil at scils.rutgers.edu (hkimscil)
Date: Sun, 5 May 2002 16:21:11 -0400
Subject: [R] trouble in (scan -- read.table)
References: <Pine.LNX.4.31.0205041725080.2401-100000@gannet.stats> <3CD40D7B.4734ED6E@cirad.fr>
Message-ID: <000e01c1f472$6607c980$4c16e6a5@jetsky>

Hello all -
I must be wrong in using commands...  

The below is my data (test.data). Its size is 10 X 15.
1 1 1 1 1 1 0 1 1 1 1 1 0 1 0
1 1 1 0 0 1 0 0 0 1 0 0 1 1 1
1 1 1 0 0 1 0 1 0 0 0 1 1 1 1
0 0 0 0 1 1 0 0 0 1 1 0 0 1 1
1 1 1 1 0 1 0 1 0 1 0 0 0 1 1
0 1 0 0 0 1 0 0 0 1 1 0 1 0 0
1 1 0 1 0 1 1 1 0 0 1 0 1 0 0
1 1 0 1 0 1 1 1 0 1 0 1 1 0 0
0 1 1 1 1 1 1 0 1 1 0 1 1 0 0
1 1 0 0 0 1 0 0 1 0 1 1 1 0 0

I am importing the data into a matrix test1, using scan.
> test1<-matrix(scan("test.data"),nrow=10,ncol=15)

Then, I do the same thing with read.table
> test2<-as.matrix(read.table("test.data"))

Now, test1 and test2 are different (test2 is the correct one).

test1:
1 1 1 1 0 1 1 0 1 1 1 1 0 0 1
1 1 0 1 1 0 1 0 0 1 0 1 1 1 0
1 0 0 1 1 0 1 0 0 0 1 1 1 1 0
1 1 0 0 1 0 1 1 0 1 0 0 1 0 1
1 0 1 0 1 1 0 1 1 0 0 1 1 0 0
1 1 0 1 0 1 1 0 1 1 1 0 1 1 1
0 1 0 0 0 0 0 1 0 1 1 1 1 1 1
1 1 1 1 0 0 1 0 1 1 0 1 0 0 1
1 0 1 0 0 1 0 0 0 0 1 0 1 0 0
1 0 1 0 1 1 1 0 0 0 0 0 1 0 0

test2
1 1 1 1 1 1 0 1 1 1 1 1 0 1 0
1 1 1 0 0 1 0 0 0 1 0 0 1 1 1
1 1 1 0 0 1 0 1 0 0 0 1 1 1 1
0 0 0 0 1 1 0 0 0 1 1 0 0 1 1
1 1 1 1 0 1 0 1 0 1 0 0 0 1 1
0 1 0 0 0 1 0 0 0 1 1 0 1 0 0
1 1 0 1 0 1 1 1 0 0 1 0 1 0 0
1 1 0 1 0 1 1 1 0 1 0 1 1 0 0
0 1 1 1 1 1 1 0 1 1 0 1 1 0 0
1 1 0 0 0 1 0 0 1 0 1 1 1 0 0

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun May  5 22:06:58 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 May 2002 22:06:58 +0200
Subject: [R] trouble in (scan -- read.table)
In-Reply-To: <000e01c1f472$6607c980$4c16e6a5@jetsky>
References: <Pine.LNX.4.31.0205041725080.2401-100000@gannet.stats>
	<3CD40D7B.4734ED6E@cirad.fr> <000e01c1f472$6607c980$4c16e6a5@jetsky>
Message-ID: <x2lmayuzod.fsf@blueberry.kubism.ku.dk>

"hkimscil" <hkimscil at scils.rutgers.edu> writes:

> I am importing the data into a matrix test1, using scan.
> > test1<-matrix(scan("test.data"),nrow=10,ncol=15)
> 
> Then, I do the same thing with read.table
> > test2<-as.matrix(read.table("test.data"))
> 
> Now, test1 and test2 are different (test2 is the correct one).

You need byrow=TRUE in matrix()

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Sun May  5 22:41:16 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sun, 5 May 2002 16:41:16 -0400
Subject: [R] trouble in (scan -- read.table)
In-Reply-To: <000e01c1f472$6607c980$4c16e6a5@jetsky>; from hkimscil@scils.rutgers.edu on Sun, May 05, 2002 at 04:21:11PM -0400
References: <Pine.LNX.4.31.0205041725080.2401-100000@gannet.stats> <3CD40D7B.4734ED6E@cirad.fr> <000e01c1f472$6607c980$4c16e6a5@jetsky>
Message-ID: <20020505164116.A27718@cattell.psych.upenn.edu>

On 05/05/02 16:21, hkimscil wrote:
>Hello all -
>I must be wrong in using commands...  

Yes.  scan() reads data horizontally, but matrix() fills up one
column at a time starting at the left.  You can change the
behavior of matrix() with byrow=T.

>The below is my data (test.data). Its size is 10 X 15.
>1 1 1 1 1 1 0 1 1 1 1 1 0 1 0
>1 1 1 0 0 1 0 0 0 1 0 0 1 1 1
>1 1 1 0 0 1 0 1 0 0 0 1 1 1 1
>0 0 0 0 1 1 0 0 0 1 1 0 0 1 1
>1 1 1 1 0 1 0 1 0 1 0 0 0 1 1
>0 1 0 0 0 1 0 0 0 1 1 0 1 0 0
>1 1 0 1 0 1 1 1 0 0 1 0 1 0 0
>1 1 0 1 0 1 1 1 0 1 0 1 1 0 0
>0 1 1 1 1 1 1 0 1 1 0 1 1 0 0
>1 1 0 0 0 1 0 0 1 0 1 1 1 0 0
>
>I am importing the data into a matrix test1, using scan.
>> test1<-matrix(scan("test.data"),nrow=10,ncol=15)

This should work if you say
test1<-matrix(scan("test.data"),nrow=10,ncol=15,byrow=T)

>Then, I do the same thing with read.table
>> test2<-as.matrix(read.table("test.data"))
>
>Now, test1 and test2 are different (test2 is the correct one).
>
>test1:
>1 1 1 1 0 1 1 0 1 1 1 1 0 0 1
>1 1 0 1 1 0 1 0 0 1 0 1 1 1 0
>1 0 0 1 1 0 1 0 0 0 1 1 1 1 0
>1 1 0 0 1 0 1 1 0 1 0 0 1 0 1
>1 0 1 0 1 1 0 1 1 0 0 1 1 0 0
>1 1 0 1 0 1 1 0 1 1 1 0 1 1 1
>0 1 0 0 0 0 0 1 0 1 1 1 1 1 1
>1 1 1 1 0 0 1 0 1 1 0 1 0 0 1
>1 0 1 0 0 1 0 0 0 0 1 0 1 0 0
>1 0 1 0 1 1 1 0 0 0 0 0 1 0 0
>
>test2
>1 1 1 1 1 1 0 1 1 1 1 1 0 1 0
>1 1 1 0 0 1 0 0 0 1 0 0 1 1 1
>1 1 1 0 0 1 0 1 0 0 0 1 1 1 1
>0 0 0 0 1 1 0 0 0 1 1 0 0 1 1
>1 1 1 1 0 1 0 1 0 1 0 0 0 1 1
>0 1 0 0 0 1 0 0 0 1 1 0 1 0 0
>1 1 0 1 0 1 1 1 0 0 1 0 1 0 0
>1 1 0 1 0 1 1 1 0 1 0 1 1 0 0
>0 1 1 1 1 1 1 0 1 1 0 1 1 0 0
>1 1 0 0 0 1 0 0 1 0 1 1 1 0 0

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.mar at imb.uq.edu.au  Mon May  6 01:55:29 2002
From: j.mar at imb.uq.edu.au (Jess Mar)
Date: Mon, 06 May 2002 09:55:29 +1000
Subject: [R] Passing a Matrix to .C?
Message-ID: <web-1386133@imb.uq.edu.au>

Hi, 

Is it possible to pass a matrix object in R to the .C
function? 

Moreover is it possible to have .C return a matrix object
back into R? 

I'm using Rv1.4.1 on a PC platform. 

Best wishes, Jess



_______________________________

Jess Mar
Department of Mathematics & 
Institute for Molecular Bioscience
University of Queensland Q 4072
AUSTRALIA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Mon May  6 02:58:06 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Mon, 06 May 2002 12:58:06 +1200
Subject: [R] "lower or equal" symbols in lattice graphics tick labels
References: <3CD25A2D.A7C9E0E0@sentoo.sn>
Message-ID: <3CD5D51E.3B772CD7@stat.auckland.ac.nz>

Hi


> Is there a way to draw "lower or equal", and "greater or equal" symbols
> in tick labels for lattice graphics ?


Mathematical annotation as in ...

	plot(1:10)
	text(6, 4, expression(x <= y))

... has not been implemented in grid (and hence lattice) yet.

It is planned for a future version.

Paul
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ricardo at icmc.sc.usp.br  Mon May  6 03:17:56 2002
From: ricardo at icmc.sc.usp.br (=?iso-8859-1?Q?Ricardo_Gon=E7alves?=)
Date: Sun, 5 May 2002 22:17:56 -0300
Subject: [R] Load Data
Message-ID: <000701c1f49b$dcca2cb0$0100000a@stats>

Dear R Users
What's the easiest way to load an excel data file to R?
Thanks
Rick


---
Outgoing mail is certified Virus Free.
Checked by AVG anti-virus system (http://www.grisoft.com).
Version: 6.0.351 / Virus Database: 197 - Release Date: 19/4/2002

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrewr at uidaho.edu  Mon May  6 05:01:25 2002
From: andrewr at uidaho.edu (Andrew Robinson)
Date: Sun, 05 May 2002 20:01:25 -0700
Subject: [R] Load Data
In-Reply-To: <000701c1f49b$dcca2cb0$0100000a@stats>
Message-ID: <5.1.0.14.0.20020505195911.03837450@uidaho.edu>

Rick,

the easiest way is to read the R-data documentation that was most likely 
installed with R.

I've had success with exporting the Excel sheet in comma-delimited format 
and then using read.csv

Andrew


At 10:17 PM 5/5/2002 -0300, you wrote:
>Dear R Users
>What's the easiest way to load an excel data file to R?
>Thanks
>Rick
>
>
>---
>Outgoing mail is certified Virus Free.
>Checked by AVG anti-virus system (http://www.grisoft.com).
>Version: 6.0.351 / Virus Database: 197 - Release Date: 19/4/2002

Andrew Robinson                         Phone: 208-885-7115
Department of Forest Resources          Fax:   208-885-6226
University of Idaho                     E: andrewr at uidaho.edu
Po Box 441133                           WWW: http://www.uidaho.edu/~andrewr
Moscow, ID 83843                        and: http://www.biometrics.uidaho.edu/
No statement above necessarily reflects the opinion of my employer

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon May  6 05:53:57 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sun, 5 May 2002 20:53:57 -0700 (PDT)
Subject: [R] Passing a Matrix to .C?
In-Reply-To: <web-1386133@imb.uq.edu.au>
Message-ID: <Pine.A41.4.44.0205052048530.134610-100000@homer20.u.washington.edu>

On Mon, 6 May 2002, Jess Mar wrote:

> Hi,
>
> Is it possible to pass a matrix object in R to the .C
> function?
>
> Moreover is it possible to have .C return a matrix object
> back into R?

Yes, and yes (mostly).

A matrix is just a vector with dimension attributes added, so it can be
passed to and from .C like any other vector.  The dimension information
won't be passed, so you may have to supply it explicitly with other
arguments, but that's usual in C.  So, for example, a 3x4 matrix of reals
goes into C as a pointer to 12 doubles.

If you construct a new matrix in C it will be passed back as a vector, and
you will need to use matrix() to specify dimensions, but if you modify the
matrix you were passed the dimensions won't be lost.

There are examples in the R source, eg, rowsum()

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May  6 06:51:07 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 6 May 2002 05:51:07 +0100 (BST)
Subject: [R] Passing a Matrix to .C?
In-Reply-To: <web-1386133@imb.uq.edu.au>
Message-ID: <Pine.GSO.4.44.0205060543360.8556-100000@auk.stats>

On Mon, 6 May 2002, Jess Mar wrote:

> Hi,
>
> Is it possible to pass a matrix object in R to the .C
> function?
>
> Moreover is it possible to have .C return a matrix object
> back into R?

No, no.  You have two choices

1) (Recommended.)  Use .Call: see the examples in `Writing R Extensions'.

2) A matrix is a vector with dimension attributes, so pass the vector and
the dimensions separately.  There are lots of examples of that, for example
in nnet.  This only needs a little more work, but does involve more
copying of objects.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patrick at giub.unibe.ch  Mon May  6 09:52:07 2002
From: patrick at giub.unibe.ch (Patrick Buetzberger)
Date: Mon, 06 May 2002 09:52:07 +0200
Subject: [R] Viewing certain numbers without NA's
Message-ID: <3CD63627.DA9AA2A5@giub.unibe.ch>

Dear R Community,

We have recently installed R 1.5.0 on several workstations. Ever since,
if I try to extract certain numbers or lines from a file (which contains

many NA's), I don't only get my desired line but all other lines which
contain NA's. In a file with 15000 rows and 7500 NA's this is not very
practical. In the earlier R-Version this worked when I typed in the
following:

a <- konz[konz[,17] == 1061 | konz[,17] == 1017,4:17]

In this case, vector 'a' contained columns 4:17 of every row in file
'konz' in which column 17 equaled 1061 or 1017, and nothing else. Since
R 1.5.0 is installed I also get all rows in which row 17 of 'konz'
contains NA's (and that's many).

Any hint how I can avoid this?

Thanks, Patrick Buetzberger
-------------- next part --------------
A non-text attachment was scrubbed...
Name: patrick.vcf
Type: text/x-vcard
Size: 339 bytes
Desc: Card for Patrick Buetzberger
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020506/18df1f9f/patrick.vcf

From o.christensen at lancaster.ac.uk  Mon May  6 10:10:18 2002
From: o.christensen at lancaster.ac.uk (Ole Christensen)
Date: Mon, 06 May 2002 09:10:18 +0100
Subject: [R] Viewing certain numbers without NA's
References: <3CD63627.DA9AA2A5@giub.unibe.ch>
Message-ID: <3CD63A6A.4D7F93A7@lancs.ac.uk>

Dear Patrick

a <- konz[(konz[,17] == 1061 | konz[,17] == 1017) &
!is.na(konz[,17]),4:17]

Should do the job

Ole

Patrick Buetzberger wrote:
> 
> Dear R Community,
> 
> We have recently installed R 1.5.0 on several workstations. Ever since,
> if I try to extract certain numbers or lines from a file (which contains
> 
> many NA's), I don't only get my desired line but all other lines which
> contain NA's. In a file with 15000 rows and 7500 NA's this is not very
> practical. In the earlier R-Version this worked when I typed in the
> following:
> 
> a <- konz[konz[,17] == 1061 | konz[,17] == 1017,4:17]
> 
> In this case, vector 'a' contained columns 4:17 of every row in file
> 'konz' in which column 17 equaled 1061 or 1017, and nothing else. Since
> R 1.5.0 is installed I also get all rows in which row 17 of 'konz'
> contains NA's (and that's many).
> 
> Any hint how I can avoid this?
> 
> Thanks, Patrick Buetzberger

-- 
Ole F. Christensen
Department of Mathematics and Statistics
Fylde College, Lancaster University 
Lancaster, LA1 4YF, England
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jussi.Makinen at valtiokonttori.fi  Mon May  6 11:01:58 2002
From: Jussi.Makinen at valtiokonttori.fi (=?iso-8859-1?Q?M=E4kinen_Jussi?=)
Date: Mon, 6 May 2002 12:01:58 +0300 
Subject: [R] A logit question?
Message-ID: <7EFB6224454CD511B9D700306E00F4070199AC06@VKYHA01>

Hello dear r-gurus!

I have a question about the logit-model. I think I have misunderstood
something and I'm trying to find a bug from my code or even better from my
head. Any help is appreciated.

The question is shortly: why I'm not having same coefficients from the
logit-regression when using a link-function and an explicite transformation
of the dependent. Below some details.

I'm not very familiar with the concept. As far as I have understood it's all
about transformation of the dependent variable if one have frequency data
(grouped data, instead of raw binaries):

ln(^p(i)/(1-^p(i)) = c + b_1(X_1) +...+ b_k(X_k) + e(i).

where ^p(i) is (estimated) frequency of incident (happened/all = n(i)/N), i
is index of observation, c and b_. are coefficients (objects of the
estimation), X_. are the explanatory variables and e is residual. So a
linear regression. 

And some testing:


> y <- runif(100)
> X <- rnorm(100)
> glm(y~ X, family=binomial(link=logit))

Call:  glm(formula = y ~ X, family = binomial(link = logit)) 

Coefficients:
(Intercept)            X  
   -0.00956      0.10760  

Degrees of Freedom: 99 Total (i.e. Null);  98 Residual
Null Deviance:      43.83 
Residual Deviance: 43.49        AIC: 142.3 
Warning message: 
non-integer #successes in a binomial glm! in: eval(expr, envir, enclos) 



### OR
> glm(cbind(y, 1-y)~ X, family=binomial(link=logit))	### ?glm

Call:  glm(formula = cbind(y, 1 - y) ~ X, family = binomial(link = logit)) 

Coefficients:
(Intercept)            X  
   -0.00956      0.10760  

Degrees of Freedom: 99 Total (i.e. Null);  98 Residual
Null Deviance:      43.83 
Residual Deviance: 43.49        AIC: 142.3 
Warning message: 
non-integer counts in a binomial glm! in: eval(expr, envir, enclos) 



### BUT
> glm(y.logit.transformation(y)~ X)

Call:  glm(formula = y.logit.transformation(y) ~ X) 

Coefficients:
(Intercept)            X  
     0.1233       0.1023  

Degrees of Freedom: 99 Total (i.e. Null);  98 Residual
Null Deviance:      465.6 
Residual Deviance: 464.4        AIC: 443.3 


### OR
> lm(y.logit.transformation(y)~ X)

Call:
lm(formula = y.logit.transformation(y) ~ X)

Coefficients:
(Intercept)            X  
     0.1233       0.1023  


It's close (AIC and residual deviance is different due transformation) but I
think that relationship should be exact? Or is it just calculation
inaccurance? Or is there some hidden reason (to me..)? Is it legimitate to
use frequency regression when using R for the logit-model (alternatives?).

I would like to know what does exactly mean the warning message: 
non-integer counts in a binomial glm! in: eval(expr, envir, enclos)

For the dependent transformation:

"y.logit.transformation" <- function(y)
{
	y.trans <- log(y/(1-y))
	y.trans
}

version

platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    5.0            
year     2002           
month    04             
day      29             
language R 

OS is Windows2000.

Thank you for any help.

deadlocked,

Jussi M?kinen
Analyst
State Treasury, Finland
phone:  +358-9-7725 616
mobile: +358-50-5958 710
www.statetreasury.fi
mailto:jussi.makinen at valtiokonttori.fi



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon May  6 11:07:37 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 May 2002 11:07:37 +0200
Subject: [R] Viewing certain numbers without NA's
In-Reply-To: <3CD63627.DA9AA2A5@giub.unibe.ch>
References: <3CD63627.DA9AA2A5@giub.unibe.ch>
Message-ID: <x2lmaxve3q.fsf@blueberry.kubism.ku.dk>

Patrick Buetzberger <patrick at giub.unibe.ch> writes:

> Dear R Community,
> 
> We have recently installed R 1.5.0 on several workstations. Ever since,
> if I try to extract certain numbers or lines from a file (which contains
> 
> many NA's), I don't only get my desired line but all other lines which
> contain NA's. In a file with 15000 rows and 7500 NA's this is not very
> practical. In the earlier R-Version this worked when I typed in the
> following:
> 
> a <- konz[konz[,17] == 1061 | konz[,17] == 1017,4:17]
> 
> In this case, vector 'a' contained columns 4:17 of every row in file
> 'konz' in which column 17 equaled 1061 or 1017, and nothing else. Since
> R 1.5.0 is installed I also get all rows in which row 17 of 'konz'
> contains NA's (and that's many).
> 
> Any hint how I can avoid this?

Try subset() instead. (This has always been so, btw. In S-PLUS too.) 

Or use the %in% operator, which doesn't give NA results. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Mon May  6 11:18:19 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Mon, 6 May 2002 21:18:19 +1200 (NZST)
Subject: [R] Using Object's Name in Function
Message-ID: <Pine.SOL.4.21.0205062113340.10830-100000@stat1.stat.auckland.ac.nz>

Hi,

Suppose I have a function:
myfunc <- function(x, y) {
 ...
}

And within the function I want to print out the name of the x, y
vectors.  For example, if I do:
> myfunc(foo, goo)
[1] "foo" "goo"

It shall return "foo", "goo" (with or without quotes is fine), where foo
and goo are two vectors with numbers.

I know this sounds strange, but I'd like to use it for debugging purposes.

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

Homepage: http://www.stat.auckland.ac.nz/~kwan022

E-mail: kwan022 at stat.auckland.ac.nz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Mon May  6 11:39:12 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Mon, 6 May 2002 21:39:12 +1200 (NZST)
Subject: [R] Subtitle?
Message-ID: <Pine.SOL.4.21.0205062138180.14256-100000@stat1.stat.auckland.ac.nz>

Hi,

Is it possible to add a subtitle that appears directly below the main
title?

I tried the "sub" parameter, but it adds sub-title to the bottom of the
plot.

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

Homepage: http://www.stat.auckland.ac.nz/~kwan022

E-mail: kwan022 at stat.auckland.ac.nz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From o.christensen at lancaster.ac.uk  Mon May  6 11:50:11 2002
From: o.christensen at lancaster.ac.uk (Ole Christensen)
Date: Mon, 06 May 2002 10:50:11 +0100
Subject: [R] function sort.list()
Message-ID: <3CD651D3.91CC371E@lancs.ac.uk>

Derar R-people

I have troubles understanding what the function sort.list() is doing. On
the homepage it says that it returns a permutation which rearranges a
vector into ascending or descending order (like order() but on a vector
instead of a sequence).

> sort.list(c(0, 2, 10, 11, 4))
[1] 1 2 5 3 4

which does not make sense to me.

In fact I am getting the same (non-sensical) result using order() 

order(c(0, 2, 10, 11, 4))
[1] 1 2 5 3 4

Of course 

rank(c(0, 2, 10, 11, 4))
1] 1 2 4 5 3

gives the correct result.

Am I missing something obvious here ? 

Cheers Ole

-- 
Ole F. Christensen
Department of Mathematics and Statistics
Fylde College, Lancaster University 
Lancaster, LA1 4YF, England
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Mon May  6 12:54:49 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Mon, 6 May 2002 10:54:49 +0000
Subject: [R] Using Object's Name in Function
In-Reply-To: <Pine.SOL.4.21.0205062113340.10830-100000@stat1.stat.auckland.ac.nz>; from kwan022@stat.auckland.ac.nz on Mon, May 06, 2002 at 09:18:19PM +1200
References: <Pine.SOL.4.21.0205062113340.10830-100000@stat1.stat.auckland.ac.nz>
Message-ID: <20020506105449.A13213@camille.indigoindustrial.co.nz>

On Mon, May 06, 2002 at 09:18:19PM +1200, Ko-Kang Kevin Wang wrote:
> Hi,
> 
> Suppose I have a function:
> myfunc <- function(x, y) {
>  ...
> }
> 
> And within the function I want to print out the name of the x, y
> vectors.  For example, if I do:
> > myfunc(foo, goo)
> [1] "foo" "goo"
> 

Something like 
myfunc <- function(x,y,...) {
	c(deparse(substitute(x)),deparse(substitute(y)))
}

myfunc("foo","goo")
[1] "\"foo\"" "\"goo\""

zz <- "foo"
zy <- "goo"
myfunc(zz,zy)
[1] "zz" "zy"
 
Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Mon May  6 13:07:35 2002
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Mon, 06 May 2002 13:07:35 +0200
Subject: [R] function sort.list()
References: <3CD651D3.91CC371E@lancs.ac.uk>
Message-ID: <3CD663F7.D6AC533C@ci.tuwien.ac.at>

Ole Christensen wrote:
> 
> Derar R-people
> 
> I have troubles understanding what the function sort.list() is doing. On
> the homepage it says that it returns a permutation which rearranges a
> vector into ascending or descending order (like order() but on a vector
> instead of a sequence).
> 
> > sort.list(c(0, 2, 10, 11, 4))
> [1] 1 2 5 3 4
> 
> which does not make sense to me.
> 
> In fact I am getting the same (non-sensical) result using order()
> 
> order(c(0, 2, 10, 11, 4))
> [1] 1 2 5 3 4
> 
> Of course
> 
> rank(c(0, 2, 10, 11, 4))
> 1] 1 2 4 5 3
> 
> gives the correct result.

Both functions give correct results, they just do different things!
rank() gives you the ranks, order() returns what is sometimes also
called anti-ranks. Type
R> c(0, 2, 10, 11, 4)[order(c(0, 2, 10, 11, 4))]
to see what it does. It can be used to rearrange matrices for example.
See help(order) for further examples.
Z

> Am I missing something obvious here ?
> 
> Cheers Ole
> 
> --
> Ole F. Christensen
> Department of Mathematics and Statistics
> Fylde College, Lancaster University
> Lancaster, LA1 4YF, England
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Mon May  6 13:12:11 2002
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Mon, 06 May 2002 13:12:11 +0200
Subject: [R] Subtitle?
References: <Pine.SOL.4.21.0205062138180.14256-100000@stat1.stat.auckland.ac.nz>
Message-ID: <3CD6650B.EE58711E@ci.tuwien.ac.at>

Ko-Kang Kevin Wang wrote:
> 
> Hi,
> 
> Is it possible to add a subtitle that appears directly below the main
> title?

You can use mtext() for that:

R> plot(1:10, main = "Main Title")
R> mtext("sub title")

Z

> I tried the "sub" parameter, but it adds sub-title to the bottom of the
> plot.
> 
> Cheers,
> 
> Kevin
> 
> ------------------------------------------------------------------------------
> Ko-Kang Kevin Wang
> Postgraduate PGDipSci Student
> Department of Statistics
> University of Auckland
> New Zealand
> 
> Homepage: http://www.stat.auckland.ac.nz/~kwan022
> 
> E-mail: kwan022 at stat.auckland.ac.nz
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Mon May  6 13:29:35 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Mon, 6 May 2002 11:29:35 +0000
Subject: [R] function sort.list()
In-Reply-To: <3CD651D3.91CC371E@lancs.ac.uk>; from o.christensen@lancaster.ac.uk on Mon, May 06, 2002 at 10:50:11AM +0100
References: <3CD651D3.91CC371E@lancs.ac.uk>
Message-ID: <20020506112935.A13636@camille.indigoindustrial.co.nz>

On Mon, May 06, 2002 at 10:50:11AM +0100, Ole Christensen wrote:
> I have troubles understanding what the function sort.list() is doing.
...
> > sort.list(c(0, 2, 10, 11, 4))
> [1] 1 2 5 3 4
...
> order(c(0, 2, 10, 11, 4))
> [1] 1 2 5 3 4
> Am I missing something obvious here ? 

Yup. It's doing exactly what it should.  Try 

zz <- c(0, 2, 10, 11, 4)
zz[order(zz)]

and all will be revealed.  order() returns indices of the 
vector if it were to be shuffled into order.

I thought it was strange at first too, but when combined with
R's other powerful scripting capabilities, it's a truly amazing
workhorse function; don't let its size fool you ;) .

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Mon May  6 13:38:50 2002
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Mon, 06 May 2002 06:38:50 -0500
Subject: [R] A logit question?
References: <7EFB6224454CD511B9D700306E00F4070199AC06@VKYHA01>
Message-ID: <3CD66B4A.2010902@epm.net.co>



M?kinen Jussi wrote:

>Hello dear r-gurus!
>
>I have a question about the logit-model. I think I have misunderstood
>something and I'm trying to find a bug from my code or even better from my
>head. Any help is appreciated.
>
>The question is shortly: why I'm not having same coefficients from the
>logit-regression when using a link-function and an explicite transformation
>of the dependent. Below some details.
>
>I'm not very familiar with the concept. As far as I have understood it's all
>about transformation of the dependent variable if one have frequency data
>(grouped data, instead of raw binaries):
>
>ln(^p(i)/(1-^p(i)) = c + b_1(X_1) +...+ b_k(X_k) + e(i).
>
>where ^p(i) is (estimated) frequency of incident (happened/all = n(i)/N), i
>is index of observation, c and b_. are coefficients (objects of the
>estimation), X_. are the explanatory variables and e is residual. So a
>linear regression. 
>
>And some testing:
>
>
>>y <- runif(100)
>>
Should you use a binomial (0,1) response variable?

best regards!

>>
>>X <- rnorm(100)
>>glm(y~ X, family=binomial(link=logit))
>>

>>
>
>Call:  glm(formula = y ~ X, family = binomial(link = logit)) 
>
>Coefficients:
>(Intercept)            X  
>   -0.00956      0.10760  
>
>Degrees of Freedom: 99 Total (i.e. Null);  98 Residual
>Null Deviance:      43.83 
>Residual Deviance: 43.49        AIC: 142.3 
>Warning message: 
>non-integer #successes in a binomial glm! in: eval(expr, envir, enclos) 
>
>
>
>### OR
>
>>glm(cbind(y, 1-y)~ X, family=binomial(link=logit))	### ?glm
>>
>
>Call:  glm(formula = cbind(y, 1 - y) ~ X, family = binomial(link = logit)) 
>
>Coefficients:
>(Intercept)            X  
>   -0.00956      0.10760  
>
>Degrees of Freedom: 99 Total (i.e. Null);  98 Residual
>Null Deviance:      43.83 
>Residual Deviance: 43.49        AIC: 142.3 
>Warning message: 
>non-integer counts in a binomial glm! in: eval(expr, envir, enclos) 
>
>
>
>### BUT
>
>>glm(y.logit.transformation(y)~ X)
>>
>
>Call:  glm(formula = y.logit.transformation(y) ~ X) 
>
>Coefficients:
>(Intercept)            X  
>     0.1233       0.1023  
>
>Degrees of Freedom: 99 Total (i.e. Null);  98 Residual
>Null Deviance:      465.6 
>Residual Deviance: 464.4        AIC: 443.3 
>
>
>### OR
>
>>lm(y.logit.transformation(y)~ X)
>>
>
>Call:
>lm(formula = y.logit.transformation(y) ~ X)
>
>Coefficients:
>(Intercept)            X  
>     0.1233       0.1023  
>
>
>It's close (AIC and residual deviance is different due transformation) but I
>think that relationship should be exact? Or is it just calculation
>inaccurance? Or is there some hidden reason (to me..)? Is it legimitate to
>use frequency regression when using R for the logit-model (alternatives?).
>
>I would like to know what does exactly mean the warning message: 
>non-integer counts in a binomial glm! in: eval(expr, envir, enclos)
>
>For the dependent transformation:
>
>"y.logit.transformation" <- function(y)
>{
>	y.trans <- log(y/(1-y))
>	y.trans
>}
>
>version
>
>platform i386-pc-mingw32
>arch     i386           
>os       mingw32        
>system   i386, mingw32  
>status                  
>major    1              
>minor    5.0            
>year     2002           
>month    04             
>day      29             
>language R 
>
>OS is Windows2000.
>
>Thank you for any help.
>
>deadlocked,
>
>Jussi M?kinen
>Analyst
>State Treasury, Finland
>phone:  +358-9-7725 616
>mobile: +358-50-5958 710
>www.statetreasury.fi
>mailto:jussi.makinen at valtiokonttori.fi
>
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lutz.thieme at amd.com  Mon May  6 13:43:43 2002
From: lutz.thieme at amd.com (lutz.thieme@amd.com)
Date: Mon, 6 May 2002 13:43:43 +0200
Subject: [R] Subtitle?
Message-ID: <E540DF203FFED21182EB0008C72875600AEDA740@deexmta4.amd.com>

If you don't need to modify the title style (font, size etc), insert a "\n"!
A simple example:

title("First line of my title\nand the second line.")

Regards,

Lutz

Lutz Thieme
AMD Saxony Manfacturing GmbH
Product Engineering
phone:	+49 351 277-4269
fax:	+49 351 277-9-4269
email:	lutz.thieme at amd.com



	-----Original Message-----
	From:	Ko-Kang Kevin Wang [SMTP:kwan022 at stat.auckland.ac.nz]
	Sent:	Monday, May 06, 2002 11:39 AM
	To:	R Help
	Subject:	[R] Subtitle?

	Hi,

	Is it possible to add a subtitle that appears directly below the main
	title?

	I tried the "sub" parameter, but it adds sub-title to the bottom of the
	plot.

	Cheers,

	Kevin

	------------------------------------------------------------------------------
	Ko-Kang Kevin Wang
	Postgraduate PGDipSci Student
	Department of Statistics
	University of Auckland
	New Zealand

	Homepage: http://www.stat.auckland.ac.nz/~kwan022

	E-mail: kwan022 at stat.auckland.ac.nz

	-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
	r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
	Send "info", "help", or "[un]subscribe"
	(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
	_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jussi.Makinen at valtiokonttori.fi  Mon May  6 13:56:51 2002
From: Jussi.Makinen at valtiokonttori.fi (=?iso-8859-1?Q?M=E4kinen_Jussi?=)
Date: Mon, 6 May 2002 14:56:51 +0300 
Subject: [R] A logit question?
Message-ID: <7EFB6224454CD511B9D700306E00F4070199AC09@VKYHA01>

I have got few answers which has pointed out that usually logit-model is for
a binary response (dependent) variable. And this was a part of my (obviously
badly written) question: is it possible to regress frequency data (e.g. not
binary response) with glm(y~x, family=binomial(link=logit))? 

glm-help says:

<snip>...For `binomial' models the response can also be specified as a
`factor' (when the first level denotes failure and all others success) or as
a two-column matrix with the columns giving the numbers of successes and
failures....<snip>

which led me think that it can handle frequency data (grouped data) as well.

But that should give the same result as transforming response and running
regular OLS?


Jussi






M?kinen Jussi wrote:

>Hello dear r-gurus!
>
>I have a question about the logit-model. I think I have misunderstood
>something and I'm trying to find a bug from my code or even better from my
>head. Any help is appreciated.
>
>The question is shortly: why I'm not having same coefficients from the
>logit-regression when using a link-function and an explicite transformation
>of the dependent. Below some details.
>
>I'm not very familiar with the concept. As far as I have understood it's
all
>about transformation of the dependent variable if one have frequency data
>(grouped data, instead of raw binaries):
>
>ln(^p(i)/(1-^p(i)) = c + b_1(X_1) +...+ b_k(X_k) + e(i).
>
>where ^p(i) is (estimated) frequency of incident (happened/all = n(i)/N), i
>is index of observation, c and b_. are coefficients (objects of the
>estimation), X_. are the explanatory variables and e is residual. So a
>linear regression. 
>
>And some testing:
>
>
>>y <- runif(100)
>>
Should you use a binomial (0,1) response variable?

best regards!

>>
>>X <- rnorm(100)
>>glm(y~ X, family=binomial(link=logit))
>>

>>
>
>Call:  glm(formula = y ~ X, family = binomial(link = logit)) 
>
>Coefficients:
>(Intercept)            X  
>   -0.00956      0.10760  
>
>Degrees of Freedom: 99 Total (i.e. Null);  98 Residual
>Null Deviance:      43.83 
>Residual Deviance: 43.49        AIC: 142.3 
>Warning message: 
>non-integer #successes in a binomial glm! in: eval(expr, envir, enclos) 
>
>
>
>### OR
>
>>glm(cbind(y, 1-y)~ X, family=binomial(link=logit))	### ?glm
>>
>
>Call:  glm(formula = cbind(y, 1 - y) ~ X, family = binomial(link = logit)) 
>
>Coefficients:
>(Intercept)            X  
>   -0.00956      0.10760  
>
>Degrees of Freedom: 99 Total (i.e. Null);  98 Residual
>Null Deviance:      43.83 
>Residual Deviance: 43.49        AIC: 142.3 
>Warning message: 
>non-integer counts in a binomial glm! in: eval(expr, envir, enclos) 
>
>
>
>### BUT
>
>>glm(y.logit.transformation(y)~ X)
>>
>
>Call:  glm(formula = y.logit.transformation(y) ~ X) 
>
>Coefficients:
>(Intercept)            X  
>     0.1233       0.1023  
>
>Degrees of Freedom: 99 Total (i.e. Null);  98 Residual
>Null Deviance:      465.6 
>Residual Deviance: 464.4        AIC: 443.3 
>
>
>### OR
>
>>lm(y.logit.transformation(y)~ X)
>>
>
>Call:
>lm(formula = y.logit.transformation(y) ~ X)
>
>Coefficients:
>(Intercept)            X  
>     0.1233       0.1023  
>
>
>It's close (AIC and residual deviance is different due transformation) but
I
>think that relationship should be exact? Or is it just calculation
>inaccurance? Or is there some hidden reason (to me..)? Is it legimitate to
>use frequency regression when using R for the logit-model (alternatives?).
>
>I would like to know what does exactly mean the warning message: 
>non-integer counts in a binomial glm! in: eval(expr, envir, enclos)
>
>For the dependent transformation:
>
>"y.logit.transformation" <- function(y)
>{
>	y.trans <- log(y/(1-y))
>	y.trans
>}
>
>version
>
>platform i386-pc-mingw32
>arch     i386           
>os       mingw32        
>system   i386, mingw32  
>status                  
>major    1              
>minor    5.0            
>year     2002           
>month    04             
>day      29             
>language R 
>
>OS is Windows2000.
>
>Thank you for any help.
>
>deadlocked,
>
>Jussi M?kinen
>Analyst
>State Treasury, Finland
>phone:  +358-9-7725 616
>mobile: +358-50-5958 710
>www.statetreasury.fi
>mailto:jussi.makinen at valtiokonttori.fi
>
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Mon May  6 14:12:35 2002
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Mon, 06 May 2002 14:12:35 +0200
Subject: [R] A logit question?
References: <7EFB6224454CD511B9D700306E00F4070199AC09@VKYHA01>
Message-ID: <3CD67333.28A278A8@ci.tuwien.ac.at>

M?kinen Jussi wrote:
> 
> I have got few answers which has pointed out that usually logit-model is for
> a binary response (dependent) variable. And this was a part of my (obviously
> badly written) question: is it possible to regress frequency data (e.g. not
> binary response) with glm(y~x, family=binomial(link=logit))?
> 
> glm-help says:
> 
> <snip>...For `binomial' models the response can also be specified as a
> `factor' (when the first level denotes failure and all others success) or as
> a two-column matrix with the columns giving the numbers of successes and
> failures....<snip>
> 
> which led me think that it can handle frequency data (grouped data) as well.
> 
> But that should give the same result as transforming response and running
> regular OLS?

No, glm() gives you the ML estimate for the regression coefficients.
Only for the gaussian family ML and OLS are the same.
Z
 
> Jussi
> 
> M?kinen Jussi wrote:
> 
> >Hello dear r-gurus!
> >
> >I have a question about the logit-model. I think I have misunderstood
> >something and I'm trying to find a bug from my code or even better from my
> >head. Any help is appreciated.
> >
> >The question is shortly: why I'm not having same coefficients from the
> >logit-regression when using a link-function and an explicite transformation
> >of the dependent. Below some details.
> >
> >I'm not very familiar with the concept. As far as I have understood it's
> all
> >about transformation of the dependent variable if one have frequency data
> >(grouped data, instead of raw binaries):
> >
> >ln(^p(i)/(1-^p(i)) = c + b_1(X_1) +...+ b_k(X_k) + e(i).
> >
> >where ^p(i) is (estimated) frequency of incident (happened/all = n(i)/N), i
> >is index of observation, c and b_. are coefficients (objects of the
> >estimation), X_. are the explanatory variables and e is residual. So a
> >linear regression.
> >
> >And some testing:
> >
> >
> >>y <- runif(100)
> >>
> Should you use a binomial (0,1) response variable?
> 
> best regards!
> 
> >>
> >>X <- rnorm(100)
> >>glm(y~ X, family=binomial(link=logit))
> >>
> 
> >>
> >
> >Call:  glm(formula = y ~ X, family = binomial(link = logit))
> >
> >Coefficients:
> >(Intercept)            X
> >   -0.00956      0.10760
> >
> >Degrees of Freedom: 99 Total (i.e. Null);  98 Residual
> >Null Deviance:      43.83
> >Residual Deviance: 43.49        AIC: 142.3
> >Warning message:
> >non-integer #successes in a binomial glm! in: eval(expr, envir, enclos)
> >
> >
> >
> >### OR
> >
> >>glm(cbind(y, 1-y)~ X, family=binomial(link=logit))    ### ?glm
> >>
> >
> >Call:  glm(formula = cbind(y, 1 - y) ~ X, family = binomial(link = logit))
> >
> >Coefficients:
> >(Intercept)            X
> >   -0.00956      0.10760
> >
> >Degrees of Freedom: 99 Total (i.e. Null);  98 Residual
> >Null Deviance:      43.83
> >Residual Deviance: 43.49        AIC: 142.3
> >Warning message:
> >non-integer counts in a binomial glm! in: eval(expr, envir, enclos)
> >
> >
> >
> >### BUT
> >
> >>glm(y.logit.transformation(y)~ X)
> >>
> >
> >Call:  glm(formula = y.logit.transformation(y) ~ X)
> >
> >Coefficients:
> >(Intercept)            X
> >     0.1233       0.1023
> >
> >Degrees of Freedom: 99 Total (i.e. Null);  98 Residual
> >Null Deviance:      465.6
> >Residual Deviance: 464.4        AIC: 443.3
> >
> >
> >### OR
> >
> >>lm(y.logit.transformation(y)~ X)
> >>
> >
> >Call:
> >lm(formula = y.logit.transformation(y) ~ X)
> >
> >Coefficients:
> >(Intercept)            X
> >     0.1233       0.1023
> >
> >
> >It's close (AIC and residual deviance is different due transformation) but
> I
> >think that relationship should be exact? Or is it just calculation
> >inaccurance? Or is there some hidden reason (to me..)? Is it legimitate to
> >use frequency regression when using R for the logit-model (alternatives?).
> >
> >I would like to know what does exactly mean the warning message:
> >non-integer counts in a binomial glm! in: eval(expr, envir, enclos)
> >
> >For the dependent transformation:
> >
> >"y.logit.transformation" <- function(y)
> >{
> >       y.trans <- log(y/(1-y))
> >       y.trans
> >}
> >
> >version
> >
> >platform i386-pc-mingw32
> >arch     i386
> >os       mingw32
> >system   i386, mingw32
> >status
> >major    1
> >minor    5.0
> >year     2002
> >month    04
> >day      29
> >language R
> >
> >OS is Windows2000.
> >
> >Thank you for any help.
> >
> >deadlocked,
> >
> >Jussi M?kinen
> >Analyst
> >State Treasury, Finland
> >phone:  +358-9-7725 616
> >mobile: +358-50-5958 710
> >www.statetreasury.fi
> >mailto:jussi.makinen at valtiokonttori.fi
> >
> >
> >
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-
> >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sundar.dorai-raj at pdf.com  Mon May  6 14:36:43 2002
From: sundar.dorai-raj at pdf.com (Sundar Dorai-Raj)
Date: Mon, 06 May 2002 07:36:43 -0500
Subject: [R] function sort.list()
References: <3CD651D3.91CC371E@lancs.ac.uk>
Message-ID: <3CD678DB.71641A67@pdf.com>

> Derar R-people
> 
> I have troubles understanding what the function sort.list() is doing. On
> the homepage it says that it returns a permutation which rearranges a
> vector into ascending or descending order (like order() but on a vector
> instead of a sequence).
> 
> > sort.list(c(0, 2, 10, 11, 4))
> [1] 1 2 5 3 4
> 
> which does not make sense to me.
> 
> In fact I am getting the same (non-sensical) result using order()
> 
> order(c(0, 2, 10, 11, 4))
> [1] 1 2 5 3 4

sort.list and order do return the correct order. What you're seeing is
the indicies that will put the list in order. Try this to see

> c(0,2,10,11,4)[sort.list(c(0,2,10,11,4))]
[1]  0  2  4 10 11
> c(0,2,10,11,4)[order(c(0,2,10,11,4))]
[1]  0  2  4 10 11

> 
> Of course
> 
> rank(c(0, 2, 10, 11, 4))
> 1] 1 2 4 5 3
> 
> gives the correct result.

Not "correct result" but "totally different result."

> 
> Am I missing something obvious here ?
> 

We all have those moments?

Regards,
Sundar

-- 

Sundar Dorai-Raj, Ph.D.
Statistical Methods Engineer
PDF Solutions, Inc.
Richardson TX
(972) 889-3085 x216
(214) 392-7619 cell
sundard at pdf.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sundar.dorai-raj at pdf.com  Mon May  6 14:46:02 2002
From: sundar.dorai-raj at pdf.com (Sundar Dorai-Raj)
Date: Mon, 06 May 2002 07:46:02 -0500
Subject: [R] Using Object's Name in Function
References: <Pine.SOL.4.21.0205062113340.10830-100000@stat1.stat.auckland.ac.nz>
Message-ID: <3CD67B0A.13AEF5B0@pdf.com>

> 
> Suppose I have a function:
> myfunc <- function(x, y) {
>  ...
> }
> 
> And within the function I want to print out the name of the x, y
> vectors.  For example, if I do:
> > myfunc(foo, goo)
> [1] "foo" "goo"
> 
> It shall return "foo", "goo" (with or without quotes is fine), where foo
> and goo are two vectors with numbers.
> 

This should be a good place to start

> myfunc <- function(x,y) {
+   call <- match.call()
+   as.character(call)[-1]
+ }
> foo <- exp(1)
> myfunc(foo,"goo")
[1] "foo" "goo"
> 

Sundar

-- 

Sundar Dorai-Raj, Ph.D.
Statistical Methods Engineer
PDF Solutions, Inc.
Richardson TX
(972) 889-3085 x216
(214) 392-7619 cell
sundard at pdf.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon May  6 14:47:43 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 06 May 2002 14:47:43 +0200
Subject: [R] Using Object's Name in Function
References: <Pine.SOL.4.21.0205062113340.10830-100000@stat1.stat.auckland.ac.nz>
Message-ID: <3CD67B6F.6DCFF52B@statistik.uni-dortmund.de>



Ko-Kang Kevin Wang wrote:
> 
> Hi,
> 
> Suppose I have a function:
> myfunc <- function(x, y) {
>  ...
> }
> 
> And within the function I want to print out the name of the x, y
> vectors.  For example, if I do:
> > myfunc(foo, goo)
> [1] "foo" "goo"
> 
> It shall return "foo", "goo" (with or without quotes is fine), where foo
> and goo are two vectors with numbers.


Try substitute().

Uwe


> I know this sounds strange, but I'd like to use it for debugging purposes.
> 
> Cheers,
> 
> Kevin
> 
> ------------------------------------------------------------------------------
> Ko-Kang Kevin Wang
> Postgraduate PGDipSci Student
> Department of Statistics
> University of Auckland
> New Zealand
> 
> Homepage: http://www.stat.auckland.ac.nz/~kwan022
> 
> E-mail: kwan022 at stat.auckland.ac.nz
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Mon May  6 15:12:40 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Mon, 06 May 2002 13:12:40 +0000
Subject: [R] A logit question?
References: <7EFB6224454CD511B9D700306E00F4070199AC09@VKYHA01> <3CD67333.28A278A8@ci.tuwien.ac.at>
Message-ID: <3CD68148.39F66065@sentoo.sn>

It might be possible to use frequency data, if you mean proportions.
There are two ways: either the response is a matrix (successes vs
failures) or a vector of proportions (successes / (successes + failures)
). In the latter case, you will have to use a "weight" argument, with
the weight = the denominator of the proportion.

See help on glm:

?glm
[snip]
Details:

     A typical predictor has the form `response ~ terms' where
     `response' is the (numeric) response vector and `terms' is a
     series of terms which specifies a linear predictor for `response'.
     For `binomial' models the response can also be specified as a
     `factor' (when the first level denotes failure and all others
     success) or as a two-column matrix with the columns giving the
     numbers of successes and failures.  A terms specification of the
     form `first + second' indicates all the terms in `first' together
     with all the terms in `second' with duplicates removed.
[snip]

Hope this helps,

Renaud

Achim Zeileis wrote:
> 
> M?kinen Jussi wrote:
> >
> > I have got few answers which has pointed out that usually logit-model is for
> > a binary response (dependent) variable. And this was a part of my (obviously
> > badly written) question: is it possible to regress frequency data (e.g. not
> > binary response) with glm(y~x, family=binomial(link=logit))?
> >
> > glm-help says:
> >
> > <snip>...For `binomial' models the response can also be specified as a
> > `factor' (when the first level denotes failure and all others success) or as
> > a two-column matrix with the columns giving the numbers of successes and
> > failures....<snip>
> >
> > which led me think that it can handle frequency data (grouped data) as well.
> >
> > But that should give the same result as transforming response and running
> > regular OLS?
> 
> No, glm() gives you the ML estimate for the regression coefficients.
> Only for the gaussian family ML and OLS are the same.
> Z
> 
> > Jussi
> >
> > M?kinen Jussi wrote:
> >
> > >Hello dear r-gurus!
> > >
> > >I have a question about the logit-model. I think I have misunderstood
> > >something and I'm trying to find a bug from my code or even better from my
> > >head. Any help is appreciated.
> > >
> > >The question is shortly: why I'm not having same coefficients from the
> > >logit-regression when using a link-function and an explicite transformation
> > >of the dependent. Below some details.
> > >
> > >I'm not very familiar with the concept. As far as I have understood it's
> > all
> > >about transformation of the dependent variable if one have frequency data
> > >(grouped data, instead of raw binaries):
> > >
> > >ln(^p(i)/(1-^p(i)) = c + b_1(X_1) +...+ b_k(X_k) + e(i).
> > >
> > >where ^p(i) is (estimated) frequency of incident (happened/all = n(i)/N), i
> > >is index of observation, c and b_. are coefficients (objects of the
> > >estimation), X_. are the explanatory variables and e is residual. So a
> > >linear regression.
> > >
> > >And some testing:
> > >
> > >
> > >>y <- runif(100)
> > >>
> > Should you use a binomial (0,1) response variable?
> >
> > best regards!
> >
> > >>
> > >>X <- rnorm(100)
> > >>glm(y~ X, family=binomial(link=logit))
> > >>
> >
> > >>
> > >
> > >Call:  glm(formula = y ~ X, family = binomial(link = logit))
> > >
> > >Coefficients:
> > >(Intercept)            X
> > >   -0.00956      0.10760
> > >
> > >Degrees of Freedom: 99 Total (i.e. Null);  98 Residual
> > >Null Deviance:      43.83
> > >Residual Deviance: 43.49        AIC: 142.3
> > >Warning message:
> > >non-integer #successes in a binomial glm! in: eval(expr, envir, enclos)
> > >
> > >
> > >
> > >### OR
> > >
> > >>glm(cbind(y, 1-y)~ X, family=binomial(link=logit))    ### ?glm
> > >>
> > >
> > >Call:  glm(formula = cbind(y, 1 - y) ~ X, family = binomial(link = logit))
> > >
> > >Coefficients:
> > >(Intercept)            X
> > >   -0.00956      0.10760
> > >
> > >Degrees of Freedom: 99 Total (i.e. Null);  98 Residual
> > >Null Deviance:      43.83
> > >Residual Deviance: 43.49        AIC: 142.3
> > >Warning message:
> > >non-integer counts in a binomial glm! in: eval(expr, envir, enclos)
> > >
> > >
> > >
> > >### BUT
> > >
> > >>glm(y.logit.transformation(y)~ X)
> > >>
> > >
> > >Call:  glm(formula = y.logit.transformation(y) ~ X)
> > >
> > >Coefficients:
> > >(Intercept)            X
> > >     0.1233       0.1023
> > >
> > >Degrees of Freedom: 99 Total (i.e. Null);  98 Residual
> > >Null Deviance:      465.6
> > >Residual Deviance: 464.4        AIC: 443.3
> > >
> > >
> > >### OR
> > >
> > >>lm(y.logit.transformation(y)~ X)
> > >>
> > >
> > >Call:
> > >lm(formula = y.logit.transformation(y) ~ X)
> > >
> > >Coefficients:
> > >(Intercept)            X
> > >     0.1233       0.1023
> > >
> > >
> > >It's close (AIC and residual deviance is different due transformation) but
> > I
> > >think that relationship should be exact? Or is it just calculation
> > >inaccurance? Or is there some hidden reason (to me..)? Is it legimitate to
> > >use frequency regression when using R for the logit-model (alternatives?).
> > >
> > >I would like to know what does exactly mean the warning message:
> > >non-integer counts in a binomial glm! in: eval(expr, envir, enclos)
> > >
> > >For the dependent transformation:
> > >
> > >"y.logit.transformation" <- function(y)
> > >{
> > >       y.trans <- log(y/(1-y))
> > >       y.trans
> > >}
> > >
> > >version
> > >
> > >platform i386-pc-mingw32
> > >arch     i386
> > >os       mingw32
> > >system   i386, mingw32
> > >status
> > >major    1
> > >minor    5.0
> > >year     2002
> > >month    04
> > >day      29
> > >language R
> > >
> > >OS is Windows2000.
> > >
> > >Thank you for any help.
> > >
> > >deadlocked,
> > >
> > >Jussi M?kinen
> > >Analyst
> > >State Treasury, Finland
> > >phone:  +358-9-7725 616
> > >mobile: +358-50-5958 710
> > >www.statetreasury.fi
> > >mailto:jussi.makinen at valtiokonttori.fi
> > >
> > >
> > >
> > >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > .-.-
> > >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > >Send "info", "help", or "[un]subscribe"
> > >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > ._._
> > >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dfs at research.att.com  Mon May  6 16:34:22 2002
From: dfs at research.att.com (Deborah Swayne)
Date: Mon, 6 May 2002 10:34:22 -0400
Subject: [R] need help building R on SGI
Message-ID: <20020506103422.A9222749@fry.research.att.com>

I'm trying to build R-1.5.0 on an SGI.  I downloaded the tar file
just a couple of hours ago.  These are the various variables I set
before configuring, and the arguments to configure I'm using:

export R_PAPERSIZE=letter
CPPFLAGS=-I/usr/dfs/src/readline
export LDFLAGS='-L/usr/common/lib -L/usr/lib32 -L/usr/dfs/src/readline'
export CONFIG_SHELL=/v/bin/sh SHELL=/v/bin/sh
./configure --enable-R-shlib --prefix=/usr/common/R-1.5.0 

And this where configure dies:

checking for readline/readline.h... yes
checking rpc/rpc.h usability... yes
checking rpc/rpc.h presence... yes
checking for rpc/rpc.h... yes
Segmentation fault

Here are the final lines of config.log, though they don't seem to 
reveal anything more:

configure: failed program was:
#line 11610 "configure"
#include "confdefs.h"
#include <readline/history.h>
configure:11638: result: no
configure:11656: checking for readline/history.h
configure:11663: result: no
configure:11576: checking readline/readline.h usability
configure:11585: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:11588: $? = 0
configure:11591: test -s conftest.o
configure:11594: $? = 0
configure:11603: result: yes
configure:11607: checking readline/readline.h presence
configure:11614: gcc -E -I/usr/local/include conftest.c
configure:11620: $? = 0
configure:11638: result: yes
configure:11656: checking for readline/readline.h
configure:11663: result: yes
configure:11576: checking rpc/rpc.h usability
configure:11585: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:11588: $? = 0
configure:11591: test -s conftest.o
configure:11594: $? = 0
configure:11603: result: yes
configure:11594: $? = 0
configure:11603: result: yes
configure:11607: checking rpc/rpc.h presence
configure:11614: gcc -E -I/usr/local/include conftest.c
configure:11620: $? = 0
configure:11638: result: yes
configure:11656: checking for rpc/rpc.h
configure:11663: result: yes


Is there more information I need to provide?  Does this give
anybody any ideas?

Thanks,
Debby

-- 
Deborah Swayne                      AT&T Labs - Research 
dfs at research.att.com                Shannon Laboratory, Room B295     
www.research.att.com/~dfs           180 Park Avenue
973 360-8423                        Florham Park, NJ 07932-0971
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Mon May  6 16:56:36 2002
From: macq at llnl.gov (Don MacQueen)
Date: Mon, 6 May 2002 07:56:36 -0700
Subject: [R] Daylight savings time and conversion to POSIXt (arghh!)
In-Reply-To: <Pine.LNX.4.31.0205041041260.31287-100000@gannet.stats>
References: <Pine.LNX.4.31.0205041041260.31287-100000@gannet.stats>
Message-ID: <p05111700b8fc3b85abbe@[128.115.153.6]>

Thank you both.
-Don

At 10:48 AM +0100 5/4/02, ripley at stats.ox.ac.uk wrote:
>The issue is that you are supplying a time to strptime that does not exist
>in the timezone your computer is running in.

Yes, and supplying a time that doesn't exist is just asking for trouble.

>   I did not expect this to be
>relevant, but it seems some OSes will adjust it (and Solaris and Linux
>adjust it differently).

What Solaris does with it isn't unreasonable, I think. Given a 
non-existant time, it has to be interpreted in either daylight 
savings or standard time, one or the other. They chose one.

>
>As Peter suggests, the workaround on Solaris (where TZ is always set) is
>to set TZ to GMT.  But that's not what the code should do internally, as
>on some systems it cannot be unset. I suspect I can work around this, with
>one small problem (what should be isdst component be?).

I would like to send my thoughts on this separately and directly.

>
>I am getting a little fed up with working around undocumented `features'
>of calendar-time support on various OSes!

Undoubtedly!

Peter's method meets my needs; I don't need any further work on this.

I had tried setting TZ to GMT. Looking back, it appears that I had 
made an error in that attempt, otherwise I would have found that it 
works.

>
>On 4 May 2002, Peter Dalgaard BSA wrote:
>
>>  Don MacQueen <macq at llnl.gov> writes:
>>
>>  > The third element is converted as if it were PDT, a 7 hour offset from
>>  > GMT, when it is actually an 8 hour offset. This is not a problem. In
>>  > fact, it is easy to handle both the first time and the last time
>>  > correctly with
>>  >
>>  > >  gcnv <- as.POSIXct(gdat,tz='GMT') + 28800
>>  > >  gcnv
>>  > [1] "2002-04-07 01:30:00 PST" "2002-04-07 01:30:00 PST"
>>  > [3] "2002-04-07 04:30:00 PDT"
>>  >
>>  > And verify that the first and last are two hours apart with:
>>  > >  diff(as.numeric(gcnv))
>>  > [1]    0 7200
>>  >
>>  > But the middle one is still wrong. If they were correctly converted I
>>  > would see 0 3600 7200.
>>  >
>>  > This suggests to me that as.POSIXct() isn't _fully_ honoring the 
>>tz argument.
>>
>>  Yes, there seems to be a bug there.
>>
>>  I get a slightly different effect though:
>>
>>  > as.POSIXct(gdat,tz='GMT')
>>  [1] "2002-04-07 03:30:00 CEST" "2002-04-07 04:30:00 CEST"
>>  [3] "2002-04-07 05:30:00 CEST"
>>  > unclass(as.POSIXct(gdat,tz='GMT'))
>>  [1] 1018143000 1018146600 1018150200
>>
>>  > Sys.putenv(TZ="US/Pacific")
>>  > as.POSIXct(gdat,tz='GMT')
>>  [1] "2002-04-06 17:30:00 PST" "2002-04-06 19:30:00 PST"
>>  [3] "2002-04-06 19:30:00 PST"
>>  > unclass(as.POSIXct(gdat,tz='GMT'))
>>  [1] 1018143000 1018150200 1018150200
>>
>>  The workaround would be along the lines of
>>
>>  > {x<-Sys.getenv("TZ");Sys.putenv(TZ="GMT")
>>  +  z<-as.POSIXct(gdat);Sys.putenv(TZ=x);z}+28800
>>  [1] "2002-04-07 01:30:00 PST" "2002-04-07 03:30:00 PDT"
>>  [3] "2002-04-07 04:30:00 PDT"
>>
>>  which is probably what as.POSIXlt should do internally too.
>>
>>  --
>>     O__  ---- Peter Dalgaard             Blegdamsvej 3
>>    c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>>   (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>>  ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
>> 
>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>  r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>  Send "info", "help", or "[un]subscribe"
>  > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>  > 
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>  >
>
>--
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon May  6 17:36:23 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 6 May 2002 08:36:23 -0700 (PDT)
Subject: [R] A logit question?
In-Reply-To: <7EFB6224454CD511B9D700306E00F4070199AC09@VKYHA01>
Message-ID: <Pine.A41.4.44.0205060826270.104970-100000@homer31.u.washington.edu>

On Mon, 6 May 2002, [iso-8859-1] Mäkinen Jussi wrote:

> I have got few answers which has pointed out that usually logit-model is for
> a binary response (dependent) variable. And this was a part of my (obviously
> badly written) question: is it possible to regress frequency data (e.g. not
> binary response) with glm(y~x, family=binomial(link=logit))?
>
> glm-help says:
>
> <snip>...For `binomial' models the response can also be specified as a
> `factor' (when the first level denotes failure and all others success) or as
> a two-column matrix with the columns giving the numbers of successes and
> failures....<snip>
>
> which led me think that it can handle frequency data (grouped data) as well.

Yes. See help(esoph) for an example.


> But that should give the same result as transforming response and running
> regular OLS?

No, not at all. That can't be true, since you always have some positive
probability of getting zeroes in grouped data and these cannot be
transformed.  In addition, logistic regression correctly takes account of
the change in variance with the mean in binomial data, which the
transformation + OLS doesn't.  In prehistoric times people used to use the
logit transformation + OLS to model grouped data, because it gives quite
reasonable results if the probabilities aren't too close to 0 or 1, but
that was because they didn't have logistic regression software.

There is also a weighted linear regression model closely linked with the
logistic regression model, but the connection isn't that simple.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Mon May  6 19:31:16 2002
From: s-luppescu at uchicago.edu (Stuart Luppescu)
Date: 06 May 2002 12:31:16 -0500
Subject: [R] Did something big change in 1.5?
Message-ID: <1020706276.5414.48.camel@musuko.uchicago.edu>

I can't remember the programming term -- ``implicit declaration''? Has
this changed between 1.4.1 and 1.5? This code used to run as is:

for (i in 1:length(diff.time)) {
  if (diff.time[i] < 16) {
    total.time[i] <- ifelse(i==1, 7.5, total.time[i-1]) + diff.time[i]
    last.time[i] <- 0
  }
  else {
    total.time[i] <- 7.5
    last.time[i-1] <- 1
  }
}

Now in 1.5 I get messages saying, Object "total.time" not found. (Same
thing for last.time, as well.) However, if I include
total.time <- NA 
last.time <- NA
before this piece of code, it runs fine. Why should this be?

-- 
Stuart Luppescu -=- s-luppescu at uchicago.edu        
University of Chicago -=- CCSR 
$B:MJ8$HCRF`H~$NIc(B -=-    Kernel 2.4.18-xfs-1.1                
In Devon, Connecticut, it is unlawful to walk
 backwards after sunset. 
 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 240 bytes
Desc: This is a digitally signed message part
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020506/e6c68cec/attachment.bin

From ripley at stats.ox.ac.uk  Mon May  6 19:44:54 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 6 May 2002 18:44:54 +0100 (GMT Daylight Time)
Subject: [R] Viewing certain numbers without NA's
In-Reply-To: <3CD63627.DA9AA2A5@giub.unibe.ch>
Message-ID: <Pine.WNT.4.44.0205061843370.808-100000@tern.stats>

On Mon, 6 May 2002, Patrick Buetzberger wrote:

> Dear R Community,
>
> We have recently installed R 1.5.0 on several workstations. Ever since,
> if I try to extract certain numbers or lines from a file (which contains
>
> many NA's), I don't only get my desired line but all other lines which
> contain NA's. In a file with 15000 rows and 7500 NA's this is not very
> practical. In the earlier R-Version this worked when I typed in the
> following:
>
> a <- konz[konz[,17] == 1061 | konz[,17] == 1017,4:17]
>
> In this case, vector 'a' contained columns 4:17 of every row in file
> 'konz' in which column 17 equaled 1061 or 1017, and nothing else. Since
> R 1.5.0 is installed I also get all rows in which row 17 of 'konz'
> contains NA's (and that's many).
>
> Any hint how I can avoid this?

Read the NEWS file or the file up 150update.txt on developer.r-project.org.
Your code has always been incorrect ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon May  6 20:46:19 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 6 May 2002 11:46:19 -0700 (PDT)
Subject: [R] Did something big change in 1.5?
In-Reply-To: <1020706276.5414.48.camel@musuko.uchicago.edu>
Message-ID: <Pine.A41.4.44.0205061142460.104970-100000@homer31.u.washington.edu>

On 6 May 2002, Stuart Luppescu wrote:

> I can't remember the programming term -- ``implicit declaration''? Has
> this changed between 1.4.1 and 1.5? This code used to run as is:
>
> for (i in 1:length(diff.time)) {
>   if (diff.time[i] < 16) {
>     total.time[i] <- ifelse(i==1, 7.5, total.time[i-1]) + diff.time[i]
>     last.time[i] <- 0
>   }
>   else {
>     total.time[i] <- 7.5
>     last.time[i-1] <- 1
>   }
> }
>
> Now in 1.5 I get messages saying, Object "total.time" not found. (Same
> thing for last.time, as well.) However, if I include
> total.time <- NA
> last.time <- NA
> before this piece of code, it runs fine. Why should this be?

Because ifelse() evaluates both its arguments, and the second one isn't
defined.  You mean
  total.time[i]<-(if (i==1) 7.5 else total.time[i-1]) +diff.time[i]
or similar.

The code gives the error
Error: Object "total.time" not found
for me on R1.4.1.  Perhaps you used to have a total.time object lying
around in your workspace?

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dfs at research.att.com  Mon May  6 21:00:30 2002
From: dfs at research.att.com (Deborah Swayne)
Date: Mon, 6 May 2002 15:00:30 -0400
Subject: [R] need help building R on SGI
In-Reply-To: <20020506103422.A9222749@fry.research.att.com>; from dfs@research.att.com on Mon, May 06, 2002 at 10:34:22AM -0400
References: <20020506103422.A9222749@fry.research.att.com>
Message-ID: <20020506150030.B9450186@fry.research.att.com>

I think I've got it.  Luke Tierney suggested that it might
be my shell that's seg-faulting, and maybe it was.  I had to
specify a different shell for R-1.3.0 because /bin/sh on
our machines isn't a Bourne shell, and that made problems for
me.  But that was then, and this is now, and /bin/sh works
fine.

Debby
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From iperez at escuelaing.edu.co  Mon May  6 22:34:57 2002
From: iperez at escuelaing.edu.co (Ignacio =?iso-8859-1?Q?P=E9rez?=)
Date: Mon, 06 May 2002 15:34:57 -0500
Subject: [R] Upgrade to 1.5.0
Message-ID: <5.1.0.14.0.20020506153103.00a6fad0@pop3.escuelaing.edu.co>

Hi all!

my apologies if this is too elementary:


I upgraded to 1.5.0. I copied my library folder on version 1.4.1 to the 
library folder on 1.5.0. When I try to upload a package via the menu I get 
this:

Error in sort(.packages(all.available = TRUE)) :
         1 argument passed to "sort" which requires 2.

do I have to copy any other file from the previous version?.

Thanks in advance.

Ignacio P?rez
Escuela Colombiana de Ingenier?a

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maba at sun11.ukl.uni-freiburg.de  Mon May  6 23:01:49 2002
From: maba at sun11.ukl.uni-freiburg.de (Manfred W. Baumstark)
Date: Mon, 06 May 2002 23:01:49 +0200
Subject: [R] need help building R on SGI
References: <20020506103422.A9222749@fry.research.att.com>
Message-ID: <3CD6EF3D.29B6F873@ukl.uni-freiburg.de>



Deborah Swayne wrote:
> 
> I'm trying to build R-1.5.0 on an SGI.  I downloaded the tar file
> just a couple of hours ago.  These are the various variables I set
> before configuring, and the arguments to configure I'm using:
> 
> export R_PAPERSIZE=letter
> CPPFLAGS=-I/usr/dfs/src/readline
> export LDFLAGS='-L/usr/common/lib -L/usr/lib32 -L/usr/dfs/src/readline'
> export CONFIG_SHELL=/v/bin/sh SHELL=/v/bin/sh
> ./configure --enable-R-shlib --prefix=/usr/common/R-1.5.0
> 

I could build R-1.5.0 without problems with the SGI compilers (and tcsh)
and readline from the standard SGI-freeware distribution:

setenv CC cc
setenv F77 f77
setenv CCC CC
setenv LDFLAGS '-L/usr/freeware/lib32 -rpath /usr/freeware/lib32'
setenv CPPFLAGS -I/usr/freeware/include
./configure 
make 

Manfred
-------------- next part --------------
A non-text attachment was scrubbed...
Name: maba.vcf
Type: text/x-vcard
Size: 329 bytes
Desc: Card for Manfred W. Baumstark
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020506/2b2bc019/maba.vcf

From p.dalgaard at biostat.ku.dk  Mon May  6 23:19:48 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 May 2002 23:19:48 +0200
Subject: Like, Was: Re: [R] rbind'ing empty rows in dataframes in 1.4.1 versus 1.5.0
In-Reply-To: <15566.45937.8947.426293@gargle.gargle.HOWL>
References: <15566.45937.8947.426293@gargle.gargle.HOWL>
Message-ID: <x2u1plug7f.fsf@blueberry.kubism.ku.dk>

"David Kane  <David Kane" <a296180 at mica.fmr.com> writes:

> > x <- data.frame(a = letters[1:3], b = 1:3)
> > x
>   a b
> 1 a 1
> 2 b 2
> 3 c 3
> > x[4,]
>     a  b
> NA NA NA
> > rbind(x, x[4,])
>     a  b
> 1   a  1
> 2   b  2
> 3   c  3
> NA NA NA
....
> This does not work in 1.5.0
....

Brian fixed this for 1.5.1. However, the whole idea helped me with
something that has been bugging me for years: 

When you want to predict on new data

foo <- lm(formula, data=foe)
predict(foo, newdata=fie)

you have to be careful that foe and fie  are compatible, all factors
have the same level set, and so forth. This can be quite a pain, so I
wanted a "like" function as in 

fie <- like(foe, sex="F", age=20:25, smoke="1-7")

but only after seeing the above way of making "blank" rows, it dawned
upon me that such rows have exactly the properties I wanted.
Elaborating a little, I got 

like <- function(X,...){ 
    l <- list(...)
    n <- max(sapply(l, length))
    X <- X[rep(as.numeric(NA),n),]
    row.names(X) <- seq(length=n)
    for (nm in names(l)) X[[nm]][] <- l[[nm]]
    X
}

A six-liner! Neat, eh? Probably has a good chance of making it into
1.6 once I get around to writing a help page.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From seniorr at aracnet.com  Tue May  7 01:52:32 2002
From: seniorr at aracnet.com (Russell Senior)
Date: 06 May 2002 16:52:32 -0700
Subject: [R] Spearman rank-order correlation matrix
Message-ID: <86it60sukf.fsf@coulee.tdb.com>


I"ve got a data frame with a selection of columns I want to compute a
rank-order correlation matrix from without disturbing the original
data frame.

  foo[,c("a","b","d","f","g")]

What I wanted to do, intuitively, was:

  > cor(rank(foo[,c("a","b","d","f","g")]))

but rank in that context ranks all of the values from the matrix
together as one long vector.  I want the columns (and their names) to
be preserved, just replacing the value with its rank.  What is the
most direct way to get what I want?

Thanks!

-- 
Russell Senior         ``The two chiefs turned to each other.        
seniorr at aracnet.com      Bellison uncorked a flood of horrible       
                         profanity, which, translated meant, `This is
                         extremely unusual.' ''                      
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Tue May  7 01:55:10 2002
From: macq at llnl.gov (Don MacQueen)
Date: Mon, 6 May 2002 16:55:10 -0700
Subject: Like, Was: Re: [R] rbind'ing empty rows in dataframes in
 1.4.1 versus 1.5.0
In-Reply-To: <x2u1plug7f.fsf@blueberry.kubism.ku.dk>
References: <15566.45937.8947.426293@gargle.gargle.HOWL>
 <x2u1plug7f.fsf@blueberry.kubism.ku.dk>
Message-ID: <p05111716b8fcc621280a@[128.115.153.6]>

More than once, including in a project I'm currently working on, I 
could really use such a function. If you don't mind I'll make a local 
copy and use it until it hopefully gets into R. Want me to start a 
help page?

Good that it preserves mode and data.class, including "AsIs".

-Don

At 11:19 PM +0200 5/6/02, Peter Dalgaard BSA wrote:
>"David Kane  <David Kane" <a296180 at mica.fmr.com> writes:
>
>>  > x <- data.frame(a = letters[1:3], b = 1:3)
>>  > x
>>    a b
>>  1 a 1
>>  2 b 2
>>  3 c 3
>>  > x[4,]
>>      a  b
>>  NA NA NA
>>  > rbind(x, x[4,])
>>      a  b
>>  1   a  1
>>  2   b  2
>>  3   c  3
>>  NA NA NA
>....
>>  This does not work in 1.5.0
>....
>
>Brian fixed this for 1.5.1. However, the whole idea helped me with
>something that has been bugging me for years:
>
>When you want to predict on new data
>
>foo <- lm(formula, data=foe)
>predict(foo, newdata=fie)
>
>you have to be careful that foe and fie  are compatible, all factors
>have the same level set, and so forth. This can be quite a pain, so I
>wanted a "like" function as in
>
>fie <- like(foe, sex="F", age=20:25, smoke="1-7")
>
>but only after seeing the above way of making "blank" rows, it dawned
>upon me that such rows have exactly the properties I wanted.
>Elaborating a little, I got
>
>like <- function(X,...){
>     l <- list(...)
>     n <- max(sapply(l, length))
>     X <- X[rep(as.numeric(NA),n),]
>     row.names(X) <- seq(length=n)
>     for (nm in names(l)) X[[nm]][] <- l[[nm]]
>     X
>}
>
>A six-liner! Neat, eh? Probably has a good chance of making it into
>1.6 once I get around to writing a help page.
>
>--
>    O__  ---- Peter Dalgaard             Blegdamsvej 3 
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N  
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adams.644 at osu.edu  Tue May  7 02:15:19 2002
From: adams.644 at osu.edu (jimi adams)
Date: Mon, 06 May 2002 20:15:19 -0400
Subject: [R] efficiency
Message-ID: <4.3.2.7.2.20020506200336.00a9f6e0@pop.service.ohio-state.edu>

i previously sent in the message below
and i got several responses back, that work, however, now i am running into 
a different problem
i used the following line to read in the file:

temp.file<- readLines("2.75.0.997.1")

i was then recommended to use:

lapply(strsplit(temp.file,"*", as.numeric)

to convert this to a list
the only problem is that the file that i am reading in has values ranging 
from 1:10000, and this splits it out into individual numeric characters... 
not the initial values (e.g., 876 returns as 8, 7, & 6)
i think i figured out how to do this if the values were all of the same 
length, but they are not, so i am wondering if there is some sort of split 
command that is equivalent to what sep="" does when writing...rather than 
being defined by a specific numeric value.

ultimately what i want is:
if the initial file which looks like:
1 412 2000
2 4
3 8888
...

to become a list:
[1]
412 2000
[2]
4
[3]
8888
...

thanks in advance.




***************************
i have a set of  files that i am reading into R one at a time and applying 
to a function that i have written
where each is a 'table' n (columns) x 10000 (rows)
n varies across the files and most of the rows only have data in the first 
few columns
currently i am reading them in with the command:
read.table(file="2.75.0.997.1", header=FALSE, sep="", skip=13, fill=, 
row.names=1, nrows=10000)->list

***and it works fine
however we are now working with a huge table.
i was wondering if there is a more efficient way to read this in

IDEALLY i would like to have it as a list where each element is a row from 
the input file, eliminating all of the NA's that the above approach results 
in , such that i would have a list with 10000 elements and each of variable 
length from 1:n

any help greatly appreciated
jimi adams
Department of Sociology
The Ohio State University
300 Bricker Hall
190 N. Oval Mall
Columbus, OH 43210-1353
614-688-4261

our mind has a remarkable ability to think of contents as being independent 
of the act of thinking
                                             -georg simmel

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Tue May  7 03:28:07 2002
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Mon, 06 May 2002 20:28:07 -0500
Subject: [R] Upgrade to 1.5.0
References: <5.1.0.14.0.20020506153103.00a6fad0@pop3.escuelaing.edu.co>
Message-ID: <3CD72DA7.9020508@epm.net.co>

Hello from Medell?n, Colombia!

Ignacio P?rez wrote:

> Hi all!
>
> my apologies if this is too elementary:
>
>
> I upgraded to 1.5.0. I copied my library folder on version 1.4.1 to 
> the library folder on 1.5.0. When I try to upload a package via the 
> menu I get this: 

You should not do that... You must use the precompliled library for v 
1.5.0 for certain libraries....
Some other work fine just as you did... but not all....
It is better to recompile or download the precomplide under the new 
version...
In:

http://cran.r-project.org/bin/windows/contrib/rw1050

You  can find some new precompliled libraries for version 1.5.0.

>
>
> Error in sort(.packages(all.available = TRUE)) :
>         1 argument passed to "sort" which requires 2.
>
> do I have to copy any other file from the previous version?.
>
> Thanks in advance.
>
> Ignacio P?rez
> Escuela Colombiana de Ingenier?a

PS. Are you in Medell?n also?
Have you see this graphics manual on this address?

http://www.unalmed.edu.co/contenidos/usuarios/usuarios_paginas_personales.shtml#profesores
Graficos en R.

Best Regards....

>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ken_lee at tynesys.com  Tue May  7 03:31:45 2002
From: ken_lee at tynesys.com (ken_lee)
Date: Tue, 7 May 2002 09:31:45 +0800
Subject: [R] Subtitle?
In-Reply-To: <Pine.SOL.4.21.0205062138180.14256-100000@stat1.stat.auckland.ac.nz>
Message-ID: <IPECKKKLFINFHEGMEKKGMEGNCAAA.ken_lee@tynesys.com>

Dear,
      I have another method:
        par(mar=c(5,3,6,3))    
        plot(0)
        title2<-"test titl2"
        title2<-list(title2,col="blue",cex=1.2)
        title(main=title2,line=2)
        title1<-"test title1"
        title1<-list(title1,col="red",cex=2)
        title(main=title1,line=4)
...
Best regards

Ken

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ken_lee at tynesys.com  Tue May  7 03:43:31 2002
From: ken_lee at tynesys.com (ken_lee)
Date: Tue, 7 May 2002 09:43:31 +0800
Subject: No subject
Message-ID: <IPECKKKLFINFHEGMEKKGIEGOCAAA.ken_lee@tynesys.com>

Dear all,
      Sometime I need to change data column name,but I catn't do it.
example:
     type<-c("max","min")
    test<-data.frame(class=c("a","a","a","b","b"),value=1:5)

    for (i in 2:length(type)) {
        tmp<-gsummary(test,FUN=type[i],groups=test$class)
        tmp1<-data.frame(class=tmp$class,   type[i]   =  tmp$value)
                                                                             ... error... : I catn't assign "max"   by type[i]
   }

 Thanks
Ken
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From FJMolina at lbl.gov  Tue May  7 07:05:20 2002
From: FJMolina at lbl.gov (Francisco J Molina)
Date: Mon, 06 May 2002 22:05:20 -0700
Subject: [R] passing a matrix to C++ with .C()?
Message-ID: <3CD76090.1FE0984F@lbl.gov>

It seems that it is possible to pass a matrix to C++ by using .C()

The R part of the interface should be something like:

('C++function', matrix, numberRows, numberColumns )

...I guess.

The C++ part of the interface could be something like

void C++( double matrix[][], int numberRows, numberColumns )

but C++ requires to indicate the number of columns, that is, instead of
matrix[][], it should be double matrix[][ numberColumns ]...

This does not look like the right thing to do though.

Can anyone help me with this?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May  7 08:28:04 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 7 May 2002 07:28:04 +0100 (BST)
Subject: [R] Upgrade to 1.5.0
In-Reply-To: <3CD72DA7.9020508@epm.net.co>
Message-ID: <Pine.GSO.4.44.0205070726390.1175-100000@auk.stats>

On Mon, 6 May 2002, Kenneth Cabrera wrote:

> Hello from Medellín, Colombia!
>
> Ignacio Pérez wrote:
>
> > Hi all!
> >
> > my apologies if this is too elementary:
> >
> >
> > I upgraded to 1.5.0. I copied my library folder on version 1.4.1 to
> > the library folder on 1.5.0. When I try to upload a package via the
> > menu I get this:
>
> You should not do that... You must use the precompliled library for v

There is a section in the rw-FAQ about how to upgrade ....  You will now
need to uninstall and start again.

> 1.5.0 for certain libraries....
> Some other work fine just as you did... but not all....
> It is better to recompile or download the precomplide under the new
> version...
> In:
>
> http://cran.r-project.org/bin/windows/contrib/rw1050
>
> You  can find some new precompliled libraries for version 1.5.0.

Not any more, and see http://cran.r-project.org/bin/windows/contrib/ReadMe.

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Tue May  7 08:52:52 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Tue, 07 May 2002 08:52:52 +0200
Subject: [R] Subtitle?
References: <Pine.SOL.4.21.0205062138180.14256-100000@stat1.stat.auckland.ac.nz>
Message-ID: <3CD779C4.D40AE7A2@atmos.umnw.ethz.ch>

Hello,

try mtext(whatever,3)

gruess

joerg

Ko-Kang Kevin Wang wrote:
> 
> Hi,
> 
> Is it possible to add a subtitle that appears directly below the main
> title?
> 
> I tried the "sub" parameter, but it adds sub-title to the bottom of the
> plot.
> 
> Cheers,
> 
> Kevin
> 
> ------------------------------------------------------------------------------
> Ko-Kang Kevin Wang
> Postgraduate PGDipSci Student
> Department of Statistics
> University of Auckland
> New Zealand
> 
> Homepage: http://www.stat.auckland.ac.nz/~kwan022
> 
> E-mail: kwan022 at stat.auckland.ac.nz
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From borchers at decrc.abb.de  Tue May  7 09:16:37 2002
From: borchers at decrc.abb.de (Hans W. Borchers)
Date: Tue, 07 May 2002 09:16:37 +0200
Subject: [R] Discretization of numeric attributes
Message-ID: <5.1.0.14.0.20020507085930.00a79710@del2s1.decrc.abb.de>

Dear R-helpers:

I am interested in discretization methods for numerical attributes, as they 
are reported in the 'machine learning' community. For example, the work of 
Fayyad & Irani (IJCAI-93), Kononenko, entropy-based approaches, MDL 
principle, the C4.5 approach, etc. I am especially interested in those 
methods that take a factor as goal target into account for discretizing 
continuous-valued attributes.

Is there an implementation of any one of those methods available in the 
many libraries available for R ?

Hans Werner Borchers
ABB Corporate Research

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May  7 09:24:25 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 7 May 2002 08:24:25 +0100 (BST)
Subject: [R] Discretization of numeric attributes
In-Reply-To: <5.1.0.14.0.20020507085930.00a79710@del2s1.decrc.abb.de>
Message-ID: <Pine.LNX.4.31.0205070824050.27502-100000@gannet.stats>

On Tue, 7 May 2002, Hans W. Borchers wrote:

> Dear R-helpers:
>
> I am interested in discretization methods for numerical attributes, as they
> are reported in the 'machine learning' community. For example, the work of
> Fayyad & Irani (IJCAI-93), Kononenko, entropy-based approaches, MDL
> principle, the C4.5 approach, etc. I am especially interested in those
> methods that take a factor as goal target into account for discretizing
> continuous-valued attributes.
>
> Is there an implementation of any one of those methods available in the
> many libraries available for R ?

rpart and tree, for example.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue May  7 09:46:44 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 07 May 2002 09:46:44 +0200
Subject: [R] efficiency
References: <4.3.2.7.2.20020506200336.00a9f6e0@pop.service.ohio-state.edu>
Message-ID: <3CD78664.6C785D4E@statistik.uni-dortmund.de>

jimi adams wrote:
> 
> i previously sent in the message below
> and i got several responses back, that work, however, now i am running into
> a different problem
> i used the following line to read in the file:
> 
> temp.file<- readLines("2.75.0.997.1")
> 
> i was then recommended to use:
> 
> lapply(strsplit(temp.file,"*", as.numeric)
> 
> to convert this to a list
> the only problem is that the file that i am reading in has values ranging
> from 1:10000, and this splits it out into individual numeric characters...
> not the initial values (e.g., 876 returns as 8, 7, & 6)
> i think i figured out how to do this if the values were all of the same
> length, but they are not, so i am wondering if there is some sort of split
> command that is equivalent to what sep="" does when writing...rather than
> being defined by a specific numeric value.
> 
> ultimately what i want is:
> if the initial file which looks like:
> 1 412 2000
> 2 4
> 3 8888
> ...
> 
> to become a list:
> [1]
> 412 2000
> [2]
> 4
> [3]
> 8888
> ...
> 
> thanks in advance.


 lapply(strsplit(temp.file, " "), function(x) as.numeric(x)[-1])


Uwe Ligges



> ***************************
> i have a set of  files that i am reading into R one at a time and applying
> to a function that i have written
> where each is a 'table' n (columns) x 10000 (rows)
> n varies across the files and most of the rows only have data in the first
> few columns
> currently i am reading them in with the command:
> read.table(file="2.75.0.997.1", header=FALSE, sep="", skip=13, fill=,
> row.names=1, nrows=10000)->list
> 
> ***and it works fine
> however we are now working with a huge table.
> i was wondering if there is a more efficient way to read this in
> 
> IDEALLY i would like to have it as a list where each element is a row from
> the input file, eliminating all of the NA's that the above approach results
> in , such that i would have a list with 10000 elements and each of variable
> length from 1:n
> 
> any help greatly appreciated
> jimi adams
> Department of Sociology
> The Ohio State University
> 300 Bricker Hall
> 190 N. Oval Mall
> Columbus, OH 43210-1353
> 614-688-4261
> 
> our mind has a remarkable ability to think of contents as being independent
> of the act of thinking
>                                              -georg simmel
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From borchers at decrc.abb.de  Tue May  7 09:58:15 2002
From: borchers at decrc.abb.de (Hans W. Borchers)
Date: Tue, 07 May 2002 09:58:15 +0200
Subject: [R] Discretization of numeric attributes
In-Reply-To: <Pine.LNX.4.31.0205070824050.27502-100000@gannet.stats>
References: <5.1.0.14.0.20020507085930.00a79710@del2s1.decrc.abb.de>
Message-ID: <5.1.0.14.0.20020507095022.00a7a9b0@del2s1.decrc.abb.de>


>
>rpart and tree, for example.
Yes, I know that recursive partitioning does some kind of splitting 
numerical variables. I looked into 'rpart.chm', but could not identify a 
function that I could call. What I would need is something like

discretize(num.var, some.factor, method="FayyadIrani, MDL, Kononenko, C45")

giving back a factor variable with selected intervals or splitting points 
as names. Can I extract something similar from one of the packages rpart or 
tree?

Thanks in advance, Hans Werner Borchers.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Tue May  7 09:45:32 2002
From: stuart.leask at nottingham.ac.uk (Dr Stuart Leask)
Date: Tue, 7 May 2002 08:45:32 +0100
Subject: [R] an info on 3d representation
Message-ID: <008001c1f59b$2ae6f680$51d6f380@PMCMG01.nottingham.ac.uk>

>> sorry to waste your time. I downloaded R and I like it very much.
>> However, my main interest is in plotting 3D graphics form imported data
>> (points and lines in a 3d space). I imported data in a very elegant way
>> but I wasn't able to find in R something similar to the simple "splot"
>> function of WGNUplot (I don't need persp, image, contour: my values are
>> not necessarily progressive).
>> Maybe it's a very stupid question: in case, please pardon me.
>> Any help is appreciated.
>> Please reply privately. I am not (actually) in the list.
>> Thank you very much.
>
>You probably want to check out the scatterplot3d package.
>(Which is great, but I'm sure we could do even better with true 3D
>visualization tools using lighting models, hidden surface removal, and
>all that.)


Hear hear! Even if R could export 3D graphs as VRML dots or meshes, folks
could do the prettying-up elsewhere (and 3D models of the  axes would be an
enormous improvement over my ultimately pretty, but haphazard approach - for
'arty' epidemiology see www.nottingham.ac.uk/psychiatry/3d.html !).

Stuart

Dr Stuart Leask MA MB BChir (Cantab) MRCPsych
Clinical Lecturer in Psychiatry, University of Nottingham Dept Psychiatry
Duncan Macmillan House, Porchester Road, Nottingham. NG3 6AA. UK
tel. 00 44 115 969 1300 xtn 40784 fax 0115 955 5352
www.nottingham.ac.uk/psychiatry/staff/sjl.html


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May  7 10:09:17 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 7 May 2002 09:09:17 +0100 (BST)
Subject: [R] Discretization of numeric attributes
In-Reply-To: <5.1.0.14.0.20020507095022.00a7a9b0@del2s1.decrc.abb.de>
Message-ID: <Pine.LNX.4.31.0205070901200.27692-100000@gannet.stats>

On Tue, 7 May 2002, Hans W. Borchers wrote:

>
> >
> >rpart and tree, for example.
> Yes, I know that recursive partitioning does some kind of splitting
> numerical variables. I looked into 'rpart.chm', but could not identify a
> function that I could call. What I would need is something like
>
> discretize(num.var, some.factor, method="FayyadIrani, MDL, Kononenko, C45")
>
> giving back a factor variable with selected intervals or splitting points
> as names. Can I extract something similar from one of the packages rpart or
> tree?

Think about what the top level split in a tree does.  You could alos
extract the C routines used.

You are misusing the terms though: C4.5 is not a splitting rule but a
tree-construction and pruning algorithm, and MDL is a principle to choose
complexity.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From borchers at decrc.abb.de  Tue May  7 10:20:25 2002
From: borchers at decrc.abb.de (Hans W. Borchers)
Date: Tue, 07 May 2002 10:20:25 +0200
Subject: [R] Discretization of numeric attributes
In-Reply-To: <Pine.LNX.4.31.0205070901200.27692-100000@gannet.stats>
References: <5.1.0.14.0.20020507095022.00a7a9b0@del2s1.decrc.abb.de>
Message-ID: <5.1.0.14.0.20020507101040.00a82d48@del2s1.decrc.abb.de>

Thanks for the time you are taking for this.

>Think about what the top level split in a tree does.  You could also
>extract the C routines used.

That's what I didn't want to do. Mayby it's worth to write and to implement 
these routines myself in S.

>You are misusing the terms though: C4.5 is not a splitting rule but a
>tree-construction and pruning algorithm, and MDL is a principle to choose
>complexity.

If you have a look into the the well-known overview article "Supervised and 
unsupervised discretization of continuous features" by Dougherty, Kohavi 
and Sahani, you will see that people have used the approach in C4.5 to 
extract and evaluate the discretization procedure there. That's what I 
meant with "C45".

The MDL appraoch for discretization as used by Fayyad and Irani or 
Kononenko (see the RELIEFF algorithm) you can find realized in the public 
domain WEKA data mining toolkit. Something similar is what I need.

Very best, Hans Werner Borchers.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Tue May  7 10:13:18 2002
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Tue, 7 May 2002 10:13:18 +0200 (MET DST)
Subject: [R] Regression models for ordinal responses ??
In-Reply-To: <v03007801b8f7ee3a29b1@[134.214.32.67]> from "Emmanuelle Fromont" at May 03, 2002 09:50:52 AM
Message-ID: <200205070813.KAA31141@luc.ac.be>

> 
> Hello list,
> 
> Is there any mean to fit models for ordinal response other than multinomial
> polytomous ("multinom" from nnet ) and cumulative logit ("polr" from MASS)?
> I am particularly interested in continuation-ratio model and
> adjacent-category logit model. It is for the sake of epidemiology in
> wild-living populations!

nordr in my gnlm library at www.luc.ac.be/~jlindsey/rcode.html will
fit these models, including nonlinear regression.
  Jim

> 
> Many thanks,
> 
> Emmanuelle Fromont
> 
> 
> 
> 
> 
> ************************************
>      Emmanuelle Fromont / India
>      UMR CNRS 5558
>      Universit? Lyon 1
>      43 Bd du 11 novembre 1918
>      69622 Villeurbanne Cedex France
>       tel (0)4 72 44 80 18 / poste 48018
>       fax (0)4 78 89 27 19
> ************************************
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Tue May  7 10:43:07 2002
From: siim at obs.ee (Ott Toomet)
Date: Tue, 7 May 2002 10:43:07 +0200 (CEST)
Subject: [R] names in data.frame
In-Reply-To: <IPECKKKLFINFHEGMEKKGIEGOCAAA.ken_lee@tynesys.com>
Message-ID: <Pine.LNX.4.44.0205071034120.1472-100000@localhost.localdomain>

On Tue, 7 May 2002, ken_lee wrote:

  |Dear all,
  |      Sometime I need to change data column name,but I catn't do it.

Hi,

one way to change the column name in data.frame is to use names(). 

> e.g.test<-data.frame(class=c("a","a","a","b","b"),value=1:5)
> names(test)[2] <- "foo"
> test
  class foo
1     a   1
2     a   2
3     a   3
4     b   4
5     b   5

You should ensure that the names are unique.  You can also try a more
intelligent way:

> names(test)[which(names(test)=="foo")] <- "bar"
> test
  class bar
1     a   1
2     a   2
3     a   3
4     b   4
5     b   5

In your example, you may use a similar method, e.g. build a list (remember
that data.frame is actually a list) without the names and thereafter to give
them names:

  |example:
  |     type<-c("max","min")
  |    test<-data.frame(class=c("a","a","a","b","b"),value=1:5)
  |
  |    for (i in 2:length(type)) {
  |        tmp<-gsummary(test,FUN=type[i],groups=test$class)
  |        tmp1<-data.frame(class=tmp$class,   type[i]   =  tmp$value)
  |                                                                             ... error... : I catn't assign "max"   by type[i]
  |   }

tmp1 <- list(tmp$class, tmp$value)
names(tmp1) <- c("class", type[i])
tmp1 <- as.data.frame(tmp1)

should work.

Cheers,

Ott

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adrian.trapletti at lmttrading.com  Tue May  7 11:22:42 2002
From: adrian.trapletti at lmttrading.com (Adrian Trapletti)
Date: Tue, 07 May 2002 11:22:42 +0200
Subject: [R] Re: R: tseries
References: <F285VbD5iVEfEj9YUML0000c488@hotmail.com>
Message-ID: <3CD79CE2.57D3BA18@lmttrading.com>

Norbert Klink wrote:

> Hi!
>
> I would like to use your tseries GARCH functionality in conjuction with
> S-Plus 6 under Windows. Unfortunately, in order to make DLLs usable for
> S-Plus it requires you to generate a so-called "S-Plus Chapter DLL", which
> carries some S-Plus specific overhead. Loading your DLLs as they are
> wouldn't work. Trying to compile the code didn't work either, since the F77
> calls seem to contain some Linux specifics (is that right?).

Dear Norbert

tseries is a package for R and it should work under most platforms (including
Linux and Windows) supported by R. So I guess the calls are not Linux specific,
but maybe R specific?

> My question is:
> Did you publish the Windows-compatible version, from which you generated the
> Windows DLLs, so I could use that code to generate the S-Plus Windows DLLs?

No. My only platform is Linux. I am not sure who is responsible for the Windows
dll (B. D. Ripley?). But I cc this email to R-help. Maybe you get some feedback
from there.

>
> Thank you for taking time.
> Dr. Norbert Klink
>
> _________________________________________________________________
> MSN Photos is the easiest way to share and print your photos:
> http://photos.msn.com/support/worldwide.aspx

best
Adrian

--
Dr. Adrian Trapletti   Phone:       +41 (0)1 994 56 31
Wildsbergstrasse 31    Fax  :       +41 (0)1 994 56 33
CH-8610 Uster          Email:   a.trapletti at bluewin.ch
Switzerland            WWW  :  trapletti.homelinux.com



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue May  7 12:17:22 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 07 May 2002 12:17:22 +0200
Subject: [R] Re: R: tseries
References: <F285VbD5iVEfEj9YUML0000c488@hotmail.com> <3CD79CE2.57D3BA18@lmttrading.com>
Message-ID: <3CD7A9B2.65BF99A7@statistik.uni-dortmund.de>

Adrian Trapletti wrote:
> 
> Norbert Klink wrote:
> 
> > Hi!
> >
> > I would like to use your tseries GARCH functionality in conjuction with
> > S-Plus 6 under Windows. Unfortunately, in order to make DLLs usable for
> > S-Plus it requires you to generate a so-called "S-Plus Chapter DLL", which
> > carries some S-Plus specific overhead. Loading your DLLs as they are
> > wouldn't work. Trying to compile the code didn't work either, since the F77
> > calls seem to contain some Linux specifics (is that right?).
> 
> Dear Norbert
> 
> tseries is a package for R and it should work under most platforms (including
> Linux and Windows) supported by R. So I guess the calls are not Linux specific,
> but maybe R specific?

You are right. It compiles smoothly on, e.g., WinNT4.0 using the
standard installation procedure for packages:
  Rcmd INSTALL tseries_0.9-0.tar.gz

A binary version for R on Windows can be found at:
 http://cran.r-project.org/bin/windows/contrib/

Uwe Ligges


> > My question is:
> > Did you publish the Windows-compatible version, from which you generated the
> > Windows DLLs, so I could use that code to generate the S-Plus Windows DLLs?
> 
> No. My only platform is Linux. I am not sure who is responsible for the Windows
> dll (B. D. Ripley?). But I cc this email to R-help. Maybe you get some feedback
> from there.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue May  7 12:33:40 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 7 May 2002 11:33:40 +0100
Subject: [R] GUI Input Forms
In-Reply-To: <Pine.A41.4.44.0205030842280.100836-100000@homer39.u.washington.edu>
References: <rGgCZaAHHq08EwsL@myatt.demon.co.uk>
 <Pine.A41.4.44.0205030842280.100836-100000@homer39.u.washington.edu>
Message-ID: <YmROBSAE2618EwBU@myatt.demon.co.uk>

Thomas Lumley <tlumley at u.washington.edu> writes:
>I was going to suggest EpiInfo, the old DOS-based database and statistics
>package from the Centers for Disease Control, but EpiData should be even
>easier.
>
>Note that the 'foreign' package can now read EpiInfo .REC files as well as
>many of these formats EpiData will export to.

I am running 1.41 on my win32 box and 1.31 on my Linux box. Foreign
there gives:
  
        data.restore
        lookup.xport
        read.dta
        read.mtp
        read.S
        read.spss
        read.xport
        SModeNames
        write.dta

So I assume that this is a new addition. Is that right? I remember
asking Prof Ripley about EpiInfo file support some months ago but I seem
to have lost his reply.

Great news for me and a good reason to snap out of my upgrade torpor.

Thanks,

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Tue May  7 13:50:44 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Tue, 07 May 2002 11:50:44 +0000
Subject: [R] problem with package binaries
Message-ID: <3CD7BF94.40DE67C7@sentoo.sn>

> version
         _              
platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    5.0            
year     2002           
month    04             
day      29             
language R   

OS Win98

I have problems to install some of the packages dowloaded from CRAN
(whatever the procedure: install from CRAN or from local zip file). I
noticed this today, while running update.packages().

> install.packages("G:/Zip/R/1.5.0/Contrib/chron.zip", .libPaths()[1], CRAN = NULL)
Error in zip.unpack(pkg, lib) : cannot open file
E:/PROGRAMS/RW1050/library/chron/libs/chron.dll

I meet the same problem with lattice (and others), but it works
sometimes e.g.:
> install.packages("G:/Zip/R/1.5.0/Contrib/mgcv.zip", .libPaths()[1], CRAN = NULL)
updating HTML package descriptions

If I manually delete the library before installing it, it works again:
> install.packages("G:/Zip/R/1.5.0/Contrib/chron.zip", .libPaths()[1], CRAN = NULL)
updating HTML package descriptions

The problem does not seem to be related to R versions incompatibility
(Rwin FAQ 3.5). For example, with package chron, the content of the
DESCRIPTION file is:
Package: chron
Version: 2.2-21
Author: S original by David James <dj at research.bell-labs.com>,
  R port by Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at>.
Maintainer: Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at>
Description: Chronological objects which can handle dates and times
Title: Chronological objects which can handle dates and times
Depends: R (>= 1.2.0)
License: GPL
Built: R 1.5.0;  Win32;  2002-05-04 10:00:30

Is this a problem witb my OS or something else ?

Tnanks,

Renaud



-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May  7 14:35:29 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 7 May 2002 13:35:29 +0100 (BST)
Subject: [R] problem with package binaries
In-Reply-To: <3CD7BF94.40DE67C7@sentoo.sn>
Message-ID: <Pine.LNX.4.31.0205071325001.31046-100000@gannet.stats>

chron works for me under XP.

This is related to Windows' habit (at least under NT) of thinking
files are in use when they are not.  That's an fopen call failing, about
which we can do nothing.

Try rebooting Windows and do this before using R in any other way.  If the
problem persists then, you will need to manually delete the files first.


On Tue, 7 May 2002, Renaud Lancelot wrote:

> > version
>          _
> platform i386-pc-mingw32
> arch     i386
> os       mingw32
> system   i386, mingw32
> status
> major    1
> minor    5.0
> year     2002
> month    04
> day      29
> language R
>
> OS Win98
>
> I have problems to install some of the packages dowloaded from CRAN
> (whatever the procedure: install from CRAN or from local zip file). I
> noticed this today, while running update.packages().
>
> > install.packages("G:/Zip/R/1.5.0/Contrib/chron.zip", .libPaths()[1], CRAN = NULL)
> Error in zip.unpack(pkg, lib) : cannot open file
> E:/PROGRAMS/RW1050/library/chron/libs/chron.dll
>
> I meet the same problem with lattice (and others), but it works
> sometimes e.g.:
> > install.packages("G:/Zip/R/1.5.0/Contrib/mgcv.zip", .libPaths()[1], CRAN = NULL)
> updating HTML package descriptions
>
> If I manually delete the library before installing it, it works again:
> > install.packages("G:/Zip/R/1.5.0/Contrib/chron.zip", .libPaths()[1], CRAN = NULL)
> updating HTML package descriptions
>
> The problem does not seem to be related to R versions incompatibility
> (Rwin FAQ 3.5). For example, with package chron, the content of the
> DESCRIPTION file is:
> Package: chron
> Version: 2.2-21
> Author: S original by David James <dj at research.bell-labs.com>,
>   R port by Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at>.
> Maintainer: Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at>
> Description: Chronological objects which can handle dates and times
> Title: Chronological objects which can handle dates and times
> Depends: R (>= 1.2.0)
> License: GPL
> Built: R 1.5.0;  Win32;  2002-05-04 10:00:30
>
> Is this a problem witb my OS or something else ?
>
> Tnanks,
>
> Renaud
>
>
>
> --
> Dr Renaud Lancelot, vétérinaire
> CIRAD, Département Elevage et Médecine Vétérinaire (CIRAD-Emvt)
> Programme Productions Animales
> http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Français)
> http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)
>
> ISRA-LNERV                      tel    (221) 832 49 02
> BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
> Senegal                         e-mail renaud.lancelot at cirad.fr
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue May  7 15:44:47 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 7 May 2002 15:44:47 +0200
Subject: [R] Spearman rank-order correlation matrix
In-Reply-To: <86it60sukf.fsf@coulee.tdb.com>
References: <86it60sukf.fsf@coulee.tdb.com>
Message-ID: <15575.55887.116411.898616@gargle.gargle.HOWL>

>>>>> "Russell" == Russell Senior <seniorr at aracnet.com> writes:

    Russell> I"ve got a data frame with a selection of columns I
    Russell> want to compute a rank-order correlation matrix
    Russell> from without disturbing the original data frame.

    Russell>   foo[,c("a","b","d","f","g")]

    Russell> What I wanted to do, intuitively, was:

    >> cor(rank(foo[,c("a","b","d","f","g")]))

    Russell> but rank in that context ranks all of the values
    Russell> from the matrix together as one long vector. 

Yes, this is true for almost all R functions.
You have to  *apply*  such functions to a matrix, list or
data.frame.

    Russell> want the columns (and their names) to be preserved,
    Russell> just replacing the value with its rank.  What is
    Russell> the most direct way to get what I want?

In your case, when foo[,] is a data.frame, I'd use sapply.
Here is an example:

## Construct sample data
set.seed(101)
foo <- data.frame(matrix(rnorm(100*10), 100,10))
names(foo) <- letters[1:10]
summary(foo) # variables named a,b, .., j

## Rank Correlation of some of the variables :
fooR <- sapply(foo, rank)
str(fooR)
(V <- cor(fooR[, c("a","b","d","f","g")]))


Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Tue May  7 16:19:52 2002
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 07 May 2002 10:19:52 -0400
Subject: [R] Spearman rank-order correlation matrix
In-Reply-To: <86it60sukf.fsf@coulee.tdb.com>
Message-ID: <5.1.0.14.2.20020507101814.02ca2a88@mcmail.cis.mcmaster.ca>

Dear Russell,

At 04:52 PM 5/6/2002 -0700, Russell Senior wrote:

>I"ve got a data frame with a selection of columns I want to compute a
>rank-order correlation matrix from without disturbing the original
>data frame.
>
>   foo[,c("a","b","d","f","g")]
>
>What I wanted to do, intuitively, was:
>
>   > cor(rank(foo[,c("a","b","d","f","g")]))
>
>but rank in that context ranks all of the values from the matrix
>together as one long vector.  I want the columns (and their names) to
>be preserved, just replacing the value with its rank.  What is the
>most direct way to get what I want?

Try

         cor(apply(foo[,c("a","b","d","f","g")], 2, rank))

I hope that this helps,
  John



-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue May  7 16:25:48 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 7 May 2002 16:25:48 +0200
Subject: [R] sub() of matrix returns a vector and not a matrix
In-Reply-To: <NDBBINKOMLDCOHBLDMGHAENPCMAA.wolfram@fischer-zim.ch>
References: <NDBBINKOMLDCOHBLDMGHAENPCMAA.wolfram@fischer-zim.ch>
Message-ID: <15575.58348.427544.281606@gargle.gargle.HOWL>

>>>>> "Wolfram" == "Wolfram Fischer <- Z/I/M" <wolfram at fischer-zim.ch>> writes:

    Wolfram> Is there a simple possibility to become directly a
    Wolfram> matrix from a call of sub() on a matrix?

This can be considered as a feature proposal which I would
second:

sub() and gsub() could be enhanced such as to keep attributes(.)
of their x argument.

The `dim' attribute which makes a vector into a matrix is just
one kind of attributes.

Opinions?


    >> a <- matrix( letters[1:6], 2, 3 )
    >> b <- sub( '(.)', '-\\1-', a )
    Wolfram> 	# I had expected b to be a matrix # but b is a  vector
    >> print( b )
    Wolfram> [1] "-a-" "-b-" "-c-" "-d-" "-e-" "-f-"

    >> dim(b) <- dim(a)
    >> print( b )
    Wolfram> # b is now a matrix again 
    ....

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May  7 16:45:33 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 7 May 2002 15:45:33 +0100 (BST)
Subject: [R] sub() of matrix returns a vector and not a matrix
In-Reply-To: <15575.58348.427544.281606@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.31.0205071540130.31452-100000@gannet.stats>

On Tue, 7 May 2002, Martin Maechler wrote:

> >>>>> "Wolfram" == "Wolfram Fischer <- Z/I/M" <wolfram at fischer-zim.ch>> writes:
>
>     Wolfram> Is there a simple possibility to become directly a
>     Wolfram> matrix from a call of sub() on a matrix?
>
> This can be considered as a feature proposal which I would
> second:
>
> sub() and gsub() could be enhanced such as to keep attributes(.)
> of their x argument.
>
> The `dim' attribute which makes a vector into a matrix is just
> one kind of attributes.
>
> Opinions?

Care is needed, as always with attributes (which also include "class", for
example).  As here there is no coercion going on (e.g. data.frame to
matrix or v.v.) preserving dim and dimnames attributes is probably safe,
but class may not be.

>
>
>     >> a <- matrix( letters[1:6], 2, 3 )
>     >> b <- sub( '(.)', '-\\1-', a )
>     Wolfram> 	# I had expected b to be a matrix # but b is a  vector
>     >> print( b )
>     Wolfram> [1] "-a-" "-b-" "-c-" "-d-" "-e-" "-f-"
>
>     >> dim(b) <- dim(a)
>     >> print( b )
>     Wolfram> # b is now a matrix again
>     ....
>
> Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
> Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
> ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
> phone: x-41-1-632-3408		fax: ...-1228			<><
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Tue May  7 17:09:55 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Tue, 7 May 2002 11:09:55 -0400
Subject: [R] Spearman rank-order correlation matrix
In-Reply-To: <5.1.0.14.2.20020507101814.02ca2a88@mcmail.cis.mcmaster.ca>
References: <86it60sukf.fsf@coulee.tdb.com>
	<5.1.0.14.2.20020507101814.02ca2a88@mcmail.cis.mcmaster.ca>
Message-ID: <20020507110955.3ee92fd5.fharrell@virginia.edu>

Also check out the rcorr function in the Hmisc library if you have very large matrices.  rcorr may be a bit faster, and it handles pairwise deletion of missing values.  rcorr accepts a matrix as its first argument.  -Frank Harrell

On Tue, 07 May 2002 10:19:52 -0400
John Fox <jfox at mcmaster.ca> wrote:

> Dear Russell,
> 
> At 04:52 PM 5/6/2002 -0700, Russell Senior wrote:
> 
> >I"ve got a data frame with a selection of columns I want to compute a
> >rank-order correlation matrix from without disturbing the original
> >data frame.
> >
> >   foo[,c("a","b","d","f","g")]
> >
> >What I wanted to do, intuitively, was:
> >
> >   > cor(rank(foo[,c("a","b","d","f","g")]))
> >
> >but rank in that context ranks all of the values from the matrix
> >together as one long vector.  I want the columns (and their names) to
> >be preserved, just replacing the value with its rank.  What is the
> >most direct way to get what I want?
> 
> Try
> 
>          cor(apply(foo[,c("a","b","d","f","g")], 2, rank))
> 
> I hope that this helps,
>   John
> 
> 
> 
> -----------------------------------------------------
> John Fox
> Department of Sociology
> McMaster University
> Hamilton, Ontario, Canada L8S 4M4
> email: jfox at mcmaster.ca
> phone: 905-525-9140x23604
> web: www.socsci.mcmaster.ca/jfox
> -----------------------------------------------------
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hkimscil at scils.rutgers.edu  Tue May  7 17:31:26 2002
From: hkimscil at scils.rutgers.edu (hkimscil)
Date: Tue, 7 May 2002 11:31:26 -0400
Subject: [R] Putting obejct into Graph title
Message-ID: <005201c1f5dc$45717c00$4c16e6a5@jetsky>

Hello all -

If I want to put mean value of a matrix into the title or subtitle of a graph, how would I do this? For example, in a set of commands like below,

> m.mean<-mean(m)
> gplot (m, thresh=m.mean)
> title (main="A2. Block Density of Matrix m\nplotted based on MDS", 
+    sub="lines below mean density (**0.435**) suppressed")

 I want to ask [R] to put the mean value (whatever it is, calulated as m.mean) into subtitle automatically, instead of my writing **0.435**. 

Is it possible?

Thanks!


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue May  7 17:19:47 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 7 May 2002 08:19:47 -0700 (PDT)
Subject: [R] passing a matrix to C++ with .C()?
In-Reply-To: <3CD76090.1FE0984F@lbl.gov>
Message-ID: <Pine.A41.4.44.0205070813130.50664-100000@homer39.u.washington.edu>

On Mon, 6 May 2002, Francisco J Molina wrote:

> It seems that it is possible to pass a matrix to C++ by using .C()
>
> The R part of the interface should be something like:
>
> ('C++function', matrix, numberRows, numberColumns )
>
> ...I guess.
>
> The C++ part of the interface could be something like
>
> void C++( double matrix[][], int numberRows, numberColumns )

No, it would be
   void C++(double matrix[], int *numberRows, int *numberColumns

You get passed an R matrix, which (like a Fortran matrix) is just a single
vector formed by concatenating the columns of the matrix.

The simplest way to address the (i,j) element is then
   matrix[i+(*numberRows-1)*j]
or you could go and set up a vector of pointers into the matrix, one for
each row, so you could write
   vector_of_pointers[i][j]
I don't think this is a particularly good idea, but you can see it in
action in the survival package. The file src/dmatrix.c does the setup.


Or you could use .Call, which enables you to handle all sorts of R
objects.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue May  7 17:22:33 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 7 May 2002 08:22:33 -0700 (PDT)
Subject: [R] GUI Input Forms
In-Reply-To: <YmROBSAE2618EwBU@myatt.demon.co.uk>
Message-ID: <Pine.A41.4.44.0205070821490.50664-100000@homer39.u.washington.edu>

On Tue, 7 May 2002, Mark Myatt wrote:

> Thomas Lumley <tlumley at u.washington.edu> writes:
> >I was going to suggest EpiInfo, the old DOS-based database and statistics
> >package from the Centers for Disease Control, but EpiData should be even
> >easier.
> >
> >Note that the 'foreign' package can now read EpiInfo .REC files as well as
> >many of these formats EpiData will export to.
>
> I am running 1.41 on my win32 box and 1.31 on my Linux box. Foreign
> there gives:
<stuff>
> So I assume that this is a new addition. Is that right?

Yes.  I don't know if anyone other than me has used it, so I would welcome
bug reports.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue May  7 17:25:05 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 7 May 2002 08:25:05 -0700 (PDT)
Subject: [R] Putting obejct into Graph title
In-Reply-To: <005201c1f5dc$45717c00$4c16e6a5@jetsky>
Message-ID: <Pine.A41.4.44.0205070823491.50664-100000@homer39.u.washington.edu>

On Tue, 7 May 2002, hkimscil wrote:

> Hello all -
>
> If I want to put mean value of a matrix into the title or subtitle of a graph, how would I do this? For example, in a set of commands like below,
>
> > m.mean<-mean(m)
> > gplot (m, thresh=m.mean)
> > title (main="A2. Block Density of Matrix m\nplotted based on MDS",
> +    sub="lines below mean density (**0.435**) suppressed")
>
>  I want to ask [R] to put the mean value (whatever it is, calulated as
> m.mean) into subtitle automatically, instead of my writing **0.435**.
>
> Is it possible?

Yes, it's even easy.

title(sub=paste("lines below mean density (",m.mean,")
suppressed",sep=""))

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ost at ornl.gov  Tue May  7 17:25:50 2002
From: ost at ornl.gov (George Ostrouchov)
Date: Tue, 07 May 2002 11:25:50 -0400
Subject: [R] clustering: single linkage path in minimum spanning tree
Message-ID: <3CD7F1FE.3090602@ornl.gov>

My understanding is that single linkage clustering is equivalent to 
finding the minimum spanning tree. Hclust works very nicely for finding 
the clusters but I am unable to find enough information in its output to 
construct the minimum spanning tree.  In particular, I want to find a 
minimum spanning tree path between two items in the tree.  Is this 
possible with hclust or is there another package that I should be using?

Thanks for your help!

George



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tklistaddr at keittlab.bio.sunysb.edu  Tue May  7 17:35:21 2002
From: tklistaddr at keittlab.bio.sunysb.edu (Timothy H. Keitt)
Date: 07 May 2002 11:35:21 -0400
Subject: [R] passing a matrix to C++ with .C()?
In-Reply-To: <3CD76090.1FE0984F@lbl.gov>
References: <3CD76090.1FE0984F@lbl.gov>
Message-ID: <1020785721.1959.5.camel@keittlab-6>

Take a look at the ".Call" documentation in the "writing R extensions"
manual. If you mean passing an R matrix to C++, then you will have to
pass the SEXP structure containing the matrix into your C++ code and
manipulate it with internal R functions. If you mean passing a C++
matrix into R, you will have to wrap the pointer and return it from your
C++ code. Note that R will have no idea what to do with the pointer
unless you provide appropriate functions/methods to manipulate it in R.
(I believe the "Matrix" package does just that.)

Tim

On Tue, 2002-05-07 at 01:05, Francisco J Molina wrote:
> It seems that it is possible to pass a matrix to C++ by using .C()
> 
> The R part of the interface should be something like:
> 
> ('C++function', matrix, numberRows, numberColumns )
> 
> ...I guess.
> 
> The C++ part of the interface could be something like
> 
> void C++( double matrix[][], int numberRows, numberColumns )
> 
> but C++ requires to indicate the number of columns, that is, instead of
> matrix[][], it should be double matrix[][ numberColumns ]...
> 
> This does not look like the right thing to do though.
> 
> Can anyone help me with this?
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmarca at translab.its.uci.edu  Tue May  7 17:38:19 2002
From: jmarca at translab.its.uci.edu (James Marca)
Date: Tue, 7 May 2002 08:38:19 -0700
Subject: [R] attractive spatial point process? 
Message-ID: <20020507083819.A7751@krypton.its.uci.edu>

Hi all,

before I roll my own, naive implementation of a particular 
spatial point process, I thought I'd ask whether this has 
already been done.

Specifically, I am looking for essentially the opposite of the 
Strauss and Mate'rn processes included in library(spatial) and 
documented in MASS.  I am examining daily travel patterns, focusing
on just the destinations of trips, not the movement itself.  As 
people tend to go to the same places repeatedly, I think an 
appropriate spatial point process would be one which has a 
large probability of visiting the neighborhood of a prior point
(but not the current point---this is a trip, after all), while at 
the same time having a non-zero probability of visiting a new point.  
Contrast this with the solid core/non-overlapping aspects of Strauss 
and SSI.  Perhaps my process should be called SSA? 

Following the implementation of Strauss, I was going to parameterize 
the size of the points and the repeat/new probabilities, write 
a little C program, then see how the process K value compares to 
my collected data.  

A moderate-level search of R resources didn't 
turn up such a process already, and a Google search was equally 
useless (although this is perhaps due to my cluelessness regarding 
what to call this kind of process).

Any pointers would be kindly appreciated, including "roll your 
own" and "read these refs."  

---thanks in advance,
James

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Peters.Andrea at imbe.imed.uni-erlangen.de  Tue May  7 18:01:12 2002
From: Peters.Andrea at imbe.imed.uni-erlangen.de (Andrea Peters)
Date: Tue, 7 May 2002 18:01:12 +0200 (CEST)
Subject: [R] Putting obejct into Graph title
In-Reply-To: <005201c1f5dc$45717c00$4c16e6a5@jetsky>
Message-ID: <Pine.LNX.4.33.0205071756310.10448-100000@imbe78.imbe.med.uni-erlangen.de>

> If I want to put mean value of a matrix into the title or subtitle of a graph, how would I do this? For example, in a set of commands like below,
>
> > m.mean<-mean(m)
> > gplot (m, thresh=m.mean)
> > title (main="A2. Block Density of Matrix m\nplotted based on MDS",
> +    sub="lines below mean density (**0.435**) suppressed")
>
To get the whole expression into the subtitle you could use paste().


title (main="A2. Block Density of Matrix m\nplotted based on MDS",
  sub=paste("lines below mean density", m.mean, "suppressed"))

Andrea
>  I want to ask [R] to put the mean value (whatever it is, calulated as m.mean) into subtitle automatically, instead of my writing **0.435**.
>
> Is it possible?
>
> Thanks!
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.C.Rougier at durham.ac.uk  Tue May  7 18:38:37 2002
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Tue, 07 May 2002 17:38:37 +0100
Subject: [R] Putting obejct into Graph title
References: <Pine.LNX.4.33.0205071756310.10448-100000@imbe78.imbe.med.uni-erlangen.de>
Message-ID: <3CD8030D.AAA4278@durham.ac.uk>

Andrea Peters wrote:
> 
> > If I want to put mean value of a matrix into the title or subtitle of a graph, how would I do this? For example, in a set of commands like below,
> >
> > > m.mean<-mean(m)
> > > gplot (m, thresh=m.mean)
> > > title (main="A2. Block Density of Matrix m\nplotted based on MDS",
> > +    sub="lines below mean density (**0.435**) suppressed")
> >
> To get the whole expression into the subtitle you could use paste().
> 
> title (main="A2. Block Density of Matrix m\nplotted based on MDS",
>   sub=paste("lines below mean density", m.mean, "suppressed"))

You might also want to introduce some simple formatting.  From R-1.5.0
you can use the "sprintf" function rather than "paste" to do

title(main = "A2. Block Density of Matrix m\nplotted based on MDS",
  sub = sprintf("lines below mean density (%.3f) suppressed", m.mean))

Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue May  7 18:43:15 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 07 May 2002 18:43:15 +0200
Subject: [R] problem with package binaries
References: <3CD7BF94.40DE67C7@sentoo.sn>
Message-ID: <3CD80423.50BA2168@statistik.uni-dortmund.de>



Renaud Lancelot wrote:
> 
> > version
>          _
> platform i386-pc-mingw32
> arch     i386
> os       mingw32
> system   i386, mingw32
> status
> major    1
> minor    5.0
> year     2002
> month    04
> day      29
> language R
> 
> OS Win98
> 
> I have problems to install some of the packages dowloaded from CRAN
> (whatever the procedure: install from CRAN or from local zip file). I
> noticed this today, while running update.packages().
> 
> > install.packages("G:/Zip/R/1.5.0/Contrib/chron.zip", .libPaths()[1], CRAN = NULL)
> Error in zip.unpack(pkg, lib) : cannot open file
> E:/PROGRAMS/RW1050/library/chron/libs/chron.dll

Is it possible that you have loaded the package with
 library(chron)
(or by loading another package that implicitly load chron)
before installing the new version?
So maybe the file is locked?

Uwe Ligges


> I meet the same problem with lattice (and others), but it works
> sometimes e.g.:
> > install.packages("G:/Zip/R/1.5.0/Contrib/mgcv.zip", .libPaths()[1], CRAN = NULL)
> updating HTML package descriptions
> 
> If I manually delete the library before installing it, it works again:
> > install.packages("G:/Zip/R/1.5.0/Contrib/chron.zip", .libPaths()[1], CRAN = NULL)
> updating HTML package descriptions
> 
> The problem does not seem to be related to R versions incompatibility
> (Rwin FAQ 3.5). For example, with package chron, the content of the
> DESCRIPTION file is:
> Package: chron
> Version: 2.2-21
> Author: S original by David James <dj at research.bell-labs.com>,
>   R port by Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at>.
> Maintainer: Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at>
> Description: Chronological objects which can handle dates and times
> Title: Chronological objects which can handle dates and times
> Depends: R (>= 1.2.0)
> License: GPL
> Built: R 1.5.0;  Win32;  2002-05-04 10:00:30
> 
> Is this a problem witb my OS or something else ?
> 
> Tnanks,
> 
> Renaud
> 
> --
> Dr Renaud Lancelot, v?t?rinaire
> CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
> Programme Productions Animales
> http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
> http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)
> 
> ISRA-LNERV                      tel    (221) 832 49 02
> BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
> Senegal                         e-mail renaud.lancelot at cirad.fr
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stecalza at tiscali.it  Tue May  7 18:55:19 2002
From: stecalza at tiscali.it (Stefano)
Date: Tue, 07 May 2002 18:55:19 +0200
Subject: [R] [OT] R 1.5 for debian woody
Message-ID: <20020507165519.GA5728@stefano>


Hi everybody.

I know, I'm too lazy, but I was wondering when the binary for Linux/Debian
Woody will be available. I could find only the version for unstable (Sid).

TIA,

Stefano
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cts at debian.org  Tue May  7 19:23:32 2002
From: cts at debian.org (Christian T. Steigies)
Date: Tue, 7 May 2002 12:23:32 -0500
Subject: [R] [OT] R 1.5 for debian woody
In-Reply-To: <20020507165519.GA5728@stefano>; from stecalza@tiscali.it on Tue, May 07, 2002 at 06:55:19PM +0200
References: <20020507165519.GA5728@stefano>
Message-ID: <20020507122332.A27388@debian.org>

On Tue, May 07, 2002 at 06:55:19PM +0200, Stefano wrote:
> 
> I know, I'm too lazy, but I was wondering when the binary for Linux/Debian
> Woody will be available. I could find only the version for unstable (Sid).

Probably never, since woody is frozen. Why don't you install the version
from unstable?

man apt-get
apt-get -tunstable install r-base

Christian
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arc at arcriswell.com  Tue May  7 08:21:05 2002
From: arc at arcriswell.com (arcriswell)
Date: Tue, 07 May 2002 13:21:05 +0700
Subject: [R] Problem with ties in rank()
Message-ID: <000901c1f58f$5f5d8f20$53d994cb@andrewvhowclyz>

Hello All:

I have a vector of data, z

> z
 [1] 0.1  0.1  0.1  0.1  0.2  0.2  0.3  0.3  0.3  0.4  0.5  0.5  0.5  0.7
0.7  0.7  0.9  0.9  1.1
[20] 1.1  1.2  1.3  1.4

The first 4 elements have values of 0.1 followed 2 elements with values 0.2.

When I invoke rank(z), I expected to get (1+2+3+4)/4 = 2.5 for the first 4
elements in the ranking and (5+6)/2 = 5.5 for elements 5 and 6. But what I
do get is the following.

> rank(z)
 [1]  1.5  1.5  3.5  3.5  5.0  6.0  8.0  8.0  8.0 10.0 12.0 12.0 12.0 15.0
15.0
[16] 15.0 17.5 17.5 19.5 19.5 21.0 22.0 23.0
>

Why is that???

I am using R 1.5.0 on Windows 2000.

Thanks,
ANDREW



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sundar.dorai-raj at pdf.com  Tue May  7 20:26:18 2002
From: sundar.dorai-raj at pdf.com (Sundar Dorai-Raj)
Date: Tue, 07 May 2002 13:26:18 -0500
Subject: [R] Putting obejct into Graph title
References: <005201c1f5dc$45717c00$4c16e6a5@jetsky>
Message-ID: <3CD81C4A.6398CC27@pdf.com>

> +    sub="lines below mean density (**0.435**) suppressed")
> 
>  I want to ask [R] to put the mean value (whatever it is, calulated as m.mean) into subtitle automatically, instead of my writing **0.435**.
> 
> Is it possible?

Yes!

sub=paste("lines below mean.density (**",mean.m,"**) suppressed",sep="")

Sundar

-- 

Sundar Dorai-Raj, Ph.D.
Statistical Methods Engineer
PDF Solutions, Inc.
Richardson TX
(972) 889-3085 x216
(214) 392-7619 cell
sundar.dorai-raj at pdf.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May  7 20:45:18 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 7 May 2002 19:45:18 +0100 (BST)
Subject: [R] Problem with ties in rank()
In-Reply-To: <000901c1f58f$5f5d8f20$53d994cb@andrewvhowclyz>
Message-ID: <Pine.LNX.4.31.0205071941260.8655-100000@gannet.stats>

On Tue, 7 May 2002, arcriswell wrote:

> Hello All:
>
> I have a vector of data, z
>
> > z
>  [1] 0.1  0.1  0.1  0.1  0.2  0.2  0.3  0.3  0.3  0.4  0.5  0.5  0.5  0.7
> 0.7  0.7  0.9  0.9  1.1
> [20] 1.1  1.2  1.3  1.4
>
> The first 4 elements have values of 0.1 followed 2 elements with values 0.2.
>
> When I invoke rank(z), I expected to get (1+2+3+4)/4 = 2.5 for the first 4
> elements in the ranking and (5+6)/2 = 5.5 for elements 5 and 6. But what I
> do get is the following.
>
> > rank(z)
>  [1]  1.5  1.5  3.5  3.5  5.0  6.0  8.0  8.0  8.0 10.0 12.0 12.0 12.0
15.0 15.0
> [16] 15.0 17.5 17.5 19.5 19.5 21.0 22.0 23.0
> >
>
> Why is that???

Rounding error, I guess.

> z <- scan(n=23)
0.1  0.1  0.1  0.1  0.2  0.2  0.3  0.3  0.3  0.4  0.5  0.5  0.5  0.7
0.7  0.7  0.9  0.9  1.1  1.1  1.2  1.3  1.4

> rank(z)
 [1]  2.5  2.5  2.5  2.5  5.5  5.5  8.0  8.0  8.0 10.0 12.0 12.0 12.0 15.0 15.0
[16] 15.0 17.5 17.5 19.5 19.5 21.0 22.0 23.0
>
> I am using R 1.5.0 on Windows 2000.

So was I.  Try dput(z).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Tue May  7 21:11:01 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Tue, 07 May 2002 19:11:01 +0000
Subject: [R] problem with package binaries
References: <3CD7BF94.40DE67C7@sentoo.sn> <3CD80423.50BA2168@statistik.uni-dortmund.de>
Message-ID: <3CD826C5.1B74CDED@sentoo.sn>

[snip]
> > I have problems to install some of the packages dowloaded from CRAN
> > (whatever the procedure: install from CRAN or from local zip file). I
> > noticed this today, while running update.packages().
> >
> > > install.packages("G:/Zip/R/1.5.0/Contrib/chron.zip", .libPaths()[1], CRAN = NULL)
> > Error in zip.unpack(pkg, lib) : cannot open file
> > E:/PROGRAMS/RW1050/library/chron/libs/chron.dll
> 
> Is it possible that you have loaded the package with
>  library(chron)
> (or by loading another package that implicitly load chron)
> before installing the new version?
> So maybe the file is locked?
> 
> Uwe Ligges

That's it ! I have declared the chron library (as well as lattice) in
Rprofile ==> it is locked when I try to update it. Sorry for this stupid
mistake, and thanks for the hint.

Renaud

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue May  7 21:24:21 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Tue, 7 May 2002 15:24:21 -0400 (EDT)
Subject: [R] attractive spatial point process? 
In-Reply-To: <20020507083819.A7751@krypton.its.uci.edu>
Message-ID: <Pine.LNX.4.30.0205071523190.15124-100000@bolker.zoo.ufl.edu>


   I don't know if it's what you really want, but some variant of the
"Poisson cluster process" (where parents are randomly distributed in space
and "offspring" points are scattered around them according to some
distance distribution and in a random direction) might suit your purposes
(try Diggle 1973).

  Ben

On Tue, 7 May 2002, James Marca wrote:

> Hi all,
>
> before I roll my own, naive implementation of a particular
> spatial point process, I thought I'd ask whether this has
> already been done.
>
> Specifically, I am looking for essentially the opposite of the
> Strauss and Mate'rn processes included in library(spatial) and
> documented in MASS.  I am examining daily travel patterns, focusing
> on just the destinations of trips, not the movement itself.  As
> people tend to go to the same places repeatedly, I think an
> appropriate spatial point process would be one which has a
> large probability of visiting the neighborhood of a prior point
> (but not the current point---this is a trip, after all), while at
> the same time having a non-zero probability of visiting a new point.
> Contrast this with the solid core/non-overlapping aspects of Strauss
> and SSI.  Perhaps my process should be called SSA?
>
> Following the implementation of Strauss, I was going to parameterize
> the size of the points and the repeat/new probabilities, write
> a little C program, then see how the process K value compares to
> my collected data.
>
> A moderate-level search of R resources didn't
> turn up such a process already, and a Google search was equally
> useless (although this is perhaps due to my cluelessness regarding
> what to call this kind of process).
>
> Any pointers would be kindly appreciated, including "roll your
> own" and "read these refs."
>
> ---thanks in advance,
> James
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arc at arcriswell.com  Tue May  7 09:14:36 2002
From: arc at arcriswell.com (arcriswell)
Date: Tue, 07 May 2002 14:14:36 +0700
Subject: [R] More on ties with rank()
Message-ID: <008801c1f596$d8dff520$53d994cb@andrewvhowclyz>

I am grateful to Prof. Ripley for his explanation. Indeed, rounding explains
it all.

I take the difference between two vectors and call it "z"

method.a <- c(6.3, 6.3, 3.5, 5.1, 5.5, 7.7, 6.3, 2.8, 3.4, 5.7, 5.6, 6.2,
6.6,
                       7.7, 7.4, 5.6, 6.3, 8.4, 5.6, 4.8, 4.3, 4.2, 3.3,
3.8, 5.7, 4.1)

method.b <- c(5.2, 6.6, 2.3, 4.4, 4.1, 6.4, 5.4, 2.3, 3.2, 5.2, 4.9, 6.1,
6.3,
                       7.4, 7.4, 4.9, 5.4, 8.4, 5.1, 4.4, 4.3, 4.1, 2.2,
4.0, 5.8, 4.0)

z <- sort(abs(method.a - method.b))

If I do as suggested, and apply dput(z), the rounding error shows its ugly
head.

> dput(z)
c(0.0999999999999996, 0.0999999999999996, 0.100000000000001,
0.100000000000001, 0.200000000000000, 0.2, 0.3, 0.3, 0.3, 0.399999999999999,
0.5, 0.5, 0.5, 0.699999999999999, 0.699999999999999, 0.699999999999999,
0.9, 0.9, 1.1, 1.1, 1.2, 1.3, 1.4)
>

Now, if I define a new variable rounding off the errors, I get the correct
response.

> k <- round(dput(z),1)
c(0.0999999999999996, 0.0999999999999996, 0.100000000000001,
0.100000000000001, 0.200000000000000, 0.2, 0.3, 0.3, 0.3, 0.399999999999999,
0.5, 0.5, 0.5, 0.699999999999999, 0.699999999999999, 0.699999999999999,
0.9, 0.9, 1.1, 1.1, 1.2, 1.3, 1.4)

> rank(k)
 [1]  2.5  2.5  2.5  2.5  5.5  5.5  8.0  8.0  8.0 10.0 12.0 12.0 12.0 15.0
15.0
[16] 15.0 17.5 17.5 19.5 19.5 21.0 22.0 23.0
>

But it strikes me as odd, that such an innocent calculation could lead to
such a significant miscalculation based on rounding error.

Thanks,
ANDREW



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue May  7 21:46:50 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 7 May 2002 12:46:50 -0700 (PDT)
Subject: [R] More on ties with rank()
In-Reply-To: <008801c1f596$d8dff520$53d994cb@andrewvhowclyz>
Message-ID: <Pine.A41.4.44.0205071241550.50664-100000@homer39.u.washington.edu>

On Tue, 7 May 2002, arcriswell wrote:

> I am grateful to Prof. Ripley for his explanation. Indeed, rounding explains
> it all.
>
> I take the difference between two vectors and call it "z"
>
> method.a <- c(6.3, 6.3, 3.5, 5.1, 5.5, 7.7, 6.3, 2.8, 3.4, 5.7, 5.6, 6.2,
> 6.6,
>                        7.7, 7.4, 5.6, 6.3, 8.4, 5.6, 4.8, 4.3, 4.2, 3.3,
> 3.8, 5.7, 4.1)
>
> method.b <- c(5.2, 6.6, 2.3, 4.4, 4.1, 6.4, 5.4, 2.3, 3.2, 5.2, 4.9, 6.1,
> 6.3,
>                        7.4, 7.4, 4.9, 5.4, 8.4, 5.1, 4.4, 4.3, 4.1, 2.2,
> 4.0, 5.8, 4.0)
>
> z <- sort(abs(method.a - method.b))
>
<snip>
>
> But it strikes me as odd, that such an innocent calculation could lead to
> such a significant miscalculation based on rounding error.
>

Not odd at all. Any result that depends on floating point equality is
going to be sensitive.

Floating point numbers are reliably equal only when the same result is
computed by the same arithmetical steps (and sometimes not even then).

If you know your data are really discrete then you should round them
before ranking, if they aren't really discrete you shouldn't expect tied
values to behave consistently

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Tue May  7 21:59:23 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Tue, 07 May 2002 15:59:23 -0400
Subject: [R] printing from graphics window in R-1.5.0 on WinNT
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC2B3@usrymx10.merck.com>

Dear R-help,

I've encountered a problem using R-1.5.0 compiled from source on WinNT4.  If
I make a plot on the windows graphics device, and then select "File ->
Print...", nothing happens.  (I'd expect to see a printer selection dialog
box opened, which is what happens with R-1.4.1 and earlier compiled from
source.)  Doing ctrl-p doesn't work either.  Copying to clipboard, etc.
still works.

Has anyone experienced the same thing?  Any hints?

Regards,
Andy


------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Tue May  7 22:03:48 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Tue, 7 May 2002 13:03:48 -0700 (PDT)
Subject: [R] attractive spatial point process? 
In-Reply-To: <20020507083819.A7751@krypton.its.uci.edu>
Message-ID: <Pine.GSO.4.10.10205071303290.19686-100000@quetelet.stat.ucla.edu>

Maybe check the 'splancs' package?

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Tue, 7 May 2002, James Marca wrote:

> Hi all,
> 
> before I roll my own, naive implementation of a particular 
> spatial point process, I thought I'd ask whether this has 
> already been done.
> 
> Specifically, I am looking for essentially the opposite of the 
> Strauss and Mate'rn processes included in library(spatial) and 
> documented in MASS.  I am examining daily travel patterns, focusing
> on just the destinations of trips, not the movement itself.  As 
> people tend to go to the same places repeatedly, I think an 
> appropriate spatial point process would be one which has a 
> large probability of visiting the neighborhood of a prior point
> (but not the current point---this is a trip, after all), while at 
> the same time having a non-zero probability of visiting a new point.  
> Contrast this with the solid core/non-overlapping aspects of Strauss 
> and SSI.  Perhaps my process should be called SSA? 
> 
> Following the implementation of Strauss, I was going to parameterize 
> the size of the points and the repeat/new probabilities, write 
> a little C program, then see how the process K value compares to 
> my collected data.  
> 
> A moderate-level search of R resources didn't 
> turn up such a process already, and a Google search was equally 
> useless (although this is perhaps due to my cluelessness regarding 
> what to call this kind of process).
> 
> Any pointers would be kindly appreciated, including "roll your 
> own" and "read these refs."  
> 
> ---thanks in advance,
> James
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjohn at dogwood.botany.uga.edu  Tue May  7 22:10:23 2002
From: rjohn at dogwood.botany.uga.edu (Robert John)
Date: Tue, 7 May 2002 16:10:23 -0400 (EDT)
Subject: [R] MASS
Message-ID: <Pine.LNX.4.33.0205071605180.20109-100000@dogwood.botany.uga.edu>


Hi,

I recently installed R-1.5.0-1 on Red Hat Linux 7.2, but the package MASS
is "missing". Attempting to load via library(MASS) returns the following
error:

Error in library(MASS) : There is no package called `MASS'

Am I missing something simple here?

Thanks

Robert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maustin at amgen.com  Tue May  7 22:41:38 2002
From: maustin at amgen.com (Austin, Matt)
Date: Tue, 7 May 2002 13:41:38 -0700 
Subject: [R] [OT] R 1.5 for debian woody
Message-ID: <36975CB1FED8D21194930008C7CFA87B04A104E7@gray-exch.amgen.com>

It should not matter if woody is frozen or not, I still compile binaries for
"potato" on my machine. Someone with a woody installation (and a high-speed
connection) would need to compile the binaries and submit them to CRAN.

--Matt

-----Original Message-----
From: Christian T. Steigies [mailto:cts at debian.org]
Sent: Tuesday, May 07, 2002 10:24 AM
To: r-help at stat.math.ethz.ch
Subject: Re: [R] [OT] R 1.5 for debian woody


On Tue, May 07, 2002 at 06:55:19PM +0200, Stefano wrote:
> 
> I know, I'm too lazy, but I was wondering when the binary for Linux/Debian
> Woody will be available. I could find only the version for unstable (Sid).

Probably never, since woody is frozen. Why don't you install the version
from unstable?

man apt-get
apt-get -tunstable install r-base

Christian
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May  7 22:48:54 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 7 May 2002 21:48:54 +0100 (BST)
Subject: [R] MASS
In-Reply-To: <Pine.LNX.4.33.0205071605180.20109-100000@dogwood.botany.uga.edu>
Message-ID: <Pine.LNX.4.31.0205072146150.9116-100000@gannet.stats>

On Tue, 7 May 2002, Robert John wrote:

>
> Hi,
>
> I recently installed R-1.5.0-1 on Red Hat Linux 7.2, but the package MASS
> is "missing". Attempting to load via library(MASS) returns the following
> error:
>
> Error in library(MASS) : There is no package called `MASS'
>
> Am I missing something simple here?

You forgot to install R-1.5.0.recommended.tgz or the equivalent rpm.
The guidelines do say that this should be included in binary
distributions, but it seems the Linux packagers do things differently.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cts at debian.org  Tue May  7 23:24:42 2002
From: cts at debian.org (Christian T. Steigies)
Date: Tue, 7 May 2002 16:24:42 -0500
Subject: [R] [OT] R 1.5 for debian woody
In-Reply-To: <36975CB1FED8D21194930008C7CFA87B04A104E7@gray-exch.amgen.com>; from maustin@amgen.com on Tue, May 07, 2002 at 01:41:38PM -0700
References: <36975CB1FED8D21194930008C7CFA87B04A104E7@gray-exch.amgen.com>
Message-ID: <20020507162442.A21967@debian.org>

On Tue, May 07, 2002 at 01:41:38PM -0700, Austin, Matt wrote:
> It should not matter if woody is frozen or not, I still compile binaries for

It matters insofar as R 1.50 will never make it into woody.

> "potato" on my machine. Someone with a woody installation (and a high-speed
> connection) would need to compile the binaries and submit them to CRAN.

And thats exactly what Dirk did. Thats why I suggested to install R from
unstable. And even if it depended on other packages (which it does not, I
installed it on a woody box with no problems), with the right apt
configuration, even those dependencies would be installed. But now we are
getting really OT...

Christian
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmarca at translab.its.uci.edu  Tue May  7 23:28:00 2002
From: jmarca at translab.its.uci.edu (James Marca)
Date: Tue, 7 May 2002 14:28:00 -0700
Subject: [R] Re: attractive spatial point process?
In-Reply-To: <20020507083819.A7751@krypton.its.uci.edu>; from jmarca@translab.its.uci.edu on Tue, May 07, 2002 at 08:38:19AM -0700
References: <20020507083819.A7751@krypton.its.uci.edu>
Message-ID: <20020507142800.B10537@krypton.its.uci.edu>

Following a suggestion by Rolf Turner, I looked in the spatstat 
package and found that the function rNeymanScott will probably
do what I need, as will rThomas and rMatClust.  I especially 
like the fact that rNeymanScott provides a hook for a callback
clustering function.  This seems extremely flexible and far more
general that any hack I would have come up with.  

Thanks for the replies.
James

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Tue May  7 23:28:53 2002
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Tue, 7 May 2002 17:28:53 -0400
Subject: [R] printing from graphics window in R-1.5.0 on WinNT
Message-ID: <OFFB9E6AC7.33DD59DE-ON85256BB2.0075720F@hgsi.com>

I can confirm this on Win 2000. This was the version downloaded from CRAN.

> version
         _ 
platform i386-pc-mingw32
arch     i386 
os       mingw32 
system   i386, mingw32 
status 
major    1 
minor    5.0 
year     2002 
month    04 
day      29 
language R 
>




"Liaw, Andy" <andy_liaw at merck.com>
Sent by: owner-r-help at stat.math.ethz.ch
05/07/2002 03:59 PM

 
        To:     "'r-help at stat.math.ethz.ch'" <r-help at stat.math.ethz.ch>
        cc: 
        Subject:        [R] printing from graphics window in R-1.5.0 on WinNT


Dear R-help,

I've encountered a problem using R-1.5.0 compiled from source on WinNT4. 
If
I make a plot on the windows graphics device, and then select "File ->
Print...", nothing happens.  (I'd expect to see a printer selection dialog
box opened, which is what happens with R-1.4.1 and earlier compiled from
source.)  Doing ctrl-p doesn't work either.  Copying to clipboard, etc.
still works.

Has anyone experienced the same thing?  Any hints?

Regards,
Andy


------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains 
information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) 
that may be confidential, proprietary copyrighted and/or legally 
privileged, and is intended solely for the use of the individual or entity 
named on this message. If you are not the intended recipient, and have 
received this message in error, please immediately return this by e-mail 
and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020507/20378187/attachment.html

From seniorr at aracnet.com  Wed May  8 01:38:11 2002
From: seniorr at aracnet.com (Russell Senior)
Date: 07 May 2002 16:38:11 -0700
Subject: [R] good procedure for creating plots for PowerPoint
Message-ID: <863cx34jh8.fsf@coulee.tdb.com>


I am generating some graphs (on GNU/Linux using R 1.5.x) for a
PowerPoint presentation my boss is giving next week.  He just tried
cut/pasted a plot off of a PDF file I had created, but he complained
that the fonts were too small and fuzzy, and that he couldn't change
the background.  I have been playing with png(bg=transparent), but I
am not sure what appropriate height,width parameters and whether I
should modify my plot colors.  Any pointers on generating good quality
figures for PowerPoint?

Thanks!

-- 
Russell Senior         ``The two chiefs turned to each other.        
seniorr at aracnet.com      Bellison uncorked a flood of horrible       
                         profanity, which, translated meant, `This is
                         extremely unusual.' ''                      
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Wed May  8 03:35:07 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Tue, 7 May 2002 20:35:07 -0500
Subject: [R] [OT] R 1.5 for debian woody
In-Reply-To: <36975CB1FED8D21194930008C7CFA87B04A104E7@gray-exch.amgen.com>
References: <36975CB1FED8D21194930008C7CFA87B04A104E7@gray-exch.amgen.com>
Message-ID: <20020508013507.GA2699@sonny.eddelbuettel.com>

On Tue, May 07, 2002 at 01:41:38PM -0700, Austin, Matt wrote:
> It should not matter if woody is frozen or not, I still compile binaries for
> "potato" on my machine. Someone with a woody installation (and a high-speed
> connection) would need to compile the binaries and submit them to CRAN.

Actually, that is exactly what is happening! 

While the Debian packages are produced on testing == woody, which is now
frozen, they are inserted into unstable == sid.

Normally, packages migrate down from unstable into testing. As testing will
soon be released, the current code freeze prevents this migration. Hence the
prevous R release, 1.4.1, will be part of Debian 3.0.

That said, one can safely install the 1.5.0 Debian packages onto any woody
box as I build them a woody box. Try to look for docs on 'apt pinning' for
convenient ways of doing this.

As for potato, Doug Bates and I have been looking for a volunteer to compile
R packages for Debian potato. Would you be able to help, compile R packages
and upload them to CRAN so that they get distributed?

Dirk

-- 
Good judgement comes from experience; experience comes from bad judgement. 
							    -- Fred Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ken_lee at tynesys.com  Wed May  8 04:33:20 2002
From: ken_lee at tynesys.com (ken_lee)
Date: Wed, 8 May 2002 10:33:20 +0800
Subject: [R] Problem about trim the space and add space to force the same nchar 
In-Reply-To: <20020507142800.B10537@krypton.its.uci.edu>
Message-ID: <IPECKKKLFINFHEGMEKKGAEHGCAAA.ken_lee@tynesys.com>

Dear all,
     First, Can I trim the space like a<-"abc     "   ==>  a<- "abc"    or a<-"a  b  c       "   ==>  a<-"a  b  c"
     Second, Can I  generate a vector has the same length (nchar) like a<-c("mean  =10   ",
                                                                                                                                      "std       =1.23",
                                                                                                                                      "...


Best regards

Ken
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dyang at nrcan.gc.ca  Wed May  8 06:53:15 2002
From: dyang at nrcan.gc.ca (Yang, Richard)
Date: Wed, 8 May 2002 00:53:15 -0400 
Subject: [R] R 1.5.0 terminated while plotting groupedData
Message-ID: <F0E0B899CB43D5118D220002A55113CF21BAB6@s2-edm-r1.nofc.cfs.nrcan.gc.ca>

Dear R-help;

Following the installation of R 1.5.0  and library packages to my Win 2K
machine,  I tested the new R system:

> library(nlme)
Loading required package: nls 
> library(lattice)
Loading required package: grid 
>data(Soybean)
>plot(Soybean)

A program error appears: "Rgui.exe has generated errors and will be closed
by Windows. You will need to restart the program. An error log is being
created". 

Both nlme and lattice libraries are current. Apparently, there are bugs
somewhere.


Richard


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Wed May  8 08:03:20 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Wed, 8 May 2002 08:03:20 +0200
Subject: [R] good procedure for creating plots for PowerPoint
In-Reply-To: <863cx34jh8.fsf@coulee.tdb.com>
Message-ID: <KKEGJOGBELBHDIKPINBMIEENCMAA.hb@maths.lth.se>

You can use the par() options. Note that you have to set them every time you
open up a new device. Here are the settings I have found to be useful:

setPowerPointStyle <- function() {
    par(font=BOLD);
    par(font.axis=BOLD);
    par(font.lab=BOLD);
    par(font.main=BOLD);
    par(font.sub=NORMAL);
    par(cex=1.2);
    par(cex.axis=1.2);
    par(cex.lab=1.2);
    par(cex.main=1.4);
    par(cex.sub=1.2);
    par(col="black");
    par(col.axis="black");
    par(col.lab="black");
    par(col.main="black");
    par(col.sub="black");
    par(lwd=2);
    par(pch=1);
    par(ps=12);
    par(tmag=1.2);
    par(mar=c(4, 3, 3, 1) + 0.1);
    par(mgp=c(1.5, 0.2, 0));
    par(tcl=0.3);
}

Then I save the pictures to PNG format with 'width=5' and 'height=5',
pointsize='14'.

Cheers

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/


> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Russell Senior
> Sent: Wednesday, May 08, 2002 1:38 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] good procedure for creating plots for PowerPoint
>
>
>
> I am generating some graphs (on GNU/Linux using R 1.5.x) for a
> PowerPoint presentation my boss is giving next week.  He just tried
> cut/pasted a plot off of a PDF file I had created, but he complained
> that the fonts were too small and fuzzy, and that he couldn't change
> the background.  I have been playing with png(bg=transparent), but I
> am not sure what appropriate height,width parameters and whether I
> should modify my plot colors.  Any pointers on generating good quality
> figures for PowerPoint?
>
> Thanks!
>
> --
> Russell Senior         ``The two chiefs turned to each other.
> seniorr at aracnet.com      Bellison uncorked a flood of horrible
>                          profanity, which, translated meant, `This is
>                          extremely unusual.' ''
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Wed May  8 08:32:26 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Tue, 7 May 2002 23:32:26 -0700 (PDT)
Subject: [R] R 1.5.0 terminated while plotting groupedData
In-Reply-To: <F0E0B899CB43D5118D220002A55113CF21BAB6@s2-edm-r1.nofc.cfs.nrcan.gc.ca>
Message-ID: <20020508063226.66799.qmail@web13907.mail.yahoo.com>


This might not be the reason for the problem, but exactly what versions of
nlme, grid and lattice do you have ? I ask because I get slightly different
messages (nlme should now load lattice, for one thing) and everything works OK
(on Linux). I'll try to check Windows 2000 tomorrow.

--- "Yang, Richard" <dyang at nrcan.gc.ca> wrote:
> Dear R-help;
> 
> Following the installation of R 1.5.0  and library packages to my Win 2K
> machine,  I tested the new R system:
> 
> > library(nlme)
> Loading required package: nls 
> > library(lattice)
> Loading required package: grid 
> >data(Soybean)
> >plot(Soybean)
> 
> A program error appears: "Rgui.exe has generated errors and will be closed
> by Windows. You will need to restart the program. An error log is being
> created". 
> 
> Both nlme and lattice libraries are current. Apparently, there are bugs
> somewhere.
> 
> 
> Richard
> 
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Wed May  8 08:31:30 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Wed, 8 May 2002 08:31:30 +0200
Subject: [R] Problem about trim the space and add space to force the same nchar 
In-Reply-To: <IPECKKKLFINFHEGMEKKGAEHGCAAA.ken_lee@tynesys.com>
Message-ID: <KKEGJOGBELBHDIKPINBMCEEOCMAA.hb@maths.lth.se>

For
  a <- "abc     "
or
  a <- "a  b  c       "

# Replace all multiple spaces with a single space
a <- gsub("[ ]+", " ", a)
# Remove all trailing spaces
a <- gsub("[ ]+$", "", a)
# Remove all leading spaces
a <- gsub("^[ ]+", "", a)

Maybe there a more clever ways which I don't about, but the above gives you
the idea. I am not sure what your second question is about but if it is
about formatting output take a look at format(), formatC() and the new
sprintf() in [R] v1.5.0. The latter I haven't tried myself yet, but it
should be the most powerful and easy to use.

Best

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/


> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of ken_lee
> Sent: Wednesday, May 08, 2002 4:33 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] Problem about trim the space and add space to force the
> same nchar
>
>
> Dear all,
>      First, Can I trim the space like a<-"abc     "   ==>  a<-
> "abc"    or a<-"a  b  c       "   ==>  a<-"a  b  c"
>      Second, Can I  generate a vector has the same length (nchar)
> like a<-c("mean  =10   ",
>
>
>   "std       =1.23",
>
>                                                                     "...
>
>
> Best regards
>
> Ken
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May  8 08:33:42 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 8 May 2002 07:33:42 +0100 (BST)
Subject: [R] R 1.5.0 terminated while plotting groupedData
In-Reply-To: <F0E0B899CB43D5118D220002A55113CF21BAB6@s2-edm-r1.nofc.cfs.nrcan.gc.ca>
Message-ID: <Pine.GSO.4.44.0205080722260.1510-100000@auk.stats>

On Wed, 8 May 2002, Yang, Richard wrote:

> Dear R-help;
>
> Following the installation of R 1.5.0  and library packages to my Win 2K
> machine,  I tested the new R system:
>
> > library(nlme)
> Loading required package: nls
> > library(lattice)
> Loading required package: grid
> >data(Soybean)
> >plot(Soybean)
>
> A program error appears: "Rgui.exe has generated errors and will be closed
> by Windows. You will need to restart the program. An error log is being
> created".
>
> Both nlme and lattice libraries are current. Apparently, there are bugs
> somewhere.

But is grid?  Also, the current nlme loads lattice, so I doubt if nlme
actually is current:

> library(nlme)
Loading required package: nls
Loading required package: lattice

Both grid and lattice are packaged with 1.5.0.  It is essential that you
use those versions (or later versions of lattice).

Your example does work for me.


> Apparently, there are bugs somewhere.

Not proven, as user error has not been ruled out.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed May  8 08:24:59 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 08 May 2002 08:24:59 +0200
Subject: [R] printing from graphics window in R-1.5.0 on WinNT
References: <51F9C42DA15CD311BD220008C707D81906FFC2B3@usrymx10.merck.com>
Message-ID: <3CD8C4BB.7C924A70@statistik.uni-dortmund.de>

"Liaw, Andy" wrote:
> 
> Dear R-help,
> 
> I've encountered a problem using R-1.5.0 compiled from source on WinNT4.  If
> I make a plot on the windows graphics device, and then select "File ->
> Print...", nothing happens.  (I'd expect to see a printer selection dialog
> box opened, which is what happens with R-1.4.1 and earlier compiled from
> source.)  Doing ctrl-p doesn't work either.  Copying to clipboard, etc.
> still works.
> 
> Has anyone experienced the same thing?  Any hints?

Confirmed. win.print() doesn't work either.
We have seen the problem a short time before the release of R-1.4.0
(some R-1.4.0 devel) , I remind.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May  8 09:05:33 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 8 May 2002 08:05:33 +0100 (BST)
Subject: [R] printing from graphics window in R-1.5.0 on WinNT
In-Reply-To: <3CD8C4BB.7C924A70@statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.31.0205080801550.11315-100000@gannet.stats>

On Wed, 8 May 2002, Uwe Ligges wrote:

> "Liaw, Andy" wrote:
> >
> > Dear R-help,
> >
> > I've encountered a problem using R-1.5.0 compiled from source on WinNT4.  If
> > I make a plot on the windows graphics device, and then select "File ->
> > Print...", nothing happens.  (I'd expect to see a printer selection dialog
> > box opened, which is what happens with R-1.4.1 and earlier compiled from
> > source.)  Doing ctrl-p doesn't work either.  Copying to clipboard, etc.
> > still works.
> >
> > Has anyone experienced the same thing?  Any hints?
>
> Confirmed. win.print() doesn't work either.

win.print does on my machines, and it is part of the testing cycle,
so I doubt if there is problem.

> We have seen the problem a short time before the release of R-1.4.0
> (some R-1.4.0 devel) , I remind.

(Look back: my memory is that was a misunderstanding then.)

In menuprint, replace "win.print" by "win.print:".  Then it works for me.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Wed May  8 09:11:56 2002
From: siim at obs.ee (Ott Toomet)
Date: Wed, 8 May 2002 09:11:56 +0200 (CEST)
Subject: [R] math symbols in plot legend
Message-ID: <Pine.LNX.4.44.0205080858060.5867-100000@localhost.localdomain>

Hi,

I have tried to include a description into legend which includes
mathematical symbols and actual values.  Basically, I want something like

> legend(0.5,1,
	legend=c(expression(gamma==0.2), 
		expression(gamma==1), 	
		expression(gamma==5)), 
	lty=1:3)

Where gamma should be the greek letter.

The problem is that the actual numeric values can change and the number of
expressions can change too.  I have tried to build a vector of expressions
something like

  leg <- NULL
  for(i in seq(along=g)) {
    leg <- c(leg, substitute(expression(gamma==gam), list(gam=g[i])))
  }

but this results into a list and not vector of expressions (however,
component expressions are correct).  My attempts to
convert it with as.expressions() and similar are not been fruitful so long.

I am using R 1.4.0 on linux.

Any suggestions?

Ott Toomet

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May  8 10:04:58 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 8 May 2002 09:04:58 +0100 (BST)
Subject: [R] printing from graphics window in R-1.5.0 on WinNT
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC2B3@usrymx10.merck.com>
Message-ID: <Pine.GSO.4.44.0205080859500.1665-100000@auk.stats>

On Tue, 7 May 2002, Liaw, Andy wrote:

> I've encountered a problem using R-1.5.0 compiled from source on WinNT4.  If
> I make a plot on the windows graphics device, and then select "File ->
> Print...", nothing happens.  (I'd expect to see a printer selection dialog
> box opened, which is what happens with R-1.4.1 and earlier compiled from
> source.)  Doing ctrl-p doesn't work either.  Copying to clipboard, etc.
> still works.
>
> Has anyone experienced the same thing?  Any hints?

This has been tracked down and is fixed in R-patched.

In general we would encourage people building from source to use R-patched
(perhaps most easily via R-sync, but there are daily snapshots).  There are
a number of bug fixes/workarounds found whilst 1.5.0 was in code-freeze, as
well as fixes for others reported since.  Not only do you get better code
but also we gain from the experience of people using the patched code.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Wed May  8 10:05:02 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Wed, 8 May 2002 18:05:02 +1000 
Subject: [R] math symbols in plot legend
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A90C191D@Roper-CV.qld.cmis.csiro.au>

Ott Toomet asks:

>  -----Original Message-----
> From: 	Ott Toomet [mailto:siim at obs.ee] 
> Sent:	Wednesday, May 08, 2002 5:12 PM
> To:	r-help at stat.math.ethz.ch
> Subject:	[R] math symbols in plot legend
> 
> Hi,
> 
> I have tried to include a description into legend which includes
> mathematical symbols and actual values.  Basically, I want something like
> 
> > legend(0.5,1,
> 	legend=c(expression(gamma==0.2), 
> 		expression(gamma==1), 	
> 		expression(gamma==5)), 
> 	lty=1:3)
> 
> Where gamma should be the greek letter.
> 
> The problem is that the actual numeric values can change and the number of
> expressions can change too.  I have tried to build a vector of expressions
> something like
> 
>   leg <- NULL
>   for(i in seq(along=g)) {
>     leg <- c(leg, substitute(expression(gamma==gam), list(gam=g[i])))
>   }
> 
> but this results into a list and not vector of expressions (however,
> component expressions are correct).  My attempts to
> convert it with as.expressions() and similar are not been fruitful so
> long.
	[WNV]  Here is a possibility:

	> g <- c(0.2, 1, 5)
	> leg <- expression()
	> for(h in g) leg <- c(leg, substitute(expression(gamma == gam),
list(gam = h))[[2]])
	> leg
	expression(gamma == 0.2, gamma == 1, gamma == 5)

	For comparison, here is what you were using directly:

	> c(expression(gamma == 0.2), expression(gamma == 1),
expression(gamma == 5))
	expression(gamma == 0.2, gamma == 1, gamma == 5)

	The curious question is why is the [[2]] necessary in the
substitute() statemene above?  
	Ah, that would be telling!

	W.

> I am using R 1.4.0 on linux.
> 
> Any suggestions?
> 
> Ott Toomet
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Wed May  8 10:51:03 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Wed, 08 May 2002 10:51:03 +0200
Subject: [R] Problem about trim the space and add space to force the same 
 nchar
References: <IPECKKKLFINFHEGMEKKGAEHGCAAA.ken_lee@tynesys.com>
Message-ID: <3CD8E6F7.796FBEE@atmos.umnw.ethz.ch>

Hello Ken,

for the second problem i wrote two small functions
fusion <- function(what,sep=", "){  
  if (length(what)>1){
    f <- what[1]
    for (i in 2:length(what)) f <- paste(f,what[i],sep=sep)
    f
  } else what
}

align <- function(txt,n=max(nchar(txt)),lbound=T,ch=' ') {
  len <- nchar(txt)
  v <- substring(fusion(rep(ch,max(len)),sep=''),1,n-len)
  if(lbound) paste(txt,v,sep='') else paste(v,txt,sep='')
}

fusion is similary to paste, but creates a single string from a vector.
align take a string (or a vector of them) algn the items
 n is the minimal length
 lbound defines the kind of align
 ch the character that is used a the front/end of each string

does this help?

gruess

joerg

ken_lee wrote:
> 
> Dear all,
>      First, Can I trim the space like a<-"abc     "   ==>  a<- "abc"    or a<-"a  b  c       "   ==>  a<-"a  b  c"
>      Second, Can I  generate a vector has the same length (nchar) like a<-c("mean  =10   ",
>                                                                                                                                       "std       =1.23",
>                                                                                                                                       "...
> 
> Best regards
> 
> Ken
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed May  8 11:07:40 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 8 May 2002 10:07:40 +0100
Subject: [R] GUI Input Forms
In-Reply-To: <Pine.A41.4.44.0205070821490.50664-100000@homer39.u.washington.edu>
References: <YmROBSAE2618EwBU@myatt.demon.co.uk>
 <Pine.A41.4.44.0205070821490.50664-100000@homer39.u.washington.edu>
Message-ID: <ASUIcHAcrO28Ew5z@myatt.demon.co.uk>

Thomas Lumley <tlumley at u.washington.edu> writes:
>On Tue, 7 May 2002, Mark Myatt wrote:
>
>> Thomas Lumley <tlumley at u.washington.edu> writes:
>> >I was going to suggest EpiInfo, the old DOS-based database and statistics
>> >package from the Centers for Disease Control, but EpiData should be even
>> >easier.
>> >
>> >Note that the 'foreign' package can now read EpiInfo .REC files as well as
>> >many of these formats EpiData will export to.
>>
>> I am running 1.41 on my win32 box and 1.31 on my Linux box. Foreign
>> there gives:
><stuff>
>> So I assume that this is a new addition. Is that right?
>
>Yes.  I don't know if anyone other than me has used it, so I would welcome
>bug reports.

I will find some time to have a good look at it in the next week.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Wed May  8 14:45:47 2002
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Wed, 8 May 2002 08:45:47 -0400
Subject: [R] Suggestions for poor man's parallel processing
Message-ID: <15577.7675.512814.805772@gargle.gargle.HOWL>

Almost all of the heavy crunching I do in R is like:

> for(i in long.list){
+ do.something(i)
+ }
> collect.results()

Since all the invocations of do.something are independent of one another, there
is no reason that I can't run them in parallel. Since my machine has four
processors, a natural way to do this is to divide up long.list into 4 pieces
and then start 4 jobs, each of which would process 1/4 of the items. I could
then wait for the four jobs to finish (waiting for tag files and the like),
collect the results, and go on my happy way. I might do this all within R
(using system calls to fork off other R processes?) or by using Perl as a
wrapper.

But surely there are others that have faced and solved this problem already! I
do not *think* that I want to go into the details of RPVM since my needs are so
limitted. Does anyone have any advice for me? Various postings to R-help have
hinted at ideas, but I couldn't find anything definitive. I will summarize for
the list.

To the extent that it matters:

> R.version
         _                   
platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    5.0                 
year     2002                
month    04                  
day      29                  
language R                   


Regards,

Dave Kane
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From juli at ceam.es  Wed May  8 16:16:34 2002
From: juli at ceam.es (juli g. pausas)
Date: Wed, 08 May 2002 15:16:34 +0100
Subject: [R] ts acf accessing to values
Message-ID: <3CD93342.41D12FA2@ceam.es>

Hi,
I don't quite understant how can I access to the acf values from the
list produced by the acf function
Example:

library(ts)
t <- acf(ts.union(ts(1:10), ts(11:20)))
t$acf
> tmp$acf
, , 1

            [,1]        [,2]
[1,]  1.00000000  1.00000000
[2,]  0.70000000  0.70000000
[3,]  0.41212121  0.41212121
[4,]  0.14848485  0.14848485
[5,] -0.07878788 -0.07878788
[6,] -0.25757576 -0.25757576
[7,] -0.37575758 -0.37575758

, , 2

            [,1]        [,2]
[1,]  1.00000000  1.00000000
[2,]  0.70000000  0.70000000
[3,]  0.41212121  0.41212121
[4,]  0.14848485  0.14848485
[5,] -0.07878788 -0.07878788
[6,] -0.25757576 -0.25757576
[7,] -0.37575758 -0.37575758

Any help on how can I access to the vector with the acf values?
Or perhaps I misusing the acf function ....
Thanks in advance

Juli

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Wed May  8 15:49:17 2002
From: macq at llnl.gov (Don MacQueen)
Date: Wed, 8 May 2002 06:49:17 -0700
Subject: [R] good procedure for creating plots for PowerPoint
In-Reply-To: <863cx34jh8.fsf@coulee.tdb.com>
References: <863cx34jh8.fsf@coulee.tdb.com>
Message-ID: <p05111701b8fedac5fe0b@[128.115.153.6]>

If you have Adobe Illustrator available then you can use 
postscript(), and the quality will be very good.

After creating the postscript file, open it with Illustrator. 
Illustrator (unless it's a very old version) will add a preview 
image. Save it in Illustrator's "Illustrator EPS" format. Then use 
PowerPoint's "Insert Graphic from File" command.

Your boss will probably be able to change the background in 
PowerPoint, but it would be better to do it in Illustrator.

caveat: I do this on a Macintosh, and you didn't mention what 
platform he's using for his PowerPoint. I think it likely my 
procedure will work with Windows' Illustrator and PowerPoint.

With the postscript driver you can set the height and width of the 
plot to something appropriate for a PowerPoint presentation. It will 
probably take some trial and error on your part to get the margins 
and other graphical parameters right, since what fits  when viewing 
the graph on the screen may not fit when it's sized for Powerpoint.

-Don

At 4:38 PM -0700 5/7/02, Russell Senior wrote:
>I am generating some graphs (on GNU/Linux using R 1.5.x) for a
>PowerPoint presentation my boss is giving next week.  He just tried
>cut/pasted a plot off of a PDF file I had created, but he complained
>that the fonts were too small and fuzzy, and that he couldn't change
>the background.  I have been playing with png(bg=transparent), but I
>am not sure what appropriate height,width parameters and whether I
>should modify my plot colors.  Any pointers on generating good quality
>figures for PowerPoint?
>
>Thanks!
>
>--
>Russell Senior         ``The two chiefs turned to each other.       
>seniorr at aracnet.com      Bellison uncorked a flood of horrible      
>                          profanity, which, translated meant, `This is
>                          extremely unusual.' ''                     
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May  8 15:49:08 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 8 May 2002 14:49:08 +0100 (BST)
Subject: [R] ts acf accessing to values
In-Reply-To: <3CD93342.41D12FA2@ceam.es>
Message-ID: <Pine.LNX.4.31.0205081447480.13273-100000@gannet.stats>

On Wed, 8 May 2002, juli g. pausas wrote:

> Hi,
> I don't quite understant how can I access to the acf values from the
> list produced by the acf function
> Example:
>
> library(ts)
> t <- acf(ts.union(ts(1:10), ts(11:20)))
> t$acf
> > tmp$acf
> , , 1
>
>             [,1]        [,2]
> [1,]  1.00000000  1.00000000
> [2,]  0.70000000  0.70000000
> [3,]  0.41212121  0.41212121
> [4,]  0.14848485  0.14848485
> [5,] -0.07878788 -0.07878788
> [6,] -0.25757576 -0.25757576
> [7,] -0.37575758 -0.37575758
>
> , , 2
>
>             [,1]        [,2]
> [1,]  1.00000000  1.00000000
> [2,]  0.70000000  0.70000000
> [3,]  0.41212121  0.41212121
> [4,]  0.14848485  0.14848485
> [5,] -0.07878788 -0.07878788
> [6,] -0.25757576 -0.25757576
> [7,] -0.37575758 -0.37575758
>
> Any help on how can I access to the vector with the acf values?

It's an array for a vector time series, and you are looking at the
array.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dyang at nrcan.gc.ca  Wed May  8 16:00:22 2002
From: dyang at nrcan.gc.ca (Yang, Richard)
Date: Wed, 8 May 2002 10:00:22 -0400 
Subject: [R] R 1.5.0 terminated while plotting groupedData
Message-ID: <F0E0B899CB43D5118D220002A55113CF21BAB7@s2-edm-r1.nofc.cfs.nrcan.gc.ca>

Thanks Dr. Bill.Venables and Prof Brian D Ripley for their quick responses
to my query. The problem occurred on a laptop but it works fine on a desktop
in office. I noticed that the library(nlme) loads both nlme and lattice on
the desktop but only nlme on the laptop. So there may have some installation
problem.

Thanks,

Richard
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.holtman at convergys.com  Wed May  8 16:08:53 2002
From: james.holtman at convergys.com (james.holtman@convergys.com)
Date: Wed, 8 May 2002 10:08:53 -0400
Subject: [R] Difference in 'read.table' between R.1.4.1 and R1.5.0
Message-ID: <OF8C799D7E.3D6E5FF2-ON85256BB3.004C9ABB@cbis.com>

This sequence of commands worked fine in R.1.4.1.  The data file was the
same in both instances:

>    acct.log <- read.table(file, col.names=c('cmd', 'user', 'start',
'end',
+         'elapsed', 'sys', 'usr', 'cpu', 'char', 'blocks'),
+         colClasses=c('NA', 'NA', rep('numeric', 7),'integer'),
+         comment.char='')
> version
         _
platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    4.1
year     2002
month    01
day      30
language R
>


When run under R.1.5.0, I got the following error:

> acct.log <- read.table(file, col.names=c('cmd', 'user', 'start', 'end',
+      'elapsed', 'sys', 'usr', 'cpu', 'char', 'blocks'),
+      colClasses=c('NA', 'NA', rep('numeric', 7),'integer'),
+      comment.char='')
Error: couldn't find function "as"
> version
         _
platform i386-pc-mingw32
arch     i386
os       mingw32
system   i386, mingw32
status
major    1
minor    5.0
year     2002
month    04
day      29
language R
>


There appears to be a call to "as" in read.table, but this object if not
defined:

 for (i in 1:cols) {
        if (known[i])
            next
        data[[i]] <- if (!is.na(colClasses[i]))
            as(data[[i]], colClasses[i])
        else type.convert(data[[i]], as.is = as.is[i], dec = dec)
    }




--

NOTICE:  The information contained in this electronic mail transmission is
intended by Convergys Corporation for the use of the named individual or
entity to which it is directed and may contain information that is
privileged or otherwise confidential.  If you have received this electronic
mail transmission in error, please delete it from your system without
copying or forwarding it, and notify the sender of the error by reply email
or by telephone (collect), so that the sender's address records can be
corrected.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May  8 16:18:17 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 8 May 2002 15:18:17 +0100 (GMT Daylight Time)
Subject: [R] Difference in 'read.table' between R.1.4.1 and R1.5.0
In-Reply-To: <OF8C799D7E.3D6E5FF2-ON85256BB3.004C9ABB@cbis.com>
Message-ID: <Pine.WNT.4.44.0205081512530.2304-100000@gannet.stats.ox.ac.uk>

There is no change in read.table.  'NA' is not a class, and never has been,
The help page has always said use NA, not use 'NA', and (as the NEWS for
1.5.0 points out) you now have to use NA when you mean it.

as() is in package methods, and provides extensibility if package methods
is loaded.

On Wed, 8 May 2002 james.holtman at convergys.com wrote:

> This sequence of commands worked fine in R.1.4.1.  The data file was the
> same in both instances:
>
> >    acct.log <- read.table(file, col.names=c('cmd', 'user', 'start',
> 'end',
> +         'elapsed', 'sys', 'usr', 'cpu', 'char', 'blocks'),
> +         colClasses=c('NA', 'NA', rep('numeric', 7),'integer'),
> +         comment.char='')
> > version
>          _
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    4.1
> year     2002
> month    01
> day      30
> language R
> >
>
>
> When run under R.1.5.0, I got the following error:
>
> > acct.log <- read.table(file, col.names=c('cmd', 'user', 'start', 'end',
> +      'elapsed', 'sys', 'usr', 'cpu', 'char', 'blocks'),
> +      colClasses=c('NA', 'NA', rep('numeric', 7),'integer'),
> +      comment.char='')
> Error: couldn't find function "as"
> > version
>          _
> platform i386-pc-mingw32
> arch     i386
> os       mingw32
> system   i386, mingw32
> status
> major    1
> minor    5.0
> year     2002
> month    04
> day      29
> language R
> >
>
>
> There appears to be a call to "as" in read.table, but this object if not
> defined:
>
>  for (i in 1:cols) {
>         if (known[i])
>             next
>         data[[i]] <- if (!is.na(colClasses[i]))
>             as(data[[i]], colClasses[i])
>         else type.convert(data[[i]], as.is = as.is[i], dec = dec)
>     }
>
>
>
>
> --
>
> NOTICE:  The information contained in this electronic mail transmission is
> intended by Convergys Corporation for the use of the named individual or
> entity to which it is directed and may contain information that is
> privileged or otherwise confidential.  If you have received this electronic
> mail transmission in error, please delete it from your system without
> copying or forwarding it, and notify the sender of the error by reply email
> or by telephone (collect), so that the sender's address records can be
> corrected.
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ltorgo at liacc.up.pt  Wed May  8 16:23:39 2002
From: ltorgo at liacc.up.pt (Luis Torgo)
Date: Wed, 8 May 2002 15:23:39 +0100
Subject: [R] Problems with package XML
Message-ID: <20020508141847.A93E71B96C@mail.liacc.up.pt>

I'm having some difficulties with the package XML.

Namely, issuing the following commands:

> library(XML)
> hp <-  htmlTreeParse('http://www.liacc.up.pt/~ltorgo/index.html',isURL=T)

I get a flood of messages like this :
Save workspace image? [y/n/c]: readline: warning: rl_prep_terminal: cannot 
get terminal settings

My system is:
> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    4.1              
year     2002             
month    01               
day      30               
language R  


I should mention the following. I've tried the same on several other machines 
(different OSes and architectures) and I did not get that error.  I should 
also mention that I suspect that it is something related to proxies. This 
suspection comes from the fact that I did not get the error with the same 
code tried on a different machine with exactly the same architecture and OS 
(Linux Mandrake 8.2), the only difference being that instead of accessing the 
Internet through a proxies it does it directly.

Any suggestions on how to overcome this ?

-- 
Luis Torgo
    FEP/LIACC, University of Porto   Phone : (+351) 22 607 88 30
    Machine Learning Group           Fax   : (+351) 22 600 36 54
    R. Campo Alegre, 823             email : ltorgo at liacc.up.pt
    4150 PORTO   -  PORTUGAL         WWW   : http://www.liacc.up.pt/~ltorgo
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tklistaddr at keittlab.bio.sunysb.edu  Wed May  8 17:06:23 2002
From: tklistaddr at keittlab.bio.sunysb.edu (Timothy H. Keitt)
Date: 08 May 2002 11:06:23 -0400
Subject: [R] Suggestions for poor man's parallel processing
In-Reply-To: <15577.7675.512814.805772@gargle.gargle.HOWL>
References: <15577.7675.512814.805772@gargle.gargle.HOWL>
Message-ID: <1020870383.30863.33.camel@keittlab-6>

By far the easiest approach is, as you say, just to hand code parameter
ranges into R scripts and run them on different machines.

That said, I've recently found using a relational database to store
parameter combinations and associated results really convenient. The
basic idea is

<one time>

insert all parameter combinations into database
mark each row 'not started'

<on each client>

connect to database

while (1) {
	
	break if invalid connection
	begin transaction
	lock table
	query for parameter combination marked 'not started'
	break if no row returned
	mark returned row as 'in progress'
	insert time stamp and client host name <optional>
	end transaction <unlocks table for other clients>
	compute the result
	insert result into database
	insert ending time stamp <optional>
	mark row 'completed'

}

close connection
exit


I then fire up the client script on each machine (one per processor) and
let it run until its done. You get automatic load balancing because
faster machines process more parameter combinations. You can also query
the database to get intermediate results and see how long before the
entire parameter space is processed. I recently used this approach to do
~320 days of computing in about 30 days. I added 40 client jobs on a
nearby cluster half way through the run when it became clear my 6 local
cpu's were going to take awhile. It was really convenient that I could
add clients without disrupting anything. (As written, however, you
cannot kill client jobs without leaving unfinished rows marked 'in
progress', but that can easily be fixed.)

T.

On Wed, 2002-05-08 at 08:45, David Kane -->
> Almost all of the heavy crunching I do in R is like:
> 
> > for(i in long.list){
> + do.something(i)
> + }
> > collect.results()
> 
> Since all the invocations of do.something are independent of one another, there
> is no reason that I can't run them in parallel. Since my machine has four
> processors, a natural way to do this is to divide up long.list into 4 pieces
> and then start 4 jobs, each of which would process 1/4 of the items. I could
> then wait for the four jobs to finish (waiting for tag files and the like),
> collect the results, and go on my happy way. I might do this all within R
> (using system calls to fork off other R processes?) or by using Perl as a
> wrapper.
> 
> But surely there are others that have faced and solved this problem already! I
> do not *think* that I want to go into the details of RPVM since my needs are so
> limitted. Does anyone have any advice for me? Various postings to R-help have
> hinted at ideas, but I couldn't find anything definitive. I will summarize for
> the list.
> 
> To the extent that it matters:
> 
> > R.version
>          _                   
> platform sparc-sun-solaris2.6
> arch     sparc               
> os       solaris2.6          
> system   sparc, solaris2.6   
> status                       
> major    1                   
> minor    5.0                 
> year     2002                
> month    04                  
> day      29                  
> language R                   
> 
> 
> Regards,
> 
> Dave Kane
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Wed May  8 19:09:48 2002
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Wed, 08 May 2002 19:09:48 +0200
Subject: [R] TCLTK and windows
Message-ID: <3CD95BDC.4040302@inrialpes.fr>

Hi all,

Is it possible to use the R tcltk library  with windows ?

Thanks

-- 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN
PhD student                  phone : (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42		
INRIA Rhone-Alpes            fax   : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                   e-mail: olivier.martin at inrialpes.fr
38334 Saint Ismier cedex     web   : http://www.inrialpes.fr/is2/people/omartin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed May  8 17:19:33 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 8 May 2002 08:19:33 -0700 (PDT)
Subject: [R] TCLTK and windows
In-Reply-To: <3CD95BDC.4040302@inrialpes.fr>
Message-ID: <Pine.A41.4.44.0205080818330.21784-100000@homer34.u.washington.edu>

On Wed, 8 May 2002, Olivier Martin wrote:

> Hi all,
>
> Is it possible to use the R tcltk library  with windows ?
>

Yes. Instructions are in the R-Windows FAQ under
3.6 Package TclTk does not work.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed May  8 17:27:36 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 08 May 2002 17:27:36 +0200
Subject: [R] TCLTK and windows
References: <3CD95BDC.4040302@inrialpes.fr>
Message-ID: <3CD943E8.C29D2A@statistik.uni-dortmund.de>

Olivier Martin wrote:
> 
> Hi all,
> 
> Is it possible to use the R tcltk library  with windows ?

Yes.
How to set it up is described in section 3.6 of the "R for Windows FAQ".

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From White.Denis at epamail.epa.gov  Wed May  8 17:30:32 2002
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Wed, 08 May 2002 08:30:32 -0700
Subject: [R] good procedure for creating plots for PowerPoint
Message-ID: <OF1B28BD39.1396BFB1-ON88256BB3.0054CF15@rtp.epa.gov>


The path, R to postscript to illustrator to powerpoint has worked for me
many times with excellent results.  In Windows (NT/2000), I just cut and
paste from illustrator into powerpoint, and resize the image.  Sometimes
I delete extra frames around the graphic or change titles, etc., in
illustrator first.

> If you have Adobe Illustrator available then you can use
> postscript(), and the quality will be very good.
>
> After creating the postscript file, open it with Illustrator.
> Illustrator (unless it's a very old version) will add a preview
> image. Save it in Illustrator's "Illustrator EPS" format. Then use
> PowerPoint's "Insert Graphic from File" command.
>
> Your boss will probably be able to change the background in
> PowerPoint, but it would be better to do it in Illustrator.
>
> caveat: I do this on a Macintosh, and you didn't mention what
> platform he's using for his PowerPoint. I think it likely my
> procedure will work with Windows' Illustrator and PowerPoint.
>
> With the postscript driver you can set the height and width of the
> plot to something appropriate for a PowerPoint presentation. It will
> probably take some trial and error on your part to get the margins
> and other graphical parameters right, since what fits  when viewing
> the graph on the screen may not fit when it's sized for Powerpoint.
>
> -Don
>
> At 4:38 PM -0700 5/7/02, Russell Senior wrote:
> >I am generating some graphs (on GNU/Linux using R 1.5.x) for a
> >PowerPoint presentation my boss is giving next week.  He just tried
> >cut/pasted a plot off of a PDF file I had created, but he complained
> >that the fonts were too small and fuzzy, and that he couldn't change
> >the background.  I have been playing with png(bg=transparent), but I
> >am not sure what appropriate height,width parameters and whether I
> >should modify my plot colors.  Any pointers on generating good
quality
> >figures for PowerPoint?
> >
> >Thanks!
> >
> >--
> >Russell Senior         ``The two chiefs turned to each other.
> >seniorr at aracnet.com      Bellison uncorked a flood of horrible
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From l.cox at geography.bbk.ac.uk  Wed May  8 17:53:24 2002
From: l.cox at geography.bbk.ac.uk (Louise Cox)
Date: Wed, 8 May 2002 16:53:24 +0100
Subject: [R] Inputting Co-ordinates
Message-ID: <BMEPKDIALLLHFJGCHOGHKEIACAAA.l.cox@geography.bbk.ac.uk>

Hello

I am trying to input some co-ordinate sets into R of the form x,y by using
lists.  The command I am using is:

p1 <- list(x=c(3445,563,646), y=c(234,567,456))

However the actual co-ordinate sets that I am trying to input have 305
points each and I think that the program will not accept a command that is
as long as necessary.  Is this so?  If this is the case can you tell me how
to read the points in as a table but so that I can call on them as being p1,
later in the program?

Many Thanks
Louise

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Wed May  8 18:03:51 2002
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Wed, 08 May 2002 18:03:51 +0200
Subject: [R] HGLM in R (was: writing a package for generalized linear mixed
  models)
Message-ID: <3.0.32.20020508180350.008fa3b0@162.38.183.200>

I wonder if someone has tried to implement the hierarchical generalized
linear model (HGLM) approach of Lee and Nelder (JRSSB, 1996, 58: 619-56) in R.

Thanks in advance.

Emmanuel Paradis

At 17:18 01/04/02 +0100, ripley at stats.ox.ac.uk wrote:
>On Mon, 1 Apr 2002, Jason Liao wrote:
>
>> Happy new month, everyone!
>>
>> I am planning to write a NIH grant proposal to study ways to speed
>> Monte Carlo based maximum likelihood algorithm for hierarchical models
>> with a focus on generalized linear mixed models (GLM with random
>> effects). I thought it would be nice and also increase the chance of
>> funding if I could produce an R package in the process. I understand
>> that Prof. Pinheiro ang Bates have produced LME for linear mixed models
>> and NLME for non-linear mixed models. But these do not fit logistic
>> mixed models or Poisson mixed models. SAS Proc NLMIXED can fit simple
>
>GLME (beta, S-PLUS only) does.
>
>> logistic or Poisson mixed models but the syntax is not specific for
>> generalized mixed models. There can be only one level of random
>> effects. STATA version 7 can fit random intercept models but not more.
>> There are also some standalone programs such as MIXOR by Don Hendeker
>> of Chicago. But it is hard to use a stnadalone program for data
>> analysis efficiently because you have to convert the data set and you
>> lose all the familiar tools for data transformation and graphics.
>>
>> I would appeciate your comments on the following points:
>>
>> 1. Is there a strong need for a package for generalized linear mixed
>> models? Could someone have already written or in the process of writing
>> one?
>
>See package GLMMgibbs on CRAN, function glmmPQL in package MASS and
>function glmm (only a random intercept) in one of Jim Lindsey's packages.
>
>GLMMs are half a chapter in the upcoming fourth edition of Venables &
>Ripley.
>
>> 3. How big is the undertaking? I have some R code for GLMM that runs at
>> an acceptable speed. I can see that some part can benifit from
>> converting to C or Fortran. I am not familiar with R's interface with C
>> and Fortran. I do not know either how to make the package available for
>> different platforms. Will the multi-platform issue become easier if I
>> stay with 100% pure R?
>
>100% pure R would be unacceptably slow.
>
>I would rate this as a research problem, and a major undertaking.
>GLMMgibbs is an existence proof, but not able to handle many quite simple
>problems.
>
>-- 
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Wed May  8 18:16:45 2002
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Wed, 8 May 2002 18:16:45 +0200 (MET DST)
Subject: [R] HGLM in R (was: writing a package for generalized linear mixed
In-Reply-To: <3.0.32.20020508180350.008fa3b0@162.38.183.200> from "Emmanuel Paradis" at May 08, 2002 06:03:51 PM
Message-ID: <200205081616.SAA06339@luc.ac.be>

> 
> I wonder if someone has tried to implement the hierarchical generalized
> linear model (HGLM) approach of Lee and Nelder (JRSSB, 1996, 58: 619-56) in R.

I put a function (hnlmix in my repeated library) fitting a
generalisation of them on my web page a week ago. It handles
distributions outside the glm family, nonlinear regression, and
censoring.  Jim

> 
> Thanks in advance.
> 
> Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From White.Denis at epamail.epa.gov  Wed May  8 18:25:10 2002
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Wed, 08 May 2002 09:25:10 -0700
Subject: [R] Inputting Co-ordinates
Message-ID: <OF7ABA780E.3BD1EA04-ON88256BB3.0059E73C@rtp.epa.gov>


> Hello
>
> I am trying to input some co-ordinate sets into R of the form x,y by
using
> lists.  The command I am using is:
>
> p1 <- list(x=c(3445,563,646), y=c(234,567,456))
>
> However the actual co-ordinate sets that I am trying to input have 305
> points each and I think that the program will not accept a command
that is
> as long as necessary.  Is this so?  If this is the case can you tell
me how
> to read the points in as a table but so that I can call on them as
being p1,
> later in the program?
>
> Many Thanks
> Louise

One easy way is to enter the coordinates into a text file with a text
editor so that the file looks like:

x y
3445 234
563 567
646 456
...

and then read into R with a statement

p1 <- read.table ("file.name", header=TRUE)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From White.Denis at epamail.epa.gov  Wed May  8 18:25:10 2002
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Wed, 08 May 2002 09:25:10 -0700
Subject: [R] Inputting Co-ordinates
Message-ID: <OF7ABA780E.3BD1EA04-ON88256BB3.0059E73C@rtp.epa.gov>


> Hello
>
> I am trying to input some co-ordinate sets into R of the form x,y by
using
> lists.  The command I am using is:
>
> p1 <- list(x=c(3445,563,646), y=c(234,567,456))
>
> However the actual co-ordinate sets that I am trying to input have 305
> points each and I think that the program will not accept a command
that is
> as long as necessary.  Is this so?  If this is the case can you tell
me how
> to read the points in as a table but so that I can call on them as
being p1,
> later in the program?
>
> Many Thanks
> Louise

One easy way is to enter the coordinates into a text file with a text
editor so that the file looks like:

x y
3445 234
563 567
646 456
...

and then read into R with a statement

p1 <- read.table ("file.name", header=TRUE)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lodinoto at tin.it  Wed May  8 19:14:27 2002
From: lodinoto at tin.it (Tomei Lodino)
Date: Wed, 8 May 2002 19:14:27 +0200
Subject: [R] Problem
Message-ID: <000a01c1f6b3$d02132a0$e76fabd4@c1j6i4>

Hi! This is the situation.
I have these commands. I have not to change anything in these lines but I
write them to make you understand the situation.

m1<-read.table("data",fill=TRUE,header=FALSE)
m2<-read.table("query.txt)
qvals<-levels(m2[[3]])
m1<-m1[m1[,1]%in%qvals,]
relnodes<-apply(m1,1,function(x)sum(x%in%qvals))
m1<-m1[relnodes>1,]
m1b<-as.list(as.data.frame(t(as.matrix(m1))))
m1c<-lapply(m1b,function(x)as.character(x[x%in%qvals]))

These lines import the external file "data", they make some things and give
me a output.
Now my problem is that  I have more or less 100 files. Everytime I take a
file, I call it m1 and I go on. When I obtain an output, a write
unione<-(unione,m1c) to update the output given before. (before starting the
first time I do unione<-NULL)
Now,  I want to know if there is some commands that repeat all the lines
written before, taking one by one all the 100 files that I have to use.
Maybe I can use the "for" command, but in which way?
Summarizing I have to do 100 times the lines written before, changing
everytime the name of the external file.
All the files are in the same directory. The file in m2 is the same for all
the iterations and so I have not to change it.
The names of the files are "dataa","datab","datac",...
Thank you very much.
Linda


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Wed May  8 19:43:55 2002
From: macq at llnl.gov (Don MacQueen)
Date: Wed, 8 May 2002 10:43:55 -0700
Subject: [R] Inputting Co-ordinates
In-Reply-To: <BMEPKDIALLLHFJGCHOGHKEIACAAA.l.cox@geography.bbk.ac.uk>
References: <BMEPKDIALLLHFJGCHOGHKEIACAAA.l.cox@geography.bbk.ac.uk>
Message-ID: <p05111705b8ff140e6b37@[128.115.153.6]>

Go to http://lib.stat.cmu.edu/R/CRAN/, click on the "Manual" link on 
the left, and get two of the documents:

An Introduction to R (approx. 100 pages, 650kB), based on the former 
"Notes on R", gives an introduction to the language and how to use R 
for doing statistical analysis and graphics.

R Data Import/Export (approx. 30 pages, 270kB) describes the import 
and export facilities available either in R itself or via packages 
which are available from CRAN.

Briefly, put your coordinates in a plain text file (two columns, x 
and y, similar to a spreadsheet), and use the scan() function to read 
them in from the file.

-Don

At 4:53 PM +0100 5/8/02, Louise Cox wrote:
>Hello
>
>I am trying to input some co-ordinate sets into R of the form x,y by using
>lists.  The command I am using is:
>
>p1 <- list(x=c(3445,563,646), y=c(234,567,456))
>
>However the actual co-ordinate sets that I am trying to input have 305
>points each and I think that the program will not accept a command that is
>as long as necessary.  Is this so?  If this is the case can you tell me how
>to read the points in as a table but so that I can call on them as being p1,
>later in the program?
>
>Many Thanks
>Louise
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrysopa at insecta.ufv.br  Wed May  8 20:45:59 2002
From: chrysopa at insecta.ufv.br (Ronaldo Reis Jr.)
Date: Wed, 8 May 2002 15:45:59 -0300
Subject: [R] increase iteration in weilbull survreg
Message-ID: <200205081846.g48Ik0i11166@apicot.dba.ufv.br>

Hi all,
how to increase the number of interations in an weilbull survreg model.
Thanks
Ronaldo
-- 
Alimony is the curse of the writing classes.
		-- Norman Mailer
--
|   //|\\   [*****************************][*******************]
|| ( ? ? )  [Ronaldo Reis J?nior          ][PentiumIII-600     ]
|     V     [ESALQ/USP-Entomologia, CP-09 ][HD: 30 + 10 Gb     ]
||  / l \   [13418-900 Piracicaba - SP    ][RAM: 128 Mb        ]
|  /(lin)\  [Fone: 19-429-4199 r.229      ][Video: SiS620-8Mb  ]
||/(linux)\ [chrysopa at insecta.ufv.br      ][Modem: Pctel-onboar]
|/ (linux) \[ICQ#: 5692561                ][SO: CL 7.0 (2.2.19)]
||  ( x )   [*****************************][*******************]
||| _/ \_Powered by Conectiva Linux 7.0 D+:) | Lxuser#: 205366
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sundar.dorai-raj at pdf.com  Wed May  8 20:51:17 2002
From: sundar.dorai-raj at pdf.com (Sundar Dorai-Raj)
Date: Wed, 08 May 2002 13:51:17 -0500
Subject: [R] Inputting Co-ordinates
References: <BMEPKDIALLLHFJGCHOGHKEIACAAA.l.cox@geography.bbk.ac.uk>
Message-ID: <3CD973A5.2C2A39F3@pdf.com>

Louise,
  See answer below:
> 
> I am trying to input some co-ordinate sets into R of the form x,y by using
> lists.  The command I am using is:
> 
> p1 <- list(x=c(3445,563,646), y=c(234,567,456))
> 
> However the actual co-ordinate sets that I am trying to input have 305
> points each and I think that the program will not accept a command that is
> as long as necessary.  Is this so?  If this is the case can you tell me how
> to read the points in as a table but so that I can call on them as being p1,
> later in the program?

Why not just place the points in a text file? E.g.

x, y
3445, 234
563, 567
646, 456

Save the last four lines into a text file called `coords.csv' (no
quotes).

In R, use the commands:

> p1 <- read.csv("coords.csv",header=T)
> p1
     x   y
1 3445 234
2  563 567
3  646 456
> p1$x
[1] 3445  563  646
> p1$y
[1] 234 567 456
> p1.list <- as.list(p1)
> p1.list
$x
[1] 3445  563  646

$y
[1] 234 567 456

> 

See read.csv or read.table for more details.

Sundar

-- 

Sundar Dorai-Raj, Ph.D.
Statistical Methods Engineer
PDF Solutions, Inc.
Richardson TX
(972) 889-3085 x216
(214) 392-7619 cell
sundar.dorai-raj at pdf.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amurta at ipimar.pt  Wed May  8 22:05:43 2002
From: amurta at ipimar.pt (Alberto Murta)
Date: Wed, 08 May 2002 20:05:43 +0000
Subject: [R] Problem
References: <000a01c1f6b3$d02132a0$e76fabd4@c1j6i4>
Message-ID: <3CD98517.7680CDA5@ipimar.pt>

Hi

If in that directory you don't have any other files than the ones you
want to use, you can make an object called 'file.names' with the names
of your input files:

> file.names <- system("ls", intern=TRUE)  

if you are using windows then instead of 'ls' should be 'dir'.
Then a 'for' loop should solve your problem:

> for(i in file.names){
	m1 <- read.table(i, fill=TRUE, header=FALSE)
	etc... 
	} 

Cheers

Alberto

 
Tomei Lodino wrote:
> 
> Hi! This is the situation.
> I have these commands. I have not to change anything in these lines but I
> write them to make you understand the situation.
> 
> m1<-read.table("data",fill=TRUE,header=FALSE)
> m2<-read.table("query.txt)
> qvals<-levels(m2[[3]])
> m1<-m1[m1[,1]%in%qvals,]
> relnodes<-apply(m1,1,function(x)sum(x%in%qvals))
> m1<-m1[relnodes>1,]
> m1b<-as.list(as.data.frame(t(as.matrix(m1))))
> m1c<-lapply(m1b,function(x)as.character(x[x%in%qvals]))
> 
> These lines import the external file "data", they make some things and give
> me a output.
> Now my problem is that  I have more or less 100 files. Everytime I take a
> file, I call it m1 and I go on. When I obtain an output, a write
> unione<-(unione,m1c) to update the output given before. (before starting the
> first time I do unione<-NULL)
> Now,  I want to know if there is some commands that repeat all the lines
> written before, taking one by one all the 100 files that I have to use.
> Maybe I can use the "for" command, but in which way?
> Summarizing I have to do 100 times the lines written before, changing
> everytime the name of the external file.
> All the files are in the same directory. The file in m2 is the same for all
> the iterations and so I have not to change it.
> The names of the files are "dataa","datab","datac",...
> Thank you very much.
> Linda
> 


-- 
                           Alberto G. Murta                      
           IPIMAR - Institute of Fisheries and Sea Research
            Avenida de Brasilia, 1449-006 Lisboa, Portugal       
Tel:+351 213027062; Fax:+351 213015849; http://www.ipimar.pt/pelagicos/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May  8 21:09:48 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 8 May 2002 20:09:48 +0100 (BST)
Subject: [R] Problem
In-Reply-To: <3CD98517.7680CDA5@ipimar.pt>
Message-ID: <Pine.GSO.4.44.0205082008400.8352-100000@auk.stats>

On Wed, 8 May 2002, Alberto Murta wrote:

> Hi
>
> If in that directory you don't have any other files than the ones you
> want to use, you can make an object called 'file.names' with the names
> of your input files:
>
> > file.names <- system("ls", intern=TRUE)

Use the R function dir() instead: it's portable.

> if you are using windows then instead of 'ls' should be 'dir'.

You need to use shell() to use that.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed May  8 21:19:42 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 8 May 2002 12:19:42 -0700 (PDT)
Subject: [R] Problem
In-Reply-To: <000a01c1f6b3$d02132a0$e76fabd4@c1j6i4>
Message-ID: <Pine.A41.4.44.0205081144280.43246-100000@homer21.u.washington.edu>

On Wed, 8 May 2002, Tomei Lodino wrote:

> Hi! This is the situation.
> I have these commands. I have not to change anything in these lines but I
> write them to make you understand the situation.
>
> m1<-read.table("data",fill=TRUE,header=FALSE)
> m2<-read.table("query.txt)
> qvals<-levels(m2[[3]])
> m1<-m1[m1[,1]%in%qvals,]
> relnodes<-apply(m1,1,function(x)sum(x%in%qvals))
> m1<-m1[relnodes>1,]
> m1b<-as.list(as.data.frame(t(as.matrix(m1))))
> m1c<-lapply(m1b,function(x)as.character(x[x%in%qvals]))
>
> These lines import the external file "data", they make some things and give
> me a output.
> Now my problem is that  I have more or less 100 files. Everytime I take a
> file, I call it m1 and I go on. When I obtain an output, a write
> unione<-(unione,m1c) to update the output given before. (before starting the
> first time I do unione<-NULL)
> Now,  I want to know if there is some commands that repeat all the lines
> written before, taking one by one all the 100 files that I have to use.
> Maybe I can use the "for" command, but in which way?
> Summarizing I have to do 100 times the lines written before, changing
> everytime the name of the external file.
> All the files are in the same directory. The file in m2 is the same for all
> the iterations and so I have not to change it.
> The names of the files are "dataa","datab","datac",...

Something like

all.file.names<-list.files(pattern="data")
 m2<-read.table("query.txt)
 qvals<-levels(m2[[3]])
unione<-NULL

for (filename in all.file.names){
  m1<-read.table(filename,fill=TRUE,header=FALSE)
  m1<-m1[m1[,1]%in%qvals,]
  relnodes<-apply(m1,1,function(x)sum(x%in%qvals))
  m1<-m1[relnodes>1,]
  m1b<-as.list(as.data.frame(t(as.matrix(m1))))
  m1c<-lapply(m1b,function(x)as.character(x[x%in%qvals]))
  unione[[filename]]<-m1c
}
and then if you want to concatenate all the results
  do.call("c", unione)


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed May  8 21:20:36 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 8 May 2002 12:20:36 -0700 (PDT)
Subject: [R] increase iteration in weilbull survreg
In-Reply-To: <200205081846.g48Ik0i11166@apicot.dba.ufv.br>
Message-ID: <Pine.A41.4.44.0205081220160.43246-100000@homer21.u.washington.edu>

On Wed, 8 May 2002, Ronaldo Reis Jr. wrote:

> Hi all,
> how to increase the number of interations in an weilbull survreg model.

Use the control= argument, and see help(survreg.control) to see how to set
it.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Wed May  8 21:22:05 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Wed, 8 May 2002 19:22:05 +0000
Subject: [R] Problem
In-Reply-To: <000a01c1f6b3$d02132a0$e76fabd4@c1j6i4>; from lodinoto@tin.it on Wed, May 08, 2002 at 07:14:27PM +0200
References: <000a01c1f6b3$d02132a0$e76fabd4@c1j6i4>
Message-ID: <20020508192205.A22381@camille.indigoindustrial.co.nz>

On Wed, May 08, 2002 at 07:14:27PM +0200, Tomei Lodino wrote:
> Hi! This is the situation.
...
> m1<-read.table("data",fill=TRUE,header=FALSE)
> m2<-read.table("query.txt)
> qvals<-levels(m2[[3]])
> m1<-m1[m1[,1]%in%qvals,]
> relnodes<-apply(m1,1,function(x)sum(x%in%qvals))
> m1<-m1[relnodes>1,]
> m1b<-as.list(as.data.frame(t(as.matrix(m1))))
> m1c<-lapply(m1b,function(x)as.character(x[x%in%qvals]))
...
> Everytime I take a
> file, I call it m1 and I go on. When I obtain an output, a write
> unione<-(unione,m1c) to update the output given before. (before starting the
> first time I do unione<-NULL)

I'm not sure what unione <- (unione,m1c) was meant to be, but it's
a syntax error on my system.  list(unione,m1c), perhaps?

...
> Summarizing I have to do 100 times the lines written before, changing
> everytime the name of the external file.
> All the files are in the same directory. The file in m2 is the same for all
> the iterations and so I have not to change it.
> The names of the files are "dataa","datab","datac",...

Easiest way is to get the names of the data files in on long
vector, and do your loop over that.

If you run this command in the directory with the data files, try 
something like...

my.data.files <- list.files(pattern="^data")
for(fl in my.data.files) {
	m1<-read.table(fl,fill=TRUE,header=FALSE)
	...
	unione <- list(unione,m1c)
}

(assuming "list" was what you meant)

The pattern="^data" meas "file names starting with 'data'".

There are other ways.  You could also try

my.data.files <- list.files(pattern="^data")
unione <- apply(as.matrix(my.data.files),1,
	function(fl,...) {
		m1<-read.table(fl,fill=TRUE,header=FALSE)
		...
	})

This will make a list for you.  I find the *apply functions
very handy for that reason (among many others) - the creation and 
bookkeeping of data structures is done for you.

You should also read the help page for "try" - in case some of
the data files aren't really data files (bad names, corrupted, etc).
This way, the loop won't stop if you encounter an error with
read.table on one file
 
Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hkimscil at scils.rutgers.edu  Wed May  8 23:01:49 2002
From: hkimscil at scils.rutgers.edu (hkimscil)
Date: Wed, 8 May 2002 17:01:49 -0400
Subject: [R], Netlogit
Message-ID: <007101c1f6d3$9239d300$4c16e6a5@jetsky>

Hello -

I have a problem of getting output from a logit test (network). The command, "summary" would  not finish its report; because of an obscure error...

I have a stack of network graphs, which are arrayed as follows
== description starts here.
#### graphs structure
> rrel<-array(dim=c(4,69,69))
> rrel[1,,]<-aspRel
> rrel[2,,]<-aspArea
> rrel[3,,]<-aspCrowding
> rrel[4,,]<-aspSharing
### Then do logit test
rrel.logit.qap<-netlogit(rrel[1,,],rrel[c(8,3,4),,],nullhyp="qap",reps=10)
### check the result
summary(rrel.logit.qap)

The summary output is terminated with an error sign as follows

coefficients stuffs ........
Goodness of fitness .........
chi-square ............
         Actual
Predicted      0     1
        0   4564   128
Error in cat("\n        Total Fraction Correct:", (n$ctable[1, 1] + n$ctable[2,  : 
        subscript out of bounds
==== description ends here.

I think it has a problem in rendering the second prediction line? I'd appreciate any help!

-hyo
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From niels.waller at vanderbilt.edu  Thu May  9 03:24:22 2002
From: niels.waller at vanderbilt.edu (Niels Waller)
Date: Wed, 8 May 2002 20:24:22 -0500
Subject: [R] colored text
Message-ID: <NDBBLLOPOEMNNHONCHBFOEDKCNAA.niels.waller@vanderbilt.edu>





Is there anyway to change the color of the text when using writeLines? I
would like to write a red error message to the screen.

thanks for any leads.

Niels Waller


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Thu May  9 03:17:24 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 08 May 2002 21:17:24 -0400
Subject: [R] printing from graphics window in R-1.5.0 on WinNT
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC2B7@usrymx10.merck.com>

Thanks very much, Prof. Ripley.  I will give that a try.  As my colleague
Bill Pikounis said in a private message, you never cease to amaze us!

Regards,
Andy

> -----Original Message-----
> From: Prof Brian D Ripley [mailto:ripley at stats.ox.ac.uk]
> Sent: Wednesday, May 08, 2002 4:05 AM
> To: Liaw, Andy
> Cc: 'r-help at stat.math.ethz.ch'
> Subject: Re: [R] printing from graphics window in R-1.5.0 on WinNT
> 
> 
> On Tue, 7 May 2002, Liaw, Andy wrote:
> 
> > I've encountered a problem using R-1.5.0 compiled from 
> source on WinNT4.  If
> > I make a plot on the windows graphics device, and then 
> select "File ->
> > Print...", nothing happens.  (I'd expect to see a printer 
> selection dialog
> > box opened, which is what happens with R-1.4.1 and earlier 
> compiled from
> > source.)  Doing ctrl-p doesn't work either.  Copying to 
> clipboard, etc.
> > still works.
> >
> > Has anyone experienced the same thing?  Any hints?
> 
> This has been tracked down and is fixed in R-patched.
> 
> In general we would encourage people building from source to 
> use R-patched
> (perhaps most easily via R-sync, but there are daily 
> snapshots).  There are
> a number of bug fixes/workarounds found whilst 1.5.0 was in 
> code-freeze, as
> well as fixes for others reported since.  Not only do you get 
> better code
> but also we gain from the experience of people using the patched code.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu May  9 04:05:56 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 08 May 2002 19:05:56 -0700
Subject: [R] Suggestions for poor man's parallel processing
In-Reply-To: <15577.7675.512814.805772@gargle.gargle.HOWL>
References: <15577.7675.512814.805772@gargle.gargle.HOWL>
Message-ID: <87u1pikrcr.fsf@jeeves.blindglobe.net>

Yes, RPVM is annoying to startup, however, there are higher level
functions that are coming (parallel apply), that might help justify
the effort.  Better yet, they are wrappers that hopefully will be
sitting on top of RPVM, or RMPI (via the LAM MPI implementaation), and
incorporate a prarllel pRNG for assurance of minimum quality.
(RSPRNG, a wrapper to the SPRNG library)

Coming soon (no set release date planned yet) to a CRAN archive near
you (the package is called SNOW, by Luke Tierney).

>>>>> "david" == David Kane <David Kane" <a296180 at mica.fmr.com> writes:

    david> Almost all of the heavy crunching I do in R is like:
    >> for(i in long.list){
    david> + do.something(i)
    david> + }
    >> collect.results()

    david> Since all the invocations of do.something are independent of one another, there
    david> is no reason that I can't run them in parallel. Since my machine has four
    david> processors, a natural way to do this is to divide up long.list into 4 pieces
    david> and then start 4 jobs, each of which would process 1/4 of the items. I could
    david> then wait for the four jobs to finish (waiting for tag files and the like),
    david> collect the results, and go on my happy way. I might do this all within R
    david> (using system calls to fork off other R processes?) or by using Perl as a
    david> wrapper.

    david> But surely there are others that have faced and solved this problem already! I
    david> do not *think* that I want to go into the details of RPVM since my needs are so
    david> limitted. Does anyone have any advice for me? Various postings to R-help have
    david> hinted at ideas, but I couldn't find anything definitive. I will summarize for
    david> the list.

    david> To the extent that it matters:

    >> R.version
    david>          _                   
    david> platform sparc-sun-solaris2.6
    david> arch     sparc               
    david> os       solaris2.6          
    david> system   sparc, solaris2.6   
    david> status                       
    david> major    1                   
    david> minor    5.0                 
    david> year     2002                
    david> month    04                  
    david> day      29                  
    david> language R                   


    david> Regards,

    david> Dave Kane
    david> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    david> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
    david> Send "info", "help", or "[un]subscribe"
    david> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
    david> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my friday location is usually completely unpredictable.)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May  9 08:20:58 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 9 May 2002 07:20:58 +0100 (BST)
Subject: [R] colored text
In-Reply-To: <NDBBLLOPOEMNNHONCHBFOEDKCNAA.niels.waller@vanderbilt.edu>
Message-ID: <Pine.GSO.4.44.0205090714220.16041-100000@auk.stats>

On Wed, 8 May 2002, Niels Waller wrote:

> Is there anyway to change the color of the text when using writeLines? I
> would like to write a red error message to the screen.

This depends on the platform, and possibly the terminal type.  If the
`screen' supports ANSI escape sequences to change colour, you could use
those.

My guess is that you mean Rgui.  That only supports two colors of text for
input and output, and that is not accessible to the user.

>
> thanks for any leads.
>
> Niels Waller
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r_stuff_online at hotmail.com  Thu May  9 14:27:07 2002
From: r_stuff_online at hotmail.com (Neil Osborne)
Date: Thu, 09 May 2002 12:27:07 +0000
Subject: [R] Help on creating custom financial time series graphs
Message-ID: <F94RiVUH7qDEoHin7kQ0000e0af@hotmail.com>

I have written a series of C modules that produce various custom (technical 
analysis) graphs when presented with a financial time series. The code was 
developed on the Win2K and so makes many now level function calls to the GDI 
etc, and is very tightly wedded to the Win2k windowing system. I notice 
however, that most of the graphing functionality in R (at least on the 
Windows OS) is handled by GraphApp

This is the dillema I face:

Do I scrap the existing code and start from "afresh" (Please don't say yes 
to this ! ;0)

How Can I "merge" my code into R with the minimum of fuss ?


If I have to start from afresh, I would like to know how easy it is to 
draw/create graphs in R.

Many thanks in advance

_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From klavan at tiscalinet.it  Thu May  9 16:26:21 2002
From: klavan at tiscalinet.it (Ambrosini Alessandro)
Date: Thu, 9 May 2002 16:26:21 +0200
Subject: [R] Problem
Message-ID: <PPEGLLABFLFCJDLCGPGHGEJOCAAA.klavan@tiscalinet.it>

Hello.
I have a lot of external file, more or less 1000. Everyone has this form:

a b c d
d f g h
c v n b
   .
   .
   .

I have another file called "query", made in this way

x1 0 a
x1 0 n
x1 0 s
x1 0 c
   .
   .
   .

I have this procedure:

all.file.names<-list.files(pattern="^out")
m2 <- read.table("query.txt")
qvals<-levels(m2[[3]])
unione<-list()

for (filename in all.file.names){
  m1<-read.table(filename,fill=TRUE,header=FALSE)
  m1<-m1[m1[,1]%in%qvals,]
  relnodes<-apply(m1,1,function(x)sum(x%in%qvals))
  m1<-m1[relnodes>1,]
  m1b<-as.list(as.data.frame(t(as.matrix(m1))))
  m1c<-lapply(m1b,function(x)as.character(x[x%in%qvals]))
  unione[[filename]]<-m1c
}

It takes the first column of the first type of file and the third column of
the file "query", it makes a comparison and give me a list that has only the
lines of the first file that has got the first element of the row that is
present also in the third column of file "query. It goes on taking lines
that has at least two elements for row that appears in "query". I have to do
it for all my 1000 files and so I use the command "for".
At the end I add all the lines that I found:

x<-do.call("c", unione)

The PROBLEM is this: when there is no word of the first column of the first
file that is also in the third column of "query",  after
"m1<-m1[relnodes>1,]" it apperas "subscript out of bounds" and my output is
always NULL even if I know that there would be some lines.
I want to ask you if there is a way, using "for", to make the comparison of
the 1000 files with the "query" and to obtain a vector that contains the
names of the file that have at least a line with the first element that
match with "query".

SUMMARIZING: if the file has some first elements of some row that appears in
"query", then put it in a list of files that I will use in the future. If
there is no element, don't consider this file.

Thank you
Alessamdro



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rg117 at ohm.york.ac.uk  Thu May  9 16:43:30 2002
From: rg117 at ohm.york.ac.uk (Rishabh Gupta)
Date: Thu, 9 May 2002 15:43:30 +0100
Subject: [R] tree vs rpart vs randomforest
Message-ID: <000701c1f767$e31ceb60$35892090@ohm.york.ac.uk>

Hi all,
    I have been looking at the different packages and function that R has for performing classification analysis. I've had a look at
tree, rpart and randomforest. I was just wondering what is the difference between all these different packages and what is the best
application for each if there is one. I must admit, I had more success using tree rather than rpart although I don't know why it
worked better.
Could somebody give me an idea of what are the main differences and which package is better for what application. Your help would be
greatly appreciated.

Many Thanks

Rishabh

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Thu May  9 16:46:12 2002
From: macq at llnl.gov (Don MacQueen)
Date: Thu, 9 May 2002 07:46:12 -0700
Subject: [R] Help on creating custom financial time series graphs
In-Reply-To: <F94RiVUH7qDEoHin7kQ0000e0af@hotmail.com>
References: <F94RiVUH7qDEoHin7kQ0000e0af@hotmail.com>
Message-ID: <p05111701b90038c40583@[128.115.153.6]>

You haven't mentioned why you're considering R in the first place. 
For example, if you're planning to stay on the Win2K platform, the 
easiest approach is probably to call your C modules from within R. 
Since you know C, you probably won't find that to be too difficult. 
On the other hand, if you're interested in R because you want to move 
to some other platform (Linux, unix, Mac OS X), or want the freedom 
of moving easily between platforms, then your C may not be easily 
ported, in which case it's probably better to start afresh.

I think most R users would say it is very easy to draw/create graphs 
in R. And indeed it is, for many kinds of graphs. But financial 
graphs are somewhat specialized. The difficulty will depend on what 
kind of customization you need. For example, if you have daily 
closings, and want to graph them with Saturdays and Sundays omitted 
from the graphs, and the gaps between Friday and Monday reduced, then 
you have some significant customization to do. It definitely can be 
done in R but you may not find to be easy (especially at first). With 
that particular example in mind, however, I would bet that whatever 
methods you used to construct the time axis could be implemented in R 
fairly easily.

Hope this helps
-Don

At 12:27 PM +0000 5/9/02, Neil Osborne wrote:
>I have written a series of C modules that produce various custom 
>(technical analysis) graphs when presented with a financial time 
>series. The code was developed on the Win2K and so makes many now 
>level function calls to the GDI etc, and is very tightly wedded to 
>the Win2k windowing system. I notice however, that most of the 
>graphing functionality in R (at least on the Windows OS) is handled 
>by GraphApp
>
>This is the dillema I face:
>
>Do I scrap the existing code and start from "afresh" (Please don't 
>say yes to this ! ;0)
>
>How Can I "merge" my code into R with the minimum of fuss ?
>
>
>If I have to start from afresh, I would like to know how easy it is 
>to draw/create graphs in R.
>
>Many thanks in advance
>
>_________________________________________________________________
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r_stuff_online at hotmail.com  Thu May  9 17:15:15 2002
From: r_stuff_online at hotmail.com (Neil Osborne)
Date: Thu, 09 May 2002 15:15:15 +0000
Subject: [R] Help on creating custom financial time series graphs
Message-ID: <F20CVjzoQHvGcselsed0000d9c2@hotmail.com>

Hmmm,

Not quite the response I was hoping for ;0(

I chose R because of the cross platform capability. But I think it will be 
too difficult to re-write my functions in R.

Basically, the porting from Win32 GDI API won't be to GraphApp will not be 
too difficult if any one can help with one of the ff:

1. GraphApp to Win32 GDI func mapping (this would REALLY help)
2. A way to access the handle to a Graph Window (is this a HWND struct ?)
3. How to write an R extension (I hear this is unnecessarily difficult to 
implement) that draws to the screen

Any help will be appreciated

MAny Thanks


>From: Don MacQueen <macq at llnl.gov>
>To: "Neil Osborne" <r_stuff_online at hotmail.com>, r-help at stat.math.ethz.ch
>Subject: Re: [R] Help on creating custom financial time series graphs
>Date: Thu, 9 May 2002 07:46:12 -0700
>
>You haven't mentioned why you're considering R in the first place.
>For example, if you're planning to stay on the Win2K platform, the
>easiest approach is probably to call your C modules from within R.
>Since you know C, you probably won't find that to be too difficult.
>On the other hand, if you're interested in R because you want to move
>to some other platform (Linux, unix, Mac OS X), or want the freedom
>of moving easily between platforms, then your C may not be easily
>ported, in which case it's probably better to start afresh.
>
>I think most R users would say it is very easy to draw/create graphs
>in R. And indeed it is, for many kinds of graphs. But financial
>graphs are somewhat specialized. The difficulty will depend on what
>kind of customization you need. For example, if you have daily
>closings, and want to graph them with Saturdays and Sundays omitted
>from the graphs, and the gaps between Friday and Monday reduced, then
>you have some significant customization to do. It definitely can be
>done in R but you may not find to be easy (especially at first). With
>that particular example in mind, however, I would bet that whatever
>methods you used to construct the time axis could be implemented in R
>fairly easily.
>
>Hope this helps
>-Don
>
>At 12:27 PM +0000 5/9/02, Neil Osborne wrote:
>>I have written a series of C modules that produce various custom
>>(technical analysis) graphs when presented with a financial time
>>series. The code was developed on the Win2K and so makes many now
>>level function calls to the GDI etc, and is very tightly wedded to
>>the Win2k windowing system. I notice however, that most of the
>>graphing functionality in R (at least on the Windows OS) is handled
>>by GraphApp
>>
>>This is the dillema I face:
>>
>>Do I scrap the existing code and start from "afresh" (Please don't
>>say yes to this ! ;0)
>>
>>How Can I "merge" my code into R with the minimum of fuss ?
>>
>>
>>If I have to start from afresh, I would like to know how easy it is
>>to draw/create graphs in R.
>>
>>Many thanks in advance
>>
>>_________________________________________________________________
>>
>>
>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>r-help mailing list -- Read 
>>http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>Send "info", "help", or "[un]subscribe"
>>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>
>--
>--------------------------------------
>Don MacQueen
>Environmental Protection Department
>Lawrence Livermore National Laboratory
>Livermore, CA, USA
>--------------------------------------


_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at stat.umn.edu  Thu May  9 17:20:24 2002
From: luke at stat.umn.edu (Luke Tierney)
Date: Thu, 9 May 2002 10:20:24 -0500
Subject: [R] Suggestions for poor man's parallel processing
In-Reply-To: <15577.7675.512814.805772@gargle.gargle.HOWL>; from a296180@mica.fmr.com on Wed, May 08, 2002 at 08:45:47AM -0400
References: <15577.7675.512814.805772@gargle.gargle.HOWL>
Message-ID: <20020509102023.A27933@nokomis.stat.umn.edu>

I've been working on a simple interface for this sort of thing modeled
loosely on the Python CoW (Cluster of Workstations) package.  A rough
draft writeup with a link to the preliminary package is at
http://www.stat.umn.edu/~luke/R/cluster/cluster.html. The idea is to
provide a very simple front end for handling things like farming out
simulations to a bunch of machines (or a bunch of processors on one
machine) and collecting the results.  The communications back ends
that are supported are sockets or pvm via Michael Li and Tony
Rossini's rpvm; mpi via Hao Yu's Rmpi should be eventually possible as
well.  Michael and Tony's rsprng is also supported.  It's very rough,
but I won't get to cleaning it up for a week or two at least, so if
anyone wants to play with it in the mean time, go ahead.

luke

On Wed, May 08, 2002 at 08:45:47AM -0400, David Kane  <David Kane wrote:
> Almost all of the heavy crunching I do in R is like:
> 
> > for(i in long.list){
> + do.something(i)
> + }
> > collect.results()
> 
> Since all the invocations of do.something are independent of one another, there
> is no reason that I can't run them in parallel. Since my machine has four
> processors, a natural way to do this is to divide up long.list into 4 pieces
> and then start 4 jobs, each of which would process 1/4 of the items. I could
> then wait for the four jobs to finish (waiting for tag files and the like),
> collect the results, and go on my happy way. I might do this all within R
> (using system calls to fork off other R processes?) or by using Perl as a
> wrapper.
> 
> But surely there are others that have faced and solved this problem already! I
> do not *think* that I want to go into the details of RPVM since my needs are so
> limitted. Does anyone have any advice for me? Various postings to R-help have
> hinted at ideas, but I couldn't find anything definitive. I will summarize for
> the list.
> 
> To the extent that it matters:
> 
> > R.version
>          _                   
> platform sparc-sun-solaris2.6
> arch     sparc               
> os       solaris2.6          
> system   sparc, solaris2.6   
> status                       
> major    1                   
> minor    5.0                 
> year     2002                
> month    04                  
> day      29                  
> language R                   
> 
> 
> Regards,
> 
> Dave Kane
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Thu May  9 18:59:44 2002
From: ernesto at ipimar.pt (Ernesto Jardim)
Date: 09 May 2002 17:59:44 +0100
Subject: [R] Trim function ?
Message-ID: <1020963584.4887.4.camel@gandalf>

Hi

I've imported some data from a oracle database and the strings have a
lot of blank space (because of the delimiter). I want to remove these
blanks space with something similar to a trim function.

I don't find a trim function or something similar. Can someone give a
help on this ?

Thanks

EJ



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From scott.ctr.summerill at tc.faa.gov  Thu May  9 17:56:46 2002
From: scott.ctr.summerill at tc.faa.gov (scott.ctr.summerill@tc.faa.gov)
Date: Thu, 9 May 2002 11:56:46 -0400
Subject: [R] truncated normal
Message-ID: <OF4CF52A55.D1E39EC8-ON85256BB4.005750DC@faa.gov>

Does anyone know of an R-function that will generate an observation from a
truncated normal (left or right) with a mu and sigma2? Any correspondence
would be greatly appreciated.

Best regards, Scott Summerill

FAA ACB-330
SIGNAL Corp.
609-485-6377
scott.ctr.summerill at tc.faa.gov

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu May  9 17:59:22 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 09 May 2002 10:59:22 -0500
Subject: [R] Trim function ?
In-Reply-To: <1020963584.4887.4.camel@gandalf>
References: <1020963584.4887.4.camel@gandalf>
Message-ID: <6r8z6tpb1h.fsf@franz.stat.wisc.edu>

Ernesto Jardim <ernesto at ipimar.pt> writes:

> Hi
> 
> I've imported some data from a oracle database and the strings have a
> lot of blank space (because of the delimiter). I want to remove these
> blanks space with something similar to a trim function.
> 
> I don't find a trim function or something similar. Can someone give a
> help on this ?

If you want to remove trailing blanks you can use sub with the regular
expression ' +$'. 

> str = 'Now is the time      '
> sub(' +$', '', str, extended = TRUE)
[1] "Now is the time"

I had hoped you could use '\s+$' or '\\s+$' but that doesn't seem to
work.  I guess we would need the perl regular expression library, of
which there has been some discussion, to do that.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May  9 18:05:51 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 9 May 2002 17:05:51 +0100 (BST)
Subject: [R] Trim function ?
In-Reply-To: <1020963584.4887.4.camel@gandalf>
Message-ID: <Pine.LNX.4.31.0205091658240.1914-100000@gannet.stats>

On 9 May 2002, Ernesto Jardim wrote:

> I've imported some data from a oracle database and the strings have a
> lot of blank space (because of the delimiter). I want to remove these
> blanks space with something similar to a trim function.
>
> I don't find a trim function or something similar. Can someone give a
> help on this ?

sub() can do this (and far, far more).  Do you want to trim leading or
trailing spaces or all spaces or what.  For trailing spaces
sub(" +$", "", x)

will do what you want.  For spaces both ends and no embedded spaces
sub(" *([^ ]+) *", "\\1", x)

and so on.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May  9 18:09:51 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 9 May 2002 17:09:51 +0100 (BST)
Subject: [R] Trim function ?
In-Reply-To: <6r8z6tpb1h.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.LNX.4.31.0205091706480.1914-100000@gannet.stats>

On 9 May 2002, Douglas Bates wrote:

> Ernesto Jardim <ernesto at ipimar.pt> writes:
>
> > Hi
> >
> > I've imported some data from a oracle database and the strings have a
> > lot of blank space (because of the delimiter). I want to remove these
> > blanks space with something similar to a trim function.
> >
> > I don't find a trim function or something similar. Can someone give a
> > help on this ?
>
> If you want to remove trailing blanks you can use sub with the regular
> expression ' +$'.
>
> > str = 'Now is the time      '
> > sub(' +$', '', str, extended = TRUE)
> [1] "Now is the time"
>
> I had hoped you could use '\s+$' or '\\s+$' but that doesn't seem to
> work.  I guess we would need the perl regular expression library, of
> which there has been some discussion, to do that.

In today's R-devel
> sub('\\s+$', '', str, perl = TRUE)
[1] "Now is the time"

but as it was literally added a few hours ago, don't expect it to have
bedded down yet.  (I have support under Windows, but no connectivity to
commit it at present.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Thu May  9 19:26:05 2002
From: ernesto at ipimar.pt (Ernesto Jardim)
Date: 09 May 2002 18:26:05 +0100
Subject: [R] Trim function ?
In-Reply-To: <Pine.LNX.4.31.0205091658240.1914-100000@gannet.stats>
References: <Pine.LNX.4.31.0205091658240.1914-100000@gannet.stats>
Message-ID: <1020965165.4887.13.camel@gandalf>

Hi

I did it in linux using:

cat file.blanks | tr -d '[:blank:]' | cat > file.noblanks

The rational is the same.

Thanks.

EJ

On Thu, 2002-05-09 at 17:05, ripley at stats.ox.ac.uk wrote:
> On 9 May 2002, Ernesto Jardim wrote:
> 
> > I've imported some data from a oracle database and the strings have a
> > lot of blank space (because of the delimiter). I want to remove these
> > blanks space with something similar to a trim function.
> >
> > I don't find a trim function or something similar. Can someone give a
> > help on this ?
> 
> sub() can do this (and far, far more).  Do you want to trim leading or
> trailing spaces or all spaces or what.  For trailing spaces
> sub(" +$", "", x)
> 
> will do what you want.  For spaces both ends and no embedded spaces
> sub(" *([^ ]+) *", "\\1", x)
> 
> and so on.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Thu May  9 19:29:05 2002
From: ernesto at ipimar.pt (Ernesto Jardim)
Date: 09 May 2002 18:29:05 +0100
Subject: [R] Trim function ?
In-Reply-To: <Pine.LNX.4.31.0205091706480.1914-100000@gannet.stats>
References: <Pine.LNX.4.31.0205091706480.1914-100000@gannet.stats>
Message-ID: <1020965345.5752.19.camel@gandalf>

Hi

Do this means that we'll be able to use perl inside R ? If so, is it on
the source code or we have to have perl on the system ?

Regards

EJ

On Thu, 2002-05-09 at 17:09, ripley at stats.ox.ac.uk wrote:
> On 9 May 2002, Douglas Bates wrote:
> 
> > Ernesto Jardim <ernesto at ipimar.pt> writes:
> >
> > > Hi
> > >
> > > I've imported some data from a oracle database and the strings have a
> > > lot of blank space (because of the delimiter). I want to remove these
> > > blanks space with something similar to a trim function.
> > >
> > > I don't find a trim function or something similar. Can someone give a
> > > help on this ?
> >
> > If you want to remove trailing blanks you can use sub with the regular
> > expression ' +$'.
> >
> > > str = 'Now is the time      '
> > > sub(' +$', '', str, extended = TRUE)
> > [1] "Now is the time"
> >
> > I had hoped you could use '\s+$' or '\\s+$' but that doesn't seem to
> > work.  I guess we would need the perl regular expression library, of
> > which there has been some discussion, to do that.
> 
> In today's R-devel
> > sub('\\s+$', '', str, perl = TRUE)
> [1] "Now is the time"
> 
> but as it was literally added a few hours ago, don't expect it to have
> bedded down yet.  (I have support under Windows, but no connectivity to
> commit it at present.)
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May  9 18:19:19 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 9 May 2002 17:19:19 +0100 (BST)
Subject: [R] Trim function ?
In-Reply-To: <1020965345.5752.19.camel@gandalf>
Message-ID: <Pine.LNX.4.31.0205091717090.1914-100000@gannet.stats>

On 9 May 2002, Ernesto Jardim wrote:

> Do this means that we'll be able to use perl inside R ? If so, is it on
> the source code or we have to have perl on the system ?

It means that grep, sub, gsub, regexpr will be able to use perl-style
regexps.

For Perl inside R or v.v see the Omegahat package: RSPerl as I recall.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu May  9 18:26:04 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 09 May 2002 11:26:04 -0500
Subject: [R] Trim function ?
In-Reply-To: <1020965345.5752.19.camel@gandalf>
References: <Pine.LNX.4.31.0205091706480.1914-100000@gannet.stats>
	<1020965345.5752.19.camel@gandalf>
Message-ID: <6rsn51mgo3.fsf@franz.stat.wisc.edu>

Ernesto Jardim <ernesto at ipimar.pt> writes:

> Do this means that we'll be able to use perl inside R ? If so, is it on
> the source code or we have to have perl on the system ?

We were referring to the extended forms of regular expressions allowed
in perl, not to perl itself.

For calling Perl subroutines from R (and S-PLUS) or vice-versa see the
Omegahat packages at www.omegahat.org.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wouter.buytaert at yucom.be  Thu May  9 18:22:03 2002
From: wouter.buytaert at yucom.be (wouter buytaert)
Date: 09 May 2002 11:22:03 -0500
Subject: [R] Rsquared in summary(lm)
Message-ID: <1020961331.1893.11.camel@localhost.ucuenca.edu.ec>


Hello,

I'm doing some linear regression:

>lm<-lm(osas~alp,data)
>summary(lm)

However, the Rsquared in the output of summary() is not the same as the
"standard" Rsquared calculated by spreadsheets, and outlined in
statistical guidebooks, being SSR/SSTO. The output says "multiple
Rsquared", but it is no multiple regression...

What's the difference?

Thanks,

Wouter Buytaert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu May  9 22:16:18 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 9 May 2002 13:16:18 -0700 (PDT)
Subject: [R] truncated normal
In-Reply-To: <OF4CF52A55.D1E39EC8-ON85256BB4.005750DC@faa.gov>
Message-ID: <Pine.A41.4.44.0205091310460.112218-100000@homer41.u.washington.edu>

On Thu, 9 May 2002 scott.ctr.summerill at tc.faa.gov wrote:

> Does anyone know of an R-function that will generate an observation from a
> truncated normal (left or right) with a mu and sigma2? Any correspondence
> would be greatly appreciated.
>

No, but you can do it by inverting the cdf
eg
  rtnorm<-function(n,mu,sigma2,left){
	lp<-pnorm(left)
	u<-lp+(1-lp)*runif(n)
	qnorm(u,m=mu,s=sigma2)
	}

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hkimscil at scils.rutgers.edu  Thu May  9 22:51:10 2002
From: hkimscil at scils.rutgers.edu (hkimscil)
Date: Thu, 9 May 2002 16:51:10 -0400
Subject: [R] Summary of Netlogic problem
Message-ID: <006601c1f79b$5d39b8a0$4c16e6a5@jetsky>

Hello all -

Does netlogit accept fractions as inputs (in indepedent matrix)? If I try the below script, the last line (summary) eradically works; it sometimes works and sometimes not. Besides, when I attempt to do the samething by reading my actual data, "summary" always fail, saying:

"
Error in cat("\n             Total Fraction Correct:", (n$ctable[1, 1] + n$ctable[2,  : 
        subscript out of bounds
"
Does any one know about this????

## script
i<-2
k<-69
x<-rgraph(k,i)
write(x[1,,], file="x1.txt", ncolumns=k)
write(x[2,,], file="x2.txt", ncolumns=k)
y.l<-x[1,,]+4*x[2,,]
y.p<-apply(y.l,c(1,2),function(a){1/(1+exp(-a))})
y<-rgraph(k,tprob=y.p)
write(y, file="y.txt", ncolumns=k)
a1<-matrix(scan("x1.txt"),nrow=k,ncol=k, byrow=T)
a1<-a1*3.212122334
a2<-matrix(scan("x2.txt"),nrow=k,ncol=k, byrow=T)
b<-matrix(scan("y.txt"),nrow=k,ncol=k, byrow=T)
al<-netlogit(b,a1+a2,nullhyp="qap",reps=3)
summary(al)
## script ends

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Thu May  9 23:36:36 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Fri, 10 May 2002 09:36:36 +1200
Subject: [R] Help on creating custom financial time series graphs
References: <F20CVjzoQHvGcselsed0000d9c2@hotmail.com>
Message-ID: <3CDAEBE4.1A0BA42C@stat.auckland.ac.nz>

Hi


> Hmmm,
> 
> Not quite the response I was hoping for ;0(
> 
> I chose R because of the cross platform capability. But I think it will be
> too difficult to re-write my functions in R.
> 
> Basically, the porting from Win32 GDI API won't be to GraphApp will not be
> too difficult if any one can help with one of the ff:
> 
> 1. GraphApp to Win32 GDI func mapping (this would REALLY help)


GraphApp is not used by R for cross-platform graphics.  R has its own
graphics engine.  This has a rough API described in
R/src/include/Rgraphics.h, although this is currently under review. 
This API provides the basic graphical primitives (lines, curves, text,
..) plus some statistics-specific bells and whistles.  Unfortunately, I
don't know the Win32 GDI so I can't provide a mapping.


> 2. A way to access the handle to a Graph Window (is this a HWND struct ?)


I may be missing something, but that wouldn't be cross-platform would
it?


> 3. How to write an R extension (I hear this is unnecessarily difficult to
> implement) that draws to the screen


I think the general support for writing R extensions is pretty good. 
The support for writing R extensions _that draw to the screen_ is not so
good (hence the current review).  Without the Win32 GDI to R graphics
API mapping, this would probably mean quite a bit of work for you.

4.  Rewriting in R.  This could well be a faster option than 3.  If you
like, you could send me (or point me to) an example of the graphs you
are creating and I could try to give you a basic R example that provides
the features you want to implement.

Hope that helps.

Paul
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From shito at seinan-gu.ac.jp  Fri May 10 02:40:35 2002
From: shito at seinan-gu.ac.jp (Wataru Shito)
Date: Fri, 10 May 2002 09:40:35 +0900
Subject: [R] exporting data.frame
Message-ID: <87661w25to.wl@localhost.seinan-gu.ac.jp>

Hello,

Is there any simple command to write the data.frame to the file in the
format of command line input?

For example, I read a table as

  > data <-  read.table() 

and want to write out the 'data' object into my R file as

  data <- data.frame( some.column1=c( 1, 2 ),
                      some.column2=c( 1, 2 )
                      row.names=c("row name1", "row name2" )

so I don't have to type the data again in my library file to provide
demos.

Thank you, in advance.

------------
Wataru Shito

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From htzag at umn.edu  Fri May 10 02:49:00 2002
From: htzag at umn.edu (Charis Tzagarakis)
Date: Thu, 9 May 2002 19:49:00 -0500
Subject: [R] Conflict between 'nlme' and 'methods' on R-1.5.0 ? 
Message-ID: <3CDAD2AC.30695.2506AB@localhost>

Hi there!
I use R with the packages 'nlme' and 'methods'.Upon upgrading to R1.5.0, I got the following 
message when loading nlme (after having loaded 'methods'):
The following object(s) are masked from package:methods :

         initialize 
 After that, when I use my class definitions and scripts(which worked fine in 1.4.1) I get the 
following error message when a new("class") expression is used:
Error in initialize(value, ...) : no applicable method for "initialize"

Clearly the problem arises because 'nlme' contains an 'initialize' function, as does the new 
'methods' package.Is there any workaround?
Thanks!
Charis Tzagarakis



Charidimos Tzagarakis MD
Brain Sciences Center and University of Minnesota.
Address:
Brain Sciences Center (11B)
Minneapolis VA Medical Center
One Veterans Drive
55417 Minneapolis MN
USA
Tel:612-725-2000 ext 1756
email: htzag at umn.edu 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Fri May 10 03:14:00 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Fri, 10 May 2002 13:14:00 +1200 (NZST)
Subject: [R] barplot()
Message-ID: <Pine.SOL.4.21.0205101310540.26677-100000@stat1.stat.auckland.ac.nz>

Hi,

Is it possible to draw barplot with x-axis being shown?  I looked up the
help file and I couldn't seem to find it. 

For example, I tried to do
x <- 1:9
p <- log10(1 + 1/x)
barplot(p, xlab = "Digit d", ylab = "Probability",
        ylim = c(0, 0.35), axes = F,
        main = "Benford's Law Probability")
axis(1, 1:9)
axis(2, seq(0, 0.35, by = 0.05), las = 1)
box()

and it almost worked.  But the x-axis doesn't appear right...

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

Homepage: http://www.stat.auckland.ac.nz/~kwan022

E-mail: kwan022 at stat.auckland.ac.nz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hzi at uol.com.br  Fri May 10 01:07:22 2002
From: hzi at uol.com.br (hzi)
Date: Thu, 09 May 2002 20:07:22 -0300
Subject: [R] [OT] R 1.5 for debian woody
References: <36975CB1FED8D21194930008C7CFA87B04A104E7@gray-exch.amgen.com>
Message-ID: <3CDB012A.8050505@uol.com.br>

Austin, Matt wrote:

>It should not matter if woody is frozen or not, I still compile binaries for
>"potato" on my machine. Someone with a woody installation (and a high-speed
>connection) would need to compile the binaries and submit them to CRAN.
>
>--Matt
>
>-----Original Message-----
>From: Christian T. Steigies [mailto:cts at debian.org]
>Sent: Tuesday, May 07, 2002 10:24 AM
>To: r-help at stat.math.ethz.ch
>Subject: Re: [R] [OT] R 1.5 for debian woody
>
>
>On Tue, May 07, 2002 at 06:55:19PM +0200, Stefano wrote:
>
>>I know, I'm too lazy, but I was wondering when the binary for Linux/Debian
>>Woody will be available. I could find only the version for unstable (Sid).
>>
>
>Probably never, since woody is frozen. Why don't you install the version
>from unstable?
>
>man apt-get
>apt-get -tunstable install r-base
>
>Christian
>
Christian-

    This didn't work on my machine: it says the r-base package is 
already the newest one installed (r-1.4.1).
    Any suggestions?

    TIA
    Regs
    Henry


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From shito at seinan-gu.ac.jp  Fri May 10 03:24:12 2002
From: shito at seinan-gu.ac.jp (Wataru Shito)
Date: Fri, 10 May 2002 10:24:12 +0900
Subject: [R] Rsquared in summary(lm)
In-Reply-To: <1020961331.1893.11.camel@localhost.ucuenca.edu.ec>
References: <1020961331.1893.11.camel@localhost.ucuenca.edu.ec>
Message-ID: <873cx023sz.wl@localhost.seinan-gu.ac.jp>

Hi, Wouter

Actually, I have a similar problem too with a simple regression.  
In my case, not only the R-square but also the estimates of intercept
and coefficient by lm() seem different from the calculation with the
well known formula for a simple regression.

What I used is the following code.  (I have just started to use R last
week so don't blame my inmature code, please!)
Simply,
  > ols1( y, x )
will give you the result of the simple regression.

Wouter, could you try the following code on your data and see whether
that's what you expect or not?

I will appreciate if anyone can give me some advice why this
differenct happens.

Thankk you.

Wataru Shito


-----------------------------------------

# Single Explanatory Variable Least Square Regression
#
library(methods)
# create ols class
setClass("ols", representation
         ( coefficients="list", standard.errors="list",
          r.square="numeric" ))
setMethod("show", "ols",
          function(object)
          {
            # create row names for data.frame
            rownames <- c("(Intercept)", "X")
            # create data.frame
            z <- data.frame( row.names=rownames,
                            Estimate=object at coefficients, Std.Error=object at standard.errors,
                            t.value=t.values )
            cat("\n")
            print(z)
            cat( "\nR-Square:", object at r.square, "\n\n" )
          }
          )

ols1 <- function( y, x ){
  size <- length(x) # number of ovservations
  xbar <- mean(x)
  ybar <- mean(y)
  Sxx <- sum( (x-xbar)^2 )
  b <- sum( (x-xbar)*(y-ybar) )/Sxx # coefficient
  a <- ybar - b*xbar # interception
  e <- y - a - b*x   # residuals
  # SSE (error sum of squares)
  SSE <- sum( e^2 )
  # SST (total sum of squares)
  SST <- sum( (y-ybar)^2 )
  # SSR (regression sum of squares)
  SSR <- b^2 * Sxx
  # Coefficient of determination
  r2 <- SSR / SST
  
  # unbiased estimator of sigma^2
  s.square <- sum(e^2)/(size - 2)
  # standard error for b
  std.error.b <- sqrt( s.square/Sxx )
  # standard error for intercept
  std.error.a <- sqrt( s.square*(1/size + xbar^2/Sxx) )
  standard.errors <- list( intercept=std.error.a, coeficient=std.error.b )
  coefficients <- list( intercept=a, coefficient=b )
  new("ols", coefficients=coefficients, standard.errors=standard.errors, r.square=r2 )
}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Fri May 10 04:20:04 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Thu, 9 May 2002 21:20:04 -0500
Subject: [R] [OT] R 1.5 for debian woody
In-Reply-To: <3CDB012A.8050505@uol.com.br>
References: <36975CB1FED8D21194930008C7CFA87B04A104E7@gray-exch.amgen.com> <3CDB012A.8050505@uol.com.br>
Message-ID: <20020510022003.GA8168@sonny.eddelbuettel.com>

On Thu, May 09, 2002 at 08:07:22PM -0300, hzi wrote:
> >Probably never, since woody is frozen. Why don't you install the version
> >from unstable?
> >
> >man apt-get
> >apt-get -tunstable install r-base
> >
> >Christian
> >
> Christian-
> 
>    This didn't work on my machine: it says the r-base package is 
> already the newest one installed (r-1.4.1).
>    Any suggestions?

Apt needs to know about unstable, so you need to add entries for unstable to
apt's sources.list file.

While you're at it, set up apt pinning to that testing is still preferred
over unstable. This is explained in the apt HOWTO, see e.g. 

http://debian-br.sourceforge.net/docs/sgml/apt-howto-en/online/ch-apt-get.html

Dirk

-- 
Good judgement comes from experience; experience comes from bad judgement. 
							    -- Fred Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ken_lee at tynesys.com  Fri May 10 07:33:13 2002
From: ken_lee at tynesys.com (ken_lee)
Date: Fri, 10 May 2002 13:33:13 +0800
Subject: [R] barplot()
In-Reply-To: <Pine.SOL.4.21.0205101310540.26677-100000@stat1.stat.auckland.ac.nz>
Message-ID: <IPECKKKLFINFHEGMEKKGOEIACAAA.ken_lee@tynesys.com>

Dear,
    How about adding names.arg like
      barplot(p, xlab = "Digit d", ylab = "Probability",
        ylim = c(0, 0.35), axes = F,                            names.arg=c(1:9),
        main = "Benford's Law Probability")

Ken


-----Original Message-----
From: owner-r-help at stat.math.ethz.ch [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Ko-Kang Kevin Wang
Sent: Friday, May 10, 2002 9:14 AM
To: R Help
Subject: [R] barplot()


Hi,

Is it possible to draw barplot with x-axis being shown?  I looked up the
help file and I couldn't seem to find it. 

For example, I tried to do
x <- 1:9
p <- log10(1 + 1/x)
barplot(p, xlab = "Digit d", ylab = "Probability",
        ylim = c(0, 0.35), axes = F,
        main = "Benford's Law Probability")
axis(1, 1:9)
axis(2, seq(0, 0.35, by = 0.05), las = 1)
box()

and it almost worked.  But the x-axis doesn't appear right...

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

Homepage: http://www.stat.auckland.ac.nz/~kwan022

E-mail: kwan022 at stat.auckland.ac.nz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri May 10 08:44:58 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 10 May 2002 08:44:58 +0200
Subject: [R] exporting data.frame
References: <87661w25to.wl@localhost.seinan-gu.ac.jp>
Message-ID: <3CDB6C6A.1F9A2DD9@statistik.uni-dortmund.de>



Wataru Shito wrote:
> 
> Hello,
> 
> Is there any simple command to write the data.frame to the file in the
> format of command line input?
> 
> For example, I read a table as
> 
>   > data <-  read.table()
> 
> and want to write out the 'data' object into my R file as
> 
>   data <- data.frame( some.column1=c( 1, 2 ),
>                       some.column2=c( 1, 2 )
>                       row.names=c("row name1", "row name2" )
> 
> so I don't have to type the data again in my library file to provide
> demos.


The recommended way to make data available is to use the data()
construct.
If you want to avoid it, you can assign the data.frame to a variable
name (the name "data" isn't a good idea, because data() is already a
function) as you described above, e.g. put it in a file "zzz.R".

This is described exactly in the manual "Writing R Extensions" in
chapter 1, particularly see section 1.1.3.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Fri May 10 08:46:38 2002
From: siim at obs.ee (Ott Toomet)
Date: Fri, 10 May 2002 08:46:38 +0200 (CEST)
Subject: [R] Problem
In-Reply-To: <PPEGLLABFLFCJDLCGPGHGEJOCAAA.klavan@tiscalinet.it>
Message-ID: <Pine.LNX.4.44.0205100843100.1371-100000@localhost.localdomain>

Hi,

On Thu, 9 May 2002, Ambrosini Alessandro wrote:
  |for (filename in all.file.names){
  |  m1<-read.table(filename,fill=TRUE,header=FALSE)
  |  m1<-m1[m1[,1]%in%qvals,]

Cannot you simly check here if there is any rows left in m1?  E.g. write
something like

if(rows(df1) == 0) next

  |  relnodes<-apply(m1,1,function(x)sum(x%in%qvals))
  |  m1<-m1[relnodes>1,]
  |  m1b<-as.list(as.data.frame(t(as.matrix(m1))))
  |  m1c<-lapply(m1b,function(x)as.character(x[x%in%qvals]))
  |  unione[[filename]]<-m1c
  |}


Perhaps it helps.

Ott

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From virusmaster at ict-se.fr  Fri May 10 09:47:14 2002
From: virusmaster at ict-se.fr (virusmaster@ict-se.fr)
Date: Fri, 10 May 2002 09:47:14 +0200
Subject: [R] InterScan NT Alert
Message-ID: <200205100755.JAA01378@stat.math.ethz.ch>

ICT a détecté un virus dans votre message

Date:  	Fri, 10 May 2002 09:47:14 +0200
Method:	Mail
From:  	<lrenard at mairie-lyon.fr>
To:    	r-help at lists.r-project.org
File:  	href.bat
Action:	clean failed - deleted
Virus: 	WORM_KLEZ.H 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HStevens at muohio.edu  Fri May 10 11:07:47 2002
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Fri, 10 May 2002 05:07:47 -0400
Subject: [R] lattice: labelling shingles
Message-ID: <5.1.0.14.2.20020510050217.02bace20@po.muohio.edu>

How do I control the text in strips? Specifically, I want to put in the 
ranges generated in shingle(x) where x is continuous.
Thanks,
Hank

Martin Henry H. Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.muohio.edu/~botcwis/bot/henry.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HStevens at muohio.edu  Fri May 10 11:59:12 2002
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Fri, 10 May 2002 05:59:12 -0400
Subject: [R] expression in lattice
Message-ID: <5.1.0.14.2.20020510055721.05ca6008@po.muohio.edu>

After checking the usual archives (Baron search engine) I came up nothing.
It appears that ylab=expression() doesn't work in lattice? How do I put 
superscripts in ylab?
Many Thanks,
Hank

Martin Henry H. Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.muohio.edu/~botcwis/bot/henry.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Fri May 10 13:11:46 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Fri, 10 May 2002 13:11:46 +0200 (MEST)
Subject: [R] expression in lattice
In-Reply-To: <5.1.0.14.2.20020510055721.05ca6008@po.muohio.edu>
Message-ID: <Pine.LNX.4.21.0205101309120.12152-100000@artemis.imbe.med.uni-erlangen.de>


> After checking the usual archives (Baron search engine) I came up nothing.
> It appears that ylab=expression() doesn't work in lattice? How do I put 
> superscripts in ylab?

this was on r-help on April 16th (Re: [R] symbols in lattice): grid does
not support mathplot by now. You may want to use psfrag (see
http://lark.cc.ukans.edu/~pauljohn/R/statsRus.html, Section 5.5)

Torsten

> Many Thanks,
> Hank
> 
> Martin Henry H. Stevens, Assistant Professor
> 338 Pearson Hall
> Botany Department
> Miami University
> Oxford, OH 45056
> 
> Office: (513) 529-4206
> Lab: (513) 529-4262
> FAX: (513) 529-4243
> http://www.muohio.edu/~botcwis/bot/henry.html
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From juli at ceam.es  Fri May 10 15:13:54 2002
From: juli at ceam.es (juli g. pausas)
Date: Fri, 10 May 2002 14:13:54 +0100
Subject: [R] RODBC for importing dbf
Message-ID: <3CDBC792.1261FAC9@ceam.es>

Hi
I know that it is very easy to import data from a dbf file to R, by
saving the data as csv, for instance.
However, I have several hundreds of files to do that. So, I thought of
using RODBC to read the dbf files and save it as data.frame. However, I
cannot even start (this is my first time using such package):

> library(RODBC)
> bdades <- odbcConnect("prova.DBF")
Warning message:
ODBC connection failed in: odbcConnect("prova.DBF")
> dir(pattern="pr")
[1] "prova.DBF"

My idea was to use sqlFetch(bdades) to create an R data.frame.
I'm using R on Windows. I can open the file prova.DBF with Excel without
any problem.
What I'm doing wrong? Any comment or suggestion will be welcome.
Thanks

Juli




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Fri May 10 14:48:20 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Fri, 10 May 2002 05:48:20 -0700 (PDT)
Subject: [R] lattice: labelling shingles
In-Reply-To: <5.1.0.14.2.20020510050217.02bace20@po.muohio.edu>
Message-ID: <20020510124820.69411.qmail@web13904.mail.yahoo.com>


There isn't an 'easy' way, as far as I can see. You can always write your own
strip function (the arguments it takes is documented in ?strip.default). The
part for shingles in strip.default is short and should be easily modifiable. It
should be something along the lines of :

strip.new <-
    function(which.given,
             which.panel,
             var.name,
             factor.levels,
             shingle.intervals,
             strip.names = c(FALSE, TRUE),
             style = 1,
             bg = trellis.par.get("strip.background")$col[which.given],
             fg = trellis.par.get("strip.shingle")$col[which.given],
             par.strip.text = trellis.par.get("add.text"))
{
    name <- var.name[which.given]
    level <- which.panel[which.given]
    strip.names <- rep(strip.names, length = 2)
    
    if (is.null(factor.levels)) { # means this is a  shingle, as opposed to a  
     
                                  ## factor
        if (is.null(shingle.intervals)) 
           stop("both factor.levels and shingle.intervals cannot be NULL")

        strip.names <- strip.names[2]
        grid.rect(gp = gpar(fill=bg))
        t <- range(shingle.intervals)
        r <- (range(shingle.intervals[level,])-t[1])/diff(t)
        grid.rect(x = unit(r%*%c(.5,.5),"npc"), width = unit(diff(r),"npc"),
                  gp = gpar(col=fg, fill=fg))
        if (strip.names) grid.text(label = paste(shingle.intervals[level,1],
                                   shingle.intervals[level, 2], sep = ' , '),
                                   gp = gpar(col = par.strip.text$col,
                                   font = par.strip.text$font,
                                   fontsize = par.strip.text$cex *
                                   current.viewport()$gp$fontsize))
        
        grid.rect()
    }
    else strip.default(which.given,
                       which.panel,
                       var.name,
                       factor.levels = factor.levels,
                       shingle.intervals = shingle.intervals,
                       strip.names,
                       style,
                       bg,
                       fg,
                       par.strip.text)
}



--- "Martin Henry H. Stevens" <HStevens at muohio.edu> wrote:
> How do I control the text in strips? Specifically, I want to put in the 
> ranges generated in shingle(x) where x is continuous.
> Thanks,
> Hank
> 
> Martin Henry H. Stevens, Assistant Professor
> 338 Pearson Hall
> Botany Department
> Miami University
> Oxford, OH 45056
> 
> Office: (513) 529-4206
> Lab: (513) 529-4262
> FAX: (513) 529-4243
> http://www.muohio.edu/~botcwis/bot/henry.html
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


__________________________________________________

Yahoo! Shopping - Mother's Day is May 12th!

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metafacts.de  Fri May 10 15:00:11 2002
From: c.schulz at metafacts.de (Christian Schulz)
Date: Fri, 10 May 2002 15:00:11 +0200
Subject: [R] prevent surpressing zero frequencies
Message-ID: <3CDBC45B.7030307@metafacts.de>

Hello,
i use the fct. to get the Freq result's, but it's too bad that
the codes which are not used are supressed instead of write a 0 for not 
used 
categories.
( in any way i must say R that codes i.e. from 1:10  are possible ???)

thanks & regards,christian


$Q82
      Count Prcnt
3         2    20
5         2    20
6         2    20
7         1    10
8         3    30
Total    10   100

$Q84
      Count Prcnt
5         1  16.7
6         1  16.7
7         2  33.3
8         2  33.3
Total     6 100.0


Freq <- function(x){
  xmat<-as.matrix(x)
  ifelse (ncol(xmat)==1,{
  Count<-table(x)
  Total<-sum(Count)
  Prcnt<-100*(Count/Total)
  x1<-cbind(Count,Prcnt)
  x2<-cbind(Total,sum(Prcnt))
  Frequency.Table<-as.data.frame(rbind(x1,x2))
  c<-nrow(Frequency.Table)
  rownames(Frequency.Table)[c]<-"Total"
  return(Frequency.Table)}
  ,
  return("Use  apply(data,2,Freq)"))
  }


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 10 15:06:58 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 10 May 2002 14:06:58 +0100 (BST)
Subject: [R] RODBC for importing dbf
In-Reply-To: <3CDBC792.1261FAC9@ceam.es>
Message-ID: <Pine.LNX.4.31.0205101356190.20074-100000@gannet.stats>

On Fri, 10 May 2002, juli g. pausas wrote:

> Hi
> I know that it is very easy to import data from a dbf file to R, by
> saving the data as csv, for instance.
> However, I have several hundreds of files to do that. So, I thought of
> using RODBC to read the dbf files and save it as data.frame. However, I
> cannot even start (this is my first time using such package):
>
> > library(RODBC)
> > bdades <- odbcConnect("prova.DBF")
> Warning message:
> ODBC connection failed in: odbcConnect("prova.DBF")
> > dir(pattern="pr")
> [1] "prova.DBF"
>
> My idea was to use sqlFetch(bdades) to create an R data.frame.
> I'm using R on Windows. I can open the file prova.DBF with Excel without
> any problem.
> What I'm doing wrong? Any comment or suggestion will be welcome.

[Not reading the documentation, not even the help page for odbcConnect.]

ODBC does not open files.  It connects to databases as specified by DSNs.
The first argument of odbcConnect is `dsn', documented as

     dsn: character. A registered data source name.

See the R Data Import/Export Manual and your Windows documentation for how
to configure ODBC sources in the ODBC Control Panel Applet.  Hopefully you
will have one or more ODBC drivers for `dbf files'.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Fri May 10 16:41:21 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Fri, 10 May 2002 10:41:21 -0400
Subject: [R] truncated normal
In-Reply-To: <68969337@toto.iv>
Message-ID: <15579.56337.936220.83731@gargle.gargle.HOWL>

Scott Summerill <scott.ctr.summerill at tc.faa.gov> wrote:
> Does anyone know of an R-function that will generate an observation from a
> truncated normal (left or right) with a mu and sigma2?  Any correspondence
> would be greatly appreciated.

I asked as similar question on S-news a while ago, and this is what I put
together from the replies.  Note "sd" is the standard deviation of the
underlying normal, not of the final truncated distribution.  "lo" and "hi" are
the cutoff points on either side.


rnbnd <- function(N, mn=0, sd=1, lo=-Inf, hi=Inf, tol=3) {
  if (hi-mn < tol*sd || mn-lo < tol*sd)               # Alan Zaslavsky's method
    return(mn + sd * qnorm(runif(N, pnorm((lo-mn)/sd), pnorm((hi-mn)/sd))))
  x <- rep(NA, N)                                     # Rejection method
  bnd <- function(z, lo, hi) ifelse(z<lo | z>hi, NA, z)
  while (any(q <- is.na(x))) x[q] <- bnd(rnorm(sum(q), mn, sd), lo, hi)
  x
}


For efficiency, this function chooses between 2 methods.  If the truncation is
"severe", I generate the distribution from qnorm on a uniform distribution
(thanks originally to Alan Zaslavsky, and this was Thomas Lumley's approach as
well).  If the truncation is not severe (more than 3 sigma out), I use the
rejection method, just throwing out points in the truncated tails.  Good luck!
-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Fri May 10 17:09:43 2002
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Fri, 10 May 2002 17:09:43 +0200
Subject: [R] RODBC for importing dbf
Message-ID: <3CDBFED7.4827.20BB7C4@localhost>

On Fri, 10 May 2002, juli g. pausas wrote:

> Hi
> I know that it is very easy to import data from a dbf file to R, by
> saving the data as csv, for instance. However, I have several hundreds
> of files to do that. So, I thought of using RODBC to read the dbf files
> and save it as data.frame. However, I cannot even start (this is my
> first time using such package):
>
> > library(RODBC)
> > bdades <- odbcConnect("prova.DBF")
> Warning message:
> ODBC connection failed in: odbcConnect("prova.DBF")
> > dir(pattern="pr")
> [1] "prova.DBF"
>
> My idea was to use sqlFetch(bdades) to create an R data.frame.
> I'm using R on Windows. I can open the file prova.DBF with Excel without
> any problem. What I'm doing wrong? Any comment or suggestion will be
> welcome.

You have to go through documentation for RODBC thoroughly.

To use RODBC you need to do some preliminary setting in Windows Control 
Panel and only after that odbcConnect("file") opens a "connection" to a "file".

Than you can use sqlQuery or maybe some other commands to fetch your data to 
R.

But I am a little bit in doubt if it is the easiest way for importing data from several 
hundreds of files. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.- r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help", or
"[un]subscribe" (in the "body", not the subject !)  To:
r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
Petr Pikal
petr.pikal at precheza.cz
p.pik at volny.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri May 10 17:10:49 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 10 May 2002 08:10:49 -0700 (PDT)
Subject: [R] exporting data.frame
In-Reply-To: <87661w25to.wl@localhost.seinan-gu.ac.jp>
Message-ID: <Pine.A41.4.44.0205100809020.108364-100000@homer12.u.washington.edu>

On Fri, 10 May 2002, Wataru Shito wrote:

> Hello,
>
> Is there any simple command to write the data.frame to the file in the
> format of command line input?
>
> For example, I read a table as
>
>   > data <-  read.table()
>
> and want to write out the 'data' object into my R file as
>
>   data <- data.frame( some.column1=c( 1, 2 ),
>                       some.column2=c( 1, 2 )
>                       row.names=c("row name1", "row name2" )
>
> so I don't have to type the data again in my library file to provide
> demos.

The dump() and dput() commands do this.  You could also use save() to save
an R binary file -- these are compatible across platforms and are
compressed to take up less space than dump()s.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Fri May 10 17:22:22 2002
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Fri, 10 May 2002 10:22:22 -0500
Subject: [R] Rsquared in summary(lm)
Message-ID: <OF67973140.5FE71F1A-ON86256BB5.00538B08@mmm.com>


I am not sure where the problem might be and I missed the original message
by Wouter, but here is a simple example I just ran (Win2000, 1.5.0) which
shows no apparent problems.

> x <- c(-3, -1.5, 2, 5, 7, 8)
> y <- c(2, 4, 5, 6, 6, 9)
> sxx <- sum((x-mean(x))^2)
> sxy <-  sum((x-mean(x))*(y-mean(y)))
> bb <- sxy/sxx
> bb
[1] 0.4761517
> aa <- mean(y) - bb*mean(x)
> aa
[1] 3.944558
> ee <- y - aa - bb*x
> sst <- sum((y-mean(y))^2)
> sse <- sum(ee^2)
> ssr <- sst-sse
> ssr/sst
[1] 0.8477822
> summary(lm(y~x))

Call:
lm(formula = y ~ x)

Residuals:
      1       2       3       4       5       6
-0.5161  0.7697  0.1031 -0.3253 -1.2776  1.2462

Coefficients:
            Estimate Std. Error t value Pr(>|t|)
(Intercept)   3.9446     0.5098   7.737  0.00150 **
x             0.4762     0.1009   4.720  0.00917 **
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1

Residual standard error: 1.02 on 4 degrees of freedom
Multiple R-Squared: 0.8478,     Adjusted R-squared: 0.8097
F-statistic: 22.28 on 1 and 4 DF,  p-value: 0.009172

Cheers,

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122


                                                                                                                                               
                    Wataru Shito                                                                                                               
                    <shito at seinan-g      To:     wouter buytaert <wouter.buytaert at yucom.be>                                                    
                    u.ac.jp>             cc:     r-help at stat.math.ethz.ch                                                                      
                                           (bcc: Andrzej P. Jaworski/US-Corporate/3M/US)                                                       
                    05/09/2002           Subject:     Re: [R] Rsquared in summary(lm)                                                          
                    20:24                                                                                                                      
                                                                                                                                               
                                                                                                                                               





Hi, Wouter

Actually, I have a similar problem too with a simple regression.
In my case, not only the R-square but also the estimates of intercept
and coefficient by lm() seem different from the calculation with the
well known formula for a simple regression.

What I used is the following code.  (I have just started to use R last
week so don't blame my inmature code, please!)
Simply,
  > ols1( y, x )
will give you the result of the simple regression.

Wouter, could you try the following code on your data and see whether
that's what you expect or not?

I will appreciate if anyone can give me some advice why this
differenct happens.

Thankk you.

Wataru Shito


-----------------------------------------

# Single Explanatory Variable Least Square Regression
#
library(methods)
# create ols class
setClass("ols", representation
         ( coefficients="list", standard.errors="list",
          r.square="numeric" ))
setMethod("show", "ols",
          function(object)
          {
            # create row names for data.frame
            rownames <- c("(Intercept)", "X")
            # create data.frame
            z <- data.frame( row.names=rownames,
                            Estimate=object at coefficients,
Std.Error=object at standard.errors,
                            t.value=t.values )
            cat("\n")
            print(z)
            cat( "\nR-Square:", object at r.square, "\n\n" )
          }
          )

ols1 <- function( y, x ){
  size <- length(x) # number of ovservations
  xbar <- mean(x)
  ybar <- mean(y)
  Sxx <- sum( (x-xbar)^2 )
  b <- sum( (x-xbar)*(y-ybar) )/Sxx # coefficient
  a <- ybar - b*xbar # interception
  e <- y - a - b*x   # residuals
  # SSE (error sum of squares)
  SSE <- sum( e^2 )
  # SST (total sum of squares)
  SST <- sum( (y-ybar)^2 )
  # SSR (regression sum of squares)
  SSR <- b^2 * Sxx
  # Coefficient of determination
  r2 <- SSR / SST

  # unbiased estimator of sigma^2
  s.square <- sum(e^2)/(size - 2)
  # standard error for b
  std.error.b <- sqrt( s.square/Sxx )
  # standard error for intercept
  std.error.a <- sqrt( s.square*(1/size + xbar^2/Sxx) )
  standard.errors <- list( intercept=std.error.a, coeficient=std.error.b )
  coefficients <- list( intercept=a, coefficient=b )
  new("ols", coefficients=coefficients, standard.errors=standard.errors,
r.square=r2 )
}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri May 10 17:24:58 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 10 May 2002 08:24:58 -0700 (PDT)
Subject: [R] truncated normal
In-Reply-To: <Pine.A41.4.44.0205091310460.112218-100000@homer41.u.washington.edu>
Message-ID: <Pine.A41.4.44.0205100823360.108364-100000@homer12.u.washington.edu>

On Thu, 9 May 2002, Thomas Lumley wrote:

> On Thu, 9 May 2002 scott.ctr.summerill at tc.faa.gov wrote:
>
> > Does anyone know of an R-function that will generate an observation from a
> > truncated normal (left or right) with a mu and sigma2? Any correspondence
> > would be greatly appreciated.
> >
>
> No, but you can do it by inverting the cdf
> eg
>   rtnorm<-function(n,mu,sigma2,left){
> 	lp<-pnorm(left)
> 	u<-lp+(1-lp)*runif(n)
> 	qnorm(u,m=mu,s=sigma2)
> 	}
>

Or actually more like
   rtnorm<-function(n,mu,sigma2,left){
      sigma<-sqrt(sigma2)
       lp<-pnorm(left,m=mu,s=sigma)
       u<-lp+(1-lp)*runif(n)
       qnorm(u,m=mu,s=sigma)
      }

but David Brahm's code is more general

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Fri May 10 17:33:48 2002
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Fri, 10 May 2002 11:33:48 -0400
Subject: [R] Summary of Suggestions for poor man's parallel processing
Message-ID: <15579.59484.818879.593064@gargle.gargle.HOWL>

Thanks to Luke Tierney, Agustin Lobo, Stephen Eglen, A.J. Rossini, Simon Wood
and Timothy H. Keitt for responding to my question about poor man's parallel
processing. Much of the substantive material was cc'ed to r-help already, but
my take is as follows.

1) Currently, there is nothing "simple" for solving my problem.

2) I thought that Timothy Keitt's description of the use of a relational
   database for keeping track of different runs was quite interesting.

3) It seems clear that the "future" of this sort of activity lies with RPVM
   (already available on CRAN) and SNOW by Luke Tierney. I found the
   description of SNOW available at
   http://www.stat.umn.edu/~luke/R/cluster/cluster.html to be intriguing. 

4) Since my needs are so simple, I will probably just hack something together
   myself that involves splitting my big.list into 4 chunks in Perl and then
   starting 4 jobs in R from Perl. Once those jobs are complete, I will then
   start an R job that collects the results. At least that is my current
   plan. I plan to follow the progress of RPVM and SNOW closely.

Thanks to all who responded.

Dave Kane
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Fri May 10 17:52:06 2002
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Fri, 10 May 2002 10:52:06 -0500
Subject: [R] updata.packages()
Message-ID: <OF8D314AF2.DA63111F-ON86256BB5.0054792E@mmm.com>

Something strange is happening with update.packages on my machine (Win2000,
R-1.5.0 installed from binaries).  Some of the packages (see below) keep
getting updated every time.  When I issue update.packages() I get this
every time for the last few days (I think since I installed 1.5 and the
packages but I am not sure).  This happens with CRAN shown below and also
with CRAN set to cran.r-project.org.

I checked only one of them - polynom.  It looks like the CRAN.packages
function returns the available version as 1.1-10 but the DESCRIPTION file
in the downloaded binary polynom says 1.1-8.  I am almost sure that this is
a mismatch between the precompiled versions update.packages uses on Windows
machines and the sources.  For example, the source tarball for polynom
seems to be 1.1-10.

Cheers,

Andy


> update.packages()
trying URL `http://cran.us.r-project.org//bin/windows/contrib/PACKAGES'
Content type `text/plain' length 6560 bytes
opened URL
downloaded 6560 bytes

boot :
 Version 1.2-7 in C:/R/rw1050/library
 Version 1.2-8 on CRAN
Update (y/N)?  n
bqtl :
 Version 1.0-4 in C:/R/rw1050/library
 Version 1.0-5 on CRAN
Update (y/N)?  n
chron :
 Version 2.2-20 in C:/R/rw1050/library
 Version 2.2-21 on CRAN
Update (y/N)?  n
emplik :
 Version 0.4 in C:/R/rw1050/library
 Version 0.5-1 on CRAN
Update (y/N)?  n
foreign :
 Version 0.5-2 in C:/R/rw1050/library
 Version 0.5-4 on CRAN
Update (y/N)?  n
geoRglm :
 Version 0.4-3 in C:/R/rw1050/library
 Version 0.4-4 on CRAN
Update (y/N)?  n
logspline :
 Version 1.0-4 in C:/R/rw1050/library
 Version 1.0-5 on CRAN
Update (y/N)?  n
Matrix :
 Version 0.3-16 in C:/R/rw1050/library
 Version 0.3-18 on CRAN
Update (y/N)?  n
mclust :
 Version 1.1-6 in C:/R/rw1050/library
 Version 1.1-7 on CRAN
Update (y/N)?  n
mgcv :
 Version 0.7-2 in C:/R/rw1050/library
 Version 0.8-0 on CRAN
Update (y/N)?  n
norm :
 Version 1.0-7 in C:/R/rw1050/library
 Version 1.0-8 on CRAN
Update (y/N)?  n
polynom :
 Version 1.1-8 in C:/R/rw1050/library
 Version 1.1-10 on CRAN
Update (y/N)?  n
sgeostat :
 Version 1.0-15 in C:/R/rw1050/library
 Version 1.0-16 on CRAN
Update (y/N)?  n
>

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dyang at nrcan.gc.ca  Fri May 10 18:21:03 2002
From: dyang at nrcan.gc.ca (Yang, Richard)
Date: Fri, 10 May 2002 12:21:03 -0400
Subject: [R] PNLS step error in nlme
Message-ID: <F0E0B899CB43D5118D220002A55113CF21BABC@s2-edm-r1.nofc.cfs.nrcan.gc.ca>

Hi R-help;

	In using nlme, I often encounter the following error message:

		Error in nlme.formula(model = response ~ ......, data = ...
:
 		Step halving factor reduced below minimum in PNLS step

	Resetting the pnlsTol default value does not solve the problem. Any
suggestions or workarouds for solving the problem?

TIA,

Richard




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 10 18:57:31 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 10 May 2002 17:57:31 +0100 (BST)
Subject: [R] updata.packages()
In-Reply-To: <OF8D314AF2.DA63111F-ON86256BB5.0054792E@mmm.com>
Message-ID: <Pine.LNX.4.31.0205101739230.20908-100000@gannet.stats>

On Fri, 10 May 2002 apjaworski at mmm.com wrote:

> Something strange is happening with update.packages on my machine (Win2000,
> R-1.5.0 installed from binaries).  Some of the packages (see below) keep
> getting updated every time.  When I issue update.packages() I get this
> every time for the last few days (I think since I installed 1.5 and the
> packages but I am not sure).  This happens with CRAN shown below and also
> with CRAN set to cran.r-project.org.
>
> I checked only one of them - polynom.  It looks like the CRAN.packages
> function returns the available version as 1.1-10 but the DESCRIPTION file
> in the downloaded binary polynom says 1.1-8.  I am almost sure that this is

But that's not the version number in the DESCRIPTION file of polynom.zip
on cran.r-project.org nor that on cran.us.r-project.org, so you have a
problem with your downloading, possibly a cache local to you (although the
standard code asks for an uncached copy, many caches/proxies ignore this).

> a mismatch between the precompiled versions update.packages uses on Windows
> machines and the sources.  For example, the source tarball for polynom
> seems to be 1.1-10.

Well, you are 100% surely wrong!  The version number is in the PACKAGES
file you downloaded, and that is auto-generated by reading the zip files.
Why speculate when you can read the code?

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri May 10 20:26:28 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 10 May 2002 13:26:28 -0500
Subject: [R] Conflict between 'nlme' and 'methods' on R-1.5.0 ?
In-Reply-To: <3CDAD2AC.30695.2506AB@localhost>
References: <3CDAD2AC.30695.2506AB@localhost>
Message-ID: <6rn0v7rh9n.fsf@franz.stat.wisc.edu>

"Charis Tzagarakis" <htzag at umn.edu> writes:

> I use R with the packages 'nlme' and 'methods'.Upon upgrading to R1.5.0, I got the following 
> message when loading nlme (after having loaded 'methods'):
> The following object(s) are masked from package:methods :
> 
>          initialize 
>  After that, when I use my class definitions and scripts(which worked fine in 1.4.1) I get the 
> following error message when a new("class") expression is used:
> Error in initialize(value, ...) : no applicable method for "initialize"

> Clearly the problem arises because 'nlme' contains an 'initialize'
> function, as does the new 'methods' package.

Exactly.

> Is there any workaround?

Well loading the packages in the other order avoids the warning but
then lme and related model-fitting functions don't work.  :-)

In the long term this problem will be solved by namespaces
(anticipated by R-1.6.0) and by rewriting the nlme package to use
S4-style classes and methods.

In the short term we could rename initialize as Initialize in the nlme
package but I don't want to do that because the initialize function is
explicitly mentioned in Pinheiro and Bates (Springer, 2000).  Also
this runs the risk of breaking other code that depends on the nlme
package.

You could do that as a "quick and dirty" workaround.  Download the
sources for the nlme package, rename it, substitute "Initialize" for
"initialize" in all the .R files in the R directory, and install the
package.

I will check with other members of R-core to see if anyone can come up
with a more elegant fix.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri May 10 17:21:54 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 10 May 2002 08:21:54 -0700 (PDT)
Subject: [R] Rsquared in summary(lm)
In-Reply-To: <873cx023sz.wl@localhost.seinan-gu.ac.jp>
Message-ID: <Pine.A41.4.44.0205100817030.108364-100000@homer12.u.washington.edu>

On Fri, 10 May 2002, Wataru Shito wrote:

> Hi, Wouter
>
> Actually, I have a similar problem too with a simple regression.
> In my case, not only the R-square but also the estimates of intercept
> and coefficient by lm() seem different from the calculation with the
> well known formula for a simple regression.
>
> What I used is the following code.  (I have just started to use R last
> week so don't blame my inmature code, please!)
> Simply,
>   > ols1( y, x )
> will give you the result of the simple regression.


Can you give an example of a data set where this doesn't agree with lm()?

The code below doesn't work because the show method refers to an
apparently non-existent t.values object, but looking directly at the slots
of the value of ols1 seems to give the same results as lm


> x<-1:20
> y<-x+rnorm(20)
> summary(lm(y~x))

Call:
lm(formula = y ~ x)

Residuals:
     Min       1Q   Median       3Q      Max
-1.84289 -0.81606  0.04298  0.96198  1.57927

Coefficients:
            Estimate Std. Error t value Pr(>|t|)
(Intercept)  0.53721    0.53134   1.011    0.325
x            0.99449    0.04436  22.421 1.33e-14 ***
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1

Residual standard error: 1.144 on 18 degrees of freedom
Multiple R-Squared: 0.9654,     Adjusted R-squared: 0.9635
F-statistic: 502.7 on 1 and 18 DF,  p-value: 1.328e-14

> ols1(y,x)->a
> a at coefficients
$intercept
[1] 0.5372087

$coefficient
[1] 0.994491

> a at standard.errors
$intercept
[1] 0.5313436

$coeficient
[1] 0.04435571

> a at r.square
[1] 0.9654307

It would be surprising if linear regression didn't work in R in general ,
but there may be some system-specific issues


	-thomas

> Wouter, could you try the following code on your data and see whether
> that's what you expect or not?
>
> I will appreciate if anyone can give me some advice why this
> differenct happens.
>
> Thankk you.
>
> Wataru Shito
>
>
> -----------------------------------------
>
> # Single Explanatory Variable Least Square Regression
> #
> library(methods)
> # create ols class
> setClass("ols", representation
>          ( coefficients="list", standard.errors="list",
>           r.square="numeric" ))
> setMethod("show", "ols",
>           function(object)
>           {
>             # create row names for data.frame
>             rownames <- c("(Intercept)", "X")
>             # create data.frame
>             z <- data.frame( row.names=rownames,
>                             Estimate=object at coefficients, Std.Error=object at standard.errors,
>                             t.value=t.values )
>             cat("\n")
>             print(z)
>             cat( "\nR-Square:", object at r.square, "\n\n" )
>           }
>           )
>
> ols1 <- function( y, x ){
>   size <- length(x) # number of ovservations
>   xbar <- mean(x)
>   ybar <- mean(y)
>   Sxx <- sum( (x-xbar)^2 )
>   b <- sum( (x-xbar)*(y-ybar) )/Sxx # coefficient
>   a <- ybar - b*xbar # interception
>   e <- y - a - b*x   # residuals
>   # SSE (error sum of squares)
>   SSE <- sum( e^2 )
>   # SST (total sum of squares)
>   SST <- sum( (y-ybar)^2 )
>   # SSR (regression sum of squares)
>   SSR <- b^2 * Sxx
>   # Coefficient of determination
>   r2 <- SSR / SST
>
>   # unbiased estimator of sigma^2
>   s.square <- sum(e^2)/(size - 2)
>   # standard error for b
>   std.error.b <- sqrt( s.square/Sxx )
>   # standard error for intercept
>   std.error.a <- sqrt( s.square*(1/size + xbar^2/Sxx) )
>   standard.errors <- list( intercept=std.error.a, coeficient=std.error.b )
>   coefficients <- list( intercept=a, coefficient=b )
>   new("ols", coefficients=coefficients, standard.errors=standard.errors, r.square=r2 )
> }
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle
^^^^^^^^^^^^^^^^^^^^^^^^
 Note NEW EMAIL ADDRESS


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu May  9 10:46:58 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Thu, 9 May 2002 04:46:58 -0400
Subject: [R] Two Courses from Insightful Corp.
Message-ID: <20020509044658.7faaad85.fharrell@virginia.edu>

I am presenting two courses for Insightful Corporation in Washington D.C. in June.  0.95 of the material presented is applicable to R.  The announcement from Insightful is found below.  -Frank Harrell
------------------------------------------------------------------------------


The following two hands-on courses are being presented by Dr. Frank Harrell in Washington, DC. Reserve your seat now! Register for both courses and receive a 10% discount!

To Register:	- Web: http://www.insightful.com/services/register.asp
		- Email: kkelly at insightful.com
		- Call Kim Kelly at: 800-569-0123 x278

Course #1:
S-PLUS for Statistical Data Analysis & Graphics presented by Dr. Frank Harrell Jr.
(full description: http://www.insightful.com/services/course.asp?CID=26)
Dates:	June 19-21, 2002
City:	Washington, DC

This short course begins with a quick summary of the S-PLUS language and objects and a comparison of S-PLUS and SAS. This is followed by methods for inspecting, recoding, reshaping, and manipulating data, some of which use extensions of S-PLUS found in the freely available Hmisc library written by the instructor. Usage of S-PLUS for more advanced statistical methods such as simulation and bootstrapping is surveyed. Then basic sample size and power calculations are discussed, followed by an example using the Hmisc library to simulate power for the Cox-logrank test for comparing event times in a clinical trial in which drop-in, drop-out, and delayed treatment response are present. Then major emphasis is given to table making and S-PLUS and Hmisc graphical functions useful in everyday exploratory work and in presenting final summary statistics. 
The course concludes with discussion of some tools for making analyses reproducible, an important facit for regulatory and other scientific review of final results. Advantages of using S-PLUS in conjunction with the LATEX document processing / typesetting system for constructing reproducible statistical reports and hyperlinked PDF documents are discussed. 

Price:	Commercial:  $1500
	Government:  $1350
	Academic:    $1200

-------------------------------------------------------------------------------
Course #2:
Regression Modeling Strategies presented by Dr. Frank Harrell Jr.
(full description: http://www.insightful.com/services/course.asp?CID=27)
Dates:	June 24-26, 2002
City:	Washington, DC

The first part of the course presents the following elements of multivariable predictive modeling for a single response variable: using regression splines to relax linearity assumptions, perils of variable selection and overfitting, where to spend degrees of freedom, shrinkage, imputation of missing data, data reduction, and interaction surfaces. Then a default overall modeling strategy will be described. This is followed by methods for graphically understanding models (e.g., using nomograms) and using re-sampling to estimate a model's likely performance on new data. Then the freely available S-PLUS Design library will be overviewed. Design facilitates most of the steps of the modeling process. Next, statistical methods related to binary logistic models will be covered. 

Three of the following case studies will be presented: an exploration of voting tendencies over U.S. counties in the 1992 presidential election, an interactive exploration of the survival status of Titanic passengers, an interactive case study in developing a survival time model for critically ill patients, and a case study in Cox regression. In the hands-on computer lab students will develop, validate, and graphically describe multivariable regression models themselves. This short course will survey the advantages of modeling in randomized trials and will provide some guidance in developing a prospective statistical plan for use in a Phase III clinical trial. The methods covered in this course will apply to almost any regression model, including ordinary least squares, logistic regression models, and survival models. 

Price:	Commercial:  $1500
	Government:  $1350
	Academic:    $1200
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From knussear at biodiversity.unr.edu  Fri May 10 21:39:34 2002
From: knussear at biodiversity.unr.edu (Ken Nussear)
Date: Fri, 10 May 2002 12:39:34 -0700
Subject: [R] Saving problem with rm150
Message-ID: <A7C5CC38-644D-11D6-96D3-00306558673E@biodiversity.unr.edu>

I'm having trouble saving the image files when using rm150 under OSX. I 
had the same problem with rm14*, so it is not a new issue to me. When 
trying to save the image file I am prompted to give a name for the file. 
R then says that the file could not be saved, but will be stored in 
filenameTMP, where filename is the name I gave in the previous dialog 
box. This also occurs when attempting to overwrite an existing file.  
The image that is saved under the filenameTMP file is indeed a valid 
file, no problems there, I'm just wondering how to get R to save without 
this issue?

Thanks for the help

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 10 21:49:18 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 10 May 2002 20:49:18 +0100 (BST)
Subject: [R] Saving problem with rm150
In-Reply-To: <A7C5CC38-644D-11D6-96D3-00306558673E@biodiversity.unr.edu>
Message-ID: <Pine.LNX.4.31.0205102045590.21837-100000@gannet.stats>

?save mention save.image.defaults.  Try

options(save.image.defaults=list(safe=FALSE))

Looks like file.rename() is not working, in which case this should
fix the problem.  If it does, put it in the startup Rprofile.


On Fri, 10 May 2002, Ken  Nussear wrote:

> I'm having trouble saving the image files when using rm150 under OSX. I
> had the same problem with rm14*, so it is not a new issue to me. When
> trying to save the image file I am prompted to give a name for the file.
> R then says that the file could not be saved, but will be stored in
> filenameTMP, where filename is the name I gave in the previous dialog
> box. This also occurs when attempting to overwrite an existing file.
> The image that is saved under the filenameTMP file is indeed a valid
> file, no problems there, I'm just wondering how to get R to save without
> this issue?
>
> Thanks for the help
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nee_joe at yahoo.com  Fri May 10 21:49:05 2002
From: nee_joe at yahoo.com (Nee Joe)
Date: Fri, 10 May 2002 12:49:05 -0700 (PDT)
Subject: [R] Solaris R installation
In-Reply-To: <6rn0v7rh9n.fsf@franz.stat.wisc.edu>
Message-ID: <20020510194905.87291.qmail@web21208.mail.yahoo.com>

Hi, 

I am trying to install R on Solaris. 
After unpacking, issued the command :
./configure --prefix=/home/nj/R/NJ-R
(as I wanted to install on my local space).
Gives me the following ouput with the warnings that 
manuals can't be installed, which in turn fails 
make command also. 

C++ compiler seems fine. Any sugeestions?
 
Thanks in advance. 
-Nee
-------------------------
checking for a BSD-compatible install...
tools/install-sh -c
checking whether build environment is sane... yes
checking whether make sets ${MAKE}... yes
checking for working aclocal... missing
checking for working autoconf... missing
checking for working automake... missing
checking for working autoheader... missing
checking for working makeinfo... missing
checking build system type... sparc-sun-solaris2.8
checking host system type... sparc-sun-solaris2.8
loading site script ./config.site
loading build specific script ./config.site
checking for pwd... /bin/pwd
checking whether builddir is srcdir... yes
checking for gawk... no
checking for mawk... no
checking for nawk... nawk
checking whether ln -s works... yes
checking for ranlib... :
checking for bison... bison -y
checking for ar... no
checking for javac... /bin/javac
checking for less... /bin/less
checking for perl... /bin/perl
checking whether perl version is at least 5.004... yes
checking for dvips... no
checking for tex... no
checking for latex... no
checking for makeindex... no
checking for pdftex... no
checking for pdflatex... no
checking for /home/nj/R/R-1.5.0/tools/missing... no
checking for makeinfo... no
checking for makeinfo... no
checking for unzip... /bin/unzip
checking for zip... /bin/zip
checking for gcc... gcc
checking for C compiler default output... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables... 
checking for suffix of object files... o
checking whether we are using the GNU C compiler...
yes
checking whether gcc accepts -g... yes
checking for ld used by GCC... /usr/ccs/bin/ld
checking if the linker (/usr/ccs/bin/ld) is GNU ld...
no
checking for /usr/ccs/bin/ld option to reload object
files... -r
checking for BSD-compatible nm... /usr/ccs/bin/nm -p
checking how to recognise dependant libraries...
pass_all
checking command to parse /usr/ccs/bin/nm -p output...
ok
checking how to run the C preprocessor... gcc -E
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... no
checking for unistd.h... yes
checking dlfcn.h usability... yes
checking dlfcn.h presence... yes
checking for dlfcn.h... yes
checking for ranlib... (cached) :
checking for strip... :
checking for objdir... .libs
checking for gcc option to produce PIC... -fPIC
checking if gcc PIC flag -fPIC works... yes
checking if gcc static flag -static works... yes
checking if gcc supports -c -o file.o... yes
checking if gcc supports -c -o file.lo... yes
checking if gcc supports -fno-rtti -fno-exceptions...
yes
checking whether the linker (/usr/ccs/bin/ld) supports
shared libraries... yes
checking how to hardcode library paths into
programs... immediate
checking whether stripping libraries is possible... no
checking dynamic linker characteristics... solaris2.8
ld.so
checking if libtool supports shared libraries... yes
checking whether to build shared libraries... yes
checking whether to build static libraries... no
creating libtool
checking for gcc... (cached) gcc
checking whether we are using the GNU C compiler...
(cached) yes
checking whether gcc accepts -g... (cached) yes
checking for gcc option to accept ANSI C... none
needed
checking whether gcc needs -traditional... no
checking how to run the C preprocessor... gcc -E
checking for g77... g77
checking whether we are using the GNU Fortran 77
compiler... yes
checking whether g77 accepts -g... yes
checking for g++... g++
checking whether we are using the GNU C++ compiler...
yes
checking whether g++ accepts -g... yes
checking how to run the C++ preprocessor... g++ -E
checking for main in -lm... yes
checking for sin in -lm... yes
checking for main in -lncurses... no
checking for main in -ltermcap... yes
checking for dlopen in -ldl... yes
checking for rl_callback_read_char in -lreadline... no
checking for ANSI C header files... (cached) yes
checking whether time.h and sys/time.h may both be
included... yes
checking for dirent.h that defines DIR... yes
checking for library containing opendir... none
required
checking for sys/wait.h that is POSIX.1 compatible...
yes
checking arpa/inet.h usability... yes
checking arpa/inet.h presence... yes
checking for arpa/inet.h... yes
checking dl.h usability... no
checking dl.h presence... no
checking for dl.h... no
checking for dlfcn.h... (cached) yes
checking elf.h usability... yes
checking elf.h presence... yes
checking for elf.h... yes
checking fcntl.h usability... yes
checking fcntl.h presence... yes
checking for fcntl.h... yes
checking floatingpoint.h usability... yes
checking floatingpoint.h presence... yes
checking for floatingpoint.h... yes
checking fpu_control.h usability... no
checking fpu_control.h presence... no
checking for fpu_control.h... no
checking grp.h usability... yes
checking grp.h presence... yes
checking for grp.h... yes
checking ieee754.h usability... no
checking ieee754.h presence... no
checking for ieee754.h... no
checking ieeefp.h usability... yes
checking ieeefp.h presence... yes
checking for ieeefp.h... yes
checking locale.h usability... yes
checking locale.h presence... yes
checking for locale.h... yes
checking netdb.h usability... yes
checking netdb.h presence... yes
checking for netdb.h... yes
checking netinet/in.h usability... yes
checking netinet/in.h presence... yes
checking for netinet/in.h... yes
checking pwd.h usability... yes
checking pwd.h presence... yes
checking for pwd.h... yes
checking readline/history.h usability... no
checking readline/history.h presence... no
checking for readline/history.h... no
checking readline/readline.h usability... no
checking readline/readline.h presence... no
checking for readline/readline.h... no
checking rpc/rpc.h usability... yes
checking rpc/rpc.h presence... yes
checking for rpc/rpc.h... yes
checking for strings.h... (cached) yes
checking sys/param.h usability... yes
checking sys/param.h presence... yes
checking for sys/param.h... yes
checking sys/select.h usability... yes
checking sys/select.h presence... yes
checking for sys/select.h... yes
checking sys/socket.h usability... yes
checking sys/socket.h presence... yes
checking for sys/socket.h... yes
checking for sys/stat.h... (cached) yes
checking sys/time.h usability... yes
checking sys/time.h presence... yes
checking for sys/time.h... yes
checking sys/times.h usability... yes
checking sys/times.h presence... yes
checking for sys/times.h... yes
checking sys/utsname.h usability... yes
checking sys/utsname.h presence... yes
checking for sys/utsname.h... yes
checking for unistd.h... (cached) yes
checking errno.h usability... yes
checking errno.h presence... yes
checking for errno.h... yes
checking stdarg.h usability... yes
checking stdarg.h presence... yes
checking for stdarg.h... yes
checking for string.h... (cached) yes
checking whether setjmp.h is POSIX.1 compatible... yes
checking for GNU C library with version >= 2... no
checking return type of signal handlers... void
checking for pid_t... yes
checking for size_t... yes
checking for blkcnt_t... yes
checking for type of socket length... socklen_t *
checking whether byte ordering is bigendian... yes
checking for an ANSI C-conforming const... yes
checking for int... yes
checking size of int... 4
checking for long... yes
checking size of long... 4
checking for long long... yes
checking size of long long... 8
checking for long double... yes
checking size of long double... 16
checking whether gcc accepts -M for generating
dependencies... yes
checking whether gcc supports -c -o FILE.lo... yes
checking how to get verbose linking output from g77...
-v
checking for Fortran 77 libraries...  -L/usr/ccs/lib
-L/usr/lib -L/usr/local/lib
-L/usr/local/lib/gcc-lib/sparc-sun-solaris2.8/2.95.2
-L/usr/ccs/bin -ldl -ltermcap -lg2c -lm
checking for dummy main to link with Fortran 77
libraries... none
checking for Fortran 77 name-mangling scheme... lower
case, underscore, extra underscore
checking whether g77 and gcc agree on int and
double... yes
checking whether g77 and gcc agree on double
complex... yes
checking whether g77 supports -c -o FILE.lo... yes
checking whether g++ accepts -M for generating
dependencies... yes
checking whether g++ supports -c -o FILE.lo... yes
checking for xmkmf... /usr/openwin/bin/xmkmf
checking for working alloca.h... yes
checking for alloca... yes
checking for access... yes
checking for chdir... yes
checking for expm1... yes
checking for fcntl... yes
checking for finite... yes
checking for ftruncate... yes
checking for getcwd... yes
checking for getgrgid... yes
checking for getpwuid... yes
checking for getuid... yes
checking for hypot... yes
checking for isascii... yes
checking for isnan... yes
checking for log1p... yes
checking for matherr... yes
checking for mkfifo... yes
checking for popen... yes
checking for putenv... yes
checking for rint... yes
checking for setenv... no
checking for strcoll... yes
checking for stat... yes
checking for strptime... yes
checking for system... yes
checking for times... yes
checking for unsetenv... no
checking for acosh... yes
checking for asinh... yes
checking for atanh... yes
checking for snprintf... yes
checking for strdup... yes
checking for strncasecmp... yes
checking for vsnprintf... yes
checking whether acosh is declared... yes
checking whether asinh is declared... yes
checking whether atanh is declared... yes
checking whether snprintf is declared... yes
checking whether strdup is declared... yes
checking whether strncasecmp is declared... yes
checking whether vsnprintf is declared... yes
checking for library containing connect... -lsocket
checking for library containing gethostbyname... -lnsl
checking for library containing xdr_string... none
required
checking for __setfpucw... no
checking for working calloc... yes
checking for working finite... yes
checking for working log... no
checking for working strptime... yes
checking for sgemm_... no
checking for ATL_xerbla in -latlas... no
checking for sgemm_ in -lblas... no
checking for sgemm_ in -lblas... (cached) no
checking for sgemm_ in -lblas... (cached) no
checking for X... libraries /usr/openwin/lib, headers
/usr/openwin/include
checking whether -R must be followed by a space... no
checking for gethostbyname... yes
checking for connect... yes
checking for remove... yes
checking for shmat... yes
checking for IceConnectionNumber in -lICE... yes
checking for tclConfig.sh... no
checking for tclConfig.sh in library
(sub)directories... no
checking for tkConfig.sh... no
checking for tkConfig.sh in library
(sub)directories... no
checking for tcl.h... no
checking for finite... (cached) yes
checking for isnan... (cached) yes
checking whether isfinite is declared... no
checking whether isnan is declared... yes
checking whether you have IEEE 754 floating-point
arithmetic... yes
checking for BSD networking... yes
checking if jpeglib version >= 6b... no
checking for main in -lz... yes
checking if libpng version >= 1.0.5... no
checking for XDR support... yes
checking for gzeof in -lz... yes
checking zlib.h usability... yes
checking zlib.h presence... yes
checking for zlib.h... yes
checking if zlib version >= 1.1.3... yes
checking whether zlib support needs to be compiled...
no
checking for BZ2_bzlibVersion in -lbz2... no
checking whether leap seconds are treated according to
POSIX... yes
checking for setitimer... yes
checking for lpr... lpr
checking for paperconf... false
configure: creating ./config.status
config.status: creating Makeconf
config.status: creating Makefile
config.status: creating afm/Makefile
config.status: creating doc/Makefile
config.status: creating doc/html/Makefile
config.status: creating doc/html/search/Makefile
config.status: creating doc/manual/Makefile
config.status: creating etc/Makefile
config.status: creating etc/Makeconf
config.status: creating etc/Renviron
config.status: creating m4/Makefile
config.status: creating share/Makefile
config.status: creating src/Makefile
config.status: creating src/appl/Makefile
config.status: creating src/extra/Makefile
config.status: creating src/extra/xdr/Makefile
config.status: creating src/extra/zlib/Makefile
config.status: creating src/include/Makefile
config.status: creating src/include/Rmath.h
config.status: creating src/include/R_ext/Makefile
config.status: creating src/library/Makefile
config.status: creating src/library/base/DESCRIPTION
config.status: creating src/library/base/Makefile
config.status: creating src/library/ctest/DESCRIPTION
config.status: creating src/library/ctest/Makefile
config.status: creating src/library/ctest/src/Makefile
config.status: creating src/library/eda/DESCRIPTION
config.status: creating src/library/eda/Makefile
config.status: creating src/library/eda/src/Makefile
config.status: creating src/library/lqs/DESCRIPTION
config.status: creating src/library/lqs/Makefile
config.status: creating src/library/lqs/src/Makefile
config.status: creating
src/library/methods/DESCRIPTION
config.status: creating src/library/methods/Makefile
config.status: creating
src/library/methods/src/Makefile
config.status: creating src/library/modreg/DESCRIPTION
config.status: creating src/library/modreg/Makefile
config.status: creating
src/library/modreg/src/Makefile
config.status: creating src/library/mva/DESCRIPTION
config.status: creating src/library/mva/Makefile
config.status: creating src/library/mva/src/Makefile
config.status: creating src/library/nls/DESCRIPTION
config.status: creating src/library/nls/Makefile
config.status: creating src/library/nls/src/Makefile
config.status: creating src/library/profile/Makefile
config.status: creating
src/library/stepfun/DESCRIPTION
config.status: creating src/library/stepfun/Makefile
config.status: creating
src/library/splines/DESCRIPTION
config.status: creating src/library/splines/Makefile
config.status: creating
src/library/splines/src/Makefile
config.status: creating src/library/tcltk/DESCRIPTION
config.status: creating src/library/tcltk/Makefile
config.status: creating src/library/tcltk/src/Makefile
config.status: creating src/library/tools/DESCRIPTION
config.status: creating src/library/tools/Makefile
config.status: creating src/library/ts/DESCRIPTION
config.status: creating src/library/ts/Makefile
config.status: creating src/library/ts/src/Makefile
config.status: creating src/main/Makefile
config.status: creating src/modules/Makefile
config.status: creating src/modules/X11/Makefile
config.status: creating src/modules/gnome/Makefile
config.status: creating src/modules/internet/Makefile
config.status: creating src/modules/lapack/Makefile
config.status: creating src/modules/vfonts/Makefile
config.status: creating src/nmath/Makefile
config.status: creating src/nmath/standalone/Makefile
config.status: creating src/scripts/Makefile
config.status: creating src/scripts/COMPILE
config.status: creating src/scripts/INSTALL
config.status: creating src/scripts/REMOVE
config.status: creating src/scripts/R.sh
config.status: creating src/scripts/Rdconv
config.status: creating src/scripts/Rdindex
config.status: creating src/scripts/Rprof
config.status: creating src/scripts/SHLIB
config.status: creating src/scripts/Sd2Rd
config.status: creating src/scripts/build
config.status: creating src/scripts/check
config.status: creating src/scripts/f77
config.status: creating src/unix/Makefile
config.status: creating tests/Makefile
config.status: creating tests/Embedding/Makefile
config.status: creating tests/Examples/Makefile
config.status: creating tools/Makefile
config.status: creating src/include/config.h
config.status: src/include/config.h is unchanged
config.status: executing stamp-h commands

R is now configured for sparc-sun-solaris2.8

  Source directory:          .
  Installation directory:    /home/nj/R/NJ-R/
  C compiler:                gcc  -g -O2
  C++ compiler:              g++  -g -O2
  FORTRAN compiler:          g77  -g -O2

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            no
  Readline support:          no

  R profiling support:       yes
  R as a shared library:     no




__________________________________________________

Yahoo! Shopping - Mother's Day is May 12th!

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From seniorr at aracnet.com  Sat May 11 01:29:20 2002
From: seniorr at aracnet.com (Russell Senior)
Date: 10 May 2002 16:29:20 -0700
Subject: [R] qqnorm() with weighted data?
Message-ID: <86adr7fupb.fsf@coulee.tdb.com>


I've got a set of data that are weighted by a largish integer (ranging
from about 50K to 1.5 million).  I'd like to plot CDF's for this data
taking into account the weighting.  What do you recommend?

Thanks!

-- 
Russell Senior         ``The two chiefs turned to each other.        
seniorr at aracnet.com      Bellison uncorked a flood of horrible       
                         profanity, which, translated meant, `This is
                         extremely unusual.' ''                      
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Sat May 11 01:48:58 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 10 May 2002 16:48:58 -0700 (PDT)
Subject: [R] qqnorm() with weighted data?
In-Reply-To: <86adr7fupb.fsf@coulee.tdb.com>
Message-ID: <Pine.A41.4.44.0205101647350.135370-100000@homer09.u.washington.edu>

On 10 May 2002, Russell Senior wrote:

>
> I've got a set of data that are weighted by a largish integer (ranging
> from about 50K to 1.5 million).  I'd like to plot CDF's for this data
> taking into account the weighting.  What do you recommend?
>

I'd use stepfun() in the "stepfun" package.  If necessary, use aggregate
to sum the weights over unique values and then divide by the total weight
to get probabilities for the observed values, get cumulative sums with
cumsum() and then feed these to stepfun

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjlu at ibm.stat.ncku.edu.tw  Sat May 11 03:11:57 2002
From: cjlu at ibm.stat.ncku.edu.tw (Lu Chi-Hsien Joseph)
Date: Sat, 11 May 2002 10:11:57 +0900 (TAIDT)
Subject: [R] Is this a bug of pweibull()?
Message-ID: <200205110113.KAA12762@ibm.stat.ncku.edu.tw>

In rw1050, I found that
> pweibull(3:10, 2)
[1] 0.9998766 0.9999999 1.0000000 1.0000000       NaN       NaN
[7]       NaN       NaN
Warning message: 
NaNs produced in: pweibull(q, shape, scale, lower.tail, log.p) 

more surprisingly,
> pweibull(3:10, 2.1)
[1] 0.9999566 1.0000000 1.0000000      -Inf       NaN       NaN
[7]       NaN       NaN
Warning message: 
NaNs produced in: pweibull(q, shape, scale, lower.tail, log.p) 

Is this a bug of pweibull() in rw1050?

> version
         _              
platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    5.0            
year     2002           
month    04             
day      29             
language R    

Best regards,

Joseph Lu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r_stuff_online at hotmail.com  Sat May 11 04:42:08 2002
From: r_stuff_online at hotmail.com (Neil Osborne)
Date: Sat, 11 May 2002 02:42:08 +0000
Subject: [R] Jump diffusion GARCH modelling/simulation in R ?
Message-ID: <F211cwykKF4tnPf2hfn0000f789@hotmail.com>

Hi All,

Is there an R package for simulating a GARCH process (preferrably with jump 
diffusion). ?
Can such a process be modelled by an R package out there ... ?


Many thanks


Neil


_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r_stuff_online at hotmail.com  Sat May 11 04:40:41 2002
From: r_stuff_online at hotmail.com (Neil Osborne)
Date: Sat, 11 May 2002 02:40:41 +0000
Subject: [R] Custom graphing : Which package (Base, Grid or Lattice package)
Message-ID: <F217KwRPQIWDO3hRDT60000f74c@hotmail.com>

Hi All,

Over the years, I have written a number of custom time series graphing 
modules (in ANSI C). I want to make these graphs available in R. After 
considerable thought (as well as feedback fom this NG - thanks go to Don 
MacQueen and Paul Murrell), I have decided to re-write (atleast some of the 
routines in R).

Basically, this is what my R function needs to do:

1. create a parent (container) frame
2. Define n (vertically stacked) child windows within the parent (where n is 
1,2 or 3)


So the object factory (creator function) would look something like this :


custom.graph.create<- function (win1_perc_size, win2_perc_size, backcolor  )

where win*N_perc_size is the % of the HEIGHT of the parent screen assigned 
to the Nth child window


The three child windows should share the same x axis (the calender date), 
but they would each have
seperate y axis.


In addition the returned object should;
1. allows you to add data to a specified window
   ( e.g. fooAddSeries(custom_graph_obj, dataset, child_win_number) )

2. Redraw the parent (and all children) when the parent window is resized

3. Be able to respond to mouse movements over a child window
  (so I can display info like date : value etc)

4. Be able to "scroll" through *LARGE* time series
  (approx 20,000 datapoints in certain cases) - using a "scrolling" window

5. Be able to "zoom in/out" to a specified granularity
  (daily, weekly etc) - maybe use the window function ?



As I'm sure you'll appreciate, this is a lot of work, and before I actually 
sat down to do some coding, I thought it would be prudent to solicit some 
advice from someone who had done something similar or had experience with 
custom plotting/graphing in R.


I have learnt the hard way, that as far as R is concerened, it's very easy 
to waste several weeks re-inventing the wheel, since it is such a 
functionally rich environment.


There appear to be several competing (but not entirely compatable) 
"graphing" packages/extensions for R. The base package, which seems to be 
the most robust, does not appear to have all the features I need (I may be 
wrong though ...), The grid package which appears to have the functionality, 
I need is not well documented, and is full of internal functions ..., and 
I'm not too sure about the lattice package.

I would be most grateful for any help on:

1. Recommendation on which package to use (base, grid or lattice ?)
2. General guidline (pref with skeleton code/stubs) on
   how to proceed - I haven't written any graphing functions in R before !

3. Pointers to more information



Many Thanks in Advance


Neil

_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r_stuff_online at hotmail.com  Sat May 11 04:59:57 2002
From: r_stuff_online at hotmail.com (Neil Osborne)
Date: Sat, 11 May 2002 02:59:57 +0000
Subject: [R] Cutom graphing : Which package (Base, Grid or Lattice package) ?
Message-ID: <F12rIz8Ut65BVEpVRqO0000f66d@hotmail.com>

Hi All,

Over the years, I have written a number of custom time series graphing 
modules (in ANSI C). I want to make these graphs available in R. After 
considerable thought (as well as feedback fom this NG), I have decided to 
re-write (atleast some of the routines in R).

Basically, this is what my R function needs to do:

1. create a parent (container) frame
2. Define n (vertically stacked) child windows within the parent (where n is 
1,2 or 3)


So the object factory (creator function) would look something like this :


custom.graph.create<- function (win1_perc_size, win2_perc_size, backcolor  )

where win*N_perc_size is the % of the HEIGHT of the parent screen assigned 
to the Nth child window


The three child windows should share the same x axis (the calender date), 
but they would each have
seperate y axis.


In addition the returned object should;
1. allows you to add data to a specified window
   ( e.g. fooAddSeries(custom_graph_obj, dataset, child_win_number) )

2. Redraw the parent (and all children) when the parent window is resized

3. Be able to respond to mouse movements over a child window
  (so I can display info like date : value etc)

4. Be able to "scroll" through *LARGE* time series
  (approx 20,000 datapoints in certain cases) - using a "scrolling" window

5. Be able to "zoom in/out" to a specified granularity
  (daily, weekly etc) - maybe use the window function ?



As I'm sure you'll appreciate, this is a lot of work, and before I actually 
sat down to do some coding, I thought it would be prudent to solicit some 
advice from someone who had done something similar or had experience with 
custom plotting/graphing in R.


I have learnt the hard way, that as far as R is concerened, it's very easy 
to waste several weeks re-inventing the wheel, since it is such a 
functionally rich environment.


There appear to be several competing (but not entirely compatable) 
"graphing" packages/extensions for R. The base package, which seems to be 
the most robust, does not appear to have all the features I need (I may be 
wrong though ...), The grid package which appears to have the functionality, 
I need is not well documented, and is full of internal functions ..., and 
I'm not too sure about the lattice package.

I would be most grateful for any help on:

1. Recommendation on which package to use (base, grid or lattice ?)
2. General guidline (pref with skeleton code/stubs) on
   how to proceed - I haven't written any graphing functions in R before !

3. Pointers to more information



Many Thanks in Advance


Neil

_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r_stuff_online at hotmail.com  Sat May 11 05:01:02 2002
From: r_stuff_online at hotmail.com (Neil Osborne)
Date: Sat, 11 May 2002 03:01:02 +0000
Subject: [R] Jump diffusion GARCH modelling/simulation in R ?
Message-ID: <F231m5OV4eKlKWRDdkd0000f4cc@hotmail.com>

Hi All,

Is there an R package for simulating a GARCH process (preferrably with jump 
diffusion). ?
Can such a process be modelled by an R package out there ... ?


Many thanks


Neil


_________________________________________________________________
Join the worlds largest e-mail service with MSN Hotmail. 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From shito at seinan-gu.ac.jp  Sat May 11 05:19:35 2002
From: shito at seinan-gu.ac.jp (Wataru Shito)
Date: Sat, 11 May 2002 12:19:35 +0900
Subject: [R] Rsquared in summary(lm)
In-Reply-To: <1020961331.1893.11.camel@localhost.ucuenca.edu.ec>
References: <1020961331.1893.11.camel@localhost.ucuenca.edu.ec>
Message-ID: <874rhfz7zs.wl@localhost.seinan-gu.ac.jp>

Dear everybody who responded to my question.

As you probably read the correspondence with John Fox, it seems the
bug for only Mac version.  I am sorry that I caused some trouble
posting the script with some bugs.

Anyway, thank you again for all of your help.

-------------
Wataru Shito
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From shito at seinan-gu.ac.jp  Sat May 11 05:37:14 2002
From: shito at seinan-gu.ac.jp (Wataru Shito)
Date: Sat, 11 May 2002 12:37:14 +0900
Subject: [R] Bug on Mac version of lm()?
Message-ID: <873cwzz76d.wl@localhost.seinan-gu.ac.jp>

Dear Mac users,

Hi, as you might have probably read the thread of 
"[R] Rsquared in summary(lm)" on May 10, it seems that Mac version of
lm() seem to be working incorrectly.

I enclose the script to produce the result both for lm() and manual
calculation for a simple regression.  Could you run the script and
report with the version of R, so I don't have to go through every
builds and versions of Mac R?

Here is my result where "ols1.R" is the file name for the enclosed
script.


> source("ols1.R")

-------------------------------------
Simple regression manually calculated
-------------------------------------
          (Intercept)          X
Estimate    -67.58065 0.97926692
Std.Error    27.91071 0.03160707

R-Square: 0.9917348 

----------------------------
Simple regression using lm()
----------------------------
Call:
lm(formula = Personal.Consumption ~ Disposable.Income)

Coefficients:
      (Intercept)  Disposable.Income  
           6.2334             0.9006  


This was done with Apple PowerBook G4 with OSX 10.1.4 
with XFree86 version 4.1.99.1.

I got this R from CRAN archive in the binary section.

> version
         _                      
platform powerpc-apple-darwin5.2
arch     powerpc                
os       darwin5.2              
system   powerpc, darwin5.2     
status                          
major    1                      
minor    4.0                    
year     2001                   
month    12                     
day      19                     
language R                      


Thank you for your help, in advance.

------------
Wataru Shito


-------------------------------------
The contents of "ols1.R" file.
--------------------------------------
# Single Variable Least Square Regression
#
library(methods)
# create ols class
setClass("ols", representation
         ( coefficients="list", standard.errors="list",
          r.square="numeric" ))
setMethod("show", "ols",
          function(object)
          {
            # create row names for data.frame
            rownames <- c("(Intercept)", "X")

            num.of.variables <- length( object at coefficients )
            # create vectors
            coeff <- array( dim=num.of.variables )
            std.err <- array( dim=num.of.variables )
            for( i in 1:num.of.variables ){
              coeff[i] <- object at coefficients[[i]]
              std.err[i] <- object at standard.errors[[i]]
            }
            # create data.frame
            z <- data.frame( row.names=rownames,
                            Estimate=as.vector(coeff), Std.Error=as.vector(std.err) )
            cat("\n")
            print(t(z))
            cat( "\nR-Square:", object at r.square, "\n\n" )
          }
          )

ols1 <- function( y, x ){
  size <- length(x) # number of ovservations
  xbar <- mean(x)
  ybar <- mean(y)
  Sxx <- sum( (x-xbar)^2 )
  b <- sum( (x-xbar)*(y-ybar) )/Sxx # coefficient
  a <- ybar - b*xbar # interception
  e <- y - a - b*x   # residuals
  # SSE (error sum of squares)
  SSE <- sum( e^2 )
  # SST (total sum of squares)
  SST <- sum( (y-ybar)^2 )
  # SSR (regression sum of squares)
  SSR <- b^2 * Sxx
  # Coefficient of determination
  r2 <- SSR / SST
  
  # unbiased estimator of sigma^2
  s.square <- sum(e^2)/(size - 2)
  # standard error for b
  std.error.b <- sqrt( s.square/Sxx )
  # standard error for intercept
  std.error.a <- sqrt( s.square*(1/size + xbar^2/Sxx) )
  standard.errors <- list( intercept=std.error.a, coefficient=std.error.b )
  coefficients <- list( intercept=a, coefficient=b )
  new("ols", coefficients=coefficients, standard.errors=standard.errors, r.square=r2 )
}


# Demo
#
# "Econometric Analysis", William Greene
# 3rd Edition, p.142, TABLE 5.1
#
# The result of a simple regression from the textbook is:
#     Intercept=-67.5806, b=0.979267

table5.1 <- data.frame(Year = c(1970, 1971, 1972, 1973, 1974, 1975, 1976, 
                         1977, 1978, 1979),
                       Disposable.Income = c(751.6, 779.2, 810.3, 864.7, 857.5,
                         874.9, 906.8, 942.9, 988.8, 1015.7),
                       Personal.Consumption = c(672.1, 696.8, 737.1, 767.9,
                         762.8, 779.4, 823.1, 864.3, 903.2, 927.6),
                       row.names = c("1", "2", "3", "4", "5", "6", "7", "8", "9", "10"))

attach( table5.1 )
demo.ols1 <- ols1( Personal.Consumption, Disposable.Income )
demo.lm <- lm( Personal.Consumption ~ Disposable.Income )

cat( "\n-------------------------------------\n" )
cat(   "Simple regression manually calculated\n" )
cat(   "-------------------------------------" )
print( demo.ols1 )

cat( "----------------------------\n" )
cat( "Simple regression using lm()\n" )
cat( "----------------------------" )
print( demo.lm )
detach( table5.1 )


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deleeuw at stat.ucla.edu  Sat May 11 06:57:36 2002
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Fri, 10 May 2002 21:57:36 -0700
Subject: [R] Bug on Mac version of lm()?
In-Reply-To: <873cwzz76d.wl@localhost.seinan-gu.ac.jp>
Message-ID: <9C7F7570-649B-11D6-BE69-000393860F3C@stat.ucla.edu>

This is what I get with R-1.5.0 (from CRAN)
===============================================================
 > source("ols1.R")

-------------------------------------
Simple regression manually calculated
-------------------------------------
           (Intercept)          X
Estimate    -67.58065 0.97926692
Std.Error    27.91071 0.03160707

R-Square: 0.9917348

----------------------------
Simple regression using lm()
----------------------------
Call:
lm(formula = Personal.Consumption ~ Disposable.Income)

Coefficients:
       (Intercept)  Disposable.Income
          -67.5807             0.9793

===============================================================
On Friday, May 10, 2002, at 08:37 PM, Wataru Shito wrote:

> Dear Mac users,
>
> Hi, as you might have probably read the thread of
> "[R] Rsquared in summary(lm)" on May 10, it seems that Mac version of
> lm() seem to be working incorrectly.
>
> I enclose the script to produce the result both for lm() and manual
> calculation for a simple regression.  Could you run the script and
> report with the version of R, so I don't have to go through every
> builds and versions of Mac R?
>
> Here is my result where "ols1.R" is the file name for the enclosed
> script.
>
>
>> source("ols1.R")
>
> -------------------------------------
> Simple regression manually calculated
> -------------------------------------
>           (Intercept)          X
> Estimate    -67.58065 0.97926692
> Std.Error    27.91071 0.03160707
>
> R-Square: 0.9917348
>
> ----------------------------
> Simple regression using lm()
> ----------------------------
> Call:
> lm(formula = Personal.Consumption ~ Disposable.Income)
>
> Coefficients:
>       (Intercept)  Disposable.Income
>            6.2334             0.9006
>
>
> This was done with Apple PowerBook G4 with OSX 10.1.4
> with XFree86 version 4.1.99.1.
>
> I got this R from CRAN archive in the binary section.
>
>> version
>          _
> platform powerpc-apple-darwin5.2
> arch     powerpc
> os       darwin5.2
> system   powerpc, darwin5.2
> status
> major    1
> minor    4.0
> year     2001
> month    12
> day      19
> language R
>
>
> Thank you for your help, in advance.
>
> ------------
> Wataru Shito
>
>
> -------------------------------------
> The contents of "ols1.R" file.
> --------------------------------------
> # Single Variable Least Square Regression
> #
> library(methods)
> # create ols class
> setClass("ols", representation
>          ( coefficients="list", standard.errors="list",
>           r.square="numeric" ))
> setMethod("show", "ols",
>           function(object)
>           {
>             # create row names for data.frame
>             rownames <- c("(Intercept)", "X")
>
>             num.of.variables <- length( object at coefficients )
>             # create vectors
>             coeff <- array( dim=num.of.variables )
>             std.err <- array( dim=num.of.variables )
>             for( i in 1:num.of.variables ){
>               coeff[i] <- object at coefficients[[i]]
>               std.err[i] <- object at standard.errors[[i]]
>             }
>             # create data.frame
>             z <- data.frame( row.names=rownames,
>                             Estimate=as.vector(coeff), 
> Std.Error=as.vector(std.err) )
>             cat("\n")
>             print(t(z))
>             cat( "\nR-Square:", object at r.square, "\n\n" )
>           }
>           )
>
> ols1 <- function( y, x ){
>   size <- length(x) # number of ovservations
>   xbar <- mean(x)
>   ybar <- mean(y)
>   Sxx <- sum( (x-xbar)^2 )
>   b <- sum( (x-xbar)*(y-ybar) )/Sxx # coefficient
>   a <- ybar - b*xbar # interception
>   e <- y - a - b*x   # residuals
>   # SSE (error sum of squares)
>   SSE <- sum( e^2 )
>   # SST (total sum of squares)
>   SST <- sum( (y-ybar)^2 )
>   # SSR (regression sum of squares)
>   SSR <- b^2 * Sxx
>   # Coefficient of determination
>   r2 <- SSR / SST
>
>   # unbiased estimator of sigma^2
>   s.square <- sum(e^2)/(size - 2)
>   # standard error for b
>   std.error.b <- sqrt( s.square/Sxx )
>   # standard error for intercept
>   std.error.a <- sqrt( s.square*(1/size + xbar^2/Sxx) )
>   standard.errors <- list( intercept=std.error.a, 
> coefficient=std.error.b )
>   coefficients <- list( intercept=a, coefficient=b )
>   new("ols", coefficients=coefficients, 
> standard.errors=standard.errors, r.square=r2 )
> }
>
>
> # Demo
> #
> # "Econometric Analysis", William Greene
> # 3rd Edition, p.142, TABLE 5.1
> #
> # The result of a simple regression from the textbook is:
> #     Intercept=-67.5806, b=0.979267
>
> table5.1 <- data.frame(Year = c(1970, 1971, 1972, 1973, 1974, 1975, 
> 1976,
>                          1977, 1978, 1979),
>                        Disposable.Income = c(751.6, 779.2, 810.3, 
> 864.7, 857.5,
>                          874.9, 906.8, 942.9, 988.8, 1015.7),
>                        Personal.Consumption = c(672.1, 696.8, 737.1, 
> 767.9,
>                          762.8, 779.4, 823.1, 864.3, 903.2, 927.6),
>                        row.names = c("1", "2", "3", "4", "5", "6", "7", 
> "8", "9", "10"))
>
> attach( table5.1 )
> demo.ols1 <- ols1( Personal.Consumption, Disposable.Income )
> demo.lm <- lm( Personal.Consumption ~ Disposable.Income )
>
> cat( "\n-------------------------------------\n" )
> cat(   "Simple regression manually calculated\n" )
> cat(   "-------------------------------------" )
> print( demo.ols1 )
>
> cat( "----------------------------\n" )
> cat( "Simple regression using lm()\n" )
> cat( "----------------------------" )
> print( demo.lm )
> detach( table5.1 )
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-
> FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._._
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From shito at seinan-gu.ac.jp  Sat May 11 10:32:01 2002
From: shito at seinan-gu.ac.jp (Wataru Shito)
Date: Sat, 11 May 2002 17:32:01 +0900
Subject: [R] Bug on Mac version of lm()?
In-Reply-To: <9C7F7570-649B-11D6-BE69-000393860F3C@stat.ucla.edu>
References: <873cwzz76d.wl@localhost.seinan-gu.ac.jp>
	<9C7F7570-649B-11D6-BE69-000393860F3C@stat.ucla.edu>
Message-ID: <87znz784qm.wl@localhost.seinan-gu.ac.jp>

Dear Prof. Leeuw,

Thank you very much for your information.  I downloaded the version
1.5.0 that you maintained.  It works fine now without upgrading any
dynamic libraries in my system.  It must have been something wrong
with the binary of the previous version.

Again, thank you very much.  It really saved my time.

------------
Wataru Shito
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Sat May 11 11:22:53 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Sat, 11 May 2002 11:22:53 +0200
Subject: [R] Is this a bug of pweibull()?
In-Reply-To: <200205110113.KAA12762@ibm.stat.ncku.edu.tw>
References: <200205110113.KAA12762@ibm.stat.ncku.edu.tw>
Message-ID: <15580.58093.684791.719655@gargle.gargle.HOWL>

>>>>> "Lu" == Lu Chi-Hsien Joseph <cjlu at ibm.stat.ncku.edu.tw> writes:

    Lu> In rw1050, I found that
    >> pweibull(3:10, 2)
    Lu> [1] 0.9998766 0.9999999 1.0000000 1.0000000       NaN       NaN
    Lu> [7]       NaN       NaN
    Lu> Warning message: 
    Lu> NaNs produced in: pweibull(q, shape, scale, lower.tail, log.p) 

    Lu> more surprisingly,
    >> pweibull(3:10, 2.1)
    Lu> [1] 0.9999566 1.0000000 1.0000000      -Inf       NaN       NaN
    Lu> [7]       NaN       NaN
    Lu> Warning message: 
    Lu> NaNs produced in: pweibull(q, shape, scale, lower.tail, log.p) 

    Lu> Is this a bug of pweibull() in rw1050?

Probably a problem with Windows / Math library behavior.
The above example works fine in three different Unix versions I
have access to (on Saturday morning).

Can others, particularly Windows users, check this?

Thanks,
Martin Maechler

    >> version
    Lu> _              
    Lu> platform i386-pc-mingw32
    Lu> arch     i386           
    Lu> os       mingw32        
    Lu> system   i386, mingw32  
    Lu> status                  
    Lu> major    1              
    Lu> minor    5.0            
    Lu> year     2002           
    Lu> month    04             
    Lu> day      29             
    Lu> language R    

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat May 11 12:20:53 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 11 May 2002 11:20:53 +0100 (BST)
Subject: [R] Is this a bug of pweibull()?
In-Reply-To: <15580.58093.684791.719655@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.31.0205111116250.26836-100000@gannet.stats>

It's a bug in R's replacement for expm1 (which I believe you wrote
Martin).  I've just spent 30mins debugging this: it's giving wrong answers
for large negative x.

On Sat, 11 May 2002, Martin Maechler wrote:

> >>>>> "Lu" == Lu Chi-Hsien Joseph <cjlu at ibm.stat.ncku.edu.tw> writes:
>
>     Lu> In rw1050, I found that
>     >> pweibull(3:10, 2)
>     Lu> [1] 0.9998766 0.9999999 1.0000000 1.0000000       NaN       NaN
>     Lu> [7]       NaN       NaN
>     Lu> Warning message:
>     Lu> NaNs produced in: pweibull(q, shape, scale, lower.tail, log.p)
>
>     Lu> more surprisingly,
>     >> pweibull(3:10, 2.1)
>     Lu> [1] 0.9999566 1.0000000 1.0000000      -Inf       NaN       NaN
>     Lu> [7]       NaN       NaN
>     Lu> Warning message:
>     Lu> NaNs produced in: pweibull(q, shape, scale, lower.tail, log.p)
>
>     Lu> Is this a bug of pweibull() in rw1050?
>
> Probably a problem with Windows / Math library behavior.
> The above example works fine in three different Unix versions I
> have access to (on Saturday morning).
>
> Can others, particularly Windows users, check this?
>
> Thanks,
> Martin Maechler
>
>     >> version
>     Lu> _
>     Lu> platform i386-pc-mingw32
>     Lu> arch     i386
>     Lu> os       mingw32
>     Lu> system   i386, mingw32
>     Lu> status
>     Lu> major    1
>     Lu> minor    5.0
>     Lu> year     2002
>     Lu> month    04
>     Lu> day      29
>     Lu> language R
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat May 11 11:06:48 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 11 May 2002 11:06:48 +0200
Subject: [R] Solaris R installation
References: <20020510194905.87291.qmail@web21208.mail.yahoo.com>
Message-ID: <3CDCDF28.BF9BFFF4@statistik.uni-dortmund.de>



Nee Joe wrote:
> 
> Hi,
> 
> I am trying to install R on Solaris.
> After unpacking, issued the command :
> ./configure --prefix=/home/nj/R/NJ-R
> (as I wanted to install on my local space).
> Gives me the following ouput with the warnings that
> manuals can't be installed, which in turn fails
> make command also.
> 
> C++ compiler seems fine. Any sugeestions?


Either you don't have a version of TeX/LaTeX installed on your system or
the path is not set appropriately.

Uwe Ligges



> Thanks in advance.
> -Nee
> -------------------------
> checking for a BSD-compatible install...
> tools/install-sh -c
> checking whether build environment is sane... yes
> checking whether make sets ${MAKE}... yes
> checking for working aclocal... missing
> checking for working autoconf... missing
> checking for working automake... missing
> checking for working autoheader... missing
> checking for working makeinfo... missing
> checking build system type... sparc-sun-solaris2.8
> checking host system type... sparc-sun-solaris2.8
> loading site script ./config.site
> loading build specific script ./config.site
> checking for pwd... /bin/pwd
> checking whether builddir is srcdir... yes
> checking for gawk... no
> checking for mawk... no
> checking for nawk... nawk
> checking whether ln -s works... yes
> checking for ranlib... :
> checking for bison... bison -y
> checking for ar... no
> checking for javac... /bin/javac
> checking for less... /bin/less
> checking for perl... /bin/perl
> checking whether perl version is at least 5.004... yes
> checking for dvips... no
> checking for tex... no
> checking for latex... no
> checking for makeindex... no
> checking for pdftex... no
> checking for pdflatex... no
> checking for /home/nj/R/R-1.5.0/tools/missing... no
> checking for makeinfo... no
> checking for makeinfo... no
> checking for unzip... /bin/unzip
> checking for zip... /bin/zip
> checking for gcc... gcc
> checking for C compiler default output... a.out
> checking whether the C compiler works... yes
> checking whether we are cross compiling... no
> checking for suffix of executables...
> checking for suffix of object files... o
> checking whether we are using the GNU C compiler...
> yes
> checking whether gcc accepts -g... yes
> checking for ld used by GCC... /usr/ccs/bin/ld
> checking if the linker (/usr/ccs/bin/ld) is GNU ld...
> no
> checking for /usr/ccs/bin/ld option to reload object
> files... -r
> checking for BSD-compatible nm... /usr/ccs/bin/nm -p
> checking how to recognise dependant libraries...
> pass_all
> checking command to parse /usr/ccs/bin/nm -p output...
> ok
> checking how to run the C preprocessor... gcc -E
> checking for ANSI C header files... yes
> checking for sys/types.h... yes
> checking for sys/stat.h... yes
> checking for stdlib.h... yes
> checking for string.h... yes
> checking for memory.h... yes
> checking for strings.h... yes
> checking for inttypes.h... yes
> checking for stdint.h... no
> checking for unistd.h... yes
> checking dlfcn.h usability... yes
> checking dlfcn.h presence... yes
> checking for dlfcn.h... yes
> checking for ranlib... (cached) :
> checking for strip... :
> checking for objdir... .libs
> checking for gcc option to produce PIC... -fPIC
> checking if gcc PIC flag -fPIC works... yes
> checking if gcc static flag -static works... yes
> checking if gcc supports -c -o file.o... yes
> checking if gcc supports -c -o file.lo... yes
> checking if gcc supports -fno-rtti -fno-exceptions...
> yes
> checking whether the linker (/usr/ccs/bin/ld) supports
> shared libraries... yes
> checking how to hardcode library paths into
> programs... immediate
> checking whether stripping libraries is possible... no
> checking dynamic linker characteristics... solaris2.8
> ld.so
> checking if libtool supports shared libraries... yes
> checking whether to build shared libraries... yes
> checking whether to build static libraries... no
> creating libtool
> checking for gcc... (cached) gcc
> checking whether we are using the GNU C compiler...
> (cached) yes
> checking whether gcc accepts -g... (cached) yes
> checking for gcc option to accept ANSI C... none
> needed
> checking whether gcc needs -traditional... no
> checking how to run the C preprocessor... gcc -E
> checking for g77... g77
> checking whether we are using the GNU Fortran 77
> compiler... yes
> checking whether g77 accepts -g... yes
> checking for g++... g++
> checking whether we are using the GNU C++ compiler...
> yes
> checking whether g++ accepts -g... yes
> checking how to run the C++ preprocessor... g++ -E
> checking for main in -lm... yes
> checking for sin in -lm... yes
> checking for main in -lncurses... no
> checking for main in -ltermcap... yes
> checking for dlopen in -ldl... yes
> checking for rl_callback_read_char in -lreadline... no
> checking for ANSI C header files... (cached) yes
> checking whether time.h and sys/time.h may both be
> included... yes
> checking for dirent.h that defines DIR... yes
> checking for library containing opendir... none
> required
> checking for sys/wait.h that is POSIX.1 compatible...
> yes
> checking arpa/inet.h usability... yes
> checking arpa/inet.h presence... yes
> checking for arpa/inet.h... yes
> checking dl.h usability... no
> checking dl.h presence... no
> checking for dl.h... no
> checking for dlfcn.h... (cached) yes
> checking elf.h usability... yes
> checking elf.h presence... yes
> checking for elf.h... yes
> checking fcntl.h usability... yes
> checking fcntl.h presence... yes
> checking for fcntl.h... yes
> checking floatingpoint.h usability... yes
> checking floatingpoint.h presence... yes
> checking for floatingpoint.h... yes
> checking fpu_control.h usability... no
> checking fpu_control.h presence... no
> checking for fpu_control.h... no
> checking grp.h usability... yes
> checking grp.h presence... yes
> checking for grp.h... yes
> checking ieee754.h usability... no
> checking ieee754.h presence... no
> checking for ieee754.h... no
> checking ieeefp.h usability... yes
> checking ieeefp.h presence... yes
> checking for ieeefp.h... yes
> checking locale.h usability... yes
> checking locale.h presence... yes
> checking for locale.h... yes
> checking netdb.h usability... yes
> checking netdb.h presence... yes
> checking for netdb.h... yes
> checking netinet/in.h usability... yes
> checking netinet/in.h presence... yes
> checking for netinet/in.h... yes
> checking pwd.h usability... yes
> checking pwd.h presence... yes
> checking for pwd.h... yes
> checking readline/history.h usability... no
> checking readline/history.h presence... no
> checking for readline/history.h... no
> checking readline/readline.h usability... no
> checking readline/readline.h presence... no
> checking for readline/readline.h... no
> checking rpc/rpc.h usability... yes
> checking rpc/rpc.h presence... yes
> checking for rpc/rpc.h... yes
> checking for strings.h... (cached) yes
> checking sys/param.h usability... yes
> checking sys/param.h presence... yes
> checking for sys/param.h... yes
> checking sys/select.h usability... yes
> checking sys/select.h presence... yes
> checking for sys/select.h... yes
> checking sys/socket.h usability... yes
> checking sys/socket.h presence... yes
> checking for sys/socket.h... yes
> checking for sys/stat.h... (cached) yes
> checking sys/time.h usability... yes
> checking sys/time.h presence... yes
> checking for sys/time.h... yes
> checking sys/times.h usability... yes
> checking sys/times.h presence... yes
> checking for sys/times.h... yes
> checking sys/utsname.h usability... yes
> checking sys/utsname.h presence... yes
> checking for sys/utsname.h... yes
> checking for unistd.h... (cached) yes
> checking errno.h usability... yes
> checking errno.h presence... yes
> checking for errno.h... yes
> checking stdarg.h usability... yes
> checking stdarg.h presence... yes
> checking for stdarg.h... yes
> checking for string.h... (cached) yes
> checking whether setjmp.h is POSIX.1 compatible... yes
> checking for GNU C library with version >= 2... no
> checking return type of signal handlers... void
> checking for pid_t... yes
> checking for size_t... yes
> checking for blkcnt_t... yes
> checking for type of socket length... socklen_t *
> checking whether byte ordering is bigendian... yes
> checking for an ANSI C-conforming const... yes
> checking for int... yes
> checking size of int... 4
> checking for long... yes
> checking size of long... 4
> checking for long long... yes
> checking size of long long... 8
> checking for long double... yes
> checking size of long double... 16
> checking whether gcc accepts -M for generating
> dependencies... yes
> checking whether gcc supports -c -o FILE.lo... yes
> checking how to get verbose linking output from g77...
> -v
> checking for Fortran 77 libraries...  -L/usr/ccs/lib
> -L/usr/lib -L/usr/local/lib
> -L/usr/local/lib/gcc-lib/sparc-sun-solaris2.8/2.95.2
> -L/usr/ccs/bin -ldl -ltermcap -lg2c -lm
> checking for dummy main to link with Fortran 77
> libraries... none
> checking for Fortran 77 name-mangling scheme... lower
> case, underscore, extra underscore
> checking whether g77 and gcc agree on int and
> double... yes
> checking whether g77 and gcc agree on double
> complex... yes
> checking whether g77 supports -c -o FILE.lo... yes
> checking whether g++ accepts -M for generating
> dependencies... yes
> checking whether g++ supports -c -o FILE.lo... yes
> checking for xmkmf... /usr/openwin/bin/xmkmf
> checking for working alloca.h... yes
> checking for alloca... yes
> checking for access... yes
> checking for chdir... yes
> checking for expm1... yes
> checking for fcntl... yes
> checking for finite... yes
> checking for ftruncate... yes
> checking for getcwd... yes
> checking for getgrgid... yes
> checking for getpwuid... yes
> checking for getuid... yes
> checking for hypot... yes
> checking for isascii... yes
> checking for isnan... yes
> checking for log1p... yes
> checking for matherr... yes
> checking for mkfifo... yes
> checking for popen... yes
> checking for putenv... yes
> checking for rint... yes
> checking for setenv... no
> checking for strcoll... yes
> checking for stat... yes
> checking for strptime... yes
> checking for system... yes
> checking for times... yes
> checking for unsetenv... no
> checking for acosh... yes
> checking for asinh... yes
> checking for atanh... yes
> checking for snprintf... yes
> checking for strdup... yes
> checking for strncasecmp... yes
> checking for vsnprintf... yes
> checking whether acosh is declared... yes
> checking whether asinh is declared... yes
> checking whether atanh is declared... yes
> checking whether snprintf is declared... yes
> checking whether strdup is declared... yes
> checking whether strncasecmp is declared... yes
> checking whether vsnprintf is declared... yes
> checking for library containing connect... -lsocket
> checking for library containing gethostbyname... -lnsl
> checking for library containing xdr_string... none
> required
> checking for __setfpucw... no
> checking for working calloc... yes
> checking for working finite... yes
> checking for working log... no
> checking for working strptime... yes
> checking for sgemm_... no
> checking for ATL_xerbla in -latlas... no
> checking for sgemm_ in -lblas... no
> checking for sgemm_ in -lblas... (cached) no
> checking for sgemm_ in -lblas... (cached) no
> checking for X... libraries /usr/openwin/lib, headers
> /usr/openwin/include
> checking whether -R must be followed by a space... no
> checking for gethostbyname... yes
> checking for connect... yes
> checking for remove... yes
> checking for shmat... yes
> checking for IceConnectionNumber in -lICE... yes
> checking for tclConfig.sh... no
> checking for tclConfig.sh in library
> (sub)directories... no
> checking for tkConfig.sh... no
> checking for tkConfig.sh in library
> (sub)directories... no
> checking for tcl.h... no
> checking for finite... (cached) yes
> checking for isnan... (cached) yes
> checking whether isfinite is declared... no
> checking whether isnan is declared... yes
> checking whether you have IEEE 754 floating-point
> arithmetic... yes
> checking for BSD networking... yes
> checking if jpeglib version >= 6b... no
> checking for main in -lz... yes
> checking if libpng version >= 1.0.5... no
> checking for XDR support... yes
> checking for gzeof in -lz... yes
> checking zlib.h usability... yes
> checking zlib.h presence... yes
> checking for zlib.h... yes
> checking if zlib version >= 1.1.3... yes
> checking whether zlib support needs to be compiled...
> no
> checking for BZ2_bzlibVersion in -lbz2... no
> checking whether leap seconds are treated according to
> POSIX... yes
> checking for setitimer... yes
> checking for lpr... lpr
> checking for paperconf... false
> configure: creating ./config.status
> config.status: creating Makeconf
> config.status: creating Makefile
> config.status: creating afm/Makefile
> config.status: creating doc/Makefile
> config.status: creating doc/html/Makefile
> config.status: creating doc/html/search/Makefile
> config.status: creating doc/manual/Makefile
> config.status: creating etc/Makefile
> config.status: creating etc/Makeconf
> config.status: creating etc/Renviron
> config.status: creating m4/Makefile
> config.status: creating share/Makefile
> config.status: creating src/Makefile
> config.status: creating src/appl/Makefile
> config.status: creating src/extra/Makefile
> config.status: creating src/extra/xdr/Makefile
> config.status: creating src/extra/zlib/Makefile
> config.status: creating src/include/Makefile
> config.status: creating src/include/Rmath.h
> config.status: creating src/include/R_ext/Makefile
> config.status: creating src/library/Makefile
> config.status: creating src/library/base/DESCRIPTION
> config.status: creating src/library/base/Makefile
> config.status: creating src/library/ctest/DESCRIPTION
> config.status: creating src/library/ctest/Makefile
> config.status: creating src/library/ctest/src/Makefile
> config.status: creating src/library/eda/DESCRIPTION
> config.status: creating src/library/eda/Makefile
> config.status: creating src/library/eda/src/Makefile
> config.status: creating src/library/lqs/DESCRIPTION
> config.status: creating src/library/lqs/Makefile
> config.status: creating src/library/lqs/src/Makefile
> config.status: creating
> src/library/methods/DESCRIPTION
> config.status: creating src/library/methods/Makefile
> config.status: creating
> src/library/methods/src/Makefile
> config.status: creating src/library/modreg/DESCRIPTION
> config.status: creating src/library/modreg/Makefile
> config.status: creating
> src/library/modreg/src/Makefile
> config.status: creating src/library/mva/DESCRIPTION
> config.status: creating src/library/mva/Makefile
> config.status: creating src/library/mva/src/Makefile
> config.status: creating src/library/nls/DESCRIPTION
> config.status: creating src/library/nls/Makefile
> config.status: creating src/library/nls/src/Makefile
> config.status: creating src/library/profile/Makefile
> config.status: creating
> src/library/stepfun/DESCRIPTION
> config.status: creating src/library/stepfun/Makefile
> config.status: creating
> src/library/splines/DESCRIPTION
> config.status: creating src/library/splines/Makefile
> config.status: creating
> src/library/splines/src/Makefile
> config.status: creating src/library/tcltk/DESCRIPTION
> config.status: creating src/library/tcltk/Makefile
> config.status: creating src/library/tcltk/src/Makefile
> config.status: creating src/library/tools/DESCRIPTION
> config.status: creating src/library/tools/Makefile
> config.status: creating src/library/ts/DESCRIPTION
> config.status: creating src/library/ts/Makefile
> config.status: creating src/library/ts/src/Makefile
> config.status: creating src/main/Makefile
> config.status: creating src/modules/Makefile
> config.status: creating src/modules/X11/Makefile
> config.status: creating src/modules/gnome/Makefile
> config.status: creating src/modules/internet/Makefile
> config.status: creating src/modules/lapack/Makefile
> config.status: creating src/modules/vfonts/Makefile
> config.status: creating src/nmath/Makefile
> config.status: creating src/nmath/standalone/Makefile
> config.status: creating src/scripts/Makefile
> config.status: creating src/scripts/COMPILE
> config.status: creating src/scripts/INSTALL
> config.status: creating src/scripts/REMOVE
> config.status: creating src/scripts/R.sh
> config.status: creating src/scripts/Rdconv
> config.status: creating src/scripts/Rdindex
> config.status: creating src/scripts/Rprof
> config.status: creating src/scripts/SHLIB
> config.status: creating src/scripts/Sd2Rd
> config.status: creating src/scripts/build
> config.status: creating src/scripts/check
> config.status: creating src/scripts/f77
> config.status: creating src/unix/Makefile
> config.status: creating tests/Makefile
> config.status: creating tests/Embedding/Makefile
> config.status: creating tests/Examples/Makefile
> config.status: creating tools/Makefile
> config.status: creating src/include/config.h
> config.status: src/include/config.h is unchanged
> config.status: executing stamp-h commands
> 
> R is now configured for sparc-sun-solaris2.8
> 
>   Source directory:          .
>   Installation directory:    /home/nj/R/NJ-R/
>   C compiler:                gcc  -g -O2
>   C++ compiler:              g++  -g -O2
>   FORTRAN compiler:          g77  -g -O2
> 
>   X11 support:               yes
>   Gnome support:             no
>   Tcl/Tk support:            no
>   Readline support:          no
> 
>   R profiling support:       yes
>   R as a shared library:     no
> 
> __________________________________________________
> 
> Yahoo! Shopping - Mother's Day is May 12th!
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Sat May 11 13:55:34 2002
From: jfox at mcmaster.ca (John Fox)
Date: Sat, 11 May 2002 07:55:34 -0400
Subject: [R] Rsquared in summary(lm)
Message-ID: <5.1.0.14.2.20020511074855.01d63010@mcmail.cis.mcmaster.ca>

Dear Wataru,

On Sat May 11 2002 - 05:19:35 CEST Wataru Shito wrote:

>Dear everybody who responded to my question.
>
>As you probably read the correspondence with John Fox, it seems the
>bug for only Mac version. I am sorry that I caused some trouble
>posting the script with some bugs.
>
>Anyway, thank you again for all of your help.

Actually, since I wrote to you privately, people on the list will not have 
seen my message. (To clarify, I confirmed that the regression was 
calculated properly by R 1.5.0 under Windows 2000; I don't have a Mac.)

Regards,
  John

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sundar.dorai-raj at pdf.com  Sat May 11 14:25:17 2002
From: sundar.dorai-raj at pdf.com (Sundar Dorai-Raj)
Date: Sat, 11 May 2002 07:25:17 -0500
Subject: [R] Is this a bug of pweibull()?
References: <200205110113.KAA12762@ibm.stat.ncku.edu.tw>
Message-ID: <3CDD0DAD.C042CC35@pdf.com>

> 
> In rw1050, I found that
> > pweibull(3:10, 2)
> [1] 0.9998766 0.9999999 1.0000000 1.0000000       NaN       NaN
> [7]       NaN       NaN
> Warning message:
> NaNs produced in: pweibull(q, shape, scale, lower.tail, log.p)
> 
> more surprisingly,
> > pweibull(3:10, 2.1)
> [1] 0.9999566 1.0000000 1.0000000      -Inf       NaN       NaN
> [7]       NaN       NaN
> Warning message:
> NaNs produced in: pweibull(q, shape, scale, lower.tail, log.p)
> 
> Is this a bug of pweibull() in rw1050?

Looks like a bug in the expm1() C-function.

> expm1(-100)
[1] NaN
Warning message: 
NaNs produced in: expm1(x) 
> exp(-100)-1
[1] -1
> 

One workaround would be to use the lower.tail option:

> 1-pweibull(3:10,2,lower.tail=F)
[1] 0.9998766 0.9999999 1.0000000 1.0000000 1.0000000 1.0000000
1.0000000
[8] 1.0000000
> 1-pweibull(3:10,2.1,lower.tail=F)
[1] 0.9999566 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000
1.0000000
[8] 1.0000000
> 

BTW, this is not a problem in splus6R2.

Sundar

-- 

Sundar Dorai-Raj, Ph.D.
Statistical Methods Engineer
PDF Solutions, Inc.
Richardson TX
(972) 889-3085 x216
(214) 392-7619 cell
sundar.dorai-raj at pdf.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Sat May 11 14:47:44 2002
From: jfox at mcmaster.ca (John Fox)
Date: Sat, 11 May 2002 08:47:44 -0400
Subject: [R] Is this a bug of pweibull()?
In-Reply-To: <15580.58093.684791.719655@gargle.gargle.HOWL>
References: <200205110113.KAA12762@ibm.stat.ncku.edu.tw>
 <200205110113.KAA12762@ibm.stat.ncku.edu.tw>
Message-ID: <5.1.0.14.2.20020511084302.02ca6fe8@mcmail.cis.mcmaster.ca>

Dear Martin,

I get the same output as Joseph:

     > pweibull(3:10, 2)
     [1] 0.9998766 0.9999999 1.0000000 1.0000000       NaN       NaN       NaN
     [8]       NaN
     Warning message:
     NaNs produced in: pweibull(q, shape, scale, lower.tail, log.p)
     > pweibull(3:10, 2.1)
     [1] 0.9999566 1.0000000 1.0000000       NaN       NaN       NaN       NaN
     [8]       NaN
     Warning message:
     NaNs produced in: pweibull(q, shape, scale, lower.tail, log.p)

Verison information (using Windows 2000):

     platform i386-pc-mingw32
     arch     i386
     os       mingw32
     system   i386, mingw32
     status
     major    1
     minor    5.0
     year     2002
     month    04
     day      29
     language R

John


At 11:22 AM 5/11/2002 +0200, Martin Maechler wrote:
> >>>>> "Lu" == Lu Chi-Hsien Joseph <cjlu at ibm.stat.ncku.edu.tw> writes:
>
>     Lu> In rw1050, I found that
>     >> pweibull(3:10, 2)
>     Lu> [1] 0.9998766 0.9999999 1.0000000 1.0000000       NaN       NaN
>     Lu> [7]       NaN       NaN
>     Lu> Warning message:
>     Lu> NaNs produced in: pweibull(q, shape, scale, lower.tail, log.p)
>
>     Lu> more surprisingly,
>     >> pweibull(3:10, 2.1)
>     Lu> [1] 0.9999566 1.0000000 1.0000000      -Inf       NaN       NaN
>     Lu> [7]       NaN       NaN
>     Lu> Warning message:
>     Lu> NaNs produced in: pweibull(q, shape, scale, lower.tail, log.p)
>
>     Lu> Is this a bug of pweibull() in rw1050?
>
>Probably a problem with Windows / Math library behavior.
>The above example works fine in three different Unix versions I
>have access to (on Saturday morning).
>
>Can others, particularly Windows users, check this?
>
>Thanks,
>Martin Maechler
>
>     >> version
>     Lu> _
>     Lu> platform i386-pc-mingw32
>     Lu> arch     i386
>     Lu> os       mingw32
>     Lu> system   i386, mingw32
>     Lu> status
>     Lu> major    1
>     Lu> minor    5.0
>     Lu> year     2002
>     Lu> month    04
>     Lu> day      29
>     Lu> language R
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat May 11 14:47:27 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 11 May 2002 13:47:27 +0100 (BST)
Subject: [R] Is this a bug of pweibull()?
In-Reply-To: <3CDD0DAD.C042CC35@pdf.com>
Message-ID: <Pine.LNX.4.31.0205111338450.27428-100000@gannet.stats>

On Sat, 11 May 2002, Sundar Dorai-Raj wrote:

> >
> > In rw1050, I found that
> > > pweibull(3:10, 2)
> > [1] 0.9998766 0.9999999 1.0000000 1.0000000       NaN       NaN
> > [7]       NaN       NaN
> > Warning message:
> > NaNs produced in: pweibull(q, shape, scale, lower.tail, log.p)
> >
> > more surprisingly,
> > > pweibull(3:10, 2.1)
> > [1] 0.9999566 1.0000000 1.0000000      -Inf       NaN       NaN
> > [7]       NaN       NaN
> > Warning message:
> > NaNs produced in: pweibull(q, shape, scale, lower.tail, log.p)
> >
> > Is this a bug of pweibull() in rw1050?
>
> Looks like a bug in the expm1() C-function.

As has already been reported hours ago, it is a bug *only* on those
systems using the substitute if the system has no expm1 function.

There is no such thing as `the expm1() C-function'!  Different ones
are used on different ports.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Sat May 11 16:57:30 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sat, 11 May 2002 09:57:30 -0500
Subject: [R] Jump diffusion GARCH modelling/simulation in R ?
In-Reply-To: <F211cwykKF4tnPf2hfn0000f789@hotmail.com>
References: <F211cwykKF4tnPf2hfn0000f789@hotmail.com>
Message-ID: <20020511145730.GA9677@sonny.eddelbuettel.com>

On Sat, May 11, 2002 at 02:42:08AM +0000, Neil Osborne wrote:
> Is there an R package for simulating a GARCH process (preferrably with jump 

That really is simple to do in a little loop. People usually discard the
first n elements of a vector of size n+N, say n=100,N=1000.

As for the jump diffusion part, you are adding a second model on top, so why
not make an explicit mixture?  Draw a uniform, and if >\alpha, add jump
\epsilon, or an entire process, or ...

Dirk

-- 
Good judgement comes from experience; experience comes from bad judgement. 
							    -- Fred Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bartsch at neuroradiologie.uni-wuerzburg.de  Sat May 11 18:06:21 2002
From: bartsch at neuroradiologie.uni-wuerzburg.de (Andreas Bartsch)
Date: Sat, 11 May 2002 18:06:21 +0200
Subject: [R] modelling a particular design
Message-ID: <02May11.180523cest.115201@firewall.kks.uni-wuerzburg.de>

Dear R- and Omega-list-members,
I am trying to make statistical inference about the following design:
A dependent variable y has been measured multiple times, i.e. 4 times
(y1,y2, y3, y4), unfortunately suffering from some successive dropouts (i.e.
the sample sizes varies for y1, y2, y3, and y4). For every y, two other
variables (covariates) were also measured: x & z, and both do presumably
exert an effect on y. At some cutoffs, x can also be trichotomized into 3
ordinal levels constituting a presumed factor (fx) influencing the level of
y at all of the different measurings (1-4). x and fx are rather stable
arcoss the 4 measurements whereas z is not. H0 is that x and fx are not
influencing the level of y (i.e. explaining any variance of y) irrespective
of  (i.e. controlled for) z at any of the measurements.
(1) What would be a good way of testing for the hypothesis in the context of
a GLM or a canonical regression analysis? I can see that in a parametric
testing and for a single measurement of y a simple multiple linear
regression (MLR) or an ANCOVA (or a RANCOVA in a nonparametric approach)
would do the trick. However, I am not sure how to tackle the issue facing
repeated and at least biologically somehow interdependent measurements and
the goal to include as much measurements as possible even though the sample
size differs. I thought about running an MLR for x and an ANCOVA for fx
seperately for y1, y2, y3 and y4 but I am not sure if this would require a
correction for multiple testings and if this is in fact the best approach at
all. Pooling all 4 measurements, on the other hand, would mean to pretend
that they were all derived from different subjects which is clearly not the
case. So, basically I don?t really know how to treat the testing.
(2) Is there an implementation in R or Omega to perform such testing? How
would that run?
Hopefully, the question isn?t too trivial to the list - I am not a
statisticician and just fed up with the comercial stats software... Thank
you very much in advance-
Andreas Bartsch, MD

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From juli at ceam.es  Sat May 11 19:03:51 2002
From: juli at ceam.es (juli g. pausas)
Date: Sat, 11 May 2002 18:03:51 +0100
Subject: [R] RODBC sqlFetch
Message-ID: <3CDD4EF7.98026500@ceam.es>

Hi,
Thanks for showing me how to use RODBC and odbcConnect. 
Now works nicely. The question I've got now is:

noms <- list.files(pattern=".DBF")
# removing extension names:
noms <- sapply(noms, function(x) as.character(strsplit(x,".DBF")) ,
USE.NAMES=F)

for (i in 1:length(noms))  {
       s <- sqlFetch(bdades, noms[i])
# etc.
}

But it seems that sqlFetch() doesn't accept the name noms[i]. Neither
paste(noms[1], sep = "").
Any suggestion for workaround?

Thanks in advance

Juli

--
Juli G. Pausas
Centro de Estudios Ambientales del Mediterraneo (CEAM)
C/ C.R. Darwin 14, Parc Tecnologic,
46980 Paterna, Valencia, SPAIN
Tel: (+ 34) 96 131 8227; Fax: (+ 34) 96 131 8190
mailto:juli at ceam.es
http://www.gva.es/ceam

GCTE Fire Network - http://www.gva.es/ceam/FireNetwork
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat May 11 18:31:10 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 11 May 2002 17:31:10 +0100 (BST)
Subject: [R] modelling a particular design
In-Reply-To: <02May11.180523cest.115201@firewall.kks.uni-wuerzburg.de>
Message-ID: <Pine.LNX.4.31.0205111724150.28053-100000@gannet.stats>

A lot of basic information is missing.  For example, is y a continuous
measurement?  What do you mean by GLM? (Warning, SAS and R mean different
things.) ....

If y is indeed continuous, I think lme (in R's recommended package nlme)
will do what you want, with a random effect for subject.  It does need
some learning.  The Pinheiro & Bates book will help a lot, provided you
have the background knowledge they presume.

AFAIK there is no suitable software in Omegahat.

On Sat, 11 May 2002, Andreas Bartsch wrote:

> Dear R- and Omega-list-members,
> I am trying to make statistical inference about the following design:
> A dependent variable y has been measured multiple times, i.e. 4 times
> (y1,y2, y3, y4), unfortunately suffering from some successive dropouts (i.e.
> the sample sizes varies for y1, y2, y3, and y4). For every y, two other
> variables (covariates) were also measured: x & z, and both do presumably
> exert an effect on y. At some cutoffs, x can also be trichotomized into 3
> ordinal levels constituting a presumed factor (fx) influencing the level of
> y at all of the different measurings (1-4). x and fx are rather stable
> arcoss the 4 measurements whereas z is not. H0 is that x and fx are not
> influencing the level of y (i.e. explaining any variance of y) irrespective
> of  (i.e. controlled for) z at any of the measurements.
> (1) What would be a good way of testing for the hypothesis in the context of
> a GLM or a canonical regression analysis? I can see that in a parametric
> testing and for a single measurement of y a simple multiple linear
> regression (MLR) or an ANCOVA (or a RANCOVA in a nonparametric approach)
> would do the trick. However, I am not sure how to tackle the issue facing
> repeated and at least biologically somehow interdependent measurements and
> the goal to include as much measurements as possible even though the sample
> size differs. I thought about running an MLR for x and an ANCOVA for fx
> seperately for y1, y2, y3 and y4 but I am not sure if this would require a
> correction for multiple testings and if this is in fact the best approach at
> all. Pooling all 4 measurements, on the other hand, would mean to pretend
> that they were all derived from different subjects which is clearly not the
> case. So, basically I don´t really know how to treat the testing.
> (2) Is there an implementation in R or Omega to perform such testing? How
> would that run?
> Hopefully, the question isn´t too trivial to the list - I am not a
> statisticician and just fed up with the comercial stats software... Thank
> you very much in advance-
> Andreas Bartsch, MD
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From syed at saudionline.com.sa  Sat May 11 18:37:49 2002
From: syed at saudionline.com.sa (syed gillani)
Date: Sat, 11 May 2002 19:37:49 +0300
Subject: [R] barplot
Message-ID: <000b01c1f90a$30fc39f0$7a05eed5@kfnghbivwbcec0>

Hi all,

I have read in an epiinfo rec file with more than 100 variables and about
5500 rows. Among the variables are the following three: OB, a 0,1 coded
variable indicating the presence of obesity, GEN, a 1,2 coded variable
indicating gender and AGEGP, a variable  with values ranging from 1 to 11,
indicating agegroups.
How could I make a barplot showing male and female obese persons by age
groups?

Thanks
Basharat
syed at saudionline.com.sa


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Sat May 11 18:51:04 2002
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Sat, 11 May 2002 18:51:04 +0200
Subject: [R] barplot
References: <000b01c1f90a$30fc39f0$7a05eed5@kfnghbivwbcec0>
Message-ID: <3CDD4BF8.54A0D437@ci.tuwien.ac.at>

syed gillani wrote:
> 
> Hi all,
> 
> I have read in an epiinfo rec file with more than 100 variables and about
> 5500 rows. Among the variables are the following three: OB, a 0,1 coded
> variable indicating the presence of obesity, GEN, a 1,2 coded variable
> indicating gender and AGEGP, a variable  with values ranging from 1 to 11,
> indicating agegroups.
> How could I make a barplot showing male and female obese persons by age
> groups?

I guess the simplest way is to first create a table with the information
you want, probably something like:
R> mytable <- xtabs(~ GEN + AGEGP, data = mydata, subset = OB == 1)
R> barplot(mytable)
If you code the variables as factors with proper labels then the labels
of the barplot will also be done automatically.
Z

> Thanks
> Basharat
> syed at saudionline.com.sa
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ricardo at icmc.sc.usp.br  Sat May 11 21:25:09 2002
From: ricardo at icmc.sc.usp.br (=?iso-8859-1?Q?Ricardo_Gon=E7alves?=)
Date: Sat, 11 May 2002 16:25:09 -0300
Subject: [R] Silly Question
Message-ID: <000701c1f921$91c63e90$0100000a@stats>

When I try to load my dataset I receive the following message:
> read.table("growth.txt", header = TRUE, row.name=1);
Error in "row.names<-.data.frame"(*tmp*, value = row.names) :
        duplicate row.names are not allowed
The Dataset consists in 98 individuals and 48 variables (at the first line) named Y, X1, X2, ...,
X47.
When I try :
> read.table("growth.txt", header = TRUE);
The data loads to the console but when I try to manipulate it R never founds the object.
Any help will be welcome
Rick



---




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Sat May 11 21:41:27 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 11 May 2002 14:41:27 -0500
Subject: [R] Silly Question
In-Reply-To: <000701c1f921$91c63e90$0100000a@stats>
References: <000701c1f921$91c63e90$0100000a@stats>
Message-ID: <6rpu021nh4.fsf@franz.stat.wisc.edu>

Ricardo Gon?alves <ricardo at icmc.sc.usp.br> writes:

> When I try to load my dataset I receive the following message:
> > read.table("growth.txt", header = TRUE, row.name=1);
> Error in "row.names<-.data.frame"(*tmp*, value = row.names) :
>         duplicate row.names are not allowed
> The Dataset consists in 98 individuals and 48 variables (at the first line) named Y, X1, X2, ...,
> X47.
> When I try :
> > read.table("growth.txt", header = TRUE);
> The data loads to the console but when I try to manipulate it R never founds the object.

Unless you assign the value of a function call to a name, it will be
printed and removed.  Try

growth <- read.table("growth.txt", header = TRUE)
summary(growth)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From spielbergo at t-online.de  Sat May 11 22:28:12 2002
From: spielbergo at t-online.de (Andreas Bartsch)
Date: Sat, 11 May 2002 22:28:12 +0200
Subject: [R] modelling a particular design
References: <200205111631.SAA22702@wrzx35.rz.uni-wuerzburg.de>
Message-ID: <002301c1f92a$60273750$c8fe8550@qualium>

Dear Professor Ripley, dear list members-
thanks a lot for your comments. I am sorry for the missing basics - I wrote
the email after an on-call service this morning.
y is indeed continuous. x and z are as well, fx is ordinal (x trichotomized
at cutoffs). And yes, I think I am after a linear mixed effects model (by
GLM I meant a general linear modelling) but again: I am not sure and don?t
know how to treat the data. I will read through the nlme examples but maybe
someone may point me to crucial aspects my description was missing and a
very brief outline how to proceed using nlme.
TIA for any comments-
Andreas

----- Original Message -----
From: <ripley at stats.ox.ac.uk>
To: "Andreas Bartsch" <bartsch at neuroradiologie.uni-wuerzburg.de>
Cc: <r-help at stat.math.ethz.ch>
Sent: Saturday, May 11, 2002 6:31 PM
Subject: Re: [R] modelling a particular design


A lot of basic information is missing.  For example, is y a continuous
measurement?  What do you mean by GLM? (Warning, SAS and R mean different
things.) ....

If y is indeed continuous, I think lme (in R's recommended package nlme)
will do what you want, with a random effect for subject.  It does need
some learning.  The Pinheiro & Bates book will help a lot, provided you
have the background knowledge they presume.

AFAIK there is no suitable software in Omegahat.

On Sat, 11 May 2002, Andreas Bartsch wrote:

> Dear R- and Omega-list-members,
> I am trying to make statistical inference about the following design:
> A dependent variable y has been measured multiple times, i.e. 4 times
> (y1,y2, y3, y4), unfortunately suffering from some successive dropouts
(i.e.
> the sample sizes varies for y1, y2, y3, and y4). For every y, two other
> variables (covariates) were also measured: x & z, and both do presumably
> exert an effect on y. At some cutoffs, x can also be trichotomized into 3
> ordinal levels constituting a presumed factor (fx) influencing the level
of
> y at all of the different measurings (1-4). x and fx are rather stable
> arcoss the 4 measurements whereas z is not. H0 is that x and fx are not
> influencing the level of y (i.e. explaining any variance of y)
irrespective
> of  (i.e. controlled for) z at any of the measurements.
> (1) What would be a good way of testing for the hypothesis in the context
of
> a GLM or a canonical regression analysis? I can see that in a parametric
> testing and for a single measurement of y a simple multiple linear
> regression (MLR) or an ANCOVA (or a RANCOVA in a nonparametric approach)
> would do the trick. However, I am not sure how to tackle the issue facing
> repeated and at least biologically somehow interdependent measurements and
> the goal to include as much measurements as possible even though the
sample
> size differs. I thought about running an MLR for x and an ANCOVA for fx
> seperately for y1, y2, y3 and y4 but I am not sure if this would require a
> correction for multiple testings and if this is in fact the best approach
at
> all. Pooling all 4 measurements, on the other hand, would mean to pretend
> that they were all derived from different subjects which is clearly not
the
> case. So, basically I don?t really know how to treat the testing.
> (2) Is there an implementation in R or Omega to perform such testing? How
> would that run?
> Hopefully, the question isn?t too trivial to the list - I am not a
> statisticician and just fed up with the comercial stats software... Thank
> you very much in advance-
> Andreas Bartsch, MD
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ricardo at icmc.sc.usp.br  Sun May 12 00:09:27 2002
From: ricardo at icmc.sc.usp.br (=?iso-8859-1?Q?Ricardo_Gon=E7alves?=)
Date: Sat, 11 May 2002 19:09:27 -0300
Subject: [R] User Function
Message-ID: <000f01c1f938$84da7a40$0100000a@stats>

Dear All
I trying to use a precompiled function.
I load it and then I type:
function <-bicreg(args)
R return a syntax error.
What's wrong?
Thanks
Rick


---




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ricardo at icmc.sc.usp.br  Sun May 12 00:28:38 2002
From: ricardo at icmc.sc.usp.br (=?iso-8859-1?Q?Ricardo_Gon=E7alves?=)
Date: Sat, 11 May 2002 19:28:38 -0300
Subject: [R] Error Message
Message-ID: <002f01c1f93b$332b0a90$0100000a@stats>

Dear R-Users,
Could someone tell me what means the following message:

> results <- bicreg(y, x, wt = rep(1, length(y)), strict = F, OR = 20)
Error in as.double.default(y) : (list) object cannot be coerced to vector type 14

This error could be related to the fact of I trying to use a S-plus function in R?
Thanks
Rick Da-Silva


---





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pem at theriver.com  Sun May 12 00:49:50 2002
From: pem at theriver.com (Patrick McKnight)
Date: 11 May 2002 15:49:50 -0700
Subject: [R] deleting invariant rows and cols in a matrix
Message-ID: <1021157390.30846.69.camel@copernicus>

Greetings,

I couldn't find any existing function that would allow me to scan a
matrix and eliminate invariant rows and columns so I have started to
write a simple routine from scratch.  The following code fails because
the array index goes out of bounds for obvious reasons you'll see
shortly.

Start with some data

x <- read.table("myex.dat",header=T)
x

  v1 v2 v3 v4 v5 id
1  1  0  1  2  4  1
2  1  1  1  1  1  2
3  1  2  3  1  4  3
4  1  3  4  2  4  4
5  2  2  2  2  2  5

Here's my function

---- begin R code ----

elimnovar <- function(x,first.item=NULL,nitems=NULL,responses=NULL){

# Data prep - store as matrix, strip off id's, get variable names

dat <- as.matrix(x)                                      
item.dat <- dat[,first.item:(first.item + nitems - 1)]   
inames <- dimnames(item.dat)[[2]]

# Eliminate zero variance items and persons

# Store data in temp name and keep original

clean <- item.dat

# Initialize the stop variable

stp <- 0

# Start cleanup process for both cols and rows

while (stp != 1){
  stp.row <- rep(0,nrow(clean))
  stp.col <- rep(0,ncol(clean))

# Start with rows

  for (i in 1:nrow(clean)){
    sdrow <- sd(clean[i,])
    if (sdrow==0) clean <- clean[i * -1,]
    if (sdrow==0) stp.row[i] <- 1
  }

# Next check columns

  for (j in 1:ncol(clean)){
    sdcol <- sd(clean[,j])
    if (sdcol==0) clean <- clean[,j * -1]
    if (sdcol==0) stp.col[j] <- 1
  }

# Do we need to continue with the process?

  if (sum(stp.row)==0 && sum(stp.col)==0) stp <- 1
}

# Output cleaned data to new dataset name

cleaned <<- clean

}

---- end R code ----


So my questions are:

1.  How can I create an array of rows and column numbers to later
delete?  I realize that the code above is running into problems because
the for loop is indexing non-existent rows/cols after they have been
deleted.  The deletion process must occur after the loop.  I know how to
easily drop a row or a column while in the for loop but storing those
rows and column numbers and then deleting them after the loop just
escapes me.  Any suggestions?

2.  Is there a more efficient way to complete this task?  I don't
proclaim to be a programmer - a hack at best - but I can't imagine that
there is not a simpler method for achieving the goal of eliminating
invariant rows and columns.

Thanks in advance for any and all suggestions.


-- 
Cheers,

Patrick
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Sun May 12 03:17:39 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sat, 11 May 2002 21:17:39 -0400
Subject: [R] deleting invariant rows and cols in a matrix
In-Reply-To: <1021157390.30846.69.camel@copernicus>; from pem@theriver.com on Sat, May 11, 2002 at 03:49:50PM -0700
References: <1021157390.30846.69.camel@copernicus>
Message-ID: <20020511211739.A28457@cattell.psych.upenn.edu>

On 05/11/02 15:49, Patrick McKnight wrote:
>Greetings,
>
>I couldn't find any existing function that would allow me to scan a
>matrix and eliminate invariant rows and columns so I have started to
>write a simple routine from scratch.  The following code fails because
>the array index goes out of bounds for obvious reasons you'll see
>shortly.

I'm not going to work through your example, but here is a way to
do it.  This _eliminates_ the rows and columns of matrix m1.  It
counts rows and columns as being "no variance" only in the
original matrix.  (You might imagine doing this over and over so
that all rows and columns have some variance.  That is an
exercise for the reader.)  The output is m2.

rowzeros <- apply(m1,1,sd)==0
colzeros <- apply(m1,2,sd)==0
m2 <- m1[-rowzeros,-colzeros]

If you apply this to
m1 <- matrix(c(1,1,1,1,2,3,1,4,5),3,)
you get

> m2
     [,1] [,2]
[1,]    2    4
[2,]    3    5

Jon
-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Sun May 12 04:31:42 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Sat, 11 May 2002 22:31:42 -0400
Subject: still trouble (RE: [R] Compiling R-1.5.0 failed on AIX4.3)
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC2CC@usrymx10.merck.com>

Dear R-help,

I deleted `methods' from the list of packages in Makeconf.in and was able to
get through the compilation.  However, `make check' fails, and R seems to
have trouble loading share libs.  When starting R, it complained about not
finding the X libs and quits.  If I specify --gui=none, then it starts but
complains about not being able to load the shared lib for `ctest'.  Loading
any packages with shared libs give the same error.

Following the platform notes in R-admin manual, I set
MAIN_LDFLAGS="-Wl,-brtl" and SHLIB_LDFLAGS="-Wl,-G", but that didn't seem to
solve the problem.

R is now configured for powerpc-ibm-aix4.3.2.0

  Source directory:          .
  Installation directory:    /.../merck.com/fs/user/liawand/aix
  C compiler:                gcc  -mno-fp-in-toc -g -O2
  C++ compiler:              g++  -g -O2
  FORTRAN compiler:          g77  -g -O2

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            no
  Readline support:          yes

  R profiling support:       yes
  R as a shared library:     no

Any hints/helps are much appreciated!!

Regards,
Andy

> -----Original Message-----
> From: Liaw, Andy [mailto:andy_liaw at merck.com]
> Sent: Friday, May 03, 2002 3:17 PM
> To: 'R-help at stat.math.ethz.ch'
> Subject: [R] Compiling R-1.5.0 failed on AIX4.3
> 
> 
> Dear R-help,
> 
> I've having some trouble building R on AIX.  I'm using 
> gcc/g77/g++.  The
> error occurs when building the methods package:
> 
> gmake[4]: Entering directory
> `/.../merck.com/fs/user/liawand/R-1.5.0/src/library
> /methods'
> dumping R code in package 'methods'
> Fatal error: The X11 shared library could not be loaded.
>   The error was 
> 
> gmake[4]: *** [../../../library/methods/R/all.rda] Error 2
> gmake[4]: Leaving directory
> `/.../merck.com/fs/user/liawand/R-1.5.0/src/library/
> methods'
> gmake[3]: *** [all] Error 2
> gmake[3]: Leaving directory
> `/.../merck.com/fs/user/liawand/R-1.5.0/src/library/
> methods'
> gmake[2]: *** [R] Error 1
> gmake[2]: Leaving directory
> `/.../merck.com/fs/user/liawand/R-1.5.0/src/library'
> gmake[1]: *** [R] Error 1
> gmake[1]: Leaving directory 
> `/.../merck.com/fs/user/liawand/R-1.5.0/src'
> gmake: *** [R] Error 1
> 
> I went through the fairly long thread on R-devel a while ago regarding
> difficulties on AIX, and saw that there was a similar 
> problem, but didn't
> see any solution.  Can anyone help?
> 
> TIA!
> 
> Regards,
> Andy
> 
> 
> --------------------------------------------------------------
> ----------------
> Notice: This e-mail message, together with any attachments, 
> contains information of Merck & Co., Inc. (Whitehouse 
> Station, New Jersey, USA) that may be confidential, 
> proprietary copyrighted and/or legally privileged, and is 
> intended solely for the use of the individual or entity named 
> on this message. If you are not the intended recipient, and 
> have received this message in error, please immediately 
> return this by e-mail and then delete it.
> 
> ==============================================================
> ================
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 
> --------------------------------------------------------------
> ----------------
> Notice: This e-mail message, together with any attachments, 
> contains information of Merck & Co., Inc. (Whitehouse 
> Station, New Jersey, USA) that may be confidential, 
> proprietary copyrighted and/or legally privileged, and is 
> intended solely for the use of the individual or entity named 
> on this message. If you are not the intended recipient, and 
> have received this message in error, please immediately 
> return this by e-mail and then delete it.
> 
> ==============================================================
> ================
> 


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjlu at ibm.stat.ncku.edu.tw  Sun May 12 11:15:06 2002
From: cjlu at ibm.stat.ncku.edu.tw (Lu Chi-Hsien Joseph)
Date: Sun, 12 May 2002 18:15:06 +0900
Subject: [R] Is this a bug of pweibull()? (Follow up)
Message-ID: <200205120915.SAA23098@ibm.stat.ncku.edu.tw>


Please allow me to add just a little more about this:
nothing wrong with pweibull(), namely, the two cases I reported:
pweibull(3:10, 2) and pweibull(3:10, 2.1),
in rw1041 and earlier version.

I wonder this might just due to the change from rw1041 to rw1050,
however, I can't find anything relevant (seems to me) in the News
or Readme.

Thanks Sundar for the suggestion of using 1 - pweibull(..., lower.tail=TRUE),
but I think I rather stay with rw1041 and wait for correction comming since
it would be a not-so-worth effort for me to modify many functions I wrote
at this moment.

Best regards,

Joseph Lu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun May 12 11:44:17 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 12 May 2002 10:44:17 +0100 (BST)
Subject: [R] Is this a bug of pweibull()? (Follow up)
In-Reply-To: <200205120915.SAA23098@ibm.stat.ncku.edu.tw>
Message-ID: <Pine.LNX.4.31.0205121038430.5021-100000@gannet.stats>

On Sun, 12 May 2002, Lu Chi-Hsien Joseph wrote:

> Please allow me to add just a little more about this:
> nothing wrong with pweibull(), namely, the two cases I reported:
> pweibull(3:10, 2) and pweibull(3:10, 2.1),
> in rw1041 and earlier version.
>
> I wonder this might just due to the change from rw1041 to rw1050,
> however, I can't find anything relevant (seems to me) in the News
> or Readme.

It's there in NEWS: search for pweibull:

    o	New function expm1() both in R and in C API, for accurate exp(x)-1;
	precision improvement in pexp() and pweibull() in some cases.
	(PR#1334-5)


I have posted at least twice (and copied to you) that the bug is the
the C code for expm1 used on Windows, new in rw1050.  It's fixed in
R-patched.

Let's not flog this dead horse.

> Thanks Sundar for the suggestion of using 1 - pweibull(..., lower.tail=TRUE),
> but I think I rather stay with rw1041 and wait for correction comming since
> it would be a not-so-worth effort for me to modify many functions I wrote
> at this moment.

There will be no correction until rw1051 unless you build R-patched
yourself.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From syed at saudionline.com.sa  Sun May 12 15:14:36 2002
From: syed at saudionline.com.sa (syed gillani)
Date: Sun, 12 May 2002 16:14:36 +0300
Subject: [R] update.packages()
Message-ID: <000901c1f9b6$f7a20880$ac06eed5@kfnghbivwbcec0>

Hello all,

I am running R 1.5.0 on a Pentium 4 1.5 GHz machine running Windows XP
Professional.

update.packages() doesn't work for me.

For a while it goes quiet an then I get the following message:


trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
unable to connect to 'cran.r-project.org'.
Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  :
        cannot open URL
`http://cran.r-project.org/bin/windows/contrib/PACKAGES'

What should I do?

Syed

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun May 12 15:34:21 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 12 May 2002 14:34:21 +0100 (BST)
Subject: [R] update.packages()
In-Reply-To: <000901c1f9b6$f7a20880$ac06eed5@kfnghbivwbcec0>
Message-ID: <Pine.LNX.4.31.0205121428160.6325-100000@gannet.stats>

On Sun, 12 May 2002, syed gillani wrote:

> Hello all,
>
> I am running R 1.5.0 on a Pentium 4 1.5 GHz machine running Windows XP
> Professional.
>
> update.packages() doesn't work for me.
>
> For a while it goes quiet an then I get the following message:
>
>
> trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
> unable to connect to 'cran.r-project.org'.
> Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  :
>         cannot open URL
> `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
>
> What should I do?

Read the documentation, of course.  Try ?download.file for a start.

Can you access cran.r-project.org in a web browser?   I don't know
where .sa is, but I think you should be using a mirror site.

Do you need to set a proxy, for example?  Does it work if you start with
--internet2?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjlu at ibm.stat.ncku.edu.tw  Sun May 12 15:48:22 2002
From: cjlu at ibm.stat.ncku.edu.tw (Lu Chi-Hsien Joseph)
Date: Sun, 12 May 2002 22:48:22 +0900
Subject: [R] Is this a bug of pweibull()? (Follow up)
Message-ID: <200205121348.WAA22808@ibm.stat.ncku.edu.tw>

Dear Prof. Ripley,
                                                                                
Extremely sorry for my ignorance on the new function expm1()
that affects pweibull() in some cases!
Since I am not using C for a long time that also makes me to
ignore the news/changes that involving C codes.

Thanks very much for your response and explanation.
BTW, thanks Prof. Fox for his testing on Win2000.

Best regards,

Joseph Lu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Sun May 12 16:10:29 2002
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Sun, 12 May 2002 07:10:29 -0700
Subject: [R] c/fortran output?
Message-ID: <001101c1f9be$c6078a90$0300a8c0@godzilla>

I recall Mathematica can export "C/FORTRAN" style output. Is there any such
thing in R?


Jeff D. Hamann
Hamann, Donald & Associates, Inc.
PO Box 1421
Corvallis, Oregon USA 97339-1421
Bus. 541-753-7333
Cell. 541-740-5988
jeff_hamann at hamanndonald.com
www.hamanndonald.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From niels.waller at vanderbilt.edu  Sun May 12 18:42:00 2002
From: niels.waller at vanderbilt.edu (Niels Waller)
Date: Sun, 12 May 2002 11:42:00 -0500
Subject: [R] ACE and AVAS
Message-ID: <NDBBLLOPOEMNNHONCHBFCEGICNAA.niels.waller@vanderbilt.edu>


Hello,

I would like to perform a monotone transformation of y (my response
variable) to achieve additivity.
My model is as follows

y~X+items

I do not want to transform X or items (both of these variables are factors)

> X
 [1] 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 3 3 3 3 3 3 3 3 3 4 4 4 4 4 4 4 4 4
5 5 5 5 5 5 5 5 5 6 6 6 6 6 6 6 6 6 7 7 7 7 7 7
[61] 7 7 7 8 8 8 8 8 8 8 8 8
Levels:  1 2 3 4 5 6 7 8
> items
 [1] 6 6 6 6 6 6 6 6 1 1 1 1 1 1 1 1 8 8 8 8 8 8 8 8 7 7 7 7 7 7 7 7 4 4 4 4
4 4 4 4 9 9 9 9 9 9 9 9 2 2 2 2 2 2 2 2 3 3 3 3
[61] 3 3 3 3 5 5 5 5 5 5 5 5
Levels:  1 2 3 4 5 6 7 8 9
> y
 [1] 0.00 0.00 0.00 0.00 0.00 0.00 0.27 0.00 0.73 0.06 0.04 0.04 0.19 0.06
0.23 0.51 0.21 0.64 0.07 0.15 0.08 0.39 0.18 0.33
[25] 0.61 0.52 0.67 0.18 0.24 0.12 0.40 0.52 0.51 0.64 0.68 0.79 0.13 0.33
0.30 0.51 0.73 0.68 0.68 0.84 0.78 0.13 0.28 0.64
[49] 0.58 0.95 0.91 0.77 0.97 0.78 0.17 0.47 0.85 0.82 1.00 0.93 0.90 0.97
0.90 0.17 0.85 1.00 0.98 1.00 1.00 1.00 1.00 1.00


I have several questions:

(1) if I combine X and items by cbind(X,items) I loose their factor status.
Obviously I should be doing something else.
(2) I do not appear to be interpreting the help file correctly.  I thought
that if I only wanted to transform y then I would say

XX<-cbind(X,items)
ace(XX,y,mon=0)

(3) The function returns a value called $z  - but this value is not
documented. What is it?

Any and all tips would be greatly appreciated.

Thanks

Niels Waller


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Sun May 12 18:50:34 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Sun, 12 May 2002 18:50:34 +0200 (MET DST)
Subject: [R] Redundancy analysis
Message-ID: <Pine.OSF.3.96.1020512184645.30870A-100000@paleo>


I've searched the R site for any package
doing redundancy analysis and could not find
any. Just prior to write a function for it 
would like
to make sure in the list that this type of
analysis is actually not available in R
right now. 

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From syed at saudionline.com.sa  Sun May 12 20:00:14 2002
From: syed at saudionline.com.sa (syed gillani)
Date: Sun, 12 May 2002 21:00:14 +0300
Subject: [R] update.packages()
Message-ID: <000d01c1f9de$de63e870$4607eed5@kfnghbivwbcec0>

Thank you very much,

--internet2 worked perfectly well.
.sa is Saudi Arabia

Regards
Syed

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Sun May 12 22:16:13 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sun, 12 May 2002 16:16:13 -0400
Subject: [R] deleting invariant rows and cols in a matrix
In-Reply-To: <20020511211739.A28457@cattell.psych.upenn.edu>; from baron@cattell.psych.upenn.edu on Sat, May 11, 2002 at 09:17:39PM -0400
References: <1021157390.30846.69.camel@copernicus> <20020511211739.A28457@cattell.psych.upenn.edu>
Message-ID: <20020512161613.A19882@cattell.psych.upenn.edu>

>On 05/11/02 15:49, Patrick McKnight wrote:
>>Greetings,
>>
>>I couldn't find any existing function that would allow me to scan a
>>matrix and eliminate invariant rows and columns so I have started to
>>write a simple routine from scratch.  The following code fails because
>>the array index goes out of bounds for obvious reasons you'll see
>>shortly.

Turns out my original idea didn't work, so I also figured out how
to do it recursively so that you get a matrix with no invariant
rows and columns, even if the invariant ones arise after deleting
other ones.  The function is mcyc, below.  Probably more
complicated than needed, but it works.

---------

mtest <- function(m1)
{
rowzeros <- apply(m1,1,sd)==0
colzeros <- apply(m1,2,sd)==0
m2 <- m1[rowzeros==F,colzeros==F]
d <- sum(dim(m1)-dim(m2))
return(m2,d)
}

mcyc <- function(m2)
{
m3 <- mtest(m2)
while(m3$d!=0) {m2 <- m3$m2;m3 <- mtest(m2)}
return(m3$m2)
}

-------
For example:

> mcyc(matrix(c(1,1,1,1,4,3,1,2,2,4,4,4),3,))
[1] 4 3
-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pem at theriver.com  Sun May 12 22:35:27 2002
From: pem at theriver.com (Patrick McKnight)
Date: 12 May 2002 13:35:27 -0700
Subject: [R] deleting invariant rows and cols in a matrix
In-Reply-To: <20020512161613.A19882@cattell.psych.upenn.edu>
References: <1021157390.30846.69.camel@copernicus>
	<20020511211739.A28457@cattell.psych.upenn.edu> 
	<20020512161613.A19882@cattell.psych.upenn.edu>
Message-ID: <1021235727.30845.86.camel@copernicus>

Jon,

Thanks greatly.  Yes, I tried to implement your first solution but the
returned matrix was NULL.  I will use your solution below and try Chuck
Cleland's solution and send back a note to the list which one was most
efficient.  Thanks for taking the time to help me with this problem.  

BTW, Chuck's solution was to use the following code:

mymat[which(apply(mymat, 1,var) > 0), which(apply(mymat, 2, var) > 0)]

and then, of course, I would need a loop to ensure that no new rows or
columns were invariant after deleting the rows/cols in each round.

Thanks again. 

Cheers,

Patrick


On Sun, 2002-05-12 at 13:16, Jonathan Baron wrote:
> >On 05/11/02 15:49, Patrick McKnight wrote:
> >>Greetings,
> >>
> >>I couldn't find any existing function that would allow me to scan a
> >>matrix and eliminate invariant rows and columns so I have started to
> >>write a simple routine from scratch.  The following code fails because
> >>the array index goes out of bounds for obvious reasons you'll see
> >>shortly.
> 
> Turns out my original idea didn't work, so I also figured out how
> to do it recursively so that you get a matrix with no invariant
> rows and columns, even if the invariant ones arise after deleting
> other ones.  The function is mcyc, below.  Probably more
> complicated than needed, but it works.
> 
> ---------
> 
> mtest <- function(m1)
> {
> rowzeros <- apply(m1,1,sd)==0
> colzeros <- apply(m1,2,sd)==0
> m2 <- m1[rowzeros==F,colzeros==F]
> d <- sum(dim(m1)-dim(m2))
> return(m2,d)
> }
> 
> mcyc <- function(m2)
> {
> m3 <- mtest(m2)
> while(m3$d!=0) {m2 <- m3$m2;m3 <- mtest(m2)}
> return(m3$m2)
> }
> 
> -------
> For example:
> 
> > mcyc(matrix(c(1,1,1,1,4,3,1,2,2,4,4,4),3,))
> [1] 4 3
> -- 
> Jonathan Baron, Professor of Psychology, University of Pennsylvania
> Home page: http://www.sas.upenn.edu/~baron
-- 
Cheers,

Patrick
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fred at poleto.com  Mon May 13 01:50:01 2002
From: fred at poleto.com (Frederico Zanqueta Poleto)
Date: Sun, 12 May 2002 20:50:01 -0300
Subject: [R] Generalized Estimating Functions
Message-ID: <3CDEFFA9.7090009@poleto.com>

  Hi,

I'm trying to fit a marginal model via GEE but I'm getting strange 
results and few problems.
If I set the working correlation as exchangeable I'm getting the same 
fitting when I set as independent. Comparing to SAS results it shouldn't 
happen.
If I try to use another working correlation (like AR-M or stat_M_dep), R 
just exits without giving any error message.
Another doubt is how R estimates the scale parameter for Poisson? I get 
1.36 in R, 1.25 in SAS (estimation by the square root of DEVIANCE/DOF) 
and 1.17 (estimation by the square root of Pearson's Chi-Square/DOF).
I'm using R 1.4.1 but all the problems apply for S-Plus 2000 too.
I hope anybody can help me.

Sincerely,

-- 
Frederico Zanqueta Poleto
fred at poleto.com - ICQ# 4129787 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rachel at stat.auckland.ac.nz  Mon May 13 03:23:36 2002
From: rachel at stat.auckland.ac.nz (Rachel Cunliffe)
Date: Mon, 13 May 2002 13:23:36 +1200
Subject: [R] Histograms rotated, side-by-side
Message-ID: <KEEMIAHKLPCAIPGIMGIMAEIJDCAA.rachel@stat.auckland.ac.nz>

Hi there,

I am wanting to create 8 side-by-side histograms which have been rotated 90
degrees clockwise from how they usually sit.. all with the same scales.  Is
someone able to help me out?

Thanks so much,
Rachel Cunliffe

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mai at ms.uky.edu  Mon May 13 05:21:05 2002
From: mai at ms.uky.edu (Mai Zhou)
Date: Sun, 12 May 2002 23:21:05 -0400 (EDT)
Subject: [R] Rweb
Message-ID: <200205130321.g4D3L6j02199@t1.mscf.uky.edu>

Dear help: has anyone got Rweb to run under windows?
If yes, any advice would be appreciated.

Thanks.

Mai Zhou
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ken_lee at tynesys.com  Mon May 13 05:45:56 2002
From: ken_lee at tynesys.com (ken_lee)
Date: Mon, 13 May 2002 11:45:56 +0800
Subject: [R] plot() the length of axis labels problem
In-Reply-To: <3CDEFFA9.7090009@poleto.com>
Message-ID: <IPECKKKLFINFHEGMEKKGKEILCAAA.ken_lee@tynesys.com>

Dear all,
      I want to chage the scale oder when I use the plot (x , y ,xlim=c(xmin,xmax), ylim=c(ymin,ymax) ) the default scale order was given like 
x axis labels are 60,70,80,90,100 ,if I could , I hold axis labels are 60,65,70,75,80,85,90,95,100.
 
Thanks 

Ken

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon May 13 08:23:01 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 13 May 2002 08:23:01 +0200
Subject: [R] plot() the length of axis labels problem
References: <IPECKKKLFINFHEGMEKKGKEILCAAA.ken_lee@tynesys.com>
Message-ID: <3CDF5BC5.A835CE82@statistik.uni-dortmund.de>



ken_lee wrote:
> 
> Dear all,
>       I want to chage the scale oder when I use the plot (x , y ,xlim=c(xmin,xmax), ylim=c(ymin,ymax) ) the default scale order was given like
> x axis labels are 60,70,80,90,100 ,if I could , I hold axis labels are 60,65,70,75,80,85,90,95,100.

Use axis(). Example:
 plot(60:100, 60:100, xaxt="n")
 axis(1, at=seq(60, 100, 5))

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Mon May 13 12:22:50 2002
From: ernesto at ipimar.pt (Ernesto Jardim)
Date: 13 May 2002 11:22:50 +0100
Subject: [R] GLM questions
Message-ID: <1021285370.20776.13.camel@gandalf>

Hi


I'm doing a glm analysis and I have two doubts (at least :)

1) When I run the function it gives a lot of warnings (see below) what
they mean ? (may be I'm ignorant about this analysis ...)

glm.poisson<-glm(log(Jkij+1)~fac.ano+fac.tri+fac.icesr+fac.mat+fac.ano:fac.icesr+fac.ano:fac.tri,family=poisson())

warnings()

40: non-integer x = 1.252763
41: non-integer x = 1.864785
42: non-integer x = 2.140066
43: non-integer x = 2.944439
44: non-integer x = 1.252763
45: non-integer x = 3.139439
46: non-integer x = 2.772589
47: non-integer x = 1.945910
48: non-integer x = 2.505526
49: non-integer x = 3.157000
50: non-integer x = 3.828641

2) How can I save/dump/... the summary(glm.poisson) in a text file to
print ? I've tried

> write.table(summary(glm.poisson),"glm.poisson")
Error in as.data.frame.default(x[[i]], optional = TRUE) : 
        can't coerce summary.glm into a data.frame

and it doesn't work.

Regards and thanks

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May 13 11:15:46 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 13 May 2002 10:15:46 +0100 (BST)
Subject: [R] GLM questions
In-Reply-To: <1021285370.20776.13.camel@gandalf>
Message-ID: <Pine.LNX.4.31.0205131014460.10327-100000@gannet.stats>

On 13 May 2002, Ernesto Jardim wrote:

> Hi
>
>
> I'm doing a glm analysis and I have two doubts (at least :)
>
> 1) When I run the function it gives a lot of warnings (see below) what
> they mean ? (may be I'm ignorant about this analysis ...)
>
> glm.poisson<-glm(log(Jkij+1)~fac.ano+fac.tri+fac.icesr+fac.mat+fac.ano:fac.icesr+fac.ano:fac.tri,family=poisson())

For a Possion model the response should be the counts, not log(counts+1).
You get a log link as default.

>
> warnings()
>
> 40: non-integer x = 1.252763
> 41: non-integer x = 1.864785
> 42: non-integer x = 2.140066
> 43: non-integer x = 2.944439
> 44: non-integer x = 1.252763
> 45: non-integer x = 3.139439
> 46: non-integer x = 2.772589
> 47: non-integer x = 1.945910
> 48: non-integer x = 2.505526
> 49: non-integer x = 3.157000
> 50: non-integer x = 3.828641
>
> 2) How can I save/dump/... the summary(glm.poisson) in a text file to
> print ? I've tried
>
> > write.table(summary(glm.poisson),"glm.poisson")
> Error in as.data.frame.default(x[[i]], optional = TRUE) :
>         can't coerce summary.glm into a data.frame
>
> and it doesn't work.

Use sink.

>
> Regards and thanks
>
> EJ
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Mon May 13 11:18:07 2002
From: siim at obs.ee (Ott Toomet)
Date: Mon, 13 May 2002 11:18:07 +0200 (CEST)
Subject: [R] Histograms rotated, side-by-side
In-Reply-To: <KEEMIAHKLPCAIPGIMGIMAEIJDCAA.rachel@stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.44.0205131115030.7990-100000@localhost.localdomain>

On Mon, 13 May 2002, Rachel Cunliffe wrote:

  |Hi there,
  |
  |I am wanting to create 8 side-by-side histograms which have been rotated 90
  |degrees clockwise from how they usually sit.. all with the same scales.  Is
  |someone able to help me out?

I do not know any histogram function which can display horizontal histogram. 
You have to do a workaround using barplot(horis=TRUE).  E.g. define a
function like this:

horiz.hist <- function(x) {
  a <- hist(x, plot=FALSE)
  barplot(a$density, space=0, horiz=TRUE)
  width <- a$breaks[2] - a$breaks[1]
  axis(2, at=(pretty(a$breaks) - a$breaks[1])/width,
       labels=pretty(a$breaks))
}

And now you can say

> par(mfrow=c(1,8))
> for(i in 1:8) horiz.hist(rnorm(100))

It works for me.  You may consider playing further to get equal scale for
all the histograms.

Cheers,

Ott

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ken_lee at tynesys.com  Mon May 13 11:33:12 2002
From: ken_lee at tynesys.com (ken_lee)
Date: Mon, 13 May 2002 17:33:12 +0800
Subject: [R] How to comment a paragraph? 
In-Reply-To: <3CDF5BC5.A835CE82@statistik.uni-dortmund.de>
Message-ID: <IPECKKKLFINFHEGMEKKGOEIMCAAA.ken_lee@tynesys.com>

Dear all,
     I just knew the prompt "#" can comment a line,but tow to comment a paragraph more than one line?

Thanks 

Ken
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May 13 11:52:54 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 13 May 2002 10:52:54 +0100 (BST)
Subject: [R] How to comment a paragraph? 
In-Reply-To: <IPECKKKLFINFHEGMEKKGOEIMCAAA.ken_lee@tynesys.com>
Message-ID: <Pine.LNX.4.31.0205131051280.10556-100000@gannet.stats>

On Mon, 13 May 2002, ken_lee wrote:

> Dear all,
>      I just knew the prompt "#" can comment a line,but tow to comment a paragraph more than one line?

# in front of each line (easy in ESS mode in emacs) or
if(0) {
paragraph
}

if the 	`paragraph' is syntactically correct code.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Mon May 13 11:58:47 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Mon, 13 May 2002 09:58:47 +0000
Subject: [R] Histograms rotated, side-by-side
References: <Pine.LNX.4.44.0205131115030.7990-100000@localhost.localdomain>
Message-ID: <3CDF8E57.29EC16F7@sentoo.sn>

An alternative solution is to use barchart (after transformation of the
data to get groups and sizes or means). This will ensure that plots are
on the same scale:

library(lattice)
data(barley)
barchart(variety ~ yield | year * site,
          data = barley, horizontal = T,
          ylab = "Barley Yield (bushels/acre)",
          scales = list(x = list(0, abbreviate = TRUE, minlength = 5)))

Best,

Renaud

Ott Toomet wrote:
> 
> On Mon, 13 May 2002, Rachel Cunliffe wrote:
> 
>   |Hi there,
>   |
>   |I am wanting to create 8 side-by-side histograms which have been rotated 90
>   |degrees clockwise from how they usually sit.. all with the same scales.  Is
>   |someone able to help me out?
> 
> I do not know any histogram function which can display horizontal histogram.
> You have to do a workaround using barplot(horis=TRUE).  E.g. define a
> function like this:
> 
> horiz.hist <- function(x) {
>   a <- hist(x, plot=FALSE)
>   barplot(a$density, space=0, horiz=TRUE)
>   width <- a$breaks[2] - a$breaks[1]
>   axis(2, at=(pretty(a$breaks) - a$breaks[1])/width,
>        labels=pretty(a$breaks))
> }
> 
> And now you can say
> 
> > par(mfrow=c(1,8))
> > for(i in 1:8) horiz.hist(rnorm(100))
> 
> It works for me.  You may consider playing further to get equal scale for
> all the histograms.
> 
> Cheers,
> 
> Ott
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From juli at ceam.es  Mon May 13 13:02:44 2002
From: juli at ceam.es (juli g. pausas)
Date: Mon, 13 May 2002 12:02:44 +0100
Subject: [R] RODBC sqlFetch
References: <5.0.0.25.1.20020512093047.03242900@pop.jcu.edu.au>
Message-ID: <3CDF9D54.D809BF3A@ceam.es>

Richard and F. Tussell,
Thank you very much for your explanations and suggestions.

Richard, and any
See my reply below.



Richard Rowe ha escrito:

> At 18:03 11/05/02 +0100, you wrote:
> >Hi,
> >Thanks for showing me how to use RODBC and odbcConnect.
> >Now works nicely. The question I've got now is:
> >
> >noms <- list.files(pattern=".DBF")
> ># removing extension names:
> >noms <- sapply(noms, function(x) as.character(strsplit(x,".DBF")) ,
> >USE.NAMES=F)
> >
> >for (i in 1:length(noms))  {
> >        s <- sqlFetch(bdades, noms[i])
> ># etc.
> >}
> >
> >But it seems that sqlFetch() doesn't accept the name noms[i]. Neither
> >paste(noms[1], sep = "").
> >Any suggestion for workaround?
>
> Don't know but two suggestions
>
> 1) are the tables {noms} actually tables in the database which is linked
> with the handle bdades?  If they are separate databases then they will
> require separate DSN handles to link ...

I think this is not needed. dbaseclima is the DSN for  a subdiretory (Panel
control, ...), and after
bdades <- odbcConnect("dbaseclima")
I'm able to access to all tables in the subdirectory, without any problem.
The problem is when I want to use the name of a table as an item of an array
of names (noms[i], see below)



> Solution: do some adjusting in the database so the various noms tables are
> in the same database
>
> 2) the characters '[' and ']' seem to have special properties to pass
> names, so noms[i] may not be being interpreted as the i-th member of
> 'noms'  ... as I said earlier I don't know the detail of this construction
>
> Solution: name the table first
>
> >for (i in 1:length(noms))  {
>
>            nomfornow<-noms[i]  ## and you will need to ensure there are
> quote marks around nomfornow
>
> >        s <- sqlFetch(bdades, nomfornow)

I did try this option, but unfortunatly didn't work:

>noms <- list.files(pattern=".DBF")
># removing extension names:
>noms <- sapply(noms, function(x) as.character(strsplit(x,".DBF")) ,
USE.NAMES=F)
>
> nom <- noms[1]
> s <- sqlFetch(bdades, nom)
Error in sqlFetch(bdades, nom) : nom :table not found on channel 0
> nom
[1] "R7031"
> s <- sqlFetch(bdades, "R7031")  # this works perfectly
>


I got ca. 200 files I'd like to read, this is why I would like to use noms[i].

cheers

Juli




> ># etc.
> >}
>
> Richard Rowe
> Senior Lecturer
> Department of Zoology and Tropical Ecology, James Cook University
> Townsville, Queensland 4811, Australia
> fax (61)7 47 25 1570
> phone (61)7 47 81 4851
> e-mail: Richard.Rowe at jcu.edu.au
> http://www.jcu.edu.au/school/tbiol/zoology/homepage.html

--
Juli G. Pausas
Centro de Estudios Ambientales del Mediterraneo (CEAM)
C/ C.R. Darwin 14, Parc Tecnologic,
46980 Paterna, Valencia, SPAIN
Tel: (+ 34) 96 131 8227; Fax: (+ 34) 96 131 8190
mailto:juli at ceam.es
http://www.gva.es/ceam

GCTE Fire Network - http://www.gva.es/ceam/FireNetwork


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Mon May 13 12:11:48 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Mon, 13 May 2002 06:11:48 -0400
Subject: [R] How to comment a paragraph?
In-Reply-To: <IPECKKKLFINFHEGMEKKGOEIMCAAA.ken_lee@tynesys.com>; from ken_lee@tynesys.com on Mon, May 13, 2002 at 05:33:12PM +0800
References: <3CDF5BC5.A835CE82@statistik.uni-dortmund.de> <IPECKKKLFINFHEGMEKKGOEIMCAAA.ken_lee@tynesys.com>
Message-ID: <20020513061148.A18612@cattell.psych.upenn.edu>

On 05/13/02 17:33, ken_lee wrote:
>Dear all,
>     I just knew the prompt "#" can comment a line,but tow to comment a paragraph more than one line?

If the line you just typed is what you consider a paragraph, it
is really one long line, so you have no problem (although other
people might have a problem reading it).

If a "paragraph" is like what I just typed, then, indeed, it has
line breaks in the middle.  One way to make paragraphs, or blocks
of code, into comments is to use ESS with Emacs or Xemacs.  (See
Software/Other on http://cran.r-project.org.)  You mark the block
(with ctrl-space, for example), then use the command M-x
comment-region.  M-x works as alt-x for me.

This is how I save blocks of code that I want to remember but
don't want to run every time I load a data set.
-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May 13 12:26:49 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 13 May 2002 11:26:49 +0100 (BST)
Subject: [R] RODBC sqlFetch
In-Reply-To: <3CDF9D54.D809BF3A@ceam.es>
Message-ID: <Pine.LNX.4.31.0205131125170.10653-100000@gannet.stats>

You need to modify sqlFetch, which starts

"sqlFetch" <-
function (channel, sqtable, ..., colnames = FALSE, rownames = FALSE)
{
    if (channel < 0)
        stop("invalid channel")
    if (missing(sqtable))
        stop("Missing parameter")
    tablename <- as.character(substitute(sqtable))

replace that last line by tablename <- sqtable.

BDR


On Mon, 13 May 2002, juli g. pausas wrote:

> Richard and F. Tussell,
> Thank you very much for your explanations and suggestions.
>
> Richard, and any
> See my reply below.
>
>
>
> Richard Rowe ha escrito:
>
> > At 18:03 11/05/02 +0100, you wrote:
> > >Hi,
> > >Thanks for showing me how to use RODBC and odbcConnect.
> > >Now works nicely. The question I've got now is:
> > >
> > >noms <- list.files(pattern=".DBF")
> > ># removing extension names:
> > >noms <- sapply(noms, function(x) as.character(strsplit(x,".DBF")) ,
> > >USE.NAMES=F)
> > >
> > >for (i in 1:length(noms))  {
> > >        s <- sqlFetch(bdades, noms[i])
> > ># etc.
> > >}
> > >
> > >But it seems that sqlFetch() doesn't accept the name noms[i]. Neither
> > >paste(noms[1], sep = "").
> > >Any suggestion for workaround?
> >
> > Don't know but two suggestions
> >
> > 1) are the tables {noms} actually tables in the database which is linked
> > with the handle bdades?  If they are separate databases then they will
> > require separate DSN handles to link ...
>
> I think this is not needed. dbaseclima is the DSN for  a subdiretory (Panel
> control, ...), and after
> bdades <- odbcConnect("dbaseclima")
> I'm able to access to all tables in the subdirectory, without any problem.
> The problem is when I want to use the name of a table as an item of an array
> of names (noms[i], see below)
>
>
>
> > Solution: do some adjusting in the database so the various noms tables are
> > in the same database
> >
> > 2) the characters '[' and ']' seem to have special properties to pass
> > names, so noms[i] may not be being interpreted as the i-th member of
> > 'noms'  ... as I said earlier I don't know the detail of this construction
> >
> > Solution: name the table first
> >
> > >for (i in 1:length(noms))  {
> >
> >            nomfornow<-noms[i]  ## and you will need to ensure there are
> > quote marks around nomfornow
> >
> > >        s <- sqlFetch(bdades, nomfornow)
>
> I did try this option, but unfortunatly didn't work:
>
> >noms <- list.files(pattern=".DBF")
> ># removing extension names:
> >noms <- sapply(noms, function(x) as.character(strsplit(x,".DBF")) ,
> USE.NAMES=F)
> >
> > nom <- noms[1]
> > s <- sqlFetch(bdades, nom)
> Error in sqlFetch(bdades, nom) : nom :table not found on channel 0
> > nom
> [1] "R7031"
> > s <- sqlFetch(bdades, "R7031")  # this works perfectly
> >
>
>
> I got ca. 200 files I'd like to read, this is why I would like to use noms[i].
>
> cheers
>
> Juli
>
>
>
>
> > ># etc.
> > >}
> >
> > Richard Rowe
> > Senior Lecturer
> > Department of Zoology and Tropical Ecology, James Cook University
> > Townsville, Queensland 4811, Australia
> > fax (61)7 47 25 1570
> > phone (61)7 47 81 4851
> > e-mail: Richard.Rowe at jcu.edu.au
> > http://www.jcu.edu.au/school/tbiol/zoology/homepage.html
>
> --
> Juli G. Pausas
> Centro de Estudios Ambientales del Mediterraneo (CEAM)
> C/ C.R. Darwin 14, Parc Tecnologic,
> 46980 Paterna, Valencia, SPAIN
> Tel: (+ 34) 96 131 8227; Fax: (+ 34) 96 131 8190
> mailto:juli at ceam.es
> http://www.gva.es/ceam
>
> GCTE Fire Network - http://www.gva.es/ceam/FireNetwork
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Mon May 13 20:52:08 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Mon, 13 May 2002 14:52:08 -0400
Subject: [R] Histograms rotated, side-by-side
In-Reply-To: <Pine.LNX.4.44.0205131115030.7990-100000@localhost.localdomain>
References: <KEEMIAHKLPCAIPGIMGIMAEIJDCAA.rachel@stat.auckland.ac.nz>
	<Pine.LNX.4.44.0205131115030.7990-100000@localhost.localdomain>
Message-ID: <20020513145208.3a789f6a.fharrell@virginia.edu>

If you want them exactly back to back see the histbackback function in the Hmisc library.  -Frank Harrell

On Mon, 13 May 2002 11:18:07 +0200 (CEST)
Ott Toomet <siim at obs.ee> wrote:

> On Mon, 13 May 2002, Rachel Cunliffe wrote:
> 
>   |Hi there,
>   |
>   |I am wanting to create 8 side-by-side histograms which have been rotated 90
>   |degrees clockwise from how they usually sit.. all with the same scales.  Is
>   |someone able to help me out?
> 
> I do not know any histogram function which can display horizontal histogram. 
> You have to do a workaround using barplot(horis=TRUE).  E.g. define a
> function like this:
> 
> horiz.hist <- function(x) {
>   a <- hist(x, plot=FALSE)
>   barplot(a$density, space=0, horiz=TRUE)
>   width <- a$breaks[2] - a$breaks[1]
>   axis(2, at=(pretty(a$breaks) - a$breaks[1])/width,
>        labels=pretty(a$breaks))
> }
> 
> And now you can say
> 
> > par(mfrow=c(1,8))
> > for(i in 1:8) horiz.hist(rnorm(100))
> 
> It works for me.  You may consider playing further to get equal scale for
> all the histograms.
> 
> Cheers,
> 
> Ott
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From al011757 at alumail.uji.es  Mon May 13 13:25:19 2002
From: al011757 at alumail.uji.es (PAULO VILA SANCHEZ)
Date: Mon, 13 May 2002 13:25:19 +0200 (CEST)
Subject: [R] Interactive R, with wrapper
Message-ID: <1021289119.3cdfa29fc0b9a@webmail.uji.es>

Hello team of R, We have a question about the interactivity of R in Windows, 

We are implementing a wrapper in C# for displaying graphics generated by R 
functions.
The application in C# communicates with R by standard input and standard 
output. (when it is written "interactive()", the response is "FALSE")

The problem we have is when writing  in the standard input "x11()"
It displays a window, but it can not be moved after focusing in the c# app.
The R window ( from command "x11()" ) is able to plot , but , the menu 
disappears , and int cannot refresh.

 Is it possible to know what is going on , and how we can resolve this 
problem ?
Is there a posibility to work through R's standard input and output , and keep 
windows interaction ?









saludos, 
 al011757 at alumail.uji.es  Paulo Vilá
 al011757 at hotmail.com
 http://vila.2y.net

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May 13 13:45:13 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 13 May 2002 12:45:13 +0100 (BST)
Subject: [R] Interactive R, with wrapper
In-Reply-To: <1021289119.3cdfa29fc0b9a@webmail.uji.es>
Message-ID: <Pine.LNX.4.31.0205131229520.12633-100000@gannet.stats>

On Mon, 13 May 2002, PAULO VILA SANCHEZ wrote:

> Hello team of R, We have a question about the interactivity of R in Windows,
>
> We are implementing a wrapper in C# for displaying graphics generated by R
> functions.
> The application in C# communicates with R by standard input and standard
> output. (when it is written "interactive()", the response is "FALSE")

This is with rterm.exe, I presume?

> The problem we have is when writing  in the standard input "x11()"
> It displays a window, but it can not be moved after focusing in the c# app.
> The R window ( from command "x11()" ) is able to plot , but , the menu
> disappears , and int cannot refresh.

This is standard behaviour: C programs block on stdin, so the R eventloop
cannot run.

>  Is it possible to know what is going on , and how we can resolve this
> problem ?

Yes, it is possible, for R is Open Source and there are no secrets.
Users are expected to help themselves, though.  The usual way is to

1) read the documentation (you might find out the correct name of the
standard graphics device that way), and if that fails

2) read the code (src/gnuwin32/system.c in this case).

Have you looked at README.rterm, for example?  (Hint: the answer is in
that README.)

> Is there a posibility to work through R's standard input and output , and keep
> windows interaction ?

Yes.  However, I do suggest you use the DCOM interface, which is designed
for the job you are attempting.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From juli at ceam.es  Mon May 13 15:04:45 2002
From: juli at ceam.es (juli g. pausas)
Date: Mon, 13 May 2002 14:04:45 +0100
Subject: [R] RODBC sqlFetch
References: <Pine.LNX.4.31.0205131125170.10653-100000@gannet.stats>
Message-ID: <3CDFB9ED.6C278265@ceam.es>

Great!
Thank you very much

juli


ripley at stats.ox.ac.uk ha escrito:

> You need to modify sqlFetch, which starts
>
> "sqlFetch" <-
> function (channel, sqtable, ..., colnames = FALSE, rownames = FALSE)
> {
>     if (channel < 0)
>         stop("invalid channel")
>     if (missing(sqtable))
>         stop("Missing parameter")
>     tablename <- as.character(substitute(sqtable))
>
> replace that last line by tablename <- sqtable.
>
> BDR
>
> On Mon, 13 May 2002, juli g. pausas wrote:
>
> > Richard and F. Tussell,
> > Thank you very much for your explanations and suggestions.
> >
> > Richard, and any
> > See my reply below.
> >
> >
> >
> > Richard Rowe ha escrito:
> >
> > > At 18:03 11/05/02 +0100, you wrote:
> > > >Hi,
> > > >Thanks for showing me how to use RODBC and odbcConnect.
> > > >Now works nicely. The question I've got now is:
> > > >
> > > >noms <- list.files(pattern=".DBF")
> > > ># removing extension names:
> > > >noms <- sapply(noms, function(x) as.character(strsplit(x,".DBF")) ,
> > > >USE.NAMES=F)
> > > >
> > > >for (i in 1:length(noms))  {
> > > >        s <- sqlFetch(bdades, noms[i])
> > > ># etc.
> > > >}
> > > >
> > > >But it seems that sqlFetch() doesn't accept the name noms[i]. Neither
> > > >paste(noms[1], sep = "").
> > > >Any suggestion for workaround?
> > >
> > > Don't know but two suggestions
> > >
> > > 1) are the tables {noms} actually tables in the database which is linked
> > > with the handle bdades?  If they are separate databases then they will
> > > require separate DSN handles to link ...
> >
> > I think this is not needed. dbaseclima is the DSN for  a subdiretory (Panel
> > control, ...), and after
> > bdades <- odbcConnect("dbaseclima")
> > I'm able to access to all tables in the subdirectory, without any problem.
> > The problem is when I want to use the name of a table as an item of an array
> > of names (noms[i], see below)
> >
> >
> >
> > > Solution: do some adjusting in the database so the various noms tables are
> > > in the same database
> > >
> > > 2) the characters '[' and ']' seem to have special properties to pass
> > > names, so noms[i] may not be being interpreted as the i-th member of
> > > 'noms'  ... as I said earlier I don't know the detail of this construction
> > >
> > > Solution: name the table first
> > >
> > > >for (i in 1:length(noms))  {
> > >
> > >            nomfornow<-noms[i]  ## and you will need to ensure there are
> > > quote marks around nomfornow
> > >
> > > >        s <- sqlFetch(bdades, nomfornow)
> >
> > I did try this option, but unfortunatly didn't work:
> >
> > >noms <- list.files(pattern=".DBF")
> > ># removing extension names:
> > >noms <- sapply(noms, function(x) as.character(strsplit(x,".DBF")) ,
> > USE.NAMES=F)
> > >
> > > nom <- noms[1]
> > > s <- sqlFetch(bdades, nom)
> > Error in sqlFetch(bdades, nom) : nom :table not found on channel 0
> > > nom
> > [1] "R7031"
> > > s <- sqlFetch(bdades, "R7031")  # this works perfectly
> > >
> >
> >
> > I got ca. 200 files I'd like to read, this is why I would like to use noms[i].
> >
> > cheers
> >
> > Juli
> >
> >
> >
> >
> > > ># etc.
> > > >}
> > >
> > > Richard Rowe
> > > Senior Lecturer
> > > Department of Zoology and Tropical Ecology, James Cook University
> > > Townsville, Queensland 4811, Australia
> > > fax (61)7 47 25 1570
> > > phone (61)7 47 81 4851
> > > e-mail: Richard.Rowe at jcu.edu.au
> > > http://www.jcu.edu.au/school/tbiol/zoology/homepage.html
> >
> > --
> > Juli G. Pausas
> > Centro de Estudios Ambientales del Mediterraneo (CEAM)
> > C/ C.R. Darwin 14, Parc Tecnologic,
> > 46980 Paterna, Valencia, SPAIN
> > Tel: (+ 34) 96 131 8227; Fax: (+ 34) 96 131 8190
> > mailto:juli at ceam.es
> > http://www.gva.es/ceam
> >
> > GCTE Fire Network - http://www.gva.es/ceam/FireNetwork
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

--
Juli G. Pausas
Centro de Estudios Ambientales del Mediterraneo (CEAM)
C/ C.R. Darwin 14, Parc Tecnologic,
46980 Paterna, Valencia, SPAIN
Tel: (+ 34) 96 131 8227; Fax: (+ 34) 96 131 8190
mailto:juli at ceam.es
http://www.gva.es/ceam

GCTE Fire Network - http://www.gva.es/ceam/FireNetwork


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From juli at ceam.es  Mon May 13 15:23:46 2002
From: juli at ceam.es (juli g. pausas)
Date: Mon, 13 May 2002 14:23:46 +0100
Subject: [R] ifelse
Message-ID: <3CDFBE62.CF33F7FE@ceam.es>


I suppose this is a very basic question, but I cannot understant it:

> aa <- data.frame(x = c(rep("x", 3), NA, NA, NA), y= 1:6)
> aa$x[4]
[1] <NA>
Levels:  x
> aa$y[4]
[1] 4
> aa$y[4] <- ifelse(aa$x[4]=="x", NA, aa$y[4])
> aa$y[4]
[1] NA
>

I was expecting aa$y[4] not to be changed, but I may missundertood
something.

aa2 <- data.frame(x = c(rep("x", 3), rep("b", 3)), y= 1:6)
aa2$y <- ifelse(aa2$x=="x", NA, aa2$y)

this works OK

(R 1.5.0 on Windows)

juli

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May 13 14:40:25 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 13 May 2002 13:40:25 +0100 (BST)
Subject: [R] ifelse
In-Reply-To: <3CDFBE62.CF33F7FE@ceam.es>
Message-ID: <Pine.LNX.4.31.0205131334480.25326-100000@gannet.stats>

See the NEWS in R 1.5.0 and 150update.txt on developer.r-project.org
about testing equality of possibly missing values.

aa$x[4]=="x" is incorrect usage (and always has been).  The result is now
logical NA, and ifelse(NA, "a", "b") returns NA as the answer is unknown.

Use %in% or identical().

On Mon, 13 May 2002, juli g. pausas wrote:

>
> I suppose this is a very basic question, but I cannot understant it:
>
> > aa <- data.frame(x = c(rep("x", 3), NA, NA, NA), y= 1:6)
> > aa$x[4]
> [1] <NA>
> Levels:  x
> > aa$y[4]
> [1] 4
> > aa$y[4] <- ifelse(aa$x[4]=="x", NA, aa$y[4])
> > aa$y[4]
> [1] NA
> >
>
> I was expecting aa$y[4] not to be changed, but I may missundertood
> something.
>
> aa2 <- data.frame(x = c(rep("x", 3), rep("b", 3)), y= 1:6)
> aa2$y <- ifelse(aa2$x=="x", NA, aa2$y)
>
> this works OK
>
> (R 1.5.0 on Windows)
>
> juli
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dantec at mediagen.fr  Mon May 13 14:59:25 2002
From: dantec at mediagen.fr (dantec@mediagen.fr)
Date: Mon, 13 May 2002 14:59:25 +0200 (CEST)
Subject: [R] list()
In-Reply-To: <Pine.LNX.4.31.0205131125170.10653-100000@gannet.stats>
Message-ID: <Pine.LNX.4.33.0205131456330.14080-100000@localhost.localdomain>

hi!



how can I transform a list as an atomic object?



thanks,


Christelle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May 13 15:12:45 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 13 May 2002 14:12:45 +0100 (BST)
Subject: [R] list()
In-Reply-To: <Pine.LNX.4.33.0205131456330.14080-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.31.0205131411460.24108-100000@gannet.stats>

On Mon, 13 May 2002 dantec at mediagen.fr wrote:

> how can I transform a list as an atomic object?

unlist(), possibly with recursive=TRUE.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Zhuanshi at kjist.ac.kr  Mon May 13 16:40:49 2002
From: Zhuanshi at kjist.ac.kr (Zhuanshi He)
Date: Mon, 13 May 2002 22:40:49 +0800
Subject: [R] Interactive R, with wrapper
References: <1021289119.3cdfa29fc0b9a@webmail.uji.es>
Message-ID: <3CDFD071.6685025E@kjist.ac.kr>

How about save ur graphy to BMP file, and then load it to ur C# interface.?

Z. He


Paulo Vila Sanchez wrote:

> Hello team of R, We have a question about the interactivity of R in Windows,
>
> We are implementing a wrapper in C# for displaying graphics generated by R
> functions.
> The application in C# communicates with R by standard input and standard
> output. (when it is written "interactive()", the response is "FALSE")
>
> The problem we have is when writing  in the standard input "x11()"
> It displays a window, but it can not be moved after focusing in the c# app.
> The R window ( from command "x11()" ) is able to plot , but , the menu
> disappears , and int cannot refresh.
>
>  Is it possible to know what is going on , and how we can resolve this
> problem ?
> Is there a posibility to work through R's standard input and output , and keep
> windows interaction ?
>
> saludos,
>  al011757 at alumail.uji.es  Paulo Vil?
>  al011757 at hotmail.com
>  http://vila.2y.net
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dyang at nrcan.gc.ca  Mon May 13 16:15:07 2002
From: dyang at nrcan.gc.ca (Yang, Richard)
Date: Mon, 13 May 2002 10:15:07 -0400
Subject: [R] Plot fixed effect with covariates failed
Message-ID: <F0E0B899CB43D5118D220002A55113CF21BABF@s2-edm-r1.nofc.cfs.nrcan.gc.ca>

Dear R-help;

	I created a nlme model (Xnlme) with 3 fixed effects B1, B2, and B3.
The random effects and available covariates in the groupedData were
extracted with raned():

>Xnlme.ranef <- ranef(Xnlme, aug = T)

When the fixed effect was plotted against covarites, an error occurred:

>plot(Xnlme.ranef, form = B1 ~ ps + dr + el + sl + as)

an error occurred:

"Error in max(length(x0), length(x1), length(y0), length(y1)) : 
        Argument "x0" is missing, with no default "

Some of the covariates are factors (ps, dr, as) and some continuous. What
did I miss? Any workaround?

Regards,

Richard




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Mon May 13 16:14:48 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Mon, 13 May 2002 10:14:48 -0400
Subject: [R] Summary of Suggestions for poor man's parallel processing
Message-ID: <D7A3CFD7825BD6119B880002A58F06C225290D@groexmb02.pfizer.com>


A couple of years ago I wrote a PERL script for distributing tasks across as
set of machines.  It's available at
http://www.warnes.net/downloads/distribute_pl.txt and you might find it a
useful place to start.

-Greg



> -----Original Message-----
> From: David Kane <David Kane [mailto:a296180 at mica.fmr.com]
> Sent: Friday, May 10, 2002 11:34 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] Summary of Suggestions for poor man's parallel processing
> 
> 
> Thanks to Luke Tierney, Agustin Lobo, Stephen Eglen, A.J. 
> Rossini, Simon Wood
> and Timothy H. Keitt for responding to my question about poor 
> man's parallel
> processing. Much of the substantive material was cc'ed to 
> r-help already, but
> my take is as follows.
> 
> 1) Currently, there is nothing "simple" for solving my problem.
> 
> 2) I thought that Timothy Keitt's description of the use of a 
> relational
>    database for keeping track of different runs was quite interesting.
> 
> 3) It seems clear that the "future" of this sort of activity 
> lies with RPVM
>    (already available on CRAN) and SNOW by Luke Tierney. I found the
>    description of SNOW available at
>    http://www.stat.umn.edu/~luke/R/cluster/cluster.html to be 
> intriguing. 
> 
> 4) Since my needs are so simple, I will probably just hack 
> something together
>    myself that involves splitting my big.list into 4 chunks 
> in Perl and then
>    starting 4 jobs in R from Perl. Once those jobs are 
> complete, I will then
>    start an R job that collects the results. At least that is 
> my current
>    plan. I plan to follow the progress of RPVM and SNOW closely.
> 
> Thanks to all who responded.
> 
> Dave Kane
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Mon May 13 18:09:16 2002
From: ernesto at ipimar.pt (Ernesto Jardim)
Date: 13 May 2002 17:09:16 +0100
Subject: [R] GLM family variance function
Message-ID: <1021306156.3280.25.camel@gandalf>

Hi

Still strugling with GLMs.

I need to use a different variance function for the gamma family. Has
far has I understand, assuming Y~G(\mu,\nu), the glm function uses
V(\mu)=\mu^2 , but I need to use V(\mu)=\mu^2/\nu. I have a problem of
variance proportional to the mean.

Regards

EJ 





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon May 13 18:31:52 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 13 May 2002 09:31:52 -0700 (PDT)
Subject: [R] GLM family variance function
In-Reply-To: <1021306156.3280.25.camel@gandalf>
Message-ID: <Pine.A41.4.44.0205130931340.141066-100000@homer07.u.washington.edu>

On 13 May 2002, Ernesto Jardim wrote:

> Hi
>
> Still strugling with GLMs.
>
> I need to use a different variance function for the gamma family. Has
> far has I understand, assuming Y~G(\mu,\nu), the glm function uses
> V(\mu)=\mu^2 , but I need to use V(\mu)=\mu^2/\nu. I have a problem of
> variance proportional to the mean.

family=quasipoisson() has variance proportional to mean

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon May 13 18:39:18 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 13 May 2002 09:39:18 -0700 (PDT)
Subject: [R] Generalized Estimating Functions
In-Reply-To: <3CDEFFA9.7090009@poleto.com>
Message-ID: <Pine.A41.4.44.0205130934090.141066-100000@homer07.u.washington.edu>

On Sun, 12 May 2002, Frederico Zanqueta Poleto wrote:

>   Hi,
>
> I'm trying to fit a marginal model via GEE but I'm getting strange
> results and few problems.
> If I set the working correlation as exchangeable I'm getting the same
> fitting when I set as independent. Comparing to SAS results it shouldn't
> happen.
> If I try to use another working correlation (like AR-M or stat_M_dep), R
> just exits without giving any error message.

We probably need an example.  The `OME' example in help(gee) gives
different results using exchangeable and independence working
correlations, so it isn't a universal problem.

> Another doubt is how R estimates the scale parameter for Poisson? I get
> 1.36 in R, 1.25 in SAS (estimation by the square root of DEVIANCE/DOF)
> and 1.17 (estimation by the square root of Pearson's Chi-Square/DOF).
> I'm using R 1.4.1 but all the problems apply for S-Plus 2000 too.

This is because 1.36=1.17^2, I should think.  The disperson parameter from
gee() is a variance scale factor not a standard deviation scale factor.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon May 13 18:47:27 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 13 May 2002 09:47:27 -0700 (PDT)
Subject: [R] ACE and AVAS
In-Reply-To: <NDBBLLOPOEMNNHONCHBFCEGICNAA.niels.waller@vanderbilt.edu>
Message-ID: <Pine.A41.4.44.0205130942060.141066-100000@homer07.u.washington.edu>

On Sun, 12 May 2002, Niels Waller wrote:

>
> Hello,
>
> I would like to perform a monotone transformation of y (my response
> variable) to achieve additivity.
> My model is as follows
>
> y~X+items
>
> I do not want to transform X or items (both of these variables are factors)
>
> > X
>  [1] 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 3 3 3 3 3 3 3 3 3 4 4 4 4 4 4 4 4 4
> 5 5 5 5 5 5 5 5 5 6 6 6 6 6 6 6 6 6 7 7 7 7 7 7
> [61] 7 7 7 8 8 8 8 8 8 8 8 8
> Levels:  1 2 3 4 5 6 7 8
> > items
>  [1] 6 6 6 6 6 6 6 6 1 1 1 1 1 1 1 1 8 8 8 8 8 8 8 8 7 7 7 7 7 7 7 7 4 4 4 4
> 4 4 4 4 9 9 9 9 9 9 9 9 2 2 2 2 2 2 2 2 3 3 3 3
> [61] 3 3 3 3 5 5 5 5 5 5 5 5
> Levels:  1 2 3 4 5 6 7 8 9
> > y
>  [1] 0.00 0.00 0.00 0.00 0.00 0.00 0.27 0.00 0.73 0.06 0.04 0.04 0.19 0.06
> 0.23 0.51 0.21 0.64 0.07 0.15 0.08 0.39 0.18 0.33
> [25] 0.61 0.52 0.67 0.18 0.24 0.12 0.40 0.52 0.51 0.64 0.68 0.79 0.13 0.33
> 0.30 0.51 0.73 0.68 0.68 0.84 0.78 0.13 0.28 0.64
> [49] 0.58 0.95 0.91 0.77 0.97 0.78 0.17 0.47 0.85 0.82 1.00 0.93 0.90 0.97
> 0.90 0.17 0.85 1.00 0.98 1.00 1.00 1.00 1.00 1.00
>
>
> I have several questions:
>
> (1) if I combine X and items by cbind(X,items) I loose their factor status.
> Obviously I should be doing something else.

ace() and avas() don't know about factors, and you can't put factors into
matrices.  If you construct a set of indicator variables you could put
them into a matrix.

> (2) I do not appear to be interpreting the help file correctly.  I thought
> that if I only wanted to transform y then I would say
>
> XX<-cbind(X,items)
> ace(XX,y,mon=0)

No. All the variables are transformed.  You probably want to use lin= to
specify linear transformations, equivalent to regression without
transforming.

You'd probably be better off with avas() than ace() -- it's designed to
give additivity and variance stabilisation, which seems to be what you
want for that sort of regression model

>
> (3) The function returns a value called $z  - but this value is not
> documented. What is it?

Random junk from the fortran computations. That's why it's not documented.
Yes, it probably should be removed.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fred at poleto.com  Mon May 13 13:56:19 2002
From: fred at poleto.com (Frederico Zanqueta Poleto)
Date: Mon, 13 May 2002 13:56:19
Subject: [R] Generalized Estimating Functions
In-Reply-To: <Pine.A41.4.44.0205130934090.141066-100000@homer07.u.washington.edu>
References: <Pine.A41.4.44.0205130934090.141066-100000@homer07.u.washington.edu>
Message-ID: <20020513165619.28401.qmail@hm47.locaweb.com.br>

Hi Thomas,

Thank you for your help.
You are right. I've tried the OME example and the working correlation was 
right.
Maybe it is a problem with Poisson, what do you think?

> desreg<-gee
(desovas~ger+pop+fec+ger*pop+ger*fec+pop*fec,id=unidade,data=desovas.ovos.in
viaveis,family=poisson,corstr="exchangeable")
[1] "Beginning Cgee S-function, @(#) geeformula.q 4.13 98/01/27"
[1] "running glm to get initial regression estimate"
[1]  0.93464328  0.02317831  0.29278443  0.21399704  0.11593571  
0.05833780 -0.11513896
> summary(desreg)

 GEE:  GENERALIZED LINEAR MODELS FOR DEPENDENT DATA
 gee S-function, version 4.13 modified 98/01/27 (1998) 

Model:
 Link:                      Logarithm 
 Variance to Mean Relation: Poisson 
 Correlation Structure:     Exchangeable 

Call:
gee(formula = desovas ~ ger + pop + fec + ger * pop + ger * fec + 
    pop * fec, id = unidade, data = desovas.ovos.inviaveis, family = 
poisson, 
    corstr = "exchangeable")

Summary of Residuals:
       Min         1Q     Median         3Q        Max 
-4.5893464 -1.5463047 -0.4124404  1.4106536  9.2329743 


Coefficients:
               Estimate Naive S.E.    Naive z Robust S.E.   Robust z
(Intercept)  0.93464317 0.06012985 15.5437480  0.05954487 15.6964517
ger          0.02317832 0.07001297  0.3310576  0.06915388  0.3351702
pop          0.29278452 0.06565443  4.4594785  0.06505729  4.5004104
fec          0.21399711 0.07252180  2.9507967  0.07150063  2.9929402
ger:pop      0.11593572 0.07355902  1.5760911  0.07318636  1.5841166
ger:fec      0.05833782 0.07000740  0.8333093  0.07054498  0.8269592
pop:fec     -0.11513904 0.07216442 -1.5955098  0.07149595 -1.6104274

Estimated Scale Parameter:  1.366923
Number of Iterations:  1

Working Correlation
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12]
 [1,]    1    0    0    0    0    0    0    0    0     0     0     0
 [2,]    0    0    0    0    0    0    0    0    0     0     0     0
 [3,]    0    0    0    0    0    0    0    0    0     0     0     0
 [4,]    0    0    0    0    0    0    0    0    0     0     0     0
 [5,]    0    0    0    0    0    0    0    0    0     0     0     0
 [6,]    0    0    0    0    0    0    0    0    0     0     0     0
 [7,]    0    0    0    0    0    0    0    0    0     0     0     0
 [8,]    0    0    0    0    0    0    0    0    0     0     0     0
 [9,]    0    0    0    0    0    0    0    0    0     0     0     0
[10,]    0    0    0    0    0    0    0    0    0     0     0     0
[11,]    0    0    0    0    0    0    0    0    0     0     0     0
[12,]    0    0    0    0    0    0    0    0    0     0     0     0


Best regards,
--
Frederico Zanqueta Poleto
fred at poleto.com
--
"It would be possible to describe everything scientifically, but it would 
make no sense; it would be without meaning, as if you described a 
Beethoven symphony as a variation of wave pressure." Albert Einstein


------------- Original message follows -------------

On Sun, 12 May 2002, Frederico Zanqueta Poleto wrote:

>   Hi,
>
> I'm trying to fit a marginal model via GEE but I'm getting strange
> results and few problems.
> If I set the working correlation as exchangeable I'm getting the same
> fitting when I set as independent. Comparing to SAS results it shouldn't
> happen.
> If I try to use another working correlation (like AR-M or stat_M_dep), R
> just exits without giving any error message.

We probably need an example.  The `OME' example in help(gee) gives
different results using exchangeable and independence working
correlations, so it isn't a universal problem.

> Another doubt is how R estimates the scale parameter for Poisson? I get
> 1.36 in R, 1.25 in SAS (estimation by the square root of DEVIANCE/DOF)
> and 1.17 (estimation by the square root of Pearson's Chi-Square/DOF).
> I'm using R 1.4.1 but all the problems apply for S-Plus 2000 too.

This is because 1.36=1.17^2, I should think.  The disperson parameter from
gee() is a variance scale factor not a standard deviation scale factor.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May 13 19:09:46 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 13 May 2002 18:09:46 +0100 (BST)
Subject: [R] Generalized Estimating Functions
In-Reply-To: <20020513165619.28401.qmail@hm47.locaweb.com.br>
Message-ID: <Pine.LNX.4.31.0205131802001.11082-100000@gannet.stats>

On Mon, 13 May 2002, Frederico Zanqueta Poleto wrote:

> Hi Thomas,
>
> Thank you for your help.
> You are right. I've tried the OME example and the working correlation was
> right.
> Maybe it is a problem with Poisson, what do you think?

No, that works too in other examples.

It's most likely a problem with your use of gee, as the working
correlation matrix shows, plus the fact that it only did one iteration.
Please check very carefully all your inputs.

> > desreg<-gee
> (desovas~ger+pop+fec+ger*pop+ger*fec+pop*fec,id=unidade,data=desovas.ovos.in
> viaveis,family=poisson,corstr="exchangeable")
> [1] "Beginning Cgee S-function, @(#) geeformula.q 4.13 98/01/27"
> [1] "running glm to get initial regression estimate"
> [1]  0.93464328  0.02317831  0.29278443  0.21399704  0.11593571
> 0.05833780 -0.11513896
> > summary(desreg)
>
>  GEE:  GENERALIZED LINEAR MODELS FOR DEPENDENT DATA
>  gee S-function, version 4.13 modified 98/01/27 (1998)
>
> Model:
>  Link:                      Logarithm
>  Variance to Mean Relation: Poisson
>  Correlation Structure:     Exchangeable
>
> Call:
> gee(formula = desovas ~ ger + pop + fec + ger * pop + ger * fec +
>     pop * fec, id = unidade, data = desovas.ovos.inviaveis, family =
> poisson,
>     corstr = "exchangeable")
>
> Summary of Residuals:
>        Min         1Q     Median         3Q        Max
> -4.5893464 -1.5463047 -0.4124404  1.4106536  9.2329743
>
>
> Coefficients:
>                Estimate Naive S.E.    Naive z Robust S.E.   Robust z
> (Intercept)  0.93464317 0.06012985 15.5437480  0.05954487 15.6964517
> ger          0.02317832 0.07001297  0.3310576  0.06915388  0.3351702
> pop          0.29278452 0.06565443  4.4594785  0.06505729  4.5004104
> fec          0.21399711 0.07252180  2.9507967  0.07150063  2.9929402
> ger:pop      0.11593572 0.07355902  1.5760911  0.07318636  1.5841166
> ger:fec      0.05833782 0.07000740  0.8333093  0.07054498  0.8269592
> pop:fec     -0.11513904 0.07216442 -1.5955098  0.07149595 -1.6104274
>
> Estimated Scale Parameter:  1.366923
> Number of Iterations:  1
>
> Working Correlation
>       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12]
>  [1,]    1    0    0    0    0    0    0    0    0     0     0     0
>  [2,]    0    0    0    0    0    0    0    0    0     0     0     0
>  [3,]    0    0    0    0    0    0    0    0    0     0     0     0
>  [4,]    0    0    0    0    0    0    0    0    0     0     0     0
>  [5,]    0    0    0    0    0    0    0    0    0     0     0     0
>  [6,]    0    0    0    0    0    0    0    0    0     0     0     0
>  [7,]    0    0    0    0    0    0    0    0    0     0     0     0
>  [8,]    0    0    0    0    0    0    0    0    0     0     0     0
>  [9,]    0    0    0    0    0    0    0    0    0     0     0     0
> [10,]    0    0    0    0    0    0    0    0    0     0     0     0
> [11,]    0    0    0    0    0    0    0    0    0     0     0     0
> [12,]    0    0    0    0    0    0    0    0    0     0     0     0
>
>
> Best regards,
> --
> Frederico Zanqueta Poleto
> fred at poleto.com
> --
> "It would be possible to describe everything scientifically, but it would
> make no sense; it would be without meaning, as if you described a
> Beethoven symphony as a variation of wave pressure." Albert Einstein
>
>
> ------------- Original message follows -------------
>
> On Sun, 12 May 2002, Frederico Zanqueta Poleto wrote:
>
> >   Hi,
> >
> > I'm trying to fit a marginal model via GEE but I'm getting strange
> > results and few problems.
> > If I set the working correlation as exchangeable I'm getting the same
> > fitting when I set as independent. Comparing to SAS results it shouldn't
> > happen.
> > If I try to use another working correlation (like AR-M or stat_M_dep), R
> > just exits without giving any error message.
>
> We probably need an example.  The `OME' example in help(gee) gives
> different results using exchangeable and independence working
> correlations, so it isn't a universal problem.
>
> > Another doubt is how R estimates the scale parameter for Poisson? I get
> > 1.36 in R, 1.25 in SAS (estimation by the square root of DEVIANCE/DOF)
> > and 1.17 (estimation by the square root of Pearson's Chi-Square/DOF).
> > I'm using R 1.4.1 but all the problems apply for S-Plus 2000 too.
>
> This is because 1.36=1.17^2, I should think.  The disperson parameter from
> gee() is a variance scale factor not a standard deviation scale factor.
>
> 	-thomas
>
> Thomas Lumley			Asst. Professor, Biostatistics
> tlumley at u.washington.edu	University of Washington, Seattle
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maurizio.pisati at galactica.it  Mon May 13 20:21:02 2002
From: maurizio.pisati at galactica.it (Maurizio Pisati)
Date: Mon, 13 May 2002 20:21:02 +0200
Subject: [R] Spatio-temporal analysis of homicide rates
Message-ID: <5.1.0.14.1.20020513202058.0252dec0@127.0.0.1>

Dear R-listers,
I would like to carry out a very basic descriptive analysis of homicides 
rates in Italy, taking into account both the spatial dimension (103 
provinces) and the temporal dimension (10 years), but no covariates. In 
practice, what I would like to do is to describe spatio-temporal variation 
of homicide rates, identifying those combinations of province-year where 
the homicide rate is either over- or underrepresented based on Poisson 
expectation.
Is it possible to carry out such an analysis with R? If so, what package 
should be preferred? GLMMGibbs, geoRglm, and function glmmPQL in MASS 
package sound as possible choices to me, but I'm no expert of this kind of 
analysis and I'd much appreciate any indication.
Thank you very much for any help and best regards,
Maurizio Pisati




<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
  Maurizio Pisati
  Associate Professor
  Department of Sociology and Social Research
  University of Milano Bicocca
  Edificio U7
  Via Bicocca degli Arcimboldi, 9
  20126 Milano MI
  Italy
  Tel: +39-02-64487533
  Fax: +39-02-64487561
  E-mail: maurizio.pisati at galactica.it
<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020513/451a5fc2/attachment.html

From maurizio.pisati at galactica.it  Mon May 13 20:23:37 2002
From: maurizio.pisati at galactica.it (Maurizio Pisati)
Date: Mon, 13 May 2002 20:23:37 +0200
Subject: [R] Spatio-temporal analysis of homicide rates
Message-ID: <5.1.0.14.1.20020513202257.0252d580@127.0.0.1>

Dear R-listers,
I would like to carry out a very basic descriptive analysis of homicides 
rates in Italy, taking into account both the spatial dimension (103 
provinces) and the temporal dimension (10 years), but no covariates. In 
practice, what I would like to do is to describe spatio-temporal variation 
of homicide rates, identifying those combinations of province-year where 
the homicide rate is either over- or underrepresented based on Poisson 
expectation.
Is it possible to carry out such an analysis with R? If so, what package 
should be preferred? GLMMGibbs, geoRglm, and function glmmPQL in MASS 
package sound as possible choices to me, but I'm no expert of this kind of 
analysis and I'd much appreciate any indication.
Thank you very much for any help and best regards,
Maurizio Pisati




<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
  Maurizio Pisati           Home:   +39-0331-388988
  Via Castelfidardo, 9      Office: +39-02-64487533 (University of Milano 
Bicocca)
  21052 Busto Arsizio VA    E-mail: maurizio.pisati at galactica.it
  ITALY
<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markus_haag at gmx.at  Mon May 13 21:28:22 2002
From: markus_haag at gmx.at (Markus Haag)
Date: Mon, 13 May 2002 21:28:22 +0200 (MEST)
Subject: [R] plot() function
Message-ID: <17736.1021318102@www35.gmx.net>

Dear List Members,

I have one basic question concerning the plotting abilities of the R
language. I'd like to plot 2 functions (x,y1 and x,y2)  which should appear in one
graphic window but I didn't manage to do that and I haven't found any advice
on that in one of the several FAQ's.
I am only able to plot the first function: plot(x,y1).
any help would be appriciated.

bye,

Markus

-- 
GMX - Die Kommunikationsplattform im Internet.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rnassar at duke.edu  Mon May 13 21:45:02 2002
From: rnassar at duke.edu (Rashid Nassar)
Date: Mon, 13 May 2002 15:45:02 -0400 (EDT)
Subject: [R] plot() function
In-Reply-To: <17736.1021318102@www35.gmx.net>
Message-ID: <Pine.GSO.4.44.0205131543540.1721-100000@godzilla2.acpub.duke.edu>

Markus,

Is this what you want?

plot(x, y1)
points(x, y2)   or  lines(x, y2)

Rashid Nassar

On Mon, 13 May 2002, Markus Haag wrote:

> Dear List Members,
>
> I have one basic question concerning the plotting abilities of the R
> language. I'd like to plot 2 functions (x,y1 and x,y2)  which should appear in one
> graphic window but I didn't manage to do that and I haven't found any advice
> on that in one of the several FAQ's.
> I am only able to plot the first function: plot(x,y1).
> any help would be appriciated.
>
> bye,
>
> Markus
>
> --
> GMX - Die Kommunikationsplattform im Internet.
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon May 13 21:47:04 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 13 May 2002 12:47:04 -0700 (PDT)
Subject: [R] Generalized Estimating Functions
In-Reply-To: <Pine.LNX.4.31.0205131802001.11082-100000@gannet.stats>
Message-ID: <Pine.A41.4.44.0205131246020.141066-100000@homer07.u.washington.edu>

On Mon, 13 May 2002 ripley at stats.ox.ac.uk wrote:

> On Mon, 13 May 2002, Frederico Zanqueta Poleto wrote:
>
> > Hi Thomas,
> >
> > Thank you for your help.
> > You are right. I've tried the OME example and the working correlation was
> > right.
> > Maybe it is a problem with Poisson, what do you think?
>
> No, that works too in other examples.
>
> It's most likely a problem with your use of gee, as the working
> correlation matrix shows, plus the fact that it only did one iteration.
> Please check very carefully all your inputs.
>

In particular check the ordering:

>From help(gee)
     id: a vector which identifies the clusters.  The length of `id'
          should be the same as the number of observations.  Data are
          assumed to be sorted so that observations on a cluster are
          contiguous rows for all entities in the formula.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Mon May 13 22:06:51 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Mon, 13 May 2002 13:06:51 -0700 (PDT)
Subject: [R] plot() function
In-Reply-To: <17736.1021318102@www35.gmx.net>
Message-ID: <Pine.GSO.4.10.10205131305540.7296-100000@quetelet.stat.ucla.edu>

You might want:

plot(x, y1, ylim = range(c(y1, y2)), type="l")
lines(x, y2)

assuming x, y1, and y2 are vectors of numbers.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Mon, 13 May 2002, Markus Haag wrote:

> Dear List Members,
> 
> I have one basic question concerning the plotting abilities of the R
> language. I'd like to plot 2 functions (x,y1 and x,y2)  which should appear in one
> graphic window but I didn't manage to do that and I haven't found any advice
> on that in one of the several FAQ's.
> I am only able to plot the first function: plot(x,y1).
> any help would be appriciated.
> 
> bye,
> 
> Markus
> 
> -- 
> GMX - Die Kommunikationsplattform im Internet.
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jw9 at softhome.net  Mon May 13 22:35:57 2002
From: jw9 at softhome.net (jw9@softhome.net)
Date: Mon, 13 May 2002 14:35:57 -0600
Subject: [R] Tcl/Tk Questions! 
Message-ID: <courier.3CE023AD.0000171C@softhome.net>


Hi, 

I am gonna to design a GUI for my R code. My question is how can I redirect 
the Console Output of my code into the Tk text widget. Any help will be 
appreciated. 

J. Wang 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jzhang at jimmy.harvard.edu  Mon May 13 22:54:58 2002
From: jzhang at jimmy.harvard.edu (John Zhang)
Date: Mon, 13 May 2002 16:54:58 -0400 (EDT)
Subject: [R] Tcl/Tk Questions! 
Message-ID: <200205132054.QAA18486@blaise.dfci.harvard.edu>


------------- Begin Forwarded Message -------------

From: jw9 at softhome.net
To: r-help at stat.math.ethz.ch
Subject: [R] Tcl/Tk Questions! 
Date: Mon, 13 May 2002 14:35:57 -0600
Mime-Version: 1.0
Content-Transfer-Encoding: 7bit
X-Sender: jw9 at softhome.net
X-Originating-IP: [128.205.240.158]


Hi, 

I am gonna to design a GUI for my R code. My question is how can I redirect 
the Console Output of my code into the Tk text widget. Any help will be 
appreciated. 


Read R News Vol.1/3 September 2001. You will find the thing you want and more.



J. Wang 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

------------- End Forwarded Message -------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From myotis at cix.compulink.co.uk  Tue May 14 01:07:00 2002
From: myotis at cix.compulink.co.uk (Graham Smith)
Date: Tue, 14 May 2002 00:07 +0100 (BST)
Subject: [R] installing labDSV library
Message-ID: <memo.371916@cix.compulink.co.uk>

I am trying to install labDSV from http://labdsv.nr.usu.edu/ into 
R-Windows 1.5.0.

It only comes as a TAR file which extracts into folders that seem to match 
those for other libraries DATA, MAN, R and SRC. I have manually copied 
these folders into a folder called labDSV under the Library directory 
under R. 

However when I load the library I get a message that the library contains 
no R code. I have tried zipping the contents of the Tar back up and 
installing use the install package menu command, but that again gives me 
an error that the library contains no R code. The files in the R folder 
all have a "q" extension

According to the documentation on the web site LabDSV should be 
downloadable for SPlus  and R and instructions talk about R, Splus, 
windows and unix/linux.

Can anyone help me sort out what I am doing wrong?

Many Thanks,

Graham S

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.hankin at auckland.ac.nz  Tue May 14 01:48:46 2002
From: r.hankin at auckland.ac.nz (Robin Hankin)
Date: Tue, 14 May 2002 11:48:46 +1200
Subject: [R] Sweave gives different output with different R sessions
Message-ID: <200205132348.g4DNmkx06398@r.hankin.sems.auckland.ac.nz>

Hello everybody

I am using Sweave() to write a paper, but am getting an undesired pink
background on the eps files.

In trying to sort this out, I eventually ran Sweave() on the *same*
.Rnw file from within two separate R sessions; one of them gave pink
output and one gave white output.  This behaviour seems to be
reproducible (one session is ESS and one not) and even happens on the
testfile given in the Sweave() documentation.

The eps files created by the two R sessions differ in two lines which
presumably set the background colour.  My understanding must be flawed
somewhere.

What am I doing wrong?


> R.Version()
$platform
[1] "i686-pc-linux-gnu"

$arch
[1] "i686"

$os
[1] "linux-gnu"

$system
[1] "i686, linux-gnu"

$status
[1] ""

$major
[1] "1"

$minor
[1] "5.0"

$year
[1] "2002"

$month
[1] "04"

$day
[1] "29"

$language
[1] "R"


-- 

Robin Hankin, Lecturer,
School of Geographical and Environmental Science
Private Bag 92019 Auckland
New Zealand

r.hankin at auckland.ac.nz
tel 0064-9-373-7599 x6820; FAX 0064-9-373-7042

as of: Tue May 14 11:34:00 NZST 2002
This (linux) system up continuously for:  257 days, 18 hours, 29 minutes
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roland.Goecke at anu.edu.au  Tue May 14 02:26:24 2002
From: Roland.Goecke at anu.edu.au (Roland Goecke)
Date: Tue, 14 May 2002 10:26:24 +1000
Subject: [R] Functional Data Analysis
Message-ID: <3CE059B0.BF0155A8@anu.edu.au>

Hi,

is there support (i.e. packages or similar) in R for functional data
analysis as suggested by Ramsay (1982) and Besse and Ramsay (1986)?

Cheers
Roland
-- 
E-Mail  : Roland.Goecke at ieee.org
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Tue May 14 04:03:36 2002
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 13 May 2002 22:03:36 -0400
Subject: [R] Functional Data Analysis
References: <3CE059B0.BF0155A8@anu.edu.au>
Message-ID: <3CE07078.37360AB9@bank-banque-canada.ca>

Roland Goecke wrote:
> 
> Hi,
> 
> is there support (i.e. packages or similar) in R for functional data
> analysis as suggested by Ramsay (1982) and Besse and Ramsay (1986)?
> 
About a year ago I roughly converted Ramsay's code into an R package
(excluding the documentation) and ran many of his examples. If you don't
get a better offer, I can send you the script I used to do that.

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jarioksa at sun3.oulu.fi  Tue May 14 07:45:27 2002
From: jarioksa at sun3.oulu.fi (Jari Oksanen)
Date: Tue, 14 May 2002 08:45:27 +0300
Subject: [R] installing labDSV library 
In-Reply-To: Message from myotis@cix.compulink.co.uk (Graham Smith) 
   of "Tue, 14 May 2002 00:07:00 BST." <memo.371916@cix.compulink.co.uk> 
Message-ID: <200205140545.g4E5jS214357@pc112145.oulu.fi>

Graham Smith,

As far as I know, LabDSV is not (yet) released, but can be obtained only
from Dave Roberts's web pages. I think you should try to contact Dave
directly if you have problems (his email address can be found on the
LabDSV home pages). The version of LabDSV I have fails R CMD already
when compiling dynamic libraries.

If you need only some single families of functions, you can put the 
needed *.q file in your working directory (is that `folder' in your 
lingo?) and issue 

source("cca.q")

within your R session. Since most of the support functions (plot,
summary etc.) are together in the same *.q file, this may be sufficient
for you. The documentation is still incomplete, so you may not need to
install all of the package. If you need a more complete set of
functions, you may consider concatenating all *.q files into a single
file called LabDSV and put that where it should be (under LabDSV/R in
library directory in Linux and perhaps something similar in Windows).

As far as I know, Dave Roberts is working with an `official' R release 
for CRAN.

Cheers, jari oksanen
-- 
Jari Oksanen -- Dept Biology, Univ Oulu, 90014 Oulu, Finland
Ph. +358 8 5531526, cell +358 40 5136529, fax +358 8 5531061
email jari.oksanen at oulu.fi, homepage http://cc.oulu.fi/~jarioksa/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From poizot at cnam.fr  Tue May 14 08:12:33 2002
From: poizot at cnam.fr (Poizot Emmanuel)
Date: Tue, 14 May 2002 08:12:33 +0200
Subject: [R] Raster management data
Message-ID: <200205140611.IAA00801@stat.math.ethz.ch>


Hi,
I'm a newbie in R world.
I would like to develop an application that extract contour from objects of 
an image.
- Is R able to manage raster data (i.e., images) ?
- Is there a specific package in change of such management ?
I'm specificaly interest in the Canny filter.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Emmanuel POIZOT
CNAM/INTECHMER
B.P. 324
50103 Cherbourg Cedex
T?l : 33 (0)2 33 88 73 42
Fax : 33 (0)2 33 88 73 39
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 14 08:27:12 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 14 May 2002 07:27:12 +0100 (BST)
Subject: [R] installing labDSV library
In-Reply-To: <memo.371916@cix.compulink.co.uk>
Message-ID: <Pine.GSO.4.44.0205140725190.594-100000@auk.stats>

On Tue, 14 May 2002, Graham Smith wrote:

> I am trying to install labDSV from http://labdsv.nr.usu.edu/ into
> R-Windows 1.5.0.
>
> It only comes as a TAR file which extracts into folders that seem to match
> those for other libraries DATA, MAN, R and SRC. I have manually copied
> these folders into a folder called labDSV under the Library directory
> under R.

That's a *source* package, and you need to INSTALL it.  See the rw-FAQ.

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From myotis at cix.compulink.co.uk  Tue May 14 08:43:00 2002
From: myotis at cix.compulink.co.uk (Graham Smith)
Date: Tue, 14 May 2002 07:43 +0100 (BST)
Subject: [R] installing labDSV library 
Message-ID: <memo.378529@cix.compulink.co.uk>

In-Reply-To: <200205140545.g4E5jS214357 at pc112145.oulu.fi>
Jari,

Many thanks.I am trying to work through the tutorials from the labDSV web 
page, that also use your vegan package, that has prompted the question.

I couldn't find Dave Robert's email address on the web pages or I would 
have emailed him directly, but I shall look again.

I will also try and use the code directly as you suggest.

At some stage Microsoft decided that directories should be called folders 
(or folders called directories, I can't remember, but I think it was when 
WIN95 arrived) I now tend to use them interchangeably.

Any way thanks again, I will make a new start on the tutorials and 
hopefully my first call to labDSV for "vegtrans" will now work using 
source("vegtrans.q")

Cheers,

Graham S

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From myotis at cix.compulink.co.uk  Tue May 14 08:43:00 2002
From: myotis at cix.compulink.co.uk (Graham Smith)
Date: Tue, 14 May 2002 07:43 +0100 (BST)
Subject: [R] installing labDSV library
Message-ID: <memo.378528@cix.compulink.co.uk>

In-Reply-To: <5.1.0.14.2.20020513222648.02cabc90 at mcmail.cis.mcmaster.ca>
> You need to compile the package (or obtain a precompiled Windows binary 
> package in the form of a zip file).

Thanks, I was a little concerned that this was the case, I will have  a 
look at the sources you mention, but I looked at this before and didn't 
really follow what was going on. I shall try harder this time !

Cheers,

Graham S

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From YERUPAJA01 at terra.es  Tue May 14 10:08:53 2002
From: YERUPAJA01 at terra.es (YERUPAJA01)
Date: Tue, 14 May 2002 10:08:53 +0200
Subject: [R] Raster management data
Message-ID: <103b2b62f.b62f103b2@teleline.es>

Hi,

Maybe you should look at these packages (in R):
sgeostat
geoR

And you should look too in:

http://grass.itc.it (an open GIS with R links)

Hope this helps

Antonio Rodr?guez

----- Mensaje Original -----
De: Poizot Emmanuel <poizot at cnam.fr>
Fecha: Martes, Mayo 14, 2002 8:12 am
Asunto: [R] Raster management data

> 
> Hi,
> I'm a newbie in R world.
> I would like to develop an application that extract contour from 
> objects of 
> an image.
> - Is R able to manage raster data (i.e., images) ?
> - Is there a specific package in change of such management ?
> I'm specificaly interest in the Canny filter.
> 
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Emmanuel POIZOT
> CNAM/INTECHMER
> B.P. 324
> 50103 Cherbourg Cedex
> T?l : 33 (0)2 33 88 73 42
> Fax : 33 (0)2 33 88 73 39
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-
> FAQ.htmlSend "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-
> 
request at stat.math.ethz.ch_._._._._._._._._._._._._._._._._._._._._._._.
_._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jos at cantr.net  Tue May 14 10:19:58 2002
From: jos at cantr.net (Jos Elkink)
Date: Tue, 14 May 2002 10:19:58 +0200 (CEST)
Subject: [R] PRINCALS
Message-ID: <Pine.LNX.4.41.0205141018360.10511-100000@213.84.125.49>

Greetings all,

Does anyone know whether an implementation of PRINCALS for R exists? SPSS
has decided to move it out of the base distribution and I need it badly.

cya

Jos

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jan.wiener at tuebingen.mpg.de  Tue May 14 12:32:42 2002
From: jan.wiener at tuebingen.mpg.de (Jan Malte Wiener)
Date: Tue, 14 May 2002 12:32:42 +0200
Subject: [R] least summed square distance + fit
Message-ID: <3CE0E7CA.7040702@tuebingen.mpg.de>

hi,
I have a matrix (representing original data) that looks e.g. like this 
(consider it beeing x,y,z coords):
441     447	0
265     407	0
374     223	0
288     574	0
669     309	0
591     195	0
595     475	0
424     351	0

I get a second matrix (subject data) that is similiar to the above 
matrix but it is scaled, translated and rotated (and of course a little 
inprecise).
Also I have an errorfunction that sums up  the squared distances of 
corresponding points of orig matrix and subject matrix.

And here comes my problem:
I now need an fitting function that scales, rotates and translates my 
subject matrix so that the error (computed by the errorfunction) is 
minimized.
Since I am new to R and actually new to that problem, I would be glad if 
someone could tell me if there is a precompiled fitting procedure that 
fits my requirements.

greetinx jan



-- 
Jan Malte Wiener
Max-Planck-Institute for Biological Cybernetics
Spemannstr. 38, 72076 Tuebingen, Germany
Tel.: +49 7071 601 631
Email: jan.wiener at tuebingen.mpg.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue May 14 13:07:20 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 14 May 2002 07:07:20 -0400
Subject: [R] least summed square distance + fit
In-Reply-To: <3CE0E7CA.7040702@tuebingen.mpg.de>; from jan.wiener@tuebingen.mpg.de on Tue, May 14, 2002 at 12:32:42PM +0200
References: <3CE0E7CA.7040702@tuebingen.mpg.de>
Message-ID: <20020514070720.A11407@cattell.psych.upenn.edu>

Take a look at optim() in the base package.  I've used it for
things like this, and it works beautifully.  Perhaps there is
something more specific, but I don't know it.  Jon

On 05/14/02 12:32, Jan Malte Wiener wrote:
>hi,
>I have a matrix (representing original data) that looks e.g. like this 
>(consider it beeing x,y,z coords):
>441     447	0
>265     407	0
>374     223	0
>288     574	0
>669     309	0
>591     195	0
>595     475	0
>424     351	0
>
>I get a second matrix (subject data) that is similiar to the above 
>matrix but it is scaled, translated and rotated (and of course a little 
>inprecise).
>Also I have an errorfunction that sums up  the squared distances of 
>corresponding points of orig matrix and subject matrix.
>
>And here comes my problem:
>I now need an fitting function that scales, rotates and translates my 
>subject matrix so that the error (computed by the errorfunction) is 
>minimized.
>Since I am new to R and actually new to that problem, I would be glad if 
>someone could tell me if there is a precompiled fitting procedure that 
>fits my requirements.
>
>greetinx jan
>
>
>
>-- 
>Jan Malte Wiener
>Max-Planck-Institute for Biological Cybernetics
>Spemannstr. 38, 72076 Tuebingen, Germany
>Tel.: +49 7071 601 631
>Email: jan.wiener at tuebingen.mpg.de
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Tue May 14 13:37:01 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Tue, 14 May 2002 21:37:01 +1000
Subject: [R] least summed square distance + fit
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A90C1975@Roper-CV.qld.cmis.csiro.au>

This sounds like procrustes transformations.

There is a function procrustes() in the vegan package to do it.

library(vegan)
?procrustes

[Irrelevant side issue: Procrustes was a Greek pirate who used to torture
his victims by tying them to an iron bed and neatly lopping off any parts of
their body that protruded.  Not a bad analogy!]

Bill Venables.

-----Original Message-----
From: Jonathan Baron [mailto:baron at cattell.psych.upenn.edu]
Sent: Tuesday, May 14, 2002 9:07 PM
To: Jan Malte Wiener
Cc: R
Subject: Re: [R] least summed square distance + fit


Take a look at optim() in the base package.  I've used it for
things like this, and it works beautifully.  Perhaps there is
something more specific, but I don't know it.  Jon

On 05/14/02 12:32, Jan Malte Wiener wrote:
>hi,
>I have a matrix (representing original data) that looks e.g. like this 
>(consider it beeing x,y,z coords):
>441     447	0
>265     407	0
>374     223	0
>288     574	0
>669     309	0
>591     195	0
>595     475	0
>424     351	0
>
>I get a second matrix (subject data) that is similiar to the above 
>matrix but it is scaled, translated and rotated (and of course a little 
>inprecise).
>Also I have an errorfunction that sums up  the squared distances of 
>corresponding points of orig matrix and subject matrix.
>
>And here comes my problem:
>I now need an fitting function that scales, rotates and translates my 
>subject matrix so that the error (computed by the errorfunction) is 
>minimized.
>Since I am new to R and actually new to that problem, I would be glad if 
>someone could tell me if there is a precompiled fitting procedure that 
>fits my requirements.
>
>greetinx jan
>
>
>
>-- 
>Jan Malte Wiener
>Max-Planck-Institute for Biological Cybernetics
>Spemannstr. 38, 72076 Tuebingen, Germany
>Tel.: +49 7071 601 631
>Email: jan.wiener at tuebingen.mpg.de
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
_._

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From klavan at tiscalinet.it  Tue May 14 14:13:39 2002
From: klavan at tiscalinet.it (Ambrosini Alessandro)
Date: Tue, 14 May 2002 14:13:39 +0200
Subject: [R] Question
Message-ID: <PPEGLLABFLFCJDLCGPGHOEKFCAAA.klavan@tiscalinet.it>

Hello. I want to use "for".
I have a matrix called "mat" that has got 100 rows.
I want to take the line 1 and make

a1<-which(mat[1,]==1)

After this I want to take the second row and make

a2<-which(mat[2,]==1)

and so on until I arrive at row 100.

I want to make it automatic for the 100 rows and so I wrote:

for(i in 1:nrow(mat)){
       ai<-which(mat[i,]==1) 
 }

but it doesn't work.
I need to obtain 100 vectors called a1,a2,a3,...,a100. 
Please help me.
Alessandro
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Tue May 14 14:28:28 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Tue, 14 May 2002 22:28:28 +1000
Subject: [R] Question
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A90C1976@Roper-CV.qld.cmis.csiro.au>

Hi Alessandro,

>  -----Original Message-----
> From: 	Ambrosini Alessandro [mailto:klavan at tiscalinet.it] 
> Sent:	Tuesday, May 14, 2002 10:14 PM
> To:	R-help
> Subject:	[R] Question
> 
> Hello. I want to use "for".
	[WNV]  Are you sure?  

> I have a matrix called "mat" that has got 100 rows.
> I want to take the line 1 and make
> 
> a1<-which(mat[1,]==1)
> 
> After this I want to take the second row and make
> 
> a2<-which(mat[2,]==1)
> 
> and so on until I arrive at row 100.
> 
> I want to make it automatic for the 100 rows and so I wrote:
> 
> for(i in 1:nrow(mat)){
>        ai<-which(mat[i,]==1) 
>  }
> 
> but it doesn't work.
> I need to obtain 100 vectors called a1,a2,a3,...,a100. 
	[WNV]  Do you really want 100 separate objects?  Would a list of 100
answers do?

	Here is one way to make a list with the vectors you want

		aList <- apply(mat, 1, function(x) which(x == 1))

	Then aList[[i]] is what you would call ai

	If you really do want 100 separate objects you can do that as a
further step

		for(i in 1:100) assign(paste("a", i, sep=""), aList[[i]])

	but that seems an awkward thing to do to me.

	<begin sermon>
	S (respectively R) encourages you to take the "whole object" view of
a calculation.  An extension of that is to take the "whole problem" view in
asking for help.  Rather than form a fixed view on how a problem is to be
solved it is better to present the whole problem to see if someone has an
elegant strategy for the whole thing you may not have anticipated.  Now that
you have the 100 objects, what are you going to do with them, for example.
I know there are ways in SAS, SPSS and even Genstat for dealing with
specially named objects in sequence, but such devices are a bit more complex
in S (resp R) and simpler methods are available.

	<end sermon>

> Please help me.
> Alessandro
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Tue May 14 15:56:01 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Tue, 14 May 2002 09:56:01 -0400
Subject: [R] Is this a bug of pweibull()?
References: <200205110113.KAA12762@ibm.stat.ncku.edu.tw> <15580.58093.684791.719655@gargle.gargle.HOWL>
Message-ID: <3CE11771.C85CBD4D@umsanet.edu.bo>

I checked this on win98 (R1.4.1, still):

> pweibull(3:10, 2)
[1] 0.9998766 0.9999999 1.0000000 1.0000000 1.0000000 1.0000000
1.0000000
[8] 1.0000000
> pweibull(3:10, 2.1)
[1] 0.9999566 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000
1.0000000
[8] 1.0000000
> 


Kjetil Halvorsen

Martin Maechler wrote:
> 
> >>>>> "Lu" == Lu Chi-Hsien Joseph <cjlu at ibm.stat.ncku.edu.tw> writes:
> 
>     Lu> In rw1050, I found that
>     >> pweibull(3:10, 2)
>     Lu> [1] 0.9998766 0.9999999 1.0000000 1.0000000       NaN       NaN
>     Lu> [7]       NaN       NaN
>     Lu> Warning message:
>     Lu> NaNs produced in: pweibull(q, shape, scale, lower.tail, log.p)
> 
>     Lu> more surprisingly,
>     >> pweibull(3:10, 2.1)
>     Lu> [1] 0.9999566 1.0000000 1.0000000      -Inf       NaN       NaN
>     Lu> [7]       NaN       NaN
>     Lu> Warning message:
>     Lu> NaNs produced in: pweibull(q, shape, scale, lower.tail, log.p)
> 
>     Lu> Is this a bug of pweibull() in rw1050?
> 
> Probably a problem with Windows / Math library behavior.
> The above example works fine in three different Unix versions I
> have access to (on Saturday morning).
> 
> Can others, particularly Windows users, check this?
> 
> Thanks,
> Martin Maechler
> 
>     >> version
>     Lu> _
>     Lu> platform i386-pc-mingw32
>     Lu> arch     i386
>     Lu> os       mingw32
>     Lu> system   i386, mingw32
>     Lu> status
>     Lu> major    1
>     Lu> minor    5.0
>     Lu> year     2002
>     Lu> month    04
>     Lu> day      29
>     Lu> language R
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Tue May 14 16:58:33 2002
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Tue, 14 May 2002 09:58:33 -0500
Subject: [R] Raster management data
References: <200205140611.IAA00801@stat.math.ethz.ch>
Message-ID: <3CE12619.2070204@perseus.unalmed.edu.co>

R is not a very heavy duty image processing program,
but the pixmap library have some aplications to use .ppm .pgm as matrix 
images, so
you can manipulate them in numeric processes.

I use R for some small image processing and it works fine for teaching 
objectives. (Walsh transform, fft,
Low pass filter, High pass filters (Lapplace), etc)
with images not bigger that 768*768.

Hope will help.

Kenneth

Poizot Emmanuel wrote:

>Hi,
>I'm a newbie in R world.
>I would like to develop an application that extract contour from objects of 
>an image.
>- Is R able to manage raster data (i.e., images) ?
>- Is there a specific package in change of such management ?
>I'm specificaly interest in the Canny filter.
>
>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>Emmanuel POIZOT
>CNAM/INTECHMER
>B.P. 324
>50103 Cherbourg Cedex
>T?l : 33 (0)2 33 88 73 42
>Fax : 33 (0)2 33 88 73 39
>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jyan at stat.wisc.edu  Tue May 14 17:11:19 2002
From: jyan at stat.wisc.edu (Jun Yan)
Date: Tue, 14 May 2002 10:11:19 -0500 (CDT)
Subject: [R] bivariate normal cdf and rho
In-Reply-To: <Pine.A41.4.44.0205010831110.21152-100000@homer28.u.washington.edu>
Message-ID: <Pine.LNX.4.21.0205140957120.16399-100000@gstat02.stat.wisc.edu>

A while back, I asked the following quesiton:

> Suppose F(x, y; rho) is the cdf of a bivariate normal distribution, with
> standardized marginals and correlation parameter rho. For any fixed x and
> y, I wonder if F(x, y; rho) is a monotone increasing function of rho,
> i.e., there is a 1 to 1 map from rho to F(x, y; rho).

Actually there is a beautiful result on this and Professor S. Le Cessie
from Netherlands kindly gave me an elegant proof of the following:

	d  F(x, y; rho) / d rho = f(x, y; rho),

where f is the standard bivariate normal density.

It can be proved by showing that 

	d f(x, y; rho) / d rho = d f(x, y; rho) / dx dy.

My thanks to Prof. Thomas Lumley, Chong Gu, and John Fox for pointing me
to the references.

Jun

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Tue May 14 17:45:40 2002
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Tue, 14 May 2002 10:45:40 -0500
Subject: [R] Where can I find BLAS library?
References: <5.0.2.1.0.20020624100755.01e2d008@deimos.tc.uaslp.mx>
Message-ID: <3CE13124.6010906@perseus.unalmed.edu.co>


I got this error when I try to install R (v 1.5.0)  in a LINUX (Red Hat 
7.1) LINUX 2.4.2 .
error:
       failed dependencies:
       libblas.so.3 is needed by R-base-1.5.0.-1

Where can I find this library and how do I install it?
Thank you
Kenneth

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Tue May 14 17:40:35 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Tue, 14 May 2002 11:40:35 -0400
Subject: FW: [R] Summary of Suggestions for poor man's parallel processing
Message-ID: <D7A3CFD7825BD6119B880002A58F06C227E56E@groexmb02.pfizer.com>


It turns out that my web host doesn't allow direct links.  Try going to
http://www.warnes.net/downloads or getting it from the sourceforge snippet
library https://sourceforge.net/snippet/detail.php?type=snippet&id=101149.

-Greg


> -----Original Message-----
> From: Warnes, Gregory R [mailto:gregory_r_warnes at groton.pfizer.com]
> Sent: Monday, May 13, 2002 10:15 AM
> To: a296180 at mica.fmr.com; r-help at stat.math.ethz.ch
> Subject: RE: [R] Summary of Suggestions for poor man's parallel
> processing
> 
> 
> 
> A couple of years ago I wrote a PERL script for distributing 
> tasks across as
> set of machines.  It's available at
> http://www.warnes.net/downloads/distribute_pl.txt and you 
> might find it a
> useful place to start.
> 
> -Greg
> 
> 
> 
> > -----Original Message-----
> > From: David Kane <David Kane [mailto:a296180 at mica.fmr.com]
> > Sent: Friday, May 10, 2002 11:34 AM
> > To: r-help at stat.math.ethz.ch
> > Subject: [R] Summary of Suggestions for poor man's parallel 
> processing
> > 
> > 
> > Thanks to Luke Tierney, Agustin Lobo, Stephen Eglen, A.J. 
> > Rossini, Simon Wood
> > and Timothy H. Keitt for responding to my question about poor 
> > man's parallel
> > processing. Much of the substantive material was cc'ed to 
> > r-help already, but
> > my take is as follows.
> > 
> > 1) Currently, there is nothing "simple" for solving my problem.
> > 
> > 2) I thought that Timothy Keitt's description of the use of a 
> > relational
> >    database for keeping track of different runs was quite 
> interesting.
> > 
> > 3) It seems clear that the "future" of this sort of activity 
> > lies with RPVM
> >    (already available on CRAN) and SNOW by Luke Tierney. I found the
> >    description of SNOW available at
> >    http://www.stat.umn.edu/~luke/R/cluster/cluster.html to be 
> > intriguing. 
> > 
> > 4) Since my needs are so simple, I will probably just hack 
> > something together
> >    myself that involves splitting my big.list into 4 chunks 
> > in Perl and then
> >    starting 4 jobs in R from Perl. Once those jobs are 
> > complete, I will then
> >    start an R job that collects the results. At least that is 
> > my current
> >    plan. I plan to follow the progress of RPVM and SNOW closely.
> > 
> > Thanks to all who responded.
> > 
> > Dave Kane
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read 
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> > r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> > 
> 
> 
> LEGAL NOTICE
> Unless expressly stated otherwise, this message is 
> confidential and may be privileged. It is intended for the 
> addressee(s) only. Access to this E-mail by anyone else is 
> unauthorized. If you are not an addressee, any disclosure or 
> copying of the contents of this E-mail or any action taken 
> (or not taken) in reliance on it is unauthorized and may be 
> unlawful. If you are not an addressee, please inform the 
> sender immediately.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Tue May 14 19:20:59 2002
From: ernesto at ipimar.pt (Ernesto Jardim)
Date: 14 May 2002 18:20:59 +0100
Subject: [R] probs in memory
Message-ID: <1021396859.24083.3.camel@gandalf>

Hi

I'm running a glm analysis and I got the following message:

glm.i01<-glm(U~y+v+i+b+v:y+v:i+v:b+y:i+y:b+i:b,family=Gamma(link="log"))
Error: cannot allocate vector of size 153594 Kb

I thougth this was not suppose to happen in version 1.5 ?! How can I
solve this problem ?? Can this a problem of swap space ?? My machine is
a pentium III 833 with 512MB of RAM and I'm using SuSE 7.1.

Regards

EJ


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From anielsen at dina.kvl.dk  Tue May 14 18:06:47 2002
From: anielsen at dina.kvl.dk (Anders Nielsen)
Date: 14 May 2002 18:06:47 +0200
Subject: [R] Where can I find BLAS library?
In-Reply-To: <3CE13124.6010906@perseus.unalmed.edu.co>
References: <5.0.2.1.0.20020624100755.01e2d008@deimos.tc.uaslp.mx> 
	<3CE13124.6010906@perseus.unalmed.edu.co>
Message-ID: <1021392412.4469.42.camel@fisher.dina.kvl.dk>

Hi Kenneth 

On Mandrake it is part of 'lapack' if I remember correctly. 

Kind regards, 

Anders.  

On Tue, 2002-05-14 at 17:45, Kenneth Cabrera wrote:
> 
> I got this error when I try to install R (v 1.5.0)  in a LINUX (Red Hat 
> 7.1) LINUX 2.4.2 .
> error:
>        failed dependencies:
>        libblas.so.3 is needed by R-base-1.5.0.-1
> 
> Where can I find this library and how do I install it?
> Thank you
> Kenneth
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Tue May 14 18:18:46 2002
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Tue, 14 May 2002 11:18:46 -0500
Subject: [R] Where can I find BLAS library?
References: <5.0.2.1.0.20020624100755.01e2d008@deimos.tc.uaslp.mx> 	<3CE13124.6010906@perseus.unalmed.edu.co> <1021392412.4469.42.camel@fisher.dina.kvl.dk>
Message-ID: <3CE138E6.4050904@perseus.unalmed.edu.co>

Can I use Mandrake's "lapack" for a Red Hat (7.1.) LINUX version?
Or Red Hat LINUX has it own "lapack"?

Best regards

Kenneth

Anders Nielsen wrote:

>Hi Kenneth 
>
>On Mandrake it is part of 'lapack' if I remember correctly. 
>
>Kind regards, 
>
>Anders.  
>
>On Tue, 2002-05-14 at 17:45, Kenneth Cabrera wrote:
>
>>I got this error when I try to install R (v 1.5.0)  in a LINUX (Red Hat 
>>7.1) LINUX 2.4.2 .
>>error:
>>       failed dependencies:
>>       libblas.so.3 is needed by R-base-1.5.0.-1
>>
>>Where can I find this library and how do I install it?
>>Thank you
>>Kenneth
>>
>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>Send "info", "help", or "[un]subscribe"
>>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>>
>
>
>
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jgentry at jimmy.harvard.edu  Tue May 14 18:28:08 2002
From: jgentry at jimmy.harvard.edu (Jeff Gentry)
Date: Tue, 14 May 2002 12:28:08 -0400 (EDT)
Subject: [R] Where can I find BLAS library?
In-Reply-To: <3CE138E6.4050904@perseus.unalmed.edu.co>
Message-ID: <Pine.SOL.4.20.0205141222510.15321-100000@santiam.dfci.harvard.edu>

(converting quoting to bottom posting style)
> >>       failed dependencies:
> >>       libblas.so.3 is needed by R-base-1.5.0.-1
> >On Mandrake it is part of 'lapack' if I remember correctly.
> Can I use Mandrake's "lapack" for a Red Hat (7.1.) LINUX version?
> Or Red Hat LINUX has it own "lapack"?

You can use Mandrake RPMs in RedHat generally - I am not personally aware
of any conflicts but I'm sure they exist (especially as the two distros
continue to diverge).  I suppose you could say that there's only one way
to answer your question :)

Redhat provides a lapack
RPM: http://www.redhat.com/swr/i386/lapack-3.0-9.i386.html

However, it does not contain libblas.  In fact, it depends on libblas
already existing, and one can get this library from the Redhat RPM "blas": 
http://www.redhat.com/swr/i386/blas-3.0-9.i386.html

For future reference, if you're looking for things like this on a RedHat
system, just go to http://www.redhat.com/apps/download/, and type the file
that you are looking for in the "By Keyword" box - that's how I found the
blas package just now.

-Jeff

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From M.GRUM at CGIAR.ORG  Tue May 14 18:51:15 2002
From: M.GRUM at CGIAR.ORG (Grum, Mikkel)
Date: Tue, 14 May 2002 09:51:15 -0700
Subject: [R] cutree() and horizontal dendrograms
Message-ID: 
 <FC788AB9771FD6118E6F0002A5AD7B8F4DD43C@icrafnttrain.icraf.cgiar.org>

When I use the function cutree(), the numbers of the clusters are not in the
same order as the plotted dendrogram.  Is there any way of sorting them so
that they match the tree?

Is it possible to plot a dendrogram horizontally, preferably with the
branches to the right? This would enable some practical composite plots,
e.g. labels that were an entire table with several columns of information,
or dotplots of specific information along with the labels.

Best wishes,
Mikkel



Mikkel Grum
Genetic Diversity
International Plant Genetic Resources Institute (IPGRI)
Sub-Saharan Africa Group
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GPetris at uark.edu  Tue May 14 18:59:15 2002
From: GPetris at uark.edu (Giovanni Petris)
Date: Tue, 14 May 2002 11:59:15 -0500 (CDT)
Subject: [R] tapply and empty subsets
Message-ID: <200205141659.LAA12362@definetti.uark.edu>


I am using tapply to compute means by group, as in

> tapply(y, z, mean)
       1        2        3 
21.00757 20.50031       NA 

where y is a vector and z a factor with levels 1:3.
I would like to get a zero instead of the NA I get when a subset is
empty. The problem is that FUN is not applied to empty cells of the
ragged array. (Of course I am willing to define a function my.mean
that returns 0 for empty vectors)

Does anybody have a suggestion for an easy/fast/elegant workaround? 

Thanks in advance,
Giovanni

-- 

 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (479) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikem at salter-point.com  Tue May 14 18:55:45 2002
From: mikem at salter-point.com (Michael M. Meyer)
Date: Tue, 14 May 2002 09:55:45 -0700
Subject: [R] Where can I find BLAS library? 
In-Reply-To: Message from Kenneth Cabrera <krcabrer@perseus.unalmed.edu.co> 
   of "Tue, 14 May 2002 11:18:46 CDT." <3CE138E6.4050904@perseus.unalmed.edu.co> 
Message-ID: <200205141655.g4EGtju15781@home.salter-point.com>

RedHat has an rpm for lapack.  Either get it from the distribution CD
or download the appropriate one from, say,
http://rpmfind.net/linux/RPM/.
  --Mike

> Can I use Mandrake's "lapack" for a Red Hat (7.1.) LINUX version?
> Or Red Hat LINUX has it own "lapack"?
> 
> Best regards
> 
> Kenneth
> 
> Anders Nielsen wrote:
> 
> >Hi Kenneth 
> >
> >On Mandrake it is part of 'lapack' if I remember correctly. 
> >
> >Kind regards, 
> >
> >Anders.  
> >
> >On Tue, 2002-05-14 at 17:45, Kenneth Cabrera wrote:
> >
> >>I got this error when I try to install R (v 1.5.0)  in a LINUX (Red Hat 
> >>7.1) LINUX 2.4.2 .
> >>error:
> >>       failed dependencies:
> >>       libblas.so.3 is needed by R-base-1.5.0.-1
> >>
> >>Where can I find this library and how do I install it?
> >>Thank you
> >>Kenneth
> >>
> >>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> >>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >>Send "info", "help", or "[un]subscribe"
> >>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >>
> >
> >
> >
> >
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 



Mike Meyer, Salter Point Associates, Seattle WA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From myotis at cix.compulink.co.uk  Tue May 14 19:04:00 2002
From: myotis at cix.compulink.co.uk (Graham Smith)
Date: Tue, 14 May 2002 18:04 +0100 (BST)
Subject: [R] installing labDSV library
Message-ID: <memo.397121@cix.compulink.co.uk>

In-Reply-To: <Pine.GSO.4.44.0205140725190.594-100000 at auk.stats>
Brian,

>That's a *source* package...

So I have discovered !!

I will re-visit the faq 

Thanks,

Graham S

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue May 14 19:04:31 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 14 May 2002 13:04:31 -0400
Subject: [R] Where can I find BLAS library?
In-Reply-To: <Pine.SOL.4.20.0205141222510.15321-100000@santiam.dfci.harvard.edu>; from jgentry@jimmy.harvard.edu on Tue, May 14, 2002 at 12:28:08PM -0400
References: <3CE138E6.4050904@perseus.unalmed.edu.co> <Pine.SOL.4.20.0205141222510.15321-100000@santiam.dfci.harvard.edu>
Message-ID: <20020514130431.A18706@cattell.psych.upenn.edu>

A generally good source of information about rpm's (of all sorts)
is http://rpmfind.net/linux/RPM/.  You can search for the missing
file, and it yields "blas", in about 50 different versions and
platforms.  Or search for blas.

Rpmfind is not always the most up-to-date source, though.  For
example R-base 1.5.0 does not come up in a search for R-base
(although I could have sworn I saw it listed unter the "Polish
Linux Distribution").

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kutinskyv at obninsk.com  Tue May 14 19:32:46 2002
From: kutinskyv at obninsk.com (Vladimir N. Kutinsky)
Date: Tue, 14 May 2002 21:32:46 +0400
Subject: [R] quantile() and boxplot.stats()
Message-ID: <KFENLPKGENECNKICCNMBIEJDCBAA.kutinskyv@obninsk.com>

Hello,

I faced something I can't understand. When I use boxplot.stats(1:10) and
quantiles(1:10) the results are different for 25% and 75%:

> boxplot.stats(1:10)
$stats
[1]  1.0  3.0  5.5  8.0 10.0

> quantile(1:10)
   0%   25%   50%   75%  100%
 1.00  3.25  5.50  7.75 10.00

Actually, I expected the value 3 for 25% and 8 for 75% as results of
quantile(1:10). Can you please explain me why it isn't so.

Regards,
Vlad

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Tue May 14 19:44:31 2002
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Tue, 14 May 2002 19:44:31 +0200
Subject: [R] quantile() and boxplot.stats()
References: <KFENLPKGENECNKICCNMBIEJDCBAA.kutinskyv@obninsk.com>
Message-ID: <3CE14CFF.FB62CEE7@ci.tuwien.ac.at>

"Vladimir N. Kutinsky" wrote:
> 
> Hello,
> 
> I faced something I can't understand. When I use boxplot.stats(1:10) and
> quantiles(1:10) the results are different for 25% and 75%:
> 
> > boxplot.stats(1:10)
> $stats
> [1]  1.0  3.0  5.5  8.0 10.0
> 
> > quantile(1:10)
>    0%   25%   50%   75%  100%
>  1.00  3.25  5.50  7.75 10.00
> 
> Actually, I expected the value 3 for 25% and 8 for 75% as results of
> quantile(1:10). Can you please explain me why it isn't so.

The two ``hinges'' in boxplots are defined differently. They are
versions of the first and third quartile, but they are identical only
for odd n. This is explained in help(boxplot.stats)

Details:

     The two ``hinges'' are versions of the first first and third
     quartile, i.e. close to `quantile(x, c(1,3)/4)'.  The hinges equal
     the quartiles for odd n (where `n <- length(x)') and differ for
     even n. Where the quartiles only equal observations for `n %% 4 ==
     1' (n = 1 mod 4), the hinges do so additionally for `n %% 4 == 2'
     (n = 2 mod 4), and are in the middle of two observations
     otherwise.


> Regards,
> Vlad
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From White.Denis at epamail.epa.gov  Tue May 14 19:49:02 2002
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Tue, 14 May 2002 10:49:02 -0700
Subject: [R] cutree() and horizontal dendrograms
Message-ID: <OFFB2E7425.5D3AB3FE-ON88256BB9.0061BE14@rtp.epa.gov>


> When I use the function cutree(), the numbers of the clusters
> are not in the same order as the plotted dendrogram.  Is there
> any way of sorting them so that they match the tree?

Function group.clust in package maptree will do this.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Tue May 14 20:14:54 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Tue, 14 May 2002 13:14:54 -0500
Subject: [R] NaN/NA and sprintf double format
Message-ID: <E177gp4-0006Ml-00@sonny.eddelbuettel.com>


With a (late prerelease of) 1.5.0 on Windows, using sprintf on NaN 
yields garbage when the number of decimal is specified while it
works fine for NA:

> sprintf("%.2f", NA)
[1] "0.00"
> sprintf("%.2f", NaN)
[1] "-1.#J"

Not specifying the decimal precision lets both print garbage:

> sprintf("%f", NaN)
[1] "-1.#IND00"
> sprintf("%f", NA)
[1] "-1.#QNAN0"

Is this a bug or a feature?  

Dirk

-- 
According to the latest figures, 43% of all signatures are totally worthless.   




-- 
According to the latest figures, 43% of all signatures are totally worthless.   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Tue May 14 20:15:30 2002
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Tue, 14 May 2002 13:15:30 -0500
Subject: [R] quantile() and boxplot.stats()
Message-ID: <OFD3F9CF07.D6C51B9B-ON86256BB9.006435DF@mmm.com>


I think this is already explained well enough in the help page for
boxplot.stats.

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122


                                                                                                                                               
                    "Vladimir N.                                                                                                               
                    Kutinsky"            To:     r-help at stat.math.ethz.ch                                                                      
                    <kutinskyv at obni      cc:     (bcc: Andrzej P. Jaworski/US-Corporate/3M/US)                                                 
                    nsk.com>             Subject:     [R] quantile() and boxplot.stats()                                                       
                                                                                                                                               
                    05/14/2002                                                                                                                 
                    12:32                                                                                                                      
                                                                                                                                               
                                                                                                                                               





Hello,

I faced something I can't understand. When I use boxplot.stats(1:10) and
quantiles(1:10) the results are different for 25% and 75%:

> boxplot.stats(1:10)
$stats
[1]  1.0  3.0  5.5  8.0 10.0

> quantile(1:10)
   0%   25%   50%   75%  100%
 1.00  3.25  5.50  7.75 10.00

Actually, I expected the value 3 for 25% and 8 for 75% as results of
quantile(1:10). Can you please explain me why it isn't so.

Regards,
Vlad

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 14 20:56:05 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 14 May 2002 19:56:05 +0100 (BST)
Subject: [R] NaN/NA and sprintf double format
In-Reply-To: <E177gp4-0006Ml-00@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.4.31.0205141942400.20952-100000@gannet.stats>

On Tue, 14 May 2002, Dirk Eddelbuettel wrote:

> With a (late prerelease of) 1.5.0 on Windows, using sprintf on NaN
> yields garbage when the number of decimal is specified while it
> works fine for NA:
>
> > sprintf("%.2f", NA)
> [1] "0.00"

I get that on Linux too, but why is it fine?  See below.

> > sprintf("%.2f", NaN)
> [1] "-1.#J"
>
> Not specifying the decimal precision lets both print garbage:
>
> > sprintf("%f", NaN)
> [1] "-1.#IND00"
> > sprintf("%f", NA)
> [1] "-1.#QNAN0"
>
> Is this a bug or a feature?

Remember that NA is logical, so this is not correct usage.  Not that the
correct usage works very much better ....

The C code says

/* Simple wrapper for C sprintf function: does very little checking to
   see that the format conversion character and the argument are
   compatible.  This is the user's responsibility!
*/

and I think that should be on the help page.  If it were, this is a
feature.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GPetris at uark.edu  Tue May 14 21:13:47 2002
From: GPetris at uark.edu (Giovanni Petris)
Date: Tue, 14 May 2002 14:13:47 -0500 (CDT)
Subject: [R] tapply and empty subsets
In-Reply-To: <200205141659.LAA12362@definetti.uark.edu> (message from Giovanni
	Petris on Tue, 14 May 2002 11:59:15 -0500 (CDT))
References: <200205141659.LAA12362@definetti.uark.edu>
Message-ID: <200205141913.OAA12483@definetti.uark.edu>


I guess for my purpose the following will do.

> x <- tapply(y, z, mean)
> x[is.na(x)] <- 0

Thanks,
Giovanni

> Date: Tue, 14 May 2002 11:59:15 -0500 (CDT)
> X-Authentication-Warning: definetti.uark.edu: gpetris set sender to gpetris at definetti.uark.edu using -f
> From: Giovanni Petris <GPetris at uark.edu>
> Reply-to: Giovanni Petris <GPetris at uark.edu>
> Sender: owner-r-help at stat.math.ethz.ch
> Precedence: SfS-bulk
> Content-Type: text
> Content-Length: 1298
> 
> 
> I am using tapply to compute means by group, as in
> 
> > tapply(y, z, mean)
>        1        2        3 
> 21.00757 20.50031       NA 
> 
> where y is a vector and z a factor with levels 1:3.
> I would like to get a zero instead of the NA I get when a subset is
> empty. The problem is that FUN is not applied to empty cells of the
> ragged array. (Of course I am willing to define a function my.mean
> that returns 0 for empty vectors)
> 
> Does anybody have a suggestion for an easy/fast/elegant workaround? 
> 
> Thanks in advance,
> Giovanni
> 
> -- 
> 
>  __________________________________________________
> [                                                  ]
> [ Giovanni Petris                 GPetris at uark.edu ]
> [ Department of Mathematical Sciences              ]
> [ University of Arkansas - Fayetteville, AR 72701  ]
> [ Ph: (479) 575-6324, 575-8630 (fax)               ]
> [ http://definetti.uark.edu/~gpetris/              ]
> [__________________________________________________]
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-- 

 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (479) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xoaquin at worldnet.att.net  Tue May 14 22:20:32 2002
From: xoaquin at worldnet.att.net (Joaquin Diaz-Saiz)
Date: Tue, 14 May 2002 15:20:32 -0500
Subject: [R] Printing a plot on Windows
Message-ID: <000701c1fb84$cd5466c0$8fe4490c@usinet.xoaquin>

I am using R 1.5.0 for Windows. When trying to print a plot produced by R
clicking on the printer icon, or by clicking on "FILE - Print", there is no
response. This happens under Windows 95 and 98.
Has somebody found this problem? Is there a solution besides saving the plot
and printing it using another application?

Thanks for the help.

Joaquin Diaz-Saiz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 14 22:43:54 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 14 May 2002 21:43:54 +0100 (BST)
Subject: [R] Printing a plot on Windows
In-Reply-To: <000701c1fb84$cd5466c0$8fe4490c@usinet.xoaquin>
Message-ID: <Pine.LNX.4.31.0205142138180.21515-100000@gannet.stats>

On Tue, 14 May 2002, Joaquin Diaz-Saiz wrote:

> I am using R 1.5.0 for Windows. When trying to print a plot produced by R
> clicking on the printer icon, or by clicking on "FILE - Print", there is no
> response. This happens under Windows 95 and 98.
> Has somebody found this problem? Is there a solution besides saving the plot
> and printing it using another application?

Look in the R-help archives.  Yes, it is a bug, but only in the GUI.  You
can use dev.print(win.print), for example, or copying to the clipboard
and printing from there.  It's fixed in the current R-patched, but that's
only currently available as source code.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alfons.Kolling at dillinger.de  Tue May 14 17:44:47 2002
From: Alfons.Kolling at dillinger.de (Kolling Alfons, F+E)
Date: Tue, 14 May 2002 17:44:47 +0200
Subject: [R] princomp 
Message-ID: <98BC0F9CF5A9D511964100005A478F39AFF8E0@nt03.dillinger.de>


Hello experts,

as newcomer in pca, i have a question, concerning the princomp algorithm.
With a dataset "r" containing 18 "input" parameters and 1 "output" parameter
r[19], i got with the following fit

	ls <- lsfit(r[1:18],r[19]); lsdiag <- ls.diag(ls); lsdiag$std.dev

a prediction error of:
	[1] 8.879561  

what is quite reasonable. If i take only two significant important inputs, 
  
	ls <- lsfit(r[1:2],r[19]); lsdiag <- ls.diag(ls); lsdiag$std.dev

i will get an prediction error of:
	[1] 20.18148   

what is not so bad for only two of 18 input parameters. If i made an lsfit
with the scores of:

	p <- princomp(r[1:18],cor=TRUE)
	ls <- lsfit(p$scores[,1:18],r[19]); lsdiag <- ls.diag(ls);
lsdiag$std.dev
i got the reasonable error of:
	[1] 8.879561
(see above the first fit)
But (and here comes the question) if take the two most important principal
components for the lsfit

	ls <- lsfit(p$scores[,1:2],r[19]); lsdiag <- ls.diag(ls);
lsdiag$std.dev
i have an prediction error of:
	[1] 33.22741 

which is a good deal worse, compared to the 20.18148 from above. So what is
wrong? I thought, that the first principle components are the "most
important"?



mit freundlichem Gru?

Alfons Kolling


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 14 23:02:50 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 14 May 2002 22:02:50 +0100 (BST)
Subject: [R] princomp 
In-Reply-To: <98BC0F9CF5A9D511964100005A478F39AFF8E0@nt03.dillinger.de>
Message-ID: <Pine.LNX.4.31.0205142156290.21716-100000@gannet.stats>

On Tue, 14 May 2002, Kolling Alfons, F+E wrote:

>
> Hello experts,
>
> as newcomer in pca, i have a question, concerning the princomp algorithm.
> With a dataset "r" containing 18 "input" parameters and 1 "output" parameter
> r[19], i got with the following fit
>
> 	ls <- lsfit(r[1:18],r[19]); lsdiag <- ls.diag(ls); lsdiag$std.dev
>
> a prediction error of:
> 	[1] 8.879561
>
> what is quite reasonable. If i take only two significant important inputs,
>
> 	ls <- lsfit(r[1:2],r[19]); lsdiag <- ls.diag(ls); lsdiag$std.dev
>
> i will get an prediction error of:
> 	[1] 20.18148
>
> what is not so bad for only two of 18 input parameters. If i made an lsfit
> with the scores of:
>
> 	p <- princomp(r[1:18],cor=TRUE)
> 	ls <- lsfit(p$scores[,1:18],r[19]); lsdiag <- ls.diag(ls);
> lsdiag$std.dev
> i got the reasonable error of:
> 	[1] 8.879561
> (see above the first fit)
> But (and here comes the question) if take the two most important principal
> components for the lsfit
>
> 	ls <- lsfit(p$scores[,1:2],r[19]); lsdiag <- ls.diag(ls);
> lsdiag$std.dev
> i have an prediction error of:
> 	[1] 33.22741
>
> which is a good deal worse, compared to the 20.18148 from above. So what is
> wrong? I thought, that the first principle components are the "most
> important"?

Your understanding.  The first two PCs explain most of the variance in X,
but they do not explain most of the variation in y.

BTW, it is `principal' not `principle'.

Principal components regression is a big topic.  Ridge regression is
almost always preferable (and there is code for it in package MASS).
See

@Article{Frank.Friedman.93,
  author =       "I. E. Frank and J. H. Friedman",
  title =        "A statistical view of some chemometrics regression
                 tools (with discussion)",
  journal =      "Technometrics",
  volume =       "35",
  pages =        "109--148",
  year =         "1993",
}



-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Tue May 14 23:03:34 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Tue, 14 May 2002 17:03:34 -0400
Subject: [R] R CMD check
Message-ID: <20020514170334.4be8d1d3.fharrell@virginia.edu>

I am unclear on whether to run R CMD check pgkname as user or as root on Linux.  When running as user, after all the latex, html, and man files are created, I get the following error message:

Rdconv(): Couldn't open '': Permission denied

Has anyone dealt with that message?

When I run R CMD check a second time, all latex, html, etc. are recreated which takes quite a while.  Is there a way for R CMD check to compile only the help files that have changed since the last check (the way that R CMD INSTALL does)?

Thanks,

Frank
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 14 23:24:18 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 14 May 2002 22:24:18 +0100 (BST)
Subject: [R] R CMD check
In-Reply-To: <20020514170334.4be8d1d3.fharrell@virginia.edu>
Message-ID: <Pine.LNX.4.31.0205142223410.21782-100000@gannet.stats>

On Tue, 14 May 2002, Frank E Harrell Jr wrote:

> I am unclear on whether to run R CMD check pgkname as user or as root on Linux.  When running as user, after all the latex, html, and man files are created, I get the following error message:
>
> Rdconv(): Couldn't open '': Permission denied
>
> Has anyone dealt with that message?

No.  Check what's in man with ls -a.

> When I run R CMD check a second time, all latex, html, etc. are recreated which takes quite a while.  Is there a way for R CMD check to compile only the help files that have changed since the last check (the way that R CMD INSTALL does)?

--no-clean

>
> Thanks,
>
> Frank
> --
> Frank E Harrell Jr              Prof. of Biostatistics & Statistics
> Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
> U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Wed May 15 01:14:32 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Tue, 14 May 2002 16:14:32 -0700 (PDT)
Subject: [R] R CMD check
In-Reply-To: <Pine.LNX.4.31.0205142223410.21782-100000@gannet.stats>
Message-ID: <Pine.GSO.4.10.10205141613290.12780-100000@quetelet.stat.ucla.edu>

I always run R CMD check as user and never as root.  I can't think of any
good reason to run it as root.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Tue, 14 May 2002, ripley at stats.ox.ac.uk wrote:

> On Tue, 14 May 2002, Frank E Harrell Jr wrote:
> 
> > I am unclear on whether to run R CMD check pgkname as user or as root on Linux.  When running as user, after all the latex, html, and man files are created, I get the following error message:
> >
> > Rdconv(): Couldn't open '': Permission denied
> >
> > Has anyone dealt with that message?
> 
> No.  Check what's in man with ls -a.
> 
> > When I run R CMD check a second time, all latex, html, etc. are recreated which takes quite a while.  Is there a way for R CMD check to compile only the help files that have changed since the last check (the way that R CMD INSTALL does)?
> 
> --no-clean
> 
> >
> > Thanks,
> >
> > Frank
> > --
> > Frank E Harrell Jr              Prof. of Biostatistics & Statistics
> > Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
> > U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Wed May 15 01:13:53 2002
From: jasont at indigoindustrial.co.nz (jasont@indigoindustrial.co.nz)
Date: Tue, 14 May 2002 23:13:53 GMT
Subject: [R] tapply and empty subsets
Message-ID: <E177lUP-0000EL-00@smtp4.ihug.co.nz>

> I guess for my purpose the following will do.
> 
> > x <- tapply(y, z, mean)
> > x[is.na(x)] <- 0
> 
> Thanks,
> Giovanni

If I might ask, what's wrong with NA?  I occasionally deal with data sets that 
do have means close to zero, so my doing this would be misleading at best 
(YMMV).  NA is a good thing, for me.

If you just can't live with NA, na.omit(tapply(y,z,mean)) might be more 
appropriate here.

Cheers

Jason

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j_turner at ihug.co.nz  Wed May 15 01:38:05 2002
From: j_turner at ihug.co.nz (j_turner@ihug.co.nz)
Date: Tue, 14 May 2002 23:38:05 GMT
Subject: [R] probs in memory
Message-ID: <E177lrp-0002cV-00@smtp4.ihug.co.nz>

> glm.i01<-glm(U~y+v+i+b+v:y+v:i+v:b+y:i+y:b+i:b,family=Gamma(link="log"))
> Error: cannot allocate vector of size 153594 Kb

R grabs memory as it needs it.  Sometimes it asks for a little, sometimes a lot.
The words "153594 Kb" mean that just now, R tried to grab 153594 Kb.  Not total 
memory; just this most recent grab.  And it couldn't do it, becuase your 
machine didn't have that memory to give.

Run that session again, and run "top" in one xterm window as do.  Order the 
display by memory size - when you start using the swap, it'll slow down a lot.  
You should see the memory get gobbled up as it goes - it's quite interesting to 
watch.

> I thougth this was not suppose to happen in version 1.5 ?! 

The people who write R are very, very smart, but they still aren't smart enough 
to write software that successfully uses more memory than your machine has.

> How can I solve this problem ?? 

1) Pay more attention to your workspace, and see if you have large objects 
lying around that you don't need, or
2) Buy more RAM, or
3) use a subset of the data, and see if it can finish and give meaningful 
results, and repeat for other subsets, or 
4) write your own analysis in C or FORTRAN that's more memory efficient. ;)

Cheers

Jason

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kim.marshall at mmigenomics.com  Wed May 15 03:19:07 2002
From: kim.marshall at mmigenomics.com (Marshall, Kimberly A.)
Date: Tue, 14 May 2002 18:19:07 -0700
Subject: [R] aov probabilities
Message-ID: <B26C735994B48F4DBF5466E72120E49016166D@dav-gen-exch.genomics.mmi.ad>

Hi R users,

     I need some help with programming in R. I have some experience with this stat package but would like some further help in getting some more detailed summaries with the aov module. When I print aov summaries, I get the probabilities of the F values in the 0.0 to 1.0 range with increments, 0.0, 0.001, 0.01,  0.05, 0.1 and 1.0. I would like to have the 0.0 and 0.001 partitioned out further. For example 0.0001, 0.00001 and 0.000001. Does anyone know how to do this in R? 
thank you,
Kim 

kim.marshall at mmigenomics.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Wed May 15 04:09:06 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Wed, 15 May 2002 14:09:06 +1200
Subject: [R] Custom graphing : Which package (Base, Grid or Lattice package)
References: <F217KwRPQIWDO3hRDT60000f74c@hotmail.com>
Message-ID: <3CE1C342.A386CB14@stat.auckland.ac.nz>

Hi

Here are some points that will hopefully be helpful to you ...

1.  I don't think lattice is what you want at all.  This provides
powerful high-level graphics functions -- base and grid provide
(different approaches to) the low-level stuff.

2.  If you want a parent "frame" and child "windows" to be GUI widgets
then you need to look at something like R's tcltk capabilities (see
Peter Dalgaard. A primer on the R-Tcl/Tk package. R News, 1(3):27-31,
September 2001; http://cran.r-project.org/doc/Rnews/) or possibly the
RGtk package
(http://www.omegahat.org/RGtk/).  I think this is currently the only way
you will get some of the features you want (e.g., "scrolling" windows).

3.  Assuming you can live without true GUI widgets, ...

	a) splitting a "page" into several bits can be done easily by either
base or grid -- see par(), esp. par(mfrow=), and layout() in base and
grid.layout(), viewport(), push.viewport() in grid.  

	b) for adding graphics to an existing plot, base graphics will let you
add more "ink" to the page, but does not retain "objects" representing
the output -- see lines() and points().  grid does create objects to
represent the output as well as adding more ink.

	c) R's graphics engine (underlying both base and grid) retains a
display list so that when a window is resized the current output is
redrawn.  This display list is a bit dumb and can get things wrong
sometimes.  

	d) R's graphics engine does not provide good access to user events
currently.  You can get hold of mouse clicks, but only modally -- see
locator() and identify().

	e) For zooming in and out, the main problems are:  (i) user interface
-- you can only grab mouse clicks unless you develop something with the
gui tools.  I can give you a simple mouse-click zoom example if you're
interested  (ii) redraws -- R devices currently do not have
double-buffering so one-off redraws are pretty nasty, and multiple
redraws are a nightmare.

So after all that you may be wondering, does R graphics do anything
properly?  Well, it tries to be hell-on-wheels for static, presentation
graphics.  It is very weak on interactivity, but we have plans to try
and improve that.  There are gui tools, such as tcltk, which might get
you the interactive bits you want.

In terms of choosing between base and grid, grid provides more
flexibility in the production of the graph itself, but it sounds like
you are producing pretty standard graphs so there is no reason to
abandon base.
On the other hand, it sounds like the features you are after are more
interaction-oriented and grid does have the advantage of producing
objects representing your output so that you have a chance to modify
those objects.  With regard to documentation, there is a web page for
grid at http://www.stat.auckland.ac.nz/~paul/grid/grid.html and you
might be particularly interested in the "simple scatterplot" document.

Hope that's of some help.

Paul



> Over the years, I have written a number of custom time series graphing
> modules (in ANSI C). I want to make these graphs available in R. After
> considerable thought (as well as feedback fom this NG - thanks go to Don
> MacQueen and Paul Murrell), I have decided to re-write (atleast some of the
> routines in R).
> 
> Basically, this is what my R function needs to do:
> 
> 1. create a parent (container) frame
> 2. Define n (vertically stacked) child windows within the parent (where n is
> 1,2 or 3)
> 
> So the object factory (creator function) would look something like this :
> 
> custom.graph.create<- function (win1_perc_size, win2_perc_size, backcolor  )
> 
> where win*N_perc_size is the % of the HEIGHT of the parent screen assigned
> to the Nth child window
> 
> The three child windows should share the same x axis (the calender date),
> but they would each have
> seperate y axis.
> 
> In addition the returned object should;
> 1. allows you to add data to a specified window
>    ( e.g. fooAddSeries(custom_graph_obj, dataset, child_win_number) )
> 
> 2. Redraw the parent (and all children) when the parent window is resized
> 
> 3. Be able to respond to mouse movements over a child window
>   (so I can display info like date : value etc)
> 
> 4. Be able to "scroll" through *LARGE* time series
>   (approx 20,000 datapoints in certain cases) - using a "scrolling" window
> 
> 5. Be able to "zoom in/out" to a specified granularity
>   (daily, weekly etc) - maybe use the window function ?
> 
> As I'm sure you'll appreciate, this is a lot of work, and before I actually
> sat down to do some coding, I thought it would be prudent to solicit some
> advice from someone who had done something similar or had experience with
> custom plotting/graphing in R.
> 
> I have learnt the hard way, that as far as R is concerened, it's very easy
> to waste several weeks re-inventing the wheel, since it is such a
> functionally rich environment.
> 
> There appear to be several competing (but not entirely compatable)
> "graphing" packages/extensions for R. The base package, which seems to be
> the most robust, does not appear to have all the features I need (I may be
> wrong though ...), The grid package which appears to have the functionality,
> I need is not well documented, and is full of internal functions ..., and
> I'm not too sure about the lattice package.
> 
> I would be most grateful for any help on:
> 
> 1. Recommendation on which package to use (base, grid or lattice ?)
> 2. General guidline (pref with skeleton code/stubs) on
>    how to proceed - I haven't written any graphing functions in R before !
> 
> 3. Pointers to more information
> 
> Many Thanks in Advance
> 
> Neil
> 
> _________________________________________________________________
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Wed May 15 06:43:43 2002
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Tue, 14 May 2002 21:43:43 -0700
Subject: [R] can't get rcmd to work on windows2k....
Message-ID: <002101c1fbcb$17b3b270$01000001@godzilla>

I'm trying to make sure my R package will install properly (build help
files, etc) and when I try to run the rcmd check (or any rcmd option) I get
the following error. Does dcf.pm stand for perl module? If not, why do I get
this message?

C:\systemfit\r_code>rcmd check --help
Can't locate R/Dcf.pm in @INC (@INC contains: c
\PROGRA~1\r\rw1041\share\perl; /usr/lib/perl5/5.6.1/cygwin-multi
/usr/lib/perl5/5.6.1 /usr/lib/perl5/site_perl/5.6.1/cygwin-multi /u
sr/lib/perl5/site_perl/5.6.1 /usr/lib/perl5/site_perl .) at
c:\PROGRA~1\r\rw1041/bin/check line 32.
BEGIN failed--compilation aborted at c:\PROGRA~1\r\rw1041/bin/check line 32.

Thanks,
Jeff.

Jeff D. Hamann
Hamann, Donald & Associates, Inc.
PO Box 1421
Corvallis, Oregon USA 97339-1421
Bus. 541-753-7333
Cell. 541-740-5988
jeff_hamann at hamanndonald.com
www.hamanndonald.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 15 07:04:31 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 15 May 2002 06:04:31 +0100 (BST)
Subject: [R] can't get rcmd to work on windows2k....
In-Reply-To: <002101c1fbcb$17b3b270$01000001@godzilla>
Message-ID: <Pine.LNX.4.31.0205150549540.23367-100000@gannet.stats>

On Tue, 14 May 2002, Jeff D. Hamann wrote:

> I'm trying to make sure my R package will install properly (build help
> files, etc) and when I try to run the rcmd check (or any rcmd option) I get
> the following error. Does dcf.pm stand for perl module? If not, why do I get
> this message?

R/dcf.pm is indeed a Perl module.

You have ignored the instructions (readme.packages, INSTALL) which say:

    The Windows port of perl5, available via
    http://www.activestate.com/Products/ActivePerl/.

Cygwin is a completely different port of Perl, and as you can see, it is
not interpreting Windows paths correctly.

Note that you seem also to have ignored

   BEWARE: Don't expect this to work if the path to R_HOME contains spaces.

although on some older versions of Windows you may be able to get away
with that.

We could explicitly say that the Cygwin port of Perl does not work, but
there would be no point in putting that in instructions that people don't
bother to read, would there?


> C:\systemfit\r_code>rcmd check --help
> Can't locate R/Dcf.pm in @INC (@INC contains: c
> \PROGRA~1\r\rw1041\share\perl; /usr/lib/perl5/5.6.1/cygwin-multi
> /usr/lib/perl5/5.6.1 /usr/lib/perl5/site_perl/5.6.1/cygwin-multi /u
> sr/lib/perl5/site_perl/5.6.1 /usr/lib/perl5/site_perl .) at
> c:\PROGRA~1\r\rw1041/bin/check line 32.
> BEGIN failed--compilation aborted at c:\PROGRA~1\r\rw1041/bin/check line 32.
>
> Thanks,
> Jeff.
>
> Jeff D. Hamann
> Hamann, Donald & Associates, Inc.
> PO Box 1421
> Corvallis, Oregon USA 97339-1421
> Bus. 541-753-7333
> Cell. 541-740-5988
> jeff_hamann at hamanndonald.com
> www.hamanndonald.com
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roland.Goecke at anu.edu.au  Wed May 15 08:06:32 2002
From: Roland.Goecke at anu.edu.au (Roland Goecke)
Date: Wed, 15 May 2002 16:06:32 +1000
Subject: [R] Functional Data Analysis
References: <3CE059B0.BF0155A8@anu.edu.au> <3CE07078.37360AB9@bank-banque-canada.ca>
Message-ID: <3CE1FAE8.C9EDD9EE@anu.edu.au>

Paul,

I have been pointed to Jim Ramsay's homepage and there is a link to
packages for functional data analysis written by him for R, S-PLUS,
Matlab. These packages can be downloaded via anonymous FTP.

Cheers
Roland

> About a year ago I roughly converted Ramsay's code into an R package
> (excluding the documentation) and ran many of his examples. If you don't
> get a better offer, I can send you the script I used to do that.
> 
> Paul Gilbert

-- 
E-Mail  : Roland.Goecke at ieee.org
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jan.wiener at tuebingen.mpg.de  Wed May 15 08:32:23 2002
From: jan.wiener at tuebingen.mpg.de (Jan Malte Wiener)
Date: Wed, 15 May 2002 08:32:23 +0200
Subject: [R] alternative to table
Message-ID: <3CE200F7.9A646F3B@tuebingen.mpg.de>

hi,
i have a matrix with repeated measures of subjects, e.g. (col 1 =
subject, col 2 = data)

x=
1	7
1	6
1	9
2	8
2	9
2	2
3	4
3	5
3	3

i now would like to have a vector that only carries the different values
of column 1 (only one entry per value -> (1,2,3)).
right now i am doing this with: 

a<-table(x[,1])
a<-names(a)

that works rather fine, but "a" now carries characters not numbers.
Since I want to use that vector to extract the data of individual
subjects from "x", I either have to convert characters to numbers (not
elegant) or find a different function that solves my problem.
any ideas ?

thanks,
jan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From YERUPAJA01 at terra.es  Wed May 15 08:33:15 2002
From: YERUPAJA01 at terra.es (YERUPAJA01)
Date: Wed, 15 May 2002 08:33:15 +0200
Subject: [R] Where can I find BLAS library?
Message-ID: <5c2ab5e342.5e3425c2ab@teleline.es>

Hi Kenneth,

You can find the lapack package in:

www.rpmfind.net

I've had the same problem and I solved it with this link
Cheers,

Antonio Rodr?guez

----- Mensaje Original -----
De: Kenneth Cabrera <krcabrer at perseus.unalmed.edu.co>
Fecha: Martes, Mayo 14, 2002 5:45 pm
Asunto: [R] Where can I find BLAS library?

> 
> I got this error when I try to install R (v 1.5.0)  in a LINUX 
> (Red Hat 
> 7.1) LINUX 2.4.2 .
> error:
>       failed dependencies:
>       libblas.so.3 is needed by R-base-1.5.0.-1
> 
> Where can I find this library and how do I install it?
> Thank you
> Kenneth
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-
> FAQ.htmlSend "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-
> 
request at stat.math.ethz.ch_._._._._._._._._._._._._._._._._._._._._._._._
._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From YERUPAJA01 at terra.es  Wed May 15 08:42:35 2002
From: YERUPAJA01 at terra.es (YERUPAJA01)
Date: Wed, 15 May 2002 08:42:35 +0200
Subject: [R] Printing a plot on Windows
Message-ID: <5aae25aed8.5aed85aae2@teleline.es>

Hi Joaquin,

You have several options under:

File->Save as  or
File->Copy to the clipboard->as a Metafile

I curently use this last option and then paste the plot on a Word 
document, then print it is an easy issue

Saludos,

Antonio Rodr?guez

----- Mensaje Original -----
De: "Joaquin Diaz-Saiz" <xoaquin at worldnet.att.net>
Fecha: Martes, Mayo 14, 2002 10:20 pm
Asunto: [R] Printing a plot on Windows

> I am using R 1.5.0 for Windows. When trying to print a plot 
> produced by R
> clicking on the printer icon, or by clicking on "FILE - Print", 
> there is no
> response. This happens under Windows 95 and 98.
> Has somebody found this problem? Is there a solution besides 
> saving the plot
> and printing it using another application?
> 
> Thanks for the help.
> 
> Joaquin Diaz-Saiz
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-
> FAQ.htmlSend "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-
> 
request at stat.math.ethz.ch_._._._._._._._._._._._._._._._._._._._._._._._
._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joshi at engr.orst.edu  Wed May 15 08:48:29 2002
From: joshi at engr.orst.edu (joshi@engr.orst.edu)
Date: Tue, 14 May 2002 23:48:29 -0700 (PDT)
Subject: [R] question about scan()
Message-ID: <1021445309.3ce204bd10769@webmail1.onid.orst.edu>

Hi,

I am using the scan function to read from a file. In 
general the syntax I am using is as follows:

scan("myfile", list(a = "", b="", c="", d=""), sep=",")

The file I am trying to read contains a #< in the 'd' 
field. When the file is read into an object, the d 
field comes as "" for that particular string. 

I guess the problem is because the # is used for 
commenting. 
My question is that if I want to read the #< anyways 
from the file, how do I do that?

Thanks in advance.
-Saket.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.connolly at hortresearch.co.nz  Wed May 15 04:23:04 2002
From: p.connolly at hortresearch.co.nz (Patrick Connolly)
Date: Wed, 15 May 2002 14:23:04 +1200
Subject: [R] tapply and empty subsets
In-Reply-To: <E177lUP-0000EL-00@smtp4.ihug.co.nz>
References: <E177lUP-0000EL-00@smtp4.ihug.co.nz>
Message-ID: <20020515022304.GA16485@hortresearch.co.nz>

On Tue, 14-May-2002 at 11:13PM +0000, jasont at indigoindustrial.co.nz wrote:
|> > I guess for my purpose the following will do.
|> > 
|> > > x <- tapply(y, z, mean)
|> > > x[is.na(x)] <- 0
|> > 
|> > Thanks,
|> > Giovanni
|> 

|> If I might ask, what's wrong with NA?  I occasionally deal with
|> data sets that do have means close to zero, so my doing this would
|> be misleading at best (YMMV).  NA is a good thing, for me.

Well, I've had occasions where NA was really zero.  Depends on what
sort of data you have and who entered it in whatever form it was done.
A control reading that can be safely assumed to be zero is an example
that comes to mind.

|> 
|> If you just can't live with NA, na.omit(tapply(y,z,mean)) might be more 
|> appropriate here.

Think that will end up with only two, and we need to know which of the
three is missing (and isn't really NA).

best

-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world' s largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you've seen it.  ---Steven Wright
~~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 15 09:08:22 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 15 May 2002 08:08:22 +0100 (BST)
Subject: [R] alternative to table
In-Reply-To: <3CE200F7.9A646F3B@tuebingen.mpg.de>
Message-ID: <Pine.LNX.4.31.0205150808020.27384-100000@gannet.stats>

?unique.

On Wed, 15 May 2002, Jan Malte Wiener wrote:

> hi,
> i have a matrix with repeated measures of subjects, e.g. (col 1 =
> subject, col 2 = data)
>
> x=
> 1	7
> 1	6
> 1	9
> 2	8
> 2	9
> 2	2
> 3	4
> 3	5
> 3	3
>
> i now would like to have a vector that only carries the different values
> of column 1 (only one entry per value -> (1,2,3)).
> right now i am doing this with:
>
> a<-table(x[,1])
> a<-names(a)
>
> that works rather fine, but "a" now carries characters not numbers.
> Since I want to use that vector to extract the data of individual
> subjects from "x", I either have to convert characters to numbers (not
> elegant) or find a different function that solves my problem.
> any ideas ?
>
> thanks,
> jan
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 15 09:12:43 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 15 May 2002 08:12:43 +0100 (BST)
Subject: [R] question about scan()
In-Reply-To: <1021445309.3ce204bd10769@webmail1.onid.orst.edu>
Message-ID: <Pine.LNX.4.31.0205150809070.27384-100000@gannet.stats>

On Tue, 14 May 2002 joshi at engr.orst.edu wrote:

> Hi,
>
> I am using the scan function to read from a file. In
> general the syntax I am using is as follows:
>
> scan("myfile", list(a = "", b="", c="", d=""), sep=",")
>
> The file I am trying to read contains a #< in the 'd'
> field. When the file is read into an object, the d
> field comes as "" for that particular string.
>
> I guess the problem is because the # is used for
> commenting.
> My question is that if I want to read the #< anyways
> from the file, how do I do that?

Options:

1) Read the help page for scan, and set the appropriate argument
to make #  not a comment character, or (preferably)

2) Upgrade to the current version of R, where it will work with the
default values.


*Please* do remember to tell us your R version/platform when posting.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Peters.Andrea at imbe.imed.uni-erlangen.de  Wed May 15 09:23:42 2002
From: Peters.Andrea at imbe.imed.uni-erlangen.de (Andrea Peters)
Date: Wed, 15 May 2002 09:23:42 +0200 (CEST)
Subject: [R] alternative to table
In-Reply-To: <3CE200F7.9A646F3B@tuebingen.mpg.de>
Message-ID: <Pine.LNX.4.33.0205150922390.8602-100000@imbe78.imbe.med.uni-erlangen.de>

Use
 unique(x[,1])
Andrea


On Wed, 15 May 2002, Jan Malte Wiener wrote:

> hi,
> i have a matrix with repeated measures of subjects, e.g. (col 1 =
> subject, col 2 = data)
>
> x=
> 1	7
> 1	6
> 1	9
> 2	8
> 2	9
> 2	2
> 3	4
> 3	5
> 3	3
>
> i now would like to have a vector that only carries the different values
> of column 1 (only one entry per value -> (1,2,3)).
> right now i am doing this with:
>
> a<-table(x[,1])
> a<-names(a)
>
> that works rather fine, but "a" now carries characters not numbers.
> Since I want to use that vector to extract the data of individual
> subjects from "x", I either have to convert characters to numbers (not
> elegant) or find a different function that solves my problem.
> any ideas ?
>
> thanks,
> jan
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Wed May 15 09:56:33 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Wed, 15 May 2002 09:56:33 +0200
Subject: [R] calculating likelihood-based CI
Message-ID: <003b01c1fbe6$0c3a9420$5c13070a@it.giustizia.it>

Hi there,
I'm interested in estimating likelihood- (or simply deviance- for GLM) based
CI. I use the following code, but is there a more efficient way to do it?

obj<-glm(y~x+z....) #fit the full model
beta.z<-seq(a, b, length=500) #where a<coef(obj)["z"]<b
out<-list()
for(i in 1:500){
out[[i]]<-update(obj,.~.-z+offset(I(beta.z[i]*z)) )  }
dev.z<-sapply(out, function(x)x$dev) #profile dev for \beta_z
range(beta.z[(dev.z-obj$dev)<3.8]) #likelihood based CI


I understand that there could be some package to do it (for instance in
MASS???), but I like know the code to use it with some nonstandard
situations.

best,
vito


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Wed May 15 10:08:33 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Wed, 15 May 2002 10:08:33 +0200
Subject: [R] alternative to table
References: <3CE200F7.9A646F3B@tuebingen.mpg.de>
Message-ID: <3CE21781.9A203AE3@atmos.umnw.ethz.ch>

Hallo Jan

what about unique(x[,1])

gruess

joerg

Jan Malte Wiener wrote:
> 
> hi,
> i have a matrix with repeated measures of subjects, e.g. (col 1 =
> subject, col 2 = data)
> 
> x=
> 1       7
> 1       6
> 1       9
> 2       8
> 2       9
> 2       2
> 3       4
> 3       5
> 3       3
> 
> i now would like to have a vector that only carries the different values
> of column 1 (only one entry per value -> (1,2,3)).
> right now i am doing this with:
> 
> a<-table(x[,1])
> a<-names(a)
> 
> that works rather fine, but "a" now carries characters not numbers.
> Since I want to use that vector to extract the data of individual
> subjects from "x", I either have to convert characters to numbers (not
> elegant) or find a different function that solves my problem.
> any ideas ?
> 
> thanks,
> jan
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 15 10:07:36 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 15 May 2002 09:07:36 +0100 (BST)
Subject: [R] calculating likelihood-based CI
In-Reply-To: <003b01c1fbe6$0c3a9420$5c13070a@it.giustizia.it>
Message-ID: <Pine.GSO.4.44.0205150906230.1951-100000@auk.stats>

On Wed, 15 May 2002, vito muggeo wrote:

> Hi there,
> I'm interested in estimating likelihood- (or simply deviance- for GLM) based
> CI. I use the following code, but is there a more efficient way to do it?
>
> obj<-glm(y~x+z....) #fit the full model
> beta.z<-seq(a, b, length=500) #where a<coef(obj)["z"]<b
> out<-list()
> for(i in 1:500){
> out[[i]]<-update(obj,.~.-z+offset(I(beta.z[i]*z)) )  }
> dev.z<-sapply(out, function(x)x$dev) #profile dev for \beta_z
> range(beta.z[(dev.z-obj$dev)<3.8]) #likelihood based CI
>
>
> I understand that there could be some package to do it (for instance in
> MASS???), but I like know the code to use it with some nonstandard
> situations.

Look at how the confint and profile methods for glm in MASS work.
They are similar, but

1) work at glm.fit level
2) use spline interpolation

>
> best,
> vito
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Wed May 15 10:19:52 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Wed, 15 May 2002 08:19:52 +0000
Subject: [R] alternative to table
In-Reply-To: <3CE200F7.9A646F3B@tuebingen.mpg.de>; from jan.wiener@tuebingen.mpg.de on Wed, May 15, 2002 at 08:32:23AM +0200
References: <3CE200F7.9A646F3B@tuebingen.mpg.de>
Message-ID: <20020515081952.B31288@camille.indigoindustrial.co.nz>

On Wed, May 15, 2002 at 08:32:23AM +0200, Jan Malte Wiener wrote:
> hi,
> i have a matrix with repeated measures of subjects, e.g. (col 1 =
> subject, col 2 = data)
> 
> x=
> 1	7
> 1	6
> 1	9
> 2	8
> 2	9
> 2	2
> 3	4
> 3	5
> 3	3
> 
> i now would like to have a vector that only carries the different values
> of column 1 (only one entry per value -> (1,2,3)).

unique(x[,1]) should work nicely.

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Wed May 15 10:22:25 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Wed, 15 May 2002 10:22:25 +0200
Subject: [R] question about scan()
References: <1021445309.3ce204bd10769@webmail1.onid.orst.edu>
Message-ID: <3CE21AC1.1C5F3462@atmos.umnw.ethz.ch>

Hello,

it looks you using R1.4.X
in this case you have to add comment.char = "" to your scan command,
because '#' is used to mark comments. In R1.5.0 "" is the default (that
means: no comments allowed), which is the better option beacause there
are many different comment chars in tht different file types.

gruess

joerg

joshi at engr.orst.edu wrote:
> 
> Hi,
> 
> I am using the scan function to read from a file. In
> general the syntax I am using is as follows:
> 
> scan("myfile", list(a = "", b="", c="", d=""), sep=",")
> 
> The file I am trying to read contains a #< in the 'd'
> field. When the file is read into an object, the d
> field comes as "" for that particular string.
> 
> I guess the problem is because the # is used for
> commenting.
> My question is that if I want to read the #< anyways
> from the file, how do I do that?
> 
> Thanks in advance.
> -Saket.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Wed May 15 10:26:13 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Wed, 15 May 2002 08:26:13 +0000
Subject: [R] R CMD check
In-Reply-To: <Pine.LNX.4.31.0205142223410.21782-100000@gannet.stats>; from ripley@stats.ox.ac.uk on Tue, May 14, 2002 at 10:24:18PM +0100
References: <20020514170334.4be8d1d3.fharrell@virginia.edu> <Pine.LNX.4.31.0205142223410.21782-100000@gannet.stats>
Message-ID: <20020515082613.C31288@camille.indigoindustrial.co.nz>

On Tue, 14 May 2002, Frank E Harrell Jr wrote:
> I am unclear on whether to run R CMD check pgkname as user or as root on Linux.  When running as user, after all the latex, html, and man files are created, I get the following error message:
>
> Rdconv(): Couldn't open '': Permission denied
>
> Has anyone dealt with that message?

I always run check as user.  INSTALL and REMOVE are the only things I 
run as root.

Did a subdirectory ownership accidentally get made root? 
"ls -lR | grep root"   from the source top-level might cast some light.

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Wed May 15 11:37:34 2002
From: peter at esb.ucp.pt (Peter Ho)
Date: Wed, 15 May 2002 10:37:34 +0100
Subject: [R] least summed square distance + fit
References: <E09E527B56BE2D438A3D6A246DDD27A90C1975@Roper-CV.qld.cmis.csiro.au>
Message-ID: <3CE22C5B.87AD74BE@esb.ucp.pt>

Hi R-users,

Does the function procrustes() do "Generalised Procrustes analysis " (Gower 1975,
Psychometrika, 40,33-51)?

Peter Ho



Bill.Venables at cmis.csiro.au wrote:

> This sounds like procrustes transformations.
>
> There is a function procrustes() in the vegan package to do it.
>
> library(vegan)
> ?procrustes
>
> [Irrelevant side issue: Procrustes was a Greek pirate who used to torture
> his victims by tying them to an iron bed and neatly lopping off any parts of
> their body that protruded.  Not a bad analogy!]
>
> Bill Venables.
>
> -----Original Message-----
> From: Jonathan Baron [mailto:baron at cattell.psych.upenn.edu]
> Sent: Tuesday, May 14, 2002 9:07 PM
> To: Jan Malte Wiener
> Cc: R
> Subject: Re: [R] least summed square distance + fit
>
> Take a look at optim() in the base package.  I've used it for
> things like this, and it works beautifully.  Perhaps there is
> something more specific, but I don't know it.  Jon
>
> On 05/14/02 12:32, Jan Malte Wiener wrote:
> >hi,
> >I have a matrix (representing original data) that looks e.g. like this
> >(consider it beeing x,y,z coords):
> >441     447    0
> >265     407    0
> >374     223    0
> >288     574    0
> >669     309    0
> >591     195    0
> >595     475    0
> >424     351    0
> >
> >I get a second matrix (subject data) that is similiar to the above
> >matrix but it is scaled, translated and rotated (and of course a little
> >inprecise).
> >Also I have an errorfunction that sums up  the squared distances of
> >corresponding points of orig matrix and subject matrix.
> >
> >And here comes my problem:
> >I now need an fitting function that scales, rotates and translates my
> >subject matrix so that the error (computed by the errorfunction) is
> >minimized.
> >Since I am new to R and actually new to that problem, I would be glad if
> >someone could tell me if there is a precompiled fitting procedure that
> >fits my requirements.
> >
> >greetinx jan
> >
> >
> >
> >--
> >Jan Malte Wiener
> >Max-Planck-Institute for Biological Cybernetics
> >Spemannstr. 38, 72076 Tuebingen, Germany
> >Tel.: +49 7071 601 631
> >Email: jan.wiener at tuebingen.mpg.de
> >
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-
> >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> _._
>
> --
> Jonathan Baron, Professor of Psychology, University of Pennsylvania
> Home page: http://www.sas.upenn.edu/~baron
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Derek.Eder at neuro.gu.se  Wed May 15 11:42:06 2002
From: Derek.Eder at neuro.gu.se (Derek Eder)
Date: Wed, 15 May 2002 11:42:06 +0200
Subject: [R] Combining many dataframes from listings of objects?
Message-ID: <sce249ab.053@dss2.med.gu.se>

I want to combine (rbind) many dataframes into a single data frame, but "automatically" specifying the names of the dataframes as listing of object names.

E.g., combine these 18 df objects into one big df using something conceptually like this :   

rbind(objects(pattern="*.df"))  

 ...

> objects(pattern="*.df")
 [1] "BA.Nt1.nREM.APNEA.MIXED.bp.df"       "BA.Nt1.nREM.APNEA.OBSTRUCTIVE.bp.df"
 [3] "BA.Nt1.nREM.HYPOPNEA.bp.df"          "BA.Nt1.REM.HYPOPNEA.bp.df"          
 [5] "BA.Nt2.nREM.APNEA.MIXED.bp.df"       "BA.Nt2.nREM.APNEA.OBSTRUCTIVE.bp.df"
 [7] "BA.Nt2.nREM.HYPOPNEA.bp.df"          "BA.Nt2.REM.APNEA.OBSTRUCTIVE.bp.df" 
 [9] "BA.Nt2.REM.HYPOPNEA.bp.df"           "BF.Nt1.nREM.APNEA.MIXED.bp.df"



By the way in S. I used to do this by creating a large empty target dataframe and then
looping through the list of objects, write each one into the target.  This is failing in R:

> target_as.data.frame(matrix(data=NA,nrow=8,ncol=14))
> target[1:4,]__c("a","b","c","d")

> Warning messages:
1: invalid factor level, NAs generated in: "[<-.factor"(*tmp*, iseq, value = vjj) 
2: invalid factor level, NAs generated in: "[<-.factor"(*tmp*, iseq, value = vjj) 
3: invalid factor level, NAs generated in: "[<-.factor"(*tmp*, iseq, value = vjj) 
4: invalid factor level, NAs generated in: "[<-.factor"(*tmp*, iseq, value = vjj) 
. . .


Thank you
 

Derek N. Eder
G?teborgs Universitet
Institutionen f?r klinisk neurovetenskap - psykiatri
Sahlgrenska universitetssjukhuset SS/SU
Bl? straket 17b
SE 413 45  G?teborg
Sverige
Tlf. +46 (031) 34  2-6139  (office)
Tlf. +46 (031) 34 2-1283  (laboratory)
Tlf. +46 0709 / 7 2-1283 (mobil)
Fax. +46 (031) 82 81 63 
derek.eder at neuro.gu.se


Gothenburg University
Institute of Clinical Neuroscience,
Section for Psychiatry
Salhgrenska Hospital  SU/SS
SE 413 45  G?teborg
Sweden


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Peter.Baker at csiro.au  Wed May 15 11:41:45 2002
From: Peter.Baker at csiro.au (Peter Baker (CMIS, Indooroopilly))
Date: Wed, 15 May 2002 19:41:45 +1000 (EST)
Subject: [R] question about scan()
In-Reply-To: <1021445309.3ce204bd10769@webmail1.onid.orst.edu>
Message-ID: <Pine.LNX.4.44.0205151937290.16634-100000@li-lindeman-nd.tag.csiro.au>

On Tue, 14 May 2002 joshi at engr.orst.edu wrote:

>Hi,
>
>I am using the scan function to read from a file. In 
>general the syntax I am using is as follows:
>
>scan("myfile", list(a = "", b="", c="", d=""), sep=",")

try using  comment.char = "", as in
scan("myfile", list(a = "", b="", c="", d=""), sep=",", comment.char = "")

so that # isn't seen as a comment 
eg if its inside a string "abc#def" the string gets read properly

Regards
Peter

>
>The file I am trying to read contains a #< in the 'd' 
>field. When the file is read into an object, the d 
>field comes as "" for that particular string. 
>
>I guess the problem is because the # is used for 
>commenting. 
>My question is that if I want to read the #< anyways 
>from the file, how do I do that?
>
>Thanks in advance.
>-Saket.
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Dr Peter Baker, Statistician (Bioinformatics/Genetics),
CSIRO Mathematical & Information Sciences,
120 Meiers Rd, INDOOROOPILLY, QLD 4068.  Australia. 
Email: <Peter.Baker at csiro.au>
WWW: http://www.cmis.csiro.au/Peter.Baker/
Phone:+61 7 3214 2210   Fax:+61 7 3214 2881



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nklepeis at uclink.berkeley.edu  Wed May 15 11:58:50 2002
From: nklepeis at uclink.berkeley.edu (Neil Klepeis)
Date: Wed, 15 May 2002 02:58:50 -0700
Subject: [R] Reading multi-line FWF data
Message-ID: <3CE2315A.B820FEE7@uclink.berkeley.edu>

I keep getting these fixed-width format (FWF) data files where variables
for a single subject are spread across multiple lines and each line has
a different format (apparently created with SAS or SPSS).   To read them
I stole some stuff from `read.fwf' in base R and threw together the
function included below.

Please feel free to test this function with your own data and let me
know of any problems.

Also, is there another (better) way to do this in R?

-- 
___________________________________________________________
Neil E. Klepeis -- School of Public Health, UC Berkeley and
Lawrence Berkeley National Laboratory, Berkeley, CA USA


http://socrates.berkeley.edu/~nklepeis/R_PACKAGE/library/heR.Base/html/read.fwf.mult.html

----

read.fwf.mult <-
function (file, widths, rows, sep = "\t", as.is = FALSE, skip = 0,
    row.names = NULL, col.names, n = -1, blank.lines.skip = FALSE,
    ...)
{
    if (!is.list(widths) | length(widths) != rows | (!missing(col.names)
&
        (length(col.names) != rows | !is.list(col.names))))
        stop("`widths' and `col.names' (optional) should be lists
containing column widths and names corresponding to each line of a
group")
    if (!missing(widths) & !missing(col.names))
        for (i in 1:rows) if (length(widths[[i]]) !=
length(col.names[[i]])) {
            cat("Mismatch between `widths' and `col.names' at line ",
                i, "\n")
            stop("Check `widths' and `col.names'.")
        }
    doone <- function(x) {
        x <- substring(x, first, last)
        x[nchar(x) == 0] <- "NA"
        x
    }
    blanks <- function(x) {
        b <- character(length = length(x))
        for (i in 1:length(x)) if (x[i] > 0)
            b[i] <- paste(rep(" ", x[i]), collapse = "")
        b
    }
    FILE <- tempfile("Rfwf.")
    on.exit(unlink(FILE))
    raw <- scan(file, what = "", sep = "\n", quote = "", quiet = TRUE,
        n = n, skip = skip, blank.lines.skip = blank.lines.skip)
    ngroups <- length(raw)%/%rows
    cat("Rows per group:", rows, "\n")
    cat("Number of total rows:", length(raw), "\n")
    cat("Number of groups:", ngroups, "\n")
    if (ngroups < length(raw)/rows) 
        stop("Incomplete multi-line groups. Check input file.")
    f <- expand.grid(1:rows, 1:ngroups)[[2]]
    group.widths <- sapply(widths, sum)
    fix.widths <- function(y) {
        p <- group.widths - nchar(y)
        bp <- blanks(p)
        for (i in 1:length(y)) {
            if (p[i] > 0) {
                y[i] <- paste(y[i], bp[i], sep = "")
            }
            else if (p[i] < 0) {
                y[i] <- substr(y[i], 1, group.widths[i])
            }
        }
        y
    }
    raw <- tapply(raw, INDEX = f, FUN = "fix.widths")
    raw <- lapply(raw, FUN = "paste", sep = "", collapse = "")
    widths <- unlist(widths)
    st <- c(1, 1 + cumsum(widths))
    first <- st[-length(st)]
    last <- cumsum(widths)
    cat(file = FILE, sapply(raw, doone), sep = c(rep(sep, ,
length(widths) -
        1), "\n"))
    col.names <- unlist(col.names)
    read.table(file = FILE, header = FALSE, sep = sep, as.is = as.is, 
        row.names = row.names, col.names = col.names, quote = "",
        ...)
}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 15 11:56:07 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 15 May 2002 10:56:07 +0100 (GMT Daylight Time)
Subject: [R] Combining many dataframes from listings of objects?
In-Reply-To: <sce249ab.053@dss2.med.gu.se>
Message-ID: <Pine.WNT.4.44.0205151045490.3800-100000@gannet.stats.ox.ac.uk>

On Wed, 15 May 2002, Derek Eder wrote:

> I want to combine (rbind) many dataframes into a single data frame, but "automatically" specifying the names of the dataframes as listing of object names.
>
> E.g., combine these 18 df objects into one big df using something conceptually like this :
>
> rbind(objects(pattern="*.df"))

A job for do.call.  I think

do.call("rbind", objects(pattern="*.df"))

might work, and something like it should.

>
>  ...
>
> > objects(pattern="*.df")
>  [1] "BA.Nt1.nREM.APNEA.MIXED.bp.df"       "BA.Nt1.nREM.APNEA.OBSTRUCTIVE.bp.df"
>  [3] "BA.Nt1.nREM.HYPOPNEA.bp.df"          "BA.Nt1.REM.HYPOPNEA.bp.df"
>  [5] "BA.Nt2.nREM.APNEA.MIXED.bp.df"       "BA.Nt2.nREM.APNEA.OBSTRUCTIVE.bp.df"
>  [7] "BA.Nt2.nREM.HYPOPNEA.bp.df"          "BA.Nt2.REM.APNEA.OBSTRUCTIVE.bp.df"
>  [9] "BA.Nt2.REM.HYPOPNEA.bp.df"           "BF.Nt1.nREM.APNEA.MIXED.bp.df"
>
>
>
> By the way in S. I used to do this by creating a large empty target dataframe and then
> looping through the list of objects, write each one into the target.  This is failing in R:
>
> > target_as.data.frame(matrix(data=NA,nrow=8,ncol=14))
> > target[1:4,]__c("a","b","c","d")
>
> > Warning messages:
> 1: invalid factor level, NAs generated in: "[<-.factor"(*tmp*, iseq, value = vjj)
> 2: invalid factor level, NAs generated in: "[<-.factor"(*tmp*, iseq, value = vjj)
> 3: invalid factor level, NAs generated in: "[<-.factor"(*tmp*, iseq, value = vjj)
> 4: invalid factor level, NAs generated in: "[<-.factor"(*tmp*, iseq, value = vjj)
> . . .

You need to set the column types up first.

>
>
> Thank you
>
>
> Derek N. Eder
> Göteborgs Universitet
> Institutionen för klinisk neurovetenskap - psykiatri
> Sahlgrenska universitetssjukhuset SS/SU
> Blå straket 17b
> SE 413 45  Göteborg
> Sverige
> Tlf. +46 (031) 34  2-6139  (office)
> Tlf. +46 (031) 34 2-1283  (laboratory)
> Tlf. +46 0709 / 7 2-1283 (mobil)
> Fax. +46 (031) 82 81 63
> derek.eder at neuro.gu.se
>
>
> Gothenburg University
> Institute of Clinical Neuroscience,
> Section for Psychiatry
> Salhgrenska Hospital  SU/SS
> SE 413 45  Göteborg
> Sweden
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jarioksa at sun3.oulu.fi  Wed May 15 13:24:40 2002
From: jarioksa at sun3.oulu.fi (Jari Oksanen)
Date: Wed, 15 May 2002 14:24:40 +0300
Subject: [R] least summed square distance + fit 
In-Reply-To: Message from Peter Ho <peter@esb.ucp.pt> 
   of "Wed, 15 May 2002 10:37:34 BST." <3CE22C5B.87AD74BE@esb.ucp.pt> 
Message-ID: <200205151124.g4FBOfp19891@pc112145.oulu.fi>


peter at esb.ucp.pt said:
> Does the function procrustes() do "Generalised Procrustes analysis "
> (Gower 1975, Psychometrika, 40,33-51)? 

No idea. The algorithm was directly hitched from Mardia, Kent & Bibby. I
even refused to check the algorithm against Sch?nemann to avoid
discomfort, and I would do my best to avoid reading Gower.  It seems to
do what it needs to do for my purposes, but of course I would be happy
if somebody checks the function. 

cheers, jari oksanen (of vegan)
-- 
Jari Oksanen -- Dept Biology, Univ Oulu, 90014 Oulu, Finland
Ph. +358 8 5531526, cell +358 40 5136529, fax +358 8 5531061
email jari.oksanen at oulu.fi, homepage http://cc.oulu.fi/~jarioksa/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Derek.Eder at neuro.gu.se  Wed May 15 15:34:47 2002
From: Derek.Eder at neuro.gu.se (Derek Eder)
Date: Wed, 15 May 2002 15:34:47 +0200
Subject: Fwd: Re: [R] Combining many dataframes from listings of
	objects?
Message-ID: <sce28038.025@dss2.med.gu.se>

> I want to combine (rbind) many dataframes into a single data frame, but "automatically" 
> specifying the names of the dataframes as listing of object names.
> E.g., combine these 18 df objects into one big df using something conceptually like this :
> rbind(objects(pattern="*.df"))


Brian Ripley suggested that something along the lines of:  do.call("rbind", objects(pattern="*.df"))  


But I can't make this fly on vectors.  E.g.,  

>  objects.of.desire_objects(pattern="*.df")
> do.call("rbind.data.frame",list(as.name(objects.of.desire)))  # do.call needs a list and must be of class 'name'

Unfortunately, only the first data.frame in the series is read and returned.


Any further nudges along the right direction anyone?

Thanks!




Derek N. Eder
G?teborgs Universitet
Institutionen f?r klinisk neurovetenskap - psykiatri
Sahlgrenska universitetssjukhuset SS/SU
Bl? straket 17b
SE 413 45  G?teborg
Sverige
Tlf. +46 (031) 34  2-6139  (office)
Tlf. +46 (031) 34 2-1283  (laboratory)
Tlf. +46 0709 / 7 2-1283 (mobil)
Fax. +46 (031) 82 81 63 
derek.eder at neuro.gu.se


Gothenburg University
Institute of Clinical Neuroscience,
Section for Psychiatry
Salhgrenska Hospital  SU/SS
SE 413 45  G?teborg
Sweden

-------------- next part --------------
An embedded message was scrubbed...
From: Prof Brian D Ripley <ripley at stats.ox.ac.uk>
Subject: Re: [R] Combining many dataframes from listings of objects?
Date: Wed, 15 May 2002 10:56:07 +0100 (GMT Daylight Time)
Size: 4732
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020515/a5f0db46/attachment.mht

From Bill.Venables at cmis.csiro.au  Wed May 15 15:38:49 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Wed, 15 May 2002 23:38:49 +1000
Subject: [R] Combining many dataframes from listings of objects?
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A90C1990@Roper-CV.qld.cmis.csiro.au>

Derek Eder asks:

>
> 
> I want to combine (rbind) many dataframes into a single data frame, but
"automatically" specifying the names of the dataframes as listing of object
names.
> 
> E.g., combine these 18 df objects into one big df using something
conceptually like this :   
> 
> rbind(objects(pattern="*.df"))  
> 
>  ...
> 
> > objects(pattern="*.df")
>  [1] "BA.Nt1.nREM.APNEA.MIXED.bp.df"
"BA.Nt1.nREM.APNEA.OBSTRUCTIVE.bp.df"
>  [3] "BA.Nt1.nREM.HYPOPNEA.bp.df"          "BA.Nt1.REM.HYPOPNEA.bp.df"

>  [5] "BA.Nt2.nREM.APNEA.MIXED.bp.df"
"BA.Nt2.nREM.APNEA.OBSTRUCTIVE.bp.df"
>  [7] "BA.Nt2.nREM.HYPOPNEA.bp.df"
"BA.Nt2.REM.APNEA.OBSTRUCTIVE.bp.df" 
>  [9] "BA.Nt2.REM.HYPOPNEA.bp.df"           "BF.Nt1.nREM.APNEA.MIXED.bp.df"
> 
> 
	[WNV]  This is a natural do.call problem, but you need to be a bit
careful.  The second argument has to be a list either of the arguments
themselves or names that evaluate to the arguments.  The obvious choice here
is names.  The following is a mock example with hints of yours.

	> a.df <- b.df <- c.df <- data.frame(x = 1:3, y = letters[1:3])
	> a.df
	  x y
	1 1 a
	2 2 b
	3 3 c
	> do.call("rbind", lapply(objects(pat="*.df$"), as.name))
	  x y
	1 1 a
	2 2 b
	3 3 c
	4 1 a
	5 2 b
	6 3 c
	7 1 a
	8 2 b
	9 3 c
	>

> By the way in S. I used to do this by creating a large empty target
dataframe and then
> looping through the list of objects, write each one into the target.  This
is failing in R:
> 
> > target_as.data.frame(matrix(data=NA,nrow=8,ncol=14))
> > target[1:4,]__c("a","b","c","d")
> 
> > Warning messages:
> 1: invalid factor level, NAs generated in: "[<-.factor"(*tmp*, iseq, value
= vjj) 
> 2: invalid factor level, NAs generated in: "[<-.factor"(*tmp*, iseq, value
= vjj) 
> 3: invalid factor level, NAs generated in: "[<-.factor"(*tmp*, iseq, value
= vjj) 
> 4: invalid factor level, NAs generated in: "[<-.factor"(*tmp*, iseq, value
= vjj) 
> . . .
> 
> 
> Thank you
>  
> 
> Derek N. Eder
> G?teborgs Universitet
> Institutionen f?r klinisk neurovetenskap - psykiatri
> Sahlgrenska universitetssjukhuset SS/SU
> Bl? straket 17b
> SE 413 45  G?teborg
> Sverige
> Tlf. +46 (031) 34  2-6139  (office)
> Tlf. +46 (031) 34 2-1283  (laboratory)
> Tlf. +46 0709 / 7 2-1283 (mobil)
> Fax. +46 (031) 82 81 63 
> derek.eder at neuro.gu.se
> 
> 
> Gothenburg University
> Institute of Clinical Neuroscience,
> Section for Psychiatry
> Salhgrenska Hospital  SU/SS
> SE 413 45  G?teborg
> Sweden
> 
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Wed May 15 17:40:41 2002
From: ernesto at ipimar.pt (Ernesto Jardim)
Date: 15 May 2002 16:40:41 +0100
Subject: [R] ploting a linear model
Message-ID: <1021477241.28621.41.camel@gandalf>

Hi

I have the result of a linear model "lm98" and I want to plot it to
analyse the regression but I'm getting the folowing error message

> lm98<-lm(log(U+1)~Bq+Gi+Lv+Tb+Bq:Gi+Bq:Lv+Bq:Tb+Gi:Lv+Gi:Tb+Lv:Bq)
> plot(lm98)
Error in plot.window(xlim, ylim, log, asp, ...) : 
        need finite ylim values
In addition: Warning message: 
NaNs produced in: sqrt(1 - hii) 

The response variable is tranformed by a log function but I'm adding 1
so that the 0 don't become inf.

Can someone explain me the problem ?

Thanks

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jan.wiener at tuebingen.mpg.de  Wed May 15 16:27:30 2002
From: jan.wiener at tuebingen.mpg.de (Jan Malte Wiener)
Date: Wed, 15 May 2002 16:27:30 +0200
Subject: [R] combining vectors to matrices or data frames
Message-ID: <3CE27052.7C7B018F@tuebingen.mpg.de>

hi,

during a for(i in 1:xx]) loop I always newly calculate a vector 
(e.g. tmp<-c(a,b,c,d,e) )
now i need that vector to be attached at the bootom of a matrix (or
data.frame).


e.g.

m<-matrix()

for(i in 1:5]){
	#some calculations for a,b,c,d,e
	a<- ... b<- ... c<- .. ....

	tmp<-c(a,b,c,d,e)

	??? now I need to attach this tmp to the matrix m ???
}

i couldn't get rbind or append to work properly 

thanks for advice,
jan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From beat.huggler at rmf.ch  Wed May 15 17:09:19 2002
From: beat.huggler at rmf.ch (Beat Huggler)
Date: Wed, 15 May 2002 17:09:19 +0200
Subject: [R] Struchture change of a data frame
Message-ID: <3635AAE6EA743844B05655F805CB3125018E51E5@titlis.rmf.ch>


Hi guys

I've got an easy question but couldn't find any quick solution. I woulk
like to change the following matrix

		good 	bad worse
Blue		1	2 	2
Yellow	2	1	3
Black		3	4	4

Into the following structure

good	1	Blue
Bad	2	Blue
Worse	2	Blue
Good	2	Yellow
Bad	1	Yellow
Worse	2	Yellow
Good	2	Black
Bad	4	Black
Worse	4	Black

Thanks a lot.

Regards

Beat Huggler

---
Beat Huggler
Quantitative Analysis
RMF Investment Products
Huobstrasse 16
8808 Pfaeffikon SZ
Switzerland
www.rmf.ch
Tel. +41 55 415 87 30
Fax +41 55 415 87 07

This message and any attachment are confidential and may be privileged
or otherwise protected from disclosure.  If you are not the intended
recipient, please telephone or email the sender and delete this message
and any attachment from your system.  If you are not the intended
recipient you must not copy this message or attachment or disclose the
contents to any other person.

 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Lemmens at nici.kun.nl  Wed May 15 17:30:58 2002
From: P.Lemmens at nici.kun.nl (Paul Lemmens)
Date: Wed, 15 May 2002 17:30:58 +0200
Subject: [R] graphics question
Message-ID: <32901544.1021483858@fsw20223.socsci.kun.nl>

Hi

after browsing the documentation and web, I'm completely lost as how to 
create the graph I describe below (as best as I can).

I've got 3 pairs of average response times: (390,396), (416, 421), 
(406,415). Each of these pairs represents a level of a certain factor 
(let's call it 'loc'), namely (in the same order), levels "c", "nc" and 
"ni". Within a pair, the first value belongs to the level "sc" of the 
factor 'cat'; the second value belongs to the level "oc".

The graph I'm looking for has on the y-axis the RT values (in ms), so this 
should range from 350 - 450. On the x-axis I want two ticks for each level 
(sc and oc) of the 'cat' factor. In the plot, three lines should be 
displayed, for each level of the factor 'loc', pref. including a legend.

How do I do this???
Please send a CC to my address (p.lemmens at nici.kun.nl), as I'm not yet 
subscribed to the list.

thank you for your help!
Paul


-- 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed May 15 17:49:34 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 15 May 2002 08:49:34 -0700 (PDT)
Subject: [R] Struchture change of a data frame
In-Reply-To: <3635AAE6EA743844B05655F805CB3125018E51E5@titlis.rmf.ch>
Message-ID: <Pine.A41.4.44.0205150837521.99196-100000@homer21.u.washington.edu>

On Wed, 15 May 2002, Beat Huggler wrote:

>
> Hi guys
 >
> I've got an easy question but couldn't find any quick solution. I woulk
> like to change the following matrix
>
> 		good 	bad worse
> Blue		1	2 	2
> Yellow	2	1	3
> Black		3	4	4
>
> Into the following structure
>
> good	1	Blue
> Bad	2	Blue
> Worse	2	Blue
> Good	2	Yellow
> Bad	1	Yellow
> Worse	2	Yellow
> Good	2	Black
> Bad	4	Black
> Worse	4	Black
>

reshape() will do this, but you need a dataframe and need the `colors' to
be a column of the data frame, so if it is really a matrix

df<-as.data.frame(X)
df$colors<-colnames(X)

A simple version is

reshape(df,direction=long, varying=list(c("good","bad","worse")))
     color time good id
1.1   Blue    1    1  1
2.1 Yellow    1    2  2
3.1  Black    1    2  3
1.2   Blue    2    2  1
2.2 Yellow    2    1  2
3.2  Black    2    4  3
1.3   Blue    3    2  1
2.3 Yellow    3    3  2
3.3  Black    3    4  3

and more precisely what you want is

reshape(df,direction="long",varying=list(c("good","bad","worse")),times=c("good","bad","worse"),idvar="color")
              color  time good
Blue.good      Blue  good    1
Yellow.good  Yellow  good    2
Black.good    Black  good    2
Blue.bad       Blue   bad    2
Yellow.bad   Yellow   bad    1
Black.bad     Black   bad    4
Blue.worse     Blue worse    2
Yellow.worse Yellow worse    3
Black.worse   Black worse    4


As you can see, reshape() is overdesigned for a problem like
this, but I assume your problem is in fact more complicated.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed May 15 17:59:06 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 15 May 2002 08:59:06 -0700 (PDT)
Subject: [R] graphics question
In-Reply-To: <32901544.1021483858@fsw20223.socsci.kun.nl>
Message-ID: <Pine.A41.4.44.0205150858350.99196-100000@homer21.u.washington.edu>

On Wed, 15 May 2002, Paul Lemmens wrote:

> The graph I'm looking for has on the y-axis the RT values (in ms), so this
> should range from 350 - 450. On the x-axis I want two ticks for each level
> (sc and oc) of the 'cat' factor. In the plot, three lines should be
> displayed, for each level of the factor 'loc', pref. including a legend.
>
> How do I do this???

Does example(interaction.plot) look like the sort of thing you want?

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Wed May 15 18:16:03 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 15 May 2002 12:16:03 -0400
Subject: [R] anova on aov with Error() [long question]
Message-ID: <20020515121603.A7819@cattell.psych.upenn.edu>

This is a fairly long problem, but one I run into often.  This
may be a problem in statistics, not R, in which case I shouldn't
expect an answer.  The punch line is at the end (III).  The rest
is motivational background.  Forgive any idiocy.

-------

In an experiment, suppose, each of 100 subjects reads 20 cases
and rates their familiarity and emotion (how emotion-arousing
they are).  I want to know whether familiarity affects emotion.
I'm not interested in individual differences among subjects,
which I assume are due to differences in use of the scales.

I have selected the 20 cases haphazardly.  I assume that each
measure (familiarity and emotion) contains two kinds of kinds of
effects, each with its own error, one specific to the _case_
(hence "common" to all subjects) and one that is "idiosyncratic"
to the particular subject-case combination.

------

I. One wrong way to analyze these data is to compute the
correlation within each subject and then do (e.g.) a t-test on
the correlations.  This is wrong because a correlation could
arise from a small correlation of the common errors (which arises
by chance), repeated identically for each subject, even if there
is no real correlation in the effects.

------

II. So here is another way that makes sense but is not elegant.
famil is the 100x20 matrix (100 rows) of responses to the
familiarity question, and emot for the emotion question.  (Skip
this if you want to get to my R question.  This is just to make
the problem clearer.)

famil.vm <- colMeans(famil) # variable means for the 20 cases
emot.vm <- colMeans(emot)
fe <- rep(NA,100) # vector to store within-subject correlations
for (i in 1:100)
 {fe[i] <- lm(emot[i,] ~ famil[i,] + famil.vm)$coefficients[2]}

I can now do t.test(fe) to see if these coefficients are
positive, and I have removed one of the common error components
(famil.vm) so that the correlation cannot arise from a
correlation of the two common error components.

But I have also removed the real effect of famil.vm, and that is
part of the effect of interest (the common part).  So, to get a
p-value for the common effects, I just do

summary(lm(emot.vm ~ famil.vm))

I now have two tests of essentially the same hypothesis, one
concerning the common effects and one concerning the
idiosyncratic effects.  If I'm desperate, I can use Fisher's
formula to combine two tests of the same hypothesis.

-------

III. I was thinking though that I could use the Error() term in
aov() to do both things at once by comparing two models, one with
both the common and idiosyncratic terms and one without either.
(Not much left in this simple example, but there are other cases
where that is not true.)

So I would set up a new matrix (m1) in which one row was an
observation and there were (factor) codes for subject and case,
like this:

subject case emot famil
1       1    5    4
1       2    3    2
...

Then I say something like:

a1 <- aov(emot ~ famil + Error(case/subject),data=m1)

and when I say summary(a1) I get what looks like two analyses.
One is the analysis by case that is equivalent to
summary(lm(emot.vm ~ famil.vm)).  The other is what looks to be
the case:subj interaction, which would be roughly equivalent to
(and probably better than) the test involving the within-subject
correlations ... I think (but I'm not sure).

In principle, then, I ought to be able to fit another model,
something like:

a0 <- aov(emot ~ 1 + Error(case/subject),data=m1)

and compare the two models to test the combination of the two
effects of familiarity.  But anova(a0,a1) does not work.  Nor
does anova(a1), and summary(a1) does not give an overall test.
anova() works only when there is no Error() term.  Can I just
compare the residual errors directly?  Or what?

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Wed May 15 18:17:15 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Wed, 15 May 2002 16:17:15 +0000
Subject: [R] combining vectors to matrices or data frames
References: <3CE27052.7C7B018F@tuebingen.mpg.de>
Message-ID: <3CE28A0B.57B61F23@sentoo.sn>

use list and do.call:

MyList <- list()

for(i in 1:5]){
  #some calculations for a,b,c,d,e
  a<- ... b<- ... c<- .. ....
  MyList[[i]] <- c(a,b,c,d,e)
  }

MyData <- do.call("rbind", MyList)

will work fro relatively small ( < 1000, say) values of i. Otherwise,
other solutions will be quicker.

Best,

Renaud

Jan Malte Wiener wrote:
> 
> hi,
> 
> during a for(i in 1:xx]) loop I always newly calculate a vector
> (e.g. tmp<-c(a,b,c,d,e) )
> now i need that vector to be attached at the bootom of a matrix (or
> data.frame).
> 
> e.g.
> 
> m<-matrix()
> 
> for(i in 1:5]){
>         #some calculations for a,b,c,d,e
>         a<- ... b<- ... c<- .. ....
> 
>         tmp<-c(a,b,c,d,e)
> 
>         ??? now I need to attach this tmp to the matrix m ???
> }
> 
> i couldn't get rbind or append to work properly
> 
> thanks for advice,
> jan
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Lemmens at nici.kun.nl  Wed May 15 18:32:41 2002
From: P.Lemmens at nici.kun.nl (Paul Lemmens)
Date: Wed, 15 May 2002 18:32:41 +0200
Subject: [R] graphics question
In-Reply-To: <Pine.A41.4.44.0205150858350.99196-100000@homer21.u.washington.edu>
References: <Pine.A41.4.44.0205150858350.99196-100000@homer21.u.washington.e
 du>
Message-ID: <36604712.1021487561@fsw20223.socsci.kun.nl>

--On woensdag 15 mei 2002 8:59 -0700 Thomas Lumley 
<tlumley at u.washington.edu> wrote:

> On Wed, 15 May 2002, Paul Lemmens wrote:
>
>> The graph I'm looking for has on the y-axis the RT values (in ms), so
>> this should range from 350 - 450. On the x-axis I want two ticks for
>> each level (sc and oc) of the 'cat' factor. In the plot, three lines
>> should be displayed, for each level of the factor 'loc', pref. including
>> a legend.
>>
>> How do I do this???
>
> Does example(interaction.plot) look like the sort of thing you want?
>
Yes!! This goes a great ways into what I want. However, if I do:

data <- c(390,416,406,396,421,415)
psc <- gl(2,3, labels=c("samecat","othercat"))
loc <- gl(3,2, labels=c("corresp", "noncorresp", "noninf"))
interaction.plot(psc, loc, data)

I get only one line (for noncorresp) which looks as if it is the average of 
all data points (2 times the average of 3 points). This makes sense because 
of the fun argument of interaction.plot (which, to me, seems to default to 
mean). Can I override this with some function that just returns one point 
of data??

thnx for the quick response!
Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Wed May 15 18:45:43 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 15 May 2002 12:45:43 -0400
Subject: [R] graphics question
In-Reply-To: <32901544.1021483858@fsw20223.socsci.kun.nl>; from P.Lemmens@nici.kun.nl on Wed, May 15, 2002 at 05:30:58PM +0200
References: <32901544.1021483858@fsw20223.socsci.kun.nl>
Message-ID: <20020515124543.A9882@cattell.psych.upenn.edu>

On 05/15/02 17:30, Paul Lemmens wrote:
>Hi
>
>after browsing the documentation and web, I'm completely lost as how to 
>create the graph I describe below (as best as I can).
>
>I've got 3 pairs of average response times: (390,396), (416, 421), 
>(406,415). Each of these pairs represents a level of a certain factor 
>(let's call it 'loc'), namely (in the same order), levels "c", "nc" and 
>"ni". Within a pair, the first value belongs to the level "sc" of the 
>factor 'cat'; the second value belongs to the level "oc".
>
>The graph I'm looking for has on the y-axis the RT values (in ms), so this 
>should range from 350 - 450. On the x-axis I want two ticks for each level 
>(sc and oc) of the 'cat' factor. In the plot, three lines should be 
>displayed, for each level of the factor 'loc', pref. including a legend.

I'm not going to solve the whole thing, but I think what you want
is matplot(m1,typ="l"), where m1 is a matrix made from your data
above.  (I think it would go like

390 396
416 421
406 415

but I might have it transposed.  I always ending up trying t(m1)
because I never remember which way it goes so I guess rather than
reading the help page.)  You might be able to get proper labels
by using colnames(x) and rownames(x).  After the plot, you can
use legend() to add a legend.

Jon

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Wed May 15 18:52:26 2002
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Wed, 15 May 2002 18:52:26 +0200
Subject: [R] combining vectors to matrices or data frames
References: <3CE27052.7C7B018F@tuebingen.mpg.de>
Message-ID: <3CE2924A.9010401@univie.ac.at>

a brute force solution would be

tmp<-c()
for(i in 1:5]){
	#some calculations for a,b,c,d,e
	a<- ... b<- ... c<- .. ....

	tmp<-c(tmp,c(a,b,c,d,e))}

m<-t(matrix(tmp,5,5))


Jan Malte Wiener wrote:

> hi,
> 
> during a for(i in 1:xx]) loop I always newly calculate a vector 
> (e.g. tmp<-c(a,b,c,d,e) )
> now i need that vector to be attached at the bootom of a matrix (or
> data.frame).
> 
> 
> e.g.
> 
> m<-matrix()
> 
> for(i in 1:5]){
> 	#some calculations for a,b,c,d,e
> 	a<- ... b<- ... c<- .. ....
> 
> 	tmp<-c(a,b,c,d,e)
> 
> 	??? now I need to attach this tmp to the matrix m ???
> }
> 
> i couldn't get rbind or append to work properly 
> 
> thanks for advice,
> jan
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 
> 


-- 
--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From White.Denis at epamail.epa.gov  Wed May 15 18:42:09 2002
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Wed, 15 May 2002 09:42:09 -0700
Subject: [R] Struchture change of a data frame
Message-ID: <OFC60193B5.03ED2947-ON88256BBA.005B4118@rtp.epa.gov>


Beat Huggler wrote:
> I've got an easy question but couldn't find any quick
> solution. I woulk like to change the following matrix
>
>         good bad worse
> Blue       1   2     2
> Yellow     2   1     3
> Black      3   4     4
>
> Into the following structure
>
> good   1 Blue
> Bad    2 Blue
> Worse  2 Blue
> Good   2 Yellow
> Bad    1 Yellow
> Worse  2 Yellow
> Good   2 Black
> Bad    4 Black
> Worse  4 Black

Try this:

R> dat
       good bad worse
blue      1   2     2
yellow    2   1     3
black     3   4     4
R>
R> print (cbind (
+    rep (colnames (dat), 3),
+    as.vector (t (dat)),
+    rep (rownames (dat), 1, each=3)),
+        quote=FALSE)
      [,1]  [,2] [,3]
 [1,] good  1    blue
 [2,] bad   2    blue
 [3,] worse 2    blue
 [4,] good  2    yellow
 [5,] bad   1    yellow
 [6,] worse 3    yellow
 [7,] good  3    black
 [8,] bad   4    black
 [9,] worse 4    black

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed May 15 18:59:21 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 15 May 2002 09:59:21 -0700 (PDT)
Subject: [R] graphics question
In-Reply-To: <36604712.1021487561@fsw20223.socsci.kun.nl>
Message-ID: <Pine.A41.4.44.0205150958230.99196-100000@homer21.u.washington.edu>

On Wed, 15 May 2002, Paul Lemmens wrote:

> --On woensdag 15 mei 2002 8:59 -0700 Thomas Lumley
> <tlumley at u.washington.edu> wrote:
>
> > On Wed, 15 May 2002, Paul Lemmens wrote:
> >
> >> The graph I'm looking for has on the y-axis the RT values (in ms), so
> >> this should range from 350 - 450. On the x-axis I want two ticks for
> >> each level (sc and oc) of the 'cat' factor. In the plot, three lines
> >> should be displayed, for each level of the factor 'loc', pref. including
> >> a legend.
> >>
> >> How do I do this???
> >
> > Does example(interaction.plot) look like the sort of thing you want?
> >
> Yes!! This goes a great ways into what I want. However, if I do:
>
> data <- c(390,416,406,396,421,415)
> psc <- gl(2,3, labels=c("samecat","othercat"))
> loc <- gl(3,2, labels=c("corresp", "noncorresp", "noninf"))
> interaction.plot(psc, loc, data)
>
> I get only one line (for noncorresp) which looks as if it is the average of
> all data points (2 times the average of 3 points). This makes sense because
> of the fun argument of interaction.plot (which, to me, seems to default to
> mean). Can I override this with some function that just returns one point
> of data??
>

The problem is with your definition of psc and loc. You haven't defined
them the way you think you have:

> data.frame(data,psc,loc)
  data      psc        loc
1  390  samecat    corresp
2  416  samecat    corresp
3  406  samecat noncorresp
4  396 othercat noncorresp
5  421 othercat     noninf
6  415 othercat     noninf

You need something like
loc <- factor(rep(1:3,2), labels=c("corresp", "noncorresp", "noninf"))

and then it works


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May 15 19:06:09 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 May 2002 19:06:09 +0200
Subject: Fwd: Re: [R] Combining many dataframes from listings of	objects?
In-Reply-To: <sce28038.025@dss2.med.gu.se>
References: <sce28038.025@dss2.med.gu.se>
Message-ID: <x2u1p949z2.fsf@blueberry.kubism.ku.dk>

"Derek Eder" <Derek.Eder at neuro.gu.se> writes:

> > I want to combine (rbind) many dataframes into a single data frame, but "automatically" 
> > specifying the names of the dataframes as listing of object names.
> > E.g., combine these 18 df objects into one big df using something conceptually like this :
> > rbind(objects(pattern="*.df"))
> 
> 
> Brian Ripley suggested that something along the lines of:  do.call("rbind", objects(pattern="*.df"))  
> 
> 
> But I can't make this fly on vectors.  E.g.,  
> 
> >  objects.of.desire_objects(pattern="*.df")
> > do.call("rbind.data.frame",list(as.name(objects.of.desire)))  # do.call needs a list and must be of class 'name'
> 
> Unfortunately, only the first data.frame in the series is read and returned.
> 
> 
> Any further nudges along the right direction anyone?

How about this?

do.call("rbind", lapply(objects(pattern="*.df"),get))

or 

eval(as.call(c(as.name(rbind), lapply(objects(pattern="*.df"), as.name))))

(NB: "How about" is code for "Not actually tried"!)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 15 19:23:46 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 15 May 2002 18:23:46 +0100 (BST)
Subject: [R] R-patched on Windows
Message-ID: <Pine.LNX.4.31.0205151821260.1390-100000@gannet.stats>

To help those who were asking for the various bug fixes on Windows,
I've put a binary version of the current R-patched at

http://www.stats.ox.ac.uk/pub/bdr/RWin/Rpre/SetupRpatched.exe

which contains the current versions of the recommended packages.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Wed May 15 20:22:13 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Wed, 15 May 2002 14:22:13 -0400
Subject: [R] R CMD check
Message-ID: <20020515142213.1db5b5ea.fharrell@virginia.edu>

Thanks to those who helped with R CMD check yesterday.  Part of my problem was a faulty Linux directory (list directory bit turned off).

I have three further question.  First, I get an error related to the following piece of a .Rd file:

\usage{
bystats(y, \dots, fun, nmiss, subset)
b <- bystats(y, \dots)
print(b, \dots)
latex(b, caption, title, rowlabel, \dots)
b <- bystats2(y, v. h. fun, nmiss, subset)
latex(b, caption, title, rowlabel, \dots)
}

* checking for undocumented arguments in \usage ... WARNING
Error in parse(file, n, text, prompt) : parse error
Error in checkDocArgs(package = "Hmisc") : 
        cannot source usages in documentation object 'bystats'
Execution halted

Other .Rd files have \dots and do not result in an error.

Second, I get this message:

Objects with usage in documentation object 'aregImpute' but missing from code:
[1] "plot"   "print"

The aregImpute function, like many others, has under the Usage section code such as plot(object) and print(object) but the aliases at the top of the .Rd file point to plot.aregImpute and print.aregImpute.  To me there should not be a warning about this.

Third, I use several non-standard keywords (e.g., bootstrap, imputation).  Is there a way to add user-provided keywords to the system (I'm using R 1.5 on Linux)?

Thanks,  Frank

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Wed May 15 20:24:14 2002
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Wed, 15 May 2002 13:24:14 -0500
Subject: [R] Processing "vignette" files
Message-ID: <OFB42E1CFD.920D161F-ON86256BBA.0064BE72@mmm.com>

Is there any way to process the "vignette" documantation files?

I have been looking at the bioconductor packages and most of them have
*.Rnw files in doc directories.  They look like regular TeX but have
sections showing R code that seem to choke TeX.

Thanks,

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Wed May 15 20:31:57 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 15 May 2002 11:31:57 -0700
Subject: [R] Processing "vignette" files
In-Reply-To: <OFB42E1CFD.920D161F-ON86256BBA.0064BE72@mmm.com>
References: <OFB42E1CFD.920D161F-ON86256BBA.0064BE72@mmm.com>
Message-ID: <87g00tqn36.fsf@jeeves.blindglobe.net>

>>>>> "apjaworski" == apjaworski  <apjaworski at mmm.com> writes:

    apjaworski> Is there any way to process the "vignette" documantation files?
    apjaworski> I have been looking at the bioconductor packages and most of them have
    apjaworski> *.Rnw files in doc directories.  They look like regular TeX but have
    apjaworski> sections showing R code that seem to choke TeX.

library(tools)
help(Sweave)

(they are noweb-style files, though for various sundry reasons, not
compatible; ESS-noweb mode will handle them for evaluation of chunks
and threads, though).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my friday location is usually completely unpredictable.)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed May 15 20:37:43 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 15 May 2002 11:37:43 -0700 (PDT)
Subject: [R] R CMD check
In-Reply-To: <20020515142213.1db5b5ea.fharrell@virginia.edu>
Message-ID: <Pine.A41.4.44.0205151134070.99196-100000@homer21.u.washington.edu>

On Wed, 15 May 2002, Frank E Harrell Jr wrote:

>
> Second, I get this message:
>
> Objects with usage in documentation object 'aregImpute' but missing from
> code: [1] "plot"  "print"
>
> The aregImpute function, like many others, has under the Usage section
> code such as plot(object) and print(object) but the aliases at the top
> of the .Rd file point to plot.aregImpute and print.aregImpute.  To me
> there should not be a warning about this.

You can document plot.aregImpute with usage plot(object) using the \method
command

Eg
\alias{print.survfit}

\usage{
\method{print}{survfit}(x, scale=1,digits = max(options()$digits - 4,
3), print.n=getOption("survfit.print.n"), show.rmean=getOption("survfit.print.me
an"),...)
}

will display as

Usage:

     print(x, scale=1,digits = max(options()$digits - 4,
     3), print.n=getOption("survfit.print.n"), show.rmean=getOption("survfit.pri
nt.mean"),...)

but CMD check knows that it is documenting print.survfit.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ririzarr at jhsph.edu  Wed May 15 22:16:11 2002
From: ririzarr at jhsph.edu (Rafael A. Irizarry)
Date: Wed, 15 May 2002 16:16:11 -0400 (EDT)
Subject: [R] Processing "vignette" files
In-Reply-To: <OFB42E1CFD.920D161F-ON86256BBA.0064BE72@mmm.com>
Message-ID: <Pine.LNX.4.33.0205151613420.16900-100000@localhost.localdomain>

its not latex. you can use the command Sweave in the tools library to 
create latex files from Rnw files. look at the help file for Sweave.

rafael
On Wed, 15 May 2002 apjaworski at mmm.com wrote:

> Is there any way to process the "vignette" documantation files?
> 
> I have been looking at the bioconductor packages and most of them have
> *.Rnw files in doc directories.  They look like regular TeX but have
> sections showing R code that seem to choke TeX.
> 
> Thanks,
> 
> Andy
> 
> __________________________________
> Andy Jaworski
> Engineering Systems Technology Center
> 3M Center, 518-1-01
> St. Paul, MN 55144-1000
> -----
> E-mail: apjaworski at mmm.com
> Tel:  (651) 733-6092
> Fax:  (651) 736-3122
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Wed May 15 21:51:02 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Wed, 15 May 2002 21:51:02 +0200
Subject: [R] Processing "vignette" files
In-Reply-To: <OFB42E1CFD.920D161F-ON86256BBA.0064BE72@mmm.com>; from apjaworski@mmm.com on Wed, May 15, 2002 at 01:24:14PM -0500
References: <OFB42E1CFD.920D161F-ON86256BBA.0064BE72@mmm.com>
Message-ID: <20020515215102.A32371@giraffa.cbs.dtu.dk>

see Sweave in the package 'tools'

Hopin' it helps


L.


On Wed, May 15, 2002 at 01:24:14PM -0500, apjaworski at mmm.com wrote:
> Is there any way to process the "vignette" documantation files?
> 
> I have been looking at the bioconductor packages and most of them have
> *.Rnw files in doc directories.  They look like regular TeX but have
> sections showing R code that seem to choke TeX.
> 
> Thanks,
> 
> Andy
> 
> __________________________________
> Andy Jaworski
> Engineering Systems Technology Center
> 3M Center, 518-1-01
> St. Paul, MN 55144-1000
> -----
> E-mail: apjaworski at mmm.com
> Tel:  (651) 733-6092
> Fax:  (651) 736-3122
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Simon.Gatehouse at csiro.au  Thu May 16 00:19:11 2002
From: Simon.Gatehouse at csiro.au (Simon.Gatehouse@csiro.au)
Date: Thu, 16 May 2002 08:19:11 +1000
Subject: [R] Geometric Algebra in R?
Message-ID: <0504018E9DCAD1119FE900A0C9A39AF8050A808F@anaconda>

A quick search of did not reveal any hits on "geometric algebra".
Has anyone utilized R or coded any geometric algebra forms into R or know of
anyone who has looked into this area?
Any comments would be most welcome.


***********************************
Simon Gatehouse                                  
CSIRO Exploration and Mining,
Newbigin Close off Julius Ave
North Ryde, NSW
 
Mail:      PO Box 136, North Ryde
           NSW 1670, Australia
Phone:     61 (2) 9490 8677
Fax:       61 (2) 9490 8921
Mobile:    61  0407 130 635 
E-mail:    simon.gatehouse at csiro.au
Web Page:  http://www.csiro.au/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Thu May 16 01:56:23 2002
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Thu, 16 May 2002 01:56:23 +0200
Subject: [R] Struchture change of a data frame
References: <3635AAE6EA743844B05655F805CB3125018E51E5@titlis.rmf.ch>
Message-ID: <3CE2F5A7.2F2FFA20@ci.tuwien.ac.at>

Beat Huggler wrote:
> 
> Hi guys
> 
> I've got an easy question but couldn't find any quick solution. I woulk
> like to change the following matrix
> 
>                 good    bad worse
> Blue            1       2       2
> Yellow  2       1       3
> Black           3       4       4
> 
> Into the following structure
> 
> good    1       Blue
> Bad     2       Blue
> Worse   2       Blue
> Good    2       Yellow
> Bad     1       Yellow
> Worse   2       Yellow
> Good    2       Black
> Bad     4       Black
> Worse   4       Black

If your problem is that simple, you can do the following: starting from
a matrix
R> my.matrix
       good bad worse
Blue      1   2     2
Yellow    2   1     3
Black     3   4     4

You can simply say:
R> as.data.frame(as.table(my.matrix))
    Var1  Var2 Freq
1   Blue  good    1
2 Yellow  good    2
3  Black  good    3
4   Blue   bad    2
5 Yellow   bad    1
6  Black   bad    4
7   Blue worse    2
8 Yellow worse    3
9  Black worse    4

If your problem is more complex, then use reshape() as Thomas suggested.
Best,
Z

> Thanks a lot.
> 
> Regards
> 
> Beat Huggler
> 
> ---
> Beat Huggler
> Quantitative Analysis
> RMF Investment Products
> Huobstrasse 16
> 8808 Pfaeffikon SZ
> Switzerland
> www.rmf.ch
> Tel. +41 55 415 87 30
> Fax +41 55 415 87 07
> 
> This message and any attachment are confidential and may be privileged
> or otherwise protected from disclosure.  If you are not the intended
> recipient, please telephone or email the sender and delete this message
> and any attachment from your system.  If you are not the intended
> recipient you must not copy this message or attachment or disclose the
> contents to any other person.
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.C.Rougier at durham.ac.uk  Thu May 16 10:02:54 2002
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Thu, 16 May 2002 09:02:54 +0100
Subject: [R] NaN/NA and sprintf double format
References: <Pine.LNX.4.31.0205141942400.20952-100000@gannet.stats>
Message-ID: <3CE367AE.D0701679@durham.ac.uk>

ripley at stats.ox.ac.uk wrote:
> 
> On Tue, 14 May 2002, Dirk Eddelbuettel wrote:
> 
> > With a (late prerelease of) 1.5.0 on Windows, using sprintf on NaN
> > yields garbage when the number of decimal is specified while it
> > works fine for NA:
> >
> > > sprintf("%.2f", NA)
> > [1] "0.00"
> 
> I get that on Linux too, but why is it fine?  See below.
> 
> > > sprintf("%.2f", NaN)
> > [1] "-1.#J"
> >
> > Not specifying the decimal precision lets both print garbage:
> >
> > > sprintf("%f", NaN)
> > [1] "-1.#IND00"
> > > sprintf("%f", NA)
> > [1] "-1.#QNAN0"
> >
> > Is this a bug or a feature?
> 
> Remember that NA is logical, so this is not correct usage.  Not that the
> correct usage works very much better ....
> 
> The C code says
> 
> /* Simple wrapper for C sprintf function: does very little checking to
>    see that the format conversion character and the argument are
>    compatible.  This is the user's responsibility!
> */
> 
> and I think that should be on the help page.  If it were, this is a
> feature.

Naturally it's a feature!  But I agree that an extra sentance or two on
the help page would be a good idea.  I suggest appending the following
as a new paragraph to the Value section:

As \code{sprintf} is simply a wrapper for the C function of the same
name, it is the user's responsibility to ensure that the objects passed
in \code{\dots} correspond to the format.  Otherwise the resulting
string may contain garbage.  For example, the typical R numeric object
is a float not an integer (see Examples, below).  Likewise, C does not
recognise special values like \code{NA}, so \code{sprintf("Our survey
said: %f", NA)} is not going to work as you might want.

I've cc'ed this to r-bugs.  Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Thu May 16 10:33:52 2002
From: siim at obs.ee (Ott Toomet)
Date: Thu, 16 May 2002 10:33:52 +0200 (CEST)
Subject: [R] ploting a linear model
In-Reply-To: <1021477241.28621.41.camel@gandalf>
Message-ID: <Pine.LNX.4.44.0205161021080.1525-100000@localhost.localdomain>

On 15 May 2002, Ernesto Jardim wrote:

  |I have the result of a linear model "lm98" and I want to plot it to
  |analyse the regression but I'm getting the folowing error message
  |
  |> lm98<-lm(log(U+1)~Bq+Gi+Lv+Tb+Bq:Gi+Bq:Lv+Bq:Tb+Gi:Lv+Gi:Tb+Lv:Bq)
  |> plot(lm98)
  |Error in plot.window(xlim, ylim, log, asp, ...) : 
  |        need finite ylim values
  |In addition: Warning message: 
  |NaNs produced in: sqrt(1 - hii) 

You should try to describe and investigate the problem better.  As you can
see, the problem arises in plot.lm(). Typing plot.lm (note -- without
parentheses) on command prompt, you can find a part of the plotting routine
which include ,,hii'':

        hii <- lm.influence(x)$hat
        w <- weights(x)
        r.w <- if (is.null(w)) 
            r
        else (sqrt(w) * r)[w != 0]
        rs <- r.w/(s * sqrt(1 - hii))

?lm.influence says that 

Value:
     A list containing the following components: 
     hat: a vector containing the diagonal of the `hat'' matrix.

Hat matrix (at least it is common notion in econometrics) is

H <- X %*% solve( t(X) %*% X) %*% t(X)

Your problem is associated with the fact that any of the diagonal elements
is greater than 1.  This is probably due to numerical problems, caused by
near-singular matrices.  

You should carefully look at your data.  Have you checked for
multicollinearity?  Does the results from summary(lm(...)) seem reasonable? 
What do say specification tests?


Perhaps it helps

Cheers,

Ott

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu May 16 11:15:34 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 16 May 2002 11:15:34 +0200 (MET DST)
Subject: [R] Bib. reference on R
Message-ID: <Pine.OSF.3.96.1020516111304.23319B-100000@paleo>


I know I've seen the answer to this question
but could not find it now:

What's the appropriate(s) general reference(s)
for the "R language and environment for statistical computing and
graphics" that should be included
in a scientific article?

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rachid.cheddadi at vmesa12.u-3mrs.fr  Thu May 16 11:35:03 2002
From: rachid.cheddadi at vmesa12.u-3mrs.fr (Rachid Cheddadi)
Date: Thu, 16 May 2002 11:35:03 +0200
Subject: [R] Tps
Message-ID: <3CE37D47.3D60953B@lbhp.u-3mrs.fr>

Hi,
I have a 4 column file (long/lat/elev/variable) and I tried to fit the
values of my variable to the XYZ space using Tps and I keep getting the
following message:
Warning messages:
1: GCV search gives a minumum at the endpoints of the grid search in:
Krig.find.gcvmin(info, lambda.grid, gcv.grid$GCV, Krig.fgcv,
 
2: GCV search gives a minumum at the endpoints of the grid search in:
Krig.find.gcvmin(info, lambda.grid, gcv.grid$GCV.one, Krig.fgcv.one,
3: Failed to find the upcrossing in: find.upcross(Krig.fs2hat, info,
upcross.level = shat.pure.error^2,

Any help please?
Many thanks
Rachid
-- 
Dr. Rachid Cheddadi
European Pollen Database         Tel: 00.33.(0)4.90.96.18.18
Ancien Archeveche               Fax: 00.33.(0)4.90.93.98.03
13200 Arles -France             email: rachid.cheddadi at lbhp.u-3mrs.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From o.christensen at lancaster.ac.uk  Thu May 16 11:46:34 2002
From: o.christensen at lancaster.ac.uk (Ole Christensen)
Date: Thu, 16 May 2002 10:46:34 +0100
Subject: [R] Bib. reference on R
References: <Pine.OSF.3.96.1020516111304.23319B-100000@paleo>
Message-ID: <3CE37FFA.64FEFCB9@lancs.ac.uk>

Hi

See the FAQ's Section 2.8 - Citing R

To cite R in publications, use 

@article{,
  author =    {Ross Ihaka and Robert Gentleman},
  title =     {R: A Language for Data Analysis and Graphics},
  journal =   {Journal of Computational and Graphical Statistics},
  year =      1996,
  volume =    5,
  number =    3,
  pages =     {299--314}
}

Ole

Agustin Lobo wrote:
> 
> I know I've seen the answer to this question
> but could not find it now:
> 
> What's the appropriate(s) general reference(s)
> for the "R language and environment for statistical computing and
> graphics" that should be included
> in a scientific article?
> 
> Thanks
> 
> Agus
> 
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Ole F. Christensen
Department of Mathematics and Statistics
Fylde College, Lancaster University 
Lancaster, LA1 4YF, England
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cdeclercq at nordnet.fr  Thu May 16 12:03:20 2002
From: cdeclercq at nordnet.fr (Christophe Declercq)
Date: Thu, 16 May 2002 12:03:20 +0200
Subject: [R] Bib. reference on R
In-Reply-To: <Pine.OSF.3.96.1020516111304.23319B-100000@paleo>
Message-ID: <NEBBLCMFGLNFBEBKHFCEKEBKCHAA.cdeclercq@nordnet.fr>

> De : owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]De la part de Agustin Lobo
> Envoy? : jeudi 16 mai 2002 11:16
> ? : r-help
> Objet : [R] Bib. reference on R
[...]
> What's the appropriate(s) general reference(s)
> for the "R language and environment for statistical computing and
> graphics" that should be included
> in a scientific article?

See http://www.r-project.org/doc/bib/R-bib.html

The main reference is:

@ARTICLE{R:Ihaka+Gentleman:1996,
  AUTHOR = {Ross Ihaka and Robert Gentleman},
  TITLE = {R: A Language for Data Analysis and Graphics},
  JOURNAL = {Journal of Computational and Graphical Statistics},
  YEAR = 1996,
  VOLUME = 5,
  NUMBER = 3,
  PAGES = {299--314}
}

Christophe
--
Christophe DECLERCQ, MD
Observatoire R?gional de la Sant? Nord-Pas-de-Calais
13, rue Faidherbe 59046 LILLE Cedex FRANCE
Phone +33 3 20 15 49 24
Fax   +33 3 20 55 92 30
E-mail c.declercq at orsnpdc.org


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu May 16 11:56:38 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 16 May 2002 11:56:38 +0200
Subject: [R] Bib. reference on R
References: <Pine.OSF.3.96.1020516111304.23319B-100000@paleo>
Message-ID: <3CE38256.931E9A6F@statistik.uni-dortmund.de>



Agustin Lobo wrote:
> 
> I know I've seen the answer to this question
> but could not find it now:
> 
> What's the appropriate(s) general reference(s)
> for the "R language and environment for statistical computing and
> graphics" that should be included
> in a scientific article?

>From the *FAQs*:

2.8 Citing R

To cite R in publications, use 

@article{,
  author =    {Ross Ihaka and Robert Gentleman},
  title =     {R: A Language for Data Analysis and Graphics},
  journal =   {Journal of Computational and Graphical Statistics},
  year =      1996,
  volume =    5,
  number =    3,
  pages =     {299--314}
}

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gavin.simpson at ucl.ac.uk  Thu May 16 12:10:21 2002
From: gavin.simpson at ucl.ac.uk (Gavin Simpson)
Date: Thu, 16 May 2002 11:10:21 +0100
Subject: [R] Bib. reference on R
In-Reply-To: <Pine.OSF.3.96.1020516111304.23319B-100000@paleo>
Message-ID: <000801c1fcc1$e31ef8b0$4c202880@gsimpson>

Its in the FAQ:

2.8 Citing R
To cite R in publications, use 


@article{,
  author =    {Ross Ihaka and Robert Gentleman},
  title =     {R: A Language for Data Analysis and Graphics},
  journal =   {Journal of Computational and Graphical Statistics},
  year =      1996,
  volume =    5,
  number =    3,
  pages =     {299--314}
}

Gavin

%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%
Gavin Simpson                     [T] +44 (0)20 7679 5402
ENSIS Research Fellow             [F] +44 (0)20 7679 7565
ENSIS Ltd. & ECRC                 [E] gavin.simpson at ucl.ac.uk
UCL Department of Geography       [W] http://www.ucl.ac.uk/~ucfagls/cv/
26 Bedford Way                    [W] http://www.ucl.ac.uk/~ucfagls/
London.  WC1H 0AP.
%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On Behalf Of Agustin Lobo
Sent: 16 May 2002 10:16
To: r-help
Subject: [R] Bib. reference on R



I know I've seen the answer to this question
but could not find it now:

What's the appropriate(s) general reference(s)
for the "R language and environment for statistical computing and
graphics" that should be included
in a scientific article?

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Atkinson at cdsc.nthames.nhs.uk  Thu May 16 12:33:51 2002
From: P.Atkinson at cdsc.nthames.nhs.uk (Phil)
Date: Thu, 16 May 2002 11:33:51 +0100
Subject: [R] Factors in lattice
Message-ID: <24A8B549739BD311AAF2009027D6373D198F4A@smtp.cdsc.nthames.nhs.uk>


Using one numeric and 2 factor variables

densityplot( ~ Numeric | Factor1, ...)
densityplot( ~ Numeric | Factor2, ...)

 .. both work, but

densityplot( ~ Numeric | Factor1*Factor2, ...)

produces the error

Error in if (!(lo <- min(hi, IQR(x)/1.34))) (lo <- hi) || (lo <- abs(x[1]))
||  : 
        missing value where logical needed

None of the variables contain missing values. Any ideas what I'm doing
wrong??!!

Many thanks

Phil.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu May 16 14:50:41 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 16 May 2002 05:50:41 -0700
Subject: [R] Bib. reference on R
In-Reply-To: <000801c1fcc1$e31ef8b0$4c202880@gsimpson>
References: <000801c1fcc1$e31ef8b0$4c202880@gsimpson>
Message-ID: <877km4uuhq.fsf@jeeves.blindglobe.net>

>>>>> "gavin" == Gavin Simpson <gavin.simpson at ucl.ac.uk> writes:

    gavin> Its in the FAQ:
    gavin> 2.8 Citing R
    gavin> To cite R in publications, use 


    gavin> @article{,
    gavin>   author =    {Ross Ihaka and Robert Gentleman},
    gavin>   title =     {R: A Language for Data Analysis and Graphics},
    gavin>   journal =   {Journal of Computational and Graphical Statistics},
    gavin>   year =      1996,
    gavin>   volume =    5,
    gavin>   number =    3,
    gavin>   pages =     {299--314}
    gavin> }

R-core, should this be changed?  I know that certain members were
suggesting an additional WWW citation on the last paper I submitted...

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my friday location is usually completely unpredictable.)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Thu May 16 16:20:25 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Thu, 16 May 2002 07:20:25 -0700 (PDT)
Subject: [R] Factors in lattice
In-Reply-To: <24A8B549739BD311AAF2009027D6373D198F4A@smtp.cdsc.nthames.nhs.uk>
Message-ID: <20020516142025.6723.qmail@web13902.mail.yahoo.com>


It would help to have a reproducible example, since your statement 
is not true in general. For example,

> x <- rnorm(100)
> a <- gl(2, 50)
> b <- gl(3, 1, 100)
> densityplot(~ x | a * b)

seems to work fine for me. A traceback() [first few lines] might also 
help. (The error message is probably not from lattice, but from 
something it calls.)


--- Phil <P.Atkinson at cdsc.nthames.nhs.uk> wrote:
> 
> Using one numeric and 2 factor variables
> 
> densityplot( ~ Numeric | Factor1, ...)
> densityplot( ~ Numeric | Factor2, ...)
> 
>  .. both work, but
> 
> densityplot( ~ Numeric | Factor1*Factor2, ...)
> 
> produces the error
> 
> Error in if (!(lo <- min(hi, IQR(x)/1.34))) (lo <- hi) || (lo <- abs(x[1]))
> ||  : 
>         missing value where logical needed
> 
> None of the variables contain missing values. Any ideas what I'm doing
> wrong??!!
> 
> Many thanks
> 
> Phil.
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


__________________________________________________

LAUNCH - Your Yahoo! Music Experience

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From steinar at math.uio.no  Thu May 16 16:28:57 2002
From: steinar at math.uio.no (Steinar Bjerve)
Date: Thu, 16 May 2002 16:28:57 +0200
Subject: [R] Opening R under MacOS9 on G3
Message-ID: <3CE3C229.3040706@math.uio.no>

R-help

 R could not  find "CarbonLib--__CFRangeMake".  (?)

How do I deal with that?

Steinar

-- 
===============================
Steinar Bjerve         www.math.uio.no/~steinar/
===============================
Amor Fati ,     


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brianscholl at yahoo.com  Thu May 16 16:34:17 2002
From: brianscholl at yahoo.com (Brian Scholl)
Date: Thu, 16 May 2002 07:34:17 -0700 (PDT)
Subject: [R] grid search with failed evaluations (and nonlinear start values as a secondary consideration)
Message-ID: <20020516143417.64402.qmail@web20307.mail.yahoo.com>


Hello,

Please copy all replies directly to me (my account is having difficulty with receiving lists these days).

This is primarily a programming question, but the specifics regard start values for a nonlinear regression (if you have suggestions on alternative ways to obtain start values they are welcome as well).

I'm using nls to estimate a nonlinear time series equation of the form:

y=p*cos(w*t+a)

where p,w and a are amplitude, frequency and phase.  Really I eventually want a sum of cosines model - i.e. multiple cosine terms, with the number of cosines determined by Quinn's (1989) AIC-like statistic (roughly, T*log(RSS)+2K, with k= number of cosines).  A reference for this sort of model is Brillinger (1987) "Fitting Cosines: Some Procedures and Some Physical Examples."  My main interest in estimating the frequency parameter(s). 

Starting values are not so easy to come by for such a model.  If I were to arbitrarily plug in values, I'll typically either get convergence somewhere in the neighborhood of the starting w (actually sometimes they can be far from this as well), or an error something like this:

Error in nls(y ~ rho * cos(omega * tau + phi), start = list(rho = 1, omega = grid[i],  : 

number of iterations exceeded maximum of 5.32761e-306

One very simple way to think about this is to try a bunch of different start values and pick the one that minimized the regression's RSS.  I could make a grid to search on, then simply pick the minimizer.  The problem though is that when a bad start value is used (i.e. the error above), the program stops entirely, so we don't do more than a few trials in the grid search.   My main question is how can I get around this to complete the search? 

Just for discussion, another (simple-minded) way might be to look at the periodogram, but this has provided little success. Most of the peaks of interest are at the very low frequency range (e.g. w=.01).  But convergence is not generally achieved for the model in this range.  A priori knowledge/deductions are generally consistent with the periodogram's results.

Again, if people have other ideas for obtaining starting values, they are entirely welcome and encouraged - estimates are highly sensitive to the start values, so I'm interested in trying a number of approaches.  My main question, however, is on completing the simple grid search. If it is helpful, here is simple grid search code:

for (i in 1:length(grid)){

      n<-nls(y~rho*cos(omega*tau+phi),start=list(rho=1,omega=grid[i],phi=1))

      summ<-summary(n)

      resids<-summ$resid

      SSR<-sum(resids^2)

   }

 Thank you,

(Please remember to cc this message directly to me.)

 Brian



---------------------------------

LAUNCH - Your Yahoo! Music Experience
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020516/efbdd32e/attachment.html

From tlumley at u.washington.edu  Thu May 16 17:30:10 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 16 May 2002 08:30:10 -0700 (PDT)
Subject: [R] grid search with failed evaluations (and nonlinear start
 values as a secondary consideration)
In-Reply-To: <20020516143417.64402.qmail@web20307.mail.yahoo.com>
Message-ID: <Pine.A41.4.44.0205160829140.95290-100000@homer16.u.washington.edu>

On Thu, 16 May 2002, Brian Scholl wrote:
>
> One very simple way to think about this is to try a bunch of different
> start values and pick the one that minimized the regression's RSS.  I
> could make a grid to search on, then simply pick the minimizer.  The
> problem though is that when a bad start value is used (i.e. the error
> above), the program stops entirely, so we don't do more than a few
> trials in the grid search.  My main question is how can I get around
> this to complete the search?
>

You can use try() around the trials in the grid search to catch the
errors.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From niels.waller at vanderbilt.edu  Thu May 16 17:45:24 2002
From: niels.waller at vanderbilt.edu (Niels Waller)
Date: Thu, 16 May 2002 10:45:24 -0500
Subject: [R] packages on windows
Message-ID: <NDBBLLOPOEMNNHONCHBFIEKECNAA.niels.waller@vanderbilt.edu>



I am trying to write my first R package.  The file 'Creating R packages'
instructs me to create a 'man' subdirectory for the help files (with an Rd
extension). However when I look at other libraries I do not find a man
subdirectory (I find html dirs).  Also I am told to include a keyword from
the KEYWORDS.db.  However this file is not on my system?  Any suggestions?

I am working with R 1.5 on windows NT

thank you

Niels Waller


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Thu May 16 17:54:27 2002
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Thu, 16 May 2002 17:54:27 +0200
Subject: [R] packages on windows
References: <NDBBLLOPOEMNNHONCHBFIEKECNAA.niels.waller@vanderbilt.edu>
Message-ID: <3CE3D633.6E537AB3@ci.tuwien.ac.at>

Niels Waller wrote:
> 
> I am trying to write my first R package.  The file 'Creating R packages'
> instructs me to create a 'man' subdirectory for the help files (with an Rd
> extension). However when I look at other libraries I do not find a man
> subdirectory (I find html dirs). 

These are *installed* packages. But you are writing a *source* package!
>From the `man' directory the html or pdf-versions of the help-files will
be compiled.

> Also I am told to include a keyword from
> the KEYWORDS.db.  However this file is not on my system?  Any suggestions?

You can also say help.start() and then klick on "Search Engine &
Keywords", where you will find on overview.
Z

> I am working with R 1.5 on windows NT
> 
> thank you
> 
> Niels Waller
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alex.Boulet at intellichem.com  Thu May 16 18:00:11 2002
From: Alex.Boulet at intellichem.com (Alex Boulet)
Date: Thu, 16 May 2002 09:00:11 -0700
Subject: [R] neural network
Message-ID: <0966EE5575EBA64C8C9B2AB8E2396D3604874C@athena.intellichem.com>

I just discovered the R language and was trying to implement a neural network. I got it to work but it does not seem that I can get it to converge to a good enough optimization. The best I obtained for the final value was around 11 and when I use the predic function, my results do not look bery good.
Anyway, if anybody has any suggestions, it would be greatly appreciated. Also, I would like to know what the final value represents and how it is calculated.
Thanks, Alex.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu May 16 18:08:06 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 16 May 2002 18:08:06 +0200
Subject: [R] packages on windows
References: <NDBBLLOPOEMNNHONCHBFIEKECNAA.niels.waller@vanderbilt.edu>
Message-ID: <3CE3D966.AE4DB12B@statistik.uni-dortmund.de>

Niels Waller wrote:
> 
> I am trying to write my first R package.  The file 'Creating R packages'
> instructs me to create a 'man' subdirectory for the help files (with an Rd
> extension). However when I look at other libraries I do not find a man
> subdirectory (I find html dirs).  Also I am told to include a keyword from
> the KEYWORDS.db.  However this file is not on my system?  Any suggestions?
> I am working with R 1.5 on windows NT

It is in the ...\doc subdirectory (at least, if you have installed the
required sources).
If you have not installed R from source but from the Setup-Wizard, you
have to select the src files explicitly.

You don't have the man path in the installed packages, because those are
installed binary versions of the packages. The Rd files are already
compiled to html, chm or whatever help files.
To build a package, you only have to put the sources together (.Rd files
for manuals, .R files for the functions, .c / .f files for C/Fortran
code etc.). After a package is build (with Rcmd BUILD ...) it can be
installed (Rcmd INSTALL ....). 
You have to collect the appropriate tools to build and install (source)
packages.

This and more is described more detailed in 
a) the manual "Writing R extensions" and 
b) more Windows specific in the files readme and readme.packages in
...\src\gnuwin32.

It is highly recommended to read these docs...

Maybe you want to serach through the mailing list archives to look at
some other mails regarding package building/installation on windows...

For an example how a typical source package looks like, just look at a
small one from CRAN/src/contrib.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ricardo at icmc.sc.usp.br  Thu May 16 18:19:27 2002
From: ricardo at icmc.sc.usp.br (Ricardo =?iso-8859-1?Q?Gon=E7alves?= Da-Silva)
Date: Thu, 16 May 2002 13:19:27 -0300
Subject: [R] S-Plus Files
Message-ID: <5.1.0.14.0.20020516131655.00a80cf0@mail.icmc.sc.usp.br>

Hi All,
Could someone tell me if R can read the .sdd data file from s-plus?

Thanks
Rick

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ricardo at icmc.sc.usp.br  Thu May 16 18:20:17 2002
From: ricardo at icmc.sc.usp.br (Ricardo =?iso-8859-1?Q?Gon=E7alves?= Da-Silva)
Date: Thu, 16 May 2002 13:20:17 -0300
Subject: [R] S-Plus Files
Message-ID: <5.1.0.14.0.20020516131956.00a81df0@mail.icmc.sc.usp.br>


>Date: Thu, 16 May 2002 13:19:27 -0300
>To: R
>From: Ricardo Gon?alves Da-Silva <ricardo at icmc.sc.usp.br>
>Subject: S-Plus Files
>
>Hi All,
>Could someone tell me if R can read the .sdd data file from s-plus?
>
>Thanks
>Rick


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 16 18:22:33 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 16 May 2002 17:22:33 +0100 (BST)
Subject: [R] neural network
In-Reply-To: <0966EE5575EBA64C8C9B2AB8E2396D3604874C@athena.intellichem.com>
Message-ID: <Pine.LNX.4.31.0205161719340.13176-100000@gannet.stats>

Let me guess that you are using package nnet from the VR bundle?  If so,
you need to read the manual (which is the book the software supplements).
Scaling your values and using suitable weight decay are normally
necessary.

As for what the value is, that is described on the help page.


On Thu, 16 May 2002, Alex Boulet wrote:

> I just discovered the R language and was trying to implement a neural network. I got it to work but it does not seem that I can get it to converge to a good enough optimization. The best I obtained for the final value was around 11 and when I use the predic function, my results do not look bery good.
> Anyway, if anybody has any suggestions, it would be greatly appreciated. Also, I would like to know what the final value represents and how it is calculated.
> Thanks, Alex.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 16 18:34:40 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 16 May 2002 17:34:40 +0100 (BST)
Subject: [R] S-Plus Files
In-Reply-To: <5.1.0.14.0.20020516131655.00a80cf0@mail.icmc.sc.usp.br>
Message-ID: <Pine.LNX.4.31.0205161730530.13176-100000@gannet.stats>

On Thu, 16 May 2002, Ricardo [iso-8859-1] Gonçalves Da-Silva wrote:

> Hi All,
> Could someone tell me if R can read the .sdd data file from s-plus?

Possibly.  See data.restore in package foreign, but check the caveats on
its help page first.  In particular, .sdd files from S-PLUS 6.0 are
S4 dumps, and will not work.

More generally, see the `R Data Import/Export manual'.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From elvis at xlsolutions-corp.com  Thu May 16 18:54:18 2002
From: elvis at xlsolutions-corp.com (Elvis Miller, PhD)
Date: Thu, 16 May 2002 09:54:18 -0700
Subject: [R] Course*** R/S-Plus Programming Techniques II in Seattle, June 17-18
Message-ID: <APEHLKCMHHAKBGLAPKPCKEAFCAAA.elvis@xlsolutions-corp.com>

XLSolutions Corporation (www.xlsolutions-corp.com) is proud
to announce a 2-day course: "R/S-plus Programming Techniques II".

****Seattle -----------------> June 17-18


Course Description:

This intermediate level course is recommended for
statisticians/analysts who have some previous experience
using R/S-plus and who wish to hone their skills.
Casual users can "fill in the gaps" of their knowledge
to make better use of R/S-PLus.

This course will focus on advanced graphics, Vectorization,
resource management, connecting to C++, introduction to
classes and methods (including S4 classes)  and statistical
modeling.


Course Outline:

- Overview of R/S-Plus
- Comparison of R and S-Plus
- How can R/S-Plus Complement SAS?
- Data Manipulation and Graphics
- Taking advantage of fast objects and fast functions
- Using Advanced Lattice/Trellis Graphics
- Using High-level Plotting Functions
- Avoiding Loops
- Vectorization
- Statistical Modeling
- Generalized Linear Models
- Linear Regression
- Survival Analysis
- Parametric Models, etc
- Resource Management
- Techniques for Effective use of R and S
- Connecting to C++
- Introduction to Classes (S4/S-Plus) and Methods
- Macros in R
- Building and Distributing Packages (libraries)

Price:

Early-bird Commercial: $995.  Includes Continental Breakfast and Lunch!
Email us for SPECIAL early-bird group academic fee.

Payments are due AFTER the course and early-bird ends May 24.

Registration:

Email Sue Turner: sue at xlsolutions-corp.com
Phone: 206-686-1578 x221
Visit us: www.xlsolutions-corp.com/training.htm


Course Format:

This course consists of a series of short lectures with
demonstrations and interactive sessions for the participants.
Each student is provided with bound copies of the notes and
a CD-ROM containing all examples, exercises and software used
on the course.



Share Your Thoughts:

Are there any additional topics you would like for this course to address?
Would you like for this course to be offered in another city?

Please let us know by contributing to our recommendation list:
training at xlsolutions-corp.com.

========================================================================

R/S-Plus Programming Techniques II / Seattle, June 2002
Pre-registration Form (Please email or print and fax: 206-686-1578)
XLsolutions Corporation: For your Solutions needs, Consulting and Training.
www.xlsolutions-corp.com



Title...... First Name ................. Last Name....................

Organization..........................................................

Mailing Address.......................................................

.....................................................................

.....................................................................

Zip Code...................... Country.............................

Telephone........................... Fax ...............................

E-mail................................................................

Payment will be made by: (1) check (2) invoice (3) bank transfer



Elvis Miller, PhD
Manager Training and Technical Support
North American Division
XLSolutions Corporation
Email: elvis at xlsolutions-corp.com
Phone: 206-686-1578
Web: www.xlsolutions-corp.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nychka at cgd.ucar.edu  Thu May 16 18:58:31 2002
From: nychka at cgd.ucar.edu (Doug Nychka)
Date: Thu, 16 May 2002 10:58:31 -0600 (MDT)
Subject: [R] Tps
In-Reply-To: <3CE37D47.3D60953B@lbhp.u-3mrs.fr>
Message-ID: <Pine.GSO.4.30.0205161046040.20763-100000@student.cgd.ucar.edu>


Part of fitting a thin plate spline involves setting the smoothing
parameter (usually referred to as lambda). This is very similar to
estimating the nugget variance in Kriging.  At the extreme values (0 or
infinity) of this parameter the spline either is just a low order
polynomial function fit by least squares( lambda= infinity)  or is a
smooth surface that passes through every data point ( lambda= 0).

The first message indicates that for the data fit below one of these
choices is suggested by cross-validation. The summary of the Tps object
will tell you which one; look at the effective number of parameters for
the spline.

The next thing to try is to plot the returned Tps object and examine the
GCV curve. Often it is very flat and many values of lambda are close to
the minimum.

The second message is the same using a slightly different version of GCV.

The third message comes in trying to match the smoothing parameter to an
estimate of pure error derived from replicated points. This message
indicates that there is no value of the smoothing parameter that gives an
spline-based estimate of sigma that will match the estimate of sigma based
on replicated data. That is not always bad because the pure error estimate
can be quite variable.

Hope this helps,

Rachid send me mail privately if you have more questions.

Doug

-----------------------------------------------------------------------------
Doug Nychka,

Geophysical Statistics Project              Email: nychka at ucar.edu
National Center for Atmospheric Research    Voice: 303-497-1711
PO Box 3000                                 FAX: 303-497-1333
Boulder, CO  80307-3000                     Web: www.cgd.ucar.edu/~nychka

Address for overnight mail: 1850 Table Mesa Drive, Boulder, CO 80305

On Thu, 16 May 2002, Rachid Cheddadi wrote:

> Hi,
> I have a 4 column file (long/lat/elev/variable) and I tried to fit the
> values of my variable to the XYZ space using Tps and I keep getting the
> following message:
> Warning messages:
> 1: GCV search gives a minumum at the endpoints of the grid search in:
> Krig.find.gcvmin(info, lambda.grid, gcv.grid$GCV, Krig.fgcv,
>
> 2: GCV search gives a minumum at the endpoints of the grid search in:
> Krig.find.gcvmin(info, lambda.grid, gcv.grid$GCV.one, Krig.fgcv.one,
> 3: Failed to find the upcrossing in: find.upcross(Krig.fs2hat, info,
> upcross.level = shat.pure.error^2,
>
> Any help please?
> Many thanks
> Rachid
> --
> Dr. Rachid Cheddadi
> European Pollen Database         Tel: 00.33.(0)4.90.96.18.18
> Ancien Archeveche               Fax: 00.33.(0)4.90.93.98.03
> 13200 Arles -France             email: rachid.cheddadi at lbhp.u-3mrs.fr
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From THotchi at lbl.gov  Thu May 16 19:20:27 2002
From: THotchi at lbl.gov (T. Hotchi)
Date: Thu, 16 May 2002 10:20:27 -0700
Subject: [R] Wind rose plots?
Message-ID: <3CE3EA5B.80401@lbl.gov>

Just out of curiosity, has anyone created wind roses using R?

Thanks.

Tosh

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marimont at nxpdata.com  Thu May 16 19:29:08 2002
From: marimont at nxpdata.com (David Marimont)
Date: Thu, 16 May 2002 10:29:08 -0700
Subject: [R] segmentation fault when closing ggobi instances
Message-ID: <3CE3EC64.1030308@nxpdata.com>

Whenever I try to close a ggobi instance, either by using close.ggobi
 From R or by just quitting out of ggobi itself, I get an R
segmentation fault.  Does this happen to anyone else, or is there
something weird about my setup?

I'm using R-1.5.0 and Red Hat 7.2.  This happened with earlier versions
of R as well (on RH7.2).

Thanks in advance for any help you can give me with this...

   David Marimont
   NXP Data Analysis, Inc.
   http://www.nxpdata.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Thu May 16 20:17:35 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Thu, 16 May 2002 14:17:35 -0400
Subject: [R] packages on windows
References: <NDBBLLOPOEMNNHONCHBFIEKECNAA.niels.waller@vanderbilt.edu>
Message-ID: <3CE3F7BF.830DF0E2@umsanet.edu.bo>

Hola!

You need the difference between source and binary packages. man is in
the source 
package , html etc in binary packages. The file KEYWORDS is not in the
binary distribution, at least on windows. You need to get the source
distribution and install it. (It would be a good idea to incorporate
KEYWORDS in binary distributions, as many will need the source
distribution only to get this file)

Kjetil Halvorsen


Niels Waller wrote:
> 
> I am trying to write my first R package.  The file 'Creating R packages'
> instructs me to create a 'man' subdirectory for the help files (with an Rd
> extension). However when I look at other libraries I do not find a man
> subdirectory (I find html dirs).  Also I am told to include a keyword from
> the KEYWORDS.db.  However this file is not on my system?  Any suggestions?
> 
> I am working with R 1.5 on windows NT
> 
> thank you
> 
> Niels Waller
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 16 20:34:32 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 16 May 2002 19:34:32 +0100 (BST)
Subject: [R] packages on windows
In-Reply-To: <3CE3F7BF.830DF0E2@umsanet.edu.bo>
Message-ID: <Pine.GSO.4.44.0205161930580.22639-100000@auk.stats>

On Thu, 16 May 2002, kjetil halvorsen wrote:

> Hola!
>
> You need the difference between source and binary packages. man is in
> the source
> package , html etc in binary packages. The file KEYWORDS is not in the
> binary distribution, at least on windows. You need to get the source
> distribution and install it. (It would be a good idea to incorporate
> KEYWORDS in binary distributions, as many will need the source
> distribution only to get this file)

It *is* in the binary distribution, in the doc directory, provided you
check the option in SetupR.exe for the files to install source packages,
and it is also in rw1050sp.zip.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yuelin at pandora.outcomes.chop.edu  Thu May 16 21:03:12 2002
From: yuelin at pandora.outcomes.chop.edu (Yuelin Li)
Date: Thu, 16 May 2002 15:03:12 -0400 (EDT)
Subject: [R] glm(y ~ -1 + c, "binomial") question
Message-ID: <200205161903.g4GJ3C213324@pandora.outcomes.chop.edu>

This is a question about removing the intercept in a binomial 
glm() model with categorical predictors.  V&R (3rd Ed. Ch7) and 
Chambers & Hastie (1993) were very helpful but I wasn't sure I 
got all the answers.  

In a simplistic example suppose I want to explore how disability 
(3 levels, profound, severe, and mild) affects the dichotomized 
outcome.  The glm1 model (see below) is the same as glm2 (2 dummy 
variables coding sever and mild).  In both models the reference 
level is profound disability.

My questions are:

1. How do I interpret the coefficients in the third model (the 
intercept is removed)? 

2. Does glm3 make sense?  Does anyone ever want to construct a 
model like glm3?  If so, when? 

3. What is the algebraic specification of glm3?

Many thanks,

-- Yuelin Li.

-------------------

categ <- factor(rep(c(1, 2, 3), times=c(20, 20, 20)),
                labels=c("P", "S", "M"))
Y <- c(1,1,1,1,1,1,2,1,2,1,2,1,1,1,1,1,1,2,2,
       1,2,2,1,2,2,1,2,1,2,1,1,2,2,2,2,2,2,2,2,1,
       2,2,2,2,2,1,2,1,1,1,2,2,2,2,1,2,1,1,1,2)
Y <- Y == 2
       
glm1 <- glm(Y ~ categ, family="binomial")
glm2 <- glm(Y ~ c(categ == "S") + c(categ == "M"), "binomial")
glm3 <- glm(Y ~ -1 + categ, "binomial")

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Thu May 16 21:24:43 2002
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Thu, 16 May 2002 15:24:43 -0400
Subject: [R] Using merge can convert character variables to factor
Message-ID: <15588.1915.275459.713966@gargle.gargle.HOWL>

I am not sure if this is a bug or a feature, but I could not find it
documented. In certain circumstances, using merge can convert a character
variable to factor. Consider a simple example:

> x <- data.frame(a = 1:4)
> y <- data.frame(b = LETTERS[1:3])
> z <- merge(x, y, by = 0)
> unlist(lapply(z, data.class))
Row.names         a         b 
 "factor" "integer"  "factor" 

So far, so good. b should be a factor since it is a factor in y.

> is.factor(y$b)
[1] TRUE

Changing b to be a charcter variable works as well.

> y$b <- as.character(y$b)
> z <- merge(x, y, by = 0)
> unlist(lapply(z, data.class))
  Row.names           a           b 
   "factor"   "integer" "character" 

But when we change the merge to include all of the x rows in the resulting
dataframe, we get:

> z <- merge(x, y, by = 0, all.x = TRUE)
> unlist(lapply(z, data.class))
Row.names         a         b 
 "factor" "integer"  "factor" 
> 

I think that b should still be a character variable in this case.

If this is a bug, please let me know and I would be happy to submit it.

> R.version
         _                   
platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    5.0                 
year     2002                
month    04                  
day      29                  
language R                   

Thanks,

Dave Kane
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 16 21:27:14 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 16 May 2002 20:27:14 +0100 (BST)
Subject: [R] glm(y ~ -1 + c, "binomial") question
In-Reply-To: <200205161903.g4GJ3C213324@pandora.outcomes.chop.edu>
Message-ID: <Pine.LNX.4.31.0205162020230.13965-100000@gannet.stats>

On Thu, 16 May 2002, Yuelin Li wrote:

> This is a question about removing the intercept in a binomial
> glm() model with categorical predictors.  V&R (3rd Ed. Ch7) and
> Chambers & Hastie (1993) were very helpful but I wasn't sure I
> got all the answers.
>
> In a simplistic example suppose I want to explore how disability
> (3 levels, profound, severe, and mild) affects the dichotomized
> outcome.  The glm1 model (see below) is the same as glm2 (2 dummy
> variables coding sever and mild).  In both models the reference
> level is profound disability.
>
> My questions are:
>
> 1. How do I interpret the coefficients in the third model (the
> intercept is removed)?
>
> 2. Does glm3 make sense?  Does anyone ever want to construct a
> model like glm3?  If so, when?

When you don't want to do any comparisons between groups.

> 3. What is the algebraic specification of glm3?

Separate means for each group.  \mu_ = \mu_[i],
Y_i ~ binomial(\mu_i/n_i, n_i)  where [i] denotes the group of
observation i.

>
> Many thanks,
>
> -- Yuelin Li.
>
> -------------------
>
> categ <- factor(rep(c(1, 2, 3), times=c(20, 20, 20)),
>                 labels=c("P", "S", "M"))
> Y <- c(1,1,1,1,1,1,2,1,2,1,2,1,1,1,1,1,1,2,2,
>        1,2,2,1,2,2,1,2,1,2,1,1,2,2,2,2,2,2,2,2,1,
>        2,2,2,2,2,1,2,1,1,1,2,2,2,2,1,2,1,1,1,2)
> Y <- Y == 2
>
> glm1 <- glm(Y ~ categ, family="binomial")
> glm2 <- glm(Y ~ c(categ == "S") + c(categ == "M"), "binomial")
> glm3 <- glm(Y ~ -1 + categ, "binomial")
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 16 21:56:50 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 16 May 2002 20:56:50 +0100 (BST)
Subject: [R] Using merge can convert character variables to factor
In-Reply-To: <15588.1915.275459.713966@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.31.0205162036200.14163-100000@gannet.stats>

On Thu, 16 May 2002, David Kane  <David Kane wrote:

> I am not sure if this is a bug or a feature, but I could not find it
> documented. In certain circumstances, using merge can convert a character
> variable to factor. Consider a simple example:
>
> > x <- data.frame(a = 1:4)
> > y <- data.frame(b = LETTERS[1:3])
> > z <- merge(x, y, by = 0)
> > unlist(lapply(z, data.class))
> Row.names         a         b
>  "factor" "integer"  "factor"
>
> So far, so good. b should be a factor since it is a factor in y.
>
> > is.factor(y$b)
> [1] TRUE
>
> Changing b to be a charcter variable works as well.
>
> > y$b <- as.character(y$b)
> > z <- merge(x, y, by = 0)
> > unlist(lapply(z, data.class))
>   Row.names           a           b
>    "factor"   "integer" "character"
>
> But when we change the merge to include all of the x rows in the resulting
> dataframe, we get:
>
> > z <- merge(x, y, by = 0, all.x = TRUE)
> > unlist(lapply(z, data.class))
> Row.names         a         b
>  "factor" "integer"  "factor"

sapply would be better, BTW.

> I think that b should still be a character variable in this case.

Well, b is character in x and factor in y. Your example is inconsistent:
perhaps it should complain at you?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Thu May 16 22:51:31 2002
From: macq at llnl.gov (Don MacQueen)
Date: Thu, 16 May 2002 13:51:31 -0700
Subject: [R] Wind rose plots?
In-Reply-To: <3CE3EA5B.80401@lbl.gov>
References: <3CE3EA5B.80401@lbl.gov>
Message-ID: <p05111708b909cbe57f4e@[128.115.153.6]>

Yes,

I have. I have a nice package that does them that is nearing 
readiness for submission to CRAN. The biggest hangup is likely to be 
getting official approval for release from my employer.

-Don

At 10:20 AM -0700 5/16/02, T. Hotchi wrote:
>Just out of curiosity, has anyone created wind roses using R?
>
>Thanks.
>
>Tosh
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pols1oh at bestweb.net  Thu May 16 23:41:26 2002
From: pols1oh at bestweb.net (Michaell Taylor)
Date: Thu, 16 May 2002 17:41:26 -0400
Subject: [R] foreign library - negative integers??
Message-ID: <200205161741.26211.pols1oh@bestweb.net>


I am having a problem with the foreign library correctly reading some integer 
data.  Specifically,

d _ read.dta('aptaa.dta')
> d[1:5,]
  scenario metcode   yr  ginv cons   gocc   abs   dvac   gmre   gmer
1        1      AA 2002 0.007 1377 -0.071 51710  0.071 -0.011 -0.127
2        1      AA 2003 0.000    0 -0.016 62568  0.014 -0.043 -0.538
3        1      AA 2004 0.000    0 -0.002 65122  0.002 -0.090 -0.338
4        1      AA 2005 0.000    0  0.000 65528  0.000 -0.036 -0.272
5        1      AA 2006 0.000    0  0.002   309 -0.001 -0.050  0.468
> dd _ read.csv('aptaa.csv',header=T)
> dd[1:5,]
  scenario metcode   yr  ginv cons   gocc    abs   dvac   gmre   gmer
1        1      AA 2002 0.007 1377 -0.071 -13826  0.071 -0.011 -0.127
2        1      AA 2003 0.000    0 -0.016  -2968  0.014 -0.043 -0.538
3        1      AA 2004 0.000    0 -0.002   -414  0.002 -0.090 -0.338
4        1      AA 2005 0.000    0  0.000     -8  0.000 -0.036 -0.272
5        1      AA 2006 0.000    0  0.002    309 -0.001 -0.050  0.468

In theory, dd== d, but notice the differences in abs.

The problem is that aptaa.csv is simply an "outsheet using" (in stata) version 
of aptaa.dta - and thus identical.  I have checked these two files (numerous 
times.).  (loading/reloading/rewriting in stata) 

It appears that the negative "abs" is a problem, but other variables are not 
suffering the same problem. (no other integer variables take negatives)

(this occurs on two different machines - R==1.4 and R==1.5 )  Also, I have 300 
files of similar format, the problem occurs consistently -- seemingly always 
on negative integers.

> version
         _
platform i686-pc-linux-gnu
arch     i686
os       linux-gnu
system   i686, linux-gnu
status
major    1
minor    5.0
year     2002
month    04
day      29
language R
foreign library == foreign_0.5-4.tar.gz


Has anyone seen this before - have a good idea for fixing it?

Michaell
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Thu May 16 23:49:57 2002
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Thu, 16 May 2002 17:49:57 -0400
Subject: [R] is.na() can coerce character vectors to be factors within a dataframe
Message-ID: <15588.10629.445953.738280@gargle.gargle.HOWL>

Thanks to Brian Ripley for suggesting, to my previous post about a problem with
merge, that I trace through merge.data.frame. I did so with my test case and
all seemed to be well until I got to:

        if (all.x) 
            for (i in seq(along = y)) is.na(y[[i]]) <- (lxy + 
                1):(lxy + nxx)

I believe that this code sets observations in y (which has been expanded to be the same
size as x) that should be NA (because they were not in y) to NA. I think that
this works fine, except for variables in y that are character. In that case, it
converts them to factor.

Consider a simple example:

> test <- data.frame(var = LETTERS[1:3])
> test$var <- as.character(test$var)
> test
  var
1   A
2   B
3   C
> is.na(test[[1]]) <- 2
> test
   var
1    A
2   <NA>
3    C
> is.factor(test$var)
[1] TRUE

Note that no problems arise if var is factor or numeric. This does not seem
to be a problem with character vectors.

> z <- LETTERS[1:3]
> z
[1] "A" "B" "C"
> is.na(z) <- 2
> z
[1] "A" NA  "C"
> is.factor(z)
[1] FALSE

The truly strange thing (at least for me) is that, as far as R is concerned,
test[[1]] and z are identical.

> z <- LETTERS[1:3]
> test <- data.frame(var = LETTERS[1:3])
> test$var <- as.character(test$var)
> identical(z, test[[1]])
[1] TRUE

So, why is.na() would coerce to factor for one but not for the other is a bit
of a mystery to me. Presumably it's a two stage process whereby first the NA is
inserted in the character vector var but then, when var is placed back into
test, some sort of forced conversion takes place. But I really shouldn't
speculate (further!) about something I know so little about.

Question:

1) Is the conversion of character vectors to factor vectors within dataframes a
   feature or a bug of is.na()? Or am I misunderstanding the whole situation?

 
Thanks,

David Kane



-- 
David Kane
Geode Capital Management
617-563-0122
david.d.kane at fmr.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From niels.waller at vanderbilt.edu  Fri May 17 00:40:09 2002
From: niels.waller at vanderbilt.edu (Niels Waller)
Date: Thu, 16 May 2002 17:40:09 -0500
Subject: [R] building packages on windows
Message-ID: <NDBBLLOPOEMNNHONCHBFKEKKCNAA.niels.waller@vanderbilt.edu>



Has anyone had success building a package on a windows machine?

I am trying the following command with no luck (perhaps my flags are
incorrect?).  At this point I am stuck. Any help greatly appreciated.

Niels Waller
(BTW - I have no idea why it cannot find sh.exe since I have it is a
directory that is specified in a path statement)


H:\R\bin>rcmd build --binary --use-zip h:\taxon2
* checking for file 'h:\taxon2/DESCRIPTION' ... OK

make: Entering directory `/cygdrive/h/R/src/gnuwin32'
make DLLNM= \
  -C h://taxon2 PKG=taxon2 RHOME=h:/R RLIB=c:/TEMP/Rbuild.373 \
  -f h:/R/src/gnuwin32/MakePkg
make[1]: Entering directory `/cygdrive/h/taxon2'
make[1]: /bin/sh.exe: Command not found
make[1]: *** [c:/TEMP/Rbuild.373/taxon2/zzzz] Error 127
make[1]: Leaving directory `/cygdrive/h/taxon2'
make: *** [pkg-taxon2] Error 2
make: Leaving directory `/cygdrive/h/R/src/gnuwin32'
*** Installation of taxon2 failed ***

installing R.css in c:/TEMP/Rbuild.373

* building 'taxon2_1..3.zip'
        zip warning: name not matched: taxon2

zip error: Nothing to do! (try: zip -r9X H:/R/bin/taxon2_1..3.zip . -i
taxon2)




0=================================================0
Dr. Niels G. Waller
Quantitative Methods
Department of Psychology and Human Development
Box 512 Peabody College
Vanderbilt University
Nashville TN 37203
email:  niels.waller at vanderbilt.edu
fax:    615 343-9494
QME home page: http://www.vanderbilt.edu/quantmetheval
http://peabody.vanderbilt.edu/depts/psych_and_hd/faculty/wallern/
0=================================================0

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Fri May 17 00:55:56 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 16 May 2002 15:55:56 -0700
Subject: [R] building packages on windows
In-Reply-To: <NDBBLLOPOEMNNHONCHBFKEKKCNAA.niels.waller@vanderbilt.edu>
References: <NDBBLLOPOEMNNHONCHBFKEKKCNAA.niels.waller@vanderbilt.edu>
Message-ID: <87k7q38zyb.fsf@jeeves.blindglobe.net>


Are you using the recommended R tools, or Cygwin?  Stay away from
Cygwin, at least for R.  See the R Windows FAQ.

best,
-tony

>>>>> "niels" == Niels Waller <niels.waller at vanderbilt.edu> writes:

    niels> Has anyone had success building a package on a windows
    niels> machine?

    niels> I am trying the following command with no luck (perhaps my
    niels> flags are incorrect?).  At this point I am stuck. Any help
    niels> greatly appreciated.

    niels> Niels Waller (BTW - I have no idea why it cannot find
    niels> sh.exe since I have it is a directory that is specified in
    niels> a path statement)


    niels> H:\R\bin>rcmd build --binary --use-zip h:\taxon2 * checking
    niels> for file 'h:\taxon2/DESCRIPTION' ... OK

    niels> make: Entering directory `/cygdrive/h/R/src/gnuwin32' make
    niels> DLLNM= \ -C h://taxon2 PKG=taxon2 RHOME=h:/R
    niels> RLIB=c:/TEMP/Rbuild.373 \ -f h:/R/src/gnuwin32/MakePkg
    niels> make[1]: Entering directory `/cygdrive/h/taxon2' make[1]:
    niels> /bin/sh.exe: Command not found make[1]: ***
    niels> [c:/TEMP/Rbuild.373/taxon2/zzzz] Error 127 make[1]: Leaving
    niels> directory `/cygdrive/h/taxon2' make: *** [pkg-taxon2] Error
    niels> 2 make: Leaving directory `/cygdrive/h/R/src/gnuwin32' ***
    niels> Installation of taxon2 failed ***

    niels> installing R.css in c:/TEMP/Rbuild.373

    niels> * building 'taxon2_1..3.zip' zip warning: name not matched:
    niels> taxon2

    niels> zip error: Nothing to do! (try: zip -r9X
    niels> H:/R/bin/taxon2_1..3.zip . -i taxon2)




    niels> 0=================================================0
    niels> Dr. Niels G. Waller Quantitative Methods Department of
    niels> Psychology and Human Development Box 512 Peabody College
    niels> Vanderbilt University Nashville TN 37203 email:
    niels> niels.waller at vanderbilt.edu fax: 615 343-9494 QME home
    niels> page: http://www.vanderbilt.edu/quantmetheval
    niels> http://peabody.vanderbilt.edu/depts/psych_and_hd/faculty/wallern/
    niels> 0=================================================0

    niels> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    niels> r-help mailing list -- Read
    niels> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send
    niels> "info", "help", or "[un]subscribe" (in the "body", not the
    niels> subject !)  To: r-help-request at stat.math.ethz.ch
    niels> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my friday location is usually completely unpredictable.)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri May 17 01:01:07 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 16 May 2002 16:01:07 -0700 (PDT)
Subject: [R] foreign library - negative integers??
In-Reply-To: <200205161741.26211.pols1oh@bestweb.net>
Message-ID: <Pine.A41.4.44.0205161555180.95290-100000@homer16.u.washington.edu>

On Thu, 16 May 2002, Michaell Taylor wrote:

>
> I am having a problem with the foreign library correctly reading some integer
> data.  Specifically,
>
> d _ read.dta('aptaa.dta')
> > d[1:5,]
>   scenario metcode   yr  ginv cons   gocc   abs   dvac   gmre   gmer
> 1        1      AA 2002 0.007 1377 -0.071 51710  0.071 -0.011 -0.127
> 2        1      AA 2003 0.000    0 -0.016 62568  0.014 -0.043 -0.538
> 3        1      AA 2004 0.000    0 -0.002 65122  0.002 -0.090 -0.338
> 4        1      AA 2005 0.000    0  0.000 65528  0.000 -0.036 -0.272
> 5        1      AA 2006 0.000    0  0.002   309 -0.001 -0.050  0.468
> > dd _ read.csv('aptaa.csv',header=T)
> > dd[1:5,]
>   scenario metcode   yr  ginv cons   gocc    abs   dvac   gmre   gmer
> 1        1      AA 2002 0.007 1377 -0.071 -13826  0.071 -0.011 -0.127
> 2        1      AA 2003 0.000    0 -0.016  -2968  0.014 -0.043 -0.538
> 3        1      AA 2004 0.000    0 -0.002   -414  0.002 -0.090 -0.338
> 4        1      AA 2005 0.000    0  0.000     -8  0.000 -0.036 -0.272
> 5        1      AA 2006 0.000    0  0.002    309 -0.001 -0.050  0.468
>
> In theory, dd== d, but notice the differences in abs.
>
> The problem is that aptaa.csv is simply an "outsheet using" (in stata) version
> of aptaa.dta - and thus identical.  I have checked these two files (numerous
> times.).  (loading/reloading/rewriting in stata)
>
> It appears that the negative "abs" is a problem, but other variables are not
> suffering the same problem. (no other integer variables take negatives)
>

This looks like a signed vs unsigned integer problem. If so, a simple
work-around is to subtract 65536 from values greater than 32767.

abs <- ifelse(abs>2^15, abs-2^16, abs)

This also suggests that the Stata command
   recast long abs
might well be a more elegant work-around.


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Richard.Rowe at jcu.edu.au  Fri May 17 01:04:53 2002
From: Richard.Rowe at jcu.edu.au (Richard Rowe)
Date: Fri, 17 May 2002 09:04:53 +1000
Subject: [R] Wind rose plots?
In-Reply-To: <3CE3EA5B.80401@lbl.gov>
Message-ID: <5.0.0.25.1.20020517085015.03118940@pop.jcu.edu.au>

At 10:20 16/05/02 -0700, you wrote:
>Just out of curiosity, has anyone created wind roses using R?
>
>Thanks.
>
>Tosh


yes ... the package CircStats has some presentation methods; about 23/11/01 
there were discussions on r-help about using stars() to produce such plots 
... Dave Finlayson produced a function.
There is also (memory) a nice rose diagram generator provided by a Polish? 
worker maybe early in 2001 ... this will be in the archives, use the 
searchable archive or Robert King's archive,



Richard Rowe
Senior Lecturer
Department of Zoology and Tropical Ecology, James Cook University
Townsville, Queensland 4811, Australia
fax (61)7 47 25 1570
phone (61)7 47 81 4851
e-mail: Richard.Rowe at jcu.edu.au
http://www.jcu.edu.au/school/tbiol/zoology/homepage.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ko-kang at xtra.co.nz  Fri May 17 01:54:42 2002
From: ko-kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Fri, 17 May 2002 11:54:42 +1200
Subject: [R] building packages on windows
Message-ID: <20020516235443.RAZS11105.web2-rme.xtra.co.nz@localhost>


> 
> From: "Niels Waller" <niels.waller at vanderbilt.edu>
> Date: 2002/05/17 Fri AM 10:40:09 GMT+12:00
> To: <r-help at stat.math.ethz.ch>
> Subject: [R] building packages on windows
> 
> 
> 
> Has anyone had success building a package on a windows machine?

I have.  Done it on Win98, 2000 as well as XP.

> I am trying the following command with no luck (perhaps my flags are
> incorrect?).  At this point I am stuck. Any help greatly appreciated.
> 
> Niels Waller
> (BTW - I have no idea why it cannot find sh.exe since I have it is a
> directory that is specified in a path statement)
> 
> 
> H:\R\bin>rcmd build --binary --use-zip h:\taxon2
> * checking for file 'h:\taxon2/DESCRIPTION' ... OK
> 
> make: Entering directory `/cygdrive/h/R/src/gnuwin32'
> make DLLNM= \
>   -C h://taxon2 PKG=taxon2 RHOME=h:/R RLIB=c:/TEMP/Rbuild.373 \
>   -f h:/R/src/gnuwin32/MakePkg
> make[1]: Entering directory `/cygdrive/h/taxon2'

It still looks like it can't find sh in your path.  What happens when you type 
   path
in the MS-DOS/Command Prompt?

> make[1]: /bin/sh.exe: Command not found
> make[1]: *** [c:/TEMP/Rbuild.373/taxon2/zzzz] Error 127
> make[1]: Leaving directory `/cygdrive/h/taxon2'
> make: *** [pkg-taxon2] Error 2
> make: Leaving directory `/cygdrive/h/R/src/gnuwin32'
> *** Installation of taxon2 failed ***
> 
> installing R.css in c:/TEMP/Rbuild.373
> 

Take a look at a guide to compile R on windows I wrote, at http://www.stat.auckland.ac.nz/~kwan022/rinfo.shtml
see if it helps...

Cheers,

Ko-Kang Kevin Wang


-----------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xyzzy at speakeasy.org  Fri May 17 03:47:26 2002
From: xyzzy at speakeasy.org (Trent Piepho)
Date: Thu, 16 May 2002 18:47:26 -0700 (PDT)
Subject: [R] Wind rose plots?
In-Reply-To: <3CE3EA5B.80401@lbl.gov>
Message-ID: <Pine.LNX.4.04.10205161845190.18679-100000@xyzzy.dsl.speakeasy.net>

On Thu, 16 May 2002, T. Hotchi wrote:

> Just out of curiosity, has anyone created wind roses using R?

Yes!

We have an web system that generates plots via R, one of the plots is a wind
rose.

See http://www.fs.fed.us/pnw/fera/vent

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stockton at neptuneandco.com  Fri May 17 05:01:52 2002
From: stockton at neptuneandco.com (stockton@neptuneandco.com)
Date: Thu, 16 May 2002 21:01:52 -0600 (MDT)
Subject: [R] building packages on windows
In-Reply-To: <NDBBLLOPOEMNNHONCHBFKEKKCNAA.niels.waller@vanderbilt.edu>
References: <NDBBLLOPOEMNNHONCHBFKEKKCNAA.niels.waller@vanderbilt.edu>
Message-ID: <1021604512.3ce472a02a1b8@www.neptuneandco.com>


You\'ll probably need sh.exe in c:\\bin. I\'ve also found that if you have ever 
installed cygwin you need to uninstall it and remove references to cygwin from 
your registry (not that I\'m recommending editing your registry).

Tom Stockton
stockton at neptuneandco.com

Quoting Niels Waller <niels.waller at vanderbilt.edu>:

> 
> 
> Has anyone had success building a package on a windows machine?
> 
> I am trying the following command with no luck (perhaps my flags are
> incorrect?).  At this point I am stuck. Any help greatly appreciated.
> 
> Niels Waller
> (BTW - I have no idea why it cannot find sh.exe since I have it is a
> directory that is specified in a path statement)
> 
> 
> H:\\R\\bin>rcmd build --binary --use-zip h:\\taxon2
> * checking for file \'h:\\taxon2/DESCRIPTION\' ... OK
> 
> make: Entering directory `/cygdrive/h/R/src/gnuwin32\'
> make DLLNM= \\
>   -C h://taxon2 PKG=taxon2 RHOME=h:/R RLIB=c:/TEMP/Rbuild.373 \\
>   -f h:/R/src/gnuwin32/MakePkg
> make[1]: Entering directory `/cygdrive/h/taxon2\'
> make[1]: /bin/sh.exe: Command not found
> make[1]: *** [c:/TEMP/Rbuild.373/taxon2/zzzz] Error 127
> make[1]: Leaving directory `/cygdrive/h/taxon2\'
> make: *** [pkg-taxon2] Error 2
> make: Leaving directory `/cygdrive/h/R/src/gnuwin32\'
> *** Installation of taxon2 failed ***
> 
> installing R.css in c:/TEMP/Rbuild.373
> 
> * building \'taxon2_1..3.zip\'
>         zip warning: name not matched: taxon2
> 
> zip error: Nothing to do! (try: zip -r9X H:/R/bin/taxon2_1..3.zip . -i
> taxon2)
> 
> 
> 
> 
> 0=================================================0
> Dr. Niels G. Waller
> Quantitative Methods
> Department of Psychology and Human Development
> Box 512 Peabody College
> Vanderbilt University
> Nashville TN 37203
> email:  niels.waller at vanderbilt.edu
> fax:    615 343-9494
> QME home page: http://www.vanderbilt.edu/quantmetheval
> http://peabody.vanderbilt.edu/depts/psych_and_hd/faculty/wallern/
> 0=================================================0
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send \"info\", \"help\", or \"[un]subscribe\"
> (in the \"body\", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dvjens at worldnet.att.net  Fri May 17 07:10:36 2002
From: dvjens at worldnet.att.net (David Jensen)
Date: Thu, 16 May 2002 22:10:36 -0700
Subject: [R] Blue Book
Message-ID: <004901c1fd63$b35bebe0$7ee4480c@Davidlaptop>

I came across a very cheap of the infamous blue book - The New S Language
(1988).  Is this book still relevant to modern S or R or am I wasting my
time?



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Fri May 17 08:53:49 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Fri, 17 May 2002 16:53:49 +1000
Subject: [R] Blue Book
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A90C19BE@Roper-CV.qld.cmis.csiro.au>

David Jensen asks:

>  -----Original Message-----
> From: 	David Jensen [mailto:dvjens at worldnet.att.net] 
> Sent:	Friday, May 17, 2002 3:11 PM
> To:	r-help at stat.math.ethz.ch
> Subject:	[R] Blue Book
> 
> I came across a very cheap of the infamous blue book - The New S Language
> (1988).  Is this book still relevant to modern S or R or am I wasting my
> time?
	[WNV]  I'd say you are not wasting your time if you are serious
about learning S.  

	It's not like R A Fisher (who nobody should read unless they have
done so at least once before) but to me it is one of those books that become
clearer in hindsight.  Little comments make more sense in the light of
experience, especially the darker, more intense final chapters and
appendices.

	It's a fundamental book for the S language.

	Bill Venables.



> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From h_m_ at po.harenet.ne.jp  Fri May 17 09:05:20 2002
From: h_m_ at po.harenet.ne.jp (Hiroto Miyoshi)
Date: Fri, 17 May 2002 16:05:20 +0900
Subject: [R] making vectors with particular correlations
Message-ID: <00a101c1fd71$35c63b00$0400a8c0@miyoshi>

Dear R-users

I like to make vectors which have particular 
correlations with the original vector when I 
provide an original vector and the values of correlation.
How can I do it with R?
Any suggestion would be greately appreciated.

Sincerely  .

-----------------------
Hiroto Miyoshi
????
h_m_ at po.harenet.ne.jp


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ken_lee at tynesys.com  Fri May 17 09:21:58 2002
From: ken_lee at tynesys.com (ken_lee)
Date: Fri, 17 May 2002 15:21:58 +0800
Subject: [R] Can read files at the BATCH jobs?  
In-Reply-To: <20020510124820.69411.qmail@web13904.mail.yahoo.com>
Message-ID: <IPECKKKLFINFHEGMEKKGOEKFCAAA.ken_lee@tynesys.com>

Dear all,
     I want to run a batch job, but how to get the dynamic file?

     example:
         If I have a.R file like 
           a<-function(data.file) {
                 read.csv(data.file)
                ......    
           }
      
     I create r.csh in unix like 

  setenv R_HOME /usr/local/lib/R
   R BATCH --no-save </usr/users/a.R

  where I can put the data.file?

Regards
Ken 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Daniel.Amorese at geos.unicaen.fr  Fri May 17 08:48:35 2002
From: Daniel.Amorese at geos.unicaen.fr (=?ISO-8859-1?Q?Daniel_Amor=E8se?=)
Date: Fri, 17 May 2002 08:48:35 +0200
Subject: [R] quadratic discriminant analysis ?
Message-ID: <20020517084835.A7097@phoebe.msh.unicaen.fr>

Hello,

I am a beginner in R and data analysis.
I have the VR (MASS) library installed and "Modern Applied Statististics
with S-Plus" is my bedside book.
Could anybody provide me an R script (or pieces of an R script) to perform
a
stepwise quadratic discriminant analysis ?
Thanks
D. A. 
-- 
Daniel AMORESE
Lab. M2C "Morphodynamique Continentale et C?ti?re"
UMR CNRS 6143 Caen/Rouen
Centre de G?omorphologie
UCBN (Universit? de Caen Basse-Normandie)
14032 Caen Cedex
FRANCE
Ph: +33 (0)2 31 56 57 19
Fax: +33 (0)2 31 56 57 57
Courriel: amorese at geos.unicaen.fr
http://www.geos.unicaen.fr/perso/da/daperso.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 17 10:08:11 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 17 May 2002 09:08:11 +0100 (BST)
Subject: [R] quadratic discriminant analysis ?
In-Reply-To: <20020517084835.A7097@phoebe.msh.unicaen.fr>
Message-ID: <Pine.LNX.4.31.0205170904070.841-100000@gannet.stats>

On Fri, 17 May 2002, [ISO-8859-1] Daniel Amorèse wrote:

> Hello,
>
> I am a beginner in R and data analysis.
> I have the VR (MASS) library installed and "Modern Applied Statististics
> with S-Plus" is my bedside book.
> Could anybody provide me an R script (or pieces of an R script) to perform
> a
> stepwise quadratic discriminant analysis ?

That needs distribution theory not implemented in R (to my knowledge).

QDA is rather dependent on multivariate normality, and the stepwise
variants are even more so.  It seems to be very rarely appropriate.

When I wanted an example, a student ran one for me in what I recalled was
SPSS under VMS (and it looks like SPSS output), but last time I looked I
could not see it on the PC version.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From juli at ceam.es  Fri May 17 11:10:34 2002
From: juli at ceam.es (juli g. pausas)
Date: Fri, 17 May 2002 10:10:34 +0100
Subject: [R] read.table
Message-ID: <3CE4C90A.4FC66EBF@ceam.es>

Hi,
I have a data file with columns separated by ";"  I read this file
without any problem using read.csv2( ) but I had problems trying to read
it with read.table( ... sep=";"). So it is not a problem for me, but I
wonder if there is a bug here.

drt <- read.csv2("t.txt", header=TRUE)               # ok
dcs <- read.table("t.txt", header=TRUE, sep=";")  # wrong

R.1.5.0. on Windows

the file t.txt:

codi;long;lat;alt;prov;nom
8002;-0.65;38.72;816;A;BANYERES
8003;-0.77;38.70;592;A;BENEIXAMA
8003A;-0.78;38.70;580;A;BENEIXAMA, AGROMET
8004;-0.77;38.63;754;A;BIAR, CASA PORSELL
8005;-0.95;38.77;644;A;VILLENA, LA ENCINA
8006;-0.98;38.70;557;AB;CAUDETE, DERRAMADOR
8006I;-0.92;38.68;515;A;VILLENA, LA VEREDA
8007;-0.87;38.63;505;A;VILLENA
8009E;-0.87;38.47;560;A;MONOVER, EL ESVARADOR
8010;-0.77;38.48;562;A;PETRER
8011;-0.78;38.48;395;A;ELDA
8013;-0.77;38.38;241;A;NOVELDA
8014O;-0.97;38.42;555;A;XINORLET
8015O;-0.88;38.37;500;A;LA ROMANA, AGROMET
8018B;-0.70;38.27;86;A;ELX, CHS
8019;-0.55;38.28;31;A;ALACANT, L'ALTET
8024;-0.52;38.37;60;A;ALACANT, LA RABASA


Perphas the problem is that the last column have commas ...
So I'm not sure if this is a feature or a bug.

juli


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri May 17 10:25:25 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 17 May 2002 10:25:25 +0200
Subject: [R] Can read files at the BATCH jobs?
References: <IPECKKKLFINFHEGMEKKGOEKFCAAA.ken_lee@tynesys.com>
Message-ID: <3CE4BE75.5D35D1D5@statistik.uni-dortmund.de>



ken_lee wrote:
> 
> Dear all,
>      I want to run a batch job, but how to get the dynamic file?
> 
>      example:
>          If I have a.R file like
>            a<-function(data.file) {
>                  read.csv(data.file)
>                 ......
>            }
> 
>      I create r.csh in unix like
> 
>   setenv R_HOME /usr/local/lib/R
>    R BATCH --no-save </usr/users/a.R
> 
>   where I can put the data.file?

1) You can specify a complete path for "data.file" in read.csv(), e.g.
 read.csv("/home/username/a.dir/my.data.file")

2) If you don't want to specify the path, the file must be in your
working directory.
You can set the working directory with setwd() (and get it with
getwd()).
The default working directory is the directory from which you invoked R.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 17 10:25:43 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 17 May 2002 09:25:43 +0100 (BST)
Subject: [R] read.table
In-Reply-To: <3CE4C90A.4FC66EBF@ceam.es>
Message-ID: <Pine.LNX.4.31.0205170920030.841-100000@gannet.stats>

On Fri, 17 May 2002, juli g. pausas wrote:

> Hi,
> I have a data file with columns separated by ";"  I read this file
> without any problem using read.csv2( ) but I had problems trying to read
> it with read.table( ... sep=";"). So it is not a problem for me, but I
> wonder if there is a bug here.

read.csv2 does just call read.table, so it can't be a bug in read.table.
The issue is that line 16 has a single quote in, and read.csv2 sets the
quote arg.  So your call to read.table did exactly what you asked it too,
the bug being in your understanding.

Do look at the definition for read.csv2: it would have solved the problem
for you.


>
> drt <- read.csv2("t.txt", header=TRUE)               # ok
> dcs <- read.table("t.txt", header=TRUE, sep=";")  # wrong
>
> R.1.5.0. on Windows
>
> the file t.txt:
>
> codi;long;lat;alt;prov;nom
> 8002;-0.65;38.72;816;A;BANYERES
> 8003;-0.77;38.70;592;A;BENEIXAMA
> 8003A;-0.78;38.70;580;A;BENEIXAMA, AGROMET
> 8004;-0.77;38.63;754;A;BIAR, CASA PORSELL
> 8005;-0.95;38.77;644;A;VILLENA, LA ENCINA
> 8006;-0.98;38.70;557;AB;CAUDETE, DERRAMADOR
> 8006I;-0.92;38.68;515;A;VILLENA, LA VEREDA
> 8007;-0.87;38.63;505;A;VILLENA
> 8009E;-0.87;38.47;560;A;MONOVER, EL ESVARADOR
> 8010;-0.77;38.48;562;A;PETRER
> 8011;-0.78;38.48;395;A;ELDA
> 8013;-0.77;38.38;241;A;NOVELDA
> 8014O;-0.97;38.42;555;A;XINORLET
> 8015O;-0.88;38.37;500;A;LA ROMANA, AGROMET
> 8018B;-0.70;38.27;86;A;ELX, CHS
> 8019;-0.55;38.28;31;A;ALACANT, L'ALTET
> 8024;-0.52;38.37;60;A;ALACANT, LA RABASA
>
>
> Perphas the problem is that the last column have commas ...
> So I'm not sure if this is a feature or a bug.
>
> juli
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amaitour at pasteur.fr  Fri May 17 10:28:04 2002
From: amaitour at pasteur.fr (Aboubakar Maitournam)
Date: Fri, 17 May 2002 10:28:04 +0200
Subject: [R] Installing R-1.5.0 on Linux
Message-ID: <3CE4BF14.DC11FB@pasteur.fr>

Dear all,

I am sorry in advance because probably my question was already
discussed.
I have installed an R  version  R-1.3.1 on Linux RedHat 6.2.
As I want to install R-1.5.0, I have first followed a suggestion of
Peter
Dalgaard (mail in FAQ) in order to keep the version R-1.3.1 by renaming
/usr/local/lib/R and /usr/local/bin/R (/usr/local/lib/R-1.3.1 and
/usr/local/bin/R-1.3.1 )and then set R_HOME_DIR to the new location.
Now  I run R by typing R-1.3.1

After keeping the version R-1.3.1, I have tried to install R-1.5.0.
But when I try to untar R-1.5.0.z.tgz with
tar xvfz R-1.5.0 I get at the end  the following error message:

gzip: stdin: unexpected end of file
tar: Unexpected EOF in archive
tar: Child returned status 1
tar: Error exit delayed from previous errors

So the commands ./configure and make are not operated. I don't know how
to continue
the installation.

Thank you in advance.

Aboubakar.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri May 17 10:30:53 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 17 May 2002 10:30:53 +0200
Subject: [R] read.table
References: <3CE4C90A.4FC66EBF@ceam.es>
Message-ID: <3CE4BFBD.76E80D17@statistik.uni-dortmund.de>



"juli g. pausas" wrote:
> 
> Hi,
> I have a data file with columns separated by ";"  I read this file
> without any problem using read.csv2( ) but I had problems trying to read
> it with read.table( ... sep=";"). So it is not a problem for me, but I
> wonder if there is a bug here.
> 
> drt <- read.csv2("t.txt", header=TRUE)               # ok
> dcs <- read.table("t.txt", header=TRUE, sep=";")  # wrong
> 
> R.1.5.0. on Windows


That's not a bug!
It's because of the different defaults of quote (there's a "'" in line
17).
You can use e.g.
 read.table("t.txt", header=TRUE, sep=";", quote="\"")

Uwe Ligges


> the file t.txt:
> 
> codi;long;lat;alt;prov;nom
> 8002;-0.65;38.72;816;A;BANYERES
> 8003;-0.77;38.70;592;A;BENEIXAMA
> 8003A;-0.78;38.70;580;A;BENEIXAMA, AGROMET
> 8004;-0.77;38.63;754;A;BIAR, CASA PORSELL
> 8005;-0.95;38.77;644;A;VILLENA, LA ENCINA
> 8006;-0.98;38.70;557;AB;CAUDETE, DERRAMADOR
> 8006I;-0.92;38.68;515;A;VILLENA, LA VEREDA
> 8007;-0.87;38.63;505;A;VILLENA
> 8009E;-0.87;38.47;560;A;MONOVER, EL ESVARADOR
> 8010;-0.77;38.48;562;A;PETRER
> 8011;-0.78;38.48;395;A;ELDA
> 8013;-0.77;38.38;241;A;NOVELDA
> 8014O;-0.97;38.42;555;A;XINORLET
> 8015O;-0.88;38.37;500;A;LA ROMANA, AGROMET
> 8018B;-0.70;38.27;86;A;ELX, CHS
> 8019;-0.55;38.28;31;A;ALACANT, L'ALTET
> 8024;-0.52;38.37;60;A;ALACANT, LA RABASA
> 
> Perphas the problem is that the last column have commas ...
> So I'm not sure if this is a feature or a bug.
> 
> juli
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 17 10:32:48 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 17 May 2002 09:32:48 +0100 (BST)
Subject: [R] Installing R-1.5.0 on Linux
In-Reply-To: <3CE4BF14.DC11FB@pasteur.fr>
Message-ID: <Pine.LNX.4.31.0205170930560.841-100000@gannet.stats>

On Fri, 17 May 2002, Aboubakar Maitournam wrote:

[...]

> After keeping the version R-1.3.1, I have tried to install R-1.5.0.
> But when I try to untar R-1.5.0.z.tgz with
> tar xvfz R-1.5.0 I get at the end  the following error message:

You need

tar xvfz R-1.5.0.tgz

(and not R-1.5.0.z.tgz nor R-1.5.0).

If that doesn't work, try downloading again.

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Fri May 17 10:55:55 2002
From: plummer at iarc.fr (Martyn Plummer)
Date: Fri, 17 May 2002 10:55:55 +0200 (CEST)
Subject: [R] Installing R-1.5.0 on Linux
In-Reply-To: <3CE4BF14.DC11FB@pasteur.fr>
Message-ID: <XFMail.20020517105555.plummer@iarc.fr>

Stephen Eglen provides RPMS of R for Red Hat 6.x
You will find these on CRAN ( cran.r-project.org ).

Martyn


On 17-May-2002 Aboubakar Maitournam wrote:
> Dear all,
> 
> I am sorry in advance because probably my question was already
> discussed.
> I have installed an R  version  R-1.3.1 on Linux RedHat 6.2.
> As I want to install R-1.5.0, I have first followed a suggestion of
> Peter
> Dalgaard (mail in FAQ) in order to keep the version R-1.3.1 by renaming
> /usr/local/lib/R and /usr/local/bin/R (/usr/local/lib/R-1.3.1 and
> /usr/local/bin/R-1.3.1 )and then set R_HOME_DIR to the new location.
> Now  I run R by typing R-1.3.1
> 
> After keeping the version R-1.3.1, I have tried to install R-1.5.0.
> But when I try to untar R-1.5.0.z.tgz with
> tar xvfz R-1.5.0 I get at the end  the following error message:
> 
> gzip: stdin: unexpected end of file
> tar: Unexpected EOF in archive
> tar: Child returned status 1
> tar: Error exit delayed from previous errors
> 
> So the commands ./configure and make are not operated. I don't know how
> to continue
> the installation.
> 
> Thank you in advance.
> 
> Aboubakar.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alexander.Hener at daimlerchrysler.com  Fri May 17 10:56:34 2002
From: Alexander.Hener at daimlerchrysler.com (Alexander.Hener@daimlerchrysler.com)
Date: Fri, 17 May 2002 10:56:34 +0200
Subject: [R] Alternative to aggregate and cbind
Message-ID: <0057440015100880000002L402*@MHS>

Hello group,

this problem can be solved with the code below, but it feels a little clumsy. 
Any suggestions on making it more efficient are appreciated.
What I want is to compute for each value of StandExposure the sum of all 
corresponding PD values. These sums should then be multiplied by the 
corresponding value of StandExposure, and everything be summarised in a 
separate matrix, Band.

 
Band <- aggregate(Portfolio$PD,list(StandExposure=Portfolio$StandExposure),sum)

Band <- 
cbind(Band,aggregate(Portfolio$StandExposure,list(StandExposure=Portfolio$StandE
xposure),mean))

Band <- cbind(as.vector(Band[,2]),as.vector(Band[,4]))

Band <- cbind(Band,Band[,1]*Band[,2])


Thanks in advance,

Alexander Hener.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metafacts.de  Fri May 17 11:03:31 2002
From: c.schulz at metafacts.de (Christian Schulz)
Date: Fri, 17 May 2002 11:03:31 +0200
Subject: [R] Correlation with small N
Message-ID: <3CE4C763.6020301@metafacts.de>

Hello r-proffessionals,
this is not a special R-Question, but have anybody
a good reason for nonstatistican's why the interpretation of correlations  
with cases under 20-30 are dangerous !?

...i have got problems explain this without formula's and perhaps anybody
know a realworld example what point this problem !?


thanks for any suggestion or url/doc etc.
Christian Schulz



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Daniel.Amorese at geos.unicaen.fr  Fri May 17 11:19:27 2002
From: Daniel.Amorese at geos.unicaen.fr (=?ISO-8859-1?Q?Daniel_Amor=E8se?=)
Date: Fri, 17 May 2002 11:19:27 +0200
Subject: [R] quadratic discriminant analysis ?
In-Reply-To: <Pine.LNX.4.31.0205170904070.841-100000@gannet.stats>; from
             ripley@stats.ox.ac.uk on ven, mai 17, 2002 at 10:08:11 +0200
References: <20020517084835.A7097@phoebe.msh.unicaen.fr>
            <Pine.LNX.4.31.0205170904070.841-100000@gannet.stats>
Message-ID: <20020517111927.A7346@phoebe.msh.unicaen.fr>

Le 2002.05.17 10:08, ripley at stats.ox.ac.uk a ?crit :
> On Fri, 17 May 2002, [ISO-8859-1] Daniel Amor?se wrote:
> 
> > Hello,
> >
> > I am a beginner in R and data analysis.
> > I have the VR (MASS) library installed and "Modern Applied
> Statististics
> > with S-Plus" is my bedside book.
> > Could anybody provide me an R script (or pieces of an R script) to
> perform
> > a
> > stepwise quadratic discriminant analysis ?
> 
> That needs distribution theory not implemented in R (to my knowledge).
> 
> QDA is rather dependent on multivariate normality, and the stepwise
> variants are even more so.  It seems to be very rarely appropriate.
> 
> When I wanted an example, a student ran one for me in what I recalled was
> SPSS under VMS (and it looks like SPSS output), but last time I looked I
> could not see it on the PC version.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

Thanks for this answer.
Many people claim LDA and QDA are quite robust methods with regard to
multivariate normality.
Of course, this assertion is certainly not true when a stepwise analysis is
performed.
Especially if the stepwise analysis involves Wilks' lambda (this test
requires multinormality).
Thus, how is it possible to (reliably) select variables when performing qda
or lda through R ?
Thanks

-- 
Daniel AMORESE
Lab. M2C "Morphodynamique Continentale et C?ti?re"
UMR CNRS 6143 Caen/Rouen
Centre de G?omorphologie
UCBN (Universit? de Caen Basse-Normandie)
14032 Caen Cedex
FRANCE
Ph: +33 (0)2 31 56 57 19
Fax: +33 (0)2 31 56 57 57
Courriel: amorese at geos.unicaen.fr
http://www.geos.unicaen.fr/perso/da/daperso.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jerome.Goudet at ie-zea.unil.ch  Fri May 17 11:34:12 2002
From: Jerome.Goudet at ie-zea.unil.ch (Jerome Goudet)
Date: Fri, 17 May 2002 11:34:12 +0200
Subject: [R] split-plot design?
Message-ID: <5.0.0.25.2.20020517113233.06c404c8@pop-server.unil.ch>


Dear R-gurus,

We are planning an experiment to test if plants produced by selfing are less
fit than those produced by outcrossing.  We have plants from three different
alpine valleys, picked randomly among all the possible valleys. In each valley,
we have a number of individuals, also picked at random. seeds from this
individuals were brought back to the green house and sawned. when they
flowered, five of the flowers were selfed and five outcrossed. the number of
seeds produced by each flower was then recorded.

Would you all agree that valleys and individuals are random factors? If so,
would you also agree that the data should be analysed as a split-plot design:

seeds.nb~valley+ind%in%valley+treat+treat:valley+treat:ind%in%valley

Is there a way in R to specify which factor are random? Is there a way in R to
specify which MS should be used a a denominator?

Thanks a lot for your enlightenments and  best wishes.


J?r?me Goudet
Inst. Ecology
UNI Lausanne
Switzerland

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri May 17 11:36:36 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Fri, 17 May 2002 05:36:36 -0400
Subject: [R] Correlation with small N
In-Reply-To: <3CE4C763.6020301@metafacts.de>; from c.schulz@metafacts.de on Fri, May 17, 2002 at 11:03:31AM +0200
References: <3CE4C763.6020301@metafacts.de>
Message-ID: <20020517053636.A16616@cattell.psych.upenn.edu>

On 05/17/02 11:03, Christian Schulz wrote:
>Hello r-proffessionals,
>this is not a special R-Question, but have anybody
>a good reason for nonstatistican's why the interpretation of correlations  
>with cases under 20-30 are dangerous !?

I am not an R-professional, nor a statistician, but this is
off-topic anyway, so ...

I don't think it is especially true that interpretation of
correlations with small N is dangerous.  At least it is no more
dangerous than interpretation of any statistic with small N.

There is an issue here, I think, when small N is combined with
the practice of reporting p-levels by setting an "alpha" cutoff
for significance (like p<.05) and then reporting only whether p
is below the cutoff.  The exact p is hidden by such a practice.
If all you know is that p<.05 and that N=20, then the expectation
of the exact p is higher than if p<.05 and N=200.  So sample size
does matter even when alpha (the cutoff) is held constant.

I do not think that this problem arises when exact p levels are
reported.  In psychology, exact p levels are more common now, I
think, and they are actually recommended by the American
Psychological Association: 
http://www.apa.org/journals/amp/amp548594.html

Perhaps there is something else here that I don't know.

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 17 11:52:42 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 17 May 2002 10:52:42 +0100 (BST)
Subject: [R] split-plot design?
In-Reply-To: <5.0.0.25.2.20020517113233.06c404c8@pop-server.unil.ch>
Message-ID: <Pine.LNX.4.31.0205171044030.1419-100000@gannet.stats>

On Fri, 17 May 2002, Jerome Goudet wrote:

>
> Dear R-gurus,
>
> We are planning an experiment to test if plants produced by selfing are less
> fit than those produced by outcrossing.  We have plants from three different
> alpine valleys, picked randomly among all the possible valleys. In each valley,
> we have a number of individuals, also picked at random. seeds from this
> individuals were brought back to the green house and sawned. when they
> flowered, five of the flowers were selfed and five outcrossed. the number of
> seeds produced by each flower was then recorded.
>
> Would you all agree that valleys and individuals are random factors? If so,
> would you also agree that the data should be analysed as a split-plot design:
>
> seeds.nb~valley+ind%in%valley+treat+treat:valley+treat:ind%in%valley

No, no.  I don't quite understand the sampling, but this is definitely not
a split-plot design (and there is only one treatment).  And split-plot
experiments are usually analysed conditional on the plots, just as
randomized block designs are.

If I understand aright, you have three valleys, which are blocks, and ten
flowers from each divided into two treatments.  Or perhaps you have
three valleys, several plants from each, and ten flowers grown from each
plant.  The plants would still be the blocks.

Given your responses are counts, I think your main worry will be a
suitable modle for count data: negative binomial, perhaps?


> Is there a way in R to specify which factor are random? Is there a way in R to
> specify which MS should be used a a denominator?

Error(), which is used for split-plot designs.

>
> Thanks a lot for your enlightenments and  best wishes.
>
>
> Jérôme Goudet
> Inst. Ecology
> UNI Lausanne
> Switzerland
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 17 12:55:29 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 17 May 2002 11:55:29 +0100 (BST)
Subject: [R] NaN/NA and sprintf double format
In-Reply-To: <E177gp4-0006Ml-00@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.4.31.0205171140580.1658-100000@gannet.stats>

This is now fixed in R-devel:

> sprintf("%.2f", NA)
Error in sprintf("%.2f", NA) : use format %d or %i for logical objects
> sprintf("%.2f", as.numeric(NA))
[1] "NA"
> sprintf("%.2f", NaN)
[1] "NaN"
> sprintf("%f", NaN)
[1] "NaN"
> sprintf("%f", as.numeric(NA))
[1] "NA"

Note it checks the types too.

On Tue, 14 May 2002, Dirk Eddelbuettel wrote:

>
> With a (late prerelease of) 1.5.0 on Windows, using sprintf on NaN
> yields garbage when the number of decimal is specified while it
> works fine for NA:
>
> > sprintf("%.2f", NA)
> [1] "0.00"
> > sprintf("%.2f", NaN)
> [1] "-1.#J"
>
> Not specifying the decimal precision lets both print garbage:
>
> > sprintf("%f", NaN)
> [1] "-1.#IND00"
> > sprintf("%f", NA)
> [1] "-1.#QNAN0"
>
> Is this a bug or a feature?
>
> Dirk
>
> --
> According to the latest figures, 43% of all signatures are totally worthless.
>
>
>
>
> --
> According to the latest figures, 43% of all signatures are totally worthless.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Fri May 17 02:38:30 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Thu, 16 May 2002 20:38:30 -0400
Subject: [R] Strange R CMD check \usage parse error
Message-ID: <20020516203830.31cbede8.fharrell@virginia.edu>

In running R CMD check I get an error I can't debug.  Would someone please let me know if they spot a syntax error in the code below or if there is a workaround for the parse error?  Thanks -Frank


Error in parse(file, n, text, prompt) : parse error
Error in codoc(package = "Hmisc") : cannot source usages in documentation object 'plsmo'
Execution halted
* checking for undocumented arguments in \usage ... WARNING
Error in parse(file, n, text, prompt) : parse error
Error in checkDocArgs(package = "Hmisc") :
        cannot source usages in documentation object 'plsmo'
Execution halted

\usage{
plsmo(x, y, method=c("lowess","supsmu","raw"), xlab, ylab, 
      add=F, lty=1:nlev, col=par("col"), lwd=par("lwd"),
      iter=ifelse(length(unique(y))>2, 3, 0), bass=0, trim, 
      fun, group, prefix, xlim, ylim, 
      label.curves=T, datadensity=F, lines=T, ...)


xyplot(y ~ x | conditioningvars, groups,
       panel=panel.plsmo, type='b', 
       label.curves=T,
       lwd = superpose.line$lwd, 
       lty = superpose.line$lty, 
       pch = superpose.symbol$pch, 
       cex = superpose.symbol$cex, 
       font = superpose.symbol$font, 
       col = NULL, ...)
}


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Fri May 17 14:04:09 2002
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Fri, 17 May 2002 22:04:09 +1000 (EST)
Subject: [R] Blue Book
Message-ID: <200205171204.g4HC49K05951@leonard.anu.edu.au>

I feel constrained to register a protest.  There are some of
Fisher's writings that are both highly readable and still
well worth reading.  I'd put his "Design of Experiments" high
in this category.  It is beautifully written, and accessible
to working scientists.

Apologies for this off-topic comment, but I could not let
that one pass!  I am sure that on reconsideration Bill will,
if not recant, at least offer Fisher a posthumous apology!

John Maindonald.

> From owner-r-help at stat.math.ethz.ch  Fri May 17 19:15:04 2002
> From: Bill.Venables at cmis.csiro.au

> David Jensen asks:
> 
> >  -----Original Message-----
> > From: 	David Jensen [mailto:dvjens at worldnet.att.net] 
> > Sent:	Friday, May 17, 2002 3:11 PM
> > 
> > I came across a very cheap of the infamous blue book - The New S Language
> > (1988).  Is this book still relevant to modern S or R or am I wasting my
> > time?
> 	[WNV]  I'd say you are not wasting your time if you are serious
> about learning S.  
> 
> 	It's not like R A Fisher (who nobody should read unless they have
> done so at least once before) but to me it is one of those books that become
> clearer in hindsight.  Little comments make more sense in the light of
> experience, especially the darker, more intense final chapters and
> appendices.
> 
> 	It's a fundamental book for the S language.
> 
> 	Bill Venables.
> 





John Maindonald                     email : john.maindonald at anu.edu.au
Centre for Bioinformation Science,  phone : (6125)3473        
c/o SMS,                            fax   : (6125)5549 
John Dedman Mathematical Sciences Building (Building 27)
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HStevens at muohio.edu  Fri May 17 15:18:38 2002
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Fri, 17 May 2002 09:18:38 -0400
Subject: [R] Fisher (was Blue Book)
In-Reply-To: <E09E527B56BE2D438A3D6A246DDD27A90C19BE@Roper-CV.qld.cmis.c
 siro.au>
Message-ID: <5.1.0.14.2.20020517091437.00aaafe0@po.muohio.edu>

Huh? Should I read Fisher, or not? I really would like your opinion. I have 
often thought about Statistical Methods For Research Workers , but never 
followed through.
At 02:53 AM 5/17/2002, Bill.Venables at cmis.csiro.au wrote:
>It's not like R A Fisher (who nobody should read unless they have
>done so at least once before)

Martin Henry H. Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.muohio.edu/~botcwis/bot/henry.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Fri May 17 15:20:21 2002
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Fri, 17 May 2002 15:20:21 +0200 (MET DST)
Subject: [R] Blue Book
In-Reply-To: <200205171204.g4HC49K05951@leonard.anu.edu.au> from "John Maindonald" at May 17, 2002 10:04:09 PM
Message-ID: <200205171320.PAA32004@luc.ac.be>

> 
> I feel constrained to register a protest.  There are some of
> Fisher's writings that are both highly readable and still
> well worth reading.  I'd put his "Design of Experiments" high
> in this category.  It is beautifully written, and accessible
> to working scientists.
> 
> Apologies for this off-topic comment, but I could not let
> that one pass!  I am sure that on reconsideration Bill will,
> if not recant, at least offer Fisher a posthumous apology!

I certainly agree!! Any good statistician worth his or her salt should
read Fisher's 3 main books at least once a year to be reminded of what
modern statistics is all about. To push it, I would say that the Blue
Book is for computer hackers, not statisticians.
  Jim

> 
> John Maindonald.
> 
> > From owner-r-help at stat.math.ethz.ch  Fri May 17 19:15:04 2002
> > From: Bill.Venables at cmis.csiro.au
> 
> > David Jensen asks:
> > 
> > >  -----Original Message-----
> > > From: 	David Jensen [mailto:dvjens at worldnet.att.net] 
> > > Sent:	Friday, May 17, 2002 3:11 PM
> > > 
> > > I came across a very cheap of the infamous blue book - The New S Language
> > > (1988).  Is this book still relevant to modern S or R or am I wasting my
> > > time?
> > 	[WNV]  I'd say you are not wasting your time if you are serious
> > about learning S.  
> > 
> > 	It's not like R A Fisher (who nobody should read unless they have
> > done so at least once before) but to me it is one of those books that become
> > clearer in hindsight.  Little comments make more sense in the light of
> > experience, especially the darker, more intense final chapters and
> > appendices.
> > 
> > 	It's a fundamental book for the S language.
> > 
> > 	Bill Venables.
> > 
> 
> 
> 
> 
> 
> John Maindonald                     email : john.maindonald at anu.edu.au
> Centre for Bioinformation Science,  phone : (6125)3473        
> c/o SMS,                            fax   : (6125)5549 
> John Dedman Mathematical Sciences Building (Building 27)
> Australian National University
> Canberra ACT 0200
> Australia
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rvaradha at jhsph.edu  Fri May 17 16:55:14 2002
From: rvaradha at jhsph.edu (Ravi Varadhan)
Date: Fri, 17 May 2002 10:55:14 -0400
Subject: [R] Fisher (was Blue Book)
References: <5.1.0.14.2.20020517091437.00aaafe0@po.muohio.edu>
Message-ID: <001401c1fdb2$da017860$1158120a@BSTE3005>

Dear Group:

Along similar lines of this question, I'd like to ask senior statisticians
in the group to recommend their list of "must read" classics in statistics.

Ravi.

----- Original Message -----
From: "Martin Henry H. Stevens" <HStevens at muohio.edu>
To: <Bill.Venables at cmis.csiro.au>; <r-help at stat.math.ethz.ch>
Sent: Friday, May 17, 2002 9:18 AM
Subject: RE: [R] Fisher (was Blue Book)


> Huh? Should I read Fisher, or not? I really would like your opinion. I
have
> often thought about Statistical Methods For Research Workers , but never
> followed through.
> At 02:53 AM 5/17/2002, Bill.Venables at cmis.csiro.au wrote:
> >It's not like R A Fisher (who nobody should read unless they have
> >done so at least once before)
>
> Martin Henry H. Stevens, Assistant Professor
> 338 Pearson Hall
> Botany Department
> Miami University
> Oxford, OH 45056
>
> Office: (513) 529-4206
> Lab: (513) 529-4262
> FAX: (513) 529-4243
> http://www.muohio.edu/~botcwis/bot/henry.html
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rvaradha at jhsph.edu  Fri May 17 17:24:41 2002
From: rvaradha at jhsph.edu (Ravi Varadhan)
Date: Fri, 17 May 2002 11:24:41 -0400
Subject: [R] Blue Book
References: <200205171320.PAA32004@luc.ac.be>
Message-ID: <002801c1fdb6$f6db31c0$1158120a@BSTE3005>

Dear Group:

Along similar lines of this question, I'd like to ask senior statisticians
in the group to recommend their list of "must read" classics in statistics.

Ravi.


----- Original Message -----
From: "Jim Lindsey" <james.lindsey at luc.ac.be>
To: "John Maindonald" <john.maindonald at anu.edu.au>
Cc: "r-help" <r-help at stat.math.ethz.ch>
Sent: Friday, May 17, 2002 9:20 AM
Subject: Re: [R] Blue Book


> >
> > I feel constrained to register a protest.  There are some of
> > Fisher's writings that are both highly readable and still
> > well worth reading.  I'd put his "Design of Experiments" high
> > in this category.  It is beautifully written, and accessible
> > to working scientists.
> >
> > Apologies for this off-topic comment, but I could not let
> > that one pass!  I am sure that on reconsideration Bill will,
> > if not recant, at least offer Fisher a posthumous apology!
>
> I certainly agree!! Any good statistician worth his or her salt should
> read Fisher's 3 main books at least once a year to be reminded of what
> modern statistics is all about. To push it, I would say that the Blue
> Book is for computer hackers, not statisticians.
>   Jim
>
> >
> > John Maindonald.
> >
> > > From owner-r-help at stat.math.ethz.ch  Fri May 17 19:15:04 2002
> > > From: Bill.Venables at cmis.csiro.au
> >
> > > David Jensen asks:
> > >
> > > >  -----Original Message-----
> > > > From: David Jensen [mailto:dvjens at worldnet.att.net]
> > > > Sent: Friday, May 17, 2002 3:11 PM
> > > >
> > > > I came across a very cheap of the infamous blue book - The New S
Language
> > > > (1988).  Is this book still relevant to modern S or R or am I
wasting my
> > > > time?
> > > [WNV]  I'd say you are not wasting your time if you are serious
> > > about learning S.
> > >
> > > It's not like R A Fisher (who nobody should read unless they have
> > > done so at least once before) but to me it is one of those books that
become
> > > clearer in hindsight.  Little comments make more sense in the light of
> > > experience, especially the darker, more intense final chapters and
> > > appendices.
> > >
> > > It's a fundamental book for the S language.
> > >
> > > Bill Venables.
> > >
> >
> >
> >
> >
> >
> > John Maindonald                     email : john.maindonald at anu.edu.au
> > Centre for Bioinformation Science,  phone : (6125)3473
> > c/o SMS,                            fax   : (6125)5549
> > John Dedman Mathematical Sciences Building (Building 27)
> > Australian National University
> > Canberra ACT 0200
> > Australia
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Fri May 17 17:16:34 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Fri, 17 May 2002 15:16:34 +0000
Subject: [R] Blue Book
References: <200205171204.g4HC49K05951@leonard.anu.edu.au>
Message-ID: <3CE51ED2.3CDFD599@sentoo.sn>

Dear all,

quoting [WNV]
> >       It's not like R A Fisher (who nobody should read unless they have
> > done so at least once before) but to me it is one of those books that become

Isn't it what English-speaking people call an "understatement" ? I don't
read WNV's word as a negative criticism of Fisher's books, buth rather
the opposite (i.e. everybody should read Fisher's books at least once
!). Sorry if I misunderstood...

Best,

Renaud



John Maindonald wrote:
> 
> I feel constrained to register a protest.  There are some of
> Fisher's writings that are both highly readable and still
> well worth reading.  I'd put his "Design of Experiments" high
> in this category.  It is beautifully written, and accessible
> to working scientists.
> 
> Apologies for this off-topic comment, but I could not let
> that one pass!  I am sure that on reconsideration Bill will,
> if not recant, at least offer Fisher a posthumous apology!
> 
> John Maindonald.
> 
> > From owner-r-help at stat.math.ethz.ch  Fri May 17 19:15:04 2002
> > From: Bill.Venables at cmis.csiro.au
> 
> > David Jensen asks:
> >
> > >  -----Original Message-----
> > > From:       David Jensen [mailto:dvjens at worldnet.att.net]
> > > Sent:       Friday, May 17, 2002 3:11 PM
> > >
> > > I came across a very cheap of the infamous blue book - The New S Language
> > > (1988).  Is this book still relevant to modern S or R or am I wasting my
> > > time?
> >       [WNV]  I'd say you are not wasting your time if you are serious
> > about learning S.
> >
> >       It's not like R A Fisher (who nobody should read unless they have
> > done so at least once before) but to me it is one of those books that become
> > clearer in hindsight.  Little comments make more sense in the light of
> > experience, especially the darker, more intense final chapters and
> > appendices.
> >
> >       It's a fundamental book for the S language.
> >
> >       Bill Venables.
> >
> 
> John Maindonald                     email : john.maindonald at anu.edu.au
> Centre for Bioinformation Science,  phone : (6125)3473
> c/o SMS,                            fax   : (6125)5549
> John Dedman Mathematical Sciences Building (Building 27)
> Australian National University
> Canberra ACT 0200
> Australia
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oehl_list at gmx.de  Fri May 17 17:18:42 2002
From: oehl_list at gmx.de (oehl_list@gmx.de)
Date: Fri, 17 May 2002 17:18:42 +0200 (MEST)
Subject: [R] What is the most efficient way to assign to PARTS of objects in other frames/environments?
Message-ID: <13429.1021648722@www54.gmx.net>

Can please someone familiar with the R internals explain on the following:

PR#1434 from r-bugs clarifies that

  assign("a[1]", x, SomeOtherFrame)

or 

  assign("a$a", x, SomeOtherFrame)

will NOT assign to an object 'a' in the other frame BUT create a new object
called 'a[1]' resp. 'a$a'.

This leads to the following question: what is the most efficient way to
assign to PARTS of objects in other frames/environments?

Any way I know appears to have some problems associated:

# doing it locally involves several calls and probably copies the whole
object
local.copy <- get("a", SomeOtherFrame)
local.copy$a <- x
assign("a", local.copy, SomeOtherFrame)

# using eval fails because x might be unknown in the other frame
> t1 <- function(){
+   # x is locally defined
+   x <- 9
+   eval(parse(text="a$a <- x"), envir=globalenv())
+ }
> t1()
Error in eval(expr, envir, enclos) : Object "x" not found


For me, it would highly make sense, if assign("a[1]") WOULD parse "a[1]" and
assign to a's part, as Martin expected it to do. The same applies to
get("a[1]", SomeOtherFrame). 

BTW: this issue dates back to 1997, when I tried (for S+Version3) to
implement a library "ref" that allows to access objects in other frames via
"references".

I would appreciate any clarification on this one.

Best


Jens Oehlschl?gel


-- 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcelo at leptocephala.lei.furg.br  Fri May 17 17:42:17 2002
From: marcelo at leptocephala.lei.furg.br (marcelo@leptocephala.lei.furg.br)
Date: Fri, 17 May 2002 12:42:17 -0300 (BRT)
Subject: [R] Spectral Analysis
Message-ID: <Pine.LNX.4.33.0205171231190.6570-100000@leptocephala.lei.furg.br>

Dear R users

Is there a function in R to make a peridogram for
a spectral analysis of unevenlly sampled data??
something like  spec.lomb() for S-Plus??
How to plot a vector with unequally spaced time series??
e.g
day/month/year	V1
03/08/82	0.34
28/08/82	1.42
12/09/82	0.28
20/09/82	0.56
03/10/82	0.85
21/10/82	1.45

thanks
-- 
Marcelo Alexandre Bruno - Pos-graduacao Oceanografia Biologica
Departamento de Oceanografia -  Laboratorio de Ecologia do Ictioplancton
(0xx53) 2336529 - Rio Grande - RS

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri May 17 17:37:53 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 17 May 2002 08:37:53 -0700 (PDT)
Subject: [R] Strange R CMD check \usage parse error
In-Reply-To: <20020516203830.31cbede8.fharrell@virginia.edu>
Message-ID: <Pine.A41.4.44.0205170823110.84120-100000@homer41.u.washington.edu>

On Thu, 16 May 2002, Frank E Harrell Jr wrote:

> In running R CMD check I get an error I can't debug.  Would someone
> please let me know if they spot a syntax error in the code below or if
> there is a workaround for the parse error?  Thanks -Frank
>
>
>
>
> xyplot(y ~ x | conditioningvars, groups,
>        panel=panel.plsmo, type='b',
>        label.curves=T,
>        lwd = superpose.line$lwd,
>        lty = superpose.line$lty,
>        pch = superpose.symbol$pch,
>        cex = superpose.symbol$cex,
>        font = superpose.symbol$font,
>        col = NULL, ...)
> }
>

The usage checks convert to empty function declarations, so the syntax
error is in the converted version
  xyplot<-function (y ~ x | conditioningvars, groups,
        panel=panel.plsmo, type='b',
        label.curves=T,
        lwd = superpose.line$lwd,
        lty = superpose.line$lty,
        pch = superpose.symbol$pch,
        cex = superpose.symbol$cex,
        font = superpose.symbol$font,
        col = NULL, ...) NULL

You need to give the argument name for the first argument, ie
 	formula=y ~ x | conditioningvars


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri May 17 17:43:36 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 17 May 2002 08:43:36 -0700 (PDT)
Subject: [R] What is the most efficient way to assign to PARTS of objects
 in other frames/environments?
In-Reply-To: <13429.1021648722@www54.gmx.net>
Message-ID: <Pine.A41.4.44.0205170840060.84120-100000@homer41.u.washington.edu>

On Fri, 17 May 2002 oehl_list at gmx.de wrote:

> Can please someone familiar with the R internals explain on the following:
>
> PR#1434 from r-bugs clarifies that
>
>   assign("a[1]", x, SomeOtherFrame)
>
> or
>
>   assign("a$a", x, SomeOtherFrame)
>
> will NOT assign to an object 'a' in the other frame BUT create a new object
> called 'a[1]' resp. 'a$a'.
>
> This leads to the following question: what is the most efficient way to
> assign to PARTS of objects in other frames/environments?
>
> Any way I know appears to have some problems associated:
>
> # doing it locally involves several calls and probably copies the whole
> object
> local.copy <- get("a", SomeOtherFrame)
> local.copy$a <- x
> assign("a", local.copy, SomeOtherFrame)
>
> # using eval fails because x might be unknown in the other frame
> > t1 <- function(){
> +   # x is locally defined
> +   x <- 9
> +   eval(parse(text="a$a <- x"), envir=globalenv())
> + }
> > t1()
> Error in eval(expr, envir, enclos) : Object "x" not found
>

Instead of

  assign("a$a",x,envir=SomeOtherFrame)
you can do
  eval(substitute(a$a<-localx,localx=x),envir=SomeOtherFrame)


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Fri May 17 17:48:00 2002
From: macq at llnl.gov (Don MacQueen)
Date: Fri, 17 May 2002 08:48:00 -0700
Subject: [R] How to report bugs?
Message-ID: <p05111704b90ad4296f10@[128.115.153.6]>

It's not unusual for R users (like me!) to think they've found a bug, 
when in fact it's their own error. I would like to ask, however, 
about the situation where a user has studied the situation enough to 
be very confident they've found a bug.

In that case, what procedure would the R core team like users to follow:

   1) post to r-help, then wait for a confirmation and request to 
report as a bug

   2) simultaneously report as bug, and post to r-help

   3) report as bug (only)

Perhaps the answer could be added to the R FAQ section on bugs?

Thanks
-Don
-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Fri May 17 19:02:55 2002
From: ernesto at ipimar.pt (Ernesto Jardim)
Date: 17 May 2002 18:02:55 +0100
Subject: [R] Fisher (was Blue Book)
In-Reply-To: <001401c1fdb2$da017860$1158120a@BSTE3005>
References: <5.1.0.14.2.20020517091437.00aaafe0@po.muohio.edu> 
	<001401c1fdb2$da017860$1158120a@BSTE3005>
Message-ID: <1021654975.21540.45.camel@gandalf>

Hi

I support this idea of a "must read" list. It will be very usefull, for
me at least.

Regards

EJ

On Fri, 2002-05-17 at 15:55, Ravi Varadhan wrote:
> Dear Group:
> 
> Along similar lines of this question, I'd like to ask senior statisticians
> in the group to recommend their list of "must read" classics in statistics.
> 
> Ravi.
> 
> ----- Original Message -----
> From: "Martin Henry H. Stevens" <HStevens at muohio.edu>
> To: <Bill.Venables at cmis.csiro.au>; <r-help at stat.math.ethz.ch>
> Sent: Friday, May 17, 2002 9:18 AM
> Subject: RE: [R] Fisher (was Blue Book)
> 
> 
> > Huh? Should I read Fisher, or not? I really would like your opinion. I
> have
> > often thought about Statistical Methods For Research Workers , but never
> > followed through.
> > At 02:53 AM 5/17/2002, Bill.Venables at cmis.csiro.au wrote:
> > >It's not like R A Fisher (who nobody should read unless they have
> > >done so at least once before)
> >
> > Martin Henry H. Stevens, Assistant Professor
> > 338 Pearson Hall
> > Botany Department
> > Miami University
> > Oxford, OH 45056
> >
> > Office: (513) 529-4206
> > Lab: (513) 529-4262
> > FAX: (513) 529-4243
> > http://www.muohio.edu/~botcwis/bot/henry.html
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Fri May 17 17:54:10 2002
From: macq at llnl.gov (Don MacQueen)
Date: Fri, 17 May 2002 08:54:10 -0700
Subject: [R] round.POSIXt gets certain values wrong
Message-ID: <p05111703b90aceb828a8@[128.115.153.6]>

For certain values, round.POSIXt(tm,'day') does not round to midnight 
as documented. The reason is that trunc.POSIXt() does not adjust the 
value of the isdst element. Assuming my assessment of the reason is 
correct, I have a potential solution to offer. Additional discussion 
is in bug report #1543.

-Don

>   x <- c(as.POSIXct('2001-4-1 3:15'),as.POSIXct('2001-5-2 17:56'))
>   print(x)
[1] "2001-04-01 03:15:00 PDT" "2001-05-02 17:56:00 PDT"
>
>   tmp <- round.POSIXt(x,'day')
>   print(tmp)    ## note that tmp[1] is labeled PDT, not PST
[1] "2001-04-01 PDT" "2001-05-03 PDT"
>
### after converting back to POSIXct the rounded value is
### not midnight
>   print( as.POSIXct(tmp) )
[1] "2001-03-31 23:00:00 PST" "2001-05-03 00:00:00 PDT"
>
###
### potential solution
###
>   tmp$isdst <- as.POSIXlt(format(tmp))$isdst
>   print( as.POSIXct(tmp) )
[1] "2001-04-01 PST" "2001-05-03 PDT"
>
>   version
           _
platform sparc-sun-solaris2.7
arch     sparc
os       solaris2.7
system   sparc, solaris2.7
status
major    1
minor    5.0
year     2002
month    04
day      29
language R

>   Sys.getenv('TZ')
            TZ
"US/Pacific"

-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri May 17 18:10:59 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 May 2002 18:10:59 +0200
Subject: [R] How to report bugs?
In-Reply-To: <p05111704b90ad4296f10@[128.115.153.6]>
References: <p05111704b90ad4296f10@[128.115.153.6]>
Message-ID: <x2sn4qn4a4.fsf@blueberry.kubism.ku.dk>

Don MacQueen <macq at llnl.gov> writes:

> It's not unusual for R users (like me!) to think they've found a bug,
> when in fact it's their own error. I would like to ask, however, about
> the situation where a user has studied the situation enough to be very
> confident they've found a bug.
> 
> In that case, what procedure would the R core team like users to follow:
> 
>    1) post to r-help, then wait for a confirmation and request to
> report as a bug
> 
>    2) simultaneously report as bug, and post to r-help
> 
>    3) report as bug (only)
> 
> Perhaps the answer could be added to the R FAQ section on bugs?

If you're confident use #3, else #1, never #2.

If you use #3, then  the report will get mirrored into the r-devel
list and the ensuing discussion (if any) will be filed along with your
report, as long as the PR# is in the header and people retain the Cc:
to r-bugs.

If you use #1, initial responses are not filed. This might be a good
thing if the bug is not a bug, but if it really is a bug someone
(you!) will need to copy the bug analysis from the other mails into
the bug report.

If you use #2 there will be a message on r-help *and* one on r-devel,
both with Cc: to r-bugs, but no PR# on the latter. If people follow up
on r-help and don't remove the Cc: (which they will do, r-help is
where the newbies are...), then this generates *another* report for
each reply. So don't!

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 17 18:16:44 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 17 May 2002 17:16:44 +0100 (BST)
Subject: `must read' list [R] Fisher (was Blue Book)
In-Reply-To: <1021654975.21540.45.camel@gandalf>
Message-ID: <Pine.LNX.4.31.0205171701180.18391-100000@gannet.stats>

Is this the right place for this?  Has it been done elsewhere?

For me (and I'm not admitting to being `senior', which is often a
euphemism for `old') it depends on what `statistics' means.  When I was
first a Lecturer, David Cox's interests were given as `Statistics and
Applied Probability except *', and I've long forgotten * but believe it
changed from year to year.  No one starting now can aspire to that breadth
of coverage.

So to take one example,

   DR Cox (1958) Planning of Experiments

is a `must read' for people planning experiments.  But many statisticians
never will.

Also, the value of many classic books has been dimmed by the computational
changes in genuinely modern statistics.  I am thinking of regression books
like Daniel & Wood and Draper & Smith,  Anderson's 1958 Multivariate
Analysis, Box & Jenkins on Time Series, Tukey on EDA.

I've looked along my 15m(etres) of books without seeing one that I would
recommend as a `must read' to _everyone_ reading R-help.  And yes,
Fisher's main books are there (and I have read them more than once).


On 17 May 2002, Ernesto Jardim wrote:

> I support this idea of a "must read" list. It will be very usefull, for
> me at least.
>
> Regards
>
> EJ
>
> On Fri, 2002-05-17 at 15:55, Ravi Varadhan wrote:
> > Dear Group:
> >
> > Along similar lines of this question, I'd like to ask senior statisticians
> > in the group to recommend their list of "must read" classics in statistics.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tord.snall at ebc.uu.se  Fri May 17 18:33:27 2002
From: tord.snall at ebc.uu.se (Tord Snall)
Date: Fri, 17 May 2002 18:33:27 +0200 (CEST)
Subject: [R] aggregate() classing var. def.
Message-ID: <1021653207.3ce530d73d00b@webmail.anst.uu.se>

Dear all,

I want to aggregate() my data based of the classes of a factors, just as in the 
help file, but how do I define the "Region varable" in the ?aggregate example?

Now, the column is just like any other in my data matrix. As I understand it 
from ?(state), state contains a matrix with the columns Pop, Income etc., but 
Region is somehow separated. I noted below that as.list() is not enough.

Could someone please give me a hint.

Thanks in advance!

Sincerely,
Tord Sn?ll

data(state)
> aggregate(state.x77, list(Region = state.region), mean)
Region Population   Income Illiteracy Life Exp    Murder  
Northeast   5495.111 4570.222   1.000000 71.26444  4.722222 
South   4208.125 4011.938   1.737500 69.70625 10.581250 
North Central   4803.000 4611.083   0.700000 71.76667  5.275000
West   2915.308 4702.615   1.023077 71.23462  7.215385 

> aggregate(mydata, by=cell, sum)
Error in aggregate.data.frame(mydata, by = cell, sum) : 
        `by' must be a list
> aggregate(mydata, by=as.list(cell), sum)
Error in FUN(X[[1]], ...) : arguments must have same length
> aggregate(as.list(mydata), by=as.list(cell), sum)
Error in FUN(X[[1]], ...) : arguments must have same length
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rewing at incyte.com  Fri May 17 19:33:07 2002
From: rewing at incyte.com (Robert Ewing)
Date: Fri, 17 May 2002 10:33:07 -0700
Subject: [R] RMySQL/methods problem
Message-ID: <3CE53ED2.3D80608E@incyte.com>

I have a problem when using the RMySQL package and the methods package
together (R version 1.5.0)

I do :
library(RMySQL);
m<-dbManager('MySQL')
con<-dbConnect(m);
quickSQL(con, ' select blah blah..');

This works fine . However when I then do:
library(methods);

and then repeat my sql :
quickSQL(con, ' select blah blah..');

I get the following error:

Error in getClass(Class) : "MySQLResultSet" is not a defined class.

Is this a bug or am I doing something wrong.
Many thanks
Rob.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richard_raubertas at merck.com  Fri May 17 20:02:35 2002
From: richard_raubertas at merck.com (Raubertas, Richard)
Date: Fri, 17 May 2002 14:02:35 -0400
Subject: [R] What is the most efficient way to assign to PARTS of
 obje	cts in other frames/environments?
Message-ID: <2441CCF5E5A4F2409B280091905FA67E4F1B31@usrymx03.merck.com>

For nested function calls it appears that a combination of environment()
and '<<-' will also work:

f1 <- function() {
  x <- rep(NA,4)                   # Object to be modified by function f2
  environment(f2) <- sys.frame(1)  # Make f1's environment available to f2
  f2(2)                            # Changes 2nd element of x
  print(x)
}

f2 <- function(i) {
  # Following works because "<<-" searches through all available
  # environments for the LHS symbol, and does assignment where the
  # symbol is found.  "x" is in the environment of f1, which was 
  # made available to f2 above.
  x[i] <<- i^2
  NULL
}

f1()  # prints NA 4 NA NA

Of course this requires that f1 anticipate that f2 will want to 
modify its objects; i.e., f1 and f2 must be written as a pair, to 
know about each other.

Richard Raubertas
Biometrics Research
Merck & Co.

> -----Original Message-----
> From: Thomas Lumley [mailto:tlumley at u.washington.edu]
> Sent: Friday, May 17, 2002 11:44 AM
> To: oehl_list at gmx.de
> Cc: r-help at stat.math.ethz.ch; Martin.Schlather at uni-bayreuth.de
> Subject: Re: [R] What is the most efficient way to assign to PARTS of
> objects in other frames/environments?
> 
> 
> On Fri, 17 May 2002 oehl_list at gmx.de wrote:
> 
> > Can please someone familiar with the R internals explain on 
> the following:
> >
> > PR#1434 from r-bugs clarifies that
> >
> >   assign("a[1]", x, SomeOtherFrame)
> >
> > or
> >
> >   assign("a$a", x, SomeOtherFrame)
> >
> > will NOT assign to an object 'a' in the other frame BUT 
> create a new object
> > called 'a[1]' resp. 'a$a'.
> >
> > This leads to the following question: what is the most 
> efficient way to
> > assign to PARTS of objects in other frames/environments?
> >
> > Any way I know appears to have some problems associated:
> >
> > # doing it locally involves several calls and probably 
> copies the whole
> > object
> > local.copy <- get("a", SomeOtherFrame)
> > local.copy$a <- x
> > assign("a", local.copy, SomeOtherFrame)
> >
> > # using eval fails because x might be unknown in the other frame
> > > t1 <- function(){
> > +   # x is locally defined
> > +   x <- 9
> > +   eval(parse(text="a$a <- x"), envir=globalenv())
> > + }
> > > t1()
> > Error in eval(expr, envir, enclos) : Object "x" not found
> >
> 
> Instead of
> 
>   assign("a$a",x,envir=SomeOtherFrame)
> you can do
>   eval(substitute(a$a<-localx,localx=x),envir=SomeOtherFrame)
> 
> 
> 	-thomas
> 
> Thomas Lumley			Asst. Professor, Biostatistics
> tlumley at u.washington.edu	University of Washington, Seattle
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HStevens at muohio.edu  Fri May 17 20:30:14 2002
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Fri, 17 May 2002 14:30:14 -0400
Subject: `must read' list [R] Fisher (was Blue Book)
In-Reply-To: <Pine.LNX.4.31.0205171701180.18391-100000@gannet.stats>
References: <1021654975.21540.45.camel@gandalf>
Message-ID: <5.1.0.14.2.20020517142851.0503db20@po.muohio.edu>

Dear Sir:
It started here, and what is one to do? Thank you for your comments.
Dr. MHH Stevens
At 12:16 PM 5/17/2002, ripley at stats.ox.ac.uk wrote:
>Is this the right place for this?  Has it been done elsewhere?
>
>For me (and I'm not admitting to being `senior', which is often a
>euphemism for `old') it depends on what `statistics' means.  When I was
>first a Lecturer, David Cox's interests were given as `Statistics and
>Applied Probability except *', and I've long forgotten * but believe it
>changed from year to year.  No one starting now can aspire to that breadth
>of coverage.
>
>So to take one example,
>
>    DR Cox (1958) Planning of Experiments
>
>is a `must read' for people planning experiments.  But many statisticians
>never will.
>
>Also, the value of many classic books has been dimmed by the computational
>changes in genuinely modern statistics.  I am thinking of regression books
>like Daniel & Wood and Draper & Smith,  Anderson's 1958 Multivariate
>Analysis, Box & Jenkins on Time Series, Tukey on EDA.
>
>I've looked along my 15m(etres) of books without seeing one that I would
>recommend as a `must read' to _everyone_ reading R-help.  And yes,
>Fisher's main books are there (and I have read them more than once).
>
>
>On 17 May 2002, Ernesto Jardim wrote:
>
> > I support this idea of a "must read" list. It will be very usefull, for
> > me at least.
> >
> > Regards
> >
> > EJ
> >
> > On Fri, 2002-05-17 at 15:55, Ravi Varadhan wrote:
> > > Dear Group:
> > >
> > > Along similar lines of this question, I'd like to ask senior 
> statisticians
> > > in the group to recommend their list of "must read" classics in 
> statistics.
>
>
>--
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>

Martin Henry H. Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.muohio.edu/~botcwis/bot/henry.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Fri May 17 20:36:56 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 17 May 2002 11:36:56 -0700
Subject: `must read' list [R] Fisher (was Blue Book)
In-Reply-To: <5.1.0.14.2.20020517142851.0503db20@po.muohio.edu>
References: <1021654975.21540.45.camel@gandalf>
	<5.1.0.14.2.20020517142851.0503db20@po.muohio.edu>
Message-ID: <874rh6hb93.fsf@jeeves.blindglobe.net>

>>>>> "martin" == Martin Henry H Stevens <HStevens at muohio.edu> writes:

    martin> Dear Sir:
    martin> It started here, and what is one to do? Thank you for your comments.

Move it to a more applicable list?

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my friday location is usually completely unpredictable.)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri May 17 20:37:05 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 May 2002 20:37:05 +0200
Subject: [R] What is the most efficient way to assign to PARTS of objects in other frames/environments?
In-Reply-To: <Pine.A41.4.44.0205170840060.84120-100000@homer41.u.washington.edu>
References: <Pine.A41.4.44.0205170840060.84120-100000@homer41.u.washington.edu>
Message-ID: <x2k7q2mxil.fsf@blueberry.kubism.ku.dk>

Thomas Lumley <tlumley at u.washington.edu> writes:

> Instead of
> 
>   assign("a$a",x,envir=SomeOtherFrame)
> you can do
>   eval(substitute(a$a<-localx,localx=x),envir=SomeOtherFrame)

Or, elaborating on the same idea

hack <- function(e, v, envir) {
        v
        eval(substitute(e <- v), envir)
}

hack(a$a, x, SomeOtherFrame)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dj at research.bell-labs.com  Fri May 17 21:04:59 2002
From: dj at research.bell-labs.com (David James)
Date: Fri, 17 May 2002 15:04:59 -0400
Subject: [R] RMySQL/methods problem
In-Reply-To: <3CE53ED2.3D80608E@incyte.com>; from rewing@incyte.com on Fri, May 17, 2002 at 10:33:07AM -0700
References: <3CE53ED2.3D80608E@incyte.com>
Message-ID: <20020517150459.F15030@jessie.research.bell-labs.com>

Robert Ewing wrote:
> I have a problem when using the RMySQL package and the methods package
> together (R version 1.5.0)

Yes, that's an incompatibility bug.  I'll be updating RMySQL soon.

> 
> I do :
> library(RMySQL);
> m<-dbManager('MySQL')
> con<-dbConnect(m);
> quickSQL(con, ' select blah blah..');
> 
> This works fine . However when I then do:
> library(methods);
> 
> and then repeat my sql :
> quickSQL(con, ' select blah blah..');
> 
> I get the following error:
> 
> Error in getClass(Class) : "MySQLResultSet" is not a defined class.
> 
> Is this a bug or am I doing something wrong.
> Many thanks
> Rob.
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richards at upci.pitt.edu  Fri May 17 21:23:07 2002
From: richards at upci.pitt.edu (Richards, Tom)
Date: Fri, 17 May 2002 15:23:07 -0400
Subject: [R] options()$warn==2 and try()
Message-ID: <5B9B19C8A522D411A8EC00A0C99D6A9A8D296C@mail.nsabp.pitt.edu>

Dear R-help folks:

Here is my platform:

> version

platform sparc-sun-solaris2.7
arch     sparc               
os       solaris2.7          
system   sparc, solaris2.7   
status                       
major    1                   
minor    5.0                 
year     2002                
month    04                  
day      29                  
language R                   

	I have a function called FitModels(), which simply takes in the
names of a data.frame and two variable names within that data.frame, and
fits and returns a list of objects from 2 coxph() fits, one main effects and
one interaction model.  Sometimes the two variables are such that there is a
warning message: convergence has not been reached, or the X matrix is
singular, or some such.  When a warning occurs, then, I would like to play
it safe and have FitModels() return a list at least one of whose elements
L[[i]] inherits(L[[i]],"try-error"); so, I guess, I want to set
options(warn=2), so that, "all warnings are turned into errors," as the help
says.  Then, I hope, try() will return "try-error"'s.  So I start an R
session, which has warn=0 and show.error.messages=TRUE by default, and here
is what happens (question after R session):

#################################  Start R session:

> library(survival)
>  ##  Here are 2 calls with different pairs of variables, both of which
yield warnings:
> qq <-
FitModels(vnames=c("acd11apcd3p","drpcd8p"),dframe="ALLmth12",survname="fail
tm12", censname="failcens")
Warning message: 
Loglik converged before variable  2 ; beta may be infinite.  in: fitter(X,
Y, strats, offset, init, control, weights = weights,  
> ##  warnings are just warnings when options()$warn=0:
> lapply(qq,class)
$cph.x1x2
[1] "coxph"

$cph.x1x2.int
[1] "coxph"
> qq <-
FitModels(vnames=c("cd3ncd56p","adrpcd8p"),dframe="ALLmth12",survname="failt
m12", censname="failcens")
Warning message: 
Loglik converged before variable  1 ; beta may be infinite.  in: fitter(X,
Y, strats, offset, init, control, weights = weights,  
> lapply(qq,class)
$cph.x1x2
[1] "coxph"

$cph.x1x2.int
[1] "coxph"
> ##  Now attempt to turn all warnings into errors:
> options(warn=2)
> ##  same model fitting done:
> qq <-
FitModels(vnames=c("acd11apcd3p","drpcd8p"),dframe="ALLmth12",survname="fail
tm12", censname="failcens")
Error in fitter(X, Y, strats, offset, init, control, weights = weights,  : 
        (converted from warning) Loglik converged before variable  2 ; beta
may be infinite. 
> ##  The interaction model had a warning, which now yields a try-error
(what I wanted!!!):
> lapply(qq,class)
$cph.x1x2
[1] "coxph"

$cph.x1x2.int
[1] "try-error"
>  ##  Here is the same second model:
> qq <-
FitModels(vnames=c("cd3ncd56p","adrpcd8p"),dframe="ALLmth12",survname="failt
m12", censname="failcens")
> ##  But now the warning has vanished and no try-error is produced.  Why
not???:
> lapply(qq,class)
$cph.x1x2
[1] "coxph"

$cph.x1x2.int
[1] "coxph"
> ##  Check the options:
> options()$warn
[1] 2
> options()$show.err
[1] TRUE

#################################  End R session:

Shouldn't the second call to FitModels() also yield a try-error for one of
the models?  If I do the calls in the reverse order, the same thing happens:
the first call always yields a try-error, the second does not.  What am I
missing about the behavior of the warn option?  Is there a way to do what I
want, given that I really want to do this for lots of pairs of variables and
easily flag the ones with such fitting problems?  Thanks in advance.

	Tom Richards

P.S., And here is the simple function FitModels(), if you care to see it.
It was extracted from a much larger function that computes several other
covariates from x1 and x2:

FitModels <- function(vnames,dframe,survname,censname,censval="Progressed"){
 		##  Get covariate x1 from data frame:
 	x1x1 <- eval(parse(text=paste(dframe,vnames[1],sep="$")))
 		##  Get covariate x2 from data frame:
 	x2x2 <- eval(parse(text=paste(dframe,vnames[2],sep="$")))
 		##  Get survival time:
 	response <- eval(parse(text=paste(dframe,survname,sep="$")))
 		##  Get censoring variable:
 	censred <- eval(parse(text=paste(dframe,censname,sep="$")))
 	censred <- as.numeric(censred == censval)
 		##  Take out observations with missing x1 or x2.
 	SUBSET.to.use <- (!is.na(x1x1))&(!is.na(x2x2))
 		##  Take only x1/x2 values specified in SUBSET.to.use:
 	x1 <- x1x1[(SUBSET.to.use)]
 	x2 <- x2x2[(SUBSET.to.use)]
 		##  Properly subset the binary response variable:
 	response <- response[(SUBSET.to.use)]
 	censred <- censred[(SUBSET.to.use)]
 		##  Make new data frame to use for modelling:
 	DD <- data.frame(srvtime=response,censored=censred,x1=x1,x2=x2)
 
#######################################################################
 		##  Fit MAIN EFFECTS model with both covariates x1 and x2:
 	cph.x1x2 <- try(coxph(Surv(srvtime,censored) ~ x1+x2,
 		data=DD,na.action=na.exclude,x=TRUE))
 		##  Fit MAIN EFFECTS + INTERACTION LR model with covariates
x1 and x2:
 	cph.x1x2.int <- try(coxph(Surv(srvtime,censored) ~ x1+x2+x1:x2,
 		data=DD,na.action=na.exclude,x=TRUE))
 		##  Return models fitted to these data:
 	retval <- list(	
 		cph.x1x2	=	cph.x1x2,
 		cph.x1x2.int	=	cph.x1x2.int)
 	invisible(retval)
}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yamahausa at yamaha.com  Fri May 17 22:26:20 2002
From: yamahausa at yamaha.com (YamahaUSA)
Date: Fri, 17 May 2002 13:26:20 -0700
Subject: [R] Re: MARGINHEIGHT
Message-ID: <sce50514.047@yamaha.com>


Disklavier CD ROM offer

Thank you for your interest in the  Yamaha Disklavier. We are mailing the Disklavier CD-ROM (USA postal mailing address only). You may expect to receive your CD within 7 to 10 working days.

You may want to give Yamaha Disklavier piano experts an opportunity to answer your technical or product questions "toll free" by calling:   1-800-776-9262 (Monday - Friday 9 AM to  5PM Pacific Standard Time).  USA only

Cordially,

>>> "R-help at stat.math.ethz.ch" 05/17/02 13:25 >>>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Sat May 18 00:25:52 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Fri, 17 May 2002 18:25:52 -0400
Subject: `must read' list [R] Fisher (was Blue Book)
References: <Pine.LNX.4.31.0205171701180.18391-100000@gannet.stats>
Message-ID: <3CE5836F.14D83805@umsanet.edu.bo>



ripley at stats.ox.ac.uk wrote:
> 
.
.
.


> Also, the value of many classic books has been dimmed by the computational
> changes in genuinely modern statistics.  I am thinking of regression books
> like Daniel & Wood and Draper & Smith,  Anderson's 1958 Multivariate
> Analysis, Box & Jenkins on Time Series, Tukey on EDA.

So what are better books for this times? I am thinking especially about
regression and time series. 

Now I use Sen&Srivastava (Springer, 1990) for a regression course, 
but can see that some things in it are dated

Kjetil Halvorsen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ricardo at icmc.sc.usp.br  Sat May 18 04:58:43 2002
From: ricardo at icmc.sc.usp.br (Ricardo =?iso-8859-1?Q?Gon=E7alves?= Da-Silva)
Date: Fri, 17 May 2002 23:58:43 -0300
Subject: [R] BUG?
Message-ID: <5.1.0.14.0.20020517235003.00a7a178@mail.icmc.sc.usp.br>

Dear Users,

I downloaded the new R and before I update the packages from Cran I receive 
the following message?:
Delete downloaded files (y/N)? y

updating HTML package descriptions
Warning message:
error -1 in extracting from zip file

What's wrong?

Thanks
Rick

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From abunn at montana.edu  Sat May 18 06:24:28 2002
From: abunn at montana.edu (Andy Bunn)
Date: Fri, 17 May 2002 22:24:28 -0600
Subject: [R] checkerboard plot?
Message-ID: <NEBBIPHDAMMOKDKPOFFIKENFCFAA.abunn@montana.edu>

Hi,

I've been doing a lot of CA modeling lately and am now wanting to make some
checkerboard plots in R.

Let's say I have a matrix:

> is.matrix(junk)
[1] TRUE
> junk
     [,1] [,2] [,3] [,4] [,5]
[1,]    0    0    1    0    0
[2,]    0    1    1    1    0
[3,]    0    1    0    0    1
[4,]    0    1    1    1    1
[5,]    0    1    0    0    0
>

and I want to make a checkerboard with 0 being white and 1 being black.

Any thoughts on how I wuld do this?

Thanks in advance,
Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Sat May 18 07:22:43 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Sat, 18 May 2002 15:22:43 +1000
Subject: [R] checkerboard plot?
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A90C19C2@Roper-CV.qld.cmis.csiro.au>

Not sure what a chequerboard plot is, but here is perhaps a start for what
you want:

> image(t(junk), axes = F)
> pu <- par("usr")
> abline(v = seq(pu[1], pu[2], len=6), h = seq(pu[3], pu[4], len=6))

It would be easy to make this into a general function (as you will find, no
doubt)!

Bill Venables


-----Original Message-----
From: Andy Bunn [mailto:abunn at montana.edu]
Sent: Saturday, May 18, 2002 2:24 PM
To: r-help at stat.math.ethz.ch
Subject: [R] checkerboard plot?


Hi,

I've been doing a lot of CA modeling lately and am now wanting to make some
checkerboard plots in R.

Let's say I have a matrix:

> is.matrix(junk)
[1] TRUE
> junk
     [,1] [,2] [,3] [,4] [,5]
[1,]    0    0    1    0    0
[2,]    0    1    1    1    0
[3,]    0    1    0    0    1
[4,]    0    1    1    1    1
[5,]    0    1    0    0    0
>

and I want to make a checkerboard with 0 being white and 1 being black.

Any thoughts on how I wuld do this?

Thanks in advance,
Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Sat May 18 07:35:57 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Fri, 17 May 2002 22:35:57 -0700 (PDT)
Subject: [R] checkerboard plot?
In-Reply-To: <NEBBIPHDAMMOKDKPOFFIKENFCFAA.abunn@montana.edu>
Message-ID: <20020518053557.19014.qmail@web13904.mail.yahoo.com>



image(junk) should work. See ?image for how to change colors etc.

--- Andy Bunn <abunn at montana.edu> wrote:
> Hi,
> 
> I've been doing a lot of CA modeling lately and am now wanting to make some
> checkerboard plots in R.
> 
> Let's say I have a matrix:
> 
> > is.matrix(junk)
> [1] TRUE
> > junk
>      [,1] [,2] [,3] [,4] [,5]
> [1,]    0    0    1    0    0
> [2,]    0    1    1    1    0
> [3,]    0    1    0    0    1
> [4,]    0    1    1    1    1
> [5,]    0    1    0    0    0
> >
> 
> and I want to make a checkerboard with 0 being white and 1 being black.
> 
> Any thoughts on how I wuld do this?
> 
> Thanks in advance,
> Andy
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


__________________________________________________

LAUNCH - Your Yahoo! Music Experience

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Sat May 18 08:07:17 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Sat, 18 May 2002 16:07:17 +1000
Subject: [R] Fish and 'must read' statistics books.  My last word, promise!
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A90C19C3@Roper-CV.qld.cmis.csiro.au>

I seem to have unwittingly stirred up a hornets' nest here, so let me have
one more say and leave it.

Firstly, congratulations to Renaud Launcelot, who seems to have a better
feel for wryness and irony in English than some of my native speaker
colleagues.  Of course R A Fisher is a seminal writer, indeed close to the
founder of modern statistics and every aspiring statistician should read
what he had to say _very_ carefully, but don't expect an easy ride.  He had
a deceptively simple style, but very polemical and rather authoritative in a
way that often wrankles with modern readers.  At first reading you may think
you have grasped the meaning but, (if you are anything like me), at the next
reading you will start to realise that the message is deeper, more subtle
and more intriguing than you thought possible.  And the same the next time,
and the next.  Reading Fisher just once is probably not a good idea, in
fact.  0 times is not a disaster, but 4 or 5 times is probably getting close
to maximum utility.  I could hardly imagine a writer with ideas more
inimical to those of Fisher than Jimmie Savage and yet his last
(posthumously published) paper was entitled 'On re-reading R A Fisher'
(note: RE-reading) and it was very complimentary to his old adversary.  Even
for Jimmy the penny dropped, somewhat, in the end.  [OK, there is still a
bit of overstatement and irony in there, but you are on your own from here
on in.]

As far as 'must read' books for Statistics goes for me there are none, but
my all-time favourite statistical author is definitely Sir David Cox.  His
writing is clear and lucid, his ideas are usually immensely powerful,
perceptive and often more general than the context strictly requires.  I'm
not suggesting that everything is perfect or even easy, but even when things
are a bit disorganised and some jagged edges are showing (for example in the
1971 book with Hinkley) you can learn something from the way things appear
to be still developing as you go along.

Bill Venables, 
CMIS, CSIRO Marine Laboratories, 
PO Box 120, Cleveland, Qld. 4163
AUSTRALIA
Phone:  +61 7 3826 7251  
Fax:    +61 7 3826 7304
Mobile: +61 419 634 642
<mailto: Bill.Venables at csiro.au>
http://www.cmis.csiro.au/bill.venables/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Sat May 18 08:57:54 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Sat, 18 May 2002 08:57:54 +0200
Subject: [R] checkerboard plot?
In-Reply-To: <NEBBIPHDAMMOKDKPOFFIKENFCFAA.abunn@montana.edu>
References: <NEBBIPHDAMMOKDKPOFFIKENFCFAA.abunn@montana.edu>
Message-ID: <20020518065754.GA10606090@genome.cbs.dtu.dk>


Would the following do it ?

m <- matrix(0:1, 5,5)
image(m, col=c("white", "black"))


Hopin' it helps,



L.




On Fri, May 17, 2002 at 10:24:28PM -0600, Andy Bunn wrote:
> Hi,
> 
> I've been doing a lot of CA modeling lately and am now wanting to make some
> checkerboard plots in R.
> 
> Let's say I have a matrix:
> 
> > is.matrix(junk)
> [1] TRUE
> > junk
>      [,1] [,2] [,3] [,4] [,5]
> [1,]    0    0    1    0    0
> [2,]    0    1    1    1    0
> [3,]    0    1    0    0    1
> [4,]    0    1    1    1    1
> [5,]    0    1    0    0    0
> >
> 
> and I want to make a checkerboard with 0 being white and 1 being black.
> 
> Any thoughts on how I wuld do this?
> 
> Thanks in advance,
> Andy
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat May 18 09:00:14 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 18 May 2002 09:00:14 +0200
Subject: [R] BUG?
References: <5.1.0.14.0.20020517235003.00a7a178@mail.icmc.sc.usp.br>
Message-ID: <3CE5FBFE.67CE7439@statistik.uni-dortmund.de>

Ricardo Gon?alves Da-Silva wrote:
> 
> Dear Users,
> 
> I downloaded the new R and before I update the packages from Cran I receive
> the following message?:
> Delete downloaded files (y/N)? y
> 
> updating HTML package descriptions
> Warning message:
> error -1 in extracting from zip file
> 
> What's wrong?

I guess a zipped file was corrupted. But there could be a number of
different problems ...

The error message is defined in dounzip.c and in your caase used in R by
zip.unpack() which is used by install.packages() which itself is used by
update.packages().

I'd suggest:
- Download the package again
- try do.unzip(packagename, librarypath) again

Now it would be useful to know some details on your OS (and version of
R, of course), because one could know whether your system supports
unzip. In that case you could set it in options(), if the R internal
unzip doesn't work.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hovmandp at msu.edu  Sat May 18 09:04:16 2002
From: hovmandp at msu.edu (Peter Hovmand)
Date: Sat, 18 May 2002 03:04:16 -0400
Subject: [R] Graphics question
Message-ID: <REGULUSODNFYHpZP5ui00003edf@smtp.acd.net>

I'm learning R and having some trouble clearing a screen. I'm 
using Version 1.5.0 and have encountered the same problem under Linux (RH7.2) 
and Windows (2K). For example:

> split.screen(c(2,2))
> plot(1:10)
> screen(2)
> plot(10:1)
> erase.screen(1)
> screen(1)
> plot(10:1)

What should I be expecting to happen? At the moment, it overlays the plots on 
screen 1. I've run through the example in the documentation under screen and 
it also seems to overlay plots. I've also tried setting new=TRUE when setting 
the screen, but that hasn't helped. What I would like to do (and was 
expecting) was that a new plot would clear that particular screen (e.g. 
screen 1 in the example above) instead of overlaying it.  

Most of the other things that I've tried have worked nicely. Any help would 
be appreciated. Perhaps there is a better text/reference for this specific 
question?

Sincerely,

Peter  



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat May 18 09:09:51 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 18 May 2002 08:09:51 +0100 (BST)
Subject: use of split.screen (was [R] Graphics question)
In-Reply-To: <REGULUSODNFYHpZP5ui00003edf@smtp.acd.net>
Message-ID: <Pine.GSO.4.44.0205180805320.1400-100000@auk.stats>

On Sat, 18 May 2002, Peter Hovmand wrote:

> I'm learning R and having some trouble clearing a screen. I'm
> using Version 1.5.0 and have encountered the same problem under Linux (RH7.2)
> and Windows (2K). For example:
>
> > split.screen(c(2,2))
> > plot(1:10)
> > screen(2)
> > plot(10:1)
> > erase.screen(1)
> > screen(1)
> > plot(10:1)
>
> What should I be expecting to happen? At the moment, it overlays the plots on
> screen 1. I've run through the example in the documentation under screen and
> it also seems to overlay plots. I've also tried setting new=TRUE when setting
> the screen, but that hasn't helped. What I would like to do (and was
> expecting) was that a new plot would clear that particular screen (e.g.
> screen 1 in the example above) instead of overlaying it.
>
> Most of the other things that I've tried have worked nicely. Any help would
> be appreciated. Perhaps there is a better text/reference for this specific
> question?

You haven't told us the device, but my bet is that you are using a screen
device with a transparent background, where `erase' does nothing.
R cannot really erase, only over-paint in the background colour.

Try par(bg="white") first.

I'll add a note on the help page.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat May 18 09:19:48 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 18 May 2002 09:19:48 +0200
Subject: [R] Spectral Analysis
References: <Pine.LNX.4.33.0205171231190.6570-100000@leptocephala.lei.furg.br>
Message-ID: <3CE60094.76BDED5D@statistik.uni-dortmund.de>

marcelo at leptocephala.lei.furg.br wrote:
> 
> Dear R users
> 
> Is there a function in R to make a peridogram for
> a spectral analysis of unevenlly sampled data??
> something like  spec.lomb() for S-Plus??

Neither of the S-Plus versions I have access to (4.5, 6.0) have got such
a function, or am I just missing it?
Do you want to generate a periodogram from the data printed below? Well,
if you think it will make sense ...


> How to plot a vector with unequally spaced time series??
> e.g
> day/month/year  V1
> 03/08/82        0.34
> 28/08/82        1.42
> 12/09/82        0.28
> 20/09/82        0.56
> 03/10/82        0.85
> 21/10/82        1.45

The appropriate plot functions can handle dates in time series very
well. 
At first take a look at packages like "date" and "chron".

Example:

 library(chron)
 DAT <- read.table(filename)
 DAT[[1]] <- as.chron(as.character(DAT[[1]]), format="d/m/y")
 plot(DAT[[1]], DAT[[2]])

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ricardo at icmc.sc.usp.br  Sat May 18 16:13:15 2002
From: ricardo at icmc.sc.usp.br (Ricardo =?iso-8859-1?Q?Gon=E7alves?= Da-Silva)
Date: Sat, 18 May 2002 11:13:15 -0300
Subject: [R] BUG?
In-Reply-To: <3CE5FBFE.67CE7439@statistik.uni-dortmund.de>
References: <5.1.0.14.0.20020517235003.00a7a178@mail.icmc.sc.usp.br>
Message-ID: <5.1.0.14.0.20020518110748.00ae3740@mail.icmc.sc.usp.br>


Dear All I wrote:

> > I downloaded the new R and before I update the packages from Cran I receive
> > the following message?:
> > Delete downloaded files (y/N)? y
> >
> > updating HTML package descriptions
> > Warning message:
> > error -1 in extracting from zip file
> >
> > What's wrong?

Like Uwe rightly pointed out I didn't tell that I using R 1.5 for Window.

Rick

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jh-schulte at gmx.de  Sat May 18 23:25:27 2002
From: jh-schulte at gmx.de (Johannes Schulte)
Date: Sat, 18 May 2002 23:25:27 +0200
Subject: [R] 3D graphics with R
Message-ID: <EOENKKJBOKOADFGNBBHCCECFCAAA.jh-schulte@gmx.de>

Is there any graphical frontend/secondary programm (freely availible for
Windowsor Linux) which can be used with R to display the results of a
principle component analysis in 3D space (rotatable!?)? It works with
Spotfire, but is there any freely or cheaply availible programm?


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Sun May 19 00:16:06 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Sun, 19 May 2002 10:16:06 +1200 (NZST)
Subject: [R] Length of a string
Message-ID: <Pine.SOL.4.21.0205191014380.14452-100000@stat1.stat.auckland.ac.nz>

Hi,

Suppose I have created something like this in R:
  foo <- "myfoo"
and I want to find out the number of character in foo (in other words, R
should return 5 since "myfoo" has 5 charactors.

How can I do it?  I tried:
  length(foo)
but it returned 1.

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

Homepage: http://www.stat.auckland.ac.nz/~kwan022

E-mail: kwan022 at stat.auckland.ac.nz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From o.christensen at lancaster.ac.uk  Sun May 19 00:35:35 2002
From: o.christensen at lancaster.ac.uk (Ole Christensen)
Date: Sat, 18 May 2002 23:35:35 +0100
Subject: [R] Length of a string
References: <Pine.SOL.4.21.0205191014380.14452-100000@stat1.stat.auckland.ac.nz>
Message-ID: <3CE6D737.48F3A6F7@lancs.ac.uk>

foo <- "myfoo"
nchar(foo)
[1] 5

Ole


Ko-Kang Kevin Wang wrote:
> 
> Hi,
> 
> Suppose I have created something like this in R:
>   foo <- "myfoo"
> and I want to find out the number of character in foo (in other words, R
> should return 5 since "myfoo" has 5 charactors.
> 
> How can I do it?  I tried:
>   length(foo)
> but it returned 1.
> 
> Cheers,
> 
> Kevin
> 
> ------------------------------------------------------------------------------
> Ko-Kang Kevin Wang
> Postgraduate PGDipSci Student
> Department of Statistics
> University of Auckland
> New Zealand
> 
> Homepage: http://www.stat.auckland.ac.nz/~kwan022
> 
> E-mail: kwan022 at stat.auckland.ac.nz
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Ole F. Christensen
Department of Mathematics and Statistics
Fylde College, Lancaster University 
Lancaster, LA1 4YF, England
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Sun May 19 00:39:16 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sat, 18 May 2002 18:39:16 -0400
Subject: [R] 3D graphics with R
In-Reply-To: <EOENKKJBOKOADFGNBBHCCECFCAAA.jh-schulte@gmx.de>; from jh-schulte@gmx.de on Sat, May 18, 2002 at 11:25:27PM +0200
References: <EOENKKJBOKOADFGNBBHCCECFCAAA.jh-schulte@gmx.de>
Message-ID: <20020518183916.A8086@cattell.psych.upenn.edu>

On 05/18/02 23:25, Johannes Schulte wrote:
>Is there any graphical frontend/secondary programm (freely availible for
>Windowsor Linux) which can be used with R to display the results of a
>principle component analysis in 3D space (rotatable!?)? It works with
>Spotfire, but is there any freely or cheaply availible programm?

I don't think so.  But take a look at biplot in the mva package,
which produces VERY interesting plots in _two_ dimensions, and
the xgobi package, which produces 3D plots that can be rotated
(as I recall - I find these too mind-boggling to deal with, so I
don't use it anymore).  Perhaps you can make a "triplot"
function.

For data with more than 2 dimensions, I find "matplot" (in the
base package) to be more useful than xgobi (at least for my small
brain, which has trouble visualizing in 3D).  I haven't thought
about how to use this to display principal components, but I'm
sure there is a way (with loadings()).

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Sun May 19 00:54:42 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 18 May 2002 15:54:42 -0700
Subject: [R] 3D graphics with R
In-Reply-To: <20020518183916.A8086@cattell.psych.upenn.edu>
References: <EOENKKJBOKOADFGNBBHCCECFCAAA.jh-schulte@gmx.de>
	<20020518183916.A8086@cattell.psych.upenn.edu>
Message-ID: <87it5lt6bx.fsf@jeeves.blindglobe.net>

>>>>> "jonathan" == Jonathan Baron <baron at cattell.psych.upenn.edu> writes:

    jonathan> On 05/18/02 23:25, Johannes Schulte wrote:
    >> Is there any graphical frontend/secondary programm (freely availible for
    >> Windowsor Linux) which can be used with R to display the results of a
    >> principle component analysis in 3D space (rotatable!?)? It works with
    >> Spotfire, but is there any freely or cheaply availible programm?

    jonathan> I don't think so.  But take a look at biplot in the mva package,
    jonathan> which produces VERY interesting plots in _two_ dimensions, and
    jonathan> the xgobi package, which produces 3D plots that can be rotated
    jonathan> (as I recall - I find these too mind-boggling to deal with, so I
    jonathan> don't use it anymore).  Perhaps you can make a "triplot"
    jonathan> function.

    jonathan> For data with more than 2 dimensions, I find "matplot" (in the
    jonathan> base package) to be more useful than xgobi (at least for my small
    jonathan> brain, which has trouble visualizing in 3D).  I haven't thought
    jonathan> about how to use this to display principal components, but I'm
    jonathan> sure there is a way (with loadings()).

The ROrca package can also be used to display, brush, and manipulate
projections from higher dimensional space to 3d.  None explicitly work
with PCA, though it wouldn't be hard to code up what it would take to
make it work.  

Info on Orca is at

   http://software.biostat.washington.edu/statsoft/orca

while the ROrca link (requires SJava from Omegahat)is at 

   http://software.biostat.washington.edu/~rossini/rorca/   

It's not "finished", though the examples work for nearly all people
that I've heard from.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my friday location is usually completely unpredictable.)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Sun May 19 01:16:41 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Sun, 19 May 2002 11:16:41 +1200
Subject: [R] Length of a string
References: <Pine.SOL.4.21.0205191014380.14452-100000@stat1.stat.auckland.ac.nz> <3CE6D737.48F3A6F7@lancs.ac.uk>
Message-ID: <001c01c1fec2$129c0590$4e6d36d2@n1bliarfyrd5b7>

It worked!  Thanks a lot for the prompt reply.

However this remind me of another question.  If I entered my string like:
    foo <- "myfoo"
then, if there anyway to convert foo into a form that is:
   c("m", "y", "f", "o", "o")
directly?

Thanks again in advance,

Kevin

------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
www.stat.auckand.ac.nz/~kwan022

----- Original Message -----
From: "Ole Christensen" <o.christensen at lancaster.ac.uk>
To: "Ko-Kang Kevin Wang" <kwan022 at stat.auckland.ac.nz>
Cc: "R Help" <r-help at stat.math.ethz.ch>
Sent: Sunday, May 19, 2002 10:35 AM
Subject: Re: [R] Length of a string


> foo <- "myfoo"
> nchar(foo)
> [1] 5
>
> Ole
>
>
> Ko-Kang Kevin Wang wrote:
> >
> > Hi,
> >
> > Suppose I have created something like this in R:
> >   foo <- "myfoo"
> > and I want to find out the number of character in foo (in other words, R
> > should return 5 since "myfoo" has 5 charactors.
> >
> > How can I do it?  I tried:
> >   length(foo)
> > but it returned 1.
> >
> > Cheers,
> >
> > Kevin
> >
>
> --------------------------------------------------------------------------
----
> > Ko-Kang Kevin Wang
> > Postgraduate PGDipSci Student
> > Department of Statistics
> > University of Auckland
> > New Zealand
> >
> > Homepage: http://www.stat.auckland.ac.nz/~kwan022
> >
> > E-mail: kwan022 at stat.auckland.ac.nz
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>
> --
> Ole F. Christensen
> Department of Mathematics and Statistics
> Fylde College, Lancaster University
> Lancaster, LA1 4YF, England
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikem at salter-point.com  Sun May 19 01:28:46 2002
From: mikem at salter-point.com (Michael M. Meyer)
Date: Sat, 18 May 2002 16:28:46 -0700
Subject: [R] 3D graphics with R 
In-Reply-To: Message from "Johannes Schulte" <jh-schulte@gmx.de> 
   of "Sat, 18 May 2002 23:25:27 +0200." <EOENKKJBOKOADFGNBBHCCECFCAAA.jh-schulte@gmx.de> 
Message-ID: <200205182328.g4INSlW09381@home.salter-point.com>

I think that xgobi (or maybe ggobi) would fit the bill.
 ---Mike

> Is there any graphical frontend/secondary programm (freely availible for
> Windowsor Linux) which can be used with R to display the results of a
> principle component analysis in 3D space (rotatable!?)? It works with
> Spotfire, but is there any freely or cheaply availible programmß
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 



Mike Meyer, Salter Point Associates, Seattle WA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Richard.Rowe at jcu.edu.au  Sun May 19 02:05:39 2002
From: Richard.Rowe at jcu.edu.au (Richard Rowe)
Date: Sun, 19 May 2002 10:05:39 +1000
Subject: [R] 3D graphics with R
In-Reply-To: <20020518183916.A8086@cattell.psych.upenn.edu>
References: <EOENKKJBOKOADFGNBBHCCECFCAAA.jh-schulte@gmx.de>
 <EOENKKJBOKOADFGNBBHCCECFCAAA.jh-schulte@gmx.de>
Message-ID: <5.0.0.25.1.20020519095542.02a26eb0@pop.jcu.edu.au>

At 18:39 18/05/02 -0400, Jonathan Baron wrote:
>On 05/18/02 23:25, Johannes Schulte wrote:
> >Is there any graphical frontend/secondary programm (freely availible for
> >Windowsor Linux) which can be used with R to display the results of a
> >principle component analysis in 3D space (rotatable!?)? It works with
> >Spotfire, but is there any freely or cheaply availible programm?
>
>I don't think so.  But take a look at biplot in the mva package,
>which produces VERY interesting plots in _two_ dimensions, and
>the xgobi package, which produces 3D plots that can be rotated
>(as I recall - I find these too mind-boggling to deal with, so I
>don't use it anymore).  Perhaps you can make a "triplot"
>function.

The development stage Rgl package by Duncan Murdoch (Windows only, 
available at http://www.stats.uwo.ca/faculty/murdoch/software ) and the 
late development ggobi (http://www.ggobi.org) may be good starting points,

Richard Rowe

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MSchwartz at medanalytics.com  Sun May 19 03:11:02 2002
From: MSchwartz at medanalytics.com (Marc Schwartz)
Date: Sat, 18 May 2002 20:11:02 -0500
Subject: [R] Length of a string
In-Reply-To: <001c01c1fec2$129c0590$4e6d36d2@n1bliarfyrd5b7>
Message-ID: <005401c1fed2$0b9b29f0$0201a8c0@MARC>

Kevin,

Use strsplit(foo,"").

> foo <- "myfoo"
> newfoo <- strsplit(foo,"")
> newfoo
[[1]]
[1] "m" "y" "f" "o" "o"

For more information:

?strsplit

Marc

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch [mailto:owner-r-
> help at stat.math.ethz.ch] On Behalf Of Ko-Kang Kevin Wang
> Sent: Saturday, May 18, 2002 6:17 PM
> To: Ole Christensen
> Cc: R Help
> Subject: Re: [R] Length of a string
> 
> It worked!  Thanks a lot for the prompt reply.
> 
> However this remind me of another question.  If I entered my string
like:
>     foo <- "myfoo"
> then, if there anyway to convert foo into a form that is:
>    c("m", "y", "f", "o", "o")
> directly?
> 
> Thanks again in advance,
> 
> Kevin
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Sun May 19 03:29:11 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Sat, 18 May 2002 18:29:11 -0700 (PDT)
Subject: [R] Length of a string
In-Reply-To: <001c01c1fec2$129c0590$4e6d36d2@n1bliarfyrd5b7>
Message-ID: <Pine.GSO.4.10.10205181828400.27588-100000@quetelet.stat.ucla.edu>

Try 

foo <- "myfoo"
unlist(strsplit(foo, split = ""))

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Sun, 19 May 2002, Ko-Kang Kevin Wang wrote:

> It worked!  Thanks a lot for the prompt reply.
> 
> However this remind me of another question.  If I entered my string like:
>     foo <- "myfoo"
> then, if there anyway to convert foo into a form that is:
>    c("m", "y", "f", "o", "o")
> directly?
> 
> Thanks again in advance,
> 
> Kevin
> 
> ------------------------------------------------
> Ko-Kang Kevin Wang
> Post Graduate PGDipSci Student
> Department of Statistics
> University of Auckland
> New Zealand
> www.stat.auckand.ac.nz/~kwan022
> 
> ----- Original Message -----
> From: "Ole Christensen" <o.christensen at lancaster.ac.uk>
> To: "Ko-Kang Kevin Wang" <kwan022 at stat.auckland.ac.nz>
> Cc: "R Help" <r-help at stat.math.ethz.ch>
> Sent: Sunday, May 19, 2002 10:35 AM
> Subject: Re: [R] Length of a string
> 
> 
> > foo <- "myfoo"
> > nchar(foo)
> > [1] 5
> >
> > Ole
> >
> >
> > Ko-Kang Kevin Wang wrote:
> > >
> > > Hi,
> > >
> > > Suppose I have created something like this in R:
> > >   foo <- "myfoo"
> > > and I want to find out the number of character in foo (in other words, R
> > > should return 5 since "myfoo" has 5 charactors.
> > >
> > > How can I do it?  I tried:
> > >   length(foo)
> > > but it returned 1.
> > >
> > > Cheers,
> > >
> > > Kevin
> > >
> >
> > --------------------------------------------------------------------------
> ----
> > > Ko-Kang Kevin Wang
> > > Postgraduate PGDipSci Student
> > > Department of Statistics
> > > University of Auckland
> > > New Zealand
> > >
> > > Homepage: http://www.stat.auckland.ac.nz/~kwan022
> > >
> > > E-mail: kwan022 at stat.auckland.ac.nz
> > >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> > > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> >
> > --
> > Ole F. Christensen
> > Department of Mathematics and Statistics
> > Fylde College, Lancaster University
> > Lancaster, LA1 4YF, England
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> >
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Sun May 19 03:36:51 2002
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Sun, 19 May 2002 11:36:51 +1000 (EST)
Subject: [R] Hornet's Nests and Parallel Universes
Message-ID: <200205190136.g4J1apT05002@leonard.anu.edu.au>

Fisher is not the only person that it may be necessary
to read 4 or 5 times.  The same may be the case for
side comments that Bill Venables is wont to make.

Now to the parallel universe that I have in mind.  I wonder
whether the time is opportune for a list that focuses on
"Statistical Methodology for R Users".  The difference from
other statistical methodology lists is that it will be
assumed that list members have contact with, and an interest
in, R.  So the appearance of R code, and references to R
documentation, would be entirely in place.

One of the great things about R, and this email list, is
that it has allowed methodological specialists from a
professional statistical tradition to encounter application
area specialists from areas that have developed their own
relatively separate statistical tradition.  Here we aim,
primarily, to discuss R.  I would like to see a place where
those from the R community who wish discuss methodology,
with R a secondary focus.  We might, for example, talk about
other things than R where there could be useful co-operative
endeavour and exchange of ideas.

--------------------------------------------------------------

The best account I know of the separation of applied statistics
into separate traditions, at least with respect to education
and psychology, is in
Gigerenzer et al. 1999.  The Empire of Chance.  Cambridge
Univ Press.

There is a lot more that could be added to what Gigerenzer at al
say, but that book is a good start.  There are books waiting to
be written: 1) on the different traditions of multi-level
modeling, generalizability theory etc, that have grown up in
different application areas.
2) on the different notational conventions that have grown up
in different areas.  

In reading Fisher, modern readers have the problem that he
does not follow conventions that had not been invented (!)
when he wrote.  The diifficulty goes deeper.  It is not all
that obvious how the language, notational conventions and
intellectual framework would change if for example his "The
Design of Experiments" was to be completely rewritten for a
modern audience.  It would make quite a difference whether
that audience was made up of field biologists or
pyschologists.  Professional statisticians, who were not the
book's primary audience, are another matter again.

John Maindonald                     email : john.maindonald at anu.edu.au
Centre for Bioinformation Science,  phone : (6125)3473        
c/o SMS,                            fax   : (6125)5549 
John Dedman Mathematical Sciences Building (Building 27)
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MSchwartz at medanalytics.com  Sun May 19 03:45:17 2002
From: MSchwartz at medanalytics.com (Marc Schwartz)
Date: Sat, 18 May 2002 20:45:17 -0500
Subject: [R] Length of a string
Message-ID: <005501c1fed6$d489c660$0201a8c0@MARC>

Kevin,

Sorry, I forgot one step in my first reply.  

Strsplit results in a list, so use unlist() to reduce the list to a
vector.

So add:

> newfoo <- unlist(newfoo)

> newfoo
[1] "m" "y" "f" "o" "o"

Marc

> -----Original Message-----
> From: Marc Schwartz [mailto:MSchwartz at MedAnalytics.com]
> Sent: Saturday, May 18, 2002 8:11 PM
> To: 'Ko-Kang Kevin Wang'
> Cc: 'R Help'
> Subject: RE: [R] Length of a string
> 
> Kevin,
> 
> Use strsplit(foo,"").
> 
> > foo <- "myfoo"
> > newfoo <- strsplit(foo,"")
> > newfoo
> [[1]]
> [1] "m" "y" "f" "o" "o"
> 
> For more information:
> 
> ?strsplit
> 
> Marc
> 
> > -----Original Message-----
> > From: owner-r-help at stat.math.ethz.ch [mailto:owner-r-
> > help at stat.math.ethz.ch] On Behalf Of Ko-Kang Kevin Wang
> > Sent: Saturday, May 18, 2002 6:17 PM
> > To: Ole Christensen
> > Cc: R Help
> > Subject: Re: [R] Length of a string
> >
> > It worked!  Thanks a lot for the prompt reply.
> >
> > However this remind me of another question.  If I entered my string
> like:
> >     foo <- "myfoo"
> > then, if there anyway to convert foo into a form that is:
> >    c("m", "y", "f", "o", "o")
> > directly?
> >
> > Thanks again in advance,
> >
> > Kevin
> >

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Sun May 19 06:26:10 2002
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Sat, 18 May 2002 23:26:10 -0500
Subject: [R] Particular Cross tables
References: <5.0.2.1.0.20020624100755.01e2d008@deimos.tc.uaslp.mx>
Message-ID: <3CE72962.7000701@epm.net.co>

Dear R experts:

I have this data base (data frame) with three variables
where f1 and f2 are factors.
I want to obtain a table with the sum of the third variable
at each cross element of the two factors.

Would you help me with any function idea?

Original data base (data frame)

f1 f2 v1
1   2  10
1   1  20
1   2  30
1   3  40
2   1  50
2   2  60
1   1  70
3   1  80
3   2  90
2   2  10

I would like to obtain this matrix (sum of the crossed elements with
zeros where I don't have any crossed factor)

                    Factor 1
                   90  40 40
Factor 2      50  70  0
                   80  90  0

Is it possible to obtain any kind of function (not only sum())?
(like sd(), for example?)

Thank you very much for your help.

Kenneth

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun May 19 08:31:59 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 19 May 2002 07:31:59 +0100 (BST)
Subject: [R] Particular Cross tables
In-Reply-To: <3CE72962.7000701@epm.net.co>
Message-ID: <Pine.GSO.4.44.0205190721260.27281-100000@auk.stats>

On Sat, 18 May 2002, Kenneth Cabrera wrote:

> Dear R experts:
>
> I have this data base (data frame) with three variables
> where f1 and f2 are factors.
> I want to obtain a table with the sum of the third variable
> at each cross element of the two factors.
>
> Would you help me with any function idea?
>
> Original data base (data frame)
>
> f1 f2 v1
> 1   2  10
> 1   1  20
> 1   2  30
> 1   3  40
> 2   1  50
> 2   2  60
> 1   1  70
> 3   1  80
> 3   2  90
> 2   2  10
>
> I would like to obtain this matrix (sum of the crossed elements with
> zeros where I don't have any crossed factor)
>
>                     Factor 1
>                    90  40 40
> Factor 2      50  70  0
>                    80  90  0

> xtabs(v1~f1+f2, tab)
   f2
f1   1  2  3
  1 90 40 40
  2 50 70  0
  3 80 90  0

> attach(tab)
> (res <- tapply(v1, list(f1, f2), sum))
   1  2  3
1 90 40 40
2 50 70 NA
3 80 90 NA
> res[is.na(res)] <- 0
> res
   1  2  3
1 90 40 40
2 50 70  0
3 80 90  0

(You can add names to the dimnames by

> names(dimnames(res)) <- c("factor 1", "factor 2")
> res
        factor 2
factor 1  1  2  3
       1 90 40 40
       2 50 70  0
       3 80 90  0
)


> Is it possible to obtain any kind of function (not only sum())?
> (like sd(), for example?)

In the second form, yes, e.g.

(res <- tapply(v1, list(f1, f2), sd))

but cells with zero and one entries will both be NA, so you may want to use
the counts given by  xbats(~f1+f2, tab) to distringuish them.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bved01 at hia.net  Sun May 19 20:09:39 2002
From: bved01 at hia.net (Bill Vedder)
Date: Sun, 19 May 2002 13:09:39 -0500
Subject: [R] Hornet's Nests and Parallel Universes
References: <200205190136.g4J1apT05002@leonard.anu.edu.au>
Message-ID: <3CE7EA63.F2B5C29@hia.net>

John,  for myself and others who may be interested, can you tell us what other
"statistical methodology lists" are available?

Best,

Bill

John Maindonald wrote:

> Fisher is not the only person that it may be necessary
> to read 4 or 5 times.  The same may be the case for
> side comments that Bill Venables is wont to make.
>
> Now to the parallel universe that I have in mind.  I wonder
> whether the time is opportune for a list that focuses on
> "Statistical Methodology for R Users".  The difference from
> other statistical methodology lists is that it will be
> assumed that list members have contact with, and an interest
> in, R.  So the appearance of R code, and references to R
> documentation, would be entirely in place.
>
> One of the great things about R, and this email list, is
> that it has allowed methodological specialists from a
> professional statistical tradition to encounter application
> area specialists from areas that have developed their own
> relatively separate statistical tradition.  Here we aim,
> primarily, to discuss R.  I would like to see a place where
> those from the R community who wish discuss methodology,
> with R a secondary focus.  We might, for example, talk about
> other things than R where there could be useful co-operative
> endeavour and exchange of ideas.
>
> --------------------------------------------------------------
>
> The best account I know of the separation of applied statistics
> into separate traditions, at least with respect to education
> and psychology, is in
> Gigerenzer et al. 1999.  The Empire of Chance.  Cambridge
> Univ Press.
>
> There is a lot more that could be added to what Gigerenzer at al
> say, but that book is a good start.  There are books waiting to
> be written: 1) on the different traditions of multi-level
> modeling, generalizability theory etc, that have grown up in
> different application areas.
> 2) on the different notational conventions that have grown up
> in different areas.
>
> In reading Fisher, modern readers have the problem that he
> does not follow conventions that had not been invented (!)
> when he wrote.  The diifficulty goes deeper.  It is not all
> that obvious how the language, notational conventions and
> intellectual framework would change if for example his "The
> Design of Experiments" was to be completely rewritten for a
> modern audience.  It would make quite a difference whether
> that audience was made up of field biologists or
> pyschologists.  Professional statisticians, who were not the
> book's primary audience, are another matter again.
>
> John Maindonald                     email : john.maindonald at anu.edu.au
> Centre for Bioinformation Science,  phone : (6125)3473
> c/o SMS,                            fax   : (6125)5549
> John Dedman Mathematical Sciences Building (Building 27)
> Australian National University
> Canberra ACT 0200
> Australia
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Sun May 19 20:31:30 2002
From: s-luppescu at uchicago.edu (Stuart Luppescu)
Date: 19 May 2002 13:31:30 -0500
Subject: [R] How to shade part of a density plot
Message-ID: <1021833091.2008.26.camel@musume.snl.home>

I'm trying to shade part of a density plot. The code I'm trying (using
the Old Faithful data as an example) is something like this:

# The Old Faithful geyser data
data(faithful)
d <- density(faithful$eruptions, bw = "sj")
plot(d)
polygon(d[d$x>4], col = "wheat")

I expected that the part of the curve to the right of 4 on the x axis
should be shaded, but nothing gets shaded at all. In fact, when I just
try to print d[d$x>4] I get many lines of 
$"NA"
NULL
I must be mistaken in my understanding of density objects. Could someone
clear up my mistake? Thanks very much.
-- 
Stuart Luppescu       -=- s-luppescu at uchicago.edu
University of Chicago -=- CCSR 
$B:MJ8$HCRF`H~$NIc(B    -=- Kernel 2.4.18-xfs              
checkuary, n:  The thirteenth month of the year.  Begins New
 Year's Day and ends  when a person stops absentmindedly
 writing the old year on his checks. 
 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 240 bytes
Desc: This is a digitally signed message part
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020519/f5e01aa2/attachment.bin

From zeileis at ci.tuwien.ac.at  Sun May 19 20:47:18 2002
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Sun, 19 May 2002 20:47:18 +0200
Subject: [R] How to shade part of a density plot
References: <1021833091.2008.26.camel@musume.snl.home>
Message-ID: <3CE7F336.53FA8D9@ci.tuwien.ac.at>

Stuart Luppescu wrote:
> 
> I'm trying to shade part of a density plot. The code I'm trying (using
> the Old Faithful data as an example) is something like this:
> 
> # The Old Faithful geyser data
> data(faithful)
> d <- density(faithful$eruptions, bw = "sj")
> plot(d)
> polygon(d[d$x>4], col = "wheat")
> 
> I expected that the part of the curve to the right of 4 on the x axis
> should be shaded, but nothing gets shaded at all. In fact, when I just
> try to print d[d$x>4] I get many lines of
> $"NA"
> NULL
> I must be mistaken in my understanding of density objects. Could someone
> clear up my mistake? Thanks very much.

That's because d is essentially a list, if you do something like

R> sub.x <- d$x[d$x > 4]
R> sub.y <- d$y[d$x > 4]
R> polygon(c(min(sub.x), sub.x), c(0, sub.y), col = "wheat")

you should get the desired result.
Z

> --
> Stuart Luppescu       -=- s-luppescu at uchicago.edu
> University of Chicago -=- CCSR
> $B:MJ8$HCRF`H~$NIc(B    -=- Kernel 2.4.18-xfs
> checkuary, n:  The thirteenth month of the year.  Begins New
>  Year's Day and ends  when a person stops absentmindedly
>  writing the old year on his checks.
> 
> 
>   ------------------------------------------------------------------------
>                        Name: signature.asc
>    signature.asc       Type: application/pgp-signature
>                 Description: This is a digitally signed message part
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mprager at alum.mit.edu  Sun May 19 20:58:01 2002
From: mprager at alum.mit.edu (Mike Prager)
Date: Sun, 19 May 2002 14:58:01 -0400
Subject: [R] rterm.exe and graphics windows
Message-ID: <5.1.0.14.0.20020519145034.00a76fb8@pop-server.ec.rr.com>

I have started using R 1.5.0 on Windows 2000. The refinement of this system 
in such a short time is astounding, and I thank those who have worked on it 
and made it available!

I have been using rterm.exe to develop R scripts in my preferred editor 
(not emacs) by sending the command

rterm.exe --save < %f

where the editor substitutes the filename for %f.  This works wonderfully, 
and the editor captures the output in a process buffer!  One drawback is 
that even though rterm (unlike sqpe) can start a graphics window, it is 
closed at the end of the script, so I never get to look at the graph.  I 
have been writing the graph instead to a png file and using system() to 
open a graphics viewer from the script, but I would like to avoid that 
kludge. Can I force the graphics window to stay open until a key is struck?

Thanks!

--
Mike Prager  (mprager at alum.mit.edu)
Beaufort, North Carolina

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun May 19 21:08:08 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 19 May 2002 21:08:08 +0200
Subject: [R] How to shade part of a density plot
References: <1021833091.2008.26.camel@musume.snl.home>
Message-ID: <3CE7F818.4FF87E71@statistik.uni-dortmund.de>



Stuart Luppescu wrote:
> 
> I'm trying to shade part of a density plot. The code I'm trying (using
> the Old Faithful data as an example) is something like this:
> 
> # The Old Faithful geyser data
> data(faithful)
> d <- density(faithful$eruptions, bw = "sj")
> plot(d)
> polygon(d[d$x>4], col = "wheat")

Hmm. Have a look at
  str(d)
to see that d is a density object, which is a list of objects of
different lengths, so indexing as you did doesn't work ...

What about taking 
  index <- d$x > 4
and working with
  d$x[index] and d$y[index]
to generate the shading?

Uwe Ligges


> I expected that the part of the curve to the right of 4 on the x axis
> should be shaded, but nothing gets shaded at all. In fact, when I just
> try to print d[d$x>4] I get many lines of
> $"NA"
> NULL
> I must be mistaken in my understanding of density objects. Could someone
> clear up my mistake? Thanks very much.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun May 19 21:20:39 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 19 May 2002 20:20:39 +0100 (BST)
Subject: [R] rterm.exe and graphics windows
In-Reply-To: <5.1.0.14.0.20020519145034.00a76fb8@pop-server.ec.rr.com>
Message-ID: <Pine.LNX.4.31.0205192012050.11001-100000@gannet.stats>

On Sun, 19 May 2002, Mike Prager wrote:

> I have started using R 1.5.0 on Windows 2000. The refinement of this system
> in such a short time is astounding, and I thank those who have worked on it
> and made it available!
>
> I have been using rterm.exe to develop R scripts in my preferred editor
> (not emacs) by sending the command
>
> rterm.exe --save < %f
>
> where the editor substitutes the filename for %f.  This works wonderfully,
> and the editor captures the output in a process buffer!  One drawback is
> that even though rterm (unlike sqpe) can start a graphics window, it is
> closed at the end of the script, so I never get to look at the graph.  I
> have been writing the graph instead to a png file and using system() to
> open a graphics viewer from the script, but I would like to avoid that
> kludge. Can I force the graphics window to stay open until a key is struck?

The way you are running this, rterm has no connection to a keyboard, so
the answer is no. What you can do is wait until a quit dialog box is
clicked on.  Here's an example

windows()
plot(1:10)
winDialog("ok", "click to quit")
q()

If you can arrange to pipe input to rterm, lots of other possibilities
exist, in particular those used for ESS (which uses switch --ess).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r_stuff_online at hotmail.com  Sun May 19 21:34:41 2002
From: r_stuff_online at hotmail.com (Neil Osborne)
Date: Sun, 19 May 2002 19:34:41 +0000
Subject: [R] Dynamic resizing of lists, dataframes (newbie question)
Message-ID: <F16KpDS7hx27kBnccYT00000bc7@hotmail.com>

Hi All,

I would be very grateful for some help with finding my way around R.
(I'm sure some of this is in the manual - but I just need to try some ideas 
out and I don't want to spend hours going through reams of text - BTW, I 
have checked the manual, and the stuff I want to do here is not covered 
explicitly ...)

This is a snippet of pseudo code  showing what I want to do in R

1).
#declare a dataframe (actually a time series)
mydata <- #declare a dataframe to hold date, value pairs (i.e. two columns)

2)
#dynamically size the dataframe and add a value
mydata[length(mydata) +1 ] <- #new date value pair

3)
#find the first occurence (date) on which a value occured
foo <- function(mydata, value) {
for (i in mydata)
{
   if (mydata[i] == value )
	#return x$date[i] ?
}

_________________________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gu4 at llnl.gov  Sun May 19 23:26:13 2002
From: gu4 at llnl.gov (Pauline Gu)
Date: Sun, 19 May 2002 14:26:13 -0700
Subject: [R] newbie questions on clustering
Message-ID: <5.1.0.14.2.20020519141743.00a81020@poptop.llnl.gov>

Hello, R-experts,

I have a data set of 4071 rows with 20 columns, each row is some specific 
subject that I am interested in, and each column is a set of conditions 
that I need to do the test on the subject.  Suppose in two of my columns I 
have one condition with Ca, and another condition without Ca.  Now, I would 
like to do a plot with X-axis being the one with Ca, and Y-axis being the 
one without Ca.  Inside this graph, I would like to see a group of my 
subject for Ca dependent, and another group for Ca independent, and another 
group with no Ca effect, and another group with mutual effect.  I assume 
that I need to use some sort of clustering, or rpart, but I looked at the 
documentation, but, I do not find anything similar.  Can anyone instruct me 
on how I can achive this?  Thank you in advance for your kindness help.

Pauline

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon May 20 11:49:50 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 20 May 2002 11:49:50 +0200
Subject: [R] Dynamic resizing of lists, dataframes (newbie question)
References: <F16KpDS7hx27kBnccYT00000bc7@hotmail.com>
Message-ID: <3CE8C6BE.DB0D8518@statistik.uni-dortmund.de>

Neil Osborne wrote:
> 
> Hi All,
> 
> I would be very grateful for some help with finding my way around R.
> (I'm sure some of this is in the manual - but I just need to try some ideas
> out and I don't want to spend hours going through reams of text - BTW, I
> have checked the manual, and the stuff I want to do here is not covered
> explicitly ...)
> 
> This is a snippet of pseudo code  showing what I want to do in R
>
> 1).
> #declare a dataframe (actually a time series)
> mydata <- #declare a dataframe to hold date, value pairs (i.e. two columns)

[Some answers after the private message]

Use 
 data.frame()


> 2)
> #dynamically size the dataframe and add a value
> mydata[length(mydata) +1 ] <- #new date value pair

Almost right, try:
 mydata[length(mydata) + 1, ]
or
 cbind()
 

> 3)
> #find the first occurence (date) on which a value occured
> foo <- function(mydata, value) {
> for (i in mydata)
> {
>    if (mydata[i] == value )
>         #return x$date[i] ?
> }

 which(mydata == value)[1]

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MSchwartz at medanalytics.com  Mon May 20 15:25:44 2002
From: MSchwartz at medanalytics.com (Marc Schwartz)
Date: Mon, 20 May 2002 08:25:44 -0500
Subject: [R] Possible x-axis label bug in barplot() when "plot = F"
In-Reply-To: <3CE7F818.4FF87E71@statistik.uni-dortmund.de>
Message-ID: <008901c20001$d8e7c370$0201a8c0@MARC>

Hi all,

I have searched the R-help archives and the bug tracking system and
could not find this one. I am hoping that someone can either reproduce
this or tell me that I am missing a step that is the proximate cause.

I am running R 1.5.0 Patched (May 15, 2002 compiled version kindly
distributed by Prof. Ripley) under WinXP Pro on a P4m platform, which is
up to date with all current patches. The display device is a UXGA 1600 x
1200 LCD panel running in 32 bit mode. If additional HW information is
required, let me know.

The issue appears to be the horizontal positioning of the x-axis labels
when "plot = F" in barplot().

The following simple code segments, if reproducible, should help
demonstrate:

> plot.new()
> midpts <- barplot(1:10, axes = F, axisnames = F)
> axis(1, at = midpts)

The above code results in a barplot with no axis labels initially.  The
call to axis() then results in appropriate x-axis labels under the
midpts of the vertical bars. The x-axis labels are the midpts values.


> plot.new()
> midpts <- barplot(1:10, axes = F, axisnames = F, plot = F)
> axis(1, at = midpts)

The above code, now with "plot = F", results in a barplot with no bars
or axis labels initially.  When I call axis(), the first axis label
("0.7") is offset well to the right, such that it is the only label
displayed.

Am I missing a step that sets the x-axis scaling when "plot = F" or is
this a bug?

If more information is required, let me know.

Thanks,

Marc Schwartz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon May 20 16:10:06 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 20 May 2002 16:10:06 +0200
Subject: [R] Possible x-axis label bug in barplot() when "plot = F"
References: <008901c20001$d8e7c370$0201a8c0@MARC>
Message-ID: <3CE903BE.31566C63@statistik.uni-dortmund.de>

[forgot to CC to R-help]

Marc Schwartz wrote:
> 
> Hi all,
> 
> I have searched the R-help archives and the bug tracking system and
> could not find this one. I am hoping that someone can either reproduce
> this or tell me that I am missing a step that is the proximate cause.
> 
> I am running R 1.5.0 Patched (May 15, 2002 compiled version kindly
> distributed by Prof. Ripley) under WinXP Pro on a P4m platform, which is
> up to date with all current patches. The display device is a UXGA 1600 x
> 1200 LCD panel running in 32 bit mode. If additional HW information is
> required, let me know.
> 
> The issue appears to be the horizontal positioning of the x-axis labels
> when "plot = F" in barplot().
> 
> The following simple code segments, if reproducible, should help
> demonstrate:
> 
> > plot.new()
> > midpts <- barplot(1:10, axes = F, axisnames = F)
> > axis(1, at = midpts)
> 
> The above code results in a barplot with no axis labels initially.  The
> call to axis() then results in appropriate x-axis labels under the
> midpts of the vertical bars. The x-axis labels are the midpts values.
> 
> > plot.new()
> > midpts <- barplot(1:10, axes = F, axisnames = F, plot = F)
> > axis(1, at = midpts)
> 
> The above code, now with "plot = F", results in a barplot with no bars
> or axis labels initially.  When I call axis(), the first axis label
> ("0.7") is offset well to the right, such that it is the only label
> displayed.
> 
> Am I missing a step that sets the x-axis scaling when "plot = F" or is
> this a bug?

The help page says "plot: logical. If FALSE, nothing is plotted."
barplot() just calculates the midpoints it would use in the case of
plot=TRUE.

In your second example a device is opened by plot.new(), which has the
default user coordinates par("usr")
[1] -0.04  1.04 -0.04  1.04
and the result of your call to axis() is expected.

So plot.new() is useless in either of your examples. In the first one
barplot() generates a new plot anyway, in the second example it makes
axis() work on a way, you don't want it to work ...

The real question (at least for me) is: What are you going to do with
your code?

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MSchwartz at medanalytics.com  Mon May 20 17:27:22 2002
From: MSchwartz at medanalytics.com (Marc Schwartz)
Date: Mon, 20 May 2002 10:27:22 -0500
Subject: [R] Possible x-axis label bug in barplot() when "plot = F"
In-Reply-To: <3CE903BE.31566C63@statistik.uni-dortmund.de>
Message-ID: <009501c20012$d6f336b0$0201a8c0@MARC>

> The help page says "plot: logical. If FALSE, nothing is plotted."
> barplot() just calculates the midpoints it would use in the case of
> plot=TRUE.
> 
> In your second example a device is opened by plot.new(), which has the
> default user coordinates par("usr")
> [1] -0.04  1.04 -0.04  1.04
> and the result of your call to axis() is expected.
> 
> So plot.new() is useless in either of your examples. In the first one
> barplot() generates a new plot anyway, in the second example it makes
> axis() work on a way, you don't want it to work ...
> 
> The real question (at least for me) is: What are you going to do with
> your code?
> 
> Uwe Ligges

Uwe,

Thanks for your reply.

I am attempting to parallel (using barplot() ) an example in the
demo(graphics) code which enables the plot region to be colored
differently than the margins and allows for flexibility in defining the
axis labels, etc.

The demo code (which is for the "Level of Interest in R" line graphic)
shows that the plot region can be colored differently by setting the
background color using par(bg = "color") and then calling plot(x, type =
"n", axes = FALSE, ann = FALSE) so that nothing is actually plotted.  

I presume that this sets up the coordinate system for the graphic, such
that subsequent graphic components can then be placed within the same
relative coordinate system area. Perhaps that is not a valid presumption
on my part.

A call is then made to rect() using corner positions from par("usr"),
which allows for the plot region to be filled with a different color
than the margin.

Subsequent calls are made to plot the data points, lines, titles, etc.
so that they do not overwrite the newly colored plot region.

I was trying to parallel this using barplot() by doing the following
(ignore the color combinations for now):

> par(bg = "blue")
> midpts <- barplot(1:10, axes = F, axisnames = F)
> usr <- par("usr")
> rect(usr[1], usr[3], usr[2], usr[4], col = "white")
> abline(h = 1:10, lty = "dotted")
> rect(midpts - .4, 0, midpts + .4, 1:10, col = "yellow")
> axis(1, at = midpts, col.axis = "white")
> axis(2, 1:10, col.axis = "white", las = 1)
> title("This Is A Test\nShowing Different Plot Region Color", col.main
= "yellow")

The above code actually works fine in terms of the final result for
demonstration purposes to give you a sense of what I am trying to do.  I
was just attempting to parallel the aforementioned plot() code so as to
not actually plot the graphic, overwrite it with the first call to
rect() and then draw subsequent components individually.

Was I wrong to attempt to take the same approach?

I actually get errors on subsequent graphic calls, if I try to use
barplot(...., plot = F) first, without having first called plot.new().  

Again, perhaps I am missing something fundamental here.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plecca at kirk.science.unitn.it  Mon May 20 18:34:59 2002
From: plecca at kirk.science.unitn.it (Paola Lecca)
Date: Mon, 20 May 2002 18:34:59 +0200 (MET DST)
Subject: [R] problem with levelplot
Message-ID: <Pine.OSF.4.31.0205201830510.29467-100000@kirk.science.unitn.it>

Dear all,

I have a strange problem with levelplot of lattice library.

When I launch from R a script in which there is the command

levelplot(z~x*y, ...)

the device with plot is not visualized. Other commands for graphycs,
like plot visualize the graphycs. Why ?
What hava I to do ?

Thanks,
Paola

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From york at noaa.gov  Mon May 20 18:44:07 2002
From: york at noaa.gov (Anne York)
Date: Mon, 20 May 2002 09:44:07 -0700 (PDT)
Subject: [R] Particular Cross tables
In-Reply-To: <3CE72962.7000701@epm.net.co>
Message-ID: <Pine.GSO.4.05.10205200939560.11731-100000@ofis450a.akctr.noaa.gov>

test.sum <- tapply(test$v1,list(test$f1,test$f2),sum)

test.sum 


   1  2  3
1 90 40 40
2 50 70 NA
3 80 90 NA

to change the NA's to 0, the following works:

> test.sum[is.na(test.sum)] <- 0

> test.sum
   1  2  3
1 90 40 40
2 50 70  0
3 80 90  0


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Anne E. York
National Marine Mammal Laboratory
Seattle WA 98115-0070  USA
e-mail: anne.york at noaa.gov
Voice: +1 206-526-4039
Fax: +1 206-526-6615
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

On Sat, 18 May 2002, Kenneth Cabrera wrote:

|Dear R experts:
|
|I have this data base (data frame) with three variables
|where f1 and f2 are factors.
|I want to obtain a table with the sum of the third variable
|at each cross element of the two factors.
|
|Would you help me with any function idea?
|
|Original data base (data frame)
|
|f1 f2 v1
|1   2  10
|1   1  20
|1   2  30
|1   3  40
|2   1  50
|2   2  60
|1   1  70
|3   1  80
|3   2  90
|2   2  10
|
|I would like to obtain this matrix (sum of the crossed elements with
|zeros where I don't have any crossed factor)
|
|                    Factor 1
|                   90  40 40
|Factor 2      50  70  0
|                   80  90  0
|
|Is it possible to obtain any kind of function (not only sum())?
|(like sd(), for example?)
|
|Thank you very much for your help.
|
|Kenneth
|
|-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
|r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
|Send "info", "help", or "[un]subscribe"
|(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
|_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
|

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laws at math.utah.edu  Mon May 20 19:45:15 2002
From: laws at math.utah.edu (Sunny Laws)
Date: Mon, 20 May 2002 11:45:15 -0600 (MDT)
Subject: [R] need help in R
Message-ID: <Pine.GSO.4.21.0205201143390.25146-100000@sunfish.math.utah.edu>

I am trying to draw the following function Ln and find the value u that
maximizes Ln.

> L<-length(Y)
> sigmasquare<-function(u){   
  upowers<-rep(1,(L-1))
  for(i in 2:(L-1)){upowers[i]<-u*upowers[i-1]}
  0.1/(1-u)+0.5*sum((Y[(L-1):1])^2*upowers[1:(L-1)])
  }
> Ln<-function(u){
  absY <- abs(Y)
  for (k in 1:L) {sun <- -0.5*log(sigmasquare(u)) -
  absY/sqrt(sigmasquare(u))}
  sum(sun)}
Here, Y is a vector with the length L.

To draw the function Ln I tried the following.

> f_seq(0.0, 1.0, 0.01)
> plot(f, Ln(f), type="l", xlab=expression(u), ylab=expression(Ln(u)))
However, R gave me the following message.

Error in xy.coords(x, y, xlabel, ylabel, log) :
        x and y lengths differ

How can I draw function Ln and find the value u that
maximizes Ln numerically?
I will appreciate it very much if you can help me.
Thank you.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Mon May 20 20:55:47 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Mon, 20 May 2002 14:55:47 -0400
Subject: [R] need help in R
In-Reply-To: <Pine.GSO.4.21.0205201143390.25146-100000@sunfish.math.utah.edu>; from laws@math.utah.edu on Mon, May 20, 2002 at 11:45:15AM -0600
References: <Pine.GSO.4.21.0205201143390.25146-100000@sunfish.math.utah.edu>
Message-ID: <20020520145547.A20942@cattell.psych.upenn.edu>

On 05/20/02 11:45, Sunny Laws wrote:
>I am trying to draw the following function Ln and find the value u that
>maximizes Ln.

1. Please use a more informative title to you email messages to
   R-help.

2. Look up optim()

3. To find out why variables A and B differ in length, type

A
B

to see what is in each.

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Mon May 20 21:18:39 2002
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Mon, 20 May 2002 14:18:39 -0500
Subject: [R] Why does this work?
Message-ID: <OF4EA4F1E9.AA9644A1-ON86256BBF.00683189@mmm.com>

I waxs just checking examples in lattice levelplot and I ran into this
strange (?) behavior I do not understand.

Here is the example:

     x <- seq(pi/4, 5*pi, length = 100)
     y <- seq(pi/4, 5*pi, length = 100)
     r <- sqrt(outer(x^2, y^2, "+"))
     grid <- expand.grid(x=x, y=y)

At this point grid is a 10000*2 data frame and r is a 100*100 matrix.  Now
comes a surprising part.

     grid$z <- cos(r^2) * exp(-r/(pi^3))

This does not generate any error.  But typing

     grid

produces

      Error in data.frame(x = c(" 0.7853982", " 0.9361311", " 1.0868641", "
1.2375971",  :
             arguments imply differing number of rows: 10000, 100

Moreover

     dim(grid)
     [1] 10000     3

but

     grid[1:5, ]

produces an output with 102 columns named x, y, z.1, ..., z.100

and

     grid[101, ]

produces "subscript out of bound" error.

Finally

     levelplot(z~x*y, grid, cuts = 50, xlab="", ylab="", main="Weird
Function", colorkey = FALSE)

generates a proper contour plot.  Could somebody explain to me why this
actually works?  Thanks in advance,


Andy

PS.  This happens using precompiled R-1.5.0 (recently patched version
posted by Prof. Ripley) on a Win2000 machine.

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sjcrauhut at agere.com  Mon May 20 21:51:58 2002
From: sjcrauhut at agere.com (default)
Date: Mon, 20 May 2002 15:51:58 -0400
Subject: [R] how does one apply Western Electric / AT&T rules to R plots?
Message-ID: <3CE953DD.144B595D@agere.com>

I have searched for info on how to apply the Western Electric rules for
process control, to data and plots I have in R, but I have not been able
to learn how.
Any help would be greatly appreciated.

    Thank you,
    sjcrauhut at agere.com
    05/20/02

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markus.jantti at uta.fi  Mon May 20 22:21:41 2002
From: markus.jantti at uta.fi (Markus Jantti)
Date: Mon, 20 May 2002 23:21:41 +0300
Subject: [R] suggestion for example for base:naresid
Message-ID: <E179tf3-00056o-00@localhost>

Dear list:

since it took me a little while to figure out how to make use of naresid, I thought that 
the below R code might be useful as an example on the help page. 

Regards,

Markus

 # generate some data
x1 <- runif(20)
y <- 10 + 5*x1 + rnorm(20)
summary(lm.0 <- lm(y ~ x1))
# append some NA's to y
y <- c(y, rep(NA, 5))
# generate some further x1s
x1 <- c(x1, runif(5))
# this fills the residuals vector with NA's to the end
summary(lm.1 <- lm(y ~ x1, na.action = na.exclude))
residuals(lm.1) # is equal to
naresid(na.exclude(lm.1), lm.1$residuals)
tmp.omit <- lm.1$na.action # modify the na.action to omit
class(tmp.omit) <- "omit"
naresid(tmp.omit, lm.1$residuals)
# same as residuals(lm.0)
summary(lm.2 <- lm(y ~ x1)) 
residuals(lm.2) 
tmp.omit <- lm.2$na.action # modify the na.action to be "exclude"
class(tmp.omit) <- "exclude"
naresid(tmp.omit, lm.2$residuals)

--
Markus Jantti
markus.jantti at uta.fi ** http://www.abo.fi/~mjantti
Dept of Economics ** University of Tampere ** FIN 33014 University of Tampere
PGP public key: http://www.abo.fi/~mjantti/pubring.asc



From ripley at stats.ox.ac.uk  Mon May 20 23:22:15 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 20 May 2002 22:22:15 +0100 (BST)
Subject: [R] problem with levelplot
In-Reply-To: <Pine.OSF.4.31.0205201830510.29467-100000@kirk.science.unitn.it>
Message-ID: <Pine.LNX.4.31.0205202221140.3339-100000@gannet.stats>

On Mon, 20 May 2002, Paola Lecca wrote:

> Dear all,
>
> I have a strange problem with levelplot of lattice library.
>
> When I launch from R a script in which there is the command
>
> levelplot(z~x*y, ...)
>
> the device with plot is not visualized. Other commands for graphycs,
> like plot visualize the graphycs. Why ?
> What hava I to do ?

levelplot is a lattice command, and it may need the result to be
explicitly printed in a `script'.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May 20 23:34:26 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 20 May 2002 22:34:26 +0100 (BST)
Subject: [R] suggestion for example for base:naresid
In-Reply-To: <E179tf3-00056o-00@localhost>
Message-ID: <Pine.LNX.4.31.0205202230050.3339-100000@gannet.stats>

On Mon, 20 May 2002, Markus Jantti wrote:

> Dear list:
>
> since it took me a little while to figure out how to make use of naresid, I thought that
> the below R code might be useful as an example on the help page.

It isn't really intended for end users, as the help page effectively says.
It is part of a standard way to write methods for modelling functions, and
people doing so should copy the examples like lm and glm.

It definitely is not intended to be used like this, and any time you find
yourself changing a class do bear in mind that is rarely a good idea.

>
> Regards,
>
> Markus
>
>  # generate some data
> x1 <- runif(20)
> y <- 10 + 5*x1 + rnorm(20)
> summary(lm.0 <- lm(y ~ x1))
> # append some NA's to y
> y <- c(y, rep(NA, 5))
> # generate some further x1s
> x1 <- c(x1, runif(5))
> # this fills the residuals vector with NA's to the end
> summary(lm.1 <- lm(y ~ x1, na.action = na.exclude))
> residuals(lm.1) # is equal to
> naresid(na.exclude(lm.1), lm.1$residuals)
> tmp.omit <- lm.1$na.action # modify the na.action to omit
> class(tmp.omit) <- "omit"
> naresid(tmp.omit, lm.1$residuals)
> # same as residuals(lm.0)
> summary(lm.2 <- lm(y ~ x1))
> residuals(lm.2)
> tmp.omit <- lm.2$na.action # modify the na.action to be "exclude"
> class(tmp.omit) <- "exclude"
> naresid(tmp.omit, lm.2$residuals)
>
> --
> Markus Jantti
> markus.jantti at uta.fi ** http://www.abo.fi/~mjantti
> Dept of Economics ** University of Tampere ** FIN 33014 University of Tampere
> PGP public key: http://www.abo.fi/~mjantti/pubring.asc
>
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From B.Mao at cerep.com  Tue May 21 02:43:05 2002
From: B.Mao at cerep.com (Boryeu Mao)
Date: Mon, 20 May 2002 17:43:05 -0700
Subject: [R] Memory Usage in R
Message-ID: <0957E70F25F7D111974B00A0C9833064AF88F2@mayo.cerep.com>

To R users:

I am running an R program with .Fortran() calls, and discovered that the
memory, as reported by gc(), continues to grow with new loop iterations.  I
hadn't been able to find information on how to 'destroy' objects in earlier
loops to keep the program size from continuous growth;  calling rm() to
remove some what I thought to be large arrays didn't seem to help.  Any
help/pointers will be greatly appreciated.  TIA

Boryeu Mao  
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Simon.Gatehouse at csiro.au  Tue May 21 02:49:18 2002
From: Simon.Gatehouse at csiro.au (Gatehouse, Simon (E&M, North Ryde))
Date: Tue, 21 May 2002 10:49:18 +1000
Subject: [R] windows common dialog for color selection in R
Message-ID: <0504018E9DCAD1119FE900A0C9A39AF8050A8097@anaconda>

Dear R users,
I run R on windows 2000 and windows 98
I am seeking opinion, or better still a code snippet, on what might be the
quickest, not necessarily the best or preferred way, of making the Windows
color selection common dialog available in R. Would it be an executable
called with system() or shell() or perhaps a tcltk module or have I missed
something obvious?  I don't believe that I have the experience or time at
this stage to try a dynamic link as outlined in FAQ.
Any comments would be most welcome.

***********************************
Simon Gatehouse                                  
CSIRO Exploration and Mining,
Newbigin Close off Julius Ave
North Ryde, NSW
 
Mail:      PO Box 136, North Ryde
           NSW 1670, Australia
Phone:     61 (2) 9490 8677
Fax:       61 (2) 9490 8921
Mobile:    61  0407 130 635 
E-mail:    simon.gatehouse at csiro.au
Web Page:  http://www.csiro.au/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From B.Mao at cerep.com  Tue May 21 02:48:58 2002
From: B.Mao at cerep.com (Boryeu Mao)
Date: Mon, 20 May 2002 17:48:58 -0700
Subject: [R] Memory Usage in R -- resending with R version and systems info
Message-ID: <0957E70F25F7D111974B00A0C9833064AF88F3@mayo.cerep.com>


To R users:

I am running an R program with .Fortran() calls, and discovered that the
memory, as reported by gc(), continues to grow with new loop iterations.  I
hadn't been able to find information on how to 'destroy' objects in earlier
loops to keep the program size from continuous growth;  calling rm() to
remove some what I thought to be large arrays didn't seem to help.  Any
help/pointers will be greatly appreciated.  TIA

[This is R-1.5.0, on both RH linux (7.1) and SGI IRIX 6.5.]

Boryeu Mao  
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jeremy.Whish at csiro.au  Tue May 21 06:50:29 2002
From: Jeremy.Whish at csiro.au (Jeremy.Whish@csiro.au)
Date: Tue, 21 May 2002 14:50:29 +1000
Subject: [R] standard errors in predict.nls ()
Message-ID: <B657AD42D41D914FBE1C94FFE907B34701E424@exqld1-tw.tag.csiro.au>



Hi all 

I am using r version 1.5.0 on a windows 2000 OS 

I have been converting an old S+ script I had that uses the nls function, to
r. In S+ I could obtain the standard errors using predict(...,se = T)   In
my documentation for R it says for predict.nls(), "At present `se.fit' and
`interval' are ignored." my questions are 

1. is this still the case  or am I just out of date 
2. is anybody working on these routines, if not could someone advise me on
how to go about writing them.
3. is there an alternative workaround to use in the short term.


any help or advise would be really appreciated
 
Jeremy
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From celine.rondey at educagri.fr  Tue May 21 09:06:17 2002
From: celine.rondey at educagri.fr (CELINE RONDEY)
Date: Tue, 21 May 2002 09:06:17 +0200
Subject: [R] still have problem with ascending progressive method
Message-ID: <fc.000f5d970189c670000f5d970189c670.189ca3a@educagri.fr>

Dear all,

At present, i develop a method of spatial interpolation of the
precipitation on the region "Bourgogne".
This method names AURELHY.
It requires a linear regression .
 A selection of variables for this regression should be made : we use the 
" ascending progressive" method having for test stop the test of fisher (
on the increases of R?).

My question is:
Is there under R a function which allows to make this selection?

Do you know the progressive method?

Thanks in advance for all kind of help.

C?line


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Tue May 21 09:18:14 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Tue, 21 May 2002 09:18:14 +0200
Subject: [R] setClass() and packages
Message-ID: <KKEGJOGBELBHDIKPINBMAEKOCMAA.hb@maths.lth.se>

Where should the setClass() ('methods' package) calls be placed in a
package? I try to follow a one-class-one-file principe, but since
setClass("ClassA", "ClassB") has to come a after setClass("ClassB", [snip])
it is not possible to fully follow this rule. So the best I can do now is to
put all setClass() calls in a file named "000.R" (I know this file is *not*
guaranteed to be included first, but it works with current build script):

  setClass("ClassB", [snip])
  setClass("ClassA", "ClassB")
  ...

Doing like this is fine with me, but is this the correct/best way? How are
other people dealing with this "problem"?

[R v 1.5.0 2002-04-29 on WinMe]

Thanks

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue May 21 10:01:54 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 21 May 2002 10:01:54 +0200
Subject: [R] Possible x-axis label bug in barplot() when "plot = F"
References: <009501c20012$d6f336b0$0201a8c0@MARC>
Message-ID: <3CE9FEF2.F6F2A636@statistik.uni-dortmund.de>

Marc Schwartz wrote:
> 
> > The help page says "plot: logical. If FALSE, nothing is plotted."
> > barplot() just calculates the midpoints it would use in the case of
> > plot=TRUE.
> >
> > In your second example a device is opened by plot.new(), which has the
> > default user coordinates par("usr")
> > [1] -0.04  1.04 -0.04  1.04
> > and the result of your call to axis() is expected.
> >
> > So plot.new() is useless in either of your examples. In the first one
> > barplot() generates a new plot anyway, in the second example it makes
> > axis() work on a way, you don't want it to work ...
> >
> > The real question (at least for me) is: What are you going to do with
> > your code?
> >
> > Uwe Ligges
> 
> Uwe,
> 
> Thanks for your reply.
> 
> I am attempting to parallel (using barplot() ) an example in the
> demo(graphics) code which enables the plot region to be colored
> differently than the margins and allows for flexibility in defining the
> axis labels, etc.
> 
> The demo code (which is for the "Level of Interest in R" line graphic)
> shows that the plot region can be colored differently by setting the
> background color using par(bg = "color") and then calling plot(x, type =
> "n", axes = FALSE, ann = FALSE) so that nothing is actually plotted.
> 
> I presume that this sets up the coordinate system for the graphic, such
> that subsequent graphic components can then be placed within the same
> relative coordinate system area. Perhaps that is not a valid presumption
> on my part.
> 
> A call is then made to rect() using corner positions from par("usr"),
> which allows for the plot region to be filled with a different color
> than the margin.
> 
> Subsequent calls are made to plot the data points, lines, titles, etc.
> so that they do not overwrite the newly colored plot region.
> 
> I was trying to parallel this using barplot() by doing the following
> (ignore the color combinations for now):
> 
> > par(bg = "blue")
> > midpts <- barplot(1:10, axes = F, axisnames = F)
> > usr <- par("usr")
> > rect(usr[1], usr[3], usr[2], usr[4], col = "white")
> > abline(h = 1:10, lty = "dotted")
> > rect(midpts - .4, 0, midpts + .4, 1:10, col = "yellow")
> > axis(1, at = midpts, col.axis = "white")
> > axis(2, 1:10, col.axis = "white", las = 1)
> > title("This Is A Test\nShowing Different Plot Region Color", col.main
> = "yellow")
> 
> The above code actually works fine in terms of the final result for
> demonstration purposes to give you a sense of what I am trying to do.  I
> was just attempting to parallel the aforementioned plot() code so as to
> not actually plot the graphic, overwrite it with the first call to
> rect() and then draw subsequent components individually.
> 
> Was I wrong to attempt to take the same approach?
> 
> I actually get errors on subsequent graphic calls, if I try to use
> barplot(...., plot = F) first, without having first called plot.new().
> 
> Again, perhaps I am missing something fundamental here.


Sorry for answering so late. I was quite busy the during last days.
I don't know exactly why the argument plot=FALSE was introduced to
barplot(), obviously the author only tried to get the midpoints, but not
the behaviour of plot() with argument type="n".

Nevertheless, it is possible to extend barplot() to get the desired
behaviour.
Since I have not the time to try it out, let's see it as an exercise:
Change the following lines in barplot.default() from

  if (plot) {
        opar <- if (horiz) 
            par(xaxs = "i", xpd = xpd)
        else par(yaxs = "i", xpd = xpd)
        on.exit(par(opar))
        plot.new()
        plot.window(xlim, ylim, log = "", ...)
        xyrect <-  ...

to
   opar <- if (horiz) 
      par(xaxs = "i", xpd = xpd)
   else par(yaxs = "i", xpd = xpd)
   on.exit(par(opar))
   plot.new()
   plot.window(xlim, ylim, log = "", ...)
   if (plot) {
    xyrect <-  ...

i.e. just open a new device and set up the window dimensions in any case
(even with plot=FALSE).
Whether it is a bug or a feature is not clear to me ...

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue May 21 10:09:49 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 21 May 2002 10:09:49 +0200
Subject: [R] windows common dialog for color selection in R
References: <0504018E9DCAD1119FE900A0C9A39AF8050A8097@anaconda>
Message-ID: <3CEA00CD.F3168699@statistik.uni-dortmund.de>

"Gatehouse, Simon (E&M, North Ryde)" wrote:
> 
> Dear R users,
> I run R on windows 2000 and windows 98
> I am seeking opinion, or better still a code snippet, on what might be the
> quickest, not necessarily the best or preferred way, of making the Windows
> color selection common dialog available in R. Would it be an executable
> called with system() or shell() or perhaps a tcltk module or have I missed
> something obvious?  I don't believe that I have the experience or time at
> this stage to try a dynamic link as outlined in FAQ.
> Any comments would be most welcome.

I don't know what the "Windows color selection common dialog" is, but I
guess you have to link to the appropriate windows dll.
With system ans shell you can start programs that can be executed from
the windows command shell as described in the help files. So if you can
start that dialog out of the shell (and that's not a R specific
question), you can start it from R as well. 
I wonder what you are going to do with such a dialog?

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alfons.Kolling at dillinger.de  Tue May 21 10:12:10 2002
From: Alfons.Kolling at dillinger.de (Kolling Alfons, F+E)
Date: Tue, 21 May 2002 10:12:10 +0200
Subject: [R] memory management, scale
Message-ID: <98BC0F9CF5A9D511964100005A478F39AFF8EC@nt03.dillinger.de>



Hi experts,

1.  I am working with large datasets (80000 rows, 20 columns) with R 1.3.0
und linux; so i try to save memory and remove unused objects. But even if i
remove all objects with rm() and force the garbage collector to work with
gc(), the process monitor utiliity kpm does not show a change of a single
byte in memory consumption. So what is wrong.

2. I order to scale a second dataset within a regression model created with
a first scaled data setm i would like to scale the second data set in the
same way like the first one, but i cannot find the shift and factor of the
first scale (for example with attributes or methods). Are the shift and
offset stored anywhere or not? (I know, i can calculate the desired values
with mean and root mean square; but when doing that, why should i use scale
at all?)


mit freundlichem Gru?

Alfons Kolling


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 21 10:45:23 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 21 May 2002 09:45:23 +0100 (BST)
Subject: [R] memory management, scale
In-Reply-To: <98BC0F9CF5A9D511964100005A478F39AFF8EC@nt03.dillinger.de>
Message-ID: <Pine.LNX.4.31.0205210938560.19414-100000@gannet.stats>

On Tue, 21 May 2002, Kolling Alfons, F+E wrote:

>
>
> Hi experts,
>
> 1.  I am working with large datasets (80000 rows, 20 columns) with R 1.3.0
> und linux; so i try to save memory and remove unused objects. But even if i
> remove all objects with rm() and force the garbage collector to work with
> gc(), the process monitor utiliity kpm does not show a change of a single
> byte in memory consumption. So what is wrong.

Memory allocators often do not return memory to the OS when it is freed,
but it remains allocated to the process and available for re-use by
malloc.  (On the other hand, RH Linux does seem to be one of the
exceptions.)  Also R does not return its workspace to the memory
allocator when it removes unused objects unless they were large enough to
have been allocated individually.

gc() will give a better idea of the actual usage that utilities such as
top.


> 2. I order to scale a second dataset within a regression model created with
> a first scaled data setm i would like to scale the second data set in the
> same way like the first one, but i cannot find the shift and factor of the
> first scale (for example with attributes or methods). Are the shift and
> offset stored anywhere or not? (I know, i can calculate the desired values
> with mean and root mean square; but when doing that, why should i use scale
> at all?)

That's pretty unclear.  If you mean you did

data2 <- scale(data1)

then the answer is that the scaling is stored in attributes:

> library(MASS)
> data(hills)
> hills2 <- scale(hills)
> attributes(hills2)
...
$"scaled:center"
       dist       climb        time
   7.528571 1815.314286   57.875714

$"scaled:scale"
       dist       climb        time
   5.523936 1619.150536   50.040716

*and* that is stated on the help page.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 21 11:12:40 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 21 May 2002 10:12:40 +0100 (BST)
Subject: [R] windows common dialog for color selection in R
In-Reply-To: <3CEA00CD.F3168699@statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.31.0205210952380.19633-100000@gannet.stats>

Perhaps I can elucidate.  The `color picker' is in the glossary as

  Color common dialog box
  A common dialog box that displays available colors and controls that let
  the user define a custom color.

and it is accessed using function ChooseColor in the comdlg32.dll.

I presume Simon wants a colour returned as an RGB value in some encoding
(R's and Windows' differing here).  I think by far the easiest way to do
this is to write a small package with some C interface code along the
lines of the windlg package, and there are lots of examples in the
R source code, for example in src/gnuwin32/graphapp/dialogs.c.


On Tue, 21 May 2002, Uwe Ligges wrote:

> "Gatehouse, Simon (E&M, North Ryde)" wrote:
> >
> > Dear R users,
> > I run R on windows 2000 and windows 98
> > I am seeking opinion, or better still a code snippet, on what might be the
> > quickest, not necessarily the best or preferred way, of making the Windows
> > color selection common dialog available in R. Would it be an executable
> > called with system() or shell() or perhaps a tcltk module or have I missed
> > something obvious?  I don't believe that I have the experience or time at
> > this stage to try a dynamic link as outlined in FAQ.
> > Any comments would be most welcome.
>
> I don't know what the "Windows color selection common dialog" is, but I
> guess you have to link to the appropriate windows dll.
> With system ans shell you can start programs that can be executed from
> the windows command shell as described in the help files. So if you can
> start that dialog out of the shell (and that's not a R specific
> question), you can start it from R as well.
> I wonder what you are going to do with such a dialog?
>
> Uwe Ligges
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From svante at math.auc.dk  Tue May 21 12:38:20 2002
From: svante at math.auc.dk (poul svante)
Date: Tue, 21 May 2002 12:38:20 +0200
Subject: [R] predict.tree
Message-ID: <3CEA239C.497E45A0@math.auc.dk>

I have a problem with interpretating the result of predict.tree,
when I include the option split=T.
E.g. running the example of the help file and concluding with
>   predict(shuttle.tr, shuttle1,split=T)
produces the output
                     auto            noauto
[1,] 0.015625002 0.007812502
[2,] 0.007812502 0.000000000
[3,] 0.000000000 0.000000000
which is hard to interpret as a posterior probability.
And since no values are missing for the predictors, I would
expect to get the same result as with split=F?

Comments?
-Svante

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 21 13:04:08 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 21 May 2002 12:04:08 +0100 (BST)
Subject: [R] predict.tree
In-Reply-To: <3CEA239C.497E45A0@math.auc.dk>
Message-ID: <Pine.LNX.4.31.0205211154410.20890-100000@gannet.stats>

On Tue, 21 May 2002, poul svante wrote:

> I have a problem with interpretating the result of predict.tree,
> when I include the option split=T.
> E.g. running the example of the help file and concluding with
> >   predict(shuttle.tr, shuttle1,split=T)
> produces the output
>                      auto            noauto
> [1,] 0.015625002 0.007812502
> [2,] 0.007812502 0.000000000
> [3,] 0.000000000 0.000000000
> which is hard to interpret as a posterior probability.
> And since no values are missing for the predictors, I would
> expect to get the same result as with split=F?
>
> Comments?

It works correctly in S. Inside predict.tree you will find a function
pred2.tree, and inside that is a .C call.  Change double() to single().

We do recommend that you use rpart for tree construction, and by no means
all the options of package tree have been tested under R.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dj at research.bell-labs.com  Tue May 21 13:44:08 2002
From: dj at research.bell-labs.com (David James)
Date: Tue, 21 May 2002 07:44:08 -0400
Subject: [R] setClass() and packages
In-Reply-To: <KKEGJOGBELBHDIKPINBMAEKOCMAA.hb@maths.lth.se>; from hb@maths.lth.se on Tue, May 21, 2002 at 09:18:14AM +0200
References: <KKEGJOGBELBHDIKPINBMAEKOCMAA.hb@maths.lth.se>
Message-ID: <20020521074408.A27128@jessie.research.bell-labs.com>

Hello,

Henrik Bengtsson wrote:
> Where should the setClass() ('methods' package) calls be placed in a
> package? I try to follow a one-class-one-file principe, but since
> setClass("ClassA", "ClassB") has to come a after setClass("ClassB", [snip])
> it is not possible to fully follow this rule. So the best I can do now is to
> put all setClass() calls in a file named "000.R" (I know this file is *not*
> guaranteed to be included first, but it works with current build script):
> 
>   setClass("ClassB", [snip])
>   setClass("ClassA", "ClassB")
>   ...
> 
> Doing like this is fine with me, but is this the correct/best way? How are
> other people dealing with this "problem"?

I'm not sure there's a "coding standard" in this area.  I've found
that splitting the code into a main (or "public") file and
into support/utility files has worked well for me.  The main
file defines the interface through setClass, setGeneric, etc.,
and the code for the actual implementation (mostly independent of
version 4 style classes) resides in the support/utilities files.
A makefile generally concatenates these files in the right order
into one big file for installation.

Admittedly, this setup is biased for compatibility between old-
and new-style classes and methods: new-style classes and methods
are used to define the public interfaces to the package, while
existing functions (with names like print.classFoo) are delegated
(relegated?:-) to the implementation.

Regards,

--
David

> 
> [R v 1.5.0 2002-04-29 on WinMe]
> 
> Thanks
> 
> Henrik Bengtsson
> 
> Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
> Lund Institute of Technology/Lund University, Sweden (+2h UTC)
> Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
> h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mpb170 at psu.edu  Tue May 21 15:34:21 2002
From: mpb170 at psu.edu (MATT BORKOWSKI)
Date: Tue, 21 May 2002 09:34:21 -0400 (EDT)
Subject: [R] Unwanted Levels in R
Message-ID: <200205211334.JAA26010@webmail2.cac.psu.edu>

I searched the mailing list archives and found one post relevant to my problem, 
but it was not specific enough to solve my problem.

I am reading in a large file of data (I believe it is in ASCII format).  I have tried
reading the file in as a data frame and as a list, and both methods result in 
unwanted levels being created which leads to problems when I try to copy
or reference certain cells.  I suspect the problem may be because there are 
character strings randomly intersparsed with numeric data.  If this is the problem,
is there anyway to overcome it?  Here are a few lines of the data I'm 
attempting to read in:

A  900003024 ODEN   SWEDEN  ODEN91 NSIDC.ORG/PROJE 
B     900003         -9  1 NAN OBS         0
C 1991  9  7 13 -9 XX   90.0000     .0000 XX
D    36   10.0   10.1 4183.0 4270.7 4219.0 Z 13  0 OBSERV
E    -9.0   -9.0 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 
   10.0   10.1 -1.6970 -1.6971 31.4940 25.3287 34.8044 43.8535 -9.0000 

Here are the commands I have tried using to read in the data:

>alldata <- read.table("/home/mattb/xxx.dat", fill = TRUE, quote = "")

>alldata <- as.list(read.table("/home/mattb/xxx.dat", fill = TRUE, quote = "")

Thanks for your time,

Matt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May 21 15:46:58 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 May 2002 15:46:58 +0200
Subject: [R] Unwanted Levels in R
In-Reply-To: <200205211334.JAA26010@webmail2.cac.psu.edu>
References: <200205211334.JAA26010@webmail2.cac.psu.edu>
Message-ID: <x24rh1pq99.fsf@blueberry.kubism.ku.dk>

"MATT BORKOWSKI" <mpb170 at psu.edu> writes:

> is there anyway to overcome it?  Here are a few lines of the data I'm 
> attempting to read in:
> 
> A  900003024 ODEN   SWEDEN  ODEN91 NSIDC.ORG/PROJE 
> B     900003         -9  1 NAN OBS         0
> C 1991  9  7 13 -9 XX   90.0000     .0000 XX
> D    36   10.0   10.1 4183.0 4270.7 4219.0 Z 13  0 OBSERV
> E    -9.0   -9.0 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 
>    10.0   10.1 -1.6970 -1.6971 31.4940 25.3287 34.8044 43.8535 -9.0000 
> 
> Here are the commands I have tried using to read in the data:
> 
> >alldata <- read.table("/home/mattb/xxx.dat", fill = TRUE, quote = "")
> 
> >alldata <- as.list(read.table("/home/mattb/xxx.dat", fill = TRUE, quote = "")

As far as I can see, there is no connection between values in the same
position in different lines? If so, trying to make a data frame out of
the file is simply inappropriate and you should rather use ReadLines
and postprocess the lines according to whatever logic they are
supposed to obey.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolfram at fischer-zim.ch  Tue May 21 15:49:39 2002
From: wolfram at fischer-zim.ch (Wolfram Fischer - Z/I/M)
Date: Tue, 21 May 2002 15:49:39 +0200
Subject: [R] plotting functions with line width (lwd) as vectors
Message-ID: <20020521154939.A4731@s1x.zimnet.ch>

If I want to plot different widths of line segments or arrows
I have to program loops to plot each line apartly. Is that
right?
	n    <- 6
	x    <- 1:n
	y    <- rnorm(1:n)
	q    <- ( x %% 3 + 1 ) * 2
	plot( x, y, cex=q )
	for( i in 1:(n-1) ) lines( x[i:(i+1)], y[i:(i+1)], lwd=q[i], col=q[i] )

Would it not be possible to make plotting functions accept
vectors of line widths (as they accept vectors of colors
and vectors for cex)?

So you could say e.g.:
	plot( x, y, cex=q )
	lines( x, y, lwd=q, col=q )

Wolfram
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May 21 16:03:17 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 May 2002 16:03:17 +0200
Subject: [R] plotting functions with line width (lwd) as vectors
In-Reply-To: <20020521154939.A4731@s1x.zimnet.ch>
References: <20020521154939.A4731@s1x.zimnet.ch>
Message-ID: <x2znytoaxm.fsf@blueberry.kubism.ku.dk>

Wolfram Fischer - Z/I/M <wolfram at fischer-zim.ch> writes:

> If I want to plot different widths of line segments or arrows
> I have to program loops to plot each line apartly. Is that
> right?
> 	n    <- 6
> 	x    <- 1:n
> 	y    <- rnorm(1:n)
> 	q    <- ( x %% 3 + 1 ) * 2
> 	plot( x, y, cex=q )
> 	for( i in 1:(n-1) ) lines( x[i:(i+1)], y[i:(i+1)], lwd=q[i], col=q[i] )
> 
> Would it not be possible to make plotting functions accept
> vectors of line widths (as they accept vectors of colors
> and vectors for cex)?
> 
> So you could say e.g.:
> 	plot( x, y, cex=q )
> 	lines( x, y, lwd=q, col=q )

Logically, a line like that is a single entity, and it is generally
plotted using some low-level polyline routine, so no.

However, notice that you can do 

plot(1:10,type="n")
segments(1:9,1:9,2:10,2:10,lwd=1:9)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mpb170 at psu.edu  Tue May 21 16:15:07 2002
From: mpb170 at psu.edu (MATT BORKOWSKI)
Date: Tue, 21 May 2002 10:15:07 -0400 (EDT)
Subject: [R] Unwanted Levels in R
Message-ID: <200205211415.KAA28132@webmail2.cac.psu.edu>

To clarify:
The lines beginning with A,B,C,D,E are part of a header file.  Below the header
are lines that contain values that correspond.  The problem is that there are 
a number of data sets combined, so the header randomly repeats after an
varying number of data lines.  Would it solve the problem to simply treat the line
that begin with A,B,C,D,, or E differently?  If so, how do they need to be treated?
I've copied a bit more of the data below to demonstrate more clearly how the 
data is arranged within the file.

A  900003024 ODEN     SWEDEN          ODEN91          NSIDC.ORG/PROJE 
B     900003     -9  1 NAN OBS         0
C 1991  9  7 13 -9 XX   90.0000     .0000 XX
D    36   10.0   10.1 4183.0 4270.7 4219.0 Z 13  0 OBSERV
E    -9.0   -9.0 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000
   25.0   25.3 -1.7050 -1.7054 31.4970 25.3313 34.8074 43.8571 -9.0000  8.630  
   50.0   50.6 -1.7400 -1.7408 32.3660 26.0382 35.5010 44.5377 -9.0000  8.280  
   89.0   90.0 -1.6550 -1.6566 32.8530 26.4320 35.8807 44.9043 -9.0000  7.430  
   109.0  110.3 -1.5420 -1.5444 33.8830 27.2659 36.6893 45.6886 -9.0000  7.360 
...
...
...
A  900002034 LOUIS ST: LAURENT   UNITED STATES   AO1994   NSIDC.ORG/PROJE 
B     900002         -9  1 NAN OBS         0
C 1994  8 20 22 -9 XX   89.0167  137.1517 XX
D    36   13.0   13.1 4075.0 4159.4 4075.0 Z 13  0 LASTLE
E    -9.0   -9.0 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 
  13.0   13.1 -1.7650 -1.7652 32.9160 26.4856 35.9403 44.9690 -9.0000  8.580 

Matt


On Tue, 21 May 2002 15:46:58 +0200, Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> wrote:

> "MATT BORKOWSKI" <mpb170 at psu.edu> writes:
> 
> > is there anyway to overcome it?  Here are a few lines of the data I'm 
> > attempting to read in:
> > 
> > A  900003024 ODEN   SWEDEN  ODEN91 NSIDC.ORG/PROJE 
> > B     900003         -9  1 NAN OBS         0
> > C 1991  9  7 13 -9 XX   90.0000     .0000 XX
> > D    36   10.0   10.1 4183.0 4270.7 4219.0 Z 13  0 OBSERV
> > E    -9.0   -9.0 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 
> >    10.0   10.1 -1.6970 -1.6971 31.4940 25.3287 34.8044 43.8535 -9.0000 
> > 
> > Here are the commands I have tried using to read in the data:
> > 
> > >alldata <- read.table("/home/mattb/xxx.dat", fill = TRUE, quote = "")
> > 
> > >alldata <- as.list(read.table("/home/mattb/xxx.dat", fill = TRUE, quote = "")
> 
> As far as I can see, there is no connection between values in the same
> position in different lines? If so, trying to make a data frame out of
> the file is simply inappropriate and you should rather use ReadLines
> and postprocess the lines according to whatever logic they are
> supposed to obey.
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Per.Broberg at astrazeneca.com  Tue May 21 15:59:59 2002
From: Per.Broberg at astrazeneca.com (Per.Broberg@astrazeneca.com)
Date: Tue, 21 May 2002 15:59:59 +0200
Subject: [R] Build
Message-ID: <283517E97112D611A94C0001FA7E5D5A12443E@se-drc-mail3.selu.astrazeneca.net>

Dear helpers!

I tried to build a package I have written, and which I have built up to now
under R v .1.2.1, Windows 98 and Cygwin.

The plan is to migrate to  R v 1.5.0, Windows 2000 and Rtools.

The package fits the decription of Simple Ports in readme.packages.

The command 

C:\R\rw1050\src\gnuwin32>make pkg-sag

gave the output

make DLLNM= \
  -C C:/R/rw1050/src/library/sag PKG=sag RHOME=C:/R/rw1050
RLIB=C:/R/rw1050/libr
ary \
  -f C:/R/rw1050/src/gnuwin32/MakePkg
make[1]: Entering directory `/cygdrive/c/R/rw1050/src/library/sag'
Syntax error: Unterminated quoted string
make[1]: *** [C:/R/rw1050/library/sag/zzzz] Error 2
make[1]: Leaving directory `/cygdrive/c/R/rw1050/src/library/sag'
make: *** [pkg-sag] Error 2

Has anybody seen this before? Does anybody know where to look for the error?

Thanks in advance

Per Broberg

Senior Research Scientist, PhD
AstraZeneca R&D Lund
S221 87 Lund
Sweden
tel +46 46 33 78 22
email per.broberg at astrazeneca.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Tue May 21 18:21:00 2002
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Tue, 21 May 2002 18:21:00 +0200
Subject: [R] help with par
Message-ID: <3CEA73EC.5000905@inrialpes.fr>

Dear R-users,

Using the plot function, I would like that axes are [-1,1] for x and 
[-1,1] for  y.
But when I use xlim or ylim, it adds automaticaly a small space (i.e. 
[-1.25,1.25]).
I suppose that i have to use the fuction par() but  i don't find the 
good parameter for this problem.
So, how can i define the axes to be exactly [-1,1].

Thanks
Olivier

-- 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN
PhD student                  phone : (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42		
INRIA Rhone-Alpes            fax   : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                   e-mail: olivier.martin at inrialpes.fr
38334 Saint Ismier cedex     web   : http://www.inrialpes.fr/is2/people/omartin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May 21 16:34:53 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 May 2002 16:34:53 +0200
Subject: [R] Unwanted Levels in R
In-Reply-To: <200205211415.KAA28132@webmail2.cac.psu.edu>
References: <200205211415.KAA28132@webmail2.cac.psu.edu>
Message-ID: <x2vg9ho9gy.fsf@blueberry.kubism.ku.dk>

"MATT BORKOWSKI" <mpb170 at psu.edu> writes:

> To clarify:
> The lines beginning with A,B,C,D,E are part of a header file.  Below the header
> are lines that contain values that correspond.  The problem is that there are 
> a number of data sets combined, so the header randomly repeats after an
> varying number of data lines.  Would it solve the problem to simply treat the line
> that begin with A,B,C,D,, or E differently?  If so, how do they need to be treated?
> I've copied a bit more of the data below to demonstrate more clearly how the 
> data is arranged within the file.
> 
> A  900003024 ODEN     SWEDEN          ODEN91          NSIDC.ORG/PROJE 
> B     900003     -9  1 NAN OBS         0
> C 1991  9  7 13 -9 XX   90.0000     .0000 XX
> D    36   10.0   10.1 4183.0 4270.7 4219.0 Z 13  0 OBSERV
> E    -9.0   -9.0 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000
>    25.0   25.3 -1.7050 -1.7054 31.4970 25.3313 34.8074 43.8571 -9.0000  8.630  
>    50.0   50.6 -1.7400 -1.7408 32.3660 26.0382 35.5010 44.5377 -9.0000  8.280  
>    89.0   90.0 -1.6550 -1.6566 32.8530 26.4320 35.8807 44.9043 -9.0000  7.430  
>    109.0  110.3 -1.5420 -1.5444 33.8830 27.2659 36.6893 45.6886 -9.0000  7.360 
> ...
> ...
> ...
> A  900002034 LOUIS ST: LAURENT   UNITED STATES   AO1994   NSIDC.ORG/PROJE 
> B     900002         -9  1 NAN OBS         0
> C 1994  8 20 22 -9 XX   89.0167  137.1517 XX
> D    36   13.0   13.1 4075.0 4159.4 4075.0 Z 13  0 LASTLE
> E    -9.0   -9.0 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 
>   13.0   13.1 -1.7650 -1.7652 32.9160 26.4856 35.9403 44.9690 -9.0000  8.580 

Hmm. If you're on a Unix(-like) system, I suggest you preprocess with 
grep -v "^[A-E]". On Windows, you could fetch the grep program and do
likewise (there is one in
http://www.stats.ox.ac.uk/pub/Rtools/tools.zip).

In pure R, I suppose a combination of readLines(), grep(),
writeLines() (to a temp file) and read.table() would do the trick.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue May 21 17:00:52 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 21 May 2002 17:00:52 +0200
Subject: [R] help with par
In-Reply-To: <3CEA73EC.5000905@inrialpes.fr>
References: <3CEA73EC.5000905@inrialpes.fr>
Message-ID: <15594.24868.978726.567814@gargle.gargle.HOWL>

>>>>> "Olivier" == Olivier Martin <olivier.martin at inrialpes.fr> writes:

    Olivier> Dear R-users,
    Olivier> Using the plot function, I would like that axes are [-1,1] for x and 
    Olivier> [-1,1] for  y.
    Olivier> But when I use xlim or ylim, it adds automaticaly a small space (i.e. 
    Olivier> [-1.25,1.25]).
    Olivier> I suppose that i have to use the fuction par() but  i don't find the 
    Olivier> good parameter for this problem.
    Olivier> So, how can i define the axes to be exactly [-1,1].

Solution: ``axis style'' --> `xaxs' and `yaxs'

## an example with [-2,2]  {for y} :
op <- par(yaxs="i")
 plot(1:100, rnorm(100), ylim = c(-2,2))
par(op)


Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Tue May 21 17:07:13 2002
From: aolinto at bignet.com.br (Antonio Olinto)
Date: Tue, 21 May 2002 12:07:13 -0300
Subject: [R] how to extrac one coef from lm at a time
Message-ID: <000d01c200d9$8a20bde0$9ec9fea9@nautilus>

Hello R-Users,

I have I simple question that I could not solve:

How to extract the elevation and the slope values from a linear model (lm)
separately?

coef(model.lm) gives both of them.

Thanks,

Antonio Olinto



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andreas.krause at pharma.novartis.com  Tue May 21 17:21:38 2002
From: andreas.krause at pharma.novartis.com (andreas.krause@pharma.novartis.com)
Date: Tue, 21 May 2002 17:21:38 +0200
Subject: [R] using axis with newline characters
Message-ID: <OF990EBF23.60BC7943-ONC1256BC0.0038F06B@is.chbs>


Wondering if I missed anything or if that's a problem with R:
I want to have many x axis tickmarks and labels such that it makes sense to put them on multiple "lines".
The newline character seems to be ignored though for axis labels:

plot(1:33, axes=F)
axis(1, 9, 9)
axis(1, 11, "\n11")
axis(1)

# whereas
title("one\ntwo")

works as I expect it to work.
In addition there is a little hook on top of the tickmark (the upper end of the vertical dash) that seems to be unintended.

Best regards,

      Andreas Krause

PS. R version 1.4.1 on Red Hat Linux.

PPS. One way to do what I want to achieve is to use axis with the line parameter, but this requires breaking up the labels.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From o.christensen at lancaster.ac.uk  Tue May 21 17:38:47 2002
From: o.christensen at lancaster.ac.uk (Ole Christensen)
Date: Tue, 21 May 2002 16:38:47 +0100
Subject: [R] how to extrac one coef from lm at a time
References: <000d01c200d9$8a20bde0$9ec9fea9@nautilus>
Message-ID: <3CEA6A07.8C6994E3@lancs.ac.uk>



x <- 1:5
parms <- coef(lm(c(1:3,7,6) ~ x))

parms[1] is the intercept 
parms[2] is the slope

Cheers

Ole

Antonio Olinto wrote:
> 
> Hello R-Users,
> 
> I have I simple question that I could not solve:
> 
> How to extract the elevation and the slope values from a linear model (lm)
> separately?
> 
> coef(model.lm) gives both of them.
> 
> Thanks,
> 
> Antonio Olinto
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Ole F. Christensen
Department of Mathematics and Statistics
Fylde College, Lancaster University 
Lancaster, LA1 4YF, England
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue May 21 17:47:51 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 21 May 2002 10:47:51 -0500
Subject: [R] standard errors in predict.nls ()
In-Reply-To: <B657AD42D41D914FBE1C94FFE907B34701E424@exqld1-tw.tag.csiro.au>
References: <B657AD42D41D914FBE1C94FFE907B34701E424@exqld1-tw.tag.csiro.au>
Message-ID: <6r7klxtsd4.fsf@franz.stat.wisc.edu>

Jeremy.Whish at csiro.au writes:

> I am using r version 1.5.0 on a windows 2000 OS 
> 
> I have been converting an old S+ script I had that uses the nls function, to
> r. In S+ I could obtain the standard errors using predict(...,se = T)   In
> my documentation for R it says for predict.nls(), "At present `se.fit' and
> `interval' are ignored." my questions are 
> 
> 1. is this still the case  or am I just out of date 

Yes it is still the case.

> 2. is anybody working on these routines, if not could someone advise me on
> how to go about writing them.

I don't know of anyone working on them.  If you do not have a newdata
list (that is, you are predicting at the observed values of the
covariates) you should be able to get the standard errors of the
fitted values fairly easily from stored information.  I'll describe
that in private email.

If you do have newdata you will need to make a greater effort to get
standard errors.

Once you have the standard errors the rest is straightforward.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Tue May 21 17:44:23 2002
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Tue, 21 May 2002 16:44:23 +0100 (BST)
Subject: [R] Memory Usage in R
In-Reply-To: <0957E70F25F7D111974B00A0C9833064AF88F2@mayo.cerep.com>
Message-ID: <Pine.GSO.4.21.0205211639170.3887-100000@dolphin>

> I am running an R program with .Fortran() calls, and discovered that the
> memory, as reported by gc(), continues to grow with new loop iterations.  I
> hadn't been able to find information on how to 'destroy' objects in earlier
> loops to keep the program size from continuous growth;  calling rm() to
> remove some what I thought to be large arrays didn't seem to help.  Any
> help/pointers will be greatly appreciated.  TIA

- When I've had this problem it's been a memory leak in my compiled
code. With C code these are really easy to catch by using the dmalloc
library (see dmalloc.com) - I don't use Fortran, so don't know if this is
any use to you. 

Simon

  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MSchwartz at medanalytics.com  Tue May 21 17:58:59 2002
From: MSchwartz at medanalytics.com (Marc Schwartz)
Date: Tue, 21 May 2002 10:58:59 -0500
Subject: [R] Possible x-axis label bug in barplot() when "plot = F"
In-Reply-To: <3CE9FEF2.F6F2A636@statistik.uni-dortmund.de>
Message-ID: <010501c200e0$6ce115c0$0201a8c0@MARC>

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch [mailto:owner-r-
> help at stat.math.ethz.ch] On Behalf Of Uwe Ligges
> Sent: Tuesday, May 21, 2002 3:02 AM
> To: MSchwartz at medanalytics.com
> Cc: 'R-Help List'
> Subject: Re: [R] Possible x-axis label bug in barplot() when "plot =
F"
> 
> Sorry for answering so late. I was quite busy the during last days.
> I don't know exactly why the argument plot=FALSE was introduced to
> barplot(), obviously the author only tried to get the midpoints, but
not
> the behaviour of plot() with argument type="n".
> 
> Nevertheless, it is possible to extend barplot() to get the desired
> behaviour.
> Since I have not the time to try it out, let's see it as an exercise:
> Change the following lines in barplot.default() from
> 
>   if (plot) {
>         opar <- if (horiz)
>             par(xaxs = "i", xpd = xpd)
>         else par(yaxs = "i", xpd = xpd)
>         on.exit(par(opar))
>         plot.new()
>         plot.window(xlim, ylim, log = "", ...)
>         xyrect <-  ...
> 
> to
>    opar <- if (horiz)
>       par(xaxs = "i", xpd = xpd)
>    else par(yaxs = "i", xpd = xpd)
>    on.exit(par(opar))
>    plot.new()
>    plot.window(xlim, ylim, log = "", ...)
>    if (plot) {
>     xyrect <-  ...
> 
> i.e. just open a new device and set up the window dimensions in any
case
> (even with plot=FALSE).
> Whether it is a bug or a feature is not clear to me ...
> 
> Uwe Ligges

Uwe,

Again, thanks for your reply and no apology required.  I have tried to
be very sensitive to both the value of this forum and the time of the
group. I recognize that most folks (me included) have other
responsibilities that demand their time. Thus I spent many hours of my
own time this weekend searching the forums, reading books and
documentation (including S-Plus, where barplot() does not appear to have
a "plot=" argument) trying to figure this one out and what I was doing
wrong before I posted. As a consequence, I am very appreciative of your
interaction on this particular issue.

To your point, it was my expectation of consistent behavior between
barplot() and plot() when no plotting actually occurred, that led me
astray.

Had I taken the additional time to review the R source code for
barplot(), I probably would have realized that when "plot=F", given
where the boolean check for (plot) is located in the code, the display
device in fact does not get configured as apparently it does in plot()
when type="n".

In the future, I shall endeavor to review the source code in similar
situations which in this case, would have saved me many headaches. If I
should forget to do so, please virtually throw something at me.

I have created a new function temporarily called MYbarplot() using a
MYbarplot method with the modification you indicated above and it does
appear to work (without extensive testing) as desired. If anyone should
be interested in this, I would be happy to e-mail a copy.

I am not sure what the formal procedure is for a request enhancement (I
did search a bit) but if reasonable, perhaps a global option for the
plot region color (ie. par(pr = "color") )could be introduced such that
each of the plotting functions would be able to utilize this parameter.
In that way the higher level plotting functions (ie. barplot, boxplot,
etc.) could be used to accomplish what now requires calls to the lower
level component functions. I presume that such a change is entirely
non-trivial and as such may be appropriate for a major version update
some time down the road.

Again, thanks for your support.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrewr at uidaho.edu  Tue May 21 18:01:59 2002
From: andrewr at uidaho.edu (Andrew Robinson)
Date: Tue, 21 May 2002 09:01:59 -0700
Subject: [R] how to extrac one coef from lm at a time
In-Reply-To: <000d01c200d9$8a20bde0$9ec9fea9@nautilus>
Message-ID: <5.1.0.14.0.20020521085729.03890400@uidaho.edu>

coef(model.lm)[1] and coef(model.lm)[2]

It's just extracting elements from a vector.  Pretty neat, too, I think.

A.

At 12:07 PM 5/21/2002 -0300, you wrote:
>Hello R-Users,
>
>I have I simple question that I could not solve:
>
>How to extract the elevation and the slope values from a linear model (lm)
>separately?
>
>coef(model.lm) gives both of them.
>
>Thanks,
>
>Antonio Olinto
>
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue May 21 18:02:21 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 21 May 2002 12:02:21 -0400
Subject: [R] how to extrac one coef from lm at a time
In-Reply-To: <000d01c200d9$8a20bde0$9ec9fea9@nautilus>; from aolinto@bignet.com.br on Tue, May 21, 2002 at 12:07:13PM -0300
References: <000d01c200d9$8a20bde0$9ec9fea9@nautilus>
Message-ID: <20020521120221.A15239@cattell.psych.upenn.edu>

On 05/21/02 12:07, Antonio Olinto wrote:
>How to extract the elevation and the slope values from a linear model (lm)
>separately?
>
>coef(model.lm) gives both of them.

One way is
model.lm$coef[1]
for the intercept
and
model.lm$coef[2]
for the slope of the first predictor, and so on.
This assumes that
model.lm <- lm(....)

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue May 21 18:17:14 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 21 May 2002 09:17:14 -0700 (PDT)
Subject: [R] how to extrac one coef from lm at a time
In-Reply-To: <20020521120221.A15239@cattell.psych.upenn.edu>
Message-ID: <Pine.A41.4.44.0205210914320.199238-100000@homer04.u.washington.edu>

On Tue, 21 May 2002, Jonathan Baron wrote:

> On 05/21/02 12:07, Antonio Olinto wrote:
> >How to extract the elevation and the slope values from a linear model (lm)
> >separately?
> >
> >coef(model.lm) gives both of them.
>
> One way is
> model.lm$coef[1]
> for the intercept
> and
> model.lm$coef[2]
> for the slope of the first predictor, and so on.

coef(model.lm)[2]
or
coef(model.lm)["x"]

are preferred -- the point of accessor functions like coef() is to hide
the inner structure of the model object. For coef() it doesn't matter a
lot, but there are plenty of models for which model$resid is not the same
as resid(model).


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue May 21 18:37:33 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 21 May 2002 11:37:33 -0500
Subject: [R] setClass() and packages
In-Reply-To: <KKEGJOGBELBHDIKPINBMAEKOCMAA.hb@maths.lth.se>
References: <KKEGJOGBELBHDIKPINBMAEKOCMAA.hb@maths.lth.se>
Message-ID: <6rwutxsbhu.fsf@franz.stat.wisc.edu>

We use file names like

 AllClass.R   # definition of classes
 AllGeneric.R # definition of generic functions

(or perhaps AllClasses.R and AllGenerics.R for the fastidious).  As
you say, these are not guaranteed to be processed first but we tend to
use lower case letters for our other .R file names.

By the way, I notice that Robert Gentleman used wrappers like

if (!isGeneric("logDet")) {
    setGeneric("logDet",
               function(object)
               standardGeneric("logDet"), "numeric")
}

in one of his packages in Bioconductor so as to avoid accidently
redefining generics.  I think that is a good idea.


"Henrik Bengtsson" <hb at maths.lth.se> writes:

> Where should the setClass() ('methods' package) calls be placed in a
> package? I try to follow a one-class-one-file principe, but since
> setClass("ClassA", "ClassB") has to come a after setClass("ClassB", [snip])
> it is not possible to fully follow this rule. So the best I can do now is to
> put all setClass() calls in a file named "000.R" (I know this file is *not*
> guaranteed to be included first, but it works with current build script):
> 
>   setClass("ClassB", [snip])
>   setClass("ClassA", "ClassB")
>   ...
> 
> Doing like this is fine with me, but is this the correct/best way? How are
> other people dealing with this "problem"?
> 
> [R v 1.5.0 2002-04-29 on WinMe]
> 
> Thanks
> 
> Henrik Bengtsson
> 
> Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
> Lund Institute of Technology/Lund University, Sweden (+2h UTC)
> Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
> h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oehl_list at gmx.de  Tue May 21 17:22:51 2002
From: oehl_list at gmx.de (oehl_list@gmx.de)
Date: Tue, 21 May 2002 17:22:51 +0200 (MEST)
Subject: [R] Bug?  assigning with operator '=' to local parameter changes object in global environment?
Message-ID: <22509.1021994571@www14.gmx.net>

			   [needed manual approvement by MM
			    original `Subject' had was caught as potential spam]

I had problems with a function non-intendedly changing a global variable. It
turned out to be a consequence of using the assignment operator '=' from
within the function. I am wondering, wether this is considered a bug? On the one
hand the help text does not appear to define a behaviour of '=' from within
functions, anyhow, isn't it a bit dangerous? 

# replication code at end of mail

> # no problem here
> a <- list(a1=1)
> t1 <- function(a){
+ 	a$a1 <- 3  # here we assign to a local copy of global a
+ 	a
+ }
> a2 <- t1(a)
> a
$a1
[1] 1

> a2
$a1
[1] 3

> 
> 
> # problem here
> t2 <- function(a){
+ 	a$a1 = 3  # here we THINK we assign to a local copy of global a
+ 	a
+ }
> a2 <- t2(a)
> a
$a1
[1] 3

> a2
$a1
[1] 3

> # however IN FACT WE ASSIGNED to GLOBAL a !!! 

If this is intended, the help text should perhaps be more clear about it.
If it is not intended, it might be a good idea to either change the
behaviour or catch such usage as an error, because some people switching between many
languages easily mix up assignment operators. 

Best



Jens Oehlschl?gel



# replication code


# no problem here
a <- list(a1=1)
t1 <- function(a){
	a$a1 <- 3  # here we assign to a local copy of global a
	a
}
a2 <- t1(a)
a
a2


# problem here
t2 <- function(a){
	a$a1 = 3  # here we THINK we assign to a local copy of global a
	a
}
a2 <- t2(a)
a
a2
# however IN FACT WE ASSIGNED to GLOBAL a !!! IS THIS INTENDED? IT IS
DANGEROUS !!



--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = i386
 os = mingw32
 system = i386, mingw32
 status = 
 major = 1
 minor = 5.0
 year = 2002
 month = 04
 day = 29
 language = R

Windows 2000 Professional (build 2195) Service Pack 1.0

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-- 
GMX - Die Kommunikationsplattform im Internet.
http://www.gmx.net

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 21 18:47:45 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 21 May 2002 17:47:45 +0100 (BST)
Subject: [R] setClass() and packages
In-Reply-To: <6rwutxsbhu.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.LNX.4.31.0205211742390.23471-100000@gannet.stats>

On 21 May 2002, Douglas Bates wrote:

> We use file names like
>
>  AllClass.R   # definition of classes
>  AllGeneric.R # definition of generic functions
>
> (or perhaps AllClasses.R and AllGenerics.R for the fastidious).  As
> you say, these are not guaranteed to be processed first but we tend to
> use lower case letters for our other .R file names.

Unfortunately there are locales in which lower case comes before upper
case, surprisingly.  en_US is one (on Linux and Solaris at least).  So I
think starting with 0 is safer.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue May 21 18:47:50 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 21 May 2002 11:47:50 -0500
Subject: [R] how to extrac one coef from lm at a time
In-Reply-To: <Pine.A41.4.44.0205210914320.199238-100000@homer04.u.washington.edu>
References: <Pine.A41.4.44.0205210914320.199238-100000@homer04.u.washington.edu>
Message-ID: <6r8z6dsb0p.fsf@franz.stat.wisc.edu>

Thomas Lumley <tlumley at u.washington.edu> writes:

> On Tue, 21 May 2002, Jonathan Baron wrote:
> 
> > On 05/21/02 12:07, Antonio Olinto wrote:
> > >How to extract the elevation and the slope values from a linear model (lm)
> > >separately?
> > >
> > >coef(model.lm) gives both of them.
> >
> > One way is
> > model.lm$coef[1]
> > for the intercept
> > and
> > model.lm$coef[2]
> > for the slope of the first predictor, and so on.
> 
> coef(model.lm)[2]
> or
> coef(model.lm)["x"]
> 
> are preferred -- the point of accessor functions like coef() is to hide
> the inner structure of the model object. For coef() it doesn't matter a
> lot, but there are plenty of models for which model$resid is not the same
> as resid(model).

For an nls model it matters whether you use coef(model.nls) or
model.nls$coef.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 21 18:59:28 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 21 May 2002 17:59:28 +0100 (BST)
Subject: [R] how to extrac one coef from lm at a time
In-Reply-To: <6r8z6dsb0p.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.LNX.4.31.0205211759020.23529-100000@gannet.stats>

On 21 May 2002, Douglas Bates wrote:

> Thomas Lumley <tlumley at u.washington.edu> writes:
>
> > On Tue, 21 May 2002, Jonathan Baron wrote:
> >
> > > On 05/21/02 12:07, Antonio Olinto wrote:
> > > >How to extract the elevation and the slope values from a linear model (lm)
> > > >separately?
> > > >
> > > >coef(model.lm) gives both of them.
> > >
> > > One way is
> > > model.lm$coef[1]
> > > for the intercept
> > > and
> > > model.lm$coef[2]
> > > for the slope of the first predictor, and so on.
> >
> > coef(model.lm)[2]
> > or
> > coef(model.lm)["x"]
> >
> > are preferred -- the point of accessor functions like coef() is to hide
> > the inner structure of the model object. For coef() it doesn't matter a
> > lot, but there are plenty of models for which model$resid is not the same
> > as resid(model).
>
> For an nls model it matters whether you use coef(model.nls) or
> model.nls$coef.

And for an aov one.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Wed May 22 08:18:33 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Wed, 22 May 2002 06:18:33 +0000
Subject: [R] how does one apply Western Electric / AT&T rules to R plots?
In-Reply-To: <3CE953DD.144B595D@agere.com>; from sjcrauhut@agere.com on Mon, May 20, 2002 at 03:51:58PM -0400
References: <3CE953DD.144B595D@agere.com>
Message-ID: <20020522061833.B1989@camille.indigoindustrial.co.nz>

On Mon, May 20, 2002 at 03:51:58PM -0400, default wrote:
> I have searched for info on how to apply the Western Electric rules for
> process control, to data and plots I have in R, but I have not been able
> to learn how.

The Western Electric rules are based on consecutive measures showing 
suspicous behaviour.  I've found run length encoding to be helpful
for this:

---
## imagine this was *supposed* to be a zero-mean, normally-distributed
## process, but it's drifting....

len <- 80
zz <- ts(rnorm(len)+exp(2/(len:1)))
zz.s <- sd(zz)

plot(zz,ylim=c(-4*zz.s,4*zz.s),type="l")
abline(h=0)
abline(h=-3*zz.s,col="red")
abline(h=3*zz.s,col="red")
abline(h=2*zz.s,col="red",lty=2)
abline(h=-2*zz.s,col="red",lty=2)
abline(h=zz.s,col="red",lty=3)
abline(h=-zz.s,col="red",lty=3)
## Western Electric rule 1
## 2 consecutive points fall outside 2 sd limits
zz.rule1 <- abs(zz) > 2*zz.s
zz.rule1.rle <- rle(as.vector(zz.rule1))
zz.rule1.warn <- which(zz.rule1.rle$lengths >= 2 
                       & zz.rule1.rle$values == TRUE)

## Western Electric rule 2
## 4 consecutive points fall beyond 1 sd limits
zz.rule2 <- abs(zz) > zz.s
zz.rule2.rle <- rle(as.vector(zz.rule2))
zz.rule2.warn <- which(zz.rule2.rle$lengths >= 4
                       & zz.rule2.rle$values == TRUE)

## Western Electric rule 3
## 8 consecutive points fall on one side of the centerline
zz.rule3 <- zz > 0
zz.rule3.rle <- rle(as.vector(zz.rule3))
zz.rule3.warn <- which(zz.rule3.rle$lengths >= 8)

## now colour the graph in to show where it's going wrong.
## using rule1 = red, rule2 = orange, rule3 = blue
##
## this is tedious enough that i'd brew up a function
## that takes the rle object, and the warning indicies
## and plots the right points

plot.warn.x <- function(tsobj, rleobj, ind, col,...) {
    if(length(ind) <= 0) return()
    ## got here, there must be something interesting
    ##
    ## need to convert lengths back to indicies
    ind.x <- c(1,cumsum(rleobj$lengths)+1)

    for(i in seq(along=ind)) {
        x.coords <- ind.x[ind[i]]:(ind.x[ind[i]+1]-1)
        lines(x.coords + start(tsobj)[1]-1,tsobj[x.coords],col=col,...)
        rug(x.coords + start(tsobj)[1],col=col,...)
    }
    
}
    
plot.warn.x(zz, zz.rule3.rle, zz.rule3.warn, "blue")
plot.warn.x(zz, zz.rule2.rle, zz.rule2.warn, "orange")
plot.warn.x(zz, zz.rule1.rle, zz.rule1.warn, "red")

---

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Tue May 21 19:53:58 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Tue, 21 May 2002 19:53:58 +0200
Subject: [R] setClass() and packages
In-Reply-To: <Pine.LNX.4.31.0205211742390.23471-100000@gannet.stats>; from ripley@stats.ox.ac.uk on Tue, May 21, 2002 at 05:47:45PM +0100
References: <6rwutxsbhu.fsf@franz.stat.wisc.edu> <Pine.LNX.4.31.0205211742390.23471-100000@gannet.stats>
Message-ID: <20020521195358.B15568@giraffa.cbs.dtu.dk>

On Tue, May 21, 2002 at 05:47:45PM +0100, ripley at stats.ox.ac.uk wrote:
> On 21 May 2002, Douglas Bates wrote:
> 
> > We use file names like
> >
> >  AllClass.R   # definition of classes
> >  AllGeneric.R # definition of generic functions
> >
> > (or perhaps AllClasses.R and AllGenerics.R for the fastidious).  As
> > you say, these are not guaranteed to be processed first but we tend to
> > use lower case letters for our other .R file names.
> 
> Unfortunately there are locales in which lower case comes before upper
> case, surprisingly.  en_US is one (on Linux and Solaris at least).  So I
> think starting with 0 is safer.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

Explicit calls to class definition files can be included in the function
.First.lib (this way you have full control on the order of the declarations)

(look at the files zzz.R in many of packages of bioconductor)


Cheers,

Laurent


-- 
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mai at ms.uky.edu  Tue May 21 22:21:35 2002
From: mai at ms.uky.edu (Mai Zhou)
Date: Tue, 21 May 2002 16:21:35 -0400 (EDT)
Subject: [R] device png() in batch mode?
Message-ID: <200205212021.g4LKLZB29031@t1.mscf.uky.edu>

Dear helper, I am using linux (redhat) R 1.5.0, in the 
batch mode. 

The device png() do not seem to be available.

A look at the help says png() is available if I
use --gui option.

Is there a way to get around it? 
(to get png("Rplot.png") in batch mode?)

The reason I need batch mode is that I am working to get the Rcgi
to run.

Thanks,

Mai Zhou
mai at ms.uky.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May 21 22:53:12 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 May 2002 22:53:12 +0200
Subject: [R] device png() in batch mode?
In-Reply-To: <200205212021.g4LKLZB29031@t1.mscf.uky.edu>
References: <200205212021.g4LKLZB29031@t1.mscf.uky.edu>
Message-ID: <x27klx4407.fsf@blueberry.kubism.ku.dk>

Mai Zhou <mai at ms.uky.edu> writes:

> Dear helper, I am using linux (redhat) R 1.5.0, in the 
> batch mode. 
> 
> The device png() do not seem to be available.
> 
> A look at the help says png() is available if I
> use --gui option.
> 
> Is there a way to get around it? 
> (to get png("Rplot.png") in batch mode?)

bitmap() (it is on the help page...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Tue May 21 23:32:08 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Tue, 21 May 2002 18:32:08 -0300
Subject: [R] Point labels
Message-ID: <4.2.2.20020521182430.00a6f320@pop3.arnet.com.ar>

Hello,
Is there an option I can easily set to put labels next to the points in a 
simple plot?
The closest I got to it was to use the option pch, but this replaces the 
point symbol with the character specified, and it is not what I want.
Thanks
  

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Wed May 22 01:14:30 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 21 May 2002 19:14:30 -0400
Subject: [R] Point labels
In-Reply-To: <4.2.2.20020521182430.00a6f320@pop3.arnet.com.ar>; from mastropi@uwalumni.com on Tue, May 21, 2002 at 06:32:08PM -0300
References: <4.2.2.20020521182430.00a6f320@pop3.arnet.com.ar>
Message-ID: <20020521191430.A11748@cattell.psych.upenn.edu>

On 05/21/02 18:32, Daniel Mastropietro wrote:
>Is there an option I can easily set to put labels next to the points in a 
>simple plot?
>The closest I got to it was to use the option pch, but this replaces the 
>point symbol with the character specified, and it is not what I want.

See text().  You might have to add a constant to have the text
_next to_ the symbols.  If you want to _replace_ the symbols, you
can use type="n" in plot(), then use text() in the next command.
Here is an example of the latter that I found in one of my own
files:

plot(vmtable[1:2,],type="n");text(vmtable[1:2,],cases)

Here "cases" is a vector with the names I want plotted.

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Wed May 22 01:22:06 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Tue, 21 May 2002 16:22:06 -0700 (PDT)
Subject: [R] Point labels
In-Reply-To: <4.2.2.20020521182430.00a6f320@pop3.arnet.com.ar>
Message-ID: <Pine.GSO.4.10.10205211620410.3443-100000@quetelet.stat.ucla.edu>

You can use text(), but you'll have to do some calculation on the exact
placement of the label:

plot(2, 3)
text(2, 3 - .1, label = "my point")

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Tue, 21 May 2002, Daniel Mastropietro wrote:

> Hello,
> Is there an option I can easily set to put labels next to the points in a 
> simple plot?
> The closest I got to it was to use the option pch, but this replaces the 
> point symbol with the character specified, and it is not what I want.
> Thanks
>   
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From robut at forest.go.th  Wed May 22 03:58:57 2002
From: robut at forest.go.th (Robert Cunningham)
Date: Wed, 22 May 2002 08:58:57 +0700
Subject: [R] white in the default palette
Message-ID: <FAD37E46320F154CA434D82BBFE41CE014C9E2@dc-server.forest.go.th>

Dear All, 

[I'd already sent this message earlier (Apr 6) but as I had no response
and I still see that it is the case in R1.5 I thought I'd try again]

I recently encountered a problem (actually missed some data) because 
"white" is one of colours in the "default" palette and that does not 
show up to well on my transparent (on white background). Of course it is

easily fixed but I think white should not be a default colour. 



> palette("default") 
> palette() 
[1] "black" "red" "green3" "blue" "cyan" "magenta" "yellow" 


[8] "white" 
> par()$bg 
[1] "transparent" 
> 


> version 
         _ 
platform i386-pc-mingw32 
arch x86 
os Win32 
system x86, Win32 
status 
major 1 
minor 4.1 
year 2002 
month 01 
day 30 
language R 



Cheers, 
Robert Cunningham 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arc at arcriswell.com  Wed May 22 17:41:43 2002
From: arc at arcriswell.com (arcriswell)
Date: Wed, 22 May 2002 22:41:43 +0700
Subject: [R] multicomp() in S+ and R
References: <Pine.GSO.4.10.10205211620410.3443-100000@quetelet.stat.ucla.edu>
Message-ID: <006e01c201a7$2f938b40$c6d994cb@andrewvhowclyz>

Hello All:

Is there a function in R similar to multicomp() in S+ ?

Thanks,
ANDREW

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jarioksa at sun3.oulu.fi  Wed May 22 07:44:01 2002
From: jarioksa at sun3.oulu.fi (Jari Oksanen)
Date: Wed, 22 May 2002 08:44:01 +0300
Subject: [R] Point labels 
In-Reply-To: Message from Jonathan Baron <baron@cattell.psych.upenn.edu> 
   of "Tue, 21 May 2002 19:14:30 EDT." <20020521191430.A11748@cattell.psych.upenn.edu> 
Message-ID: <200205220544.g4M5i2E18430@pc112145.oulu.fi>


mastropi at uwalumni.com said:
> Is there an option I can easily set to put labels next to the points
> in a  simple plot? The closest I got to it was to use the option pch,
> but this replaces the  point symbol with the character specified, and
> it is not what I want.

text() was already mentioned. identify() may be more flexible, since
there you can click the side where you want to have your labels and
avoid congestion and overwriting of labels (indentify() becomes
impractical if you need a large amount of labels, of course). 

It would be nice to have a function which plots the points + labels
automatically, but lets you move congested labels.  This _may_ be doable
with  package`tcltk' -- at least I once did this in Python/TkInter/
TclTk, but probably I don't have time to look whether this is beyond my
skills in R/tcltk. 

cheers, jari oksanen
-- 
Jari Oksanen -- Dept Biology, Univ Oulu, 90014 Oulu, Finland
Ph. +358 8 5531526, cell +358 40 5136529, fax +358 8 5531061
email jari.oksanen at oulu.fi, homepage http://cc.oulu.fi/~jarioksa/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 22 08:17:57 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 22 May 2002 07:17:57 +0100 (BST)
Subject: [R] multicomp() in S+ and R
In-Reply-To: <006e01c201a7$2f938b40$c6d994cb@andrewvhowclyz>
Message-ID: <Pine.GSO.4.44.0205220708220.8494-100000@auk.stats>

On Wed, 22 May 2002, arcriswell wrote:

> Hello All:
>
> Is there a function in R similar to multicomp() in S+ ?

No.  But there are TukeyHSD in base and pairwise.t.test and
pairwise.wilcox.test in ctest, which cover part of the ground covered by
multicomp.

If you look in the archives you will see this has cropped up repeatedly,
and you will find the arguments why adjustment for multiple comparisons is
given little importance.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From morganho at mail.telepac.pt  Wed May 22 10:56:06 2002
From: morganho at mail.telepac.pt (morganho@mail.telepac.pt)
Date: Wed, 22 May 2002 9:56:06 +0100
Subject: [R] tree.control 
Message-ID: <20020522085606.IVAO1637.fep06-svc.mail.telepac.pt@[127.0.0.1]>

Hi.
     I'm trying to get a tree, that fits all the lines of the training set ( a tree with no error in classification)

 data(iris)
 tree.control(150,mindev=3D-1,minsize=3D2)
 ir.tr <- tree(Species ~., iris)
 ir.tr
 summary(ir.tr)

     I'm trying to use this as a test, but it still have some examples  that are classified wrongly...
     Anyone could tell me what's the problem?

     Thanks


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gavin.simpson at ucl.ac.uk  Wed May 22 11:16:48 2002
From: gavin.simpson at ucl.ac.uk (Gavin Simpson)
Date: Wed, 22 May 2002 10:16:48 +0100
Subject: [R] Point labels
In-Reply-To: <4.2.2.20020521182430.00a6f320@pop3.arnet.com.ar>
Message-ID: <000201c20171$66bc3da0$4c202880@gsimpson>

There is a very simple and nice example of how to go about producing
this result in John Maindonald's "Using R for data analysis and
graphics", found at:

http://cran.r-project.org/doc/contrib/usingR.pdf

Section 3.3 Adding points lines and text would seem to be what you are
after, including how to get the 1 character offsets for the label of
each point.

The example goes as follows, using files from JM's home page (there is
link to it from http://cran.r-project.org/other-docs.html )

> attach(primates)
> plot(x=Bodywt, y=Brainwt, pch=16, xlab="Body weight (kg)", 
	ylab="Brain weight (g)",xlim=c(5,240), ylim=c(0,1500))
> chw < <- par()$cxy[1]
> text(x=Bodywt+chw, y=Brainwt, labels=row.names(primates), adj=0)

Which places labels to the right of the plotted points.

Substitute your variables and row.names/vector of labels for the ones
used above, but I'd recommend downloading JM's guide as it is a very
good introduction to all things R.

All the best

Gavin Simpson

%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%
Gavin Simpson                     [T] +44 (0)20 7679 5402
ENSIS Research Fellow             [F] +44 (0)20 7679 7565
ENSIS Ltd. & ECRC                 [E] gavin.simpson at ucl.ac.uk
UCL Department of Geography       [W] http://www.ucl.ac.uk/~ucfagls/cv/
26 Bedford Way                    [W] http://www.ucl.ac.uk/~ucfagls/
London.  WC1H 0AP.
%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On Behalf Of Daniel Mastropietro
Sent: 21 May 2002 22:32
To: r-help at stat.math.ethz.ch
Subject: [R] Point labels


Hello,
Is there an option I can easily set to put labels next to the points in
a 
simple plot?
The closest I got to it was to use the option pch, but this replaces the

point symbol with the character specified, and it is not what I want.
Thanks
  

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 22 11:20:11 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 22 May 2002 10:20:11 +0100 (BST)
Subject: [R] tree.control 
In-Reply-To: <20020522085606.IVAO1637.fep06-svc.mail.telepac.pt@[127.0.0.1]>
Message-ID: <Pine.LNX.4.31.0205221013300.11343-100000@gannet.stats>

On Wed, 22 May 2002 morganho at mail.telepac.pt wrote:

> Hi.
>      I'm trying to get a tree, that fits all the lines of the training set ( a tree with no error in classification)
>
>  data(iris)
>  tree.control(150,mindev=3D-1,minsize=3D2)

That gives me a syntax error, but I suspect the `3D' should be omitted.

>  ir.tr <- tree(Species ~., iris)
>  ir.tr
>  summary(ir.tr)
>
>      I'm trying to use this as a test, but it still have some examples  that are classified wrongly...
>      Anyone could tell me what's the problem?

You are not using tree.control correctly!  See ?tree.  Perhaps

ir.tr <- tree(Species ~., iris, minsize=0)

was what you meant.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Wed May 22 11:44:51 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Wed, 22 May 2002 11:44:51 +0200
Subject: [R] someProblem in R-1.4.1
Message-ID: <001101c20175$56906420$5c13070a@it.giustizia.it>

Hi all,
This seems a very strange problem, but I'm running R-1.4.1 so, probably it
has been solved in the 1.5.0 version (unfortunatly I can  neither download
the new version nor see the archive).

Assignement of column names in a matrix, works just after editing it:

> M<-matrix(0,10,5)
> dimnames(M)[[2]]<-c("a","m","m","m","m") #say
Error: more elements supplied than there are to replace
> fix(M)
> dimnames(M)[[2]]<-c("a","m","m","m","m") #works

Furthermore the following problem also seems related:
nr<-20
M<-matrix(0,nr,5)
for(i in 1:nr){
            ........some functions.........
            M[i,]<-c(....) #5-dimensional vector
}
It works until to i=10 and then the following message appears:
Error in "[<-"(*tmp*, i, , value =c(......., :
            number of items to replace is not a multiple of replacement
length

This sound me very strange, because if some errors there are, it should not
work also for i<=10.
The loop perfectly works with nr=10 , but it doesn't so for nr=15, 30, for
instance.

Many thanks for your help
best,
vito


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Wed May 22 11:55:15 2002
From: siim at obs.ee (Ott Toomet)
Date: Wed, 22 May 2002 11:55:15 +0200 (CEST)
Subject: [R] using axis with newline characters
In-Reply-To: <OF990EBF23.60BC7943-ONC1256BC0.0038F06B@is.chbs>
Message-ID: <Pine.LNX.4.44.0205221153060.1424-100000@localhost.localdomain>

Hi,

On Tue, 21 May 2002 andreas.krause at pharma.novartis.com wrote:

  |Wondering if I missed anything or if that's a problem with R:
  |I want to have many x axis tickmarks and labels such that it makes sense to put them on multiple "lines".
  |The newline character seems to be ignored though for axis labels:
  |
  |plot(1:33, axes=F)
  |axis(1, 9, 9)
  |axis(1, 11, "\n11")
  |axis(1)

Use par(mgp).  Example:

> plot(1:33)
> par(mgp=c(3,2,0))
> axis(1,9,9)

Was it what you wanted?

Cheers,

Ott

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 22 11:59:39 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 22 May 2002 10:59:39 +0100 (BST)
Subject: [R] someProblem in R-1.4.1
In-Reply-To: <001101c20175$56906420$5c13070a@it.giustizia.it>
Message-ID: <Pine.GSO.4.44.0205221055560.8791-100000@auk.stats>

On Wed, 22 May 2002, vito muggeo wrote:

> Hi all,
> This seems a very strange problem, but I'm running R-1.4.1 so, probably it
> has been solved in the 1.5.0 version (unfortunatly I can  neither download
> the new version nor see the archive).
>
> Assignement of column names in a matrix, works just after editing it:
>
> > M<-matrix(0,10,5)
> > dimnames(M)[[2]]<-c("a","m","m","m","m") #say
> Error: more elements supplied than there are to replace

That's incorrect.  Try

> dimnames(M)
NULL

so you are trying to replace the second element of NULL.

colnames(M)<-c("a","m","m","m","m") #say

will work, as will
dimnames(M) <- list(NULL, c("a","m","m","m","m"))

> > fix(M)

That adds colnames, as it uses the internals of edit.data.frame.

> > dimnames(M)[[2]]<-c("a","m","m","m","m") #works

This is still the same in 1.5.0.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed May 22 12:14:53 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 22 May 2002 12:14:53 +0200
Subject: [R] someProblem in R-1.4.1
References: <001101c20175$56906420$5c13070a@it.giustizia.it>
Message-ID: <3CEB6F9D.E11EE6D@statistik.uni-dortmund.de>

vito muggeo wrote:
> 
> Hi all,
> This seems a very strange problem, but I'm running R-1.4.1 so, probably it
> has been solved in the 1.5.0 version (unfortunatly I can  neither download
> the new version nor see the archive).
> 
> Assignement of column names in a matrix, works just after editing it:
> 
> > M<-matrix(0,10,5)
> > dimnames(M)[[2]]<-c("a","m","m","m","m") #say
> Error: more elements supplied than there are to replace
> > fix(M)
> > dimnames(M)[[2]]<-c("a","m","m","m","m") #works


During fix()-ing  the matrix got column names, and dimnames() got a list
of two elements (it was not before!).
Please read ?dimnames. The *second* example is not documented to work.

You can always assign names as described on the help page:
   dimnames(M) <- list(NULL, c("a","m","m","m","m"))

Or just use 
   colnames(M) <- c("a","m","m","m","m")


 
> Furthermore the following problem also seems related:
> nr<-20
> M<-matrix(0,nr,5)
> for(i in 1:nr){
>             ........some functions.........
>             M[i,]<-c(....) #5-dimensional vector
> }
> It works until to i=10 and then the following message appears:
> Error in "[<-"(*tmp*, i, , value =c(......., :
>             number of items to replace is not a multiple of replacement
> length

 nr <- 20
 M <- matrix(0, nr, 5)
 for(i in 1:nr) M[i,] <- 1:5

works for me. Can you provide an example?


> This sound me very strange, because if some errors there are, it should not
> work also for i<=10.
> The loop perfectly works with nr=10 , but it doesn't so for nr=15, 30, for
> instance.
> 
> Many thanks for your help
> best,
> vito

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From greggory.lefebvre at univ-rouen.fr  Wed May 22 12:21:45 2002
From: greggory.lefebvre at univ-rouen.fr (gregory lefebvre)
Date: Wed, 22 May 2002 12:21:45 +0200
Subject: [R] fitting non linear data
Message-ID: <3CEB7139.90D5CEBB@univ-rouen.fr>

Hye every one, 

My question will certainly seem stupid as I am quite a beginner in R.

I would like to trace a curve which fits these two vectors:
 x<-c( 2,3,4,5,6,7,8,10 )
 y<-c( 20, 12, 8, 6, 5, 4.5, 4, 3.8)

It seems to follow a non linear model.

Could anyone help me because I could'nt find the answer I am looking for
in the FAQs.

In advance thank you for your time.

G. Lefebvre
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Wed May 22 12:53:02 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Wed, 22 May 2002 22:53:02 +1200
Subject: [R] fitting non linear data
References: <3CEB7139.90D5CEBB@univ-rouen.fr>
Message-ID: <008501c2017e$d8ffb920$212137d2@n1bliarfyrd5b7>

Hi,

----- Original Message -----
From: "gregory lefebvre" <greggory.lefebvre at univ-rouen.fr>
To: <r-help at stat.math.ethz.ch>
Sent: Wednesday, May 22, 2002 10:21 PM
Subject: [R] fitting non linear data


> Hye every one,
>
> My question will certainly seem stupid as I am quite a beginner in R.

There are no stupid questions...:-)

> I would like to trace a curve which fits these two vectors:
>  x<-c( 2,3,4,5,6,7,8,10 )
>  y<-c( 20, 12, 8, 6, 5, 4.5, 4, 3.8)
>
> It seems to follow a non linear model.
>
> Could anyone help me because I could'nt find the answer I am looking for
> in the FAQs.

Take a look at:
  library(help=MASS)
  library(help=nls)

In particular, the nls (non-linear regression) package.

The MASS book (Modern Applied Statistics with Splus) by Ripley and Venables
is a very good book to start.  In Chapter 8 (of the 3rd Edition), there are
quite an extensive explanations of how you can do non-linear models in
R/Splus.

MASS and nls packages are installed with R, you can open
$R_HOME/library/MASS/scripts3/ch08.R to look at ALL the R codes for that
chapter on non-linear models.

Cheers,

Ko-Kang Wang
------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
www.stat.auckand.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Wed May 22 12:54:47 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 22 May 2002 06:54:47 -0400
Subject: [R] fitting non linear data
In-Reply-To: <3CEB7139.90D5CEBB@univ-rouen.fr>; from greggory.lefebvre@univ-rouen.fr on Wed, May 22, 2002 at 12:21:45PM +0200
References: <3CEB7139.90D5CEBB@univ-rouen.fr>
Message-ID: <20020522065447.A2354@cattell.psych.upenn.edu>

On 05/22/02 12:21, gregory lefebvre wrote:
>I would like to trace a curve which fits these two vectors:
> x<-c( 2,3,4,5,6,7,8,10 )
> y<-c( 20, 12, 8, 6, 5, 4.5, 4, 3.8)

The library nls (not included in the base) is one way to fit
nonlinear models.  You need to have some idea of the kind of
function you want to fit.  Without any idea of what these data
are, I thought an exponential function might do the trick, and I
took wild (and very wrong, because I forgot the minus sign for B)
guesses at the starting parameters:

> nls(y~A*exp(B*x),start=list(A=20,B=1))
Nonlinear regression model
  model:  y ~ A * exp(B * x) 
   data:  parent.frame 
         A          B 
35.6929652 -0.3290034 
 residual sum-of-squares:  16.28236 

Warning: In my experience nls does not always converge on a
solution (although it did this time).  Sometimes you need to fool
around with the starting parameters and other parameters, and
sometimes even then it won't work.  An alternative is optim(),
which seems to converge on a solution all the time (in my
experience) but which requires more study before you can use it.

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jesus.Frias at dit.ie  Wed May 22 12:59:37 2002
From: Jesus.Frias at dit.ie (Jesus Frias)
Date: Wed, 22 May 2002 11:59:37 +0100
Subject: [R] Code for simulating nonlinear mixed models from nlme
Message-ID: <009c01c2017f$c3d0a360$93a6fc93@G5Y080J>

Dear R-users,

    I would like to know if there is available any R code for the simulation
of fitted nlme objects. I am interested in predicting future observations
and the uncertainty associated to the prediction, being able to use the
random effect structure from the R model object, if possible.

best regards,

Jesus

Jesus M. Frias
School of Food Science & Environmental Health.
Dublin Institute of Technology
Cathal Brugha St. Dublin 1.
Tel: 01-402 3000 (ext. 1630)
Fax: 01-402 4549


--
This message has been scanned for viruses by the DIT
Computer Centre MailScanner Service, and is
believed to be clean.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Daniel.Amorese at geos.unicaen.fr  Wed May 22 13:48:33 2002
From: Daniel.Amorese at geos.unicaen.fr (=?ISO-8859-1?Q?Daniel_Amor=E8se?=)
Date: Wed, 22 May 2002 13:48:33 +0200
Subject: [R] qda and variable selection
Message-ID: <20020522134833.A5464@phoebe.msh.unicaen.fr>

Hello,

I am a beginner in R and data analysis.
I have the VR (MASS) library installed and "Modern Applied Statististics
with S-Plus" is my bedside book.
Could anybody provide me an R script (or pieces of an R script) to perform
a
stepwise quadratic discriminant analysis ?
Thanks 
-- 
Daniel AMORESE
Lab. M2C "Morphodynamique Continentale et C?ti?re"
UMR CNRS 6143 Caen/Rouen
Centre de G?omorphologie
UCBN (Universit? de Caen Basse-Normandie)
14032 Caen Cedex
FRANCE
Ph: +33 (0)2 31 56 57 19
Fax: +33 (0)2 31 56 57 57
Courriel: amorese at geos.unicaen.fr
http://www.geos.unicaen.fr/perso/da/daperso.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jesus.Frias at dit.ie  Wed May 22 15:08:06 2002
From: Jesus.Frias at dit.ie (Jesus Frias)
Date: Wed, 22 May 2002 14:08:06 +0100
Subject: [R] fitting non linear data
References: <3CEB7139.90D5CEBB@univ-rouen.fr>
Message-ID: <00e001c20191$b6ae5800$93a6fc93@G5Y080J>

Gregory,

    Please have a look at the library nls (it comes with the base
distribution of R).

    You'll find a good example in

http://cran.r-project.org/doc/manuals/R-intro.pdf (pp 62 is for nonlinear
least squares).

    You can use that document and the rest of the manuals at

http://cran.r-project.org/

 to guide yourself up through R.

best regards,

IOsu


----- Original Message -----
From: "gregory lefebvre" <greggory.lefebvre at univ-rouen.fr>
To: <r-help at stat.math.ethz.ch>
Sent: Wednesday, May 22, 2002 11:21 AM
Subject: [R] fitting non linear data


> Hye every one,
>
> My question will certainly seem stupid as I am quite a beginner in R.
>
> I would like to trace a curve which fits these two vectors:
>  x<-c( 2,3,4,5,6,7,8,10 )
>  y<-c( 20, 12, 8, 6, 5, 4.5, 4, 3.8)
>
> It seems to follow a non linear model.
>
> Could anyone help me because I could'nt find the answer I am looking for
> in the FAQs.
>
> In advance thank you for your time.
>
> G. Lefebvre
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>
> --
> This message has been scanned for viruses by the DIT
> Computer Centre MailScanner Service, and is
> believed to be clean.
>


--
This message has been scanned for viruses by the DIT
Computer Centre MailScanner Service, and is
believed to be clean.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Daniel.Amorese at geos.unicaen.fr  Wed May 22 15:06:36 2002
From: Daniel.Amorese at geos.unicaen.fr (=?ISO-8859-1?Q?Daniel_Amor=E8se?=)
Date: Wed, 22 May 2002 15:06:36 +0200
Subject: No subject
Message-ID: <20020522150636.A5895@phoebe.msh.unicaen.fr>

Perhaps, I should complement my previous e-mail question:
I am trying to select variables through a quadratic discriminant analysis.
It seems to me that a robust criterion is the value of the discriminatory
power
(i.e. the ratio of the separation of the class means to within-class
variance)
How can I obtain this ratio from V & R's qda() output ?
Thanks
(I hope this question is relevant)
-- 
Daniel AMORESE
Lab. M2C "Morphodynamique Continentale et C?ti?re"
UMR CNRS 6143 Caen/Rouen
Centre de G?omorphologie
UCBN (Universit? de Caen Basse-Normandie)
14032 Caen Cedex
FRANCE
Ph: +33 (0)2 31 56 57 19
Fax: +33 (0)2 31 56 57 57
Courriel: amorese at geos.unicaen.fr
http://www.geos.unicaen.fr/perso/da/daperso.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Daniel.Amorese at geos.unicaen.fr  Wed May 22 15:21:47 2002
From: Daniel.Amorese at geos.unicaen.fr (=?ISO-8859-1?Q?Daniel_Amor=E8se?=)
Date: Wed, 22 May 2002 15:21:47 +0200
Subject: [R] a more specific question about qda
Message-ID: <20020522152147.A5975@phoebe.msh.unicaen.fr>

Perhaps, I should complement my previous e-mail question:
I am trying to select variables through a quadratic discriminant analysis.
It seems to me that a robust criterion is the value of the discriminatory
power
(i.e. the ratio of the separation of the class means to within-class
variance)
How can I obtain this ratio from V & R's qda() output ?
Thanks
(I hope this question is relevant)
-- 
Daniel AMORESE
Lab. M2C "Morphodynamique Continentale et C?ti?re"
UMR CNRS 6143 Caen/Rouen
Centre de G?omorphologie
UCBN (Universit? de Caen Basse-Normandie)
14032 Caen Cedex
FRANCE
Ph: +33 (0)2 31 56 57 19
Fax: +33 (0)2 31 56 57 57
Courriel: amorese at geos.unicaen.fr
http://www.geos.unicaen.fr/perso/da/daperso.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Wed May 22 15:59:10 2002
From: rolf at math.unb.ca (Rolf Turner)
Date: Wed, 22 May 2002 10:59:10 -0300 (ADT)
Subject: [R] Re: assigning with operator '='.
Message-ID: <200205221359.KAA17369@gelfand.math.unb.ca>


I've just checked out Jens Oehlschlgel's posting as regards assigning
with the ``='' operator.  Yep, the phenomenon described really does
happen.  And yep, it sure seems ***very*** dangerous to me.

Mind you, using ``='' as the assignment operator strikes me as being
dangerous anyhow.  Bad design decision by the S people (by John
Chambers?) and R should ***not*** have followed suit, compatibility
or no compatibility.

The best workaround for the problem raised by Jens is

	***NEVER NEVER NEVER*** use ``='' as
	the assigment operator.

But the R core team should take steps to get rid of this behaviour
(or better still, get rid of ``='' as assignment!!!).

					cheers,

						Rolf Turner
						rolf at math.unb.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Wed May 22 16:05:13 2002
From: macq at llnl.gov (Don MacQueen)
Date: Wed, 22 May 2002 07:05:13 -0700
Subject: [R] Unwanted Levels in R
In-Reply-To: <200205211415.KAA28132@webmail2.cac.psu.edu>
References: <200205211415.KAA28132@webmail2.cac.psu.edu>
Message-ID: <p05111702b9115496876c@[128.115.153.6]>

If this is a one-time-only job, and the number of data sets that has 
been combined isn't too large, simply use a text editor to split the 
file into separate files, one for each set, and read each one 
separately with read.table, using its skip argument.

Then rbind() them in R.

Or not, for that matter. The other solutions appear to discard the 
information about which values are for which location.

-Don

At 10:15 AM -0400 5/21/02, MATT BORKOWSKI wrote:
>To clarify:
>The lines beginning with A,B,C,D,E are part of a header file.  Below 
>the header
>are lines that contain values that correspond.  The problem is that there are
>a number of data sets combined, so the header randomly repeats after an
>varying number of data lines.  Would it solve the problem to simply 
>treat the line
>that begin with A,B,C,D,, or E differently?  If so, how do they need 
>to be treated?
>I've copied a bit more of the data below to demonstrate more clearly how the
>data is arranged within the file.
>
>A  900003024 ODEN     SWEDEN          ODEN91          NSIDC.ORG/PROJE
>B     900003     -9  1 NAN OBS         0
>C 1991  9  7 13 -9 XX   90.0000     .0000 XX
>D    36   10.0   10.1 4183.0 4270.7 4219.0 Z 13  0 OBSERV
>E    -9.0   -9.0 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000
>    25.0   25.3 -1.7050 -1.7054 31.4970 25.3313 34.8074 43.8571 -9.0000  8.630 
>    50.0   50.6 -1.7400 -1.7408 32.3660 26.0382 35.5010 44.5377 -9.0000  8.280 
>    89.0   90.0 -1.6550 -1.6566 32.8530 26.4320 35.8807 44.9043 -9.0000  7.430 
>    109.0  110.3 -1.5420 -1.5444 33.8830 27.2659 36.6893 45.6886 -9.0000  7.360
>...
>...
>...
>A  900002034 LOUIS ST: LAURENT   UNITED STATES   AO1994   NSIDC.ORG/PROJE
>B     900002         -9  1 NAN OBS         0
>C 1994  8 20 22 -9 XX   89.0167  137.1517 XX
>D    36   13.0   13.1 4075.0 4159.4 4075.0 Z 13  0 LASTLE
>E    -9.0   -9.0 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000
>   13.0   13.1 -1.7650 -1.7652 32.9160 26.4856 35.9403 44.9690 -9.0000  8.580
>
>Matt
>
>
>On Tue, 21 May 2002 15:46:58 +0200, Peter Dalgaard BSA 
><p.dalgaard at biostat.ku.dk> wrote:
>
>>  "MATT BORKOWSKI" <mpb170 at psu.edu> writes:
>>
>>  > is there anyway to overcome it?  Here are a few lines of the data I'm
>>  > attempting to read in:
>>  >
>>  > A  900003024 ODEN   SWEDEN  ODEN91 NSIDC.ORG/PROJE
>>  > B     900003         -9  1 NAN OBS         0
>>  > C 1991  9  7 13 -9 XX   90.0000     .0000 XX
>>  > D    36   10.0   10.1 4183.0 4270.7 4219.0 Z 13  0 OBSERV
>>  > E    -9.0   -9.0 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000 -9.0000
>>  >    10.0   10.1 -1.6970 -1.6971 31.4940 25.3287 34.8044 43.8535 -9.0000
>>  >
>>  > Here are the commands I have tried using to read in the data:
>>  >
>>  > >alldata <- read.table("/home/mattb/xxx.dat", fill = TRUE, quote = "")
>>  >
>>  > >alldata <- as.list(read.table("/home/mattb/xxx.dat", fill = 
>>TRUE, quote = "")
>>
>>  As far as I can see, there is no connection between values in the same
>>  position in different lines? If so, trying to make a data frame out of
>>  the file is simply inappropriate and you should rather use ReadLines
>>  and postprocess the lines according to whatever logic they are
>>  supposed to obey.
>  >
>  > --
>  >    O__  ---- Peter Dalgaard             Blegdamsvej 3
>  >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  >  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>>  ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plecca at kirk.science.unitn.it  Wed May 22 16:24:09 2002
From: plecca at kirk.science.unitn.it (Paola Lecca)
Date: Wed, 22 May 2002 16:24:09 +0200 (MET DST)
Subject: [R] Tps regression question
Message-ID: <Pine.OSF.4.31.0205221600590.2819-100000@kirk.science.unitn.it>

Dear all,

I'm a beginner in spatial regression, therefore, excuse me in advance for
the stupid question.

I'm using the function Tps of field library. As I read in help, the
assumed model for this regression is additive  Y = f(X) + e  where f(X)
is a d dimensional surface.

I have understood that d in not an argument to specify in Tps(x, Y, ...).

How can I obtain d ?

Thanks a lot.
Paola.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Wed May 22 15:16:34 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Wed, 22 May 2002 09:16:34 -0400
Subject: [R] fitting non linear data
In-Reply-To: <3CEB7139.90D5CEBB@univ-rouen.fr>
References: <3CEB7139.90D5CEBB@univ-rouen.fr>
Message-ID: <20020522091634.783c94c9.fharrell@virginia.edu>

To factor in model uncertainty you might bootstrap a semiparametric regression.   The Hmisc library areg.boot function, using the default method of avas, develops a semiparametric additive model and uses the bootstrap for confidence bands for the transformations on predictor and response variables.  As an example I tried

f <- areg.boot(I(y) ~ x)   # don't transform y, optimally transform x
# The default y ~ x shows a lot of uncertainty in transformation of y for
# large y

f

avas Additive Regression Model

areg.boot(x = I(y) ~ x)

n= 8   p= 1 

Apparent R2 on transformed Y scale: 0.886
Bootstrap validated R2            : 0.683

Coefficients of standardized transformations:

    Intercept             x 
-1.503799e-16  1.087857e+00 

summary(f)

summary.areg.boot(obj = f)

Estimates based on 100 resamples

Values to which predictors are set when estimating
effects of other predictors:

I(y)    x 
 5.5  5.5 

Estimates of differences of effects on Median Y (from first X value),
and bootstrap standard errors of these differences.
Settings for X are shown as row headings.


Predictor: x 
      
x      Differences      S.E Lower 0.95 Upper 0.95         Z      Pr(|Z|)
  3.75    0.000000       NA         NA         NA        NA           NA
  5.50   -4.614057 1.268541  -7.100353  -2.127762 -3.637294 0.0002755177
  7.25   -7.144868 2.030195 -11.123978  -3.165758 -3.519300 0.0004326864

plot(f)  # see attached

I had to fix a small bug in the function to make this work.
In the plot, confidence bands are in black, individual bootstrap estimates are in red.

Frank Harrell


On Wed, 22 May 2002 12:21:45 +0200
gregory lefebvre <greggory.lefebvre at univ-rouen.fr> wrote:

> Hye every one, 
> 
> My question will certainly seem stupid as I am quite a beginner in R.
> 
> I would like to trace a curve which fits these two vectors:
>  x<-c( 2,3,4,5,6,7,8,10 )
>  y<-c( 20, 12, 8, 6, 5, 4.5, 4, 3.8)
> 
> It seems to follow a non linear model.
> 
> Could anyone help me because I could'nt find the answer I am looking for
> in the FAQs.
> 
> In advance thank you for your time.
> 
> G. Lefebvre
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-------------- next part --------------
A non-text attachment was scrubbed...
Name: z.png
Type: image/png
Size: 11010 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020522/85c3e3f3/z.png

From p.dalgaard at biostat.ku.dk  Wed May 22 17:00:15 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 May 2002 17:00:15 +0200
Subject: [R] Re: assigning with operator '='.
In-Reply-To: <200205221359.KAA17369@gelfand.math.unb.ca>
References: <200205221359.KAA17369@gelfand.math.unb.ca>
Message-ID: <x23cwkqlc0.fsf@blueberry.kubism.ku.dk>

Rolf Turner <rolf at math.unb.ca> writes:

> I've just checked out Jens Oehlschlgel's posting as regards assigning
> with the ``='' operator.  Yep, the phenomenon described really does
> happen.  And yep, it sure seems ***very*** dangerous to me.
> 
> Mind you, using ``='' as the assignment operator strikes me as being
> dangerous anyhow.  Bad design decision by the S people (by John
> Chambers?) and R should ***not*** have followed suit, compatibility
> or no compatibility.
> 
> The best workaround for the problem raised by Jens is
> 
> 	***NEVER NEVER NEVER*** use ``='' as
> 	the assigment operator.
> 
> But the R core team should take steps to get rid of this behaviour
> (or better still, get rid of ``='' as assignment!!!).

Well, we haven't exactly advertised it very much... Mainly, it is
there because it is used in some books (John's green one, notably) and
it's nice to allow people to use it with R. You're not allowed to use
it in while and if conditions, so the danger is limited, but if you
insist on goofing, you can do

 a = (b = 3) + 1

when you intended

 a = (b == 3) + 1

but then again you can also do

t.sim <- simulation.that.runs.for.hours()
sum(t.sim>1.96)
sum(t.sim<-1.96)

as I suspect everyone has done at some point....

The subassignment behaviour is surely a bug, although not easily
spotted.

do_set has

    switch (PRIMVAL(op)) {
    case 1: case 3:                                     /* <-, = */
    ...

so clearly the intention is that they are the same, but the "op" is
getting passed down into somewhere where it matters, obviously...


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May 22 17:27:26 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 May 2002 17:27:26 +0200
Subject: [R] Re: assigning with operator '='.
In-Reply-To: <x23cwkqlc0.fsf@blueberry.kubism.ku.dk>
References: <200205221359.KAA17369@gelfand.math.unb.ca>
	<x23cwkqlc0.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2y9ecp5i9.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> The subassignment behaviour is surely a bug, although not easily
> spotted.
> 
> do_set has
> 
>     switch (PRIMVAL(op)) {
>     case 1: case 3:                                     /* <-, = */
>     ...
> 
> so clearly the intention is that they are the same, but the "op" is
> getting passed down into somewhere where it matters, obviously...

Got it....

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed May 22 17:39:56 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 22 May 2002 08:39:56 -0700 (PDT)
Subject: [R] multicomp() in S+ and R
In-Reply-To: <Pine.GSO.4.44.0205220708220.8494-100000@auk.stats>
Message-ID: <Pine.A41.4.44.0205220838210.60458-100000@homer36.u.washington.edu>

On Wed, 22 May 2002, Prof Brian D Ripley wrote:

> On Wed, 22 May 2002, arcriswell wrote:
>
> > Hello All:
> >
> > Is there a function in R similar to multicomp() in S+ ?
>
> No.  But there are TukeyHSD in base and pairwise.t.test and
> pairwise.wilcox.test in ctest, which cover part of the ground covered by
> multicomp.

And p.adjust in base

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed May 22 17:44:02 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 22 May 2002 08:44:02 -0700 (PDT)
Subject: [R] Re: assigning with operator '='.
In-Reply-To: <200205221359.KAA17369@gelfand.math.unb.ca>
Message-ID: <Pine.A41.4.44.0205220842211.60458-100000@homer36.u.washington.edu>

On Wed, 22 May 2002, Rolf Turner wrote:

>
> I've just checked out Jens Oehlschlgel's posting as regards assigning
> with the ``='' operator.  Yep, the phenomenon described really does
> happen.  And yep, it sure seems ***very*** dangerous to me.

Yes. It's a bug, as I said yesterday. It happened with <- in previous
versions of R.  It only happens under fairly unusual circumstances, which
is why it wasn't fixed earlier.

> Mind you, using ``='' as the assignment operator strikes me as being
> dangerous anyhow.  Bad design decision by the S people (by John
> Chambers?) and R should ***not*** have followed suit, compatibility
> or no compatibility.

It's actually pretty harmless, since = is forbidden in most of the cases
where it would be ambiguous.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Wed May 22 18:42:36 2002
From: macq at llnl.gov (Don MacQueen)
Date: Wed, 22 May 2002 09:42:36 -0700
Subject: [R] Problem installing tcltk on Solaris
Message-ID: <p0511170ab91178aefcec@[128.115.153.6]>

I have built R 1.5.0, and tcl and tk 8.3.4 from sources on a Solaris 
2.7 machine. All _appear_ to build successfully. tcl and tk pass 
their test suites. They were configured to build shared libraries 
(though I also tried it with tk not shared).

When I try to use tcltk, I get this error message:

>  library(tcltk)
Error in dyn.load(x, as.logical(local), as.logical(now)) :
         unable to load shared library 
"/erd/statistic/apps/R/Rtk/build/library/tcltk/libs/tcltk.so":
   ld.so.1: /erd/statistic/apps/R/Rtk/build/bin/R.bin: fatal: 
relocation error: file 
/erd/statistic/apps/R/Rtk/build/library/tcltk/libs/tcltk.so: symbol 
Tk_SafeInit: referenced symbol not found

I would certainly appreciate some help getting tcltk support working.

Thanks
-Don



Here are various details that may or may not be helpful.

----- from config.site -----
CPPFLAGS="-I/erd/statistic/apps/R/local/include"
LDFLAGS="-L/erd/statistic/apps/R/local/lib"
TCLTK_LIBS="-L/erd/statistic/apps/R/local/lib"
TCLTK_CPPFLAGS="-I/erd/statistic/apps/R/local/include 
-I/usr/openwin/include/X11"

----- from config.log -----
(the command line used to configure)
$ ../source/configure --prefix=/erd/statistic/apps/R/Rtk 
--with-tcl-config=/erd/statistic/apps/R/tcltk/tcl8.3.4/unix/tclConfig.sh 
--with-tk-config=/erd/statistic/apps/R/tcltk/tk8.3.4/unix/tkConfig.sh

configure:20940: checking for 
/erd/statistic/apps/R/tcltk/tcl8.3.4/unix/tclConfig.sh
configure:20970: result: /erd/statistic/apps/R/tcltk/tcl8.3.4/unix/tclConfig.sh
configure:21014: checking for 
/erd/statistic/apps/R/tcltk/tk8.3.4/unix/tkConfig.sh
configure:21044: result: /erd/statistic/apps/R/tcltk/tk8.3.4/unix/tkConfig.sh


R is now configured for sparc-sun-solaris2.7

   Source directory:          ../source
   Installation directory:    /erd/statistic/apps/R/Rtk
   C compiler:                gcc  -g -O2
   C++ compiler:              g++  -g -O2
   FORTRAN compiler:          g77  -g -O2

   X11 support:               yes
   Gnome support:             no
   Tcl/Tk support:            yes
   Readline support:          yes

   R profiling support:       yes
   R as a shared library:     no

------- output from make ------
building package 'tcltk'
mkdir -p -- ../../../library/tcltk/R
mkdir -p -- ../../../library/tcltk/demo
mkdir -p -- ../../../library/tcltk/exec
mkdir -p -- ../../../library/tcltk/man
making tcltk.d from ../../../../../source/src/library/tcltk/src/tcltk.c
`Makedeps' is up to date.
gcc -I../../../../include -I/erd/statistic/apps/R/local/include 
-I/usr/openwin/include/X11  -I/usr/openwin/include 
-I/erd/statistic/apps/R/local/include   -fPIC  -g -O2 -c 
../../../../../source/src/library/tcltk/src/tcltk.c -o tcltk.o
gcc -G  -o tcltk.so tcltk.o  -L/erd/statistic/apps/R/local/lib -lm
mkdir -p -- ../../../../library/tcltk/libs



------- error message refers to SafeInit so look for it ------
lib[196]% nm 
/erd/statistic/apps/R/Rtk/build/library/tcltk/libs/tcltk.so | grep 
Safe
[103]   |         0|       0|NOTY |GLOB |0    |UNDEF  |Tk_SafeInit


lib[197]% nm /erd/statistic/apps/R/local/lib/libtk8.3.so | grep Safe
[3899]  |         0|       0|NOTY |GLOB |0    |UNDEF  |Tcl_IsSafe
[3718]  |    279788|      20|FUNC |GLOB |0    |8      |Tk_SafeInit

-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From i.mosqueira at ic.ac.uk  Wed May 22 19:55:25 2002
From: i.mosqueira at ic.ac.uk (Iago Mosqueira)
Date: Wed, 22 May 2002 18:55:25 +0100
Subject: [R] extracting labels and axis info from plot
Message-ID: <3CEBDB8D.504@ic.ac.uk>

Hi,

I would like to extract from a plot the text strings of the axis labels, 
and the ticks labels. I can get the extremes and step size for the ticks 
with par("yaxp"), but what about the axis labels?

Many thanks


iago

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From klundt at biostat.wisc.edu  Wed May 22 20:39:10 2002
From: klundt at biostat.wisc.edu (Christopher Klundt)
Date: Wed, 22 May 2002 13:39:10 -0500
Subject: [R] Two Level Nested ANOVA
Message-ID: <200205221839.g4MIdAU03716@nahir.biostat.wisc.edu>

Is it possible to do two level nested analysis of variance using R?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From klundt at biostat.wisc.edu  Wed May 22 20:42:41 2002
From: klundt at biostat.wisc.edu (Christopher Klundt)
Date: Wed, 22 May 2002 13:42:41 -0500 (CDT)
Subject: [R] Two-Level Nested ANOVA
Message-ID: <Pine.LNX.4.44.0205221341370.3757-100000@nahir.biostat.wisc.edu>

Is it possible to do two-level nested analysis of variance using a given R
package or function?

Christopher Klundt
University of Wisconsin-Madison
Research Assistant in Biostatistics
6785 MSC
Madison, WI 53706
608/265-3712

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Wed May 22 21:26:49 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Wed, 22 May 2002 19:26:49 +0000
Subject: [R] Two-Level Nested ANOVA
References: <Pine.LNX.4.44.0205221341370.3757-100000@nahir.biostat.wisc.edu>
Message-ID: <3CEBF0F9.32FB391D@sentoo.sn>

Morover, Douglas Bates (co-author of nlme and the book) should not be
very far from you...

:-)

Renaud

Christopher Klundt wrote:
> 
> Is it possible to do two-level nested analysis of variance using a given R
> package or function?
> 
> Christopher Klundt
> University of Wisconsin-Madison
> Research Assistant in Biostatistics
> 6785 MSC
> Madison, WI 53706
> 608/265-3712
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From klavan at tiscalinet.it  Wed May 22 21:35:33 2002
From: klavan at tiscalinet.it (Ambrosini Alessandro)
Date: Wed, 22 May 2002 21:35:33 +0200
Subject: [R] Problem
Message-ID: <PPEGLLABFLFCJDLCGPGHEELCCAAA.klavan@tiscalinet.it>

Hello. I don't know if you can help me but I try.
I have a collection of objects, we suppose that they are 1000. After some
works that I made I divided this collection in some clusters. Suppose to
have obtained 50 clusters. For each cluster I found a particular value
called Precision, where 0<Precision<1.
Taken the firs cluster I want to compare his Precision with the precision of
his complement that his obtained by the union of the remainder clusters.
After this I want to take the second cluster and make the same thing
comparing his precision with the precision of his complement. Take the third
cluster and so on. I want to do this for each cluster.
I want to use a test that compare the precision obtained for each cluster
with the precision of each complement. I want to know if the precision of
the singolar clusters are significantly different respect the precision of
the complement. I think that I have to make a vector with the precision of
the clusters and a vector with the precision of the complement. Maybe I have
to find the means of each vector and compare them. But wich is the test that
I have to use? Is it a t-student? And wich command I have to use if I want
to make this test?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Wed May 22 22:28:52 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 22 May 2002 16:28:52 -0400
Subject: [R] Problem
In-Reply-To: <PPEGLLABFLFCJDLCGPGHEELCCAAA.klavan@tiscalinet.it>; from klavan@tiscalinet.it on Wed, May 22, 2002 at 09:35:33PM +0200
References: <PPEGLLABFLFCJDLCGPGHEELCCAAA.klavan@tiscalinet.it>
Message-ID: <20020522162852.A12871@cattell.psych.upenn.edu>

On 05/22/02 21:35, Ambrosini Alessandro wrote:
>Hello. I don't know if you can help me but I try.
>I have a collection of objects, we suppose that they are 1000. After some
>works that I made I divided this collection in some clusters. Suppose to
>have obtained 50 clusters. For each cluster I found a particular value
>called Precision, where 0<Precision<1.
>Taken the firs cluster I want to compare his Precision with the precision of
>his complement that his obtained by the union of the remainder clusters.

So you want to compare two numbers.  Without some estimate of the
error of each number, I don't see how you can do this.  I am
assuming that the "precision of the complement" is one number.

[If it is actually 49 numbers, then you can (in principle) use a
t test, or a z test, comparing one number to the mean of the 49,
if you are willing to use the standard deviation of the 49 to
estimate the error of the one (which seems reasonable).  But I
don't think you mean this, because, if you did, the mean
difference between each number and the mean of the 49 others
would be zero.]

>After this I want to take the second cluster and make the same thing
>comparing his precision with the precision of his complement. Take the third
>cluster and so on. I want to do this for each cluster.
>I want to use a test that compare the precision obtained for each cluster

I don't think you mean "each".

>with the precision of each complement. I want to know if the precision of
>the singolar clusters are significantly different respect the precision of
>the complement. I think that I have to make a vector with the precision of
>the clusters and a vector with the precision of the complement. Maybe I have
>to find the means of each vector and compare them. But wich is the test that
>I have to use? Is it a t-student? And wich command I have to use if I want
>to make this test?

Now it sounds more like you are comparing two numbers for each
cluster.  Its precision and the precision of its complement.  A t
test does sound reasonable.  But you want the matched-pairs
version.  So if you have two vectors - clusters and complements -
you say
t.test(clusters,complements,paired=T)
or, equivalently,
t.test(clusters-complements)
(except that one may be the reverse of the other - I never
remember which way the first one goes).

See the help for t.test.

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mpb170 at psu.edu  Wed May 22 22:54:29 2002
From: mpb170 at psu.edu (MATT BORKOWSKI)
Date: Wed, 22 May 2002 16:54:29 -0400 (EDT)
Subject: [R] Cleaning Up Data Output
Message-ID: <200205222054.QAA08437@webmail5.cac.psu.edu>

I am working with data in a list and attempting to save it to an output file.
Using the 'write' gives errors so I'm using the 'write.table' function which
I'm aware converts the list to a data frame.  The problem is that when the
file is opened then, the data has all been output to one line.  Is this because
of the format of the data when it was loaded?  Or is it simply and side affect
of dealing with lists?  Is there a way to manage the data so that it will be
displayed with proper breaks when it is output to a file? 

Thanks,
Matt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Wed May 22 23:04:39 2002
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Wed, 22 May 2002 14:04:39 -0700
Subject: [R] plotting a 1000 plots?
Message-ID: <000901c201d4$4a1dd9c0$7c74c180@jackson>

I would like to plot lots of plots (2x2 plots) of a set of data for many
sets. I can do it just fine for one set of data, but I would like to
generate a small mountain of plots for others to examine. Basically, I would
like to generate the same par( mcol=c(2,2) ) plot for about 1000 datasets.
I've been iterating through them in the plot window, but I would like to
send all the plots to a eps file and plot the eps file (or bring the thing
into a latex doc and generate the pdf which I can do no problem. I don't
knwo who many datasets I will have and may and I think I'll just have to
create one file for each plot into a dir and somehow bring all the plots in
the dir into a document. Has anyone any suggestions for this task?


Thanks,
Jeff.


Jeff D. Hamann
Hamann, Donald & Associates
PO Box 1421
Corvallis, Oregon 97339
jeff_hamann at hamanndonald.com
www.hamanndonald.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Wed May 22 23:12:33 2002
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Wed, 22 May 2002 17:12:33 -0400
Subject: [R] Problem
Message-ID: <2C23DE2983BE034CB1CB90DB6B813FD639E9ED@uswpmx11.merck.com>

Dependence between complements might complicate things, depending on how
"precision" is calculated. So will the fact that the clustering rule is
presumably a function of the same data you're analyzing. In general you
might want to use resampling methods to handle this. It would be hard to
recommend anything without more details: how do you calculate precision? How
do you arrive at clusters? What is it you're trying to do--what's the big
picture? That actually matters as there are many hypotheses of homogeneity
one could test...

Reid Huntsinger

-----Original Message-----
From: Ambrosini Alessandro [mailto:klavan at tiscalinet.it]
Sent: Wednesday, May 22, 2002 3:36 PM
To: R-help
Subject: [R] Problem


Hello. I don't know if you can help me but I try.
I have a collection of objects, we suppose that they are 1000. After some
works that I made I divided this collection in some clusters. Suppose to
have obtained 50 clusters. For each cluster I found a particular value
called Precision, where 0<Precision<1.
Taken the firs cluster I want to compare his Precision with the precision of
his complement that his obtained by the union of the remainder clusters.
After this I want to take the second cluster and make the same thing
comparing his precision with the precision of his complement. Take the third
cluster and so on. I want to do this for each cluster.
I want to use a test that compare the precision obtained for each cluster
with the precision of each complement. I want to know if the precision of
the singolar clusters are significantly different respect the precision of
the complement. I think that I have to make a vector with the precision of
the clusters and a vector with the precision of the complement. Maybe I have
to find the means of each vector and compare them. But wich is the test that
I have to use? Is it a t-student? And wich command I have to use if I want
to make this test?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Wed May 22 23:30:03 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Wed, 22 May 2002 14:30:03 -0700 (PDT)
Subject: [R] plotting a 1000 plots?
In-Reply-To: <000901c201d4$4a1dd9c0$7c74c180@jackson>
Message-ID: <Pine.GSO.4.10.10205221426440.11022-100000@quetelet.stat.ucla.edu>

I believe you can send multiple plots to a pdf file by leaving the pdf()
device open.  By default, each new plot will be put on a different page in
the pdf file.  So,

pdf(file="lotsofplots.pdf")
par(mfcol=c(2,2))
plot(x1,y1)
plot(x2,y2)
plot(x3,y3)
dev.off()

The file 'lotsofplots.pdf' should have three pages. However, I remember
reading on this list somewhere that there's a hard limit of 512 pages to a
file, but I'm not 100% sure.  You may have to use one or two files,
depending on the number of datasets you're plotting. But I suppose that's
better than 1000 files.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Wed, 22 May 2002, Jeff D. Hamann wrote:

> I would like to plot lots of plots (2x2 plots) of a set of data for many
> sets. I can do it just fine for one set of data, but I would like to
> generate a small mountain of plots for others to examine. Basically, I would
> like to generate the same par( mcol=c(2,2) ) plot for about 1000 datasets.
> I've been iterating through them in the plot window, but I would like to
> send all the plots to a eps file and plot the eps file (or bring the thing
> into a latex doc and generate the pdf which I can do no problem. I don't
> knwo who many datasets I will have and may and I think I'll just have to
> create one file for each plot into a dir and somehow bring all the plots in
> the dir into a document. Has anyone any suggestions for this task?
> 
> 
> Thanks,
> Jeff.
> 
> 
> Jeff D. Hamann
> Hamann, Donald & Associates
> PO Box 1421
> Corvallis, Oregon 97339
> jeff_hamann at hamanndonald.com
> www.hamanndonald.com
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nklepeis at uclink.berkeley.edu  Thu May 23 00:02:34 2002
From: nklepeis at uclink.berkeley.edu (Neil Klepeis)
Date: Wed, 22 May 2002 15:02:34 -0700
Subject: [R] Tps regression question
References: <Pine.OSF.4.31.0205221600590.2819-100000@kirk.science.unitn.it>
Message-ID: <3CEC157A.4A432092@uclink.berkeley.edu>

Look at the 2D example for the ozone data set and the 4D example using
BD[,1:4] as input for `x'.   You input a matrix `x' with `d' dimensions
as multiple columns of data (independent variables).


Paola Lecca wrote:
> 
> Dear all,
> 
> I'm a beginner in spatial regression, therefore, excuse me in advance for
> the stupid question.
> 
> I'm using the function Tps of field library. As I read in help, the
> assumed model for this regression is additive  Y = f(X) + e  where f(X)
> is a d dimensional surface.
> 
> I have understood that d in not an argument to specify in Tps(x, Y, ...).
> 
> How can I obtain d ?
> 
> Thanks a lot.
> Paola.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
___________________________________________________________
Neil E. Klepeis -- School of Public Health, UC Berkeley and
Lawrence Berkeley National Laboratory, Berkeley, CA USA
http://socrates.berkeley.edu/~nklepeis
Phone: 831-768-9510
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Thu May 23 00:00:51 2002
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Wed, 22 May 2002 15:00:51 -0700
Subject: [R] plotting a 1000 plots?
References: <Pine.GSO.4.10.10205221426440.11022-100000@quetelet.stat.ucla.edu>
Message-ID: <000d01c201dc$2437e130$7c74c180@jackson>

ah-ha! had I only known. I forgot to check the other devices supported.
Works like a charm on windows too! Saaaweet!

Jeff.


----- Original Message -----
From: "Roger Peng" <rpeng at stat.ucla.edu>
To: "Jeff D. Hamann" <jeff_hamann at hamanndonald.com>
Cc: <r-help at stat.math.ethz.ch>
Sent: Wednesday, May 22, 2002 2:30 PM
Subject: Re: [R] plotting a 1000 plots?


> I believe you can send multiple plots to a pdf file by leaving the pdf()
> device open.  By default, each new plot will be put on a different page in
> the pdf file.  So,
>
> pdf(file="lotsofplots.pdf")
> par(mfcol=c(2,2))
> plot(x1,y1)
> plot(x2,y2)
> plot(x3,y3)
> dev.off()
>
> The file 'lotsofplots.pdf' should have three pages. However, I remember
> reading on this list somewhere that there's a hard limit of 512 pages to a
> file, but I'm not 100% sure.  You may have to use one or two files,
> depending on the number of datasets you're plotting. But I suppose that's
> better than 1000 files.
>
> -roger
> _______________________________
> UCLA Department of Statistics
> rpeng at stat.ucla.edu
> http://www.stat.ucla.edu/~rpeng
>
> On Wed, 22 May 2002, Jeff D. Hamann wrote:
>
> > I would like to plot lots of plots (2x2 plots) of a set of data for many
> > sets. I can do it just fine for one set of data, but I would like to
> > generate a small mountain of plots for others to examine. Basically, I
would
> > like to generate the same par( mcol=c(2,2) ) plot for about 1000
datasets.
> > I've been iterating through them in the plot window, but I would like to
> > send all the plots to a eps file and plot the eps file (or bring the
thing
> > into a latex doc and generate the pdf which I can do no problem. I don't
> > knwo who many datasets I will have and may and I think I'll just have to
> > create one file for each plot into a dir and somehow bring all the plots
in
> > the dir into a document. Has anyone any suggestions for this task?
> >
> >
> > Thanks,
> > Jeff.
> >
> >
> > Jeff D. Hamann
> > Hamann, Donald & Associates
> > PO Box 1421
> > Corvallis, Oregon 97339
> > jeff_hamann at hamanndonald.com
> > www.hamanndonald.com
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
> >
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Thu May 23 01:06:38 2002
From: jasont at indigoindustrial.co.nz (jasont@indigoindustrial.co.nz)
Date: Wed, 22 May 2002 23:06:38 GMT
Subject: [R] plotting a 1000 plots?
Message-ID: <E17AfBm-0007JI-00@pcp-2.ihug.co.nz>

> I would like to plot lots of plots (2x2 plots) of a set of data for many
> sets. I can do it just fine for one set of data, but I would like to
> generate a small mountain of plots for others to examine. Basically, I would
> like to generate the same par( mcol=c(2,2) ) plot for about 1000 datasets.

I do exactly this with Sweave(), where dozens of reports are run nightly 
that number into the hundreds of pages per report.

library(tools)
help(Sweave)

and...
http://www.ci.tuwien.ac.at/~leisch/Sweave/

(Free advice - if you're going to do 1000s of plots per run, and you're
not familiar with try(), get familiar it, to avoid Great Anguish <tm>).

I do this by making a temporary directory,  loop over a list of report titles, 
and have Sweave() produce a separate report for each into that temporary 
directory (you wind up with lots of self-contained .tex files).
I then run a perl script over every .tex file in the directory, collating 
them into one big .tex file.  The perl script is really quite simple (see 
below).  A good perl hacker could do a much better job;  I still
program perl like a mediocre C hacker.

Sweave produces eps and pdf versions of the plots, so running 
pdflatex directly is also an option, rather than 
LaTeX + eps -> dvi + dvipdfm -> pdf.

Sweave is a very, very good utility.  It's an amazing 
combination - typesetting by LaTeX, and calculations and graphics 
by R, handled seamlessly together, usually while I'm alseep, as the 
reports are run overnight.

Thanks, Fredrich!  

Cheers

Jason

collate.pl:

#!/usr/bin/perl -w
#
##########################
# collate.pl #############
#
# DESCRIPTION ############
# Take multiple LaTeX files, and combine them into one.
# Assume that the first preamble is identical throughout.
#
# On the first file, everything is printed, except the
# \end{document}.
#
# After the first file is read, only the portions
# between \begin{document} and \end{document}
# are printed.  \tableofcontents and \listoffigures
# are also omitted from subsequent files.
#
# ARGUMENTS ##############
# 1..n) files to collate.  reads from stdin if none specified.
#

my $printThis = 1; #true if we're to print the preamble
my $toc = 0; #true if we've already printed \tableofcontents
my $lof = 0; #true if we've already printed \listoffigures

while(<>){
        if($toc && $_ =~ /\\tableofcontents/) {
                $_ =~ s/\\tableofcontents//;
        }
        if($lof && $_ =~ /\\listoffigures/) {
                $_ =~ s/\\listoffigures//;
        }
        if(!$printThis) {
                if($_ =~ m/\\begin{document}/) {
                        $_ =~ s/\\begin{document}//;
                        $printThis = 1;
                }
        }
        if($printThis) { #if we're on the first file
                if($_ !~ /\\end{document}/ ) { #print all lines that don't
                        print;                #contain \end{document}
                } else {
                        print;  #if they do, strip out \end{document}
                        $printThis = 0;
                }
        }
        if($_ =~ /\\tableofcontents/) {
                $toc = 1;
        }
        if($_ =~ /\\listoffigures/) {
                $lof = 1;
        }
}

print "\\end{document}\n";



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Thu May 23 01:34:27 2002
From: jasont at indigoindustrial.co.nz (jasont@indigoindustrial.co.nz)
Date: Wed, 22 May 2002 23:34:27 GMT
Subject: [R] plotting a 1000 plots?
Message-ID: <E17Afch-0004TR-00@pcp-2.ihug.co.nz>

> > I believe you can send multiple plots to a pdf file by leaving the pdf()
> > device open.  By default, each new plot will be put on a different page in
> > the pdf file.  

> ah-ha! had I only known. I forgot to check the other devices supported.
> Works like a charm on windows too! Saaaweet!

Careful - this will choke at 501 plots.  

help(pdf)
..
There is an internal limit of 500 pages per PDF file, which should
be ample.
..

If you really want to do 1000 plots, you need a Plan B.

Cheers

Jason

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Thu May 23 01:34:27 2002
From: jasont at indigoindustrial.co.nz (jasont@indigoindustrial.co.nz)
Date: Wed, 22 May 2002 23:34:27 GMT
Subject: [R] plotting a 1000 plots?
Message-ID: <E17Afch-0004TR-00@pcp-2.ihug.co.nz>

> > I believe you can send multiple plots to a pdf file by leaving the pdf()
> > device open.  By default, each new plot will be put on a different page in
> > the pdf file.  

> ah-ha! had I only known. I forgot to check the other devices supported.
> Works like a charm on windows too! Saaaweet!

Careful - this will choke at 501 plots.  

help(pdf)
..
There is an internal limit of 500 pages per PDF file, which should
be ample.
..

If you really want to do 1000 plots, you need a Plan B.

Cheers

Jason

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Thu May 23 01:40:53 2002
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Wed, 22 May 2002 16:40:53 -0700
Subject: [R] plotting a 1000 plots?
References: <E17Afch-0004TR-00@pcp-2.ihug.co.nz>
Message-ID: <001401c201ea$1dfcb170$7c74c180@jackson>

yes. in this case a plan b might be in order...

thanks.

----- Original Message -----
From: <jasont at indigoindustrial.co.nz>
To: "Jeff D. Hamann" <jeff_hamann at hamanndonald.com>; "Roger Peng"
<rpeng at stat.ucla.edu>; <r-help at stat.math.ethz.ch>
Cc: <r-help at r-project.org>
Sent: Wednesday, May 22, 2002 4:34 PM
Subject: Re: [R] plotting a 1000 plots?


> > > I believe you can send multiple plots to a pdf file by leaving the
pdf()
> > > device open.  By default, each new plot will be put on a different
page in
> > > the pdf file.
>
> > ah-ha! had I only known. I forgot to check the other devices supported.
> > Works like a charm on windows too! Saaaweet!
>
> Careful - this will choke at 501 plots.
>
> help(pdf)
> ..
> There is an internal limit of 500 pages per PDF file, which should
> be ample.
> ..
>
> If you really want to do 1000 plots, you need a Plan B.
>
> Cheers
>
> Jason
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Thu May 23 01:40:53 2002
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Wed, 22 May 2002 16:40:53 -0700
Subject: [R] plotting a 1000 plots?
References: <E17Afch-0004TR-00@pcp-2.ihug.co.nz>
Message-ID: <001401c201ea$1dfcb170$7c74c180@jackson>

yes. in this case a plan b might be in order...

thanks.

----- Original Message -----
From: <jasont at indigoindustrial.co.nz>
To: "Jeff D. Hamann" <jeff_hamann at hamanndonald.com>; "Roger Peng"
<rpeng at stat.ucla.edu>; <r-help at stat.math.ethz.ch>
Cc: <r-help at r-project.org>
Sent: Wednesday, May 22, 2002 4:34 PM
Subject: Re: [R] plotting a 1000 plots?


> > > I believe you can send multiple plots to a pdf file by leaving the
pdf()
> > > device open.  By default, each new plot will be put on a different
page in
> > > the pdf file.
>
> > ah-ha! had I only known. I forgot to check the other devices supported.
> > Works like a charm on windows too! Saaaweet!
>
> Careful - this will choke at 501 plots.
>
> help(pdf)
> ..
> There is an internal limit of 500 pages per PDF file, which should
> be ample.
> ..
>
> If you really want to do 1000 plots, you need a Plan B.
>
> Cheers
>
> Jason
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mprager at alum.mit.edu  Thu May 23 02:27:15 2002
From: mprager at alum.mit.edu (Mike Prager)
Date: Wed, 22 May 2002 20:27:15 -0400
Subject: [R] Re: assigning with operator '='.
In-Reply-To: <200205221359.KAA17369@gelfand.math.unb.ca>
Message-ID: <5.1.0.14.0.20020522202335.00af1f70@pop-server.ec.rr.com>

At 10:59 AM 05/22/2002 -0300, Rolf Turner wrote:

>[...]
>Mind you, using ``='' as the assignment operator strikes me as being
>dangerous anyhow.  Bad design decision by the S people (by John
>Chambers?) and R should ***not*** have followed suit, compatibility
>or no compatibility.
>[...]

I for one would be delighted to see an option added to R allowing the user 
to turn off "=" as a valid assignment operator. That would allow 
maintaining S compatibility for those who want it, while allowing the rest 
of us an added measure of safety.


--
Mike Prager  (mprager at alum.mit.edu)
Beaufort, North Carolina

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu May 23 04:15:13 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Wed, 22 May 2002 22:15:13 -0400
Subject: [R] Re: assigning with operator '='.
In-Reply-To: <5.1.0.14.0.20020522202335.00af1f70@pop-server.ec.rr.com>
References: <200205221359.KAA17369@gelfand.math.unb.ca>
	<5.1.0.14.0.20020522202335.00af1f70@pop-server.ec.rr.com>
Message-ID: <20020522221513.2115035c.fharrell@virginia.edu>

On Wed, 22 May 2002 20:27:15 -0400
Mike Prager <mprager at alum.mit.edu> wrote:

> At 10:59 AM 05/22/2002 -0300, Rolf Turner wrote:
> 
> >[...]
> >Mind you, using ``='' as the assignment operator strikes me as being
> >dangerous anyhow.  Bad design decision by the S people (by John
> >Chambers?) and R should ***not*** have followed suit, compatibility
> >or no compatibility.
> >[...]
> 
> I for one would be delighted to see an option added to R allowing the user 
> to turn off "=" as a valid assignment operator. That would allow 
> maintaining S compatibility for those who want it, while allowing the rest 
> of us an added measure of safety.

Or better still make the old behavior the default and have an option that will enable "=" for those (few?) who find it attractive.  -Frank

> 
> 
> --
> Mike Prager  (mprager at alum.mit.edu)
> Beaufort, North Carolina
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fred at poleto.com  Thu May 23 08:31:49 2002
From: fred at poleto.com (Frederico Zanqueta Poleto)
Date: Thu, 23 May 2002 03:31:49 -0300
Subject: [R] ARIMA & GARCH
References: <200205221359.KAA17369@gelfand.math.unb.ca>	<5.1.0.14.0.20020522202335.00af1f70@pop-server.ec.rr.com> <20020522221513.2115035c.fharrell@virginia.edu>
Message-ID: <3CEC8CD5.3070109@poleto.com>

Hi,

Does anybody know a way of fitting an AR(p) model without the first p-1 
parameters?
The same doubt for MA(q)...
And I would like to do it not only for the ARIMA bult-in function for R 
/ S-Plus, but for the GARCH module (S-Plus) when modelling the mean too.
Finally, is there any package for R that fit GARCH models?

Sincerely,

-- 
Frederico Zanqueta Poleto
fred at poleto.com - ICQ# 4129787



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From liquidm3 at hotmail.com  Thu May 23 08:57:00 2002
From: liquidm3 at hotmail.com (Ted Shieh)
Date: Thu, 23 May 2002 02:57:00 -0400
Subject: [R] now available: RwebWin
Message-ID: <F1157hpJm8OtprR0E6f00004669@hotmail.com>

I ported Jeff Banfield's Rweb (http://www.math.montana.edu/Rweb/) to 
Windows.  In the process, I dropped some things (non-JavaScript version, 
Rweb modules and data sets), but also simplified the installation process by 
removing the dependency on NetPBM.  A Ghostscript dependency remains, 
however.

See http://www.liquidmarkets.com/m.php?m=News&file=article&sid=6 for 
up-to-date information and a download link.

Ted
http://www.liquidmarkets.com





_________________________________________________________________
Join the worlds largest e-mail service with MSN Hotmail. 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stecalza at tiscali.it  Thu May 23 09:22:50 2002
From: stecalza at tiscali.it (Stefano)
Date: Thu, 23 May 2002 09:22:50 +0200
Subject: [R] case-cohort sampling
Message-ID: <20020523072250.GB623@stefano>


Hi.

I've a dataframe with about 46000 women with about 500 cases (cancers). I
want to define a case-cohort sampling scheme, matching by age and hospital
centre. Is there anyone who has already written a code for that? It should
be something similar to  the stcacoh macro in Stata.

TIA,

Stefano
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Thu May 23 09:52:25 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Thu, 23 May 2002 07:52:25 +0000
Subject: [R] Re: assigning with operator '='.
References: <5.1.0.14.0.20020522202335.00af1f70@pop-server.ec.rr.com>
Message-ID: <3CEC9FB9.219EBFA5@sentoo.sn>

[snip]
> I for one would be delighted to see an option added to R allowing the user
> to turn off "=" as a valid assignment operator. That would allow
> maintaining S compatibility for those who want it, while allowing the rest
> of us an added measure of safety.

"=" is a valid assignment operator in S+ 6...

> version
Professional Edition Version 6.0.3 Release 2 for Microsoft Windows :
2001 
> x
Problem: Object "x" not found 
Use traceback() to see the call stack
> x = 1:10
> x
 [1]  1  2  3  4  5  6  7  8  9 10
>

Best,

Renaud

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Daniel.Amorese at geos.unicaen.fr  Thu May 23 11:05:17 2002
From: Daniel.Amorese at geos.unicaen.fr (=?ISO-8859-1?Q?Daniel_Amor=E8se?=)
Date: Thu, 23 May 2002 11:05:17 +0200
Subject: [R] Re:a more specific question about qda
In-Reply-To: <2C23DE2983BE034CB1CB90DB6B813FD639E9DA@uswpmx11.merck.com>; from
             reid_huntsinger@merck.com on mer, mai 22, 2002 at 16:25:46 +0200
References: <2C23DE2983BE034CB1CB90DB6B813FD639E9DA@uswpmx11.merck.com>
Message-ID: <20020523110517.A9464@phoebe.msh.unicaen.fr>

Le 2002.05.22 16:25, "Huntsinger, Reid" a ?crit :
> This measure of "discriminatory power" is derived from linear, not
> quadratic, discriminant analysis. Univariate QDA can discriminate between
> normal distributions with equal means but different variances. 
> 
> help(qda) suggests that the "means" component and the "scaling" component
> of
> the return are most of what you're looking for.
> 
> Reid Huntsinger
> 
> -----Original Message-----
> From: Daniel Amor?se [mailto:Daniel.Amorese at geos.unicaen.fr]
> Sent: Wednesday, May 22, 2002 9:07 AM
> To: r-help at stat.math.ethz.ch
> Subject: 
> 
> 
> Perhaps, I should complement my previous e-mail question:
> I am trying to select variables through a quadratic discriminant
> analysis.
> It seems to me that a robust criterion is the value of the discriminatory
> power
> (i.e. the ratio of the separation of the class means to within-class
> variance)
> How can I obtain this ratio from V & R's qda() output ?
> Thanks
> (I hope this question is relevant)
> -- 
> Daniel AMORESE
> Lab. M2C "Morphodynamique Continentale et C?ti?re"
> UMR CNRS 6143 Caen/Rouen
> Centre de G?omorphologie
> UCBN (Universit? de Caen Basse-Normandie)
> 14032 Caen Cedex
> FRANCE
> Ph: +33 (0)2 31 56 57 19
> Fax: +33 (0)2 31 56 57 57
> Courriel: amorese at geos.unicaen.fr
> http://www.geos.unicaen.fr/perso/da/daperso.html
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> 
> ------------------------------------------------------------------------------
> Notice: This e-mail message, together with any attachments, contains
> information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA)
> that may be confidential, proprietary copyrighted and/or legally
> privileged, and is intended solely for the use of the individual or
> entity named on this message.  If you are not the intended recipient, and
> have received this message in error, please immediately return this by
> e-mail and then delete it.
> 
> ==============================================================================
> 
> 
> 
Thank you.
Your answer helps me a little (I regret help(qda) and "Modern Applied
Statistics
with S-plus" provide so sparse information about qda usage).
D. Amorese
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hkimscil at scils.rutgers.edu  Thu May 23 12:38:33 2002
From: hkimscil at scils.rutgers.edu (hkimscil)
Date: Thu, 23 May 2002 06:38:33 -0400
Subject: [R] now available: RwebWin
References: <F1157hpJm8OtprR0E6f00004669@hotmail.com>
Message-ID: <001801c20245$fccda610$4c16e6a5@jetsky>

!!!

----- Original Message ----- 
From: "Ted Shieh" <liquidm3 at hotmail.com>
To: <r-help at stat.math.ethz.ch>
Sent: Thursday, May 23, 2002 2:57 AM
Subject: [R] now available: RwebWin


> I ported Jeff Banfield's Rweb (http://www.math.montana.edu/Rweb/) to 
> Windows.  In the process, I dropped some things (non-JavaScript version, 
> Rweb modules and data sets), but also simplified the installation process by 
> removing the dependency on NetPBM.  A Ghostscript dependency remains, 
> however.
> 
> See http://www.liquidmarkets.com/m.php?m=News&file=article&sid=6 for 
> up-to-date information and a download link.
> 
> Ted
> http://www.liquidmarkets.com
> 
> 
> 
> 
> 
> _________________________________________________________________
> Join the worlds largest e-mail service with MSN Hotmail. 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu May 23 12:53:56 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Thu, 23 May 2002 06:53:56 -0400
Subject: [R] case-cohort sampling
In-Reply-To: <20020523072250.GB623@stefano>
References: <20020523072250.GB623@stefano>
Message-ID: <20020523065356.49a9f8fe.fharrell@virginia.edu>

I don't know if this does exactly what you want but look at the Hmisc library find.matches and matchCases functions:  

http://hesweb1.med.virginia.edu/biostat/s/help/Hmisc/html/find.matches.html

You may be able to modify them for what you want.

Frank


On Thu, 23 May 2002 09:22:50 +0200
Stefano <stecalza at tiscali.it> wrote:

> 
> Hi.
> 
> I've a dataframe with about 46000 women with about 500 cases (cancers). I
> want to define a case-cohort sampling scheme, matching by age and hospital
> centre. Is there anyone who has already written a code for that? It should
> be something similar to  the stcacoh macro in Stata.
> 
> TIA,
> 
> Stefano
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Thu May 23 14:15:54 2002
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Thu, 23 May 2002 07:15:54 -0500
Subject: [R] ARIMA & GARCH
References: <200205221359.KAA17369@gelfand.math.unb.ca>	<5.1.0.14.0.20020522202335.00af1f70@pop-server.ec.rr.com> <20020522221513.2115035c.fharrell@virginia.edu> <3CEC8CD5.3070109@poleto.com>
Message-ID: <3CECDD7A.2030000@epm.net.co>

>
> Does anybody know a way of fitting an AR(p) model without the first 
> p-1 parameters? 


>
> The same doubt for MA(q)...
> And I would like to do it not only for the ARIMA bult-in function for 
> R / S-Plus, but for the GARCH module (S-Plus) when modelling the mean 
> too.
> Finally, is there any package for R that fit GARCH models? 

Check "tseries" in the "arma" functions with the "lag" option you can 
estimate some p parameters of a AR model.
And check also the garch function

Best regards!

Kenneth


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plecca at kirk.science.unitn.it  Thu May 23 14:31:22 2002
From: plecca at kirk.science.unitn.it (Paola Lecca)
Date: Thu, 23 May 2002 14:31:22 +0200 (MET DST)
Subject: [R] nmath standalone
Message-ID: <Pine.OSF.4.31.0205231423140.9735-100000@kirk.science.unitn.it>

Dear all,

I'm trying to use the as a standalone package the nmath sources.

In R-1.4.1/src/nmath/standalone, in linux operating system I made 'make
shared' to obtain libRmath.so. then I copied the dir standalone, where
there is libRmath.so in /usr/local.

I tried to compile test.c with cc test.c but I obtain this error message

/tmp/ccsTxu7U.o: In function `main':
/tmp/ccsTxu7U.o(.text+0x20): undefined reference to `qnorm5'
collect2: ld returned 1 exit status

What is it wrong ?

As always thanks in advance,
Paola.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Thu May 23 14:39:49 2002
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Thu, 23 May 2002 07:39:49 -0500
Subject: [R] Memory exhausted with "dist" in "mva" library
References: <5.0.2.1.0.20020624100755.01e2d008@deimos.tc.uaslp.mx>
Message-ID: <3CECE315.4020900@epm.net.co>

Hi R Experts!

I have a database with 25000 rows and 30 columns and I want to make 
cluster analysis to cluster the 25000 records,
but the memory exhausted using the "dist" function in "mva" library.
I use the "--max-mem-size" up to 1780Mb (If I use more the R returns me 
a error message)

What can I do?

Thank you very much for your help.

$platform
[1] "i386-pc-mingw32"
$arch
[1] "i386"
$os
[1] "mingw32"
$system
[1] "i386, mingw32"
$status
[1] ""
$major
[1] "1"
$minor
[1] "5.0"
$year
[1] "2002"
$month
[1] "04"
$day
[1] "29"
$language
[1] "R"



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu May 23 14:49:44 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 23 May 2002 14:49:44 +0200
Subject: [R] Memory exhausted with "dist" in "mva" library
In-Reply-To: <3CECE315.4020900@epm.net.co>
References: <5.0.2.1.0.20020624100755.01e2d008@deimos.tc.uaslp.mx>
	<3CECE315.4020900@epm.net.co>
Message-ID: <15596.58728.239649.218975@gargle.gargle.HOWL>

>>>>> "Kenneth" == Kenneth Cabrera <krcabrer at epm.net.co> writes:

    Kenneth> I have a database with 25000 rows and 30 columns
    Kenneth> and I want to make cluster analysis to cluster the
    Kenneth> 25000 records,

    Kenneth> but the memory exhausted using the "dist" function
    Kenneth> in "mva" library.  I use the "--max-mem-size" up to
    Kenneth> 1780Mb (If I use more the R returns me a error message)

    Kenneth> What can I do?

not use any distance (dissimilarity) based clustering method if
possible because that saves a lot of memory.

library(cluster) {and other CRAN non-base packages} is
recommended for more flexibility.
In particular, I'd recommend using  daisy() instead of dist() quite a bit!

clara()  {in the cluster package} was written for
  Clustering
  ~LARge
   ~~~Application.
      ~

but there are many more cluster methodologies that work with
euclidean (or manhattan) metric directly instead of first
computing the n(n-1)/2 distances.

I hope this gets you started.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From york at noaa.gov  Thu May 23 16:21:46 2002
From: york at noaa.gov (Anne York)
Date: Thu, 23 May 2002 07:21:46 -0700 (PDT)
Subject: [R] separating a digest into separate messages
Message-ID: <Pine.GSO.4.05.10205230715290.12547-100000@ofis450a.akctr.noaa.gov>

Could someone suggest a mail reader that will parse a digest from r-help
into separate messages? 

Preferably, this reader would allow replies or forwards of separate
messages. I use pine on a Sun running SunOS 5.7. If there were an add-on to
pine that would accomplish this task, that would be even better.

Anne

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Anne E. York
National Marine Mammal Laboratory
Seattle WA 98115-0070  USA
e-mail: anne.york at noaa.gov
Voice: +1 206-526-4039
Fax: +1 206-526-6615
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From klavan at tiscalinet.it  Thu May 23 16:26:19 2002
From: klavan at tiscalinet.it (Ambrosini Alessandro)
Date: Thu, 23 May 2002 16:26:19 +0200
Subject: I: [R] Problem
Message-ID: <PPEGLLABFLFCJDLCGPGHAELGCAAA.klavan@tiscalinet.it>



Now I explain my situation better.

I'm doing a study on the behaviour of Web pages. Given a query every Web
page can be relevant or not to the query. I have a collection of Web pages
and I know everything about the links between them. My purpose was to build
a group of clusters using some properties of the links (the number of links
betweeen pages, ...). For every cluster I can find two values: precision
that is (relevant pages in the cluster)/(number of pages in the cluster) and
recall that is (relevant pages in the cluster)/(relevant pages in all the
collection). I found these values for all the clusters. My purpose is to
discover if the relevant pages tend to be concentrated in some cluster. If
my theory would be Ok I should have clusters that have a lot of relevant
pages and clusters that have none relevant page.
If we consider the entire collection as a big cluster we have recall=1 and
the precision depend by the situation.
I want to find a test that tells me if there is a particolar difference in
the concentration of relevant pages between singular clusters and the
complements. Another way is to compare the precision of the clusters with
the global precision of the collection. My teacher told me that maybe a
student's t test for two patterns is ok for this work, but I don't
understand in which way. Is it possible to build a vector of the precision
of the clusters and a vector for the precision of the complement, make the
means for the two vectors and use the t test to compare the means? Does it
work?
Thank you for the time you spent for me.
Alessandro Ambrosini

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Thu May 23 17:15:31 2002
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Thu, 23 May 2002 11:15:31 -0400
Subject: [R] nmath standalone
Message-ID: <2C23DE2983BE034CB1CB90DB6B813FD639E9F0@uswpmx11.merck.com>

It looks like you need a -lRmath in the cc command line to specify the
library to link. Also make sure /usr/local is listed in /etc/ld.so.conf; if
not add it and run ldconfig as root to update.

Reid Huntsinger

-----Original Message-----
From: Paola Lecca [mailto:plecca at kirk.science.unitn.it]
Sent: Thursday, May 23, 2002 8:31 AM
To: r-help at stat.math.ethz.ch
Subject: [R] nmath standalone


Dear all,

I'm trying to use the as a standalone package the nmath sources.

In R-1.4.1/src/nmath/standalone, in linux operating system I made 'make
shared' to obtain libRmath.so. then I copied the dir standalone, where
there is libRmath.so in /usr/local.

I tried to compile test.c with cc test.c but I obtain this error message

/tmp/ccsTxu7U.o: In function `main':
/tmp/ccsTxu7U.o(.text+0x20): undefined reference to `qnorm5'
collect2: ld returned 1 exit status

What is it wrong ?

As always thanks in advance,
Paola.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rboylan at cba.ua.edu  Thu May 23 18:01:46 2002
From: rboylan at cba.ua.edu (Boylan, Richard)
Date: Thu, 23 May 2002 11:01:46 -0500
Subject: [R] read.csv/mode
Message-ID: <2D5F00A1EE2AD611AAB000065B199D7986C6A5@cbant1.cba.ua.edu>


When I read the data in using read.csv with the new version of R (1.5,
windows version), variables that are clearly character, are read as numeric.
(Even thought there is not a single number in them.)

Also, the program I run in R merges different data sets and does a variety
of manipulations of the data.  The program works fine, except that, in the
data set that it generates (after 20 pages of code), the mode of most of the
variables is reversed.  Variables that should be numeric are character,
variables that are character are numeric, which is not something that
occurred when using version 1.4.1.   I have identified one source of the
problem (read.csv), but if anyone has guesses of other sources of the
problem, please let me know.

Thanks!  

Richard
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Daniel.Amorese at geos.unicaen.fr  Thu May 23 18:25:58 2002
From: Daniel.Amorese at geos.unicaen.fr (=?ISO-8859-1?Q?Daniel_Amor=E8se?=)
Date: Thu, 23 May 2002 18:25:58 +0200
Subject: [R] logistic regression or discriminant analysis ?
Message-ID: <20020523182558.A9980@phoebe.msh.unicaen.fr>

Hello,
Does logistic regression really provide better results than lda or qda ?
(my purpose is not classification but highlighting of discriminant
variables).
If this is true, where could I get an R script performing stepwise logistic
regression ?
Thanks
-- 
Daniel AMORESE
Lab. M2C "Morphodynamique Continentale et C?ti?re"
UMR CNRS 6143 Caen/Rouen
Centre de G?omorphologie
UCBN (Universit? de Caen Basse-Normandie)
14032 Caen Cedex
FRANCE
Ph: +33 (0)2 31 56 57 19
Fax: +33 (0)2 31 56 57 57
Courriel: amorese at geos.unicaen.fr
http://www.geos.unicaen.fr/perso/da/daperso.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clists at perrin.socsci.unc.edu  Thu May 23 19:34:09 2002
From: clists at perrin.socsci.unc.edu (Andrew Perrin)
Date: Thu, 23 May 2002 13:34:09 -0400 (EDT)
Subject: [R] Multilevel model with dichotomous dependent variable
Message-ID: <Pine.LNX.4.21.0205231328180.501-100000@perrin.socsci.unc.edu>

Greetings-

I'm working with data that are multilevel in nature and have a dichotomous
outcome variable (presence or absence of an attribute). As far as I can
tell from reading archives of the R and S lists, as well as Pinheiro and
Bates and Venables and Ripley,

- nlme does not have the facility to do what amounts to a mixed-effects
logistic regression.
- The canonical alternative is GLMMgibbs, but there are concerns about
this as well.
- There has been some talk of wrappers around nlme that would add PQL (a
technique about which I know nothing) as a way of estimating such
equations.

Does this accurately summarize the state of software availability? If not,
what updates should I know about? If so, what would be the costs and
benefits of the following courses of action:

1.) Use nlme, violating the assumption of continuous outcomes, simply
assigning 0 and 1 as the outcome values. (A crude option, but one that has
the distinct advantage of increased comprehensibility to sociologists, the
research's target audience.)

2.) Use glmmGibbs, which introduces some new assumptions and requirements
of the data, but is perhaps the closest to a "correct" approach

3.) Find a PQL implementation and learn enough about the technique to use
it

Any comments or advice will be much appreciated.

----------------------------------------------------------------------
Andrew J Perrin - http://www.unc.edu/~aperrin
Assistant Professor of Sociology, U of North Carolina, Chapel Hill
clists at perrin.socsci.unc.edu * andrew_perrin (at) unc.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Thu May 23 19:38:34 2002
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Thu, 23 May 2002 10:38:34 -0700
Subject: [R] logistic regression or discriminant analysis ?
In-Reply-To: <20020523182558.A9980@phoebe.msh.unicaen.fr>
Message-ID: <5.1.1.2.2.20020523103134.024c98f8@pop4.attglobal.net>

At 06:25 PM 5/23/2002 +0200, Daniel Amor?se wrote:
>Hello,
>Does logistic regression really provide better results than lda or qda ?
>(my purpose is not classification but highlighting of discriminant
>variables)


You've asked multiple questions about "stepwise quadratic regression" and 
now "stepwise logistic regression".  You haven't really explained what you 
want to do ("highlighting of discriminant variables" isn't very 
informative).  WHY do you want to use stepwise anything?  Are you looking 
for the best set of explanatory variables to predict group membership?  Are 
your data non-normal?  Do your groups have heterogeneous covariance 
structures?  Do you have vastly unequal mixture proportions?

It sounds like you are interested in the function discrim(), which is part 
of S-Plus but not R.  You've complained about the lack of documentation for 
qda() in Venables and Ripley (3rd edition?) and in the R documentation, but 
you haven't told us what you were looking for.  Neither qda() nor lda() do 
"stepwise", and  AFAIK, there is no stepwise logistic regression available 
in R.  You might want multinomial logistic regression (multinom() in bundle 
VR), but that isn't stepwise either.

In short, you're not getting much help because the questions you're asking 
aren't very well-formed.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From heberto.ghezzo at mcgill.ca  Thu May 23 19:56:52 2002
From: heberto.ghezzo at mcgill.ca (R. Heberto Ghezzo)
Date: Thu, 23 May 2002 13:56:52 -0400
Subject: [R] crosstabulation of means
Message-ID: <3CED2D63.7F7E3AC5@mcgill.ca>

Hello, I am trying to print a crosttabulation of mean,sd,n for a
continuous variable crossclassified by anoother/s grouping variables. I
came up with:
xtab2 <- function(x,g1,g2) {
 funy <- function(z)
   list(mean(z,na.rm=T),sd(z,na.rm=T),length(z))
 aa <- by(x,list(g1,g2),funy)
 bb <- matrix(unlist(aa),nrow=3
   ,dimnames=list(c("mean","sd","n"),
                rep(levels(as.factor(g2)),
                rep(length(levels(as.factor(g1))),
                    length(levels(as.factor(g2)))) ) ))
}
but as you can see the labels of the columns correspond only to the
second factor, and if I try to generalize it to 3 grouping variables the
thing does not work.
Any suggestions please on how to write the dimnames paragraph
appropriately?
Thanks


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Thu May 23 20:46:38 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Thu, 23 May 2002 11:46:38 -0700 (PDT)
Subject: [R] logistic regression or discriminant analysis ?
In-Reply-To: <20020523182558.A9980@phoebe.msh.unicaen.fr>
Message-ID: <Pine.GSO.4.10.10205231142040.23215-100000@quetelet.stat.ucla.edu>

I believe you can use stepAIC in the MASS library to do a stepwise
logistic regression.

As far as I know, the performance of lda typically depends critically on
the multivariate normality of the data.  Whether you get better results
with lda or logistic regression depends on your particular situation.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Thu, 23 May 2002, Daniel Amorèse wrote:

> Hello,
> Does logistic regression really provide better results than lda or qda ?
> (my purpose is not classification but highlighting of discriminant
> variables).
> If this is true, where could I get an R script performing stepwise logistic
> regression ?
> Thanks
> -- 
> Daniel AMORESE
> Lab. M2C "Morphodynamique Continentale et Côtière"
> UMR CNRS 6143 Caen/Rouen
> Centre de Géomorphologie
> UCBN (Université de Caen Basse-Normandie)
> 14032 Caen Cedex
> FRANCE
> Ph: +33 (0)2 31 56 57 19
> Fax: +33 (0)2 31 56 57 57
> Courriel: amorese at geos.unicaen.fr
> http://www.geos.unicaen.fr/perso/da/daperso.html
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu May 23 20:47:26 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 23 May 2002 13:47:26 -0500
Subject: [R] Multilevel model with dichotomous dependent variable
In-Reply-To: <Pine.LNX.4.21.0205231328180.501-100000@perrin.socsci.unc.edu>
References: <Pine.LNX.4.21.0205231328180.501-100000@perrin.socsci.unc.edu>
Message-ID: <6rptzm8zwh.fsf@franz.stat.wisc.edu>

Andrew Perrin <clists at perrin.socsci.unc.edu> writes:

> Greetings-
> 
> I'm working with data that are multilevel in nature and have a dichotomous
> outcome variable (presence or absence of an attribute). As far as I can
> tell from reading archives of the R and S lists, as well as Pinheiro and
> Bates and Venables and Ripley,
> 
> - nlme does not have the facility to do what amounts to a mixed-effects
> logistic regression.
> - The canonical alternative is GLMMgibbs, but there are concerns about
> this as well.
> - There has been some talk of wrappers around nlme that would add PQL (a
> technique about which I know nothing) as a way of estimating such
> equations.
> 
> Does this accurately summarize the state of software availability? If not,
> what updates should I know about? If so, what would be the costs and
> benefits of the following courses of action:
> 
> 1.) Use nlme, violating the assumption of continuous outcomes, simply
> assigning 0 and 1 as the outcome values. (A crude option, but one that has
> the distinct advantage of increased comprehensibility to sociologists, the
> research's target audience.)
> 
> 2.) Use glmmGibbs, which introduces some new assumptions and requirements
> of the data, but is perhaps the closest to a "correct" approach
> 
> 3.) Find a PQL implementation and learn enough about the technique to use
> it

Recent versions of the MASS package in the VR bundle have a glmmPQL
function that does exactly this.  Penalized Quasi-Likelihood (PQL) is
a method of fitting these models.  The name refers to the
approximation to the likelihood that is used for fitting.

I would recommend starting with glmmPQL.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Thu May 23 20:57:37 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Thu, 23 May 2002 14:57:37 -0400
Subject: [R] logistic regression or discriminant analysis ?
References: <20020523182558.A9980@phoebe.msh.unicaen.fr>
Message-ID: <3CED3BA1.C4DF7988@umsanet.edu.bo>



Daniel Amor?se wrote:
> 
> Hello,
> Does logistic regression really provide better results than lda or qda ?
> (my purpose is not classification but highlighting of discriminant
> variables).
> If this is true, where could I get an R script performing stepwise logistic
> regression ?

stepAIC in package MASS (in bundle VR).

Kjetil Halvorsen

> Thanks
> --
> Daniel AMORESE
> Lab. M2C "Morphodynamique Continentale et C?ti?re"
> UMR CNRS 6143 Caen/Rouen
> Centre de G?omorphologie
> UCBN (Universit? de Caen Basse-Normandie)
> 14032 Caen Cedex
> FRANCE
> Ph: +33 (0)2 31 56 57 19
> Fax: +33 (0)2 31 56 57 57
> Courriel: amorese at geos.unicaen.fr
> http://www.geos.unicaen.fr/perso/da/daperso.html
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu May 23 21:21:08 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Thu, 23 May 2002 15:21:08 -0400
Subject: [R] crosstabulation of means
In-Reply-To: <3CED2D63.7F7E3AC5@mcgill.ca>
References: <3CED2D63.7F7E3AC5@mcgill.ca>
Message-ID: <20020523152108.5c67c729.fharrell@virginia.edu>


On Thu, 23 May 2002 13:56:52 -0400
"R. Heberto Ghezzo" <heberto.ghezzo at mcgill.ca> wrote:

> Hello, I am trying to print a crosttabulation of mean,sd,n for a
> continuous variable crossclassified by anoother/s grouping variables. I
> came up with:
> xtab2 <- function(x,g1,g2) {
>  funy <- function(z)
>    list(mean(z,na.rm=T),sd(z,na.rm=T),length(z))
>  aa <- by(x,list(g1,g2),funy)
>  bb <- matrix(unlist(aa),nrow=3
>    ,dimnames=list(c("mean","sd","n"),
>                 rep(levels(as.factor(g2)),
>                 rep(length(levels(as.factor(g1))),
>                     length(levels(as.factor(g2)))) ) ))
> }
> but as you can see the labels of the columns correspond only to the
> second factor, and if I try to generalize it to 3 grouping variables the
> thing does not work.
> Any suggestions please on how to write the dimnames paragraph
> appropriately?
> Thanks
>

There are many ways to do this.  One is to use functions in the Hmisc library:

s <- summarize(x, llist(g1,g2,g3,g4), smean.sd)  # smean.sd is in Hmisc: mean,sd

To make a nice table (but only up to 2 cross-classification variables) do:

summary(x ~ g1+g2, method='cross', fun=smean.sd)

The latter will include the Ns for each cell.

Frank Harrell
 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From klavan at tiscalinet.it  Thu May 23 21:27:39 2002
From: klavan at tiscalinet.it (Ambrosini Alessandro)
Date: Thu, 23 May 2002 21:27:39 +0200
Subject: [R] Find if there is independence
Message-ID: <PPEGLLABFLFCJDLCGPGHOELICAAA.klavan@tiscalinet.it>

Hello
I have the matrix

a<-matrix(c(2,1,0,1,2,2,1,5,7,2,5,12),nrow=6)
a

      [,1] [,2]
[1,]    2    1
[2,]    1    5
[3,]    0    7
[4,]    1    2
[5,]    2    5
[6,]    2   12

Suppose that in the first row we have 3 men of England, 2 with hair, and 1
no
In the second we have 6 italian men, 1 with hair and 5 no ...
I want to find if there is a dependence between men withouth hair and
nationality.
By the way, which is the simplest command to use to study the independence
in a matrix like the one that I wrote?
Using
> chisq.test(a)

        Pearson's Chi-squared test with Yates' continuity correction

data:  a
X-squared = 0, df = 1, p-value = 1

Warning message:
Chi-squared approximation may be incorrect in: chisq.test(a)

Why does it give me the warning message? What have to add into chisq.test(a)
?
And in which value I can understand the level of the dependence?
Thank you
Alessandro

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Thu May 23 22:09:23 2002
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Thu, 23 May 2002 15:09:23 -0500
Subject: [R] Too large?
References: <5.0.2.1.0.20020624100755.01e2d008@deimos.tc.uaslp.mx>
Message-ID: <3CED4C73.3050408@perseus.unalmed.edu.co>

Hi R Experts:

I'm trying to run a "lm" model with a dataframe of 20607 records (and 23 
variables, many of them factors) . (See at the end of the meesage)
but I obtain the following message:

Error: cannot allocate vector of size 522580 Kb

I use the --max-mem-size 1790Mb option (because if I use a bigger number 
(1800Mb)  it shows me a window with "Cannot reserve memory:terminating" 
message)

When I use memory.limit(size=NA) I obtain
[1] 1876951040
I try to reserve bigger memory with memory.limit(size=2500000000)
But I obtain the following message when I call again memory.limit(size=NA)
[1] -1879048192
And the memory problem persist when I try to run the "lm" function.
I have a PIII computer with 128MB of RAM and 17Gb free on hard disk in 
W2K platform.

Thank you for your help!!!

$platform  "i386-pc-mingw32"
$arch "i386"
$os  "mingw32"
$system  "i386, mingw32"
$status  ""
$major  "1"
$minor  "5.0"
$year  "2002"
$month "04"
$day  "29"
$language "R"

the call function is:

lm(iscDIC.01~SALDOREAL+VALOAPRO+NUEVSALARI+ANTIG+ENDEUDA+
factor(FORMPAGO)+factor(FORMPAGO):SALDOREAL+factor(FORMPAGO):VALOAPRO+factor(FORMPAGO):NUEVSALARI+factor(FORMPAGO):ANTIG+factor(FORMPAGO):ENDEUDA+
factor(SUC)+factor(SUC):SALDOREAL+factor(SUC):VALOAPRO+factor(SUC):NUEVSALARI+factor(SUC):ANTIG+factor(SUC):ENDEUDA+
factor(PERIPAGO)+factor(PERIPAGO):SALDOREAL+factor(PERIPAGO):VALOAPRO+factor(PERIPAGO):NUEVSALARI+factor(PERIPAGO):ANTIG+factor(PERIPAGO):ENDEUDA+
factor(ESTCIVIL)+factor(ESTCIVIL):SALDOREAL+factor(ESTCIVIL):VALOAPRO+factor(ESTCIVIL):NUEVSALARI+factor(ESTCIVIL):ANTIG+factor(ESTCIVIL):ENDEUDA+
factor(CONTRATO)+factor(CONTRATO):SALDOREAL+factor(CONTRATO):VALOAPRO+factor(CONTRATO):NUEVSALARI+factor(CONTRATO):ANTIG+factor(CONTRATO):ENDEUDA+
factor(TIPOGARA)+factor(TIPOGARA):SALDOREAL+factor(TIPOGARA):VALOAPRO+factor(TIPOGARA):NUEVSALARI+factor(TIPOGARA):ANTIG+factor(TIPOGARA):ENDEUDA+
factor(CIA)+factor(CIA):SALDOREAL+factor(CIA):VALOAPRO+factor(CIA):NUEVSALARI+factor(CIA):ANTIG+factor(CIA):ENDEUDA+
factor(CIIU)+factor(CIIU):SALDOREAL+factor(CIIU):VALOAPRO+factor(CIIU):NUEVSALARI+factor(CIIU):ANTIG+factor(CIIU):ENDEUDA+
 factor(TIPOOCU)+factor(TIPOOCU):SALDOREAL+factor(TIPOOCU):VALOAPRO+factor(TIPOOCU):NUEVSALARI+factor(TIPOOCU):ANTIG+factor(TIPOOCU):ENDEUDA+
 factor(SEXO)+factor(SEXO):SALDOREAL+factor(SEXO):VALOAPRO+factor(SEXO):NUEVSALARI+factor(SEXO):ANTIG+factor(SEXO):ENDEUDA)->mod1


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Thu May 23 22:22:29 2002
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Thu, 23 May 2002 15:22:29 -0500 (CDT)
Subject: [R] references for qqnorm
Message-ID: <200205232022.PAA02139@uhddx01.dt.uh.edu>

Dear R People:

On the functions qqnorm and qqline, (found in the base package),
what are the references, please?

This is R for Windows, Version 1.4.1.

Thank you so much!

Sincerely,
Erin Hodgess
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
1 Main Street 
Houston, TX 77002
mailto: hodgess at uhddx01.dt.uh.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu May 23 22:23:15 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 23 May 2002 13:23:15 -0700 (PDT)
Subject: [R] Too large?
In-Reply-To: <3CED4C73.3050408@perseus.unalmed.edu.co>
Message-ID: <Pine.A41.4.44.0205231314320.51054-100000@homer09.u.washington.edu>

On Thu, 23 May 2002, Kenneth Cabrera wrote:

> Hi R Experts:
>
> I'm trying to run a "lm" model with a dataframe of 20607 records (and 23
> variables, many of them factors) . (See at the end of the meesage)
> but I obtain the following message:
>
> Error: cannot allocate vector of size 522580 Kb
>
> I use the --max-mem-size 1790Mb option (because if I use a bigger number
> (1800Mb)  it shows me a window with "Cannot reserve memory:terminating"
> message)

32-bit OSs typically won't give a process more than 2Gb of memory (and R
itself takes some), so that seems reasonable.

In order for this not to be enough the factors must have fairly large
numbers of levels -- 23 variables and 20,000 records isn't a lot on a
computer like yours.

Both Bill Venables and Brian Ripley have circulated functions for the
related problem of a regression model with one factor that has too many
levels. They are in section 7.1 of `S programming' but may also be in the
mailing list archives.  The same approaches could be used for your
problem.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu May 23 22:49:10 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 23 May 2002 22:49:10 +0200
Subject: [R] Find if there is independence
References: <PPEGLLABFLFCJDLCGPGHOELICAAA.klavan@tiscalinet.it>
Message-ID: <3CED55C6.5C623AFA@statistik.uni-dortmund.de>

Ambrosini Alessandro wrote:
> 
> Hello
> I have the matrix
> 
> a<-matrix(c(2,1,0,1,2,2,1,5,7,2,5,12),nrow=6)
> a
> 
>       [,1] [,2]
> [1,]    2    1
> [2,]    1    5
> [3,]    0    7
> [4,]    1    2
> [5,]    2    5
> [6,]    2   12
> 
> Suppose that in the first row we have 3 men of England, 2 with hair, and 1
> no
> In the second we have 6 italian men, 1 with hair and 5 no ...
> I want to find if there is a dependence between men withouth hair and
> nationality.
> By the way, which is the simplest command to use to study the independence
> in a matrix like the one that I wrote?

Let me ask another question: What is the appropriate method to ...

Since the cells of your contingency table are not very well filled, I'd
suggest to use Fisher's (general) exact test, if you want to test on
independency of rows and columns, fortunately you do not need to
calculate it manually, see ?fisher.test .


> Using
> > chisq.test(a)
> 
>         Pearson's Chi-squared test with Yates' continuity correction
> 
> data:  a
> X-squared = 0, df = 1, p-value = 1

No. In my version of R (1.5.0 on WinNT) it results plausibly in:
  X-squared = 6.8155, df = 5, p-value = 0.2347

Are you sure you did the things mentioned above exactly?


> Warning message:
> Chi-squared approximation may be incorrect in: chisq.test(a)
> 
> Why does it give me the warning message? What have to add into chisq.test(a)
> ?
> And in which value I can understand the level of the dependence?

What does "level of dependence" mean in your case?
Are you sure you want to quantify it, using such a small number of
observations and such vague defintions (hair / no hair). To you want to
quantify it for all countries or separately? But perhaps I misunderstand
...

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu May 23 23:01:28 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 23 May 2002 23:01:28 +0200
Subject: [R] references for qqnorm
References: <200205232022.PAA02139@uhddx01.dt.uh.edu>
Message-ID: <3CED58A8.DAE731DC@statistik.uni-dortmund.de>

Erin Hodgess wrote:
> 
> Dear R People:
> 
> On the functions qqnorm and qqline, (found in the base package),
> what are the references, please?
> 
> This is R for Windows, Version 1.4.1.

To refer to the functions themselves, I'd suggest to cite the R
Reference Manual (collection of help pages):
"The R Environment for Statistical Computing and Graphics".
BTW 1: The recent version (included in R-1.5.0) got also an ISBN number,
as well as the other manuals.
BTW 2: Citing  R&R (1996 ?): "R: A Language for Data Analysis and
Graphics" (in JCGS) is never a bad idea. ;-)

To the underlying methods ... you will find it in almost every
statistical basics textbook. I would cite one of those, if there is
really need to cite a standard method like a quantile-quantile plot.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu May 23 23:24:25 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Thu, 23 May 2002 17:24:25 -0400 (EDT)
Subject: [R] references for qqnorm
In-Reply-To: <3CED58A8.DAE731DC@statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.44.0205231712480.25965-100000@bolker.zoo.ufl.edu>



On Thu, 23 May 2002, Uwe Ligges wrote:

> BTW 2: Citing  R&R (1996 ?): "R: A Language for Data Analysis and
> Graphics" (in JCGS) is never a bad idea. ;-)
> 
  Something I've been meaning to mention is that it's quite interesting, 
for those with access to ISI/Web of Science or equivalent, to look up the 
papers that cite R&R (there are 96, in a wide variety of subjects: Jim 
Lindsey probably wins the prize for the largest number).
  I hope that we can make R&R 96 into a citation classic.

 Ben Bolker

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From berkan at runtime-collective.com  Fri May 24 02:47:47 2002
From: berkan at runtime-collective.com (Berkan Eskikaya)
Date: Fri, 24 May 2002 01:47:47 +0100
Subject: [R] problem with R-mathlib standalone
Message-ID: <20020524004747.GA16599@runtime-collective.com>

Hi,

I'm trying to use pgamma() within my C application but I'm 
getting strange results. I have a Debian system with r-mathlib 
1.4.1-1 and gcc 2:2.95.4-9.

Here are 3 example pgamma() calls executed by R:

$ R -q --vanilla < gamma.R 
> pgamma(98, 100, 1)
[1] 0.4333105
> pgamma(21, 100, 5)
[1] 0.7002453
> pgamma(2, 100, 69)
[1] 0.9997046
> 

and here is what the small C program below produces with the 
same calls:

$ ./gtest
pgamma(98, 100, 1) = 0.433311
pgamma(21, 100, 5) = 0.000000
pgamma(2, 100, 69) = 0.000000

As you can see, pgamma(98, 100, 1) returns the same value as 
from within R, but not the other two calls.

Maybe I'm doing something extremely silly and not seeing it 
--- any suggestions greatly appreciated.

Cheers,

Berkan


Here's the C code:       

// gtest.c
// gcc -Wall -g gtest.c gtest -I/usr/lib/R/include -lRmath -lm
#include <stdio.h>
#define MATHLIB_STANDALONE
#include <Rmath.h>

int main (int argc, char *argv[])
{

  double res1, res2, res3;

  res1 = pgamma(98, 100, 1, 1, 0);
  res2 = pgamma(21, 100, 5, 1, 0);
  res3 = pgamma(2, 100, 69, 1, 0);

  printf ("pgamma(98, 100, 1) = %f\n\
           pgamma(21, 100, 5) = %f\n\
           pgamma(2, 100, 69) = %f\n", res1, res2, res3);

  exit(0);
}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Fri May 24 09:35:38 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Fri, 24 May 2002 07:35:38 +0000
Subject: [R] references for qqnorm
References: <200205232022.PAA02139@uhddx01.dt.uh.edu> <3CED58A8.DAE731DC@statistik.uni-dortmund.de>
Message-ID: <3CEDED4A.F980E4F4@sentoo.sn>

Uwe Ligges wrote:
> 
> Erin Hodgess wrote:
> >
> > Dear R People:
> >
> > On the functions qqnorm and qqline, (found in the base package),
> > what are the references, please?
> >
> > This is R for Windows, Version 1.4.1.
> 
> To refer to the functions themselves, I'd suggest to cite the R
> Reference Manual (collection of help pages):
> "The R Environment for Statistical Computing and Graphics".
> BTW 1: The recent version (included in R-1.5.0) got also an ISBN number,
> as well as the other manuals.
> BTW 2: Citing  R&R (1996 ?): "R: A Language for Data Analysis and
> Graphics" (in JCGS) is never a bad idea. ;-)
> 
> To the underlying methods ... you will find it in almost every
> statistical basics textbook. I would cite one of those, if there is
> really need to cite a standard method like a quantile-quantile plot.

My favourite one is:

Cleveland, W.S., 1993. Visualizing data. Summit, New Jersey, Hobart
Press, 360 p.

Best,

Renaud

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Fri May 24 09:47:18 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Fri, 24 May 2002 09:47:18 +0200
Subject: [R] Find if there is independence
References: <PPEGLLABFLFCJDLCGPGHOELICAAA.klavan@tiscalinet.it>
Message-ID: <002f01c202f7$410ddb40$5c13070a@it.giustizia.it>

Hi alessandro,
your problem concerns making inference in nonstandard situations, such a
sparse data, sampling zeros and small sample size, where asymptotic theory
doesn't hold.

A conditional approach, i.e. Fisher test for contigency tables, might be the
best solution (and the only one in my experience), although some author does
not rely on conditional principle. The alternative unconditional exact
approach is computationally proibitive for non-2x2 tables.

StatXact is specifically designed for these nonstandard analyses.

However in practice it is suggested that if the three tests (LRT, Score,
Wald) yield the same p-value, asymptotics results may be used.

best,
vito

----- Original Message -----
From: "Ambrosini Alessandro" <klavan at tiscalinet.it>
To: "R-help" <R-help at stat.math.ethz.ch>
Sent: Thursday, May 23, 2002 9:27 PM
Subject: [R] Find if there is independence


> Hello
> I have the matrix
>
> a<-matrix(c(2,1,0,1,2,2,1,5,7,2,5,12),nrow=6)
> a
>
>       [,1] [,2]
> [1,]    2    1
> [2,]    1    5
> [3,]    0    7
> [4,]    1    2
> [5,]    2    5
> [6,]    2   12
>
> Suppose that in the first row we have 3 men of England, 2 with hair, and 1
> no
> In the second we have 6 italian men, 1 with hair and 5 no ...
> I want to find if there is a dependence between men withouth hair and
> nationality.
> By the way, which is the simplest command to use to study the independence
> in a matrix like the one that I wrote?
> Using
> > chisq.test(a)
>
>         Pearson's Chi-squared test with Yates' continuity correction
>
> data:  a
> X-squared = 0, df = 1, p-value = 1
>
> Warning message:
> Chi-squared approximation may be incorrect in: chisq.test(a)
>
> Why does it give me the warning message? What have to add into
chisq.test(a)
> ?
> And in which value I can understand the level of the dependence?
> Thank you
> Alessandro
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Fri May 24 10:34:00 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 24 May 2002 09:34:00 +0100
Subject: [R] separating a digest into separate messages
In-Reply-To: <Pine.GSO.4.05.10205230715290.12547-100000@ofis450a.akctr.noaa.gov>
References: <Pine.GSO.4.05.10205230715290.12547-100000@ofis450a.akctr.noaa.gov>
Message-ID: <EDQZYWA4rf78EwAm@myatt.demon.co.uk>

Anne York <york at noaa.gov> writes:
>Could someone suggest a mail reader that will parse a digest from r-help
>into separate messages? 
>
>Preferably, this reader would allow replies or forwards of separate
>messages. I use pine on a Sun running SunOS 5.7. If there were an add-on to
>pine that would accomplish this task, that would be even better.

Why not just request the list server to send you the messages separately
rather than in a digest and set up a rule (not sure if possible in Pine)
to direct all messages with starting with "[R]" into a separate mailbox.

Alternatively, switch your mail client to one that handles digests with
a bit more 'intelligence'.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Fri May 24 10:27:19 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 24 May 2002 09:27:19 +0100
Subject: [R] crosstabulation of means
In-Reply-To: <3CED2D63.7F7E3AC5@mcgill.ca>
References: <3CED2D63.7F7E3AC5@mcgill.ca>
Message-ID: <LznakTAnlf78EwDa@myatt.demon.co.uk>

Heberto,

You write:

>Hello, I am trying to print a crosttabulation of mean,sd,n for a
>continuous variable crossclassified by anoother/s grouping variables. I
>came up with:
>xtab2 <- function(x,g1,g2) {
> funy <- function(z)
>   list(mean(z,na.rm=T),sd(z,na.rm=T),length(z))
> aa <- by(x,list(g1,g2),funy)
> bb <- matrix(unlist(aa),nrow=3
>   ,dimnames=list(c("mean","sd","n"),
>                rep(levels(as.factor(g2)),
>                rep(length(levels(as.factor(g1))),
>                    length(levels(as.factor(g2)))) ) ))
>}
>but as you can see the labels of the columns correspond only to the
>second factor, and if I try to generalize it to 3 grouping variables the
>thing does not work.
>Any suggestions please on how to write the dimnames paragraph
>appropriately?

No ... but here is some code that, I think does what you want ... I
think I got it from a previous post to R-help and tidied it up for my
own use:

means <- function(x, i, j=1, k=1)
{
  
  FUN <- function(x)
  {
    c(mean(x, na.rm = TRUE), sd(x, na.rm = TRUE), length(x))
  }
  if ((length(unique(j)) > 1) && (length(unique(k)) > 1))
  {
    t <- tapply(x, list(i, j, k), FUN)
    a <- array(c(t ,recursive = TRUE), c(3, length(unique(i)),
length(unique(j)), length(unique(k))))
    dimnames(a) <- list(c("Mean", "SD", "N"), levels(as.factor(i)),
levels(as.factor(j)), levels(as.factor(k)))
  } 
  
  if (length(unique(j)) > 1 && length(unique(k)) == 1)
  {
    t <- tapply(x, list(i, j), FUN)
    a <- array(c(t, recursive = TRUE), c(3, length(unique(i)),
length(unique(j))))
    dimnames(a) <- list(c("Mean", "SD", "N"), levels(as.factor(i)),
levels(as.factor(j)))
   }                                 
 
  if (length(unique(j)) == 1)
  {
    t <- tapply(x, i, FUN)
    a <- array(c(t, recursive = TRUE), c(3, length(unique(i))))
    dimnames(a) <- list(c("Mean", "SD", "N"), levels(as.factor(i)))
  }

  a <- formatC(a, digits = 3, width = 10, format = "f")
  print(a, quote = FALSE)
}

data(mtcars)
means(mtcars$mpg, mtcars$gear, mtcars$carb)

, , 1

     3          4          5         
Mean     20.333     29.100     17.150
SD        1.935      5.062      2.092
N         3.000      4.000      4.000

, , 2

     3          4          5         
Mean     24.750     28.200     16.300
SD        3.961      3.111      1.054
N         4.000      2.000      3.000

, , 3

     3          4          5         
Mean     12.620     19.750     15.800
SD        2.090      1.552         NA
N         5.000      4.000      1.000

, , 4

     3          4          5         
Mean     19.700     15.000     20.333
SD           NA         NA      1.935
N         1.000      1.000      3.000

, , 6

     3          4          5         
Mean     29.100     17.150     24.750
SD        5.062      2.092      3.961
N         4.000      4.000      4.000

, , 8

     3          4          5         
Mean     28.200     16.300     12.620
SD        3.111      1.054      2.090
N         2.000      3.000      5.000

You should be able to get the dimnames() argument from that.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Daniel.Amorese at geos.unicaen.fr  Fri May 24 10:49:31 2002
From: Daniel.Amorese at geos.unicaen.fr (=?ISO-8859-1?Q?Daniel_Amor=E8se?=)
Date: Fri, 24 May 2002 10:49:31 +0200
Subject: [R] logistic regression or discriminant analysis ?
In-Reply-To: <5.1.1.2.2.20020523103134.024c98f8@pop4.attglobal.net>; from
             feldesmanm@pdx.edu on jeu, mai 23, 2002 at 19:38:34 +0200
References: <20020523182558.A9980@phoebe.msh.unicaen.fr>
            <5.1.1.2.2.20020523103134.024c98f8@pop4.attglobal.net>
Message-ID: <20020524104931.A10574@phoebe.msh.unicaen.fr>

Le 2002.05.23 19:38, Marc Feldesman a ?crit :
> At 06:25 PM 5/23/2002 +0200, Daniel Amor?se wrote:
> >Hello,
> >Does logistic regression really provide better results than lda or qda ?
> >(my purpose is not classification but highlighting of discriminant
> >variables)
> 
> 
> You've asked multiple questions about "stepwise quadratic regression" and
> 
> now "stepwise logistic regression".  You haven't really explained what
> you 
> want to do ("highlighting of discriminant variables" isn't very 
> informative).  WHY do you want to use stepwise anything?  Are you looking
> 
> for the best set of explanatory variables to predict group membership? 
> Are 
> your data non-normal?  Do your groups have heterogeneous covariance 
> structures?  Do you have vastly unequal mixture proportions?
> 
> It sounds like you are interested in the function discrim(), which is
> part 
> of S-Plus but not R.  You've complained about the lack of documentation
> for 
> qda() in Venables and Ripley (3rd edition?) and in the R documentation,
> but 
> you haven't told us what you were looking for.  Neither qda() nor lda()
> do 
> "stepwise", and  AFAIK, there is no stepwise logistic regression
> available 
> in R.  You might want multinomial logistic regression (multinom() in
> bundle 
> VR), but that isn't stepwise either.
> 
> In short, you're not getting much help because the questions you're
> asking 
> aren't very well-formed.
> 
> 
> 
> 
> 
Thank you for this detailed e-mail.
Well, then I explain more precisely my problem.

I have 2 groups (perhaps 3, if I subdivide a group into 2) of
data. These data are described by at least 15 parameters.

What I want to do: from these 15 variables, I want to get the
subset providing the largest distance between groups.
This is why a stepwise approach interests me. AM I WRONG ?
My first purpose is not to predict group membership because
I?think other parameters (not available, hard to measure) can 
(slightly, I hope) modify the group membership. Thus, I am
not interested in establishing an accurate discrimination
rule. I just want to know, among the 15 variables, the subset
being more likely to participate to the discrimination.
 
What I have done: the correlation matrix tells me that many 
variables are correlated. Thus, I performed a lda using only 5 
variables (this selection is arbitrary performed among uncorrelated 
variables). The graphical output shows points clouds that are not 
circular: this result may suggest difference in covariance 
matrices, hence lda seems not to be the more suitable method for 
separating groups.
Perhaps, qda should be used ?
or logistic regression ? (this last method seems to be the more
robust, independent to data properties).
I know qda(), lda() or multinom() do not perform stepwise analysis,
but, what I hope, is that some outputs from these functions can
help in the selection of the most discriminatory variable subset.
Thanks again for your help.
D. Amorese
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bernd at phase-it.de  Fri May 24 11:33:55 2002
From: bernd at phase-it.de (Bernd Jagla)
Date: Fri, 24 May 2002 11:33:55 +0200
Subject: [R] Axis labels
Message-ID: <200205240934.LAA12311@post.webmailer.de>

Dear all

I have a problem with assigning my own labels to the axis of a plot.
I want to substitute the given labels e.g. 1,2,3,... with a vector of values
and strings e.g. "12.23", "1.34", "245,5", "Result". 

B.t.w. how do I rotate these labels so they don't overlap???? 

I want to use the image function to plot.

Thanks for your kind help.

Bernd

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.whiting at ncl.ac.uk  Fri May 24 12:14:50 2002
From: david.whiting at ncl.ac.uk (david.whiting@ncl.ac.uk)
Date: Fri, 24 May 2002 13:14:50 +0300
Subject: [R] separating a digest into separate messages
In-Reply-To: <Pine.GSO.4.05.10205230715290.12547-100000@ofis450a.akctr.noaa.gov>
References: <Pine.GSO.4.05.10205230715290.12547-100000@ofis450a.akctr.noaa.gov>
Message-ID: <20020524131450.A3254@192.168.57.2>

I use procmail on Linux to do this with a digest from another list. It
works very nicely, is easy to configure and has all sorts of
capabilities. I know nothing about SunOS but a quick search on google
seems to suggest that it is available. 

Dave

On Thu, May 23, 2002 at 07:21:46AM -0700, Anne York wrote:
> Could someone suggest a mail reader that will parse a digest from r-help
> into separate messages? 
> 
> Preferably, this reader would allow replies or forwards of separate
> messages. I use pine on a Sun running SunOS 5.7. If there were an add-on to
> pine that would accomplish this task, that would be even better.
> 
> Anne
> 
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Anne E. York
> National Marine Mammal Laboratory
> Seattle WA 98115-0070  USA
> e-mail: anne.york at noaa.gov
> Voice: +1 206-526-4039
> Fax: +1 206-526-6615
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Dave Whiting
Dar es Salaam, Tanzania
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri May 24 13:01:55 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 24 May 2002 13:01:55 +0200
Subject: [R] Axis labels
References: <200205240934.LAA12311@post.webmailer.de>
Message-ID: <3CEE1DA3.3030801@statistik.uni-dortmund.de>



Bernd Jagla wrote:
> Dear all
> 
> I have a problem with assigning my own labels to the axis of a plot.
> I want to substitute the given labels e.g. 1,2,3,... with a vector of values
> and strings e.g. "12.23", "1.34", "245,5", "Result". 

Extended first example from ?image:

x <- y <- seq(-4*pi, 4*pi, len=27)
r <- sqrt(outer(x^2, y^2, "+"))
image(z = z <- cos(r^2)*exp(-r/6), col=gray((0:32)/32),
    xaxt="n")
axis(1, at=seq(0, 1, length=4), las=2,
    labels=c("12.23", "1.34", "245,5", "Result"))


> B.t.w. how do I rotate these labels so they don't overlap???? 

par(las=2)


> I want to use the image function to plot.
> 
> Thanks for your kind help.

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From klavan at tiscalinet.it  Fri May 24 13:06:10 2002
From: klavan at tiscalinet.it (Ambrosini Alessandro)
Date: Fri, 24 May 2002 13:06:10 +0200
Subject: [R] Fisher
Message-ID: <PPEGLLABFLFCJDLCGPGHCELLCAAA.klavan@tiscalinet.it>


Hello.
I had a big collection of Web pages. Now I have this collection divided into
clusters. Every page can be relevant or not. I made a table:
          relevant     non relevant
cluster1    1               20
cluster2    0               15
cluster3    3               35
   .        .               .
   .        .               .
   .        .               .
I cluster1 I have 21 Web pages, 1 relevant and 20 no.
I want to find if relevant pages tend to stay in some clusters, and so I
want to find if there is a dipendence relevant-cluster. The problem is that
I have not much relevant pages for cluster. They are 1,2,3 max 5 for cluster
and so I can't use Chi- square of Pearson.
Tell me one thing: suppose to have
>a
[,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11]
[1,]    0    0    1    0    0    0    0    0    0     1     0
[2,]   21   20   33   17   12   18   12   10   11    10    28

In this case every column is a cluster, the first row has the relevant pages
...
if I do


fisher.test(a)

        Fisher's Exact Test for Count Data

data:  a
p-value = 0.5611
alternative hypothesis: two.sided

how can I interpret this output? How can I read the p-value? Have I to
compare it with something? In the case of perfect dependence, is p-value=1 ?
Please help me, I can't use any book of statistic in this moment and so I
cant solve the problem by myself. My work can not go on if I don't solve the
problem.
Thank you
Alessandro

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri May 24 13:08:42 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Fri, 24 May 2002 07:08:42 -0400
Subject: [R] logistic regression or discriminant analysis ?
In-Reply-To: <20020524104931.A10574@phoebe.msh.unicaen.fr>; from Daniel.Amorese@geos.unicaen.fr on Fri, May 24, 2002 at 10:49:31AM +0200
References: <20020523182558.A9980@phoebe.msh.unicaen.fr> <5.1.1.2.2.20020523103134.024c98f8@pop4.attglobal.net> <20020524104931.A10574@phoebe.msh.unicaen.fr>
Message-ID: <20020524070842.A17798@cattell.psych.upenn.edu>

On 05/24/02 10:49, Daniel Amor?se wrote:
>I have 2 groups (perhaps 3, if I subdivide a group into 2) of
>data. These data are described by at least 15 parameters.
>
>What I want to do: from these 15 variables, I want to get the
>subset providing the largest distance between groups.
>This is why a stepwise approach interests me. AM I WRONG ?
>My first purpose is not to predict group membership because
>I?think other parameters (not available, hard to measure) can 
>(slightly, I hope) modify the group membership. Thus, I am
>not interested in establishing an accurate discrimination
>rule. I just want to know, among the 15 variables, the subset
>being more likely to participate to the discrimination.

It sounds to me as though cluster analysis would be helpful,
either hierarchical (e.g., hclust) or kmeans.  There are at least
two relevant R packages: cluster and mva.  I don't think that any
method has an automatic stepwise add-on, but it also sounds like
you could do the stepwise part "by hand."  Most clustering give
you the within-cluster variance of each cluster.  And, once you
have the clusters, you could use aov, perhaps even with stepAIC,
to find the best predictors.  If you do it by hand you could keep
removing the least useful variable and observe its effect on the
goodness of the clustering.

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Vlad.Popovici at epfl.ch  Fri May 24 14:04:22 2002
From: Vlad.Popovici at epfl.ch (Vlad Popovici)
Date: Fri, 24 May 2002 14:04:22 +0200
Subject: [R] MASS package?
Message-ID: <200205241404.22658.Vlad.Popovici@epfl.ch>

Hi all,

I am looking for the MASS package, which seems to be missing from 'Package 
Sources' section. Could somebody direct me to the right place?

Thank you.

Have a nice weekend,

Vlad

-- 
Vlad POPOVICI                                             
http://ltswww.epfl.ch/~vlad
Signal Processing Institute                              STI-ITS
Swiss Federal Institute of Technology              EPFL
Tel: +41 21 6935646
Fax: +41 21 6937600
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Vlad.Popovici at epfl.ch  Fri May 24 14:15:33 2002
From: Vlad.Popovici at epfl.ch (Vlad Popovici)
Date: Fri, 24 May 2002 14:15:33 +0200
Subject: [R] interfacing with Fortran 90/95
Message-ID: <200205241415.33612.Vlad.Popovici@epfl.ch>

Hi again,

Is there any documenation on interfacing R with Fortran 90/95? Or a small 
example...? I'm mostly interested in passing matrices as dummy arrays in 
Fortran 95. For example, I would like to be able to call from R a routine 
having a declaration such as

subroutine F(x,....)
  double, dimension(:,:), intent(inout) :: x
  .....
end subroutine F

Does somebody have any experience in doing this?

Thank you for your help.

Best wishes,

Vlad

-- 
Vlad POPOVICI                                             
http://ltswww.epfl.ch/~vlad
Signal Processing Institute                              STI-ITS
Swiss Federal Institute of Technology              EPFL
Tel: +41 21 6935646
Fax: +41 21 6937600
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plecca at kirk.science.unitn.it  Fri May 24 14:41:09 2002
From: plecca at kirk.science.unitn.it (Paola Lecca)
Date: Fri, 24 May 2002 14:41:09 +0200 (MET DST)
Subject: [R] nmath standalone again
Message-ID: <Pine.OSF.4.31.0205241426230.29589-100000@kirk.science.unitn.it>

Hi !

I have again problem with nmath standalone sources package.
Following the suggestion of Reid, I did control that
/usr/local, in which I copied the dir standalone,  is listed in
/etc/ld.so.conf.

However, because of my big ignorance, I don't understand how I have to do
the linkage to Rmath during the compilation of a source.

What does it mean:

"and link against -lRmath" in file README of src/nmath/standalone ?

Have I to do: cc -lRmath test.c ? In this case I receive this message:

/usr/bin/ld: cannot find -lRmath
collect2: ld returned 1 exit status

I ask again your help. Sorry for the disturb.
Thanks in advance,
Paola.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri May 24 15:17:18 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 24 May 2002 15:17:18 +0200
Subject: [R] MASS package?
References: <200205241404.22658.Vlad.Popovici@epfl.ch>
Message-ID: <3CEE3D5E.1050206@statistik.uni-dortmund.de>



Vlad Popovici wrote:
> Hi all,
> 
> I am looking for the MASS package, which seems to be missing from 'Package 
> Sources' section. Could somebody direct me to the right place?

It's included in the package bundle VR.

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri May 24 15:25:44 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 24 May 2002 15:25:44 +0200
Subject: [R] Fisher
References: <PPEGLLABFLFCJDLCGPGHCELLCAAA.klavan@tiscalinet.it>
Message-ID: <3CEE3F58.6000008@statistik.uni-dortmund.de>

Ambrosini Alessandro wrote:
> Hello.
> I had a big collection of Web pages. Now I have this collection divided into
> clusters. Every page can be relevant or not. I made a table:
>           relevant     non relevant
> cluster1    1               20
> cluster2    0               15
> cluster3    3               35
>    .        .               .
>    .        .               .
>    .        .               .
> I cluster1 I have 21 Web pages, 1 relevant and 20 no.
> I want to find if relevant pages tend to stay in some clusters, and so I
> want to find if there is a dipendence relevant-cluster. The problem is that
> I have not much relevant pages for cluster. They are 1,2,3 max 5 for cluster
> and so I can't use Chi- square of Pearson.
> Tell me one thing: suppose to have
> 
>>a
> 
> [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11]
> [1,]    0    0    1    0    0    0    0    0    0     1     0
> [2,]   21   20   33   17   12   18   12   10   11    10    28
> 
> In this case every column is a cluster, the first row has the relevant pages
> ...
> if I do
> 
> 
> fisher.test(a)
> 
>         Fisher's Exact Test for Count Data
> 
> data:  a
> p-value = 0.5611
> alternative hypothesis: two.sided
> 
> how can I interpret this output? How can I read the p-value? 

[This seems to be off topic on this list.]

Well, interpreting a p-value is a *very* basic task in statistics. You 
really should read a statistical textbook on inference theory, if you 
want to work with statistical tests ...


> Have I to compare it with something? 

Your \alpha ?


> In the case of perfect dependence, is p-value=1 ?

Almost 0!!!
You are testing on independency!
The null hypothese is rejected, if p < \alpha.


> Please help me, I can't use any book of statistic in this moment and so I
> cant solve the problem by myself. My work can not go on if I don't solve the
> problem.

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Fri May 24 16:09:54 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Fri, 24 May 2002 10:09:54 -0400
Subject: [R] separating a digest into separate messages
In-Reply-To: <128793785@toto.iv>
Message-ID: <15598.18866.161287.815037@gargle.gargle.HOWL>

Anne York <york at noaa.gov> wrote:
> Could someone suggest a mail reader that will parse a digest from r-help
> into separate messages? 

I've been using "vm" for a few months and am happy with it.  It's built into
standard (Solaris) Emacs, just type "M-x vm".  When R-help-digest appears,
right-click on the lower window and choose "Burst message as digest", then all
the individual messages are expanded as if they had been sent separately.
Here's my ~/.vm config file; see <http://www.wonderworks.com/vm/user-manual/>
for more details:

(setq vm-auto-get-new-mail 30)
(setq mail-archive-file-name (expand-file-name "~/Letter/me"))
(setq mail-signature t)
(setq mail-signature-file "~/.signature")
(setq vm-primary-inbox "~/Letter/INBOX")
(setq vm-delete-after-archiving t)
(setq vm-delete-after-saving t)
(setq vm-preview-lines nil)
(setq mail-default-reply-to "brahm at alum.mit.edu")
(setq user-mail-address "brahm at alum.mit.edu")
(setq vm-frame-parameter-alist '( (folder ((width . 120) (height . 65))) ))
(define-key menu-bar-tools-menu [rmail] '("Read Mail" . vm))
(define-key-after menu-bar-tools-menu [smail] '("Send Mail" . vm-mail) 'rmail)

-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri May 24 17:01:58 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 24 May 2002 08:01:58 -0700 (PDT)
Subject: [R] MASS package?
In-Reply-To: <3CEE3D5E.1050206@statistik.uni-dortmund.de>
Message-ID: <Pine.A41.4.44.0205240801190.161082-100000@homer34.u.washington.edu>

On Fri, 24 May 2002, Uwe Ligges wrote:

>
>
> Vlad Popovici wrote:
> > Hi all,
> >
> > I am looking for the MASS package, which seems to be missing from 'Package
> > Sources' section. Could somebody direct me to the right place?
>
> It's included in the package bundle VR.

and as it's a recommended package it should be in your original
installation of R.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rangrej at exchange.cheo.on.ca  Fri May 24 17:22:17 2002
From: rangrej at exchange.cheo.on.ca (Rangrej, Jagadish)
Date: Fri, 24 May 2002 11:22:17 -0400
Subject: [R] How to increases the Memory size for R in Batch mode
Message-ID: <A032D3A4B7F0D411B9360008C71E3DA5038D4D2D@CHEONT3>

hello everybody!!

I am using "Rcmd BATCH" command to run simulation on R in batch mode on
win98 machine.
Would it be possible to increase the memory size of R; if so how and what is
the default memory size used, and what is the limit to which I can increase
the memory size.

My machine configurations:
	512MB Ram with Intel P-III processor working at 1GHz speed.
	Win98 and R 1.4.1


Thanking you all in advance for your help,
-Jag

Jagadish Rangrej ( Statistician )
Chalmers Research Group (CRG)
CHEO Research Institute, Ottawa, ON
613-7383951



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fernando.pineda at jhu.edu  Fri May 24 18:12:42 2002
From: fernando.pineda at jhu.edu (Fernando Pineda)
Date: Fri, 24 May 2002 12:12:42 -0400
Subject: [R] OS-X (Darwin), R 1.5 and RMySQL
Message-ID: <a05100305b9141563754d@[10.18.117.10]>

Has anyone succeeding in getting RMySQL to work under the no-atlas 
version of R 1.5 under Darwin (Mac OS X 10.1.3)? The RMySQL package 
seems to install properly. I seem to be able to create dbManager 
object, but R crashes with a bus error when I reach the point of 
trying to execute dbConnect(). I would like to establish a dialog 
with anyone who has done this successfully.

Thanks,

-- Fernando
-- 
Fernando J. Pineda     		Johns Hopkins University
Assoc. Professor                 	Bloomberg School of Public Health
Molecular Microbiology & Immunology	615 N. Wolfe St.	 
fernando.pineda at jhu.edu			Baltimore, MD 21205
443-287-3673
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020524/63c3959b/attachment.html

From jmetz at comcast.net  Fri May 24 19:30:47 2002
From: jmetz at comcast.net (james metz)
Date: Fri, 24 May 2002 12:30:47 -0500
Subject: [R] R and QSAR equations
Message-ID: <006f01c20348$bdac4eb0$89462844@OFFICE1>

Hello R Users,

    I am interested in using R to generate quantitative structure-activity
relationships (QSARs) for small molecules given
a set of molecular descriptors (the X's) and biological data (Y's) (usually
tab-delimited data files).

    Has anyone done this using R ?  Would you be willing to share your R
scripts (or ideas) for doing this with me ?
I am particularly interested in R codes for optimizing variable selection as
well as validation of the generated QSAR equations, since
I have software that can generate ~ 1500 molecular descriptors per molecule.
How do you coax R to find the optimal (smallest) set
of descriptors to fit the data ?

    I am a new user of R.  I am trying to learn the ins and outs of this
powerful software.  Sorry if this sounds like a trivial request.

    Thanks,
    Jim Metz


James T. Metz, Ph.D.
Computational Chemist
2119 Maple Creek Circle
Ann Arbor, MI  48108

jmetz at comcast.net

(H) 734-429-5075


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Fri May 24 19:08:21 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Fri, 24 May 2002 10:08:21 -0700 (PDT)
Subject: [R] separating a digest into separate messages (fwd)
Message-ID: <Pine.GSO.4.10.10205241008090.8761-100000@fisher.stat.ucla.edu>

I believe formail (possibly in conjunction with procmail) can be used for
this purpose.  If procmail is installed on your system try doing a 

man procmailex

for examples.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Thu, 23 May 2002, Anne York wrote:

> Could someone suggest a mail reader that will parse a digest from r-help
> into separate messages? 
> 
> Preferably, this reader would allow replies or forwards of separate
> messages. I use pine on a Sun running SunOS 5.7. If there were an add-on to
> pine that would accomplish this task, that would be even better.
> 
> Anne
> 
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Anne E. York
> National Marine Mammal Laboratory
> Seattle WA 98115-0070  USA
> e-mail: anne.york at noaa.gov
> Voice: +1 206-526-4039
> Fax: +1 206-526-6615
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luchini at ehess.cnrs-mrs.fr  Fri May 24 18:12:32 2002
From: luchini at ehess.cnrs-mrs.fr (=?iso-8859-1?Q?St=E9phane?= Luchini)
Date: Fri, 24 May 2002 18:12:32 +0200
Subject: [R] Score vector in optim
Message-ID: <3CEE6670.3BC26B1D@ehess.cnrs-mrs.fr>


To test identification problem in maximum likelihood method, I need to
compute the score vectors for each parameter: the value of the first
derivative for all parameter and for all observation. Is there a
possibilty to use the approximate ones used in the procedure optim ?



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Fri May 24 19:14:01 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Fri, 24 May 2002 10:14:01 -0700 (PDT)
Subject: [R] nmath standalone again
In-Reply-To: <Pine.OSF.4.31.0205241426230.29589-100000@kirk.science.unitn.it>
Message-ID: <Pine.GSO.4.10.10205241012010.8761-100000@fisher.stat.ucla.edu>

You may have to run ldconfig (or something like that) after modifying your
/etc/ld.so.conf file

Also, you could specify the library directory on the command line,
something like:

cc -L/usr/local test.c -lRmath

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Fri, 24 May 2002, Paola Lecca wrote:

> Hi !
> 
> I have again problem with nmath standalone sources package.
> Following the suggestion of Reid, I did control that
> /usr/local, in which I copied the dir standalone,  is listed in
> /etc/ld.so.conf.
> 
> However, because of my big ignorance, I don't understand how I have to do
> the linkage to Rmath during the compilation of a source.
> 
> What does it mean:
> 
> "and link against -lRmath" in file README of src/nmath/standalone ?
> 
> Have I to do: cc -lRmath test.c ? In this case I receive this message:
> 
> /usr/bin/ld: cannot find -lRmath
> collect2: ld returned 1 exit status
> 
> I ask again your help. Sorry for the disturb.
> Thanks in advance,
> Paola.
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Fri May 24 20:10:56 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Fri, 24 May 2002 14:10:56 -0400
Subject: [R] Find if there is independence
References: <PPEGLLABFLFCJDLCGPGHOELICAAA.klavan@tiscalinet.it> <3CED55C6.5C623AFA@statistik.uni-dortmund.de>
Message-ID: <3CEE8230.E9564480@umsanet.edu.bo>

Or you can use chisq.test with simulate.p.value=TRUE

Kjetil Halvorsen


Uwe Ligges wrote:
> 
> Ambrosini Alessandro wrote:
> >
> > Hello
> > I have the matrix
> >
> > a<-matrix(c(2,1,0,1,2,2,1,5,7,2,5,12),nrow=6)
> > a
> >
> >       [,1] [,2]
> > [1,]    2    1
> > [2,]    1    5
> > [3,]    0    7
> > [4,]    1    2
> > [5,]    2    5
> > [6,]    2   12
> >
> > Suppose that in the first row we have 3 men of England, 2 with hair, and 1
> > no
> > In the second we have 6 italian men, 1 with hair and 5 no ...
> > I want to find if there is a dependence between men withouth hair and
> > nationality.
> > By the way, which is the simplest command to use to study the independence
> > in a matrix like the one that I wrote?
> 
> Let me ask another question: What is the appropriate method to ...
> 
> Since the cells of your contingency table are not very well filled, I'd
> suggest to use Fisher's (general) exact test, if you want to test on
> independency of rows and columns, fortunately you do not need to
> calculate it manually, see ?fisher.test .
> 
> > Using
> > > chisq.test(a)
> >
> >         Pearson's Chi-squared test with Yates' continuity correction
> >
> > data:  a
> > X-squared = 0, df = 1, p-value = 1
> 
> No. In my version of R (1.5.0 on WinNT) it results plausibly in:
>   X-squared = 6.8155, df = 5, p-value = 0.2347
> 
> Are you sure you did the things mentioned above exactly?
> 
> > Warning message:
> > Chi-squared approximation may be incorrect in: chisq.test(a)
> >
> > Why does it give me the warning message? What have to add into chisq.test(a)
> > ?
> > And in which value I can understand the level of the dependence?
> 
> What does "level of dependence" mean in your case?
> Are you sure you want to quantify it, using such a small number of
> observations and such vague defintions (hair / no hair). To you want to
> quantify it for all countries or separately? But perhaps I misunderstand
> ...
> 
> Uwe Ligges
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Fri May 24 20:20:00 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Fri, 24 May 2002 18:20:00 +0000
Subject: [R] intersecting polygons and conversion from decimal degree to km
Message-ID: <3CEE8450.835B1CA9@sentoo.sn>

Dear all,

1. How can I compute the intersecting area between 2 polygons ?

2. I have polygons with coordinates in decimal degrees (i.e. 13 deg 30
min = 13.5 decimal degrees). I want to compute their area and get the
results in square meters or square kiometers. Can anyone give me a
conversion coefficient or a pointer where I can find this information
(sorry for this off topic question) ?

Thanks in advance,

Renaud

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjpelton at ucdavis.edu  Fri May 24 21:41:56 2002
From: cjpelton at ucdavis.edu (C Pelton)
Date: Fri, 24 May 2002 12:41:56 -0700 (PDT)
Subject: [R] command line edit
Message-ID: <200205241941.g4OJfui28955@pop12.ucdavis.edu>

Does anybody know a way to edit your command line arguments on the command line, 
other than deleting everything and re-typing? My user just want to be able to 
use emacs like commands - like you can do in a shell, and s-plus from what he 
says. I attempted to set up the emacs add-on, without much success, on a Solaris 
7 box, but he doesn't really want that, he just wants the command line option.

Thanks,
Chris

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Brian.J.GREGOR at odot.state.or.us  Fri May 24 21:45:58 2002
From: Brian.J.GREGOR at odot.state.or.us (Brian.J.GREGOR@odot.state.or.us)
Date: Fri, 24 May 2002 12:45:58 -0700
Subject: [R] Converting Character Strings  into Object Names
Message-ID: <372EFF9FE4E42E419C978E7A305DC5FE334487@EXSALEM5.highway.odot.state.or.us>

Is there a function to convert character strings to object references.  For
example, I want to name sets of objects based on scenarios and the types of
data being stored.  So the scenarios might be something like c("a", "b",
"c"), the types of data might have names like c("pass.trp", "trk.trp",
"cmute.trp"), and I want to assign data to the objects a.pass.trp,
b.pass.trp, c.pass.trp, a.trk.trp, etc.  I'd like to be able to paste the
names together and then use them as an object references.

Brian Gregor, P.E.
Transportation Planning Analysis Unit
Oregon Department of Transportation
Brian.J.GREGOR at odot.state.or.us
(503) 986-4120

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From White.Denis at epamail.epa.gov  Fri May 24 21:56:43 2002
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Fri, 24 May 2002 12:56:43 -0700
Subject: [R] intersecting polygons and conversion from decimal degree to km
Message-ID: <OFFAF9EF6F.B1C0DBB4-ON88256BC3.006AE6A0@rtp.epa.gov>


> 1. How can I compute the intersecting area between 2 polygons ?

The general case (with interior exclusions and/or concave borders) is a
little work.  I don't know whether there are any solutions in R, but
many GIS have this feature.

> 2. I have polygons with coordinates in decimal degrees (i.e. 13
> deg 30 min = 13.5 decimal degrees). I want to compute their area
> and get the results in square meters or square kiometers. Can
> anyone give me a conversion coefficient or a pointer where I can
> find this information (sorry for this off topic question) ?

Here is a very simple map projection that you could use.  It ignores the
slightly non-spherical shape of the earth, and is neither equal-area nor
conformal.  After converting your geographic coordinates to kilometers
with this function, you can use function "areapl" in package "splancs"
to calculate the area.

marinus <- function (lat, lon) {
    # Arguments are vectors of latitude and longitude,
    # that is, geographic coordinates in decimal degrees.
    # Projection center defined as midpoint in lat-lon space.
    # Returns a two column matrix with column names "x" and "y",
    # in units of kilometers.  This is the equidistant cylindric
    # map projection, here named after Marinus of Tyre
    # (see JP Snyder. USGS Prof Paper 1395, p 90).
    R <- 6371
    rlat <- range (lat, na.rm=TRUE)
    rlon <- range (lon, na.rm=TRUE)
    midlat <- diff (rlat) / 2 + rlat[1]
    midlon <- diff (rlon) / 2 + rlon[1]
    x <- R * (lon-midlon)*pi/180 * cos (midlat*pi/180)
    y <- R * (lat-midlat)*pi/180
    xy <- cbind (x=x, y=y)
    xy
}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri May 24 22:15:20 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 24 May 2002 13:15:20 -0700 (PDT)
Subject: [R] Converting Character Strings  into Object Names
In-Reply-To: <372EFF9FE4E42E419C978E7A305DC5FE334487@EXSALEM5.highway.odot.state.or.us>
Message-ID: <Pine.A41.4.44.0205241311280.52296-100000@homer15.u.washington.edu>

On Fri, 24 May 2002 Brian.J.GREGOR at odot.state.or.us wrote:

> Is there a function to convert character strings to object references.  For
> example, I want to name sets of objects based on scenarios and the types of
> data being stored.  So the scenarios might be something like c("a", "b",
> "c"), the types of data might have names like c("pass.trp", "trk.trp",
> "cmute.trp"), and I want to assign data to the objects a.pass.trp,
> b.pass.trp, c.pass.trp, a.trk.trp, etc.  I'd like to be able to paste the
> names together and then use them as an object references.

Yes.

The get() and assign() functions allow you to reference objects by
character strings, and as.name() will convert a string into a reference
(you would then probably need to use substitute() to create an expression
and eval()) to evaluate it.

eg

    assign("a",get("b"))
does
    a<-b


Often there is a better way: the objects can be stored in a list, making
it possible to use character strings directly to reference them

If  obj<-list(a=1,b=2)

then obj[["a"]] is a reference to the "a" element and you can do eg

obj[["a"]]<-otherobj[["b"]]


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From klohman at wfubmc.edu  Fri May 24 23:33:34 2002
From: klohman at wfubmc.edu (Kurt Lohman)
Date: Fri, 24 May 2002 16:33:34 -0500
Subject: [R] Re: heirs mysql db
In-Reply-To: <3CEE9CED.4E2A161E@wfubmc.edu>
References: <200205241941.g4OJfui28955@pop12.ucdavis.edu>
	<3CEE9CED.4E2A161E@wfubmc.edu>
Message-ID: <15598.45486.114000.117461@gargle.gargle.HOWL>

Joe Mychaleckyj writes:
>Kurt,
>tried to connect to your heirs mysql db using heirs/o2iron and was denied access. Has pwd changed?
>
>Thanks,
>Joe.
>
Try 02iron. Thats zero two iron.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From White.Denis at epamail.epa.gov  Fri May 24 22:36:24 2002
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Fri, 24 May 2002 13:36:24 -0700
Subject: [R] Converting Character Strings  into Object Names
Message-ID: <OFFADD2453.D14D670A-ON88256BC3.0070CF4B@rtp.epa.gov>


> Is there a function to convert character strings to object
> references.  For example, I want to name sets of objects
> based on scenarios and the types of data being stored.
> So the scenarios might be something like c("a", "b",
> "c"), the types of data might have names like c("pass.trp",
> "trk.trp", "cmute.trp"), and I want to assign data to the
> objects a.pass.trp, b.pass.trp, c.pass.trp, a.trk.trp, etc.
> I'd like to be able to paste the names together and then
> use them as an object references.

For example,

obj <- eval (parse (text=paste ("a", "pass.trp", sep="")))


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GPetris at uark.edu  Fri May 24 22:56:50 2002
From: GPetris at uark.edu (Giovanni Petris)
Date: Fri, 24 May 2002 15:56:50 -0500 (CDT)
Subject: [R] Converting Character Strings  into Object Names
In-Reply-To: 
	<372EFF9FE4E42E419C978E7A305DC5FE334487@EXSALEM5.highway.odot.state.or.us>
	(Brian.J.GREGOR@odot.state.or.us)
References: <372EFF9FE4E42E419C978E7A305DC5FE334487@EXSALEM5.highway.odot.state.or.us>
Message-ID: <200205242056.PAA26197@definetti.uark.edu>


?assign

GP

> Is there a function to convert character strings to object references.  For
> example, I want to name sets of objects based on scenarios and the types of
> data being stored.  So the scenarios might be something like c("a", "b",
> "c"), the types of data might have names like c("pass.trp", "trk.trp",
> "cmute.trp"), and I want to assign data to the objects a.pass.trp,
> b.pass.trp, c.pass.trp, a.trk.trp, etc.  I'd like to be able to paste the
> names together and then use them as an object references.
> 
> Brian Gregor, P.E.
> Transportation Planning Analysis Unit
> Oregon Department of Transportation
> Brian.J.GREGOR at odot.state.or.us
> (503) 986-4120

-- 

 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (479) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Fri May 24 23:02:32 2002
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Fri, 24 May 2002 14:02:32 -0700
Subject: [R] logistic regression or discriminant analysis ?
Message-ID: <5.1.1.2.2.20020524140159.01687460@pop4.attglobal.net>

At 01:49 AM 5/24/2002, Daniel Amor?se took a glob of electronic fairy dust, 
mushed it together in odd and bizarre ways, and ruminated:
 >Le 2002.05.23 19:38, Marc Feldesman a ?crit :
 >> At 06:25 PM 5/23/2002 +0200, Daniel Amor?se wrote:
 >> >Hello,
 >What I have done: the correlation matrix tells me that many
 >variables are correlated. Thus, I performed a lda using only 5
 >variables (this selection is arbitrary performed among uncorrelated
 >variables). The graphical output shows points clouds that are not
 >circular: this result may suggest difference in covariance
 >matrices, hence lda seems not to be the more suitable method for
 >separating groups.

Elliptical point clouds do not, in themselves, suggest unequal covariance 
structures.  If the major axes of the ellipses are all oriented in the same 
direction and are more-or-less parallel, you don't have much evidence of 
unequal covariance structure.  Unless the covariance structures are really 
different, I've never seen much improvement using quadratic discriminant 
analysis.  The problem with quadratic discriminant analysis, in my 
experience, is that it is very difficult to interpret the results in the 
context of the variables producing the group separations.

I'd strongly recommend Professor Ripley's "Pattern Recognition and Neural 
Networks" (Cambridge University Press, 1996), as well as Hastie, 
Tibshirani, and Friedman's "The Elements of Statistical Learning" (2001, 
Cambridge University Press).  Both will help you considerably with your 
problem.

I also agree with Jon Baron that clustering techniques may be appropriate 
here.

Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department - Portland State University
email:  feldesmanm at pdx.edu
email:  feldesman at attglobal.net
fax:    503-725-3905


"Sometimes the lights are all shining on me, other times I can barely see,
lately it's occurred to me, what a long strange trip it's been..."  Jerry &
the boys



Powered by Tyrannochoerus - the 2.2 GHz WinXPP Box

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Fri May 24 23:09:58 2002
From: macq at llnl.gov (Don MacQueen)
Date: Fri, 24 May 2002 14:09:58 -0700
Subject: [R] command line edit
In-Reply-To: <200205241941.g4OJfui28955@pop12.ucdavis.edu>
References: <200205241941.g4OJfui28955@pop12.ucdavis.edu>
Message-ID: <p05111702b9145a98ef38@[128.115.153.6]>

Briefly, you have to re-build R with readline support.

I don't have the exact details at my fingertips, but I downloaded the 
readline libraries from the web, put them somewhere, and then named 
the location in R's config.site file. Or you can put them somewhere 
in the OS's standard search path for libraries. Either way, if R 
finds them during configure, it will compile R with support for 
editing the command line.

For me,

R[23]% ls local/lib/libread*
local/lib/libreadline.a      local/lib/libreadline.so.4

I believe that the file I downloaded from the web was named
    readline-4.2-sol7-sparc-local.gz

-Don

At 12:41 PM -0700 5/24/02, C Pelton wrote:
>Does anybody know a way to edit your command line arguments on the 
>command line,
>other than deleting everything and re-typing? My user just want to be able to
>use emacs like commands - like you can do in a shell, and s-plus from what he
>says. I attempted to set up the emacs add-on, without much success, 
>on a Solaris
>7 box, but he doesn't really want that, he just wants the command line option.
>
>Thanks,
>Chris
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From msawada at uottawa.ca  Sat May 25 00:51:49 2002
From: msawada at uottawa.ca (Dr. M.Sawada)
Date: Fri, 24 May 2002 18:51:49 -0400
Subject: [R] intersecting polygons and conversion from decimal degree to km
In-Reply-To: <3CEE8450.835B1CA9@sentoo.sn>
Message-ID: <000001c20375$9706d6e0$25059d18@CR2270858A>

Renaud:
Here is a simple Albers-Equal Area Conic program in R that you can use
(actually I wrote it for S+ but should be the same - you may have to
modify the dimnames() function for R).  This is preferred over an
equidistant projection.  Long/Lat, as you are probably aware, are a
spherical system and so distances are not isotropic (1 degree of long at
the equator is 116 miles vs 0 miles at the pole) and euclidean geometry
does not apply strictly (length x width <> area).  Thus it would be more
difficult to calculate area and you would need to resort to spherical
trig.  It is easier to use an equal area projection like this one with
standard lines in the bottom 1/3 and top 2/3 of your study area.  Modify
R in the code which represents the radius of the earth in km - here
multiplied by 1000 to provide a coordinate system in meters.  If you
want to calculate areas on an ellipsoidal earth (e.g., WGS84) you will
need to use a GIS.

albers.mat.f<-function(xy, origin = c(0, 0), stdlns = c(0, 0)) { 
#inputs############# 
#xy - a two column dataframe or matrix with longitudes in the first
column (x) and latitudes in the second column 
#(y) 
#origin = c(0,0): is the Longitude and Latitude for the center of the
output coordinate system e.g., c(-100,50) 
#	for -100 West and 50 N.
#stdlns = c(0,0) are the standard lines (parallels) where true scale is
found e.g., for North America perhaps
#c(35,80) for 35 N and 80 N since this distributes distortion throughout
the map. #R - Earth Radius #phi1 - Lat; Stdln 1 #phi2 - Lat; Stdln 2
#phi0 - Lat; Origin #lambda0 - Lon; Origin #xy - c(phi,lambda); point to
be projected #C = (cos(phi1))^2+2nsin(phi1) #n=(sin(phi1)+sin(phi2))/2
#theta = n(lambda-lambda0) #p = (R(C-2n sin(phi))^.5)/n #pnot = (R(C-2n
sin (phi0))^.5)/n #x = p sin(theta) #y = pnot - p cos(theta)
	xy <- as.matrix(xy)
	dimnames(xy) <- list(NULL, c("x", "y"))	
	xy <- (xy * pi)/180
	R <- 6378 * 1000
	phi1 <- (stdlns[1] * pi)/180
	phi2 <- (stdlns[2] * pi)/180
	phi0 <- (origin[2] * pi)/180
	lambda0 <- (origin[1] * pi)/180	
	n <- (sin(phi1) + sin(phi2))/2
	twon <- 2 * n
	C <- ((cos(phi1))^2 + 2 * n * sin(phi1))
	theta <- n * (xy[, 1] - lambda0)
	xy[, 1] <- ((R * (C - twon * sin(xy[, 2]))^0.5)/n) * sin(theta)
	xy[, 2] <- ((R * (C - twon * sin(phi0))^0.5)/n) - ((R * (C - 2 *
n * sin(xy[, 2]))^0.5)/n) * cos(theta)
	xy
}

I've implemented the Hodgman-Sutherland Algorithm to clip polygons to
graph boxes (S+ won't clip filled polygons) as a DLL interfaced with S+
and you can see it at:

http://www.uottawa.ca/academic/arts/geographie/lpcweb/newlook/data_and_d
ownloads/download/pclip/pclip.htm

You might be able to take this approach and re-implement it for
intersecting two convex polygons but it will be some work.  I don't know
of any intersection algorithms in R either - use ArcView or ArcGIS or
Mapinfo.  You could also call the WinAPI within a DLL to do intersection
areas.

Cheers,
Mike

______________________________________________
Dr. M.Sawada
Assistant Professor, GIS
University of Ottawa
Dept. Geography
P.O. Box 450 Stn. A
Ottawa, ON K1N 6N9
Tel: 613-562-5800 x1040
Fax: 613-562-5145
Eml: msawada at uottawa.ca 

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On Behalf Of Renaud Lancelot
Sent: Friday, May 24, 2002 2:20 PM
To: R-Help
Subject: [R] intersecting polygons and conversion from decimal degree to
km


Dear all,

1. How can I compute the intersecting area between 2 polygons ?

2. I have polygons with coordinates in decimal degrees (i.e. 13 deg 30
min = 13.5 decimal degrees). I want to compute their area and get the
results in square meters or square kiometers. Can anyone give me a
conversion coefficient or a pointer where I can find this information
(sorry for this off topic question) ?

Thanks in advance,

Renaud

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From White.Denis at epamail.epa.gov  Sat May 25 01:51:16 2002
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Fri, 24 May 2002 16:51:16 -0700
Subject: [R] intersecting polygons and conversion from decimal degree to km
Message-ID: <OF6BBB4B33.1789BDB1-ON88256BC3.0081B5D0@rtp.epa.gov>


Dr. M.Sawada wrote:
> Here is a simple Albers-Equal Area Conic program in R that you can
> use (actually I wrote it for S+ but should be the same - you may
> have to modify the dimnames() function for R).  This is preferred
> over an equidistant projection.  Long/Lat, as you are probably aware,
> are a spherical system and so distances are not isotropic (1 degree
> of long at the equator is 116 miles vs 0 miles at the pole) ...

At the equator, 1 degree of longitude is 111+ km on the Clarke 1866
ellipsoid.  Choosing a map projection depends on the problem.
Equal-area may not be preferable to conformal or equidistant.  And
simplicity may be fine depending on precision requirements.  For
background on map projections try a web search, e.g.
http://www.colorado.edu/geography/gcraft/notes/mapproj/mapproj_f.html.

There have been a number of discussions on r-help on map projections.
See threads about 20 April 2001, and 22 June 2001.

Denis White
   US EPA, 200 SW 35th St, Corvallis, Oregon, 97333 USA
   voice: 541.754.4476, email: white.denis at epa.gov
   web: www.epa.gov/wed/pages/staff/white/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat May 25 01:49:39 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 May 2002 01:49:39 +0200
Subject: [R] command line edit
In-Reply-To: <p05111702b9145a98ef38@[128.115.153.6]>
References: <200205241941.g4OJfui28955@pop12.ucdavis.edu>
	<p05111702b9145a98ef38@[128.115.153.6]>
Message-ID: <x2u1oxqf70.fsf@blueberry.kubism.ku.dk>

Don MacQueen <macq at llnl.gov> writes:

> Briefly, you have to re-build R with readline support.
> 
> I don't have the exact details at my fingertips, but I downloaded the
> readline libraries from the web, put them somewhere, and then named
> the location in R's config.site file. Or you can put them somewhere in
> the OS's standard search path for libraries. Either way, if R finds
> them during configure, it will compile R with support for editing the
> command line.
> 
> For me,
> 
> R[23]% ls local/lib/libread*
> local/lib/libreadline.a      local/lib/libreadline.so.4
> 
> I believe that the file I downloaded from the web was named
>     readline-4.2-sol7-sparc-local.gz

Or just install binaries from www.sunfreeware.com. (They have a rather
nice pkg-get mechanism).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Sat May 25 02:58:43 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Fri, 24 May 2002 17:58:43 -0700 (PDT)
Subject: [R] intersecting polygons and conversion from decimal degree to
 km
In-Reply-To: <3CEE8450.835B1CA9@sentoo.sn>
Message-ID: <Pine.GSO.4.10.10205241753460.29070-100000@fisher.stat.ucla.edu>

Intersecting polygons is a fairly non-trivial task, one which I was
confronted with a few years ago.  Luckily, Alan Murta has written a very
nice C library which can be downloaded at

http://www.cs.man.ac.uk/aig/staff/alan/software/

A little while back I wrote an R interface to this library which is fairly
straightforward to use but it's a little rough and ready.  The good
thing is that Murta's library is *very* fast.  It can
intersect/difference/union polygons with over a thousand points very
quickly. 

If you're interested in my R package please email me privately.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Fri, 24 May 2002, Renaud Lancelot wrote:

> Dear all,
> 
> 1. How can I compute the intersecting area between 2 polygons ?
> 
> 2. I have polygons with coordinates in decimal degrees (i.e. 13 deg 30
> min = 13.5 decimal degrees). I want to compute their area and get the
> results in square meters or square kiometers. Can anyone give me a
> conversion coefficient or a pointer where I can find this information
> (sorry for this off topic question) ?
> 
> Thanks in advance,
> 
> Renaud
> 
> -- 
> Dr Renaud Lancelot, vétérinaire
> CIRAD, Département Elevage et Médecine Vétérinaire (CIRAD-Emvt)
> Programme Productions Animales
> http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Français)
> http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)
> 
> ISRA-LNERV                      tel    (221) 832 49 02
> BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
> Senegal                         e-mail renaud.lancelot at cirad.fr
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Richard.Rowe at jcu.edu.au  Sat May 25 03:46:42 2002
From: Richard.Rowe at jcu.edu.au (Richard Rowe)
Date: Sat, 25 May 2002 11:46:42 +1000
Subject: [R] intersecting polygons
In-Reply-To: <OF6BBB4B33.1789BDB1-ON88256BC3.0081B5D0@rtp.epa.gov>
Message-ID: <5.0.0.25.1.20020525113803.030402d0@pop.jcu.edu.au>

I have a very much simpler problem - radiotracking data, data limited and 
grubby so anything more than simple convex polygons is unwarranted 
(obtained using chull()).  Distances so small we can regard the Earth as 
flat and Euclidean.

Has anyone a smart idea to detect the (possible) intersection points of two 
such bounding polygons? (once the intersection points are detected then the 
overlap area is another simple convex polygon),

Richard Rowe

Richard Rowe
Senior Lecturer
Department of Zoology and Tropical Ecology, James Cook University
Townsville, Queensland 4811, Australia
fax (61)7 47 25 1570
phone (61)7 47 81 4851
e-mail: Richard.Rowe at jcu.edu.au
http://www.jcu.edu.au/school/tbiol/zoology/homepage.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Sat May 25 07:54:38 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Sat, 25 May 2002 17:54:38 +1200 (NZST)
Subject: [R] Ploting in for() loop
Message-ID: <Pine.SOL.4.21.0205251751540.9951-100000@stat1.stat.auckland.ac.nz>

Hi,

Suppose I have a for() loop that draws 6 boxplots as follows:
  par(mfrow = c(2, 3))
  for(i in 2:length(spam.sample)) {
    boxplot(split(spam.sample[,i], yesno))
  }

Where spam.sample is a data frame with 7 columns, and I'm interested in
plotting column 2 ~ 7 against column 1 (yesno).

The boxplots appeared fine, however I'm trying to add a meaningful title,
x and y labels to them.  Is it possible to do this in the loop?

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

Homepage: http://www.stat.auckland.ac.nz/~kwan022

E-mail: kwan022 at stat.auckland.ac.nz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patrick at giub.unibe.ch  Sat May 25 09:42:31 2002
From: patrick at giub.unibe.ch (Patrick Buetzberger)
Date: Sat, 25 May 2002 09:42:31 +0200
Subject: [R] expressions as axis labels
Message-ID: <3CEF4067.6B99DF0D@giub.unibe.ch>

Dear colleagues,

I often use chemical formulas to label my x-axis, e.g. in barplots. I
used to do this like the following example and it worked just fine:

a <- seq(2,24,2)
b <- seq(3,36,3)
c <- rbind(a,b)

barplot(c, width=c(0.9, 1.1),space=c(0.2, 0.75), col=c("indianred4",
"yellow2"), beside = TRUE,
xlab="Ions", yaxt="n", xaxt="n", ylab = expression(paste("weighted mean
concentration [",mu*eq*l^-1,"]")),
ylim = c(0,40))

axis(2,las=2,
pos=0.4,at=c(0,10,20,30,40),lab=c(0,10,20,30,40),cex.axis=1.0)

axis(1,at=seq(1.8,34.25,2.95), lab=expression(F^{-''}, Cl^{-''},
NO[2]^{-''},
NO[3]^{-''}, PO[4]^{3-''}, SO[4]^{2-''}, Na^{+''}, NH[4]^{+''}, K^{+''},
Mg^{2+''}, Ca^{2+''}, H^{+''}),cex.axis=1.0)

The important point is the x-axis here: before we installed the new R
1.5 on our workstations, the chemical formulas were properly aligned and
looked well. Ever since, if I use the exact same procedure, I get the
graphic but the chemical formulas are not aligned horizontally properly
anymore: e.g. Mg^{2+''} or NO[3]^{-''} are a bit higher than F^{-''} or
H^{+''} (it seems to depend on whether there is a subscript or a letter
with a part below the main line like a 'g').
I didin't find any hint on the r-project homepage. I don't know if we
forgot some feature when newly installing R or if something changed in
version 1.5.

Thanks very much for any hints!

Patrick

-------------- next part --------------
A non-text attachment was scrubbed...
Name: patrick.vcf
Type: text/x-vcard
Size: 339 bytes
Desc: Card for Patrick Buetzberger
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020525/9252070a/patrick.vcf

From ripley at stats.ox.ac.uk  Sat May 25 09:50:26 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 25 May 2002 08:50:26 +0100 (BST)
Subject: [R] plotting a 1000 plots?
In-Reply-To: <001401c201ea$1dfcb170$7c74c180@jackson>
Message-ID: <Pine.GSO.4.44.0205250848290.9429-100000@auk.stats>

Just use a current version of R: NEWS for 1.5.0 says:

    o   The pdf() device was running out of objects before the
        documented 500 page limit.  Now there is no limit.


On Wed, 22 May 2002, Jeff D. Hamann wrote:

> yes. in this case a plan b might be in order...
>
> thanks.
>
> ----- Original Message -----
> From: <jasont at indigoindustrial.co.nz>
> To: "Jeff D. Hamann" <jeff_hamann at hamanndonald.com>; "Roger Peng"
> <rpeng at stat.ucla.edu>; <r-help at stat.math.ethz.ch>
> Cc: <r-help at r-project.org>
> Sent: Wednesday, May 22, 2002 4:34 PM
> Subject: Re: [R] plotting a 1000 plots?
>
>
> > > > I believe you can send multiple plots to a pdf file by leaving the
> pdf()
> > > > device open.  By default, each new plot will be put on a different
> page in
> > > > the pdf file.
> >
> > > ah-ha! had I only known. I forgot to check the other devices supported.
> > > Works like a charm on windows too! Saaaweet!
> >
> > Careful - this will choke at 501 plots.
> >
> > help(pdf)
> > ..
> > There is an internal limit of 500 pages per PDF file, which should
> > be ample.
> > ..
> >
> > If you really want to do 1000 plots, you need a Plan B.
> >
> > Cheers
> >
> > Jason
> >
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat May 25 09:52:13 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 25 May 2002 08:52:13 +0100 (BST)
Subject: [R] ARIMA & GARCH
In-Reply-To: <3CEC8CD5.3070109@poleto.com>
Message-ID: <Pine.GSO.4.44.0205250851330.9429-100000@auk.stats>

On Thu, 23 May 2002, Frederico Zanqueta Poleto wrote:

> Hi,
>
> Does anybody know a way of fitting an AR(p) model without the first p-1
> parameters?
> The same doubt for MA(q)...

It's described on the help page for arima (and arima0) in R 1.5.0.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From o.christensen at lancaster.ac.uk  Sat May 25 11:52:26 2002
From: o.christensen at lancaster.ac.uk (Ole Christensen)
Date: Sat, 25 May 2002 10:52:26 +0100
Subject: [R] expressions as axis labels
References: <3CEF4067.6B99DF0D@giub.unibe.ch>
Message-ID: <3CEF5EDA.C019F563@lancs.ac.uk>

Hi Patrick

You can make you code work by putting a [NULL] at appropriate places.

axis(1,at=seq(1.8,34.25,2.95), lab=expression(F[NULL]^{-''},
Cl[NULL]^{-''}, NO[2]^{-''}, NO[3]^{-''}, PO[4]^{3-''}, SO[4]^{2-''},
Na[NULL]^{+''}, NH[4]^{+''}, K[NULL]^{+''}, Mg[NULL]^{2+''},
Ca[NULL]^{2+''}, H[NULL]^{+''}),cex.axis=1.0)


I do not understand what causes the behaviour you have observed, and if
this is intended 
(probably someone more clever than me can explain this).


Ole


Patrick Buetzberger wrote:
> 
> Dear colleagues,
> 
> I often use chemical formulas to label my x-axis, e.g. in barplots. I
> used to do this like the following example and it worked just fine:
> 
> a <- seq(2,24,2)
> b <- seq(3,36,3)
> c <- rbind(a,b)
> 
> barplot(c, width=c(0.9, 1.1),space=c(0.2, 0.75), col=c("indianred4",
> "yellow2"), beside = TRUE,
> xlab="Ions", yaxt="n", xaxt="n", ylab = expression(paste("weighted mean
> concentration [",mu*eq*l^-1,"]")),
> ylim = c(0,40))
> 
> axis(2,las=2,
> pos=0.4,at=c(0,10,20,30,40),lab=c(0,10,20,30,40),cex.axis=1.0)
> 
> axis(1,at=seq(1.8,34.25,2.95), lab=expression(F^{-''}, Cl^{-''},
> NO[2]^{-''},
> NO[3]^{-''}, PO[4]^{3-''}, SO[4]^{2-''}, Na^{+''}, NH[4]^{+''}, K^{+''},
> Mg^{2+''}, Ca^{2+''}, H^{+''}),cex.axis=1.0)
> 
> The important point is the x-axis here: before we installed the new R
> 1.5 on our workstations, the chemical formulas were properly aligned and
> looked well. Ever since, if I use the exact same procedure, I get the
> graphic but the chemical formulas are not aligned horizontally properly
> anymore: e.g. Mg^{2+''} or NO[3]^{-''} are a bit higher than F^{-''} or
> H^{+''} (it seems to depend on whether there is a subscript or a letter
> with a part below the main line like a 'g').
> I didin't find any hint on the r-project homepage. I don't know if we
> forgot some feature when newly installing R or if something changed in
> version 1.5.
> 
> Thanks very much for any hints!
> 
> Patrick

-- 
Ole F. Christensen
Department of Mathematics and Statistics
Fylde College, Lancaster University 
Lancaster, LA1 4YF, England
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From klavan at tiscalinet.it  Sat May 25 12:08:31 2002
From: klavan at tiscalinet.it (Ambrosini Alessandro)
Date: Sat, 25 May 2002 12:08:31 +0200
Subject: [R] Question
Message-ID: <PPEGLLABFLFCJDLCGPGHOELLCAAA.klavan@tiscalinet.it>

Hello. In some cases, when I use Chi-squared test with simulate value I
obtain

      Pearson's Chi-squared test with simulated p-value (based on 2000
        replicates)

data:  a
X-squared = 226.1085, df = NA, p-value = < 2.2e-16


What does "p-value = < 2.2e-16" mean? Is my p-value result smaller than
2.2e-16?
Thank you
Alessandro

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat May 25 12:35:42 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 25 May 2002 12:35:42 +0200
Subject: [R] Question
References: <PPEGLLABFLFCJDLCGPGHOELLCAAA.klavan@tiscalinet.it>
Message-ID: <3CEF68FE.B5FE453F@statistik.uni-dortmund.de>

Ambrosini Alessandro wrote:
> 
> Hello. In some cases, when I use Chi-squared test with simulate value I
> obtain
> 
>       Pearson's Chi-squared test with simulated p-value (based on 2000
>         replicates)
> 
> data:  a
> X-squared = 226.1085, df = NA, p-value = < 2.2e-16
> 
> What does "p-value = < 2.2e-16" mean? Is my p-value result smaller than
> 2.2e-16?

Yes.

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat May 25 12:52:57 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 25 May 2002 12:52:57 +0200
Subject: [R] Ploting in for() loop
References: <Pine.SOL.4.21.0205251751540.9951-100000@stat1.stat.auckland.ac.nz>
Message-ID: <3CEF6D09.92C48869@statistik.uni-dortmund.de>

Ko-Kang Kevin Wang wrote:
> 
> Hi,
> 
> Suppose I have a for() loop that draws 6 boxplots as follows:
>   par(mfrow = c(2, 3))
>   for(i in 2:length(spam.sample)) {
>     boxplot(split(spam.sample[,i], yesno))
>   }
> 
> Where spam.sample is a data frame with 7 columns, and I'm interested in
> plotting column 2 ~ 7 against column 1 (yesno).
> 
> The boxplots appeared fine, however I'm trying to add a meaningful title,
> x and y labels to them.  Is it possible to do this in the loop?

Yes. Why not?

Some obvious solutions:

a) With a vector of names, let's call it main.labels:
  boxplot(..., main = main.labels[i])

b) To take the name of the data in your call:
  boxplot(..., main = deparse(substitute(spam.sample[,i], list(i=i))))

c) Or the column name of the plotted column:
  boxplot(..., main = colnames(spam.sample)[i])

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat May 25 13:10:04 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 25 May 2002 13:10:04 +0200
Subject: [R] How to increases the Memory size for R in Batch mode
References: <A032D3A4B7F0D411B9360008C71E3DA5038D4D2D@CHEONT3>
Message-ID: <3CEF710C.D899D386@statistik.uni-dortmund.de>

"Rangrej, Jagadish" wrote:
> 
> hello everybody!!
> 
> I am using "Rcmd BATCH" command to run simulation on R in batch mode on
> win98 machine.
> Would it be possible to increase the memory size of R; 

Yes, see below.

> if so how and what is the default memory size used, 

256M

> and what is the limit to which I can increase the memory size.

That's all mentioned on the help pages and mail archives in detail.
On a 32-bit OS that has an appropriate memory managment, up to 2GB, in
principle.
I think there are reasons of a 512MB limit (at least in efficiency) on
the (more or less) DOS based Windows versions (e.g. Win98). There
something about that in the mailing list archives, if you are
interested....


> 
> My machine configurations:
>         512MB Ram with Intel P-III processor working at 1GHz speed.
>         Win98 and R 1.4.1
> 
> Thanking you all in advance for your help,


This is a FAQ and mentioned in the R for Windows FAQs and in the help
for ?Memory and the mailing list archives.

The solution is to use the option --max-mem-size ...
Something like 
  Rcmd BATCH --max-mem-size=450M yourRfile.R
should do the trick.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Sat May 25 13:13:05 2002
From: jfox at mcmaster.ca (John Fox)
Date: Sat, 25 May 2002 07:13:05 -0400
Subject: [R] Ploting in for() loop
In-Reply-To: <Pine.SOL.4.21.0205251751540.9951-100000@stat1.stat.aucklan
 d.ac.nz>
Message-ID: <5.1.0.14.2.20020525070901.01d68750@mcmail.cis.mcmaster.ca>

Dear Kevin,

You could try something like:

     names=colnames(spam.sample)
     titles=LETTERS[1:6]
     par(mfrow = c(2, 3))
     for(i in 2:length(spam.sample)) {
         boxplot(split(spam.sample[,i], yesno),
             xlab=names[1], ylab=names[i], main=titles[i-1])
         }

Of course, the titles would be replaced with meaningful text.

Is that what you want?

  John

At 05:54 PM 5/25/2002 +1200, Ko-Kang Kevin Wang wrote:

>Suppose I have a for() loop that draws 6 boxplots as follows:
>   par(mfrow = c(2, 3))
>   for(i in 2:length(spam.sample)) {
>     boxplot(split(spam.sample[,i], yesno))
>   }
>
>Where spam.sample is a data frame with 7 columns, and I'm interested in
>plotting column 2 ~ 7 against column 1 (yesno).
>
>The boxplots appeared fine, however I'm trying to add a meaningful title,
>x and y labels to them.  Is it possible to do this in the loop?

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Sat May 25 13:15:42 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Sat, 25 May 2002 23:15:42 +1200 (NZST)
Subject: [R] Ploting in for() loop
In-Reply-To: <5.1.0.14.2.20020525070901.01d68750@mcmail.cis.mcmaster.ca>
Message-ID: <Pine.SOL.4.21.0205252313460.6836-100000@stat1.stat.auckland.ac.nz>

Thanks John, and Uwe,

On Sat, 25 May 2002, John Fox wrote:

> Date: Sat, 25 May 2002 07:13:05 -0400
> From: John Fox <jfox at mcmaster.ca>
> To: Ko-Kang Kevin Wang <kwan022 at stat.auckland.ac.nz>
> Cc: R Help <r-help at stat.math.ethz.ch>
> Subject: Re: [R] Ploting in for() loop
> 
> Dear Kevin,
> 
> You could try something like:
> 
>      names=colnames(spam.sample)
>      titles=LETTERS[1:6]
>      par(mfrow = c(2, 3))
>      for(i in 2:length(spam.sample)) {
>          boxplot(split(spam.sample[,i], yesno),
>              xlab=names[1], ylab=names[i], main=titles[i-1])
>          }
> 
> Of course, the titles would be replaced with meaningful text.
> 
> Is that what you want?

This is exactly what I want.  I actually found one possible solution 30
minutes after I sent the e-mail.  But I didn't post a message to announce
that as I'd like to see other possible solutions, and I'm glad I made that
choice!

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

Homepage: http://www.stat.auckland.ac.nz/~kwan022

E-mail: kwan022 at stat.auckland.ac.nz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Sat May 25 15:37:29 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Sat, 25 May 2002 14:37:29 +0100
Subject: [R] command line edit
In-Reply-To: <200205241941.g4OJfui28955@pop12.ucdavis.edu>
References: <200205241941.g4OJfui28955@pop12.ucdavis.edu>
Message-ID: <k1YxVAAZO578EwHs@myatt.demon.co.uk>

C Pelton <cjpelton at ucdavis.edu> writes:
>Does anybody know a way to edit your command line arguments on the command line, 
>other than deleting everything and re-typing? My user just want to be able to 
>use emacs like commands - like you can do in a shell, and s-plus from what he 
>says. I attempted to set up the emacs add-on, without much success, on a Solaris 
>7 box, but he doesn't really want that, he just wants the command line option.

I run Linux and find command line editing works the same as with the
UNIX command line. I use rxvt for the X11 terminal emulator, konsole
works just the same.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tsumi at leo.auric.ne.jp  Sat May 25 15:59:10 2002
From: tsumi at leo.auric.ne.jp (Tsumiyama Isao)
Date: Sat, 25 May 2002 22:59:10 +0900
Subject: [R] Function objects as arguments of a function
Message-ID: <200205251427.QAA11679@stat.math.ethz.ch>

Hello, R users.

 In C (or C++) language, a function can be used as
an argument of another function as follows:

//  function used as an argument
void foo(int x)
{
    ...
}

// function using a function as an argument
void bar(void (*func)(int ), int arg1, int arg2)
{
    ....
}

//  The function 'bar' will be called as follows
int main()
{
    ....

    bar(foo, arg4foo, other_arg);

    ...
}

In R, can function objects be used as arguments of
a function? 

Thanks in advance from Japan

#####################################
#  Tsumiyama Isao (Mitsubishi Pharma Corp.)
#  Tel:047-471-7721 
#  PHS:070-5659-0544
#  e-mail:tsumi at leo.auric.ne.jp
#           tsumiyama at pdx.ne.jp(PHS)
#####################################
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Sat May 25 18:21:01 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Sat, 25 May 2002 09:21:01 -0700 (PDT)
Subject: [R] Function objects as arguments of a function
In-Reply-To: <200205251427.QAA11679@stat.math.ethz.ch>
Message-ID: <Pine.GSO.4.10.10205250919380.23128-100000@quetelet.stat.ucla.edu>

Yes!  And it's much more straightforward and clear in R (in my opinion).

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Sat, 25 May 2002, Tsumiyama Isao wrote:

> Hello, R users.
> 
>  In C (or C++) language, a function can be used as
> an argument of another function as follows:
> 
> //  function used as an argument
> void foo(int x)
> {
>     ...
> }
> 
> // function using a function as an argument
> void bar(void (*func)(int ), int arg1, int arg2)
> {
>     ....
> }
> 
> //  The function 'bar' will be called as follows
> int main()
> {
>     ....
> 
>     bar(foo, arg4foo, other_arg);
> 
>     ...
> }
> 
> In R, can function objects be used as arguments of
> a function? 
> 
> Thanks in advance from Japan
> 
> #####################################
> #  Tsumiyama Isao (Mitsubishi Pharma Corp.)
> #  Tel:047-471-7721 
> #  PHS:070-5659-0544
> #  e-mail:tsumi at leo.auric.ne.jp
> #           tsumiyama at pdx.ne.jp(PHS)
> #####################################
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Sat May 25 18:52:53 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Sat, 25 May 2002 18:52:53 +0200
Subject: [R] Function objects as arguments of a function
In-Reply-To: <200205251427.QAA11679@stat.math.ethz.ch>; from tsumi@leo.auric.ne.jp on Sat, May 25, 2002 at 10:59:10PM +0900
References: <200205251427.QAA11679@stat.math.ethz.ch>
Message-ID: <20020525185253.A5054@giraffa.cbs.dtu.dk>

On Sat, May 25, 2002 at 10:59:10PM +0900, Tsumiyama Isao wrote:
> Hello, R users.
> 
>  In C (or C++) language, a function can be used as
> an argument of another function as follows:
> 
> //  function used as an argument
> void foo(int x)
> {
>     ...
> }
> 
> // function using a function as an argument
> void bar(void (*func)(int ), int arg1, int arg2)
> {
>     ....
> }
> 
> //  The function 'bar' will be called as follows
> int main()
> {
>     ....
> 
>     bar(foo, arg4foo, other_arg);
> 
>     ...
> }
> 
> In R, can function objects be used as arguments of
> a function? 
> 
> Thanks in advance from Japan
> 
> #####################################
> #  Tsumiyama Isao (Mitsubishi Pharma Corp.)
> #  Tel:047-471-7721 
> #  PHS:070-5659-0544
> #  e-mail:tsumi at leo.auric.ne.jp
> #           tsumiyama at pdx.ne.jp(PHS)
> #####################################



Dear Tsumiyama Isao,



Functions can be passed as arguments. The function 'apply' or 'by' demonstrates how it is done
(these are only examples). You may want to refer to documentation for them (try 'help(apply)'
or 'help(by)').

You can also have functions returning functions. Using closures it can be very powerful.
An example of what can be the interest of this is found in the previous issue of Rnews
(around page 12 if I recollect correctly... I won't name the package or the project it
is related to, it would be a coarse way of advertising ;) ).


Hopin' it helps,



Laurent





--------------------------------------------------------------
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Sat May 25 21:01:44 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sat, 25 May 2002 12:01:44 -0700 (PDT)
Subject: [R] expressions as axis labels
In-Reply-To: <3CEF4067.6B99DF0D@giub.unibe.ch>
Message-ID: <Pine.A41.4.44.0205251157270.128430-100000@homer17.u.washington.edu>

On Sat, 25 May 2002, Patrick Buetzberger wrote:

> Dear colleagues,
>
> I often use chemical formulas to label my x-axis, e.g. in barplots. I
> used to do this like the following example and it worked just fine:
>
<snip>
>
> The important point is the x-axis here: before we installed the new R
> 1.5 on our workstations, the chemical formulas were properly aligned and
> looked well. Ever since, if I use the exact same procedure, I get the
> graphic but the chemical formulas are not aligned horizontally properly
> anymore: e.g. Mg^{2+''} or NO[3]^{-''} are a bit higher than F^{-''} or
> H^{+''} (it seems to depend on whether there is a subscript or a letter
> with a part below the main line like a 'g').
> I didin't find any hint on the r-project homepage. I don't know if we
> forgot some feature when newly installing R or if something changed in
> version 1.5.

I think something changed.  In the NEWS file we have

o	The vertical alignment of mathematical annotations was wrong.
	When a vertical adjustment was not given, it was bottom-adjusting
	i.e,. it was treating adj=0 as adj=c(0, 0).  It now treats
	adj=0 as adj=c(0, 0.5) as for "normal" text. (PR#1302)

and I expect this is responsible.  It looks to me as if R is now trying to
center the expressions vertically.  This is also consistent with the
previous reply that suggested putting blank subscripts on everything as a
work-around.

I don't think there's a complete fix for this, since sometimes people want
expressions aligned on their actual vertical centers and sometimes on the
center of the main line of text (as you do).


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Sun May 26 01:48:43 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Sun, 26 May 2002 11:48:43 +1200 (NZST)
Subject: [R] rpart leaves
Message-ID: <Pine.SOL.4.21.0205261148060.28119-100000@stat1.stat.auckland.ac.nz>

Hi,

Is it possible to manually specify how many leaves I want for a tree
fitted by rpart(), or tree()?

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

Homepage: http://www.stat.auckland.ac.nz/~kwan022

E-mail: kwan022 at stat.auckland.ac.nz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun May 26 08:56:53 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 26 May 2002 07:56:53 +0100 (BST)
Subject: [R] rpart leaves
In-Reply-To: <Pine.SOL.4.21.0205261148060.28119-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.GSO.4.44.0205260752280.9641-100000@auk.stats>

On Sun, 26 May 2002, Ko-Kang Kevin Wang wrote:

> Is it possible to manually specify how many leaves I want for a tree
> fitted by rpart(), or tree()?

Up to a point.  You can prune a tree to any member of the cost-complexity
sequence, but there need not be one of the given size.  prune.tree
allows one to specify a target size, and as I recall it package maptree has
Prune.rpart which is similar for rpart.  Check their help pages for exactly
what they do if the target size is not in the cost-complexity sequence.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patrick.hausmann at uni-bremen.de  Sun May 26 21:46:49 2002
From: patrick.hausmann at uni-bremen.de (Patrick Hausmann)
Date: Sun, 26 May 2002 21:46:49 +0200
Subject: [R] Read a Time Serie CSV
Message-ID: <3CF157C9.14175.4ACD47@localhost>

Hi,

I want to read some Times Series of GDP from OECD-Countrys.
First I call:
> oecd96<-ts(read.csv("oecd96.csv",header=T,sep=";"),start=1950,freq=1)
> summary(oecd96)
    gdpcausb        gdpcautb        gdpcbelb        gdpccanb    
 Min.   : 8567   Min.   : 4533   Min.   : 6616   Min.   : 8966  
 1st Qu.:10771   1st Qu.: 8717   1st Qu.: 9440   1st Qu.:11694  
 Median :15196   Median :14590   Median :15605   Median :17612  
 Mean   :15387   Mean   :14331   Mean   :14994   Mean   :17102  
 3rd Qu.:19145   3rd Qu.:19404   3rd Qu.:19798   3rd Qu.:22121  
 Max.   :25818   Max.   :24828   Max.   :25252   Max.   :25923  
[...]
This is ok. But I can't plot a single variable by name. 

> plot(oecd96$gdpcausb)
Error in xy.coords(x, y, xlabel, ylabel, log) : 
        x and y lengths differ

This works:
plot(oecd96[,1])

What's my fault ?
Thanks for any help, 
Patrick Hausmann
-------------
Patrick Hausmann
Friedrich-Wilhelm Str. 37 - D-28199 Bremen
Tel. +49 421 5980631 - Fax. +49 421 5980632
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Mon May 27 02:48:56 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Sun, 26 May 2002 21:48:56 -0300
Subject: [R] Read a Time Serie CSV
In-Reply-To: <3CF157C9.14175.4ACD47@localhost>
Message-ID: <4.2.2.20020526214028.00a561d0@pop3.arnet.com.ar>

Patrick,
The problem is that oecd96 is an object of class "ts", which returns NULL 
when referencing a variable by its name with $.
If you want to use the variable names for plotting, you can do:

plot(oecd96[,"gdpcausb"])

Daniel

P.S. In order to find out what could be the cause of an error in these 
cases the function 'class' may be useful, wich returns the class of a given 
object.

At 09:46 PM 26/5/2002 +0200, Patrick Hausmann wrote:
>Hi,
>
>I want to read some Times Series of GDP from OECD-Countrys.
>First I call:
> > oecd96<-ts(read.csv("oecd96.csv",header=T,sep=";"),start=1950,freq=1)
> > summary(oecd96)
>     gdpcausb        gdpcautb        gdpcbelb        gdpccanb
>  Min.   : 8567   Min.   : 4533   Min.   : 6616   Min.   : 8966
>  1st Qu.:10771   1st Qu.: 8717   1st Qu.: 9440   1st Qu.:11694
>  Median :15196   Median :14590   Median :15605   Median :17612
>  Mean   :15387   Mean   :14331   Mean   :14994   Mean   :17102
>  3rd Qu.:19145   3rd Qu.:19404   3rd Qu.:19798   3rd Qu.:22121
>  Max.   :25818   Max.   :24828   Max.   :25252   Max.   :25923
>[...]
>This is ok. But I can't plot a single variable by name.
>
> > plot(oecd96$gdpcausb)
>Error in xy.coords(x, y, xlabel, ylabel, log) :
>         x and y lengths differ
>
>This works:
>plot(oecd96[,1])
>
>What's my fault ?
>Thanks for any help,
>Patrick Hausmann

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Mon May 27 03:36:09 2002
From: jasont at indigoindustrial.co.nz (jasont@indigoindustrial.co.nz)
Date: Mon, 27 May 2002 01:36:09 GMT
Subject: [R] Read a Time Serie CSV
Message-ID: <E17C9Qf-0005Uj-00@smtp2.ihug.co.nz>

> > plot(oecd96$gdpcausb)
> Error in xy.coords(x, y, xlabel, ylabel, log) : 
>         x and y lengths differ
> 
> This works:
> plot(oecd96[,1])
> 
> What's my fault ?

only data.frame and list objects can use the "$" notation for 
subelements.  You can still use names, however.

plot(oecd96[,"gdpcausb"])

should work.

Check out "An Introduction to R", which is distributed with R as the
file "R-intro.pdf".  This is nicely explained in the chapters "Arrays and 
Matricies" and "Lists and data frames".

Cheers

Jason

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Lacen at EOS-GmbH.de  Mon May 27 10:00:33 2002
From: Lacen at EOS-GmbH.de (Lacen@EOS-GmbH.de)
Date: Mon, 27 May 2002 10:00:33 +0200
Subject: [R] Question
Message-ID: <A6EA725ADC3AD411A0E80008C7FA235BCDA990@dp003.eos-gmbh.de>

Hallo,
I have a Problem. Maybe you can help me.

I want to call single commands in Rterm.exe (for example: read.table(....),
image,.....) directly with my Programm (written in VC++ for WindowsNT 4.0).
I thought on a possibility, that I can give single commands to the command
line of Rterm.exe by sending the command via write or printf or so, like you
can write in
the command line of RGui.exe via the keyboard.
Is there such a  possibility or something similar, or must I use a
BATCH-File.

Thanks for helping me!
e - mail: lacen at eos-gmbh.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joshi at engr.orst.edu  Mon May 27 10:15:10 2002
From: joshi at engr.orst.edu (Saket Joshi)
Date: Mon, 27 May 2002 01:15:10 -0700 (PDT)
Subject: [R] fitting a model for enumerated datatypes
In-Reply-To: <E17C9Qf-0005Uj-00@smtp2.ihug.co.nz>
Message-ID: <Pine.GSO.4.31.0205270101420.8732-100000@flop.ENGR.ORST.EDU>

Hi,

I have used the scan() function to read data from a file as follows:

x <- scan("myfile", as.list(c(rep("", times = 9), class="", rep("", times
= 3))), comment.char="")

This reads in all the 13 fields. These 13 fields are enumerated or user
defined
datatypes. I guess they are called factors in this context although I dont
know what exactly they are or are for. Now I tried to use the lm()
function
to fit a linear model as follows:

y <- lm(x$class ~ ., x)

But this is the error message I am getting:

Error in eval(expr, envir, enclos) : Object
"c..1....1....1....1....1....2....2....2....2....3....3....3..." not found

I looked at the lm() function code but could not find any eval() function
in
it. My guess is that the problem occurs because none of the variables
(either response or otherwise) are numeric, they are all user defined. Can
someone help by telling me how to fit a linear model to these
"non-numeric" fields or otherwise explain what the problem could be.

Thanks in advance.
-Saket.







-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Daniel.Amorese at geos.unicaen.fr  Mon May 27 10:10:49 2002
From: Daniel.Amorese at geos.unicaen.fr (=?ISO-8859-1?Q?Daniel_Amor=E8se?=)
Date: Mon, 27 May 2002 10:10:49 +0200
Subject: [R] logistic regression or discriminant analysis ?
In-Reply-To: <5.1.1.2.2.20020524074531.01c81880@pop4.attglobal.net>; from
             feldesmanm@pdx.edu on ven, mai 24, 2002 at 16:55:00 +0200
References: <5.1.1.2.2.20020523103134.024c98f8@pop4.attglobal.net>
            <20020523182558.A9980@phoebe.msh.unicaen.fr>
            <5.1.1.2.2.20020523103134.024c98f8@pop4.attglobal.net>
            <20020524104931.A10574@phoebe.msh.unicaen.fr>
            <5.1.1.2.2.20020524074531.01c81880@pop4.attglobal.net>
Message-ID: <20020527101049.A22018@phoebe.msh.unicaen.fr>

Le 2002.05.24 16:55, Marc R. Feldesman a ?crit :
> At 01:49 AM 5/24/2002, Daniel Amor?se took a glob of electronic fairy
> dust, 
> mushed it together in odd and bizarre ways, and ruminated:
>  >Le 2002.05.23 19:38, Marc Feldesman a ?crit :
>  >> At 06:25 PM 5/23/2002 +0200, Daniel Amor?se wrote:
>  >> >Hello,
>  >What I have done: the correlation matrix tells me that many
>  >variables are correlated. Thus, I performed a lda using only 5
>  >variables (this selection is arbitrary performed among uncorrelated
>  >variables). The graphical output shows points clouds that are not
>  >circular: this result may suggest difference in covariance
>  >matrices, hence lda seems not to be the more suitable method for
>  >separating groups.
> 
> Elliptical point clouds do not, in themselves, suggest unequal covariance
> 
> structures.  If the major axes of the ellipses are all oriented in the
> same 
> direction and are more-or-less parallel, you don't have much evidence of 
> unequal covariance structure.  Unless the covariance structures are
> really 
> different, I've never seen much improvement using quadratic discriminant 
> analysis.  The problem with quadratic discriminant analysis, in my 
> experience, is that it is very difficult to interpret the results in the 
> context of the variables producing the group separations.

Ok, the elliptical point clouds I obtain are not oriented in the same
direction,
so I should give up with lda or qda

> 
> I'd strongly recommend Professor Ripley's "Pattern Recognition and Neural
> 
> Networks" (Cambridge University Press, 1996), as well as Hastie, 
> Tibshirani, and Friedman's "The Elements of Statistical Learning" (2001, 
> Cambridge University Press).  Both will help you considerably with your 
> problem.
>

Thanks, for these references. What a pity the library of my university
seems to 
be allergic to english-written books
 
> I also agree with Jon Baron that clustering techniques may be appropriate
> 
> here.

Ok, my ideas about this kind of approach are confused (I do not need
clustering
because my groups are already defined).
Some people told me about solving my problem using multinom() and
stepAIC().....  

> 
>  >Perhaps, qda should be used ?
>  >or logistic regression ? (this last method seems to be the more
>  >robust, independent to data properties).
>  >I know qda(), lda() or multinom() do not perform stepwise analysis,
>  >but, what I hope, is that some outputs from these functions can
>  >help in the selection of the most discriminatory variable subset.
>  >Thanks again for your help.
> D. Amorese
> 
> 
> Dr. Marc R. Feldesman
> Professor and Chairman
> Anthropology Department - Portland State University
> email:  feldesmanm at pdx.edu
> email:  feldesman at attglobal.net
> fax:    503-725-3905
> 
> 
> "Sometimes the lights are all shining on me, other times I can barely
> see,
> lately it's occurred to me, what a long strange trip it's been..."  Jerry
> &
> the boys
> 
> 
> 
> Powered by Tyrannochoerus - the 2.2 GHz WinXPP Box
> 
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon May 27 10:42:38 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 27 May 2002 10:42:38 +0200
Subject: [R] Question
References: <A6EA725ADC3AD411A0E80008C7FA235BCDA990@dp003.eos-gmbh.de>
Message-ID: <3CF1F17E.ED94D92E@statistik.uni-dortmund.de>



Lacen at EOS-GmbH.de wrote:
> 
> Hallo,
> I have a Problem. Maybe you can help me.
> 
> I want to call single commands in Rterm.exe (for example: read.table(....),
> image,.....) directly with my Programm (written in VC++ for WindowsNT 4.0).
> I thought on a possibility, that I can give single commands to the command
> line of Rterm.exe by sending the command via write or printf or so, like you
> can write in
> the command line of RGui.exe via the keyboard.
> Is there such a  possibility or something similar, or must I use a
> BATCH-File.

For example you can pipe it to rterm. Simple example:

c:/> echo 1+1 | rterm --slave
[1] 2

Hint: A file ...\src\gnuwin32\README.rterm exists.

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Mon May 27 14:39:19 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Mon, 27 May 2002 22:39:19 +1000
Subject: [R] fitting a model for enumerated datatypes
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A90C1A1E@Roper-CV.qld.cmis.csiro.au>

Saket Joshi asks:

>  -----Original Message-----
> From: 	Saket Joshi [mailto:joshi at engr.orst.edu] 
> Sent:	Monday, May 27, 2002 6:15 PM
> To:	r-help at stat.math.ethz.ch
> Subject:	[R] fitting a model for enumerated datatypes
> 
> Hi,
> 
> I have used the scan() function to read data from a file as follows:
> 
> x <- scan("myfile", as.list(c(rep("", times = 9), class="", rep("", times
> = 3))), comment.char="")
	[WNV]  How about taking it in easily understood stages?
	what <- as.list(rep("", 13))
	names(what)[10] <- "Class"  # Note 'class' is not a really good name
to choose.
	x <- data.frame(scan("myfile", what = what))
	 
> This reads in all the 13 fields. These 13 fields are enumerated or user
> defined
> datatypes. I guess they are called factors in this context although I dont
> know what exactly they are or are for. 
	[WNV]  As you have read them they are character string vectors, not
factors. Turning your list into a data frame will (usually) convert them
into factors.  It's not a bad idea to sort out in your own mind just what a
factor is, by the way.  It is an important concept.

> Now I tried to use the lm()
> function
> to fit a linear model as follows:
> 
> y <- lm(x$class ~ ., x)
> 
> But this is the error message I am getting:
> 
> Error in eval(expr, envir, enclos) : Object
> "c..1....1....1....1....1....2....2....2....2....3....3....3..." not found
	[WNV]  I can't explain that, but as you have it x is not a data
frame and the components have no names that the lm function can use.  This
might be the explanation, but it still looks odd to me.  (Are you telling us
the whole story?)  If you have made x into a data frame, though, all you
should need to do is

	y <- lm(Class ~ ., x)  # no need for x$Class on the lhs

	and it should work fine, though with 12 factors you are probably
going to fit a main effects model with a fair number of degrees of freedom
to accommodate.

> I looked at the lm() function code but could not find any eval() function
> in
> it. 
	[WNV]  The first thing to do is to issue a call:

	traceback()

	which should give you a better clue of what went wrong, (but in this
case you would probably have need some advice anyway).
> My guess is that the problem occurs because none of the variables
> (either response or otherwise) are numeric, they are all user defined. Can
> someone help by telling me how to fit a linear model to these
> "non-numeric" fields or otherwise explain what the problem could be.
	[WNV]  You were nearly there, actually, but in this case "a miss is
as good as a mile" as my grandmother used to say...

> Thanks in advance.
> -Saket.
> 
> 
> 
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hgoehlmann at gmx.de  Mon May 27 15:04:25 2002
From: hgoehlmann at gmx.de (Hinrich Goehlmann)
Date: Mon, 27 May 2002 15:04:25 +0200 (MEST)
Subject: [R] Color coding labels in hclust plots
References: <A6EA725ADC3AD411A0E80008C7FA235BCDA990@dp003.eos-gmbh.de>
Message-ID: <31246.1022504665@www35.gmx.net>

Hello,
 
Is there an easy way to color code the labels shown in plots of a
hierarchical clustering or did I just not read the documentation properly?
 
Kind regards,
hinrich   d8-)


=============================================
Hinrich Goehlmann, PhD
Johnson & Johnson Pharmaceutical Research & Development
Genomic Technologies
Turnhoutseweg 30
2340 Beerse
Belgium

Phone: +32-(0)14/60.71.21
Fax:   +32-(0)14/60.61.11
=============================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gorazd.brumen at student.fmf.uni-lj.si  Mon May 27 16:48:05 2002
From: gorazd.brumen at student.fmf.uni-lj.si (Gorazd Brumen)
Date: Mon, 27 May 2002 16:48:05 +0200
Subject: [R] TAB
Message-ID: <200205271648.05381.gorazd.brumen@student.fmf.uni-lj.si>

Hello,

I am new on the list and in R language. I only have one question -
could it be achieved that pressing a TAB key autocompletes
the possible directions to the R language. This is a Unix
feature and it would greatly boost the performance.

I have R-1.3.1 installed on Linux.

Gorazd
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dieter.menne at menne-biomed.de  Mon May 27 17:11:57 2002
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Mon, 27 May 2002 17:11:57 +0200
Subject: [R] nlme cross-over and fixed nested
Message-ID: <JLEPLGAANFCEAEDCAGJNMEDACCAA.dieter.menne@menne-biomed.de>

I have problem getting the concept of a nested fixed variable into the nlme
scheme. I fear the question is very stupid.  In the past I had asked this
before, and never got a reply (in other cases, the response was within
hours). I also checked the S-list, where several similar enquiries of other
people are orphaned.

We have a cross-over design, where patient are treated two weeks with
placebo, two weeks with a drug ("verum"), and a washout phase in between.
For each phase, there is ONE number (let's call it "glucose level")
describing the treatment effect. Blind treatement sequence is Seq=1 for
placebo/verum, Seq=2 for verum/placebo.

In Pinheiro/Bates, cross-over trials are mentioned on page 107, but the
parameter "Side" in the example is not exactly what we have.
We used the scheme below to analyze the data (there is a small effect of
imperfect washout in the example below), but a reviewer complained that the
analysis is not correct, because Patient should be nested in Seq. As I can
see, the results look reasonable, but I admit that nesting is nowhere
indicated.
I know how to handle the case is Seq if assumed a random effect, but I don't
see why it should be random, AND I want an estimate of the effect.

So, if the question is stupid, please help me out at least an tell my WHY.


# cross-over design
library(nlme)
NSubj<-20
# Placebo Phase
# Seq: 1 for "Placebo first phase", 2 for "Verum first phase"
glup<-data.frame(Patient=as.factor(1:NSubj),
                Seq=as.factor(rep(c(1,2),NSubj/2)),
                Treat=rep("Pla",NSubj),
                Glu=rnorm(NSubj,30,4)
   )
# Verum Phase
gluv<-data.frame(Patient=as.factor(1:NSubj),
                Seq=as.factor(rep(c(1,2),NSubj/2)),
                Treat=rep("Ver",NSubj),
                Glu=glup$Glu-rnorm(NSubj,6,2)
   )

# Simulate imperfect washout when verum was in first phase
# == Interaction of Seq and Treat
glu<-rbind(gluv,glup)
glu$Glu<-glu$Glu+as.integer((glu$Seq=="2")&(glu$Treat=="Pla"))*rnorm(NSubj,2
,3)

# Sequence as fixed effect
glu.lme<-lme(Glu~Treat*Seq,data=glu,random=~1|Patient)
print(summary(glu.lme))

# result looks perfectly valid for me
#                  Value Std.Error DF   t-value p-value
#(Intercept)   24.694617  1.602160 18 15.413324  <.0001
#TreatPla       5.106889  1.096139 18  4.658980  0.0002
#Seq2           0.466712  2.265797 18  0.205981  0.8391
#TreatPla:Seq2  3.525737  1.550174 18  2.274413  0.0354

# Sequence as random ???????
glu.lme<-lme(Glu~Treat,data=glu,random=~1|Seq/Patient)
print(summary(glu.lme))



Dieter Menne


---------------------------------------
Dr. Dieter Menne
Biomed Software
72074 T?bingen
Tel (49) (7071) 52176
FAX (49) (7071) 55 10 46
dieter.menne at menne-biomed.de
www.menne-biomed.de



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Mon May 27 17:32:11 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Mon, 27 May 2002 11:32:11 -0400
Subject: [R] TAB
In-Reply-To: <200205271648.05381.gorazd.brumen@student.fmf.uni-lj.si>; from gorazd.brumen@student.fmf.uni-lj.si on Mon, May 27, 2002 at 04:48:05PM +0200
References: <200205271648.05381.gorazd.brumen@student.fmf.uni-lj.si>
Message-ID: <20020527113211.A146@cattell.psych.upenn.edu>

On 05/27/02 16:48, Gorazd Brumen wrote:
>Hello,
>
>I am new on the list and in R language. I only have one question -
>could it be achieved that pressing a TAB key autocompletes
>the possible directions to the R language. This is a Unix
>feature and it would greatly boost the performance.
>
>I have R-1.3.1 installed on Linux.

This is a feature of Emacs Speaks Statistics (ESS), which has a
link in the main R web page:
http://stat.ethz.ch/ESS/

This is a very nice way to run R on Linux.  You start Emacs or
Xemacs and then say alt-X R to start R within (X)Emacs - or you
can just say (x)emacs -f R.  Then you open a new window with
Emacs or gnuclient (which is the way to do it if you use Xemacs))
and load your R commands, if you have them in a file.  Then you
can cut and paste between the two buffers.  In R itself you get
command completion with tab.  There are other ways to use ESS,
but this is just the way I do it, which you might want to try.

And of course you should be using the most recent version of R!
There are RPMs, so installation is easy.

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dgroth at gmx.de  Mon May 27 17:33:51 2002
From: dgroth at gmx.de (dgroth@gmx.de)
Date: Mon, 27 May 2002 17:33:51 +0200 (MET DST)
Subject: [R] hist failed with unused arguments
Message-ID: <200205271533.RAA09351@stat.math.ethz.ch>

Hello, 
I urgently need a histogram of the vector geo1$ds1
but:

> hist(geo1$ds1)
Error in hist(geo1$ds1) : unused argument(s) ( ...)

I can use density, summary, boxplot and stem with this vector but not hist ?

Any suggestions ?

Thanks in advance,

Detlef Groth
> density(geo1$ds1)

Call:
        density(x = geo1$ds1)

Data: geo1$ds1 (1412 obs.);     Bandwidth 'bw' = 0.2805

       x                 y            
 Min.   :-0.8415   Min.   :1.133e-05  
 1st Qu.: 1.1545   1st Qu.:1.264e-02  
 Median : 3.1505   Median :9.428e-02  
 Mean   : 3.1505   Mean   :1.251e-01  
 3rd Qu.: 5.1465   3rd Qu.:2.057e-01  
 Max.   : 7.1425   Max.   :4.091e-01  
> summary(geo1$ds1)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  0.000   2.062   3.370   2.947   3.920   6.301 
> stem(geo1$ds1)

  The decimal point is at the |

  0 | 00000000000000000000000000000000000000000000000000000000000000000000+49
  0 | 555566667778888999999
  1 | 01112222223333333334444444
  1 | 55555555555555666666666666666666667777777777777777777777777777777888+64
  2 | 00000000000000000000000000000001111111111111111111111111111111222222+83
  2 | 55555555555555555555666666666666666666666666666666666677777777778888+27
  3 | 00000000000000000111111111111111111111111222222222222222222222222222+72
  3 | 55555555555555555555555555555555555555555555555555555555555555566666+249
  4 | 00000000000000000000000000000000000000000000000000000001111111111111+138
  4 | 55555555555555555555555555555555556666666666666666677777777777788888+21
  5 | 0000000000000111112
  5 | 58
  6 | 3

-- 
Dr. Detlef Groth
Max-Planck-Institut
fuer Molekulare Genetik
Ihnestr. 63/73
D-14195 Berlin
Tel.: + 49 30 - 8413 1235
Email: dgroth at molgen.mpg.de
Email: dgroth at gmx.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon May 27 17:35:15 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 May 2002 17:35:15 +0200
Subject: [R] TAB
In-Reply-To: <200205271648.05381.gorazd.brumen@student.fmf.uni-lj.si>
References: <200205271648.05381.gorazd.brumen@student.fmf.uni-lj.si>
Message-ID: <x2znylsix8.fsf@blueberry.kubism.ku.dk>

Gorazd Brumen <gorazd.brumen at student.fmf.uni-lj.si> writes:

> Hello,
> 
> I am new on the list and in R language. I only have one question -
> could it be achieved that pressing a TAB key autocompletes
> the possible directions to the R language. This is a Unix
> feature and it would greatly boost the performance.
> 
> I have R-1.3.1 installed on Linux.

That's getting a bit old, although R hasn't changed much in this
particular regard.

ESS (Emacs Speaks Statistics) includes object name completion, and
also the readline library used for commmand-line editing on unix-like
system has the basic functionality, although it is currently wired for
*filename* completion.

There hasn't been all that much incentive to change the current
readline setup, partly because you actually use the filename
completion occasionally. However, if someone wants a small programming
project, they might consider porting things from ESS into
R/readline... (and, BTW, also into the Mac/Windows/Gnome interfaces)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Mon May 27 17:36:14 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Mon, 27 May 2002 17:36:14 +0200
Subject: [R] sub functions
Message-ID: <3CF2526E.6030807@science.uva.nl>

Dear list,

how can I write the following two lines in one function:

 > Pox2 <- ave(lsk0t50$Pox2, lsk0t50$ProfN, Fun=is.na(lsk0t50$Pox2)) 
          > Pox2 <- data.frame(Pox2)

The following does not work:

 > Pox2 <- data.frame(Pox2 <- ave(lsk0t50$Pox2, lsk0t50$ProfN, 
Fun=is.na(lsk0t50$Pox2)))
 > names(Pox2)
[1] "Pox2....ave.lsk0t50.Pox2..lsk0t50.ProfN..Fun...is.na.lsk0t50.Pox2.."
 >

Regards, Ulrich

-- 
__________________________________________________

Ulrich Leopold MSc.

Department of Physical Geography
Institute for Biodiversity and Ecosystem Dynamics
Faculty of Science
University of Amsterdam
Nieuwe Achtergracht 166
NL-1018WV Amsterdam

Phone: +31-(0)20-525-7456 (7451 Secretary)
Fax:   +31-(0)20-525-7431
Email: uleopold at science.uva.nl
http://www.frw.uva.nl/soil/Welcome.html

Check us also out at:
Netherlands Centre for Geo-ecological Research
http://www.frw.uva.nl/icg



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From g.forrester at csl.gov.uk  Mon May 27 18:03:10 2002
From: g.forrester at csl.gov.uk (Guy Forrester)
Date: Mon, 27 May 2002 17:03:10 +0100
Subject: [R] functions and getting them into R
Message-ID: <3CF258BE.E64C1D98@csl.gov.uk>

Dear All,

I am new to R and can see it is a very powerful and versatile system for
programming and statistical analysis.

Say I have written a simple function and want to use it on a regular
basis. I have the file as a text file say 'c:\R-funcs\func.txt' how do I
get R to find it on the hard disc or alternatively where is the default
location for looking up functions where I can place this file.  eg where
are functions such as var(), mean() etc stored?  

At the moment I'm pasting the text of the function into the GUI prompt,
not very satisfactory if it is to be used in a programme.

Please forgive any naivety on my part as I am just starting out

Many thanks in advance 

Guy


----------------------------------------------------------------------
Guy J. Forrester			Phone:  01453 860777
CSL Research Unit			Fax:    01453 860132
Woodchester Park			e-mail:  g.forrester at csl.gov.uk		
Nymsfield				
Stonehouse
Gloucestershire				
GL10 3UJ	    			http://www.csl.gov.uk
----------------------------------------------------------------------

Disclaimer
The information contained in this message may include privileged,
proprietary or confidential information. Please treat it with the same
respect that you would expect for your own information.  If you have
received it in error, we apologise, and ask that you contact the CSL
sender immediately and erase it from your computer. Thank you for your
co-operation.

Further information on confidentiality of our communications, can be
found at http://www.csl.gov.uk/email.htm
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon May 27 18:04:37 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 May 2002 18:04:37 +0200
Subject: [R] nlme cross-over and fixed nested
In-Reply-To: <JLEPLGAANFCEAEDCAGJNMEDACCAA.dieter.menne@menne-biomed.de>
References: <JLEPLGAANFCEAEDCAGJNMEDACCAA.dieter.menne@menne-biomed.de>
Message-ID: <x2vg99shka.fsf@blueberry.kubism.ku.dk>

"Dieter Menne" <dieter.menne at menne-biomed.de> writes:

> NSubj<-20
> # Placebo Phase
> # Seq: 1 for "Placebo first phase", 2 for "Verum first phase"
> glup<-data.frame(Patient=as.factor(1:NSubj),
>                 Seq=as.factor(rep(c(1,2),NSubj/2)),
>                 Treat=rep("Pla",NSubj),
>                 Glu=rnorm(NSubj,30,4)
>    )
> # Verum Phase
> gluv<-data.frame(Patient=as.factor(1:NSubj),
>                 Seq=as.factor(rep(c(1,2),NSubj/2)),
>                 Treat=rep("Ver",NSubj),
>                 Glu=glup$Glu-rnorm(NSubj,6,2)
>    )

I don't think you mean that. One of them wants to have 

Seq=as.factor(rep(c(2,1),NSubj/2))

otherwise patient 1 has two 1st phases, pt.2 has two 2nd phases, etc.

For a balanced design, I'd suggest

summary(aov(Glu~Treat*Seq+Error(Patient),data=glu))

which should show the wellknown crossover-design feature that the
interaction is compared to the Patient variation.


Or, put differently, it makes little sense to use the Seq variable, as
you define it, as a main effect. Rather, you'd want an indicator of
whether the current observation is the first or the second one, so

> glu <- transform(glu, first=as.factor((Seq==1)==(Treat=="Pla")))

> summary(aov(Glu~Treat*first+Error(Patient),data=glu))

Error: Patient
            Df Sum Sq Mean Sq F value Pr(>F)
Treat:first  1  14.96   14.96  0.2739 0.6071
Residuals   18 982.75   54.60               

Error: Within
          Df Sum Sq Mean Sq F value    Pr(>F)    
Treat      1 478.04  478.04 75.9305 7.106e-08 ***
first      1   2.66    2.66  0.4221    0.5241    
Residuals 18 113.32    6.30                      
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1 


Notice that this reverses the roles of interaction and main effect
relative to using Seq directly:

> summary(aov(Glu~Treat*Seq+Error(Patient),data=glu))

Error: Patient
          Df Sum Sq Mean Sq F value Pr(>F)
Seq        1  14.96   14.96  0.2739 0.6071
Residuals 18 982.75   54.60               

Error: Within
          Df Sum Sq Mean Sq F value    Pr(>F)    
Treat      1 478.04  478.04 75.9305 7.106e-08 ***
Treat:Seq  1   2.66    2.66  0.4221    0.5241    
Residuals 18 113.32    6.30                      
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1 





-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jniesch at gwdg.de  Mon May 27 18:16:37 2002
From: jniesch at gwdg.de (Jens Nieschulze)
Date: Mon, 27 May 2002 18:16:37 +0200 (MET DST)
Subject: [R] functions and getting them into R
In-Reply-To: <3CF258BE.E64C1D98@csl.gov.uk>
Message-ID: <Pine.SO4.4.10.10205271815070.13256-100000@ufobi7.uni-forst.gwdg.de>

On Mon, 27 May 2002, Guy Forrester wrote:

%Dear All,
%
%I am new to R and can see it is a very powerful and versatile system for
%programming and statistical analysis.
%
%Say I have written a simple function and want to use it on a regular
%basis. I have the file as a text file say 'c:\R-funcs\func.txt' how do I
%get R to find it on the hard disc or alternatively where is the default
%location for looking up functions where I can place this file.  eg where
%are functions such as var(), mean() etc stored?  
%
%At the moment I'm pasting the text of the function into the GUI prompt,
%not very satisfactory if it is to be used in a programme.

maybe
R>source("path/to/text/file")
does the trick?

%
%Please forgive any naivety on my part as I am just starting out
%
%Many thanks in advance 
%
%Guy
%
%
%----------------------------------------------------------------------
%Guy J. Forrester			Phone:  01453 860777
%CSL Research Unit			Fax:    01453 860132
%Woodchester Park			e-mail:  g.forrester at csl.gov.uk		
%Nymsfield				
%Stonehouse
%Gloucestershire				
%GL10 3UJ	    			http://www.csl.gov.uk
%----------------------------------------------------------------------
%
%Disclaimer
%The information contained in this message may include privileged,
%proprietary or confidential information. Please treat it with the same
%respect that you would expect for your own information.  If you have
%received it in error, we apologise, and ask that you contact the CSL
%sender immediately and erase it from your computer. Thank you for your
%co-operation.
%
%Further information on confidentiality of our communications, can be
%found at http://www.csl.gov.uk/email.htm
%-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
%r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
%Send "info", "help", or "[un]subscribe"
%(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
%_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
%

***********************************************************************
Jens Nieschulze

Institute for Forest Biometrics &	Phone: ++49-551-39-12107
Applied Computer Science		Fax  : ++49-551-39-3465
Buesgenweg 4
37077 Goettingen		E-mail: jniesch at uni-forst.gwdg.de
GERMANY				http://www.uni-forst.gwdg.de/~jniesch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May 27 18:21:01 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 27 May 2002 17:21:01 +0100 (BST)
Subject: [R] functions and getting them into R
In-Reply-To: <3CF258BE.E64C1D98@csl.gov.uk>
Message-ID: <Pine.LNX.4.31.0205271718310.2709-100000@gannet.stats>

On Mon, 27 May 2002, Guy Forrester wrote:

> Dear All,
>
> I am new to R and can see it is a very powerful and versatile system for
> programming and statistical analysis.
>
> Say I have written a simple function and want to use it on a regular
> basis. I have the file as a text file say 'c:\R-funcs\func.txt' how do I
> get R to find it on the hard disc

source("c:\\R-funcs\\func.txt")

(or replace \\ by /).

> or alternatively where is the default
> location for looking up functions where I can place this file.  eg where
> are functions such as var(), mean() etc stored?

In packages, and the best way of all would be to create a small package
containing your functions.  They you can use

library(mypackage)

to make them available.  But creating a package on Windows is not
for absolute beginners.

> At the moment I'm pasting the text of the function into the GUI prompt,
> not very satisfactory if it is to be used in a programme.
>
> Please forgive any naivety on my part as I am just starting out
>
> Many thanks in advance
>
> Guy
>
>
> ----------------------------------------------------------------------
> Guy J. Forrester			Phone:  01453 860777
> CSL Research Unit			Fax:    01453 860132
> Woodchester Park			e-mail:  g.forrester at csl.gov.uk
> Nymsfield
> Stonehouse
> Gloucestershire
> GL10 3UJ	    			http://www.csl.gov.uk
> ----------------------------------------------------------------------
>
> Disclaimer
> The information contained in this message may include privileged,
> proprietary or confidential information. Please treat it with the same
> respect that you would expect for your own information.  If you have
> received it in error, we apologise, and ask that you contact the CSL
> sender immediately and erase it from your computer. Thank you for your
> co-operation.
>
> Further information on confidentiality of our communications, can be
> found at http://www.csl.gov.uk/email.htm
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From o.christensen at lancaster.ac.uk  Mon May 27 18:31:58 2002
From: o.christensen at lancaster.ac.uk (Ole Christensen)
Date: Mon, 27 May 2002 17:31:58 +0100
Subject: [R] functions and getting them into R
References: <Pine.SO4.4.10.10205271815070.13256-100000@ufobi7.uni-forst.gwdg.de>
Message-ID: <3CF25F7E.40603BFF@lancs.ac.uk>



> maybe
> R>source("path/to/text/file")
> does the trick?

Yes, and if you want to make this automatic, then put the command in
your .Rprofile file.

Ole
-- 
Ole F. Christensen
Department of Mathematics and Statistics
Fylde College, Lancaster University 
Lancaster, LA1 4YF, England
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon May 27 18:31:33 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 27 May 2002 18:31:33 +0200
Subject: [R] hist failed with unused arguments
In-Reply-To: <200205271533.RAA09351@stat.math.ethz.ch>
References: <200205271533.RAA09351@stat.math.ethz.ch>
Message-ID: <15602.24421.186395.149447@gargle.gargle.HOWL>

>>>>> "dgroth" == dgroth at gmx de <dgroth at gmx.de> writes:

    dgroth> Hello, I urgently need a histogram of the vector
    dgroth> geo1$ds1 but:

    >> hist(geo1$ds1)
    dgroth> Error in hist(geo1$ds1) : unused argument(s) ( ...)

quite wierd.

Try  
     traceback()
immediately after the error 
and also 
  
  str(geo1$ds1)

{or  str(geo1)  for that matter}


    dgroth> I can use density, summary, boxplot and stem with
    dgroth> this vector but not hist ?

    dgroth> Any suggestions ?

    dgroth> Thanks in advance,

    dgroth> Detlef Groth
    >> density(geo1$ds1)

    dgroth> Call: density(x = geo1$ds1)

    dgroth> Data: geo1$ds1 (1412 obs.); Bandwidth 'bw' = 0.2805

    dgroth>        x y Min.  :-0.8415 Min.  :1.133e-05 1st Qu.:
    dgroth> 1.1545 1st Qu.:1.264e-02 Median : 3.1505 Median
    dgroth> :9.428e-02 Mean : 3.1505 Mean :1.251e-01 3rd Qu.:
    dgroth> 5.1465 3rd Qu.:2.057e-01 Max.  : 7.1425 Max.
    dgroth> :4.091e-01
    >> summary(geo1$ds1)
    dgroth>    Min. 1st Qu.  Median Mean 3rd Qu.  Max.  0.000
    dgroth> 2.062 3.370 2.947 3.920 6.301

....

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dieter.menne at menne-biomed.de  Mon May 27 18:35:58 2002
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Mon, 27 May 2002 18:35:58 +0200
Subject: [R] nlme cross-over and fixed nested
In-Reply-To: <x2vg99shka.fsf@blueberry.kubism.ku.dk>
Message-ID: <JLEPLGAANFCEAEDCAGJNIEDDCCAA.dieter.menne@menne-biomed.de>

Peter,
thanks a lot...

>> I don't think you mean that. One of them wants to have
>> Seq=as.factor(rep(c(2,1),NSubj/2))
>> otherwise patient 1 has two 1st phases, pt.2 has two 2nd phases, etc.

I had done it as you suggested in my earlier life, but I was told by a
statistician from a big pharma company the above definition was the correct
one: each patient only belongs to one "Sequence", either pla/ver or ver/pla.
The argument was that therefore patient should be nested in sequence.

In your definition there is no such nesting (?? Or? I never get this right)

> glu <- transform(glu, first=as.factor((Seq==1)==(Treat=="Pla")))
>>For a balanced design, I'd suggest
>> summary(aov(Glu~Treat*Seq+Error(Patient),data=glu))

>>Or, put differently, it makes little sense to use the Seq variable, as
>>you define it, as a main effect. Rather, you'd want an indicator of
>>whether the current observation is the first or the second one, so

> summary(aov(Glu~Treat*first+Error(Patient),data=glu))

Error: Patient
            Df Sum Sq Mean Sq F value Pr(>F)
Treat:first  1  14.96   14.96  0.2739 0.6071
Residuals   18 982.75   54.60

Error: Within
          Df Sum Sq Mean Sq F value    Pr(>F)
Treat      1 478.04  478.04 75.9305 7.106e-08 ***
first      1   2.66    2.66  0.4221    0.5241
Residuals 18 113.32    6.30
---

> summary(aov(Glu~Treat*Seq+Error(Patient),data=glu))

Error: Patient
          Df Sum Sq Mean Sq F value Pr(>F)
Seq        1  14.96   14.96  0.2739 0.6071
Residuals 18 982.75   54.60

Error: Within
          Df Sum Sq Mean Sq F value    Pr(>F)
Treat      1 478.04  478.04 75.9305 7.106e-08 ***
Treat:Seq  1   2.66    2.66  0.4221    0.5241
Residuals 18 113.32    6.30

------------------------------------

But the results are the same in both definitions (Seq, and First)! Or is
this only because of the balancing (in my real world, list are slightly
imbalanced). And, citing the referee: in your aov, there is neither an
indication of nesting. I see that you don't need it for your "First"
definition, but why (as the referee says) should I use it in my "Seq"
definition?

Sorry ... this nesting stuff confuses me. And in an excellent book like
Pinheiro/Bates which I have studied more than once it's not even in the
index (it's in the text, sometimes).

Dieter

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dgroth at gmx.de  Mon May 27 19:53:11 2002
From: dgroth at gmx.de (dgroth@gmx.de)
Date: Mon, 27 May 2002 19:53:11 +0200 (MET DST)
Subject: [R] hist failed with unused arguments
Message-ID: <200205271753.TAA21128@stat.math.ethz.ch>

> > hist(geo1$ds1)
> Error in hist(geo1$ds1) : unused argument(s) ( ...)
> 
> I can use density, summary, boxplot and stem with this vector but not hist ?

I tried ls() and rm(hist) and now it works ...
> ls()
 [1] "chr"          "chr1f"        "chr2f"        "datfile"     
 [5] "first"        "g"            "geo1"         "hist"        
 [9] "islands"      "last.warning" "op"           "plot"        
[13] "second"      
> class(hist)
NULL

after rm(hist)
everything was ok, seems that after a miswritten command a object "hist"
was created.

Thank you very much all,

Detlef
> 
> > hist(geo1$ds1)
> Error in hist(geo1$ds1) : unused argument(s) ( ...)
> 
> I can use density, summary, boxplot and stem with this vector but not hist ?

-- 
Dr. Detlef Groth
Max-Planck-Institut
fuer Molekulare Genetik
Ihnestr. 63/73
D-14195 Berlin
Tel.: + 49 30 - 8413 1235
Email: dgroth at molgen.mpg.de
Email: dgroth at gmx.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bojaniss at poczta.onet.pl  Mon May 27 20:13:11 2002
From: bojaniss at poczta.onet.pl (Michal Bojanowski)
Date: Mon, 27 May 2002 20:13:11 +0200
Subject: [R] sub functions
In-Reply-To: <3CF2526E.6030807@science.uva.nl>
References: <3CF2526E.6030807@science.uva.nl>
Message-ID: <5536137026.20020527201311@poczta.onet.pl>

Hello Ulrich,

Monday, May 27, 2002, 5:36:14 PM, you wrote:

UL> Dear list,

UL> how can I write the following two lines in one function:

UL>  > Pox2 <- ave(lsk0t50$Pox2, lsk0t50$ProfN, Fun=is.na(lsk0t50$Pox2)) 
UL>           > Pox2 <- data.frame(Pox2)

UL> The following does not work:

UL>  > Pox2 <- data.frame(Pox2 <- ave(lsk0t50$Pox2, lsk0t50$ProfN, 
UL> Fun=is.na(lsk0t50$Pox2)))
UL>  > names(Pox2)
UL> [1] "Pox2....ave.lsk0t50.Pox2..lsk0t50.ProfN..Fun...is.na.lsk0t50.Pox2.."
UL>  >

UL> Regards, Ulrich


I don't know if you mean this:

f <- function(x,...,FUN){
        y <- ave(x,...,FUN)
        data.frame(y)
}

You can now use f() in the same way, like ave().


Or you can get rid of the names calling e.g.:

Pox2 <- structure(data.frame(ave(lsk0t50$Pox2,
lsk0t50$ProfN,Fun=is.na(lsk0t50$Pox2))), names="lsk0t50")


Why do you want a single numeric vector to be a data.frame anyway?


-- 
Best regards,
 Michal                            mailto:bojaniss at poczta.onet.pl

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Paul.Bliese at NA.AMEDD.ARMY.MIL  Mon May 27 21:51:19 2002
From: Paul.Bliese at NA.AMEDD.ARMY.MIL (Bliese, Paul D MAJ WRAIR-Wash DC)
Date: Mon, 27 May 2002 15:51:19 -0400
Subject: [R] lattice background color
Message-ID: <58CAB2332C0DD511BC7900A0C9EA316D013D1504@dasmtyjqf009.amedd.army.mil>

I'm sure there is a simple answer to this question, but it stumps me so far.

I've been using R to create graphic images and paste them into other
programs (Word, PowerPoint). 

Recently, I've been using lattice (wonderful package), but I can't figure
out how to create graphs in lattice that don't have a background color --
that is, my graphs carry over the grey background if I use the default.  I
can change the background color to white, and as long as I paste the picture
into a white document everything is fine, but that only works for white
documents.

Any ideas on how to get a NULL background color.  Note that the non-lattice
graphics do not carry over the background color.  The following simple
solution does NOT work:

> trellis.device(bg=NULL)


Using Windows 2000, and R 1.5.0. with the default lattice package.

Paul
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May 27 22:33:48 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 27 May 2002 21:33:48 +0100 (BST)
Subject: [R] lattice background color
In-Reply-To: <58CAB2332C0DD511BC7900A0C9EA316D013D1504@dasmtyjqf009.amedd.army.mil>
Message-ID: <Pine.LNX.4.31.0205272128540.5025-100000@gannet.stats>

On Mon, 27 May 2002, Bliese, Paul D MAJ WRAIR-Wash DC wrote:

> I'm sure there is a simple answer to this question, but it stumps me so far.
>
> I've been using R to create graphic images and paste them into other
> programs (Word, PowerPoint).
>
> Recently, I've been using lattice (wonderful package), but I can't figure
> out how to create graphs in lattice that don't have a background color --
> that is, my graphs carry over the grey background if I use the default.  I
> can change the background color to white, and as long as I paste the picture
> into a white document everything is fine, but that only works for white
> documents.
>
> Any ideas on how to get a NULL background color.  Note that the non-lattice
> graphics do not carry over the background color.  The following simple
> solution does NOT work:
>
> > trellis.device(bg=NULL)

trellis.device(bg="transparent")

NULL is not a colour, is it?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Mon May 27 22:36:11 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Mon, 27 May 2002 20:36:11 +0000
Subject: [R] problem while building a package
Message-ID: <3CF298BB.28DFDBAE@sentoo.sn>

Please reply to: lancelot at sentoo.sn
because my address: renaud.lancelot at cirad.fr
is broken (should be fixed soon...).

platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status   Patched        
major    1              
minor    5.0            
year     2002           
month    05             
day      15             
language R              

win98 (sigh !)

This is my first attempt to build a package so the question is probably
trivial. I try to gather a small set of pure-R functions (5) and their
help file (Rd format) in a package (rmisc) using tools provided by Pr
Ripley (http://www.stats.ox.ac.uk/pub/Rtools/tools.zip) and perl
(ActivePerl-5.6.1). The make pkg command runs smoothly, but errors are
found by make pkgcheck. The strange thing is that if I try to make a
package with any one (and even up to 4) of the 5 functions, everything
is ok (including make pkgcheck). The error msg from make pkgcheck is not
informative (for me...): the last lines of the Rout file written in
subdirectory check are:
>
> library('rmisc')
Error in parse(file, n, text, prompt) : syntax error on line 56
Execution halted

How can I debug this ? How can I find what is on line 56 ?

Many thanks in advance,

Renaud

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon May 27 22:42:29 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 27 May 2002 21:42:29 +0100 (BST)
Subject: [R] problem while building a package
In-Reply-To: <3CF298BB.28DFDBAE@sentoo.sn>
Message-ID: <Pine.LNX.4.31.0205272141160.5078-100000@gannet.stats>

On Mon, 27 May 2002, Renaud Lancelot wrote:

> Please reply to: lancelot at sentoo.sn
> because my address: renaud.lancelot at cirad.fr
> is broken (should be fixed soon...).
>
> platform i386-pc-mingw32
> arch     i386
> os       mingw32
> system   i386, mingw32
> status   Patched
> major    1
> minor    5.0
> year     2002
> month    05
> day      15
> language R
>
> win98 (sigh !)
>
> This is my first attempt to build a package so the question is probably
> trivial. I try to gather a small set of pure-R functions (5) and their
> help file (Rd format) in a package (rmisc) using tools provided by Pr
> Ripley (http://www.stats.ox.ac.uk/pub/Rtools/tools.zip) and perl
> (ActivePerl-5.6.1). The make pkg command runs smoothly, but errors are
> found by make pkgcheck. The strange thing is that if I try to make a
> package with any one (and even up to 4) of the 5 functions, everything
> is ok (including make pkgcheck). The error msg from make pkgcheck is not
> informative (for me...): the last lines of the Rout file written in
> subdirectory check are:
> >
> > library('rmisc')
> Error in parse(file, n, text, prompt) : syntax error on line 56
> Execution halted
>
> How can I debug this ? How can I find what is on line 56 ?

Look at library\\rmisc\R\\rmisc around line 56.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From renaud.lancelot at cirad.fr  Mon May 27 22:57:45 2002
From: renaud.lancelot at cirad.fr (Renaud Lancelot)
Date: Mon, 27 May 2002 21:57:45 +0100
Subject: [R] problem while building a package
References: <Pine.LNX.4.31.0205272141160.5078-100000@gannet.stats>
Message-ID: <3CF29DC9.44216B0B@cirad.fr>

ripley at stats.ox.ac.uk wrote:
> 
> On Mon, 27 May 2002, Renaud Lancelot wrote:
> 
> > Please reply to: lancelot at sentoo.sn
> > because my address: renaud.lancelot at cirad.fr
> > is broken (should be fixed soon...).
> >
> > platform i386-pc-mingw32
> > arch     i386
> > os       mingw32
> > system   i386, mingw32
> > status   Patched
> > major    1
> > minor    5.0
> > year     2002
> > month    05
> > day      15
> > language R
> >
> > win98 (sigh !)
> >
> > This is my first attempt to build a package so the question is probably
> > trivial. I try to gather a small set of pure-R functions (5) and their
> > help file (Rd format) in a package (rmisc) using tools provided by Pr
> > Ripley (http://www.stats.ox.ac.uk/pub/Rtools/tools.zip) and perl
> > (ActivePerl-5.6.1). The make pkg command runs smoothly, but errors are
> > found by make pkgcheck. The strange thing is that if I try to make a
> > package with any one (and even up to 4) of the 5 functions, everything
> > is ok (including make pkgcheck). The error msg from make pkgcheck is not
> > informative (for me...): the last lines of the Rout file written in
> > subdirectory check are:
> > >
> > > library('rmisc')
> > Error in parse(file, n, text, prompt) : syntax error on line 56
> > Execution halted
> >
> > How can I debug this ? How can I find what is on line 56 ?
> 
> Look at library\\rmisc\R\\rmisc around line 56.

Bon sang, mais c'est bien s?r ! Sorry I'm dumb: I had not figured out
that rmisc was a text file. The problem came from a missing carriage
return after the closing brace of one of the functions. In fact, the
error msg was VERY informative !

Many thanks,

Renaud

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From White.Denis at epamail.epa.gov  Tue May 28 02:34:02 2002
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Mon, 27 May 2002 17:34:02 -0700
Subject: [R] rpart leaves
Message-ID: <OFE6593681.3EFBBCA9-ON88256BC7.0002C00F@rtp.epa.gov>


> Is it possible to manually specify how many leaves I want for a tree
> fitted by rpart(), or tree()?

prune.Rpart in package maptree has argument best and acts like
prune.tree.  prune.rpart in package rpart does not have the argument.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From White.Denis at epamail.epa.gov  Tue May 28 02:38:31 2002
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Mon, 27 May 2002 17:38:31 -0700
Subject: [R] Color coding labels in hclust plots
Message-ID: <OF3C7F207D.9E345497-ON88256BC7.00035E13@rtp.epa.gov>


> Is there an easy way to color code the labels shown in plots of a
> hierarchical clustering or did I just not read the documentation
> properly?

draw.clust in package maptree may help.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mbalcilar at manas.kg  Tue May 28 07:33:32 2002
From: mbalcilar at manas.kg (Mehmet Balcilar)
Date: Tue, 28 May 2002 11:33:32 +0600
Subject: [R] problem with fonts
Message-ID: <1022564012.3cf316aca9fdf@posta.manas.kg>

Dear all:

I have two problems with fonts:

1. Some symbols, such \sum, \prod, etc., are not displayed on the R X11 graphic 
window. But, the postsript device displays the fonts correctly. I have two 
symbol fonts installed. -urw-symbol and -adobe-symbol. Removing -urw-symbol 
solves the problem. It looks like -urw-symbol is used by defult. How do I get 
the symbols displayed when -urw-symbol font is installed?

2. How can display letters in ISO8859-9 (latin-5), that is Turkish, encoding. 
Some of the Turkish letters,  such as \:o, \:u,  are displayed, but others, 
such as \v{g}, \c{s}, \i{}, are not displayed. Changing locale settings to 
turkish does not solve the problem. Hershey fonts do not help either. How can I 
get theser letters displayed?


I am using R 1.5 on Mandrake 8.2.

Thanks.

Mehmet Balcilar, PhD

Kyrgyz-Turkish Manas University
Department of Economics
Prospect Tinctik 56
Bishkek
Kygyzstan

mbalcilar at manas.kg






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolfram at fischer-zim.ch  Tue May 28 08:00:01 2002
From: wolfram at fischer-zim.ch (Wolfram Fischer - Z/I/M)
Date: Tue, 28 May 2002 08:00:01 +0200
Subject: [R] simplex (boot): solving A2 %*% x >= b2 not possible
Message-ID: <20020528080001.A978@s1x.zimnet.ch>

When I want to solve a problem of the form A2 %*% x >= b2
I receive an error message allthough the problem is
solvable:

library(boot)
A <- matrix( c(4,8,8,4), 2, 2 )
b <- c(9,9)
a <- b

simplex( a=a, A2=A, b2=b, maxi=F )
#--
#	Error in rbind(iden(m1), zero(m2 + m3, m1)) : 
#		attempt to set an attribute on NULL


#== IN CONTRAST TO A CORRECT RESULT WHEN CALLING:

simplex(a=a, A1=A, b1=b, maxi=T )
#--
#	Optimal solution has the following values
#	  x1   x2 
#	0.75 0.75 
#	The optimal value of the objective  function is 13.5.


Wolfram Fischer
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From celine.rondey at educagri.fr  Tue May 28 09:02:50 2002
From: celine.rondey at educagri.fr (CELINE RONDEY)
Date: Tue, 28 May 2002 09:02:50 +0200
Subject: [R] determination of the number of lags
Message-ID: <fc.000f5d97018db6b7000f5d97018db6b7.18dbb27@educagri.fr>

Dear all,

I wish use the "est.variogram" function under R.
My question concerns the determination of number of lags.

To make this calculation, i determined the biggest and the smallest
distance between 2 pairs of points.
I built the following tolerance : tol=mindistance/2 and i defined 1 lag as
: 1lag=mindist+tol.
Then i made a buckle the step of stop of which the maximal distance.
But, i don't known if this method is correct.

So, my question is :
How to determine num.lag correctly?


Thanks in advance for all kind of help.

C?line RONDEY



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 28 09:43:06 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 28 May 2002 08:43:06 +0100 (BST)
Subject: [R] simplex (boot): solving A2 %*% x >= b2 not possible
In-Reply-To: <20020528080001.A978@s1x.zimnet.ch>
Message-ID: <Pine.GSO.4.44.0205280838410.18605-100000@auk.stats>

This is a bug in the boot package: in the original and not just in the port
to R.  Please report it to the author.


On Tue, 28 May 2002, Wolfram Fischer - Z/I/M wrote:

> When I want to solve a problem of the form A2 %*% x >= b2
> I receive an error message allthough the problem is
> solvable:
>
> library(boot)
> A <- matrix( c(4,8,8,4), 2, 2 )
> b <- c(9,9)
> a <- b
>
> simplex( a=a, A2=A, b2=b, maxi=F )
> #--
> #	Error in rbind(iden(m1), zero(m2 + m3, m1)) :
> #		attempt to set an attribute on NULL
>
>
> #== IN CONTRAST TO A CORRECT RESULT WHEN CALLING:
>
> simplex(a=a, A1=A, b1=b, maxi=T )
> #--
> #	Optimal solution has the following values
> #	  x1   x2
> #	0.75 0.75
> #	The optimal value of the objective  function is 13.5.
>
>
> Wolfram Fischer
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Tue May 28 10:08:13 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Tue, 28 May 2002 10:08:13 +0200
Subject: [R] problem with fonts
In-Reply-To: <1022564012.3cf316aca9fdf@posta.manas.kg>
Message-ID: <KKEGJOGBELBHDIKPINBMOEOICMAA.hb@maths.lth.se>

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Mehmet Balcilar
> Sent: Tuesday, May 28, 2002 7:34 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] problem with fonts
>
>
> Dear all:
>
> I have two problems with fonts:
>
> 1. Some symbols, such \sum, \prod, etc., are not displayed on the
> R X11 graphic
> window. But, the postsript device displays the fonts correctly. I
> have two
> symbol fonts installed. -urw-symbol and -adobe-symbol. Removing
> -urw-symbol
> solves the problem. It looks like -urw-symbol is used by defult.
> How do I get
> the symbols displayed when -urw-symbol font is installed?
>
> 2. How can display letters in ISO8859-9 (latin-5), that is
> Turkish, encoding.
> Some of the Turkish letters,  such as \:o, \:u,  are displayed,
> but others,
> such as \v{g}, \c{s}, \i{}, are not displayed. Changing locale
> settings to
> turkish does not solve the problem. Hershey fonts do not help
> either. How can I
> get theser letters displayed?

The following r-help topic might answer your second question, but I am not
sure:

  http://www.r-project.org/nocvs/mail/r-help/2002/2589.html

(and to be picky the "intToHex" in that text is of course "intToOct")

> I am using R 1.5 on Mandrake 8.2.
>
> Thanks.
>
> Mehmet Balcilar, PhD
>
> Kyrgyz-Turkish Manas University
> Department of Economics
> Prospect Tinctik 56
> Bishkek
> Kygyzstan
>
> mbalcilar at manas.kg


Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metrinomics.de  Tue May 28 10:30:14 2002
From: c.schulz at metrinomics.de (Christian Schulz)
Date: Tue, 28 May 2002 10:30:14 +0200
Subject: [R] id  & filter problems in data.frame
Message-ID: <3CF34016.10304@metrinomics.de>

Hi,
a questionaire data-set with more than one row for one Person make
me problems.

(1) i want create a function which count the used
row for the relevant id !
example:  
id  c.row
1    1
1    2
1    3
2    1
2    2
4    1
4    2
4    3
4    4
4    5

(2)  i have got a problem to filter & analyse , because the filter 
criteria is unlucky
a row above or under the ratings which i would like to analyse !

Thanks for any suggestions/starting point
Christian Schulz





Metrinomics GmbH
Fon: +49 (0)30  69 51 71 - 16
Fax: +49 (0)30  69 51 71 - 33
mailto:c.schulz at metrinomics.de
http://www.metrinomics.de









-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Paul.Bliese at NA.AMEDD.ARMY.MIL  Tue May 28 12:30:57 2002
From: Paul.Bliese at NA.AMEDD.ARMY.MIL (Bliese, Paul D MAJ WRAIR-Wash DC)
Date: Tue, 28 May 2002 06:30:57 -0400
Subject: [R] Lattice background color answer  
Message-ID: <58CAB2332C0DD511BC7900A0C9EA316D013D1506@dasmtyjqf009.amedd.army.mil>

It turns out that there is a color named "transparent" that does the trick
with the trellis device.  Thanks to Brian Ripley for pointing it out.

trellis.device(bg="transparent") 

My original post is below, but it boils down to "how can I make a trellis
graph that doesn't contain any background color?" This can be useful when
you paste graphics into documents that have non-white backgrounds. 

Paranthetically, I note that his response to my question (5/27/02 4:43
PM)actually made it to my mailbox before my actual question did (5/27/02
4:48 PM)...one doesn't get much quicker advice than that. 

PB
-----Original Message----- 
From: Bliese, Paul D MAJ WRAIR-Wash DC 
To: 'r-help at stat.math.ethz.ch' 
Sent: 5/27/02 3:51 PM 
Subject: [R] lattice background color 

I'm sure there is a simple answer to this question, but it stumps me so 
far. 

I've been using R to create graphic images and paste them into other 
programs (Word, PowerPoint). 

Recently, I've been using lattice (wonderful package), but I can't 
figure 
out how to create graphs in lattice that don't have a background color 
-- 
that is, my graphs carry over the grey background if I use the default. 
I 
can change the background color to white, and as long as I paste the 
picture 
into a white document everything is fine, but that only works for white 
documents. 

Any ideas on how to get a NULL background color.  Note that the 
non-lattice 
graphics do not carry over the background color.  The following simple 
solution does NOT work: 

> trellis.device(bg=NULL) 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From d.orme at ic.ac.uk  Tue May 28 12:46:23 2002
From: d.orme at ic.ac.uk (David Orme)
Date: Tue, 28 May 2002 11:46:23 +0100
Subject: [R] passing model objects to anova()
Message-ID: <a05100301b9190e443013@[129.31.3.212]>

Hi,

I'm fitting a glm to a dataset...

>  objects()
  [1] "pop.div.full"                    "speciation.data"

...and then performing model simplification to give a series of model 
objects all of which have a common suffix.

>  objects()
  [1] "pop.div.full"                    "pop.div.gp.f.b.hm"
  [3] "pop.div.gp.fb.hm"                "pop.div.same.slopes"
  [5] "speciation.data"
I am using anova(model1, model2...) to test the significance of term 
deletion within the series of models. Is there any way to pass 
objects() called with a pattern to anova(). i.e something like...

>  anova(list = objects(pattern="pop.div"),test="Chisq")

instead of

>  anova(pop.div.full, pop.div.gp.f.b.hm, pop.div.gp.fb.hm, 
>pop.div.same.slopes,test="Chisq")

OK, in this example it isn't a lot of typing/cut and paste but it 
could be quite handy if there is a simple way of doing it, 
particularly when I have more than one set of full model and 
simplifications with different prefixes or with larger models with 
more simplifications.  Any suggestions gratefully received.

Thanks,
David Orme

>  R.version
          _
platform ppc-apple-macos
arch     ppc
os       MacOS
system   ppc, MacOS
status
major    1
minor    5.0
year     2002
month    04
day      29
language R

-- 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fzoellne at techfak.uni-bielefeld.de  Tue May 28 12:51:53 2002
From: fzoellne at techfak.uni-bielefeld.de (Frank Gerrit Zoellner)
Date: Tue, 28 May 2002 12:51:53 +0200
Subject: [R] Coplot question
Message-ID: <20020528125153.A2564@hindemith.TechFak.Uni-Bielefeld.DE>

Hi!

I have a question concerning the coplot function.
I use coplot function with two conditioning variables. Unfortuanatly this results in 22 x 5 panels. The data shown in the panels get very small and you can't see anything. So I want to split/distribute the panels to several frames (with only a small number of panels). Is this possible? 

Thanks 
-- 
Frank G. Zoellner
AG Angewandte Informatik
Technische Fakult"at
Universit"at Bielefeld
phone: +49(0)521-106-2951
fax:   +49(0)521-106-2992
email: fzoellne at techfak.uni-bielefeld.de
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HStevens at muohio.edu  Tue May 28 12:59:23 2002
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Tue, 28 May 2002 06:59:23 -0400
Subject: [R] logit regression, test among groups
Message-ID: <5.1.0.14.2.20020528065826.00aae9a8@po.muohio.edu>


Dear all:
My logistic regression model includes one qualitative and one quantitative 
predictor variable,

aes <- glm(p.a ~ spp * log(light), family=binomial(link=logit)),

where spp is abundance of 3 species and light is subcanopy light 
availability varying from 0  1.

  I want to test differences among levels of the quantitative variable at a 
value of x other than the current log(light)=0.  I tried using 
I(log(light+.5)) but this caused serious lack of fit (AIC went from 1574 to 
1656, and diagnostic plots demonstrated poor fit). How would create a model 
statement such that I test differences among groups at log(light)=approx. 2?
Many thanks.

Martin Henry H. Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.muohio.edu/~botcwis/bot/henry.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metrinomics.de  Tue May 28 13:03:22 2002
From: c.schulz at metrinomics.de (Christian Schulz)
Date: Tue, 28 May 2002 13:03:22 +0200
Subject: [R] id  & filter problems in data.frame
References: <3CF34016.10304@metrinomics.de> <3CF34F40.A1568747@sentoo.sn>
Message-ID: <3CF363FA.8090903@metrinomics.de>

Renault,
really thanks !

(2.problem) example:
id   filterCriteria    ratingOfSatisfaction        ProductType
1        Man
1                               60                                A
1                               40                                B
3       Women           
3                                20                                A
5        Man
5                                 40                               A
5                                 100                             B
5                                  80                              C

I know that's no a perfect  database model .
But  the dataset is much longer and now i have got a problem
i.e filter the ratingOfSatisfaction with gender!

Is there a possibilty to write a function in the really flexible R , which
autocount (copy the rows under the first row per ID for the filterCriteria)
until a new Id starts and again ....

  
Thanks for
advance & regards,Christian



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From o.christensen at lancaster.ac.uk  Tue May 28 13:10:36 2002
From: o.christensen at lancaster.ac.uk (Ole Christensen)
Date: Tue, 28 May 2002 12:10:36 +0100
Subject: [R] determination of the number of lags
References: <fc.000f5d97018db6b7000f5d97018db6b7.18dbb27@educagri.fr>
Message-ID: <3CF365AC.9F442E88@lancs.ac.uk>

Dear Celine

To my knowledge there is no ``correct'' way to construct an empirical
variogram. 

Recommandations

1. max.dist = 0.5 * max dist between pairs of locations. Because the
variogram starts becoming unstable at larger distances.

2. Make sure that you have sufficient number of pairs at each lag (say,
200).

I would play a bit around with the specification of lags to see how much
the variogram depended on the choice of lags.

Ole

CELINE RONDEY wrote:
> 
> Dear all,
> 
> I wish use the "est.variogram" function under R.
> My question concerns the determination of number of lags.
> 
> To make this calculation, i determined the biggest and the smallest
> distance between 2 pairs of points.
> I built the following tolerance : tol=mindistance/2 and i defined 1 lag as
> : 1lag=mindist+tol.
> Then i made a buckle the step of stop of which the maximal distance.
> But, i don't known if this method is correct.
> 
> So, my question is :
> How to determine num.lag correctly?
> 
> Thanks in advance for all kind of help.
> 
> C?line RONDEY
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Ole F. Christensen
Department of Mathematics and Statistics
Fylde College, Lancaster University 
Lancaster, LA1 4YF, England
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 28 13:12:13 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 28 May 2002 12:12:13 +0100 (BST)
Subject: [R] passing model objects to anova()
In-Reply-To: <a05100301b9190e443013@[129.31.3.212]>
Message-ID: <Pine.LNX.4.31.0205281210350.12490-100000@gannet.stats>

On Tue, 28 May 2002, David Orme wrote:

> Hi,
>
> I'm fitting a glm to a dataset...
>
> >  objects()
>   [1] "pop.div.full"                    "speciation.data"
>
> ...and then performing model simplification to give a series of model
> objects all of which have a common suffix.
>
> >  objects()
>   [1] "pop.div.full"                    "pop.div.gp.f.b.hm"
>   [3] "pop.div.gp.fb.hm"                "pop.div.same.slopes"
>   [5] "speciation.data"
> I am using anova(model1, model2...) to test the significance of term
> deletion within the series of models. Is there any way to pass
> objects() called with a pattern to anova(). i.e something like...
>
> >  anova(list = objects(pattern="pop.div"),test="Chisq")
>
> instead of
>
> >  anova(pop.div.full, pop.div.gp.f.b.hm, pop.div.gp.fb.hm,
> >pop.div.same.slopes,test="Chisq")
>
> OK, in this example it isn't a lot of typing/cut and paste but it
> could be quite handy if there is a simple way of doing it,
> particularly when I have more than one set of full model and
> simplifications with different prefixes or with larger models with
> more simplifications.  Any suggestions gratefully received.

Use do.call.

Something like

do.call("anova", c(as.list(objects(pattern="pop.div")), list(test="Chisq")))

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Tue May 28 13:45:38 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Tue, 28 May 2002 13:45:38 +0200
Subject: [R] id  & filter problems in data.frame
References: <3CF34016.10304@metrinomics.de>
Message-ID: <008d01c2063d$35e3f9e0$5c13070a@it.giustizia.it>

> Hi,
> a questionaire data-set with more than one row for one Person make
> me problems.
>
> (1) i want create a function which count the used
> row for the relevant id !
> example:
> id  c.row
> 1    1
> 1    2
> 1    3
> 2    1
> 2    2
> 4    1
> 4    2
> 4    3
> 4    4
> 4    5

If I understand what you are looking for:
tapply(c.row,id, length)


> (2)  i have got a problem to filter & analyse , because the filter
> criteria is unlucky
> a row above or under the ratings which i would like to analyse !
>
> Thanks for any suggestions/starting point
> Christian Schulz
>
>
>
>
>
> Metrinomics GmbH
> Fon: +49 (0)30  69 51 71 - 16
> Fax: +49 (0)30  69 51 71 - 33
> mailto:c.schulz at metrinomics.de
> http://www.metrinomics.de
>
>
>
>
>
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Tue May 28 14:31:41 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Tue, 28 May 2002 08:31:41 -0400
Subject: [R] logit regression, test among groups
In-Reply-To: <5.1.0.14.2.20020528065826.00aae9a8@po.muohio.edu>
References: <5.1.0.14.2.20020528065826.00aae9a8@po.muohio.edu>
Message-ID: <20020528083141.72da916b.fharrell@virginia.edu>

I do this by getting two predicted values and the design matrix for each (to get standard errors).  In the Design library you can do

f <- lrm(p.a ~ spp*log(light))
contrast(f, list(spp=3,light=1), list(spp=2,light=1))
# Contrasts spp=3 vs spp=2 to get odds ratio, setting light=1

You can also request that contrast give you a vector of contrasts for varying light.

You could also do this task with glm.  I don't like to refit models just to get desired contrasts.  Predicted values go a long way.

Frank Harrell

On Tue, 28 May 2002 06:59:23 -0400
"Martin Henry H. Stevens" <HStevens at muohio.edu> wrote:

> 
> Dear all:
> My logistic regression model includes one qualitative and one quantitative 
> predictor variable,
> 
> aes <- glm(p.a ~ spp * log(light), family=binomial(link=logit)),
> 
> where spp is abundance of 3 species and light is subcanopy light 
> availability varying from 0  1.
> 
>   I want to test differences among levels of the quantitative variable at a 
> value of x other than the current log(light)=0.  I tried using 
> I(log(light+.5)) but this caused serious lack of fit (AIC went from 1574 to 
> 1656, and diagnostic plots demonstrated poor fit). How would create a model 
> statement such that I test differences among groups at log(light)=approx. 2?
> Many thanks.
> 
> Martin Henry H. Stevens, Assistant Professor
> 338 Pearson Hall
> Botany Department
> Miami University
> Oxford, OH 45056
> 
> Office: (513) 529-4206
> Lab: (513) 529-4262
> FAX: (513) 529-4243
> http://www.muohio.edu/~botcwis/bot/henry.html
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oehl_list at gmx.de  Tue May 28 14:36:35 2002
From: oehl_list at gmx.de (oehl_list@gmx.de)
Date: Tue, 28 May 2002 14:36:35 +0200 (MEST)
Subject: [R] Intended change from version$os=='Win32' to 'mingw32' ?
Message-ID: <2352.1022589395@www28.gmx.net>


Is it intended that version$os no longer is 'Win32' for the Windows-Compile?
What is the approbriate way to check for Windows?

Best


Jens Oehlschl?gel



In 1.4.1 we had

> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    4.1            
year     2002           
month    01             
day      30             
language R 




in 1.5.0 we have

> version
         _              
platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    5.0            
year     2002           
month    04             
day      29             
language R

-- 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 28 14:53:33 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 28 May 2002 13:53:33 +0100 (BST)
Subject: [R] Intended change from version$os=='Win32' to 'mingw32' ?
In-Reply-To: <2352.1022589395@www28.gmx.net>
Message-ID: <Pine.LNX.4.31.0205281347490.16537-100000@gannet.stats>

On Tue, 28 May 2002 oehl_list at gmx.de wrote:

> Is it intended that version$os no longer is 'Win32' for the Windows-Compile?

Yes.  It's a consequence of using autoconf 2.5x to generate config.h.
In the wider open source world the OS is mingw32, not Windows (and it
matters as there are other Windows-hosted subsystems, notably Cygwin, and
other OSes that mingw32 can use, e.g. ReactOS).

> What is the approbriate way to check for Windows?

Use .Platform$OS.type, which is intended to check for broad classes of
OSes.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 28 14:56:43 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 28 May 2002 13:56:43 +0100 (BST)
Subject: [R] Intended change from version$os=='Win32' to 'mingw32' ?
In-Reply-To: <Pine.LNX.4.31.0205281347490.16537-100000@gannet.stats>
Message-ID: <Pine.LNX.4.31.0205281356020.16706-100000@gannet.stats>

On Tue, 28 May 2002 ripley at stats.ox.ac.uk wrote:

> On Tue, 28 May 2002 oehl_list at gmx.de wrote:
>
> > Is it intended that version$os no longer is 'Win32' for the Windows-Compile?
>
> Yes.  It's a consequence of using autoconf 2.5x to generate config.h.
> In the wider open source world the OS is mingw32, not Windows (and it
> matters as there are other Windows-hosted subsystems, notably Cygwin, and
> other OSes that mingw32 can use, e.g. ReactOS).
>
> > What is the approbriate way to check for Windows?
>
> Use .Platform$OS.type, which is intended to check for broad classes of
> OSes.

Or use machine().

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-news-owner at lists.biostat.wustl.edu  Tue May 28 15:53:45 2002
From: s-news-owner at lists.biostat.wustl.edu (s-news-owner@lists.biostat.wustl.edu)
Date: Tue, 28 May 2002 08:53:45 -0500 (CDT)
Subject: [R] Rejected token 454B-CF13-218A
Message-ID: <200205281353.IAA19875@wubios.wustl.edu>

The mailing list software at WUSM Biostatistics
has received instructions to reject the following command:

  "(post to s-news)"

Some mailing list commands can be the result of an attempted forgery or
mail bombing.  This message is being sent to inform you of everything
that is known about the command that was rejected, to help you determine
who was responsible for initiating the command.  This information is
also being sent to the administrators at biostat.

If you initiated the command, please ignore this message.

If you need help, please write to the administrators at
s-news-owner at lists.biostat.wustl.edu.

The command was initiated on
  Tue May 28 02:00:28 2002 
by 
  R-help <R-help at stat.math.ethz.ch>

If a reason was given for the rejection, it appears here:


Anything that is known about session dcf46ef3d7d8ea244a3128334103ac727d990ea4 
will be included in an attachment.
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020528/4784761d/attachment.pl

From c.schulz at metrinomics.de  Tue May 28 16:01:14 2002
From: c.schulz at metrinomics.de (Christian Schulz)
Date: Tue, 28 May 2002 16:01:14 +0200
Subject: [R] id  & filter problems in data.frame
References: <3CF34016.10304@metrinomics.de> <3CF34F40.A1568747@sentoo.sn> <3CF363FA.8090903@metrinomics.de> <3CF38796.32C9C9F5@sentoo.sn>
Message-ID: <3CF38DAA.1010100@metrinomics.de>

....many  thanks - this would be a big step for advanced learning  in prg. R
Christian



Renaud Lancelot wrote:

>>(2.problem) example:
>>id   filterCriteria    ratingOfSatisfaction        ProductType
>>1        Man
>>1                               60                                A
>>1                               40                                B
>>3       Women
>>3                                20                                A
>>5        Man
>>5                                 40                               A
>>5                                 100                             B
>>5                                  80                              C
>>
>>I know that's no a perfect  database model .
>>
>
>Sure !
>
>>But  the dataset is much longer and now i have got a problem
>>i.e filter the ratingOfSatisfaction with gender!
>>
>>Is there a possibilty to write a function in the really flexible R , which
>>autocount (copy the rows under the first row per ID for the filterCriteria)
>>until a new Id starts and again ....
>>
>
>The following assumes the file is perfect (no missing value). However,
>you will get an idea of what is possible to do. I have copied and pasted
>the example above in a file called "file.txt":
>
>>ProcessFile <- function(file){
>>
>+   Line <- readLines(file)
>+   Line <- tapply(X = seq(along = Line),
>+                  INDEX = seq(along = Line),
>+                  FUN = function(x, Line){
>+                    vec <- unlist(strsplit(x = Line[x], split = " "))
>+                    vec <- vec[vec != ""]
>+                    vec}, Line)
>+   i <- 2; j <- 0
>+   List <- list()
>+   while(i < length(Line)){
>+     xid <- Line[[i]][1]
>+     xCrit <- Line[[i]][2]
>+     i <- i + 1
>+     while(Line[[i]][1] == xid & i < length(Line)){
>+       j <- j + 1
>+       List[[j]] <- data.frame(id = xid, Crit = xCrit,
>+         Sat = as.numeric(Line[[i]][2]), Type = Line[[i]][3])
>+       i <- i + 1
>+       }
>+     }
>+     do.call("rbind", List)
>+   }
>
>>test <- ProcessFile(file = "d:\\analyses\\travail\\file.txt")
>>test
>>
>   id  Crit Sat Type
>1   1   Man  60    A
>11  1   Man  40    B
>12  3 Women  20    A
>13  5   Man  40    A
>14  5   Man 100    B
>15  5   Man  80    C
>
>Then:
>
>>tapply(test$Sat, test$Crit, mean)
>>
>  Man Women 
>   64    20 
>
>>tapply(X = test$Sat, test$Crit, table)
>>
>$Man
>
> 40  60  80 100 
>  2   1   1   1 
>
>$Women
>
>20 
> 1 
>
>>tapply(as.factor(test$Sat), test$Crit, table)
>>
>$Man
>
> 20  40  60  80 100 
>  0   2   1   1   1 
>
>$Women
>
> 20  40  60  80 100 
>  1   0   0   0   0 
>
>etc.
>
>Hope this helps,
>
>Renaud
>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020528/944d8d54/attachment.html

From jrgonzalez at ico.scs.es  Tue May 28 16:10:06 2002
From: jrgonzalez at ico.scs.es (Juan Ramon Gonzalez)
Date: Tue, 28 May 2002 16:10:06 +0200
Subject: [R] problems with rcmd check
Message-ID: <004d01c20651$5ed489a0$1100a8c0@ico.scs.es>

Hello,

I have developed a R package. When I pass it through the rcmd check command
(windows 98) to see if it is ok, everything  works fine until there is a
call to the program "sh.exe". It seems that rcmd calls it with the
option --c, but it doesn't seem to be a legal option. After that, when rcmd
tries to create a directory inside the "package_name.Rcheck" directory there
is an error and after that the execution of rcmd stops.

I would appreciate if you could help me. Thank you very much,

Juan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Giles.Heywood at CommerzbankIB.com  Tue May 28 16:12:04 2002
From: Giles.Heywood at CommerzbankIB.com (Heywood, Giles)
Date: Tue, 28 May 2002 15:12:04 +0100
Subject: [R] constrained regression
Message-ID: <8CBAA121CEB4D5118CB200508BB2BBEF53FFA0@xmx8lonib.lonib.commerzbank.com>

I want to do a linear regression where the coefficients 
obey two linear constraints, and also are all non-negative.
What is the best way to do this? Computational speed is a 
consideration as I must do it many times.

When this question was asked previously on the list, quadprog
was suggested - is this the best solution?

(I may have missed something obvious in the documentation, 
but I have looked).

thanks

Giles


********************************************************************** 
This communication is confidential and is intended only for 
the person to whom it is addressed.  If you are not that person you
are not permitted to make use of the information and you are requested 
to notify <mailto:LONIB.Postmaster at commerzbankib.com> immediately that 
you have received it and then destroy the copy in your possession.
Commerzbank AG is regulated by the FSA for the conduct of investment
business in the UK.
**********************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cardot at toulouse.inra.fr  Tue May 28 16:26:09 2002
From: cardot at toulouse.inra.fr (Herve Cardot)
Date: Tue, 28 May 2002 16:26:09 +0200
Subject: [R] peaks
Message-ID: <3CF39381.B2A9F910@toulouse.inra.fr>

I am looking for a function in R that is  equivalent to the function
"peaks" in
Splus. This function  gives the local maxima of a vector.
I do not find it using the help and I 'm not sure it exits in R.

Could someone help me ?
Thanks,

Herve Cardot


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.adorjan at epigenomics.com  Tue May 28 18:47:33 2002
From: peter.adorjan at epigenomics.com (Peter Adorjan)
Date: Tue, 28 May 2002 18:47:33 +0200
Subject: [R] Job Opening
Message-ID: <3CF3B4A5.2AE59480@epigenomics.com>

Senior data analysis, biostatistics expert 
  Epigenomics AG  (Berlin, Germany)   
  www.epigenomics.com


You will lead our efforts to develop and apply statistical and visualization
techniques to analysis and quality control of high-dimensional methylation
microarray-data. You will support statistical experimental design in diagnostics
and pharmaceutical research. You will analyze data in close cooperation with
life scientists and external partners.

You hold a university degree (MS, PhD) in a relevant field (statistics,
biometrics, computer science, mathematics or physics) and have more than 3 years
of experience in applying statistical methods to real word problems. Experience
with statistical applications in biotechnology or pharmaceutical research would
be desirable. Strong analytical skills are essential and experience with machine
learning methods is preferred. You master R/S-Plus, Matlab or SAS; experience
with software development is advantageous (C++, Java,  CORBA, relational
databases, XML). You can efficiently turn ideas into practical software
solutions. You are an independent, creative scientist with excellent
communication skills. You are able to plan and supervise research and also able
to provide effective solutions within a constrained time. You know how to work
at an interdisciplinary nodal position between the life sciences and statistics.
Ideally, you have experience in project- and/or team-management.

We are looking forward to receiving your application. Please apply in English or
German snail-mail or email to 

  Mrs. Silke Peitsch, careers at epigenomics.com. 
  Kleine Pr?sidentenstra?e 1    Fax: +49-30-24345-555
  Berlin  10178 Germany         Phone: +49-30-24345-0
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue May 28 18:50:33 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 28 May 2002 09:50:33 -0700 (PDT)
Subject: [R] logit regression, test among groups
In-Reply-To: <5.1.0.14.2.20020528065826.00aae9a8@po.muohio.edu>
Message-ID: <Pine.A41.4.44.0205280945170.53892-100000@homer16.u.washington.edu>

On Tue, 28 May 2002, Martin Henry H. Stevens wrote:

>
> Dear all:
> My logistic regression model includes one qualitative and one quantitative
> predictor variable,
>
> aes <- glm(p.a ~ spp * log(light), family=binomial(link=logit)),
>
> where spp is abundance of 3 species and light is subcanopy light
> availability varying from 0  1.
>
>   I want to test differences among levels of the quantitative variable at a
> value of x other than the current log(light)=0.  I tried using
> I(log(light+.5)) but this caused serious lack of fit (AIC went from 1574 to
> 1656, and diagnostic plots demonstrated poor fit). How would create a model
> statement such that I test differences among groups at log(light)=approx. 2?
> Many thanks.


 aes <- glm(p.a ~ spp * I(log(light)-log(0.5)),
		family=binomial(link=logit)),

will test at light==0.5, and so on.

Theoretically it's horribly inefficient to waste perhaps whole tenths of a
second refitting the model when you can in fact compute these contrasts
from the fitted parameters and covariance matrices, and Frank Harrell's
solution is much nicer.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fugate at kanab.c3.lanl.gov  Tue May 28 18:51:53 2002
From: fugate at kanab.c3.lanl.gov (Michael Lynn Fugate)
Date: Tue, 28 May 2002 10:51:53 -0600 (MDT)
Subject: [R] random Forests
Message-ID: <Pine.LNX.4.33.0205281035470.10277-100000@kanab.c3.lanl.gov>

Hi,

I have a data set with 1000 observations and 260 predictors.  The
predictor variables are all ordinal.  There are 2 classes labeled as, F
and T with class proportions of 0.44 and 0.56, respectively.

In a call to the function randomForest() with mytry=1 and nodesize=1 and
ntree=100 the resulting classifier puts all observations in class T.
When I change nodesize to nodesize=5 I get the following error message:

 Error in array(rfout$treemap, dim = c(2, nrnodes, ntree)) :
	dim<- length of dims do not match the length of object

Higher values of nodesize also result in this error message but values
of nodesize less than 5 do not.

I'm using R-1.5.0 on a Linux box and I installed the randomForest package
during the week 13 May 2002.

Thanks in advance.

mike


-- 

******************************************************************
| Michael Fugate                         Phone:  (505) 667-0398  |
| Los Alamos National Laboratory         Fax:    (505) 665-5220  |
| Group: CCS-3,  Mail Stop: B265         e-mail: fugate at lanl.gov |
| Los Alamos, NM 87545                                           |
******************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue May 28 19:03:59 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 28 May 2002 10:03:59 -0700 (PDT)
Subject: [R] peaks
In-Reply-To: <3CF39381.B2A9F910@toulouse.inra.fr>
Message-ID: <Pine.A41.4.44.0205280952130.53892-100000@homer16.u.washington.edu>

On Tue, 28 May 2002, Herve Cardot wrote:

> I am looking for a function in R that is  equivalent to the function
> "peaks" in
> Splus. This function  gives the local maxima of a vector.
> I do not find it using the help and I 'm not sure it exits in R.
>

It should be something like

peaks<-function(x, max=TRUE,na.rm=FALSE){
	if (na.rm)
	   omit<-is.na(x)
	else
	   omit<-FALSE
	if (max)
	  rval<-1+which(diff(sign(diff(x[!omit])))<0)
	else
	  rval<-1+which(diff(sign(diff(x[!omit])))>0)
	if (na.rm){
	  rval<-rval+cumsum(omit)[rval]
	}
	rval
}

This version doesn't allow the first or last observation to be a peak
(and if na.rm=FALSE one before or after a NA can't be a peak either),
which is a matter of definition -- I've never used the S-PLUS function so
I don't know what it does. Use max=FALSE to get `valleys'.



	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laura at bayesian-bay.freeserve.co.uk  Tue May 28 18:20:41 2002
From: laura at bayesian-bay.freeserve.co.uk (laura@bayesian-bay.freeserve.co.uk)
Date: Tue, 28 May 2002 16:20:41 +0000
Subject: [R] Missing values in the nlme package
Message-ID: <20020528162041.FMZH17944.fep06-svc.ttyl.com@localhost>

Hi,

I am using the nlme package to fit random effects models, however, I
have many missing values in my response variable which I cannot just
omit. 

I can't replace the missing values with the mean or median either as
this is too simple and would need to use something like imputation or
the EM Algorithm.

Is there any way of including these missing values since the model will
not run when they are left as NA.

Many thanks in advance
Laura




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue May 28 19:38:53 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 28 May 2002 18:38:53 +0100 (BST)
Subject: [R] Missing values in the nlme package
In-Reply-To: <20020528162041.FMZH17944.fep06-svc.ttyl.com@localhost>
Message-ID: <Pine.LNX.4.31.0205281834240.18287-100000@gannet.stats>

On Tue, 28 May 2002 laura at bayesian-bay.freeserve.co.uk wrote:

> Hi,
>
> I am using the nlme package to fit random effects models, however, I
> have many missing values in my response variable which I cannot just
> omit.
>
> I can't replace the missing values with the mean or median either as
> this is too simple and would need to use something like imputation or
> the EM Algorithm.
>
> Is there any way of including these missing values since the model will
> not run when they are left as NA.

These are missing _response_ values.  You have not told us why they are
missing.  If they are missing completely at random you may as well omit
the rows altogether.  If missingness is informative, you will need to
model the missingness (and probably use multiple imputation).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mpb170 at psu.edu  Tue May 28 20:15:49 2002
From: mpb170 at psu.edu (MATT BORKOWSKI)
Date: Tue, 28 May 2002 14:15:49 -0400 (EDT)
Subject: [R] Complitation Error
Message-ID: <200205281815.OAA09619@webmail5.cac.psu.edu>

I'm attempting to run a function that I wrote by first typing:
>cruisesort <- emacs(function(){})

then pasting my function code into the window.  When I exit the window I 
receive the following compilation error.
>Error in edit(name, file, editor): An error occured on line 71

Line 71 reads as follows:
cruisenames <- c("cruise names")

I'm not sure exactly what the error message means so I haven't really been 
able to try much to fix the problem.  Can anyone give me an idea at what that 
error message might be getting at so I can have a starting point.  The strange
thing is, that section of code is also in a shorter function I had written that
ran fine.

I tried changing the line a bit and fixing the function up to simply run as a
source code.  Again when I try to run it I receive, but on a different line of
the program:
>Error in parse (file, n, text, prompt): Syntax error on line 75

Line 75:
condition <- "true"

Again, any information on these error messages and things I might look at
as being the source of the problem would be greatly appreciated.

Thanks,
Matt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wviechtb at s.psych.uiuc.edu  Tue May 28 20:40:13 2002
From: wviechtb at s.psych.uiuc.edu (Wolfgang Viechtbauer)
Date: Tue, 28 May 2002 13:40:13 -0500 (CDT)
Subject: [R] Indexing Elements of a Dataframe
Message-ID: <Pine.SOL.4.30.0205281322480.22130-100000@s.psych.uiuc.edu>

Hello List-Members,

Let's say that I have the following code:

for (i in c(10, 20, 30)) {
  for (j in c(200, 400, 600)) {
    ...
    ...
    x <- "something"
    * (code here)
  }
}

* Now, x is some result that I want to put into a results "matrix" that
looks like this:

   200 400 600
10
20
30

I came up with an ad-hoc solution adding some counters (called "ro" and
"co") and using a matrix for the results, which I could index with those
counters (results[ro,co] <- x) and then converting that matrix into a
dataframe and changing the row and column names. That seems a little too
convoluted.

I tried to come up with a "neater" solution, trying to create a
dataframe that looks like the one above and then indexing the fields in
the dataframe by results$i[j] but I couldn't get it to work. Is there a
way of doing this or maybe a better solution?

Thanks in advance!

Wolfgang

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Tue May 28 21:31:35 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Tue, 28 May 2002 16:31:35 -0300
Subject: [R] Design library
In-Reply-To: <004d01c20651$5ed489a0$1100a8c0@ico.scs.es>
Message-ID: <4.2.2.20020528162547.00aa1ec0@pop3.arnet.com.ar>

Hello,
Can anybody point me where I can find the design library? I have seen it 
mentioned several times, but it is not in the list of available packages in 
the R website.
Thanks
Daniel


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Tue May 28 21:53:36 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Tue, 28 May 2002 15:53:36 -0400
Subject: [R] Design library
In-Reply-To: <4.2.2.20020528162547.00aa1ec0@pop3.arnet.com.ar>
References: <004d01c20651$5ed489a0$1100a8c0@ico.scs.es>
	<4.2.2.20020528162547.00aa1ec0@pop3.arnet.com.ar>
Message-ID: <20020528155336.737fed15.fharrell@virginia.edu>

It is at http://hesweb1.med.virginia.edu/biostat/s/Design.html . It requires the Hmisc library too.  Soon I will submit both Hmisc and Design to CRAN.

Frank Harrell

On Tue, 28 May 2002 16:31:35 -0300
Daniel Mastropietro <mastropi at uwalumni.com> wrote:

> Hello,
> Can anybody point me where I can find the design library? I have seen it 
> mentioned several times, but it is not in the list of available packages in 
> the R website.
> Thanks
> Daniel
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue May 28 22:07:11 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 May 2002 22:07:11 +0200
Subject: [R] Indexing Elements of a Dataframe
In-Reply-To: <Pine.SOL.4.30.0205281322480.22130-100000@s.psych.uiuc.edu>
References: <Pine.SOL.4.30.0205281322480.22130-100000@s.psych.uiuc.edu>
Message-ID: <x2it58yr2o.fsf@blueberry.kubism.ku.dk>

Wolfgang Viechtbauer <wviechtb at s.psych.uiuc.edu> writes:

> Hello List-Members,
> 
> Let's say that I have the following code:
> 
> for (i in c(10, 20, 30)) {
>   for (j in c(200, 400, 600)) {
>     ...
>     ...
>     x <- "something"
>     * (code here)
>   }
> }
> 
> * Now, x is some result that I want to put into a results "matrix" that
> looks like this:
> 
>    200 400 600
> 10
> 20
> 30
> 
> I came up with an ad-hoc solution adding some counters (called "ro" and
> "co") and using a matrix for the results, which I could index with those
> counters (results[ro,co] <- x) and then converting that matrix into a
> dataframe and changing the row and column names. That seems a little too
> convoluted.
> 
> I tried to come up with a "neater" solution, trying to create a
> dataframe that looks like the one above and then indexing the fields in
> the dataframe by results$i[j] but I couldn't get it to work. Is there a
> way of doing this or maybe a better solution?

The canonical way is

f <- function(i,j) <<something>>

ilist <- c(10,20,30)
jlist <- c(200,400,600)

names(ilist) <- ilist
names(jlist) <- jlist

outer(ilist, jlist, f)

Notice that f should be vectorized, i.e. accept vectors for i and j.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bojaniss at poczta.onet.pl  Tue May 28 22:47:54 2002
From: bojaniss at poczta.onet.pl (Michal Bojanowski)
Date: Tue, 28 May 2002 22:47:54 +0200
Subject: [R] Indexing Elements of a Dataframe
In-Reply-To: <Pine.SOL.4.30.0205281322480.22130-100000@s.psych.uiuc.edu>
References: <Pine.SOL.4.30.0205281322480.22130-100000@s.psych.uiuc.edu>
Message-ID: <15627690057.20020528224754@poczta.onet.pl>

Hello Wolfgang,

Tuesday, May 28, 2002, 8:40:13 PM, you wrote:

WV> Hello List-Members,

WV> Let's say that I have the following code:

WV> for (i in c(10, 20, 30)) {
WV>   for (j in c(200, 400, 600)) {
WV>     ...
WV>     ...
WV>     x <- "something"
WV>     * (code here)
WV>   }
WV> }

WV> * Now, x is some result that I want to put into a results "matrix" that
WV> looks like this:

WV>    200 400 600
WV> 10
WV> 20
WV> 30

WV> I came up with an ad-hoc solution adding some counters (called "ro" and
WV> "co") and using a matrix for the results, which I could index with those
WV> counters (results[ro,co] <- x) and then converting that matrix into a
WV> dataframe and changing the row and column names. That seems a little too
WV> convoluted.

WV> I tried to come up with a "neater" solution, trying to create a
WV> dataframe that looks like the one above and then indexing the fields in
WV> the dataframe by results$i[j] but I couldn't get it to work. Is there a
WV> way of doing this or maybe a better solution?

WV> Thanks in advance!

WV> Wolfgang

It depends on what you're going to do . That is, how the 'x' elements of the
resulting matrix are computed, are they only a functions of those vectors being
indexed?. If so, I would consider using outer() function (see help), it is a one
of many functions which allow, among other things, "implicit looping".

Please give some more information.

-- 
Best regards,
 Michal Bojanowski               mailto:bojaniss at poczta.onet.pl

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Tue May 28 23:53:19 2002
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 28 May 2002 17:53:19 -0400
Subject: [R] Indexing Elements of a Dataframe
In-Reply-To: <Pine.SOL.4.30.0205281322480.22130-100000@s.psych.uiuc.edu>
Message-ID: <5.1.0.14.2.20020528174704.01d7a678@mcmail.cis.mcmaster.ca>

Dear Wolfgang,

I'm not sure exactly what you want to do, or why the result needs to be a 
data frame, but what about something like the following?

     > rows <- c(10, 20, 30)
     > cols <- c(200, 400, 600)
     > df <- as.data.frame(outer(rows, cols, function(r, c) r + c))
     > row.names(df) <- letters[1:3]
     > names(df) <- LETTERS[1:3]
     > df
         A   B   C
     a 210 410 610
     b 220 420 620
     c 230 430 630

Or perhaps you want the elements of rows and cols as row and column names:

     > row.names(df) <- rows
     > names(df) <- cols
     > df
        200 400 600
     10 210 410 610
     20 220 420 620
     30 230 430 630

Of course, you'd replace the function argument to outer with an appropriate 
function.


I hope that this helps,
  John

At 01:40 PM 5/28/2002 -0500, Wolfgang Viechtbauer wrote:

>Let's say that I have the following code:
>
>for (i in c(10, 20, 30)) {
>   for (j in c(200, 400, 600)) {
>     ...
>     ...
>     x <- "something"
>     * (code here)
>   }
>}
>
>* Now, x is some result that I want to put into a results "matrix" that
>looks like this:
>
>    200 400 600
>10
>20
>30
>
>I came up with an ad-hoc solution adding some counters (called "ro" and
>"co") and using a matrix for the results, which I could index with those
>counters (results[ro,co] <- x) and then converting that matrix into a
>dataframe and changing the row and column names. That seems a little too
>convoluted.
>
>I tried to come up with a "neater" solution, trying to create a
>dataframe that looks like the one above and then indexing the fields in
>the dataframe by results$i[j] but I couldn't get it to work. Is there a
>way of doing this or maybe a better solution?

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Tue May 28 23:57:15 2002
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 28 May 2002 16:57:15 -0500
Subject: [R] histogramming dates
Message-ID: <87heksj5qc.fsf@lumen.indyrad.iupui.edu>

I'd like to make a plot showing frequency of an event.  The data
is in a data from that includes Year, Month and Day (of month)
fields, so I created a Date with ISOdate(Year, Month, Day,
tz='').  I can plot frequencies for the year 2002 with

  > thisyear <- Date[Year==2002]
  > hist( thisyear, xaxt='n' )
  > axis.POSIXct( 1, at=seq(min(thisyear), max(thisyear), by="month"),
                 format='%b %Y' )

Now I want to specify the histogram breaks so that there is one
bin per month, so I tried this:

  > hist( thisyear,
       breaks=ISOdate( rep(2002,12), seq(12), rep(1,12), tz='' ),
       xaxt='n' )

That resulted in an error message that said:

  Error in Ops.POSIXt(1e-07, mean(h)) : * not defined for POSIXt objects

Can anyone suggest a way to do this?  Or another method for
plotting this sort of month by month frequency plot?  For a
single year I could histogram the month, but I'd like to be able
to span any date range, including multiple years.

Mike

-- 
Michael A. Miller                               mmiller3 at iupui.edu
  Imaging Sciences, Department of Radiology, IU School of Medicine
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Wed May 29 00:25:15 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Wed, 29 May 2002 10:25:15 +1200
Subject: [R] Why does this work?
References: <OF4EA4F1E9.AA9644A1-ON86256BBF.00683189@mmm.com>
Message-ID: <3CF403CB.B6B94059@stat.auckland.ac.nz>

Hi


> I waxs just checking examples in lattice levelplot and I ran into this
> strange (?) behavior I do not understand.
> 
> Here is the example:
> 
>      x <- seq(pi/4, 5*pi, length = 100)
>      y <- seq(pi/4, 5*pi, length = 100)
>      r <- sqrt(outer(x^2, y^2, "+"))
>      grid <- expand.grid(x=x, y=y)
> 
> At this point grid is a 10000*2 data frame and r is a 100*100 matrix.  Now
> comes a surprising part.
> 
>      grid$z <- cos(r^2) * exp(-r/(pi^3))
> 
> This does not generate any error.  But typing
> 
>      grid
> 
> produces
> 
>       Error in data.frame(x = c(" 0.7853982", " 0.9361311", " 1.0868641", "
> 1.2375971",  :
>              arguments imply differing number of rows: 10000, 100
> 
> Moreover
> 
>      dim(grid)
>      [1] 10000     3
> 
> but
> 
>      grid[1:5, ]
> 
> produces an output with 102 columns named x, y, z.1, ..., z.100
> 
> and
> 
>      grid[101, ]
> 
> produces "subscript out of bound" error.
> 
> Finally
> 
>      levelplot(z~x*y, grid, cuts = 50, xlab="", ylab="", main="Weird
> Function", colorkey = FALSE)
> 
> generates a proper contour plot.  Could somebody explain to me why this
> actually works?  Thanks in advance,


I think the problem is that grid$z has a "dim" attribute which means
that it is being treated as a matrix in some of the cases above. 
Compare ...

	attributes(grid$x)
	attributes(grid$y)
	attributes(grid$z)

... You can also see this if you just do ...

	grid$x
	grid$y
	grid$z

... grid$x and grid$y are just vectors of 10000 values, but grid$z is a
100x100 matrix of values.  Now, if you define grid$z as ...

      grid$z <- as.numeric(cos(r^2) * exp(-r/(pi^3)))

... ALL of your examples work (grid$z no longer has a "dim" attribute). 
The examples that worked before were presumably doing an explicit
as.numeric() conversion already (or were just not checking for the "dim"
attribute).

Hope that helps.

Paul
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Wed May 29 01:00:26 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Wed, 29 May 2002 11:00:26 +1200
Subject: [R] white in the default palette
References: <FAD37E46320F154CA434D82BBFE41CE014C9E2@dc-server.forest.go.th>
Message-ID: <3CF40C0A.C4474B87@stat.auckland.ac.nz>

Hi


> [I'd already sent this message earlier (Apr 6) but as I had no response
> and I still see that it is the case in R1.5 I thought I'd try again]
> 
> I recently encountered a problem (actually missed some data) because
> "white" is one of colours in the "default" palette and that does not
> show up to well on my transparent (on white background). Of course it is
> 
> easily fixed but I think white should not be a default colour.
> 
> > palette("default")
> > palette()
> [1] "black" "red" "green3" "blue" "cyan" "magenta" "yellow"
> 
> [8] "white"
> > par()$bg
> [1] "transparent"


Apologies for not responding to your first email on this topic.

I think there is fairly general agreement that the default colour
palette that R provides is not terribly clever, and having "white" as
one of the defaults is possibly the least clever part :)

We are currently discussing the possibility of providing some more
sensible default palettes, but these are a little way off yet.  

In the meantime, are there any objections to changing "white" to "grey"
in the default palette?

Paul
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Wed May 29 01:15:11 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Wed, 29 May 2002 11:15:11 +1200
Subject: [R] extracting labels and axis info from plot
References: <3CEBDB8D.504@ic.ac.uk>
Message-ID: <3CF40F7F.3D32A905@stat.auckland.ac.nz>

Hi


> I would like to extract from a plot the text strings of the axis labels,
> and the ticks labels. I can get the extremes and step size for the ticks
> with par("yaxp"), but what about the axis labels?


The axis labels are not recorded in par() like the axis tick locations.

You could use the same function calls that the default plotting routines
use to determine default axis labels.  The following example does this
sort of thing ...

myplot <- function(x, y, xlab=NULL, ylab=NULL, ...) {
  if (is.null(xlab))
    xlab <- deparse(substitute(x))
  if (is.null(ylab))
    ylab <- deparse(substitute(y))
  plot(x, y, xlab=xlab, ylab=ylab, ...)
  list(xlab, ylab)
}
myplot(1:10, rnorm(10))

Hope that helps

Paul
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Wed May 29 03:15:43 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Wed, 29 May 2002 13:15:43 +1200
Subject: [R] using axis with newline characters
References: <OF990EBF23.60BC7943-ONC1256BC0.0038F06B@is.chbs>
Message-ID: <3CF42BBF.45AC8714@stat.auckland.ac.nz>

Hi


> Wondering if I missed anything or if that's a problem with R:
> I want to have many x axis tickmarks and labels such that it makes sense to put them on multiple "lines".
> The newline character seems to be ignored though for axis labels:
> 
> plot(1:33, axes=F)
> axis(1, 9, 9)
> axis(1, 11, "\n11")
> axis(1)


The problem here is that axis() (and mtext()) control the vertical
adjustment of text (based on the setting of par(las)).  The whole piece
of text "\n11" is being bottom-adjusted in your example.  This is easier
to see if you add the following command to your example ...

	axis(1, 13, "one\ntwo")

... does the following example let you do what you want?

	plot(1:33, axes=F)
	par(mgp=c(3, 2, 0))
	axis(1, at=c(seq(0, 30, 5), 8, 12),
	     labels=c(paste(seq(0, 30, 5), "\n"), "8\n", "\n12"))

Paul
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Wed May 29 03:37:36 2002
From: macq at llnl.gov (Don MacQueen)
Date: Tue, 28 May 2002 18:37:36 -0700
Subject: [R] histogramming dates
In-Reply-To: <87heksj5qc.fsf@lumen.indyrad.iupui.edu>
References: <87heksj5qc.fsf@lumen.indyrad.iupui.edu>
Message-ID: <a05111700b919e0d748ad@[192.168.1.100]>

One way would be to convert to POSIXlt and extract the month element. 
Then you should be able to tabulate the number of events in each 
month, and make a barplot of those.
-Don

At 4:57 PM -0500 5/28/02, Michael A. Miller wrote:
>I'd like to make a plot showing frequency of an event.  The data
>is in a data from that includes Year, Month and Day (of month)
>fields, so I created a Date with ISOdate(Year, Month, Day,
>tz='').  I can plot frequencies for the year 2002 with
>
>   > thisyear <- Date[Year==2002]
>   > hist( thisyear, xaxt='n' )
>   > axis.POSIXct( 1, at=seq(min(thisyear), max(thisyear), by="month"),
>                  format='%b %Y' )
>
>Now I want to specify the histogram breaks so that there is one
>bin per month, so I tried this:
>
>   > hist( thisyear,
>        breaks=ISOdate( rep(2002,12), seq(12), rep(1,12), tz='' ),
>        xaxt='n' )
>
>That resulted in an error message that said:
>
>   Error in Ops.POSIXt(1e-07, mean(h)) : * not defined for POSIXt objects
>
>Can anyone suggest a way to do this?  Or another method for
>plotting this sort of month by month frequency plot?  For a
>single year I could histogram the month, but I'd like to be able
>to span any date range, including multiple years.
>
>Mike
>
>--
>Michael A. Miller                               mmiller3 at iupui.edu
>   Imaging Sciences, Department of Radiology, IU School of Medicine
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ken_lee at tynesys.com  Wed May 29 05:27:49 2002
From: ken_lee at tynesys.com (ken_lee)
Date: Wed, 29 May 2002 11:27:49 +0800
Subject: [R] Error: cannot allocate vector of size 8000 Kb
In-Reply-To: <1022564012.3cf316aca9fdf@posta.manas.kg>
Message-ID: <IPECKKKLFINFHEGMEKKGGEOMCAAA.ken_lee@tynesys.com>

Dear all,
      When I read a file (>8000Kb) should be got the error message,but could I have any method to detect the file size ?

Thanks.

Ken 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From holki659 at student.otago.ac.nz  Wed May 29 07:17:53 2002
From: holki659 at student.otago.ac.nz (holki659@student.otago.ac.nz)
Date: Wed, 29 May 2002 17:17:53 +1200
Subject: [R] Coercion/conversion of logical index to integer index
Message-ID: <MG4WWQC9IGYFAA69441E043EAMKUREB.3cf46481@cyto0012>


Hi all,

This question has significant potential to be a stupid one, but as I could find no hints in 
the manual or previous posts:

If you have a logical index X:

>X
[1] TRUE FALSE TRUE TRUE FALSE

And you want an equivalent integer index Y:

>Y
[1] 1 3 4

Is there no easy way?  (I'm thinking of the equivalent of FIND in Matlab)


Kieran


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 29 08:43:55 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 29 May 2002 07:43:55 +0100 (BST)
Subject: [R] histogramming dates
In-Reply-To: <a05111700b919e0d748ad@[192.168.1.100]>
Message-ID: <Pine.GSO.4.44.0205290741120.23418-100000@auk.stats>

On Tue, 28 May 2002, Don MacQueen wrote:

> One way would be to convert to POSIXlt and extract the month element.
> Then you should be able to tabulate the number of events in each
> month, and make a barplot of those.
> -Don

This is done for you automatically by the seq method for dates.
However, the issue here is I think that `breaks' needs to be numeric,
so you need to unclass the value given.

>
> At 4:57 PM -0500 5/28/02, Michael A. Miller wrote:
> >I'd like to make a plot showing frequency of an event.  The data
> >is in a data from that includes Year, Month and Day (of month)
> >fields, so I created a Date with ISOdate(Year, Month, Day,
> >tz='').  I can plot frequencies for the year 2002 with
> >
> >   > thisyear <- Date[Year==2002]
> >   > hist( thisyear, xaxt='n' )
> >   > axis.POSIXct( 1, at=seq(min(thisyear), max(thisyear), by="month"),
> >                  format='%b %Y' )
> >
> >Now I want to specify the histogram breaks so that there is one
> >bin per month, so I tried this:
> >
> >   > hist( thisyear,
> >        breaks=ISOdate( rep(2002,12), seq(12), rep(1,12), tz='' ),
> >        xaxt='n' )
> >
> >That resulted in an error message that said:
> >
> >   Error in Ops.POSIXt(1e-07, mean(h)) : * not defined for POSIXt objects
> >
> >Can anyone suggest a way to do this?  Or another method for
> >plotting this sort of month by month frequency plot?  For a
> >single year I could histogram the month, but I'd like to be able
> >to span any date range, including multiple years.
> >
> >Mike
> >
> >--
> >Michael A. Miller                               mmiller3 at iupui.edu
> >   Imaging Sciences, Department of Radiology, IU School of Medicine
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 29 08:44:54 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 29 May 2002 07:44:54 +0100 (BST)
Subject: [R] Error: cannot allocate vector of size 8000 Kb
In-Reply-To: <IPECKKKLFINFHEGMEKKGGEOMCAAA.ken_lee@tynesys.com>
Message-ID: <Pine.GSO.4.44.0205290744280.23418-100000@auk.stats>

On Wed, 29 May 2002, ken_lee wrote:

> Dear all,
>       When I read a file (>8000Kb) should be got the error message,but could I have any method to detect the file size ?

file.info()


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 29 08:47:31 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 29 May 2002 07:47:31 +0100 (BST)
Subject: [R] Coercion/conversion of logical index to integer index
In-Reply-To: <MG4WWQC9IGYFAA69441E043EAMKUREB.3cf46481@cyto0012>
Message-ID: <Pine.GSO.4.44.0205290745310.23418-100000@auk.stats>

On Wed, 29 May 2002 holki659 at student.otago.ac.nz wrote:

>
> Hi all,
>
> This question has significant potential to be a stupid one, but as I could find no hints in
> the manual or previous posts:
>
> If you have a logical index X:
>
> >X
> [1] TRUE FALSE TRUE TRUE FALSE
>
> And you want an equivalent integer index Y:
>
> >Y
> [1] 1 3 4
>
> Is there no easy way?  (I'm thinking of the equivalent of FIND in Matlab)

seq(along=X)[X] is easy enough, and which(X) is even easier (to use, if
unnecessarily complex here).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brostaux.y at fsagx.ac.be  Wed May 29 09:58:21 2002
From: brostaux.y at fsagx.ac.be (Yves Brostaux)
Date: Wed, 29 May 2002 09:58:21 +0200
Subject: [R] id  & filter problems in data.frame
In-Reply-To: <200205290201.EAA26486@stat.math.ethz.ch>
Message-ID: <5.1.0.14.1.20020529094825.022e5b50@fusamail.fsagx.ac.be>

Hello,

>Date: Tue, 28 May 2002 10:30:14 +0200
>From: Christian Schulz <c.schulz at metrinomics.de>
>Subject: [R] id  & filter problems in data.frame
>
>Hi,
>a questionaire data-set with more than one row for one Person make
>me problems.
>
>(1) i want create a function which count the used
>row for the relevant id !
>example:
>id  c.row
>1    1
>1    2
>1    3
>2    1
>2    2
>4    1
>4    2
>4    3
>4    4
>4    5

I think the following function should do the trick (obtaining c.row from id 
if I understood well the problem) :

count <- function(id) {
   temp <- tapply(id, id, function(x) {x <- rep(1, length(x)); cumsum(x)})
   temp <- unlist(temp)
   names(temp) <- NULL
   return(temp)
}

 > id <- rep(c(1, 2, 4), c(3, 2, 5))
 > id
  [1] 1 1 1 2 2 4 4 4 4 4
 > c.row <- count(id)
 > c.row
  [1] 1 2 3 1 2 1 2 3 4 5

>(2)  i have got a problem to filter & analyse , because the filter
>criteria is unlucky
>a row above or under the ratings which i would like to analyse !

I fear I don't understand what you want to do...


>Thanks for any suggestions/starting point
>Christian Schulz

I hope it helped a bit !

Y. Brostaux

>Metrinomics GmbH
>Fon: +49 (0)30  69 51 71 - 16
>Fax: +49 (0)30  69 51 71 - 33
>mailto:c.schulz at metrinomics.de
>http://www.metrinomics.de
>
>
>- 
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

=====================================================================
         YVES BROSTAUX - Ing?nieur agronome Orientation Eaux & For?ts
         Assistant - Unit? de Statistique et Informatique
         Gembloux Agricultural University
         8, avenue de la Facult? B-5030 Gembloux (Belgium)
      T?l:      +32 (0)81 62 24 69
      E-mail :  brostaux.y at fsagx.ac.be
=====================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joshi at engr.orst.edu  Wed May 29 10:38:24 2002
From: joshi at engr.orst.edu (Saket Joshi)
Date: Wed, 29 May 2002 01:38:24 -0700 (PDT)
Subject: [R] prediction of non-numeric values
In-Reply-To: <MG4WWQC9IGYFAA69441E043EAMKUREB.3cf46481@cyto0012>
Message-ID: <Pine.GSO.4.31.0205290128560.27412-100000@flop.ENGR.ORST.EDU>

Hi,

I used the lm() function to fit a linear model to a set of items that I
got from a file using the read.table() function.

The response variable in this case is non-numeric.

When I used some of the data in the same file and tried to predict the
response variable for the first 5 rows by doing:

> pred <- predict(model, newdata)
> pred
        1         2         3         4         5
37.890006 82.584161 30.794062  3.796456 41.568923

The predictions should have been those non-numeric values that were in the
response variable field when I fitted the model. Now I want to compare and
see if the predictions are correct. Can someone tell me how to extract
those non-numeric values from this.

Thanks in advance.
-Saket.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Wed May 29 10:39:19 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Wed, 29 May 2002 08:39:19 +0000
Subject: [R] graphics in help files
Message-ID: <3CF493B7.57B01706@sentoo.sn>

Dear all,

platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status   Patched        
major    1              
minor    5.0            
year     2002           
month    05             
day      15             
language R 

Is there a way to include a graph in a help file (Rd file processed with
make pkg-mypkg) ?

Thanks in advance,

Renaud

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kumarj at cse.ogi.edu  Wed May 29 10:59:24 2002
From: kumarj at cse.ogi.edu (Krishna Kumar)
Date: Wed, 29 May 2002 01:59:24 -0700
Subject: [R] RSPerl -- install problems.
Message-ID: <3CF4986C.4356F0C0@cse.ogi.edu>

Folks,
I  am having trouble installing RSPerl on a redhat 6.x box, in which i
am an ordinary user,
the R install is done as a shared library.  I get the following message
when i do a
R INSTALL  RSPerl

Any help would be greatly appreciated,

thanks & regards
Krishna

----------------------------------------------------------------------------

Support R in Perl:
updating cache ./config.cache
creating ./config.status
creating src/Makevars
creating R/RSUtils.S
creating inst/scripts/RSPerl.csh
creating src/RinPerlMakefile
creating src/Makefile.PL
making RinPerlMakefile
gcc -I/kumarj/projects/R-1.5.0/include -I.  -Dbool=char -DHAS_BOOL -I/
usr/local/include  -I/usr/lib/perl5/5.00503/i386-linux/CORE
-DPERL_POLLUTE -D_R_
=1 -DUSE_R=1 -DUSE_TOPLEVEL_EXEC=1 -I/usr/local/include
-D__NO_MATH_INLINES -miee
e-fp  -fPIC  -g -O2 -c Converters.c -o Converters.o
Converters.c: In function `RS_getHV':
Converters.c:18: `dTHX' undeclared (first use in this function)
Converters.c:18: (Each undeclared identifier is reported only once
Converters.c:18: for each function it appears in.)
Converters.c:28: warning: assignment makes pointer from integer without
a cast
Converters.c: In function `RS_getAV':
Converters.c:50: `dTHX' undeclared (first use in this function)
Converters.c:64: warning: assignment makes pointer from integer without
a cast
Converters.c: In function `fromPerlHV':
Converters.c:97: `dTHX' undeclared (first use in this function)
Converters.c:99: parse error before `names'
Converters.c:108: `names' undeclared (first use in this function)
Converters.c:109: `ans' undeclared (first use in this function)
Converters.c: In function `fromPerlAV':
Converters.c:134: `dTHX' undeclared (first use in this function)
Converters.c:135: parse error before `sameType'
Converters.c:139: `sameType' undeclared (first use in this function)
Converters.c: In function `callFilter':
Converters.c:171: `dTHX' undeclared (first use in this function)
Converters.c:172: parse error before `extern'
Converters.c:175: `sp' undeclared (first use in this function)
Converters.c: In function `fromPerlArray':
Converters.c:199: `dTHX' undeclared (first use in this function)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Wed May 29 11:05:04 2002
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Wed, 29 May 2002 11:05:04 +0200
Subject: [R] peaks
In-Reply-To: <3CF39381.B2A9F910@toulouse.inra.fr>
Message-ID: <3CF4B5E0.2271.8F6FCA@localhost>



On 28 May 2002 at 16:26, Herve Cardot wrote:

> I am looking for a function in R that is  equivalent to the function
> "peaks" in Splus. This function  gives the local maxima of a vector. I
> do not find it using the help and I 'm not sure it exits in R.
> 
> Could someone help me ?
> Thanks,
> 
Here is a function originally based on idea of prof.Ripley (slightly 
modifyed) which shall work like peaks in S+. I did not tested it on 
R 150 but it worked in former versions correctly.

# funkce pro automaticke oznaceni piku ve spektru (peaks)
# autor Brian Ripley

peaks<-function(series,span=3)
{
z <- embed(series, span)
s <- span%/%2
v<- max.col(z) == 1 + s
result <- c(rep(FALSE,s),v)
result <- result[1:(length(result)-s)]
result
}

> Herve Cardot
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.- r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help",
> or "[un]subscribe" (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._

Petr Pikal
petr.pikal at precheza.cz
p.pik at volny.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 29 11:49:25 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 29 May 2002 10:49:25 +0100 (GMT Daylight Time)
Subject: [R] graphics in help files
In-Reply-To: <3CF493B7.57B01706@sentoo.sn>
Message-ID: <Pine.WNT.4.44.0205291048280.2084-100000@Reeve>

On Wed, 29 May 2002, Renaud Lancelot wrote:

> Dear all,
>
> platform i386-pc-mingw32
> arch     i386
> os       mingw32
> system   i386, mingw32
> status   Patched
> major    1
> minor    5.0
> year     2002
> month    05
> day      15
> language R
>
> Is there a way to include a graph in a help file (Rd file processed with
> make pkg-mypkg) ?

Not currently.  It's on the wish list.

>
> Thanks in advance,
>
> Renaud
>
> --
> Dr Renaud Lancelot, vétérinaire
> CIRAD, Département Elevage et Médecine Vétérinaire (CIRAD-Emvt)
> Programme Productions Animales
> http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Français)
> http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)
>
> ISRA-LNERV                      tel    (221) 832 49 02
> BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
> Senegal                         e-mail renaud.lancelot at cirad.fr
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From g.forrester at csl.gov.uk  Wed May 29 13:27:12 2002
From: g.forrester at csl.gov.uk (Guy Forrester)
Date: Wed, 29 May 2002 12:27:12 +0100
Subject: [R] Tree package
Message-ID: <3CF4BB10.7818CC00@csl.gov.uk>

Dear All,

Many thanks to those who replied to  my query about getting functions
into "R". 

I have another problem that I hope is as easy to solve as the last one. 
I want to install the package Tree on my system and have no idea how to
go about it.  

Any help would be gratefully received

Guy

 
----------------------------------------------------------------------
Guy J. Forrester			Phone:  01453 860777
CSL Research Unit			Fax:    01453 860132
Woodchester Park			e-mail:  g.forrester at csl.gov.uk		
Nymsfield				
Stonehouse
Gloucestershire				
GL10 3UJ	    			http://www.csl.gov.uk
----------------------------------------------------------------------

Disclaimer
The information contained in this message may include privileged,
proprietary or confidential information. Please treat it with the same
respect that you would expect for your own information.  If you have
received it in error, we apologise, and ask that you contact the CSL
sender immediately and erase it from your computer. Thank you for your
co-operation.

Further information on confidentiality of our communications, can be
found at http://www.csl.gov.uk/email.htm
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 29 13:37:04 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 29 May 2002 12:37:04 +0100 (BST)
Subject: [R] Tree package
In-Reply-To: <3CF4BB10.7818CC00@csl.gov.uk>
Message-ID: <Pine.GSO.4.44.0205291234490.23715-100000@auk.stats>

On Wed, 29 May 2002, Guy Forrester wrote:

> Dear All,
>
> Many thanks to those who replied to  my query about getting functions
> into "R".
>
> I have another problem that I hope is as easy to solve as the last one.
> I want to install the package Tree on my system and have no idea how to
> go about it.
>
> Any help would be gratefully received

Well, you haven't told us your system, nor did you last time, but I recall
you had Windows-alike file paths.  We really do need to know a few details
to help you effectively.

Read the rw-FAQ, or just explore the menus as it can be done with about
four clicks.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Wed May 29 15:41:03 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Wed, 29 May 2002 13:41:03 +0000
Subject: [R] Why is.integer() doesn't work with single values?
Message-ID: <3CF4DA6F.D4654676@psy.uni-muenchen.de>

Hi all,

I don't understand the behavior of is.integer():

> x <- integer()
> is.integer(x)
[1] TRUE
> x <- 10
> is.integer(x)
[1] FALSE
> x <- 1:10
> is.integer(x)
[1] TRUE

Why is.interger() returns FALSE if x has only one element? And how can
someone check if x is an integer but contains only one value? (R 1.5.0
on Linux i386)

Thanks, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From g.forrester at csl.gov.uk  Wed May 29 13:43:35 2002
From: g.forrester at csl.gov.uk (Guy Forrester)
Date: Wed, 29 May 2002 12:43:35 +0100
Subject: [R] Tree package again
Message-ID: <3CF4BEE7.3BF309B0@csl.gov.uk>

Dear All,

Apologies I forgot to mention what platform I'm working on:-

WindowsNT version 4.0

Guy


----------------------------------------------------------------------
Guy J. Forrester			Phone:  01453 860777
CSL Research Unit			Fax:    01453 860132
Woodchester Park			e-mail:  g.forrester at csl.gov.uk		
Nymsfield				
Stonehouse
Gloucestershire				
GL10 3UJ	    			http://www.csl.gov.uk
----------------------------------------------------------------------

Disclaimer
The information contained in this message may include privileged,
proprietary or confidential information. Please treat it with the same
respect that you would expect for your own information.  If you have
received it in error, we apologise, and ask that you contact the CSL
sender immediately and erase it from your computer. Thank you for your
co-operation.

Further information on confidentiality of our communications, can be
found at http://www.csl.gov.uk/email.htm
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dvumani at hotmail.com  Wed May 29 13:46:18 2002
From: dvumani at hotmail.com (Vumani Dlamini)
Date: Wed, 29 May 2002 11:46:18 +0000
Subject: [R] conditional logit
Message-ID: <F49vVKqHrCo0DX9ZRMu00010571@hotmail.com>

Has anyone implemented the conditional logit and/or the nested logit model 
in R?

My interests would be to fit a a GAM like conditional logit.

Thanks.


Vumani Dlamini
Swaziland


_________________________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 29 13:48:10 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 29 May 2002 12:48:10 +0100 (BST)
Subject: [R] Why is.integer() doesn't work with single values?
In-Reply-To: <3CF4DA6F.D4654676@psy.uni-muenchen.de>
Message-ID: <Pine.GSO.4.44.0205291242470.23744-100000@auk.stats>

On Wed, 29 May 2002, Sven Garbade wrote:

> Hi all,
>
> I don't understand the behavior of is.integer():
>
> > x <- integer()
> > is.integer(x)
> [1] TRUE
> > x <- 10
> > is.integer(x)
> [1] FALSE
> > x <- 1:10
> > is.integer(x)
> [1] TRUE
>
> Why is.interger() returns FALSE if x has only one element? And how can
> someone check if x is an integer but contains only one value? (R 1.5.0
> on Linux i386)

Your guesses are wrong:

> is.integer(as.integer(10))
[1] TRUE
> is.integer(as.numeric(1:10))
[1] FALSE

If all else (except posting to R-help) fails, read the documentation which
says

     `is.integer' returns `TRUE' or `FALSE' depending on whether its
     argument is of integer type or not.

Note *NOT* `is an integer'.

To test for an integer *value* you could use x == round(x), assuming that
you want false for a value that is not integer by rounding error.
Otherwise use all.equal.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May 29 13:59:54 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 May 2002 13:59:54 +0200
Subject: [R] Why is.integer() doesn't work with single values?
In-Reply-To: <3CF4DA6F.D4654676@psy.uni-muenchen.de>
References: <3CF4DA6F.D4654676@psy.uni-muenchen.de>
Message-ID: <x2sn4b6u6d.fsf@blueberry.kubism.ku.dk>

Sven Garbade <garbade at psy.uni-muenchen.de> writes:

> Hi all,
> 
> I don't understand the behavior of is.integer():
> 
> > x <- integer()
> > is.integer(x)
> [1] TRUE
> > x <- 10
> > is.integer(x)
> [1] FALSE
> > x <- 1:10
> > is.integer(x)
> [1] TRUE
> 
> Why is.interger() returns FALSE if x has only one element? And how can
> someone check if x is an integer but contains only one value? (R 1.5.0
> on Linux i386)

This has nothing to do with is.integer or lengths. It is the ":"
operator that tries to make its result an integer vector whenever
possible. Constant are generally floating point numbers, even when
they happen to be integers.

Try is.integer(1:1) and is.integer(c(1,2,3)).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.janmaat at acadiau.ca  Wed May 29 14:13:28 2002
From: john.janmaat at acadiau.ca (John Janmaat)
Date: Wed, 29 May 2002 09:13:28 -0300
Subject: [R] xlab on right
Message-ID: <3CF4C5E8.60403@acadiau.ca>

Hello,

I am building some figures with two axes.  I need to put an x label on 
the right axis as well as on the left axis.  How do I do this?

Thanks,

John.

-- 
==========================================
John Janmaat
Department of Economics
Acadia University, Wolfville, NS, B0P 1X0
(902)585-1461

All opinions stated are personal, unless
otherwise indicated.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed May 29 14:31:06 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 29 May 2002 14:31:06 +0200 (MET DST)
Subject: [R] bug in xfig()?
Message-ID: <Pine.OSF.3.96.1020529135718.10000F-100000@paleo>



I'm using (Linux version) xfig() within a function
and then simple matplot() and matline() plots.
Although I do not define any bg or fg default color,
sometimes all lines in the final fig file are green.

The same code works as (I) expected if I use
x11() or pdf(). 

This is what I'm doing:
I open 2 devs:
	    xfig()
	    dev.set(2)
	    layout(mat1)
	    xfig()
	    dev.set(3)
	    layout(mat)

And then use matplot and matline() several times
switching between devices with dev(3) and dev(4).
For example:

1.

   	modelo <- lm(y[,i] ~ -1+ x[,1])
		dev.set(2)
		plot(modelo)
		title(paste("Degree 1 model:",nombre),outer=T)
		dev.set(3)
		matplot(1:36,y[,i],pch=20,ylab="ND(nir,red)",xlab="10-day
period")
		matlines(1:36,modelo$fitted.values)
		title(paste("Polynomial model:",nombre))

Well, the fig file from device 3 is a graphic with black lines over white
bg, but the one from 
device 2 is green lines over white bg.

2. If I define col="red" in the matplot for
device 3, then the graphic that I get has the red line (as expected),
but green axes and labels. All lines plotted with matlines on the
same graphic are also green. Instead, the fig file from device 2 is
now black over white!

3. Finally, if I use the fg=1 option,
            xfig(fg=1)   
            dev.set(2)
            layout(mat1)
            xfig(fg=1)
            dev.set(3)
            layout(mat)

The behaviour is the reverse of the first example
and get 2 warnings:

Warning messages:
1: `mode(fg)' differs between new and previous!
         ==> NOT changing  `fg' in: check.options(new = new, name.opt =
".PostScript.Options", rese t = FALSE,
2: `mode(fg)' differs between new and previous!
         ==> NOT changing  `fg' in: check.options(new = new, name.opt =
".PostScript.Options", rese t = FALSE,

Should I fill a bug report or am I doing something wrong?

Thanks

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From humbertc at univ-mlv.fr  Wed May 29 14:44:42 2002
From: humbertc at univ-mlv.fr (Cyril Humbert)
Date: Wed, 29 May 2002 14:44:42 +0200
Subject: [R] lattice: levelplot() documentation
Message-ID: <20020529144442.A25367@borneo.univ-mlv.fr>

In R-1.5.0, in levelplot() documentation, the argumement `data'
isn't mentioned (it is detailled in xyplot() though):

     levelplot(formula,
                    at,
		    col.regions = trellis.par.get("regions")$col,
		    colorkey = region,
      [../..]						  

It would perhaps be clearer to also add the `data' argument because 
it is implicitly used in the first example:

	 [../..]
	 levelplot(z~x*y, grid, cuts = 50, xlab="", [../..] 
                          ^^^^
-- 
Cyril Humbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 29 14:57:54 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 29 May 2002 13:57:54 +0100 (GMT Daylight Time)
Subject: [R] bug in xfig()?
In-Reply-To: <Pine.OSF.3.96.1020529135718.10000F-100000@paleo>
Message-ID: <Pine.WNT.4.44.0205291354220.1296-100000@tern.stats>

I don't think using colours in multiple xfig devices at the same time
will work.  xfig needs colours declared in advance, and so the
internals have to work quite hard to keep track of the colours used and
post-process the files at the end of each page.

I can't see any good reason to do that, but if you need it
`patches accepted'.

On Wed, 29 May 2002, Agustin Lobo wrote:

>
>
> I'm using (Linux version) xfig() within a function
> and then simple matplot() and matline() plots.
> Although I do not define any bg or fg default color,
> sometimes all lines in the final fig file are green.
>
> The same code works as (I) expected if I use
> x11() or pdf().
>
> This is what I'm doing:
> I open 2 devs:
> 	    xfig()
> 	    dev.set(2)
> 	    layout(mat1)
> 	    xfig()
> 	    dev.set(3)
> 	    layout(mat)
>
> And then use matplot and matline() several times
> switching between devices with dev(3) and dev(4).
> For example:
>
> 1.
>
>    	modelo <- lm(y[,i] ~ -1+ x[,1])
> 		dev.set(2)
> 		plot(modelo)
> 		title(paste("Degree 1 model:",nombre),outer=T)
> 		dev.set(3)
> 		matplot(1:36,y[,i],pch=20,ylab="ND(nir,red)",xlab="10-day
> period")
> 		matlines(1:36,modelo$fitted.values)
> 		title(paste("Polynomial model:",nombre))
>
> Well, the fig file from device 3 is a graphic with black lines over white
> bg, but the one from
> device 2 is green lines over white bg.
>
> 2. If I define col="red" in the matplot for
> device 3, then the graphic that I get has the red line (as expected),
> but green axes and labels. All lines plotted with matlines on the
> same graphic are also green. Instead, the fig file from device 2 is
> now black over white!
>
> 3. Finally, if I use the fg=1 option,
>             xfig(fg=1)
>             dev.set(2)
>             layout(mat1)
>             xfig(fg=1)
>             dev.set(3)
>             layout(mat)
>
> The behaviour is the reverse of the first example
> and get 2 warnings:
>
> Warning messages:
> 1: `mode(fg)' differs between new and previous!
>          ==> NOT changing  `fg' in: check.options(new = new, name.opt =
> ".PostScript.Options", rese t = FALSE,
> 2: `mode(fg)' differs between new and previous!
>          ==> NOT changing  `fg' in: check.options(new = new, name.opt =
> ".PostScript.Options", rese t = FALSE,
>
> Should I fill a bug report or am I doing something wrong?
>
> Thanks
>
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Wed May 29 16:02:30 2002
From: siim at obs.ee (Ott Toomet)
Date: Wed, 29 May 2002 16:02:30 +0200 (CEST)
Subject: [R] Why is.integer() doesn't work with single values?
In-Reply-To: <3CF4DA6F.D4654676@psy.uni-muenchen.de>
Message-ID: <Pine.LNX.4.44.0205291553060.10583-100000@localhost.localdomain>

Hi,

On Wed, 29 May 2002, Sven Garbade wrote:

  |Hi all,
  |
  |I don't understand the behavior of is.integer():
  |
  |> x <- integer()
  |> is.integer(x)
  |[1] TRUE
  |> x <- 10
  |> is.integer(x)
  |[1] FALSE

This is OK -- x is now 10 (defaults to float), not any more integer().  Note
that assignment deleted the previous definition.

  |> x <- 1:10
  |> is.integer(x)
  |[1] TRUE

1:10 defaults to an integer vector, so your new vector is (a vector of)
integer(s).

  |Why is.interger() returns FALSE if x has only one element? And how can
  |someone check if x is an integer but contains only one value? (R 1.5.0
  |on Linux i386)

length(x) gives the number of values.  

is.integer() gives the type of argument (the way the argument is presented
in memory).  E.g:

> x <- 10
> is.integer(x)
[1] FALSE
> x == as.integer(x) 
  # use rather abs(x - as.integer(x)) < sqrt(Machine()$double.eps)
  # or something similar.
[1] TRUE
> length(x)
[1] 1

Perhaps it helps.

Ott

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed May 29 16:13:14 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 29 May 2002 16:13:14 +0200 (MET DST)
Subject: [R] bug in xfig()?
In-Reply-To: <Pine.WNT.4.44.0205291354220.1296-100000@tern.stats>
Message-ID: <Pine.OSF.3.96.1020529160222.10000H-100000@paleo>

It seems that somehow I had come up with
odd values for the colors in xfig(), maybe
after an erroneus call. After
quiting and restarting R, xfig() works normally.

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Wed, 29 May 2002, Prof Brian D Ripley wrote:

> I don't think using colours in multiple xfig devices at the same time
> will work.  xfig needs colours declared in advance, and so the
> internals have to work quite hard to keep track of the colours used and
> post-process the files at the end of each page.
> 
> I can't see any good reason to do that, but if you need it
> `patches accepted'.
> 
> On Wed, 29 May 2002, Agustin Lobo wrote:
> 
> >
> >
> > I'm using (Linux version) xfig() within a function
> > and then simple matplot() and matline() plots.
> > Although I do not define any bg or fg default color,
> > sometimes all lines in the final fig file are green.
> >
> > The same code works as (I) expected if I use
> > x11() or pdf().
> >
> > This is what I'm doing:
> > I open 2 devs:
> > 	    xfig()
> > 	    dev.set(2)
> > 	    layout(mat1)
> > 	    xfig()
> > 	    dev.set(3)
> > 	    layout(mat)
> >
> > And then use matplot and matline() several times
> > switching between devices with dev(3) and dev(4).
> > For example:
> >
> > 1.
> >
> >    	modelo <- lm(y[,i] ~ -1+ x[,1])
> > 		dev.set(2)
> > 		plot(modelo)
> > 		title(paste("Degree 1 model:",nombre),outer=T)
> > 		dev.set(3)
> > 		matplot(1:36,y[,i],pch=20,ylab="ND(nir,red)",xlab="10-day
> > period")
> > 		matlines(1:36,modelo$fitted.values)
> > 		title(paste("Polynomial model:",nombre))
> >
> > Well, the fig file from device 3 is a graphic with black lines over white
> > bg, but the one from
> > device 2 is green lines over white bg.
> >
> > 2. If I define col="red" in the matplot for
> > device 3, then the graphic that I get has the red line (as expected),
> > but green axes and labels. All lines plotted with matlines on the
> > same graphic are also green. Instead, the fig file from device 2 is
> > now black over white!
> >
> > 3. Finally, if I use the fg=1 option,
> >             xfig(fg=1)
> >             dev.set(2)
> >             layout(mat1)
> >             xfig(fg=1)
> >             dev.set(3)
> >             layout(mat)
> >
> > The behaviour is the reverse of the first example
> > and get 2 warnings:
> >
> > Warning messages:
> > 1: `mode(fg)' differs between new and previous!
> >          ==> NOT changing  `fg' in: check.options(new = new, name.opt =
> > ".PostScript.Options", rese t = FALSE,
> > 2: `mode(fg)' differs between new and previous!
> >          ==> NOT changing  `fg' in: check.options(new = new, name.opt =
> > ".PostScript.Options", rese t = FALSE,
> >
> > Should I fill a bug report or am I doing something wrong?
> >
> > Thanks
> >
> > Dr. Agustin Lobo
> > Instituto de Ciencias de la Tierra (CSIC)
> > Lluis Sole Sabaris s/n
> > 08028 Barcelona SPAIN
> > tel 34 93409 5410
> > fax 34 93411 0012
> > alobo at ija.csic.es
> >
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Wed May 29 16:06:47 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Wed, 29 May 2002 16:06:47 +0200
Subject: [R] xlab on right
References: <3CF4C5E8.60403@acadiau.ca>
Message-ID: <3CF4E077.88AC60E7@atmos.umnw.ethz.ch>

use mtext

gruess

joerg

John Janmaat wrote:
> 
> Hello,
> 
> I am building some figures with two axes.  I need to put an x label on
> the right axis as well as on the left axis.  How do I do this?
> 
> Thanks,
> 
> John.
> 
> --
> ==========================================
> John Janmaat
> Department of Economics
> Acadia University, Wolfville, NS, B0P 1X0
> (902)585-1461
> 
> All opinions stated are personal, unless
> otherwise indicated.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Maciej.Hoffman-Wecker at evotecoai.com  Wed May 29 16:42:30 2002
From: Maciej.Hoffman-Wecker at evotecoai.com (Maciej.Hoffman-Wecker@evotecoai.com)
Date: Wed, 29 May 2002 16:42:30 +0200
Subject: [R] classification by nls and anova
Message-ID: <OFAACC5B40.D92B8845-ONC1256BC8.004E06F1@evotecoai.com>

Dear R-users, 

I'd appreciate your statistical opinion on the following problem. 

I'm fitting the four parameter logistic model [f(x) = a + (b - a)/(1 + 
exp((c - x)*d))] to assay data. 
We have a lot of samples to fit and my aim is to classify these samples 
into following groups: 

  1. no interrelation 
     all results about =~ 0 
     too low concentration 

  2.   only full saturation 
     all results about =~ 1 
     too high concentration 

  3. only starting interrelation 
     results going up, not reaching the turning point 
     too low concentration 

  4. only starting saturation 
     results starting above the turning point, going up, reaching the 
saturation 
     hence too high concentration 

  5. only the linear area 
     no start and saturation 
     hence too low concentration range 

  6. full interrelation 
     including starting interrelation and saturation 


Is there a way to model these classes, and compare their significance by 
means of an 
analysis of the residuals (ANOVA)? 

Something like 

  model 1 = linear & constant =~ 0 & slope = 0 
  model 2 = linear & constant =~ 1 & slope = 0 
  model 3 = ???? some curvature 
  model 4 = ???? some curvature 
  model 5 = linear & slope > 0 
  model 6 = full four parameter logistic model 

with the procedure: 

Starting with the linear model and testing for any curvature. 
 -> curvature not significant 
    ==> result = model 1, 2 or 3, depending on significance of slope and 
intercept 
 -> curvature significant   
   -> testing for full logistic model 
    -> logistic model significant     
    ==> result = logistic model 
    -> logistic model not significant   
    ==> result = a curvature model (model 3 or 4), depending on the 
parameters 


Is this a reasonable and feasible procedure? And if so, what kind of model 
might be appropriate 
for the classes 3 and 4? 

Hope someone has the time to give me an answer or any advice on any other 
approach. 

Thanks in advance 

Maciej Hoffman-Wecker 


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020529/31a46134/attachment.html

From tlumley at u.washington.edu  Wed May 29 17:06:47 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 29 May 2002 08:06:47 -0700 (PDT)
Subject: [R] conditional logit
In-Reply-To: <F49vVKqHrCo0DX9ZRMu00010571@hotmail.com>
Message-ID: <Pine.A41.4.44.0205290805410.198370-100000@homer01.u.washington.edu>

On Wed, 29 May 2002, Vumani Dlamini wrote:

> Has anyone implemented the conditional logit and/or the nested logit model
> in R?

Conditional logistic regression is clogit() in the survival package.

> My interests would be to fit a a GAM like conditional logit.

Look at help(pspline) in the survival package to see how to fit smooth
curves.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hzhang3 at partners.org  Wed May 29 16:22:48 2002
From: hzhang3 at partners.org (Hui Zhang)
Date: Wed, 29 May 2002 10:22:48 -0400
Subject: [R] covariance matrix from the mda package
Message-ID: <KMEBLGBNIPHBCOAALDALOEIMCBAA.hzhang3@partners.org>

Hi,

Does anyone know how to get the common covariance matrix from mda package?

Thanks

hui
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From commnthght at hotmail.com  Wed May 29 17:19:08 2002
From: commnthght at hotmail.com (Matt Borkowski)
Date: Wed, 29 May 2002 15:19:08 +0000
Subject: [R] Setting the Number of Columns
Message-ID: <F1569q01ofowijlhSNx0000ca7d@hotmail.com>

I am trying to read in a data set with 17 columns into a data frame.  The 
problem is, there are some lines in the data that occasionally pop up with 
less than 17 numbers in a row.  I was trying to use the command

data <- read.table("dataset.dat", fill=TRUE, quote = "")

There was no problem running this with an older version of R and the data 
was forced into a data frame with 17 columns with the missing data filled in 
as NA.  But after updating to the newest version something changed and now 
the data is being forced into a data frame with only 14 columns.

With the newest version of R is it possible to force the data into a data 
frame with user specified dimensions and fill in any missing data in a row 
with NA?

_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fzoellne at techfak.uni-bielefeld.de  Wed May 29 16:35:56 2002
From: fzoellne at techfak.uni-bielefeld.de (Frank Gerrit Zoellner)
Date: Wed, 29 May 2002 16:35:56 +0200
Subject: [R] add on packages for R 1.4
Message-ID: <20020529163556.A7377@hindemith.TechFak.Uni-Bielefeld.DE>

Hi!

I need the 1.4 version of the lattice and grid package (source). Does anyone know where to get them ?

Thanks 
-- 
Frank G. Zoellner
AG Angewandte Informatik
Technische Fakult"at
Universit"at Bielefeld
phone: +49(0)521-106-2951
fax:   +49(0)521-106-2992
email: fzoellne at techfak.uni-bielefeld.de
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Wed May 29 17:29:10 2002
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 29 May 2002 10:29:10 -0500
Subject: [R] histogramming dates
In-Reply-To: <87heksj5qc.fsf@lumen.indyrad.iupui.edu>
References: <87heksj5qc.fsf@lumen.indyrad.iupui.edu>
Message-ID: <874rgrgegp.fsf@lumen.indyrad.iupui.edu>

Thanks for all the suggestions.  After fiddling alonw the lines
of your suggestions, I found a solution in the examples in
hist.POSIXt:

  hist(thisyear,
        breaks=seq(ISOdate(2000,1,1),ISOdate(2003,1,1),by='month'))

  hist(thisyear, 
        breaks=seq(ISOdate(2000,1,1),ISOdate(2003,1,1),by='week'))


Thanks!  

Mike
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed May 29 16:18:35 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 29 May 2002 15:18:35 +0100
Subject: [R] Why is.integer() doesn't work with single values?
In-Reply-To: <3CF4DA6F.D4654676@psy.uni-muenchen.de>
References: <3CF4DA6F.D4654676@psy.uni-muenchen.de>
Message-ID: <nimBwHA7MO98EwH2@myatt.demon.co.uk>

Sven Garbade <garbade at psy.uni-muenchen.de> writes:
>Hi all,
>
>I don't understand the behavior of is.integer():
>
>> x <- integer()
>> is.integer(x)
>[1] TRUE
>> x <- 10
>> is.integer(x)
>[1] FALSE
>> x <- 1:10
>> is.integer(x)
>[1] TRUE
>
>Why is.interger() returns FALSE if x has only one element? And how can
>someone check if x is an integer but contains only one value? (R 1.5.0
>on Linux i386)

That is down to the storage mode. Try:

        x <- 10
        typeof(x)

        y <- 1:10
        typeof(y)

You can test with:

        x == as.integer(x)

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eva.hogervorst at linacre.oxford.ac.uk  Wed May 29 17:44:20 2002
From: eva.hogervorst at linacre.oxford.ac.uk (Eva Hogervorst)
Date: Wed, 29 May 2002 16:44:20 +0100 (BST)
Subject: No subject
Message-ID: <E17D5ca-0000xg-00@wing2.herald.ox.ac.uk>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020529/d94d19f8/attachment.pl

From p.dalgaard at biostat.ku.dk  Wed May 29 17:46:50 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 May 2002 17:46:50 +0200
Subject: [R] Setting the Number of Columns
In-Reply-To: <F1569q01ofowijlhSNx0000ca7d@hotmail.com>
References: <F1569q01ofowijlhSNx0000ca7d@hotmail.com>
Message-ID: <x2k7pn6jo5.fsf@blueberry.kubism.ku.dk>

"Matt Borkowski" <commnthght at hotmail.com> writes:

> I am trying to read in a data set with 17 columns into a data frame.
> The problem is, there are some lines in the data that occasionally pop
> up with less than 17 numbers in a row.  I was trying to use the command
> 
> data <- read.table("dataset.dat", fill=TRUE, quote = "")
> 
> There was no problem running this with an older version of R and the
> data was forced into a data frame with 17 columns with the missing
> data filled in as NA.  But after updating to the newest version
> something changed and now the data is being forced into a data frame
> with only 14 columns.
> 
> With the newest version of R is it possible to force the data into a
> data frame with user specified dimensions and fill in any missing data
> in a row with NA?

The number of columns are determined from the first five lines in the
file (some older version had a bug that caused the entire file to be
read instead). However, if column names are given, then they are used.
So how about this?:

cn <- paste("V",1:17,sep="")
data <- read.table("dataset.dat", fill=TRUE, quote = "", col.names=cn)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kochmn at cip.mathematik.uni-stuttgart.de  Wed May 29 17:37:24 2002
From: kochmn at cip.mathematik.uni-stuttgart.de (Markus-Hermann Koch)
Date: Wed, 29 May 2002 17:37:24 +0200 (CEST)
Subject: [R] User request to ppr (projection pursuit regression, library(modreg))
Message-ID: <Pine.LNX.4.44.0205291734560.5952-100000@cip20.mathematik.uni-stuttgart.de>

Dear R-Help-Supporters,

I am working on a regression problem using a set of trainig data (X|Y) and
the R-function ppr() in the modreg library. I have succeeded in having
ppr()
create an object B which contains the vectors B$alpha and coefficients
B$beta for the ridge functions. But now i am stuck fast. Could you please
either give me an adress to someone who knows ppr() or, if that
happens to be yourself, help me with the following two questions:

* The ridge functions ought to be of the form f_i(alpha_i*X) where the f_i
  are univariate regression estimates, i.e. a nearest neighbour estimate.
  Which type of estimate did you choose for your program?

* After calling B<-ppr(...) and after choosing some x<-c(x1,...,xd). How
  can i make R give me a prediction for y on x?

All the best is sent to you by
        Markus Koch

E-Mail: kochmn at cip.mathematik.uni-stuttgart.de
Tel.  : 0049 7191 / 68 68 110 (Germany)(assuming you are in suisse)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Wed May 29 18:07:14 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 29 May 2002 12:07:14 -0400
Subject: [R] Setting the Number of Columns
In-Reply-To: <F1569q01ofowijlhSNx0000ca7d@hotmail.com>; from commnthght@hotmail.com on Wed, May 29, 2002 at 03:19:08PM +0000
References: <F1569q01ofowijlhSNx0000ca7d@hotmail.com>
Message-ID: <20020529120714.A21123@cattell.psych.upenn.edu>

On 05/29/02 15:19, Matt Borkowski wrote:
>I am trying to read in a data set with 17 columns into a data frame.  The 
>problem is, there are some lines in the data that occasionally pop up with 
>less than 17 numbers in a row.  I was trying to use the command
>
>data <- read.table("dataset.dat", fill=TRUE, quote = "")
>
>There was no problem running this with an older version of R and the data 
>was forced into a data frame with 17 columns with the missing data filled in 
>as NA.  But after updating to the newest version something changed and now 
>the data is being forced into a data frame with only 14 columns.

I had this problem once.  I solved it by moving one of the long
lines of data to the beginning of the file, so it was the first
record.  Apparently R decided to get the number of columns from
the first record.  I just tried this with R 1.5.0 and it still
works.  If necessary you can make up a dummy line and delete it.

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From helgito at hi.is  Wed May 29 18:25:02 2002
From: helgito at hi.is (Helgi Tomasson)
Date: Wed, 29 May 2002 16:25:02 +0000
Subject: [R] inverse gaussian random numbers
Message-ID: <3CF500DE.4FF29CF4@hi.is>

Dear R-people

Does someone have a routine to ngenerate inverse-gaussian random
numbers.  I am thinking of
something similar to rinvgauss, pinvgauss etc. in S-plus.

best regards

Helgi


--
Helgi Tomasson                                       FAX:  354-552-6806
University of Iceland                                PHONE:354-525-4571
Faculty of Economics and Business Administration     email:helgito at rhi.hi.is
Oddi v/ Sturlugotu
IS-101 Reykjavik
ICELAND



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Richard_Yanicky at nrgn.com  Wed May 29 18:44:31 2002
From: Richard_Yanicky at nrgn.com (Yanicky, Richard)
Date: Wed, 29 May 2002 12:44:31 -0400
Subject: [R] R and QSAR equations
Message-ID: <68DD016AFCDBD3118B3000508B6C6B17F141D6@nrgn.nrgn.com>

I am also interested in solving the same problem. I have not seen a reply to
your question on the list. Did someone reply directly to you and did not
copy the list?

Thank You,

Richard Yanicky

-----Original Message-----
From: james metz [mailto:jmetz at comcast.net] 
Sent: Friday, May 24, 2002 1:31 PM
To: r-help at stat.math.ethz.ch
Cc: jmetz at comcast.net
Subject: [R] R and QSAR equations

Hello R Users,

    I am interested in using R to generate quantitative structure-activity
relationships (QSARs) for small molecules given
a set of molecular descriptors (the X's) and biological data (Y's) (usually
tab-delimited data files).

    Has anyone done this using R ?  Would you be willing to share your R
scripts (or ideas) for doing this with me ?
I am particularly interested in R codes for optimizing variable selection as
well as validation of the generated QSAR equations, since
I have software that can generate ~ 1500 molecular descriptors per molecule.
How do you coax R to find the optimal (smallest) set
of descriptors to fit the data ?

    I am a new user of R.  I am trying to learn the ins and outs of this
powerful software.  Sorry if this sounds like a trivial request.

    Thanks,
    Jim Metz


James T. Metz, Ph.D.
Computational Chemist
2119 Maple Creek Circle
Ann Arbor, MI  48108

jmetz at comcast.net

(H) 734-429-5075


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wviechtb at s.psych.uiuc.edu  Wed May 29 18:52:30 2002
From: wviechtb at s.psych.uiuc.edu (Wolfgang Viechtbauer)
Date: Wed, 29 May 2002 11:52:30 -0500 (CDT)
Subject: [R] Indexing Elements of a Dataframe
In-Reply-To: <5.1.0.14.2.20020528174704.01d7a678@mcmail.cis.mcmaster.ca>
Message-ID: <Pine.SOL.4.30.0205282314510.5273-100000@s.psych.uiuc.edu>

Thanks to all the people who replied to my question. After trying out
some of the suggestions, it seems that, in general, using outer() is
really the most sensible way of going.

Another suggestion was to use:

	x[as.character(i), as.character(j)] <- "something"

which works as well.

Again, thanks to all that replied!

Wolfgang


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jw9 at softhome.net  Wed May 29 20:15:20 2002
From: jw9 at softhome.net (jw9@softhome.net)
Date: Wed, 29 May 2002 12:15:20 -0600
Subject: [R] Tcl/tk , question about the environment of the call
Message-ID: <courier.3CF51AB8.000017D5@softhome.net>

This is my simple code, my intention is to let the inner function browse the 
objects in the outer function. 

####################### 

tk1 <- function() {
	tk2 <- function() {
		inner <- 3
		list2 <- ls()
		#list objects in fuction tk2
		print("**** inner objects ****")
		print(list2)
		
		#list objects in fuction tk1
		list_parent <- ls(parent.frame())
		print("**** outer objects ****")
		print(list_parent)
	}
	tt <- tktoplevel()
	outer <- 1
	tkpack(tkbutton(tt,text="push",command=tk2()))
	tk2()
}
####################### 

there's a call of tk2 inside tk1, so when I run tk1(), it gives the output I 
expected: 

[1] "**** inner objects ****"
[1] "inner"
[1] "**** outer objects ****"
[1] "outer" "tk2"   "tt" 

but when I clicked the push button, which also bind to the tk2 function, the 
result is different from that from the first tk2() call: 

> [1] "**** inner objects ****"
[1] "inner"
[1] "**** outer objects ****"
character(0) 

I am not sure in which part I made the mistake,  Any help or suggestions 
will be highly appreciated. Thanks!
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May 29 20:40:09 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 May 2002 20:40:09 +0200
Subject: [R] Tcl/tk , question about the environment of the call
In-Reply-To: <courier.3CF51AB8.000017D5@softhome.net>
References: <courier.3CF51AB8.000017D5@softhome.net>
Message-ID: <x2elfu7q7q.fsf@blueberry.kubism.ku.dk>

jw9 at softhome.net writes:

> This is my simple code, my intention is to let the inner function
> browse the objects in the outer function. ####################### tk1
> <- function() {
> 	tk2 <- function() {
> 		inner <- 3
> 		list2 <- ls()
> 		#list objects in fuction tk2
> 		print("**** inner objects ****")
> 		print(list2)
> 		
> 		#list objects in fuction tk1
> 		list_parent <- ls(parent.frame())
> 		print("**** outer objects ****")
> 		print(list_parent)
> 	}
> 	tt <- tktoplevel()
> 	outer <- 1
> 	tkpack(tkbutton(tt,text="push",command=tk2()))
> 	tk2()
> }
> ####################### there's a call of tk2 inside tk1, so when I
> run tk1(), it gives the output I expected: [1] "**** inner objects
> ****"
> [1] "inner"
> [1] "**** outer objects ****"
> [1] "outer" "tk2"   "tt" but when I clicked the push button, which
> also bind to the tk2 function, the result is different from that from
> the first tk2() call:
> > [1] "**** inner objects ****"
> [1] "inner"
> [1] "**** outer objects ****"
> character(0) I am not sure in which part I made the mistake,  Any help
> or suggestions will be highly appreciated. Thanks!

You mean command=tk2, not tk2(), I assume (please test code before
submitting, and avoid putting Tab characters inside).

However, this is not really a Tcl/Tk issue. If you had assigned tk2 to
a global variable, you would have seen the same effect when executing
it. The parent of a call is not necessarily the enclosure (aka the
"parent environment"). parent.frame() is not the local frame of t1
when you press the button 

BTW, I get

> tk1()
[1] "**** inner objects ****"
[1] "inner"
[1] "**** outer objects ****"
[1] "outer" "tk2"   "tt"   
> [1] "**** inner objects ****"
[1] "inner"
[1] "**** outer objects ****"
[1] "tk1"

consistent with parent.frame() being .GlobalEnv when the button is
pushed. How did you get character(0)??

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From o.christensen at lancaster.ac.uk  Wed May 29 20:48:39 2002
From: o.christensen at lancaster.ac.uk (Ole Christensen)
Date: Wed, 29 May 2002 19:48:39 +0100
Subject: [R] inverse gaussian random numbers
References: <3CF500DE.4FF29CF4@hi.is>
Message-ID: <3CF52287.4D156E3A@lancs.ac.uk>

The package ``SuppDists'' claims to have a function for generating from
an inverse-Gauss distribution.

Ole

Helgi Tomasson wrote:
> 
> Dear R-people
> 
> Does someone have a routine to ngenerate inverse-gaussian random
> numbers.  I am thinking of
> something similar to rinvgauss, pinvgauss etc. in S-plus.
> 
> best regards
> 
> Helgi
> 
> --
> Helgi Tomasson                                       FAX:  354-552-6806
> University of Iceland                                PHONE:354-525-4571
> Faculty of Economics and Business Administration     email:helgito at rhi.hi.is
> Oddi v/ Sturlugotu
> IS-101 Reykjavik
> ICELAND
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Ole F. Christensen
Department of Mathematics and Statistics
Fylde College, Lancaster University 
Lancaster, LA1 4YF, England
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed May 29 20:48:19 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 May 2002 20:48:19 +0200
Subject: [R] Tcl/tk , question about the environment of the call
In-Reply-To: <x2elfu7q7q.fsf@blueberry.kubism.ku.dk>
References: <courier.3CF51AB8.000017D5@softhome.net>
	<x2elfu7q7q.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2adqi7pu4.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> However, this is not really a Tcl/Tk issue. If you had assigned tk2 to
> a global variable, you would have seen the same effect when executing
> it. The parent of a call is not necessarily the enclosure (aka the
> "parent environment"). parent.frame() is not the local frame of t1
> when you press the button 

PS. Try parent.env(environment()) instead of parent.frame().

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jw9 at softhome.net  Wed May 29 20:49:52 2002
From: jw9 at softhome.net (jw9@softhome.net)
Date: Wed, 29 May 2002 12:49:52 -0600
Subject: [R] Sorry, My Mistake in the code
In-Reply-To: <x2elfu7q7q.fsf@blueberry.kubism.ku.dk> 
References: <courier.3CF51AB8.000017D5@softhome.net>
            <x2elfu7q7q.fsf@blueberry.kubism.ku.dk>
Message-ID: <courier.3CF522D0.000027B0@softhome.net>

Thanks, Peter. 

Actually I use function()tk2() instead tk2(). I tried just use tk2, the 
result is the same as yours.  By the way, could you provide more detail 
about
how to assign tk2 to a global variable. 

Thanks! 

############################# 

tk1 <- function() {
	tk2 <- function() {
		inner <- 3
		list2 <- ls()
		#list objects in fuction tk2
		print("**** inner objects ****")
		print(list2)
		
		#list objects in fuction tk1
		list_parent <- ls(parent.frame())
		print("**** outer objects ****")
		print(list_parent)
	}
	tt <- tktoplevel()
	outer <- 1
	tkpack(tkbutton(tt,text="push",command=function()tk2()))
	tk2()
} 

############################# 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mel at mcs.st-and.ac.uk  Wed May 29 20:54:45 2002
From: mel at mcs.st-and.ac.uk (Mike Lonergan)
Date: Wed, 29 May 2002 19:54:45 +0100
Subject: [R] constrained regression
In-Reply-To: <8CBAA121CEB4D5118CB200508BB2BBEF53FFA0@xmx8lonib.lonib.commerzbank.com>
Message-ID: <NEBBJLLBCLEDFLCCBKDAAEPKCFAA.mel@mcs.st-andrews.ac.uk>

Giles,

While I hesitate to suggest mutilating any of Prof. Ripley's code, one
approach to forcing coefficients to be positive might be to exploit his
step() function after hacking his extractAIC.lm() to heavily penalise
negative coefficients (since such terms are likely to need to become zero/be
dropped rather than turn positive). Something like:

 extractAIC.lm<-function (fit, scale = 0, k = 2, ...)
{
...
    c(edf, (dev + k * edf)*(1+1000000*length(fit$coef[fit$coef<0]))
}

should do the trick. (I guess. I haven't really tested it.) It will, of
course, need to be changed back if you then want to use it properly.

I believe the other constraints can also be converted to positive ones by
rearranging the inequalities and substituting.

eg:

 y= ax + bz + error
 a + b < 1

 is equivalent to

 y =a.(x-z) + z +d.(-z) +error

 where d =1-a-b, and so is positive.

 In this case the lm formula then becomes:

y~I(x-z)+offset(z) +I(-z)

which is a bit of a mess, but better than working for a living. I haven't
really had a need for this, and so have little idea how inconvenient it is
to use. Hopefully wiser heads will warn you off if they consider it all too
daft.

My one serious warning would be about using the resultant models for
prediction. In any cases where strongly negative coefficients are suppressed
this is likely to result in obvious trends in the residuals, and the
theoretical foundations of any confidence intervals round the fitted values
may be badly dented. Whether this matters will depend on what you're
intending to do with the models, but I'd certainly not bet money on the
results.

Cheers,

Mike.

     > -----Original Message-----
     > From: owner-r-help at stat.math.ethz.ch
     > [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Heywood, Giles
     > Sent: 28 May 2002 15:12
     > To: r-help at stat.math.ethz.ch
     > Subject: [R] constrained regression
     >
     >
     > I want to do a linear regression where the coefficients
     > obey two linear constraints, and also are all non-negative.
     > What is the best way to do this? Computational speed is a
     > consideration as I must do it many times.
     >
     > When this question was asked previously on the list, quadprog
     > was suggested - is this the best solution?
     >
     > (I may have missed something obvious in the documentation,
     > but I have looked).
     >
     > thanks
     >
     > Giles
     >
     >
     > *************************************************************
     > *********
     > This communication is confidential and is intended only for
     > the person to whom it is addressed.  If you are not that person you
     > are not permitted to make use of the information and you are
     > requested
     > to notify <mailto:LONIB.Postmaster at commerzbankib.com>
     > immediately that
     > you have received it and then destroy the copy in your possession.
     > Commerzbank AG is regulated by the FSA for the conduct of investment
     > business in the UK.
     > *************************************************************
     > *********
     >
     > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
     > .-.-.-.-.-.-.-.-.-
     > r-help mailing list -- Read
     > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
     > Send "info", "help", or "[un]subscribe"
     > (in the "body", not the subject !)  To:
     > r-help-request at stat.math.ethz.ch
     > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
     > ._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjohn at arches.uga.edu  Wed May 29 21:25:19 2002
From: rjohn at arches.uga.edu (Robert Chandran)
Date: Wed, 29 May 2002 15:25:19 -0400 (EDT)
Subject: [R] Canonical Discriminant Analysis 
Message-ID: <Pine.A41.4.10.10205291514440.130668-100000@archa15.cc.uga.edu>


Hi All,

I have data on several (predefined) groups of tree species, and for each
species within each group I have measurements on several variables. I am
interested in extracting discriminant functions to test the nature and
significance of the differences between these groups (say the differences
in the centroid). Any pointers on how I could implement this in R?

I am running R.1.5.0 on Redhat Linux 7.2. 

Thanks for your help,

Robert
------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed May 29 22:19:03 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 29 May 2002 21:19:03 +0100 (BST)
Subject: [R] Canonical Discriminant Analysis 
In-Reply-To: <Pine.A41.4.10.10205291514440.130668-100000@archa15.cc.uga.edu>
Message-ID: <Pine.LNX.4.31.0205292118340.9847-100000@gannet.stats>

lda/qda in package MASS.

On Wed, 29 May 2002, Robert Chandran wrote:

>
> Hi All,
>
> I have data on several (predefined) groups of tree species, and for each
> species within each group I have measurements on several variables. I am
> interested in extracting discriminant functions to test the nature and
> significance of the differences between these groups (say the differences
> in the centroid). Any pointers on how I could implement this in R?
>
> I am running R.1.5.0 on Redhat Linux 7.2.
>
> Thanks for your help,
>
> Robert
> ------
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clists at perrin.socsci.unc.edu  Wed May 29 22:46:35 2002
From: clists at perrin.socsci.unc.edu (Andrew Perrin)
Date: Wed, 29 May 2002 16:46:35 -0400 (EDT)
Subject: [R] Extracting intercept and residual std dev from lme results
Message-ID: <Pine.LNX.4.21.0205291642560.22928-100000@perrin.socsci.unc.edu>

Greetings-

I need to extract, programatically, the standard deviations of the
intercept and residuals from an lme model.  These are presented by
print.lme as:

...
        (Intercept)  Residual
StdDev:    1.410635 0.7800512
...

(data taken from ?lme's examples section)

I can get the residuals with x$sigma where x is the fitted lme object. I
can't find the intercept, though. The closest I've got is:

> tmp$modelStruct$reStruct     
Random effects:
 Formula: ~1 | ID
        (Intercept) Residual
StdDev:    1.808388        1

which still doesn't give me just the number. I've been looking in the
summary() and print() methods to the structures, but haven't had any luck
in pinpointing where this number is stored and/or calculated. I want to
use these numbers in a further function, so that's why I need access to
them in themselves rather than just in a summary.

Thanks for any advice.

----------------------------------------------------------------------
Andrew J Perrin - http://www.unc.edu/~aperrin
Assistant Professor of Sociology, U of North Carolina, Chapel Hill
clists at perrin.socsci.unc.edu * andrew_perrin (at) unc.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From PBrady at aol.com  Wed May 29 23:11:40 2002
From: PBrady at aol.com (PBrady@aol.com)
Date: Wed, 29 May 2002 17:11:40 EDT
Subject: [R] r
Message-ID: <122.11da8063.2a269e0c@aol.com>

http://trd2.cc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed May 29 23:48:48 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 29 May 2002 16:48:48 -0500
Subject: [R] Extracting intercept and residual std dev from lme results
In-Reply-To: <Pine.LNX.4.21.0205291642560.22928-100000@perrin.socsci.unc.edu>
References: <Pine.LNX.4.21.0205291642560.22928-100000@perrin.socsci.unc.edu>
Message-ID: <6ru1oqpqv3.fsf@franz.stat.wisc.edu>

getVarCov() in nlme_3.1-27

Andrew Perrin <clists at perrin.socsci.unc.edu> writes:

> Greetings-
> 
> I need to extract, programatically, the standard deviations of the
> intercept and residuals from an lme model.  These are presented by
> print.lme as:
> 
> ...
>         (Intercept)  Residual
> StdDev:    1.410635 0.7800512
> ...
> 
> (data taken from ?lme's examples section)
> 
> I can get the residuals with x$sigma where x is the fitted lme object. I
> can't find the intercept, though. The closest I've got is:
> 
> > tmp$modelStruct$reStruct     
> Random effects:
>  Formula: ~1 | ID
>         (Intercept) Residual
> StdDev:    1.808388        1
> 
> which still doesn't give me just the number. I've been looking in the
> summary() and print() methods to the structures, but haven't had any luck
> in pinpointing where this number is stored and/or calculated. I want to
> use these numbers in a further function, so that's why I need access to
> them in themselves rather than just in a summary.
> 
> Thanks for any advice.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fmejia at mac.com  Thu May 30 01:17:34 2002
From: fmejia at mac.com (=?ISO-8859-1?Q?Fredy_Mej=EDa?=)
Date: Wed, 29 May 2002 17:17:34 -0600
Subject: [R] Problem installing packages
Message-ID: <41C7D69C-735A-11D6-94B7-000A27DCBAD6@mac.com>

Dear R-experts,

	I'm a new R user and so far have no complains about ir.  However I 
still can't figure out how to install packages.  I'm running the R 1.5.0 
(Carbon) under OS X.  I just downloaded some packages from CRAN (Tree, 
among them) and moved them to the library folder in R.  When the R session 
started, I was expecting that using the command library(tree) would do it,
  but the program replied the following message:

 > library(tree)
Warning message:
Package  `Tree' contains no R code in: library(Tree)

Could someone tell me what's missing?

Fredy Mej?a

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markhall at gol.com  Thu May 30 03:42:47 2002
From: markhall at gol.com (markhall@gol.com)
Date: Thu, 30 May 2002 10:42:47 +0900
Subject: [R] hclust.identify problem
Message-ID: <E17DF57-0000aZ-00@smtp01.fields.gol.com>

Having some problems with using hclust.identify on my data, I revert to trying 
it out on the example in the help manual.  My result is still the same (as with 
my own data):

data(iris)
hci <- hclust(dist(iris[,1:4]))
plot(hci)
testx<-identify.hclust(hci)
Error in rect.hclust(x, k = k, x = x$x, cluster = cluster[, k - 1], border 
= "red") : 
        k must be between 2 and 0
identify.hclust(hci, function(k) print(table(iris[k,5])))
Error in rect.hclust(x, k = k, x = x$x, cluster = cluster[, k - 1], border 
= "red") : 
        k must be between 2 and 0

Any suggestions?

I am using R : Copyright 2002, The R Development Core Team
Version 1.5.0  (2002-04-29)  The hclust package was also downloaded 
at the sametime I downloaded the base and other packages (circa May 10th or
so).

I am using the Windows binaries on a DELL laptop with 256 MB of ram running
Windows 2000.

The other stuff I have wanted to use in the hclust package seems to be working 
fine.

Best, Mark Hall




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 30 06:49:01 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 30 May 2002 05:49:01 +0100 (BST)
Subject: [R] hclust.identify problem
In-Reply-To: <E17DF57-0000aZ-00@smtp01.fields.gol.com>
Message-ID: <Pine.LNX.4.31.0205300546520.10353-100000@gannet.stats>

It's a bug in identify.hclust (sic).  `x' is used in two senses.
For the record, please send to R-bugs.

On Thu, 30 May 2002 markhall at gol.com wrote:

> Having some problems with using hclust.identify on my data, I revert to trying
> it out on the example in the help manual.  My result is still the same (as with
> my own data):
>
> data(iris)
> hci <- hclust(dist(iris[,1:4]))
> plot(hci)
> testx<-identify.hclust(hci)
> Error in rect.hclust(x, k = k, x = x$x, cluster = cluster[, k - 1], border
> = "red") :
>         k must be between 2 and 0
> identify.hclust(hci, function(k) print(table(iris[k,5])))
> Error in rect.hclust(x, k = k, x = x$x, cluster = cluster[, k - 1], border
> = "red") :
>         k must be between 2 and 0
>
> Any suggestions?
>
> I am using R : Copyright 2002, The R Development Core Team
> Version 1.5.0  (2002-04-29)  The hclust package was also downloaded
> at the sametime I downloaded the base and other packages (circa May 10th or
> so).
>
> I am using the Windows binaries on a DELL laptop with 256 MB of ram running
> Windows 2000.
>
> The other stuff I have wanted to use in the hclust package seems to be working
> fine.
>
> Best, Mark Hall
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plecca at kirk.science.unitn.it  Thu May 30 09:23:53 2002
From: plecca at kirk.science.unitn.it (Paola Lecca)
Date: Thu, 30 May 2002 09:23:53 +0200 (MET DST)
Subject: [R] Bidimensional DWT
Message-ID: <Pine.OSF.4.31.0205300917140.17305-100000@kirk.science.unitn.it>

Hi !

is there a function that perform a bidimensional discrete wavelet
transform (2D DWT) ?

Rwave pachage process 1D signals only. I need a package of function
performing the DWT of a 2D signal. Does it already exist ? In this case
where can I find it ?

Thanks in advance.
Paola.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Thu May 30 10:11:08 2002
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Thu, 30 May 2002 10:11:08 +0200 (MET DST)
Subject: [R] inverse gaussian random numbers
In-Reply-To: <3CF500DE.4FF29CF4@hi.is> from "Helgi Tomasson" at May 29, 2002 04:25:02 PM
Message-ID: <200205300811.KAA21607@luc.ac.be>

> 
> Dear R-people
> 
> Does someone have a routine to ngenerate inverse-gaussian random
> numbers.  I am thinking of
> something similar to rinvgauss, pinvgauss etc. in S-plus.

Yes in my rmutil library at
www.luc.ac.be/~jlindsey/rcode.html
along with a lot of other distributions. Jim

> 
> best regards
> 
> Helgi
> 
> 
> --
> Helgi Tomasson                                       FAX:  354-552-6806
> University of Iceland                                PHONE:354-525-4571
> Faculty of Economics and Business Administration     email:helgito at rhi.hi.is
> Oddi v/ Sturlugotu
> IS-101 Reykjavik
> ICELAND
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Thu May 30 10:31:02 2002
From: siim at obs.ee (Ott Toomet)
Date: Thu, 30 May 2002 10:31:02 +0200 (CEST)
Subject: [R] Problem installing packages
In-Reply-To: <41C7D69C-735A-11D6-94B7-000A27DCBAD6@mac.com>
Message-ID: <Pine.LNX.4.44.0205301024580.1207-100000@localhost.localdomain>

Hi,

On Wed, 29 May 2002, [ISO-8859-1] Fredy Mej?a wrote:

  |Dear R-experts,
  |
  |	I'm a new R user and so far have no complains about ir.  However I 
  |still can't figure out how to install packages.  I'm running the R 1.5.0 
  |(Carbon) under OS X.  I just downloaded some packages from CRAN (Tree, 
  |among them) and moved them to the library folder in R.  When the R session 
  |started, I was expecting that using the command library(tree) would do it,
  |  but the program replied the following message:
  |
  | > library(tree)
  |Warning message:
  |Package  `Tree' contains no R code in: library(Tree)

Try to read FAQ on CRAN.  It is explained there as well as in V&R 'S
Programming'.

It is not enough to copy the library file.  You have to install it.  On
linux, you simply type (on OS prompt),

$ R CMD INSTALL /path/to/pkg_version.tar.gz

I think, it is similar in OS X.  Basically, it compiles the package for you. 
There are also pre-compiled recommended packages for OS X on CRAN.


Best,

Ott











-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metrinomics.de  Thu May 30 10:31:01 2002
From: c.schulz at metrinomics.de (Christian Schulz)
Date: Thu, 30 May 2002 10:31:01 +0200
Subject: [R] RODBC & Problems with Sybase Database 
Message-ID: <3CF5E345.5050808@metrinomics.de>

Hello,
i  would like import Data from Sybase DataBase to R-1.5.0 via RODBC.

With this i get a connection without problems !
channel <- odbcConnect("ODBCName","LoginName","LoginPass")
    
dataSybase  <-  sqlFetch(channel,"EPORT_XYZ")
,but when i try this i get a message error ?  
(Perhaps the _ is a problem, i know that's i.e. not usual to name 
objects with _ in R ?)

Error in odbcFetchRows(channel, max = max, transposing = (as != 
"matrix"),  :  negative length vectors are not allowed


......i don't know what's happen because the ODBC Import works
i.e. with Excel/SPSS  fine !

Thanks for advance & regards,
Christian








-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 30 10:48:04 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 30 May 2002 09:48:04 +0100 (BST)
Subject: [R] RODBC & Problems with Sybase Database 
In-Reply-To: <3CF5E345.5050808@metrinomics.de>
Message-ID: <Pine.LNX.4.31.0205300947100.21889-100000@gannet.stats>

On Thu, 30 May 2002, Christian Schulz wrote:

> Hello,
> i  would like import Data from Sybase DataBase to R-1.5.0 via RODBC.
>
> With this i get a connection without problems !
> channel <- odbcConnect("ODBCName","LoginName","LoginPass")
>
> dataSybase  <-  sqlFetch(channel,"EPORT_XYZ")
> ,but when i try this i get a message error ?
> (Perhaps the _ is a problem, i know that's i.e. not usual to name
> objects with _ in R ?)

It is. Search the archives for a workaround I posted a few days ago.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 30 10:55:12 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 30 May 2002 09:55:12 +0100 (BST)
Subject: [R] Problem installing packages
In-Reply-To: <Pine.LNX.4.44.0205301024580.1207-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.31.0205300948300.21889-100000@gannet.stats>

Unfortunately that information is for the `darwin' version of R, not the
Carbon version.

There appears to be a binary of an obselete version of tree (not Tree,
BTW) for the Carbon version in

http://cran.r-project.org/bin/macos/contrib/rm141/

Do check the Readme.txt in the directory above.



On Thu, 30 May 2002, Ott Toomet wrote:

> Hi,
>
> On Wed, 29 May 2002, [ISO-8859-1] Fredy Mejía wrote:
>
>   |Dear R-experts,
>   |
>   |	I'm a new R user and so far have no complains about ir.  However I
>   |still can't figure out how to install packages.  I'm running the R 1.5.0
>   |(Carbon) under OS X.  I just downloaded some packages from CRAN (Tree,
>   |among them) and moved them to the library folder in R.  When the R session
>   |started, I was expecting that using the command library(tree) would do it,
>   |  but the program replied the following message:
>   |
>   | > library(tree)
>   |Warning message:
>   |Package  `Tree' contains no R code in: library(Tree)
>
> Try to read FAQ on CRAN.  It is explained there as well as in V&R 'S
> Programming'.
>
> It is not enough to copy the library file.  You have to install it.  On
> linux, you simply type (on OS prompt),
>
> $ R CMD INSTALL /path/to/pkg_version.tar.gz
>
> I think, it is similar in OS X.  Basically, it compiles the package for you.
> There are also pre-compiled recommended packages for OS X on CRAN.
>
>
> Best,
>
> Ott
>
>
>
>
>
>
>
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu May 30 12:50:54 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Thu, 30 May 2002 06:50:54 -0400
Subject: [R] foreign read.S
Message-ID: <20020530065054.7dc0b55a.fharrell@virginia.edu>

When I convert an S-Plus 2000 binary list object to R using read.S in the foreign package, elements of the list that have 'names' attributes are sometimes set up to have '.Names' attributes.  I suppose that S-Plus had used .Names invisibly to me.  Does anyone have code to recursively go through a complex list efficiently and change all '.Names' attributes to 'names'?  I tried just doing this with dput or dump and Emacs but the list contains some expressions that dget or source tries to evaluate that do not make sense at that stage.

Perhaps read.S could be enhanced to do this automatically.

Thanks,

Frank

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bwheeler at echip.com  Thu May 30 13:45:00 2002
From: bwheeler at echip.com (Bob Wheeler)
Date: Thu, 30 May 2002 07:45:00 -0400
Subject: [R] inverse gaussian random numbers
References: <200205300811.KAA21607@luc.ac.be>
Message-ID: <3CF610BC.37258318@echip.com>

The package SuppDists has these functions.

Jim Lindsey wrote:
> 
> >
> > Dear R-people
> >
> > Does someone have a routine to ngenerate inverse-gaussian random
> > numbers.  I am thinking of
> > something similar to rinvgauss, pinvgauss etc. in S-plus.
> 
> Yes in my rmutil library at
> www.luc.ac.be/~jlindsey/rcode.html
> along with a lot of other distributions. Jim
> 
> >
> > best regards
> >
> > Helgi
> >
> >
> > --
> > Helgi Tomasson                                       FAX:  354-552-6806
> > University of Iceland                                PHONE:354-525-4571
> > Faculty of Economics and Business Administration     email:helgito at rhi.hi.is
> > Oddi v/ Sturlugotu
> > IS-101 Reykjavik
> > ICELAND
> >
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Bob Wheeler --- (Reply to: bwheeler at echip.com)
        ECHIP, Inc.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metrinomics.de  Thu May 30 14:10:55 2002
From: c.schulz at metrinomics.de (Christian Schulz)
Date: Thu, 30 May 2002 14:10:55 +0200
Subject: [R] RODBC & Problems with Sybase Database
References: <Pine.LNX.4.31.0205300947100.21889-100000@gannet.stats>
Message-ID: <3CF616CF.1040704@metrinomics.de>

Ok, i  test/understand that a object what work with any
RODBC function should not have any  point or something other special 
sign  in the name.

I follow the recommendation from Prof. Ripley and change the sqlFetch 
function, but
the error message is the same.
My problem is (1.)  that the name of the tables in th db have all the 
name structure  DATA.EXPORT_NAME 
and i understand that  .EXPORT_NAME cause the problems.

Should i do the same like "juli g. pausas (13.May.2002)" with the loop & 
noms, that
the modified function sqflFetch works (..but it's not so easy,because
list.file(pattern="DATA.EXPORT")  is difficult,because the DataBase is a 
 Server and not my localMachine ?

When it works, i get all tables with the name DATA.EXPORT in a list ?

many thanks for suggestions
& regards,Christian



ripley at stats.ox.ac.uk wrote:

>On Thu, 30 May 2002, Christian Schulz wrote:
>
>>Hello,
>>i  would like import Data from Sybase DataBase to R-1.5.0 via RODBC.
>>
>>With this i get a connection without problems !
>>channel <- odbcConnect("ODBCName","LoginName","LoginPass")
>>
>>dataSybase  <-  sqlFetch(channel,"EPORT_XYZ")
>>,but when i try this i get a message error ?
>>(Perhaps the _ is a problem, i know that's i.e. not usual to name
>>objects with _ in R ?)
>>
>
>It is. Search the archives for a workaround I posted a few days ago.
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020530/c1f421a9/attachment.html

From tlorino at vet-alfort.fr  Thu May 30 14:46:14 2002
From: tlorino at vet-alfort.fr (tlorino@vet-alfort.fr)
Date: Thu, 30 May 2002 14:46:14 +0200
Subject: [R] Building a stand-alone package
Message-ID: <9583366224.20020530144614@vet-alfort.fr>

Dear R users,

I'm working with Windows 2000 and R -- note that I could maybe work with Linux too...
I would like to know if it is possible to build a stand-alone statistical
package which:
-- could be programmed in R language,
-- could have a nice graphical interface with buttons and menus (this package
will be distributed to non-statistician people),
-- could realize statistical operations, like for example simulations with
Monte-Carlo method.

If needed, it could be implemented with Java (or Perl?).

Thank you for your advice,
Tristan Lorino

---------------------- 
?cole Nationale V?t?rinaire d'Alfort - http://www.vet-alfort.fr,
T?l. 01 43 96 70 33
M?l. tlorino at vet-alfort.fr
Site personnel : http://daedale.free.fr

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From klavan at tiscalinet.it  Thu May 30 14:59:42 2002
From: klavan at tiscalinet.it (Ambrosini Alessandro)
Date: Thu, 30 May 2002 14:59:42 +0200
Subject: [R] Fisher test
Message-ID: <PPEGLLABFLFCJDLCGPGHCEMECAAA.klavan@tiscalinet.it>

Hello! I started from two matrix. I made "margin.table" and so now I have
two vectors. I have to take the first elements of the two vectors, and the
sum of the remaining element of each vector.
I make a example.Suppose to have (1,3,5,7,9)
                                 (2,6,8,0,1)
I want to take 1,2 that are the first elements of the vectors, and make
3+5+7+9=24 for the first vector and 6+8+0+1=15 for the second. At this point
I build a table in this way
   1  24
   2  15
For this table I use the Fisher exact test. After this I have to take the
second elements of the vectors, find the sum of the rest of the vectors,
build another table and make Fisher. I have to do it for all the elements of
the vectors. In this case I have to find 5 tables. The problem is that I
have vectors with 1000 elements.
I know that I have to use "for" to build the table.
I know also that everytime fisher.test gives me the reslut.
The question is: have I to see one by one all the 1000 results or is there a
way to  create for example  a table with all the p-values or all the
confidence intervals? At the end my object is to say for example that 700
tables rejected the null hypothesis and 300 no.
Plese help me.
Thank you
Alessandro

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu May 30 15:06:29 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 May 2002 15:06:29 +0200
Subject: [R] Building a stand-alone package
In-Reply-To: <9583366224.20020530144614@vet-alfort.fr>
References: <9583366224.20020530144614@vet-alfort.fr>
Message-ID: <x2bsaxiy3u.fsf@blueberry.kubism.ku.dk>

tlorino at vet-alfort.fr writes:

> Dear R users,
> 
> I'm working with Windows 2000 and R -- note that I could maybe work with Linux too...
> I would like to know if it is possible to build a stand-alone statistical
> package which:
> -- could be programmed in R language,
> -- could have a nice graphical interface with buttons and menus (this package
> will be distributed to non-statistician people),
> -- could realize statistical operations, like for example simulations with
> Monte-Carlo method.
> 
> If needed, it could be implemented with Java (or Perl?).

Things of this sort have been coded up using the tcltk package before.
This is in general fairly easy (check out demo(tkdensity) et al.), but
of course the magnitude of the task depends on how much ground you
want to cover.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nolwenn.lemeur at nantes.inserm.fr  Thu May 30 15:58:10 2002
From: nolwenn.lemeur at nantes.inserm.fr (Nolwenn Le Meur)
Date: Thu, 30 May 2002 15:58:10 +0200
Subject: [R] savePlot without displaying it
Message-ID: <NOEOLHEEMLOCABODHCFCAEHDCAAA.nolwenn.lemeur@nantes.inserm.fr>

Hi,
I would like to save a plot without opening the device window (no display).
Is it possible ? How can I do it ?

Thanks

Nolwenn

*------------------------------------------*
Nolwenn Le Meur
INSERM U533
Facult? de M?decine
1, rue Gaston Veil
44035 Nantes cedex 1
t?l: +33(0)2-40-41-29-86
fax: +33(0)2-40-41-29-50
e-mail: nolwenn.lemeur at nantes.inserm.fr
*------------------------------------------*

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From celine.rondey at educagri.fr  Thu May 30 16:20:47 2002
From: celine.rondey at educagri.fr (CELINE RONDEY)
Date: Thu, 30 May 2002 16:20:47 +0200
Subject: [R] To create a menu
Message-ID: <fc.000f5d97018f9bce000f5d97018f9bce.18f9dd4@educagri.fr>

Dear all,

I would like to create a graphics menu.
There is a function "menu" which presents the user with a menu of choices
labelled from 1 to the number of choices(in the package base).

But it's an "iteractive" function.
Actually, i work with GRASS and R (under linux) and i use the command R
--vanilla<"name"                 to execute my routine.
That why, i think that it is impossible to use this function "menu".

Do you know an other function to create a menu?

Thanks in advance for all kind of help.

regards,

C?line RONDEY

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu May 30 16:23:59 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 30 May 2002 16:23:59 +0200
Subject: [R] savePlot without displaying it
References: <NOEOLHEEMLOCABODHCFCAEHDCAAA.nolwenn.lemeur@nantes.inserm.fr>
Message-ID: <3CF635FF.E3D7B65A@statistik.uni-dortmund.de>



Nolwenn Le Meur wrote:
> 
> Hi,
> I would like to save a plot without opening the device window (no display).
> Is it possible ? How can I do it ?

You must open a device to generate a plot, but not necessarily on the
screen: e.g. postscript() prints to a postscript file.
See ?Devices for a list of possible devices.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 30 16:25:13 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 30 May 2002 15:25:13 +0100 (BST)
Subject: [R] savePlot without displaying it
In-Reply-To: <NOEOLHEEMLOCABODHCFCAEHDCAAA.nolwenn.lemeur@nantes.inserm.fr>
Message-ID: <Pine.LNX.4.31.0205301522250.21973-100000@gannet.stats>

On Thu, 30 May 2002, Nolwenn Le Meur wrote:

> I would like to save a plot without opening the device window (no display).
> Is it possible ? How can I do it ?

It is not possible. savePlot records the graphics commands in the
device's playlist, so there has to be a playlist.  Logically you cannot
`save' a non-existent plot.

savePlot is Windows-only, and you can plot directly on any of the devices
it uses, so I don't see any need for this.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nj7w at virginia.edu  Thu May 30 16:32:26 2002
From: nj7w at virginia.edu (nj7w@virginia.edu)
Date: Thu, 30 May 2002 10:32:26 -0400 (EDT)
Subject: [R] Omegahat - R and S interface
Message-ID: <Pine.A41.4.32.0205301029170.48020-100000@node3.unix.Virginia.EDU>

Has anybody used RinS package (www.omegahat.org/RinS)?
I am facing difficulties in installing it on Solaris machine.

Thanks.
Nitin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gaofeng at baf.msmail.cuhk.edu.hk  Thu May 30 16:34:09 2002
From: gaofeng at baf.msmail.cuhk.edu.hk (Gao Feng                 (FIN))
Date: Thu, 30 May 2002 22:34:09 +0800
Subject: [R] problem of compile fortran program
Message-ID: <912C9E47567BD51186AB00B0D078EB01F8B45E@servere.baf.cuhk.edu.hk>



I want to call dll from R but encounter problem in compiling the fortran
program.

First I try "Rcmd shlib prog.f", it failed and warning:

 make[1]: `libR.a' is up to date.
 make: *** No rule to make target `'prog.o', needed by `prog.a'. stop.

Then I try to compile it by absoft fortran compiler, it works and produces
prog.dll.
But when this routine is called in R, it did nothing in fact.
For example,

> x<-1:20
> phi<-0.75
> n<-20
> .Fortran("_ARSIM",x,phi,n)
[[1]]
 [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20

[[2]]
[1] 0.75

[[3]]
[1] 20


What's wrong? I don't know how to deal with it.
Any suggestions would be great appreciated.

Thanks in advance.

-------FORTRAN CODE:  prog.f-------
      SUBROUTINE ARSIM_(X,NDIM,PHI)
      INTEGER NDIM
      REAL X(NDIM),PHI
      IF(NDIM.GT.1)THEN
      DO 10 I=2,NDIM
          X(I) = PHI*X(I-1)+X(I)
   10 CONTINUE
      ENDIF
      RETURN
      END
----------------------------

> R.version
         _              
platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status   Patched        
major    1              
minor    5.0            
year     2002           
month    05             
day      15             
language R              

OS: win98 se
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 30 16:44:59 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 30 May 2002 15:44:59 +0100 (BST)
Subject: [R] problem of compile fortran program
In-Reply-To: <912C9E47567BD51186AB00B0D078EB01F8B45E@servere.baf.cuhk.edu.hk>
Message-ID: <Pine.LNX.4.31.0205301539060.22025-100000@gannet.stats>

On Thu, 30 May 2002, Gao Feng                 (FIN) wrote:

>
>
> I want to call dll from R but encounter problem in compiling the fortran
> program.
>
> First I try "Rcmd shlib prog.f", it failed and warning:
>
>  make[1]: `libR.a' is up to date.
>  make: *** No rule to make target `'prog.o', needed by `prog.a'. stop.

No idea. When I use your example I get

[c:/TEMP]% Rcmd SHLIB prog.f
g77 -O2 -Wall  -c prog.f -o prog.o
ar cr prog.a *.o
ranlib prog.a
------- Building prog.dll from prog.a --------
echo LIBRARY prog > prog.def
echo EXPORTS >> prog.def
nm prog.a > Defs
sed -n '/^........ [BCDRT] _/s/^........ [BCDRT] _/ /p' Defs >> prog.def
rm -f Defs
gcc  --shared -s  -o prog.dll prog.def prog.a  -Lc:/R/rw1051/src/gnuwin32
-lg2c -lR
rm -f prog.def


> Then I try to compile it by absoft fortran compiler, it works and produces
> prog.dll.
> But when this routine is called in R, it did nothing in fact.
> For example,
>
> > x<-1:20
> > phi<-0.75
> > n<-20
> > .Fortran("_ARSIM",x,phi,n)
> [[1]]
>  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20
>
> [[2]]
> [1] 0.75
>
> [[3]]
> [1] 20
>
>
> What's wrong? I don't know how to deal with it.

Read ?Foreign.  The arguments should be DOUBLE PRECISION, but

.Fortran("arsim", as.single(x), as.single(phi), as.integer(20))

might work.  You've failed to match the types in Fortran and in R.

> Any suggestions would be great appreciated.
>
> Thanks in advance.
>
> -------FORTRAN CODE:  prog.f-------
>       SUBROUTINE ARSIM_(X,NDIM,PHI)
>       INTEGER NDIM
>       REAL X(NDIM),PHI
>       IF(NDIM.GT.1)THEN
>       DO 10 I=2,NDIM
>           X(I) = PHI*X(I-1)+X(I)
>    10 CONTINUE
>       ENDIF
>       RETURN
>       END
> ----------------------------

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jahumada at usgs.gov  Thu May 30 16:47:04 2002
From: jahumada at usgs.gov (Jorge A Ahumada)
Date: Thu, 30 May 2002 09:47:04 -0500
Subject: [R] neighbor.grid and spatial.weights
Message-ID: <1BBE149E-73DC-11D6-9233-00039357724C@usgs.gov>

Anyobody knows if functions neighbor.grid and spatial.weights (from 
module spatial) have any 'equivalents' in R ?

Thanks.

JA

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ku.edu  Thu May 30 16:39:43 2002
From: pauljohn at ku.edu (Paul Johnson)
Date: Thu, 30 May 2002 09:39:43 -0500
Subject: [R] R-1.5 support for HDF5-1.4.3 available for RedHat 7.3
Message-ID: <3CF639AF.6050501@ku.edu>

I just  updated and tested these. Hope they work for you:

I have been building hdf5 rpms a long time, no complaints yet:

http://lark.cc.ku.edu/~pauljohn/software/hdf5-1.4.3-1RH73.i386.rpm

And here is an RPM/SRPM for the R library hdf5, which Marcus Daniels 
developed.
http://lark.cc.ku.edu/~pauljohn/software/R-hdf5-1.4.7.R1.5.0-1.i386.rpm
http://lark.cc.ku.edu/~pauljohn/software/R-hdf5-1.4.7.R1.5.0-1.src.rpm

I've loaded hdf5 datasets into R and confirmed this works.
-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ku.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu May 30 17:10:51 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 30 May 2002 08:10:51 -0700 (PDT)
Subject: [R] Bidimensional DWT
In-Reply-To: <Pine.OSF.4.31.0205300917140.17305-100000@kirk.science.unitn.it>
Message-ID: <Pine.A41.4.44.0205300810400.244700-100000@homer03.u.washington.edu>

On Thu, 30 May 2002, Paola Lecca wrote:

> Hi !
>
> is there a function that perform a bidimensional discrete wavelet
> transform (2D DWT) ?
>
> Rwave pachage process 1D signals only. I need a package of function
> performing the DWT of a 2D signal. Does it already exist ? In this case
> where can I find it ?

I think wavethresh has such a function.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu May 30 17:16:24 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 30 May 2002 08:16:24 -0700 (PDT)
Subject: [R] Building a stand-alone package
In-Reply-To: <9583366224.20020530144614@vet-alfort.fr>
Message-ID: <Pine.A41.4.44.0205300812120.244700-100000@homer03.u.washington.edu>

On Thu, 30 May 2002 tlorino at vet-alfort.fr wrote:

> Dear R users,
>
> I'm working with Windows 2000 and R -- note that I could maybe work with Linux too...
> I would like to know if it is possible to build a stand-alone statistical
> package which:
> -- could be programmed in R language,
> -- could have a nice graphical interface with buttons and menus (this package
> will be distributed to non-statistician people),
> -- could realize statistical operations, like for example simulations with
> Monte-Carlo method.
>
> If needed, it could be implemented with Java (or Perl?).

In principle you could do this with either Java or Tcl/tk -- the tools are
there.  There are probably bindings to other things lurking somewhere as
well.  Programming a reasonably flexible system would be tedious but the
real effort would be designing a good user interface.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ku.edu  Thu May 30 17:08:13 2002
From: pauljohn at ku.edu (Paul Johnson)
Date: Thu, 30 May 2002 10:08:13 -0500
Subject: [R] Systems of equations in glm?
Message-ID: <3CF6405D.4050703@ku.edu>


I have a student that I'm encouraging to use R rather than SAS or Stata 
and within just 2 weeks he has come up with a question that stumps me.

What does a person do about endogeneity in generalized linear models?

Suppose Y1 and Y2 are 5 category ordinal dependent variables.  I see 
that MASS has polr for estimation of models like that, as long as they 
are independent. But what if the models were to be written:

   Y1.plr <- polr(Y1 ~ Y2 + X1 + X2)

   Y2.plr <- polr(Y2 ~ Y1 + X3 + X4)

Are estimates of the coefficients for Y1 and Y2 biased, as they would be 
in a linear model?  I think yes. Do I need some equivalent of 2SLS or FIML?

It is not entirely clear to me if, in this example, the input Y1 or Y2 
is conceptualized as the 5 point scale or rather if it is thought of as 
a continuous variable which is observed with error.

Is there an email list besides r-help where I should be asking questions 
like this? I understand it is not strictly R related and would gladly go 
bother other people than you if you tell me where.

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ku.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu May 30 17:29:46 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 30 May 2002 08:29:46 -0700 (PDT)
Subject: [R] Fisher test
In-Reply-To: <PPEGLLABFLFCJDLCGPGHCEMECAAA.klavan@tiscalinet.it>
Message-ID: <Pine.A41.4.44.0205300821230.244700-100000@homer03.u.washington.edu>

On Thu, 30 May 2002, Ambrosini Alessandro wrote:

> Hello! I started from two matrix. I made "margin.table" and so now I have
> two vectors. I have to take the first elements of the two vectors, and the
> sum of the remaining element of each vector.
> I make a example.Suppose to have (1,3,5,7,9)
>                                  (2,6,8,0,1)
> I want to take 1,2 that are the first elements of the vectors, and make
> 3+5+7+9=24 for the first vector and 6+8+0+1=15 for the second. At this point
> I build a table in this way
>    1  24
>    2  15
> For this table I use the Fisher exact test. After this I have to take the
> second elements of the vectors, find the sum of the rest of the vectors,
> build another table and make Fisher. I have to do it for all the elements of
> the vectors. In this case I have to find 5 tables. The problem is that I
> have vectors with 1000 elements.
> I know that I have to use "for" to build the table.
> I know also that everytime fisher.test gives me the reslut.

Suppose a and b are your two vectors.  You can do

A<-rev(cumsum(rev(a))
B<-rev(cumsum(rev(b))

and then
   pvalues<-sapply(1:999, function(i)
   	fisher.test(matrix(c(a[i],b[i],A[i+1],B[i+1]),2))$p.values)
using the fact (which you can discover from the help or by using str())
that the p value is the $p.value component of the result of the test.

You could also construct a 2x2x999 array from a[-1000],b[-1000],A[-1] and
B[-1] and use apply() to do the tests to each layer
   M<-array(c(a[-1000],b[-1000],A[-1],B[-1]),dim=c(999,2,2))
   pvalues<-apply(M,1,function(m) fisher.test(m)$p.value)

or use a for() loop explicitly, in which case you need to define the
vector first

pvalues<-numeric(999)
for(i in 1:999){
   pvalues[i]<- fisher.test(matrix(c(a[i],b[i],A[i+1],B[i+1]),2))$p.values
}

I think the apply version is the neatest.  They all seem to have about the
same speed on the one example I tried.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tklistaddr at keittlab.bio.sunysb.edu  Thu May 30 17:59:25 2002
From: tklistaddr at keittlab.bio.sunysb.edu (Timothy H. Keitt)
Date: 30 May 2002 11:59:25 -0400
Subject: [R] Bidimensional DWT
In-Reply-To: 
	<Pine.OSF.4.31.0205300917140.17305-100000@kirk.science.unitn.it>
References: <Pine.OSF.4.31.0205300917140.17305-100000@kirk.science.unitn.it>
Message-ID: <1022774365.3245.7.camel@peregrine>

See wavethresh and waveslim on CRAN.

Cheers,
Tim

On Thu, 2002-05-30 at 03:23, Paola Lecca wrote:
> Hi !
> 
> is there a function that perform a bidimensional discrete wavelet
> transform (2D DWT) ?
> 
> Rwave pachage process 1D signals only. I need a package of function
> performing the DWT of a 2D signal. Does it already exist ? In this case
> where can I find it ?
> 
> Thanks in advance.
> Paola.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john_heumann at agilent.com  Thu May 30 18:14:47 2002
From: john_heumann at agilent.com (john_heumann@agilent.com)
Date: Thu, 30 May 2002 10:14:47 -0600
Subject: [R] problem installing quadprog
Message-ID: <9153F74610B7D311B83900902771C8710A4CEA52@axcs07.cos.agilent.com>

When I try to build/install the quadprog package under R1.50 and NT4
it seems to have trouble finding blas routines. I'm currently using the
generic blas routines, rather than ATLAS or some other tuned implementation:

   > Rcmd INSTALL d:/temp/quadrprog
   ...
   gcc  --shared -s  -o quadprog.dll quadprog.def quadprog.a quadprog_res.o  -Lc:/a
   pps/rw1050/src/gnuwin32  -lg2c -lR
   quadprog.a(util.o)(.text+0x84):util.f: undefined reference to `dscal_'
   quadprog.a(util.o)(.text+0xfa):util.f: undefined reference to `daxpy_'
   quadprog.a(util.o)(.text+0x188):util.f: undefined reference to `ddot_'
   quadprog.a(util.o)(.text+0x21f):util.f: undefined reference to `daxpy_'
   make[2]: *** [quadprog.dll] Error 1

rBlas.dll is present in <RHOME>/bin, but note that there is no "-L" directive
for that directory. If I add it, the installation completes correctly.

Is there something wrong with my installation, or has the <RHOME>/bin
directory accidentally been left off the library search path?

What's the easiest way for me to fix this, so I don't encounter the same 
problem when building other packages? (BTW, this is the first optional 
package I've had trouble with. Everything else has built/installed correctly).

Thanks in advance,
-jh-

=================================
John Heumann, Agilent Technologies, Inc.
815 14th. St. S.W., Loveland, CO 80537 
Email: john_heumann at agilent.com
Phone: (970) 679-3761, Fax: (970) 679-5399
=================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john_heumann at agilent.com  Thu May 30 18:27:40 2002
From: john_heumann at agilent.com (HEUMANN,JOHN (A-Loveland,ex1))
Date: Thu, 30 May 2002 10:27:40 -0600
Subject: [R] Followup on quadprog installation
Message-ID: <9153F74610B7D311B83900902771C8710A4CEA53@axcs07.cos.agilent.com>

Oops... just realized there were a couple mistakes in the question
I posted regarding installation of quadprog:

   1) The gcc command line is shown wrapped to the next line.
       Please ignore this.

   2) In addition to adding  a -Lc:/apps/rw1050/bin option to the 
       command line, I also added -lRblas.

Thanks,
-jh-

=================================
John Heumann, Agilent Technologies, Inc.
815 14th. St. S.W., Loveland, CO 80537 
Email: john_heumann at agilent.com
Phone: (970) 679-3761, Fax: (970) 679-5399
=================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 30 18:53:51 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 30 May 2002 17:53:51 +0100 (BST)
Subject: [R] problem installing quadprog
In-Reply-To: <9153F74610B7D311B83900902771C8710A4CEA52@axcs07.cos.agilent.com>
Message-ID: <Pine.LNX.4.31.0205301748410.22239-100000@gannet.stats>

On Thu, 30 May 2002 john_heumann at agilent.com wrote:

> When I try to build/install the quadprog package under R1.50 and NT4
> it seems to have trouble finding blas routines. I'm currently using the
> generic blas routines, rather than ATLAS or some other tuned implementation:

Although you do not say, I presume you installed from SetupR.exe rather
than building from the sources yourself?

>    > Rcmd INSTALL d:/temp/quadrprog
>    ...
>    gcc  --shared -s  -o quadprog.dll quadprog.def quadprog.a quadprog_res.o  -Lc:/a
>    pps/rw1050/src/gnuwin32  -lg2c -lR
>    quadprog.a(util.o)(.text+0x84):util.f: undefined reference to `dscal_'
>    quadprog.a(util.o)(.text+0xfa):util.f: undefined reference to `daxpy_'
>    quadprog.a(util.o)(.text+0x188):util.f: undefined reference to `ddot_'
>    quadprog.a(util.o)(.text+0x21f):util.f: undefined reference to `daxpy_'
>    make[2]: *** [quadprog.dll] Error 1
>
> rBlas.dll is present in <RHOME>/bin, but note that there is no "-L" directive
> for that directory. If I add it, the installation completes correctly.
>
> Is there something wrong with my installation, or has the <RHOME>/bin
> directory accidentally been left off the library search path?
>
> What's the easiest way for me to fix this, so I don't encounter the same
> problem when building other packages? (BTW, this is the first optional
> package I've had trouble with. Everything else has built/installed correctly).

You should not be linking against a DLL but against an import library.
I get

gcc  --shared -s  -o quadprog.dll quadprog.def quadprog.a quadprog_res.o
-Lc:/R/rw1051/src/gnuwin32  -lg2c -lRblas -lR

The best solution is to build R from the sources yourself.  Looks like the
Windows maintainer has not checked that the source packages in the binary
distribution can link against Rblas.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.firth at nuffield.oxford.ac.uk  Thu May 30 19:02:16 2002
From: david.firth at nuffield.oxford.ac.uk (David Firth)
Date: Thu, 30 May 2002 18:02:16 +0100
Subject: [R] Systems of equations in glm?
In-Reply-To: <3CF6405D.4050703@ku.edu>
Message-ID: <FE77F787-73EE-11D6-BF64-0050E4C03977@nuffield.oxford.ac.uk>

On Thursday, May 30, 2002, Paul Johnson wrote:

>
> I have a student that I'm encouraging to use R rather than SAS or Stata 
> and within just 2 weeks he has come up with a question that stumps me.
>
> What does a person do about endogeneity in generalized linear models?
>
> Suppose Y1 and Y2 are 5 category ordinal dependent variables.  I see that 
> MASS has polr for estimation of models like that, as long as they are 
> independent. But what if the models were to be written:
>
>   Y1.plr <- polr(Y1 ~ Y2 + X1 + X2)
>
>   Y2.plr <- polr(Y2 ~ Y1 + X3 + X4)
>
> Are estimates of the coefficients for Y1 and Y2 biased, as they would be 
> in a linear model?  I think yes. Do I need some equivalent of 2SLS or 
> FIML?

yes and yes, I believe.  I presume that you *really* have in mind that Y1 
and Y2 are imperfect (ie, categorized) observations of underlying 
continuous variables (Z1 and Z2, say)?  And that the equations whose 
coefficients you'd really like to estimate are (in your R style)

  lm(Z1 ~ Z2 + X1 + X2)
  lm(Z2 ~ Z1 + X1 + X2)

-- in which case the likelihood, assuming bivariate normality of (Z1,Z2) 
given (X1,X2), involves bivariate normal integrals evaluated over 
rectangles with boundaries determined by category threshold parameters.

I don't think this (ie, maximization of that likelihood) is programmed at 
present in R.  From what you say, I infer that it's not in Stata or SAS 
either?

A sensible first analysis might be simply to forget that Y1 and Y2 are 
multinomial, and fit the linear system using some suitable set(s) of 
numeric scores for the categories.  Depending on the results, that might 
also be a sensible last analysis...

Regards,
David

> It is not entirely clear to me if, in this example, the input Y1 or Y2 is 
> conceptualized as the 5 point scale or rather if it is thought of as a 
> continuous variable which is observed with error.
>
> Is there an email list besides r-help where I should be asking questions 
> like this? I understand it is not strictly R related and would gladly go 
> bother other people than you if you tell me where.
>
> -- Paul E. Johnson                       email: pauljohn at ukans.edu
> Dept. of Political Science            http://lark.cc.ku.edu/~pauljohn
> University of Kansas                  Office: (785) 864-9086
> Lawrence, Kansas 66045                FAX: (785) 864-5700
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-
> FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rg117 at ohm.york.ac.uk  Thu May 30 19:06:45 2002
From: rg117 at ohm.york.ac.uk (Rishabh Gupta)
Date: Thu, 30 May 2002 18:06:45 +0100
Subject: [R] ignoring some constants
Message-ID: <001701c207fc$6114c7a0$35892090@ohm.york.ac.uk>

Hi all,
    I'm trying to use the lda function from the MASS library to perform a discrimant analysis. The problem is that some of the
variables within the data set are constant with relative to grouping variables and the function gives an error. So when I use the
function as:

    > lda(d[11:14], d$set)

where d is the data object, [11:21] is the range of the variables to be analysed, d$set is the grouping variable. It give the
following error:

    Error in lda.default(structure(data.matrix(x), class = "matrix"), ...) :
        variable(s) 1 2 3 4 appear to be constant within groups

Is there anyway that I can get the function to just ignore this error since there are some variables that are not constant within
the groups. As far as I am concerned, the results are not an error and are just part of the data.

If anyone could help me with this it would greatly appreciated.

Many Thanks

Rishabh

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu May 30 19:17:51 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 30 May 2002 18:17:51 +0100 (BST)
Subject: [R] ignoring some constants
In-Reply-To: <001701c207fc$6114c7a0$35892090@ohm.york.ac.uk>
Message-ID: <Pine.LNX.4.31.0205301811580.22290-100000@gannet.stats>

On Thu, 30 May 2002, Rishabh Gupta wrote:

> Hi all,
>     I'm trying to use the lda function from the MASS library to perform a discrimant analysis. The problem is that some of the
> variables within the data set are constant with relative to grouping variables and the function gives an error. So when I use the
> function as:
>
>     > lda(d[11:14], d$set)
>
> where d is the data object, [11:21] is the range of the variables to be analysed, d$set is the grouping variable. It give the
> following error:
>
>     Error in lda.default(structure(data.matrix(x), class = "matrix"), ...) :
>         variable(s) 1 2 3 4 appear to be constant within groups
>
> Is there anyway that I can get the function to just ignore this error since there are some variables that are not constant within
> the groups. As far as I am concerned, the results are not an error and are just part of the data.

Try ?lda to improve your understanding.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Thu May 30 19:28:14 2002
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Thu, 30 May 2002 19:28:14 +0200 (CEST)
Subject: [R] neighbor.grid and spatial.weights
In-Reply-To: <1BBE149E-73DC-11D6-9233-00039357724C@usgs.gov>
Message-ID: <Pine.LNX.4.21.0205301924520.4768-100000@reclus.nhh.no>

On Thu, 30 May 2002, Jorge A Ahumada wrote:

> Anyobody knows if functions neighbor.grid and spatial.weights (from 
> module spatial) have any 'equivalents' in R ?
> 
In package spdep on CRAN, the nearest are cell2nb() and nb2mat(), but the
intermediate representation is as a list of neighbour index vectors, not
a spatial.neighbour object. 

Please contact me directly for further information if necessary.

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu May 30 23:34:27 2002
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 30 May 2002 17:34:27 -0400
Subject: [R] Systems of equations in glm?
In-Reply-To: <FE77F787-73EE-11D6-BF64-0050E4C03977@nuffield.oxford.ac.uk
 >
References: <3CF6405D.4050703@ku.edu>
Message-ID: <5.1.0.14.2.20020530172808.01d78620@mcmail.cis.mcmaster.ca>

Dear Paul and David,

As far as I'm aware, the closest that you'll come to this model currently 
in R is the sem or tsls function in the sem package, both of which assume 
quantitative endogenous variables, however.

Several specialized structural-equations programs (e.g., LISREL) will fit 
models of this form, with an approach very close to David's suggestion, 
based on polychoric and point-polyserial correlations. The calis procedure 
in SAS won't do this; I'm not sure about Stata.

I've been thinking about adding this kind of capability to the sem package, 
but don't know if I'll do it.

I hope that this helps,
  John

At 06:02 PM 5/30/2002 +0100, David Firth wrote:
>On Thursday, May 30, 2002, Paul Johnson wrote:
>
>>
>>I have a student that I'm encouraging to use R rather than SAS or Stata 
>>and within just 2 weeks he has come up with a question that stumps me.
>>
>>What does a person do about endogeneity in generalized linear models?
>>
>>Suppose Y1 and Y2 are 5 category ordinal dependent variables.  I see that 
>>MASS has polr for estimation of models like that, as long as they are 
>>independent. But what if the models were to be written:
>>
>>   Y1.plr <- polr(Y1 ~ Y2 + X1 + X2)
>>
>>   Y2.plr <- polr(Y2 ~ Y1 + X3 + X4)
>>
>>Are estimates of the coefficients for Y1 and Y2 biased, as they would be 
>>in a linear model?  I think yes. Do I need some equivalent of 2SLS or FIML?
>
>yes and yes, I believe.  I presume that you *really* have in mind that Y1 
>and Y2 are imperfect (ie, categorized) observations of underlying 
>continuous variables (Z1 and Z2, say)?  And that the equations whose 
>coefficients you'd really like to estimate are (in your R style)
>
>  lm(Z1 ~ Z2 + X1 + X2)
>  lm(Z2 ~ Z1 + X1 + X2)
>
>-- in which case the likelihood, assuming bivariate normality of (Z1,Z2) 
>given (X1,X2), involves bivariate normal integrals evaluated over 
>rectangles with boundaries determined by category threshold parameters.
>
>I don't think this (ie, maximization of that likelihood) is programmed at 
>present in R.  From what you say, I infer that it's not in Stata or SAS either?
>
>A sensible first analysis might be simply to forget that Y1 and Y2 are 
>multinomial, and fit the linear system using some suitable set(s) of 
>numeric scores for the categories.  Depending on the results, that might 
>also be a sensible last analysis...
>
>Regards,
>David
>
>>It is not entirely clear to me if, in this example, the input Y1 or Y2 is 
>>conceptualized as the 5 point scale or rather if it is thought of as a 
>>continuous variable which is observed with error.
>>
>>Is there an email list besides r-help where I should be asking questions 
>>like this? I understand it is not strictly R related and would gladly go 
>>bother other people than you if you tell me where.

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Fri May 31 07:17:56 2002
From: ozric at web.de (christian)
Date: Fri, 31 May 2002 07:17:56 +0200
Subject: [R] To create a menu
Message-ID: <E17Dehv-0006DB-00@smtp.web.de>

IMHO help(menu) .
regards,christian

Am 30.05.2002 16:20:47, schrieb "CELINE RONDEY" <celine.rondey at educagri.fr>:

>Dear all,
>
>I would like to create a graphics menu.
>There is a function "menu" which presents the user with a menu of choices
>labelled from 1 to the number of choices(in the package base).
>
>But it's an "iteractive" function.
>Actually, i work with GRASS and R (under linux) and i use the command R
>--vanilla<"name"                 to execute my routine.
>That why, i think that it is impossible to use this function "menu".
>
>Do you know an other function to create a menu?
>
>Thanks in advance for all kind of help.
>
>regards,
>
>C?line RONDEY
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlorino at vet-alfort.fr  Fri May 31 09:57:11 2002
From: tlorino at vet-alfort.fr (tlorino@vet-alfort.fr)
Date: Fri, 31 May 2002 09:57:11 +0200
Subject: [R] Library Tcltk
Message-ID: <1261591103.20020531095711@vet-alfort.fr>

Dears users,

Thanks for your responses concerning my question of yesterday (about stand-alone
package). Il would like to explore two ways:
-- Tcltk extension,
-- Rweb application.

I have installed ActiveTcl (in F:\Tcl), and I have modified the PATH (in the
autoexec.bat file):

set R_LIBS=F:\R\rw1050\library
set PATH=%PATH%;F:\Tcl\bin
set PATH=%PATH%;F:\Tcl\lib
set PATH=%PATH%;F:\R\rw1050\bin

(I'm working with W2000, but the autoexec.bat is active: I could be sure of
this fact because changes in the autoexec.bat are taken into account, for
example variables for Latex as: set TEX=latex)

As written in the Win-FAQ of R, when I enter Sys.getenv("PATH"), I can read:
"F:\\Program Files\\TeXLive\\bin\\win32;C:\\Ghostgum\\gsview;c:\\jdk1.3\\bin;F:\\Tcl\\bin;F:\\Tcl\\lib"
so Tcl seems to be in my PATH...

After that, when I load the Tcltk library, I have this error message:

Error in firstlib(which.lib.loc, package) :
        TCL_LIBRARY is not set
Error in library(tcltk) : .First.lib failed

Is that a problem of the Tcl package installation? What is wrong?

Another question: has anybody some example of things realized with Tcltk and R?

Thank you for your help,
Tristan Lorino
---------------------- 
?cole Nationale V?t?rinaire d'Alfort - http://www.vet-alfort.fr,
T?l. 01 43 96 70 33
M?l. tlorino at vet-alfort.fr
Site personnel : http://daedale.free.fr

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Fri May 31 10:00:11 2002
From: siim at obs.ee (Ott Toomet)
Date: Fri, 31 May 2002 10:00:11 +0200 (CEST)
Subject: [R] savePlot without displaying it
In-Reply-To: <NOEOLHEEMLOCABODHCFCAEHDCAAA.nolwenn.lemeur@nantes.inserm.fr>
Message-ID: <Pine.LNX.4.44.0205310955010.1491-100000@localhost.localdomain>

Hi,

On Thu, 30 May 2002, Nolwenn Le Meur wrote:

  |Hi,
  |I would like to save a plot without opening the device window (no display).
  |Is it possible ? How can I do it ?

which format do you want to use?  Generally, it is simple.  You just open
the corresponding device (not display window), e.g.

postscript(file="myfile.ps", ...options...)
plot( whatever you want to plot )
dev.off()

Now the plot is saved into the postscript file and nothing happens on the
screen.  The available devices depend on your installation, look ?Devices.

Ott

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 31 10:16:33 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 31 May 2002 09:16:33 +0100 (BST)
Subject: [R] Library Tcltk
In-Reply-To: <1261591103.20020531095711@vet-alfort.fr>
Message-ID: <Pine.LNX.4.31.0205310909070.24846-100000@gannet.stats>

1) You appear to be working on Windows, but failed to say so.

2) Your first question is answered in both the rw-FAQ *and* the README, so
I presume you have not read them (although you quote a non-existent
`Win-FAQ').  Please do so, completely and carefully.

3) Your second question is covered by the demos in package tcltk (and that
is covered in the documentation mentioned above).


On Fri, 31 May 2002 tlorino at vet-alfort.fr wrote:

> I have installed ActiveTcl (in F:\Tcl), and I have modified the PATH (in the
> autoexec.bat file):
>
> set R_LIBS=F:\R\rw1050\library
> set PATH=%PATH%;F:\Tcl\bin
> set PATH=%PATH%;F:\Tcl\lib
> set PATH=%PATH%;F:\R\rw1050\bin
>
> (I'm working with W2000, but the autoexec.bat is active: I could be sure of
> this fact because changes in the autoexec.bat are taken into account, for
> example variables for Latex as: set TEX=latex)
>
> As written in the Win-FAQ of R, when I enter Sys.getenv("PATH"), I can read:
> "F:\\Program Files\\TeXLive\\bin\\win32;C:\\Ghostgum\\gsview;c:\\jdk1.3\\bin;F:\\Tcl\\bin;F:\\Tcl\\lib"
> so Tcl seems to be in my PATH...
>
> After that, when I load the Tcltk library, I have this error message:
>
> Error in firstlib(which.lib.loc, package) :
>         TCL_LIBRARY is not set
> Error in library(tcltk) : .First.lib failed
>
> Is that a problem of the Tcl package installation? What is wrong?

Failure to read the rest of the paragraph in rw-FAQ ....

> Another question: has anybody some example of things realized with
> Tcltk and R?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metrinomics.de  Fri May 31 10:51:00 2002
From: c.schulz at metrinomics.de (Christian Schulz)
Date: Fri, 31 May 2002 10:51:00 +0200
Subject: [R] RODBC & Problems with Sybase Database
References: <Pine.LNX.4.31.0205300947100.21889-100000@gannet.stats> <3CF616CF.1040704@metrinomics.de> <20020531071632.A4358@camille.indigoindustrial.co.nz>
Message-ID: <3CF73974.8050204@metrinomics.de>

Jason,
many thanks for this suggestion, but if try

dataSybase  <-  sqlFetch(channel,"DATA.EXPORT_Name")

i get the same error message:

 Error in odbcFetchRows(channel, max = max, transposing = (as != 
"matrix"),  :
        negative length vectors are not allowed

and when i try  dataSybase <-  sqlFetch(channel,DATA.EXPORT_NAME)

i get the not surprinsing message error

Error in sqlFetch(channel, DATA.EXPORT <- NAME) :
        <- should be a name

Curious is, when i export the tables from Sybase Database to MySql Database
and  use then (only via RODBC - not RMySql):
      tabs <-   sqlFetch(channel,"DATA.EXPORT_Name")    it works fine !

A test ( Notice - same tables only with the difference i  importing  the 
Sybase data without any modifications to MySql ):
sqlTables(channel.Sybase)
Error in odbcFetchRows(channel, max = max, transposing = (as != 
"matrix"),  :
        negative length vectors are not allowed

sqlTables(channel.MySql)
works fine  !

P.S. I get the feeling that the Sybase Anywhere Odbc driver is not the 
best and the problem is not RODBC  ;-)

thanks for suggestions and regards,Christian




Jason Turner wrote:

>On Thu, May 30, 2002 at 02:10:55PM +0200, Christian Schulz wrote:
>
>>I follow the recommendation from Prof. Ripley and change the sqlFetch 
>>function, but
>>the error message is the same.
>>My problem is (1.)  that the name of the tables in th db have all the 
>>name structure  DATA.EXPORT_NAME 
>>and i understand that  .EXPORT_NAME cause the problems.
>>
>
>Actually, the *unquoted* symbol _ causes problems.  For compatiblity
>reasons with old S, _ is the same as <-.  I believe they (R-core) are 
>considering removing this nasty bit of syntax.
>
>In the meantime, consider this:
>+++
>## this line is the same as foo <- some <- 1
>
>>foo <- some_1
>>ls()
>>
>[1] "foo"     "some"   
>
>>foo
>>
>[1] 1
>
>>some
>>
>[1] 1
>## with quotes, however, it does what you'd expect if you 
>## didn't know about _
>
>>bar <- "some_1"
>>bar
>>
>[1] "some_1"
>+++
>
>So, you can still have _ , as long as you wrap quotes around it.  This
>will cause problems if your table or coulumn names have quotes in them, 
>but that would be very unusual.
>
>Cheers
>
>Jason
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020531/575e4361/attachment.html

From mark at myatt.demon.co.uk  Fri May 31 11:50:17 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 31 May 2002 10:50:17 +0100
Subject: [R] Building a stand-alone package
In-Reply-To: <9583366224.20020530144614@vet-alfort.fr>
References: <9583366224.20020530144614@vet-alfort.fr>
Message-ID: <z4uk2RAZd098EwEq@myatt.demon.co.uk>

tlorino at vet-alfort.fr writes:
>Dear R users,
>
>I'm working with Windows 2000 and R -- note that I could maybe work with Linux 
>too...
>I would like to know if it is possible to build a stand-alone statistical
>package which:
>-- could be programmed in R language,
>-- could have a nice graphical interface with buttons and menus (this package
>will be distributed to non-statistician people),
>-- could realize statistical operations, like for example simulations with
>Monte-Carlo method.
>
>If needed, it could be implemented with Java (or Perl?).
>

This should be possible as there is TCL/TK support in R as well as
libraries for Java and Python that allow access to R. On systems that
support names pipes (i.e. any UNIX derivative) it should be relatively
easy to send and receive stuff from a R process from just about any
language environment. I have a rough little text editor / output pager
application written in TCL/TK that can (just about) do this that has a
customisable user interface (simple menus configures through a test
file) that I played about with a few months ago. The intention was to
have this handle menus, syntax editing with colour coding, output
display and saving and have R with the TCL/TK support library handle
everything else. Pressure of work stopped development ... the point is
that it is not very difficult. On the Win32 front there is a control
that allows access to R from within (e.g.) VB, VC++, VBA, Delphi. I have
not looked at this though.

The real difficulty is, I think, getting the user interface right. This
is easy for a very simple system with a few basic functions but if you
wanted to a more complex system capable of exploiting the power of the
underlying R engine then the user interface could become a jungle of
option boxes and sub-dialogs ... better in that case, maybe, to stick
with R syntax in an editor that provides code completion with a neat
'object inspector' type interface.

Just my tuppence.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metrinomics.de  Fri May 31 12:27:44 2002
From: c.schulz at metrinomics.de (Christian Schulz)
Date: Fri, 31 May 2002 12:27:44 +0200
Subject: [R] Library Tcltk works , but  SJava ?  (Windows 2000)
References: <Pine.LNX.4.31.0205310909070.24846-100000@gannet.stats>
Message-ID: <3CF75020.50203@metrinomics.de>

My Recommendation for Win2000  - copy this
row in your    \rw1051\etc\Rprofile    

Sys.putenv("TCL_LIBRARY"="F:/Tcl/lib/tcl8.3")

But how this work in  analogy for Sjava is for me a mystery (Win 2000).
It would be very nice when a R/Java expert have a suggestion how i must 
in detail
set the Sys.putenv   and  jdk !?

Thanks for advance & regards,Christian




regards,Christian

ripley at stats.ox.ac.uk wrote:

>1) You appear to be working on Windows, but failed to say so.
>
>2) Your first question is answered in both the rw-FAQ *and* the README, so
>I presume you have not read them (although you quote a non-existent
>`Win-FAQ').  Please do so, completely and carefully.
>
>3) Your second question is covered by the demos in package tcltk (and that
>is covered in the documentation mentioned above).
>
>
>On Fri, 31 May 2002 tlorino at vet-alfort.fr wrote:
>
>>I have installed ActiveTcl (in F:\Tcl), and I have modified the PATH (in the
>>autoexec.bat file):
>>
>>set R_LIBS=F:\R\rw1050\library
>>set PATH=%PATH%;F:\Tcl\bin
>>set PATH=%PATH%;F:\Tcl\lib
>>set PATH=%PATH%;F:\R\rw1050\bin
>>
>>(I'm working with W2000, but the autoexec.bat is active: I could be sure of
>>this fact because changes in the autoexec.bat are taken into account, for
>>example variables for Latex as: set TEX=latex)
>>
>>As written in the Win-FAQ of R, when I enter Sys.getenv("PATH"), I can read:
>>"F:\\Program Files\\TeXLive\\bin\\win32;C:\\Ghostgum\\gsview;c:\\jdk1.3\\bin;F:\\Tcl\\bin;F:\\Tcl\\lib"
>>so Tcl seems to be in my PATH...
>>
>>After that, when I load the Tcltk library, I have this error message:
>>
>>Error in firstlib(which.lib.loc, package) :
>>        TCL_LIBRARY is not set
>>Error in library(tcltk) : .First.lib failed
>>
>>Is that a problem of the Tcl package installation? What is wrong?
>>
>
>Failure to read the rest of the paragraph in rw-FAQ ....
>
>>Another question: has anybody some example of things realized with
>>Tcltk and R?
>>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020531/c7334d02/attachment.html

From mark at myatt.demon.co.uk  Fri May 31 13:56:52 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 31 May 2002 12:56:52 +0100
Subject: [R] Re: FW: Contour v Contourplot
In-Reply-To: <24A8B549739BD311AAF2009027D6373D198F7B@smtp.cdsc.nthames.nhs.uk>
References: <24A8B549739BD311AAF2009027D6373D198F7B@smtp.cdsc.nthames.nhs.uk>
Message-ID: <5qJGCcAEU298EwFn@myatt.demon.co.uk>

Phil,

You write:

>> Using x,y, and z variables in the enclosed test.RData, the command
>> 
>> contour(x,y,z)
>> 
>> produces a lovely 2D plot, whereas
>> 
>> contourplot(z~x*y)
>> 
>> produces the error..
>> 
>> Error in if (lim[1] > lim[2]) stop("Improper value of limit") : 
>>         missing value where logical needed
>> 
>> Any ideas what I'm doing wrong? Many thanks..

Well this took a bit of thought as I am not familiar with lattice. Gave
me the prod I needed to look at it and it was well worth the look.

The lattice functions seem want to have a data.frame rather than a list
of vectors. It doesn't say that in the docs (not that I found but I
didn't look far) so I did:

        load("Test.RData")
        phils.data <- expand.grid(x = x, y = y)
        phils.data$z <- z
        contourplot(z ~ x * y, data = phils.data)

And it worked. The trick is to use expand.grid() to create data.frame
containing one row for each combination x and y and then add z to that.
I think that is what you want.

Use:

        lset(col.whitebg())

Before plots to get rid of the grey background ... better, IMHO)

I think the problem posting to R-Help might be down to your sending an
attachment.

Best wishes,

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 31 14:22:37 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 31 May 2002 13:22:37 +0100 (BST)
Subject: [R] Re: FW: Contour v Contourplot
In-Reply-To: <5qJGCcAEU298EwFn@myatt.demon.co.uk>
Message-ID: <Pine.LNX.4.31.0205311320160.25148-100000@gannet.stats>

On Fri, 31 May 2002, Mark Myatt wrote:

[...]

> The lattice functions seem want to have a data.frame rather than a list
> of vectors. It doesn't say that in the docs (not that I found but I
> didn't look far) so I did:

?contourplot does refer you to ?xyplot, and that does stipulate a data
frame.  Perhaps you should look a little further ....

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plecca at kirk.science.unitn.it  Fri May 31 15:18:12 2002
From: plecca at kirk.science.unitn.it (Paola Lecca)
Date: Fri, 31 May 2002 15:18:12 +0200 (MET DST)
Subject: [R] Two questions about nmath
Message-ID: <Pine.OSF.4.31.0205311507110.3732-100000@kirk.science.unitn.it>

Hi !

1) First question.

Excuse me for trouble with the same question. I still have problems
with the compilation of test.c in src/nmath/standalone.

I did follow the instructions you gave me but I still receive this message


[root at my standalone]# cc -o test test.c -L/usr/local -lRmath
/usr/local/libRmath.so: undefined reference to `log'
/usr/local/libRmath.so: undefined reference to `sqrt'
/usr/local/libRmath.so: undefined reference to `ceil'
/usr/local/libRmath.so: undefined reference to `floor'
/usr/local/libRmath.so: undefined reference to `cos'
/usr/local/libRmath.so: undefined reference to `sin'
/usr/local/libRmath.so: undefined reference to `pow'
/usr/local/libRmath.so: undefined reference to `sinh'
/usr/local/libRmath.so: undefined reference to `log10'
/usr/local/libRmath.so: undefined reference to `exp'
/usr/local/libRmath.so: undefined reference to `tan'
/usr/local/libRmath.so: undefined reference to `atan'
/usr/local/libRmath.so: undefined reference to `hypot'
collect2: ld returned 1 exit status

Which is the problem now ?

I did produce libRmath.so and then I did copy it in /usr/local. I did
add the path /usr/local in /etc/ls.so.conf, then I did run ldconfig as
follows

./sbin/ldconfig -n /usr/local

2) Second question
 Where can I find documentation about Rmath ?

Thanks a lot,
Paola.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mpb170 at psu.edu  Fri May 31 15:25:41 2002
From: mpb170 at psu.edu (MATT BORKOWSKI)
Date: Fri, 31 May 2002 09:25:41 -0400 (EDT)
Subject: [R] 2 Seemingly Simple Problems
Message-ID: <200205311325.JAA03632@webmail4.cac.psu.edu>

Alright...these two issues seem rather simple.  But I had trouble finding much 
about either of them in the archives.

1)  Using scan()
I'm trying to use scan to read in a large data set since read.table() is taking 
quite a bit of time.  But when I try to do this I receive a error message along
the lines of "Character where numeric expected."  Seems to me the problem is
arising because my data is composed of both characters and numbers, but R
is only expecting numerics.  I assume the key to this problem lies in the
"what=" parameter.  But I'm not sure what to set this to so that R expects 
characters or numbers.

2) Testing for 'NA' values
In this problem I have read in a large data set.  Some of the lines of data are
not as long and therefore the last few columns have been filled in with 'NA.'  
Now I'm trying to read through rows of data backwards because the parameter
I'm trying to extract from the data.frame is not always in column 5 but is always
the second real value after the 'NA's' if that makes any sense.  But I don't think
that's all that important anyway.  The point is...I'm trying to extract the second
value after the 'NA' values by ignoring the 'NA' values and couting any real
values.  I'm trying to accomplish this with:

if(data[r,c] != NA)  count <- count +1

However, I receive the error: "Value missing where logical expected".  I assume
this is happening because I'm testing for 'NA' values.  Is there anyway around
this?  Is there a way to count the number of 'NA' numbers or a way to skip over 
them?  

Thanks for you time,
Matt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 31 15:58:36 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 31 May 2002 14:58:36 +0100 (BST)
Subject: [R] Two questions about nmath
In-Reply-To: <Pine.OSF.4.31.0205311507110.3732-100000@kirk.science.unitn.it>
Message-ID: <Pine.LNX.4.31.0205311447510.25312-100000@gannet.stats>

On Fri, 31 May 2002, Paola Lecca wrote:

> 1) First question.
>
> Excuse me for trouble with the same question. I still have problems
> with the compilation of test.c in src/nmath/standalone.
>
> I did follow the instructions you gave me but I still receive this message

I don't think R-help collectively gave you instructions.  Credit where
credit is due (and ditto for blame), please.

> [root at my standalone]# cc -o test test.c -L/usr/local -lRmath
> /usr/local/libRmath.so: undefined reference to `log'
[...]

> Which is the problem now ?

The same as before.  Did you actually try

make test

?   Do try it and see what you can learn from it.

> I did produce libRmath.so and then I did copy it in /usr/local. I did

A very strange place to put it: /usr/local/lib is the conventional place
for third-party libraries.

> add the path /usr/local in /etc/ls.so.conf, then I did run ldconfig as
> follows

(ld.so.conf?)

> ./sbin/ldconfig -n /usr/local


> 2) Second question
>  Where can I find documentation about Rmath ?

The README, the appropriate R manual, R-exts.texi etc, and in the source
code.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 31 16:07:34 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 31 May 2002 15:07:34 +0100 (BST)
Subject: [R] 2 Seemingly Simple Problems
In-Reply-To: <200205311325.JAA03632@webmail4.cac.psu.edu>
Message-ID: <Pine.LNX.4.31.0205311459050.25312-100000@gannet.stats>

On Fri, 31 May 2002, MATT BORKOWSKI wrote:

> Alright...these two issues seem rather simple.  But I had trouble finding much
> about either of them in the archives.
>
> 1)  Using scan()
> I'm trying to use scan to read in a large data set since read.table() is taking
> quite a bit of time.  But when I try to do this I receive a error message along
> the lines of "Character where numeric expected."  Seems to me the problem is
> arising because my data is composed of both characters and numbers, but R
> is only expecting numerics.  I assume the key to this problem lies in the
> "what=" parameter.  But I'm not sure what to set this to so that R expects
> characters or numbers.

See the help page for scan, especially the examples.  However, since
read.table calls scan itself, you will get little gain provided you use
colClasses in read.table.

> 2) Testing for 'NA' values
> In this problem I have read in a large data set.  Some of the lines of data are
> not as long and therefore the last few columns have been filled in with 'NA.'
> Now I'm trying to read through rows of data backwards because the parameter
> I'm trying to extract from the data.frame is not always in column 5 but is always
> the second real value after the 'NA's' if that makes any sense.  But I don't think

(No.  The NAs are at the end of the row, so the second before?)

> that's all that important anyway.  The point is...I'm trying to extract the second
> value after the 'NA' values by ignoring the 'NA' values and couting any real
> values.  I'm trying to accomplish this with:
>
> if(data[r,c] != NA)  count <- count +1
>
> However, I receive the error: "Value missing where logical expected".  I assume
> this is happening because I'm testing for 'NA' values.  Is there anyway around
> this?  Is there a way to count the number of 'NA' numbers or a way to skip over
> them?

is.na(data[r,])  would be a good start. Something like

{xx <- is.na(data[r,]); n <- length(xx); data[r, n-1]}

for one row perhaps?  Or to vectorize

nn <- colSums(!is.na(data))  # number of non-NA values in each row
data[cbind(seq(along=nn), nn-1)]


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gavin.simpson at ucl.ac.uk  Fri May 31 16:40:16 2002
From: gavin.simpson at ucl.ac.uk (Gavin Simpson)
Date: Fri, 31 May 2002 15:40:16 +0100
Subject: [R] Matrix-like plot
Message-ID: <000701c208b1$14d2d430$4c202880@gsimpson>

Dear List,

I have a 47 species * 83 samples matrix containing percentage abundance
data.  I have two cluster analyses one of the samples and one of the
species, and have ordered the rows and columns of the species by samples
matrix according to these two cluster analyses.  So far so good!

Now what I want to do is create a plot with the species dendrogram at
the top of the plot, the samples dendrogram to the left of the plot and
then in the main plotting area plot the abundances held in the cells of
the matrix.  I know how to split the plotting region up so that it looks
somewhat like this:

         ----------------------
        |                      |
        |     dendro 1         |
        |                      |
         ----------------------
 ------  ----------------------
|      ||                      |
|  d   ||                      |
|  e   ||  Matrix-like plot    |
|  n   ||                      |
|  d   ||                      |
|  r   ||                      |
|  o   ||                      |
|  2   ||                      |
|      ||                      |
 ------  ----------------------

What I do not know who to do is to plot the matrix-like plot.  I want to
have a point for every value greater than zero in the matrix.  So that
if in sample/row 1, species 1 and 2 were present at 25% and 75%
respectively but species 3 was absent, I would want 2 points, one for
each species present scaled relative to their abundance.  I presume what
I would actually do is plot an expand.grid() object and vary the cex by
the values in the matrix so that zero values had zero cex, but I am not
sure how to go about doing this.  An alternative could be to use image()
to plot coloured boxes for each cell based on the abundances.  I tried
this initially like so:

> test <- expand.grid(x=1:47, y=1:83)
> names(test)
[1] "x" "y"
> image(test, z=cladocera) #cladocera being the matrix containing the
abundances
Error in image.default(test, z = cladocera) : 
        increasing x and y values expected

I am now stuck as to how generate the x and y points for image.

If anyone has any pointers I would be most grateful,

All the best

Gavin Simpson

%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%
Gavin Simpson                     [T] +44 (0)20 7679 5402
ENSIS Research Fellow             [F] +44 (0)20 7679 7565
ENSIS Ltd. & ECRC                 [E] gavin.simpson at ucl.ac.uk
UCL Department of Geography       [W] http://www.ucl.ac.uk/~ucfagls/cv/
26 Bedford Way                    [W] http://www.ucl.ac.uk/~ucfagls/
London.  WC1H 0AP.
%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri May 31 17:05:13 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 31 May 2002 17:05:13 +0200
Subject: [R] Matrix-like plot
In-Reply-To: <000701c208b1$14d2d430$4c202880@gsimpson>
References: <000701c208b1$14d2d430$4c202880@gsimpson>
Message-ID: <15607.37161.745818.885663@gargle.gargle.HOWL>

>>>>> "GS" == Gavin Simpson <gavin.simpson at ucl.ac.uk> writes:

     < ... >

    GS> What I do not know who to do is to plot the matrix-like plot.  I want to
    GS> have a point for every value greater than zero in the matrix.  So that
    GS> if in sample/row 1, species 1 and 2 were present at 25% and 75%
    GS> respectively but species 3 was absent, I would want 2 points, one for
    GS> each species present scaled relative to their abundance.  I presume what
    GS> I would actually do is plot an expand.grid() object and vary the cex by
    GS> the values in the matrix so that zero values had zero cex, but I am not
    GS> sure how to go about doing this.  

I'd look at 
    sunflowerplot()
    symbols()
and stars()

additionally to image()

    GS> An alternative could be to use image()
    GS> to plot coloured boxes for each cell based on the abundances.  I tried
    GS> this initially like so:

    >> test <- expand.grid(x=1:47, y=1:83)
    >> names(test)
    GS> [1] "x" "y"
    >> image(test, z=cladocera) #cladocera being the matrix containing the
    GS> abundances
    GS> Error in image.default(test, z = cladocera) : 
    GS> increasing x and y values expected

    GS> I am now stuck as to how generate the x and y points for image.

I don't have `cladocera' but the following works

> image(list(x = u, y = v), z=z)
> str(z <- outer(u,v, function(x,y){x <- x-6; sin(x)*exp(-(x/4^2 + (y-20)/3^2))}))
 num [1:10, 1:20]  3.563  2.642 -0.463 -2.801 -2.435 ...
> image(list(x = u, y = v), z=z)

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From iperez at escuelaing.edu.co  Fri May 31 17:15:22 2002
From: iperez at escuelaing.edu.co (Ignacio =?iso-8859-1?Q?P=E9rez?=)
Date: Fri, 31 May 2002 10:15:22 -0500
Subject: [R] Warning message
Message-ID: <5.1.0.14.0.20020531101228.00a71c60@pop3.escuelaing.edu.co>

This must be rather elementary. My apologies.

I am using release 1.5.0. I have all my files on a directory named C:\

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From iperez at escuelaing.edu.co  Fri May 31 17:21:08 2002
From: iperez at escuelaing.edu.co (Ignacio =?iso-8859-1?Q?P=E9rez?=)
Date: Fri, 31 May 2002 10:21:08 -0500
Subject: [R] Warning message
Message-ID: <5.1.0.14.0.20020531101556.00a702c0@pop3.escuelaing.edu.co>

Sorry on my previous message I pressed the send key by mistake the intended 
message is>

This must be rather elementary. My apologies.

I am using release 1.5.0. I have all my files on a directory named C:\ Mis 
Documentos\R-Data. The following command:
 >data(anscombe)

gives the warning:

Warning message:
list.files: C:\ Mis Documentos\R-Data/data is not a readable message

What am I doing wrong?

Thanks

Ignacio Perez
Escuela Colombiana de Ingenieria


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 31 17:55:48 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 31 May 2002 16:55:48 +0100 (BST)
Subject: [R] Warning message
In-Reply-To: <5.1.0.14.0.20020531101556.00a702c0@pop3.escuelaing.edu.co>
Message-ID: <Pine.LNX.4.31.0205311652430.25428-100000@gannet.stats>

On Fri, 31 May 2002, Ignacio [iso-8859-1] Pérez wrote:

> Sorry on my previous message I pressed the send key by mistake the intended
> message is>
>
> This must be rather elementary. My apologies.
>
> I am using release 1.5.0. I have all my files on a directory named C:\ Mis
> Documentos\R-Data. The following command:
>  >data(anscombe)
>
> gives the warning:
>
> Warning message:
> list.files: C:\ Mis Documentos\R-Data/data is not a readable message
>
> What am I doing wrong?

Nothing.  Read ?data

     If `lib.loc' is not specified,  the datasets are searched for
     amongst those packages already loaded, followed by the `data'
     directory (if any) of the current working directory and then

and you have a non-directory called `data' in your working directory.
When that was written, there was no portable way to check for a file
being a directory.

>
> Thanks
>
> Ignacio Perez
> Escuela Colombiana de Ingenieria
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri May 31 18:04:18 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 31 May 2002 18:04:18 +0200
Subject: [R] Warning message
In-Reply-To: <5.1.0.14.0.20020531101556.00a702c0@pop3.escuelaing.edu.co>
References: <5.1.0.14.0.20020531101556.00a702c0@pop3.escuelaing.edu.co>
Message-ID: <x2ptzcwbgd.fsf@blueberry.kubism.ku.dk>

Ignacio P?rez <iperez at escuelaing.edu.co> writes:

> Sorry on my previous message I pressed the send key by mistake the
> intended message is>
> 
> This must be rather elementary. My apologies.
> 
> I am using release 1.5.0. I have all my files on a directory named C:\
> Mis Documentos\R-Data. The following command:
>  >data(anscombe)
> 
> gives the warning:
> 
> Warning message:
> list.files: C:\ Mis Documentos\R-Data/data is not a readable message
                                                               ???????
Not quite precise I think?


> What am I doing wrong?

It's just a warning... The problem is that data() looks for data sets
in any directory called "data". If you have something called "data"
that is not a data directory (e.g. a file or a non-readable
directory), R gets confused.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolfram at fischer-zim.ch  Fri May 31 16:15:06 2002
From: wolfram at fischer-zim.ch (Wolfram Fischer - Z/I/M)
Date: Fri, 31 May 2002 16:15:06 +0200
Subject: [R] plot() accepts arrays of cex and col, xyplot() does not
Message-ID: <20020531161506.A3842@s1x.zimnet.ch>

An inconsistancy:

    n <- 6
    x <- 1:n
    y <- rnorm(1:n)
    q <- ( x %% 3 + 1 ) * 2
    plot( x, y, cex=q, col=q )
    xyplot( x ~ y, cex=q, col=q )

While plot() draws different sizes and colors
xyplot() uses only one color and size.

Wolfram Fischer

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From imm48912 at ameritech.net  Fri May 31 18:08:10 2002
From: imm48912 at ameritech.net (Lead Generation)
Date: Fri, 31 May 2002 12:08:10 -0400
Subject: [R] RE: Lead Generation
Message-ID: <200205311614.SAA04085@stat.math.ethz.ch>

An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020531/e8802886/attachment.html

From osiander at 24on.cc  Fri May 31 18:28:00 2002
From: osiander at 24on.cc (osiander@24on.cc)
Date: Fri, 31 May 2002 16:28 +0000
Subject: [R] Manual scaling a scatter plot
Message-ID: <0531f0130161f52ATNSMTP92@atnsmtp92.24on.cc>

Hello R-help,
I have a data.frame where I want to scatterplot variable1 versus variable2 using a third variable as a factor. For each factor I want to have a regression line in the same plot with different color and symbols. Var1, and var2  contain a lot of NA,sometimes the dependent var sometimes the predictor, sometimes both together.

Three problems occure:

Makeing subsets to split the data according to the levels is tedious and needs then points(), abline(lm()) with different line and points types for each plot defined manualy.
Is there a simpler solution?

Since the data need different scaling some datapoints lay outside of the window, depending on which level was printed first. Is there a way to do scaling manualy? 

I start with a plot of the vars with the bigger range using the plot(type="n") function. Then I do several plot( add=T). If the biggest positive value in the predictor(x-axis) matches with a NA on the y-axis, the auto-scaling still takes the biggest positive value. The final plot then has an empty right part, which looks unprofessional. Is manual scaling an option here? I can not easily work with na.omit etc, since there are more variables which have valid data I do not want to loose.

Thank you,
-- 
osiander at 24on.cc

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Fri May 31 19:30:43 2002
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Fri, 31 May 2002 13:30:43 -0400
Subject: [R] cluster compile fails
Message-ID: <3CF7B343.8D165E5A@bank-banque-canada.ca>

I am having trouble installing cluster from R-1.5.0-recommended :  

R CMD INSTALL *.tar.gz
...

g77   -fPIC  -g -O2 -c pam.f -o pam.o
g77   -fPIC  -g -O2 -c spannel.f -o spannel.o
g77   -fPIC  -g -O2 -c twins.f -o twins.o
cp: cannot access *.so
ERROR: compilation failed for package 'cluster'
[34] /home/com1/gilp/Rlibs/R-1.5.0-recommended :

This is with R-1.5.0 on Solaris 5.8 using gcc 2.95.2. I have been
messing around with gcc (trying to install a newer version), so it is
possible R was compiled with slightly different settings than I
currently have, but it was compiled with the same version. Hints about
what might cause this problem would be appreciated.

Thanks,
Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hzhang3 at partners.org  Fri May 31 19:36:22 2002
From: hzhang3 at partners.org (Hui Zhang)
Date: Fri, 31 May 2002 13:36:22 -0400
Subject: [R] two dimensional function plot
Message-ID: <KMEBLGBNIPHBCOAALDALIEJLCBAA.hzhang3@partners.org>

I want to draw a plot for function f(x,y). Could anyone give me suggestion
about it? Thanks

hui

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ltorgo at liacc.up.pt  Fri May 31 19:54:28 2002
From: ltorgo at liacc.up.pt (Luis Torgo)
Date: Fri, 31 May 2002 18:54:28 +0100
Subject: [R] Accessing MySQL from Windows
Message-ID: <20020531175220.BFBB11B96C@mail.liacc.up.pt>

I'm using R on a Linux box:
> version           
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    5.0              
year     2002             
month    04               
day      29               
language R    

I want to use data that is stored in a MySQL database.
I've been using the package RMySQL with sucess for this task.

I also use R from a Windows box
> version           
platform i386-pc-mingw32
arch     i386             
os       mingw32        
system   i386, mingw32  
status     Patched               
major    1                
minor    5.0              
year     2002             
month    05               
day      16               
language R

I wanted to use the same R code within this machine (thus using the 
RMySQL package). However, when using the Install from CRAN menu at Windows to 
pick the RMySQL package I cannot see it on the menu.... What am I doing 
wrong? According to the R Data Import/Export manual "Package RMySQL has been 
used on both Linux and Windows." ...

I'm able to get the data using RODBC and the myodbc driver, but I would 
prefer to have the same R code... Is this possible?

Thank you.    

-- 
Luis Torgo
    FEP/LIACC, University of Porto   Phone : (+351) 22 607 88 30
    Machine Learning Group           Fax   : (+351) 22 600 36 54
    R. Campo Alegre, 823             email : ltorgo at liacc.up.pt
    4150 PORTO   -  PORTUGAL         WWW   : http://www.liacc.up.pt/~ltorgo
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Fri May 31 19:53:37 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Fri, 31 May 2002 19:53:37 +0200 (MEST)
Subject: [R] Matrix-like plot
In-Reply-To: <000701c208b1$14d2d430$4c202880@gsimpson>
Message-ID: <Pine.GSO.4.10.10205311948200.24036-100000@speed.maths.lth.se>

On Fri, 31 May 2002, Gavin Simpson wrote:

> Dear List,
> 
> I have a 47 species * 83 samples matrix containing percentage abundance
> data.  I have two cluster analyses one of the samples and one of the
> species, and have ordered the rows and columns of the species by samples
> matrix according to these two cluster analyses.  So far so good!
> 
> Now what I want to do is create a plot with the species dendrogram at
> the top of the plot, the samples dendrogram to the left of the plot and
> then in the main plotting area plot the abundances held in the cells of
> the matrix.  I know how to split the plotting region up so that it looks
> somewhat like this:
> 
>          ----------------------
>         |                      |
>         |     dendro 1         |
>         |                      |
>          ----------------------
>  ------  ----------------------
> |      ||                      |
> |  d   ||                      |
> |  e   ||  Matrix-like plot    |
> |  n   ||                      |
> |  d   ||                      |
> |  r   ||                      |
> |  o   ||                      |
> |  2   ||                      |
> |      ||                      |
>  ------  ----------------------
> 
> What I do not know who to do is to plot the matrix-like plot.  I want to
> have a point for every value greater than zero in the matrix.  So that
> if in sample/row 1, species 1 and 2 were present at 25% and 75%
> respectively but species 3 was absent, I would want 2 points, one for
> each species present scaled relative to their abundance.  I presume what
> I would actually do is plot an expand.grid() object and vary the cex by
> the values in the matrix so that zero values had zero cex, but I am not
> sure how to go about doing this.  An alternative could be to use image()
> to plot coloured boxes for each cell based on the abundances.  I tried
> this initially like so:
> 
> > test <- expand.grid(x=1:47, y=1:83)
> > names(test)
> [1] "x" "y"
> > image(test, z=cladocera) #cladocera being the matrix containing the
> abundances
> Error in image.default(test, z = cladocera) : 
>         increasing x and y values expected
> 
> I am now stuck as to how generate the x and y points for image.
> 
> If anyone has any pointers I would be most grateful,
> 
> All the best
> 
> Gavin Simpson
> 
> %~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%
> Gavin Simpson                     [T] +44 (0)20 7679 5402
> ENSIS Research Fellow             [F] +44 (0)20 7679 7565
> ENSIS Ltd. & ECRC                 [E] gavin.simpson at ucl.ac.uk
> UCL Department of Geography       [W] http://www.ucl.ac.uk/~ucfagls/cv/
> 26 Bedford Way                    [W] http://www.ucl.ac.uk/~ucfagls/
> London.  WC1H 0AP.
> %~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%

Below there is a runnable code (R --vanilla) that might shine some light
on the often confusing image() function.

Cheers

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences 
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/


############################################################################
# Matrix manipulation methods
############################################################################
# Converts an integer into a hexadecimal value
as.character.hexmode <- function(x) {
  hexDigit <- c(0:9, "A", "B", "C", "D", "E", "F")
  isna <- is.na(x)
  y <- x[!isna]
  ans0 <- character(length(y))
  while (any(y > 0)) {
    z <- y%%16
    y <- floor(y/16)
    ans0 <- paste(hexDigit[z + 1], ans0, sep = "")
  }
  ans <- rep("NA", length(x))
  ans[!isna] <- ans0
  ans
}

############################################################################
# Matrix manipulation methods
############################################################################
# Flip matrix (upside-down)
flip.matrix <- function(x) {
  mirror.matrix(rotate180.matrix(x))
}

# Mirror matrix (left-right)
mirror.matrix <- function(x) {
  xx <- as.data.frame(x);
  xx <- rev(xx);
  xx <- as.matrix(xx);
  xx;
}

# Rotate matrix 90 clockworks
rotate90.matrix <- function(x) {
  t(mirror.matrix(x))
}

# Rotate matrix 180 clockworks
rotate180.matrix <- function(x) { 
  xx <- rev(x);
  dim(xx) <- dim(x);
  xx;
}

# Rotate matrix 270 clockworks
rotate270.matrix <- function(x) {
  mirror.matrix(t(x))
}

############################################################################
# Color methods
############################################################################
# The inverse function to col2rgb()
rgb2col <- function(rgb) {
  rgb <- as.integer(rgb)
  class(rgb) <- "hexmode"
  rgb <- as.character(rgb)
  rgb <- matrix(rgb, nrow=3)
  paste("#", apply(rgb, MARGIN=2, FUN=paste, collapse=""), sep="")
}

getColorTable <- function(col) {
  # Convert all colors into format "#rrggbb"
  rgb <- col2rgb(col);
  col <- rgb2col(rgb);
  sort(unique(col))
}

############################################################################
# Draw methods
############################################################################
# 'colorTable' instead of 'col' to be more explicit.
image.matrix <- function(x, colorTable=NULL, xlab="x", ylab="y", ...) {
  image(x=1:ncol(x),y=1:nrow(x),z=rotate270.matrix(x), col=colorTable, xlab=xlab, ylab=ylab, ...)
}


############################################################################
# Example
############################################################################
opar <- par(ask=TRUE)

x <- y <- seq(-4 * pi, 4 * pi, len = 27)
r <- sqrt(outer(x^2, y^2, "+"))
z <- cos(r^2) * exp(-r/6)
z[2,] <- min(z) # To show that z[1,1] is in the
z[,2] <- max(z) # upper left corner.

colorTable <- gray((0:32)/32)
image.matrix(z, colorTable=colorTable)
image.matrix(t(z), colorTable=colorTable)
image.matrix(mirror.matrix(z), colorTable=colorTable)
image.matrix(flip.matrix(z), colorTable=colorTable)


img <- matrix("white", nrow=12, ncol=9)
img[2:3,c(2:3,7:8)] <- "blue"
img[5:6,5] <- "green"
img[9,c(3,7)] <- "red"
img[10,4:6] <- "red"

colorTable <- getColorTable(img)
z <- rgb2col(col2rgb(img)) # Assert format "#rrggbb"
z <- match(z, colorTable)
dim(z) <- dim(img)

image.matrix(z, colorTable=colorTable)
image.matrix(rotate90.matrix(z), colorTable=colorTable)

par(opar)

# End of File

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri May 31 20:05:32 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 31 May 2002 19:05:32 +0100 (BST)
Subject: [R] Accessing MySQL from Windows
In-Reply-To: <20020531175220.BFBB11B96C@mail.liacc.up.pt>
Message-ID: <Pine.LNX.4.31.0205311902410.28111-100000@gannet.stats>

On Fri, 31 May 2002, Luis Torgo wrote:

> I'm using R on a Linux box:
> > version
> platform i686-pc-linux-gnu
> arch     i686
> os       linux-gnu
> system   i686, linux-gnu
> status
> major    1
> minor    5.0
> year     2002
> month    04
> day      29
> language R
>
> I want to use data that is stored in a MySQL database.
> I've been using the package RMySQL with sucess for this task.
>
> I also use R from a Windows box
> > version
> platform i386-pc-mingw32
> arch     i386
> os       mingw32
> system   i386, mingw32
> status     Patched
> major    1
> minor    5.0
> year     2002
> month    05
> day      16
> language R
>
> I wanted to use the same R code within this machine (thus using the
> RMySQL package). However, when using the Install from CRAN menu at Windows to
> pick the RMySQL package I cannot see it on the menu.... What am I doing
> wrong? According to the R Data Import/Export manual "Package RMySQL has been
> used on both Linux and Windows." ...
>
> I'm able to get the data using RODBC and the myodbc driver, but I would
> prefer to have the same R code... Is this possible?

Yes, all you have to do is to compile it up for Windows.  You will need to
install MySQL for Windows and compile against the version you installed,
so it's not something which can be distributed.

You could have gone to CRAN and read the ReadMe in the bin/windows/contrib
directory ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Fri May 31 20:47:33 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Fri, 31 May 2002 18:47:33 +0000
Subject: [R] plot() accepts arrays of cex and col, xyplot() does not
References: <20020531161506.A3842@s1x.zimnet.ch>
Message-ID: <3CF7C545.A67745F0@sentoo.sn>

plot and xyplot use different technologies and syntax. For instance,
there is a typo in your code below: you meant xyplot(y ~ x, cex = q, col
= q) instead of xyplot(x ~ y, cex = q, col = q).

If you want to reproduce your example with xyplot:

xyplot( y ~ x, groups = x,
    panel = function(x, y,...){
      panel.superpose(x, y, cex=q, col=q,... )
      })

Best,

Renaud



Wolfram Fischer - Z/I/M wrote:
> 
> An inconsistancy:
> 
>     n <- 6
>     x <- 1:n
>     y <- rnorm(1:n)
>     q <- ( x %% 3 + 1 ) * 2
>     plot( x, y, cex=q, col=q )
>     xyplot( x ~ y, cex=q, col=q )
> 
> While plot() draws different sizes and colors
> xyplot() uses only one color and size.
> 
> Wolfram Fischer
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri May 31 22:47:00 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 31 May 2002 22:47:00 +0200
Subject: [R] two dimensional function plot
References: <KMEBLGBNIPHBCOAALDALIEJLCBAA.hzhang3@partners.org>
Message-ID: <3CF7E144.4CDBE60D@statistik.uni-dortmund.de>

Hui Zhang wrote:
> 
> I want to draw a plot for function f(x,y). Could anyone give me suggestion
> about it? Thanks

As your question is not very detailed, I can only guess you are looking
for

 persp()

which produces a surface plot, see ?persp. 
Or do you want to generate contour() or image() plots?

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clists at perrin.socsci.unc.edu  Fri May 31 22:37:18 2002
From: clists at perrin.socsci.unc.edu (Andrew Perrin)
Date: Fri, 31 May 2002 16:37:18 -0400 (EDT)
Subject: [R] Convergence and singularity in glmmPQL
Message-ID: <Pine.LNX.4.21.0205311630040.12672-100000@perrin.socsci.unc.edu>

Greetings-

Using R 1.5.0 under linux and the latest MASS and nlme, I am trying to
develop a three-level (two levels of nesting) model with a dichotomous
oucome variable. The unconditional model is thus:

> doubt1.pql<-glmmPQL(fixed = r.info.doubt ~ 1, random = ~1 |
groupid/participantid,
+ family = binomial, data = fgdata.10statements.df)
iteration 1 
iteration 2 
iteration 3 
iteration 4 
iteration 5 
> summary(doubt1.pql)
Linear mixed-effects model fit by maximum likelihood
 Data: fgdata.10statements.df 
       AIC      BIC    logLik
  35838.51 35864.14 -17915.26

Random effects:
 Formula: ~1 | groupid
        (Intercept)
StdDev:   0.9113356

 Formula: ~1 | participantid %in% groupid
        (Intercept)  Residual
StdDev:    1.222692 0.8411629

Variance function:
 Structure: fixed weights
 Formula: ~invwt 
Fixed effects: r.info.doubt ~ 1 
                Value Std.Error   DF   t-value p-value
(Intercept) -5.523606 0.3170107 4351 -17.42404  <.0001

Standardized Within-Group Residuals:
        Min          Q1         Med          Q3         Max 
-0.54548030 -0.06825715 -0.05379631 -0.04567625 18.29733311 

Number of Observations: 4480
Number of Groups: 
                   groupid participantid %in% groupid 
                        21                        129 

---

The most interesting question, though, is the effect of the dummy
variables is.prot, is.cath, is.union, is.sport, and is.busi. Each of these
is a dichotomous variable. I tried:

> doubt5.pql<-glmmPQL(random = ~ 1 | groupid/participantid,
+                     fixed = r.info.doubt ~  is.prot + is.cath + is.union
+                     is.sport + is.busi,
+                     data = fgdata.10statements.df,
+                     na.action=na.omit,
+                     niter=50,
+                     family = binomial)

(the version without niter=50 just failed to converge after 10
interations; adding niter=50 gives:

iteration 1 
...
iteration 26 
Error in solve.default(estimates[dimE[1] - (p:1), dimE[2] - (p:1), drop =
FALSE]) : 
        singular matrix `a' in solve
In addition: Warning message: 
Algorithm did not converge in: (if (is.empty.model(mt)) glm.fit.null else
glm.fit)(x = X, y = Y,  


---

Can someone help with interpreting this? What strategies might be fruitful
in gaining convergence? This particular outcome variable is very sparse
(28 positive values in an N of 4480); is that likely part of the problem?

Thanks.

----------------------------------------------------------------------
Andrew J Perrin - http://www.unc.edu/~aperrin
Assistant Professor of Sociology, U of North Carolina, Chapel Hill
clists at perrin.socsci.unc.edu * andrew_perrin (at) unc.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri May 31 23:12:16 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 31 May 2002 23:12:16 +0200
Subject: [R] Manual scaling a scatter plot
References: <0531f0130161f52ATNSMTP92@atnsmtp92.24on.cc>
Message-ID: <3CF7E730.32C1C6DC@statistik.uni-dortmund.de>

osiander at 24on.cc wrote:
> 
> Hello R-help,
> I have a data.frame where I want to scatterplot variable1 versus variable2 using a third variable as a factor. For each factor I want to have a regression line in the same plot with different color and symbols. Var1, and var2  contain a lot of NA,sometimes the dependent var sometimes the predictor, sometimes both together.


So you cannot plot any of those observations containing NAs (see below).


> Three problems occure:
> 
> Makeing subsets to split the data according to the levels is tedious and needs then points(), abline(lm()) with different line and points types for each plot defined manualy.
> Is there a simpler solution?


The question is what manually means ... as one straightforward solution
I'd suggest to write the code along the following example:

 DF <- data.frame(Var1 = c(runif(11), NA), Var2 = c(NA, runif(10), NA), 
    Var3 = factor(rep(1:3, 4)))

 plot(DF$Var1, DF$Var2, pch = as.character(DF$Var3))
 for(i in 1:nlevels(DF$Var3))
    abline(lm(DF$Var2 ~ DF$Var1, subset = (DF$Var3 ==
levels(DF$Var3)[i])), col = i)

What a luck! As the default, na.omit is set and observations containing
NAs are omitted.


> Since the data need different scaling some datapoints lay outside of the window, depending on which level was printed first. Is there a way to do scaling manualy?


Why? In R you can specify things vertozized. For manual scaling use the
arguments "xlim" and "ylim".
 

> I start with a plot of the vars with the bigger range using the plot(type="n") function. Then I do several plot( add=T). 


Perhaps there is a better way with points() or just the way suggested
above ...


> If the biggest positive value in the predictor(x-axis) matches with a NA on the y-axis, the auto-scaling still takes the biggest positive value. The final plot then has an empty right part, which looks unprofessional. Is manual scaling an option here? I can not easily work with na.omit etc, since there are more variables which have valid data I do not want to loose.


I don't get the point here. Now you are going to predict()? How are you
going to plot data with NAs in one of the plotted variables?

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From whitcher at cgd.ucar.edu  Fri May 31 23:27:23 2002
From: whitcher at cgd.ucar.edu (Brandon Whitcher)
Date: Fri, 31 May 2002 15:27:23 -0600 (MDT)
Subject: [R] error in seq.POSIXt?
Message-ID: <Pine.GSO.4.30.0205311448220.2517-100000@box.cgd.ucar.edu>


I am trying to extract only the winters (defined to be 01-Dec through
28-Feb) of daily data from 1948-2002.  There are 90 days in each winter
season.  I wrote the following code to gather the winter dates into a
single vector:

DJF <- NULL
for(year in 1949:1999) {
  temp.begin <- strptime(paste("01/12", year-1, sep="/"), "%d/%m/%Y")
  temp.end <- strptime(paste("28/02", year, sep="/"), "%d/%m/%Y")
  ## Gives wrong answer:
  temp.seq <- seq(temp.begin, temp.end, by="day")
  if(is.null(DJF))
    DJF <- temp.seq
  else
    DJF <- c(DJF, temp.seq)
  cat("Winter:", year, "\t", length(temp.seq), "\n")
}

with the following output:

Winter: 1949 	 90
Winter: 1950 	 90
Winter: 1951 	 90
Winter: 1952 	 90
Winter: 1953 	 90
Winter: 1954 	 90
Winter: 1955 	 90
Winter: 1956 	 90
Winter: 1957 	 90
Winter: 1958 	 90
Winter: 1959 	 90
Winter: 1960 	 90
Winter: 1961 	 90
Winter: 1962 	 90
Winter: 1963 	 90
Winter: 1964 	 90
Winter: 1965 	 90
Winter: 1966 	 90
Winter: 1967 	 90
Winter: 1968 	 90
Winter: 1969 	 90
Winter: 1970 	 90
Winter: 1971 	 90
Winter: 1972 	 90
Winter: 1973 	 90
Winter: 1974 	 89
Winter: 1975 	 89
Winter: 1976 	 90
Winter: 1977 	 90
Winter: 1978 	 90
Winter: 1979 	 90
Winter: 1980 	 90
Winter: 1981 	 90
Winter: 1982 	 90
Winter: 1983 	 90
Winter: 1984 	 90
Winter: 1985 	 90
Winter: 1986 	 90
Winter: 1987 	 90
Winter: 1988 	 90
Winter: 1989 	 90
Winter: 1990 	 90
Winter: 1991 	 90
Winter: 1992 	 90
Winter: 1993 	 90
Winter: 1994 	 90
Winter: 1995 	 90
Winter: 1996 	 90
Winter: 1997 	 90
Winter: 1998 	 90
Winter: 1999 	 90
Winter: 2000 	 90
Winter: 2001 	 90
Winter: 2002 	 90

There are two years, 1974 and 1975, that produce only 89 days per winter.
I could not figure out what the cause of this was, but a workaround is two
rewrite the call to seq.POSIXt as:

temp.seq <- seq(temp.begin, length.out=90, by="day")

I am unsure why one works and one does not.  Any ideas?

Brandon

----------------------------------------------------------------------------
  Geophysical Statistics Project
  National Center for Atmospheric Research          +1 303 497 1709  voice
  P.O. Box 3000, Boulder, CO  80307-3000            +1 303 497 1333  fax

  whitcher at ucar.edu                            www.cgd.ucar.edu/~whitcher/
----------------------------------------------------------------------------





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


