From jfox at mcmail.cis.mcmaster.ca  Mon Jul  1 00:52:30 2002
From: jfox at mcmail.cis.mcmaster.ca (John Fox)
Date: Sun, 30 Jun 2002 18:52:30 -0400 (EDT)
Subject: [R] modifying a vector
In-Reply-To: <20020630124930.1820aaf1.fharrell@virginia.edu>
Message-ID: <Pine.SOL.4.33.0206301850100.2424-100000@mcmail.cis.mcmaster.ca>

Dear Frank et al.,

Actually, I agree that using _ and = for assignment is best avoided --
the former is ugly and the latter invites problems. I was just pointing
out a fact.

John

On Sun, 30 Jun 2002, Frank E Harrell Jr wrote:

> On 30 Jun 2002 09:12:31 -0700
> "A.J. Rossini" <rossini at blindglobe.net> wrote:
>
> > >>>>> "john" == John Fox <jfox at mcmail.cis.mcmaster.ca> writes:
> >
> >     john> The equal sign has already been provided as an alternative assignment
> >     john> operator in R.
> >
> > And I feel the same way about "=" as I do about "_".  Yech.
>
> I'll second that.  And we've already seen the big trouble that can be caused by "=" (e.g., mistyping sex=='male' as sex='male') that was not envisioned by the developers.  -Frank Harrell
> --
> Frank E Harrell Jr              Prof. of Biostatistics & Statistics
> Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
> U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.hankin at auckland.ac.nz  Mon Jul  1 04:15:32 2002
From: r.hankin at auckland.ac.nz (Robin Hankin)
Date: Mon, 1 Jul 2002 14:15:32 +1200
Subject: [R] functions of dataframes
Message-ID: <200207010215.g612FWs04846@r.hankin.sems.auckland.ac.nz>

Hello experts

I have a thing which I can't vectorize.  Can any gurus out there help?
This is my truncated dataset; it is a dataframe of five possums and
which tree they slept in on three days.

R> dataset
  p14 p88 p82 p90 p98
1   6   7   5   1   3
2   8   9  10   1  11
3   8   7  12  13  14

I can manipulate it with simple functions fine:

R> f
function(n){n+1000}

R> f(dataset)
   p14  p88  p82  p90  p98
1 1006 1007 1005 1001 1003
2 1008 1009 1010 1001 1011
3 1008 1007 1012 1013 1014

Great.  But I want to permute the trees as part of a Monte Carlo
simulation:

R> scramble
function(n){sample(50)[n]}

Hence
R> scramble(c(1,2,2,2,2,2,3))
[1] 31 26 26 26 26 26  4

preserves the fact that this (imaginary) possum slept in the same tree
most of the time.

PROBLEM:  scramble() doesn't work on the dataframe:

R> scramble(dataset)
Error in scramble(dataset) : invalid subscript type

I can convert it to a matrix but then I lose the structure:

R> scramble(as.matrix(dataset))
 [1] 44 24 24  8 23  8 29 10 19 16 16  7 11 15 30

How do I get answers like f(dataset) for scramble(dataset)?





R> dput(dataset)
structure(list(p14 = c(6, 8, 8), p88 = c(7, 9, 7), p82 = c(5, 
10, 12), p90 = c(1, 1, 13), p98 = c(3, 11, 14)), .Names = c("p14", 
"p88", "p82", "p90", "p98"), row.names = c("1", "2", "3"), class = "data.frame")



 

-- 

Robin Hankin, Lecturer,
School of Geographical and Environmental Science
Private Bag 92019 Auckland
New Zealand

r.hankin at auckland.ac.nz
tel 0064-9-373-7599 x6820; FAX 0064-9-373-7042
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.Denham at nrm.qld.gov.au  Mon Jul  1 06:09:16 2002
From: Robert.Denham at nrm.qld.gov.au (Denham Robert)
Date: Mon, 1 Jul 2002 14:09:16 +1000
Subject: [R] functions of dataframes
Message-ID: <7BDA5DE121FF454A88C2FFFAD392718C15BCE6@INDMAIL.lands.resnet.qg>

I think what you want is to apply scramble to each column.  You can do
this with apply:

apply(dataset,2,scramble)

which gives me:

     p14 p88 p82 p90 p98
[1,]  36  40  43  11  17
[2,]  16  21   2  11   1
[3,]  16  40   4  50  19


Robert


-----Original Message-----
From: Robin Hankin [mailto:r.hankin at auckland.ac.nz]
Sent: Monday, 1 July 2002 12:16 PM
To: r-help at stat.math.ethz.ch
Subject: [R] functions of dataframes


Hello experts

I have a thing which I can't vectorize.  Can any gurus out there help?
This is my truncated dataset; it is a dataframe of five possums and
which tree they slept in on three days.

R> dataset
  p14 p88 p82 p90 p98
1   6   7   5   1   3
2   8   9  10   1  11
3   8   7  12  13  14

I can manipulate it with simple functions fine:

R> f
function(n){n+1000}

R> f(dataset)
   p14  p88  p82  p90  p98
1 1006 1007 1005 1001 1003
2 1008 1009 1010 1001 1011
3 1008 1007 1012 1013 1014

Great.  But I want to permute the trees as part of a Monte Carlo
simulation:

R> scramble
function(n){sample(50)[n]}

Hence
R> scramble(c(1,2,2,2,2,2,3))
[1] 31 26 26 26 26 26  4

preserves the fact that this (imaginary) possum slept in the same tree
most of the time.

PROBLEM:  scramble() doesn't work on the dataframe:

R> scramble(dataset)
Error in scramble(dataset) : invalid subscript type

I can convert it to a matrix but then I lose the structure:

R> scramble(as.matrix(dataset))
 [1] 44 24 24  8 23  8 29 10 19 16 16  7 11 15 30

How do I get answers like f(dataset) for scramble(dataset)?





R> dput(dataset)
structure(list(p14 = c(6, 8, 8), p88 = c(7, 9, 7), p82 = c(5, 
10, 12), p90 = c(1, 1, 13), p98 = c(3, 11, 14)), .Names = c("p14", 
"p88", "p82", "p90", "p98"), row.names = c("1", "2", "3"), class =
"data.frame")



************************************************************************
The information in this e-mail together with any attachments is
intended only for the person or entity to which it is addressed
and may contain confidential and/or privileged material.

Any form of review, disclosure, modification, distribution
and/or publication of this e-mail message is prohibited.  

If you have received this message in error, you are asked to
inform the sender as quickly as possible and delete this message
and any copies of this message from your computer and/or your
computer system network.  
************************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kaushik at stat.nus.edu.sg  Mon Jul  1 08:38:08 2002
From: kaushik at stat.nus.edu.sg (Kaushik Bhattacharyya)
Date: Mon, 1 Jul 2002 14:38:08 +0800 (SGT)
Subject: [R] Compilation problem in Tru64/Alpha
Message-ID: <Pine.LNX.4.33.0207011434040.4973-100000@pie.stat.nus.edu.sg>


I am trying to compile R-1.5.1 source code in my two Alpha servers. But after doing
./configure when I am running ./make it is giving me the following error
messages in both of the alpha servers. But no problem in compiling the same source
code in my solaris m/c.  I am using the "root" account for compilation .

OS: Tru64 ver 4.0F

" Make: Cannot open ../../../../share/make/../../../../etc/Makeconf.  Stop.
*** Exit 1
Stop.
*** Exit 1
Stop.
*** Exit 1
Stop.
*** Exit 1
Stop. "

Please help me to solve this problem or to get R-1.5.1 binary for Tru64.

Thanks,

Kaushik Bhattacharyya
Statistics & Applied Probability,
NUS

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul  1 09:14:43 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 1 Jul 2002 08:14:43 +0100 (BST)
Subject: [R] Compilation problem in Tru64/Alpha
In-Reply-To: <Pine.LNX.4.33.0207011434040.4973-100000@pie.stat.nus.edu.sg>
Message-ID: <Pine.LNX.4.31.0207010811540.17081-100000@gannet.stats>

Have you tried using GNU make?  (I am sure you do not want to run
`./make', BTW, as there is no `make' in the top-level build directory.)
This looks like a problem with include files in make.


On Mon, 1 Jul 2002, Kaushik Bhattacharyya wrote:

>
> I am trying to compile R-1.5.1 source code in my two Alpha servers. But after doing
> ./configure when I am running ./make it is giving me the following error
> messages in both of the alpha servers. But no problem in compiling the same source
> code in my solaris m/c.  I am using the "root" account for compilation .
>
> OS: Tru64 ver 4.0F
>
> " Make: Cannot open ../../../../share/make/../../../../etc/Makeconf.  Stop.
> *** Exit 1
> Stop.
> *** Exit 1
> Stop.
> *** Exit 1
> Stop.
> *** Exit 1
> Stop. "
>
> Please help me to solve this problem or to get R-1.5.1 binary for Tru64.
>
> Thanks,
>
> Kaushik Bhattacharyya
> Statistics & Applied Probability,
> NUS
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marwan.khawaja at aub.edu.lb  Mon Jul  1 17:40:07 2002
From: marwan.khawaja at aub.edu.lb (Marwan Khawaja)
Date: Mon, 1 Jul 2002 08:40:07 -0700
Subject: [R] "_"
Message-ID: <CLECJBOEBGOMOKJHJNDAIEIPCGAA.marwan.khawaja@aub.edu.lb>

Hello,

This is to protest deprecating the nice one stroke '_' !!!
Marwan Khawaja


--------------------------------------------------------------------------------
--------------------------------------------------------
Marwan Khawaja   -   http://webfaculty.aub.edu.lb/~mk36/     If you have MS
Internet Explorer!
--------------------------------------------------------------------------------
--------------------------------------------------------


>Date: Sun, 30 Jun 2002 22:14:55 +1000
>From: Bill.Venables at cmis.csiro.au
>Sbject: RE: [R] modifying a vector

>Peter Dalgaard notes:

> > Note that "_" is assignment in S (and hence R, sigh...).
>
> Soon to be deprecated, though... (but it will probably take a while
> before we can reintroduce it as part of variable names).
>
	[WNV]   Indeed it may, so much so that I am surprised such a change
is even on the agenda.  We may agree that using "_" a the assignment
operator can make code difficult to read, but many people do use it, and
often with some enthusiasm.  It looks a bit to me like unscrambling the egg.
Let me be clear about this: I really do dislike the thing and I'm not about
to argue that it should be left untouched.   I'm just very surprised there
isn't an enormous howl of protest already...

	Are we also about to allow spaces in names and the "=" sign as yet
another alternative form of the left assignment operator, as in S4?  Should
be even more interesting.

	Bill Venables.
- -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._




--------------------------------------------------------------------------------
--------------------------------------------------------
Marwan Khawaja   -   http://webfaculty.aub.edu.lb/~mk36/     If you have MS
Internet Explorer!
--------------------------------------------------------------------------------
--------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kaushik at stat.nus.edu.sg  Mon Jul  1 09:48:19 2002
From: kaushik at stat.nus.edu.sg (Kaushik Bhattacharyya)
Date: Mon, 1 Jul 2002 15:48:19 +0800 (SGT)
Subject: [R] Compilation problem in Tru64/Alpha
In-Reply-To: <Pine.LNX.4.31.0207010811540.17081-100000@gannet.stats>
Message-ID: <Pine.LNX.4.33.0207011515050.5124-100000@pie.stat.nus.edu.sg>

Tried with GNU make. Compilation ok.

On Mon, 1 Jul 2002 ripley at stats.ox.ac.uk wrote:

> Have you tried using GNU make?  (I am sure you do not want to run
> `./make', BTW, as there is no `make' in the top-level build directory.)
> This looks like a problem with include files in make.
>
>
> On Mon, 1 Jul 2002, Kaushik Bhattacharyya wrote:
>
> >
> > I am trying to compile R-1.5.1 source code in my two Alpha servers. But after doing
> > ./configure when I am running ./make it is giving me the following error
> > messages in both of the alpha servers. But no problem in compiling the same source
> > code in my solaris m/c.  I am using the "root" account for compilation .
> >
> > OS: Tru64 ver 4.0F
> >
> > " Make: Cannot open ../../../../share/make/../../../../etc/Makeconf.  Stop.
> > *** Exit 1
> > Stop.
> > *** Exit 1
> > Stop.
> > *** Exit 1
> > Stop.
> > *** Exit 1
> > Stop. "
> >
> > Please help me to solve this problem or to get R-1.5.1 binary for Tru64.
> >
> > Thanks,
> >
> > Kaushik Bhattacharyya
> > Statistics & Applied Probability,
> > NUS
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlorino at vet-alfort.fr  Mon Jul  1 11:12:02 2002
From: tlorino at vet-alfort.fr (tlorino@vet-alfort.fr)
Date: Mon, 1 Jul 2002 11:12:02 +0200
Subject: [R] GUI and Java: RSJava does not work
Message-ID: <1578053720.20020701111202@vet-alfort.fr>

Hi,

About GUI and R, I would say that personnaly, I need to build a nice GUI for
people who does not know anything about R, to conduct simulations. I don't know
if the choice of R is the best. Maybe writing all the code in Java would be
better... I don't know.
That's why I have tried to install RSJava from Omegahat on my computer (Windows
2000). With R 1.5.0 or 1.5.1, I get the following error message:

Error in .Defunct() : `.Alias' is defunct.
See ?Defunct.


May I change a particular file in the SJava library to make correct paths for
Windows?
Thank you for your help,
Tristan Lorino

---------------------- 
?cole Nationale V?t?rinaire d'Alfort - http://www.vet-alfort.fr,
T?l. 01 43 96 70 33
M?l. tlorino at vet-alfort.fr
Site personnel : http://daedale.free.fr

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlorino at vet-alfort.fr  Mon Jul  1 11:24:10 2002
From: tlorino at vet-alfort.fr (tlorino@vet-alfort.fr)
Date: Mon, 1 Jul 2002 11:24:10 +0200
Subject: [R] Discrete random variable
Message-ID: <1368781597.20020701112410@vet-alfort.fr>

Hi,

I would create a function rdiscrete that returns the value of a discrete random
variable X defined on a subset which can change, and for the same probability for
the issue, eg:
X could sometimes take a value in the subset {2,3,4} with probability 1/3 for each
issue,
and sometimes X could take a value in the subset {2,3,4,5,6} with probability
1/5 for each
issue,
etc.

The function should have one parameter only: a vector, composed by the values of
the definition subset of X.

Thank your for your help,
Tristan Lorino

---------------------- 
?cole Nationale V?t?rinaire d'Alfort - http://www.vet-alfort.fr,
T?l. 01 43 96 70 33
M?l. tlorino at vet-alfort.fr
Site personnel : http://daedale.free.fr

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Mon Jul  1 11:50:46 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Mon, 1 Jul 2002 21:50:46 +1200
Subject: [R] GUI and Java: RSJava does not work
References: <1578053720.20020701111202@vet-alfort.fr>
Message-ID: <003d01c220e4$c8daf3e0$e42558db@kwan022>

Please search through the mailing list.

It has been discussed, twice at least, in June.
http://www.r-project.org/nocvs/mail/r-help/2002/5078.html

Cheers,

Ko-Kang Wang
------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
www.stat.auckand.ac.nz/~kwan022

----- Original Message -----
From: <tlorino at vet-alfort.fr>
To: <r-help at stat.math.ethz.ch>
Sent: Monday, July 01, 2002 9:12 PM
Subject: [R] GUI and Java: RSJava does not work


> Hi,
>
> About GUI and R, I would say that personnaly, I need to build a nice GUI
for
> people who does not know anything about R, to conduct simulations. I don't
know
> if the choice of R is the best. Maybe writing all the code in Java would
be
> better... I don't know.
> That's why I have tried to install RSJava from Omegahat on my computer
(Windows
> 2000). With R 1.5.0 or 1.5.1, I get the following error message:
>
> Error in .Defunct() : `.Alias' is defunct.
> See ?Defunct.
>
>
> May I change a particular file in the SJava library to make correct paths
for
> Windows?
> Thank you for your help,
> Tristan Lorino
>
> ----------------------
> ?cole Nationale V?t?rinaire d'Alfort - http://www.vet-alfort.fr,
> T?l. 01 43 96 70 33
> M?l. tlorino at vet-alfort.fr
> Site personnel : http://daedale.free.fr
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul  1 12:09:39 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 1 Jul 2002 11:09:39 +0100 (BST)
Subject: [R] Discrete random variable
In-Reply-To: <1368781597.20020701112410@vet-alfort.fr>
Message-ID: <Pine.LNX.4.31.0207011107340.18886-100000@gannet.stats>

On Mon, 1 Jul 2002 tlorino at vet-alfort.fr wrote:

> I would create a function rdiscrete that returns the value of a discrete random

There already is a function rdiscrete in package e1071 which does what I
would expect a function of that name to do.

> variable X defined on a subset which can change, and for the same probability for
> the issue, eg:
> X could sometimes take a value in the subset {2,3,4} with probability 1/3 for each
> issue,
> and sometimes X could take a value in the subset {2,3,4,5,6} with probability
> 1/5 for each
> issue,
> etc.
>
> The function should have one parameter only: a vector, composed by the values of
> the definition subset of X.

?sample, specifically sample(subset, 1).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Frederic.Jean at univ-brest.fr  Mon Jul  1 12:29:23 2002
From: Frederic.Jean at univ-brest.fr (Fred Jean)
Date: Mon, 01 Jul 2002 12:29:23 +0200 (CEST)
Subject: [R] chi square residuals
Message-ID: <200207011026.MAA17494@cassis-gw.univ-brest.fr>

dear list,

I'm a newbie with R but it seems very interesting to me.
First, to train myself and students, I'd like to use it for teaching  labs next
year. 

one of my labs deals with the barn owl predation in my region. tudents have to
work on a contingency table  tytogrp :

 station1  station2  station3  ...
n1,1         n1,2       n1,3        ...
n2,1        n2,2        n2,3        ...
n3,1       ...             ...           ...

each column being a station and each row being a prey species.

first, they have to manage with a chi square test for heterogeneity.
I found how to manage that using chisq.test from package ctest
the main problem for me at this first step is to find a way to automatically
regroup rows just using a criterion like "expected < 5"  ; I didn't succeed for
this trick yet.

second, students have to calculate the normalized residuals of the
chisq.test  according to :

((obs-exp) / sqrt(exp)) / ((1-actual.row.sum / N)*(1-actual.col.sum / N))

with :
obs = observed freq
exp = expected freq
N = sum(obs)
actual.row.sum=sum of freq in the row
actual.col.sum=sum of freq in the column

and I don't succeed in trying to calculate these 2 last parameters....
here is the code I wrote, inspired by an email from Mark Myatt on 16 Apr 2001

"twoWay" <- function(x=NA, y=NA, userDefined=NA ) {
#
        if (is.na(userDefined)){
          result <- chisq.test(table(x,y))
        }
        else{
          result <- chisq.test(userDefined)
        }
#
        print(result)
        obs <- result$observed
        exp <- result$expected
        chi.table <- ((obs - exp)^2)/exp
        row.sum <- apply(obs,1,sum)
        col.sum <- apply(obs,2,sum)
        N <- sum(obs)
#       
        fullArray <- cbind(obs,row.sum) 
        fullArray <- rbind(fullArray,c(col.sum,N))
        rownames(fullArray) <- c(rownames(obs), "Total") 
        colnames(fullArray) <- c(colnames(obs), "Total")
#
#  following doesn't work     
#  res.norm <- ((obs-exp)/sqrt(exp))/((1-row.sum/N)*(1-col.sum/N))
#
       
return(list(Complet=fullArray,Expected=exp,Chi=chi.table)) # add res.norm
        }

thanks for any help (and sorry for my poor english)

----------------------------------------------------
Fred JEAN - UMR CNRS 6539 / LEMAR
Univ. Bretagne Occidentale - Institut Universitaire Europ?en de la Mer
Place Nicolas Copernic F-29280 PLOUZANE
Pho:+33 (0)2 98 49 86 38 // Fax:+33 (0)2 98 49 86 45
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Mon Jul  1 12:20:45 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Mon, 1 Jul 2002 12:20:45 +0200 (MEST)
Subject: [R] Discrete random variable
In-Reply-To: <1368781597.20020701112410@vet-alfort.fr>
Message-ID: <Pine.LNX.4.21.0207011219430.12824-100000@artemis>

> Hi,
> 
> I would create a function rdiscrete that returns the value of a discrete random
> variable X defined on a subset which can change, and for the same probability for
> the issue, eg:
> X could sometimes take a value in the subset {2,3,4} with probability 1/3 for each
> issue,
> and sometimes X could take a value in the subset {2,3,4,5,6} with probability
> 1/5 for each
> issue,
> etc.
> 
> The function should have one parameter only: a vector, composed by the values of
> the definition subset of X.

have a look at `sample', 

Torsten

> 
> Thank your for your help,
> Tristan Lorino
> 
> ---------------------- 
> ?cole Nationale V?t?rinaire d'Alfort - http://www.vet-alfort.fr,
> T?l. 01 43 96 70 33
> M?l. tlorino at vet-alfort.fr
> Site personnel : http://daedale.free.fr
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mel at mcs.st-and.ac.uk  Mon Jul  1 13:02:57 2002
From: mel at mcs.st-and.ac.uk (Mike Lonergan)
Date: Mon, 1 Jul 2002 12:02:57 +0100
Subject: [R] Discrete random variable
In-Reply-To: <1368781597.20020701112410@vet-alfort.fr>
Message-ID: <NEBBJLLBCLEDFLCCBKDAKEKPCGAA.mel@mcs.st-andrews.ac.uk>

Hi Tristan,

how about:

choose.from<-function(x) { x[ceiling(runif(1,0,length(x)))]}

Cheers,

Mike.

     > -----Original Message-----
     > From: owner-r-help at stat.math.ethz.ch
     > [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of
     > tlorino at vet-alfort.fr
     > Sent: 01 July 2002 10:24
     > To: r-help at stat.math.ethz.ch
     > Subject: [R] Discrete random variable
     >
     >
     > Hi,
     >
     > I would create a function rdiscrete that returns the value
     > of a discrete random
     > variable X defined on a subset which can change, and for the
     > same probability for
     > the issue, eg:
     > X could sometimes take a value in the subset {2,3,4} with
     > probability 1/3 for each
     > issue,
     > and sometimes X could take a value in the subset {2,3,4,5,6}
     > with probability
     > 1/5 for each
     > issue,
     > etc.
     >
     > The function should have one parameter only: a vector,
     > composed by the values of
     > the definition subset of X.
     >
     > Thank your for your help,
     > Tristan Lorino
     >
     > ----------------------
     > ?cole Nationale V?t?rinaire d'Alfort - http://www.vet-alfort.fr,
     > T?l. 01 43 96 70 33
     > M?l. tlorino at vet-alfort.fr
     > Site personnel : http://daedale.free.fr
     >
     > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
     > .-.-.-.-.-.-.-.-.-
     > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Mon Jul  1 12:35:58 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Mon, 1 Jul 2002 12:35:58 +0200
Subject: [R] GUI and Java: RSJava does not work
In-Reply-To: <1578053720.20020701111202@vet-alfort.fr>
Message-ID: <KKEGJOGBELBHDIKPINBMMELECNAA.hb@maths.lth.se>

>From Duncan Temple Lang reply a few days ago on an identical question:

"The simple short-term fix is to replace the line
  .JNew <- .Alias(.JavaConstructor)
with
  .JNew <- .JavaConstructor

in the file SJava/R/SJava."

Source: http://www.r-project.org/nocvs/mail/r-help/2002/5078.html

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/


> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of
> tlorino at vet-alfort.fr
> Sent: Monday, July 01, 2002 11:12 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] GUI and Java: RSJava does not work
>
>
> Hi,
>
> About GUI and R, I would say that personnaly, I need to build a
> nice GUI for
> people who does not know anything about R, to conduct
> simulations. I don't know
> if the choice of R is the best. Maybe writing all the code in
> Java would be
> better... I don't know.
> That's why I have tried to install RSJava from Omegahat on my
> computer (Windows
> 2000). With R 1.5.0 or 1.5.1, I get the following error message:
>
> Error in .Defunct() : `.Alias' is defunct.
> See ?Defunct.
>
>
> May I change a particular file in the SJava library to make
> correct paths for
> Windows?
> Thank you for your help,
> Tristan Lorino
>
> ----------------------
> ?cole Nationale V?t?rinaire d'Alfort - http://www.vet-alfort.fr,
> T?l. 01 43 96 70 33
> M?l. tlorino at vet-alfort.fr
> Site personnel : http://daedale.free.fr

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jim at localhost.localdomain  Mon Jul  1 13:11:11 2002
From: jim at localhost.localdomain (Jim Lemon)
Date: Mon, 1 Jul 2002 21:11:11 +1000
Subject: [R] "_"
Message-ID: <200207011113.g61BD3b16912@localhost.localdomain>

If I remember correctly, every time the dreaded "_" arises as an 
assignment operator in polite emails, the advantage of last resort cited 
in its defence is that it is only a single (albeit shifted) keystroke. I 
can only speak for the excellent NEdit, but it is a trivial task to assign 
some otherwise unloved key (my favorite is that funny accent at the left 
of the digit row) to perform the herculean task of typing "<-". 

Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bigler at fowi.ethz.ch  Mon Jul  1 13:54:46 2002
From: bigler at fowi.ethz.ch (Christof Bigler)
Date: Mon, 1 Jul 2002 13:54:46 +0200
Subject: [R] glmmPQL
Message-ID: <56F2A0A4-8CE9-11D6-9A53-000A27D7D440@fowi.ethz.ch>

Dear R users,

can anybody explain me why the function glmmPQL(.) behaves in different 
ways, depending on the number of measurements/individuals you use? To 
show you this, I generated two examples. The first one includes 20 
indivduals with each 100 repeated measurements (binary response), the 
second one includes 40 individuals. The 'individuals' differ only in 
different x values. I fitted logistic regression models with and without 
random intercepts.

The coefficients and p values between dummy.glm20 and dummy.glmm20 
differ. However, dummy.glm40 and dummy.glmm40 have the same coefficients 
and p values, respectively. Did the solution in the second example not 
converge (only one iteration step)?

Why does the AIC between e.g. dummy.glm20 and dummy.glmm20 differ so 
much?
And last question: how can dummy.glm20 and dummy.glmm20 be compared with 
an anova(.) function?

I use R 1.5.0 (Darwin version) on a Mac G4.

Thanks for any advice.

Christof

#######################################
#Example 1
 > y <- c(rep(0,40),sample(c(rep(0,20),rep(1,20)),40),rep(1,20))
 > dummy20 <- data.frame(ID=as.factor(c(rep(1:20,each=100))),
                     y=rep(y,20),
                     x=c(1:2000))
 > dummy.glm20 <- glm(y~x,data=dummy20,family=binomial)
 > summary(dummy.glm20)
...
Coefficients:
               Estimate Std. Error z value Pr(>|z|)
(Intercept) -5.330e-01  9.199e-02  -5.795 6.85e-09 ***
x            1.270e-04  7.915e-05   1.604    0.109
...
Null deviance: 2692.0  on 1999  degrees of freedom
Residual deviance: 2689.5  on 1998  degrees of freedom
AIC: 2693.5

 > dummy.glmm20 <- glmmPQL(y~x,random=~1 | ID,
+                       data=dummy20,family=binomial)
iteration 1
iteration 2
iteration 3
iteration 4
iteration 5

 > summary(dummy.glmm20)
Linear mixed-effects model fit by maximum likelihood
  Data: dummy20
        AIC      BIC    logLik
   10270.78 10293.19 -5131.392

Random effects:
  Formula: ~1 | ID
         (Intercept)  Residual
StdDev:    50.55603 0.7928198

Variance function:
  Structure: fixed weights
  Formula: ~invwt
Fixed effects: y ~ x
                 Value Std.Error   DF   t-value p-value
(Intercept) -88.62246 11.686506 1979 -7.583316  <.0001
x             0.08768  0.002913 1979 30.099686  <.0001
  Correlation:
   (Intr)
x -0.252

Standardized Within-Group Residuals:
        Min         Q1        Med         Q3        Max
-2.4592661 -0.4117634 -0.1389889  0.4223991  2.8757740

Number of Observations: 2000
Number of Groups: 20

#Example 2
 > dummy40 <- data.frame(ID=as.factor(c(rep(1:40,each=100))),
                     y=rep(y,40),
                     x=c(1:4000))
 > dummy.glm40 <- glm(y~x,data=dummy40,family=binomial)
 > summary(dummy.glm40)
...
Coefficients:
               Estimate Std. Error z value Pr(>|z|)
(Intercept) -4.691e-01  6.478e-02  -7.241 4.45e-13 ***
x            3.173e-05  2.796e-05   1.135    0.256
...
Null deviance: 5384.1  on 3999  degrees of freedom
Residual deviance: 5382.8  on 3998  degrees of freedom
AIC: 5386.8

 > dummy.glmm40 <- glmmPQL(y~x,random=~1 | ID,
+                       data=dummy40,family=binomial)
iteration 1
 > summary(dummy.glmm40)
Linear mixed-effects model fit by maximum likelihood
  Data: dummy40
        AIC      BIC    logLik
   17068.15 17093.32 -8530.073

Random effects:
  Formula: ~1 | ID
         (Intercept)  Residual
StdDev: 0.003066688 0.9999229

Variance function:
  Structure: fixed weights
  Formula: ~invwt
Fixed effects: y ~ x
                  Value  Std.Error   DF   t-value p-value
(Intercept) -0.4690798 0.06479625 3959 -7.239305  <.0001
x            0.0000317 0.00002797 3959  1.134708  0.2566
  Correlation:
   (Intr)
x -0.867

Standardized Within-Group Residuals:
       Min        Q1       Med        Q3       Max
-0.842464 -0.820600 -0.798994  1.214569  1.263420

Number of Observations: 4000
Number of Groups: 40

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul  1 14:24:06 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 1 Jul 2002 13:24:06 +0100 (BST)
Subject: [R] glmmPQL
In-Reply-To: <56F2A0A4-8CE9-11D6-9A53-000A27D7D440@fowi.ethz.ch>
Message-ID: <Pine.LNX.4.31.0207011318070.19007-100000@gannet.stats>

On Mon, 1 Jul 2002, Christof Bigler wrote:

> Dear R users,
>
> can anybody explain me why the function glmmPQL(.) behaves in different
> ways, depending on the number of measurements/individuals you use? To
> show you this, I generated two examples. The first one includes 20
> indivduals with each 100 repeated measurements (binary response), the
> second one includes 40 individuals. The 'individuals' differ only in
> different x values. I fitted logistic regression models with and without
> random intercepts.
>
> The coefficients and p values between dummy.glm20 and dummy.glmm20
> differ. However, dummy.glm40 and dummy.glmm40 have the same coefficients
> and p values, respectively. Did the solution in the second example not
> converge (only one iteration step)?
>
> Why does the AIC between e.g. dummy.glm20 and dummy.glmm20 differ so
> much?
> And last question: how can dummy.glm20 and dummy.glmm20 be compared with
> an anova(.) function?

You can't use either AIC or anova with glmmPQL: it is not maximum
likelihood but PQL, which is an appoximate method.

You should remember that glmmPQL is part of the MASS package (which you
maybe didn't realise), to support a book you can't have read as it is not
yet published.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredrik.lundgren at norrkoping.mail.telia.com  Mon Jul  1 14:46:57 2002
From: fredrik.lundgren at norrkoping.mail.telia.com (Fredrik Lundgren)
Date: Mon, 1 Jul 2002 14:46:57 +0200
Subject: [R] settings for windows()
Message-ID: <001601c220fd$64506400$2d0ffea9@oemcomputer>

Hello,

I would like to change the default size of the routinely opened graphics window - (width = 7, height = 7)- to -(width = 6.25, height = 6.25)- in rw1051 but  I can't find out how?

Sincerely Fredrik Lundgren

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From martin at bugs.unl.edu.ar  Mon Jul  1 14:48:24 2002
From: martin at bugs.unl.edu.ar (=?iso-8859-1?Q?Mart=EDn_Marqu=E9s?=)
Date: Mon, 1 Jul 2002 09:48:24 -0300 (GMT)
Subject: [R] modified kolmogorov-smirnov
Message-ID: <Pine.GSO.4.33.0207010947150.23353-100000@bugs.unl.edu.ar>

I'm trying to use modified Kolmogorov-Smirnov test with a Normal which I
don't know it's parameters. Somebody told me about the lilifor function in
R, but just can't find it.
Does anybody know how I can test with the modified Kolmogorov-Smirnov
test?


Porqu? usar una base de datos relacional cualquiera,
si pod?s usar PostgreSQL?
-----------------------------------------------------------------
Mart?n Marqu?s                  |        mmarques at unl.edu.ar
Programador, Administrador, DBA |       Centro de Telematica
                       Universidad Nacional
                            del Litoral
-----------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amcculloch at kehf.org.uk  Mon Jul  1 15:29:14 2002
From: amcculloch at kehf.org.uk (Andrew McCulloch)
Date: Mon, 01 Jul 2002 14:29:14 +0100
Subject: [R] split a data frame
Message-ID: <3D20592A.9C80E873@kehf.org.uk>

Hi ,

    I have a data frame (Data1) which has a area variable (AREA) with
codes (RA,RG,LT etc.). I would like to split the data frame into
individual data frames called RA, RG, LT conatining only the
observations from those areas.

Thanks

yours sincerely
Andrew McCulloch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etv at nf.jinr.ru  Mon Jul  1 15:32:21 2002
From: etv at nf.jinr.ru (Timur Elzhov)
Date: Mon, 1 Jul 2002 17:32:21 +0400 (MSD)
Subject: [R] Fitting a batch of histograms
Message-ID: <Pine.LNX.4.33.0207011725120.3579-100000@pcf004.jinr.ru>

Hello.

I've several histograms accumulated all together in one time.
Can I fit them simultaneously, too, using the same set of parameters for
all histograms?


--
Thank you very much,
Timur.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul  1 15:30:03 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 1 Jul 2002 14:30:03 +0100 (GMT Daylight Time)
Subject: [R] settings for windows()
In-Reply-To: <001601c220fd$64506400$2d0ffea9@oemcomputer>
Message-ID: <Pine.WNT.4.44.0207011427360.416-100000@petrel>

On Mon, 1 Jul 2002, Fredrik Lundgren wrote:

> I would like to change the default size of the routinely opened graphics window - (width = 7, height = 7)- to -(width = 6.25, height = 6.25)- in rw1051 but  I can't find out how?

You need to change the default graphics device in your .Rprofile: see
rw1051/library/base/R/Rprofile for the current settings.  You can create
a copy of windows() with whatever defaults you want.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul  1 15:38:01 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 1 Jul 2002 14:38:01 +0100 (GMT Daylight Time)
Subject: [R] problem with predict()
In-Reply-To: <EDE2901A3801144496F3485FCFEC8D3027C4E2@EPOCH.arqule.com>
Message-ID: <Pine.WNT.4.44.0207011433080.416-100000@petrel>

I should point that there is (as I thought) nothing wrong with predict.lm
on a rank-degenerate problem, e.g.

x1 <- rnorm(100)
x3 <- rnorm(100)
y <- rnorm(100)
train <- data.frame(y=y, x1=x1, x2=x1, x3=x3)
fit <- lm(y ~ ., train)
stopifnot(all.equal(predict(fit), predict(fit, train)))

although as Thomas points out a warning would be useful.

The problem here is that model.matrix is (for me) adding 13 duplicate
columns in lm and not in predict.lm.  That's a bug unrelated to predict().

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredrik.karlsson at ling.umu.se  Mon Jul  1 15:42:39 2002
From: fredrik.karlsson at ling.umu.se (Fredrik Karlsson)
Date: Mon, 1 Jul 2002 15:42:39 +0200
Subject: [R] Substitutions in strings.
Message-ID: <20020701134239.GA12780@ling.umu.se>

Hi all,

Sorry to bother you with the potentially not too bright question, but
since I cannot get it to work, I'll have to ask someone..

I've got this vector:

> token
[1] sal   skal  skal  bak   b_r   d_    gal   kal   l_r   n_r   pak
p_r  
[13] sal   sl_r  sn_r  spak  sp_r  st_r  s_    bak   d_    gal   l_r
pak  
[25] p_r   sak   sl_r  sp_r  t_    kal   n_r   s_    st_r  sak   kal
spak 
[37] s_    spik  t_    n_r   spik  spak  gal   pak   p_r   sak   sl_r
spak 
[49] s_    s_r   t_    b_r   s_r   bak   d_    l_r   skal  sp_r
sl_r  sal  
[61] st_r  n_r   bak   b_r   d_    l_r   n_r   pak   p_r   sal
skal  sl_r 
[73] sn_r  spak  sp_r  st_r  s_    s_r   t_    bak   d_    l_r
pak   p_r  
[85] sl_r  sn_r  spak  spik  s_r   t_    gal   kal   gal   n_r
kal   spik 
[97] n_r   n_r   bak   b_r   d_    gal   l_r   sak   sal   skal
sl_r  sn_r 
[109] spik  sp_r  st_r  s_    s_r   gal   kal   n_r   sak   kal
pak   p_r
.
.
.

What I whant to do is to substitute all the '_'s in the vector whith
some other character.

Trying it out, this works.

>gsub("_","A",c("_","_a_"))
[1] "A"   "AaA"

However, this does not..

>gsub("_","A",token)
Error in gsub(pattern, replacement, x, ignore.case, extended) : 
	invalid argument

Can't see why. Please help me out..

/Fredrik


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From VBMorozov at lbl.gov  Mon Jul  1 15:54:27 2002
From: VBMorozov at lbl.gov (VBMorozov@lbl.gov)
Date: Mon, 01 Jul 2002 09:54:27 -0400
Subject: [R] a little statistics help
Message-ID: <52ece54c5e.54c5e52ece@lbl.gov>

Dear R-guRus:
I am stuck with the following problem in R:
Let's say i have a data.frame with columns X,Y & Z.
X is a column of numbers, Y is a column of N 
factors "A", "B", "C", "D", etc and Z is a column of n 
factors "a", "b", "c", etc

if i do MyLm<-lm(X~Y*Z - 1) i get all N coefficients for Y-factors, but 
only n-1 coefficients for Z-factors, and only N*(n-1) coefficients for 
YZ interaction. Is that how it's supposed to be? I would like to get N 
coefficients for all factors Y and n coefficients for all factors Z - 
how can i do that?

Thank you very much,
Vlad


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul  1 16:00:04 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 1 Jul 2002 15:00:04 +0100 (BST)
Subject: [R] Substitutions in strings.
In-Reply-To: <20020701134239.GA12780@ling.umu.se>
Message-ID: <Pine.LNX.4.31.0207011458320.19193-100000@gannet.stats>

On Mon, 1 Jul 2002, Fredrik Karlsson wrote:

> Hi all,
>
> Sorry to bother you with the potentially not too bright question, but
> since I cannot get it to work, I'll have to ask someone..
>
> I've got this vector:

That's not a vector (or it would be printed with quotes).  My guess is
that it is a factor,  Try as.character(token).

>
> > token
> [1] sal   skal  skal  bak   b_r   d_    gal   kal   l_r   n_r   pak
> p_r
> [13] sal   sl_r  sn_r  spak  sp_r  st_r  s_    bak   d_    gal   l_r
> pak
> [25] p_r   sak   sl_r  sp_r  t_    kal   n_r   s_    st_r  sak   kal
> spak
> [37] s_    spik  t_    n_r   spik  spak  gal   pak   p_r   sak   sl_r
> spak
> [49] s_    s_r   t_    b_r   s_r   bak   d_    l_r   skal  sp_r
> sl_r  sal
> [61] st_r  n_r   bak   b_r   d_    l_r   n_r   pak   p_r   sal
> skal  sl_r
> [73] sn_r  spak  sp_r  st_r  s_    s_r   t_    bak   d_    l_r
> pak   p_r
> [85] sl_r  sn_r  spak  spik  s_r   t_    gal   kal   gal   n_r
> kal   spik
> [97] n_r   n_r   bak   b_r   d_    gal   l_r   sak   sal   skal
> sl_r  sn_r
> [109] spik  sp_r  st_r  s_    s_r   gal   kal   n_r   sak   kal
> pak   p_r
> .
> .
> .
>
> What I whant to do is to substitute all the '_'s in the vector whith
> some other character.
>
> Trying it out, this works.
>
> >gsub("_","A",c("_","_a_"))
> [1] "A"   "AaA"
>
> However, this does not..
>
> >gsub("_","A",token)
> Error in gsub(pattern, replacement, x, ignore.case, extended) :
> 	invalid argument
>
> Can't see why. Please help me out..
>
> /Fredrik
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From philippe.grosjean at ifremer.fr  Mon Jul  1 14:45:35 2002
From: philippe.grosjean at ifremer.fr (Philippe Grosjean)
Date: Mon, 1 Jul 2002 14:45:35 +0200
Subject: [R] GUIs (for teaching)
Message-ID: <MABBLJDICACNFOLGIHJOIELBCMAA.philippe.grosjean@ifremer.fr>

Sorry for entering late in the thread, but I was absent last week.

I am developping an alternate GUI for R (and also Splus, Octave, Scilab,
Matlab, Ox & Mathematica). The project started 3 years ago, but it is
progressing slowly, since I am currently the only developer on the project
and had to do it during my extra time. Now, it is going a little faster
because I got some time and money explicitly dedicated to it. It will be
released as GPL in (presumably) one or two years, and will match many
criteria discussed in the thread. Yet, it is intended to go further in
several points. Concerning the delicate choice of script versus menu/dialog
box, my intention is to propose dialog boxes that create scripts templates
with comments for further edition. This should both encourage script edition
and facilitate the use of R for beginners or unfrequently users.

There will be not only a flexible user interface that bring some nice
additions (synthax highlighting, quick tips on the functions arguments,
templates, object explorer, RTF report,...) but also a modular conception to
allow a concurrent access to several "calculation kernels" locally or
through the network, running on a Unix/Linux/Windows remote machine. Some
data exchange facilities between different kernels are planned also.

Here is a short decription, with an evaluation of work already done.

- Plug to connect to the R engine using DCom (including graph windows)  -
90% done
- Plugs and connections manager (only locally for the moment)           -
75% done
- Multi-document interface with dockable toolbars and windows           -
90% done
- Console windows for direct command-line access of kernels             -
80% done
- Report windows with RTF formatting and graphs/images embedding        -
50% done
- Code edition windows with synthax highlighting, quick tips,...        -
50% done
- Spreadsheed-like matrix/data frame editor                             -
0% done
- Web-based direct online help in the interface                         -
30% done
- Object explorer                                                       -
10% done
- Templates manager (dockable window)                                   -
25% done
- Tips/Help/Error dockable message window                               -
25% done
- Customizable menus and toolbars                                       -
60% done
- Customizable dialog boxes                                             -
0% done
- Plug for Splus                                                        -
0% done
- Plug for Octave                                                       -
0% done
- Plug for Scilab                                                       -
30% done
- Plug for Matlab                                                       -
30% done
- Plug for OX                                                           -
30% done
- Plug for Mathematica                                                  -
75% done
- Messages passing between kernels                                      -
0% done
- ODBC connections & data import/export (but also done within kernels)  -
0% done
- Direct access from Excel or WinWord                                   -
20% done

Since this GUI is developped using some OCXes under Windows (CodeMax &
ActiveBar being the corner-stones, thus Micro$oft ActiveX technology), it
will not be directly portable to other OSes. A choice that, I am sure, will
be heavily criticized by some of you but I evaluated that some critical
aspects of the interface would be much less easily programmed without these
OCX.

This project is part of SciViews (http://www.sciviews.org, although the web
site is not up-to-date at all regarding this project). The user interface
will be called SciViews Insighter and the plugs manager will be called
SciViews Xchanger. Here is the development schedule, based on the part of my
work dedicated to the development of this GUI:

+ Augustus and September 2002: 6 to 7 weeks dedicated 100% to the GUI
(Insighter), in the framework of the development of a friendly user
interface for the PASTECS R library (Package for the Analysis of Space-Time
Ecological Series, available on CRAN and at
http://www.sciviews.org/pastecs).

+ December 2002: an additional month for PASTECS, but not allocated yet
between the development of functions, or of the user interface.

+ January to March 2003: about 30-40% of my time will be dedicated to
further develop the GUI in the framework of another project based on R
(Zooscan, for automatic plankton recognition).

I will thus be able to go further in the development of SciViews
Insighter/Xchanger until end of March 2003, but it will certainly not be
finished at that time. Since my work is driven by short-term contracts, I
have still no plan for the future after March 2003. It leaves some
opportunities and I would gladly contribute with those who are interested in
the development of an alternate GUI for R. Finding funding is, of course, a
key aspect. My strategy until now was to develop products (PASTECS, ZOOSCAN,
LABOKIT,...) that would benefit of such a GUI and then to justify a part of
the budget to it. Apparently, some people have other ideas...

It seems to be the time for discussing all these topics more deeply. For the
moment, I will focus in the few next weeks to finalize an incomplete, but
working alpha version of SciViews Insighter/Xchanger and to update the web
site accordingly. I will also work on a wich list regarding the GUI for R
under Windows. I am also concerned not to duplicate work done by other
people, I think for instance at the Omegahat or RWeb projects. However, I
think there is place for a few different user interfaces for R, as not all
users have same requirements... and this is exemplified in this thread on
GUIs for teaching!

Best,

Philippe Grosjean

P.S.: I join the copy of a slide showing the current SciViews Insighter GUI.

...........]<(({?<...............<?}))><...............................
( ( ( ( (
 ) ) ) ) )	Philippe Grosjean
( ( ( ( (
 ) ) ) ) )	IFREMER Nantes - DEL/AO
( ( ( ( (   rue de l'Ile d'Yeu, BP 21105, 44311 Nantes Cedex 3
 ) ) ) ) )  tel: (33) 02.40.37.42.29, fax: (33) 02.40.37.42.41
( ( ( ( (	e-mail: philippe.grosjean at ifremer.fr
 ) ) ) ) )	        or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )
( ( ( ( (      "I'm 100% confident that p is between 0 and 1"
 ) ) ) ) )                                L. Gonick & W. Smith (1993)
.......................................................................

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul  1 16:31:21 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 1 Jul 2002 15:31:21 +0100 (BST)
Subject: [R] problem with predict()
In-Reply-To: <Pine.WNT.4.44.0207011433080.416-100000@petrel>
Message-ID: <Pine.LNX.4.31.0207011518150.19238-100000@gannet.stats>

On Mon, 1 Jul 2002, Prof Brian D Ripley wrote:

> I should point that there is (as I thought) nothing wrong with predict.lm
> on a rank-degenerate problem, e.g.
>
> x1 <- rnorm(100)
> x3 <- rnorm(100)
> y <- rnorm(100)
> train <- data.frame(y=y, x1=x1, x2=x1, x3=x3)
> fit <- lm(y ~ ., train)
> stopifnot(all.equal(predict(fit), predict(fit, train)))
>
> although as Thomas points out a warning would be useful.
>
> The problem here is that model.matrix is (for me) adding 13 duplicate
> columns in lm and not in predict.lm.  That's a bug unrelated to predict().

Follow up: the data file posted contains illegal variable names. These
are remapped by make.names into valid names, thereby creating duplicated
names.  terms.formula creates a formula with these duplicated names in,
and with a column in model.matrix for each of the duplicates.  However, as
the formula is invalid, it gets corrected in predict.lm by
delete.response().

So the error is to attempt to use a data frame with invalid names, and the
bug is that R did not detect the duplicates.

read.table should call make.names(col.name, unique=TRUE) to avoid this,
and terms.formula needs to check for duplicates too.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Jul  1 15:50:05 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 1 Jul 2002 14:50:05 +0100
Subject: [R] NA=NA
In-Reply-To: <14445.020629@maf.vu.lt>
References: <14445.020629@maf.vu.lt>
Message-ID: <TJu86FAN4FI9EwfW@myatt.demon.co.uk>

Remigijus Lapinskas <remigijus.lapinskas at maf.vu.lt> writes:
>Hello R-help,
>
>My vector aa has some NA's:
>
>> aa_c(NA,1)
>> aa=="NA"
>[1]    NA FALSE
>> aa==NA
>[1]   NA   NA
>
>How can I detect NA's?
>In other words, I would like my answer to be TRUE  FALSE.

Is,na()


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Jul  1 16:30:29 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 1 Jul 2002 15:30:29 +0100
Subject: [R] Scripts in R?
In-Reply-To: <004c01c21f40$a02f0800$2d0ffea9@oemcomputer>
References: <004c01c21f40$a02f0800$2d0ffea9@oemcomputer>
Message-ID: <3KsFaNAFeGI9Ewr9@myatt.demon.co.uk>

Fredrik Lundgren <fredrik.lundgren at norrkoping.mail.telia.com> writes:
>Hello,
>
>In S-Plus for windows there is a possibility to work with 'scripts' (at least 
>from version 4.5). Is there an equivalent 'function' in R or is there a simular 
>way to work in R

I am not sure what you mean but if you have TCL/TK installed and the
'tcltk' library / package loaded then you can have a simple 'scripting'
window ... see R News Vol 1/3 September 2001 p30 for details.

Mark



--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Jul  1 16:47:15 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 1 Jul 2002 15:47:15 +0100
Subject: [R] split a data frame
In-Reply-To: <3D20592A.9C80E873@kehf.org.uk>
References: <3D20592A.9C80E873@kehf.org.uk>
Message-ID: <GqxJCGAztGI9EwPe@myatt.demon.co.uk>

Andrew McCulloch <amcculloch at kehf.org.uk> writes:
>Hi ,
>
>    I have a data frame (Data1) which has a area variable (AREA) with
>codes (RA,RG,LT etc.). I would like to split the data frame into
>individual data frames called RA, RG, LT conatining only the
>observations from those areas.

subset() might be what you want ... as in:

        data1.ra <- subset(data1, AREA == "RA")
        data1.rg <- subset(data1, AREA == "RG")
        data1.lt <- subset(data1, AREA == "LT")

Best wishes,

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etv at nf.jinr.ru  Mon Jul  1 17:00:06 2002
From: etv at nf.jinr.ru (Timur Elzhov)
Date: Mon, 1 Jul 2002 19:00:06 +0400 (MSD)
Subject: [R] Fitting a batch of histograms
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC410@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.33.0207011806490.3703-100000@pcf004.jinr.ru>

On Mon, 1 Jul 2002, Liaw, Andy wrote:

> Can you clarify what you mean by "fitting a histogram"?  To me a histogram
> is simply a summary of the data (frequencies in equally spaced bins), and
> hardly involves any fitting with parameters.

Well.  I'll try to describe my raw data file.
That is muon-decay (lifetime tau = 2.2 mks) spectrum, counts (N) vs. time
(t), with fixed time bin width = 0.000625 mks.  So, this spectrum N(t) I
call either as histogram, i.e., one _raw_ data file _initially_ consists
one time-histogram N(t).

Next, while muon decays, it emits positrons in _all_ directions, so
usually _several_ positron telescopes around muon site used (to have more
statistics, you know), so, we have _several_ data files after each
session.

All spectra I fit with N(t) ~ exp(-t/tau) * (1 + P(t)) function,
i.e., I would be happy to find the appropriate P(t) function.
P(t) often found as

  P(t) = p1 * exp(-p2*t) * cos(p3*t + p4).


So!  I'd like to fit all spectra with this formula, with, say, p2 and p3
parameters being equal for each spectrum from corresponding telescope.


Thank you!


--
Timur.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Jul  1 17:27:50 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 1 Jul 2002 08:27:50 -0700 (PDT)
Subject: [R] "_"
In-Reply-To: <200207011113.g61BD3b16912@localhost.localdomain>
Message-ID: <Pine.A41.4.44.0207010826540.214766-100000@homer06.u.washington.edu>

On Mon, 1 Jul 2002, Jim Lemon wrote:

> If I remember correctly, every time the dreaded "_" arises as an
> assignment operator in polite emails, the advantage of last resort cited
> in its defence is that it is only a single (albeit shifted) keystroke. I
> can only speak for the excellent NEdit, but it is a trivial task to assign
> some otherwise unloved key (my favorite is that funny accent at the left
> of the digit row) to perform the herculean task of typing "<-".
>

In ESS the default is to use the shifted key to the right of 0 [on my
keyboard] to produce the <-, which is even easier to remember :^)

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Jul  1 17:36:11 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 1 Jul 2002 08:36:11 -0700 (PDT)
Subject: [R] a little statistics help
In-Reply-To: <52ece54c5e.54c5e52ece@lbl.gov>
Message-ID: <Pine.A41.4.44.0207010830370.214766-100000@homer06.u.washington.edu>

On Mon, 1 Jul 2002 VBMorozov at lbl.gov wrote:

> Dear R-guRus:
> I am stuck with the following problem in R:
> Let's say i have a data.frame with columns X,Y & Z.
> X is a column of numbers, Y is a column of N
> factors "A", "B", "C", "D", etc and Z is a column of n
> factors "a", "b", "c", etc
>
> if i do MyLm<-lm(X~Y*Z - 1) i get all N coefficients for Y-factors, but
> only n-1 coefficients for Z-factors, and only N*(n-1) coefficients for
> YZ interaction. Is that how it's supposed to be?

Yes.

>	I would like to get N
> coefficients for all factors Y and n coefficients for all factors Z -
> how can i do that?

I really don't think you want to do that. Suppose for illustration that
N=n=2.

There are then only four groups defined by the values of Y and Z, and your
model gives four coefficients, which completely specify the means of each
group.  You are asking for n+N+nN=8 coefficients to describe the means of
4 groups.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s_balbinot at hotmail.com  Mon Jul  1 17:53:06 2002
From: s_balbinot at hotmail.com (Silvia Balbinot)
Date: Mon, 01 Jul 2002 17:53:06 +0200
Subject: [R] request information about a problem with an ARIMA function
Message-ID: <F211oU2gOHpM2yqOX9k00003707@hotmail.com>

An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020701/3f4d0bed/attachment.html

From ripley at stats.ox.ac.uk  Mon Jul  1 18:16:12 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 1 Jul 2002 17:16:12 +0100 (BST)
Subject: [R] request information about a problem with an ARIMA function
In-Reply-To: <F211oU2gOHpM2yqOX9k00003707@hotmail.com>
Message-ID: <Pine.LNX.4.31.0207011712320.24137-100000@gannet.stats>

On Mon, 1 Jul 2002, Silvia Balbinot wrote:

>
> Hi! I'm an italian girl from Belluno and I've been using R since January
> but, now, I've got a problem:
>
> I'm using the function ARIMA for the prediction of a time serie and I
> want to know how can I see the fitted values: when I used the funtion lm
> for linear regression I wrote, for example, xxx$fitted.values so I saw
> the values of the model.

Not a good idea.  Call fitted(myfit) etc.

> Whit ARIMA function I try to write a lot of names such as:
>
> xxx$fitted.values xxx$values xxx$prediction ..... and so on but, I
> didn't find the values obtained by the ARIMA model and I don't know what
> I have to do.

I presume you are using arima from package ts: R names are case-sensitive.

?arima has a section `Value' telling you what is returned.  Note
though that time series models don't really have fitted values, as
prediction at the current time will be exact.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petrsm at jcu.cz  Mon Jul  1 18:25:02 2002
From: petrsm at jcu.cz (Petr Smilauer)
Date: Mon, 1 Jul 2002 18:25:02 +0200
Subject: [R] How to do multiple comparisons with multiple error strata
Message-ID: <002b01c2211b$d9c5d5d0$0d02d9a0@remymartin>

Hello,
  the title says it all. I have an ANOVA model with
"Error" term and the functions TukeyHSD or those
from the "multcomp" package seem not to work with
such a model. Assuming that the object returned from
aov() function with multiple strata is a list of aov objects,
I tried something like TukeyHSD(aov.1$Within), but this
does not work either.
 Does somebody have a solution? I think I can calculate
confidence interval for individual coefficients, extending
interval ranges based on Bonferroni correction, but this
seems to be too crude solution...

Thank you,        Petr Smilauer
 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richard.nixon at mrc-bsu.cam.ac.uk  Mon Jul  1 18:28:31 2002
From: richard.nixon at mrc-bsu.cam.ac.uk (Richard Nixon)
Date: Mon, 1 Jul 2002 17:28:31 +0100 (BST)
Subject: [R] Defining own variance function / quasi-likelihood in a GLM
Message-ID: <Pine.GSO.4.44.0207011716310.4993-100000@moeran>


Hello,

I've been looking in the on-line manuals and searching past posts but
can't find an answer to this question.

I'd like to define my own variance function in a GLM.
The function glm(formula, family=quasi(var="var function"))
lets me choose from a selection of built in variances, but I want to
define my own function for the variance.

Is there an S-plus "make.family" type function in R, or some such way of
defining your own quasi-likelihoods in terms of the relationship between the
mean and the variance?

Thanks

Richard


--
Dr. Richard Nixon
MRC Biostatistics Unit, Institute of Public Health,
Robinson Way, Cambridge, CB2 2SR
http://www.mrc-bsu.cam.ac.uk/personal/richard
Tel: +44 (0)1223 330382, Fax: +44 (0)1223 330388

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Mon Jul  1 18:47:05 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Mon, 1 Jul 2002 09:47:05 -0700 (PDT)
Subject: [R] split a data frame
In-Reply-To: <3D20592A.9C80E873@kehf.org.uk>
Message-ID: <Pine.GSO.4.10.10207010945450.15089-100000@fisher.stat.ucla.edu>

It's simple, use the split() command.  If AREA is a factor, then

data2 <- split(Data1, Data1$AREA)

should give you a list of dataframes split according to AREA.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Mon, 1 Jul 2002, Andrew McCulloch wrote:

> Hi ,
> 
>     I have a data frame (Data1) which has a area variable (AREA) with
> codes (RA,RG,LT etc.). I would like to split the data frame into
> individual data frames called RA, RG, LT conatining only the
> observations from those areas.
> 
> Thanks
> 
> yours sincerely
> Andrew McCulloch
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Mon Jul  1 18:35:51 2002
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Mon, 01 Jul 2002 12:35:51 -0400
Subject: [R] error starting SJava: classpath?
Message-ID: <OFBF23037D.6A26D81D-ON85256BE9.005AB496@rtp.epa.gov>

Does SJava require that omegahat be installed?  I have installed the
binary Windows package (SJavaWin_0.62-8.zip), made the change
eliminating the call to .alias(), with the following results on startup:

> library(SJava)
> .JavaInit()
Error in .JavaInit() : Couldn't start Java Virtual Machine: Cannot find the Omegahat interface manager class. Check you classpath!
> tmp <- javaConfig()
> tmp$classPath
[1] "C:/PROGRA~1/R/rw1051/library/SJava/org/omegahat/Jars/Environment.jar"
[2] "C:/PROGRA~1/R/rw1051/library/SJava/org/.."
[3] "C:/PROGRA~1/R/rw1051/library/SJava/org/omegahat/Jars/antlr.jar"
[4] "C:/PROGRA~1/R/rw1051/library/SJava/org/omegahat/Jars/jas.jar"
[5] "C:/PROGRA~1/R/rw1051/library/SJava/org/omegahat/Jars/jhall.jar"

What have I left out?

> version
         _
platform i386-pc-mingw32
arch     i386
os       mingw32
system   i386, mingw32
status
major    1
minor    5.1
year     2002
month    06
day      17
language R
>
R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul  1 19:05:41 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 1 Jul 2002 18:05:41 +0100 (BST)
Subject: [R] Defining own variance function / quasi-likelihood in a GLM
In-Reply-To: <Pine.GSO.4.44.0207011716310.4993-100000@moeran>
Message-ID: <Pine.LNX.4.31.0207011759430.24188-100000@gannet.stats>

On Mon, 1 Jul 2002, Richard Nixon wrote:

>
> Hello,
>
> I've been looking in the on-line manuals and searching past posts but
> can't find an answer to this question.
>
> I'd like to define my own variance function in a GLM.
> The function glm(formula, family=quasi(var="var function"))
> lets me choose from a selection of built in variances, but I want to
> define my own function for the variance.
>
> Is there an S-plus "make.family" type function in R, or some such way of
> defining your own quasi-likelihoods in terms of the relationship between the
> mean and the variance?

You can easily extend the switch statement in quasi().  Note that R
specifies a family slightly differently from S.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From martin at bugs.unl.edu.ar  Mon Jul  1 19:08:28 2002
From: martin at bugs.unl.edu.ar (=?iso-8859-1?Q?Mart=EDn_Marqu=E9s?=)
Date: Mon, 1 Jul 2002 14:08:28 -0300 (GMT)
Subject: [R] modified kolmogorov-smirnov
In-Reply-To: <Pine.GSO.4.33.0207010947150.23353-100000@bugs.unl.edu.ar>
Message-ID: <Pine.GSO.4.33.0207011406480.27151-100000@bugs.unl.edu.ar>

Don't worry, I think I got the answer. If you don't give ks.test() the
parameters for the normal, it does the modified K-S test (I'm right
ain't I?).

Saludos... :-)

On Mon, 1 Jul 2002, Mart?n Marqu?s wrote:

> I'm trying to use modified Kolmogorov-Smirnov test with a Normal which I
> don't know it's parameters. Somebody told me about the lilifor function in
> R, but just can't find it.
> Does anybody know how I can test with the modified Kolmogorov-Smirnov
> test?
>
>
> Porqu? usar una base de datos relacional cualquiera,
> si pod?s usar PostgreSQL?
> -----------------------------------------------------------------
> Mart?n Marqu?s                  |        mmarques at unl.edu.ar
> Programador, Administrador, DBA |       Centro de Telematica
>                        Universidad Nacional
>                             del Litoral
> -----------------------------------------------------------------
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

Porqu? usar una base de datos relacional cualquiera,
si pod?s usar PostgreSQL?
-----------------------------------------------------------------
Mart?n Marqu?s                  |        mmarques at unl.edu.ar
Programador, Administrador, DBA |       Centro de Telematica
                       Universidad Nacional
                            del Litoral
-----------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul  1 19:44:01 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 1 Jul 2002 18:44:01 +0100 (BST)
Subject: [R] modified kolmogorov-smirnov
In-Reply-To: <Pine.GSO.4.33.0207011406480.27151-100000@bugs.unl.edu.ar>
Message-ID: <Pine.LNX.4.31.0207011839010.24310-100000@gannet.stats>

On Mon, 1 Jul 2002, [iso-8859-1] Martn Marqus wrote:

> Don't worry, I think I got the answer. If you don't give ks.test() the
> parameters for the normal, it does the modified K-S test (I'm right
> ain't I?).

Did you read either the help page or the code?  Or even do an experiment:

> x <-rnorm(1000, 10, 1)
> ks.test(x, pnorm)

        One-sample Kolmogorov-Smirnov test

data:  x
D = 1, p-value = < 2.2e-16
alternative hypothesis: two.sided

So, `it ain't', and we do now start to worry.

Why do you want to do this test anyway?

1) There are better tests of normality and
2) Almost always the amount of non-normality that might affect the
substantive conclusions is unrelated to the signifcance of a test
statistic.


>
> Saludos... :-)
>
> On Mon, 1 Jul 2002, Martn Marqus wrote:
>
> > I'm trying to use modified Kolmogorov-Smirnov test with a Normal which I
> > don't know it's parameters. Somebody told me about the lilifor function in
> > R, but just can't find it.
> > Does anybody know how I can test with the modified Kolmogorov-Smirnov
> > test?
> >
> >
> > Porqu usar una base de datos relacional cualquiera,
> > si pods usar PostgreSQL?
> > -----------------------------------------------------------------
> > Martn Marqus                  |        mmarques at unl.edu.ar
> > Programador, Administrador, DBA |       Centro de Telematica
> >                        Universidad Nacional
> >                             del Litoral
> > -----------------------------------------------------------------
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> Porqu usar una base de datos relacional cualquiera,
> si pods usar PostgreSQL?
> -----------------------------------------------------------------
> Martn Marqus                  |        mmarques at unl.edu.ar
> Programador, Administrador, DBA |       Centro de Telematica
>                        Universidad Nacional
>                             del Litoral
> -----------------------------------------------------------------
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brad at aris.ss.uci.edu  Mon Jul  1 23:31:11 2002
From: brad at aris.ss.uci.edu (Brad Buchsbaum)
Date: Mon, 1 Jul 2002 14:31:11 -0700 (PDT)
Subject: [R] contrasts with aov
In-Reply-To: <Pine.LNX.4.31.0207011759430.24188-100000@gannet.stats>
Message-ID: <Pine.GSO.4.44.0207011414530.20182-100000@aris.ss.uci.edu>


Hi all,

I'd like to carry out what amounts to a succession of paired t-tests
across units in a repeated measures design.  I thought I could
accomplish this using aov with an Error argument and the contr.sdif
functon from the MASS package. But the "summary" function does not return
the results of the contrast analysis (as it does with lm).  Is there any
way to get the kind of table lm produces with a call to summary (e.g.
Estimate Error t value Pr(t>|t|))?


thanks,

Brad Buchsbaum



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cmaley at fhcrc.org  Tue Jul  2 00:56:46 2002
From: cmaley at fhcrc.org (Carlo C. Maley)
Date: Mon, 01 Jul 2002 15:56:46 -0700
Subject: [R] manipulating axis labels in grid and lattice
Message-ID: <3D20DE2E.30301@fhcrc.org>

I am trying to use wireframe at the moment and the axis labels are 
overlapping with the tick labels.  It seems that gpar does not yet 
utilize the mgp argument.  Is there anyway to manipulate the position of 
the axis labels?

The best I can manage so far is to manipulate the cex so as to shrink 
everything down.

thanks, Carlo Maley

-- 
Dr. Carlo C. Maley
Staff Scientist
Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N. C1-157
Seattle, WA 98109

phone: 206-667-4615
fax: 206-667-6132
cell: 206-355-7425

http://www.fhcrc.org/science/phs/barretts/cmaley/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul  2 08:17:11 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 2 Jul 2002 07:17:11 +0100 (BST)
Subject: [R] contrasts with aov
In-Reply-To: <Pine.GSO.4.44.0207011414530.20182-100000@aris.ss.uci.edu>
Message-ID: <Pine.LNX.4.31.0207020715120.25006-100000@gannet.stats>

On Mon, 1 Jul 2002, Brad Buchsbaum wrote:

> I'd like to carry out what amounts to a succession of paired t-tests
> across units in a repeated measures design.  I thought I could
> accomplish this using aov with an Error argument and the contr.sdif
> functon from the MASS package. But the "summary" function does not return
> the results of the contrast analysis (as it does with lm).  Is there any
> way to get the kind of table lm produces with a call to summary (e.g.
> Estimate Error t value Pr(t>|t|))?

You can call summary.lm on the objects in the aovlist fit.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlorino at vet-alfort.fr  Tue Jul  2 11:22:48 2002
From: tlorino at vet-alfort.fr (tlorino@vet-alfort.fr)
Date: Tue, 2 Jul 2002 11:22:48 +0200
Subject: [R] Can I avoid loop?
Message-ID: <1981850394.20020702112248@vet-alfort.fr>

Dear R-users,

I have a program to realize (big) simulations... I'm building a matrix, where the
number of rows is a parameter (say N) and the number of columns is fixed. All the matrix
can be completed avoiding loops... excepted one, I think: for the 12th column,
on the i-th row, I need something like

matrix[1,12]_0
for (i in 1:N)
matrix[i,12]_ifelse(matrix[i,1]>0, matrix[i-1,12] + ..., 0)

The values in the row i depends on the (i-1)th row only for the 12th column... Is it possible
to avoid a "for" loop here?

Thank you,
Tristan Lorino

---------------------- 
?cole Nationale V?t?rinaire d'Alfort - http://www.vet-alfort.fr,
T?l. 01 43 96 70 33
M?l. tlorino at vet-alfort.fr
Site personnel : http://daedale.free.fr

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From miguel.bernal at ma.ieo.es  Tue Jul  2 11:14:45 2002
From: miguel.bernal at ma.ieo.es (miguel bernal)
Date: Tue, 2 Jul 2002 11:14:45 +0200
Subject: [R] Strange behaviour in plot and points?
Message-ID: <200207020915.LAA09527@stat.math.ethz.ch>

Hello R-users

I was puzzled by some strange results of an analysis and I found out what is 
for me a strange behaviour (I won't dare to say a bug) in both plot and 
points (and I suspect lines and other kind of lower level plots). If you try 
the following code:

> data<-data.frame(dummy1=c(1:10),dummy2=c(1:10))
> plot(data$dummy1,data$dummy3)

A plot of the values of dummy1 against an index is produced, even when dummy3 
does not exist. Same happens with points. Also, the index is used as the 
x-axis, so specially when using points in a plot already made, the results 
can be missleading. 

Wouldn't it be better to just have an error message saying dummy3 does not 
exist? 

I assume this behaviour is not release, nor plattform dependent, but just in 
case, I am using R 1.5.0 on Mandrake 8.2 Linux.

Thanks for your comments

-- 
Miguel Bernal

Instituto Espa?ol de Oceanograf?a
Centro Oceanogr?fico de Malaga
Puerto pesquero s/n 29640, Fuengirola.
Malaga, Spain
Tlf: (34) 952 471907; Fax: (34) 952 463808
e-mail: miguel.bernal at ma.ieo.es
http:\\www.ieo.es
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Tue Jul  2 16:54:35 2002
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Tue, 02 Jul 2002 16:54:35 +0200
Subject: [R] mean and array
Message-ID: <3D21BEAB.6020501@inrialpes.fr>

Hi all,

I have an array, one say ar, with 3 dimensions.
dim(ar)
 >200   3   4
I would like to calculate the mean on the third dimension.
mean(ar[1,1,]),mean(ar[1,2,]) etc..., mean[200,3,].

How can i do this ?

Thanks

-- 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN
PhD student                  phone : (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42		
INRIA Rhone-Alpes            fax   : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                   e-mail: olivier.martin at inrialpes.fr
38334 Saint Ismier cedex     web   : http://www.inrialpes.fr/is2/people/omartin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Tue Jul  2 13:02:36 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Tue, 2 Jul 2002 13:02:36 +0200
Subject: [R] two problem in writing R functions
Message-ID: <004d01c221b7$ff753b80$5c13070a@it.giustizia.it>

Hi all,
Although I'm able to manage functions in R, because I'm writing my first
package I'd like to optmize them, but I'm not so expert to do it and I spent
a lot of my time without success. So I was wonder whether someone could give
me some advice. Let the function
myfn<-function(glm.obj,....){ #glm.obj is a glm object
.....
class(out)<- c("myclass",class(obj))
out}

 I'm stuck on the following two problem:
1) My function needs global assignment (otherwise it doesn't work)
Instead of using "<<-", I used something like
assign("X",x,envir=sys.frame()) #to build
rm(X,envir=sys.frame()) #to delete
However if there is some X variable in the workspace, it is deleted too. (In
practice it works as the simple "<<-" and this should be avoided, of
course).
I could use .X but the problem isn't yet solved

2)I'd like that summary.myclass() works like summary.glm, printing further
information from the obj. Following summary.negbin() in MASS library from
V&R:
summary.myclass<-function(x,dispersion=NULL,correlation=FALSE){
cat(".....")
summ<-c(summary.glm(x,dispersion=dispersion, correlation=correlation),
x[c("name1","name2")])
summ
}
but it doesn't work! The obj is printed with all its component!
$call
$terms
$family
....
$name1
$name2

Where am I wronging?
Thank you very much,
vito
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul  2 13:25:42 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 2 Jul 2002 12:25:42 +0100 (BST)
Subject: [R] two problem in writing R functions
In-Reply-To: <004d01c221b7$ff753b80$5c13070a@it.giustizia.it>
Message-ID: <Pine.LNX.4.31.0207021222340.25687-100000@gannet.stats>

On Tue, 2 Jul 2002, vito muggeo wrote:

> Hi all,
> Although I'm able to manage functions in R, because I'm writing my first
> package I'd like to optmize them, but I'm not so expert to do it and I spent
> a lot of my time without success. So I was wonder whether someone could give
> me some advice. Let the function
> myfn<-function(glm.obj,....){ #glm.obj is a glm object
> .....
> class(out)<- c("myclass",class(obj))
> out}
>
>  I'm stuck on the following two problem:
> 1) My function needs global assignment (otherwise it doesn't work)
> Instead of using "<<-", I used something like
> assign("X",x,envir=sys.frame()) #to build
> rm(X,envir=sys.frame()) #to delete
> However if there is some X variable in the workspace, it is deleted too. (In
> practice it works as the simple "<<-" and this should be avoided, of
> course).
> I could use .X but the problem isn't yet solved

This should not be necessary.  What are you doing that appears to need
global assignment?

> 2)I'd like that summary.myclass() works like summary.glm, printing further
> information from the obj. Following summary.negbin() in MASS library from
> V&R:
> summary.myclass<-function(x,dispersion=NULL,correlation=FALSE){
> cat(".....")
> summ<-c(summary.glm(x,dispersion=dispersion, correlation=correlation),
> x[c("name1","name2")])
> summ
> }
> but it doesn't work! The obj is printed with all its component!

c() removes the attributes.  summary.negbin added a class and you do not.
Note also that there is print.summary.negbin.

> $call
> $terms
> $family
> ....
> $name1
> $name2
>
> Where am I wronging?
> Thank you very much,
> vito
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Frederic.Jean at univ-brest.fr  Tue Jul  2 13:31:28 2002
From: Frederic.Jean at univ-brest.fr (Fred Jean)
Date: Tue, 02 Jul 2002 13:31:28 +0200 (CEST)
Subject: [R] subscript out of bounds
Message-ID: <200207021128.NAA01036@cassis-gw.univ-brest.fr>

Hello

As I'm beginning to write functions, I decided to have my personnal R library
named MyStuff located in /home/fred/R.Lib/MyStuff/

The library file itself is at /home/fred/R.Lib/MyStuff/R/MyStuff

evrything seems ok since 
> library()
            gives : 

Packages in library `/usr/lib/R/library':

KernSmooth              Functions for kernel smoothing for Wand &
                        Jones (1995)
MASS                    Main Library of Venables and Ripley's MASS
Simple
base                    The R base package
...

Packages in library `~/R.Lib/':

MyStuff                 Mes fonctions 'made in maison'
  but :
>library(MyStuff)
Error: subscript out of bounds

I don't understand where I'm wrong because the functions in MyStuff
individually work well when I just paste them from my editor.

Thanks for any help
Fred

Linux debian potato
R     1.5.0

here below, the file MyStuff
-----------------------------
"adjresid" <- function(tab) {
   # calcul des residus normes sur un tableau de contingence
   # adjusted Pearson residuals
   # Brett Presnell <presnell at stat.ufl.edu>
   #
   tot <- sum(tab)
   rp <- apply(tab, 1, sum) / tot
   cp <- apply(tab, 2, sum) / tot
   mu <- tot * ( rp %o% cp )
   norm(tab - mu) / sqrt( mu * ( (1 - rp) %o% (1 - cp) ) )
}
"twoWay" <- function(x=NA, y=NA, userDefined=NA ) {
  # adapted from Mark Myatt <mark at myatt.demon.co.uk>
  if (is.na(userDefined)){
  result <- chisq.test(table(x,y))
  }
  else{
  result <- chisq.test(userDefined)
  }
  #
  print(result)
  obs <- result$observed
  exp <- result$expected
  chi.table <- ((obs - exp)^2)/exp
  row.sum <- apply(obs,1,sum)
  col.sum <- apply(obs,2,sum)
  N <- sum(obs)
  #     
  fullArray <- cbind(obs,row.sum) 
  fullArray <- rbind(fullArray,c(col.sum,N))
  rownames(fullArray) <- c(rownames(obs), "Total") 
  colnames(fullArray) <- c(colnames(obs), "Total")
  #
  return(list(Complet=fullArray,Expected=exp,Chi=chi.table))
}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul  2 13:41:23 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 2 Jul 2002 12:41:23 +0100 (BST)
Subject: [R] subscript out of bounds
In-Reply-To: <200207021128.NAA01036@cassis-gw.univ-brest.fr>
Message-ID: <Pine.LNX.4.31.0207021237480.25729-100000@gannet.stats>

R has debugging tools, which you can use to debug this.  My guess is a
problem with your DESCRIPTION file.

On Tue, 2 Jul 2002, Fred Jean wrote:

> Hello
>
> As I'm beginning to write functions, I decided to have my personnal R library
> named MyStuff located in /home/fred/R.Lib/MyStuff/
>
> The library file itself is at /home/fred/R.Lib/MyStuff/R/MyStuff
>
> evrything seems ok since
> > library()
>             gives :
>
> Packages in library `/usr/lib/R/library':
>
> KernSmooth              Functions for kernel smoothing for Wand &
>                         Jones (1995)
> MASS                    Main Library of Venables and Ripley's MASS
> Simple
> base                    The R base package
> ...
>
> Packages in library `~/R.Lib/':
>
> MyStuff                 Mes fonctions 'made in maison'
>   but :
> >library(MyStuff)
> Error: subscript out of bounds
>
> I don't understand where I'm wrong because the functions in MyStuff
> individually work well when I just paste them from my editor.

There's a lot more to installing a package than that.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Tue Jul  2 14:11:46 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Tue, 02 Jul 2002 08:11:46 -0400
Subject: [R] Strange behaviour in plot and points?
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC423@usrymx10.merck.com>

Your call to plot is equivalent to plot(data$dummy1, NULL), or
plot(data$dummy1), which plots data$dummy1 against the index.  That is the
expected behavior.  Look at the default arguments to plot.default.

Cheers,
Andy

> -----Original Message-----
> From: miguel bernal [mailto:miguel.bernal at ma.ieo.es]
> Sent: Tuesday, July 02, 2002 5:15 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] Strange behaviour in plot and points?
> 
> 
> Hello R-users
> 
> I was puzzled by some strange results of an analysis and I 
> found out what is 
> for me a strange behaviour (I won't dare to say a bug) in 
> both plot and 
> points (and I suspect lines and other kind of lower level 
> plots). If you try 
> the following code:
> 
> > data<-data.frame(dummy1=c(1:10),dummy2=c(1:10))
> > plot(data$dummy1,data$dummy3)
> 
> A plot of the values of dummy1 against an index is produced, 
> even when dummy3 
> does not exist. Same happens with points. Also, the index is 
> used as the 
> x-axis, so specially when using points in a plot already 
> made, the results 
> can be missleading. 
> 
> Wouldn't it be better to just have an error message saying 
> dummy3 does not 
> exist? 
> 
> I assume this behaviour is not release, nor plattform 
> dependent, but just in 
> case, I am using R 1.5.0 on Mandrake 8.2 Linux.
> 
> Thanks for your comments
> 
> -- 
> Miguel Bernal
> 
> Instituto Espa?ol de Oceanograf?a
> Centro Oceanogr?fico de Malaga
> Puerto pesquero s/n 29640, Fuengirola.
> Malaga, Spain
> Tlf: (34) 952 471907; Fax: (34) 952 463808
> e-mail: miguel.bernal at ma.ieo.es
> http:\\www.ieo.es
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Tue Jul  2 14:29:24 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Tue, 02 Jul 2002 08:29:24 -0400
Subject: [R] auto-loading package possible?
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC425@usrymx10.merck.com>

Dear R-help,

Yes, I do know about the auto-loading feature.  My question is more
complicated than that:

Suppose I loaded a package (e.g., e1071) and created an object of certain
class (e.g., svm), for which there is a print method in the package to hide
things that the user may not need to see (e.g., large vectors or matrices
needed by methods such as predict).  If the next time I started R, I type
the object name without loading the package first, the whole shebang (sp?)
gets dumped on the screen, which is quite annoying.  

Is there any way to make R automagically search for availability of methods
for a particular class when objects of that class is accessed?  One
possibility is to auto-load the package if the appropriate method is found.
Another possibility is to notify the user that a package contains the
appropriate method and ask if it should be loaded.  Can such a thing be
done?

Regards,
Andy

Andy I. Liaw, PhD
Biometrics Research          Phone: (732) 594-0820
Merck & Co., Inc.              Fax: (732) 594-1565
P.O. Box 2000, RY84-16            Rahway, NJ 07065
mailto:andy_liaw at merck.com



------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ottoboni at sissa.it  Tue Jul  2 14:47:09 2002
From: ottoboni at sissa.it (ottoboni@sissa.it)
Date: Tue,  2 Jul 2002 14:47:09 +0200
Subject: [R] Information about R and SPM
Message-ID: <1025614028.3d21a0cd040ce@webmail.sissa.it>

I would to know if "R" does work in "SPM Statistical Parametric Mapping".


Thanks lots.

Giovanni

-------------------------------------------------
This mail sent through IMP: http://horde.org/imp/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul  2 15:01:50 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 2 Jul 2002 14:01:50 +0100 (BST)
Subject: [R] auto-loading package possible?
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC425@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.31.0207021349310.25828-100000@gannet.stats>

There is nothing that associates classes with packages.  So one would have
to have print() look at all packages (loaded or not) for a print.foo
method and load the appropriate one.  Now suppose it found three print.foo
functions in separate packages?  Which one should it use?

There is also the potential for an enormous slowdown whilst packages are
searched.

However, I do have a vision which would allow users to load many packages
at negligible cost and so one could have all one's working set of packages
in .Rprofile (or some such file).  This depends on two things

1) Packages declaring their list of public objects (which will come soon
with namespaces), and these would be automatically auto-loaded and

2) Small-scale autoloading, so a package is divided into a set of code
sections which are loaded as needed.

Then one could have many packages `loaded' via library(), but only code
that has actually been used in memory.

Don't expect to see an implementation any time soon, though.  (One issue
is interactions with namespaces.)

On Tue, 2 Jul 2002, Liaw, Andy wrote:

> Dear R-help,
>
> Yes, I do know about the auto-loading feature.  My question is more
> complicated than that:
>
> Suppose I loaded a package (e.g., e1071) and created an object of certain
> class (e.g., svm), for which there is a print method in the package to hide
> things that the user may not need to see (e.g., large vectors or matrices
> needed by methods such as predict).  If the next time I started R, I type
> the object name without loading the package first, the whole shebang (sp?)
> gets dumped on the screen, which is quite annoying.
>
> Is there any way to make R automagically search for availability of methods
> for a particular class when objects of that class is accessed?  One
> possibility is to auto-load the package if the appropriate method is found.
> Another possibility is to notify the user that a package contains the
> appropriate method and ask if it should be loaded.  Can such a thing be
> done?
>
> Regards,
> Andy
>
> Andy I. Liaw, PhD
> Biometrics Research          Phone: (732) 594-0820
> Merck & Co., Inc.              Fax: (732) 594-1565
> P.O. Box 2000, RY84-16            Rahway, NJ 07065
> mailto:andy_liaw at merck.com
>
>
>
> ------------------------------------------------------------------------------
> Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.
>
> ==============================================================================
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lockwood at rand.org  Tue Jul  2 15:03:27 2002
From: lockwood at rand.org (J.R. Lockwood)
Date: Tue, 2 Jul 2002 09:03:27 -0400 (EDT)
Subject: [R] mean and array
In-Reply-To: <3D21BEAB.6020501@inrialpes.fr>
Message-ID: <Pine.LNX.4.33.0207020900530.7537-100000@penguin.rand.org>

> 
> I have an array, one say ar, with 3 dimensions.
> dim(ar)
>  >200   3   4
> I would like to calculate the mean on the third dimension.
> mean(ar[1,1,]),mean(ar[1,2,]) etc..., mean[200,3,].
> 
> How can i do this ?

apply(ar,c(1,2),mean)

will produce a (200 X 3) matrix of means averaged over the third
dimension.


J.R. Lockwood
412-683-2300 x4941
lockwood at rand.org
http://www.rand.org/methodology/stat/members/lockwood/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at jimmy.harvard.edu  Tue Jul  2 15:05:55 2002
From: rgentlem at jimmy.harvard.edu (Robert Gentleman)
Date: Tue, 2 Jul 2002 09:05:55 -0400
Subject: [R] auto-loading package possible?
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC425@usrymx10.merck.com>; from andy_liaw@merck.com on Tue, Jul 02, 2002 at 08:29:24AM -0400
References: <51F9C42DA15CD311BD220008C707D81906FFC425@usrymx10.merck.com>
Message-ID: <20020702090555.L26857@jimmy.harvard.edu>

There is a plan afoot to keep better track of the packages that are
needed for dealing with particular objects (especially if they are
saved and loaded using save and load). I'm hoping to get this in to 
1.6.0.

For now there is no simple way to do this -- you could write your own
simple wrappers around save and load that did this in a brute force
way. 



On Tue, Jul 02, 2002 at 08:29:24AM -0400, Liaw, Andy wrote:
> Dear R-help,
> 
> Yes, I do know about the auto-loading feature.  My question is more
> complicated than that:
> 
> Suppose I loaded a package (e.g., e1071) and created an object of certain
> class (e.g., svm), for which there is a print method in the package to hide
> things that the user may not need to see (e.g., large vectors or matrices
> needed by methods such as predict).  If the next time I started R, I type
> the object name without loading the package first, the whole shebang (sp?)
> gets dumped on the screen, which is quite annoying.  
> 
> Is there any way to make R automagically search for availability of methods
> for a particular class when objects of that class is accessed?  One
> possibility is to auto-load the package if the appropriate method is found.
> Another possibility is to notify the user that a package contains the
> appropriate method and ask if it should be loaded.  Can such a thing be
> done?
> 
> Regards,
> Andy
> 
> Andy I. Liaw, PhD
> Biometrics Research          Phone: (732) 594-0820
> Merck & Co., Inc.              Fax: (732) 594-1565
> P.O. Box 2000, RY84-16            Rahway, NJ 07065
> mailto:andy_liaw at merck.com
> 
> 
> 
> ------------------------------------------------------------------------------
> Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.
> 
> ==============================================================================
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
+---------------------------------------------------------------------------+
| Robert Gentleman                 phone : (617) 632-5250                   |
| Associate Professor              fax:   (617)  632-2444                   |
| Department of Biostatistics      office: M1B28
| Harvard School of Public Health  email: rgentlem at jimmy.dfci.harvard.edu   |
+---------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Tue Jul  2 15:19:22 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Tue, 02 Jul 2002 10:19:22 -0300
Subject: [R] manipulating axis labels in grid and lattice
In-Reply-To: <3D20DE2E.30301@fhcrc.org>
Message-ID: <4.2.2.20020702101308.00a33430@pop3.arnet.com.ar>

When I used my own axis labels in a plot I used the mtext() function with 
option 'adj' to specify the distance from the axis, and 'las' to specify 
the orientation. An example is the following:

mtext(labels , side=1 , at=1:3 , las=3 , adj=2 , cex=0.7);

Number 3 in 'las' means "labels perpendicular to the axis". Number 2 in 
'adj' needs not be an integer, and it was set by trial and error.

I hope this helps.

At 03:56 PM 1/7/2002 -0700, Carlo C. Maley wrote:
>I am trying to use wireframe at the moment and the axis labels are 
>overlapping with the tick labels.  It seems that gpar does not yet utilize 
>the mgp argument.  Is there anyway to manipulate the position of the axis 
>labels?
>
>The best I can manage so far is to manipulate the cex so as to shrink 
>everything down.
>
>thanks, Carlo Maley
>
>--
>Dr. Carlo C. Maley
>Staff Scientist
>Fred Hutchinson Cancer Research Center
>1100 Fairview Ave. N. C1-157
>Seattle, WA 98109
>
>phone: 206-667-4615
>fax: 206-667-6132
>cell: 206-355-7425
>
>http://www.fhcrc.org/science/phs/barretts/cmaley/
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Tue Jul  2 15:48:05 2002
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Tue, 02 Jul 2002 09:48:05 -0400
Subject: [R] mean and array
Message-ID: <2C23DE2983BE034CB1CB90DB6B813FD639EA57@uswpmx11.merck.com>

In general this is what "apply" does. In your example you could use
rowMeans(ar) as well, I think.

Reid Huntsinger

-----Original Message-----
From: Olivier Martin [mailto:olivier.martin at inrialpes.fr]
Sent: Tuesday, July 02, 2002 10:55 AM
To: r-help
Subject: [R] mean and array


Hi all,

I have an array, one say ar, with 3 dimensions.
dim(ar)
 >200   3   4
I would like to calculate the mean on the third dimension.
mean(ar[1,1,]),mean(ar[1,2,]) etc..., mean[200,3,].

How can i do this ?

Thanks

-- 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
Olivier MARTIN
PhD student                  phone : (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42		
INRIA Rhone-Alpes            fax   : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                   e-mail: olivier.martin at inrialpes.fr
38334 Saint Ismier cedex     web   :
http://www.inrialpes.fr/is2/people/omartin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jul  2 17:04:57 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 2 Jul 2002 08:04:57 -0700 (PDT)
Subject: [R] auto-loading package possible?
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC425@usrymx10.merck.com>
Message-ID: <Pine.A41.4.44.0207020758210.41934-100000@homer18.u.washington.edu>

On Tue, 2 Jul 2002, Liaw, Andy wrote:

> Dear R-help,
>
> Yes, I do know about the auto-loading feature.  My question is more
> complicated than that:
>

You can use the autoloading feature for this (at least for packages using
old classes) if all you need is print methods.

It's fairly straightforward to get a list of all the print.foo functions
in all the installed packages. For example, load the package, use ls() to
get the object names, and grep for names beginning "print.". Use this to
create a file of autoload() statements like
 	autoload("print.Surv","survival")
	autoload("print.coxph","survival")
	autoload("print.nlme","nlme")
and so on, and read this from your .Rprofile.

As long as the names are unique this will do what you are asking (and if
they're not unique then it's pretty much impossible). It does need to be
updated when you install new packages.

Doing this in general is much harder, as has been pointed out.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrysopa at insecta.ufv.br  Tue Jul  2 18:31:54 2002
From: chrysopa at insecta.ufv.br (Ronaldo Reis Jr.)
Date: Tue, 2 Jul 2002 13:31:54 -0300
Subject: [R] error in plot residuals in a glm with iterations.
Message-ID: <200207021331.55009.chrysopa@insecta.ufv.br>

Hi,
I make this model:

> moths.m6 <- 
glm(nind~metros+especie+habitat+metros:habitat+habitat:especie,family=poisson)
> anova(moths.m6,test="F")
Analysis of Deviance Table

Model: poisson, link: log

Response: nind

Terms added sequentially (first to last)


                Df Deviance Resid. Df Resid. Dev       F    Pr(>F)    
NULL                               81     488.32                      
metros           1     0.01        80     488.32  0.0083 0.9276077    
especie          1    13.40        79     474.92 13.3967 0.0002521 ***
habitat          7   185.93        72     288.99 26.5615 < 2.2e-16 ***
metros:habitat   6    34.89        66     254.10  5.8143 4.535e-06 ***
especie:habitat  7    99.24        59     154.86 14.1775 < 2.2e-16 ***
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1 

I try to make a residuals plot with plot(moths.m6), the follow Warning occur:

> plot(moths.m6)
Warning message: 
NaNs produced in: sqrt(1 - hii) 

But the plots are produced.

Then I try to plot a envelope function and its dont work.

> envpois(moths.m6)
Error in solve.default(t(X) %*% W %*% X) : 
	singular matrix `a' in solve

Without iterations this work well.

What is the problem???

Thanks for all.

The envelope function is:

envpois <- function(fit.model) {
#par(mfrow=c(1,1))
X <- model.matrix(fit.model)
n <- nrow(X)
p <- ncol(X)
w <- fit.model$weights
W <- diag(w)
H <- solve(t(X)%*%W%*%X)
H <- sqrt(W)%*%X%*%H%*%t(X)%*%sqrt(W)
h <- diag(H)
td <- resid(fit.model,type="deviance")/sqrt(1-h)
e <- matrix(0,n,100)
#
for(i in 1:100){
nresp <- rpois(n, fitted(fit.model))
fit <- glm(nresp ~ X , family=poisson)
w <- fit$weights
W <- diag(w)
H <- solve(t(X)%*%W%*%X)
H <- sqrt(W)%*%X%*%H%*%t(X)%*%sqrt(W)
h <- diag(H)
e[,i] <- sort(resid(fit,type="deviance")/sqrt(1-h))}
#
e1 <- numeric(n)
e2 <- numeric(n)
#
for(i in 1:n){
  eo <- sort(e[i,])
e1[i] <- eo[5]
e2[i] <- eo[95]}
#
med <- apply(e,1,mean)
faixa <- range(td,e1,e2)
#par(pty="s")
qqnorm(td,xlab="Theoretical Quantiles",
ylab="Std. deviance resid.", ylim=faixa, pch=1)
par(new=T)
#
qqnorm(e1,axes=F,xlab="",ylab="",type="l",ylim=faixa,lty=1)
par(new=T)
qqnorm(e2,axes=F,xlab="",ylab="", type="l",ylim=faixa,lty=1)
par(new=T)
qqnorm(med,axes=F,xlab="", ylab="", type="l",ylim=faixa,lty=2)
}





-- 
They also surf who only stand on waves.
--
|   //|\\   [*****************************][*******************]
|| ( ? ? )  [Ronaldo Reis J?nior          ][PentiumIII-600     ]
|     V     [ESALQ/USP-Entomologia, CP-09 ][HD: 30 + 10 Gb     ]
||  / l \   [13418-900 Piracicaba - SP    ][RAM: 128 Mb        ]
|  /(lin)\  [Fone: 19-429-4199 r.229      ][Video: SiS620-8Mb  ]
||/(linux)\ [chrysopa at insecta.ufv.br      ][Modem: Pctel-onboar]
|/ (linux) \[ICQ#: 5692561                ][SO: CL 7.0 (2.2.19)]
||  ( x )   [*****************************][*******************]
||| _/ \_Powered by Conectiva Linux 7.0 D+:) | Lxuser#: 205366

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From acuster at nature.berkeley.edu  Tue Jul  2 19:08:47 2002
From: acuster at nature.berkeley.edu (Adrian Custer)
Date: 02 Jul 2002 10:08:47 -0700
Subject: [R] the name of the statistical notation in R
Message-ID: <1025629727.10483.9.camel@tsetse.lab-net>

Hey everyone,

I know I've come across this somewhere, in either the blue or white
books or in one of the help docs but I can't put my hand on it.

What's the name of the statistical notation used in R?

responseVar ~ anExplantory:anotherExplantory + thridExplantory

Is this part of a coherent framework of notation that is as applicable
to models which are not generalized linear models as to glms?

Are there alternative systems of notation which are equally effective or
even more general that any of you could point me towards?

I'm working on spatial analysis, including spatial stats, and trying to
understand the consequence of notation on the ability to do analysis.

thanks for any pointers,

adrian


Adrian Custer
Dept. of Entomology
U.C. Berkeley


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjvbertin at hotmail.com  Tue Jul  2 19:22:06 2002
From: rjvbertin at hotmail.com (RenE J.V. Bertin)
Date: Tue, 02 Jul 2002 19:22:06 +0200
Subject: [R] gtk+1.2.10
Message-ID: <LAW2-F139gqGMFnXGTh0000473e@hotmail.com>

I upgraded to gtk+-1.2.10 and try to recompile R. This gtk release has its 
headers in ${prefix}/include/gtk-1.2/g{t,d}k/ (as can be seen from 
gtk-config --cflags). The gnome module build doesn't seem to account for 
this, and thus can't find gtk.h &sui. Is this a known issue (aka bug)?

RenE J.V. Bertin
College de France/LPPA
11, place Marcelin Berthelot
75005 Paris, France

_________________________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul  2 19:34:25 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 2 Jul 2002 18:34:25 +0100 (BST)
Subject: [R] the name of the statistical notation in R
In-Reply-To: <1025629727.10483.9.camel@tsetse.lab-net>
Message-ID: <Pine.LNX.4.31.0207021832060.27188-100000@gannet.stats>

On 2 Jul 2002, Adrian Custer wrote:

> Hey everyone,
>
> I know I've come across this somewhere, in either the blue or white
> books or in one of the help docs but I can't put my hand on it.
>
> What's the name of the statistical notation used in R?
>
> responseVar ~ anExplantory:anotherExplantory + thridExplantory
>
> Is this part of a coherent framework of notation that is as applicable
> to models which are not generalized linear models as to glms?

Yes (and it comes from linear models).  It is a (slightly) modified
version of Rogers-Wilkinson notation

@Article{Wilkinson.Rogers.73,
  author       = "G. N. Wilkinson and C. E. Rogers",
  title        = "Symbolic description of factorial models for analysis of
                  variance",
  journal      = "Applied Statistics",
  volume       = "22",
  pages        = "392--399",
  year         = "1973",
  comment      = "Reference from MASS",
}

also used by Genstat and GLIM.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Tue Jul  2 20:02:40 2002
From: rolf at math.unb.ca (Rolf Turner)
Date: Tue, 2 Jul 2002 15:02:40 -0300 (ADT)
Subject: [R] Hmisc?
Message-ID: <200207021802.PAA02292@tanner.math.unb.ca>


I was looking for an R function to turn a matrix into a LaTeX table;
did an R site search using Jon Barron's machine and turned up the
latex() function in the Hmisc package.

But the Hmisc package is an Splus package, and appears not to be
available for R --- there is no hint of it in the list of contributed
packages on CRAN.

I had a look at the Hmisc package (via statlib) and there was no hint
of its having been ported to R.

Yet the item that my search turned up has a header

	latex {Hmisc}                              R Documentation

Can someone please explain to me what gives?  If Hmisc is available
for R, how do I get it?  If not, what is it doing having R
documentation?


					cheers,

						Rolf Turner
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fernando.pineda at jhu.edu  Tue Jul  2 20:32:41 2002
From: fernando.pineda at jhu.edu (Fernando Pineda)
Date: Tue, 02 Jul 2002 14:32:41 -0400
Subject: [R] RMySQL and MAC OS X
Message-ID: <a05100302b947a20b2897@[10.18.117.10]>

Has anyone had success using the RMySQL package under Mac OS 
X/Darwin? I've been trying on and off for a few months with no 
success. Most recently I installed the Darwin R-1.5.1 distribution 
from (ftp://gifi.stat.ucla.edu/pub), but to no avail, I still get a 
"bus  error" when I try to connect (see below).

I have verified that  I can log into MySQL from a shell with the 
host/user/password combination that I'm passing to dbConnect.

Any thoughts?

Thanks,

-- Fernando


>  library(RMySQL)
>  m <- MySQL()
>  con <- dbConnect(m, 
>host="localhost",user="arrayAdmin",password="*****",dbname="microarrays")
Bus error

-- 
Fernando J. Pineda     		Johns Hopkins University
Assoc. Professor                 	Bloomberg School of Public Health
Molecular Microbiology & Immunology	615 N. Wolfe St.	 
fernando.pineda at jhu.edu			Baltimore, MD 21205
443-287-3673
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020702/967722ce/attachment.html

From rossini at blindglobe.net  Tue Jul  2 20:41:12 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 02 Jul 2002 11:41:12 -0700
Subject: [R] Hmisc?
In-Reply-To: <200207021802.PAA02292@tanner.math.unb.ca>
References: <200207021802.PAA02292@tanner.math.unb.ca>
Message-ID: <87d6u6gegn.fsf@jeeves.blindglobe.net>

>>>>> "rolf" == Rolf Turner <rolf at math.unb.ca> writes:

    rolf> I was looking for an R function to turn a matrix into a LaTeX table;
    rolf> did an R site search using Jon Barron's machine and turned up the
    rolf> latex() function in the Hmisc package.

Can't answer your real question, but I'd also look at the xtable
package.  I'm doing wonders with it (+ Sweave, for writing stat
sections for clinical trials protocol concept sheets, but that's even
further off topic).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From JBalint at alldata.net  Tue Jul  2 20:32:55 2002
From: JBalint at alldata.net (Balint, Jess)
Date: Tue, 2 Jul 2002 14:32:55 -0400 
Subject: [R] Using names()
Message-ID: <CA8ED43817EFD211855E00805FE6FD7403AA20AE@scadmail2.alldata.net>

Hello all. I am trying to sets somes names for values, but getting the
following error. Can anyone help me on this?

> names(size_four)<-c("Refused","Size 10","Size 12","Size 14","Size
16","Size 18","Size 20","Size 22","Size 24","Size 26","Size 28","Size
30","Size 46-48","Size 9")


Error: couldn't find function "<-<-"


Thanks.
Jess
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue Jul  2 20:44:34 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 2 Jul 2002 14:44:34 -0400
Subject: [R] Hmisc?
In-Reply-To: <200207021802.PAA02292@tanner.math.unb.ca>; from rolf@math.unb.ca on Tue, Jul 02, 2002 at 03:02:40PM -0300
References: <200207021802.PAA02292@tanner.math.unb.ca>
Message-ID: <20020702144434.A9208@cattell.psych.upenn.edu>

On 07/02/02 15:02, Rolf Turner wrote:
>But the Hmisc package is an Splus package, and appears not to be
>available for R --- there is no hint of it in the list of contributed
>packages on CRAN.

If you look up Hmisc at finzi.psych.upenn.edu, and look up the
"Overview," you are led to
http://hesweb1.med.virginia.edu/biostat/s/Hmisc.html
where there is an R version.

But I think you want xtable.  (It does come up in the search, but
not at the top for some reason.)

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
R page:               http://finzi.psych.upenn.edu/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Tue Jul  2 20:47:27 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Tue, 2 Jul 2002 11:47:27 -0700 (PDT)
Subject: [R] Hmisc?
In-Reply-To: <200207021802.PAA02292@tanner.math.unb.ca>
Message-ID: <Pine.GSO.4.10.10207021145480.10191-100000@fisher.stat.ucla.edu>

I would recommend the xtable package from CRAN.  I've used it numerous
times for papers.

I've never used the latex() function from Hmisc but I know that Hmisc is
available for R and can be downloaded from

http://hesweb1.med.virginia.edu/biostat/s/Hmisc.html

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Tue, 2 Jul 2002, Rolf Turner wrote:

> 
> I was looking for an R function to turn a matrix into a LaTeX table;
> did an R site search using Jon Barron's machine and turned up the
> latex() function in the Hmisc package.
> 
> But the Hmisc package is an Splus package, and appears not to be
> available for R --- there is no hint of it in the list of contributed
> packages on CRAN.
> 
> I had a look at the Hmisc package (via statlib) and there was no hint
> of its having been ported to R.
> 
> Yet the item that my search turned up has a header
> 
> 	latex {Hmisc}                              R Documentation
> 
> Can someone please explain to me what gives?  If Hmisc is available
> for R, how do I get it?  If not, what is it doing having R
> documentation?
> 
> 
> 					cheers,
> 
> 						Rolf Turner
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul  2 21:07:35 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 2 Jul 2002 20:07:35 +0100 (BST)
Subject: [R] Using names()
In-Reply-To: <CA8ED43817EFD211855E00805FE6FD7403AA20AE@scadmail2.alldata.net>
Message-ID: <Pine.LNX.4.31.0207022006460.27769-100000@gannet.stats>

On Tue, 2 Jul 2002, Balint, Jess wrote:

> Hello all. I am trying to sets somes names for values, but getting the
> following error. Can anyone help me on this?
>
> > names(size_four)<-c("Refused","Size 10","Size 12","Size 14","Size
> 16","Size 18","Size 20","Size 22","Size 24","Size 26","Size 28","Size
> 30","Size 46-48","Size 9")
>
>
> Error: couldn't find function "<-<-"

"_" is the assignment operator, not part of an object's name.

Mark Bravington, please note.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Tue Jul  2 21:28:12 2002
From: rolf at math.unb.ca (Rolf Turner)
Date: Tue, 2 Jul 2002 16:28:12 -0300 (ADT)
Subject: [R] Hmisc - summary.
Message-ID: <200207021928.QAA02553@tanner.math.unb.ca>


Thanks to Andy Liaw, James Jetton, Tony Rossini, Jonathon Baron,
and Roger Peng, who succeeded in enlightening me.

The situation, in short, is:

	(1) Hmisc is indeed available for R; you can get it
	from Frank Harrell's web page:

             http://hesweb1.med.virginia.edu/biostat/s/Hmisc.html

	(click on ``Software for R'').

	(2) The package xtable, which ***is*** listed amongst the
	contributed packages on CRAN, also does the sort of thing
	I want.

Thanks to all.

				cheers,

					Rolf Turner
					rolf at math.unb.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Tue Jul  2 22:04:44 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Tue, 2 Jul 2002 16:04:44 -0400
Subject: [R] Hmisc?
In-Reply-To: <200207021802.PAA02292@tanner.math.unb.ca>
References: <200207021802.PAA02292@tanner.math.unb.ca>
Message-ID: <20020702160444.1f817309.fharrell@virginia.edu>

Thanks for others for pointing out the home for Hmisc.  I submitted Hmisc and Design to CRAN a few weeks ago and am looking forward to it being placed there.

Frank Harrell

On Tue, 2 Jul 2002 15:02:40 -0300 (ADT)
Rolf Turner <rolf at math.unb.ca> wrote:

> 
> I was looking for an R function to turn a matrix into a LaTeX table;
> did an R site search using Jon Barron's machine and turned up the
> latex() function in the Hmisc package.
> 
> But the Hmisc package is an Splus package, and appears not to be
> available for R --- there is no hint of it in the list of contributed
> packages on CRAN.
> 
> I had a look at the Hmisc package (via statlib) and there was no hint
> of its having been ported to R.
> 
> Yet the item that my search turned up has a header
> 
> 	latex {Hmisc}                              R Documentation
> 
> Can someone please explain to me what gives?  If Hmisc is available
> for R, how do I get it?  If not, what is it doing having R
> documentation?
> 
> 
> 					cheers,
> 
> 						Rolf Turner
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nancy_wong at merck.com  Tue Jul  2 23:12:59 2002
From: nancy_wong at merck.com (Wong, Nancy Diana)
Date: Tue, 02 Jul 2002 17:12:59 -0400
Subject: [R] interfacing R and c++
Message-ID: <3D412F05778CD511AEBF00508B68D4CA047CA52F@uswpmx21.merck.com>

Hi,

I'm trying to write a gui program that accesses some R code I've written.
The gui is written in c++ and includes qt libraries and vigra libraries (for
image manipulation).  Unfortunately I've been getting dependencies due to
constants getting redefined within the R.h/R_ext library and Rinternals.h.
I tried rewriting the R interface but the problem keeps propagating.  I've
been told Gnumeric is a better gui library for working with R however,
before I rewrite my entire program, is there an obvious solution to calling
R functions in C++/qt?  Thanks.

Nancy

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HStevens at muohio.edu  Tue Jul  2 23:25:50 2002
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Tue, 02 Jul 2002 17:25:50 -0400
Subject: [R] XEmacs vs. GNU Emacs?
Message-ID: <5.1.0.14.2.20020702172310.00abbf10@po.muohio.edu>

As a user of only R, I don't use much of the potential of ESS and Emacs. 
Without entering a religious feud, is there any reason I should use XEmacs 
rather than my current GNU Emacs?
(I looked on the XEmacs site, but I didn't understand the programming 
issues they were talking about (over my head).)

Martin Henry H. Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.muohio.edu/~botcwis/bot/henry.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Tue Jul  2 23:45:18 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 02 Jul 2002 14:45:18 -0700
Subject: [R] XEmacs vs. GNU Emacs?
In-Reply-To: <5.1.0.14.2.20020702172310.00abbf10@po.muohio.edu>
References: <5.1.0.14.2.20020702172310.00abbf10@po.muohio.edu>
Message-ID: <87n0t9g5xt.fsf@jeeves.blindglobe.net>

>>>>> "martin" == Martin Henry H Stevens <HStevens at muohio.edu> writes:

    martin> As a user of only R, I don't use much of the potential of ESS and
    martin> Emacs. Without entering a religious feud, is there any reason I should
    martin> use XEmacs rather than my current GNU Emacs?

Practically, the difference lies between "gloss" and clean/fast, at
least in the older versions.

I can't think of any other issue that is practical, in deciding
between them.   Most of the XEmacs features (along with "more"), were
incorporates in the Emacs 21.x series.  

I think XEmacs is more user friendly and better (I'm not sure how well
Emacs handles color within terminal shells, which is important for me,
probably not for others), but I'm severely biased, so be a Bayesian
about the information.

Emacs is fine and acceptable.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Wed Jul  3 01:11:33 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 2 Jul 2002 19:11:33 -0400
Subject: [R] XEmacs vs. GNU Emacs? [OFF TOPIC.  REALLY!]
In-Reply-To: <5.1.0.14.2.20020702172310.00abbf10@po.muohio.edu>; from HStevens@muohio.edu on Tue, Jul 02, 2002 at 05:25:50PM -0400
References: <5.1.0.14.2.20020702172310.00abbf10@po.muohio.edu>
Message-ID: <20020702191133.A8024@cattell.psych.upenn.edu>

On 07/02/02 17:25, Martin Henry H. Stevens wrote:
>As a user of only R, I don't use much of the potential of ESS and Emacs. 
>Without entering a religious feud, is there any reason I should use XEmacs 
>rather than my current GNU Emacs?

Not really.  But I use it because I like some of the features,
such as gnuclient*.  I switched recently.

For an interesting discussion see the relevant sections of
http://www.jwz.org/doc/
which is also under "nerd documents" in
http://www.jwz.org/

Jamie Zawinski, who now manages a night club in San Francisco, is
also the inventor/maintainer of xscreensaver, one of the really
nice features of Linux.

Jon Baron

* Once you start the program, you don't need to open new windows
  for different documents.  Use gnuclient instead.  It is faster.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Wed Jul  3 01:21:25 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 02 Jul 2002 16:21:25 -0700
Subject: [R] XEmacs vs. GNU Emacs? [OFF TOPIC.  REALLY!]
In-Reply-To: <20020702191133.A8024@cattell.psych.upenn.edu>
References: <5.1.0.14.2.20020702172310.00abbf10@po.muohio.edu>
	<20020702191133.A8024@cattell.psych.upenn.edu>
Message-ID: <87ofdpemx6.fsf@jeeves.blindglobe.net>

>>>>> "jonathan" == Jonathan Baron <baron at cattell.psych.upenn.edu> writes:

    jonathan> Not really.  But I use it because I like some of the features,
    jonathan> such as gnuclient*.  I switched recently.

emacsclient should (or used to) provide similar features for Emacs.


-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Wed Jul  3 02:26:36 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Wed, 03 Jul 2002 12:26:36 +1200
Subject: [R] manipulating axis labels in grid and lattice
References: <3D20DE2E.30301@fhcrc.org>
Message-ID: <3D2244BC.BFD14996@stat.auckland.ac.nz>

Hi


> I am trying to use wireframe at the moment and the axis labels are
> overlapping with the tick labels.  It seems that gpar does not yet
> utilize the mgp argument.  Is there anyway to manipulate the position of
> the axis labels?


A brief digression ...

<design goal>
Graphics parameters specified via gpar() in grid and lattice are meant
to be general-purpose graphics parameters that are relevant to the
appearance of basic graphical primitives (such as lines, text, ...). 
Higher-level parameters, such as mgp, are only relevant to specific
high-level graphical objects, such as plots, and should therefore only
be specified in the creation/modification of the relevant high-level
object.
</design goal>

For this reason, mgp and many other par() parameters will never appear
in gpar().

Now for some information that may actually be useful ... :)

You might be able to use the "scales" argument of wireframe, in
particular something like scales=list(distance=1.5).  This positioning
looks a little bit rough;  I have cc'ed Deepayan in case he can suggest
a better solution.

Paul
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Olivier.Pasquet at ircam.fr  Tue Jul  2 19:52:53 2002
From: Olivier.Pasquet at ircam.fr (pasquet olivier)
Date: Tue, 02 Jul 2002 18:52:53 +0100
Subject: [R] sound lib - rstreams Mac OS 9 and X ???
Message-ID: <B947A705.166C%olivier.pasquet@ircam.fr>

Hello,

I'm looking for a working compiled library of "rstreams" for mac OS 9 and
for mac OS X.
I could find one (somewhere) but it is not loading.

It says in R 151 under OS 9.2:

Error in dyn.load(x, as.logical(local), as.logical(now)) :
    unable to load shared library
"PRO-096-system:Applications:Languages:rm151:library:rstreams:libs:RstreamsL
ib":
  error code -2807 getting disk fragment R--memcpy for library
PRO-096-system:Applications:Languages:rm151:library:rstreams:libs:RstreamsLi
b
Error in library(rstreams) : .First.lib failed

..................................................

I'm currently doing clustering and classification from wavelets and fft
frames in order to do sound synthesis from markov chains or LZ (OpenMusic
(LISP based)) generated sequences. This would also be useful for matching
pursuit.

I have found some R script that allows to load and save sound files but it
requires "rstreams"...

Do you know some work about statistical analysis of sounds using R?

Thanks for your help.
All the best,

Olive.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul  3 09:00:13 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 3 Jul 2002 08:00:13 +0100 (BST)
Subject: [R] sound lib - rstreams Mac OS 9 and X ???
In-Reply-To: <B947A705.166C%olivier.pasquet@ircam.fr>
Message-ID: <Pine.LNX.4.31.0207030757410.32637-100000@gannet.stats>

rstreams was withdrawn last year: all the facilities it provided can be
accomplished using binary connections.

I am pretty sure the version you have is for a much older version of R.

On Tue, 2 Jul 2002, pasquet olivier wrote:

> Hello,
>
> I'm looking for a working compiled library of "rstreams" for mac OS 9 and
> for mac OS X.
> I could find one (somewhere) but it is not loading.
>
> It says in R 151 under OS 9.2:
>
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>     unable to load shared library
> "PRO-096-system:Applications:Languages:rm151:library:rstreams:libs:RstreamsL
> ib":
>   error code -2807 getting disk fragment R--memcpy for library
> PRO-096-system:Applications:Languages:rm151:library:rstreams:libs:RstreamsLi
> b
> Error in library(rstreams) : .First.lib failed
>
> ..................................................
>
> I'm currently doing clustering and classification from wavelets and fft
> frames in order to do sound synthesis from markov chains or LZ (OpenMusic
> (LISP based)) generated sequences. This would also be useful for matching
> pursuit.
>
> I have found some R script that allows to load and save sound files but it
> requires "rstreams"...
>
> Do you know some work about statistical analysis of sounds using R?
>
> Thanks for your help.
> All the best,
>
> Olive.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jul  3 09:04:26 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 03 Jul 2002 09:04:26 +0200
Subject: [R] sound lib - rstreams Mac OS 9 and X ???
References: <B947A705.166C%olivier.pasquet@ircam.fr>
Message-ID: <3D22A1FA.6B8E5A35@statistik.uni-dortmund.de>

pasquet olivier wrote:
> 
> Hello,
> 
> I'm looking for a working compiled library of "rstreams" for mac OS 9 and
> for mac OS X.
> I could find one (somewhere) but it is not loading.
> 
> It says in R 151 under OS 9.2:
> 
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>     unable to load shared library
> "PRO-096-system:Applications:Languages:rm151:library:rstreams:libs:RstreamsL
> ib":
>   error code -2807 getting disk fragment R--memcpy for library
> PRO-096-system:Applications:Languages:rm151:library:rstreams:libs:RstreamsLi
> b
> Error in library(rstreams) : .First.lib failed

Probably you found the package "wave" in version 0.1-1 on my homepage.
I quickly hacked the wave file read / write code in 1999 when
connections in R were not available, but Rstreams was. It should be
quite easy to "port" the code to use the file connections provided in R
base, see 
?connections and ?readBin.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Wed Jul  3 09:40:40 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 3 Jul 2002 09:40:40 +0200 (MEST)
Subject: [R] How to do multiple comparisons with multiple error strata
In-Reply-To: <002b01c2211b$d9c5d5d0$0d02d9a0@remymartin>
Message-ID: <Pine.LNX.4.21.0207030933570.22095-100000@artemis>


> Hello,
>   the title says it all. I have an ANOVA model with
> "Error" term and the functions TukeyHSD or those
> from the "multcomp" package seem not to work with
> such a model. Assuming that the object returned from
> aov() function with multiple strata is a list of aov objects,
> I tried something like TukeyHSD(aov.1$Within), but this
> does not work either.
>  Does somebody have a solution? I think I can calculate
> confidence interval for individual coefficients, extending
> interval ranges based on Bonferroni correction, but this
> seems to be too crude solution...

as far as I understand this, an aov model is fitted for each error
stratum. If you are able to compute the correlation between the
(least square) estimators you compute the contrasts from, 
you can use `csim{test,int}' by directly
specifying a) estimators b) correlation matrix and c) contrast matrix
(which you can compute with `contrMat' for Tukey contrasts). 

Torsten

> 
> Thank you,        Petr Smilauer
>  
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From giorgia.rama at winterthur.ch  Wed Jul  3 09:49:11 2002
From: giorgia.rama at winterthur.ch (Rama Giorgia)
Date: Wed, 3 Jul 2002 09:49:11 +0200 
Subject: [R] reading large data sets
Message-ID: <D1B31937221DD511822D0008C724AB8BC5D014@c009485.winterthur.ch>


I have some difficulties in reading big dataset; I have to import a dataset with 1'661'852 observations saved in a 51.4Mb - txt file.
 I was wandering if this is a memory size problem or if I realy can't import such big datasets.
 If the memory allocated to my R is not enough, I would like to know exactly which comands I should use in order to read and use my large dataset.   

I Looking forward to hearing from you.

    Giorgia Rama
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Wed Jul  3 10:23:17 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Wed, 3 Jul 2002 20:23:17 +1200 (NZST)
Subject: [R] R Guide for Windows Users
Message-ID: <Pine.SOL.4.21.0207032014490.23041-100000@stat1.stat.auckland.ac.nz>

I've just completed(?) an R Guide for Windows users.  It was extended from
my "Compile R for Windows" that I put up a few months ago.  To get it go
to http://www.stat.auckland.ac.nz/~kwan022/rinfo.php

Here is the table of contents:
1 Introduction 
2 Installation 
    2.1 Installing R Base 
    2.2 Installing packages 
3 Running R 
    3.1 Rgui 
    3.2 Rcmd 
    3.3 Rterm 
4 Comile R Source 
    4.1 Preparation  
    4.2 Set PATH Variable 
        4.2.1 Windows 9x 
        4.2.2 Windows ME 
        4.2.3 Windows NT, 2000, and XP
    4.3 Comiling R from Source     
        4.3.1 Building Bitma Device Support
        4.3.2 Building Tcl/Tk Support 
        4.3.3 Building the Manuals
        4.3.4 Building the Installers
        4.3.5 Recommended packages 
5 Build R Package 
    5.1 Preparation  
    5.2 Documenting R Functions
    5.3 Documenting Data Sets 
    5.4 Compile the package 
6 Emacs Speaks Statistics (ESS) 
    6.1 Getting (X)Emacs and ESS   
    6.2 Installing ESS 
    6.3 ESS Quick Reference 

Suggestions/comments/criticisms are more than welcome.

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

Homepage: http://www.stat.auckland.ac.nz/~kwan022

E-mail: kwan022 at stat.auckland.ac.nz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Jul  3 10:40:13 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 3 Jul 2002 10:40:13 +0200
Subject: [R] interfacing R and c++
In-Reply-To: <3D412F05778CD511AEBF00508B68D4CA047CA52F@uswpmx21.merck.com>
References: <3D412F05778CD511AEBF00508B68D4CA047CA52F@uswpmx21.merck.com>
Message-ID: <15650.47213.476321.614266@gargle.gargle.HOWL>

>>>>> "NancyW" == Wong, Nancy Diana <nancy_wong at merck.com> writes:

    NancyW> I'm trying to write a gui program that accesses some
    NancyW> R code I've written.

That gui might potentially be interesting to quite a few people! 

    NancyW> The gui is written in c++ and
    NancyW> includes qt libraries and vigra libraries (for image
    NancyW> manipulation).  Unfortunately I've been getting
    NancyW> dependencies due to constants getting redefined
    NancyW> within the R.h/R_ext library and Rinternals.h.

here you should become more specific:
Can you give your "#include" statements and the compiler (or
linker?) error messages?
Could it be that you include both Rdefines.h and Rinternals.h ?
You should rather only use one of these; 
read the information on the topic in the "Writing R Extensions"
Manual, in the "System and foreign language interfaces" part.

    NancyW> I tried rewriting the R interface but the problem
    NancyW> keeps propagating.  I've been told Gnumeric is a
    NancyW> better gui library for working with R however,
    NancyW> before I rewrite my entire program, is there an
    NancyW> obvious solution to calling R functions in C++/qt?

I think using R as plugin for GNumeric might be more widely
useful (for the R community); but I guess this could be something
quite a bit different from what you have in mind currently.  I'm
not the expert here at all, though.

Regards,
Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Stephane.Dupas at pge.cnrs-gif.fr  Wed Jul  3 17:33:07 2002
From: Stephane.Dupas at pge.cnrs-gif.fr (Dupas =?ISO-8859-1?Q?St=E9phane?=)
Date: Wed, 03 Jul 2002 11:33:07 -0400
Subject: [R] poly.transform in R
Message-ID: <3D231933.6030706@pge.cnrs-gif.fr>

Dear all,

I am trying to transform polynomial coefficients from orthogonal form to 
the standard power basis. There's poly.transform in S-plus. Does anybody 
know how to do that in R ? I've found question about that in the 
archives of R-help but no real answer.

Example : I'm doing polynomial regression of percentage of one insect in 
a community on altitude, precipitations, evapotranspiration, max and min 
temperatures using glm. I would like to get the standard coordinates of 
my polynom in order to draw maps, get the maximum values, etc...

Call:
glm(formula = Ymat ~ poly(Alt, 2) + poly(Pmm, 2) + poly(E0, 2) +
    poly(Min, 2) + poly(Max, 2), family = binomial, data = tableau)

Deviance Residuals:
     Min        1Q    Median        3Q       Max
-15.5168   -0.1223    0.1085    3.5095   14.0412

Coefficients:
               Estimate Std. Error z value Pr(>|z|)
(Intercept)    -3.82301    0.16770 -22.797  < 2e-16 ***
poly(Alt, 2)1  84.65329    2.70398  31.307  < 2e-16 ***
poly(Alt, 2)2 -36.47269    1.54303 -23.637  < 2e-16 ***
poly(Pmm, 2)1   7.09874    0.37281  19.041  < 2e-16 ***
poly(Pmm, 2)2   0.01416    0.38110   0.037   0.9704
poly(E0, 2)1   -1.55123    0.69573  -2.230   0.0258 *
poly(E0, 2)2    1.51602    0.60352   2.512   0.0120 *
poly(Min, 2)1  17.57537    3.29233   5.338 9.38e-08 ***
poly(Min, 2)2  23.08318    2.10827  10.949  < 2e-16 ***
poly(Max, 2)1   9.07420    1.34201   6.762 1.36e-11 ***
poly(Max, 2)2  -0.72398    0.97286  -0.744   0.4568


---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 23381.9  on 64  degrees of freedom
Residual deviance:  1508.2  on 54  degrees of freedom
AIC: 1713.4

Number of Fisher Scoring iterations: 7



(I'd like to analyze the results of my multiple polynomial regression 
with R : maximums, zeros, etc... ?)

Thanks for your help,

St?phane


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lecadre at gmx.de  Wed Jul  3 12:07:01 2002
From: lecadre at gmx.de (lecadre)
Date: Wed, 03 Jul 2002 12:07:01 +0200
Subject: [R] Convolution, filters. highpass ,bandpass...
Message-ID: <3D22CCC5.8040600@gmx.de>

Hi!
I am looking for a set of lowpass, highpass and bandpass filters 
(kernels) which i can use togheter with the function filter (package ts)
Sincerely.
Eryk.

                     


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjw at celos.net  Wed Jul  3 12:21:40 2002
From: mjw at celos.net (Mark White)
Date: Wed, 3 Jul 2002 11:21:40 +0100
Subject: [R] Interactive mode and pipes
Message-ID: <20020703112139.A13295@celos.net>

When connecting R to a pipe (rather than a terminal), is
there any way to force it into 'interactive' mode?
Specifically, I wanted something to indicate that R is
waiting for another statement (the prompt?), and thus tell a
controlling application that output from the previous
evaluation has finished.

(A solution based on running a loop with eval(parse()) in it
might work instead, I guess).

Mark <><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lutz.thieme at amd.com  Wed Jul  3 13:33:03 2002
From: lutz.thieme at amd.com (lutz.thieme@amd.com)
Date: Wed, 3 Jul 2002 13:33:03 +0200
Subject: [R] boxplots with weighted data
Message-ID: <E540DF203FFED21182EB0008C72875600AEDA7E6@deexmta4.amd.com>

Hello everybody,

is there an easy way to plot boxplot with weighted data 
(without multiplieing my data)?

Thank's in advance

Kind regards,

Lutz

	Lutz Thieme
	Product Engineering
	AMD - Saxony Manufacturing GmbH
	phone: + 49-351-277 -  4269
	fax:       + 49-351-277-9-4269



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metrinomics.de  Wed Jul  3 14:19:26 2002
From: c.schulz at metrinomics.de (Christian Schulz)
Date: Wed, 03 Jul 2002 14:19:26 +0200
Subject: [R] latex
Message-ID: <3D22EBCE.4040807@metrinomics.de>

Hi,
i'm a newbie with latex and postscript but recognize
the power in combination wit R .

...current i don't now how i have to "inform" R1.5.0(patched) about my
MikeTex installation on windows 2000  and get following

latex(table)

Warning messages:
1: cat not found
2: cd not found
3: xdvi not found

P.S. maybe i must define in Rprofile something ???

Thanks for help and suggestions,
Christian

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed Jul  3 14:26:52 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 03 Jul 2002 08:26:52 -0400
Subject: [R] auto-loading package possible?
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC440@usrymx10.merck.com>

Apparently I only had faint impression of what autoload does.  What Thomas
described will do what I want, even though it's not as automatic as one
would hope.  In my case I know most of the methods and the packages they're
in, so doing it this way is not a problem at all.

Thanks to all who responded!!

Cheers,
Andy

> -----Original Message-----
> From: Thomas Lumley [mailto:tlumley at u.washington.edu]
> Sent: Tuesday, July 02, 2002 11:05 AM
> To: Liaw, Andy
> Cc: 'r-help at stat.math.ethz.ch'
> Subject: Re: [R] auto-loading package possible?
> 
> 
> On Tue, 2 Jul 2002, Liaw, Andy wrote:
> 
> > Dear R-help,
> >
> > Yes, I do know about the auto-loading feature.  My question is more
> > complicated than that:
> >
> 
> You can use the autoloading feature for this (at least for 
> packages using
> old classes) if all you need is print methods.
> 
> It's fairly straightforward to get a list of all the 
> print.foo functions
> in all the installed packages. For example, load the package, 
> use ls() to
> get the object names, and grep for names beginning "print.". 
> Use this to
> create a file of autoload() statements like
>  	autoload("print.Surv","survival")
> 	autoload("print.coxph","survival")
> 	autoload("print.nlme","nlme")
> and so on, and read this from your .Rprofile.
> 
> As long as the names are unique this will do what you are 
> asking (and if
> they're not unique then it's pretty much impossible). It does 
> need to be
> updated when you install new packages.
> 
> Doing this in general is much harder, as has been pointed out.
> 
> 	-thomas
> 
> 
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Wed Jul  3 14:40:40 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Wed, 3 Jul 2002 08:40:40 -0400
Subject: [R] latex
In-Reply-To: <3D22EBCE.4040807@metrinomics.de>
References: <3D22EBCE.4040807@metrinomics.de>
Message-ID: <20020703084040.468098de.fharrell@virginia.edu>

On Wed, 03 Jul 2002 14:19:26 +0200
Christian Schulz <c.schulz at metrinomics.de> wrote:

> Hi,
> i'm a newbie with latex and postscript but recognize
> the power in combination wit R .
> 
> ...current i don't now how i have to "inform" R1.5.0(patched) about my
> MikeTex installation on windows 2000  and get following
> 
> latex(table)
> 
> Warning messages:
> 1: cat not found
> 2: cd not found
> 3: xdvi not found
> 
> P.S. maybe i must define in Rprofile something ???
> 
> Thanks for help and suggestions,
> Christian

Christian,

You need to state which packages you are using.  If you are using the latex function in the Hmisc library, I have to admit to putting more work into that for Linux/Unix than for Windows.  The functions such as print.latex and related ones need modification for Windows (volunteers welcome) or you need to carefully set up your system so that the latex and xdvi commands are in your system path and also install the cygwin utilities (to get cat, cd, etc.).  The functions do check options(latexcmd= xdvicmd= dvipscmd=) which you can easily specify for your LaTeX installation (and put in .Rprofile) when your executables are not "latex" "xdi" "dvips".  

Note that to use latex just for creating the .tex file (e.g., w <- latex(myobject,fi='/tmp/my.tex') you only need to get the "latex" executable working with latex( ).  -Frank Harrell

> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patrick.hausmann at uni-bremen.de  Wed Jul  3 14:50:38 2002
From: patrick.hausmann at uni-bremen.de (Patrick Hausmann)
Date: Wed, 3 Jul 2002 14:50:38 +0200
Subject: [R] Adding text to a plot
Message-ID: <3D230F3E.4580.113CDC5@localhost>

Dear R-users,

again two question...

# Question 1
Adding two lines of text to a plot, I am using:

# ------------------------------- 
plot(k[,1], k[,2], pch=16, 
    ylim=range((min(k[,2])-0.2):(max(k[,2])+1)))     

a <- paste("Cor.:" ,cor(k[,2],k[,1]))
b <- paste(nrow(k), "Countries")

text(90, max((k[,2])-0.51), a)
text(90, max((k[,2])-0.83), b)
# -------------------------------
But the distance between the first and second line depends on the 
scale of the y-axis.

Is there a solution to put the lines in the upper right corner, 
independent of the y-scale?

# Question 2 
My data.frame looks like:
> u
      country     gdp50     w5073
1.AUS  AUS     77.15967   2.1708460
1.AUT  AUT     74.06830   1.8691745
1.BEL  BEL     77.87497   1.7547546
1.CAN  CAN     87.07300   1.3649655
[...]

To add labels on points in a plot I call: 
text(x=u[,2]+chw, y=u[,3], labels=levels(u[,1]), adj=0 )

How can I label only the datapoints for 'CAN' and 'AUS'?

Thanks for any help
Patrick
-------------
Patrick Hausmann
Friedrich-Wilhelm Str. 37 - D-28199 Bremen
Tel. +49 421 5980631 - Fax. +49 421 5980632
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed Jul  3 14:06:44 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 03 Jul 2002 08:06:44 -0400
Subject: [R] XEmacs vs. GNU Emacs?
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC43C@usrymx10.merck.com>

If you are on Windoze, there is one possibly important difference: object
name completion in ESS is fast in XEmacs.  In NTEmacs it's so slow that I
used to think that Emacs had frozen.

Andy

> -----Original Message-----
> From: rossini at blindglobe.net [mailto:rossini at blindglobe.net]
> Sent: Tuesday, July 02, 2002 5:45 PM
> To: Martin Henry H. Stevens
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] XEmacs vs. GNU Emacs?
> 
> 
> >>>>> "martin" == Martin Henry H Stevens <HStevens at muohio.edu> writes:
> 
>     martin> As a user of only R, I don't use much of the 
> potential of ESS and
>     martin> Emacs. Without entering a religious feud, is 
> there any reason I should
>     martin> use XEmacs rather than my current GNU Emacs?
> 
> Practically, the difference lies between "gloss" and clean/fast, at
> least in the older versions.
> 
> I can't think of any other issue that is practical, in deciding
> between them.   Most of the XEmacs features (along with "more"), were
> incorporates in the Emacs 21.x series.  
> 
> I think XEmacs is more user friendly and better (I'm not sure how well
> Emacs handles color within terminal shells, which is important for me,
> probably not for others), but I'm severely biased, so be a Bayesian
> about the information.
> 
> Emacs is fine and acceptable.
> 
> best,
> -tony
> 
> -- 
> A.J. Rossini				Rsrch. Asst. Prof. of 
> Biostatistics
> U. of Washington Biostatistics		
> rossini at u.washington.edu	
> FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
> -------------- http://software.biostat.washington.edu/ 
> ----------------
> FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty 
> sketchy/use Email
> UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
> (my tuesday/wednesday/friday locations are completely unpredictable.)
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed Jul  3 15:04:19 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 3 Jul 2002 14:04:19 +0100
Subject: [R] Using names()
In-Reply-To: <CA8ED43817EFD211855E00805FE6FD7403AA20AE@scadmail2.alldata.net>
References: <CA8ED43817EFD211855E00805FE6FD7403AA20AE@scadmail2.alldata.net>
Message-ID: <2D5VIUATZvI9Ewb2@myatt.demon.co.uk>

Balint, Jess <JBalint at alldata.net> writes:
>Hello all. I am trying to sets somes names for values, but getting the
>following error. Can anyone help me on this?
>
>> names(size_four)<-c("Refused","Size 10","Size 12","Size 14","Size
>16","Size 18","Size 20","Size 22","Size 24","Size 26","Size 28","Size
>30","Size 46-48","Size 9")
>
>
>Error: couldn't find function "<-<-"

That is because underscore '_' is shorthand for <-. This is due to be
removed in upcoming versions of R (I think). Try using the point (.)
instead:

        names(size.four) <- c( ... )

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rg117 at ohm.york.ac.uk  Wed Jul  3 16:06:50 2002
From: rg117 at ohm.york.ac.uk (Rishabh Gupta)
Date: Wed, 3 Jul 2002 15:06:50 +0100
Subject: [R] grouping in scatterplot3d
Message-ID: <001901c2229a$e07a13c0$35892090@ohm.york.ac.uk>

Hi all,
    I've been using the scatterplot3d function (from the scatterplot3d library) to create 3D plots. I was wondering whether there is
anyway to group the points according to a particular group variable. For example I used the plot function as
    plot( factor( <GROUPINGVAR> ) , <PLOTVARS> )
to organise the results in a according to the grouping variable. I was wondering whether there is any equivalent way of doing this
with scatterplot3d or any other equivalent 3d plotting function. I understand that this would be a difficult task since there are
'no spare dimensions' but for example could the function differentiate between different groups using colours or find clusters

Any help would be greatly appreciated.

Many Thanks

Rishabh

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jyan at stat.wisc.edu  Wed Jul  3 16:29:32 2002
From: jyan at stat.wisc.edu (Jun Yan)
Date: Wed, 3 Jul 2002 09:29:32 -0500 (CDT)
Subject: [R] Adding text to a plot
In-Reply-To: <3D230F3E.4580.113CDC5@localhost>
Message-ID: <Pine.LNX.4.21.0207030922230.2314-100000@ludwig.stat.wisc.edu>

> Dear R-users,
> 
> again two question...
> 
> # Question 1
> Adding two lines of text to a plot, I am using:
> 
> # ------------------------------- 
> plot(k[,1], k[,2], pch=16, 
>     ylim=range((min(k[,2])-0.2):(max(k[,2])+1)))     
> 
> a <- paste("Cor.:" ,cor(k[,2],k[,1]))
> b <- paste(nrow(k), "Countries")
> 
> text(90, max((k[,2])-0.51), a)
> text(90, max((k[,2])-0.83), b)
> # -------------------------------
> But the distance between the first and second line depends on the 
> scale of the y-axis.

text(max(k[,1], max[k,2], labels=paste(a,b,sep="\n"), adj=c(1,1))

You may try pos too.

> Is there a solution to put the lines in the upper right corner, 
> independent of the y-scale?
> 
> # Question 2 
> My data.frame looks like:
> > u
>       country     gdp50     w5073
> 1.AUS  AUS     77.15967   2.1708460
> 1.AUT  AUT     74.06830   1.8691745
> 1.BEL  BEL     77.87497   1.7547546
> 1.CAN  CAN     87.07300   1.3649655
> [...]
> 
> To add labels on points in a plot I call: 
> text(x=u[,2]+chw, y=u[,3], labels=levels(u[,1]), adj=0 )
> 
> How can I label only the datapoints for 'CAN' and 'AUS'?

You may extract only those levels you need and text it. However, You need
to be careful in this case. Your data happens to be sorted by country,
which makes it in the same order as the levels of the factor 
country. Another way to do this might be to use different symbols and give
a legend.

Jun


> 
> Thanks for any help
> Patrick
> -------------
> Patrick Hausmann
> Friedrich-Wilhelm Str. 37 - D-28199 Bremen
> Tel. +49 421 5980631 - Fax. +49 421 5980632
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Wed Jul  3 16:30:39 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Wed, 03 Jul 2002 16:30:39 +0200
Subject: [R] Adding text to a plot
References: <3D230F3E.4580.113CDC5@localhost>
Message-ID: <3D230A8F.1FCF995D@atmos.umnw.ethz.ch>

Hello Patrick

you can use special chars inside your string. For a linefeed you need
'\n'
c <- paste(a,b,sep='\n')
text(90, max((k[,2])-0.51), c)

gruess

joerg

Patrick Hausmann wrote:
> 
> Dear R-users,
> 
> again two question...
> 
> # Question 1
> Adding two lines of text to a plot, I am using:
> 
> # -------------------------------
> plot(k[,1], k[,2], pch=16,
>     ylim=range((min(k[,2])-0.2):(max(k[,2])+1)))
> 
> a <- paste("Cor.:" ,cor(k[,2],k[,1]))
> b <- paste(nrow(k), "Countries")
> 
> text(90, max((k[,2])-0.51), a)
> text(90, max((k[,2])-0.83), b)
> # -------------------------------
> But the distance between the first and second line depends on the
> scale of the y-axis.
> 
> Is there a solution to put the lines in the upper right corner,
> independent of the y-scale?
> 
> # Question 2
> My data.frame looks like:
> > u
>       country     gdp50     w5073
> 1.AUS  AUS     77.15967   2.1708460
> 1.AUT  AUT     74.06830   1.8691745
> 1.BEL  BEL     77.87497   1.7547546
> 1.CAN  CAN     87.07300   1.3649655
> [...]
> 
> To add labels on points in a plot I call:
> text(x=u[,2]+chw, y=u[,3], labels=levels(u[,1]), adj=0 )
> 
> How can I label only the datapoints for 'CAN' and 'AUS'?
> 
> Thanks for any help
> Patrick
> -------------
> Patrick Hausmann
> Friedrich-Wilhelm Str. 37 - D-28199 Bremen
> Tel. +49 421 5980631 - Fax. +49 421 5980632
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jul  3 16:53:37 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 03 Jul 2002 16:53:37 +0200
Subject: [R] grouping in scatterplot3d
References: <001901c2229a$e07a13c0$35892090@ohm.york.ac.uk>
Message-ID: <3D230FF1.6F8150E0@statistik.uni-dortmund.de>



Rishabh Gupta wrote:
> 
> Hi all,
>     I've been using the scatterplot3d function (from the scatterplot3d library) to create 3D plots. I was wondering whether there is
> anyway to group the points according to a particular group variable. For example I used the plot function as
>     plot( factor( <GROUPINGVAR> ) , <PLOTVARS> )
> to organise the results in a according to the grouping variable. 

And you got boxplots ...


> I was wondering whether there is any equivalent way of doing this
> with scatterplot3d or any other equivalent 3d plotting function. 
> I understand that this would be a difficult task since 
> there are 'no spare dimensions' but for example could the function 
> differentiate between different groups using colours or find 
> clusters

You want that the plotting function finds clusters? I am
misunderstanding ...

Of course you can color the different groups. Make use of the argument
'color', another choice is the use of different plotting characters
(argument 'pch'). In your syntax:

 scatterplot3d(<PLOTVAR>, [<PLOTVAR2>], [<PLOTVAR3>], 
   color = as.integer(factor(<GROUPINGVAR>)))

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Wed Jul  3 17:01:32 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Wed, 3 Jul 2002 11:01:32 -0400
Subject: [R] mean and array
In-Reply-To: <97719785@toto.iv>
Message-ID: <15651.4556.550158.959809@gargle.gargle.HOWL>

Olivier Martin <olivier.martin at inrialpes.fr> wrote:
> I have an array, one say ar, with 3 dimensions.
> dim(ar)
>  >200   3   4
> I would like to calculate the mean on the third dimension.
> mean(ar[1,1,]),mean(ar[1,2,]) etc..., mean[200,3,].

Reid Huntsinger <reid_huntsinger at merck.com> replied:
> In your example you could use rowMeans(ar) as well, I think.

Specifically: rowMeans(ar, dims=2)
This gives the same result as apply(ar, 1:2, mean), but is faster.
Note rowMeans() and friends were introduced in R-1.5.0.
-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From schneid at giub.unibe.ch  Wed Jul  3 17:00:29 2002
From: schneid at giub.unibe.ch (Nicolas Schneider)
Date: Wed, 03 Jul 2002 17:00:29 +0200 (MEST)
Subject: [R] barplot with
Message-ID: <200207031500.RAA27278@giub.unibe.ch>

Dear R-users

I have data measured at 8 locations (1-8) with 3 variables each (only 1 time 
step). I would like to sumarize the results in one barplot figure, i.e. creating 
a kind of multi-variable barplot (see below). Thus, at each location, the three 
variables should be compared with each other. Does anyone have an idea how to 
draw a figure like that? 

Many thanks in advance,
Nicolas


A     _                         _
|   _| |            _         _| |
|  | | |           | |_      | | |
|  | | |           | | |     | | |
|------------------------------------------------>
|       | |     |_|              | |
|       |_|                      |_| 
|        
|
V     1             2           3        ...    8    (locations)


_____________________________________________________________

Nicolas Schneider, PhD Student
University of Bern
Institute of Geography
Climatology & Meteorology
Hallerstrasse 12
CH-3012 Bern

phone +41-31-631-8542
fax   +41-31-631-8511
email schneid at giub.unibe.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From spodarev at mathematik.uni-ulm.de  Wed Jul  3 17:10:43 2002
From: spodarev at mathematik.uni-ulm.de (Evgueni Spodarev)
Date: Wed, 03 Jul 2002 17:10:43 +0200
Subject: [R] R to Java
Message-ID: <3D2313F3.8050202@mathematik.uni-ulm.de>

Dear Sirs,

I should be grateful to you if you could tell me whether one can port R 
into Java. Namely, is it possible to call the methods of R from Java? Do 
there exist standard interfaces for that?

Best regards,


Dr. E. Spodarev

Universit?t Ulm
Abteilung Stochastik
89069 Ulm
Germany

Tel. (+49) (0)731 5023589
Fax: (+49) (0)731 5023975
http://www.mathematik.uni-ulm.de/stochastik/personal/spodarev/spodarev.html




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jul  3 17:29:56 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 03 Jul 2002 17:29:56 +0200
Subject: [R] barplot with
References: <200207031500.RAA27278@giub.unibe.ch>
Message-ID: <3D231874.8E4245D3@statistik.uni-dortmund.de>



Nicolas Schneider wrote:
> 
> Dear R-users
> 
> I have data measured at 8 locations (1-8) with 3 variables each (only 1 time
> step). I would like to sumarize the results in one barplot figure, i.e. creating
> a kind of multi-variable barplot (see below). Thus, at each location, the three
> variables should be compared with each other. Does anyone have an idea how to
> draw a figure like that?
> 
> Many thanks in advance,
> Nicolas
> 
> A     _                         _
> |   _| |            _         _| |
> |  | | |           | |_      | | |
> |  | | |           | | |     | | |
> |------------------------------------------------>
> |       | |     |_|              | |
> |       |_|                      |_|
> |
> |
> V     1             2           3        ...    8    (locations)
> 
> _____________________________________________________________



barplot(..., beside = TRUE)

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Wed Jul  3 17:31:19 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 3 Jul 2002 11:31:19 -0400
Subject: [R] barplot with
In-Reply-To: <200207031500.RAA27278@giub.unibe.ch>; from schneid@giub.unibe.ch on Wed, Jul 03, 2002 at 05:00:29PM +0200
References: <200207031500.RAA27278@giub.unibe.ch>
Message-ID: <20020703113119.A5238@cattell.psych.upenn.edu>

On 07/03/02 17:00, Nicolas Schneider wrote:
>Dear R-users
>
>I have data measured at 8 locations (1-8) with 3 variables each (only 1 time 
>step). I would like to sumarize the results in one barplot figure, i.e. creating 
>a kind of multi-variable barplot (see below). Thus, at each location, the three 
>variables should be compared with each other. Does anyone have an idea how to 
>draw a figure like that? 

Set up your data as a matrix m1 (for example) with columns 1, 2,
3... 8 and one row for each variable.  Then say something like

barplot(m1,beside=T,...)

Look up the help for barplot.  The trick is to use "beside".

>Many thanks in advance,
>Nicolas
>
>
>A     _                         _
>|   _| |            _         _| |
>|  | | |           | |_      | | |
>|  | | |           | | |     | | |
>|------------------------------------------------>
>|       | |     |_|              | |
>|       |_|                      |_| 
>|        
>|
>V     1             2           3        ...    8    (locations)

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
R page:               http://finzi.psych.upenn.edu/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rg117 at ohm.york.ac.uk  Wed Jul  3 17:38:00 2002
From: rg117 at ohm.york.ac.uk (Rishabh Gupta)
Date: Wed, 3 Jul 2002 16:38:00 +0100
Subject: [R] grouping in scatterplot3d
References: <001901c2229a$e07a13c0$35892090@ohm.york.ac.uk> <3D230FF1.6F8150E0@statistik.uni-dortmund.de>
Message-ID: <000b01c222a7$9d64b1a0$35892090@ohm.york.ac.uk>

Hi,
    Thanks very much for your reply.
I think what I was hoping for was a 3d version of boxplot. Box plot will give me a median, the quartiles and the upper and lower
range for each group. If there is a function that would give me the same information but for 3d plots, that is really what I was
hoping for.

Many Thanks

Rishabh
----- Original Message -----
From: "Uwe Ligges" <ligges at statistik.uni-dortmund.de>
To: "Rishabh Gupta" <rg117 at ohm.york.ac.uk>
Cc: <r-help at stat.math.ethz.ch>
Sent: Wednesday, July 03, 2002 3:53 PM
Subject: Re: [R] grouping in scatterplot3d


|
|
| Rishabh Gupta wrote:
| >
| > Hi all,
| >     I've been using the scatterplot3d function (from the scatterplot3d library) to create 3D plots. I was wondering whether
there is
| > anyway to group the points according to a particular group variable. For example I used the plot function as
| >     plot( factor( <GROUPINGVAR> ) , <PLOTVARS> )
| > to organise the results in a according to the grouping variable.
|
| And you got boxplots ...
|
|
| > I was wondering whether there is any equivalent way of doing this
| > with scatterplot3d or any other equivalent 3d plotting function.
| > I understand that this would be a difficult task since
| > there are 'no spare dimensions' but for example could the function
| > differentiate between different groups using colours or find
| > clusters
|
| You want that the plotting function finds clusters? I am
| misunderstanding ...
|
| Of course you can color the different groups. Make use of the argument
| 'color', another choice is the use of different plotting characters
| (argument 'pch'). In your syntax:
|
|  scatterplot3d(<PLOTVAR>, [<PLOTVAR2>], [<PLOTVAR3>],
|    color = as.integer(factor(<GROUPINGVAR>)))
|
| Uwe Ligges
|

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.herrick at bristol.ac.uk  Wed Jul  3 17:45:18 2002
From: david.herrick at bristol.ac.uk (David Herrick)
Date: Wed, 3 Jul 2002 17:45:18 +0200
Subject: [R] Scientific notation
Message-ID: <15651.7182.362788.875181@gargle.gargle.HOWL>


I'm writing a load of output to a file using cat(...), but I can't work out
how to turn off scientific notation for small numbers.  When I originally
tried this a while a go I ended up building up a string variable, which is
rather clumsy...

Many thanks,

David

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Jul  3 17:51:42 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 3 Jul 2002 17:51:42 +0200
Subject: [R] interfacing R and c++
In-Reply-To: <3D412F05778CD511AEBF00508B68D4CA047CA533@uswpmx21.merck.com>
References: <3D412F05778CD511AEBF00508B68D4CA047CA533@uswpmx21.merck.com>
Message-ID: <15651.7566.922410.854992@gargle.gargle.HOWL>

>>>>> "NancyW" == Wong, Nancy Diana <nancy_wong at merck.com> writes:

    NancyW> Hi Martin,

    NancyW> Thanks for the quick response.  This is the compile
    NancyW> error I'm getting:

    NancyW> g++ -g -Wall -DDEBUG -I. -I/usr/local/include/vigra
    NancyW> -I/home/reid/install-these/vigra1.1.4/include -I/usr/local/lib/R/include -c
    NancyW> main.c
    NancyW> In file included from /usr/local/lib/R/include/R.h:45,
    NancyW> from main.c:23:
    NancyW> /usr/local/lib/R/include/R_ext/Boolean.h:29: `enum {anonymous} FALSE'
    NancyW> redeclared as different kind of symbol
    NancyW> /usr/lib/qt/include/qglobal.h:381: previous declaration of `const bool
    NancyW> FALSE'
    NancyW> /usr/local/lib/R/include/R_ext/Boolean.h:29: `enum {anonymous} TRUE'
    NancyW> redeclared as different kind of symbol
    NancyW> /usr/lib/qt/include/qglobal.h:382: previous declaration of `const bool TRUE'
    NancyW> In file included from main.c:24:
    NancyW> /usr/local/lib/R/include/Rinternals.h:820: parse error before `1'
    NancyW> make: *** [main.o] Error 1

    NancyW> when I try to include R.h and Rinternals.h

Ok, so we see it's a real conflict with TRUE and FALSE being
defined both 
 in R's   R_ext/Boolean.h  and 
 in qt's  qglobal.h

i.e. both R and qt assume that TRUE/FALSE are not yet defined
and do define them.

For the moment you'll have to fix this up manually, e.g. by
adding an
#ifndef TRUE
....
....
#endif

around the definition in either (or both!) of the two include files.

For R 1.6.0, we should try to prevent this (and the Qt
developers should too ..). 
Proposals welcome.

{and yes, this topic should now move from R-help to R-devel!} 

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dieter.menne at menne-biomed.de  Wed Jul  3 18:01:41 2002
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Wed, 3 Jul 2002 18:01:41 +0200
Subject: [R] groupedData constructor with generated formula: Error in inherits(formula,"formula")
Message-ID: <JLEPLGAANFCEAEDCAGJNAEHJCCAA.dieter.menne@menne-biomed.de>

Dear List,

I want to generate the formula in the groupedData constructor
from a string. It works ok (see oxg2) outside of a function,
but fails in a function environment.
What wrong with my example below?

Dieter

----------------------------

library(nlme)
data(Oxboys)
# make it a normal data frame
ox<-as.data.frame(Oxboys)

#works ok
oxg2<-groupedData(as.formula("height~age|Subject"),data=ox)


ProcessPar<-function(par)
{
  form1<-as.formula(paste(par,"~age|Subject"))
  form1
  inherits(form1,"formula") # TRUE
  oxg3<-groupedData(form1,data=ox)
  # do further processing with oxg3
}
# does not work:
ProcessPar("height")

#Error in inherits(formula, "formula") :
#  Object "form1" not found
traceback()
#5: inherits(formula, "formula")
#4: nfGroupedData(formula = form1, data = ox)
#3: do.call("nfGroupedData", mCall)
#2: groupedData(form1, data = ox)
#1: ProcessPar("height")


---------------------------------------
Dr. Dieter Menne
Biomed Software
72074 T?bingen
Tel (49) (7071) 52176
FAX (49) (7071) 55 10 46
dieter.menne at menne-biomed.de
www.menne-biomed.de



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul  3 18:12:59 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 3 Jul 2002 17:12:59 +0100 (BST)
Subject: [R] Scientific notation
In-Reply-To: <15651.7182.362788.875181@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.31.0207031711170.1157-100000@gannet.stats>

On Wed, 3 Jul 2002, David Herrick wrote:

>
> I'm writing a load of output to a file using cat(...), but I can't work out
> how to turn off scientific notation for small numbers.  When I originally
> tried this a while a go I ended up building up a string variable, which is
> rather clumsy...

You can't in cat.  The simplest idea is to use sprintf or formatC.

Why do you want to?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Krassimir.Vanguelov at CommerzbankIB.com  Wed Jul  3 19:02:03 2002
From: Krassimir.Vanguelov at CommerzbankIB.com (Vanguelov, Krassimir)
Date: Wed, 3 Jul 2002 18:02:03 +0100 
Subject: [R] R to Java - more than one R sesion?
Message-ID: <639DFA0F49F8D511BF010008C75DF1F012C37E@xmx4lonib.lonib.commerzbank.com>

There is a package called SJava provided by www.omegahat.org

Follow the examples in the documentation.
You can even create an interactive session where you keep your R objects
alive.

I would like to use the opportunity to thank the omegahat developers for the
great package and to ask them, whether it is possibles to create more than
one R session from one Java method and keep their Global Environments
separate? 

Krassi

-----Original Message-----
From: Evgueni Spodarev [mailto:spodarev at mathematik.uni-ulm.de]
Sent: Wednesday, July 03, 2002 16:11
To: R-help at stat.math.ethz.ch
Subject: [R] R to Java


Dear Sirs,

I should be grateful to you if you could tell me whether one can port R 
into Java. Namely, is it possible to call the methods of R from Java? Do 
there exist standard interfaces for that?

Best regards,


Dr. E. Spodarev

Universit?t Ulm
Abteilung Stochastik
89069 Ulm
Germany

Tel. (+49) (0)731 5023589
Fax: (+49) (0)731 5023975
http://www.mathematik.uni-ulm.de/stochastik/personal/spodarev/spodarev.html




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


********************************************************************** 
This communication is confidential and is intended only for 
the person to whom it is addressed.  If you are not that person you
are not permitted to make use of the information and you are requested 
to notify <mailto:LONIB.Postmaster at commerzbankib.com> immediately that 
you have received it and then destroy the copy in your possession.
Commerzbank AG is regulated by the FSA for the conduct of investment
business in the UK.
**********************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Wed Jul  3 19:06:07 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Wed, 3 Jul 2002 10:06:07 -0700 (PDT)
Subject: [R] reading large data sets
In-Reply-To: <D1B31937221DD511822D0008C724AB8BC5D014@c009485.winterthur.ch>
Message-ID: <Pine.GSO.4.10.10207031004300.5050-100000@fisher.stat.ucla.edu>

As far as I know, whether or not you can read the dataset will just depend
on how much memory your computer has.  For example, I have a GNU/Linux
machine with 1GB of RAM and can read 50MB file quite easily.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Wed, 3 Jul 2002, Rama Giorgia wrote:

> 
> I have some difficulties in reading big dataset; I have to import a
> dataset with 1'661'852 observations saved in a 51.4Mb - txt file.
>  I was wandering if this is a memory size problem or if I realy can't
> import such big datasets.
>  If the memory allocated to my R is not enough, I would like to know
> exactly which comands I should use in order to read and use my large
> dataset.
> 
> I Looking forward to hearing from you.
> 
>     Giorgia Rama
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wilson at visi.com  Wed Jul  3 19:29:15 2002
From: wilson at visi.com (Tim Wilson)
Date: Wed, 3 Jul 2002 12:29:15 -0500
Subject: [R] operating on a subset of a dataframe
Message-ID: <20020703172915.GA24883@isis.visi.com>

Hi everyone,

I've got a dataframe with columns of different types. A certain number
of columns in the dataframe hold the results of a series of Likert-type
items. I've got a function that will print a simple table of frequencies
and I want to apply that function to those columns of the dataframe
only. What's the best approach?

-Tim

-- 
Tim Wilson      |   Visit Sibley online:   | Check out:
Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
W. St. Paul, MN |                          | http://slashdot.org
wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patrick.hausmann at uni-bremen.de  Wed Jul  3 19:51:59 2002
From: patrick.hausmann at uni-bremen.de (Patrick Hausmann)
Date: Wed, 3 Jul 2002 19:51:59 +0200
Subject: [R] latex
In-Reply-To: <3D22EBCE.4040807@metrinomics.de>
Message-ID: <3D2355DF.6624.F0DAFA@localhost>

Hi Christian,

unfortunalty I can't help you with your problem (but I see 
Mr. Harrell has send an answer). 
Maybe you are interested in another solution how 
to combine Latex and R (using "Sweave"[1]).

1. You need the library "tools" from CRAN
2. Save the next lines as 'c:\beispiel.rnw'

% ---- beispiel.rnw ----------
\documentclass{article}
\usepackage{graphicx}

\begin{document}

% ------ R-Code - Berechnung XYZ -------
<<Kap1,echo=T>>=
setwd("c:/")
library(hmisc)
a <- c(3,4,5,6,7,6,5,4,3,6)
b <- c(6,5,4,5,6,7,8,6,5,5)
mean.a <- mean(a)
da <- density(a)
db <- density(b)
@
% ------ R-Code - Berechnung XYZ -------

The mean of a is \Sexpr{mean.a}.

The kernel density from a and b:

\setkeys{Gin}{width=0.6\textwidth}
\begin{center}
<<pl1,fig=T,echo=F>>=
plot(da, xlim=range(da$x, db$x), ylim=range(da$y,
db$y),main="XYZ")
lines(db, col="red")
@
\end{center}

\begin{center}
<<tab1,echo=F>>=
summary.stats <-  cbind(
'Mean (b)'=mean(b),
'SD (a)'=sd(a))
latex(summary.stats, fi='table.tex')
@
\input{table}
\end{center}

\end{document}
% ---- beispiel.rnw ----------

3. Start R 
4. R> library(tools)
5. R> Sweave("C:/beispiel.rnw")
6. Now you can "latexen" the file 'beispiel.tex' 

Regards Patrick

[1] See:
http://www.ci.tuwien.ac.at/~leisch/Sweave/Sweave-manual-20020507.pdf

[2] There is a new LaTeX-package called 'ctable'. 
Purpose: "The 'ctable' package lets you easily typeset centered, captioned table and 
figures floats with optional footnotes [...]." Maybe you take a look.


-------------
Patrick Hausmann
Friedrich-Wilhelm Str. 37 - D-28199 Bremen
Tel. +49 421 5980631 - Fax. +49 421 5980632
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ricardo at icmc.usp.br  Wed Jul  3 19:55:09 2002
From: ricardo at icmc.usp.br (Ricardo Da-Silva)
Date: Wed, 3 Jul 2002 14:55:09 -0300
Subject: [R] Factorial
Message-ID: <200207031801.g63I15xx022783@smtp.ieg.com.br>

Dear R Users

Could someone tell me if R has a internal function or package to perfome 
factorial calculations, like 32!,?

Thanks
Rick.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From borchers at decrc.abb.de  Wed Jul  3 20:04:01 2002
From: borchers at decrc.abb.de (Hans W. Borchers)
Date: Wed, 03 Jul 2002 20:04:01 +0200
Subject: [R] Implementation of Gamma test in R available?
Message-ID: <5.1.0.14.0.20020703195712.00a7ade8@del2s1.decrc.abb.de>

Is there an implementation of the Gamma test available in R?
This is an interesting statistics for non-linear modelling and
there is a commercial program available as *winGamma*.

It would be nice to have this approach or something similar
available in R. To do it myself I would need a good nearest
neighbor algorithm as _dist_ cannot be easily used: too slow,
too much memory required.

Hans W. Borchers.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Wed Jul  3 20:06:04 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Wed, 3 Jul 2002 11:06:04 -0700 (PDT)
Subject: [R] operating on a subset of a dataframe
In-Reply-To: <20020703172915.GA24883@isis.visi.com>
Message-ID: <Pine.GSO.4.10.10207031105400.5050-100000@fisher.stat.ucla.edu>

I'm not entirely sure I understand your setup, but I'm guessing lapply()
is what you want.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Wed, 3 Jul 2002, Tim Wilson wrote:

> Hi everyone,
> 
> I've got a dataframe with columns of different types. A certain number
> of columns in the dataframe hold the results of a series of Likert-type
> items. I've got a function that will print a simple table of frequencies
> and I want to apply that function to those columns of the dataframe
> only. What's the best approach?
> 
> -Tim
> 
> -- 
> Tim Wilson      |   Visit Sibley online:   | Check out:
> Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
> W. St. Paul, MN |                          | http://slashdot.org
> wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rg117 at ohm.york.ac.uk  Wed Jul  3 20:12:02 2002
From: rg117 at ohm.york.ac.uk (Rishabh Gupta)
Date: Wed, 3 Jul 2002 19:12:02 +0100
Subject: [R] lda from MASS function
Message-ID: <005101c222bd$21fa2480$35892090@ohm.york.ac.uk>

Hi all,
    I am using the lda function from the MASS library to measure the discriminance of different variables with respect to different
grouping variables by using

    lda( RESULTVARS[, 1:750] , GROUPVAR , tol=0 )    where RESULTVARS contains some 750 different variables.

Occasionally there is a variable within RESULTVARS that has the same values for all values of GROUPVAR, ie no variance so I get the
error:

Error in svd(X, nu = 0) : NA/NaN/Inf in foreign function call (arg 1)

As I understand it, this is due to the a division of zero in one svd function that is used by lda. The nature of my results are such
that every now and than I will get a case where all the values for a RESULTVARS variable are constant. Is there a way of getting
past this problem. For example, by using the tol=0 parameter I can avoid problems when the variables are the same within a
particular group. As far as I am concerned, cases where the variables are constant across all groups is saying that that variable
has zero discriminance.
Example values of the grouping variable are:
> d$subject
    [1] E D C B A H G K F I J E D C B A H G K F I J E D C B A H G K F I J E D C B A G H K F I J E D C B A H G K F I J E D C B A H G
K F I J E D C B A H G K F I J
    Levels:  A B C D E F G H I J K

Example values of the results variables with no errors are:
> d[,104]
 [1] 2.312308 2.957263 2.979431 2.764650 2.877694 3.078302 3.112324 2.906696 3.045316 1.995411 2.488661 2.976581 2.917944 3.089677
2.850058 2.758467
[17] 2.898870 2.966295 3.123338 3.130935 2.729223 2.831621 2.222380 2.461088 2.539655 2.267584 2.599100 2.575934 2.858999 2.311193
2.515690 2.490992
[33] 2.230635 2.846939 3.091381 3.072407 3.097286 2.878738 3.097788 3.155828 3.250491 3.095101 2.956129 3.157974 3.093765 2.682200
3.072632 2.931168
[49] 2.469290 2.909947 2.682943 2.985903 2.738458 2.828025 2.860262 3.112574 2.890100 2.813462 2.694520 3.058201 2.761940 2.835700
2.829152 2.834158
[65] 3.029300 2.870694 3.024452 2.909192 2.926210 2.530717 2.875842 2.798146 2.576489 2.690214 2.865670 2.499521 2.900491

and finally, example of the results variables WITH ERRORS are:
d[,105]
 [1] 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
3 3 3 3 3 3 3 3 3 3 3 3 3

Can anyone suggest a workaround for this problem. Your help would be greatly appreciated.

Many Thanks For Your Help

Rishabh

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew_wiener at merck.com  Wed Jul  3 20:38:14 2002
From: matthew_wiener at merck.com (Wiener, Matthew)
Date: Wed, 03 Jul 2002 14:38:14 -0400
Subject: [R] Factorial
Message-ID: <7C4F091F6140D411A29300508B5C73B908A2BC79@usrymx04.merck.com>

You can use the fact that n! = gamma(n+1):

3 * 2
[1] 6
> gamma(4)
[1] 6
> 
> 4 * 3 * 2
[1] 24
> gamma(5)
[1] 24

and so on.

Hope this helps.

Matthew Wiener
Applied Computer Science & Mathematics Dept.
Merck Research Labs
Rahway, NJ 07090
732-594-5303 

-----Original Message-----
From: Ricardo Da-Silva [mailto:ricardo at icmc.usp.br]
Sent: Wednesday, July 03, 2002 1:55 PM
To: r-help at stat.math.ethz.ch
Subject: [R] Factorial


Dear R Users

Could someone tell me if R has a internal function or package to perfome 
factorial calculations, like 32!,?

Thanks
Rick.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From acosa at ubu.es  Wed Jul  3 21:00:31 2002
From: acosa at ubu.es (Alvaro Colina)
Date: 03 Jul 2002 21:00:31 +0200
Subject: [R] Factorial
In-Reply-To: <200207031801.g63I15xx022783@smtp.ieg.com.br>
References: <200207031801.g63I15xx022783@smtp.ieg.com.br>
Message-ID: <1025722831.2915.0.camel@mudito>

El mi?, 03-07-2002 a las 19:55, Ricardo Da-Silva escribi?:
> Dear R Users
> 
> Could someone tell me if R has a internal function or package to perfome 
> factorial calculations, like 32!,?
> 
> Thanks
> Rick.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Try gamma(n-1)
-- 
==================================================
Alvaro Colina                                    
Area de Quimica Analitica.                       
Facultad de Ciencias. Universidad de Burgos.    
Pza. Misael Banuelos s/n. 09001. Burgos. Spain
Phone: 34-947-258817 FAX: 34-947-258831       
e-mail: acosa at ubu.es                           
http://www2.ubu.es/quim/quimana/index.shtml
==================================================	



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul  3 21:04:28 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 3 Jul 2002 20:04:28 +0100 (BST)
Subject: [R] lda from MASS function
In-Reply-To: <005101c222bd$21fa2480$35892090@ohm.york.ac.uk>
Message-ID: <Pine.LNX.4.31.0207032003000.2508-100000@gannet.stats>

On Wed, 3 Jul 2002, Rishabh Gupta wrote:

> Hi all,
>     I am using the lda function from the MASS library to measure the discriminance of different variables with respect to different
> grouping variables by using
>
>     lda( RESULTVARS[, 1:750] , GROUPVAR , tol=0 )    where RESULTVARS contains some 750 different variables.
>
> Occasionally there is a variable within RESULTVARS that has the same values for all values of GROUPVAR, ie no variance so I get the
> error:
>
> Error in svd(X, nu = 0) : NA/NaN/Inf in foreign function call (arg 1)
>
> As I understand it, this is due to the a division of zero in one svd function that is used by lda. The nature of my results are such
> that every now and than I will get a case where all the values for a RESULTVARS variable are constant. Is there a way of getting
> past this problem. For example, by using the tol=0 parameter I can avoid problems when the variables are the same within a
> particular group. As far as I am concerned, cases where the variables are constant across all groups is saying that that variable
> has zero discriminance.

You are wrong: that is what the tol argument is for.
You need to delete the constant variables, which contradict the lda model.

Do you really believe is multivariate normality for 750 dimensions?
I wouldn't!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Wed Jul  3 22:21:37 2002
From: macq at llnl.gov (Don MacQueen)
Date: Wed, 3 Jul 2002 13:21:37 -0700
Subject: [R] lda from MASS function
In-Reply-To: <005101c222bd$21fa2480$35892090@ohm.york.ac.uk>
References: <005101c222bd$21fa2480$35892090@ohm.york.ac.uk>
Message-ID: <p05111a0bb94909a6335f@[128.115.153.6]>

Here is one idea:
   1) use try(), as in try(lda()),
then, when try() indicates an error, use a function (which you will 
have to write), to search through all the variables in RESULTVARS, 
find out which one(s) are offending, and then call lda() again 
omitting those.

Here's an untested sketch of the search function (some debugging 
probably needed):

findgood <- function(df,cols=1:750) {
    ok <- numeric()
    for (j in cols) if (sum(!duplicated(df[,j])) > 1) ok <- c(ok,j)
    ok
}

it is supposed to return a vector of column numbers of columns that 
are ok to use. Use it like this:

   ok <- findgood(RESULTVARS,1:750)
then
   lda(RESULTVARS[,ok] , GROUPVAR)

sapply() instead of for() might be faster, though perhaps not easier 
to understand.

-Don

At 7:12 PM +0100 7/3/02, Rishabh Gupta wrote:
>Hi all,
>     I am using the lda function from the MASS library to measure the 
>discriminance of different variables with respect to different
>grouping variables by using
>
>     lda( RESULTVARS[, 1:750] , GROUPVAR , tol=0 )    where 
>RESULTVARS contains some 750 different variables.
>
>Occasionally there is a variable within RESULTVARS that has the same 
>values for all values of GROUPVAR, ie no variance so I get the
>error:
>
>Error in svd(X, nu = 0) : NA/NaN/Inf in foreign function call (arg 1)
>
>As I understand it, this is due to the a division of zero in one svd 
>function that is used by lda. The nature of my results are such
>that every now and than I will get a case where all the values for a 
>RESULTVARS variable are constant. Is there a way of getting
>past this problem. For example, by using the tol=0 parameter I can 
>avoid problems when the variables are the same within a
>particular group. As far as I am concerned, cases where the 
>variables are constant across all groups is saying that that variable
>has zero discriminance.
>Example values of the grouping variable are:
>>  d$subject
>     [1] E D C B A H G K F I J E D C B A H G K F I J E D C B A H G K 
>F I J E D C B A G H K F I J E D C B A H G K F I J E D C B A H G
>K F I J E D C B A H G K F I J
>     Levels:  A B C D E F G H I J K
>
>Example values of the results variables with no errors are:
>>  d[,104]
>  [1] 2.312308 2.957263 2.979431 2.764650 2.877694 3.078302 3.112324 
>2.906696 3.045316 1.995411 2.488661 2.976581 2.917944 3.089677
>2.850058 2.758467
>[17] 2.898870 2.966295 3.123338 3.130935 2.729223 2.831621 2.222380 
>2.461088 2.539655 2.267584 2.599100 2.575934 2.858999 2.311193
>2.515690 2.490992
>[33] 2.230635 2.846939 3.091381 3.072407 3.097286 2.878738 3.097788 
>3.155828 3.250491 3.095101 2.956129 3.157974 3.093765 2.682200
>3.072632 2.931168
>[49] 2.469290 2.909947 2.682943 2.985903 2.738458 2.828025 2.860262 
>3.112574 2.890100 2.813462 2.694520 3.058201 2.761940 2.835700
>2.829152 2.834158
>[65] 3.029300 2.870694 3.024452 2.909192 2.926210 2.530717 2.875842 
>2.798146 2.576489 2.690214 2.865670 2.499521 2.900491
>
>and finally, example of the results variables WITH ERRORS are:
>d[,105]
>  [1] 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
>3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
>3 3 3 3 3 3 3 3 3 3 3 3 3
>
>Can anyone suggest a workaround for this problem. Your help would be 
>greatly appreciated.
>
>Many Thanks For Your Help
>
>Rishabh
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmail.cis.mcmaster.ca  Wed Jul  3 22:21:38 2002
From: jfox at mcmail.cis.mcmaster.ca (John Fox)
Date: Wed, 3 Jul 2002 16:21:38 -0400 (EDT)
Subject: [R] Factorial
In-Reply-To: <200207031801.g63I15xx022783@smtp.ieg.com.br>
Message-ID: <Pine.SOL.4.33.0207031619560.20603-100000@mcmail.cis.mcmaster.ca>

Dear Ricardo,

You can use gamma(33).

John

On Wed, 3 Jul 2002, Ricardo Da-Silva wrote:

> Could someone tell me if R has a internal function or package to perfome
> factorial calculations, like 32!,?
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Wed Jul  3 22:44:10 2002
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Wed, 03 Jul 2002 13:44:10 -0700
Subject: [R] "Best" Out of box Linux distro for R
Message-ID: <5.1.1.2.2.20020703133325.0249bd50@odin.pdx.edu>

At the risk of starting a holy war, I'd like opinions on the "best" current 
Linux distribution to run "out of box" with current versions of R.  I note 
rpms for various versions of RedHat, SUSE, Mandrake, and Debian.  I've had 
experience with RH 7.1 & 7.2 and it hasn't been entirely pretty.  I 
understand that 7.3 is a bit "better", but have also read that SUSE 8 may 
be the most "complete".  I've also read of difficulties people have had 
installing (compiling, linking, running?) R with current Debian 
distributions.

Since I have access to any of these distributions fairly inexpensively, I'm 
seeking opinions from experienced users on which they've found to be the 
"easiest" to use with R.  In particular, which versions come with all the 
necessary compilation and linking tools as part of the standard 
installation?  Which versions require updated tools?

Any advice/opinions welcome.  If this is off-topic, feel free to email me b/c.

Thanks,






=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://web.pdx.edu/~h1mf
PGP Key Available On Request
======================

"Anyway, no drug, not even alcohol, causes the fundamental ills of society.
If we're looking for the source of our troubles, we shouldn't test people
for drugs, we should test them for stupidity, ignorance, greed and love of
power."   P.J. O'Rourke

Powered by Optiplochoerus and Windows 2000 (scary isn't it?)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Wed Jul  3 22:58:21 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Wed, 3 Jul 2002 16:58:21 -0400
Subject: [R] Calling qnorm from Fortran
Message-ID: <20020703165821.467fec41.fharrell@virginia.edu>

The R-exts may explicitly state this but I missed it.  How do I call qnorm or pnorm from Fortran?  Thanks -Frank

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jul  3 23:02:03 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 03 Jul 2002 23:02:03 +0200
Subject: [R] grouping in scatterplot3d
References: <001901c2229a$e07a13c0$35892090@ohm.york.ac.uk> <3D230FF1.6F8150E0@statistik.uni-dortmund.de> <000b01c222a7$9d64b1a0$35892090@ohm.york.ac.uk>
Message-ID: <3D23664B.D3369C1A@statistik.uni-dortmund.de>

Rishabh Gupta wrote:
> 
> Hi,
>     Thanks very much for your reply.
> I think what I was hoping for was a 3d version of boxplot. 
> Box plot will give me a median, the quartiles and the upper 
> and lower range for each group. If there is a function that 
> would give me the same information but for 3d plots, that is 
> really what I was hoping for.

Not really easy, but a quick hack can be done along the following lines
with scatterplot3d (in CRAN package of the same name):

 # data:
 z <- rnorm(100)
 x <- sample(1:5, size = 100, replace = TRUE) # categorial
 y <- sample(1:5, size = 100, replace = TRUE) # categorial

 # set up the plot without drawing, and save the returned functions
 # (see ?scatterplot3d section "Values"):
 s3d <- scatterplot3d(x, y, z, type = "n") 

 # Just a double loop, not speed issues if looping for such a plot - 
 # or plot cannot show anything:
 for(i in unique(x)){
   for(j in unique(y)){
     # calculate boxplot stats for this each plot group:
     bxp.st <- boxplot.stats(z[x==i & y==j]) 
     l <- length(bxp.st$out)
     # plot outliers:
     if(length(bxp.st$out) > 0) 
       s3d$points3d(rep(i, l), rep(j, l), bxp.st$out)
     # calculate "whiskers" and plot them:
     lines(s3d$xyz.convert(c(i, i), c(j, j), bxp.st$stats[c(1, 5)]))
     # calculate "box" and plot it:
     lines(s3d$xyz.convert(c(i, i), c(j, j), bxp.st$stats[c(2, 4)]), 
       lwd = 3)
     # plot the median:
     s3d$points3d(i, j, bxp.st$stats[3], pch = 18, col = "red")
   }
 }


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Wed Jul  3 23:09:34 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 03 Jul 2002 14:09:34 -0700
Subject: [R] "Best" Out of box Linux distro for R
In-Reply-To: <5.1.1.2.2.20020703133325.0249bd50@odin.pdx.edu>
References: <5.1.1.2.2.20020703133325.0249bd50@odin.pdx.edu>
Message-ID: <878z4sh629.fsf@jeeves.blindglobe.net>

>>>>> "marc" == Marc Feldesman <feldesmanm at pdx.edu> writes:

    marc> At the risk of starting a holy war, I'd like opinions on the "best"

This is just like asking "what's the best statistical analysis"
without mentioning your data, what you know, and what you can do.

and no, I'm not asking you to send that to the list, either!

If you are fairly computer savvy AND the machine is on a fast
connection, go with Debian/Woody or Debian/Sid.  You'll at least find
out if you really are savvy.  "apt-get" and "dselect" are great (once
you understand them).  R is pretty up-to-date, consistent, and
coherent them.  Dirk E., who maintains them packages for Debian, is on
top of things, but currently out-of-town so won't answer for a while
(actually, he's in Seattle, on vacation :-).

Else, I don't see any generic reasons for preferring any of the RPM
based distros over another.  I do see strong specific and situational
reasons for preferring one over others.  I'm not going to go into this
any further, since it is COMPLETELY off-topic.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul  3 23:18:04 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 3 Jul 2002 22:18:04 +0100 (BST)
Subject: [R] Calling qnorm from Fortran
In-Reply-To: <20020703165821.467fec41.fharrell@virginia.edu>
Message-ID: <Pine.LNX.4.31.0207032213220.2646-100000@gannet.stats>

On Wed, 3 Jul 2002, Frank E Harrell Jr wrote:

> The R-exts may explicitly state this but I missed it.  How do I call qnorm or pnorm from Fortran?  Thanks -Frank

They do: search for `rndstart'.

You have to write a C wrapper to call C entry points from Fortran,
and there is an example with norm_rand.  Note the caveat on portability.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sundar.dorai-raj at pdf.com  Wed Jul  3 23:27:25 2002
From: sundar.dorai-raj at pdf.com (Sundar Dorai-Raj)
Date: Wed, 03 Jul 2002 16:27:25 -0500
Subject: [R] Factorial
References: <200207031801.g63I15xx022783@smtp.ieg.com.br> <1025722831.2915.0.camel@mudito>
Message-ID: <3D236C3D.5C1021B6@pdf.com>



Alvaro Colina wrote:
> 
> El mi?, 03-07-2002 a las 19:55, Ricardo Da-Silva escribi?:
> > Dear R Users
> >
> > Could someone tell me if R has a internal function or package to perfome
> > factorial calculations, like 32!,?
> >
> > Thanks
> > Rick.
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> Try gamma(n-1)

However, it's usually safer to use lgamma(n-1) instead if n is large (as
in n=32). lgamma(x) returns the log of the gamma function which will be
a more managable number for computational purposes.

> lgamma(31)
[1] 74.65824
> gamma(31)
[1] 2.652529e+32

Regards,

Sundar

-- 
Sundar Dorai-Raj, Ph.D.     
Statistical Methods Engineer
PDF Solutions, Inc.
Dallas TX
(972) 889-3085 x216
(214) 392-7619 cell
sundar.dorai-raj at pdf.com
http://www.pdf.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sundar.dorai-raj at pdf.com  Wed Jul  3 23:29:08 2002
From: sundar.dorai-raj at pdf.com (Sundar Dorai-Raj)
Date: Wed, 03 Jul 2002 16:29:08 -0500
Subject: [R] Factorial
References: <200207031801.g63I15xx022783@smtp.ieg.com.br> <1025722831.2915.0.camel@mudito>
Message-ID: <3D236CA4.49D57BB3@pdf.com>

Sorry. Make that lgamma(n+1). Not n-1.

Alvaro Colina wrote:
> 
> El mi?, 03-07-2002 a las 19:55, Ricardo Da-Silva escribi?:
> > Dear R Users
> >
> > Could someone tell me if R has a internal function or package to perfome
> > factorial calculations, like 32!,?
> >
> > Thanks
> > Rick.
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> Try gamma(n-1)
> --
> ==================================================
> Alvaro Colina
> Area de Quimica Analitica.
> Facultad de Ciencias. Universidad de Burgos.
> Pza. Misael Banuelos s/n. 09001. Burgos. Spain
> Phone: 34-947-258817 FAX: 34-947-258831
> e-mail: acosa at ubu.es
> http://www2.ubu.es/quim/quimana/index.shtml
> ==================================================
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Sundar Dorai-Raj, Ph.D.     
Statistical Methods Engineer
PDF Solutions, Inc.
Dallas TX
(972) 889-3085 x216
(214) 392-7619 cell
sundar.dorai-raj at pdf.com
http://www.pdf.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deleeuw at stat.ucla.edu  Thu Jul  4 01:42:11 2002
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Wed, 3 Jul 2002 16:42:11 -0700
Subject: [R] Fwd: RMySQL and Mac OS X
Message-ID: <7EB1D646-8EDE-11D6-B590-000393860F3C@stat.ucla.edu>



Begin forwarded message:

> From: Arno Ouwehand <arno at stat.ucla.edu>
> Date: Wed Jul 3, 2002  16:00:54 America/Los_Angeles
> To: fernando.pineda at jhu.edu
> Cc: deleeuw at stat.ucla.edu
> Subject: RMySQL and Mac OS X
>
> I got it working, initially I had the same problem (using R1.5.0 and Mysql-3.23.49 )
> Then I installed the  R 1.5.1 MetaPackage from http://cran.stat.ucla.edu/bin/macosx/ and
> MySQL 3.23.51 from www.entropy.ch and RMySQL using the following command:
>
> sudo R CMD INSTALL --configure-args='--with-mysql-
> lib=/usr/local/mysql/lib --with-mysql-inc=/usr/local/mysql/include' RMySQL_0.4-6.tar.gz
>
> Then in R:
>
> > library(RMySQL)
> > m <- MySQL()
> >describe (m)
> <MySQLManager:(1924)>
>   Driver name:  MySQL
>   Max  connections: 10
>   Conn. processed: 0
>   Default records per fetch: 500
>   Open connections: 0
> > c <- dbConnect(m, dbname = "r", user="xxx", password="xxx")
> >describe(m)
> <MySQLManager:(1924)>
>   Driver name:  MySQL
>   Max  connections: 10
>   Conn. processed: 1
>   Default records per fetch: 500
>   Open connections: 1
> > s <- dbExecStatement(c, "select * from user")
> > data <- fetch(s, n = -1)
> > print (data)
>
> etc.
>
> Sincerely,
>
> Arno Ouwehand
> UCLA Department of Statistics
>
> p.s. Jan, maybe you could submit this to the r-help mailinglist
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From schutz at wehi.EDU.AU  Thu Jul  4 02:40:08 2002
From: schutz at wehi.EDU.AU (Frederic Schutz)
Date: Thu, 4 Jul 2002 10:40:08 +1000 (EST)
Subject: [R] Scientific notation
Message-ID: <Pine.GSO.4.21.0207041030360.20341-100000@wehiz.wehi.edu.au>

On Wed, 3 Jul 2002, ripley at stats.ox.ac.uk wrote: 

>> I'm writing a load of output to a file using cat(...), but I can't work
>> out how to turn off scientific notation for small numbers. When I
>> originally tried this a while a go I ended up building up a string
>> variable, which is rather clumsy...
>
> You can't in cat. The simplest idea is to use sprintf or formatC.

By the way, is the following result (R 1.5.0 and 1.5.1) expected ? As I
understand the help page (pasted below), format="fg" should not produce
numbers in the scientific format, but :

> formatC(9.4, digits=1, format="fg")
[1] " 9"
> formatC(9.5, digits=1, format="fg")
[1] "1e+01"
> formatC(9.9, digits=1, format="fg")
[1] "1e+01"
> formatC(10, digits=1, format="fg")
[1] "10"
> formatC(10.1, digits=1, format="fg")
[1] "10"
> formatC(10.9, digits=1, format="fg")
[1] "11"

>  format: equal to `"d"'  (for integers), `"f"', `"e"', `"E"', `"g"',
>          `"G"', `"fg"' (for reals), or `"s"' (for strings). Default is
>          `"d"' for integers, `"g"' for reals.
>
>          `"f"' gives numbers in the usual `xxx.xxx' format;  `"e"' and
>          `"E"' give `n.ddde+nn' or `n.dddE+nn' (scientific format);
>          `"g"' and `"G"' put `x[i]' into scientific format only if it
>          saves space to do so.
>
>          `"fg"' uses fixed format as `"f"', but `digits' as number of
>          significant digits.  Note that this can lead to quite long
>          result strings, see examples below.

Fr?d?ric
--
Fr?d?ric SCH?TZ                      email: schutz at wehi.edu.au
Genetics and Bioinformatics Group
The Walter and Eliza Hall Institute of Medical Research
Phone: +61 3 9345 2627               Fax: +61 3 9347 0852
Post Office
Royal Melbourne Hospital, 3050
Victoria, Australia

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marwan.khawaja at aub.edu.lb  Thu Jul  4 16:40:48 2002
From: marwan.khawaja at aub.edu.lb (Marwan Khawaja)
Date: Thu, 4 Jul 2002 07:40:48 -0700
Subject: [R] scatterplot3d
Message-ID: <CLECJBOEBGOMOKJHJNDAIEKECGAA.marwan.khawaja@aub.edu.lb>

Hello,
I am trying to plot a matrix (14 by 14) of some values, using

scatterplot3d(s3d.dat, type="h", pch=" ", lwd=20,
+   y.ticklabs=c("CA", "DS", "HO", "HA", "TA",
"LA","ED","AL","RE","DZ","HK","SW","DA","QU"),
+   x.ticklabs=c("CA", "DS", "HO", "HA", "TA",
"LA","ED","AL","RE","DZ","HK","SW","DA","QU"),
+   col.grid="lightblue", xlab="Origin", ylab="Destination", highlight.3d=TRUE,
main="Conditional Probabilities, Model3")

But I am having two problems with the labels: (1) only six labels are showing in
the graph, and
(2) some of the labels in the y axis are cluttered!

Is the solution to add xlim, ylim to the function -- so labels look nice?
I only receive the 'digest' so please cc directly to my address above.
TIA for your help
Marwan

--------------------------------------------------------------------------------
--------------------------------------------------------
Marwan Khawaja   -   http://webfaculty.aub.edu.lb/~mk36/     If you have MS
Internet Explorer!
--------------------------------------------------------------------------------
--------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jul  4 08:54:49 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 04 Jul 2002 08:54:49 +0200
Subject: [R] scatterplot3d
References: <CLECJBOEBGOMOKJHJNDAIEKECGAA.marwan.khawaja@aub.edu.lb>
Message-ID: <3D23F139.D808DED4@statistik.uni-dortmund.de>



Marwan Khawaja wrote:
> 
> Hello,
> I am trying to plot a matrix (14 by 14) of some values, using
> 
> scatterplot3d(s3d.dat, type="h", pch=" ", lwd=20,
> +   y.ticklabs=c("CA", "DS", "HO", "HA", "TA",
> "LA","ED","AL","RE","DZ","HK","SW","DA","QU"),
> +   x.ticklabs=c("CA", "DS", "HO", "HA", "TA",
> "LA","ED","AL","RE","DZ","HK","SW","DA","QU"),
> +   col.grid="lightblue", xlab="Origin", ylab="Destination", highlight.3d=TRUE,
> main="Conditional Probabilities, Model3")

Use the argument 'lab', so your code will be:

  scatterplot3d(..., lab = c(15, 15))

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metrinomics.de  Thu Jul  4 10:14:42 2002
From: c.schulz at metrinomics.de (Christian Schulz)
Date: Thu, 04 Jul 2002 10:14:42 +0200
Subject: [R] latex 
References: <C31235FCFBCCD411BD630008C7F33A5901127673@ACH_MAIL1>
Message-ID: <3D2403F2.7070407@metrinomics.de>

Thanks for the replies, and the recommendation to sweave what i'm
known and since 3 months test for my purposes !

Vera,
as a newbie  in latex  i have no problems with MikeTex /WinEdt !
http://www.winedt.com

In latex you can load additional packages, like in R........

The results in comparison to word are great,
and fancyhdr (use google !) is a nice package for page-layout.
Create a folder in your MikeTex installation.
i.e.
C:\texmf\tex\latex\fancyhdr
and copy the fanyhdrFile like fancyhdr.sty etc.  in this folder

hope this helps, christian

Vera, Graciella wrote:

>Hi,
>
>Not having used latex before I have to prepare a document and will only be
>able to work on windows. Would you by any chance have idea of a user
>friendly package. I found one in the internet but the files are so many that
>it is difficult to know which is current and essential. The size of the
>files is quite large.
>
>Thank you in advance for any help.
>G Vera
>
>>-----Original Message-----
>>From:	Christian Schulz [SMTP:c.schulz at metrinomics.de]
>>Sent:	03 July 2002 08:19
>>To:	r-help at stat.math.ethz.ch
>>Subject:	[R] latex
>>
>>Hi,
>>i'm a newbie with latex and postscript but recognize
>>the power in combination wit R .
>>
>>...current i don't now how i have to "inform" R1.5.0(patched) about my
>>MikeTex installation on windows 2000  and get following
>>
>>latex(table)
>>
>>Warning messages:
>>1: cat not found
>>2: cd not found
>>3: xdvi not found
>>
>>P.S. maybe i must define in Rprofile something ???
>>
>>Thanks for help and suggestions,
>>Christian
>>
>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
>>-.-.-
>>r-help mailing list -- Read
>>http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>Send "info", "help", or "[un]subscribe"
>>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
>>_._._
>>
>>_______
>>Confidentiality Notice
>>
>>This email (and any attachment) is intended only for the attention of the
>>addressee.  Its unauthorised use, disclosure, storage or copying is not
>>permitted.  If you are not the intended recipient, please destroy all
>>copies and inform the sender by return email.  Thank you
>>_________________________________________________________________
>>This email has been scanned for all viruses by the MessageLabs SkyScan
>>service. For more information on a proactive anti-virus service working
>>around the clock, around the globe, visit http://www.messagelabs.com
>>________________________________________________________________________
>>
>
>____
>Confidentiality Notice
>
>This email (and any attachment) is intended only for the attention of the addressee.  Its unauthorised use, disclosure, storage or copying is not permitted.  If you are not the intended recipient, please destroy all copies and inform the sender by return email.  Thank you
>____________________________________________________________________
>This email has been scanned for all viruses by the MessageLabs SkyScan
>service. For more information on a proactive anti-virus service working
>around the clock, around the globe, visit http://www.messagelabs.com
>________________________________________________________________________
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020704/a68f24a5/attachment.html

From humbertc at univ-mlv.fr  Thu Jul  4 10:13:03 2002
From: humbertc at univ-mlv.fr (Cyril Humbert)
Date: Thu, 4 Jul 2002 10:13:03 +0200
Subject: [R] operating on a subset of a dataframe
In-Reply-To: <20020703172915.GA24883@isis.visi.com>; from wilson@visi.com on Wed, Jul 03, 2002 at 12:29:15PM -0500
References: <20020703172915.GA24883@isis.visi.com>
Message-ID: <20020704101303.A17226@borneo.univ-mlv.fr>

Perhaps you could use the function subset().
See ?subset

Tim Wilson wrote:
> Hi everyone,
> 
> I've got a dataframe with columns of different types. A certain number
> of columns in the dataframe hold the results of a series of Likert-type
> items. I've got a function that will print a simple table of frequencies
> and I want to apply that function to those columns of the dataframe
> only. What's the best approach?
> 
> -Tim
> 
> -- 
> Tim Wilson      |   Visit Sibley online:   | Check out:
> Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
> W. St. Paul, MN |                          | http://slashdot.org
> wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From inam at man.ac.uk  Thu Jul  4 11:13:37 2002
From: inam at man.ac.uk (In-Sun Nam)
Date: Thu, 4 Jul 2002 10:13:37 +0100
Subject: [R] Protecting pointer; Rdefines.h
Message-ID: <001601c2233b$14c395c0$d2135882@inam>

Dear All,

I want to protect a pointer instead of its value and hope that someone can
confirm what I am thinking is okay.

If I want to assign a pointer "DTIME" as "OrigDTime" then should I do

PROTECT(*OrigDTime = NUMERIC_POINTER(*DTime))

??

Any help will be very much appreciated.


Sincerely,
In-Sun

In-Sun Nam
School of Pharmacy and Pharmaceutical Sciences
University of Manchester
Oxford Road
Manchester
M13 9PL


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From inam at man.ac.uk  Thu Jul  4 11:13:37 2002
From: inam at man.ac.uk (In-Sun Nam)
Date: Thu, 4 Jul 2002 10:13:37 +0100
Subject: [R] Protecting pointer; Rdefines.h
Message-ID: <001901c2233b$21ba5f20$d2135882@inam>

Dear All,

I want to protect a pointer instead of its value and hope that someone can
confirm what I am thinking is okay.

If I want to assign a pointer "DTIME" as "OrigDTime" then should I do

PROTECT(*OrigDTime = NUMERIC_POINTER(*DTime))

??

Any help will be very much appreciated.


Sincerely,
In-Sun

In-Sun Nam
School of Pharmacy and Pharmaceutical Sciences
University of Manchester
Oxford Road
Manchester
M13 9PL


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jan.wiener at tuebingen.mpg.de  Thu Jul  4 11:13:18 2002
From: jan.wiener at tuebingen.mpg.de (Jan Malte Wiener)
Date: Thu, 04 Jul 2002 11:13:18 +0200
Subject: [R] ANOVA and within subject designs
Message-ID: <3D2411AE.6010901@tuebingen.mpg.de>

hi,
i am trying to get the same results with aov() as with unix anova.
for some reason i can not figure out  what exact formula to use in my 
design.
my experiment is a within subject design with 2 factors (routeType and 
expBlock).

i tried:
summary(aov(formula= perf ~ expBlock * routeType + 
Error(Subject/(Block+RouteType)), data=anovaDataAll))

is there a mistake in the formula ????


my data.frame anovaDataAll looks like this

subject routeType 	block 	perf
1 
	1	1	0.6
2 
	1	1	0.5	
3 
	1	1
.
.
1 
	1	2	0.3	
2 
	1	2	0.2
3 
	1	2	0.7
.
.
.
1 
	2	1	0.4
2 
	2	1	0.3
3 
	2 
1 
0.6
.
.
.
1 
	2	2	0.4
2 
	2	2	0.3
3 
	2	2	0.6
.
.
.

  thanks for help !
jan wiener

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From inam at man.ac.uk  Thu Jul  4 11:13:37 2002
From: inam at man.ac.uk (In-Sun Nam)
Date: Thu, 4 Jul 2002 10:13:37 +0100
Subject: [R] Protecting pointer; Rdefines.h
Message-ID: <001a01c2233b$2b49e1a0$d2135882@inam>

Dear All,

I want to protect a pointer instead of its value and hope that someone can
confirm what I am thinking is okay.

If I want to assign a pointer "DTIME" as "OrigDTime" then should I do

PROTECT(*OrigDTime = NUMERIC_POINTER(*DTime))

??

Any help will be very much appreciated.


Sincerely,
In-Sun

In-Sun Nam
School of Pharmacy and Pharmaceutical Sciences
University of Manchester
Oxford Road
Manchester
M13 9PL


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oehl_list at gmx.de  Thu Jul  4 11:32:23 2002
From: oehl_list at gmx.de (Jens =?ISO-8859-1?Q?Oehlschl=E4gel?=)
Date: Thu, 4 Jul 2002 11:32:23 +0200 (MEST)
Subject: [R] How to receive German umlauts (8bitWestern) from SJava ?
Message-ID: <18545.1025775143@www10.gmx.net>


I have a problem with receiving a full 8bit characterset from SJava.

My R has 
> Sys.getlocale()
[1]
"LC_COLLATE=German_Germany.1252;LC_CTYPE=German_Germany.1252;LC_MONETARY=C;LC_NUMERIC=C;LC_TIME=German_Germany.1252"

I have a Java application reading 8bitWestern Character including German
Umlauts.

I read data with SJava to R and some characters do not arrive as desired but
as 2Byte characters, I guess UTF-8. 

Example
a b c A B C ? ? ? ? ? ? ? 
arrive as
a b c A B C ?? ?? ?? ?? ?? ?? ??

Can someone give advice how to receive the characters correctly (and fast)?

Thanks


Jens Oehlschl?gel


> version
         _              
platform i386-pc-mingw32
arch     i386           
os       Win32          
system   i386, mingw32  
status                  
major    1              
minor    5.1            
year     2002           
month    06             
day      17             
language R

-- 
GMX - Die Kommunikationsplattform im Internet.
http://www.gmx.net

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From steve.roberts at man.ac.uk  Thu Jul  4 15:13:06 2002
From: steve.roberts at man.ac.uk (Steve Roberts)
Date: Thu, 4 Jul 2002 14:13:06 +0100
Subject: [R] Script file editors for Windows - submit highlighted text?
Message-ID: <3D2457F1.20988.25965A@localhost>

Greetings,

I use S+, Stata, SAS and R depending on the weather...  The 
script file editors in S+, SAS and Stata all allow me to submit a 
portion of a developing script file to the running process. In R I have 
to use an external editor and either source the entire file or do lots 
of copy-and-pasting. Are there any editors out there which interface 
to R more closely and let me submit a section of code in one key 
(or mouse) stroke? Language-aware features would be nice as well! 
I know about EMACS/ESS but have never been able to get on with 
EMACS - when in Windoze I like my pointy-clicky interface!

Thanks for any pointers

Steve.

  Dr Steve Roberts 
  steve.roberts at man.ac.uk
+---------------------------------------------+-----------------------------------------------------+
| Senior Lecturer in Medical Statistics,      | Health Services Research Unit,                      |
| Biostatistics Group,                        | Central Manchester and Manchester                   |
| School of Epidemiology and Health Sciences, |  Children's University Hospitals NHS Trust,         |
| 2nd Floor,Stopford Building,                | 1st Floor, Postgraduate and Health Sciences Centre, |
| University of Manchester.                   | Manchester Royal Infirmary.                         |
| M13 9PT.                                    | M13 9WL.                                            |
| 0161 275 5192	                              | 0161 276 5785                                       |
+---------------------------------------------+-----------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Jul  4 13:01:39 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 4 Jul 2002 12:01:39 +0100
Subject: [R] "Best" Out of box Linux distro for R
In-Reply-To: <5.1.1.2.2.20020703133325.0249bd50@odin.pdx.edu>
References: <5.1.1.2.2.20020703133325.0249bd50@odin.pdx.edu>
Message-ID: <EuYJTIATsCJ9Ewmv@myatt.demon.co.uk>

Marc Feldesman <feldesmanm at pdx.edu> writes:
>At the risk of starting a holy war, I'd like opinions on the "best" current 
>Linux distribution to run "out of box" with current versions of R.  I note 
>rpms for various versions of RedHat, SUSE, Mandrake, and Debian.  I've had 
>experience with RH 7.1 & 7.2 and it hasn't been entirely pretty.  I 
>understand that 7.3 is a bit "better", but have also read that SUSE 8 may 
>be the most "complete".  I've also read of difficulties people have had 
>installing (compiling, linking, running?) R with current Debian 
>distributions.
>
>Since I have access to any of these distributions fairly inexpensively, I'm 
>seeking opinions from experienced users on which they've found to be the 
>"easiest" to use with R.  In particular, which versions come with all the 
>necessary compilation and linking tools as part of the standard 
>installation?  Which versions require updated tools?

I use SuSE 7.3 and R runs fine on that. The only problem is that the
SuSE specific RPMs lag a few versions behind current releases. This does
not appear to be true of RH and Debian. On a Linux point, SuSE is
currently closer to the Linux Standards Base (LSB) than most other
distros and that should make building and installing much easier in the
future. If you are happy compiling R yourself then it matter little what
distro you use as long as it is reasonably up to date (they will all
have the required compilation and linking tools), if you prefer packaged
binaries then go for the best supported distro and that is (currently)
RH or Debian. 

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul  4 15:53:32 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 4 Jul 2002 14:53:32 +0100 (BST)
Subject: [R] Script file editors for Windows - submit highlighted text?
In-Reply-To: <3D2457F1.20988.25965A@localhost>
Message-ID: <Pine.LNX.4.31.0207041447530.5847-100000@gannet.stats>

On Thu, 4 Jul 2002, Steve Roberts wrote:

> I use S+, Stata, SAS and R depending on the weather...  The
> script file editors in S+, SAS and Stata all allow me to submit a
> portion of a developing script file to the running process. In R I have
> to use an external editor and either source the entire file or do lots
> of copy-and-pasting.

Not on Windows:  you can display a file in RGui, highlight a portion and
submit it (with ^V).  Any volunteers to make it editable?

> Are there any editors out there which interface
> to R more closely and let me submit a section of code in one key
> (or mouse) stroke? Language-aware features would be nice as well!
> I know about EMACS/ESS but have never been able to get on with
> EMACS - when in Windoze I like my pointy-clicky interface!

See http://cran.r-project.org/other-software.html

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From umalvarez at fata.unam.mx  Thu Jul  4 16:07:19 2002
From: umalvarez at fata.unam.mx (Ulises Mora Alvarez)
Date: Thu, 4 Jul 2002 09:07:19 -0500 (CDT)
Subject: [R] ANOVA and within subject designs
In-Reply-To: <3D2411AE.6010901@tuebingen.mpg.de>
Message-ID: <Pine.LNX.4.33.0207040904190.6565-100000@athena.fata.unam.mx>

On Thu, 4 Jul 2002, Jan Malte Wiener wrote:

> hi,
> i am trying to get the same results with aov() as with unix anova.
> for some reason i can not figure out  what exact formula to use in my 
> design.
> my experiment is a within subject design with 2 factors (routeType and 
> expBlock).
> 
> i tried:
> summary(aov(formula= perf ~ expBlock * routeType + 
> Error(Subject/(Block+RouteType)), data=anovaDataAll))


TRY
summary(aov(perf ~ expBlock + routeType + Error(Subject/(Block + 
RouteType)), data = ...))

 
> is there a mistake in the formula ????
> 
> 
> my data.frame anovaDataAll looks like this
> 
> subject routeType 	block 	perf
> 1 
> 	1	1	0.6
> 2 
> 	1	1	0.5	
> 3 
> 	1	1
> .
> .
> 1 
> 	1	2	0.3	
> 2 
> 	1	2	0.2
> 3 
> 	1	2	0.7
> .
> .
> .
> 1 
> 	2	1	0.4
> 2 
> 	2	1	0.3
> 3 
> 	2 
> 1 
> 0.6
> .
> .
> .
> 1 
> 	2	2	0.4
> 2 
> 	2	2	0.3
> 3 
> 	2	2	0.6
> .
> .
> .
> 
>   thanks for help !
> jan wiener
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Ulises M. Alvarez
LAB. DE CHOQUES DEBILES
CENTRO DE FISICA APLICADA
Y TECNOLOGIA AVANZADA
umalvarez at fata.unam.mx

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jul  4 16:21:09 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Jul 2002 16:21:09 +0200
Subject: [R] Script file editors for Windows - submit highlighted text?
In-Reply-To: <3D2457F1.20988.25965A@localhost>
References: <3D2457F1.20988.25965A@localhost>
Message-ID: <x2u1nflgkq.fsf@biostat.ku.dk>

"Steve Roberts" <steve.roberts at man.ac.uk> writes:

> Greetings,
> 
> I use S+, Stata, SAS and R depending on the weather...  The 
> script file editors in S+, SAS and Stata all allow me to submit a 
> portion of a developing script file to the running process. In R I have 
> to use an external editor and either source the entire file or do lots 
> of copy-and-pasting. Are there any editors out there which interface 
> to R more closely and let me submit a section of code in one key 
> (or mouse) stroke? Language-aware features would be nice as well! 
> I know about EMACS/ESS but have never been able to get on with 
> EMACS - when in Windoze I like my pointy-clicky interface!

Try a recent version of Emacs/ESS and use its pointy-clicky
interface.... 

There are syntax highlighters for other editors, but I doubt any can
work as closely with the R process as ESS can. 

Even if C-c C-r for "ess-eval-region" is too hard to remember, there's a
menu entry for it in recent versions.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlorino at vet-alfort.fr  Thu Jul  4 16:32:26 2002
From: tlorino at vet-alfort.fr (tlorino@vet-alfort.fr)
Date: Thu, 4 Jul 2002 16:32:26 +0200
Subject: [R] Deriv and integrate
Message-ID: <84273223254.20020704163226@vet-alfort.fr>

 Dear R users,

I would like to express a function (with only one argument) as the integrate of its derivate.
For example, for y=x^2, I would like something like

integrate(deriv(~x^2,"x", function(x) NULL, formal=T),0,2)

which would give me... 4.

Thank you,
Tristan
---------------------- 
?cole Nationale V?t?rinaire d'Alfort - http://www.vet-alfort.fr,
T?l. 01 43 96 70 33
M?l. tlorino at vet-alfort.fr
Site personnel : http://daedale.free.fr

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Thu Jul  4 17:26:11 2002
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Thu, 4 Jul 2002 11:26:11 -0400
Subject: [R] R to Java - more than one R sesion?
In-Reply-To: <639DFA0F49F8D511BF010008C75DF1F012C37E@xmx4lonib.lonib.commerzbank.com>; from Krassimir.Vanguelov@CommerzbankIB.com on Wed, Jul 03, 2002 at 06:02:03PM +0100
References: <639DFA0F49F8D511BF010008C75DF1F012C37E@xmx4lonib.lonib.commerzbank.com>
Message-ID: <20020704112611.A27285@jessie.research.bell-labs.com>

Vanguelov, Krassimir wrote:
> .....
> I would like to use the opportunity to thank the omegahat developers for the
> great package and to ask them, whether it is possibles to create more than
> one R session from one Java method and keep their Global Environments
> separate? 
> 

Thanks.  Unfortunately, it is not possible to have two separate R
sessions or interpreters running within the same process.
One can create multiple instances of the Java class that
represents the R evaluator, but each of these Java objects
refer to the same R interpreter and its state.

The issue is with the global variables that R uses to implement the
interpreter. We are gradually moving towards having multiple R
interpreters and then this will allow exactly  what you want,
and also allow R to work more naturally when embedded
in a server context such as in Postgres, Apache, CORBA server, etc.
Hopefully this will happen by the end of the year.


Duncan


-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Thu Jul  4 17:41:49 2002
From: lancelot at sentoo.sn (Renaud Lancelot)
Date: Thu, 04 Jul 2002 15:41:49 +0000
Subject: [R] Script file editors for Windows - submit highlighted text?
References: <3D2457F1.20988.25965A@localhost> <x2u1nflgkq.fsf@biostat.ku.dk>
Message-ID: <3D246CBD.497E16C0@sentoo.sn>

I am using WinEdt (a commercial software) together with an R "plug-in"
available on CRAN (see download / other), and I am quite happy with it.

Best,

Renaud

Peter Dalgaard BSA wrote:
> 
> "Steve Roberts" <steve.roberts at man.ac.uk> writes:
> 
> > Greetings,
> >
> > I use S+, Stata, SAS and R depending on the weather...  The
> > script file editors in S+, SAS and Stata all allow me to submit a
> > portion of a developing script file to the running process. In R I have
> > to use an external editor and either source the entire file or do lots
> > of copy-and-pasting. Are there any editors out there which interface
> > to R more closely and let me submit a section of code in one key
> > (or mouse) stroke? Language-aware features would be nice as well!
> > I know about EMACS/ESS but have never been able to get on with
> > EMACS - when in Windoze I like my pointy-clicky interface!
> 
> Try a recent version of Emacs/ESS and use its pointy-clicky
> interface....
> 
> There are syntax highlighters for other editors, but I doubt any can
> work as closely with the R process as ESS can.
> 
> Even if C-c C-r for "ess-eval-region" is too hard to remember, there's a
> menu entry for it in recent versions.
> 
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml (Fran?ais)
http://www.cirad.fr/presentation/en/program-eng/prod-ani.shtml (English)

ISRA-LNERV                      tel    +221 832 49 02
BP 2057 Dakar-Hann              fax    +221 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From borchers at decrc.abb.de  Thu Jul  4 17:49:37 2002
From: borchers at decrc.abb.de (Hans W. Borchers)
Date: Thu, 04 Jul 2002 17:49:37 +0200
Subject: [R] Script file editors for Windows - submit highlighted
  text?
Message-ID: <5.1.0.14.0.20020704173650.00a7b138@del2s1.decrc.abb.de>

Use WinEDT with R-WinEDT Extension on Windows ... !

| I use S+, Stata, SAS and R depending on the weather... The
| script file editors in S+, SAS and Stata all allow me to submit a
| portion of a developing script file to the running process. In R I have
| to use an external editor and either source the entire file or do lots
| of copy-and-pasting. Are there any editors out there which interface
| to R more closely and let me submit a section of code in one key
| (or mouse) stroke? Language-aware features would be nice as well!
| I know about EMACS/ESS but have never been able to get on with
| EMACS - when in Windoze I like my pointy-clicky interface!
|
| Thanks for any pointers

Yes, there is one very nice Editor for Windows that can do almost exactly
what you want. It is the WinEDT editor (http://www.winedt.com) that is
known especially in the TeX/LaTeX community for Windows.

There is an R-WinEDT extension available on CRAN at the Software->Other
page (http://cran.r-project.org/other-software.html) and I am really a bit
astonished this is not better known.

It lets you select text (or the whole file) in the editor that will be
executed from an open R process by just one mouse click.

WinEDT is shareware and there is a demo version available for 30 days (and
more), and it costs about $30. I would say it's worth the money anyway.

Hans W. Borchers

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Jul  4 18:06:54 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 4 Jul 2002 09:06:54 -0700 (PDT)
Subject: [R] Deriv and integrate
In-Reply-To: <84273223254.20020704163226@vet-alfort.fr>
Message-ID: <Pine.A41.4.44.0207040904390.103234-100000@homer01.u.washington.edu>

On Thu, 4 Jul 2002 tlorino at vet-alfort.fr wrote:

>  Dear R users,
>
> I would like to express a function (with only one argument) as the integrate of its derivate.
> For example, for y=x^2, I would like something like
>
> integrate(deriv(~x^2,"x", function(x) NULL, formal=T),0,2)
>
> which would give me... 4.

 integrate(function(x) attr(deriv(~x^2,"x", function(x) NULL, formal=T)(x),
			    "gradient"),0,2)

will do it. The deriv() function is designed to produce derivatives for
optimisers, which is why it returns the function value with the derivative
as an attribute.

This does seem a strange thing to want to do...


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Jul  4 18:19:43 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 4 Jul 2002 09:19:43 -0700 (PDT)
Subject: [R] Protecting pointer; Rdefines.h
In-Reply-To: <001a01c2233b$2b49e1a0$d2135882@inam>
Message-ID: <Pine.A41.4.44.0207040908450.103234-100000@homer01.u.washington.edu>

On Thu, 4 Jul 2002, In-Sun Nam wrote:

> Dear All,
>
> I want to protect a pointer instead of its value and hope that someone can
> confirm what I am thinking is okay.
>
> If I want to assign a pointer "DTIME" as "OrigDTime" then should I do
>
> PROTECT(*OrigDTime = NUMERIC_POINTER(*DTime))
>

At least one of us is confused.  PROTECT is only relevant for objects
allocated on the R heap (eg with allocVector, allocString), and prevents
the location on the heap from being garbage collected.

NUMERIC_POINTER() applies to R objects (SEXPs) that are numeric vectors,
and returns an ordinary double * that doesn't need (and can't use)
PROTECTion, so  your suggested code is almost certainly wrong.

If you give more detail as to what you are really trying to do someone may
be able to help.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rg117 at ohm.york.ac.uk  Thu Jul  4 18:28:46 2002
From: rg117 at ohm.york.ac.uk (Rishabh Gupta)
Date: Thu, 4 Jul 2002 17:28:46 +0100
Subject: [R] grouping in scatterplot3d
References: <001901c2229a$e07a13c0$35892090@ohm.york.ac.uk> <3D230FF1.6F8150E0@statistik.uni-dortmund.de> <000b01c222a7$9d64b1a0$35892090@ohm.york.ac.uk> <3D23664B.D3369C1A@statistik.uni-dortmund.de>
Message-ID: <001301c22377$df433800$35892090@ohm.york.ac.uk>

Hi,
    Thanks very much for you reply.
My data has 3 independent variable and the fourth one is the group variable. I adapted the code that you gave me in the following
way (d is my original data structure, contains the grouping variables and independent variables)

G <- d$groupvariable
x <- t(d[11])
y <- t(d[12])
z <- t(d[13])

s3d <- scatterplot3d(x, y, z, type = "n")

for (g in unique(G))
{

    bxp.stx <- boxplot.stats(x[G==g])
    bxp.sty <- boxplot.stats(y[G==g])
    bxp.stz <- boxplot.stats(z[G==g])

    # whiskers
    lines(s3d$xyz.convert(bxp.stx$stats[c(3, 3)], bxp.sty$stats[c(3, 3)], bxp.stz$stats[c(1, 5)]))
    lines(s3d$xyz.convert(bxp.stx$stats[c(3, 3)], bxp.sty$stats[c(1, 5)], bxp.stz$stats[c(3, 3)]))
    lines(s3d$xyz.convert(bxp.stx$stats[c(1, 5)], bxp.sty$stats[c(3, 3)], bxp.stz$stats[c(3, 3)]))

    # box
    lines(s3d$xyz.convert(bxp.stx$stats[c(3, 3)], bxp.sty$stats[c(3, 3)], bxp.stz$stats[c(2, 4)]), lwd = 3)
    lines(s3d$xyz.convert(bxp.stx$stats[c(3, 3)], bxp.sty$stats[c(2, 4)], bxp.stz$stats[c(3, 3)]), lwd = 3)
    lines(s3d$xyz.convert(bxp.stx$stats[c(2, 4)], bxp.sty$stats[c(3, 3)], bxp.stz$stats[c(3, 3)]), lwd = 3)

    # median
    s3d$points3d(bxp.stx$stats[3], bxp.sty$stats[3], bxp.stz$stats[3], pch = 18, col = "red")
}


Just a thought. I understand that you wrote the scatterplot3d package. May be you could add a 3dboxplot function to that package
(something like the one above but better coding).
Many thanks for your help.

Rishabh

----- Original Message -----
From: "Uwe Ligges" <ligges at statistik.uni-dortmund.de>
To: "Rishabh Gupta" <rg117 at ohm.york.ac.uk>
Cc: <r-help at stat.math.ethz.ch>
Sent: Wednesday, July 03, 2002 10:02 PM
Subject: Re: [R] grouping in scatterplot3d


| Rishabh Gupta wrote:
| >
| > Hi,
| >     Thanks very much for your reply.
| > I think what I was hoping for was a 3d version of boxplot.
| > Box plot will give me a median, the quartiles and the upper
| > and lower range for each group. If there is a function that
| > would give me the same information but for 3d plots, that is
| > really what I was hoping for.
|
| Not really easy, but a quick hack can be done along the following lines
| with scatterplot3d (in CRAN package of the same name):
|
|  # data:
|  z <- rnorm(100)
|  x <- sample(1:5, size = 100, replace = TRUE) # categorial
|  y <- sample(1:5, size = 100, replace = TRUE) # categorial
|
|  # set up the plot without drawing, and save the returned functions
|  # (see ?scatterplot3d section "Values"):
|  s3d <- scatterplot3d(x, y, z, type = "n")
|
|  # Just a double loop, not speed issues if looping for such a plot -
|  # or plot cannot show anything:
|  for(i in unique(x)){
|    for(j in unique(y)){
|      # calculate boxplot stats for this each plot group:
|      bxp.st <- boxplot.stats(z[x==i & y==j])
|      l <- length(bxp.st$out)
|      # plot outliers:
|      if(length(bxp.st$out) > 0)
|        s3d$points3d(rep(i, l), rep(j, l), bxp.st$out)
|      # calculate "whiskers" and plot them:
|      lines(s3d$xyz.convert(c(i, i), c(j, j), bxp.st$stats[c(1, 5)]))
|      # calculate "box" and plot it:
|      lines(s3d$xyz.convert(c(i, i), c(j, j), bxp.st$stats[c(2, 4)]),
|        lwd = 3)
|      # plot the median:
|      s3d$points3d(i, j, bxp.st$stats[3], pch = 18, col = "red")
|    }
|  }
|
|
| Uwe Ligges
| -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
| r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
| Send "info", "help", or "[un]subscribe"
| (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
| _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
|

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vsxo at hotmail.com  Thu Jul  4 18:45:11 2002
From: vsxo at hotmail.com (Remy X.O. Martin)
Date: Thu, 04 Jul 2002 18:45:11 +0200
Subject: [R] rpart help please
Message-ID: <USTOSOC72WHCYW6Z5ZMGA1YD8MJONWT.3d247b97@mirage.college-de-france.fr>

Hi all,

I am trying to get to grips with rpart, and find it not very easy given the 
information that comes with the package. Contrary to e.g. the ctest package docs, it 
doesn't say when "an rpart" could be used, and/or how to interpret the results. Here  
are a few of the open questions I have:

1) Read in ?rpart: ...method: one of.... If y is a survival object... A similar 
fleeting reference is just above under 'na.action', and there is a y=TRUE argument to 
rpart itself. I *suppose* that this refers to a formula of the form y~x, with y being 
the dependent variable -- or is this a (minor) bug in the documentation?

2) It looks like rpart and aov are in a way complementary, and should to a certain 
degree give comparable results. Is there some "user's guide" document somewhere that 
describes this in language accessible to "generic scientists" (= non-statisticians)?

3) I just applied rpart to a dataset, and saw something that seems counter-intuitive 
at the least: a branch is made (n=84) between fac1=A (n=28) and fac1=B,C (n=56). The 
fac1=A branch is an end-node, the fac1=B,C branch is itself branched into fac1=C (n=
28) and (!) fac1=A,B (n=28)! According to the n-counts, there should be no more A in 
that latter branch (or in the fac1=B,C branch in general). Do I not understand 
something essential, or is this a bug (in the branch criterion label and/or the n-
count label)?

Thanks in advance!

RXO


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From inam at man.ac.uk  Thu Jul  4 18:56:47 2002
From: inam at man.ac.uk (In-Sun Nam)
Date: Thu, 4 Jul 2002 17:56:47 +0100
Subject: [R] Protecting pointer; Rdefines.h
References: <Pine.A41.4.44.0207040908450.103234-100000@homer01.u.washington.edu>
Message-ID: <001201c2237b$c8da6260$d2135882@inam>

Dear Mr. Lumley,

Many thanks for your reply; I am trying to change my existing C++ code to
this R comparable C++ code as it seems easier to call R funtion from the
latter set up (pg 27, Writing R extensions); Besides, I couldn't find any
example on using call_R. Ultimately, I want to call lsoda from my code to
solve differential equations.

This morning I was quite confused with the way that R handles pointers and
actual values, compared to that of C++. However, spending a day helped me a
bit.

Nonetheless, I wish that you may kindly clarify the concept of garbage
control; My main problem is that I do not have a clear definition of "R
heap".

1>
 For example, lets assume that an object "par" is a SEXP to be protected (pg
42; Writing R extensions);
however

tt = NUMERIC_POINTER(par)[0]

doesn't need to be. This was one thing that I did not quite understand why.
So it is because the righthand side is nothing more than a double?

2>
Another one is that
" It is a common mistake to believe that if you invoked PROTECT(p) at some
point then p is protected from then on, but that is not true once a new
object is assigned to p". (pg 29; Writing R extensions)

So I don't need to protect "par" again if I reassign

 NUMERIC_POINTER(par)[0]  = 2.0;

for example??


Thank you so much for your help.

In-Sun









----- Original Message -----
From: Thomas Lumley <tlumley at u.washington.edu>
To: In-Sun Nam <inam at man.ac.uk>
Cc: <R-help at stat.math.ethz.ch>
Sent: Thursday, July 04, 2002 5:19 PM
Subject: Re: [R] Protecting pointer; Rdefines.h


> On Thu, 4 Jul 2002, In-Sun Nam wrote:
>
> > Dear All,
> >
> > I want to protect a pointer instead of its value and hope that someone
can
> > confirm what I am thinking is okay.
> >
> > If I want to assign a pointer "DTIME" as "OrigDTime" then should I do
> >
> > PROTECT(*OrigDTime = NUMERIC_POINTER(*DTime))
> >
>
> At least one of us is confused.  PROTECT is only relevant for objects
> allocated on the R heap (eg with allocVector, allocString), and prevents
> the location on the heap from being garbage collected.
>
> NUMERIC_POINTER() applies to R objects (SEXPs) that are numeric vectors,
> and returns an ordinary double * that doesn't need (and can't use)
> PROTECTion, so  your suggested code is almost certainly wrong.
>
> If you give more detail as to what you are really trying to do someone may
> be able to help.
>
> -thomas
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul  4 19:04:30 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 4 Jul 2002 18:04:30 +0100 (BST)
Subject: [R] rpart help please
In-Reply-To: <USTOSOC72WHCYW6Z5ZMGA1YD8MJONWT.3d247b97@mirage.college-de-france.fr>
Message-ID: <Pine.LNX.4.31.0207041751200.6426-100000@gannet.stats>

On Thu, 4 Jul 2002, Remy X.O. Martin wrote:

> I am trying to get to grips with rpart, and find it not very easy given the
> information that comes with the package. Contrary to e.g. the ctest package docs, it
> doesn't say when "an rpart" could be used, and/or how to interpret the results. Here
> are a few of the open questions I have:

rpart is a contributed package ported from S-PLUS 6.x.  There is other
documentation on how to use it, and I suggest you search it out.

> 1) Read in ?rpart: ...method: one of.... If y is a survival object... A similar
> fleeting reference is just above under 'na.action', and there is a y=TRUE argument to
> rpart itself. I *suppose* that this refers to a formula of the form y~x, with y being
> the dependent variable -- or is this a (minor) bug in the documentation?

y is the conventional name in statistics for the response variable.

> 2) It looks like rpart and aov are in a way complementary, and should to a certain
> degree give comparable results. Is there some "user's guide" document somewhere that
> describes this in language accessible to "generic scientists" (= non-statisticians)?

There are some good introductions to doing statistics in R, and at least
one of them covers aov and rpart in depth.  And there is an FAQ for R.

> 3) I just applied rpart to a dataset, and saw something that seems counter-intuitive
> at the least: a branch is made (n=84) between fac1=A (n=28) and fac1=B,C (n=56). The
> fac1=A branch is an end-node, the fac1=B,C branch is itself branched into fac1=C (n=
> 28) and (!) fac1=A,B (n=28)! According to the n-counts, there should be no more A in
> that latter branch (or in the fac1=B,C branch in general). Do I not understand
> something essential, or is this a bug (in the branch criterion label and/or the n-
> count label)?

It is correct, so it looks as if you `do not understand something
essential'.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vsxo at hotmail.com  Thu Jul  4 20:13:02 2002
From: vsxo at hotmail.com (Remy X.O. Martin)
Date: Thu, 04 Jul 2002 20:13:02 +0200
Subject: [R] rpart help please
In-Reply-To: <Pine.LNX.4.31.0207041751200.6426-100000@gannet.stats>
Message-ID: <VPWVFCMHRLNHOM7A77LJB214NKC8.3d24902e@mirage.college-de-france.fr>

2002/07/04 19:04:30, <ripley at stats.ox.ac.uk> wrote:

>There are some good introductions to doing statistics in R, and at least
>one of them covers aov and rpart in depth.  And there is an FAQ for R.

Hmm... indeed, there is an example just under half a page long on rpart in "Using R 
for Data Analysis and Graphics". The other documents on the "Contributed Documents" 
page do not mention it, nor does the FAQ, by the way. The FAQ does contain a pointer 
to the MASS3 page. Other than the online complement to the book on that page, I 
haven't seen anything in the FAQ that promises to be a freely available "good 
introduction to doing statistics in R" (for the generic scientist...)

[...]

>> that latter branch (or in the fac1=B,C branch in general). Do I not understand
>> something essential, or is this a bug (in the branch criterion label and/or the n-
>> count label)?
>
>It is correct, so it looks as if you `do not understand something
>essential'.

Well, then I will reword my question as: what are good, freely (online) available 
introductions to statistics in R for the generic scientist, and where can they be 
found if not via google and the like?

RXO



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vsxo at hotmail.com  Thu Jul  4 20:31:05 2002
From: vsxo at hotmail.com (Remy X.O. Martin)
Date: Thu, 04 Jul 2002 20:31:05 +0200
Subject: [R] random generators - curiosity
Message-ID: <EZYQLIHKH063V1WE05308UO2QP5ZHC.3d249469@mirage.college-de-france.fr>

Hi again,

This is just out of pure curiosity:
I came across the documentation of the various random generators in R and saw that 
the entropy-based kernel random generator available on Linux, Solaris and some other 
OSes is not by default available. (This generators random values based on the entropy 
associated with all IO that is handled by the kernel -- this includes TCP/IP 
packets.) There are solutions for systems that do not have this functionality by 
default (see the OpenSSH documentation).
Is there a specific reason why this generator isn't used, and if so, which?

RXO


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Jul  4 20:46:56 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 04 Jul 2002 11:46:56 -0700
Subject: [R] rpart help please
In-Reply-To: <VPWVFCMHRLNHOM7A77LJB214NKC8.3d24902e@mirage.college-de-france.fr>
References: <VPWVFCMHRLNHOM7A77LJB214NKC8.3d24902e@mirage.college-de-france.fr>
Message-ID: <87znx7qqjj.fsf@jeeves.blindglobe.net>

>>>>> "remy" == Remy X O Martin <Remy> writes:

    remy> Well, then I will reword my question as: what are good,
    remy> freely (online) available introductions to statistics in R
    remy> for the generic scientist, and where can they be found if
    remy> not via google and the like?

And why should it be freely available?  Someone has to write it;
that's hard.  I've heard of proposals to write such a book, but it
won't be free.  I'm not seeing any support for such a project
commercially, nor is there formal academic credit in general for such
(at least not compared to the effort required to make it good, not
just adequate), which might be the other

There are good (though not perfect) introductions in the contrib
section of CRAN.  There are plenty of "textbooks" on the WWW, in
various degrees of quality.  

Any scientist has to put in for research equipment.  I've never heard
of RT-PCR machines being free, nor the computers, nor most tools for
most endeavors.  Why should statistical tools (knowledge as well as
software) be treated in the same way?  

"Statistics, anyone can do that; you provide a service, you aren't
part of the scientific team, we don't need to provide you with tools,
since it's more important to pick up reagent X, or our own new Win XP
laptops, or an additional conference...".

Thankfully, it's been a long while since I've worked with such
folk..., though I get inquiries from them, thanks to the two
(incomplete, and of marginal/poor quality compared to contemporary
work) WWW-texts that I wrote nearly 6 years ago, and have made
freely available.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vsxo at hotmail.com  Thu Jul  4 21:28:09 2002
From: vsxo at hotmail.com (Remy X.O. Martin)
Date: Thu, 04 Jul 2002 21:28:09 +0200
Subject: [R] rpart help please
In-Reply-To: <87znx7qqjj.fsf@jeeves.blindglobe.net>
Message-ID: <TPRN3LHCTXVYUFCMJSC82XT96A7.3d24a1c9@mirage.college-de-france.fr>

2002/07/04 20:46:56, rossini at blindglobe.net (A.J. Rossini) wrote:

>And why should it be freely available?  Someone has to write it;

  I added this specification because I understood I had to be concise, precise and 
specific in order to get an appropriate answer :) Besides, I'd rather prevent 
having to go through the administrative ordeals of ordering books, and use the time 
I have until my next big project to improve on my stats...

>that's hard.  I've heard of proposals to write such a book, but it
>won't be free.  I'm not seeing any support for such a project
>commercially, nor is there formal academic credit in general for such
>(at least not compared to the effort required to make it good, not
>just adequate), which might be the other

I understand what you want to say, with a few major "buts". First, R itself is 
free. It has an large amount of equally free documentation, that is probably 
adequate for statisticians. Then, of course, science itself is for the most part 
free. What we pay for is access to results of colleagues (who usually don't get 
very rich out of it :)). Have you heard of the Budapest Open Access Initiative? 
Books are arguably different, but then there are "plenty of \"textbooks\"" 
available on various subjects, often in fact whole courses of considerable quality. 
Mind you: I'm not saying we should all work for free.

There has been a lot of talk about R GUIs and their use in teaching; I think that 
the sort of documention I have in mind  (or a self-explaining [g]ui) should be 
included in these considerations.

>There are good (though not perfect) introductions in the contrib
>section of CRAN.  There are plenty of "textbooks" on the WWW, in
>various degrees of quality.

The introductions on CRAN are indeed mostly good, but (necessarily) concise and in 
many cases do not explain the examples they give, suggesting they are primarily 
intended for (student) statisticians. As to the textbooks on the web: wouldn't it 
be a good idea to put links to the better among them in that same CRAN section??

>Any scientist has to put in for research equipment.  I've never heard
>of RT-PCR machines being free, nor the computers, nor most tools for
>most endeavors.  Why should statistical tools (knowledge as well as
>software) be treated in the same way?

So then what exactly is the price of knowledge, and what its currency...?
Other than that, I agree. So a colleague pays dearly for his yearly SAS license 
just because he needs an anova that can handle varying samples-per-subject. 
(Something I'm sure R can do, but wouldn't know how.)

>"Statistics, anyone can do that; you provide a service, you aren't
>part of the scientific team, we don't need to provide you with tools,
>since it's more important to pick up reagent X, or our own new Win XP
>laptops, or an additional conference...".
>
>Thankfully, it's been a long while since I've worked with such
>folk..., though I get inquiries from them, thanks to the two

 I hope you're not counting me among them! I can only wish there were a statistics 
department in the institution I work in (a Prestiguous French College founded by 
Franois Ier), where I could get the help I (sometimes) need. Rather than that, 
each lab hires its own cleaning personel...

Thanks anyway for your reaction :)

Best,
RXO



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kriskumar at mailandnews.com  Thu Jul  4 22:24:32 2002
From: kriskumar at mailandnews.com (krishna kumar)
Date: Thu, 4 Jul 2002 16:24:32 -0400
Subject: [R] tseries library coredumps on redhat6.1
Message-ID: <3D24AF6D@mailandnews.com>

Folks,

I have used the tseries library before on windoze , i tried using it on
a R-1.3 installation on redhat 6.1 , [on which other libraries like 
wavethresh,boot etc work smoothly] but when i do a

> library(tseries) 
it coredumps...

any pointers help in this matter appreciated.

cheers
krishna

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From epino21 at yahoo.com  Thu Jul  4 22:27:34 2002
From: epino21 at yahoo.com (elizabeth pino)
Date: Thu, 4 Jul 2002 13:27:34 -0700 (PDT)
Subject: [R] help 
Message-ID: <20020704202734.6755.qmail@web20605.mail.yahoo.com>

Hello: 
    Can you tell me how to do a regression
   that include a binary variable in the function lm
or some other?. 
 thank you for any help.

Elizabeth 

__________________________________________________

Sign up for SBC Yahoo! Dial - First Month Free

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Jul  4 23:04:00 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 04 Jul 2002 14:04:00 -0700
Subject: [R] rpart help please
In-Reply-To: <TPRN3LHCTXVYUFCMJSC82XT96A7.3d24a1c9@mirage.college-de-france.fr>
References: <TPRN3LHCTXVYUFCMJSC82XT96A7.3d24a1c9@mirage.college-de-france.fr>
Message-ID: <87n0t7qk73.fsf@jeeves.blindglobe.net>

>>>>> "remy" == Remy X O Martin <Remy> writes:


    remy> I understand what you want to say, with a few major
    remy> "buts". First, R itself is free. It has an large amount of
    remy> equally free documentation, that is probably adequate for
    remy> statisticians. Then, of course, science itself is for the
    remy> most part free. What we pay for is access to results of
    remy> colleagues (who usually don't get very rich out of it
    remy> :)). Have you heard of the Budapest Open Access Initiative? 
    remy> Books are arguably different, but then there are "plenty of
    remy> \"textbooks\"" available on various subjects, often in fact
    remy> whole courses of considerable quality. Mind you: I'm not
    remy> saying we should all work for free.

Science is RARELY free, unless you have access to prestigious
personnel.  Second, R is "free" only by certain definitions.  It still
costs time and effort to learn how to use; your example of SAS
licensing is perfect.  I had a wonderful conversation with a colleague
yesterday who would be happy to use R if she could find a fairly
complete book on "how to do graphics" in R, to the same extent that
SAS's manuals exist.  Sure, I can answer nearly all of her questions
(and some of the ones she hasn't realized she needs to ask, yet), but
that won't get the job done -- the few thousands of dollars spent on
SAS and the books are cheap compared with her salary (or my time).

    remy> There has been a lot of talk about R GUIs and their use in
    remy> teaching; I think that the sort of documention I have in
    remy> mind (or a self-explaining [g]ui) should be included in
    remy> these considerations.

I would suggest that you (or others) could start plans for one.  Part
of the benefit of writing books or other manuscripts, is that in the
process of clarity, you can gain insight into what you do not
understand, or specifying what is needed.  There are plenty of people
on this list who are happy to provide occassional (free) help for such
attempts.  But they'd like to see the effort first!

    remy> The introductions on CRAN are indeed mostly good, but
    remy> (necessarily) concise and in many cases do not explain the
    remy> examples they give, suggesting they are primarily intended
    remy> for (student) statisticians. As to the textbooks on the web:
    remy> wouldn't it be a good idea to put links to the better among
    remy> them in that same CRAN section??

Then why don't you go through them, and try to phrase what is missing?
I'm sure that the authors would appreciate insight, especially in the
form of contributed sections or examples, even if not necessarily
correct (they'd at least be more easily correctable than by doing it
from scratch.

Yes, it does take time, but everything takes time.  Now find someone
with the knowledge to do that, and it's difficult to let them find the
time.  Help them out, support current projects (esp documentation
projects), and contribute.  

Suggesting projects is pretty silly; nearly any project suggestable
can be approximately solved, though by tools you might not care to
use...  (i.e. the GUI part -- it is solved, though people don't care
to learn LISP or Emacs to contribute the little part remaining --
they'd rather roll their own solutions).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrysopa at insecta.ufv.br  Thu Jul  4 23:51:19 2002
From: chrysopa at insecta.ufv.br (Ronaldo Reis Jr.)
Date: Thu, 4 Jul 2002 18:51:19 -0300
Subject: [R] doubt about DF in survival model
Message-ID: <200207041851.19727.chrysopa@insecta.ufv.br>

Hi all,

I have this,

Weibull distribution
n= 1000

> anova(pk.m0)
     Df Deviance Resid. Df   -2*LL P(>|Chi|)
NULL NA       NA       999 1451.31        NA

> anova(pk.m0,pk.m1)
      Terms Resid. Df    -2*LL    Test Df   Deviance    P(>|Chi|)
1         1       998 1451.310         NA         NA           NA
2      seed       996 1229.714          2  221.59557 7.605594e-49

With   n=1000,
Df of  Null Model (pk.m0) = 999, it is ok, to me.

But, when I put together Null Model (pk.m0) and the Seed Model (pk.m1),
Df of the Null model changed to 998.

My question is, why it does happen?

Thanks
inte
Ronaldo
-- 
An avocado-tone refrigerator would look good on your resume.
--
|   //|\\   [*****************************][*******************]
|| ( ? ? )  [Ronaldo Reis J?nior          ][PentiumIII-600     ]
|     V     [ESALQ/USP-Entomologia, CP-09 ][HD: 30 + 10 Gb     ]
||  / l \   [13418-900 Piracicaba - SP    ][RAM: 128 Mb        ]
|  /(lin)\  [Fone: 19-429-4199 r.229      ][Video: SiS620-8Mb  ]
||/(linux)\ [chrysopa at insecta.ufv.br      ][Modem: Pctel-onboar]
|/ (linux) \[ICQ#: 5692561                ][SO: CL 7.0 (2.2.19)]
||  ( x )   [*****************************][*******************]
||| _/ \_Powered by Conectiva Linux 7.0 D+:) | Lxuser#: 205366

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Rob.Balshaw at syreon.com  Fri Jul  5 01:26:49 2002
From: Rob.Balshaw at syreon.com (Robert Balshaw)
Date: Thu, 4 Jul 2002 16:26:49 -0700
Subject: [R] Configuring ESS for SAS on Win NT & Win 2000
In-Reply-To: <87n0t7qk73.fsf@jeeves.blindglobe.net>
Message-ID: <NFBBIINHNJMJKENFNIIDGEEECNAA.Rob.Balshaw@syreon.com>

My apologies for the off-topic post, but this seemed the most likely place to
find relevant expertise.

Is there anyone who would be able to assist me in configuring GNU Emacs, ESS,
and SAS on my Windows NT and Windows 2000 machines?

I have been successful running R in ESS, thanks to the excellent examples I've
found for helping with .emacs and related files.

SAS, however, seems to be a horse of a different colour.

Thus far, I can edit .sas files using ESS. However, when I call for SAS (
Alt-X SAS"), Emacs responds:

apply: Spawning child process: invalid argument

(the above copied from the *Messages* buffer).

I suspect this is due to problems with some variable associated with
inferior-SAS-program-name or inferior-SAS-args, but I'm getting in over my head,
here.

Thanks for any pointers - I'd be delighted to be told to read 'document X'.  So
far, the online documents I've read and the documents embedded within ESS 'docs'
directory appear to assume a Unix environment.

Cheers,

Rob

P.S.  I will summarize any discoveries/imparted wisdoms to the group, so feel
free to respond directly.

-- Robert Balshaw, Ph.D.
-- Senior Biostatistician, Syreon Corp.
-- Phone: (604) 822-5199; Fax: (604) 822-5911

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zedshaw at zedshaw.com  Fri Jul  5 01:39:41 2002
From: zedshaw at zedshaw.com (Zed A. Shaw)
Date: Thu, 04 Jul 2002 16:39:41 -0700
Subject: [R] re: GUI's for teaching
In-Reply-To: <3D18385C.FA28058A@agric.uwa.edu.au>
Message-ID: <B94A2ACD.16C1%zedshaw@zedshaw.com>

Hi Folks,

I'm sorry I missed this message.  Myself and a Professor at a California
university are currently designing a simplified R GUI that is targeted at
Linux, FreeBSD, MacOSX, and Windows and will provide an interface to doing
"canned" procedures and project based operations.  I'm currently building
the initial interface design and then we will start a project on sourceforge
for it.  The project will be opensource and used to teach MBA students in
statistics courses.

The tentative name for it is obveRsive woRkbench, and it is currently way to
early to even guess at a release date or even if the project is actually
feasible.  Since the project will be open source, I'm hoping to get a few
collaborators on it (hint hint).  It will be hosted on sourceforge or an
equivalent when we are ready.

We are planning to do the following:

1.  Have various output viewing capabilites, but mostly an HTML/graphics
viewer.
2.  Project based operation, where students can organize their work by
projects.
3.  Very simple data editing capabilities for different data types.
4.  Dynamic "canned" routines with point-and-click-fill-in-dummy-form
operations.  The routines will be extendable, so you'll be able to add your
own when you need.
5.  Using the CRAN update/install facility to make it easy to install new
obveRsive packages.
6.  Utilizing a cross platform GUI system, either FLTK or wxWindows in C++
or Java (depending on which is easier and more stable).
7.  Heavily user tested with a focus on usability, targeting students and
regular folks, not professors of statistics :-)

Any commments on this are more than welcome, and we'll be announcing it
officially soon.

Zed A. Shaw
University of British Columbia


On 6/25/02 2:31 AM, "Rohan Sadler" <rsadler at agric.uwa.edu.au> wrote:

> Dear All,
> 
> This is a question to sound out possibilities.
> 
> I am with the Faculty of Natural and Agricultural Sciences at the
> University of Western Australia, representing a few of the more
> statistically minded in the faculty. Essentially, there have been
> problems in the past with software support, changing over statistical
> software, and paying lots of money for it. In R you have an advanced
> statistical software package, it is free and it is adaptable. Also the
> maths department at UWA is using it on an informal basis and so support
> over the long term is available. The only reason why the faculty is not
> using R as a whole is because there is no GUI equivalent to
> Minitab/SPLUS/Genstat in R that can be used for undergraduate teaching
> purposes (unless I'm seriously mistaken). In RWindows there is the GUI,
> but it is not designed to carry statistical functions with buttons for
> options and this is what is needed for low statistical level undergrads.
> There is RWeb, but at this stage of development you wont find many
> takers in the faculty.
> 
> What I want to know is this: can anyone give me a quote on what it will
> cost to develop a RWindows clone of the Minitab GUI. This GUI would
> support initially the simple six (EDA, probabilities and quantiles of
> distributions, t-tests,one-way anova, chi-square, and simple linear
> regression), and have the potential to develop into the next level of
> statistical analysis (glms, multivariate methods, time series and
> spatial - analytical problems common across our faculty). If the cost of
> development is comparable to present licence maintenance fees at FNAS
> then I think our small group can argue for its adoption. Not only that,
> the benefits to undergraduate teaching in other universities would be
> immense. If development costs are high then other faculties at other
> universities, where the software licencing arrangements are also
> troublesome, are also invited to participate in this potential project.
> 
> I imagine this question has been discussed before, but I hope to have
> but an interesting turn to it.
> 
> Regards
> 
> Rohan Sadler
> Ecosystems Research Group
> School of Plant Biology (Botany)
> Faculty of Natural and Agricultural Sciences
> 
> +61 8 9380 7914
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.>
-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.>
_

-- 
Zed A. Shaw


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Fri Jul  5 01:51:00 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 04 Jul 2002 16:51:00 -0700
Subject: [R] Configuring ESS for SAS on Win NT & Win 2000
In-Reply-To: <NFBBIINHNJMJKENFNIIDGEEECNAA.Rob.Balshaw@syreon.com>
References: <NFBBIINHNJMJKENFNIIDGEEECNAA.Rob.Balshaw@syreon.com>
Message-ID: <87elejqcgr.fsf@jeeves.blindglobe.net>

>>>>> "robert" == Robert Balshaw <Rob.Balshaw at syreon.com> writes:

    robert> My apologies for the off-topic post, but this seemed the
    robert> most likely place to find relevant expertise.

Not even close (to being the most likely).  Try the ESS-help mailing
list.  Neither Rich nor Rodney read this list very much.  Note that
what you are asking might be beyond SAS for win2k.  (I think that
there is a batch-submission mode, but it isn't really the
"interactive" version that exists on Unix).

doc/README.SAS or the texinfo files in doc directory for more
information (in the ESS unpacked directory).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.darnell at shrs.uq.edu.au  Fri Jul  5 02:02:00 2002
From: r.darnell at shrs.uq.edu.au (Ross Darnell)
Date: 05 Jul 2002 10:02:00 +1000
Subject: [R] write.table error
Message-ID: <m0adp7nitj.fsf@localhost.localdomain>

I am getting the following when trying to write a dataframe to a file.

I would appreciate any advice to where the problem lies.

Thanks

Ross Darnell
> write.table(all,file="agree.csv",row.names=F)
Error in "rownames<-"(*tmp*, value = row.names(x)) :
    length of dimnames[1] not equal to array extent
> is.data.frame(all)
[1] TRUE
> dim(all)
[1] 854  18
> length(row.names(all))
[1] 854
>
> R.version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    5.0              
year     2002             
month    04               
day      29               
language R                
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Fri Jul  5 02:37:03 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Thu, 04 Jul 2002 21:37:03 -0300
Subject: [R] help 
In-Reply-To: <20020704202734.6755.qmail@web20605.mail.yahoo.com>
Message-ID: <4.2.2.20020704213211.00a9b890@pop3.arnet.com.ar>

Define the variable as a factor.
Suppose you have a response 'y' and a regressor 'x' that has the binary 
variables, then do:

lm(y ~ as.factor(x));

This is also valid for any categorical variable, not only for binary variables.

The function factor() may also be of interest to you.

At 01:27 PM 4/7/2002 -0700, elizabeth pino wrote:
>Hello:
>     Can you tell me how to do a regression
>    that include a binary variable in the function lm
>or some other?.
>  thank you for any help.
>
>Elizabeth

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul  5 08:10:27 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 5 Jul 2002 07:10:27 +0100 (BST)
Subject: [R] write.table error
In-Reply-To: <m0adp7nitj.fsf@localhost.localdomain>
Message-ID: <Pine.LNX.4.31.0207050701400.13551-100000@gannet.stats>

You gien us nothing to reproduce this with, and other examples work.
R does have debugging tools that would allow you to investigate this.
In particular, as rownames<- is not actually used in write.table,
the result of traceback() is the minimum that is needed when reporting an
error.

Just one possbility: it should be `row.names=FALSE', and if you had a
variable called F this might be the explanation.

On 5 Jul 2002, Ross Darnell wrote:

> I am getting the following when trying to write a dataframe to a file.
>
> I would appreciate any advice to where the problem lies.
>
> Thanks
>
> Ross Darnell
> > write.table(all,file="agree.csv",row.names=F)
> Error in "rownames<-"(*tmp*, value = row.names(x)) :
>     length of dimnames[1] not equal to array extent
> > is.data.frame(all)
> [1] TRUE
> > dim(all)
> [1] 854  18
> > length(row.names(all))
> [1] 854
> >
> > R.version
>          _
> platform i686-pc-linux-gnu
> arch     i686
> os       linux-gnu
> system   i686, linux-gnu
> status
> major    1
> minor    5.0
> year     2002
> month    04
> day      29
> language R
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jan.wiener at tuebingen.mpg.de  Fri Jul  5 10:35:50 2002
From: jan.wiener at tuebingen.mpg.de (Jan Malte Wiener)
Date: Fri, 05 Jul 2002 10:35:50 +0200
Subject: [R] aov() and NaN
Message-ID: <3D255A66.2020508@tuebingen.mpg.de>

hi,
another anova question !!
how does aov() treat missing values ?

since it might depend on my experimental design:
i have a within subject design with two factors ...

i use aov() like this:

aov(performance~type*block+Error(subj/(type+block)),data=anovaData)

now it might happen that i have a couple of NaN data points in my result 
dataFrame.
how can i know/control how aov() is treating those missing values ?

greetinx jan






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul  5 10:49:47 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 5 Jul 2002 09:49:47 +0100 (BST)
Subject: [R] aov() and NaN
In-Reply-To: <3D255A66.2020508@tuebingen.mpg.de>
Message-ID: <Pine.LNX.4.31.0207050947060.18503-100000@gannet.stats>

aov does not.  It's na.action argument does.  It is dscribed on the help
page for lm, which ?aov refers to.

BTW, missing values in R are not the same thing as NaNs, but for this
purpose NaNs are treated as missing.

On Fri, 5 Jul 2002, Jan Malte Wiener wrote:

> hi,
> another anova question !!
> how does aov() treat missing values ?
>
> since it might depend on my experimental design:
> i have a within subject design with two factors ...
>
> i use aov() like this:
>
> aov(performance~type*block+Error(subj/(type+block)),data=anovaData)
>
> now it might happen that i have a couple of NaN data points in my result
> dataFrame.
> how can i know/control how aov() is treating those missing values ?
>
> greetinx jan
>
>
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Fri Jul  5 11:10:32 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 5 Jul 2002 10:10:32 +0100
Subject: [R] help
In-Reply-To: <20020704202734.6755.qmail@web20605.mail.yahoo.com>
References: <20020704202734.6755.qmail@web20605.mail.yahoo.com>
Message-ID: <kKeB6RAIKWJ9EwgO@myatt.demon.co.uk>

elizabeth pino <epino21 at yahoo.com> writes:
>Hello: 
>    Can you tell me how to do a regression
>   that include a binary variable in the function lm
>or some other?. 
> thank you for any help.
>
>Elizabeth 


Two ways:

(1)

Make sure your binary variable is coded 0 / 1 and specify it in the model formula.

As example data, add a binary (0/1) dummy variable to the example 'cars' data:


  data(cars)
  new.cars <- transform(x = cars, 
                        dummy = round(runif(n = nrow(cars), min = 0, max = 1)))

  new.cars


Then us lm() specifying the dummy variable in the model formula:

  dummy.lm <- lm(dist ~ speed + dummy, data = new.cars)
  summary(dummy.lm)


(2)

Have a look at factors in the help system. R handles these in model formula and
there is no need for the dummy variable to be coded 0 / 1. In this example the
dummy variable is non-numeric:

  new.cars$dummy2 <- ifelse(new.cars$dummy == 0, "ZERO", "NON-ZERO")
  new.cars
  dummy2.lm <- lm(dist ~ speed + as.factor(dummy2), data = new.cars)
  summary(dummy2.lm)


Hope that helps,

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jan.wiener at tuebingen.mpg.de  Fri Jul  5 12:46:58 2002
From: jan.wiener at tuebingen.mpg.de (Jan Malte Wiener)
Date: Fri, 05 Jul 2002 12:46:58 +0200
Subject: [R] aov() and NaN
References: <Pine.LNX.4.31.0207050947060.18503-100000@gannet.stats>
Message-ID: <3D257922.4040509@tuebingen.mpg.de>

ripley at stats.ox.ac.uk wrote:
> aov does not.  It's na.action argument does.  It is dscribed on the help
> page for lm, which ?aov refers to.
> 
> BTW, missing values in R are not the same thing as NaNs, but for this
> purpose NaNs are treated as missing.
> 
> On Fri, 5 Jul 2002, Jan Malte Wiener wrote:
> 
> 
>>hi,
>>another anova question !!
>>how does aov() treat missing values ?
>>
>>since it might depend on my experimental design:
>>i have a within subject design with two factors ...
>>
>>i use aov() like this:
>>
>>aov(performance~type*block+Error(subj/(type+block)),data=anovaData)
>>
>>now it might happen that i have a couple of NaN data points in my result
>>dataFrame.
>>how can i know/control how aov() is treating those missing values ?
>>
>>greetinx jan


Yes, I tried using na.action=na.exclude (na.fail, na.omit).
obviously with na.fail I do not get any results, but with the other 
arguments I always get the same results, which are different from spss 
results
The results are not only different from spss, aov() behaves strange also 
(look at the "Error: subj:type" or "Error: subj:block" section ...)

summary(aov(perf~type*block+Error(subj/(type+block)), 
na.action=na.omit,data=anovaDataAllSubjCorrNav))


Error: subj
           Df  Sum Sq Mean Sq F value Pr(>F)
type       1 0.25032 0.25032  2.4855 0.1314
Residuals 19 1.91355 0.10071

Error: subj:type
           Df  Sum Sq Mean Sq F value Pr(>F)
type       1 0.03227 0.03227  0.3140 0.5818
block      1 0.15184 0.15184  1.4774 0.2391
Residuals 19 1.95268 0.10277

Error: subj:block
            Df  Sum Sq Mean Sq F value Pr(>F)
block       1 0.06253 0.06253  0.8086 0.3798
type:block  1 0.22826 0.22826  2.9520 0.1020
Residuals  19 1.46914 0.07732

Error: Within
            Df  Sum Sq Mean Sq F value Pr(>F)
type:block  1 0.00413 0.00413  0.0726 0.7892
Residuals  34 1.93538 0.05692


#####
for the section: "Error : subj:type" I get results for type and block 
factor ?? That I do not understand and that does not happen when having 
no NaN's -> see below !
######


 > print(summary(aov(perf~type*block+Error(subj/(type+block)),
na.action=na.omit, data=anovaDataAll)) )

Error: subj
           Df Sum Sq Mean Sq F value Pr(>F)
Residuals 24 2.9711  0.1238

Error: subj:type
           Df  Sum Sq Mean Sq F value Pr(>F)
type       1 0.00111 0.00111  0.0132 0.9096
Residuals 24 2.02667 0.08444

Error: subj:block
           Df  Sum Sq Mean Sq F value  Pr(>F)
block      1 0.21778 0.21778  4.3596 0.04759 *
Residuals 24 1.19889 0.04995
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1

Error: Within
            Df  Sum Sq Mean Sq F value Pr(>F)
type:block  1 0.01000 0.01000  0.2424 0.6269
Residuals  24 0.99000 0.04125




Thanks for comments on this,
Jan Wiener



-- 
Jan Malte Wiener
Max-Planck-Institute for Biological Cybernetics
Spemannstr. 38, 72076 Tuebingen, Germany
Tel.: +49 7071 601 631
Email: jan.wiener at tuebingen.mpg.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul  5 13:04:56 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 5 Jul 2002 12:04:56 +0100 (BST)
Subject: balance in AoV (was [R] aov() and NaN)
In-Reply-To: <3D257922.4040509@tuebingen.mpg.de>
Message-ID: <Pine.LNX.4.31.0207051152370.24964-100000@gannet.stats>

The results are as one should expect: they are not `strange'.  I'm afraid
I can't help you, as I do not know what you are failing to understand
about multistratum models (or what you/SPSS are doing differently).

Hint 1: `balance' in the key concept.

Hint 2: in the absence of balance, modern texts recommend a REML or ML
analysis, and lme can do that.


On Fri, 5 Jul 2002, Jan Malte Wiener wrote:

> ripley at stats.ox.ac.uk wrote:
> > aov does not.  It's na.action argument does.  It is dscribed on the help
> > page for lm, which ?aov refers to.
> >
> > BTW, missing values in R are not the same thing as NaNs, but for this
> > purpose NaNs are treated as missing.
> >
> > On Fri, 5 Jul 2002, Jan Malte Wiener wrote:
> >
> >
> >>hi,
> >>another anova question !!
> >>how does aov() treat missing values ?
> >>
> >>since it might depend on my experimental design:
> >>i have a within subject design with two factors ...
> >>
> >>i use aov() like this:
> >>
> >>aov(performance~type*block+Error(subj/(type+block)),data=anovaData)
> >>
> >>now it might happen that i have a couple of NaN data points in my result
> >>dataFrame.
> >>how can i know/control how aov() is treating those missing values ?
> >>
> >>greetinx jan
>
>
> Yes, I tried using na.action=na.exclude (na.fail, na.omit).
> obviously with na.fail I do not get any results, but with the other
> arguments I always get the same results, which are different from spss
> results
> The results are not only different from spss, aov() behaves strange also
> (look at the "Error: subj:type" or "Error: subj:block" section ...)
>
> summary(aov(perf~type*block+Error(subj/(type+block)),
> na.action=na.omit,data=anovaDataAllSubjCorrNav))
>
>
> Error: subj
>            Df  Sum Sq Mean Sq F value Pr(>F)
> type       1 0.25032 0.25032  2.4855 0.1314
> Residuals 19 1.91355 0.10071
>
> Error: subj:type
>            Df  Sum Sq Mean Sq F value Pr(>F)
> type       1 0.03227 0.03227  0.3140 0.5818
> block      1 0.15184 0.15184  1.4774 0.2391
> Residuals 19 1.95268 0.10277
>
> Error: subj:block
>             Df  Sum Sq Mean Sq F value Pr(>F)
> block       1 0.06253 0.06253  0.8086 0.3798
> type:block  1 0.22826 0.22826  2.9520 0.1020
> Residuals  19 1.46914 0.07732
>
> Error: Within
>             Df  Sum Sq Mean Sq F value Pr(>F)
> type:block  1 0.00413 0.00413  0.0726 0.7892
> Residuals  34 1.93538 0.05692
>
>
> #####
> for the section: "Error : subj:type" I get results for type and block
> factor ?? That I do not understand and that does not happen when having
> no NaN's -> see below !
> ######
>
>
>  > print(summary(aov(perf~type*block+Error(subj/(type+block)),
> na.action=na.omit, data=anovaDataAll)) )
>
> Error: subj
>            Df Sum Sq Mean Sq F value Pr(>F)
> Residuals 24 2.9711  0.1238
>
> Error: subj:type
>            Df  Sum Sq Mean Sq F value Pr(>F)
> type       1 0.00111 0.00111  0.0132 0.9096
> Residuals 24 2.02667 0.08444
>
> Error: subj:block
>            Df  Sum Sq Mean Sq F value  Pr(>F)
> block      1 0.21778 0.21778  4.3596 0.04759 *
> Residuals 24 1.19889 0.04995
> ---
> Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1
>
> Error: Within
>             Df  Sum Sq Mean Sq F value Pr(>F)
> type:block  1 0.01000 0.01000  0.2424 0.6269
> Residuals  24 0.99000 0.04125
>
>
>
>
> Thanks for comments on this,
> Jan Wiener
>
>
>
> --
> Jan Malte Wiener
> Max-Planck-Institute for Biological Cybernetics
> Spemannstr. 38, 72076 Tuebingen, Germany
> Tel.: +49 7071 601 631
> Email: jan.wiener at tuebingen.mpg.de
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From schneid at giub.unibe.ch  Fri Jul  5 14:07:57 2002
From: schneid at giub.unibe.ch (Nicolas Schneider)
Date: Fri, 05 Jul 2002 14:07:57 +0200 (MEST)
Subject: [R] barplot with second y-axis
Message-ID: <200207051207.OAA21074@giub.unibe.ch>

Hi everyone

I have 2 variables measured at 12 different locations. The variables are 
measured on different scales. 

I am now trying to make a barplot with 12 "groups" of 2 bars. However, the 2 
bars of each "group" should be related to different y-axes. Thus, what I need to 
do is a barplot with 2 y-axis and then plot the 2 variables, one referring to 
the left y-axis and the other one to the right x-axis. As a beginner with R 
(second day!), this problem is still slightly too difficult. I hope someone can 
help.

Many thanks,

Nicolas

_____________________________________________________________

Nicolas Schneider, PhD Student
University of Bern
Institute of Geography
Climatology & Meteorology
Hallerstrasse 12
CH-3012 Bern

phone +41-31-631-8542
fax   +41-31-631-8511
email schneid at giub.unibe.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Fri Jul  5 15:56:32 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Fri, 5 Jul 2002 08:56:32 -0500
Subject: [R] barplot with second y-axis
In-Reply-To: <200207051207.OAA21074@giub.unibe.ch>
Message-ID: <005701c2242b$c5b01480$0201a8c0@MARC>

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On
> Behalf Of Nicolas Schneider
> Sent: Friday, July 05, 2002 7:08 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] barplot with second y-axis
> 
> Hi everyone
> 
> I have 2 variables measured at 12 different locations. The variables
are
> measured on different scales.
> 
> I am now trying to make a barplot with 12 "groups" of 2 bars. However,
the 2
> bars of each "group" should be related to different y-axes. Thus, what
I need to
> do is a barplot with 2 y-axis and then plot the 2 variables, one
referring to
> the left y-axis and the other one to the right x-axis. As a beginner
with R
> (second day!), this problem is still slightly too difficult. I hope
someone can
> help.
> 
> Many thanks,
> 
> Nicolas

One approach is to use an adjustment factor to your second set of data,
such that the measures are "normalized" to the range of the first set of
data, since the plot region coordinates will be set for only one range.

For example, if your first set of data is in the range of 0 to 5 and
your second set of data is in the range of 0 to 25, divide your second
set of data by 5. 

Pass that new set of numbers to barplot() using the "beside = TRUE"
argument. 

To get the second set of axis labels for the right hand side, use the
axis() function.  See ?axis.

Use the "side = 4" argument, which places the axis on the right hand
side of the plot. Also use the "at = " and "labels =" arguments to
define the positions for your scale and for the vector of labels that
you wish to have drawn, keeping in mind that you need to adjust your
labeling (not the "at = ") with the same adjustment factor that you used
above.

For example, with the numbers that I gave above use something like:

axis(side = 4, at = 0:5, labels = (0:5 * 5))

This will give you 6 tickmarks at actual y coordinates of 0, 1, 2, 3, 4
and 5, but with text labels of 0, 5, 10, 15, 20 and 25.

HTH.

Marc


 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vsxo at hotmail.com  Fri Jul  5 16:09:32 2002
From: vsxo at hotmail.com (Remy X.O. Martin)
Date: Fri, 05 Jul 2002 16:09:32 +0200
Subject: balance in AoV (was [R] aov() and NaN)
Message-ID: <IGOMNLHC86RN61ZSPRO4YMKKF97TSXT.3d25a89c@mirage.college-de-france.fr>

<ripley at stats.ox.ac.uk> wrote:

> Hint 2: in the absence of balance, ...., and lme can do that

Would it be possible to make aov like wrappers to the various special lm variants 
allowing for a uniform syntax for anova?

aov(resp~f1*f2+Error(S/(f1*f2))) ## uses lm
aov.lme(resp~f1*f2+Error(S/(f1*f2))) ## uses lme
aov.rlm(resp~f1*f2+Error(S/(f1*f2))) ## uses rlm
...

I'd do it, but I do not nearly understand enough of the intricacies involved :(

RXO


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul  5 16:27:22 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 5 Jul 2002 15:27:22 +0100 (BST)
Subject: balance in AoV (was [R] aov() and NaN)
In-Reply-To: <IGOMNLHC86RN61ZSPRO4YMKKF97TSXT.3d25a89c@mirage.college-de-france.fr>
Message-ID: <Pine.LNX.4.31.0207051527160.15389-100000@gannet.stats>

On Fri, 5 Jul 2002, Remy X.O. Martin wrote:

> <ripley at stats.ox.ac.uk> wrote:
>
> > Hint 2: in the absence of balance, ...., and lme can do that
>
> Would it be possible to make aov like wrappers to the various special lm variants
> allowing for a uniform syntax for anova?

No.

>
> aov(resp~f1*f2+Error(S/(f1*f2))) ## uses lm
> aov.lme(resp~f1*f2+Error(S/(f1*f2))) ## uses lme
> aov.rlm(resp~f1*f2+Error(S/(f1*f2))) ## uses rlm
> ...
>
> I'd do it, but I do not nearly understand enough of the intricacies involved :(
>
> RXO
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Rob.Balshaw at syreon.com  Fri Jul  5 17:25:08 2002
From: Rob.Balshaw at syreon.com (Robert Balshaw)
Date: Fri, 5 Jul 2002 08:25:08 -0700
Subject: [R] Configuring ESS for SAS on Win NT & Win 2000
In-Reply-To: <NFBBIINHNJMJKENFNIIDGEEECNAA.Rob.Balshaw@syreon.com>
Message-ID: <NFBBIINHNJMJKENFNIIDKEELCNAA.Rob.Balshaw@syreon.com>

Thanks to Tony Rossini, who directed me to the more appropriate ESS-help mailing
list.

Rich Heiberger was quick to confirm that Meta-x SAS will not work for Windows.
He suggested that I use the editing capabilities and submit the code to an
external or batch SAS job.

<Sigh>

One more reason I should switch to GNU/Linux.

Cheers,

Rob

-- Robert Balshaw, Ph.D.
-- Senior Biostatistician, Syreon Corp.
-- Phone: (604) 822-5199; Fax: (604) 822-5911


> -----Original Message-----
>
> My apologies for the off-topic post, but this seemed the most likely place to
> find relevant expertise.
>
> Is there anyone who would be able to assist me in configuring GNU Emacs, ESS,
> and SAS on my Windows NT and Windows 2000 machines?
>
> I have been successful running R in ESS, thanks to the excellent examples I've
> found for helping with .emacs and related files.
>
> SAS, however, seems to be a horse of a different colour.
>
> Thus far, I can edit .sas files using ESS. However, when I call for SAS (
> Alt-X SAS"), Emacs responds:
>
> apply: Spawning child process: invalid argument
>
> (the above copied from the *Messages* buffer).
>
> I suspect this is due to problems with some variable associated with
> inferior-SAS-program-name or inferior-SAS-args, but I'm getting in
> over my head,
> here.
>
> Thanks for any pointers - I'd be delighted to be told to read
> 'document X'.  So
> far, the online documents I've read and the documents embedded within
> ESS 'docs'
> directory appear to assume a Unix environment.
>
> Cheers,
>
> Rob
>
> P.S.  I will summarize any discoveries/imparted wisdoms to the group, so feel
> free to respond directly.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.holtman at convergys.com  Fri Jul  5 18:04:03 2002
From: james.holtman at convergys.com (james.holtman@convergys.com)
Date: Fri, 5 Jul 2002 12:04:03 -0400
Subject: [R] PDF file not created correctly
Message-ID: <OF6A6CCB81.072C8E4A-ON85256BED.0056B8CC@cbis.com>

I am trying to put some text data in a graphical output file so that I have
a single file with both the graphs and summary data.  I was capturing the
output via a 'sink(textConnection('output','w')).  This seems to work fine,
but in trying to put the text data in a graphics frame, I was having
problems.  When creating a postscript file, things were fine, but a PDF
file appeared not to be correct.

Here is a test file I created which appears to create the correct output
for postscript and BMP, but not for PDF.

platform i386-pc-mingw32
arch     i386
os       mingw32
system   i386, mingw32
status
major    1
minor    5.1
year     2002
month    06
day      17
language R



#=============================================================
x.buffer <- c('this is a test','next line') # create test data
#
# create a postscript file (OK)
#
postscript('test.ps')
par(mfrow=c(1,1))
plot.new()
text(par('usr')[1],par('usr')[4],paste(x.buffer, collapse='\n'), font=1,
    adj=c(0,1),cex=.8, col='red')
dev.off()
#
# now try is as a PDF file (EMPTY)
#
pdf('test.pdf')
par(mfrow=c(1,1))
plot.new()
text(par('usr')[1],par('usr')[4],paste(x.buffer, collapse='\n'), font=1,
    adj=c(0,1),cex=.8, col='red')
dev.off()
#
# now try BMP (OK)
#
bmp('test.bmp')
par(mfrow=c(1,1))
plot.new()
text(par('usr')[1],par('usr')[4],paste(x.buffer, collapse='\n'), font=1,
    adj=c(0,1),cex=.8, col='red')
dev.off()

#========================================================

Jim Holtman

--

NOTICE:  The information contained in this electronic mail transmission is
intended by Convergys Corporation for the use of the named individual or
entity to which it is directed and may contain information that is
privileged or otherwise confidential.  If you have received this electronic
mail transmission in error, please delete it from your system without
copying or forwarding it, and notify the sender of the error by reply email
or by telephone (collect), so that the sender's address records can be
corrected.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Jul  5 18:18:27 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 05 Jul 2002 18:18:27 +0200
Subject: [R] PDF file not created correctly
References: <OF6A6CCB81.072C8E4A-ON85256BED.0056B8CC@cbis.com>
Message-ID: <3D25C6D3.29991E60@statistik.uni-dortmund.de>



james.holtman at convergys.com wrote:
> 
> I am trying to put some text data in a graphical output file so that I have
> a single file with both the graphs and summary data.  I was capturing the
> output via a 'sink(textConnection('output','w')).  This seems to work fine,
> but in trying to put the text data in a graphics frame, I was having
> problems.  When creating a postscript file, things were fine, but a PDF
> file appeared not to be correct.
> 
> Here is a test file I created which appears to create the correct output
> for postscript and BMP, but not for PDF.
> 
> platform i386-pc-mingw32
> arch     i386
> os       mingw32
> system   i386, mingw32
> status
> major    1
> minor    5.1
> year     2002
> month    06
> day      17
> language R
> 
> #=============================================================
> x.buffer <- c('this is a test','next line') # create test data
> #
> # create a postscript file (OK)
> #
> postscript('test.ps')
> par(mfrow=c(1,1))
> plot.new()
> text(par('usr')[1],par('usr')[4],paste(x.buffer, collapse='\n'), font=1,
>     adj=c(0,1),cex=.8, col='red')
> dev.off()
> #
> # now try is as a PDF file (EMPTY)
> #
> pdf('test.pdf')
> par(mfrow=c(1,1))
> plot.new()
> text(par('usr')[1],par('usr')[4],paste(x.buffer, collapse='\n'), font=1,
>     adj=c(0,1),cex=.8, col='red')
> dev.off()
> #
> # now try BMP (OK)
> #
> bmp('test.bmp')
> par(mfrow=c(1,1))
> plot.new()
> text(par('usr')[1],par('usr')[4],paste(x.buffer, collapse='\n'), font=1,
>     adj=c(0,1),cex=.8, col='red')
> dev.off()




You need to set up the coordinate system with plot.window() after
plot.new(). For me it is a surprise that the non-pdf solutions work.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Fri Jul  5 18:34:25 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Fri, 5 Jul 2002 18:34:25 +0200
Subject: [R] confused with vector subsetting
Message-ID: <20020705163425.GA1114654@genome.cbs.dtu.dk>

Dear all,

I do not know whether the following results from an obscure feature
of R or from my misunderstanding.

> x <- 1:3
> x[-which(x == 2)]
[1] 1 3
> x[-which(x == 4)]
numeric(0)
(I would have expected something like '[1] 1 2 3' at that point)

Thanks in advance for any advice.


Laurent

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Fri Jul  5 18:28:05 2002
From: plummer at iarc.fr (Martyn Plummer)
Date: Fri, 05 Jul 2002 18:28:05 +0200 (CEST)
Subject: [R] tseries library coredumps on redhat6.1
In-Reply-To: <3D24AF6D@mailandnews.com>
Message-ID: <XFMail.20020705182805.plummer@iarc.fr>

On 04-Jul-2002 krishna kumar wrote:
> Folks,
> 
> I have used the tseries library before on windoze , i tried using it on
> a R-1.3 installation on redhat 6.1 , [on which other libraries like 
> wavethresh,boot etc work smoothly] but when i do a
> 
>> library(tseries) 
> it coredumps...
> 
> any pointers help in this matter appreciated.

If I remember correctly, there was a problem with the fortran compiler
on Red Hat 6.1, so you will get this behaviour from any R package
that contains fortran code (neither wavethresh nor boot do).

NB Your installation of R is out of date. You should be using
1.5.1.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jul  5 18:43:04 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 5 Jul 2002 09:43:04 -0700 (PDT)
Subject: [R] random generators - curiosity
In-Reply-To: <EZYQLIHKH063V1WE05308UO2QP5ZHC.3d249469@mirage.college-de-france.fr>
Message-ID: <Pine.A41.4.44.0207050927500.187174-100000@homer05.u.washington.edu>

On Thu, 4 Jul 2002, Remy X.O. Martin wrote:

> Hi again,
>
> This is just out of pure curiosity: I came across the documentation of
> the various random generators in R and saw that the entropy-based kernel
> random generator available on Linux, Solaris and some other OSes is not
> by default available. (This generators random values based on the
> entropy associated with all IO that is handled by the kernel -- this
> includes TCP/IP packets.) There are solutions for systems that do not
> have this functionality by default (see the OpenSSH documentation). Is
> there a specific reason why this generator isn't used, and if so, which?

Several reasons

One, as you observe, it isn't portable -- it has to be handled in
different ways on different systems.

Two, and more important, statisticians *like* predictable random-number
generators so that the random numbers can be repeated. R's random number
generators are useless for crytographic purposes, but they work quite
nicely for simulation.

Three, there's often not enough entropy to go around.  Many users of R
generate far more random numbers than can reliably be produced by
environmental noise, particularly in a system that isn't on-line and so
doesn't have TCP/IP noise.

So, R and openSSH use random numbers for quite different purposes, and
that's why they are produced in different ways. Don't use R to write
encryption software.

Actually, R provides hooks for user-supplied RNGs, so it would be possible
for someone to write one based on environmental noise or based on securely
encrypting a counter or similar ideas.


	-thomas


Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jul  5 18:51:25 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 5 Jul 2002 09:51:25 -0700 (PDT)
Subject: [R] confused with vector subsetting
In-Reply-To: <20020705163425.GA1114654@genome.cbs.dtu.dk>
Message-ID: <Pine.A41.4.44.0207050947560.187174-100000@homer05.u.washington.edu>

On Fri, 5 Jul 2002, Laurent Gautier wrote:

> Dear all,
>
> I do not know whether the following results from an obscure feature
> of R or from my misunderstanding.
>
> > x <- 1:3
> > x[-which(x == 2)]
> [1] 1 3
> > x[-which(x == 4)]
> numeric(0)
> (I would have expected something like '[1] 1 2 3' at that point)
>

It's a pity that this doesn't work, but it can't.

Since which(x==4) is numeric(0), -which(x==4) is also numeric(0), so R
can't possibly distinguish between
	x[-which(x == 4)]
	x[ which(x == 4)]
so they can't both do what you would like

If you don't know whether 4 will appear in x you need to do
	x[!(x==4)]
or preferably
	x[!(x %in% 4)]
which will work even if x contains NAs.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vsxo at hotmail.com  Fri Jul  5 18:53:33 2002
From: vsxo at hotmail.com (Remy X.O. Martin)
Date: Fri, 05 Jul 2002 18:53:33 +0200
Subject: [R] random generators - curiosity
In-Reply-To: <Pine.A41.4.44.0207050927500.187174-100000@homer05.u.washington.edu>
Message-ID: <OIXR1ZNJYXPN5Z5Z42HBC9RPXSZVZVSN.3d25cf0d@mirage.college-de-france.fr>

2002/07/05 18:43:04, Thomas Lumley <tlumley at u.washington.edu> wrote:

>
>One, as you observe, it isn't portable -- it has to be handled in
>different ways on different systems.

That's what I thought -- but the documentation to I forget what suggests that exactly 
which generators are present may also depend on the system :)

>Three, there's often not enough entropy to go around.  Many users of R
>generate far more random numbers than can reliably be produced by
>environmental noise, particularly in a system that isn't on-line and so
>doesn't have TCP/IP noise.

This is indeed a problem, and (under linux) the /dev/random device blocks when 
"entropy is empty". There is however a /dev/srandom that doesn't block, but returns 
lesser quality noise when the pool is empty. Unfortunately, I do not know how to 
distinguish between these noise-quality return types.

>that's why they are produced in different ways. Don't use R to write
>encryption software.

I wasn't quite considering to do that :)

>Actually, R provides hooks for user-supplied RNGs, so it would be possible
>for someone to write one based on environmental noise or based on securely

I didn't want to reinvent the wheel :) Now, it looks like I have a nice exercise for 
a rainy sunday!

RXO


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jul  5 18:58:40 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 5 Jul 2002 09:58:40 -0700 (PDT)
Subject: [R] doubt about DF in survival model
In-Reply-To: <200207041851.19727.chrysopa@insecta.ufv.br>
Message-ID: <Pine.A41.4.44.0207050953180.187174-100000@homer05.u.washington.edu>

On Thu, 4 Jul 2002, Ronaldo Reis Jr. wrote:

> Hi all,
>
> I have this,
>
> Weibull distribution
> n= 1000
>
> > anova(pk.m0)
>      Df Deviance Resid. Df   -2*LL P(>|Chi|)
> NULL NA       NA       999 1451.31        NA
>
> > anova(pk.m0,pk.m1)
>       Terms Resid. Df    -2*LL    Test Df   Deviance    P(>|Chi|)
> 1         1       998 1451.310         NA         NA           NA
> 2      seed       996 1229.714          2  221.59557 7.605594e-49
>
> With   n=1000,
> Df of  Null Model (pk.m0) = 999, it is ok, to me.
>
> But, when I put together Null Model (pk.m0) and the Seed Model (pk.m1),
> Df of the Null model changed to 998.
>
> My question is, why it does happen?

It's actually the first one that's wrong.  The null Weibull model has 2
parameters, shape and scale.  The shape parameter is estimated by maximum
likelihood and isn't independent of the regression parameters, so it
really should be counted.

It doesn't matter if you use one or other syntax consistenly, since you
only care about differences in loglikelihood, but it should be fixed.

	-thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark.matheson at csfb.com  Fri Jul  5 20:34:45 2002
From: mark.matheson at csfb.com (Matheson, Mark)
Date: Fri, 5 Jul 2002 19:34:45 +0100
Subject: [R] Question
Message-ID: <4106439B1F22D611A4100002A56B0F7E028CF2D7@slon10302.csfp.co.uk>

Does R provide a func to calc Fractal Dimensions from time-series data ?


Thanks

(Please use Reply All as I may be at home when you respond.  Thanks again.)

This message is for the named person's use only. It may contain sensitive and private proprietary or legally privileged information. No confidentiality or privilege is waived or lost by any mistransmission. If you are not the intended recipient, please immediately delete it and all copies of it from your system, destroy any hard copies of it and notify the sender. You must not, directly or indirectly, use, disclose, distribute, print, or copy any part of this message if you are not the intended recipient. CREDIT SUISSE GROUP and each legal entity in the CREDIT SUISSE FIRST BOSTON or CREDIT SUISSE ASSET MANAGEMENT business units of CREDIT SUISSE FIRST BOSTON reserve the right to monitor all e-mail communications through its networks. Any views expressed in this message are those of the individual sender, except where the message states otherwise and the sender is authorized to state them to be the views of any such entity.
Unless otherwise stated, any pricing information given in this message is indicative only, is subject to change and does not constitute an offer to deal at any price quoted. Any reference to the terms of executed transactions should be treated as  preliminary only and subject to our formal written confirmation.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Gavin at stams.strath.ac.uk  Fri Jul  5 21:11:22 2002
From: Gavin at stams.strath.ac.uk (Gavin McCabe)
Date: Fri, 05 Jul 2002 20:11:22 +0100
Subject: [R] Zero Inflated Poisson Regression Modelling
Message-ID: <5.1.0.14.0.20020705191419.01923a18@zeus.stams.strath.ac.uk>

Hi Everyone

Does anyone know of a function that will perform Zero Inflated Poisson 
(ZIP) regression modelling?


Many thanks in advance,

Gavin


+_+_+_+_+_+_+_+_+_+_+_+_+_+

  R.version
          _
platform i386-pc-mingw32
arch     i386
os       mingw32
system   i386, mingw32
status
major    1
minor    5.0
year     2002
month    04
day      29
language R
_____________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kriskumar at mailandnews.com  Fri Jul  5 21:21:19 2002
From: kriskumar at mailandnews.com (krishna kumar)
Date: Fri, 5 Jul 2002 15:21:19 -0400
Subject: [R] tseries library coredumps on redhat6.1
Message-ID: <3D26ED76@mailandnews.com>

Martyn,

>If I remember correctly, there was a problem with the fortran compiler
>on Red Hat 6.1, so you will get this behaviour from any R package
>that contains fortran code (neither wavethresh nor boot do).

Would a new fortran compile install fix it?. Or would there be other
lib-dependencies of the fortran compiler? Kindly enlighten.

Will let u know what i find out.


>
>NB Your installation of R is out of date. You should be using
>1.5.1.

Sorry about the typo but i do have the latest version

> version

platform i686-pc-linux-gnu
arch     i686
os       linux-gnu
system   i686, linux-gnu
status
major    1
minor    5.0
year     2002
month    04
day      29
language R

thanks & regards
krishna


>Martyn
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jul  5 21:42:06 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 5 Jul 2002 12:42:06 -0700 (PDT)
Subject: [R] Protecting pointer; Rdefines.h
In-Reply-To: <001201c2237b$c8da6260$d2135882@inam>
Message-ID: <Pine.A41.4.44.0207051229190.187174-100000@homer05.u.washington.edu>

On Thu, 4 Jul 2002, In-Sun Nam wrote:
>
> Nonetheless, I wish that you may kindly clarify the concept of garbage
> control; My main problem is that I do not have a clear definition of "R
> heap".
>
> 1>
>  For example, lets assume that an object "par" is a SEXP to be protected (pg
> 42; Writing R extensions);
> however
>
> tt = NUMERIC_POINTER(par)[0]
>
> doesn't need to be. This was one thing that I did not quite understand why.
> So it is because the righthand side is nothing more than a double?

More or less.  par is a numeric vector, an SEXP living on the R heap,
which does need to be protected. If par is protected then its space can't
be reallocated to any other object.  In particular, the space where it
stores the actual numeric values can't be reallocated.  This space is
where tt points.

You only need to protect SEXPs, because anything living on the R heap is
owned by some SEXP and because the garbage collector works by recycling
whole SEXPs.

> 2>
> Another one is that
> " It is a common mistake to believe that if you invoked PROTECT(p) at some
> point then p is protected from then on, but that is not true once a new
> object is assigned to p". (pg 29; Writing R extensions)
>
> So I don't need to protect "par" again if I reassign
>
>  NUMERIC_POINTER(par)[0]  = 2.0;
>
> for example??

Correct.  The important point is that par is still the same SEXP, and so
it is still protected.  Changing the value of its data like this doesn't
matter.

Perhaps the best way of thinking about PROTECT is that it applies to R
objects (SEXPs). Don't worry about pointers or the actual C-level
structures, but think of par as actually containing an R object.  That
whole object  needs to be PROTECTed. Once it is PROTECTed it stays that
way until UNPROTECTed.  If you assign a new SEXP to par then the old
value of par is still PROTECTed but the new value may not be.

Every so often the garbage collector comes around and looks at all the
SEXPs on the heap. An SEXP that is not protected will be recycled,
together with all the memory it owns.  This is all managed at the level of
SEXPs -- you don't need to do any memory management at finer levels.


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Sat Jul  6 02:21:31 2002
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Sat, 06 Jul 2002 02:21:31 +0200
Subject: [R] about image and rgb
Message-ID: <3D26380B.9080709@inrialpes.fr>

Hi all,

I have a 16 bit image (TIFF) and i want to analyse the pixels distribution.
So, i obtain a matrix which values are between 0 and 2^16 -1.
Now i would like to represnt this image with the fucntions rgb() and
image().
I am not sure , but i think that  only 256 colors are available.
So is there a solution to represent all the palette of the colors  or i
have to limit
the representations with 256 colors.

Thanks

-- 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN
PhD student                  phone : (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42		
INRIA Rhone-Alpes            fax   : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                   e-mail: olivier.martin at inrialpes.fr
38334 Saint Ismier cedex     web   : 
http://www.inrialpes.fr/is2/people/omartin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tebaldi at rap.ucar.edu  Fri Jul  5 22:19:40 2002
From: tebaldi at rap.ucar.edu (Claudia Tebaldi)
Date: Fri, 5 Jul 2002 14:19:40 -0600 (MDT)
Subject: [R] robust mixed effects models
Message-ID: <Pine.GSO.4.05.10207051411200.27221-100000@virga.rap.ucar.edu>

I'd like to apply the ideas of
Pinheiro et al. (1997): "Robust Estimation in LInear Mixed Effects Models
using the Multivariate t-Distribution" and I'm wondering if the EM-based
estimation described in that paper has been implemented by somebody in R
already (I'm assuming it's not yet available within the package nlme --
whose subtitle is "Fit and compare ==>Gaussian<== linear and nonlinear
mixed-effects models")
Before venturing in EM-programming territory I thought I ask...

thank you

claudia

(I'm using R-1.4.1) 

-------------------------------------------------------------------------
claudia tebaldi                                  NCAR  RAP
project scientist                                P.O. Box 3000
M-W-Th @FL (303) 497-2830                        Boulder, CO 80307
Tu-F   @ML (303) 497-1621                        tebaldi at ucar.edu
--------------------------------------------------------------------------




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vsxo at hotmail.com  Fri Jul  5 23:34:11 2002
From: vsxo at hotmail.com (Remy X.O. Martin)
Date: Fri, 5 Jul 2002 23:34:11 +0200
Subject: [R] robust mixed effects models
Message-ID: <20020705233411.07634af9.vsxo@hotmail.com>

> I'd like to apply the ideas of
> Pinheiro et al. (1997): "Robust Estimation in LInear Mixed Effects Models
> using the Multivariate t-Distribution" and I'm wondering if the EM-based
> estimation described in that paper has been implemented by somebody in R
> already

Have you checked
http://cm.bell-labs.com/cm/ms/departments/sia/project/mixedEffects/index.html (and the NLME page it links to)?

RXO

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Nancy.Lo at noaa.gov  Sat Jul  6 00:01:56 2002
From: Nancy.Lo at noaa.gov (Nancy Lo)
Date: Fri, 05 Jul 2002 15:01:56 -0700
Subject: [R] Increase memory size
Message-ID: <3D261754.BAF8039B@noaa.gov>

I read FAQ (2.6 and 2.2) about increasing memory size, but it is not
clear to me. Coule anyone give me an example? My computation exceeds
256Mb.

Thank you for your time.

Nancy

--
Nancy C.H. Lo, Ph.D
Southwest Fisheries Science Center
NMFS, NOAA
8604 La Jolla Shores Drive
La Jolla CA 92037
858-546-7123(o)
858-546-5656(x)
Nancy.Lo at NOAA.GOV

-------------- next part --------------
A non-text attachment was scrubbed...
Name: nancy.lo.vcf
Type: text/x-vcard
Size: 101 bytes
Desc: Card for Nancy Lo
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020705/9a753d89/nancy.lo.vcf

From White.Denis at epamail.epa.gov  Sat Jul  6 00:53:56 2002
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Fri, 05 Jul 2002 15:53:56 -0700
Subject: [R] Increase memory size
Message-ID: <OF3254DFBE.F8F58EE1-ON88256BED.007D44F5@rtp.epa.gov>


> I read FAQ (2.6 and 2.2) about increasing memory size, but it is not
> clear to me. Coule anyone give me an example? My computation exceeds
> 256Mb.

I assume you meant the R for Windows FAQ.  If you have a shortcut on
your desktop for R (or somewhere else), then if you right click on the
icon and bring up the Properties window, you will see an entry for
Target with the path to the executable filled in.  After that path (and
outside of the quotes) add the command-line argument as suggested in
RWin FAQ 2.2.  On my PC, for example it would look like this:

"C:\Program Files\R\rw1051\bin\Rgui.exe" --max-mem-size=512M


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wilson at visi.com  Sat Jul  6 06:05:07 2002
From: wilson at visi.com (Tim Wilson)
Date: Fri, 5 Jul 2002 23:05:07 -0500
Subject: [R] one-sample binomial test
Message-ID: <20020706040507.GA27542@isis.visi.com>

Hi everyone,

Here's how I solved a problem for my stats class. I'm pretty sure I
understand what's going on, but I wonder if there's a more direct way to
solve it.

Problem summary:

A recent poll indicated that Candidate A is leading B with 55% of the
vote. How many voters need to be surveyed to ensure a margin of error of
+/- 2.5% with 99% confidence.

Here's what I did:

> binom.test(55, 100, 0.5, alternative='t', conf.level=0.99)

        Exact binomial test

data:  55 and 100
number of successes = 55, number of trials = 100, p-value =
0.3682
alternative hypothesis: true probability of success is not equal
to 0.5
99 percent confidence interval:
 0.4170382 0.6780727
sample estimates:
probability of success
                  0.55

After some trial and error I got:

> binom.test(1100, 2000, 0.5, alternative='t', conf.level=0.99)

        Exact binomial test

data:  1100 and 2000
number of successes = 1100, number of trials = 2000, p-value =
8.457e-06
alternative hypothesis: true probability of success is not equal
to 0.5
99 percent confidence interval:
 0.5210033 0.5787563
sample estimates:
probability of success
                  0.55

So my answer is that you would need to survey more than 2000 persons. Is
there a way other than trial and error to solve this?

-Tim

-- 
Tim Wilson      |   Visit Sibley online:   | Check out:
Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
W. St. Paul, MN |                          | http://slashdot.org
wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Stefano.Guazzetti at ausl.re.it  Sat Jul  6 07:58:07 2002
From: Stefano.Guazzetti at ausl.re.it (Guazzetti Stefano)
Date: Sat, 6 Jul 2002 07:58:07 +0200
Subject: R: [R] one-sample binomial test
Message-ID: <EE31CB6EF5AA0F4EAF828922242443500208E6@cmonti2.ausl.org>

try
?power.prop.test

> -----Messaggio originale-----
> Da: Tim Wilson [mailto:wilson at visi.com]
> Inviato: sabato 6 luglio 2002 6.05
> A: R-help
> Oggetto: [R] one-sample binomial test
> 
> 
> Hi everyone,
> 
> Here's how I solved a problem for my stats class. I'm pretty sure I
> understand what's going on, but I wonder if there's a more 
> direct way to
> solve it.
> 
> Problem summary:
> 
> A recent poll indicated that Candidate A is leading B with 55% of the
> vote. How many voters need to be surveyed to ensure a margin 
> of error of
> +/- 2.5% with 99% confidence.
> 
> Here's what I did:
> 
> > binom.test(55, 100, 0.5, alternative='t', conf.level=0.99)
> 
>         Exact binomial test
> 
> data:  55 and 100
> number of successes = 55, number of trials = 100, p-value =
> 0.3682
> alternative hypothesis: true probability of success is not equal
> to 0.5
> 99 percent confidence interval:
>  0.4170382 0.6780727
> sample estimates:
> probability of success
>                   0.55
> 
> After some trial and error I got:
> 
> > binom.test(1100, 2000, 0.5, alternative='t', conf.level=0.99)
> 
>         Exact binomial test
> 
> data:  1100 and 2000
> number of successes = 1100, number of trials = 2000, p-value =
> 8.457e-06
> alternative hypothesis: true probability of success is not equal
> to 0.5
> 99 percent confidence interval:
>  0.5210033 0.5787563
> sample estimates:
> probability of success
>                   0.55
> 
> So my answer is that you would need to survey more than 2000 
> persons. Is
> there a way other than trial and error to solve this?
> 
> -Tim
> 
> -- 
> Tim Wilson      |   Visit Sibley online:   | Check out:
> Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
> W. St. Paul, MN |                          | http://slashdot.org
> wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-> FAQ.html
> Send "info", 
> "help", or "[un]subscribe"
> (in the 
> "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From merser at image.dk  Sat Jul  6 14:28:42 2002
From: merser at image.dk (=?iso-8859-1?Q?S=F8ren_Merser?=)
Date: Sat, 6 Jul 2002 14:28:42 +0200
Subject: [R] emacs, ess, command completion?
Message-ID: <005d01c224e8$ac61fa30$8b00a8c0@OSEK>

I'm using 
    win XP
    R 1.51 (Rterm)
    emacs-20.7
    ess-5.1.20
and everything except from command completion works
Is it possible to have this functionality using a windows enviroment?

thanks soren


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Sat Jul  6 15:34:21 2002
From: rolf at math.unb.ca (Rolf Turner)
Date: Sat, 6 Jul 2002 10:34:21 -0300 (ADT)
Subject: [R] one-sample binomial test
Message-ID: <200207061334.KAA19549@gelfand.math.unb.ca>


>  Here's how I solved a problem for my stats class. I'm pretty sure I
>  understand what's going on, but I wonder if there's a more direct way
>  to solve it.

(a) You definitely don't have to --- and SHOULDN'T --- use ``trial
and error''.

(b) You should talk to the instructor of your stats class.  That's
what he or she is paid for.

(c) You should also read your textbook.

(d) This is a very standard sort of problem.  It is also very easy to
solve with pencil and paper (or at the very least a hand
calculator).  You do ***not*** need to use binom.test() (in fact this
is counter productive) nor do you need to use prop.power.test() as
someone else suggested (although this will do it for you).

There is a formula for the required sample size which is surely given
in your textbook --- in ***any*** introductory stats textbook.  The
formula is readily amenable to use with ``hand calculations''.  Find
the formula and use it.

(e) You were given this exercise to get you to learn some of the
basic ideas about confidence intervals for proportions.  Learn them.
Don't try to dodge the issue by pumping numbers through a
computerized ``black box''.

					cheers,

						Rolf Turner
						rolf at math.unb.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vsxo at hotmail.com  Sat Jul  6 15:58:17 2002
From: vsxo at hotmail.com (Remy X.O.Martin)
Date: Sat, 6 Jul 2002 15:58:17 +0200
Subject: balance in AoV (was [R] aov() and NaN)
In-Reply-To: <Pine.LNX.4.31.0207051527160.15389-100000@gannet.stats>
References: <IGOMNLHC86RN61ZSPRO4YMKKF97TSXT.3d25a89c@mirage.college-de-france.fr>
	<Pine.LNX.4.31.0207051527160.15389-100000@gannet.stats>
Message-ID: <20020706155817.0b1b8498.vsxo@hotmail.com>

On Fri, 5 Jul 2002 15:27:22 +0100 (BST), <ripley at stats.ox.ac.uk> wrote regarding "Re: balance in AoV (was [R] aov() and NaN)"

8-) On Fri, 5 Jul 2002, Remy X.O. Martin wrote:

8-) > Would it be possible to make aov like wrappers to the various special lm variants
8-) > allowing for a uniform syntax for anova?
8-) 
8-) No.
8-) 
8-) >
8-) > aov(resp~f1*f2+Error(S/(f1*f2))) ## uses lm

That's a pity. Could anybody be so kind to give an example how to rewrite the call above to make use or rlm and/or lme? If it is possible (or desirable) *at all* to do such a thing?

Thanks in advance!

RXO
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Sat Jul  6 18:13:30 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Sat, 06 Jul 2002 13:13:30 -0300
Subject: [R] R hangs up unexpectedly
In-Reply-To: <3D26380B.9080709@inrialpes.fr>
Message-ID: <4.2.2.20020706130059.00a89f00@pop3.arnet.com.ar>

Hello,

I had the following problem occurring too often lately: R hangs up 
unexpectedly.

It usually happens when I am switching windows within R or when I am going 
back to the R window from another program.
At first I thought that the more windows I had open in R (i.e. the number 
of graphs) the more likely that R hanged up, but then even with only two 
graphs open, R still hangs up.

Any suggestions on how to solve this problem?

I am running Windows Millenium.

The output of the version command follows:

platform i386-pc-mingw32
arch     i386
os       mingw32
system   i386, mingw32
status
major    1
minor    5.0
year     2002
month    04
day      29
language R

Thanks.
Daniel Mastropietro



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kriskumar at mailandnews.com  Sat Jul  6 21:28:31 2002
From: kriskumar at mailandnews.com (krishna kumar)
Date: Sat, 06 Jul 2002 12:28:31 -0700
Subject: [R] R hangs up unexpectedly
References: <4.2.2.20020706130059.00a89f00@pop3.arnet.com.ar>
Message-ID: <3D2744DF.DCC3DBDB@mailandnews.com>

It would help to see how much memory is in use for R and how much memory
you have on the box ?

Daniel Mastropietro wrote:

> Hello,
>
> I had the following problem occurring too often lately: R hangs up
> unexpectedly.
>
> It usually happens when I am switching windows within R or when I am going
> back to the R window from another program.
> At first I thought that the more windows I had open in R (i.e. the number
> of graphs) the more likely that R hanged up, but then even with only two
> graphs open, R still hangs up.
>
> Any suggestions on how to solve this problem?
>
> I am running Windows Millenium.
>
> The output of the version command follows:
>
> platform i386-pc-mingw32
> arch     i386
> os       mingw32
> system   i386, mingw32
> status
> major    1
> minor    5.0
> year     2002
> month    04
> day      29
> language R
>
> Thanks.
> Daniel Mastropietro
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Sat Jul  6 23:04:27 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Sun, 7 Jul 2002 09:04:27 +1200
Subject: [R] emacs, ess, command completion?
References: <005d01c224e8$ac61fa30$8b00a8c0@OSEK>
Message-ID: <000701c22530$b78b68e0$9c2037d2@kwan022>

Maybe take a look at Andy Liaw's comment, which was posted a few days ago,
http://www.r-project.org/nocvs/mail/r-help/2002/5511.html

Cheers,

Ko-Kang Wang

------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
www.stat.auckand.ac.nz/~kwan022

----- Original Message -----
From: "S?ren Merser" <merser at image.dk>
To: "R - help" <r-help at stat.math.ethz.ch>
Sent: Sunday, July 07, 2002 12:28 AM
Subject: [R] emacs, ess, command completion?


> I'm using
>     win XP
>     R 1.51 (Rterm)
>     emacs-20.7
>     ess-5.1.20
> and everything except from command completion works
> Is it possible to have this functionality using a windows enviroment?
>
> thanks soren
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From seniorr at aracnet.com  Sun Jul  7 01:27:11 2002
From: seniorr at aracnet.com (Russell Senior)
Date: 06 Jul 2002 16:27:11 -0700
Subject: [R] cross-platform code: windows or gnu/linux?
Message-ID: <86it3sigj4.fsf@coulee.tdb.com>


I am writing some R code that generates some figures.  I am primarily
developing on GNU/Linux, but will ultimately run the code on Windows
in order to get WMF files I can integrate in an existing document.
The win.metafile() function, of course, doesn't exist in the GNU/Linux
version of R.  I am contemplating writing an abstraction layer that
runs the right thing, but I need to know how the code can figure out
which platform it is running on.  I searched the mailing list archives
and online docs but didn't find anything relevant.  Pointers?  Thanks
in advance.

-- 
Russell Senior         ``The two chiefs turned to each other.        
seniorr at aracnet.com      Bellison uncorked a flood of horrible       
                         profanity, which, translated meant, `This is
                         extremely unusual.' ''                      
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Sun Jul  7 01:53:19 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Sat, 6 Jul 2002 16:53:19 -0700 (PDT)
Subject: [R] cross-platform code: windows or gnu/linux?
In-Reply-To: <86it3sigj4.fsf@coulee.tdb.com>
Message-ID: <Pine.GSO.4.10.10207061652580.28837-100000@quetelet.stat.ucla.edu>

.Platform$OS.type

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On 6 Jul 2002, Russell Senior wrote:

> 
> I am writing some R code that generates some figures.  I am primarily
> developing on GNU/Linux, but will ultimately run the code on Windows
> in order to get WMF files I can integrate in an existing document.
> The win.metafile() function, of course, doesn't exist in the GNU/Linux
> version of R.  I am contemplating writing an abstraction layer that
> runs the right thing, but I need to know how the code can figure out
> which platform it is running on.  I searched the mailing list archives
> and online docs but didn't find anything relevant.  Pointers?  Thanks
> in advance.
> 
> -- 
> Russell Senior         ``The two chiefs turned to each other.        
> seniorr at aracnet.com      Bellison uncorked a flood of horrible       
>                          profanity, which, translated meant, `This is
>                          extremely unusual.' ''                      
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fmng at student.math.uwaterloo.ca  Sun Jul  7 03:51:40 2002
From: fmng at student.math.uwaterloo.ca (Ng, Fred)
Date: Sat, 6 Jul 2002 21:51:40 -0400 (EDT)
Subject: [R] Obtaining Rcmd.exe for Windows
Message-ID: <Pine.SOL.4.44.0207062146270.19114-100000@agnesi.math.uwaterloo.ca>

Hi,

I've installed the latest version of R by running SetupR.exe, but it
doesn't come with Rcmd.exe.  Is there an easy way to obtain this file
without going through compiling the source code and all that?

Thanks,
Fred


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kriskumar at mailandnews.com  Sun Jul  7 04:16:19 2002
From: kriskumar at mailandnews.com (krishna kumar)
Date: Sat, 06 Jul 2002 19:16:19 -0700
Subject: [R] cross-platform code: windows or gnu/linux?
References: <86it3sigj4.fsf@coulee.tdb.com>
Message-ID: <3D27A473.4E8FAE46@mailandnews.com>

Maybe something like this?

Platform <- function()
{list( OS.type = if(charmatch("ming", version$os, nomatch=0)) "windows" else
                if(exists("unix")) "unix"  else "unkown")
}

Russell Senior wrote:

> I am writing some R code that generates some figures.  I am primarily
> developing on GNU/Linux, but will ultimately run the code on Windows
> in order to get WMF files I can integrate in an existing document.
> The win.metafile() function, of course, doesn't exist in the GNU/Linux
> version of R.  I am contemplating writing an abstraction layer that
> runs the right thing, but I need to know how the code can figure out
> which platform it is running on.  I searched the mailing list archives
> and online docs but didn't find anything relevant.  Pointers?  Thanks
> in advance.
>
> --
> Russell Senior         ``The two chiefs turned to each other.
> seniorr at aracnet.com      Bellison uncorked a flood of horrible
>                          profanity, which, translated meant, `This is
>                          extremely unusual.' ''
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Sun Jul  7 04:41:04 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Sun, 7 Jul 2002 14:41:04 +1200
Subject: [R] Obtaining Rcmd.exe for Windows
References: <Pine.SOL.4.44.0207062146270.19114-100000@agnesi.math.uwaterloo.ca>
Message-ID: <003301c2255f$bdef69a0$9c2037d2@kwan022>

Which option did you choose when you install it?

I can't remember the exact wording, but when you install it you will need to
tick the box that says installing with sources (or something equivalent, it
is the last box in the list I think).

Cheers,

Ko-Kang Wang
------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
www.stat.auckand.ac.nz/~kwan022

----- Original Message -----
From: "Ng, Fred" <fmng at student.math.uwaterloo.ca>
To: <r-help at stat.math.ethz.ch>
Sent: Sunday, July 07, 2002 1:51 PM
Subject: [R] Obtaining Rcmd.exe for Windows


> Hi,
>
> I've installed the latest version of R by running SetupR.exe, but it
> doesn't come with Rcmd.exe.  Is there an easy way to obtain this file
> without going through compiling the source code and all that?
>
> Thanks,
> Fred
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrewr at uidaho.edu  Sun Jul  7 05:29:31 2002
From: andrewr at uidaho.edu (Andrew Robinson)
Date: Sat, 06 Jul 2002 20:29:31 -0700
Subject: [R] R on Sharp Zaurus 5500?
Message-ID: <5.1.0.14.0.20020706202555.02de5080@uidaho.edu>

Hello,

has anyone tried to get R running on a Sharp Zaurus 5500?

Andrew

Andrew Robinson                  Phone: 208-885-7115
Department of Forest Resources   Fax:   208-885-6226
University of Idaho              E: andrewr at uidaho.edu
Po Box 441133                    WWW: http://www.uidaho.edu/~andrewr
Moscow, ID 83843                 and: http://www.biometrics.uidaho.edu/
No statement above may be construed to necessarily represent my employer.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Sun Jul  7 09:06:27 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 07 Jul 2002 00:06:27 -0700
Subject: [R] emacs, ess, command completion?
In-Reply-To: <005d01c224e8$ac61fa30$8b00a8c0@OSEK>
References: <005d01c224e8$ac61fa30$8b00a8c0@OSEK>
Message-ID: <87u1ncqaoc.fsf@jeeves.blindglobe.net>

>>>>> "s?ren" == S?ren Merser <merser at image.dk> writes:

    s?ren> I'm using 
    s?ren>     win XP
    s?ren>     R 1.51 (Rterm)
    s?ren>     emacs-20.7

Rumor, which has been observed by more than one person has suggested
that Emacs has problems with completion, but XEmacs doesn't.

    s?ren>     ess-5.1.20
    s?ren> and everything except from command completion works
    s?ren> Is it possible to have this functionality using a windows enviroment?



-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hjm at uninova.pt  Sun Jul  7 17:19:37 2002
From: hjm at uninova.pt (Hugo Morganho)
Date: Sun, 7 Jul 2002 16:19:37 +0100
Subject: [R] Error in tree package
Message-ID: <003501c225c9$b4fd0450$820310ac@pc-bav.uninova.pt>

    Hi.
    I'm using the tree package to fit one tree from a training set.
    I'm using the command:
        hm.tr <-tree(X1~.,teste2, mindev = 0, minsize = 2)        
    
    and i get the error:

    Error in "row.names<-.data.frame"(*tmp*, value = fit$node[1:n]) : 
            duplicate row.names are not allowed

    the frameset, has 180 columns and 16000 rows.
    The first column, takes a value from 42..61 and the others 0 or 1.

    Any help will be apreciated.

    Thanks

    Hugo

    P.s. I'm using R1.3.0 in a winnt machine


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjvbertin at hotmail.com  Sun Jul  7 18:29:03 2002
From: rjvbertin at hotmail.com (RenE J.V.Bertin)
Date: Sun, 7 Jul 2002 18:29:03 +0200
Subject: [R] re: GUI's for teaching
Message-ID: <20020707182903.74e82a65.rjvbertin@hotmail.com>

Hi,

Another praiseworthy initiative, especially point 7!! :)) However, concerning point 6, I have some doubts. Java is undoubtedly very cross-platform, but it also quite slow and a drain on resources. If you are considering Omegahat's SJava: the Windows binary is obsolete although that may be easy to remediate, and the source pakage requires an SDK to be installed, something not everybody needs otherwise. I don't know the other alternatives well enough -- I didn't like what I saw of wxWindows, though :) -- but they do not appear to be used very widely. Why don't you consider gtk? This is actively being actively developped, there exists an associated resource editor (glade), it runs on multiple platforms, and last-but-not-least there is already a beginning of a GUI interface for R written using it. An alternative is TrollTech's QT, the powerful basis for the KDE environment. It too exists on multiple platforms, and may actually be more platform-independent than GTK. I think it may be used freely in open source projects.
As to the interface design: did you see my post in this thread where I mentioned NCSS? It has a simple interface design that is quite elegant and self-explaining, and that should be easy to interface to a CLI environment like R inherently is.
I do not at this point volunteer as a developper, but I certainly will want to beta-test once you're a bit further advanced with the project!

Cheers,
RenE Bertin

PS: univ. of B.C., that's in wonderful Vancouver, isn't it? How are the dogwoods this year?
-------
Hi Folks,

I'm sorry I missed this message. Myself and a Professor at a California
university are currently designing a simplified R GUI that is targeted at
Linux, FreeBSD, MacOSX, and Windows and will provide an interface to doing
"canned" procedures and project based operations. I'm currently building
[...]
The tentative name for it is obveRsive woRkbench, and it is currently way to
early to even guess at a release date or even if the project is actually
feasible. Since the project will be open source, I'm hoping to get a few
collaborators on it (hint hint). It will be hosted on sourceforge or an
equivalent when we are ready.
[...]
6. Utilizing a cross platform GUI system, either FLTK or wxWindows in C++
or Java (depending on which is easier and more stable).
7. Heavily user tested with a focus on usability, targeting students and
regular folks, not professors of statistics :-)

Any commments on this are more than welcome, and we'll be announcing it
officially soon.

Zed A. Shaw
University of British Columbia 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deleeuw at stat.ucla.edu  Sun Jul  7 19:18:43 2002
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Sun, 7 Jul 2002 10:18:43 -0700
Subject: [R] re: GUI's for teaching
In-Reply-To: <20020707182903.74e82a65.rjvbertin@hotmail.com>
Message-ID: <96E3469C-91CD-11D6-B68D-000393860F3C@stat.ucla.edu>

There will soon be more than 10, maybe more than 20,  different GUI's
for R, and that is how it should be. You just don't want all of them on CRAN.
But generally, the more the better.

Think of Emacs on the Mac, for instance. There is Classic, Carbon, Cocoa,
Darwin, Xemacs, GNU Emacs. All running on top of the vanilla Unix code,
which can still be used from the command line. Lots of choice.

Think of TeX on OS X. Excellent implementations in Carbon (OzTeX, CMacTeX),
Cocoa (TexShop, iTeXMac), all running on top of teTeX. All
functionally basically equivalent, but differing in ease-of-use, degree
in which one can customize, flexibility. Again, lots of choice.

Of course most people on OS X will prefer Cocoa R, but some may want
to run ESS in Cocoa Emacs, and some may even want to use
gnome/KDE/Qt/wxWindows/FLTK/tcltk and so on. Great. There
is something to be said for cross-platform development, but
you cannot seriously expect someone with access to the Cocoa API's
to develop for an X11 based toolkit. And you cannot expect someone
who lives in TeXShop, Cocoa Emacs, and Chimera (Navigator)
to happily switch to a gnome/gtk interface to run their R.


On Sunday, Jul 7, 2002, at 09:29 America/Los_Angeles, RenE J.V.Bertin wrote:

> Hi,
>
> Another praiseworthy initiative, especially point 7!! :)) However, concerning point 6, I have some doubts. Java is undoubtedly very cross-platform, but it also quite slow and a drain on resources. If you are considering Omegahat's SJava: the Windows binary is obsolete although that may be easy to remediate, and the source pakage requires an SDK to be installed, something not everybody needs otherwise. I don't know the other alternatives well enough -- I didn't like what I saw of wxWindows, though :) -- but they do not appear to be used very widely. Why don't you consider gtk? This is actively being actively developped, there exists an associated resource editor (glade), it runs on multiple platforms, and last-but-not-least there is already a beginning of a GUI interface for R written using it. An alternative is TrollTech's QT, the powerful basis for the KDE environment. It too exists on multiple platforms, and may actually be more platform-independent than GTK. I think it !
 may !
> be used freely in open source projects.
> As to the interface design: did you see my post in this thread where I mentioned NCSS? It has a simple interface design that is quite elegant and self-explaining, and that should be easy to interface to a CLI environment like R inherently is.
> I do not at this point volunteer as a developper, but I certainly will want to beta-test once you're a bit further advanced with the project!
>
> Cheers,
> RenE Bertin
>
> PS: univ. of B.C., that's in wonderful Vancouver, isn't it? How are the dogwoods this year?
> -------
> Hi Folks,
>
> I'm sorry I missed this message. Myself and a Professor at a California
> university are currently designing a simplified R GUI that is targeted at
> Linux, FreeBSD, MacOSX, and Windows and will provide an interface to doing
> "canned" procedures and project based operations. I'm currently building
> [...]
> The tentative name for it is obveRsive woRkbench, and it is currently way to
> early to even guess at a release date or even if the project is actually
> feasible. Since the project will be open source, I'm hoping to get a few
> collaborators on it (hint hint). It will be hosted on sourceforge or an
> equivalent when we are ready.
> [...]
> 6. Utilizing a cross platform GUI system, either FLTK or wxWindows in C++
> or Java (depending on which is easier and more stable).
> 7. Heavily user tested with a focus on usability, targeting students and
> regular folks, not professors of statistics :-)
>
> Any commments on this are more than welcome, and we'll be announcing it
> officially soon.
>
> Zed A. Shaw
> University of British Columbia
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Jul  7 19:28:50 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Jul 2002 19:28:50 +0200
Subject: [R] R on Sharp Zaurus 5500?
In-Reply-To: <5.1.0.14.0.20020706202555.02de5080@uidaho.edu>
References: <5.1.0.14.0.20020706202555.02de5080@uidaho.edu>
Message-ID: <x2it3rih0t.fsf@biostat.ku.dk>

Andrew Robinson <andrewr at uidaho.edu> writes:

> Hello,
> 
> has anyone tried to get R running on a Sharp Zaurus 5500?
> 
> Andrew

Not that I know of. We tried getting R to run on the ARM chip
(w/Debian Linux) without success at some point. There were some nasty
FPU incompatibilities (appeared to be non-IEEE compliant ->
mishandling of NA -> downhill from there...).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ltorgo at liacc.up.pt  Sun Jul  7 19:45:57 2002
From: ltorgo at liacc.up.pt (Luis Torgo)
Date: Sun, 7 Jul 2002 18:45:57 +0100
Subject: [R] emacs, ess, command completion?
In-Reply-To: <87u1ncqaoc.fsf@jeeves.blindglobe.net>
References: <005d01c224e8$ac61fa30$8b00a8c0@OSEK> <87u1ncqaoc.fsf@jeeves.blindglobe.net>
Message-ID: <200207071845.57745.ltorgo@liacc.up.pt>

On Sunday 07 July 2002 08:06, A.J. Rossini wrote:
> >>>>> "s?ren" == S?ren Merser <merser at image.dk> writes:
>
>     s?ren> I'm using
>     s?ren>     win XP
>     s?ren>     R 1.51 (Rterm)
>     s?ren>     emacs-20.7
>
> Rumor, which has been observed by more than one person has suggested
> that Emacs has problems with completion, but XEmacs doesn't.
>
>     s?ren>     ess-5.1.20
>     s?ren> and everything except from command completion works
>     s?ren> Is it possible to have this functionality using a windows
> enviroment?

I have the same problem with XEmacs 21.4 on Win2000 Professional and R 1.5.1

-- 
Luis Torgo
    FEP/LIACC, University of Porto   Phone : (+351) 22 607 88 30
    Machine Learning Group           Fax   : (+351) 22 600 36 54
    R. Campo Alegre, 823             email : ltorgo at liacc.up.pt
    4150 PORTO   -  PORTUGAL         WWW   : http://www.liacc.up.pt/~ltorgo

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Katrin81R at aol.com  Sun Jul  7 20:07:20 2002
From: Katrin81R at aol.com (Katrin81R@aol.com)
Date: Sun, 7 Jul 2002 14:07:20 EDT
Subject: [R] Installation of package "mass"
Message-ID: <164.10484160.2a59dd58@aol.com>

Hello,
I've downloaded the package "mass" and I've tried to install it, but it 
didn't work. Can you help me (I use Windows)?
Katrin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020707/e560f42b/attachment.html

From rpeng at stat.ucla.edu  Sun Jul  7 20:27:57 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Sun, 7 Jul 2002 11:27:57 -0700 (PDT)
Subject: [R] Installation of package "mass"
In-Reply-To: <164.10484160.2a59dd58@aol.com>
Message-ID: <Pine.GSO.4.10.10207071124410.26762-100000@quetelet.stat.ucla.edu>

The MASS package is part of the VR bundle, so you can't download it
individually.  Did you download a *source* package through the web or did
you use the "Packages" menu in the Windows R?  

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Sun, 7 Jul 2002, Katrin81R at aol.com wrote:

> Hello,
> I've downloaded the package "mass" and I've tried to install it, but it 
> didn't work. Can you help me (I use Windows)?
> Katrin
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Sun Jul  7 20:57:12 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sun, 7 Jul 2002 13:57:12 -0500
Subject: [R] R on Sharp Zaurus 5500?
In-Reply-To: <x2it3rih0t.fsf@biostat.ku.dk>
References: <5.1.0.14.0.20020706202555.02de5080@uidaho.edu> <x2it3rih0t.fsf@biostat.ku.dk>
Message-ID: <20020707185712.GA10059@sonny.eddelbuettel.com>

On Sun, Jul 07, 2002 at 07:28:50PM +0200, Peter Dalgaard BSA wrote:
> Andrew Robinson <andrewr at uidaho.edu> writes:
> 
> > Hello,
> > 
> > has anyone tried to get R running on a Sharp Zaurus 5500?
> > 
> > Andrew
> 
> Not that I know of. We tried getting R to run on the ARM chip
> (w/Debian Linux) without success at some point. There were some nasty
> FPU incompatibilities (appeared to be non-IEEE compliant ->
> mishandling of NA -> downhill from there...).

Well, most of it compiles. 

In the current setting, R 1.5.1 fails with exhausted memory on ppr.f; this
might be overcome by turning the default optimization (-O2) off (to -O0).
Most of the problems we had were, IIRC, with the c/c++ and fortran
interaction for some of the add-on packages. The main R core could work well
enough on the Zaurus, but it might need some tender love, care and tweaking.

Dirk

-- 
Good judgement comes from experience; experience comes from bad judgement. 
							    -- Fred Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kriskumar at mailandnews.com  Sun Jul  7 22:40:57 2002
From: kriskumar at mailandnews.com (krishna kumar)
Date: Sun, 07 Jul 2002 13:40:57 -0700
Subject: [R] Installation of package "mass"
References: <164.10484160.2a59dd58@aol.com>
Message-ID: <3D28A759.826AC88@mailandnews.com>

Pray how did you install it?
>library(mass)
>data(hills)
>hills

should show you the scottish hills races.!!!


Katrin81R at aol.com wrote:

> Hello,
> I've downloaded the package "mass" and I've tried to install it, but
> it didn't work. Can you help me (I use Windows)?
> Katrin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020707/5bc0b07d/attachment.html

From rjvbertin at hotmail.com  Mon Jul  8 00:48:59 2002
From: rjvbertin at hotmail.com (RenE J.V. Bertin)
Date: Mon, 08 Jul 2002 00:48:59 +0200
Subject: [R] re: GUI's for teaching
Message-ID: <LAW2-F107tS5kJla9Gm00009203@hotmail.com>

Hmmm. Choice is a good thing, but so much choice?! Then why not just expect 
every user to develop his or her own GUI?!

I fully agree that whatever technology is going to be used to develop a GUI 
for R, it should ideally be something that contains a layer of abstraction 
within it, allowing it to run natively on all supported platforms, and not 
require an additional layer like (apparently) gtk needs X11 to run on the 
Mac (but afaik it is native on windows, so it will probably be carbonised or 
whatever for osx sooner or later). But to get a useful GUI that responds to 
the expectations and requirements of the largest number of people possible, 
a consensus will have to be found on the beast's phenotype (how it looks, 
what it does, etc.) and its genotype (the codebase to be used). This is how 
OpenOffice was developped in a little over a year, this is how mozilla is 
being developped (the former using its own layers of abstraction for 
interfacing with the host, the latter [mainly, methinks] using gtk). Of 
course, linux but also R itself, and probably FreeBSD on which Darwin is 
based are also developped by countless developpers -- but in concert.
I am afraid that the other alternative will result to, indeed, numerous, 
more-or-less-half-hearted attempts that will surely work, each do something 
a little differently or a little something different, leaving the user with 
the existential question which version again was able to tackle the problem 
at hand, and does it run on my system.

PS: your passionate account of choice reminded me of my own days as a 
fervent Mac user & advocate -- but it also gave me some (more) reasons why I 
will probably not go back (except when Michael Robertson decides to port 
Lindows to the PPC :)))

PPS: have you ever tried to count the number of Aquaish themes for 
gnome/gtk? Combine that with Oroborus/X (a window manager for X/Darwin in 
rootless mode), and you get pretty close -- at least to untrained eyes 8^]

Met vriendelijke groet,

RenE J.V. Bertin
College de France/LPPA
11, place Marcelin Berthelot
75005 Paris, France

>From: Jan de Leeuw <deleeuw at stat.ucla.edu>
>To: "RenE J.V.Bertin" <rjvbertin at hotmail.com>
>CC: r-help at r-project.org
>Subject: Re: [R] re: GUI's for teaching
>Date: Sun, 7 Jul 2002 10:18:43 -0700

>There will soon be more than 10, maybe more than 20,  different GUI's
>for R, and that is how it should be. You just don't want all of them on 
>CRAN.
>But generally, the more the better.
>
>Think of Emacs on the Mac, for instance. There is Classic, Carbon, Cocoa,
>Darwin, Xemacs, GNU Emacs. All running on top of the vanilla Unix code,
>which can still be used from the command line. Lots of choice.
>
>Think of TeX on OS X. Excellent implementations in Carbon (OzTeX, CMacTeX),
>Cocoa (TexShop, iTeXMac), all running on top of teTeX. All
>functionally basically equivalent, but differing in ease-of-use, degree
>in which one can customize, flexibility. Again, lots of choice.
>
>Of course most people on OS X will prefer Cocoa R, but some may want
>to run ESS in Cocoa Emacs, and some may even want to use
>gnome/KDE/Qt/wxWindows/FLTK/tcltk and so on. Great. There
>is something to be said for cross-platform development, but
>you cannot seriously expect someone with access to the Cocoa API's
>to develop for an X11 based toolkit. And you cannot expect someone
>who lives in TeXShop, Cocoa Emacs, and Chimera (Navigator)
>to happily switch to a gnome/gtk interface to run their R.


_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vsxo at hotmail.com  Mon Jul  8 01:19:59 2002
From: vsxo at hotmail.com (Remy X.O.Martin)
Date: Mon, 8 Jul 2002 01:19:59 +0200
Subject: [R] Installation of package "mass"
Message-ID: <20020708011959.3e0d38e2.vsxo@hotmail.com>

Katrin, did you use the "update from CRAN" option in the Windows GUI version? It is my experience this option does not always succeed in installing the downloaded package. Indeed, when I try to update VR this way, I get an error message concerning MASS.DLL, and the whole process (including other scheduled packages) stops. Maybe this happens when you loaded the MASS library.
However, when this happens to me, I can still open the package (which is still in Windows\temp) using WinZIP, WinRAR or other, and manuall extract the contents into the right folder. Have you tried that?

RXO

-----------
Pray how did you install it?
>library(mass)
>data(hills)
>hills

should show you the scottish hills races.!!!

Katrin81R at aol.com wrote:

> Hello,
> I've downloaded the package "mass" and I've tried to install it, but
> it didn't work. Can you help me (I use Windows)?
> Katrin 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.darnell at shrs.uq.edu.au  Mon Jul  8 03:52:38 2002
From: r.darnell at shrs.uq.edu.au (Ross Darnell)
Date: 08 Jul 2002 11:52:38 +1000
Subject: [R] write.table error
In-Reply-To: <Pine.LNX.4.31.0207050701400.13551-100000@gannet.stats>
References: <Pine.LNX.4.31.0207050701400.13551-100000@gannet.stats>
Message-ID: <m0hejbm1eh.fsf@localhost.localdomain>

OK . Point taken. Here is the original set of commands

> > > write.table(all,file="agree.csv",row.names=F)
> > Error in "rownames<-"(*tmp*, value = row.names(x)) :
> >     length of dimnames[1] not equal to array extent
> > > is.data.frame(all)
> > [1] TRUE
> > > dim(all)
> > [1] 854  18
> > > length(row.names(all))
> > [1] 854

Drop the row.names argument then the traceback
> write.table(all,"agree.csv",sep=",")
Error in "rownames<-"(*tmp*, value = row.names(x)) : 
	length of dimnames[1] not equal to array extent
> traceback()
4: "rownames<-"(*tmp*, value = row.names(x))
3: is.na.data.frame(x)
2: is.na(x)
1: write.table(all, "agree.csv", sep = ",")
> 

Then trying  the is.nadata.frame function

> write.ex <- is.na.data.frame(all)
Error in "rownames<-"(*tmp*, value = row.names(x)) : 
	length of dimnames[1] not equal to array extent
> traceback()
2: "rownames<-"(*tmp*, value = row.names(x))
1: is.na.data.frame(all)

Repeat what is.na.data.frame does


> y <- do.call("cbind",lapply(all,"is.na"))
> rownames(y) <- row.names(all)
Error in "rownames<-"(*tmp*, value = row.names(all)) : 
	length of dimnames[1] not equal to array extent

Let's have a look at "y"

> str(y)
 logi [1:1708, 1:18] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE ...
 - attr(*, "dimnames")=List of 2
  ..$ : NULL
  ..$ : chr [1:18] "time" "obs" "state1" "state2" ...
>

There is twice as many rows in "y" as there should be. Compare first
854 with second.
 
> sum(y[1:854,]!=y[1:854,])
[1] 0

Why does this happen with this particular data frame! Try each variable

> names(all)
 [1] "time"      "obs"       "state1"    "state2"    "name"      "agree"    
 [7] "symmetric" "Name"      "AWIA1"     "AWIA2"     "AS1"       "AS2"      
[13] "AWAA1"     "AWAA2"     "DA1"       "DA2"       "DR1"       "DR2"      
> ...
> length(all$symmetric)
[1] 1708

This is twice as long as other variables. Why did I think this was
impossible?  Can variables in data.frames by of different length?

> yy <- data.frame(v1=1:10,v2=1:15)
Error in data.frame(v1 = 1:10, v2 = 1:15) : 
	arguments imply differing number of rows: 10, 15
> 

Slightly confused

Thanks for the help

Ross Darnell


<ripley at stats.ox.ac.uk> writes:

> You gien us nothing to reproduce this with, and other examples work.
> R does have debugging tools that would allow you to investigate this.
> In particular, as rownames<- is not actually used in write.table,
> the result of traceback() is the minimum that is needed when reporting an
> error.
> 
> Just one possbility: it should be `row.names=FALSE', and if you had a
> variable called F this might be the explanation.
> 
> On 5 Jul 2002, Ross Darnell wrote:
> 
> > I am getting the following when trying to write a dataframe to a file.
> >
> > I would appreciate any advice to where the problem lies.
> >
> > Thanks
> >
> > Ross Darnell
> > > write.table(all,file="agree.csv",row.names=F)
> > Error in "rownames<-"(*tmp*, value = row.names(x)) :
> >     length of dimnames[1] not equal to array extent
> > > is.data.frame(all)
> > [1] TRUE
> > > dim(all)
> > [1] 854  18
> > > length(row.names(all))
> > [1] 854
> > >
> > > R.version
> >          _
> > platform i686-pc-linux-gnu
> > arch     i686
> > os       linux-gnu
> > system   i686, linux-gnu
> > status
> > major    1
> > minor    5.0
> > year     2002
> > month    04
> > day      29
> > language R
> > >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andreww at cheque.uq.edu.au  Mon Jul  8 05:37:21 2002
From: andreww at cheque.uq.edu.au (Andrew C. Ward)
Date: Mon, 8 Jul 2002 13:37:21 +1000
Subject: [R] one-sample binomial test
Message-ID: <000901c22630$c4f80730$67e86682@cheque.uq.edu.au>

This reply, while probably seen as helpful by some, reminds me that
sometimes the price paid for "free" software is to endure rude, patronising
interactions with some of those in the user or developer community.

Tim Wilson originally wrote:
>> Here's how I solved a problem for my stats class. I'm pretty sure I
>> understand what's going on, but I wonder if there's a more direct way
>> to solve it.

Rolf Turner replied:
>(a) You definitely don't have to --- and SHOULDN'T --- use ``trial
>and error''.

>(b) You should talk to the instructor of your stats class. That's
>what he or she is paid for.

>(c) You should also read your textbook.

>(d) This is a very standard sort of problem. It is also very easy to
>solve with pencil and paper (or at the very least a hand
>calculator). You do ***not*** need to use binom.test() (in fact this
>is counter productive) nor do you need to use prop.power.test() as
>someone else suggested (although this will do it for you).

>There is a formula for the required sample size which is surely given
>in your textbook --- in ***any*** introductory stats textbook. The
>formula is readily amenable to use with ``hand calculations''. Find
>the formula and use it.

>(e) You were given this exercise to get you to learn some of the
>basic ideas about confidence intervals for proportions. Learn them.
>Don't try to dodge the issue by pumping numbers through a
>computerized ``black box''.

Regards,

Andrew C. Ward
CAPE Centre
Department of Chemical Engineering
The University of Queensland
Brisbane Qld 4072 Australia

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Mon Jul  8 05:55:33 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 07 Jul 2002 20:55:33 -0700
Subject: [R] one-sample binomial test
In-Reply-To: <000901c22630$c4f80730$67e86682@cheque.uq.edu.au>
References: <000901c22630$c4f80730$67e86682@cheque.uq.edu.au>
Message-ID: <87fzyuzxe2.fsf@jeeves.blindglobe.net>


I've got two minds on this.  On the positive side, it's nice to see an
intro student actually try to substitute R for SPSS and similar
point-and-quite-possibly-shoot-yourself-in-the-foot packages.
Secondly, trial and error IS how most people figure it out, at the
very basic level, and using R as a calculator is one way to do it.
Numerical (and statistical) approximations and simulation lie at the
heart of the best sample size calcs, though it takes a long, long time
to appreciate the full ramifications of this :-).  Go Tim!  You've got
a long way to go...

However, as friendly and useful as some of the responses and
respondents can be, for better or worse, this isn't quite an
appropriate list for statistics help, so I do sympathize with Rolf.

best,
-tony

>>>>> "andrew" == Andrew C Ward <andreww at cheque.uq.edu.au> writes:

    andrew> This reply, while probably seen as helpful by some, reminds me that
    andrew> sometimes the price paid for "free" software is to endure rude, patronising
    andrew> interactions with some of those in the user or developer community.

    andrew> Tim Wilson originally wrote:
    >>> Here's how I solved a problem for my stats class. I'm pretty sure I
    >>> understand what's going on, but I wonder if there's a more direct way
    >>> to solve it.

    andrew> Rolf Turner replied:
    >> (a) You definitely don't have to --- and SHOULDN'T --- use ``trial
    >> and error''.

    >> (b) You should talk to the instructor of your stats class. That's
    >> what he or she is paid for.

    >> (c) You should also read your textbook.

    >> (d) This is a very standard sort of problem. It is also very easy to
    >> solve with pencil and paper (or at the very least a hand
    >> calculator). You do ***not*** need to use binom.test() (in fact this
    >> is counter productive) nor do you need to use prop.power.test() as
    >> someone else suggested (although this will do it for you).

    >> There is a formula for the required sample size which is surely given
    >> in your textbook --- in ***any*** introductory stats textbook. The
    >> formula is readily amenable to use with ``hand calculations''. Find
    >> the formula and use it.

    >> (e) You were given this exercise to get you to learn some of the
    >> basic ideas about confidence intervals for proportions. Learn them.
    >> Don't try to dodge the issue by pumping numbers through a
    >> computerized ``black box''.

    andrew> Regards,

    andrew> Andrew C. Ward
    andrew> CAPE Centre
    andrew> Department of Chemical Engineering
    andrew> The University of Queensland
    andrew> Brisbane Qld 4072 Australia

    andrew> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    andrew> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
    andrew> Send "info", "help", or "[un]subscribe"
    andrew> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
    andrew> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Mon Jul  8 06:22:40 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Mon, 8 Jul 2002 14:22:40 +1000 
Subject: [R] one-sample binomial test
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A90C1C7F@Roper-CV.qld.cmis.csiro.au>



Andrew Ward observes: 

> This reply, while probably seen as helpful by some, reminds me that
> sometimes the price paid for "free" software is to endure rude,
patronising
> interactions with some of those in the user or developer community.
 
[WNV]  Now there's an insight!  In fact I think that once you get used to
the style you get to appreciate it.  The commercial world substitutes
politeness for candour.  True candour can be disconcerting but it does get
the message across much quicker.  

This rather reminds me of the story of the two sons in the gospel.  One
blandly assures his father that he will do the work and then goes away and
forgets about it.  The other grumbles, complains and winges like mad but in
the end, does in fact do it.  Happily my sons and daughters are more like
the latter, bless 'em.

Bill.

> Tim Wilson originally wrote:
> >> Here's how I solved a problem for my stats class. I'm pretty sure I
> >> understand what's going on, but I wonder if there's a more direct way
> >> to solve it.
> 
> Rolf Turner replied:
> >(a) You definitely don't have to --- and SHOULDN'T --- use ``trial
> >and error''.
> 
> >(b) You should talk to the instructor of your stats class. That's
> >what he or she is paid for.
> 
> >(c) You should also read your textbook.
> 
> >(d) This is a very standard sort of problem. It is also very easy to
> >solve with pencil and paper (or at the very least a hand
> >calculator). You do ***not*** need to use binom.test() (in fact this
> >is counter productive) nor do you need to use prop.power.test() as
> >someone else suggested (although this will do it for you).
> 
> >There is a formula for the required sample size which is surely given
> >in your textbook --- in ***any*** introductory stats textbook. The
> >formula is readily amenable to use with ``hand calculations''. Find
> >the formula and use it.
> 
> >(e) You were given this exercise to get you to learn some of the
> >basic ideas about confidence intervals for proportions. Learn them.
> >Don't try to dodge the issue by pumping numbers through a
> >computerized ``black box''.
> 
> Regards,
> 
> Andrew C. Ward
> CAPE Centre
> Department of Chemical Engineering
> The University of Queensland
> Brisbane Qld 4072 Australia
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dieter.menne at menne-biomed.de  Mon Jul  8 08:52:05 2002
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Mon, 8 Jul 2002 08:52:05 +0200
Subject: [R] Script file editors for Windows - submit highlighted text? 
Message-ID: <JLEPLGAANFCEAEDCAGJNAEIACCAA.dieter.menne@menne-biomed.de>

I use the free version of Notetab (www.notetab.com) which supports
macros, and the macro file below. Ctrl-space (repeat last macro) will
send any highlighted text to an open GUI.


^!FocusDoc
;Save the file if it has been modified
;^!Save
;Select the highlighted block.
^!If ^$GetSelSize$ = 0 END ELSE SelectLines

:SelectLines
:GetSelection
^!Set %AnyText%=^$GetSelection$
;Write the selected text to a temporary file in the Windows temp. dir.
^!Set %fileName%=^$GetTmpPath$std0001.r
^!Set %fileName%=^$StrReplace(\;/;^%fileName%;True;False)$

^!TextToFile ^%fileName% ^%AnyText%
; Copy "source" to the clipboard
^!SetClipboard source("^%fileName%")
; Switch to R
^!FocusApp RGui*
;ESC to clear the Command window, paste the command, hit enter
^!Keyboard ESC
^!Keyboard CTRL+V
^!Keyboard ENTER


In addition, here my favorite reg-file to start R with right mouse button in
Explorer in a given directory

REGEDIT4


[HKEY_CLASSES_ROOT\Directory\shell\Run R]


[HKEY_CLASSES_ROOT\Directory\shell\Run R\command]
@="\"C:\\Program Files\\R\\rw1050\\bin\\Rgui.exe\" --internet2"

Dieter Menne

---------------------------------------
Dr. Dieter Menne
Biomed Software
72074 T?bingen
Tel (49) (7071) 52176
FAX (49) (7071) 55 10 46
dieter.menne at menne-biomed.de
www.menne-biomed.de



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xcong at stat.rice.edu  Mon Jul  8 09:12:03 2002
From: xcong at stat.rice.edu (Julie Cong)
Date: Mon, 8 Jul 2002 09:12:03 +0200
Subject: [R] Which function to use for multiple comparison?
Message-ID: <15657.15171.706443.873582@gargle.gargle.HOWL>

       [Moderator: This was erronously sent to R-announce, 
		   and filtered fortunately ]

Hi,

This is my first time to use R. I'm wondering which function I can use to do
multiple comparison. I have an lm object and want to do multiple comparison
based on this object. Splus has a function multicomp() but I could not find
a similar one in R. Thanks in advance. Really appreciate it.

Julie

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Mon Jul  8 09:44:35 2002
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Mon, 8 Jul 2002 09:44:35 +0200
Subject: [R] re: GUI's for teaching
In-Reply-To: <LAW2-F107tS5kJla9Gm00009203@hotmail.com>
Message-ID: <MABBLJDICACNFOLGIHJOEEOBCMAA.phgrosje@ulb.ac.be>

The large number of projects for R GUI interfaces are not to be regarded as
a negative aspect. It is a bit like life evolution: many trials, and at the
end, only the few best will survive. In computers market, there are other
rules that can result in the survival of a lower quality product (see M$,
for instance), but that is not the case for open source pieces of software.
Ultimately, the best idea in each separate interface will be merged in a few
ones, with clearly dedicated use (poweruser, teaching, beginner, etc...).
Now, the crucial part is to initiate projects, think, develop, rethink, and
redevelop,... and *to discuss ideas*, which is exactly what we do here. The
thread on R GUI is already long, and still continues, indicating many
interests. I believe that it should be nice to put all this together and
make a little R GUI Web site with perhaps a dedicated r-gui-develop mailing
list. Does somebody already started something like that, or plan to do so?
Otherwise, I volonteer for building the Web site and will make a page which
summarizes ideas and point to web pages for the various R GUI projects. I
have access to all mails in this list, and know about Omegahat, RWeb, R-Com.
If somebody else initiated a R GUI project, could he send me a web page
link, or a little summary of his project?

Best,

Philippe Grosjean

...........]<(({?<...............<?}))><...............................
( ( ( ( (
 ) ) ) ) )	Philippe Grosjean
( ( ( ( (
 ) ) ) ) )	IFREMER Nantes - DEL/AO
( ( ( ( (   rue de l'Ile d'Yeu, BP 21105, 44311 Nantes Cedex 3
 ) ) ) ) )  tel: (33) 02.40.37.42.29, fax: (33) 02.40.37.42.41
( ( ( ( (	e-mail: philippe.grosjean at ifremer.fr
 ) ) ) ) )
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
( ( ( ( (      "I'm 100% confident that p is between 0 and 1"
 ) ) ) ) )                                L. Gonick & W. Smith (1993)
.......................................................................

-----Message d'origine-----
De : owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]De la part de RenE J.V. Bertin
Envoy? : lundi 8 juillet 2002 00:49
? : deleeuw at stat.ucla.edu
Cc : r-help at r-project.org
Objet : Re: [R] re: GUI's for teaching


Hmmm. Choice is a good thing, but so much choice?! Then why not just expect
every user to develop his or her own GUI?!

I fully agree that whatever technology is going to be used to develop a GUI
for R, it should ideally be something that contains a layer of abstraction
within it, allowing it to run natively on all supported platforms, and not
require an additional layer like (apparently) gtk needs X11 to run on the
Mac (but afaik it is native on windows, so it will probably be carbonised or
whatever for osx sooner or later). But to get a useful GUI that responds to
the expectations and requirements of the largest number of people possible,
a consensus will have to be found on the beast's phenotype (how it looks,
what it does, etc.) and its genotype (the codebase to be used). This is how
OpenOffice was developped in a little over a year, this is how mozilla is
being developped (the former using its own layers of abstraction for
interfacing with the host, the latter [mainly, methinks] using gtk). Of
course, linux but also R itself, and probably FreeBSD on which Darwin is
based are also developped by countless developpers -- but in concert.
I am afraid that the other alternative will result to, indeed, numerous,
more-or-less-half-hearted attempts that will surely work, each do something
a little differently or a little something different, leaving the user with
the existential question which version again was able to tackle the problem
at hand, and does it run on my system.

PS: your passionate account of choice reminded me of my own days as a
fervent Mac user & advocate -- but it also gave me some (more) reasons why I
will probably not go back (except when Michael Robertson decides to port
Lindows to the PPC :)))

PPS: have you ever tried to count the number of Aquaish themes for
gnome/gtk? Combine that with Oroborus/X (a window manager for X/Darwin in
rootless mode), and you get pretty close -- at least to untrained eyes 8^]

Met vriendelijke groet,

RenE J.V. Bertin
College de France/LPPA
11, place Marcelin Berthelot
75005 Paris, France

>From: Jan de Leeuw <deleeuw at stat.ucla.edu>
>To: "RenE J.V.Bertin" <rjvbertin at hotmail.com>
>CC: r-help at r-project.org
>Subject: Re: [R] re: GUI's for teaching
>Date: Sun, 7 Jul 2002 10:18:43 -0700

>There will soon be more than 10, maybe more than 20,  different GUI's
>for R, and that is how it should be. You just don't want all of them on
>CRAN.
>But generally, the more the better.
>
>Think of Emacs on the Mac, for instance. There is Classic, Carbon, Cocoa,
>Darwin, Xemacs, GNU Emacs. All running on top of the vanilla Unix code,
>which can still be used from the command line. Lots of choice.
>
>Think of TeX on OS X. Excellent implementations in Carbon (OzTeX, CMacTeX),
>Cocoa (TexShop, iTeXMac), all running on top of teTeX. All
>functionally basically equivalent, but differing in ease-of-use, degree
>in which one can customize, flexibility. Again, lots of choice.
>
>Of course most people on OS X will prefer Cocoa R, but some may want
>to run ESS in Cocoa Emacs, and some may even want to use
>gnome/KDE/Qt/wxWindows/FLTK/tcltk and so on. Great. There
>is something to be said for cross-platform development, but
>you cannot seriously expect someone with access to the Cocoa API's
>to develop for an X11 based toolkit. And you cannot expect someone
>who lives in TeXShop, Cocoa Emacs, and Chimera (Navigator)
>to happily switch to a gnome/gtk interface to run their R.


_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlorino at vet-alfort.fr  Mon Jul  8 09:47:10 2002
From: tlorino at vet-alfort.fr (tlorino@vet-alfort.fr)
Date: Mon, 8 Jul 2002 09:47:10 +0200
Subject: [R] Statemement by recurrence avoiding loop
Message-ID: <954757741.20020708094710@vet-alfort.fr>

Dear R users,

I would like to calculate a cumulative sum as following: on the i-th row, in the
j-th column of a matrix, I would like to obtain the sum of the (i-1) preceding elements of
this j-th column.
Could I avoid a "for" loop?

Thank you,
Tristan Lorino

---------------------- 
?cole Nationale V?t?rinaire d'Alfort - http://www.vet-alfort.fr,
T?l. 01 43 96 70 33
M?l. tlorino at vet-alfort.fr
Site personnel : http://daedale.free.fr

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adrian.trapletti at lmttrading.com  Mon Jul  8 09:45:26 2002
From: adrian.trapletti at lmttrading.com (Adrian Trapletti)
Date: Mon, 08 Jul 2002 09:45:26 +0200
Subject: [R] tseries library coredumps on redhat6.1
References: <200207060201.EAA18492@stat.math.ethz.ch>
Message-ID: <3D294316.40AC7EDA@lmttrading.com>

>
> Date: Fri, 5 Jul 2002 15:21:19 -0400
> From: krishna kumar <kriskumar at mailandnews.com>
> Subject: RE: [R] tseries library coredumps on redhat6.1
>
> Martyn,
>
> >If I remember correctly, there was a problem with the fortran compiler
> >on Red Hat 6.1, so you will get this behaviour from any R package
> >that contains fortran code (neither wavethresh nor boot do).
>
> Would a new fortran compile install fix it?. Or would there be other
> lib-dependencies of the fortran compiler? Kindly enlighten.

see the r-help archives, e.g.,

http://www.r-project.org/nocvs/mail/r-devel/2001/0116.html

best
Adrian

--
Dr. Adrian Trapletti   Phone:       +41 (0)1 994 56 31
Wildsbergstrasse 31    Fax  :       +41 (0)1 994 56 33
CH-8610 Uster          Email:   a.trapletti at bluewin.ch
Switzerland            WWW  :  trapletti.homelinux.com



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sbarbar at uni-goettingen.de  Mon Jul  8 10:02:49 2002
From: sbarbar at uni-goettingen.de (salvatore barbaro)
Date: Mon, 8 Jul 2002 10:02:49 +0200
Subject: [R] reading large data sets
In-Reply-To: <D1B31937221DD511822D0008C724AB8BC5D014@c009485.winterthur.ch>
Message-ID: <3D29634A.11575.228B4A@localhost>

Dear Rama Giorgia,

if you are using R under Unix you should call R with

R --vsize=600M --nsize=25000k

Further, use scan() directly. It works much more better than 
read.table(). 

Greetings

s.




On 3 Jul 2002, at 9:49, Rama Giorgia wrote:


I have some difficulties in reading big dataset; I have to import a
dataset with 1'661'852 observations saved in a 51.4Mb - txt file.
 I was wandering if this is a memory size problem or if I realy can't
 import such big datasets. If the memory allocated to my R is not
 enough, I would like to know exactly which comands I should use 
in
 order to read and use my large dataset.   

I Looking forward to hearing from you.

    Giorgia Rama
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-.- r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", 
"help",
or "[un]subscribe" (in the "body", not the subject !)  To:
r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._._

salvatore barbaro
department of public economics
platz der g?ttinger sieben 3
37073 g?ttingen
tel.: +49 551 3919704
fax:  +49 551 39 7353
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Shawn.Lee at asml.com  Mon Jul  8 10:27:09 2002
From: Shawn.Lee at asml.com (Shawn Lee)
Date: Mon, 08 Jul 2002 17:27:09 +0900
Subject: [R] Statemement by recurrence avoiding loop
References: <954757741.20020708094710@vet-alfort.fr>
Message-ID: <3D294CDC.2EB7D70@korea.asml.nl>

Please check the ?cumsum.

cumsum[x[,,j])[i]

Kind Regards, Shawn Lee


tlorino at vet-alfort.fr wrote:

> Dear R users,
>
> I would like to calculate a cumulative sum as following: on the i-th row, in the
> j-th column of a matrix, I would like to obtain the sum of the (i-1) preceding elements of
> this j-th column.
> Could I avoid a "for" loop?
>
> Thank you,
> Tristan Lorino
>
> ----------------------
> ?cole Nationale V?t?rinaire d'Alfort - http://www.vet-alfort.fr,
> T?l. 01 43 96 70 33
> M?l. tlorino at vet-alfort.fr
> Site personnel : http://daedale.free.fr
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Shawn.Lee.vcf
Type: text/x-vcard
Size: 339 bytes
Desc: Card for Shawn Lee
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020708/96da6271/Shawn.Lee.vcf

From baron at cattell.psych.upenn.edu  Mon Jul  8 10:28:38 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Mon, 8 Jul 2002 04:28:38 -0400
Subject: [R] Statemement by recurrence avoiding loop
In-Reply-To: <954757741.20020708094710@vet-alfort.fr>; from tlorino@vet-alfort.fr on Mon, Jul 08, 2002 at 09:47:10AM +0200
References: <954757741.20020708094710@vet-alfort.fr>
Message-ID: <20020708042838.A14847@cattell.psych.upenn.edu>

On 07/08/02 09:47, tlorino at vet-alfort.fr wrote:
>Dear R users,
>
>I would like to calculate a cumulative sum as following: on the i-th row, in the
>j-th column of a matrix, I would like to obtain the sum of the (i-1) preceding elements of
>this j-th column.
>Could I avoid a "for" loop?

If the matrix is m1, then

apply(m1,1,cumsum)

does it, but the result it transformed, so if you want to put it
back so that rows in the new matrix correspond to rows in the old
matrix:

t(apply(m1,1,cumsum))

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page:            http://www.sas.upenn.edu/~baron
R page:               http://finzi.psych.upenn.edu/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Jul  8 10:31:57 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 8 Jul 2002 10:31:57 +0200
Subject: [R] tseries library coredumps on redhat6.1
In-Reply-To: <3D26ED76@mailandnews.com>
References: <3D26ED76@mailandnews.com>
Message-ID: <15657.19965.282398.49016@gargle.gargle.HOWL>

>>>>> "krishna" == krishna kumar <kriskumar at mailandnews.com> writes:

    krishna> Martyn,
    >> If I remember correctly, there was a problem with the
    >> fortran compiler on Red Hat 6.1, so you will get this
    >> behaviour from any R package that contains fortran code
    >> (neither wavethresh nor boot do).

    krishna> Would a new fortran compile install fix it?. Or
    krishna> would there be other lib-dependencies of the
    krishna> fortran compiler? Kindly enlighten.

No, not unless you fix your linux installation by upgrading it,
or if that's not possible by installing a new GNU compiler suite
{gcc/g77+ header +..} which is not quite trivial!

    krishna> Will let u know what i find out.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From anielsen at dina.kvl.dk  Mon Jul  8 10:32:10 2002
From: anielsen at dina.kvl.dk (Anders Nielsen)
Date: 08 Jul 2002 10:32:10 +0200
Subject: [R] Statemement by recurrence avoiding loop
In-Reply-To: <954757741.20020708094710@vet-alfort.fr>
References: <954757741.20020708094710@vet-alfort.fr>
Message-ID: <1026117130.2148.14.camel@fisher.dina.kvl.dk>

Hi Tristan  

I think the following solves most of your
problem  

Kind regards, 

Anders. 

> x<-matrix(1:9,3)
> apply(x,2,cumsum)
     [,1] [,2] [,3]
[1,]    1    4    7
[2,]    3    9   15
[3,]    6   15   24



On Mon, 2002-07-08 at 09:47, tlorino at vet-alfort.fr wrote:
> Dear R users,
> 
> I would like to calculate a cumulative sum as following: on the i-th row, in the
> j-th column of a matrix, I would like to obtain the sum of the (i-1) preceding elements of
> this j-th column.
> Could I avoid a "for" loop?
> 
> Thank you,
> Tristan Lorino
> 
> ---------------------- 
> ?cole Nationale V?t?rinaire d'Alfort - http://www.vet-alfort.fr,
> T?l. 01 43 96 70 33
> M?l. tlorino at vet-alfort.fr
> Site personnel : http://daedale.free.fr
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jul  8 10:50:51 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Jul 2002 10:50:51 +0200
Subject: [R] R on Sharp Zaurus 5500?
In-Reply-To: <20020707185712.GA10059@sonny.eddelbuettel.com>
References: <5.1.0.14.0.20020706202555.02de5080@uidaho.edu>
	<x2it3rih0t.fsf@biostat.ku.dk>
	<20020707185712.GA10059@sonny.eddelbuettel.com>
Message-ID: <x2ptxyy55g.fsf@biostat.ku.dk>

Dirk Eddelbuettel <edd at debian.org> writes:

> On Sun, Jul 07, 2002 at 07:28:50PM +0200, Peter Dalgaard BSA wrote:
> > Andrew Robinson <andrewr at uidaho.edu> writes:
> > 
> > > Hello,
> > > 
> > > has anyone tried to get R running on a Sharp Zaurus 5500?
> > > 
> > > Andrew
> > 
> > Not that I know of. We tried getting R to run on the ARM chip
> > (w/Debian Linux) without success at some point. There were some nasty
> > FPU incompatibilities (appeared to be non-IEEE compliant ->
> > mishandling of NA -> downhill from there...).
> 
> Well, most of it compiles. 
> 
> In the current setting, R 1.5.1 fails with exhausted memory on ppr.f; this
> might be overcome by turning the default optimization (-O2) off (to -O0).
> Most of the problems we had were, IIRC, with the c/c++ and fortran
> interaction for some of the add-on packages. The main R core could work well
> enough on the Zaurus, but it might need some tender love, care and tweaking.

Dirk, help me get this straight: Do the cross-compile libraries for
the Zauron work better than those for the the Debian/ARM port? Or did
both improve substantially since last we played with it? (One of which
seems not unlikely since they appear to have Java running). Otherwise,
be very suspicious and check that it not only runs, but also gives
correct results for cases with missing values...

>From my peeks at the Zauron docs, it would seem that you'd need to
write a new graphics driver for the embedded-Qt stuff since there's no
ordinary X server running on the machine. If that would work on
generic Qt to make up a "kR" interface (KDE-look+feel compatible),
that could be well worth it anyway.

        -p

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jul  8 11:06:25 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Jul 2002 11:06:25 +0200
Subject: [R] one-sample binomial test
In-Reply-To: <E09E527B56BE2D438A3D6A246DDD27A90C1C7F@Roper-CV.qld.cmis.csiro.au>
References: <E09E527B56BE2D438A3D6A246DDD27A90C1C7F@Roper-CV.qld.cmis.csiro.au>
Message-ID: <x2lm8my4fi.fsf@biostat.ku.dk>

Bill.Venables at cmis.csiro.au writes:

> Andrew Ward observes: 
> 
> > This reply, while probably seen as helpful by some, reminds me that
> > sometimes the price paid for "free" software is to endure rude,
> patronising
> > interactions with some of those in the user or developer community.
>  
> [WNV]  Now there's an insight!  In fact I think that once you get used to
> the style you get to appreciate it.  The commercial world substitutes
> politeness for candour.  True candour can be disconcerting but it does get
> the message across much quicker.  

Also, this has less to do with free software than with the Usenet (and
general academic) traditions of dealing with students. It is necessary
to avoid actually doing their homework for them, but you can supply a
hint or two, often in the style of indicating what the true purpose of
the exercise is and how the student was expected to attack it. That's
essentially what happened here, and yes, it is patronizing, but that
sort of lies in the relations from the start.

BTW: power.prop.test solves a slightly different problem that the CI
length approach used in some textbooks. And even when the problem is
the same, the approximation in R could be different from the one in
the text book, which by some definitions could be a "wrong" result...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Jul  8 11:05:52 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 8 Jul 2002 11:05:52 +0200
Subject: [R] write.table error
In-Reply-To: <m0hejbm1eh.fsf@localhost.localdomain>
References: <Pine.LNX.4.31.0207050701400.13551-100000@gannet.stats>
	<m0hejbm1eh.fsf@localhost.localdomain>
Message-ID: <15657.22000.738171.929389@gargle.gargle.HOWL>

>>>>> "RossD" == Ross Darnell <r.darnell at shrs.uq.edu.au> writes:

    RossD> OK . Point taken. Here is the original set of commands
    >> > > write.table(all,file="agree.csv",row.names=F)
    >> > Error in "rownames<-"(*tmp*, value = row.names(x)) :
    >> >     length of dimnames[1] not equal to array extent
    >> > > is.data.frame(all)
    >> > [1] TRUE
    >> > > dim(all)
    >> > [1] 854  18
    >> > > length(row.names(all))
    >> > [1] 854

    <<.......>>>>

    >> y <- do.call("cbind",lapply(all,"is.na"))
    >> rownames(y) <- row.names(all)
    RossD> Error in "rownames<-"(*tmp*, value = row.names(all)) : 
    RossD> length of dimnames[1] not equal to array extent

    RossD> Let's have a look at "y"

    >> str(y)
    RossD> logi [1:1708, 1:18] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE ...
    RossD> - attr(*, "dimnames")=List of 2
    RossD> ..$ : NULL
    RossD> ..$ : chr [1:18] "time" "obs" "state1" "state2" ...
    >> 

    RossD> There is twice as many rows in "y" as there should be. Compare first
    RossD> 854 with second.
 
    >> sum(y[1:854,]!=y[1:854,])
    RossD> [1] 0

    RossD> Why does this happen with this particular data frame! Try each variable

    >> names(all)
    RossD> [1] "time"      "obs"       "state1"    "state2"    "name"      "agree"    
    RossD> [7] "symmetric" "Name"      "AWIA1"     "AWIA2"     "AS1"       "AS2"      
    RossD> [13] "AWAA1"     "AWAA2"     "DA1"       "DA2"       "DR1"       "DR2"      
    >> ...
    >> length(all$symmetric)
    RossD> [1] 1708

    RossD> This is twice as long as other variables. Why did I think this was
    RossD> impossible?  Can variables in data.frames by of different length?


    >> yy <- data.frame(v1=1:10,v2=1:15)
    RossD> Error in data.frame(v1 = 1:10, v2 = 1:15) : 
    RossD> arguments imply differing number of rows: 10, 15

    RossD> Slightly confused

as you show here, the answer is "no",
variables in data.frames must have compatible `size'.  
In the case of *vector* variables, they should all have equal length.

*However*
1) data.frames can contain _matrix_ variables in addition to
   vector ones.  Now, it's not the length but nrow() of the
   matrix which must be equal to ``nrow(<data.frame>)''  
   and the length of a 2 column matrix is just what you had : 2 * nrow()
   So my guess is,  the "symmetric" variable came from a matrix one ?

2) The data.frame class requires the above length/nrow
   compatibility, but in the current "S3" class system, there
   will always be many ways to construct data.frames (or any other
   class) of improper structure {hint: ?structure}.
   Not so however, if you use  data.frame() , as.data.frame()
   and other documented ways to construct data frames.

I think we should try to find out --offline maybe-- how you came
to have your "all" data.frame the way you got it.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Mon Jul  8 12:44:08 2002
From: ernesto at ipimar.pt (Ernesto Jardim)
Date: 08 Jul 2002 11:44:08 +0100
Subject: [R] R GUI's - I'm lost !!
Message-ID: <1026125048.12615.13.camel@gandalf>

Hi

The thread on R GUI is very interesting and I've tried to follow it but
I'm allready lost and there are no GUI's yet :)

Is it possible to create a site inside r-project.org for R GUI's, so
that the information is compiled and development can be followed by us,
the potential users ? 

I volunteer to help but I don't have a server or experience on web sites
to make it my self. So if there will be a coordinator I'm available to
help.

Thanks 

EJ


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adrian.trapletti at lmttrading.com  Mon Jul  8 11:42:16 2002
From: adrian.trapletti at lmttrading.com (Adrian Trapletti)
Date: Mon, 08 Jul 2002 11:42:16 +0200
Subject: [R] nnet
References: <200206290201.EAA02735@stat.math.ethz.ch>
Message-ID: <3D295E78.37933234@lmttrading.com>

> Date: Fri, 28 Jun 2002 13:01:55 +0200
> From: Nader Emami <emami at knmi.nl>
> Subject: [R] nnet
>
> Hello,
>
> I have analysed  univariable (temperature) time series with ARIMA module
> and  I would like to analyse this with Neural Networks. My question is:
> Is the "nnet" module appropriate for this experiment? Maybe there is a
> another module which I can use for my experiment!
>
> Regards,
> Nader

You could also try the ffnet package: http://cran.r-project.org/contrib/extra/ffnet/ffnet_0.6-6.BCD.linux.R.tar.gz, where I have implemented some time series functionalities. The above link is a binary distribution for linux. In principle, the package is also available in source code form, but then you need Numerical Recipes in C, to get the full source code. However, I have to warn you. I didn?t work for a long time on ffnet (and I have no plans to do so in the future). So some functionalities are brocken with the newer versions of R, although the main functions still work with R-1.5.0.

best
Adrian

--
Dr. Adrian Trapletti   Phone:       +41 (0)1 994 56 31
Wildsbergstrasse 31    Fax  :       +41 (0)1 994 56 33
CH-8610 Uster          Email:   a.trapletti at bluewin.ch
Switzerland            WWW  :  trapletti.homelinux.com



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Mon Jul  8 11:00:04 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Mon, 8 Jul 2002 11:00:04 +0200
Subject: [R] Statemement by recurrence avoiding loop
In-Reply-To: <954757741.20020708094710@vet-alfort.fr>; from tlorino@vet-alfort.fr on Mon, Jul 08, 2002 at 09:47:10AM +0200
References: <954757741.20020708094710@vet-alfort.fr>
Message-ID: <20020708110004.A7252@giraffa.cbs.dtu.dk>

Did you try 'cumsum' ?


Hopin' it helps,



L.


On Mon, Jul 08, 2002 at 09:47:10AM +0200, tlorino at vet-alfort.fr wrote:
> Dear R users,
> 
> I would like to calculate a cumulative sum as following: on the i-th row, in the
> j-th column of a matrix, I would like to obtain the sum of the (i-1) preceding elements of
> this j-th column.
> Could I avoid a "for" loop?
> 
> Thank you,
> Tristan Lorino
> 
> ---------------------- 
> ?cole Nationale V?t?rinaire d'Alfort - http://www.vet-alfort.fr,
> T?l. 01 43 96 70 33
> M?l. tlorino at vet-alfort.fr
> Site personnel : http://daedale.free.fr
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
--------------------------------------------------------------
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			DK-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Mon Jul  8 12:00:15 2002
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Mon, 08 Jul 2002 12:00:15 +0200
Subject: [R] Re: Writing new kernel option in svm E1071
References: <4106439B1F22D611A4100002A56B0F7E028CF2D7@slon10302.csfp.co.uk> <001701c224d8$825a7f60$a71401a3@stats.ox.ac.uk>
Message-ID: <3D2962AF.ECAE6F73@ci.tuwien.ac.at>

Dear Adai,

unfortunately, you currently can't extend the kernel set at the R level
(and due to performance issues this probably will never be possible).

(It's quite simple at the C-level, though).

But I think an option for providing the computed kernel values would be
a useful feature easy to add; I cc: this mail to Chih-Jen Lin, the
author of LIBSVM, perhaps he agrees.

g.,
-d



> Adaikalavan Ramasamy wrote:
> 
> I am trying to use the svm function in E1071 package. It does come
> with built in kernel functions like radial, linear etc. I wish to use
> the radial basis function but with a constant added to the diagonal of
> the kernel (or Gram) matrix. This was the suggested method in a paper
> UCSC-CRL-99-09 Brown et al.
> 
> So I wrote the following code, [which works correctly if I test on two
> vectors manually]
> 
> kernel.new.fn <- function(u,v)
> {   exp(-gamma*det(t(u-v)%*%(u-v), method="qr")) +
> ifelse(identical(u, v), 0.1 ,0)    }
> 
> But when I try to run the code, I get the following error:
> 
> > test.svm  <- svm( X ,  Ysvm, kernel="kernel.new.fn")
> Error in svm.default(X.complete, Ysvm[, 3], kernel = "kernel.new.fn")
> :
>  wrong kernel specification!
> 
> I am guessing the problem being svm.default does not recognise
> "kernel.new.fn".
> svm.default calls a C file "svmtrain" to do the calculations.
> 
> Q1: Is there an exisiting option to add a constant to the diagonal of
> the kernel ?

no.

> Q2: Is there a way I can get svm.default to recognise there is new
> option called kernel.new.fn externally without meddling with C
> file which I am not so familiar with.

no.

>        [OR equivalently is there a way of feeding in the
> computed kernel instead - I can do this manually using a loop]

again, no.

> 
> This is as much due to my lack of programming as it is to my lack of
> experience with svm.
> 
> Many thanks in advance, Adai.
> 
> 
> 
> 
> 
> 

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
         Department of			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alkauffm at rz.uni-potsdam.de  Mon Jul  8 12:05:25 2002
From: alkauffm at rz.uni-potsdam.de (Albrecht Kauffmann)
Date: Mon, 8 Jul 2002 12:05:25 +0200 (MET DST)
Subject: [R] Hodrick-Prescott-Filter as smooth.spline
Message-ID: <Pine.GSO.4.30.0207081139210.5532-100000@persius.rz.uni-potsdam.de>

Could someone, please, write me, how to compute the spar-value for the
smooth.spline-routine to get the same HP-filtered time-series with a
parameter lambda for a function (see mail "Hodrick-Prescott-Filter
example" from ggrothendieck at yifan.net):
hpf <- function(y,lambda{
	eye <- diag(length(y))
	d <- diff(eye,d=2)
	z <- solve(eye+lambda*crossprod(d),y)}
?

Second, is there a connection between the parameter lambda in this
function and the value $lambda of the smooth.spline routine?

For annual time series with smooth.spline(y,spar=0.71205) I get almost
the same $y-values like with the program above and lambda=100, but I would
like to know the reason for this.

With many thanks in advance
Albrecht Kauffmann

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Mon Jul  8 12:10:13 2002
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Mon, 08 Jul 2002 12:10:13 +0200
Subject: [R] Re: Writing new kernel option in svm E1071
References: <4106439B1F22D611A4100002A56B0F7E028CF2D7@slon10302.csfp.co.uk> <001701c224d8$825a7f60$a71401a3@stats.ox.ac.uk> <3D2962AF.ECAE6F73@ci.tuwien.ac.at>
Message-ID: <3D296505.81694A38@ci.tuwien.ac.at>

I would like to add: If your problem is specifically to deal with small
fractions of positive examples, you might consider the weighting feature
of svm.

g.
-d

David Meyer wrote:
> 
> Dear Adai,
> 
> unfortunately, you currently can't extend the kernel set at the R level
> (and due to performance issues this probably will never be possible).
> 
> (It's quite simple at the C-level, though).
> 
> But I think an option for providing the computed kernel values would be
> a useful feature easy to add; I cc: this mail to Chih-Jen Lin, the
> author of LIBSVM, perhaps he agrees.
> 
> g.,
> -d
> 
> > Adaikalavan Ramasamy wrote:
> >
> > I am trying to use the svm function in E1071 package. It does come
> > with built in kernel functions like radial, linear etc. I wish to use
> > the radial basis function but with a constant added to the diagonal of
> > the kernel (or Gram) matrix. This was the suggested method in a paper
> > UCSC-CRL-99-09 Brown et al.
> >
> > So I wrote the following code, [which works correctly if I test on two
> > vectors manually]
> >
> > kernel.new.fn <- function(u,v)
> > {   exp(-gamma*det(t(u-v)%*%(u-v), method="qr")) +
> > ifelse(identical(u, v), 0.1 ,0)    }
> >
> > But when I try to run the code, I get the following error:
> >
> > > test.svm  <- svm( X ,  Ysvm, kernel="kernel.new.fn")
> > Error in svm.default(X.complete, Ysvm[, 3], kernel = "kernel.new.fn")
> > :
> >  wrong kernel specification!
> >
> > I am guessing the problem being svm.default does not recognise
> > "kernel.new.fn".
> > svm.default calls a C file "svmtrain" to do the calculations.
> >
> > Q1: Is there an exisiting option to add a constant to the diagonal of
> > the kernel ?
> 
> no.
> 
> > Q2: Is there a way I can get svm.default to recognise there is new
> > option called kernel.new.fn externally without meddling with C
> > file which I am not so familiar with.
> 
> no.
> 
> >        [OR equivalently is there a way of feeding in the
> > computed kernel instead - I can do this manually using a loop]
> 
> again, no.
> 
> >
> > This is as much due to my lack of programming as it is to my lack of
> > experience with svm.
> >
> > Many thanks in advance, Adai.
> >
> >
> >
> >
> >
> >
> 
> --
>         Mag. David Meyer                Wiedner Hauptstrasse 8-10
> Vienna University of Technology         A-1040 Vienna/AUSTRIA
>          Department of                  Tel.: (+431) 58801/10772
> Statistics and Probability Theory       mail: david.meyer at ci.tuwien.ac.at
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
         Department of			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gavin.simpson at ucl.ac.uk  Mon Jul  8 13:33:40 2002
From: gavin.simpson at ucl.ac.uk (Gavin Simpson)
Date: Mon, 8 Jul 2002 12:33:40 +0100
Subject: [R] Plot.ts
Message-ID: <000d01c22673$4f253c10$4c202880@gsimpson>

Dear list,

I have a time series of 2-hourly temperature data from loggers placed in
two lakes.  I have created an object of class ts and mts (temp.ts) using
the ts() function and have managed to set the start position and the
frequency to 2-hours.

I now what to produce a plot of these two time series, and the default
provided by plot.ts() gives a nice plot of the data for the two lakes in
two separate panels using the option plot.type="multiple" in plot.ts().
I would like to alter the plot a little:

1) Change the x and y-axis labels, but when I set ylab="" in my call to
plot.ts() I get the following message:

>plot.ts(temp.ts, ylab="")
Error in plot.ts(x[, i], axes = FALSE, xlab = "", ylab = "", log = log,
: 
        formal argument "ylab" matched by multiple actual arguments

2) I get the same when I try to not plot the axes:

>plot(temp.ts, cex=0.75, axes=FALSE)
Error in plot.ts(x[, i], axes = FALSE, xlab = "", ylab = "", log = log,
: 
        formal argument "axes" matched by multiple actual arguments

3) I want to change the default labels for the tick marks that the plot
has ("2000", "2000.5", "2001", "2001.5") to just show the change of
year, i.e. indicate where 2001 and 2002 start.  But because I do not see
how to go about not plotting the axes I am a little stuck.

Can someone point me in the right direction as to how I can set my own
y-axis labels for a multiple times series plot, even just setting them
to "" would be good as I can just use mtext() to add a label for the
whole plot, and how to specify my own, or control the, labelling of the
tick marks on the x-axis?

Many thanks

Gavin Simpson

%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%
Gavin Simpson                     [T] +44 (0)20 7679 5522
ENSIS Research Fellow             [F] +44 (0)20 7679 7565
ENSIS Ltd. & ECRC                 [E] gavin.simpson at ucl.ac.uk
UCL Department of Geography       [W] http://www.ucl.ac.uk/~ucfagls/cv/
26 Bedford Way                    [W] http://www.ucl.ac.uk/~ucfagls/
London.  WC1H 0AP.
%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Mon Jul  8 13:46:15 2002
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Mon, 08 Jul 2002 13:46:15 +0200
Subject: [R] Plot.ts
References: <000d01c22673$4f253c10$4c202880@gsimpson>
Message-ID: <3D297B87.5B780BA1@ci.tuwien.ac.at>

Gavin Simpson wrote:
> 
> Dear list,
> 
> I have a time series of 2-hourly temperature data from loggers placed in
> two lakes.  I have created an object of class ts and mts (temp.ts) using
> the ts() function and have managed to set the start position and the
> frequency to 2-hours.
> 
> I now what to produce a plot of these two time series, and the default
> provided by plot.ts() gives a nice plot of the data for the two lakes in
> two separate panels using the option plot.type="multiple" in plot.ts().
> I would like to alter the plot a little:
> 
> 1) Change the x and y-axis labels, but when I set ylab="" in my call to
> plot.ts() I get the following message:
> 
> >plot.ts(temp.ts, ylab="")
> Error in plot.ts(x[, i], axes = FALSE, xlab = "", ylab = "", log = log,
> :
>         formal argument "ylab" matched by multiple actual arguments
> 
> 2) I get the same when I try to not plot the axes:
> 
> >plot(temp.ts, cex=0.75, axes=FALSE)
> Error in plot.ts(x[, i], axes = FALSE, xlab = "", ylab = "", log = log,
> :
>         formal argument "axes" matched by multiple actual arguments
> 
> 3) I want to change the default labels for the tick marks that the plot
> has ("2000", "2000.5", "2001", "2001.5") to just show the change of
> year, i.e. indicate where 2001 and 2002 start.  But because I do not see
> how to go about not plotting the axes I am a little stuck.

Yes, that is all a little bit tricky, because plot.mts() essentially
sets the 
mfrow parameter to c(2,1) and then sets up 2 different plots. So after
plotting there is also no (nice and simple) way to add something to
these plots with
lines() for example.
Concerning the ylab argument there is a simple (although not elegant)
workaround: plot.mts() takes the colnames() of your mts-object, so you
could change these. But if you want complete control over the axes I
guess the simplest way is to set up the two plots yourself. Look at the
plot.mts() code how it does it.
At least there is no simpler way to do this that I know of...
Z

> Can someone point me in the right direction as to how I can set my own
> y-axis labels for a multiple times series plot, even just setting them
> to "" would be good as I can just use mtext() to add a label for the
> whole plot, and how to specify my own, or control the, labelling of the
> tick marks on the x-axis?
> 
> Many thanks
> 
> Gavin Simpson
> 
> %~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%
> Gavin Simpson                     [T] +44 (0)20 7679 5522
> ENSIS Research Fellow             [F] +44 (0)20 7679 7565
> ENSIS Ltd. & ECRC                 [E] gavin.simpson at ucl.ac.uk
> UCL Department of Geography       [W] http://www.ucl.ac.uk/~ucfagls/cv/
> 26 Bedford Way                    [W] http://www.ucl.ac.uk/~ucfagls/
> London.  WC1H 0AP.
> %~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arc at arcriswell.com  Tue Jul  9 01:56:31 2002
From: arc at arcriswell.com (arcriswell)
Date: Tue, 9 Jul 2002 06:56:31 +0700
Subject: [R] R Libraries for ORDINAL categorical data
Message-ID: <007401c226db$7cf6af30$357d92cb@andrewvhowclyz>

Hello All:

I know the function loglin() and loglm() from librarary(MASS) performs
analysis on nominal categorical data. Are there any libraries, functions or
examples available for analysis of ordinal categorical data? I have in mind
procedures that can replicate results in Alan Agresti (1984) "Analysis of
Ordinal Categorical Data."

Thanks,
ANDREW

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjvbertin at hotmail.com  Mon Jul  8 14:45:09 2002
From: rjvbertin at hotmail.com (RenE J.V. Bertin)
Date: Mon, 08 Jul 2002 14:45:09 +0200
Subject: [R] re: GUI's for teaching
Message-ID: <LAW2-F85cleNibs25ao00008bb5@hotmail.com>


>From: Jan de Leeuw <deleeuw at stat.ucla.edu>
>To: "RenE J.V. Bertin" <rjvbertin at hotmail.com>
>Subject: Re: [R] re: GUI's for teaching
>Date: Sun, 7 Jul 2002 20:14:04 -0700

>On Sunday, Jul 7, 2002, at 15:48 America/Los_Angeles, RenE J.V. Bertin 
>wrote:
>
>>Hmmm. Choice is a good thing, but so much choice?! Then why not just 
>>expect every user to develop his or her own GUI?!
>>
>
>That is unrealistic to expect, but it would be ideal, of course.

  Then we do not agree on this. But it all depends on where you place your 
priorities...

>>phenotype (how it looks, what it does, etc.) and its genotype (the 
>>codebase to be used).
>
>The same genotype can lead to different phenotypes (Qt for Windows looks 
>different from Qt for X11 looks different

  Yes, it looks different in that it "adapts to" the environment it runs in. 
However, buttons and the like will still be more or less in the same place, 
and more importantly, the philosophy behind the man/machine interaction 
protocols, the ergonomics, remain the same.

>from the Aqua version for OS X -- same story for tcl/tk). Mapping toolkits 
>to native calls uses the strength of the
>native toolkit -- such as services on OS X (or NextStep).

  Again, it is a matter where you place your priorities and your resources. 
Developping an interface that makes use of all sorts of facilities of an 
operating system's layer that some claim to be exiting is probably very 
exciting and satisfying indeed for them. But then what -- you have a nice 
tool, but you can't exchange with the majority of others? I think that's a 
pity and, in the context of R (intended to be multi-platform), an effort 
lost.

>>This is how OpenOffice was developped in a little over a year, this is how 
>>mozilla is being developped (the former using its own layers of 
>>abstraction for interfacing with the host, the latter [mainly, methinks] 
>>using gtk).
>
>OpenOffice now exists for the Mac in two versions: one on top of X11, the 
>other using Carbon. Of course, they look

  Last time I looked, OO only ran under X11.

>different.  Mozilla exists as Classic, as CFM-Carbon, and recently as a 
>Mach-O Carbon application. Again the versions
>look different, because they inherit different components from  the 
>different toolkits. Moreover Mozilla's Gecko engine is used in Chimera on 
>Mozdev, which is a pure Cocoa application. And again looks very different.

  Hmm. If they look so different while all using technology from the same 
vendor, who is to blaim -- if blaim there is to be found?

>My guess is that the 20+ versions of the GUI will all have roughly the same 
>menus, and roughly the same
>capabilities. And that these capabilities will not be very different from 
>those of ESS.

  Then that's 20 wheels reinvented :)

>Choice includes the option to run X11 with any window manager, with gnome 
>or KDE, either on top of Darwin
>or of Linux, either on PPC or X86.

  Amen. And how much choice in this matter do you have under Aqua? Last time 
I looked (February), you could choose between candy-colours and basically 
almost grayscale appearance, there were a few (unstable) hacks to customise 
a bit more (and outcry on the forums for more control), and it didn't seem 
possible to even specify a solid colour for the desktop rather than an 
image... OTOH, many users are probably (blisfully) unaware of the fact they 
don't have (unlimited) choice (and consider me a weirdo because I modified 
the look of my Windows boxes -- is that Linux you're running there? :)))


>Illustrates my point. If people want to make X11 applications look as Aqua 
>as possible, then one might as well write
>applications in Aqua. Makes them much more powerful as well.

  I think they would be very upset if you suggested that to them :) They 
will probably feel they should be able to give whatever look they like to 
their environment of choice. Just have a look at the themes sections on 
freshmeat.org ...

Anyway, this is drifting too faR...

>Hetzelfde.

:)

>>RenE J.V. Bertin
>>College de France/LPPA
>>11, place Marcelin Berthelot
>>75005 Paris, France


_________________________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcbroom at stats.ox.ac.uk  Mon Jul  8 15:01:51 2002
From: mcbroom at stats.ox.ac.uk (James McBroom)
Date: Mon, 08 Jul 2002 14:01:51 +0100
Subject: [R] R Libraries for ORDINAL categorical data
References: <007401c226db$7cf6af30$357d92cb@andrewvhowclyz>
Message-ID: <3D298D3F.9030906@stats.ox.ac.uk>

I don't know about replicating Agresti's results, but function polr in 
the MASS library performs proportional odds logistic regression.

James.

arcriswell wrote:

>Hello All:
>
>I know the function loglin() and loglm() from librarary(MASS) performs
>analysis on nominal categorical data. Are there any libraries, functions or
>examples available for analysis of ordinal categorical data? I have in mind
>procedures that can replicate results in Alan Agresti (1984) "Analysis of
>Ordinal Categorical Data."
>
>Thanks,
>ANDREW
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>  
>



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjvbertin at hotmail.com  Mon Jul  8 15:18:43 2002
From: rjvbertin at hotmail.com (RenE J.V. Bertin)
Date: Mon, 8 Jul 2002 15:18:43 +0200
Subject: [R] factanal results interpretation - am I right here?
Message-ID: <20020708151843.6118cff9.rjvbertin@hotmail.com>

Hi,

I have obtained some results with factanal that seem to support a hypothesis I already had, and I'd like to verify that I can indeed conclude this from this new analysis.

We had subjects reproduce perceived trajectories with a device that allowed us to measure spatial position (the path) and the device's orientation at any of those positions. From this, we calculated the rotation of the reproduced path (e.g. 180deg. for half a circle), the total yaw (total rotation of the device), and the average orientation relative to the path (e.g. 0deg for "tangential", 90deg. for inward or outward). We analysed the errors in these measures, compared to the presented values, and normalised to the total perceived amount of yaw:

yrelerr.PathRot, relerr.Yaw and relerr.PathRel.Orn

Additionally, we calculated measures of overlap (more exactly: average pointwise distance after maximising overlap): Spat for the path, Orn for the orientation; there were combined into FD=sqrt(Spat^2+Orn^2).

Earlier analysis had suggested that subjects assume a fixed orientation relative to the path, effectively coupling Yaw and PathRot (and assigning all perceived Yaw to PathRot). In the factanal results, I find that Spat and Orn are in separate factors (as might be expected a-priorily), but relerr.Yaw and yrelerr.PathRot are consistently grouped together (also when I use the non-normalised errors). Can I take this as a confirmation of the hypothesis that Yaw is attributed to a rotation of the path (PathRot)?

Thank you in advance,
RenE Bertin

Example of results:
# For modality=='VisVest':
> attach(subset(VV1bc.20020701.LY, VV1bc.20020701.LY$Modality=='VisVest') )
> VV1.factanal( cbind(yrelerr.PathRot,relerr.Yaw,relerr.PathRel.Orn,Spat,Orn,FD), factors=3)

Call:
factanal(factors = factors, covmat = cov(dmat, use = "complete.obs"),     na.action = na.omit)

Uniquenesses:
   yrelerr.PathRot         relerr.Yaw relerr.PathRel.Orn               Spat                Orn                 FD
             0.005              0.163              0.587              0.005              0.005              0.005

Loadings:
                   Factor1 Factor2 Factor3
yrelerr.PathRot     0.483   0.871
relerr.Yaw                  0.910
relerr.PathRel.Orn -0.473  -0.233   0.368
Spat                0.983   0.167
Orn                 0.168           0.982
FD                  0.949   0.147   0.271

# for Modality==Vis:
Uniquenesses:
   yrelerr.PathRot         relerr.Yaw relerr.PathRel.Orn               Spat                Orn                 FD
             0.331              0.005              0.851              0.005              0.005              0.005

Loadings:
                   Factor1 Factor2 Factor3
yrelerr.PathRot     0.469   0.669
relerr.Yaw          0.150   0.984
relerr.PathRel.Orn -0.355  -0.147
Spat                0.962   0.188  -0.189
Orn                                 0.996
FD                  0.979   0.180


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metrinomics.de  Mon Jul  8 15:26:35 2002
From: c.schulz at metrinomics.de (Christian Schulz)
Date: Mon, 08 Jul 2002 15:26:35 +0200
Subject: [R] nnet
References: <200206290201.EAA02735@stat.math.ethz.ch> <3D295E78.37933234@lmttrading.com>
Message-ID: <3D29930B.3080509@metrinomics.de>

..i work  in my university-time with the 1.0 Version (..the package is 
openSource but run's on the commercial software Matlab).

http://www.iau.dtu.dk/research/control/nnsysid.html  

And i think that's a interesting toolbox for  "NN & TimeSeries Analysis" 
; sorry that's not R, but perhaps
a good starting point to adapt something like this in R-project ?

regards,Christian



Adrian Trapletti wrote:

>>Date: Fri, 28 Jun 2002 13:01:55 +0200
>>From: Nader Emami <emami at knmi.nl>
>>Subject: [R] nnet
>>
>>Hello,
>>
>>I have analysed  univariable (temperature) time series with ARIMA module
>>and  I would like to analyse this with Neural Networks. My question is:
>>Is the "nnet" module appropriate for this experiment? Maybe there is a
>>another module which I can use for my experiment!
>>
>>Regards,
>>Nader
>>
>
>You could also try the ffnet package: http://cran.r-project.org/contrib/extra/ffnet/ffnet_0.6-6.BCD.linux.R.tar.gz, where I have implemented some time series functionalities. The above link is a binary distribution for linux. In principle, the package is also available in source code form, but then you need Numerical Recipes in C, to get the full source code. However, I have to warn you. I didn?t work for a long time on ffnet (and I have no plans to do so in the future). So some functionalities are brocken with the newer versions of R, although the main functions still work with R-1.5.0.
>
>best
>Adrian
>
>--
>Dr. Adrian Trapletti   Phone:       +41 (0)1 994 56 31
>Wildsbergstrasse 31    Fax  :       +41 (0)1 994 56 33
>CH-8610 Uster          Email:   a.trapletti at bluewin.ch
>Switzerland            WWW  :  trapletti.homelinux.com
>
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020708/dc481320/attachment.html

From maechler at stat.math.ethz.ch  Mon Jul  8 15:24:10 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 8 Jul 2002 15:24:10 +0200
Subject: [R] about image and rgb
In-Reply-To: <3D26380B.9080709@inrialpes.fr>
References: <3D26380B.9080709@inrialpes.fr>
Message-ID: <15657.37498.490230.2283@gargle.gargle.HOWL>

>>>>> "Olivier" == Olivier Martin <olivier.martin at inrialpes.fr> writes:

    Olivier> I have a 16 bit image (TIFF) and i want to analyse
    Olivier> the pixels distribution.  So, i obtain a matrix
    Olivier> which values are between 0 and 2^16 -1.
ok

    Olivier> Now i would like to represnt this image with the
    Olivier> fucntions rgb() and image().  
`perfect'
 
    Olivier> I am not sure , but i think that only 256 colors
    Olivier> are available.  

what makes you think so?  It's not true.

There are (2^8)^3 (i.e 24-bit) colors in R, as you can see
quickly from looking at the result of rgb(), e.g.

Now the for viewing thing is devices, i.e. hardware and
device-driver software.
A few years ago, still many Sun Workstations came with graphics
cards that only permitted 8-bit (i.e. 256 different colors at a time).

Can you be more specific about your problems?

    Olivier> So is there a solution to represent all the palette
    Olivier> of the colors or i have to limit the
    Olivier> representations with 256 colors.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbonk at host.sk  Mon Jul  8 15:48:31 2002
From: rbonk at host.sk (Rado Bonk)
Date: Mon, 8 Jul 2002 15:48:31 +0200
Subject: [R] matrix: rows to columns conversion
Message-ID: <20020708154831.A15958@creon.profinet.sk>

Hi,

I'm new to "R". I have a matrix of 6x12. I need to produce matrix of
12x6, such that rows in new matrix are columns from original matrix, and
columns in a new matrix are rows from the original one. I was playing
with rbind(), and cbind() with no success.

Regards,

    -Rado

-- 
Radoslav Bonk M.S.
Dept. of Physical Geography and Geoecology
Faculty of Natural Sciences, Comenius University
Mlynska Dolina 842 15, Bratislava
tel: 00421 (0)2 602 96 250
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jul  8 16:10:17 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Jul 2002 16:10:17 +0200
Subject: [R] matrix: rows to columns conversion
In-Reply-To: <20020708154831.A15958@creon.profinet.sk>
References: <20020708154831.A15958@creon.profinet.sk>
Message-ID: <x2it3ql392.fsf@biostat.ku.dk>

Rado Bonk <rbonk at host.sk> writes:

> Hi,
> 
> I'm new to "R". I have a matrix of 6x12. I need to produce matrix of
> 12x6, such that rows in new matrix are columns from original matrix, and
> columns in a new matrix are rows from the original one. I was playing
> with rbind(), and cbind() with no success.

t() as in transpose...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Mon Jul  8 16:18:31 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Mon, 8 Jul 2002 10:18:31 -0400
Subject: [R] matrix: rows to columns conversion
In-Reply-To: <20020708154831.A15958@creon.profinet.sk>; from rbonk@host.sk on Mon, Jul 08, 2002 at 03:48:31PM +0200
References: <20020708154831.A15958@creon.profinet.sk>
Message-ID: <20020708101831.A22493@cattell.psych.upenn.edu>

On 07/08/02 15:48, Rado Bonk wrote:
>I'm new to "R". I have a matrix of 6x12. I need to produce matrix of
>12x6, such that rows in new matrix are columns from original matrix, and
>columns in a new matrix are rows from the original one. I was playing
>with rbind(), and cbind() with no success.

You want t()

And, at this stage of learning, you might also find a reference
card useful.  See my R page.

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
R page:               http://finzi.psych.upenn.edu/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jzx2002 at med.cornell.edu  Mon Jul  8 18:02:16 2002
From: jzx2002 at med.cornell.edu (Jenny Z. Xiang)
Date: Mon, 08 Jul 2002 12:02:16 -0400
Subject: [R] Increase memory size
In-Reply-To: <OF3254DFBE.F8F58EE1-ON88256BED.007D44F5@rtp.epa.gov>
Message-ID: <5.1.0.14.2.20020708115959.00a55260@127.0.0.1>

Thank you so much! This command-line works very well to me.

Jenny

At 03:53 PM 7/5/02 -0700, you wrote:

> > I read FAQ (2.6 and 2.2) about increasing memory size, but it is not
> > clear to me. Coule anyone give me an example? My computation exceeds
> > 256Mb.
>
>I assume you meant the R for Windows FAQ.  If you have a shortcut on
>your desktop for R (or somewhere else), then if you right click on the
>icon and bring up the Properties window, you will see an entry for
>Target with the path to the executable filled in.  After that path (and
>outside of the quotes) add the command-line argument as suggested in
>RWin FAQ 2.2.  On my PC, for example it would look like this:
>
>"C:\Program Files\R\rw1051\bin\Rgui.exe" --max-mem-size=512M
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Mon Jul  8 17:08:43 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Mon, 8 Jul 2002 17:08:43 +0200 (MEST)
Subject: [R] Methods/package for working with sets and intervals
Message-ID: <Pine.GSO.4.10.10207081655230.11798-100000@speed>

Before reinventing the wheel, is there a package for working on (nice) 
sets and intervals, where one can for instance check if a set of intervals
contains a scalar, taking the union and intersection of some intervals
etc?

 Example:

   # Defining the set i = [1,2) + [3.5, 10]
   i <- c(1,2, 3.5, 10)
   attr(i, "include") <- c(TRUE, FALSE, TRUE, TRUE)

   x <- 0:12

   # Get the x's that are within the set i.
   x[contains(i, x)]  # 1 4 5 6 7 8 9 10
   
   # Defining the set j = (-Inf,2] + [10, +Inf)
   j <- c(-Inf,2, 10, +Inf)
   attr(j, "include") <- c(NA, TRUE, TRUE, NA)

   k <- intersection(i,j)
   # k = [1,2) + [10,10]

   ...


Cheers

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences 
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
+46 46 2229611 (off), +46 708 909208 (cell), +46 46 2224623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/~hb/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Jul  8 17:22:14 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 8 Jul 2002 08:22:14 -0700 (PDT)
Subject: [R] Which function to use for multiple comparison?
In-Reply-To: <15657.15171.706443.873582@gargle.gargle.HOWL>
Message-ID: <Pine.A41.4.44.0207080817050.40592-100000@homer21.u.washington.edu>

On Mon, 8 Jul 2002, Julie Cong wrote:

>        [Moderator: This was erronously sent to R-announce,
> 		   and filtered fortunately ]
>
> Hi,
>
> This is my first time to use R. I'm wondering which function I can use to do
> multiple comparison. I have an lm object and want to do multiple comparison
> based on this object. Splus has a function multicomp() but I could not find
> a similar one in R. Thanks in advance. Really appreciate it.
>

At the moment the multiple comparisons features in R are a bit limited.

   p.adjust does a number of corrections of p-values that are very general

   pairwise.t.test is another interface to these same methods

   TukeyHSD provides Tukey's Honestly Significant Difference

help.search("comparison") suggests that the npmc package might also be
helpful.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From VBMorozov at lbl.gov  Mon Jul  8 17:32:10 2002
From: VBMorozov at lbl.gov (VBMorozov@lbl.gov)
Date: Mon, 08 Jul 2002 11:32:10 -0400
Subject: [R] ANOVA with Weighted LM
Message-ID: <9677294af3.94af396772@lbl.gov>

Dear All
I have data in the following format: three columns with X_i, Y_i and SE
(Y_i), for i from 1 to 1000. X is independent variable, Y is explained 
variable (a measurement of some sort) and SE(Y) is standard error of 
measurement of Y, it's different for each Y_i. I'm stuck with the 
following statistics questions on using R and on statistics in general:

I can do anova(lm(Y~X)) to get an estimate of how much variability in Y 
is explained by X and how much is in the residuals. 
But now I want to do weighted linear fit MyLm<-lm(Y~X, weights=1/SE(Y)
^2 ). I think this is a right thing to do, because my Y_i have errors 
on them, and the errors vary greatly for different Y_i. So, if I do 
that, how do I get a "fair" estimate of explained and unexplained 
variability? Since ANOVA doesn't know about weights (or does it?) what 
should I use?

Thank you,
Vlad.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Mon Jul  8 17:59:07 2002
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Mon, 08 Jul 2002 08:59:07 -0700
Subject: [R] Which function to use for multiple comparison?
In-Reply-To: <Pine.A41.4.44.0207080817050.40592-100000@homer21.u.washing
 ton.edu>
References: <15657.15171.706443.873582@gargle.gargle.HOWL>
Message-ID: <5.1.1.2.2.20020708085646.01cd7598@pop4.attglobal.net>


>On Mon, 8 Jul 2002, Julie Cong wrote:
>
> >        [Moderator: This was erronously sent to R-announce,
> >                  and filtered fortunately ]
> >
> > Hi,
> >
> > This is my first time to use R. I'm wondering which function I can use 
> to do
> > multiple comparison. I have an lm object and want to do multiple comparison
> > based on this object. Splus has a function multicomp() but I could not find
> > a similar one in R. Thanks in advance. Really appreciate it.
> >

I believe that a recent package ("multcomp") has been uploaded to CRAN.  It 
depends on another package ("mvtnorm").  Both are by the same 
authors.  While they are not identical to S-Plus' "multicomp", they are 
similar enough that you can *do* several different multiple comparison 
procedures on various lm and aov objects.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cmoffet at nwrc.ars.usda.gov  Mon Jul  8 18:06:21 2002
From: cmoffet at nwrc.ars.usda.gov (Corey Moffet)
Date: Mon, 08 Jul 2002 10:06:21 -0600
Subject: [R] trouble reading large data.frame
Message-ID: <3.0.6.32.20020708100621.00c045d0@nwrc.ars.usda.gov>

I am having trouble reading in a large (92 columns x 73050 rows = 6720600
cells) data file into a data.frame using read.table because of the way
read.table allocates memory.

I can use scan with nmax = 6720600 and the data will fit into memory, but I
would like to create a data.frame from the data.

What is the best way to do this?  Is there something equivalent to nmax in
read.table?
With best wishes and kind regards I am

Sincerely,

Corey A. Moffet
Support Scientist

University of Idaho
Northwest Watershed Research Center
800 Park Blvd, Plaza IV, Suite 105
Boise, ID 83712-7716
(208) 422-0718
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Mon Jul  8 18:09:47 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 08 Jul 2002 09:09:47 -0700
Subject: [R] Which function to use for multiple comparison?
In-Reply-To: <Pine.A41.4.44.0207080817050.40592-100000@homer21.u.washington.edu>
References: <Pine.A41.4.44.0207080817050.40592-100000@homer21.u.washington.edu>
Message-ID: <87r8ieurp0.fsf@jeeves.blindglobe.net>


There is also the new "multicomp" package (as well as "multtest" in
Bioconductor); the latter, though, is probably more appropriate for
the "many t-tests" style problems.  I've not had a chance to look at
the former.

best,
-tony


>>>>> "thomas" == Thomas Lumley <tlumley at u.washington.edu> writes:

    thomas> On Mon, 8 Jul 2002, Julie Cong wrote:
    >> [Moderator: This was erronously sent to R-announce,
    >> and filtered fortunately ]
    >> 
    >> Hi,
    >> 
    >> This is my first time to use R. I'm wondering which function I can use to do
    >> multiple comparison. I have an lm object and want to do multiple comparison
    >> based on this object. Splus has a function multicomp() but I could not find
    >> a similar one in R. Thanks in advance. Really appreciate it.
    >> 

    thomas> At the moment the multiple comparisons features in R are a bit limited.

    thomas>    p.adjust does a number of corrections of p-values that are very general

    thomas>    pairwise.t.test is another interface to these same methods

    thomas>    TukeyHSD provides Tukey's Honestly Significant Difference

    thomas> help.search("comparison") suggests that the npmc package might also be
    thomas> helpful.

    thomas> 	-thomas


    thomas> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    thomas> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
    thomas> Send "info", "help", or "[un]subscribe"
    thomas> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
    thomas> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From osiander at 24on.cc  Mon Jul  8 17:49:00 2002
From: osiander at 24on.cc (osiander@24on.cc)
Date: Mon, 8 Jul 2002 15:49 +0000
Subject: [R] Horizontal barplot with reversed y-axis
Message-ID: <060365113160872ATNSMTP91@atnsmtp91.24on.cc>

Dear Reader,

I need a horizontal barplot but with the lowest value on the y-axis on top. How to get this?

Thank you,

osiander at 24on.cc

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vsxo at hotmail.com  Mon Jul  8 18:13:15 2002
From: vsxo at hotmail.com (Remy X.O. Martin)
Date: Mon, 8 Jul 2002 18:13:15 +0200
Subject: [R] plt question: last command?
Message-ID: <20020708181315.1a072feb.vsxo@hotmail.com>

The graphics device store the last commands so that they can redraw the current image when
necessary.
Is there a way to *read* this "buffer"; I'd like to be able to obtain the last,
highest-level-possible, graphics command issued?

VXO
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Jul  8 18:20:24 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 8 Jul 2002 18:20:24 +0200
Subject: [R] Large continuous color palette {was `about image and rgb'}
In-Reply-To: <3D29D835.7040807@inrialpes.fr>
References: <3D26380B.9080709@inrialpes.fr>
	<15657.37498.490230.2283@gargle.gargle.HOWL>
	<3D29D835.7040807@inrialpes.fr>
Message-ID: <15657.48072.260796.948721@gargle.gargle.HOWL>

[Answer re-diverted to R-help !]

>>>>> "Olivier" == Olivier Martin <olivier.martin at inrialpes.fr> writes:

    Olivier> Hi Martin,

    Olivier> Thanks for your help.  I try explain more precisely my problem.
    Olivier> First, i have a matrix which values are between 0 and 2^16-1.

    Olivier> So, this what i would like to do.

    Olivier> 1 Is it possible to convert this matrix into a TIFF format file.

yes:
1) Use the `pixmap' package to produce a "pnm" (portable anymap format)
   file
2) Use a conversion tool to translate this to tiff.
   There are many of those I think.
   On Unix/Linux, there's the ImageMagick software package, with
   a "convert" program.

   On my Linux (redhat), there's also  pnmtotiff with help page {excerpts!}

     >>   NAME
     >> 	 pnmtotiff - convert a a portable anymap into a TIFF file
     >> 
     >>   SYNOPSIS
     >> 	 pnmtotiff  [-none|-packbits|  -lzw|-g3|-g4]  [-2d] [-fill]
     >> 	 [-predictor n] [-msb2lsb|-lsb2msb] [-rowsperstrip  n]  [-X
     >> 	 res| -Y res| -R res] [pnmfile]
     >> 
     >>   DESCRIPTION
     >> 	 Reads a portable anymap as input.  Produces a TIFF file as
     >> 	 output.
     >> 
     >>    ............
     >> 
     >>   NOTES
     >> 	 There  are  myriad variations of the TIFF format, and this
     >> 	 program generates only a few of them.  pnmtotiff creates a
     >> 	 grayscale  TIFF file if its input is a PBM (monochrome) or
     >> 	 PGM (grayscale) file.  If the input is a PPM (color)  file
     >> 	 and  there  are 256 colors or fewer, pnmtotiff generates a
     >> 	 color palette TIFF file.  If there are  more  colors  than
     >> 	 that,  pnmtotiff  generates an RGB (not RGBA) single plane
     >> 	 TIFF  file.   Use  pnmtotiffcmyk  to  generate  the  cyan-
     >> 	 magenta-yellow-black ink color separation TIFF format.
     >> 
     >>   ...

read the "NOTES" section above!

    Olivier> 2 Some R functions are available to represent
    Olivier> images.  So, i would like to represent my matrix
    Olivier> (in the red channel for exemple) but i don't know
    Olivier> how i can use the rgb function to represent it. I
    Olivier> am not familar with image analysis and my problem
    Olivier> is that i don't know how i can take into account
    Olivier> the large scale of my values with only the red
    Olivier> colours.

    Olivier> I can use the rgb function with something like
    Olivier> reds <- rgb(r=1, g=(255:0)/255,b=(255:0)/255) and
    Olivier> image(mat,col=reds).

    Olivier> But the image is not very "good" (all the image is
    Olivier> red) and may be it should be better with more
    Olivier> levels of red colors.

Now I see clearer. I think in principle, you shouldn't use
rgb() at all but rather one of the functions

       rainbow(), heat.colors(), .....   {see the help page for rainbow}

for creating a larger number of *continuous* colours.
However, it seems you don't come close to 2^16 ~= 65000 different colors
easily, using these (e.g.  length(unique(rainbow(2^16))) is only 1530).
{{actually I think you don't want to come really close to 65000,
  I'd guess a few thousands would always suffice in statistics,
  but that's not the point here ...}}
 
---> Challenge to all : Have you found nice easily constructed
continuous color palettes scheme with substantionally more different colors?
One approach could start combining rainbow(n, v, s) with
non-default values of `v' and `s'.  
The more general problem could be stated as :
>>> Find a ``cube-filling'' curve through the HSV (better than RGB)
>>> color cube { touching enough different places -- depending on n }.
Maybe restricting yourself to a close neigborhood of a 2-d
surface in that cube (to have only points of 
approximately similar luminance, eg) would be an important option.

So, yes as a matter of fact, we got a nice fun problem to play
around with thanks to your enquiry.

In any case, get the pixmap package and read the (only two) help
pages from it!

    Olivier> For now, i use a log transformation on my data
    Olivier> (image(log(mat),col=2)) and i obtain an image with
    Olivier> more "structures". I have also change my object
    Olivier> reds by using a non linear function for the g and b
    Olivier> values .  But maybe , there is another way to
    Olivier> represent this image.

    Olivier> I hope my problem is more clear.
yes, it has become.


    Olivier> Martin Maechler wrote:

    >>>>>>> "Olivier" == Olivier Martin <olivier.martin at inrialpes.fr> writes:
    >>>>>>> 
    >> 
    Olivier> I have a 16 bit image (TIFF) and i want to analyse
    Olivier> the pixels distribution.  So, i obtain a matrix
    Olivier> which values are between 0 and 2^16 -1.
    >> ok
    >> 
    Olivier> Now i would like to represnt this image with the
    Olivier> fucntions rgb() and image().  
    >> `perfect'
    >> 
    Olivier> I am not sure , but i think that only 256 colors
    Olivier> are available.  
    >> 
    >> what makes you think so?  It's not true.
    >> 
    >> There are (2^8)^3 (i.e 24-bit) colors in R, as you can see
    >> quickly from looking at the result of rgb(), e.g.
    >> 
    >> Now the for viewing thing is devices, i.e. hardware and
    >> device-driver software.
    >> A few years ago, still many Sun Workstations came with graphics
    >> cards that only permitted 8-bit (i.e. 256 different colors at a time).
    >> 
    >> Can you be more specific about your problems?
    >> 
    Olivier> So is there a solution to represent all the palette
    Olivier> of the colors or i have to limit the
    Olivier> representations with 256 colors.
    >> 
    >> Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
    >> Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
    >> ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
    >> phone: x-41-1-632-3408		fax: ...-1228			<><

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jniesch at gwdg.de  Mon Jul  8 18:32:06 2002
From: jniesch at gwdg.de (Jens Nieschulze)
Date: Mon, 8 Jul 2002 18:32:06 +0200 (MET DST)
Subject: [R] trouble reading large data.frame
In-Reply-To: <3.0.6.32.20020708100621.00c045d0@nwrc.ars.usda.gov>
Message-ID: <Pine.SO4.4.10.10207081828460.27326-100000@ufobi7.uni-forst.gwdg.de>

On Mon, 8 Jul 2002, Corey Moffet wrote:

%I am having trouble reading in a large (92 columns x 73050 rows = 6720600
%cells) data file into a data.frame using read.table because of the way
%read.table allocates memory.
%
%I can use scan with nmax = 6720600 and the data will fit into memory, but I
%would like to create a data.frame from the data.

have you tried attr?
oops<-scan("yourFile")
attr(oops,"dim")<-c(73050,92)

you can already use indices like oops[123:342,20:34]
and try to coerce it to a data.frame

whatever<-as.data.frame(oops)
probably not the best way, but maybe a workaround

	JN

%
%What is the best way to do this?  Is there something equivalent to nmax in
%read.table?
%With best wishes and kind regards I am
%
%Sincerely,
%
%Corey A. Moffet
%Support Scientist
%
%University of Idaho
%Northwest Watershed Research Center
%800 Park Blvd, Plaza IV, Suite 105
%Boise, ID 83712-7716
%(208) 422-0718
%-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
%r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
%Send "info", "help", or "[un]subscribe"
%(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
%_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
%

***********************************************************************
Jens Nieschulze

Institute for Forest Biometrics &	Phone: ++49-551-39-12107
Applied Computer Science		Fax  : ++49-551-39-3465
Buesgenweg 4
37077 Goettingen		E-mail: jniesch at uni-forst.gwdg.de
GERMANY				http://www.uni-forst.gwdg.de/~jniesch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjvbertin at hotmail.com  Mon Jul  8 18:39:58 2002
From: rjvbertin at hotmail.com (RenE J.V. Bertin)
Date: Mon, 08 Jul 2002 18:39:58 +0200
Subject: [R] subset, once more
Message-ID: <LAW2-F84p7rZeBYCOPl0000a03c@hotmail.com>

New to R, I had the bad idea to send a bug report about '[' not knowing it 
had a drop= argument. Now, I wonder about the absence of this argument in 
subset...

In both availabe methods (see below), there is a ... argument, but this 
argument is not used in either. Rather, subset.data.frame explitictly passes 
drop=F in 1 instance.
Before I start patching (for my own use): what is the reason for this?

>subset.default
function (x, subset, ...)
x[subset & !is.na(subset)]
>subset.data.frame
function (x, subset, select, ...)
{
    if (missing(subset))
        r <- TRUE
    else {
        e <- substitute(subset)
        r <- eval(e, x, parent.frame())
        r <- r & !is.na(r)
    }
    if (missing(select))
        vars <- TRUE
    else {
        nl <- as.list(1:ncol(x))
        names(nl) <- names(x)
        vars <- eval(substitute(select), nl, parent.frame())
    }
    x[r, vars, drop = FALSE]
}

RenE J.V. Bertin
College de France/LPPA
11, place Marcelin Berthelot
75005 Paris, France

_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From White.Denis at epamail.epa.gov  Mon Jul  8 19:02:10 2002
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Mon, 08 Jul 2002 10:02:10 -0700
Subject: [R] Error in tree package
Message-ID: <OF4BFA805C.44DE69FD-ON88256BF0.0056C72D@rtp.epa.gov>


>     Hi.
>     I'm using the tree package to fit one tree from a training set.
>     I'm using the command:
>         hm.tr <-tree(X1~.,teste2, mindev = 0, minsize = 2)
>
>     and i get the error:
>
>     Error in "row.names<-.data.frame"(*tmp*, value = fit$node[1:n]) :
>             duplicate row.names are not allowed
>
>     the frameset, has 180 columns and 16000 rows.
>     The first column, takes a value from 42..61 and the others 0 or 1.
>
>     Any help will be apreciated.
>
>     Thanks
>
>     Hugo
>
>     P.s. I'm using R1.3.0 in a winnt machine

I don't know if anyone has replied to you yet.  Your problems appear to
be more elementary than using the tree package.  I think you may need to
understand better the concept of data frames in R (the "row names" need
to be unique, for example, and, although I can't find this stated
explicitly in the documentation, it is certainly enforced).

Nevertheless, before trying to use the tree package again, I suggest you
upgrade R to the latest version (1.5.1) and switch from the tree package
to the rpart package.  The rpart package has better diagnostic
facilities and is being more actively maintained.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jul  8 19:21:28 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Jul 2002 19:21:28 +0200
Subject: [R] Methods/package for working with sets and intervals
In-Reply-To: <Pine.GSO.4.10.10207081655230.11798-100000@speed>
References: <Pine.GSO.4.10.10207081655230.11798-100000@speed>
Message-ID: <x2bs9irv8n.fsf@biostat.ku.dk>

Henrik Bengtsson <hb at maths.lth.se> writes:

> Before reinventing the wheel, is there a package for working on (nice) 
> sets and intervals, where one can for instance check if a set of intervals
> contains a scalar, taking the union and intersection of some intervals
> etc?
> 
>  Example:
> 
>    # Defining the set i = [1,2) + [3.5, 10]
>    i <- c(1,2, 3.5, 10)
>    attr(i, "include") <- c(TRUE, FALSE, TRUE, TRUE)
> 
>    x <- 0:12
> 
>    # Get the x's that are within the set i.
>    x[contains(i, x)]  # 1 4 5 6 7 8 9 10
>    
>    # Defining the set j = (-Inf,2] + [10, +Inf)
>    j <- c(-Inf,2, 10, +Inf)
>    attr(j, "include") <- c(NA, TRUE, TRUE, NA)
> 
>    k <- intersection(i,j)
>    # k = [1,2) + [10,10]

Not quite the same wheel, but you might consider overloading union()
and friends. 

For specifying the interval set, I think I would consider something
closer in style to Surv(), i.e. in your first case something like

Intv(left=c(1,3.5),right=c(2,10),include.l=TRUE,include.r=c(FALSE, TRUE))

or maybe -- if you're sure this is only to be used for sets (as
opposed to vectors of intervals)

union(interval.co(1,2), interval.cc(3.5,10))

(Just some thoughts, of course)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jul  8 19:29:39 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Jul 2002 19:29:39 +0200
Subject: [R] Horizontal barplot with reversed y-axis
In-Reply-To: <060365113160872ATNSMTP91@atnsmtp91.24on.cc>
References: <060365113160872ATNSMTP91@atnsmtp91.24on.cc>
Message-ID: <x27kk6ruv0.fsf@biostat.ku.dk>

osiander at 24on.cc writes:

> Dear Reader,
> 
> I need a horizontal barplot but with the lowest value on the y-axis on top. How to get this?

Depends on how you got the original barplot, but consider this:

x <- rnorm(5)
names(x) <- 1:5
barplot(x, horiz=T)
barplot(rev(x), horiz=T)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Mon Jul  8 18:54:17 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Mon, 8 Jul 2002 09:54:17 -0700 (PDT)
Subject: [R] Methods/package for working with sets and intervals
In-Reply-To: <Pine.GSO.4.10.10207081655230.11798-100000@speed>
Message-ID: <Pine.GSO.4.10.10207080952530.1338-100000@fisher.stat.ucla.edu>

I've never seen functions specifically for doing this.  But maybe you
could do some hackery with findInterval() ?  Still not really
convenient....

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Mon, 8 Jul 2002, Henrik Bengtsson wrote:

> Before reinventing the wheel, is there a package for working on (nice) 
> sets and intervals, where one can for instance check if a set of intervals
> contains a scalar, taking the union and intersection of some intervals
> etc?
> 
>  Example:
> 
>    # Defining the set i = [1,2) + [3.5, 10]
>    i <- c(1,2, 3.5, 10)
>    attr(i, "include") <- c(TRUE, FALSE, TRUE, TRUE)
> 
>    x <- 0:12
> 
>    # Get the x's that are within the set i.
>    x[contains(i, x)]  # 1 4 5 6 7 8 9 10
>    
>    # Defining the set j = (-Inf,2] + [10, +Inf)
>    j <- c(-Inf,2, 10, +Inf)
>    attr(j, "include") <- c(NA, TRUE, TRUE, NA)
> 
>    k <- intersection(i,j)
>    # k = [1,2) + [10,10]
> 
>    ...
> 
> 
> Cheers
> 
> Henrik Bengtsson
> 
> Dept. of Mathematical Statistics @ Centre for Mathematical Sciences 
> Lund Institute of Technology/Lund University, Sweden (+2h UTC)
> +46 46 2229611 (off), +46 708 909208 (cell), +46 46 2224623 (fax)
> h b @ m a t h s . l t h . s e, http://www.maths.lth.se/~hb/
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jul  8 21:16:06 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Jul 2002 21:16:06 +0200
Subject: [R] subset, once more
In-Reply-To: <LAW2-F84p7rZeBYCOPl0000a03c@hotmail.com>
References: <LAW2-F84p7rZeBYCOPl0000a03c@hotmail.com>
Message-ID: <x2hejaqbd5.fsf@biostat.ku.dk>

"RenE J.V. Bertin" <rjvbertin at hotmail.com> writes:

> New to R, I had the bad idea to send a bug report about '[' not
> knowing it had a drop= argument. Now, I wonder about the absence of
> this argument in subset...
> 
> In both availabe methods (see below), there is a ... argument, but
> this argument is not used in either. Rather, subset.data.frame
> explitictly passes drop=F in 1 instance.
> Before I start patching (for my own use): what is the reason for this?

"..." is generally used in methods, in case someone defines a method
with further arguments for a subclass and wants to use NextMethod().
It's not a bug that no existing method actually uses it.

There's no particular reason not to pass ... on to the indexing in
subset.default, except that the author didn't think about it. I don't
think the default method gets used much, but it might be useful to 
change it to

function (x, subset, ...) 
x[subset & !is.na(subset),...]

(This would likely change the semantics for the case where x is a
matrix or array. Possibly for the better.)

In subset.data.frame, the drop=F ensures that you get a data frame as
the result even if only a single column is selected (or there was only
a single column to begin with). I think this is as it should be. If
you look closer, you'll see that the drop=F is actually applied in
*all* instances and that all four arguments to [.data.frame are passed
explicitly so there's no point in passing ... there.
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From LAndrews at s-3.com  Mon Jul  8 22:23:52 2002
From: LAndrews at s-3.com (Andrews, Linda)
Date: Mon, 8 Jul 2002 16:23:52 -0400 
Subject: [R] Imputations in R
Message-ID: <60397550A648344D991D8A15F01860BA1FEA27@sshost09.s-3.com>

I'm interested in finding a package in R to do multiple imputations, similar
to MICE in S-Plus.  Does one exist?

Please email directly to me.

Thanks.

Linda Andrews
Social & Scientific Systems
(301) 628-3234

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Mon Jul  8 22:57:34 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Mon, 8 Jul 2002 16:57:34 -0400
Subject: [R] Imputations in R
In-Reply-To: <60397550A648344D991D8A15F01860BA1FEA27@sshost09.s-3.com>
References: <60397550A648344D991D8A15F01860BA1FEA27@sshost09.s-3.com>
Message-ID: <20020708165734.290b2f95.fharrell@virginia.edu>

Mice has been adapted for R.  Also see the aregImpute function in the Hmisc library which from initial simulations has almost the same performance as MICE but runs faster and assumes less (see http://hesweb1.med.virginia.edu/biostat/rms).  You should be able to get Mice from R from the Mice developers.  Let me know if you have difficulty.  -Frank Harrell

On Mon, 8 Jul 2002 16:23:52 -0400 
"Andrews, Linda" <LAndrews at s-3.com> wrote:

> I'm interested in finding a package in R to do multiple imputations, similar
> to MICE in S-Plus.  Does one exist?
> 
> Please email directly to me.
> 
> Thanks.
> 
> Linda Andrews
> Social & Scientific Systems
> (301) 628-3234
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cmaley at fhcrc.org  Mon Jul  8 23:51:08 2002
From: cmaley at fhcrc.org (Carlo C. Maley)
Date: Mon, 08 Jul 2002 14:51:08 -0700
Subject: [R] manipulating axis labels in grid and lattice
References: <3D20DE2E.30301@fhcrc.org> <3D2244BC.BFD14996@stat.auckland.ac.nz>
Message-ID: <3D2A094C.4050903@fhcrc.org>

An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020708/222eaa2e/attachment.html

From hb at maths.lth.se  Tue Jul  9 00:40:51 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Tue, 9 Jul 2002 00:40:51 +0200
Subject: [R] Large continuous color palette {was `about image and rgb'}
In-Reply-To: <15657.48072.260796.948721@gargle.gargle.HOWL>
Message-ID: <KKEGJOGBELBHDIKPINBMEEOHCNAA.hb@maths.lth.se>

What about

% R --vanilla

intToHex <- function(x) {
  y <- as.integer(x)
  class(y) <- "hexmode"
  y <- as.character(y)
  dim(y) <- dim(x)
  y
}

as.character.hexmode <- function(x) {
  hexDigit <- c(0:9, "A", "B", "C", "D", "E", "F")
  isna <- is.na(x)
  y <- x[!isna]
  ans0 <- character(length(y))
  z <- NULL
  while (any(y > 0) | is.null(z)) {
    z <- y%%16
    y <- floor(y/16)
    ans0 <- paste(hexDigit[z + 1], ans0, sep = "")
  }
  ans <- rep(NA, length(x))
  ans[!isna] <- ans0
  ans
}

rgb256 <- function(r, g, b) {
  r <- intToHex(r %% 256)
  g <- intToHex(g %% 256)
  b <- intToHex(b %% 256)
  rgb <- cbind(r, g, b)
  # Pad a zero to all value less than 10.
  idx <- (nchar(rgb) == 1)
  rgb[idx] <- paste("0", rgb[idx], sep="")
  rgb <- apply(rgb, MARGIN=1, FUN=paste, collapse="")
  paste("#", rgb, sep="")
}

mirror.matrix <- function(x) {
  x <- as.data.frame(x)
  x <- rev(x)
  as.matrix(x)
}

rotate270.matrix <- function(x) {
  mirror.matrix(t(x))
}

image.matrix <- function(z, ...) {
  image(rotate270.matrix(z), ...)
}

imageToPNG <- function(z, colorTable, filename, transparent=NULL) {
  width <- ncol(z)
  height <- nrow(z)
  if (!is.null(transparent))
    z[z == transparent] <- NA
  x <- 1:width
  y <- 1:height
  png(filename, width=width, height=height, bg="transparent")
  on.exit(dev.off())
  par(mar = c(0, 0, 0, 0))
  image.matrix(x=x, y=y, z=z, col=colorTable, axes=FALSE)
}

# Create a palette of all nuances of red combined with 256^2 different
# shades of gray. Was this what you wanted? I don't really get that or
# if it was just an example. BTW, it is only possible to create 256
# different red nuances.
r <- as.vector(matrix(0:255, nrow=256, ncol=256, byrow=TRUE))
g <- b <- 0:255
rgb <- rgb256(r,g,b)

# Create an "image" of 2^16 different color values
ncolors <- 2**16
z <- matrix(0:(ncolors-1), nrow=256, ncol=256)

# Write the "image" to a PNG file
imageToPNG(z, colorTable=rgb, filename="foo.png")

# Or just red nuances
imageToPNG(z, colorTable=rgb256(0:255,0,0), filename="bar.png")

(This code was verify on R v1.5.1/WinMe).

Then, as suggested, use ImageMagick's convert or something to convert this
to TIFF.

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
+46 46 2229611 (off), +46 708 909208 (cell), +46 46 2224623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/~hb/


> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Martin Maechler
> Sent: Monday, July 08, 2002 6:20 PM
> To: Olivier Martin
> Cc: R-help at stat.math.ethz.ch
> Subject: [R] Large continuous color palette {was `about image and rgb'}
>
>
> [Answer re-diverted to R-help !]
>
> >>>>> "Olivier" == Olivier Martin <olivier.martin at inrialpes.fr> writes:
>
>     Olivier> Hi Martin,
>
>     Olivier> Thanks for your help.  I try explain more precisely
> my problem.
>     Olivier> First, i have a matrix which values are between 0 and 2^16-1.
>
>     Olivier> So, this what i would like to do.
>
>     Olivier> 1 Is it possible to convert this matrix into a TIFF
> format file.
>
> yes:
> 1) Use the `pixmap' package to produce a "pnm" (portable anymap format)
>    file
> 2) Use a conversion tool to translate this to tiff.
>    There are many of those I think.
>    On Unix/Linux, there's the ImageMagick software package, with
>    a "convert" program.
>
>    On my Linux (redhat), there's also  pnmtotiff with help page
> {excerpts!}
>
>      >>   NAME
>      >> 	 pnmtotiff - convert a a portable anymap into a TIFF file
>      >>
>      >>   SYNOPSIS
>      >> 	 pnmtotiff  [-none|-packbits|  -lzw|-g3|-g4]  [-2d] [-fill]
>      >> 	 [-predictor n] [-msb2lsb|-lsb2msb] [-rowsperstrip  n]  [-X
>      >> 	 res| -Y res| -R res] [pnmfile]
>      >>
>      >>   DESCRIPTION
>      >> 	 Reads a portable anymap as input.  Produces a TIFF file as
>      >> 	 output.
>      >>
>      >>    ............
>      >>
>      >>   NOTES
>      >> 	 There  are  myriad variations of the TIFF format, and this
>      >> 	 program generates only a few of them.  pnmtotiff creates a
>      >> 	 grayscale  TIFF file if its input is a PBM (monochrome) or
>      >> 	 PGM (grayscale) file.  If the input is a PPM (color)  file
>      >> 	 and  there  are 256 colors or fewer, pnmtotiff generates a
>      >> 	 color palette TIFF file.  If there are  more  colors  than
>      >> 	 that,  pnmtotiff  generates an RGB (not RGBA) single plane
>      >> 	 TIFF  file.   Use  pnmtotiffcmyk  to  generate  the  cyan-
>      >> 	 magenta-yellow-black ink color separation TIFF format.
>      >>
>      >>   ...
>
> read the "NOTES" section above!
>
>     Olivier> 2 Some R functions are available to represent
>     Olivier> images.  So, i would like to represent my matrix
>     Olivier> (in the red channel for exemple) but i don't know
>     Olivier> how i can use the rgb function to represent it. I
>     Olivier> am not familar with image analysis and my problem
>     Olivier> is that i don't know how i can take into account
>     Olivier> the large scale of my values with only the red
>     Olivier> colours.
>
>     Olivier> I can use the rgb function with something like
>     Olivier> reds <- rgb(r=1, g=(255:0)/255,b=(255:0)/255) and
>     Olivier> image(mat,col=reds).
>
>     Olivier> But the image is not very "good" (all the image is
>     Olivier> red) and may be it should be better with more
>     Olivier> levels of red colors.
>
> Now I see clearer. I think in principle, you shouldn't use
> rgb() at all but rather one of the functions
>
>        rainbow(), heat.colors(), .....   {see the help page for rainbow}
>
> for creating a larger number of *continuous* colours.
> However, it seems you don't come close to 2^16 ~= 65000 different colors
> easily, using these (e.g.  length(unique(rainbow(2^16))) is only 1530).
> {{actually I think you don't want to come really close to 65000,
>   I'd guess a few thousands would always suffice in statistics,
>   but that's not the point here ...}}
>
> ---> Challenge to all : Have you found nice easily constructed
> continuous color palettes scheme with substantionally more
> different colors?
> One approach could start combining rainbow(n, v, s) with
> non-default values of `v' and `s'.
> The more general problem could be stated as :
> >>> Find a ``cube-filling'' curve through the HSV (better than RGB)
> >>> color cube { touching enough different places -- depending on n }.
> Maybe restricting yourself to a close neigborhood of a 2-d
> surface in that cube (to have only points of
> approximately similar luminance, eg) would be an important option.
>
> So, yes as a matter of fact, we got a nice fun problem to play
> around with thanks to your enquiry.
>
> In any case, get the pixmap package and read the (only two) help
> pages from it!
>
>     Olivier> For now, i use a log transformation on my data
>     Olivier> (image(log(mat),col=2)) and i obtain an image with
>     Olivier> more "structures". I have also change my object
>     Olivier> reds by using a non linear function for the g and b
>     Olivier> values .  But maybe , there is another way to
>     Olivier> represent this image.
>
>     Olivier> I hope my problem is more clear.
> yes, it has become.
>
>
>     Olivier> Martin Maechler wrote:
>
>     >>>>>>> "Olivier" == Olivier Martin
> <olivier.martin at inrialpes.fr> writes:
>     >>>>>>>
>     >>
>     Olivier> I have a 16 bit image (TIFF) and i want to analyse
>     Olivier> the pixels distribution.  So, i obtain a matrix
>     Olivier> which values are between 0 and 2^16 -1.
>     >> ok
>     >>
>     Olivier> Now i would like to represnt this image with the
>     Olivier> fucntions rgb() and image().
>     >> `perfect'
>     >>
>     Olivier> I am not sure , but i think that only 256 colors
>     Olivier> are available.
>     >>
>     >> what makes you think so?  It's not true.
>     >>
>     >> There are (2^8)^3 (i.e 24-bit) colors in R, as you can see
>     >> quickly from looking at the result of rgb(), e.g.
>     >>
>     >> Now the for viewing thing is devices, i.e. hardware and
>     >> device-driver software.
>     >> A few years ago, still many Sun Workstations came with graphics
>     >> cards that only permitted 8-bit (i.e. 256 different colors
> at a time).
>     >>
>     >> Can you be more specific about your problems?
>     >>
>     Olivier> So is there a solution to represent all the palette
>     Olivier> of the colors or i have to limit the
>     Olivier> representations with 256 colors.
>     >>
>     >> Martin Maechler <maechler at stat.math.ethz.ch>
http://stat.ethz.ch/~maechler/
    >> Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
    >> ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
    >> phone: x-41-1-632-3408		fax: ...-1228			<><

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Tue Jul  9 01:30:16 2002
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Tue, 9 Jul 2002 09:30:16 +1000 (EST)
Subject: [R] Re: Candid comment
Message-ID: <200207082330.g68NUGU16658@leonard.anu.edu.au>

Peter Dalgaard writes:

> Bill.Venables at cmis.csiro.au writes:
> 
........
> > [WNV]  Now there's an insight!  In fact I think that once you get used to
> > the style you get to appreciate it.  The commercial world substitutes
> > politeness for candour.  True candour can be disconcerting but it does get
> > the message across much quicker.  

> Also, this has less to do with free software than with the Usenet
> (and general academic) traditions of dealing with students. It is
> necessary to avoid actually doing their homework for them, but you
> can supply a hint or two, often in the style of indicating what the
> true purpose of the exercise is and how the student was expected to
> attack it. That's essentially what happened here, and yes, it is
> patronizing, but that sort of lies in the relations from the start.

However, it is the abuse of methodology that we should really go
after, not failure to read or understand the manual!

We could do with a great deal more candour in the academic world.  In
the arena of publications, there is a huge amount of publication of
potboilers (well, this may not matter too much; some have their uses)
and total nonsense, (which does matter), in pursuit of what many seem
to regard as a game.  Some editors and editorial boards are not
interested in doing a lot about cases of blatant nonsense that may be
drawn to their attention.  I entered a correspondence with the editor
and editorial board (the journal did purport to be hard science, but
the use of `economic' in the title might be a giveaway) in one
particularly bad case a couple of years ago; I documented a dozen
statements on statistical matters that were just wrong.  The board
really did not want to know about it - we have hurdles, some baddies
jump them, that is the way it is!

This list seems to me a useful meeting point between user
communities who may have different traditions and different
standards of use of statistical methodology.



John Maindonald                     email : john.maindonald at anu.edu.au
Centre for Bioinformation Science,  phone : (6125)3473        
c/o MSI,                            fax   : (6125)5549 
John Dedman Mathematical Sciences Building (Building 27)
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Michael_Nielsen/Syd/Synergy.SYNERGY at synergy.com.au  Tue Jul  9 03:35:30 2002
From: Michael_Nielsen/Syd/Synergy.SYNERGY at synergy.com.au (Michael_Nielsen/Syd/Synergy.SYNERGY@synergy.com.au)
Date: Tue, 9 Jul 2002 11:35:30 +1000
Subject: [R] Re: Candid comment
Message-ID: <OF69345312.0814522B-ONCA256BF1.000897E7@syd.syn.com.au>

<soap-box>

While I agree with John about abuse of methodology, I can't subscribe to
the "failure to read the manual" proposition.

I don't mean to lecture, but it would seem to me that people who, like me,
will probably gain far more from this list than we will be able to
contribute (at least in the near term) owe it to those who will likely
contribute far more than they will actually gain to do our homework before
asking the list.  The risk of enduring a withering (and public) "Ripley"
for being apparently unprepared (whether valid or not), is probably a small
price to pay for the number of "how do I use R to compute the mean"
questions that are likely filtered out as a consequence.  On the other
hand, big contributors are surely entitled (but not, I suppose, obliged) to
say what they like.

Enjoying the benefits of free software and associated resources carries
with it the duty of appropriate diligence in problem solving and
self-education.

</soap-box>

Regards,

Mike


                                                                                                                                                      
                    John Maindonald                                                                                                                   
                    <john.maindonald at anu        To:     r-help at stat.math.ethz.ch                                                                      
                    .edu.au>                    cc:                                                                                                   
                    Sent by:                    Subject:     [R] Re: Candid comment                                                                   
                    owner-r-help at stat.ma                                                                                                              
                    th.ethz.ch                                                                                                                        
                                                                                                                                                      
                                                                                                                                                      
                    09/07/2002 09:30 AM                                                                                                               
                                                                                                                                                      
                                                                                                                                                      




Peter Dalgaard writes:

> Bill.Venables at cmis.csiro.au writes:
>
........
> > [WNV]  Now there's an insight!  In fact I think that once you get used
to
> > the style you get to appreciate it.  The commercial world substitutes
> > politeness for candour.  True candour can be disconcerting but it does
get
> > the message across much quicker.

> Also, this has less to do with free software than with the Usenet
> (and general academic) traditions of dealing with students. It is
> necessary to avoid actually doing their homework for them, but you
> can supply a hint or two, often in the style of indicating what the
> true purpose of the exercise is and how the student was expected to
> attack it. That's essentially what happened here, and yes, it is
> patronizing, but that sort of lies in the relations from the start.

However, it is the abuse of methodology that we should really go
after, not failure to read or understand the manual!

We could do with a great deal more candour in the academic world.  In
the arena of publications, there is a huge amount of publication of
potboilers (well, this may not matter too much; some have their uses)
and total nonsense, (which does matter), in pursuit of what many seem
to regard as a game.  Some editors and editorial boards are not
interested in doing a lot about cases of blatant nonsense that may be
drawn to their attention.  I entered a correspondence with the editor
and editorial board (the journal did purport to be hard science, but
the use of `economic' in the title might be a giveaway) in one
particularly bad case a couple of years ago; I documented a dozen
statements on statistical matters that were just wrong.  The board
really did not want to know about it - we have hurdles, some baddies
jump them, that is the way it is!

This list seems to me a useful meeting point between user
communities who may have different traditions and different
standards of use of statistical methodology.



John Maindonald                     email : john.maindonald at anu.edu.au
Centre for Bioinformation Science,  phone : (6125)3473
c/o MSI,                            fax   : (6125)5549
John Dedman Mathematical Sciences Building (Building 27)
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Tue Jul  9 05:38:30 2002
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Tue, 9 Jul 2002 13:38:30 +1000 (EST)
Subject: [R] Re: Candid comment
Message-ID: <200207090338.g693cUA09581@leonard.anu.edu.au>


Perhaps I should have said:  "... more than failure to 
read the manual..."
John Maindonald
-----------------------------------------------------------------------
Michael Nielsen wrote

<soap-box>

While I agree with John about abuse of methodology, I can't subscribe to
the "failure to read the manual" proposition.

I don't mean to lecture, but it would seem to me that people who, like me,
will probably gain far more from this list than we will be able to
contribute (at least in the near term) owe it to those who will likely
contribute far more than they will actually gain to do our homework before
asking the list.  The risk of enduring a withering (and public) "Ripley"
for being apparently unprepared (whether valid or not), is probably a small
price to pay for the number of "how do I use R to compute the mean"
questions that are likely filtered out as a consequence.  On the other
hand, big contributors are surely entitled (but not, I suppose, obliged) to
say what they like.

Enjoying the benefits of free software and associated resources carries
with it the duty of appropriate diligence in problem solving and
self-education.

</soap-box>

Regards,
Mike




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amaitour at pasteur.fr  Tue Jul  9 09:58:43 2002
From: amaitour at pasteur.fr (Aboubakar Maitournam)
Date: Tue, 09 Jul 2002 09:58:43 +0200
Subject: [R] Which function to use for multiple comparison?
References: <Pine.A41.4.44.0207080817050.40592-100000@homer21.u.washington.edu> <3D2A96FC.2004BB08@pasteur.fr>
Message-ID: <3D2A97B3.EB4A3292@pasteur.fr>



> Thomas Lumley wrote:
>
> > On Mon, 8 Jul 2002, Julie Cong wrote:
> >
> > >        [Moderator: This was erronously sent to R-announce,
> > >                  and filtered fortunately ]
> > >
> > > Hi,
> > >
> > > This is my first time to use R. I'm wondering which function I can use to do
> > > multiple comparison. I have an lm object and want to do multiple comparison
> > > based on this object. Splus has a function multicomp() but I could not find
> > > a similar one in R. Thanks in advance. Really appreciate it.
> > >
> >
> > At the moment the multiple comparisons features in R are a bit limited.
> >
> >    p.adjust does a number of corrections of p-values that are very general
> >
> >    pairwise.t.test is another interface to these same methods
> >
> >    TukeyHSD provides Tukey's Honestly Significant Difference
> >
> > help.search("comparison") suggests that the npmc package might also be
> > helpful.
> >
> >         -thomas
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
> I think that the package multtest which must go with version R-1.5.0 is relatively
> complet
> in term of multiple comparisons based on t-test(paired or not), Wilcoxon
> test(paired or not)
> F test with the the adjustment of p_values.
>
> Best regards.
>
> Aboubakar Maitournam.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Tue Jul  9 09:09:00 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Tue, 9 Jul 2002 09:09:00 +0200
Subject: [R] arrays in binary files
Message-ID: <20020709090900.B10950@giraffa.cbs.dtu.dk>

Dear all,

In the writing of functions for a package have to deal with (very)
 large arrays and I was considering that
having them in files rather than in memory would help me a bit
on the memory side of the things. I was thinking of accessing the
elements in the arrays by 'seek' and friends in C. 
The package RObjectTables seems to provide the framework to do this
kind of thing, but I have questions:

- The speed side of the things worries me. Is the idea totally
stupid ?

- Does anybody out there have experience in doing similar things
(and why not dream about it, doing the exact same thing ;) ) with
R ?


Thanking any kind of help/pointer in advance,


L.


PS: I know of the package 'rhdf5'. It provides what I am looking for,
but I'd like to offer a poor man's solution (should I say 'lazy man')...
the package should work 'out of the box'
 

 


-- 
--------------------------------------------------------------
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			DK-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Tue Jul  9 12:03:30 2002
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Tue, 9 Jul 2002 12:03:30 +0200 (MET DST)
Subject: [R] Zero Inflated Poisson Regression Modelling
In-Reply-To: <5.1.0.14.0.20020705191419.01923a18@zeus.stams.strath.ac.uk> from "Gavin McCabe" at Jul 05, 2002 08:11:22 PM
Message-ID: <200207091003.MAA07868@luc.ac.be>

> 
> Hi Everyone
> 
> Does anyone know of a function that will perform Zero Inflated Poisson 
> (ZIP) regression modelling?

gnlr in my gnlm library available at
www.luc.ac.be/~jlindsey/rcode.html
  Jim

> 
> 
> Many thanks in advance,
> 
> Gavin
> 
> 
> +_+_+_+_+_+_+_+_+_+_+_+_+_+
> 
>   R.version
>           _
> platform i386-pc-mingw32
> arch     i386
> os       mingw32
> system   i386, mingw32
> status
> major    1
> minor    5.0
> year     2002
> month    04
> day      29
> language R
> _____________________________
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From seniorr at aracnet.com  Tue Jul  9 12:48:53 2002
From: seniorr at aracnet.com (Russell Senior)
Date: 09 Jul 2002 03:48:53 -0700
Subject: [R] building formula objects
Message-ID: <868z4l41nu.fsf@coulee.tdb.com>


I want to write a function to take an argument as the response
variable of a linear model, e.g. to do anova's across a list of
variables, something like the following (except, of course, this
doesn't work):

  function(x) { anova(lm(x ~ my.factor,data=my.data)) }

The x in lm() above is getting evaluated at the wrong level.  How
can I make this work? 

-- 
Russell Senior         ``The two chiefs turned to each other.        
seniorr at aracnet.com      Bellison uncorked a flood of horrible       
                         profanity, which, translated meant, `This is
                         extremely unusual.' ''                      
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue Jul  9 13:38:22 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 9 Jul 2002 07:38:22 -0400
Subject: [R] building formula objects
In-Reply-To: <868z4l41nu.fsf@coulee.tdb.com>; from seniorr@aracnet.com on Tue, Jul 09, 2002 at 03:48:53AM -0700
References: <868z4l41nu.fsf@coulee.tdb.com>
Message-ID: <20020709073822.A20930@cattell.psych.upenn.edu>

On 07/09/02 03:48, Russell Senior wrote:
>
>I want to write a function to take an argument as the response
>variable of a linear model, e.g. to do anova's across a list of
>variables, something like the following (except, of course, this
>doesn't work):
>
>  function(x) { anova(lm(x ~ my.factor,data=my.data)) }
>
>The x in lm() above is getting evaluated at the wrong level.  How
>can I make this work? 

I don't know.  But what I do instead is this:

my.coeffs <- matrix(NA,mynumber,3) # set up empty matrix
for (i in 1:my.number) {
 mycoeffs[i] <- as.numeric(try(coef(lm(Y[i]~X1[i]+X2[i]+X3[i]))[2:4]))}

The "try()" is in case it doesn't work for a given value of i
(e.g., too many missing data), and that makes "as.numeric()"
necessary. The coef() extracts the coefficients, excluding the
constant,, which is all I was interested in, but you could store
the whole thing if you use a list instead of my.coeffs.

I would like to know how to do it with a function.

Jon
-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
R page:               http://finzi.psych.upenn.edu/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Tue Jul  9 14:33:41 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Tue, 9 Jul 2002 22:33:41 +1000 
Subject: [R] building formula objects
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A91651AE@Roper-CV.qld.cmis.csiro.au>

In response to a query from Russel Senior, Jon Baron writes:

>  -----Original Message-----
> From: 	Jonathan Baron [mailto:baron at cattell.psych.upenn.edu] 
> Sent:	Tuesday, July 09, 2002 9:38 PM
> To:	Russell Senior
> Cc:	r-help at stat.math.ethz.ch
> Subject:	Re: [R] building formula objects
> 
> On 07/09/02 03:48, Russell Senior wrote:
> >
> >I want to write a function to take an argument as the response
> >variable of a linear model, e.g. to do anova's across a list of
> >variables, something like the following (except, of course, this
> >doesn't work):
> >
> >  function(x) { anova(lm(x ~ my.factor,data=my.data)) }
> >
> >The x in lm() above is getting evaluated at the wrong level.  How
> >can I make this work? 
> 
> I don't know.  But what I do instead is this:
> 
> my.coeffs <- matrix(NA,mynumber,3) # set up empty matrix
> for (i in 1:my.number) {
>  mycoeffs[i] <- as.numeric(try(coef(lm(Y[i]~X1[i]+X2[i]+X3[i]))[2:4]))}
> 
> The "try()" is in case it doesn't work for a given value of i
> (e.g., too many missing data), and that makes "as.numeric()"
> necessary. The coef() extracts the coefficients, excluding the
> constant,, which is all I was interested in, but you could store
> the whole thing if you use a list instead of my.coeffs.
> 
> I would like to know how to do it with a function.

[WNV]  It's not too bad, but a little trickier than most people would
expect.  See the Programmer's Niche article in the latest edition of R news
for a general strategy for handling this kind of problem (at the risk of
touting my own stuff).

Bill Venables

> Jon
> -- 
> Jonathan Baron, Professor of Psychology, University of Pennsylvania
> R page:               http://finzi.psych.upenn.edu/
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Tue Jul  9 17:23:56 2002
From: ernesto at ipimar.pt (Ernesto Jardim)
Date: 09 Jul 2002 16:23:56 +0100
Subject: [R] Error handling
Message-ID: <1026228236.16684.10.camel@gandalf>

Hi 

I wrote a function implementing an algoritm for simulation of spatial
sampling plans (using geoR).

I'm using a range of parameters to perform several simulation and
sometimes this parameters create function errors wich cause the algoritm
to stop.

How can I avoid this ?

Below there's a small example that I made to study the problem but I was
not able to solve it. I've tried "restart" function but it caused an
endeless loop. 

All help is wellcome.

> # function
> 
> fun.test<-function(vec){
+ for(i in 1:length(vec)){
+ a <- log(vec[i])
+ cat(vec[i],a,"\n")
+ }
+ }
> 
> # case 1
> 
> vec<-c(2,4,6)
> 
> fun.test(vec)
2 0.6931472 
4 1.386294 
6 1.791759 
> 
> # case 2
> 
> vec<-c(2,4,"a",6)
> 
> fun.test(vec)
Error in log(x) : Non-numeric argument to mathematical function

I want that in case 2 the function jumps "a" and continues giving a
similar result to case 1.

Thanks

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metrinomics.de  Tue Jul  9 17:02:38 2002
From: c.schulz at metrinomics.de (Christian Schulz)
Date: Tue, 09 Jul 2002 17:02:38 +0200
Subject: [R] package relimp
Message-ID: <3D2AFB0E.3050502@metrinomics.de>

Hi,
i'm newbie for this, but it's very interesting, but how i have to 
interpret the results
if i get i.e. this results ?


Is it correct -
 if the "Ratio of effect sd"  is positiv than the Numerator effects are 
bigger , and the negative case vice-versa ?


Ratio of effect standard deviations: 0.954
Log(sd ratio):                 -0.047   (se 0.828)

Approximate 95% confidence interval for log(sd ratio): (-1.669,1.575)
Approximate 95% confidence interval for sd ratio:      (0.188,4.833)


Thanks for advance & perhaps a link/pdf   but i find nothing related 
with google.
regards,Christian

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Frederic.Jean at univ-brest.fr  Tue Jul  9 17:14:54 2002
From: Frederic.Jean at univ-brest.fr (Fred Jean)
Date: Tue, 09 Jul 2002 17:14:54 +0200 (CEST)
Subject: [R] lines(predict(nls()) with NA's
Message-ID: <200207091512.RAA10794@cassis-gw.univ-brest.fr>

Dear List,

my exploration of R goes on... And I REALLY enjoy it ! (thanks to all guRus).

Yesterday a colleague ask me for fitting some data presented as a data.frame,
something like :

>a
        x X158.7  X150.0  ...
1   -0.25    506   183.1
2   -0.75    633   210.7
3   -1.25    674   220.3
4   -1.50     NA   244.6
5   -1.75    742   261.2
6   -2.25    787   269.1
7   -2.50     NA   283.5
8   -2.75    794   287.6
9   -3.25    816   296.4
10  -3.50     NA   307.9
...

I used the nls package :

>nls(nls(X158.7 ~ Cd + ((158.7-Cd)*exp(b*x)),
start=list(b=0.5,Cd=500),na.action=na.omit,trace=T)->mod1

then, to look at the result
> plot(x,X158.7, pch='+', col='blue')

but (not surprisingly)
> lines(predict(mod1),lty=2,col='red')

doesn't line anything as long as there are NA's in the dependant vector.
How can I make this work and get my nice plots ?

Thanks 
Sincerely yours

Fred

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jul  9 17:35:51 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 9 Jul 2002 08:35:51 -0700 (PDT)
Subject: [R] building formula objects
In-Reply-To: <868z4l41nu.fsf@coulee.tdb.com>
Message-ID: <Pine.A41.4.44.0207090826110.19706-100000@homer13.u.washington.edu>

On 9 Jul 2002, Russell Senior wrote:

>
> I want to write a function to take an argument as the response
> variable of a linear model, e.g. to do anova's across a list of
> variables, something like the following (except, of course, this
> doesn't work):
>
>   function(x) { anova(lm(x ~ my.factor,data=my.data)) }
>
> The x in lm() above is getting evaluated at the wrong level.  How
> can I make this work?
>

When I tried this first I thought it did work. It provides a nice example
of why R does things this way (as well as why it's useful to give an
example in help questions)

Consider a data frame
	my.data<-data.frame(a=rep(0:1,12),b=rep(0:2,8),y=rnorm(24))
and
      f<-function(x)  { anova(lm(x ~ my.factor,data=my.data)) }

If we generate a new response vector (perhaps for simulations) and want to
regress it on a and b then the function above works nicely
> z<-rnorm(24)
> f(z)
Analysis of Variance Table

Response: x
          Df  Sum Sq Mean Sq F value Pr(>F)
a          1  0.0086  0.0086  0.0078 0.9305
b          1  0.1013  0.1013  0.0921 0.7645
Residuals 21 23.0914  1.0996

Here the response variable is the value of z. Presumably the reason it
`doesn't work' is that the question was different.  If we want to specify
a column in `my.data' as the response variable we need to pass in the name
of the variable and somehow get that name into the function.

This can be done with substitute(), as discussed in more detail in the R
Newsletter. This case is fairly simple and we can use

     g<-function(x) { ff<-eval(substitute(x~a+b))
 			anova(lm(ff,data=my.data)) }

> g(y)
Analysis of Variance Table

Response: y
          Df  Sum Sq Mean Sq F value Pr(>F)
a          1  2.1294  2.1294  2.3335 0.1415
b          1  0.1537  0.1537  0.1685 0.6856
Residuals 21 19.1634  0.9125

which is the correct answer as it matches

> anova(lm(y~a+b,data=my.data))
Analysis of Variance Table

Response: y
          Df  Sum Sq Mean Sq F value Pr(>F)
a          1  2.1294  2.1294  2.3335 0.1415
b          1  0.1537  0.1537  0.1685 0.6856
Residuals 21 19.1634  0.9125


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From scholl at yubc.net  Tue Jul  9 17:28:53 2002
From: scholl at yubc.net (Brian Scholl)
Date: Tue, 9 Jul 2002 17:28:53 +0200
Subject: No subject
Message-ID: <000701c22760$2ba87840$80a47cd4@oemcomputer>

 Hi, this is just a quick question about the list, not about R.

 I'm trying to filter r-help questions into a separate inbox folder in
Outlook Express, but I'm having trouble.  All my other filters for lists
seem to work except for this one.  I've tried just about every email
address that it seems the messages come from (starting with r-help).

 Any suggestions? It's just a matter of convenience in sorting out messages.

Brian

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Jul  9 18:02:39 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 09 Jul 2002 18:02:39 +0200
Subject: [R] Error handling
References: <1026228236.16684.10.camel@gandalf>
Message-ID: <3D2B091F.7CF58B87@statistik.uni-dortmund.de>



Ernesto Jardim wrote:
> 
> Hi
> 
> I wrote a function implementing an algoritm for simulation of spatial
> sampling plans (using geoR).
> 
> I'm using a range of parameters to perform several simulation and
> sometimes this parameters create function errors wich cause the algoritm
> to stop.
> 
> How can I avoid this ?
> 
> Below there's a small example that I made to study the problem but I was
> not able to solve it. I've tried "restart" function but it caused an
> endeless loop.
> 
> All help is wellcome.
> 
> > # function
> >
> > fun.test<-function(vec){
> + for(i in 1:length(vec)){
> + a <- log(vec[i])
> + cat(vec[i],a,"\n")
> + }
> + }
> >
> > # case 1
> >
> > vec<-c(2,4,6)
> >
> > fun.test(vec)
> 2 0.6931472
> 4 1.386294
> 6 1.791759
> >
> > # case 2
> >
> > vec<-c(2,4,"a",6)
> >
> > fun.test(vec)
> Error in log(x) : Non-numeric argument to mathematical function
> 
> I want that in case 2 the function jumps "a" and continues giving a
> similar result to case 1.

See ?try.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cts at debian.org  Tue Jul  9 18:05:02 2002
From: cts at debian.org (Christian T. Steigies)
Date: Tue, 9 Jul 2002 11:05:02 -0500
Subject: [R] Re: your mail
In-Reply-To: <000701c22760$2ba87840$80a47cd4@oemcomputer>; from scholl@yubc.net on Tue, Jul 09, 2002 at 05:28:53PM +0200
References: <000701c22760$2ba87840$80a47cd4@oemcomputer>
Message-ID: <20020709110502.B2186@debian.org>

On Tue, Jul 09, 2002 at 05:28:53PM +0200, Brian Scholl wrote:
>  Hi, this is just a quick question about the list, not about R.
> 
>  I'm trying to filter r-help questions into a separate inbox folder in
> Outlook Express, but I'm having trouble.  All my other filters for lists
> seem to work except for this one.  I've tried just about every email
> address that it seems the messages come from (starting with r-help).
> 
>  Any suggestions? It's just a matter of convenience in sorting out messages.

Maybe you should ask on an outlook express mailing list, whatever that is?

procmail catches all R related mails by this recipe, but I have no idea if
this will help you with your mail(?) program.

# r-help
:0:
* (^TOr-help at lists.r-project.org|r-help at stat.math.ethz.ch|\
   ^Sender: owner-r-help at stat.math.ethz.ch)
| $FORMAIL -A"X-Sorted: r-help" >>$MAILDIR/r-help

Christian
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Tue Jul  9 19:27:00 2002
From: ernesto at ipimar.pt (Ernesto Jardim)
Date: 09 Jul 2002 18:27:00 +0100
Subject: [R] Error handling
In-Reply-To: <3D2B091F.7CF58B87@statistik.uni-dortmund.de>
References: <1026228236.16684.10.camel@gandalf> 
	<3D2B091F.7CF58B87@statistik.uni-dortmund.de>
Message-ID: <1026235620.16684.22.camel@gandalf>

Hi

I don't want to know if it runs without errors, I want it to keep
working even if an error occurs.

Thanks

EJ

On Tue, 2002-07-09 at 17:02, Uwe Ligges wrote:
> 
> 
> Ernesto Jardim wrote:
> > 
> > Hi
> > 
> > I wrote a function implementing an algoritm for simulation of spatial
> > sampling plans (using geoR).
> > 
> > I'm using a range of parameters to perform several simulation and
> > sometimes this parameters create function errors wich cause the algoritm
> > to stop.
> > 
> > How can I avoid this ?
> > 
> > Below there's a small example that I made to study the problem but I was
> > not able to solve it. I've tried "restart" function but it caused an
> > endeless loop.
> > 
> > All help is wellcome.
> > 
> > > # function
> > >
> > > fun.test<-function(vec){
> > + for(i in 1:length(vec)){
> > + a <- log(vec[i])
> > + cat(vec[i],a,"\n")
> > + }
> > + }
> > >
> > > # case 1
> > >
> > > vec<-c(2,4,6)
> > >
> > > fun.test(vec)
> > 2 0.6931472
> > 4 1.386294
> > 6 1.791759
> > >
> > > # case 2
> > >
> > > vec<-c(2,4,"a",6)
> > >
> > > fun.test(vec)
> > Error in log(x) : Non-numeric argument to mathematical function
> > 
> > I want that in case 2 the function jumps "a" and continues giving a
> > similar result to case 1.
> 
> See ?try.
> 
> Uwe Ligges


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From B.Mao at cerep.com  Tue Jul  9 18:22:37 2002
From: B.Mao at cerep.com (Boryeu Mao)
Date: Tue, 9 Jul 2002 09:22:37 -0700 
Subject: [R] changing coefficient names in a model
Message-ID: <0957E70F25F7D111974B00A0C9833064AF8954@MAYO>

Dear R-help,

I have a model [from polr() precisely] that was built with formula like 'y ~
.'; is it possible to change the names in '.' right in the model object,
without going all the back to re-making the model?  

Thanks in advance for any help.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vsxo at hotmail.com  Tue Jul  9 18:23:42 2002
From: vsxo at hotmail.com (Remy X.O. Martin)
Date: Tue, 9 Jul 2002 18:23:42 +0200
Subject: [R] documentation buglet: units?
Message-ID: <20020709182342.0ce7d132.vsxo@hotmail.com>

I was looking for information how to use (metric) units, e.g. to say ps.options(width=10cm) instead of doing the conversion myself. A trace is shown below, obtained with R1.5.1; this occurs regardless of whether I started the html interface or not.
Can anyone confirm this before I submit a bug report?

>help.search("units")
Help files with alias or title matching `units',
type `help(FOO, package = PKG)' to inspect entry `FOO(PKG) TITLE':

units(Hmisc)                           Units Attribute of a Vector
units(base)                            Graphical Units
grid-internal(grid)                    Internal Grid Functions
convertNative(grid)                    Convert a Unit Object to Native units

> ?units
Error in help("units") : No documentation for `units' in specified packages and libraries:
  you could try `help.search("units")'
> help("units", package="base")
Error in help("units", package = "base") : 
        No documentation for `units' in specified packages and libraries:
  you could try `help.search("units")'
> help("units", package="Hmisc")  ## this works:
help() for units  is shown in browser kdehelp ...
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Jul  9 18:33:36 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 09 Jul 2002 18:33:36 +0200
Subject: [R] Error handling
References: <1026228236.16684.10.camel@gandalf> 
		<3D2B091F.7CF58B87@statistik.uni-dortmund.de> <1026235620.16684.22.camel@gandalf>
Message-ID: <3D2B1060.519696A@statistik.uni-dortmund.de>



Ernesto Jardim wrote:
> 
> Hi
> 
> I don't want to know if it runs without errors, I want it to keep
> working even if an error occurs.

And that's try() for!
As in 
  try(log(vec[i]))
in your example.

Uwe Ligges


> Thanks
> 
> EJ
> 
> On Tue, 2002-07-09 at 17:02, Uwe Ligges wrote:
> >
> >
> > Ernesto Jardim wrote:
> > >
> > > Hi
> > >
> > > I wrote a function implementing an algoritm for simulation of spatial
> > > sampling plans (using geoR).
> > >
> > > I'm using a range of parameters to perform several simulation and
> > > sometimes this parameters create function errors wich cause the algoritm
> > > to stop.
> > >
> > > How can I avoid this ?
> > >
> > > Below there's a small example that I made to study the problem but I was
> > > not able to solve it. I've tried "restart" function but it caused an
> > > endeless loop.
> > >
> > > All help is wellcome.
> > >
> > > > # function
> > > >
> > > > fun.test<-function(vec){
> > > + for(i in 1:length(vec)){
> > > + a <- log(vec[i])
> > > + cat(vec[i],a,"\n")
> > > + }
> > > + }
> > > >
> > > > # case 1
> > > >
> > > > vec<-c(2,4,6)
> > > >
> > > > fun.test(vec)
> > > 2 0.6931472
> > > 4 1.386294
> > > 6 1.791759
> > > >
> > > > # case 2
> > > >
> > > > vec<-c(2,4,"a",6)
> > > >
> > > > fun.test(vec)
> > > Error in log(x) : Non-numeric argument to mathematical function
> > >
> > > I want that in case 2 the function jumps "a" and continues giving a
> > > similar result to case 1.
> >
> > See ?try.
> >
> > Uwe Ligges
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jul  9 18:34:59 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Jul 2002 18:34:59 +0200
Subject: [R] Error handling
In-Reply-To: <1026228236.16684.10.camel@gandalf>
References: <1026228236.16684.10.camel@gandalf>
Message-ID: <x2u1n8hnbg.fsf@biostat.ku.dk>

Ernesto Jardim <ernesto at ipimar.pt> writes:

> Hi 
> 
> I wrote a function implementing an algoritm for simulation of spatial
> sampling plans (using geoR).
> 
> I'm using a range of parameters to perform several simulation and
> sometimes this parameters create function errors wich cause the algoritm
> to stop.
> 
> How can I avoid this ?
> 
> Below there's a small example that I made to study the problem but I was
> not able to solve it. I've tried "restart" function but it caused an
> endeless loop. 

try() (as mentioned in the Note in the docs for restart() -- perhaps
we should also put it in See Also?) 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jul  9 18:42:13 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Jul 2002 18:42:13 +0200
Subject: [R] Re: none
In-Reply-To: <000701c22760$2ba87840$80a47cd4@oemcomputer>
References: <000701c22760$2ba87840$80a47cd4@oemcomputer>
Message-ID: <x2ptxwhmze.fsf@biostat.ku.dk>

"Brian Scholl" <scholl at yubc.net> writes:

>  Hi, this is just a quick question about the list, not about R.
> 
>  I'm trying to filter r-help questions into a separate inbox folder in
> Outlook Express, but I'm having trouble.  All my other filters for lists
> seem to work except for this one.  I've tried just about every email
> address that it seems the messages come from (starting with r-help).
> 
>  Any suggestions? It's just a matter of convenience in sorting out messages.

I don't know if Outlook can do this, but I have Gnus selecting on 

        ("sender" "owner-r-help.*" "mail.R")
        ("sender" "owner-r-devel.*" "mail.R-devel")

i.e. look in the Sender: field for something starting with
"owner-r-help".

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gavin.simpson at ucl.ac.uk  Tue Jul  9 18:45:36 2002
From: gavin.simpson at ucl.ac.uk (Gavin Simpson)
Date: Tue, 9 Jul 2002 17:45:36 +0100
Subject: [R] Plot.ts
In-Reply-To: <3D297B87.5B780BA1@ci.tuwien.ac.at>
Message-ID: <002601c22768$0d29cb00$4c202880@gsimpson>

Dear List

Thanks to Achim for his suggestion about renaming my columns to get
better labels in the plot and for explaining a bit about how plot.ts
works.  I don't have time at the minute (writing up the final bits of my
PhD thesis before I leave for 8 weeks of fieldwork!) to play about with
the internals of plot.ts, but this is something I will have a look at
when I get back.

I realised that perhaps I didn't need the data in a timeseries (ts)
object (I don't need to analyse the data but I do need plots for
comparison to go in my thesis) so I converted the Date column in my data
frame into an object of class POSIXlt using the strptime function, and
then plotted the data like so:

temp.data <- read.csv("Z:/Data/PhD/temp/AWMNtemps.csv")
temp.data$Date <- strptime(as.character(temp.data$Date),
format="%d/%m/%Y %H:%M")
attach(temp.data)

oldpar <- par(mfrow=c(2,1), cex.axis=0.75, mar=c(0, 4, 0, 2), oma=c(3,
1, 3, 1,) + 0.1)
plot(x=Date, y=LAG, axes=FALSE, type="l", ylab="", xaxt="n")
axis(side=2)
box()
plot(x=Date, y=ARR, type="l", ylab="")
mtext(text="Temperature (C)", side=2, outer=TRUE, line=-1)
par(oldpar)

By changing the settings in par() and doing a bit of the axis plotting
myself I was able to get a plot that looked very similar to the output
from plot.ts but one which I could control a little more.

And, whilst I'm here, I'd like to thank all the people on the list who
have responded to my questions over the past year or so since I started
using R, and the same goes for everyone else who has contributed advice
through R-help.  I have learned an awful lot about R from the daily
postings to R-help - your time and effort in answering the multitude of
questions is very much appreciated!

All the best,

Gavin Simpson

%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%
Gavin Simpson                     [T] +44 (0)20 7679 5402
ENSIS Research Fellow             [F] +44 (0)20 7679 7565
ENSIS Ltd. & ECRC                 [E] gavin.simpson at ucl.ac.uk
UCL Department of Geography       [W] http://www.ucl.ac.uk/~ucfagls/cv/
26 Bedford Way                    [W] http://www.ucl.ac.uk/~ucfagls/
London.  WC1H 0AP.
%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On Behalf Of Achim Zeileis
Sent: 08 July 2002 12:46
To: gavin.simpson
Cc: r-help
Subject: Re: [R] Plot.ts


Gavin Simpson wrote:
> 
> Dear list,
> 
> I have a time series of 2-hourly temperature data from loggers placed
in
> two lakes.  I have created an object of class ts and mts (temp.ts)
using
> the ts() function and have managed to set the start position and the
> frequency to 2-hours.
> 
> I now what to produce a plot of these two time series, and the default
> provided by plot.ts() gives a nice plot of the data for the two lakes
in
> two separate panels using the option plot.type="multiple" in
plot.ts().
> I would like to alter the plot a little:
> 
> 1) Change the x and y-axis labels, but when I set ylab="" in my call
to
> plot.ts() I get the following message:
> 
> >plot.ts(temp.ts, ylab="")
> Error in plot.ts(x[, i], axes = FALSE, xlab = "", ylab = "", log =
log,
> :
>         formal argument "ylab" matched by multiple actual arguments
> 
> 2) I get the same when I try to not plot the axes:
> 
> >plot(temp.ts, cex=0.75, axes=FALSE)
> Error in plot.ts(x[, i], axes = FALSE, xlab = "", ylab = "", log =
log,
> :
>         formal argument "axes" matched by multiple actual arguments
> 
> 3) I want to change the default labels for the tick marks that the
plot
> has ("2000", "2000.5", "2001", "2001.5") to just show the change of
> year, i.e. indicate where 2001 and 2002 start.  But because I do not
see
> how to go about not plotting the axes I am a little stuck.

Yes, that is all a little bit tricky, because plot.mts() essentially
sets the 
mfrow parameter to c(2,1) and then sets up 2 different plots. So after
plotting there is also no (nice and simple) way to add something to
these plots with
lines() for example.
Concerning the ylab argument there is a simple (although not elegant)
workaround: plot.mts() takes the colnames() of your mts-object, so you
could change these. But if you want complete control over the axes I
guess the simplest way is to set up the two plots yourself. Look at the
plot.mts() code how it does it.
At least there is no simpler way to do this that I know of...
Z

> Can someone point me in the right direction as to how I can set my own
> y-axis labels for a multiple times series plot, even just setting them
> to "" would be good as I can just use mtext() to add a label for the
> whole plot, and how to specify my own, or control the, labelling of
the
> tick marks on the x-axis?
> 
> Many thanks
> 
> Gavin Simpson
> 
>
%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%
> Gavin Simpson                     [T] +44 (0)20 7679 5522
> ENSIS Research Fellow             [F] +44 (0)20 7679 7565
> ENSIS Ltd. & ECRC                 [E] gavin.simpson at ucl.ac.uk
> UCL Department of Geography       [W]
http://www.ucl.ac.uk/~ucfagls/cv/
> 26 Bedford Way                    [W] http://www.ucl.ac.uk/~ucfagls/
> London.  WC1H 0AP.
>
%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From elvis at xlsolutions-corp.com  Tue Jul  9 18:56:35 2002
From: elvis at xlsolutions-corp.com (Elvis Miller, PhD)
Date: Tue, 09 Jul 2002 12:56:35 -0400
Subject: [R] Course***R/S-plus Programming Techniques II in New York City, August 2002
Message-ID: <200207091656.g69GuZb85857@email.featureprice.com>

XLSolutions Corporation (www.xlsolutions-corp.com) is proud
to announce a 2-day "R/S-plus Programming Techniques II" course:

****New York City -----------------> August 8-9  
****New York City -----------------> August 10-11


Should we offer this course during the week of August 12-16?
Seats are available for our July 2002 course in San Francisco!

Course Description:

This intermediate level course is recommended for
statisticians/analysts who have some previous experience
using R/S-plus and wish to hone their skills.
Casual users can "fill in the gaps" of their knowledge
to make better use of R/S-PLus.

This course will focus on advanced graphics, Vectorization,
resource management, connecting to C++, introduction to
classes and methods (including S4 classes)  and statistical
modeling.


Course Outline:

- Overview of R/S-Plus
- Using Advanced Lattice/Trellis Graphics
- Using High-level Plotting Functions
- Taking advantage of fast objects and fast functions
- Avoiding Loops
- Vectorization
- Statistical Modeling
- Resource Management
- Techniques for Effective use of R and S
- Connecting to C++
- Introduction to Classes (S4/S-Plus) and Methods
- Macros in R
- Building and Distributing Packages (libraries)


Payments are due AFTER the course and early-bird ends July 26.

Registration:

Email Sue Turner: sue at xlsolutions-corp.com
Phone: 206-686-1578 x221
Visit us: www.xlsolutions-corp.com/training.htm


Course Format:

This course consists of a series of short lectures with
demonstrations and interactive sessions for the participants.
Each student is provided with bound copies of the notes and
a CD-ROM containing all examples, exercises and software used
on the course.



Share Your Thoughts:

Are there any additional topics you would like for this course to address?
Would you like for this course to be offered in another city?

Please let us know by contributing to our recommendation list:
training at xlsolutions-corp.com.

========================================================================

R/S-Plus Programming Techniques II / New York City - August 2002
Pre-registration Form (Please email or print and fax: 206-686-1578)
XLsolutions Corporation: For your Solutions needs, Consulting and Training.
www.xlsolutions-corp.com



Title...... First Name ................. Last Name....................

Organization..........................................................

Mailing Address.......................................................

.....................................................................

.....................................................................

Zip Code...................... Country.............................

Telephone........................... Fax ...............................

E-mail................................................................

Payment will be made by: (1) check (2) invoice (3) bank transfer



Elvis Miller, PhD
Manager Training and Technical Support
North American Division
XLSolutions Corporation
Email: elvis at xlsolutions-corp.com
Phone: 206-686-1578
Web: www.xlsolutions-corp.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jul  9 18:51:51 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Jul 2002 18:51:51 +0200
Subject: [R] Re: none
In-Reply-To: <x2ptxwhmze.fsf@biostat.ku.dk>
References: <000701c22760$2ba87840$80a47cd4@oemcomputer>
	<x2ptxwhmze.fsf@biostat.ku.dk>
Message-ID: <x2lm8khmjc.fsf@biostat.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> "Brian Scholl" <scholl at yubc.net> writes:
> 
> >  Hi, this is just a quick question about the list, not about R.
> > 
> >  I'm trying to filter r-help questions into a separate inbox folder in
> > Outlook Express, but I'm having trouble.  All my other filters for lists
> > seem to work except for this one.  I've tried just about every email
> > address that it seems the messages come from (starting with r-help).
> > 
> >  Any suggestions? It's just a matter of convenience in sorting out messages.
> 
> I don't know if Outlook can do this, but I have Gnus selecting on 
> 
>         ("sender" "owner-r-help.*" "mail.R")
>         ("sender" "owner-r-devel.*" "mail.R-devel")
> 
> i.e. look in the Sender: field for something starting with
> "owner-r-help".

...and BTW, please do NOT Cc: <r-help-request at stat.math.ethz.ch> in
future mailings! This is the administrative address, for
subscribe/unsubscribe messages and soforth. Having it in Cc: will
seriously piss off people doing a wide reply and getting a massive
error message from the majordomo software!!

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gavin.simpson at ucl.ac.uk  Tue Jul  9 18:54:10 2002
From: gavin.simpson at ucl.ac.uk (Gavin Simpson)
Date: Tue, 9 Jul 2002 17:54:10 +0100
Subject: [R] RE:
In-Reply-To: <000701c22760$2ba87840$80a47cd4@oemcomputer>
Message-ID: <002701c22769$3f1cda20$4c202880@gsimpson>

You might try emails starting with "owner-r-help at stat.math.ethz.ch"
without quotes.  I filter on this email address without any problems.
Note the "owner-" bit, from your email this is perhaps where you are
going wrong.

All the best

Gavin Simpson

%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%
Gavin Simpson                     [T] +44 (0)20 7679 5402
ENSIS Research Fellow             [F] +44 (0)20 7679 7565
ENSIS Ltd. & ECRC                 [E] gavin.simpson at ucl.ac.uk
UCL Department of Geography       [W] http://www.ucl.ac.uk/~ucfagls/cv/
26 Bedford Way                    [W] http://www.ucl.ac.uk/~ucfagls/
London.  WC1H 0AP.
%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On Behalf Of Brian Scholl
Sent: 09 July 2002 16:29
To: Rhelp questions list; rhelp
Subject: 


 Hi, this is just a quick question about the list, not about R.

 I'm trying to filter r-help questions into a separate inbox folder in
Outlook Express, but I'm having trouble.  All my other filters for lists
seem to work except for this one.  I've tried just about every email
address that it seems the messages come from (starting with r-help).

 Any suggestions? It's just a matter of convenience in sorting out
messages.

Brian

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rg117 at ohm.york.ac.uk  Tue Jul  9 19:18:43 2002
From: rg117 at ohm.york.ac.uk (Rishabh Gupta)
Date: Tue, 9 Jul 2002 18:18:43 +0100
Subject: [R] changing angle in scatterplot3d
Message-ID: <000901c2276c$ad96fd20$35892090@ohm.york.ac.uk>

Hi all,
    I was wondering whether it is possible to change the angle of all axis in a scatterplot3d graph. I know that there is one
parameter <angle> but I was wondering whether it is possible to control the angle of all different axis individually (eg by using
<anglex><angley><anglez>).
In addition I was wondering whether there is a way to change the angle of a plot after all the data has been saved. E.G I want to
see the graph from many different angles without having to feed all the points into it repeatedly.
Any help would be greatly appreciated.

Many Thanks

Rishabh

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonathan_li at agilent.com  Tue Jul  9 19:39:36 2002
From: jonathan_li at agilent.com (jonathan_li@agilent.com)
Date: Tue, 9 Jul 2002 10:39:36 -0700 
Subject: [R] RE: mvtnorm package installation failure
Message-ID: <FC0B9DA2600ED4118F76009027AA5DDD05ABD1F7@ALEX2>

Hi,

Thank you for the tip.

I tried to re-intall R from Debian "stable", in which R's version is 1.4.0. And the installation 
of "mvtnorm" works. 

I then re-installed R yet again from Debian "unstable" (woody), in which R's version is 1.5.1.
The installation of "mvtnorm" fails again with the same error message. Another package that 
failed with the same error message is "mclust". 

>From these phenomena, I suspect that the problem is with the Debian version of R 1.5.1. Can someone
point out a fix?  

Thanks in advance.

Regards,
Jonathan

Jonathan Qiang Li, Ph.D.
Statistician
Agilent Labs
Palo Alto, CA
USA


-----Original Message-----
From: Torsten Hothorn [mailto:Torsten.Hothorn at rzmail.uni-erlangen.de]
Sent: Sunday, June 30, 2002 11:55 PM
To: Jonathan Li
Subject: Re: mvtnorm package installation failure


> Hi, I want to thank you in advance for any assistance you may give: I
> had
> trouble installing the mvtnorm package. Here is the error message I
> encountered:
> 
> R CMD INSTALL mvtnorm
> * Installing *source* package 'mvtnorm' ...
> ** libs
> gcc -shared  -o mvtnorm.so mvt.o   -L/usr/lib/gcc-lib/i386-linux/2.95.4
> -lreadline -ldl -lncurses -lg2c-pic -lm -L/usr/lib/R/bin -lR
> /usr/bin/ld: cannot find -lreadline
> collect2: ld returned 1 exit status
> make: *** [mvtnorm.so] Error 1
> ERROR: compilation failed for package 'mvtnorm'
> 
> I am using Debian Linux 2.20 on a Intel machine. R version is 1.5.0.
> I have not seen this kind of error before. Any hint is highly
> appreciated!

looks like an R installation problem. did you compile R yourself and what
did `make check' say?

Torsten

> 
> Best Regards,
> Jonathan
> 
> 
> -- 
> Jonathan Q. Li, PhD
> Agilent Technologies Laboratory
> Palo Alto, California, USA
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Tue Jul  9 19:58:28 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Tue, 09 Jul 2002 12:58:28 -0500
Subject: [R] RE: mvtnorm package installation failure
Message-ID: <E17RzFs-0006qF-00@sonny.eddelbuettel.com>


Jonathan,

> I tried to re-intall R from Debian "stable", in which R's version is 1.4.0. And the installation 
> of "mvtnorm" works. 

Debian's own "stable" R is way older; this must have been a user-contributed one. And I suspect
that it was build without readline support (see below).

> I then re-installed R yet again from Debian "unstable" (woody), in which R's version is 1.5.1.
> The installation of "mvtnorm" fails again with the same error message. Another package that 
> failed with the same error message is "mclust". 
> 
> >From these phenomena, I suspect that the problem is with the Debian version of R 1.5.1. Can someone
> point out a fix?  

[...]

> > Hi, I want to thank you in advance for any assistance you may give: I
> > had
> > trouble installing the mvtnorm package. Here is the error message I
> > encountered:
> > 
> > R CMD INSTALL mvtnorm
> > * Installing *source* package 'mvtnorm' ...
> > ** libs
> > gcc -shared  -o mvtnorm.so mvt.o   -L/usr/lib/gcc-lib/i386-linux/2.95.4
> > -lreadline -ldl -lncurses -lg2c-pic -lm -L/usr/lib/R/bin -lR
> > /usr/bin/ld: cannot find -lreadline
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

This is a pretty clear message:  you need to install the matching -dev package 
for readline so that you can /compile and link/ against readline, currently you can 
only run pre-built programs using readline.  

> > collect2: ld returned 1 exit status
> > make: *** [mvtnorm.so] Error 1
> > ERROR: compilation failed for package 'mvtnorm'

Dirk

-- 
According to the latest figures, 43% of all signatures are totally worthless.   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jul  9 20:12:57 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 9 Jul 2002 11:12:57 -0700 (PDT)
Subject: [R] Re: your mail
In-Reply-To: <000701c22760$2ba87840$80a47cd4@oemcomputer>
Message-ID: <Pine.A41.4.44.0207091108220.19706-100000@homer13.u.washington.edu>

On Tue, 9 Jul 2002, Brian Scholl wrote:

>  Hi, this is just a quick question about the list, not about R.
>
>  I'm trying to filter r-help questions into a separate inbox folder in
> Outlook Express, but I'm having trouble.  All my other filters for lists
> seem to work except for this one.  I've tried just about every email
> address that it seems the messages come from (starting with r-help).
>
>  Any suggestions? It's just a matter of convenience in sorting out messages.

The `Sender:' header  is the easiest way to do this. R-help messages have
a header line

Sender: owner-r-help at stat.math.ethz.ch

I don't know how to test for this in Outlook, but it shouldn't be too
hard.

The obvious solution, checking for the help list address in To: or Cc:
doesn't work easily because there are too many aliases. It turns out that
checking for the string r-help in To: and Cc: works pretty well. I use
this approach to work with the crippled mail filtering system that UW
provides.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Tue Jul  9 19:56:53 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 09 Jul 2002 10:56:53 -0700
Subject: [R] RE: mvtnorm package installation failure
In-Reply-To: <FC0B9DA2600ED4118F76009027AA5DDD05ABD1F7@ALEX2>
References: <FC0B9DA2600ED4118F76009027AA5DDD05ABD1F7@ALEX2>
Message-ID: <87ptxwvl7e.fsf@jeeves.blindglobe.net>



>>>>> "jonathan" == jonathan li <jonathan_li at agilent.com> writes:

    jonathan> Hi,
    jonathan> Thank you for the tip.

    jonathan> I tried to re-intall R from Debian "stable", in which R's version is 1.4.0. And the installation 
    jonathan> of "mvtnorm" works. 

    jonathan> I then re-installed R yet again from Debian "unstable" (woody), in which R's version is 1.5.1.
    jonathan> The installation of "mvtnorm" fails again with the same error message. Another package that 
    jonathan> failed with the same error message is "mclust". 

    >> From these phenomena, I suspect that the problem is with the Debian version of R 1.5.1. Can someone
    jonathan> point out a fix?  


It's not Debian:


> install.packages("mvtnorm","/home/faculty/rossini/lib/R")
trying URL `http://cran.r-project.org/src/contrib/PACKAGES'
Content type `text/plain; charset=iso-8859-1' length 78331 bytes
opened URL
.......... .......... .......... .......... ..........
.......... .......... ......
downloaded 76Kb

trying URL
`http://cran.r-project.org/src/contrib/mvtnorm_0.5-5.tar.gz'
Content type `application/x-tar' length 23578 bytes
opened URL
.......... .......... ...
downloaded 23Kb

* Installing *source* package 'mvtnorm' ...
** libs
g77   -fPIC  -g -O2 -c mvt.f -o mvt.o
gcc -shared  -o mvtnorm.so mvt.o
-L/usr/lib/gcc-lib/i386-linux/2.95.4 -lreadli 
ne -ldl -lncurses -lg2c-pic -lm -L/usr/lib/R/bin -lR
** R
** help
 >>> Building/Updating help pages for package `mvtnorm'
     Formats: text html latex example 
  Mvnorm                            text    html    latex   example
  mvtnorm-internal                  text    html    latex
  pmvnorm                           text    html    latex   example
  pmvt                              text    html    latex   example
* DONE (mvtnorm)

* DONE (INSTALL)

Delete downloaded files (y/N)? u
The packages are in /tmp/RinstdirR552dS66334873
> 


I think you might need the readline devel package.  Maybe try 

        apt-get install libreadline4-dev

to install things?  (or you might need 

        apt-get install libreadline4

?)

best,
-toniy



    jonathan> Thanks in advance.

    jonathan> Regards,
    jonathan> Jonathan

    jonathan> Jonathan Qiang Li, Ph.D.
    jonathan> Statistician
    jonathan> Agilent Labs
    jonathan> Palo Alto, CA
    jonathan> USA


    jonathan> -----Original Message-----
    jonathan> From: Torsten Hothorn [mailto:Torsten.Hothorn at rzmail.uni-erlangen.de]
    jonathan> Sent: Sunday, June 30, 2002 11:55 PM
    jonathan> To: Jonathan Li
    jonathan> Subject: Re: mvtnorm package installation failure


    >> Hi, I want to thank you in advance for any assistance you may give: I
    >> had
    >> trouble installing the mvtnorm package. Here is the error message I
    >> encountered:
    >> 
    >> R CMD INSTALL mvtnorm
    >> * Installing *source* package 'mvtnorm' ...
    >> ** libs
    >> gcc -shared  -o mvtnorm.so mvt.o   -L/usr/lib/gcc-lib/i386-linux/2.95.4
    >> -lreadline -ldl -lncurses -lg2c-pic -lm -L/usr/lib/R/bin -lR
    >> /usr/bin/ld: cannot find -lreadline
    >> collect2: ld returned 1 exit status
    >> make: *** [mvtnorm.so] Error 1
    >> ERROR: compilation failed for package 'mvtnorm'
    >> 
    >> I am using Debian Linux 2.20 on a Intel machine. R version is 1.5.0.
    >> I have not seen this kind of error before. Any hint is highly
    >> appreciated!

    jonathan> looks like an R installation problem. did you compile R yourself and what
    jonathan> did `make check' say?

    jonathan> Torsten

    >> 
    >> Best Regards,
    >> Jonathan
    >> 
    >> 
    >> -- 
    >> Jonathan Q. Li, PhD
    >> Agilent Technologies Laboratory
    >> Palo Alto, California, USA
    >> 
    jonathan> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    jonathan> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
    jonathan> Send "info", "help", or "[un]subscribe"
    jonathan> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
    jonathan> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Tue Jul  9 20:37:14 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Tue, 09 Jul 2002 15:37:14 -0300
Subject: [R] Assignment converts variable to factor
Message-ID: <4.2.2.20020709142825.00aca100@pop3.arnet.com.ar>

Hello,

I would like to know if this behaviour in R is as expected.

I have a data frame 'dat' with column var1 being character (and not 
factor). Then I create a new column 'var2' by:

 > dat[,"var2"] <- dat$var1;

Column var2 is now a factor.

But if I do:

 > dat$var2 <- dat$var1;

Then column var2 is character (and not factor).

I don't want to have var2 as factor by doing the first assignment. I tried 
using 'as.character(dat$var1)' or converting dat[,"var2"] to character by 
using as.character() after the assignment, but still var2 is treated as factor.

Note that I want to use dat[,"var2"] and not dat$var2 because I am doing 
the assignment within a function by referencing column var2 with a variable 
whose value is "var2" (e.g. dat[,col2] <- dat$var1, where col2 = "var2"). 
It is easier and more clear to use the [] operator to reference a data 
frame column with a variable, rather than using the $ operator with the 
parse() function.

Thanks
Daniel Mastropietro
	

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cmoffet at nwrc.ars.usda.gov  Tue Jul  9 20:42:47 2002
From: cmoffet at nwrc.ars.usda.gov (Corey Moffet)
Date: Tue, 09 Jul 2002 12:42:47 -0600
Subject: [R] Error handling
In-Reply-To: <1026228236.16684.10.camel@gandalf>
Message-ID: <3.0.6.32.20020709124247.00afddb8@nwrc.ars.usda.gov>

I don't know if this helps.

This soulution will give some warnings:

# function

fun.test<-function(vec){
  for(i in 1:length(vec)){
    b <- as.numeric(vec[i])
    if (!is.na(try(log(b)))) {
      cat(b,log(b),"\n")
    }
  }
}

# case 1
vec<-c(2,4,6)
fun.test(vec)

# case 2
vec<-c(2,4,"a",6)
fun.test(vec)



At 04:23 PM 7/9/2002 +0100, Ernesto Jardim wrote:
>Hi 
>
>I wrote a function implementing an algoritm for simulation of spatial
>sampling plans (using geoR).
>
>I'm using a range of parameters to perform several simulation and
>sometimes this parameters create function errors wich cause the algoritm
>to stop.
>
>How can I avoid this ?
>
>Below there's a small example that I made to study the problem but I was
>not able to solve it. I've tried "restart" function but it caused an
>endeless loop. 
>
>All help is wellcome.
>
>> # function
>> 
>> fun.test<-function(vec){
>+ for(i in 1:length(vec)){
>+ a <- log(vec[i])
>+ cat(vec[i],a,"\n")
>+ }
>+ }
>> 
>> # case 1
>> 
>> vec<-c(2,4,6)
>> 
>> fun.test(vec)
>2 0.6931472 
>4 1.386294 
>6 1.791759 
>> 
>> # case 2
>> 
>> vec<-c(2,4,"a",6)
>> 
>> fun.test(vec)
>Error in log(x) : Non-numeric argument to mathematical function
>
>I want that in case 2 the function jumps "a" and continues giving a
>similar result to case 1.
>
>Thanks
>
>EJ
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
With best wishes and kind regards I am

Sincerely,

Corey A. Moffet
Support Scientist

University of Idaho
Northwest Watershed Research Center
800 Park Blvd, Plaza IV, Suite 105
Boise, ID 83712-7716
(208) 422-0718
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonathan_li at agilent.com  Tue Jul  9 21:09:04 2002
From: jonathan_li at agilent.com (jonathan_li@agilent.com)
Date: Tue, 9 Jul 2002 12:09:04 -0700 
Subject: [R] RE: mvtnorm package installation failure
Message-ID: <FC0B9DA2600ED4118F76009027AA5DDD05ABD1FB@ALEX2>

Hi Dirk,

It was actually Debian "testing" that has R 1.4.0. Debian "stable" has R 0.9 or something really old
like that. 

Anyways, I did what A.J. Rossini suggested:
# apt-get install libreadline4-dev
Then I installed R-1.5.1 from Debian "unstable". The installation of "mvtnorm" has no trouble after this.

I think that you are probably right: the "unstable" version of R 1.5.1 on Debian is built without readline
support for some reasons. Or it has something to do with broken Debian dependency? 

Best Regards,
Jonathan

-----Original Message-----
From: Dirk Eddelbuettel [mailto:edd at debian.org]
Sent: Tuesday, July 09, 2002 10:58 AM
To: jonathan_li at agilent.com; Torsten.Hothorn at rzmail.uni-erlangen.de;
r-help at stat.math.ethz.ch
Subject: Re: [R] RE: mvtnorm package installation failure



Jonathan,

> I tried to re-intall R from Debian "stable", in which R's version is 1.4.0. And the installation 
> of "mvtnorm" works. 

Debian's own "stable" R is way older; this must have been a user-contributed one. And I suspect
that it was build without readline support (see below).

> I then re-installed R yet again from Debian "unstable" (woody), in which R's version is 1.5.1.
> The installation of "mvtnorm" fails again with the same error message. Another package that 
> failed with the same error message is "mclust". 
> 
> >From these phenomena, I suspect that the problem is with the Debian version of R 1.5.1. Can someone
> point out a fix?  

[...]

> > Hi, I want to thank you in advance for any assistance you may give: I
> > had
> > trouble installing the mvtnorm package. Here is the error message I
> > encountered:
> > 
> > R CMD INSTALL mvtnorm
> > * Installing *source* package 'mvtnorm' ...
> > ** libs
> > gcc -shared  -o mvtnorm.so mvt.o   -L/usr/lib/gcc-lib/i386-linux/2.95.4
> > -lreadline -ldl -lncurses -lg2c-pic -lm -L/usr/lib/R/bin -lR
> > /usr/bin/ld: cannot find -lreadline
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

This is a pretty clear message:  you need to install the matching -dev package 
for readline so that you can /compile and link/ against readline, currently you can 
only run pre-built programs using readline.  

> > collect2: ld returned 1 exit status
> > make: *** [mvtnorm.so] Error 1
> > ERROR: compilation failed for package 'mvtnorm'

Dirk

-- 
According to the latest figures, 43% of all signatures are totally worthless.   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Tue Jul  9 21:23:04 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Tue, 09 Jul 2002 14:23:04 -0500
Subject: [R] RE: mvtnorm package installation failure
Message-ID: <E17S0Zk-0006z4-00@sonny.eddelbuettel.com>


Sorry to be pedantic but you are a little careless about version numbers ....

> It was actually Debian "testing" that has R 1.4.0. Debian "stable" has R 0.9 or something really old
> like that. 

1.4.1 last I checked, and that is in the Debian mirrors (where testing is frozen, hence the older version). 
On CRAN it should be 1.5.1, built on my testing system.

> Anyways, I did what A.J. Rossini suggested:
> # apt-get install libreadline4-dev
> Then I installed R-1.5.1 from Debian "unstable". The installation of "mvtnorm" has no trouble after this.

As I told you to as well, yes.
 
> I think that you are probably right: the "unstable" version of R 1.5.1 on Debian is built without readline

Most definitely not.   What I was referring to is that you claimed that your installation initially worked on
against R 1.4.0, from which I deduced that this might have been built without readline or else it would have
depended on it at link time too.

> support for some reasons. Or it has something to do with broken Debian dependency? 

There is no broken depends. You didn't have your ducks aligned, and mvtnorm didn't check for them
either. 

Anyway, this is getting off-topic.  Debian-specific issues should probably be kept off this general R list.
Use the Debian Bug Tracking Service, or email me privately.
 
Dirk

-- 
According to the latest figures, 43% of all signatures are totally worthless.   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From FJMolina at lbl.gov  Tue Jul  9 22:27:20 2002
From: FJMolina at lbl.gov (Francisco J Molina)
Date: Tue, 09 Jul 2002 13:27:20 -0700
Subject: [R] C++ and R
Message-ID: <3D2B4728.14EED7C@lbl.gov>

I am calling C++ from R.
I want C++ to return a vector whose length is not known when the C++
routine is called.

Is it possible to do this without using R objects in the C++ routine?

So far I have been using .C, but I do not see how I could use it in this
case.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Tue Jul  9 22:19:47 2002
From: chong at stat.purdue.edu (Chong Gu)
Date: Tue, 09 Jul 2002 15:19:47 -0500
Subject: [R] EISPACK symmetric matrix eigenvalue routines
Message-ID: <200207092019.g69KJmHR050702@odds.stat.purdue.edu>


Can someone confirm that the EISPACK routines for eigenvalues of
symmetric matrix are in base R.  They seem to be, but I can't seem to
locate where they are in the src tree.

Thanks.

Chong Gu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Frederic.Jean at univ-brest.fr  Tue Jul  9 22:25:43 2002
From: Frederic.Jean at univ-brest.fr (Fred JEAN)
Date: Tue, 09 Jul 2002 22:25:43 +0200
Subject: [R] lines(predict(nls()) with NA's
References: <200207091512.RAA10794@cassis-gw.univ-brest.fr>
Message-ID: <3D2B46C7.CC8E14C9@univ-brest.fr>

Hi

Finally (a busy evening later) I found it.

This post just in case someone has the same problem


> >nls(nls(X158.7 ~ Cd + ((158.7-Cd)*exp(b*x)),
> start=list(b=0.5,Cd=500),na.action=na.omit,trace=T)->mod1
> 
> then, to look at the result
> > plot(x,X158.7, pch='+', col='blue')
> 
> but (not surprisingly)
> > lines(predict(mod1),lty=2,col='red')
> 
> doesn't line anything as long as there are NA's in the dependant vector.

A solution is 

lines(x, predict(mod1, list(x=x),  type='l', lty=2, col='red')

Sorry for my naive questions... and self-answers... sometimes my brain
seems to be like cottage cheese.

Fred
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sholl at gmx.net  Tue Jul  9 22:26:52 2002
From: sholl at gmx.net (Stephan Holl)
Date: Tue, 9 Jul 2002 22:26:52 +0200
Subject: [R] writing to a png file with a script
Message-ID: <20020709222652.4e1738c8.sholl@gmx.net>

Dear R-freaks,

I am new to R and loke to write plots directly to a file with a script
in batch-mode.

the following error occured:
 # writing section
> x11()
Error in x11() : the x11 device has not been loaded
Execution halted

I do not know what to do!

thanks for your help

cheers
  steph

-- 
Linux: the operating system with a CLUE...
         Command Line User Environment.
--------------------------------------
Stephan Holl
GnuPG Key-ID: 11946A09
ICQ# 117277975 
--------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020709/6d6691ab/attachment.bin

From tlumley at u.washington.edu  Tue Jul  9 22:35:53 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 9 Jul 2002 13:35:53 -0700 (PDT)
Subject: [R] EISPACK symmetric matrix eigenvalue routines
In-Reply-To: <200207092019.g69KJmHR050702@odds.stat.purdue.edu>
Message-ID: <Pine.A41.4.44.0207091335200.19706-100000@homer13.u.washington.edu>

On Tue, 9 Jul 2002, Chong Gu wrote:

>
> Can someone confirm that the EISPACK routines for eigenvalues of
> symmetric matrix are in base R.  They seem to be, but I can't seem to
> locate where they are in the src tree.
>

src/appl/eigen.f

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjvbertin at hotmail.com  Tue Jul  9 22:55:44 2002
From: rjvbertin at hotmail.com (RenE J.V. Bertin)
Date: Tue, 9 Jul 2002 22:55:44 +0200
Subject: [R] broken inline exp in glibc/x86??!
Message-ID: <20020709225544.79370b5c.rjvbertin@hotmail.com>

I read the following in acinclude.m4:

## R_PROG_CC_FLAG_D__NO_MATH_INLINES
## ---------------------------
## In current glibc, inline version [x86] of exp is broken.
## We fix this by adding '-D__NO_MATH_INLINES' to R_XTRA_CFLAGS rather
## than AC_DEFINE(__NO_MATH_INLINES) as the former also takes care of
## compiling C code for add-on packages.

Is this documented anywhere (where?), e.g. what is broken, which glibc versions are implicated, etc? If not, could anyone please tell me what is the matter -- I to use exp(), and I reckon that gcc will by default use the inline version!

Thanks in advance,
RenE
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jul  9 23:22:11 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 9 Jul 2002 14:22:11 -0700 (PDT)
Subject: [R] broken inline exp in glibc/x86??!
In-Reply-To: <20020709225544.79370b5c.rjvbertin@hotmail.com>
Message-ID: <Pine.A41.4.44.0207091418210.19706-100000@homer13.u.washington.edu>

On Tue, 9 Jul 2002, RenE J.V. Bertin wrote:

> I read the following in acinclude.m4:
>
> ## R_PROG_CC_FLAG_D__NO_MATH_INLINES
> ## ---------------------------
> ## In current glibc, inline version [x86] of exp is broken.
> ## We fix this by adding '-D__NO_MATH_INLINES' to R_XTRA_CFLAGS rather
> ## than AC_DEFINE(__NO_MATH_INLINES) as the former also takes care of
> ## compiling C code for add-on packages.
>
> Is this documented anywhere (where?), e.g. what is broken, which glibc
> versions are implicated, etc? If not, could anyone please tell me what
> is the matter -- I to use exp(), and I reckon that gcc will by default
> use the inline version!
>

I think that the problem was exp(-Inf) giving NaN rather than 0, but
trying to reproduce it with gcc 2.95.4 I can only make it happen with
-ffast-math, not with the -O flags. So it may be version-specific, or I
may have misremembered

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xhwang at stat.tamu.edu  Tue Jul  9 23:54:10 2002
From: xhwang at stat.tamu.edu (Xiaohui Wang)
Date: Tue, 9 Jul 2002 16:54:10 -0500
Subject: [R] lda problem with R
Message-ID: <1020709165410.ZM28483@stat.tamu.edu>

Hi, there,

I am using "lda" function in MASS with R. I have several datasets, some are
small and some big (say, 40 by 6800). I ran the following command on small
datasets smoothly

z<-lda(dat,g,CV=T) # dat is my dataset, g is the group labels

but for big datasets I got error message like,

 Error in x - matrix(dm[i, ], n, p, byrow = TRUE) :
        non-conformable arrays
In addition: Warning messages:
1: variables are collinear in: lda.default(dat, g, CV = T)
2: Replacement length not a multiple of the elements to replace in matrix(...)

I double checked the dim of dat (40 by 6800) and g (length=40) and didn't have
idea what's wrong. Could anyone give me some clue about this? Any info will be
highly appreciated.

thanks,

Sophie

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jul 10 01:13:41 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Jul 2002 01:13:41 +0200
Subject: [R] broken inline exp in glibc/x86??!
In-Reply-To: <Pine.A41.4.44.0207091418210.19706-100000@homer13.u.washington.edu>
References: <Pine.A41.4.44.0207091418210.19706-100000@homer13.u.washington.edu>
Message-ID: <x2y9ck5wbe.fsf@biostat.ku.dk>

Thomas Lumley <tlumley at u.washington.edu> writes:

> On Tue, 9 Jul 2002, RenE J.V. Bertin wrote:
> 
> > I read the following in acinclude.m4:
> >
> > ## R_PROG_CC_FLAG_D__NO_MATH_INLINES
> > ## ---------------------------
> > ## In current glibc, inline version [x86] of exp is broken.
> > ## We fix this by adding '-D__NO_MATH_INLINES' to R_XTRA_CFLAGS rather
> > ## than AC_DEFINE(__NO_MATH_INLINES) as the former also takes care of
> > ## compiling C code for add-on packages.
> >
> > Is this documented anywhere (where?), e.g. what is broken, which glibc
> > versions are implicated, etc? If not, could anyone please tell me what
> > is the matter -- I to use exp(), and I reckon that gcc will by default
> > use the inline version!
> >
> 
> I think that the problem was exp(-Inf) giving NaN rather than 0, but
> trying to reproduce it with gcc 2.95.4 I can only make it happen with
> -ffast-math, not with the -O flags. So it may be version-specific, or I
> may have misremembered

It's getting old, but it's a libc issue not a compiler one. (In
fact an include file issue: /usr/include/bits/mathinline.h).

It was fixed in recent versions. According to my reading, exp() is
never inlined unless FAST_MATH is used in glibc-2.2.5. Only a fairly
small fix was necessary to fix the inline code, but apparently the
glibc crew chose not to use it.

I forget why we chose to -D__NO_MATH_INLINES rather than test for the
presence of the actual problem.

The actual exchange of opinions (including a couple of cases of
spectacularly ignorant arrogance)  is recorded on

http://mail.gnu.org/pipermail/bug-glibc/2000-May/000667.html

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Wed Jul 10 01:22:04 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Tue, 9 Jul 2002 16:22:04 -0700 (PDT)
Subject: [R] C++ and R
In-Reply-To: <3D2B4728.14EED7C@lbl.gov>
Message-ID: <Pine.GSO.4.10.10207091621550.7758-100000@fisher.stat.ucla.edu>

I believe you need to use .Call for this.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Tue, 9 Jul 2002, Francisco J Molina wrote:

> I am calling C++ from R.
> I want C++ to return a vector whose length is not known when the C++
> routine is called.
> 
> Is it possible to do this without using R objects in the C++ routine?
> 
> So far I have been using .C, but I do not see how I could use it in this
> case.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From seniorr at aracnet.com  Wed Jul 10 01:43:45 2002
From: seniorr at aracnet.com (Russell Senior)
Date: 09 Jul 2002 16:43:45 -0700
Subject: [R] building formula objects
In-Reply-To: <E09E527B56BE2D438A3D6A246DDD27A91651AE@Roper-CV.qld.cmis.csiro.au>
References: <E09E527B56BE2D438A3D6A246DDD27A91651AE@Roper-CV.qld.cmis.csiro.au>
Message-ID: <86adp031se.fsf@coulee.tdb.com>

>>>>> "Bill" == Bill Venables <Bill.Venables at cmis.csiro.au> writes:

Bill> [WNV] [...] See the Programmer's Niche article in the latest
Bill> edition of R news for a general strategy for handling this kind
Bill> of problem (at the risk of touting my own stuff).

The goal of my exercise it to create a nice blob of data that I can
export, ultimately, into a document table.

I've got a data frame called pe.ours which contains a bunch of
response variables kept in a list, raymonds:

  > raymonds
   [1] "twa"    "twa.bh" "rcm"    "rcm2"   "s25"    "s5"     "l4"     "l16"   
   [9] "e4"     "e16"    "p90"    "p95"    "p99"    "max"   

For this go-round, I am just looking at the factor, my.factor, (also a
member of pe.ours), so my function is:

  russell <- function(n) {
    tAsgn <- paste("tList[[n]] <- try(anova(lm(X ~ my.factor, data=pe.ours)))",
                   sep="")
    tAsgn <- parse(text = tAsgn)[[1]]
    TAsgn <- do.call("substitute", list(tAsgn, list(X = as.name(n))))
    eval(TAsgn)
  } 

Then I use sapply, as in:

  > t(sapply(raymonds,russell)) -> tmp

If I coerce the individual "rows" in the result to data frames, e.g.:

  > as.data.frame(tmp[1,])
     Df    Sum.Sq   Mean.Sq  F.value       Pr..F.
  1   4  161.3588 40.339705 23.10912 2.988881e-18
    955 1667.0654  1.745618       NA           NA

and even:

  > apply(tmp,1,as.data.frame)
  $twa
     Df    Sum.Sq   Mean.Sq  F.value       Pr..F.
  1   4  161.3588 40.339705 23.10912 2.988881e-18
    955 1667.0654  1.745618       NA           NA

  $twa.bh
     Df     Sum.Sq   Mean.Sq F.value       Pr..F.
  1   4   3.577902 0.8944754 6.57847 3.186600e-05
    955 129.851484 0.1359701      NA           NA

   [snip]

  $p99
     Df    Sum.Sq  Mean.Sq   F.value    Pr..F.
  1   4    497.49 124.3725 0.7928758 0.5298613
    955 149803.70 156.8625        NA        NA

  $max
     Df      Sum.Sq   Mean.Sq   F.value    Pr..F.
  1   4    20685.82  5171.456 0.1604102 0.9582729
    955 30788197.64 32238.950        NA        NA


I get something very close to what I want, but now I want to collect
these tmp rows into a single data frame that I can cleanly pass to
write.table().  Something like:

     Df    Sum.Sq   Mean.Sq  F.value       Pr..F.
  1   4  161.3588 40.339705 23.10912 2.988881e-18
    955 1667.0654  1.745618       NA           NA
  1   4   3.577902 0.8944754 6.57847 3.186600e-05
    955 129.851484 0.1359701      NA           NA
  1   4    497.49 124.3725 0.7928758 0.5298613
    955 149803.70 156.8625        NA        NA
  1   4    20685.82  5171.456 0.1604102 0.9582729
    955 30788197.64 32238.950        NA        NA

A bonus would be to retain the rownames somehow.

I am just not yet "getting" R's multi-dimensional data objects and how
to manipulate them.

-- 
Russell Senior         ``The two chiefs turned to each other.        
seniorr at aracnet.com      Bellison uncorked a flood of horrible       
                         profanity, which, translated meant, `This is
                         extremely unusual.' ''                      
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Jul 10 01:51:34 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 9 Jul 2002 16:51:34 -0700 (PDT)
Subject: [R] C++ and R
In-Reply-To: <3D2B4728.14EED7C@lbl.gov>
Message-ID: <Pine.A41.4.44.0207091641390.19706-100000@homer13.u.washington.edu>

On Tue, 9 Jul 2002, Francisco J Molina wrote:

> I am calling C++ from R.
> I want C++ to return a vector whose length is not known when the C++
> routine is called.
>
> Is it possible to do this without using R objects in the C++ routine?
>
> So far I have been using .C, but I do not see how I could use it in this
> case.

It might be possible to break your call into two parts, one where you work
out how large the objects are and one where you do the computation.
Otherwise you can't return objects of unknown size and would need to use
.Call and make an R object to return.  It's not as bad as it sounds.

	-thomas






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Jul 10 01:57:38 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 9 Jul 2002 16:57:38 -0700 (PDT)
Subject: [R] building formula objects
In-Reply-To: <86adp031se.fsf@coulee.tdb.com>
Message-ID: <Pine.A41.4.44.0207091653210.19706-100000@homer13.u.washington.edu>

On 9 Jul 2002, Russell Senior wrote:

<snip>
> Then I use sapply, as in:
>
>   > t(sapply(raymonds,russell)) -> tmp
>
> If I coerce the individual "rows" in the result to data frames, e.g.:
>
>   > as.data.frame(tmp[1,])
>      Df    Sum.Sq   Mean.Sq  F.value       Pr..F.
>   1   4  161.3588 40.339705 23.10912 2.988881e-18
>     955 1667.0654  1.745618       NA           NA
>
> and even:
>
>   > apply(tmp,1,as.data.frame)
>   $twa
>      Df    Sum.Sq   Mean.Sq  F.value       Pr..F.
>   1   4  161.3588 40.339705 23.10912 2.988881e-18
>     955 1667.0654  1.745618       NA           NA
>
>   $twa.bh
>      Df     Sum.Sq   Mean.Sq F.value       Pr..F.
>   1   4   3.577902 0.8944754 6.57847 3.186600e-05
>     955 129.851484 0.1359701      NA           NA
>
<snip>
> I get something very close to what I want, but now I want to collect
> these tmp rows into a single data frame that I can cleanly pass to
> write.table().  Something like:
>
>      Df    Sum.Sq   Mean.Sq  F.value       Pr..F.
>   1   4  161.3588 40.339705 23.10912 2.988881e-18
>     955 1667.0654  1.745618       NA           NA
>   1   4   3.577902 0.8944754 6.57847 3.186600e-05
>     955 129.851484 0.1359701      NA           NA
>   1   4    497.49 124.3725 0.7928758 0.5298613
>     955 149803.70 156.8625        NA        NA
>   1   4    20685.82  5171.456 0.1604102 0.9582729
>     955 30788197.64 32238.950        NA        NA

This is what I regard as the canonical example of do.call()

If these were separate variables instead of elements of tmp you could do
eg
  rbind(twa, twa.bh, rcm, rcm, s25, s5)
But they aren't, so
  do.call("rbind", tmp)
does the trick.  This creates a call to rbind() where the arguments are
the elements of tmp.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lincj at ccms.ntu.edu.tw  Wed Jul 10 02:10:10 2002
From: lincj at ccms.ntu.edu.tw (Chih-Jen Lin)
Date: Wed, 10 Jul 2002 08:10:10 +0800 (CST)
Subject: [R] Re: Writing new kernel option in svm E1071
In-Reply-To: <3D2962AF.ECAE6F73@ci.tuwien.ac.at>
References: <4106439B1F22D611A4100002A56B0F7E028CF2D7@slon10302.csfp.co.uk>
	<001701c224d8$825a7f60$a71401a3@stats.ox.ac.uk>
	<3D2962AF.ECAE6F73@ci.tuwien.ac.at>
Message-ID: <15659.31586.753132.448568@linux7.csie.ntu.edu.tw>

Hi, Adai:

This is how to add/modify a kernel in libsvm 
(from its faq):

   o I would like to use my own kernel but find out that there are
     two subtourines for kernel evaluations: k_function() and
     kernel_function(). Which one should I modify ?
     The reason why we have two functions is as follows: For the
     RBF kernel exp(-g |xi - xj|^2), if we calculate xi - xj first
     and then the norm square, there are 3n operations. Thus we
     consider exp(-g (|xi|^2 - 2dot(xi,xj) +|xj|^2)) and by
     calculating all |xi|^2 in the beginning, the number of
     operations is reduced to 2n. This is for the training. For
     prediction we cannot do this so a regular subrouting using
     that 3n operations is needed. The easiest way to have your
     own kernel is to put the same code in these two subourines by
     replacing any kernel.

Yes, due to performance reason, you don't want to do kernel
evaluations at the R level. 

About computed kernels, that's a complicated issue. 
We have been thinking about topics like on-line or reinforcement
learning where several data are added/removed. Hence kernel
elements should be reused. However, we must carefully write the
code so it's clean. Hence I am sorry 
this won't be available very soon.

Chih-Jen

David Meyer writes:
 > Dear Adai,
 > 
 > unfortunately, you currently can't extend the kernel set at the R level
 > (and due to performance issues this probably will never be possible).
 > 
 > (It's quite simple at the C-level, though).
 > 
 > But I think an option for providing the computed kernel values would be
 > a useful feature easy to add; I cc: this mail to Chih-Jen Lin, the
 > author of LIBSVM, perhaps he agrees.
 > 
 > g.,
 > -d
 > 
 > 
 > 
 > > Adaikalavan Ramasamy wrote:
 > > 
 > > I am trying to use the svm function in E1071 package. It does come
 > > with built in kernel functions like radial, linear etc. I wish to use
 > > the radial basis function but with a constant added to the diagonal of
 > > the kernel (or Gram) matrix. This was the suggested method in a paper
 > > UCSC-CRL-99-09 Brown et al.
 > > 
 > > So I wrote the following code, [which works correctly if I test on two
 > > vectors manually]
 > > 
 > > kernel.new.fn <- function(u,v)
 > > {   exp(-gamma*det(t(u-v)%*%(u-v), method="qr")) +
 > > ifelse(identical(u, v), 0.1 ,0)    }
 > > 
 > > But when I try to run the code, I get the following error:
 > > 
 > > > test.svm  <- svm( X ,  Ysvm, kernel="kernel.new.fn")
 > > Error in svm.default(X.complete, Ysvm[, 3], kernel = "kernel.new.fn")
 > > :
 > >  wrong kernel specification!
 > > 
 > > I am guessing the problem being svm.default does not recognise
 > > "kernel.new.fn".
 > > svm.default calls a C file "svmtrain" to do the calculations.
 > > 
 > > Q1: Is there an exisiting option to add a constant to the diagonal of
 > > the kernel ?
 > 
 > no.
 > 
 > > Q2: Is there a way I can get svm.default to recognise there is new
 > > option called kernel.new.fn externally without meddling with C
 > > file which I am not so familiar with.
 > 
 > no.
 > 
 > >        [OR equivalently is there a way of feeding in the
 > > computed kernel instead - I can do this manually using a loop]
 > 
 > again, no.
 > 
 > > 
 > > This is as much due to my lack of programming as it is to my lack of
 > > experience with svm.
 > > 
 > > Many thanks in advance, Adai.
 > > 
 > > 
 > > 
 > > 
 > > 
 > > 
 > 
 > -- 
 > 	Mag. David Meyer		Wiedner Hauptstrasse 8-10
 > Vienna University of Technology		A-1040 Vienna/AUSTRIA
 >          Department of			Tel.: (+431) 58801/10772
 > Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Wed Jul 10 09:27:49 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Wed, 10 Jul 2002 09:27:49 +0200
Subject: [R] writing to a png file with a script
References: <20020709222652.4e1738c8.sholl@gmx.net>
Message-ID: <3D2BE1F5.97983260@atmos.umnw.ethz.ch>

Hello Stephan,

the problem is, that the x11 don't work in batch mode. So you have to
use bitmap and set type to "png256" or something else (see ?bitmap). For
bitmap youy need a PostScript device, but that is on linux absolutly
normal

gruess

joerg

Stephan Holl wrote:
> 
> Dear R-freaks,
> 
> I am new to R and loke to write plots directly to a file with a script
> in batch-mode.
> 
> the following error occured:
>  # writing section
> > x11()
> Error in x11() : the x11 device has not been loaded
> Execution halted
> 
> I do not know what to do!
> 
> thanks for your help
> 
> cheers
>   steph
> 
> --
> Linux: the operating system with a CLUE...
>          Command Line User Environment.
> --------------------------------------
> Stephan Holl
> GnuPG Key-ID: 11946A09
> ICQ# 117277975
> --------------------------------------
> 
>   ------------------------------------------------------------------------
>    Part 1.2Type: application/pgp-signature

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jul 10 08:34:02 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 10 Jul 2002 08:34:02 +0200
Subject: [R] changing angle in scatterplot3d
References: <000901c2276c$ad96fd20$35892090@ohm.york.ac.uk>
Message-ID: <3D2BD55A.455905AF@statistik.uni-dortmund.de>



Rishabh Gupta wrote:
> 
> Hi all,
>     I was wondering whether it is possible to change the angle of all axis in a scatterplot3d graph. I know that there is one
> parameter <angle> but I was wondering whether it is possible to control the angle of all different axis individually (eg by using
> <anglex><angley><anglez>).
> In addition I was wondering whether there is a way to change the angle of a plot after all the data has been saved. E.G I want to
> see the graph from many different angles without having to feed all the points into it repeatedly.
> Any help would be greatly appreciated.
 
Nothing of your request is possible. If you want to rotate a plot
(interactively), I'd suggest to look at

1) cloud() in package lattice, or

2) the package RGL (Windows only, available at Duncan Murdoch's
homepage), or

3) the data visualiziation system "ggobi", available at
http://www.ggobi.org/ (R interfaces are also available)


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jul 10 08:37:21 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 10 Jul 2002 08:37:21 +0200
Subject: [R] writing to a png file with a script
References: <20020709222652.4e1738c8.sholl@gmx.net>
Message-ID: <3D2BD621.555BAFD3@statistik.uni-dortmund.de>

Stephan Holl wrote:
> 
> Dear R-freaks,
> 
> I am new to R and loke to write plots directly to a file with a script
> in batch-mode.
> 
> the following error occured:
>  # writing section
> > x11()
> Error in x11() : the x11 device has not been loaded
> Execution halted
>
> I do not know what to do!

Use bitmap(), for details see ?bitmap.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From seniorr at aracnet.com  Wed Jul 10 04:42:51 2002
From: seniorr at aracnet.com (Russell Senior)
Date: 09 Jul 2002 19:42:51 -0700
Subject: [R] building formula objects
In-Reply-To: <Pine.A41.4.44.0207091653210.19706-100000@homer13.u.washington.edu>
References: <Pine.A41.4.44.0207091653210.19706-100000@homer13.u.washington.edu>
Message-ID: <86wus41exg.fsf@coulee.tdb.com>

>>>>> "Thomas" == Thomas Lumley <tlumley at u.washington.edu> writes:

Thomas> This is what I regard as the canonical example of do.call()

Thomas> If these were separate variables instead of elements of tmp
Thomas> you could do eg rbind(twa, twa.bh, rcm, rcm, s25, s5) But they
Thomas> aren't, so do.call("rbind", tmp) does the trick.  This creates
Thomas> a call to rbind() where the arguments are the elements of tmp.

Ah, thank you!  Your precise do.call() didn't quite do the trick for
me, but it was easy to munge into the right form.  I've also now
abstracted it a little more:

  russell <- function(resp,fact,data) {
    f <- function(n) {
      command.string <- paste("try(anova(lm(X ~ Y, data=data)))",
                              sep="")
      command <- parse(text = command.string)[[1]]
      command.sub <- do.call("substitute", 
                             list(command,
                                  list(X = as.name(n),
                                       Y = as.name(fact))))
      eval(command.sub)
    }
    do.call("rbind",apply(t(sapply(resp,f)),1,as.data.frame))
  } 

I need a better name, but otherwise I am a happy guy.  Thank you all
for your help!

-- 
Russell Senior         ``The two chiefs turned to each other.        
seniorr at aracnet.com      Bellison uncorked a flood of horrible       
                         profanity, which, translated meant, `This is
                         extremely unusual.' ''                      
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Michael.Dondrup at Genetik.Uni-Bielefeld.DE  Wed Jul 10 11:05:32 2002
From: Michael.Dondrup at Genetik.Uni-Bielefeld.DE (Michael Dondrup)
Date: Wed, 10 Jul 2002 11:05:32 +0200
Subject: [R] writing to a png file with a script
References: <20020709222652.4e1738c8.sholl@gmx.net>
Message-ID: <3D2BF8DB.422D8C4E@Genetik.Uni-Bielefeld.DE>

Stephan Holl wrote:
> 
I guess you are using function png. This will not work without 
 a X-server.
Try function "bitmap" instead.

> Dear R-freaks,
> 
> I am new to R and loke to write plots directly to a file with a script
> in batch-mode.
> 
> the following error occured:
>  # writing section
> > x11()
> Error in x11() : the x11 device has not been loaded
> Execution halted
> 
> I do not know what to do!
> 
> thanks for your help
> 
> cheers
>   steph
> 
> --
> Linux: the operating system with a CLUE...
>          Command Line User Environment.
> --------------------------------------
> Stephan Holl
> GnuPG Key-ID: 11946A09
> ICQ# 117277975
> --------------------------------------
> 
>   ------------------------------------------------------------------------
>    Part 1.2Type: application/pgp-signature
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Wed Jul 10 11:35:43 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 10 Jul 2002 11:35:43 +0200 (MEST)
Subject: [R] Which function to use for multiple comparison?
In-Reply-To: <15657.15171.706443.873582@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.21.0207101131560.1299-100000@artemis>


>        [Moderator: This was erronously sent to R-announce, 
> 		   and filtered fortunately ]
> 
> Hi,
> 
> This is my first time to use R. I'm wondering which function I can use to do
> multiple comparison. I have an lm object and want to do multiple comparison
> based on this object. Splus has a function multicomp() but I could not find
> a similar one in R. Thanks in advance. Really appreciate it.
> 

R base has `TukeyHSD' for Tukey CI's. Some other procedures
(e.g. Dunnett) are available in package `multcomp'. In addition, the
`multtest' package offers resampling based procedures (available at
www.bioconductor.org)

Torsten

> Julie
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.firth at nuffield.oxford.ac.uk  Wed Jul 10 11:37:48 2002
From: david.firth at nuffield.oxford.ac.uk (David Firth)
Date: Wed, 10 Jul 2002 10:37:48 +0100
Subject: [R] package relimp
In-Reply-To: <3D2AFB0E.3050502@metrinomics.de>
Message-ID: <B25BE7B6-93E8-11D6-B4D0-0050E4C03977@nuffield.oxford.ac.uk>

Christian, no, that's not correct.

The "sd ratio" is a ratio, so if the numerator exceeds the denominator the 
ratio exceeds one; and vice-versa.

The "log(sd.ratio)" is the natural logarithm of that ratio.  It is 
positive when the numerator exceeds the denominator.

In the output you sent, it is not possible to be conclusive: the estimated 
ratio is too close to 1.

I hope that's clearer.  The documentation for relimp does need improving, 
but the improvements I have in hand would not have answered this for you.  
Did you look at the article by Silber, Rosenbaum and Ross (cited in the 
documentation)?

Regards,
David


On Tuesday, July 9, 2002, at 16:02 , Christian Schulz wrote:

> Hi,
> i'm newbie for this, but it's very interesting, but how i have to 
> interpret the results
> if i get i.e. this results ?
>
>
> Is it correct -
> if the "Ratio of effect sd"  is positiv than the Numerator effects are 
> bigger , and the negative case vice-versa ?
>
>
> Ratio of effect standard deviations: 0.954
> Log(sd ratio):                 -0.047   (se 0.828)
>
> Approximate 95% confidence interval for log(sd ratio): (-1.669,1.575)
> Approximate 95% confidence interval for sd ratio:      (0.188,4.833)
>
>
> Thanks for advance & perhaps a link/pdf   but i find nothing related with 
> google.
> regards,Christian
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-
> FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kriskumar at mailandnews.com  Wed Jul 10 11:38:41 2002
From: kriskumar at mailandnews.com (krishna kumar)
Date: Wed, 10 Jul 2002 02:38:41 -0700
Subject: [R] Error handling
References: <1026228236.16684.10.camel@gandalf> <x2u1n8hnbg.fsf@biostat.ku.dk>
Message-ID: <3D2C00A1.80DD030D@mailandnews.com>

There is also R.oo found here

http://www.braju.com/R/R.classes/index.html

which has among lots of other goodies ,  trycatch / finally.

Peter Dalgaard BSA wrote:

> Ernesto Jardim <ernesto at ipimar.pt> writes:
>
> > Hi
> >
> > I wrote a function implementing an algoritm for simulation of spatial
> > sampling plans (using geoR).
> >
> > I'm using a range of parameters to perform several simulation and
> > sometimes this parameters create function errors wich cause the algoritm
> > to stop.
> >
> > How can I avoid this ?
> >
> > Below there's a small example that I made to study the problem but I was
> > not able to solve it. I've tried "restart" function but it caused an
> > endeless loop.
>
> try() (as mentioned in the Note in the docs for restart() -- perhaps
> we should also put it in See Also?)
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fred at poleto.com  Wed Jul 10 11:55:08 2002
From: fred at poleto.com (Frederico Zanqueta Poleto)
Date: Wed, 10 Jul 2002 06:55:08 -0300
Subject: [R] 2 simple doubts
Message-ID: <3D2C047C.1070504@poleto.com>

Hello,

I'm just start learning R/S-Plus, so I think this 2 doubts is going to 
be too easy for you...

1) I couldn't discover what is the command for a concatenation of 2 
variable strings.

2) For example, if I have three variable strings, and each one has the 
name of a variable in a data matrix:
a<-V1
b<-V2
c<-V3
, is it possible to construct a command like this:
tree(a~b+c,data=DS1)
, that would do the job of tree(V1~V2+V3,data=DS1) ?
I know that how I've written here doesn't work, but I hope I've 
explained well what I'd like to do.

Thanks.

Sincerely,
-- 
Frederico Zanqueta Poleto
fred at poleto.com - ICQ# 4129787

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metrinomics.de  Wed Jul 10 12:00:53 2002
From: c.schulz at metrinomics.de (Christian Schulz)
Date: Wed, 10 Jul 2002 12:00:53 +0200
Subject: [R] package relimp
References: <B25BE7B6-93E8-11D6-B4D0-0050E4C03977@nuffield.oxford.ac.uk>
Message-ID: <3D2C05D5.6030304@metrinomics.de>

Many Thanks !

David Firth wrote:

> Christian, no, that's not correct.
>
> The "sd ratio" is a ratio, so if the numerator exceeds the denominator 
> the ratio exceeds one; and vice-versa. 

....that's it and embarrassingly for me - It seems that it was in berlin 
yesterday to hot ~ 38 degree celsisus;-))

>
>
> The "log(sd.ratio)" is the natural logarithm of that ratio. It is 
> positive when the numerator exceeds the denominator.
>
> In the output you sent, it is not possible to be conclusive: the 
> estimated ratio is too close to 1. 

...i understand, none of the the two sets dominate !

>
>
> I hope that's clearer. The documentation for relimp does need 
> improving, but the improvements I have in hand would not have answered 
> this for you. Did you look at the article by Silber, Rosenbaum and 
> Ross (cited in the documentation)? 

....i should do this, but it's a walk to the library
and cost in germany min. 1/2 day when you have luck and the lib.
have the JASA from 1995.

Silber, J. H., Rosenbaum, P. R. and Ross, R N (1995) Comparing the 
Contributions of Groups of Predictors: Which Outcomes Vary with Hospital 
Rather than Patient Characteristics? JASA 90, 7-18.

So i'm not angry if anybody have it in digital form !?

Thanks and regards,Christian

>
>
> Regards,
> David
>
>
> On Tuesday, July 9, 2002, at 16:02 , Christian Schulz wrote:
>
>> Hi,
>> i'm newbie for this, but it's very interesting, but how i have to 
>> interpret the results
>> if i get i.e. this results ?
>>
>>
>> Is it correct -
>> if the "Ratio of effect sd" is positiv than the Numerator effects are 
>> bigger , and the negative case vice-versa ?
>>
>>
>> Ratio of effect standard deviations: 0.954
>> Log(sd ratio): -0.047 (se 0.828)
>>
>> Approximate 95% confidence interval for log(sd ratio): (-1.669,1.575)
>> Approximate 95% confidence interval for sd ratio: (0.188,4.833)
>>
>>
>> Thanks for advance & perhaps a link/pdf but i find nothing related 
>> with google.
>> regards,Christian
>>
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>>
>> .-.-.-
>> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-
>> FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !) To: r-help-request at stat.math.ethz.ch
>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>>
>> ._._._
>>
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sholl at gmx.net  Wed Jul 10 12:18:44 2002
From: sholl at gmx.net (Stephan Holl)
Date: Wed, 10 Jul 2002 12:18:44 +0200
Subject: [R] plotting only text as a table
Message-ID: <20020710121844.46e7deb4.sholl@gmx.net>

Dear R-Gurus,

I am preparing a multiple-plot-sheet with 2rows and 2 columns, but there
are actually only 3 plots to plot.
the 4. part of my sheet should contain a table with simple statistic
values like n, mode, standard deviation....

I cannot handle to plot the information in the plot. the summary()
function prints it to the xtrem instead of the plot.

Here is an example-plot with the 3 plots and the empty 4.th space.
http://frosch.2y.net/tmp/ws_34_geol_20.png

Perhaps there is a nice sollution.
btw. I produce the plot in BATCH-mode.
Thanks so far.

steph

-- 
Linux: the operating system with a CLUE...
         Command Line User Environment.
--------------------------------------
Stephan Holl
GnuPG Key-ID: 11946A09
ICQ# 117277975 
--------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020710/6c2bdf76/attachment.bin

From ramasamy at stats.ox.ac.uk  Wed Jul 10 12:23:13 2002
From: ramasamy at stats.ox.ac.uk (Adaikalavan Ramasamy)
Date: Wed, 10 Jul 2002 11:23:13 +0100
Subject: [R] 2 simple doubts
References: <3D2C047C.1070504@poleto.com>
Message-ID: <00fb01c227fb$ccb1bcb0$a91401a3@stats.ox.ac.uk>

> 1) I couldn't discover what is the command for a concatenation of 2
> variable strings.

You can use c, cbind, rbind. Example follow :
x <- c(1,2,46) which returns you a vector of length 3 containing the number
1,2, 4
if you have a numerical matrix of say  X, Y, Z each of dim 10 by 2
    then A <- cbind(X,Y,Z) binds the colums together to give a matrix of 10
by 6
    or    B <- rbind( X,Y,Z) binds the rows together to give a matrix of 30
by 2

If some of your vectors are non-numerical, then you may have to use the
data.frame option instead.

> 2) For example, if I have three variable strings, and each one has the
> name of a variable in a data matrix:
> a<-V1
> b<-V2
> c<-V3
> , is it possible to construct a command like this:
> tree(a~b+c,data=DS1)
> , that would do the job of tree(V1~V2+V3,data=DS1) ?

Hmm, I am not quite sure what you are asking but you best try with a small
manage matrix first.
I think you are trying the change the names of your columns right ? If so
try this

colnames(DS1) <- c( "a", "b", "c")

Note the quotes around a,b, c. Thus you need not to extract each vector by
its own.
Again for dataframes, the naming procedure is slightly different. refer to
?data.frame.

Regards, Adai.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Wed Jul 10 13:23:02 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Wed, 10 Jul 2002 13:23:02 +0200
Subject: [R] 2 simple doubts
References: <3D2C047C.1070504@poleto.com>
Message-ID: <3D2C1916.42DA4572@atmos.umnw.ethz.ch>

Hello Frederico

1) paste(strA,strB,....strX,sep='') or something else as seperator
(default: blank ' ')

2) tree(as.formula(paste(a,'~',b,'+',c)),data=DS1) could work

gruess

joerg


Frederico Zanqueta Poleto wrote:
> 
> Hello,
> 
> I'm just start learning R/S-Plus, so I think this 2 doubts is going to
> be too easy for you...
> 
> 1) I couldn't discover what is the command for a concatenation of 2
> variable strings.
> 
> 2) For example, if I have three variable strings, and each one has the
> name of a variable in a data matrix:
> a<-V1
> b<-V2
> c<-V3
> , is it possible to construct a command like this:
> tree(a~b+c,data=DS1)
> , that would do the job of tree(V1~V2+V3,data=DS1) ?
> I know that how I've written here doesn't work, but I hope I've
> explained well what I'd like to do.
> 
> Thanks.
> 
> Sincerely,
> --
> Frederico Zanqueta Poleto
> fred at poleto.com - ICQ# 4129787
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlorino at vet-alfort.fr  Wed Jul 10 13:29:44 2002
From: tlorino at vet-alfort.fr (tlorino@vet-alfort.fr)
Date: Wed, 10 Jul 2002 13:29:44 +0200
Subject: [R] Configuring SJava on Windows
Message-ID: <788720289.20020710132944@vet-alfort.fr>

Dear R users,

I was happy to find a binary library for SJava in the last released of R
(1.5.1)... I am able to load the library... but I have some problems to run this library:

> .JavaInit()
Error in .JavaInit() : Couldn't start Java Virtual Machine: Can't create Java Virtual Machine
> javaConfig()
$classPath
[1] "F:/Program Files/R/rw1051/library/SJava/org/omegahat/Jars/Environment.jar"
[2] "F:/Program Files/R/rw1051/library/SJava/org/.."                           
[3] "F:/Program Files/R/rw1051/library/SJava/org/omegahat/Jars/antlr.jar"      
[4] "F:/Program Files/R/rw1051/library/SJava/org/omegahat/Jars/jas.jar"        
[5] "F:/Program Files/R/rw1051/library/SJava/org/omegahat/Jars/jhall.jar"      

$properties
                                                                 EmbeddedInR 
                                                                      "true" 
                                                       InterfaceManagerClass 
             "org/omegahat/Interfaces/NativeInterface/OmegaInterfaceManager" 
                                                   ForeignReferenceBaseClass 
                                     "org/omegahat/R/Java/RForeignReference" 
                                                               java.compiler 
                                                                      "NONE" 
                                                                  OMEGA_HOME 
                      "F:/Program Files/R/rw1051/library/SJava/org/omegahat" 
                                                          OmegahatSearchPath 
".,${OMEGA_HOME}/Environment/Scripts/Run,${OMEGA_HOME}/Jars/Environment.jar" 
                                                           java.library.path 
                              "F:/Program Files/R/rw1051/library/SJava/libs" 

$libraryPath
[1] "F:/Program Files/R/rw1051/library/SJava/libs"

In particular I don't know if I have to tell to SJava where is my Java Runtime
Environment.

Thank you for your help,
Tristan Lorino

---------------------- 
?cole Nationale V?t?rinaire d'Alfort - http://www.vet-alfort.fr,
T?l. 01 43 96 70 33
M?l. tlorino at vet-alfort.fr
Site personnel : http://daedale.free.fr

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at agate.fmr.com  Wed Jul 10 13:31:21 2002
From: a296180 at agate.fmr.com (David Kane  <David Kane)
Date: Wed, 10 Jul 2002 07:31:21 -0400
Subject: [R] Assignment converts variable to factor
In-Reply-To: <64516500@toto.iv>
Message-ID: <15660.6921.94393.562666@gargle.gargle.HOWL>

Daniel Mastropietro writes:
 > Hello,
 > 
 > I would like to know if this behaviour in R is as expected.

It is as expected in R 1.5.1. Note that the NEWS for R-devel (1.6.0 to be)
says:


    o	[[<-.data.frame no longer coerces character replacement values
	to factor.  This is consistent with using $ to replace and
	with S4.

So, as best that I understand the details, the behavior will be changing. There
was some discussion of this topic on r-help and r-devel a month or two ago
(consisting mostly of my confusion and Brian Ripley's patient explanations). 

See:

http://www.r-project.org/nocvs/mail/r-help/2002/4016.html

Or the thread beginning with:

http://www.r-project.org/nocvs/mail/r-devel/2002/0777.html

Regards,

Dave Kane

 > I have a data frame 'dat' with column var1 being character (and not 
 > factor). Then I create a new column 'var2' by:
 > 
 >  > dat[,"var2"] <- dat$var1;
 > 
 > Column var2 is now a factor.
 > 
 > But if I do:
 > 
 >  > dat$var2 <- dat$var1;
 > 
 > Then column var2 is character (and not factor).
 > 
 > I don't want to have var2 as factor by doing the first assignment. I tried 
 > using 'as.character(dat$var1)' or converting dat[,"var2"] to character by 
 > using as.character() after the assignment, but still var2 is treated as factor.
 > 
 > Note that I want to use dat[,"var2"] and not dat$var2 because I am doing 
 > the assignment within a function by referencing column var2 with a variable 
 > whose value is "var2" (e.g. dat[,col2] <- dat$var1, where col2 = "var2"). 
 > It is easier and more clear to use the [] operator to reference a data 
 > frame column with a variable, rather than using the $ operator with the 
 > parse() function.
 > 
 > Thanks
 > Daniel Mastropietro
 > 	
 > 
 > - -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 > Send "info", "help", or "[un]subscribe"
 > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
 > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
 > 

-- 
David Kane
Geode Capital Management
617-563-0122
david.d.kane at fmr.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pcovelli at tin.it  Wed Jul 10 14:23:52 2002
From: pcovelli at tin.it (Paolo Covelli)
Date: Wed, 10 Jul 2002 14:23:52 +0200
Subject: [R] new user
Message-ID: <001f01c2280c$a7ba2cb0$430f6850@paolo>

Hi,

I'm a beginner of R.
I find it absoluty fantastic, flexible and very extensible.
For the moment only a curiosity.. Why the name R? (are they perhaps the
initials of Robert Gentleman and Ross Ihaka?, or is the name correlated with
S language?)
Sorry for my poor question but I am very curious

Thank in advance
Paolo C.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metrinomics.de  Wed Jul 10 14:44:37 2002
From: c.schulz at metrinomics.de (Christian Schulz)
Date: Wed, 10 Jul 2002 14:44:37 +0200
Subject: [R] package relimp
References: <B25BE7B6-93E8-11D6-B4D0-0050E4C03977@nuffield.oxford.ac.uk> <3D2C05D5.6030304@metrinomics.de> <20020710122311.GA409@stefano>
Message-ID: <3D2C2C35.8010904@metrinomics.de>

.... i didn't known jstor until now, but  many thanks for both !
regards,christian

Stefano Calza wrote:

>>So i'm not angry if anybody have it in digital form !?
>>
>
>Here it is!
>
>You can find Jasa on Jstor, for free. But as I'm a good boy I downloaded it
>for you  ;-)
>
>Bye,
>
>Stefano
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020710/c485b77d/attachment.html

From mschwartz at medanalytics.com  Wed Jul 10 15:24:07 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Wed, 10 Jul 2002 08:24:07 -0500
Subject: [R] plotting only text as a table
In-Reply-To: <20020710121844.46e7deb4.sholl@gmx.net>
Message-ID: <012201c22815$12077ca0$0201a8c0@MARC>

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On
> Behalf Of Stephan Holl
> Sent: Wednesday, July 10, 2002 5:19 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] plotting only text as a table
> 
> Dear R-Gurus,
> 
> I am preparing a multiple-plot-sheet with 2rows and 2 columns, but
there
> are actually only 3 plots to plot.
> the 4. part of my sheet should contain a table with simple statistic
> values like n, mode, standard deviation....
> 
> I cannot handle to plot the information in the plot. the summary()
> function prints it to the xtrem instead of the plot.
> 
> Here is an example-plot with the 3 plots and the empty 4.th space.
> http://frosch.2y.net/tmp/ws_34_geol_20.png
> 
> Perhaps there is a nice sollution.
> btw. I produce the plot in BATCH-mode.
> Thanks so far.
> 
> steph

Two approaches:

1. Review the math formula table plots that are towards the end of the
demo(graphics) programs, which plot a row/column matrix of cells.  There
are some generic functions in that code to create the table matrix and
plot text in the cells.

2. What I recently did was to use the plot() function to create a
graphic window with enough horizontal rows (ie. Y-axis range) to contain
titles, spaces and the textual data that I wish to display.  I also set
the window margins fairly narrow [ie. par(mar = c(1, 1, 1, 1) + 0.1) ],
so that I could use most of the window for drawing text within the plot
area.

Using the text() function, I then draw the text at the appropriate
row/column positions to create the table with column alignments as I
require.  If you define the plot vertical range appropriately, you can
use integer values of Y for the vertical row centers.  Then it is a
matter of adjusting the x-axis value to the columns you wish to create
and the "cex" parameter in text() to set the text size that looks good
for your table.

One note, if you wish to create a column of right aligned numbers, where
the decimal points are lined up, use the formatC() function to define
the number of digits after the decimal place [ie. formatC(Number, digits
= 2, format = "f") ].  Then use "pos = 2" in the text() function [ie.
text(x, y, Number, pos = 2) ], which will draw the text to the left of a
given x-axis reference point.  

Conversely, if you wish to have generic text that is left aligned, use
"pos = 4", which will plot the text to the right of a given x-axis
reference point.

This took some trial and error for me to get it to work, but it gets the
job done. 

If you want to create lines in your table (ie. cell boundaries, etc),
you can use the segments() function for this.

As you do with your 3 data plots, be sure to adjust the above so that it
works within your 2 x 2 graphic matrix.

HTH.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sholl at gmx.net  Wed Jul 10 16:44:14 2002
From: sholl at gmx.net (Stephan Holl)
Date: Wed, 10 Jul 2002 16:44:14 +0200
Subject: [R] plotting only text as a table
In-Reply-To: <012201c22815$12077ca0$0201a8c0@MARC>
References: <20020710121844.46e7deb4.sholl@gmx.net>
	<012201c22815$12077ca0$0201a8c0@MARC>
Message-ID: <20020710164414.3373b410.sholl@gmx.net>

Dear Marc

> Two approaches:
> 
> 1. Review the math formula table plots that are towards the end of the
> demo(graphics) programs, which plot a row/column matrix of cells. 
> There are some generic functions in that code to create the table
> matrix and plot text in the cells.
as a newbi it is not easy to understand that code, but I try hard.
perhaps you can provide some code-snippets for viewing...

thanks anyway

cheers
  steph

-- 
Linux: the operating system with a CLUE...
         Command Line User Environment.
--------------------------------------
Stephan Holl
GnuPG Key-ID: 11946A09
ICQ# 117277975 
--------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020710/180afc4f/attachment.bin

From dfs at research.att.com  Wed Jul 10 17:38:58 2002
From: dfs at research.att.com (Deborah Swayne)
Date: Wed, 10 Jul 2002 11:38:58 -0400
Subject: [R] trouble installing packages
Message-ID: <20020710113858.B3013677@fry.research.att.com>

I can't install some packages (even some of the recommended
packages), especially those that use f77, on an SGI.

Here's what happens:

fry: R CMD INSTALL quantreg_3.09.tar.gz
* Installing *source* package 'quantreg' ...
** libs
/tmp/R.INSTALL.2975859/quantreg/src
f77 -OPT:IEEE_NaN_inf=ON    -g -c akj.f -o akj.o

... and there it hangs.  I tried using MAKE=/usr/bin/make and
MAKE=gmake; that makes no difference.  Don't know what else to try.

If I try to work through this a step at a time, here's what happens:

  ${R_HOME}/bin/SHLIB -o quantreg.so *.f

.. and everything compiled like a dream.

Reading my way through INSTALL, it looks tricky getting all
the other steps executed properly.  Any suggestions?

Debby
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Jul 10 17:38:26 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 10 Jul 2002 08:38:26 -0700 (PDT)
Subject: [R] plotting only text as a table
In-Reply-To: <20020710121844.46e7deb4.sholl@gmx.net>
Message-ID: <Pine.A41.4.44.0207100835570.16708-100000@homer25.u.washington.edu>

On Wed, 10 Jul 2002, Stephan Holl wrote:

> Dear R-Gurus,
>
> I am preparing a multiple-plot-sheet with 2rows and 2 columns, but there
> are actually only 3 plots to plot.
> the 4. part of my sheet should contain a table with simple statistic
> values like n, mode, standard deviation....
>
> I cannot handle to plot the information in the plot. the summary()
> function prints it to the xtrem instead of the plot.
>

If you have some lines of text in variable foo you can get a reasonable
start on plotting it with

	plot.new()
	plot.window(xlim=c(0,1),ylim=c(0,1))
	text(0.5,0.5, paste(foo,collapse="\n"))

which will put it centered horizontally and vertically.  You will probably
then need to adjust things.

If you want the text to be the output of an R command and can't figure out
how to construct the text yourself you can capture it in a textConnection.
There is an example in help(textConnection).

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Wed Jul 10 17:43:49 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Wed, 10 Jul 2002 10:43:49 -0500
Subject: [R] plotting only text as a table
In-Reply-To: <20020710164414.3373b410.sholl@gmx.net>
Message-ID: <013801c22828$96aedbc0$0201a8c0@MARC>

> -----Original Message-----
> From: Stephan Holl [mailto:sholl at gmx.net]
> Sent: Wednesday, July 10, 2002 9:44 AM
> To: MSchwartz at medanalytics.com
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] plotting only text as a table
> 
> Dear Marc
> 
> > Two approaches:
> >
> > 1. Review the math formula table plots that are towards the end of
the
> > demo(graphics) programs, which plot a row/column matrix of cells.
> > There are some generic functions in that code to create the table
> > matrix and plot text in the cells.
> as a newbi it is not easy to understand that code, but I try hard.
> perhaps you can provide some code-snippets for viewing...
> 
> thanks anyway
> 
> cheers
>   steph


Let me give you an example using my second option.  This will generate a
text table with a centered title and two columns below. One column with
left aligned text and one column with right aligned numbers.


# This preserves current graphic parameters
# for restoration at the end

old.par <- par(no.readonly = TRUE)

# This sets the plot region margins to be thin

par(mar = c(1, 1, 1, 1) + 0.1)

# this sets up the empty plot window 
# with x-axis range as 0 to 4 and
# the y-axis range as 0 to 6
# with no labels and no plot frame

plot(0, 0, xlim = c(0, 4), ylim = c(0, 6), 
     type = "n", axes = FALSE, ann = FALSE, 
     frame.plot = FALSE)


# Set a vector of text for the left aligned column

Col1 <- c("This is Row 1", "This is Row 2...", "This is Row 3.....")


# Set a vector of numbers for the right aligned column
# First set up some real numbers, then format them with 
# only one decimal place each using formatC()

Col2 <- c(4, 5.3785, 6.345)

Num <- formatC(Col2, digits = 1, format = "f")


# Now plot the text on the graphic window

# First plot text for a centered title, with large text (cex = 2.0)

text(2, 5, labels = "This is a centered title", cex = 2.0)


# Finally, plot the number column as right aligned. 
# Note the use of pos = 4
# Use y-axis values of  4, 3, 2  
# with a x-axis value of 1

text(1, c(4, 3, 2), labels = Col1, pos = 4, cex = 1.0)


# Finally, plot the number column as right aligned. 
# Note the use of pos = 2
# Use y-axis values of  4, 3, 2  
# with a x-axis value of 3

text(3, c(4, 3, 2), labels = Num, pos = 2, cex = 1.0)


# Restore Graphic Parameters

par(old.par)


If you need other examples or formatting help, let me know.  Keep in
mind that in my example, the y-axis runs from bottom to the top with
increasing numbers (0 to 6).  Note that the text() function y-axis
coordinate values decline as the actual row number text values (Row 1,
Row 2, Row 3) that I used increase.

Regards,

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dfs at research.att.com  Wed Jul 10 18:07:13 2002
From: dfs at research.att.com (Deborah Swayne)
Date: Wed, 10 Jul 2002 12:07:13 -0400
Subject: [R] Re: trouble installing packages
In-Reply-To: <20020710113858.B3013677@fry.research.att.com>; from dfs on Wed, Jul 10, 2002 at 11:38:58AM -0400
References: <20020710113858.B3013677@fry.research.att.com>
Message-ID: <20020710120713.F3013677@fry.research.att.com>

Robert told me that R sometimes uses R/bin/f77 when you
want it to use the system f77.  I couldn't figure out how
to tell it not to, so I just renamed R's f77 temporarily
and tried again.  This time, the package installed perfectly.

Debby
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alexander.schnee at tuebingen.mpg.de  Wed Jul 10 18:29:10 2002
From: alexander.schnee at tuebingen.mpg.de (alexander.schnee@tuebingen.mpg.de)
Date: Wed, 10 Jul 2002 18:29:10 +0200
Subject: [R] sorting matrices
Message-ID: <3D2C60D6.7060007@tuebingen.mpg.de>

how can i sort a matrix by sorting the first colloum in ascending order 
and have the values of the other colloums in the relative position to 
the sorted values.
thanks for help

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sholl at gmx.net  Wed Jul 10 18:50:28 2002
From: sholl at gmx.net (Stephan Holl)
Date: Wed, 10 Jul 2002 18:50:28 +0200
Subject: [R] plotting only text as a table
In-Reply-To: <013801c22828$96aedbc0$0201a8c0@MARC>
References: <20020710164414.3373b410.sholl@gmx.net>
	<013801c22828$96aedbc0$0201a8c0@MARC>
Message-ID: <20020710185028.0e1bc003.sholl@gmx.net>

Dear Marc,

<snip>
Thank you for your detailed information about this topic.
Now I see clearer and mostly understand how to plot text!

cheers
  steph

-- 
Linux: the operating system with a CLUE...
         Command Line User Environment.
--------------------------------------
Stephan Holl
GnuPG Key-ID: 11946A09
ICQ# 117277975 
--------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020710/1fb2da0c/attachment.bin

From rpeng at stat.ucla.edu  Wed Jul 10 18:52:25 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Wed, 10 Jul 2002 09:52:25 -0700 (PDT)
Subject: [R] new user
In-Reply-To: <001f01c2280c$a7ba2cb0$430f6850@paolo>
Message-ID: <Pine.GSO.4.10.10207100951160.12412-100000@fisher.stat.ucla.edu>

If you're curious, you should read the brief history in 

Ihaka, R. and Gentleman, R. (1996)  "R:  A language for data analysis and
graphics."  Journal of Computational Graphics and Statistics, 5 (3)
299-314.  

It's very interersting!

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Wed, 10 Jul 2002, Paolo Covelli wrote:

> Hi,
> 
> I'm a beginner of R.
> I find it absoluty fantastic, flexible and very extensible.
> For the moment only a curiosity.. Why the name R? (are they perhaps the
> initials of Robert Gentleman and Ross Ihaka?, or is the name correlated with
> S language?)
> Sorry for my poor question but I am very curious
> 
> Thank in advance
> Paolo C.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew_wiener at merck.com  Wed Jul 10 18:58:12 2002
From: matthew_wiener at merck.com (Wiener, Matthew)
Date: Wed, 10 Jul 2002 12:58:12 -0400
Subject: [R] sorting matrices
Message-ID: <7C4F091F6140D411A29300508B5C73B908A2BC94@usrymx04.merck.com>

Take a look at "order".

Hope this helps,

Matt Wiener

-----Original Message-----
From: alexander.schnee at tuebingen.mpg.de
[mailto:alexander.schnee at tuebingen.mpg.de]
Sent: Wednesday, July 10, 2002 12:29 PM
To: r-help at stat.math.ethz.ch
Subject: [R] sorting matrices


how can i sort a matrix by sorting the first colloum in ascending order 
and have the values of the other colloums in the relative position to 
the sorted values.
thanks for help

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jul 10 19:02:51 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Jul 2002 19:02:51 +0200
Subject: [R] new user
In-Reply-To: <001f01c2280c$a7ba2cb0$430f6850@paolo>
References: <001f01c2280c$a7ba2cb0$430f6850@paolo>
Message-ID: <x2vg7necsk.fsf@biostat.ku.dk>

"Paolo Covelli" <pcovelli at tin.it> writes:

> Hi,
> 
> I'm a beginner of R.
> I find it absoluty fantastic, flexible and very extensible.
> For the moment only a curiosity.. Why the name R? (are they perhaps the
> initials of Robert Gentleman and Ross Ihaka?, or is the name correlated with
> S language?)
> Sorry for my poor question but I am very curious

The precise reasoning is lost in the mists of time, but my upcoming
book has this in the Preface, and people who might know better has had
the chance to protest:

"R owes its name to typical Internet humour. You may be
 familiar with the programming language C (whose name is a story in
 itself).  Inspired by this, Becker and Chambers chose in the early
 1980s to call their newly developed statistical programming language
 S.  This language was further developed into the commercial product
 S-PLUS, which by the end of the decade was in widespread use among
 statisticians of all kinds. Ross Ihaka and Robert Gentleman from the
 University of Auckland, New Zealand chose to write a reduced version
 of S for teaching purposes, and what was more natural than choosing
 the immediately preceding letter?  Ross' and Robert's initials may
 also have played a role."

I might add that at least Robert has strongly objected to switching
the name to "R-squared" (i.e., the product of R. and R.) on the basis
of its being "too cute".


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jul 10 19:06:32 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Jul 2002 19:06:32 +0200
Subject: [R] sorting matrices
In-Reply-To: <3D2C60D6.7060007@tuebingen.mpg.de>
References: <3D2C60D6.7060007@tuebingen.mpg.de>
Message-ID: <x2r8ibecmf.fsf@biostat.ku.dk>

alexander.schnee at tuebingen.mpg.de writes:

> how can i sort a matrix by sorting the first colloum in ascending
> order and have the values of the other colloums in the relative
> position to the sorted values.

(Don't we have this in a FAQ somewhere?) 

m[order(m[,1]),]

BTW : It is spelled "column".
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Wed Jul 10 19:07:56 2002
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 10 Jul 2002 13:07:56 -0400
Subject: [R] arrays in binary files
Message-ID: <v4qoiuoajmv6gjk57enr72i9evsg7u1fm8@4ax.com>

>In the writing of functions for a package have to deal with (very)
> large arrays and I was considering that
>having them in files rather than in memory would help me a bit
>on the memory side of the things. I was thinking of accessing the
>elements in the arrays by 'seek' and friends in C. 

My gut feeling is that this is a bad thing to do.  Unless you go to a
lot of trouble to optimize, it's generally better to let the operating
system create "virtual memory" and handle the seeking and such.

The main case where this is not true is the case of large static
arrays that change little from run to run, of which you only use a
small proportion of the entries.  Unless you can do memory mapped
files, you'll have to read the whole file into virtual memory on each
run, and that's slow.  If you're accessing every element anyway, then
it's not such a penalty to read the whole thing at the start; if they
are temporary for the run, or change frequently, then you'll be
writing the whole thing every time anyway.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rg117 at ohm.york.ac.uk  Wed Jul 10 19:29:16 2002
From: rg117 at ohm.york.ac.uk (Rishabh Gupta)
Date: Wed, 10 Jul 2002 18:29:16 +0100
Subject: [R] changing angle in scatterplot3d
References: <000901c2276c$ad96fd20$35892090@ohm.york.ac.uk> <3D2BD55A.455905AF@statistik.uni-dortmund.de>
Message-ID: <003d01c22837$5146c520$35892090@ohm.york.ac.uk>

Hi,
    Thanks for your reply.
    I had a look at both the cloud() function and the ggobi system. For my work what I need to do is save copies of a 3d plot from
many different files. So essential the procedure would be:
        1.    set and configure the data and create the plot
        2.    change the angle by X ammount
        3.    save to file
        4.    repeat 2. and 3.
All this has to run in a script so it should be automatable. Ggobi is interactive but as I understand it, it is not automatable. The
cloud() function would be ideal but unfortunately it is not yet fully implemented.
I think I can use the angle function within scatterplot3d. I was just wondering one thing. Is it possible to change the angle of a
3d plot after all the data has been set and all the other configuration information has been set?

Many Thanks For Your Help!

Rishabh
----- Original Message -----
From: "Uwe Ligges" <ligges at statistik.uni-dortmund.de>
To: "Rishabh Gupta" <rg117 at ohm.york.ac.uk>
Cc: <r-help at stat.math.ethz.ch>
Sent: Wednesday, July 10, 2002 7:34 AM
Subject: Re: [R] changing angle in scatterplot3d


|
|
| Rishabh Gupta wrote:
| >
| > Hi all,
| >     I was wondering whether it is possible to change the angle of all axis in a scatterplot3d graph. I know that there is one
| > parameter <angle> but I was wondering whether it is possible to control the angle of all different axis individually (eg by
using
| > <anglex><angley><anglez>).
| > In addition I was wondering whether there is a way to change the angle of a plot after all the data has been saved. E.G I want
to
| > see the graph from many different angles without having to feed all the points into it repeatedly.
| > Any help would be greatly appreciated.
|
| Nothing of your request is possible. If you want to rotate a plot
| (interactively), I'd suggest to look at
|
| 1) cloud() in package lattice, or
|
| 2) the package RGL (Windows only, available at Duncan Murdoch's
| homepage), or
|
| 3) the data visualiziation system "ggobi", available at
| http://www.ggobi.org/ (R interfaces are also available)
|
|
| Uwe Ligges
| -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
| r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
| Send "info", "help", or "[un]subscribe"
| (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
| _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
|

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Wed Jul 10 20:13:57 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Wed, 10 Jul 2002 13:13:57 -0500
Subject: [R] plotting only text as a table
In-Reply-To: <20020710185028.0e1bc003.sholl@gmx.net>
Message-ID: <018201c2283d$8f8af580$0201a8c0@MARC>

> -----Original Message-----
> From: Stephan Holl [mailto:sholl at gmx.net]
> Sent: Wednesday, July 10, 2002 11:50 AM
> To: MSchwartz at medanalytics.com
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] plotting only text as a table
> 
> Dear Marc,
> 
> <snip>
> Thank you for your detailed information about this topic.
> Now I see clearer and mostly understand how to plot text!
> 
> cheers
>   steph

Stephan, 

You are very welcome.

I just noted Thomas' reply and wish to point out using his initial
approach, you can modify the single plot() function call in my example
code to:

plot.new()
plot.window(xlim=c(0,4),ylim=c(0,6))

This uses "lower level" calls to the plot function methods and is
cleaner in the respect that it sets up the blank plot window with the
coordinate system as desired, without all of the additional arguments
that I required to use plot() and not actually draw anything in the
window.

If you were to look at the source code for plot() [actually
plot.default()], you would see that it calls the two functions above.
So while calling plot() only requires one line of code, it is actually
cleaner and more efficient to use the two lines that Thomas had in his
example instead.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjvbertin at hotmail.com  Wed Jul 10 20:33:25 2002
From: rjvbertin at hotmail.com (RenE J.V. Bertin)
Date: Wed, 10 Jul 2002 20:33:25 +0200
Subject: [R] new user
Message-ID: <20020710203325.07cbd5c7.rjvbertin@hotmail.com>

In that case, I'd vote ++R if ever it came to that :)

"Peter Dalgaard BSA" wrote:
I might add that at least Robert has strongly objected to switching
the name to "R-squared" (i.e., the product of R. and R.) on the basis
of its being "too cute".

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tklistaddr at keittlab.bio.sunysb.edu  Wed Jul 10 21:52:21 2002
From: tklistaddr at keittlab.bio.sunysb.edu (Timothy H. Keitt)
Date: 10 Jul 2002 15:52:21 -0400
Subject: [R] arrays in binary files
In-Reply-To: <v4qoiuoajmv6gjk57enr72i9evsg7u1fm8@4ax.com>
References: <v4qoiuoajmv6gjk57enr72i9evsg7u1fm8@4ax.com>
Message-ID: <1026330741.12391.8.camel@keittlab-6>

You need TPIE; see http://www.cs.duke.edu/TPIE/.  I've long thought it
would be cool to write an R wrapper for this package.

T.

On Wed, 2002-07-10 at 13:07, Duncan Murdoch wrote:
> >In the writing of functions for a package have to deal with (very)
> > large arrays and I was considering that
> >having them in files rather than in memory would help me a bit
> >on the memory side of the things. I was thinking of accessing the
> >elements in the arrays by 'seek' and friends in C. 
> 
> My gut feeling is that this is a bad thing to do.  Unless you go to a
> lot of trouble to optimize, it's generally better to let the operating
> system create "virtual memory" and handle the seeking and such.
> 
> The main case where this is not true is the case of large static
> arrays that change little from run to run, of which you only use a
> small proportion of the entries.  Unless you can do memory mapped
> files, you'll have to read the whole file into virtual memory on each
> run, and that's slow.  If you're accessing every element anyway, then
> it's not such a penalty to read the whole thing at the start; if they
> are temporary for the run, or change frequently, then you'll be
> writing the whole thing every time anyway.
> 
> Duncan Murdoch
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjvbertin at hotmail.com  Wed Jul 10 22:06:19 2002
From: rjvbertin at hotmail.com (RenE J.V. Bertin)
Date: Wed, 10 Jul 2002 22:06:19 +0200
Subject: [R] lattice::bwplot with unbalanced design
Message-ID: <20020710220619.364227c7.rjvbertin@hotmail.com>

Hi,

I have an experimental design with 3 factors (Type, size and Modality), where the stimulus for Type==B, size==small was identical to that for Type==A, size==small. Since I am in the end only interested in Type==A, I "relabeled" all Type==B,size==small responses as Type==A,size==small. This gives me an unbalanced design, with a certain number of missing combinations, and others that have 2 observations. aov() seems to handle this well when I subset "Type==A".

But when I found that
> bwplot( y~Modality|Type+size )

gives an error:

Warning: no finite arguments to min; returning Inf
Warning: no finite arguments to max; returning -Inf
Error in pretty(x, ...) : NA/NaN/Inf in foreign function call (arg 1)
> traceback()
4: pretty(x, ...)
3: lpretty(x$y.limits, n = x$y.scales$tick.number)
2: print.trellis(structure(list(as.table = FALSE, aspect.fill = TRUE, 
       key = NULL, panel = "panel.bwplot", page = NULL, skip = c(FALSE, 
       FALSE, FALSE, FALSE, FALSE, FALSE), strip = "strip.default", 
       x.between = 0, y.between = 0, par.strip.text = structure(list(
           cex = 1, col = "#000000", font = 1, lines = 1), .Names = c("cex", 
(etc)

However,

> histogram( ~y|Type+size+Modality )

works fine, and just gives an empty panel.

While I understand that this kind of missing values is more "natural" in the case of a histogram than when trying to make a boxplot, I do feel that bwplot() *might* also just draw an empty panel, instead of raising an error (which is annoying since it aborts the highlevel routine too!)

Is this something to bring to Deepayan's attention?

Best,
RenE Bertin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zedshaw at zedshaw.com  Wed Jul 10 22:30:06 2002
From: zedshaw at zedshaw.com (Zed A. Shaw)
Date: Wed, 10 Jul 2002 13:30:06 -0700
Subject: [R] R GUI For Which User?
In-Reply-To: <MABBLJDICACNFOLGIHJOIELBCMAA.philippe.grosjean@ifremer.fr>
Message-ID: <B951E75E.1B79%zedshaw@zedshaw.com>

Hi All,

I've been staying out of this discussion as I'm too busy actually
implementing the GUI to argue over toolkits and languages or whether making
things easy for people ruins their education.  As a *student* I can tell you
that you are dead wrong if you think making something difficult makes it
easier to learn.  The statement itself is just absurd.  As a researcher in
Human Computer Interfaces and Educational Technology, I can tell you that
you are wrong if you think making interfaces harder makes people smarter.

What I find strange is how everyone on this list is most likely using R to
do empirical research, and not single person has offered any empirical
evidence to support their claims as to what makes a usable interface for
students.  Practice what you preach!  If you claim that "students do not
learn with a GUI", then back it up with some research.

I guarantee that if you actually did some surveys and experimentation, you'd
find that you really don't understand student's needs.  Based on my
experiences as a student, I can tell you point blank that the worst
professors are the ones who know nothing about their students.  Likewise,
the worst computer programs are the ones designed by programmers who know
nothing about their users.  I intend to build a GUI that focuses on what
students need, not on what professors think students need.

Now, with that said, I'm going back to work.  Hopefully, with all these
great *researchers* in here, I'll start seeing some *evidence* supporting
what works in an R user interface.

----
Zed A. Shaw
University of British Columbia

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Thu Jul 11 03:19:56 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Wed, 10 Jul 2002 22:19:56 -0300
Subject: [R] R hangs up unexpectedly
In-Reply-To: <3D2744DF.DCC3DBDB@mailandnews.com>
References: <4.2.2.20020706130059.00a89f00@pop3.arnet.com.ar>
Message-ID: <4.2.2.20020710221638.00ac5570@pop3.arnet.com.ar>

The memory available is fine. It is about 45 to 50%. Also the available 
memory in R is fine, by the output of memory.size() (even though I cannot 
run it after it hangs up... :-) ). My RAM is 256MB.
I have upgraded to R1.5.1 as suggested by another user, but the problem 
still persists.

Thanks again for any additional suggestion on how to solve the problem.
Daniel

At 12:28 PM 6/7/2002 -0700, krishna kumar wrote:
>It would help to see how much memory is in use for R and how much memory
>you have on the box ?
>
>Daniel Mastropietro wrote:
>
> > Hello,
> >
> > I had the following problem occurring too often lately: R hangs up
> > unexpectedly.
> >
> > It usually happens when I am switching windows within R or when I am going
> > back to the R window from another program.
> > At first I thought that the more windows I had open in R (i.e. the number
> > of graphs) the more likely that R hanged up, but then even with only two
> > graphs open, R still hangs up.
> >
> > Any suggestions on how to solve this problem?
> >
> > I am running Windows Millenium.
> >
> > The output of the version command follows:
> >
> > platform i386-pc-mingw32
> > arch     i386
> > os       mingw32
> > system   i386, mingw32
> > status
> > major    1
> > minor    5.0
> > year     2002
> > month    04
> > day      29
> > language R
> >
> > Thanks.
> > Daniel Mastropietro
> >

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu Jul 11 04:19:30 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Wed, 10 Jul 2002 22:19:30 -0400
Subject: [R] R GUI For Which User?
In-Reply-To: <B951E75E.1B79%zedshaw@zedshaw.com>
References: <MABBLJDICACNFOLGIHJOIELBCMAA.philippe.grosjean@ifremer.fr>
	<B951E75E.1B79%zedshaw@zedshaw.com>
Message-ID: <20020710221930.05bd55ff.fharrell@virginia.edu>

On Wed, 10 Jul 2002 13:30:06 -0700
"Zed A. Shaw" <zedshaw at zedshaw.com> wrote:

> Hi All,
> 
> I've been staying out of this discussion as I'm too busy actually
> implementing the GUI to argue over toolkits and languages or whether making
> things easy for people ruins their education.  As a *student* I can tell you
> that you are dead wrong if you think making something difficult makes it
> easier to learn.  The statement itself is just absurd.  As a researcher in
> Human Computer Interfaces and Educational Technology, I can tell you that
> you are wrong if you think making interfaces harder makes people smarter.
> 
> What I find strange is how everyone on this list is most likely using R to
> do empirical research, and not single person has offered any empirical
> evidence to support their claims as to what makes a usable interface for
> students.  Practice what you preach!  If you claim that "students do not
> learn with a GUI", then back it up with some research.
> 
> I guarantee that if you actually did some surveys and experimentation, you'd
> find that you really don't understand student's needs.  Based on my
> experiences as a student, I can tell you point blank that the worst
> professors are the ones who know nothing about their students.  Likewise,
> the worst computer programs are the ones designed by programmers who know
> nothing about their users.  I intend to build a GUI that focuses on what
> students need, not on what professors think students need.
> 
> Now, with that said, I'm going back to work.  Hopefully, with all these
> great *researchers* in here, I'll start seeing some *evidence* supporting
> what works in an R user interface.
> 
> ----
> Zed A. Shaw
> University of British Columbia
> 

With all due respect I feel that your opinions are somewhat naive.  I have been doing and teaching data analysis for many years and spend a lot of time watching students.  Students do not learn good habits by using GUIs and they certainly do not learn how to do reproducible research that way.  You are wrong in assuming that professors try to make something difficult and even more wrong in assuming that students should avoid difficulties.  I shudder to think what a GUI designed by a student for students will look like based on what you've said.

Frank Harrell
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zedshaw at zedshaw.com  Thu Jul 11 08:40:32 2002
From: zedshaw at zedshaw.com (Zed A. Shaw)
Date: Wed, 10 Jul 2002 23:40:32 -0700
Subject: [R] R GUI For Which User?
In-Reply-To: <20020710221930.05bd55ff.fharrell@virginia.edu>
Message-ID: <B9527670.1C4C%zedshaw@zedshaw.com>

Frank,

Maybe you should read a bit more carefully.  I'll be designing it with a
professor and various other people using a user centered design model.  I'm
also a professional software developer, the "student" part of my life is
only a slight diversion at the time.

Also, if you've made this observation, then why don't you do some research
and produce some empirical evidence supporting your claim that being forced
to learn a difficult programming language improves a student's understanding
of statistics?  Until I see evidence to the contrary, I'm going to go with
the mountains of research in HCI and Education that says improved interfaces
DO help students learn.

Zed

On 7/10/02 7:19 PM, "Frank E Harrell Jr" <fharrell at virginia.edu> wrote:
> 
> With all due respect I feel that your opinions are somewhat naive.  I have
> been doing and teaching data analysis for many years and spend a lot of time
> watching students.  Students do not learn good habits by using GUIs and they
> certainly do not learn how to do reproducible research that way.  You are
> wrong in assuming that professors try to make something difficult and even
> more wrong in assuming that students should avoid difficulties.  I shudder to
> think what a GUI designed by a student for students will look like based on
> what you've said.
> 
> Frank Harrell

-- 
Zed A. Shaw


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wegelin at stat.washington.edu  Thu Jul 11 09:14:40 2002
From: wegelin at stat.washington.edu (Jacob A. Wegelin)
Date: Thu, 11 Jul 2002 00:14:40 -0700 (PDT)
Subject: [R] lattice and crosstabs with empty cells
Message-ID: <Pine.OSF.4.44.0207102205060.97273-100000@lisbon1.stat.washington.edu>


Suppose you have a dataframe with two factors, but not all the factor
levels appear together.  For instance:

 stuff<- structure(list(fac1 = structure(c(2, 1, 2, 2), .Label = c("down",
 "up"), class = "factor"), fac2 = structure(c(1, 2, 1, 2), .Label = c("left",
 "right"), class = "factor"), x = c(1, 1, 2, 2), y = c(1, 2, 2,
 1)), .Names = c("fac1", "fac2", "x", "y"), row.names = c("1",
 "2", "3", "4"), class = "data.frame")

> stuff
  fac1  fac2 x y
1   up  left 1 1
2 down right 1 2
3   up  left 2 2
4   up right 2 1

You'd like to make a trellis (lattice) plot conditioned on both
factors.  (Thus you expect that one of the panels will have no points
in it.)  This attempt fails, however:

> library("lattice")

> xyplot( y ~ x | fac1 * fac2, data=stuff)
Error in pretty(x, ...) : NA/NaN/Inf in foreign function call (arg 1)
In addition: Warning messages:
1: no finite arguments to min; returning Inf
2: no finite arguments to max; returning -Inf
3: no finite arguments to min; returning Inf
4: no finite arguments to max; returning -Inf

This does not fail in S-PLUS Version 3.4 Release 1 for DEC alpha,
Digital UNIX (OSF/1) V3.2 : 1996.

A similar problem:

Is there an equivalent to S-PLUS crosstabs(), or SAS PROC FREQ, in
R, that will not fail if there are empty cells?  The S-PLUS
crosstabs(), copied into R, fails when one attempts to apply it to
data with empty cells:

> crosstabs( ~ fac1 + fac2, data=stuff)
Error in crosstabs(~fac1 + fac2, data = stuff) :
        Object "NULL" not found

The same command does not fail in S-PLUS.

Thanks for any info.  The R behavior occurred both in Windows
and in unix. In both cases the R version was dated 2002/04/29.

Jacob A. Wegelin, Ph.D.
University of Washington
Department of Statistics
B-313 Padelford
Box 354322
Seattle WA 98195
http://www.stat.washington.edu/wegelin/
wegelin at stat.washington.edu




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jul 11 09:20:47 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 11 Jul 2002 09:20:47 +0200
Subject: [R] changing angle in scatterplot3d
References: <000901c2276c$ad96fd20$35892090@ohm.york.ac.uk> <3D2BD55A.455905AF@statistik.uni-dortmund.de> <003d01c22837$5146c520$35892090@ohm.york.ac.uk>
Message-ID: <3D2D31CF.C642D12E@statistik.uni-dortmund.de>

Rishabh Gupta wrote:
> 
> Hi,
>     Thanks for your reply.
>     I had a look at both the cloud() function and the ggobi system. For my work what I need to do is save copies of a 3d plot from
> many different files. So essential the procedure would be:
>         1.    set and configure the data and create the plot
>         2.    change the angle by X ammount
>         3.    save to file
>         4.    repeat 2. and 3.
> All this has to run in a script so it should be automatable. 

Right.


> Ggobi is interactive but as I understand it, it is not automatable. The
> cloud() function would be ideal but unfortunately it is not yet fully implemented.
> I think I can use the angle function within scatterplot3d. I was just wondering one thing. Is it possible to change the angle of a
> 3d plot after all the data has been set and all the other configuration information has been set?

No, that's not possible.

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Thu Jul 11 10:18:50 2002
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Thu, 11 Jul 2002 10:18:50 +0200
Subject: [R] How to get relevant dimnames from apply() ?
Message-ID: <OF04876608.BC781194-ONC1256BF3.002B9F37@eurotel.cz>

Hello,

in order to vectorize task (of plotting barplots), I use, as probably all
R-folks, function apply()
instead of for() loop.

<R>
testarr<-matrix(1:30, nrow=5)
rownames(testarr)<-letters[1:5]
colnames(testarr)<-LETTERS[1:6]
apply(testarr,1,function(x) {x11(); barplot(x)}) #the funcion used is
actually more compex, but it doesn't matter
</R>

Now, how I can propagate the rownames of testarr into the main label of
plot via

main="what_should_I_paste_here?"

Asking for
<R>
str(apply(testarr,1,function(x) {x11(); barplot(x)}))
</R>
gives

<Routput>
 num [1:6, 1:5] 0.7 1.9 3.1 4.3 5.5 ...
 - attr(*, "dimnames")=List of 2
  ..$ : NULL
  ..$ : chr [1:5] "a" "b" "c" "d" ...
</Routput>

but how it is possible to put dimnames of _this_ (i.e., the rownames of
testarr) into "main" label of a plot?
With for() loop, the task is trivial, but with apply?
The problem I need to solve is OK (in terms of performance) with for()
loops, but apply is more elegant
and , of course, much more in R-style...

Thanks,
Jan

-------------------------------------------------
designed for _monospaced_ font
-------------------------------------------------
/- Jan Svatos,  PhD         Sokolovska 855/225 -/
/- Data Analyst             Prague 9           -/
/- Eurotel Praha            190 00             -/
/- jan_svatos at eurotel.cz    Czechia            -/
-------------------------------------------------





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Thu Jul 11 10:37:51 2002
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Thu, 11 Jul 2002 10:37:51 +0200
Subject: [R] R GUI For Which User?
In-Reply-To: <20020710221930.05bd55ff.fharrell@virginia.edu>
Message-ID: <MABBLJDICACNFOLGIHJOGEAFCNAA.phgrosje@ulb.ac.be>

Three points:
1) Let's try to be constructive. Stating "I am right and the other are wrong
(and incompetent)" is just a sterile accusation.

2) I am setting up a web page to introduce the various R GUI projects,
aiming to show the possibilities that are (and will be) offered to R users
looking for an alternative interface. So, please, if you are working on a R
GUI, contact me. I try also to clarify things and summarize ideas discussed
here, which leads to the third point:

3) I believe that your passionate discussion around CLI versus GUI is biased
by your vision of the GUI "a la Splus". However, there are other possible
GUIs. The basic aspects for a GUI are certainly the use of a graphical
device for output (the VGA, or more, screen) and for input (the mouse).
Typically, interaction with the program is event-driven: the user, not the
program, decides what is the following part of the code that will be
executed. In GUI,this is achieved that by selections in menus, dialog
boxes,... By the way, the question of who decide what is a key aspect. The
more freedom for the user, the more flexible is the interface. With CLI, all
the decision is up to the user. With GUI, the user's freedom could be more
or less limited, depending on the way the GUI is designed. A restrictive GUI
is also easier to learn, because it "tells" to the user what he has to do
next. The bad side-effect for data analysis is that a "lazzy" user lets
drive himself by the program without knowing what he is doing and still get
results, although these are most probably irrelevant. The most rigid GUI is
the 'assistant' (a series of dialog boxes to be filled successively: step 1,
step 2, ..., congratulation you did it [even if you are really, really
stupid]!). There are several other GUI concepts than the 'menu/dialog box'
or the 'assistant'. One is the 'notebook', like in Mathematica or Mathcad. A
notebook is a kind of rich-text document with embedded graphs and code. The
code seemlessly updates items in the text and in the embedded graphs when
the user request it. The 'spreadsheet' is another concept and it is
notorious for its inadequacy in serious data analysis. The 'object explorer'
is yet another concept. It can be easily married with a CLI because it is
complementary: it just helps managing variables in your workspace. An
excellent example of an object-explorer oriented GUI is Matlab (the latest
version 6.x). Several users noticed that the only part of the Splus GUI they
use is the object explorer. So, wouldn't an R object explorer be a good
addition to the current interface?

If the CLI is not suitable for all users and the Splus menus/dialog boxes
GUI is not the best concept, then, there is here an interesting field of
investigation for researchers, with experimentation of course. And by the
way, this research passes by the implementation of various GUIs. So, let's
do it for R, an excellent and free data analysis software. The various R GUI
projects, present and future, are certainly the concretisation of this
research.

Best,

Philippe Grosjean


-----Message d'origine-----
De : owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]De la part de Frank E Harrell Jr
Envoye : jeudi 11 juillet 2002 04:20
A : Zed A. Shaw
Cc : r-help at stat.math.ethz.ch
Objet : Re: [R] R GUI For Which User?


On Wed, 10 Jul 2002 13:30:06 -0700
"Zed A. Shaw" <zedshaw at zedshaw.com> wrote:

> Hi All,
>
> I've been staying out of this discussion as I'm too busy actually
> implementing the GUI to argue over toolkits and languages or whether
making
> things easy for people ruins their education.  As a *student* I can tell
you
> that you are dead wrong if you think making something difficult makes it
> easier to learn.  The statement itself is just absurd.  As a researcher in
> Human Computer Interfaces and Educational Technology, I can tell you that
> you are wrong if you think making interfaces harder makes people smarter.
>
> What I find strange is how everyone on this list is most likely using R to
> do empirical research, and not single person has offered any empirical
> evidence to support their claims as to what makes a usable interface for
> students.  Practice what you preach!  If you claim that "students do not
> learn with a GUI", then back it up with some research.
>
> I guarantee that if you actually did some surveys and experimentation,
you'd
> find that you really don't understand student's needs.  Based on my
> experiences as a student, I can tell you point blank that the worst
> professors are the ones who know nothing about their students.  Likewise,
> the worst computer programs are the ones designed by programmers who know
> nothing about their users.  I intend to build a GUI that focuses on what
> students need, not on what professors think students need.
>
> Now, with that said, I'm going back to work.  Hopefully, with all these
> great *researchers* in here, I'll start seeing some *evidence* supporting
> what works in an R user interface.
>
> ----
> Zed A. Shaw
> University of British Columbia
>

With all due respect I feel that your opinions are somewhat naive.  I have
been doing and teaching data analysis for many years and spend a lot of time
watching students.  Students do not learn good habits by using GUIs and they
certainly do not learn how to do reproducible research that way.  You are
wrong in assuming that professors try to make something difficult and even
more wrong in assuming that students should avoid difficulties.  I shudder
to think what a GUI designed by a student for students will look like based
on what you've said.

Frank Harrell
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


--
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tura at centroin.com.br  Thu Jul 11 12:03:49 2002
From: tura at centroin.com.br (Bernardo Rangel Tura)
Date: Thu, 11 Jul 2002 07:03:49 -0300
Subject: [R] Mann-Whitney
In-Reply-To: <200207011026.MAA17494@cassis-gw.univ-brest.fr>
Message-ID: <5.1.0.14.2.20020711065920.009ec060@centroin.com.br>



Bernardo Rangel Tura, MD
National Institute of Cardiology Laranjeiras
Rio de Janeiro Brazil


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at paleo.ija.csic.es  Thu Jul 11 14:07:59 2002
From: alobo at paleo.ija.csic.es (Agustin Lobo)
Date: Thu, 11 Jul 2002 14:07:59 +0200 (MET DST)
Subject: [R] R GUI For Which User?
In-Reply-To: <MABBLJDICACNFOLGIHJOGEAFCNAA.phgrosje@ulb.ac.be>
Message-ID: <Pine.OSF.3.96.1020711140527.2249A-100000@paleo>

Thanks Philippe for your excellent and positive
summary and even more for
seting up a gui-guide site. This discusion was entering into
a self-destructive phase. 

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Thu Jul 11 14:10:59 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Thu, 11 Jul 2002 14:10:59 +0200
Subject: [R] missing links in GRASS package for R
Message-ID: <3D2D75D3.2070108@science.uva.nl>

Dear list,

I get the following error message when installing the package GRASS.

missing link(s): interp.new
missing link(s): vgram Krig predict.Krig predict.se.Krig

See also below for the full installation message.

What does this mean exactly?

Regards, Ulrich

------------------------------------------------------------------
 > R CMD INSTALL 
--configure-args=--grass5=/usr/local/grass5/grass5bin/grass5 -l 
~/.lib/R/library/ GRASS_0.1-10.tar.gz
Installing *source* package `GRASS' ...
GRASS5 /usr/local/grass5/grass5bin/grass5 from configure arguments
GRASS HOME directory: /usr/local/arch/grass5
GRASS source files found - installing compiled interface
  libs
gcc -I/usr/lib/R/include -I/usr/local/arch/grass5/include 
-I/usr/local/include -mieee-fp -D__NO_MATH_INLINES  -fPIC  -O2 -march=i386 
-mcpu=i686 -c gmeta.c -o gmeta.o
gcc -I/usr/lib/R/include -I/usr/local/arch/grass5/include 
-I/usr/local/include -mieee-fp -D__NO_MATH_INLINES  -fPIC  -O2 -march=i386 
-mcpu=i686 -c gmeta.access.c -o gmeta.access.o
gcc -I/usr/lib/R/include -I/usr/local/arch/grass5/include 
-I/usr/local/include -mieee-fp -D__NO_MATH_INLINES  -fPIC  -O2 -march=i386 
-mcpu=i686 -c R_G_init.c -o R_G_init.o
gcc -I/usr/lib/R/include -I/usr/local/arch/grass5/include 
-I/usr/local/include -mieee-fp -D__NO_MATH_INLINES  -fPIC  -O2 -march=i386 
-mcpu=i686 -c rastget.c -o rastget.o
gcc -I/usr/lib/R/include -I/usr/local/arch/grass5/include 
-I/usr/local/include -mieee-fp -D__NO_MATH_INLINES  -fPIC  -O2 -march=i386 
-mcpu=i686 -c rastput.c -o rastput.o
gcc -I/usr/lib/R/include -I/usr/local/arch/grass5/include 
-I/usr/local/include -mieee-fp -D__NO_MATH_INLINES  -fPIC  -O2 -march=i386 
-mcpu=i686 -c rasteri.c -o rasteri.o
gcc -shared -L/usr/local/arch/grass5/lib -o grassR.so gmeta.o gmeta.access.o 
R_G_init.o rastget.o rastput.o rasteri.o -lgis -L/usr/local/lib
  R
  data
  help
  >>> Building/Updating help pages for package `GRASS'
      Formats: text html latex example
   contour.G                         text    html    latex   example
   gmeta                             text    html    latex   example
   interp.new.G                      text    html    latex   example
      *missing link(s):  interp.new*
   kde2d.G                           text    html    latex   example
   krige.G                           text    html    latex   example
      *missing link(s):  vgram Krig predict.Krig predict.se.Krig*
   list.GRASS                        text    html    latex   example
   pcbs                              text    html    latex   example
   plot.grassmeta                    text    html    latex   example
   rast.get                          text    html    latex   example
   rast.put                          text    html    latex   example
   sites.get                         text    html    latex   example
   sites.put                         text    html    latex   example
   summary.grassmeta                 text    html    latex   example
   trmat.G                           text    html    latex   example
   utm.maas                          text    html    latex   example
  DONE (GRASS)

------------------------------------------------------------------


-- 
__________________________________________________

Ulrich Leopold MSc.

Department of Physical Geography
Institute for Biodiversity and Ecosystem Dynamics
Faculty of Science
University of Amsterdam
Nieuwe Achtergracht 166
NL-1018WV Amsterdam

Phone: +31-(0)20-525-7456 (7451 Secretary)
Fax:   +31-(0)20-525-7431
Email: uleopold at science.uva.nl
http://www.frw.uva.nl/soil/Welcome.html

Check us also out at:
Netherlands Centre for Geo-ecological Research
http://www.frw.uva.nl/icg



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rg117 at ohm.york.ac.uk  Thu Jul 11 14:45:22 2002
From: rg117 at ohm.york.ac.uk (Rishabh Gupta)
Date: Thu, 11 Jul 2002 13:45:22 +0100
Subject: [R] changing angle in scatterplot3d
References: <000901c2276c$ad96fd20$35892090@ohm.york.ac.uk> <3D2BD55A.455905AF@statistik.uni-dortmund.de> <003d01c22837$5146c520$35892090@ohm.york.ac.uk> <3D2D31CF.C642D12E@statistik.uni-dortmund.de>
Message-ID: <001c01c228d8$d24ffe60$35892090@ohm.york.ac.uk>

No Problem. The system is scripted anyway so I guess doing it the other way is not too much of a problem. Many thanks for your help.

Rishabh
----- Original Message -----
From: "Uwe Ligges" <ligges at statistik.uni-dortmund.de>
To: "Rishabh Gupta" <rg117 at ohm.york.ac.uk>
Cc: <r-help at stat.math.ethz.ch>
Sent: Thursday, July 11, 2002 8:20 AM
Subject: Re: [R] changing angle in scatterplot3d


| Rishabh Gupta wrote:
| >
| > Hi,
| >     Thanks for your reply.
| >     I had a look at both the cloud() function and the ggobi system. For my work what I need to do is save copies of a 3d plot
from
| > many different files. So essential the procedure would be:
| >         1.    set and configure the data and create the plot
| >         2.    change the angle by X ammount
| >         3.    save to file
| >         4.    repeat 2. and 3.
| > All this has to run in a script so it should be automatable.
|
| Right.
|
|
| > Ggobi is interactive but as I understand it, it is not automatable. The
| > cloud() function would be ideal but unfortunately it is not yet fully implemented.
| > I think I can use the angle function within scatterplot3d. I was just wondering one thing. Is it possible to change the angle of
a
| > 3d plot after all the data has been set and all the other configuration information has been set?
|
| No, that's not possible.
|
| Uwe
| -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
| r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
| Send "info", "help", or "[un]subscribe"
| (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
| _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
|

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Thu Jul 11 15:20:51 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Thu, 11 Jul 2002 09:20:51 -0400
Subject: [R] 2 simple doubts
In-Reply-To: <36545723@toto.iv>
Message-ID: <15661.34355.14807.45779@gargle.gargle.HOWL>

Frederico Zanqueta Poleto <fred at poleto.com> wrote:
> 1) I couldn't discover what is the command for a concatenation of 2
> variable strings.

Assuming you mean string concatenation, not vector concatenation...  I find
this little utility function extremely convenient:

R> "%&%" <- function(a, b) paste(a, b, sep="")

R> "x" %&% "yz"
   [1] "xyz"

R> c("a","A") %&% c("b","B") %&% c("c","C")
   [1] "abc" "ABC"

-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From splinux at globetrotter.net  Thu Jul 11 15:27:09 2002
From: splinux at globetrotter.net (=?ISO-8859-1?B?Uw==?=)
Date: Thu, 11 Jul 2002 09:27:09 -0400
Subject: [R] Can't start R in Debian Woody
Message-ID: <20020711092709.5d50c9ad.splinux@globetrotter.net>

Hi,

I know this is not a problem comming from R, but maybe you can still help me. 
I installed R 1.4.1 on Debian Woody, but I can't start it.

I get this message:

~$ R
/usr/lib/R/bin/R.bin: error while loading shared libraries: libblas.so.2: 
cannot open shared object file: No such file or directory

Any thoughts?

S?bastien Plante
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Thu Jul 11 15:54:31 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Thu, 11 Jul 2002 08:54:31 -0500
Subject: [R] Can't start R in Debian Woody
Message-ID: <E17SeOt-0001ve-00@sonny.eddelbuettel.com>


> I know this is not a problem comming from R, but maybe you can still help me. 
> I installed R 1.4.1 on Debian Woody, but I can't start it.
> 
> I get this message:
> 
> ~$ R
> /usr/lib/R/bin/R.bin: error while loading shared libraries: libblas.so.2: 
> cannot open shared object file: No such file or directory

This is a known issue that has long been fixed, albeit not in the frozen woody
release. 

The blas libraries are "virtual". For a short period, the virtual dependency lacked 
a safe default value.  This has been fixed, see for example the current 1.5.1 
package
          http://packages.debian.org/unstable/math/r-base-core.html
where the Depends is now on 
          atlas2-base or blas or atlas2-3dnow or atlas2-sse2 or atlas2-sse 

In you case the atlas2-base [ Atlas, setup for any cpu ] or blas [ non-Atlas blas ]
defaults weren't there when 1.4.1 built against it, and you ended up with 
atlas2-3dnow [ Atlas for Athlon ] purely because it sorts first.  Unfortunately, this 
fails on non-Athlon chips.

To rectify, you can install either one of  a) atlas2-base for generic Atlas, b) blas for 
non-optimised blas or c) the matching optimised atlas, i.e. one of atlas2-sse2 or 
atlas2-sse.

Sorry for the inconvenience.  I'll beg the release manager to correct that for the woody
release.

Lastly, you can also pick the R 1.5.1 packages from the unstable distro. As I built 
them on a woody system, these packages do not depend on anything not in woody.

Cheers, Dirk

-- 
According to the latest figures, 43% of all signatures are totally worthless.   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Michael.Dondrup at Genetik.Uni-Bielefeld.DE  Thu Jul 11 16:31:09 2002
From: Michael.Dondrup at Genetik.Uni-Bielefeld.DE (Michael Dondrup)
Date: Thu, 11 Jul 2002 16:31:09 +0200
Subject: [R] How to get relevant dimnames from apply() ?
References: <OF04876608.BC781194-ONC1256BF3.002B9F37@eurotel.cz>
Message-ID: <3D2D96AD.8DF1E43C@Genetik.Uni-Bielefeld.DE>

Jan_Svatos at eurotel.cz wrote:
Hi,
why not binding the names to the matrix? 

> 
> Hello,
> 
> in order to vectorize task (of plotting barplots), I use, as probably all
> R-folks, function apply()
> instead of for() loop.
> 
> <R>
> testarr<-matrix(1:30, nrow=5)
> rownames(testarr)<-letters[1:5]
> colnames(testarr)<-LETTERS[1:6]
> apply(testarr,1,function(x) {x11(); barplot(x)}) #the funcion used is
> actually more compex, but it doesn't matter
> </R>

This would ad something like the following to your code:

hurz <- cbind(testarr, names=rownames(testarr))
hurz
apply(hurz, 1, function(x) { 
		x11(); 
		barplot(as.numeric(x[names(x)!='nams']), 
		  names.arg = names(x[names(x)!='nams']), 
		  main=x['nams'])
		} ) 

You might decide for yourself if this is more elegant than a for loop.

Michael
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mike.rennie at ene.gov.on.ca  Thu Jul 11 17:07:34 2002
From: mike.rennie at ene.gov.on.ca (Michael Rennie)
Date: Thu, 11 Jul 2002 11:07:34 -0400
Subject: [R] Nested anovas in R not doing what they ought to...
Message-ID: <sd2d6710.090@ene.gov.on.ca>


Hi, there

I first sent this e-mail a couple months ago, to no avail.Since I am not a member on your mailing list, so could you please cc: a response to me? I'll be sure to check the list today for replies.

I am currently attempting to perform an ANOVA with both nested and normal factors.  My problem is that R is treating my nested factors the exact same way as it would interaction terms.  

My output for the nested model is as follows:

> nested <- anova(lm(ltotinv ~ habitat + fish/lake + habitat:fish + habitat:(la\
ke %in% fish)))
> nested
Analysis of Variance Table
 
Response: ltotinv
                  Df  Sum Sq Mean Sq F value    Pr(>F)
habitat            1 17.0829 17.0829 50.0917 3.083e-09 ***
fish               1  0.9131  0.9131  2.6774  0.107600
habitat:fish       1 13.0100 13.0100 38.1488 8.877e-08 ***
fish:lake          1  1.0256  1.0256  3.0072  0.088599 .
habitat:fish:lake  1  2.7641  2.7641  8.1051  0.006229 **
Residuals         54 18.4158  0.3410
---lysis of Variance Table
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1

With just interactions, not nested:

> test <- anova(lm(ltotinv ~ habitat + fish + lake:fish + habitat:fish + fish:h\
abitat:lake))
> test
Analysis of Variance Table
 
Response: ltotinv
                  Df  Sum Sq Mean Sq F value    Pr(>F)
habitat            1 17.0829 17.0829 50.0917 3.083e-09 ***
fish               1  0.9131  0.9131  2.6774  0.107600
habitat:fish       1 13.0100 13.0100 38.1488 8.877e-08 ***
fish:lake          1  1.0256  1.0256  3.0072  0.088599 .
habitat:fish:lake  1  2.7641  2.7641  8.1051  0.006229 **
Residuals         54 18.4158  0.3410
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1
>


We get the same answer.  The reason I figured this out is because I did this analysis first in SAS, and then tried to reproduce it in R.  It must be something to do with my syntax, I imagine, but I can't see what it is.

Any help anyone has would be greatly appreciated.


Sincerely, 

Mike Rennie
M.Sc. Candidate, University of Toronto at Mississauga 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MDawson at cihi.ca  Thu Jul 11 17:57:58 2002
From: MDawson at cihi.ca (Mitch Dawson)
Date: Thu, 11 Jul 2002 11:57:58 -0400
Subject: [R] Hmisc and errors with pdf representations of summary plots
Message-ID: <C8FA0909A03AD511AAD1000629554AD6A6636E@cihi.ca>

I am using V4.1.1, x86, Win32, i386-pc-mingw32

When I use:

library(design)
library(Hmisc)
tmp_summary( DV.days.waiting.for.admit ~ ADMISSION.CLASS.DESC +
IMPAIR.ACTIVITY.LIMITATION, data=WD, nmin=0)
plot(tmp, cex.labels=.8, groupfont=2)

The plot looks great on the screen.

However, when I save the plot at any file format lines and formatting are
misaligned.  The code and data below show this problem with pdf().

Strangley, sometimes for similar plots of different variables the pdf plot
looks fine?

Any help would be greatly appreciated.

Thanks

Mitch Dawson

#################

library(design)
library(Hmisc)

pdf("Days Waiting Graphs.pdf", width=11, height=8)

# The following dump()  was created in R using 
# tmp_summary( DV.days.waiting.for.admit ~ ADMISSION.CLASS.DESC +
IMPAIR.ACTIVITY.LIMITATION, data=WD, nmin=0)

"tmp" <-
structure(c(50, 4086, 214, 26, 16, 1584, 2807, 4392, 46.18,
7.79882525697504, 
18.303738317757, 4.69230769230769, 8.1875, 9.28977272727273, 
8.41824011400071, 8.7306466302368), .Dim = c(8, 2), .Dimnames = list(
    c("Continuing Rehabilitation", "Initial Rehabilitation", 
    "Re-admission", "Short Stay", "Unplanned discharge without assessment", 
    "No", "Yes", ""), c("N", "DV.days.waiting.for.admit")), formula =
DV.days.waiting.for.admit ~ 
    ADMISSION.CLASS.DESC + IMPAIR.ACTIVITY.LIMITATION, call =
summary.formula(formula = DV.days.waiting.for.admit ~ 
    ADMISSION.CLASS.DESC + IMPAIR.ACTIVITY.LIMITATION, data = WD, 
    nmin = 0), n = 4392, nmiss = 1, yname = "DV.days.waiting.for.admit",
ylabel = "DV.days.waiting.for.admit", ycolname =
"DV.days.waiting.for.admit", funlab = "mean", vname =
c("ADMISSION.CLASS.DESC", 
"", "", "", "", "IMPAIR.ACTIVITY.LIMITATION", "", "Overall"), vlabel =
c("ADMISSION.CLASS.DESC", 
"", "", "", "", "IMPAIR.ACTIVITY.LIMITATION", "", "Overall"), nlevels = c(5,

2, 1), labels = c("ADMISSION.CLASS.DESC", "IMPAIR.ACTIVITY.LIMITATION", 
"Overall"), strat.name = "", strat.label = "", strat.levels = "", class =
"summary.formula.response")

plot(tmp, cex.labels=.8, groupfont=2)

dev.off()



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bxf4 at psu.edu  Thu Jul 11 18:27:14 2002
From: bxf4 at psu.edu (Brian P. Flaherty)
Date: 11 Jul 2002 12:27:14 -0400
Subject: [R] Can't start R in Debian Woody
In-Reply-To: <20020711092709.5d50c9ad.splinux@globetrotter.net>
References: <20020711092709.5d50c9ad.splinux@globetrotter.net>
Message-ID: <873cuq6xi5.fsf@c119756-b.aidan>

Hello,

Is libblas.so.2 on your system?  On my Woody system, I have:

bxf4 at c119756-b:~$ find /usr/lib -iname libblas*
/usr/lib/libblas.so.2
/usr/lib/libblas.so.2.0
/usr/lib/libblas.a
/usr/lib/libblas.so
/usr/lib/libblas2.so
/usr/lib/atlas/libblas.so.2.3
/usr/lib/atlas/libblas.so.2

I would think it would have been brought in as a dependency of R, but
perhaps you installed R in some non-standard way.  I have blas version
1.1-9 on my system.

bxf4 at c119756-b:~$ apt-cache policy blas 
blas:
  Installed: 1.1-9
  Candidate: 1.1-9
  Version Table:
 *** 1.1-9 0
        990 http://http.us.debian.org testing/main Packages
        990 ftp://ftp.debian.org testing/main Packages
        500 http://http.us.debian.org unstable/main Packages
        100 /var/lib/dpkg/status

Perhaps you can install blas via apt-get or dselect?

(for example, 'apt-get install blas')

HTH.

Brian Flaherty


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjvbertin at hotmail.com  Thu Jul 11 18:28:53 2002
From: rjvbertin at hotmail.com (RenE J.V. Bertin)
Date: Thu, 11 Jul 2002 18:28:53 +0200
Subject: [R] another aov question: unbalanced multiple responses
Message-ID: <20020711182853.046e6930.rjvbertin@hotmail.com>

Hi,

This question is related to the bwplot issue I reported yesterday. I have a 3 factors (2x3x2) dataset that I collapsed into a 2 factors dataset (3x2 = sizexModality). For size==small, I have 2 observations per subject (Snr), for the other sizes only 1.

I reckoned that aov (and underneath, lm) might handle this as it should, since the subjects are idendified, when I do

> aov( y~Modality*size + Error(Snr/(Modality*size)) )

I indeed get a result without any warning. Remembering a remark on unbalanced designs in aov, I ran the same (?..) test in NCSS. It too gives results without any warnings or errors, but they're not exactly the same. The DF, SumSQ, MeanSq and F values are the same for Snr:size and for Snr:size:Modality, but they are not (except DF) for Snr:Modality and Snr. (On fully balanced data, I did get the same values in both progs.)

I have not found anything purporting to this specific situation in the documentation of either programme, so I am lost.

My simple question is: can aov do what I am trying to do here (cf. the call above), or if not, what is the correct way to do this?

Thanks again in advance,
RenE Bertin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eje4 at cornell.edu  Thu Jul 11 19:02:58 2002
From: eje4 at cornell.edu (Eric Evans)
Date: Thu, 11 Jul 2002 13:02:58 -0400
Subject: [R] get command history?
Message-ID: <5.1.0.14.2.20020711125752.00b81a70@postoffice4.mail.cornell.edu>

Hello,

We are using R 1.4.1 on Solaris 8.  The director of our lab says that it 
should be possible, when using R interactively, to repeat your previous 
command by pressing the up-arrow key (similar to the command history 
feature in the tc shell).  I have not been able to find any mention of this 
command history feature in any of the R documentation, but the lab director 
is adamant that this is a feature of R, because she has seen it work this 
way at another lab.

Does anyone know how to configure R so as to enable the automatic retrieval 
of a previous command by using the up-arrow key?

Thanks very much,
Eric Evans,
Cornell Phonetics Lab

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jul 11 19:06:35 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Jul 2002 19:06:35 +0200
Subject: [R] Mann-Whitney
In-Reply-To: <5.1.0.14.2.20020711065920.009ec060@centroin.com.br>
References: <5.1.0.14.2.20020711065920.009ec060@centroin.com.br>
Message-ID: <x2d6tuchyc.fsf@biostat.ku.dk>

Bernardo Rangel Tura <tura at centroin.com.br> writes:

> Bernardo Rangel Tura, MD
> National Institute of Cardiology Laranjeiras
> Rio de Janeiro Brazil

And the question is? (The answer is help(wilcox.test) if I guess correctly.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jul 11 19:25:25 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Jul 2002 19:25:25 +0200
Subject: [R] get command history?
In-Reply-To: <5.1.0.14.2.20020711125752.00b81a70@postoffice4.mail.cornell.edu>
References: <5.1.0.14.2.20020711125752.00b81a70@postoffice4.mail.cornell.edu>
Message-ID: <x28z4ich2y.fsf@biostat.ku.dk>

Eric Evans <eje4 at cornell.edu> writes:

> Hello,
> 
> We are using R 1.4.1 on Solaris 8.  The director of our lab says that
> it should be possible, when using R interactively, to repeat your
> previous command by pressing the up-arrow key (similar to the command
> history feature in the tc shell).  I have not been able to find any
> mention of this command history feature in any of the R documentation,
> but the lab director is adamant that this is a feature of R, because
> she has seen it work this way at another lab.
> 
> Does anyone know how to configure R so as to enable the automatic
> retrieval of a previous command by using the up-arrow key?

R needs to be built with the readline library (in a relatively recent
version). This needs to be installed first. If you are lazy just get it
prepackaged from www.sunfreeware.com.

(Contrary to my initial belief, this is actually not in the FAQ...)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dputler at scu.edu  Thu Jul 11 20:11:50 2002
From: dputler at scu.edu (Dan Putler)
Date: Thu, 11 Jul 2002 11:11:50 -0700
Subject: [R] R GUI For Which User?
Message-ID: <200207111111.50068.dputler@scu.edu>

I also agree with Philippe Grosjean that there is a need to investigate the 
effects of different types of GUIs on software "usability". To do that, 
however, there is a need to develop a set of appropriate metrics, and to 
understand that the appropriateness of a given metric (and ultimately a given 
type of GUI) is likely to be conditional on the type of user.

My sense is that the heat of the rhetoric in this discussion is driven by 
perceived differences in implicit metrics and student/user types.  If I am 
training students to become professional biostatisticians who will be 
analyzing data from clinical drug trials, then my concerns (really the most 
important metrics) relate to the ability of the student to do the most 
complete and appropriate analysis possible in a way that can consistently be 
replicated.  In this instance, the most preferred user interface for teaching 
these students is going to be a text editor or an IDE.  On the otherhand, if 
my students are MBAs who will ultimately be marketing managers, placing them 
in a situation where they will be "customers" of statistical analyses rather 
then analysts themselves, then my concerns and appropriate metrics are very 
different.  Specifically, I want to make these students informed buyers of 
statistical analysis.  The best way to make them informed about the process 
of statistical analysis, and how to use the results of an analysis to make 
better managerial decisions, is to have them actually conduct several 
analyses and have them apply the results to a managerial problem in a 
low-risk, classroom environment.  However, in this sort of environment the 
two things I want to accomplish are: (1) minimizing the time it takes them to 
be able to conduct a usable (but likely imperfect) analysis and (2) 
minimizing the frustration level they experience when working with the 
software.  In this instance the best interface will be very point-and-click 
oriented, which will greatly limit a student's freedom in the types of 
analyses s/he can conduct, but will keep them out of "trouble" and minimize 
the time it takes them to use the software in a useful way.

So why this long-winded discussion?  The point I want to make is that there 
probably isn't a single "ideal" interface to R.  In a related thread, one 
contributor commented that there were 10 GUIs for R in some form of 
development, and there could ultimately be 20 (my sense is the author 
perceived this to be a bad thing).  It is possible that 10 different GUIs is 
the right number, although it is an empirical question.  The saving grace is 
that most (all)? of us are empirical researchers.

Dan Putler
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dyang at nrcan.gc.ca  Thu Jul 11 21:19:35 2002
From: dyang at nrcan.gc.ca (Yang, Richard)
Date: Thu, 11 Jul 2002 15:19:35 -0400
Subject: [R] nls() singular graident matrix error
Message-ID: <F0E0B899CB43D5118D220002A55113CF21BAFF@s2-edm-r1.nrn.nrcan.gc.ca>

R-helpers;

	I used Proc Model in SAS to fit the following model to data:

		proc model data = dbsmv;
                        a = a1*F**2;
                        b = b1*F + b2*T + b3*F*T;
                        tph2 = tph1 *((1 - exp(-a*age2)) / (1 -
exp(-a*age)))**-b;
		fit  tph2;

	and yielded the following estimated parameters after iterations:

	a1 = -0.15943, a2 = -1.8177, b1 = -0.01911, b2 = - 0.01494, b3 =
0.036427 with SEE = 4.7492 and MSE = 0.0111 (427 d.f). The model fits well
to the data.
	

	Trying to duplicate the model in R using nls(), I took the following
steps:

	Foo <- deriv( ~ tph1 * ((1 - exp(-(a1*N^a2)*age2))/ (1 -
exp(-(a1*N^a2)*age)))^(-(b1*N + b2*T +
            b3*F*T)), c("a1","a2","b1","b2","b3"), function(tph1, age2, age,
T, N, a1, a2, b1, b2, b3) {})

	Foo.nls <- nls(tph2 ~ Foo(tph1,N, T, a1, a2, b1, b2, b3), data =
dbsmv,
    start = c(a1 = -0.15943, a2 = -1.8177, b1 = -0.01911, b2 = - 0.01494, b3
= 0.036427))	

	The nls() failed due to 
	"Error in nlsModel(formula, mf, start) : singular gradient matrix at
initial parameter estimates".

	Any workaround for the singularity problem? 

	Thanks in advance,

Richard


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zed.shaw at ubc.ca  Thu Jul 11 21:49:56 2002
From: zed.shaw at ubc.ca (Zed A. Shaw)
Date: Thu, 11 Jul 2002 12:49:56 -0700
Subject: [R] My Appologies, Can I Try Again?
Message-ID: <B9532F74.1CBE%zed.shaw@ubc.ca>

Hi Folks,

Alright, I'm an idiot.  I'm very sorry for my last message, and would like
to take it back.  It was a bad day and I didn't have my Wheaties that
morning.

I would like to ask a question instead:

Would you participate in a online survey on professor's experiences teaching
statistics?  I'd post the data for everyone to see (anonymized of course)
and would welcome any feedback on the survey design itself.  I'm thinking
this a fairly unknown area, so some data gathering might be in order.

Please send me a quick message off-list if you would be willing to fill out
the survey.  This may help all the GUI design efforts quite a bit.

Thanks, and again my apologies to all.

-- 
Zed A. Shaw



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Fri Jul 12 01:37:39 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Fri, 12 Jul 2002 09:37:39 +1000
Subject: [R] Nested anovas in R not doing what they ought to...
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A91651D3@Roper-CV.qld.cmis.csiro.au>

It has nothing to do with your syntax, but everything to do with your
semantics.

One thing you appear not to have done is to declare habitat, fish, lake as
factors (unless each of these has only two levels).  That is why you are
getting one degree of freedom for every term.  This is often a clear signal
that something is amiss.

In R the term A/B is only a shorthand for A + A:B, which is (mathematically
isomorphic to) a nested model.  Also A*B is only a shorthnd for A + B + A:B,
which is the crossed model.  The meaning (= semantics) of the A:B term
depends on what has gone into the model before, and in these two cases it is
different and will in general have a different number of degrees of freedom
in the anova table.  It is very rare indeed that you really need to use ":"
or "%in%" as formula operators explicitly, +, -, * and / generally cover the
field.

Please don't expect the world always to behave like SAS, it is not the gold
standard.  There is none, in fact.  Like so many software environments,
including R and S-PLUS, SAS presents only one view of a complex and
intriguing reality, and at times that is a quirky view.  You need to
understand these things at a level of abstraction that no software
environment currently provides.

Bill Venables.

-----Original Message-----
From: Michael Rennie [mailto:mike.rennie at ene.gov.on.ca]
Sent: Friday, July 12, 2002 1:08 AM
To: R-help at stat.math.ethz.ch
Subject: [R] Nested anovas in R not doing what they ought to...



Hi, there

I first sent this e-mail a couple months ago, to no avail.Since I am not a
member on your mailing list, so could you please cc: a response to me? I'll
be sure to check the list today for replies.

I am currently attempting to perform an ANOVA with both nested and normal
factors.  My problem is that R is treating my nested factors the exact same
way as it would interaction terms.  

My output for the nested model is as follows:

> nested <- anova(lm(ltotinv ~ habitat + fish/lake + habitat:fish +
habitat:(la\
ke %in% fish)))
> nested
Analysis of Variance Table
 
Response: ltotinv
                  Df  Sum Sq Mean Sq F value    Pr(>F)
habitat            1 17.0829 17.0829 50.0917 3.083e-09 ***
fish               1  0.9131  0.9131  2.6774  0.107600
habitat:fish       1 13.0100 13.0100 38.1488 8.877e-08 ***
fish:lake          1  1.0256  1.0256  3.0072  0.088599 .
habitat:fish:lake  1  2.7641  2.7641  8.1051  0.006229 **
Residuals         54 18.4158  0.3410
---lysis of Variance Table
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1

With just interactions, not nested:

> test <- anova(lm(ltotinv ~ habitat + fish + lake:fish + habitat:fish +
fish:h\
abitat:lake))
> test
Analysis of Variance Table
 
Response: ltotinv
                  Df  Sum Sq Mean Sq F value    Pr(>F)
habitat            1 17.0829 17.0829 50.0917 3.083e-09 ***
fish               1  0.9131  0.9131  2.6774  0.107600
habitat:fish       1 13.0100 13.0100 38.1488 8.877e-08 ***
fish:lake          1  1.0256  1.0256  3.0072  0.088599 .
habitat:fish:lake  1  2.7641  2.7641  8.1051  0.006229 **
Residuals         54 18.4158  0.3410
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1
>


We get the same answer.  The reason I figured this out is because I did this
analysis first in SAS, and then tried to reproduce it in R.  It must be
something to do with my syntax, I imagine, but I can't see what it is.

Any help anyone has would be greatly appreciated.


Sincerely, 

Mike Rennie
M.Sc. Candidate, University of Toronto at Mississauga 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MROBERTS at ers.usda.gov  Fri Jul 12 01:49:52 2002
From: MROBERTS at ers.usda.gov (Michael Roberts)
Date: Thu, 11 Jul 2002 19:49:52 -0400
Subject: [R] filling part of a variable-sized array with another v-s array
Message-ID: <sd2de165.050@mailbox.ers.usda.gov>

Hi

I have an array inside a function that might be anywhere from 3 to n 
dimensions.  Call this array X, and suppose its dimensions are
L, K, dim(Z), where Z is an array passed to the function and might
be of dimension 1 to n-2.

Within the function I would like to write a line something like

X[l,k, ] <- Z

however, this only works if Z is a vector.  I'd like it to work for a
Z of any dimension.

Is there an easy way to do this?

Thanks,

Michael J. Roberts

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mprager at alum.mit.edu  Fri Jul 12 01:58:03 2002
From: mprager at alum.mit.edu (Mike Prager)
Date: Thu, 11 Jul 2002 19:58:03 -0400
Subject: [R] R GUI For Which User?
In-Reply-To: <MABBLJDICACNFOLGIHJOGEAFCNAA.phgrosje@ulb.ac.be>
References: <20020710221930.05bd55ff.fharrell@virginia.edu>
Message-ID: <5.1.0.14.0.20020711195638.00a7c0e0@pop-server.ec.rr.com>

At 10:37 AM 07/11/2002 +0200, Philippe Grosjean wrote:
>Several users noticed that the only part of the Splus GUI they
>use is the object explorer. So, wouldn't an R object explorer be a good
>addition to the current interface?

Yes!  I hope the core development team will consider it.


--
Mike Prager  (mprager at alum.mit.edu)
Beaufort, North Carolina

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.connolly at hortresearch.co.nz  Fri Jul 12 05:13:38 2002
From: p.connolly at hortresearch.co.nz (Patrick Connolly)
Date: Fri, 12 Jul 2002 15:13:38 +1200
Subject: [R] R GUI and object browser
In-Reply-To: <5.1.0.14.0.20020711195638.00a7c0e0@pop-server.ec.rr.com>
References: <20020710221930.05bd55ff.fharrell@virginia.edu> <5.1.0.14.0.20020711195638.00a7c0e0@pop-server.ec.rr.com>
Message-ID: <20020712031337.GB8036@hortresearch.co.nz>

On Thu, 11-Jul-2002 at 07:58PM -0400, Mike Prager wrote:

|> At 10:37 AM 07/11/2002 +0200, Philippe Grosjean wrote:
|> >Several users noticed that the only part of the Splus GUI they
|> >use is the object explorer. So, wouldn't an R object explorer be a good
|> >addition to the current interface?
|> 
|> Yes!  I hope the core development team will consider it.

It's not very difficult to write a function that lists your objects in
a dataframe along with the sort of information you'd like to see.  I
personally like to know the size of dataframes so it was simple to
make columns that shows the dimensions.  It was somewhat trickier to
get the date but I like to have it, so I did it.  

My current directory has things like this in it:


      Object        Mode   Rows Cols Len    Date   
1 fmr.pvh2000    function  --    --   1  12/07/2002
2 last.warning   list      --    --   5  12/07/2002
3 pvh.latto2000  function  --    --   1  09/07/2002
4 pvh.latto2000A function  --    --   1  09/07/2002
5 rain.plot2000  function  --    --   1  09/07/2002
6 accum2000      function  --    --   1  04/07/2002
7 pvh.latto4     function  --    --   1  04/07/2002
8 side.df        dataframe 1000  5    5  04/07/2002


I wrote my function some years ago and could do it much better knowing
what I know now, but if someone wants to make something generally
available, mine might be a good starting point.

best


-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world`s largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wilson at visi.com  Fri Jul 12 07:33:26 2002
From: wilson at visi.com (Tim Wilson)
Date: Fri, 12 Jul 2002 00:33:26 -0500
Subject: [R] lmtest build fails, readline problem
Message-ID: <20020712053326.GA11397@isis.visi.com>

Hi everyone,

I've downloaded the lmtest package, but I'm having trouble building it.
Here's the output:

copland:/home/wilson/tmp# R CMD INSTALL -l /usr/lib/R/library
lmtest_0.9-0.tar.gz
* Installing *source* package 'lmtest' ...
** libs
g77   -fPIC  -g -O2 -c pan.f -o pan.o
gcc -shared  -o lmtest.so pan.o   -L/usr/lib/gcc-lib/i386-linux/2.95.4
-lreadline -ldl -lncurses -lg2c-pic -lm -L/usr/lib/R/bin -lR
/usr/bin/ld: cannot find -lreadline
collect2: ld returned 1 exit status
make: *** [lmtest.so] Error 1
ERROR: compilation failed for package 'lmtest'

It can't find readline, but I definitely have readline installed. There
doesn't appear to be a way to specify additional locations on the R CMD
line. It's possible that my readline version isn't compatible, but I've
had no similar problems before. Readline works perfectly within R.

I can't find any documentation on how these package builds work. Where's
the Makefile? I looked in the R administration guide, but didn't find
the info I was looking for.

Any suggestions?

-Tim

-- 
Tim Wilson      |   Visit Sibley online:   | Check out:
Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
W. St. Paul, MN |                          | http://slashdot.org
wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Jul 12 08:28:57 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 12 Jul 2002 08:28:57 +0200
Subject: [R] R GUI and object browser
In-Reply-To: <20020712031337.GB8036@hortresearch.co.nz>
References: <20020710221930.05bd55ff.fharrell@virginia.edu>
	<5.1.0.14.0.20020711195638.00a7c0e0@pop-server.ec.rr.com>
	<20020712031337.GB8036@hortresearch.co.nz>
Message-ID: <15662.30505.179443.775218@gargle.gargle.HOWL>

>>>>> "PaCo" == Patrick Connolly <p.connolly at hortresearch.co.nz> writes:

    PaCo> On Thu, 11-Jul-2002 at 07:58PM -0400, Mike Prager wrote:
    PaCo> |> At 10:37 AM 07/11/2002 +0200, Philippe Grosjean wrote:
    PaCo> |> >Several users noticed that the only part of the Splus GUI they
    PaCo> |> >use is the object explorer. So, wouldn't an R object explorer be a good
    PaCo> |> >addition to the current interface?
    PaCo> |> 
    PaCo> |> Yes!  I hope the core development team will consider it.

    PaCo> It's not very difficult to write a function that lists your objects in
    PaCo> a dataframe along with the sort of information you'd like to see.  I
    PaCo> personally like to know the size of dataframes so it was simple to
    PaCo> make columns that shows the dimensions.  It was somewhat trickier to
    PaCo> get the date but I like to have it, so I did it.  

    PaCo> My current directory has things like this in it:

    PaCo> Object        Mode   Rows Cols Len    Date   
    PaCo> 1 fmr.pvh2000    function  --    --   1  12/07/2002
    PaCo> 2 last.warning   list      --    --   5  12/07/2002
    PaCo> 3 pvh.latto2000  function  --    --   1  09/07/2002
    PaCo> 4 pvh.latto2000A function  --    --   1  09/07/2002
    PaCo> 5 rain.plot2000  function  --    --   1  09/07/2002
    PaCo> 6 accum2000      function  --    --   1  04/07/2002
    PaCo> 7 pvh.latto4     function  --    --   1  04/07/2002
    PaCo> 8 side.df        dataframe 1000  5    5  04/07/2002

quite nice!

Note:

  ls.str()  
  ~~~~~~~~

may be an under used feature of R, at least since version 0.5 or so;
it does provide a bit more output than the above and 
does *not* provide the date. 

For quite some reason: 
I believe that most of the experienced S users (including the R
ones) keep things in scripts and packages -- if only for the
purpose of reproducible research and do not use .RData often
(I do never; I do save expensive results (mostly simulations) in *.rda
files that I attach() or load() explicitly, but that's all.
Everything else I recreate by running a script or loading a
private package.  --> hence `date' of an object would have to be
the date of the script where that object is defined which often
is not really interesting...

    PaCo> I wrote my function some years ago and could do it much better knowing
    PaCo> what I know now, but if someone wants to make something generally
    PaCo> available, mine might be a good starting point.

(so why didn't you append it, or make it available as URL ?)

    PaCo> -- 
    PaCo> HortResearch
    PaCo> Mt Albert
    PaCo> Auckland
    PaCo> New Zealand 
    PaCo> Ph: +64-9 815 4200 x 7188
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Fri Jul 12 08:44:03 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Fri, 12 Jul 2002 08:44:03 +0200 (MEST)
Subject: [R] lmtest build fails, readline problem
In-Reply-To: <20020712053326.GA11397@isis.visi.com>
Message-ID: <Pine.LNX.4.21.0207120842090.5347-100000@artemis>

> Hi everyone,
> 
> I've downloaded the lmtest package, but I'm having trouble building it.
> Here's the output:
> 
> copland:/home/wilson/tmp# R CMD INSTALL -l /usr/lib/R/library
> lmtest_0.9-0.tar.gz
> * Installing *source* package 'lmtest' ...
> ** libs
> g77   -fPIC  -g -O2 -c pan.f -o pan.o
> gcc -shared  -o lmtest.so pan.o   -L/usr/lib/gcc-lib/i386-linux/2.95.4
> -lreadline -ldl -lncurses -lg2c-pic -lm -L/usr/lib/R/bin -lR
> /usr/bin/ld: cannot find -lreadline
> collect2: ld returned 1 exit status


this was on this list on July 9 (subject: mvtnorm failure or something
like that), citing Dirks answer:

> > /usr/bin/ld: cannot find -lreadline
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

This is a pretty clear message:  you need to install the matching -dev
package 
for readline so that you can /compile and link/ against readline,
currently you
can 
only run pre-built programs using readline.  


Torsten

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jackie.chappell at zoo.ox.ac.uk  Fri Jul 12 09:57:33 2002
From: jackie.chappell at zoo.ox.ac.uk (Jackie Chappell)
Date: Fri, 12 Jul 2002 08:57:33 +0100
Subject: [R] .Rprofile on MacOSX
Message-ID: <B9544A7D.27A5%jackie.chappell@zoo.ox.ac.uk>

I'm new to R, so apologies if the answer to my question is very obvious to
everyone else!

I use the carbon version of R (1.5.1), not the Darwin version. After a bit
of a battle, I'm getting to grips with using R, and really getting to like
it, but I'm still having trouble customising startup the way I'd like it.

Reading ?Startup, I see that I can specify some commands to be run when R
starts in .Rprofile. What I'd like to do is set up some project specific
directories in my home directory (for example ~/Rprojects/crows). I would
then start R, change the working directory to the chosen project folder,
then have an .Rprofile load the history and workspace specific to that
folder. I would also like to automatically save the history and workspace
when I quit, which I gather from the docs I could do with suitable commands
in .Last placed in .Rprofile. All well and good, but I don't seem to be able
to get R to pay any attention to what is in .Rprofile!

In the help entry, it says that you can have an .Rprofile in R_Home/etc/
(which doesn't exist in my installation, but didn't work when I made an /etc
subdirectory), or in ~/ which also didn't work. R starts up in
/Applications/rm151/, and I can't seem to change this. When I set R_HOME to
another directory in .Renviron, Sys.getenv() tells me that R_HOME is set as
I requested, but R still starts up in /Applications/rm151 (I think I must
have misunderstood what R_HOME does).

Any help would be much appreciated!

Jackie
-- 
Dr. Jackie Chappell
Department of Zoology, South Parks Road, Oxford OX1 3PS
E-mail: jackie.chappell at zoo.ox.ac.uk, http://users.ox.ac.uk/~kgroup
Tel: +44 (0)1865 271245, Fax: +44 (0)7092 309 843

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.connolly at hortresearch.co.nz  Fri Jul 12 10:13:04 2002
From: p.connolly at hortresearch.co.nz (Patrick Connolly)
Date: Fri, 12 Jul 2002 20:13:04 +1200
Subject: [R] R GUI and object browser
In-Reply-To: <15662.30505.179443.775218@gargle.gargle.HOWL>
References: <20020710221930.05bd55ff.fharrell@virginia.edu> <5.1.0.14.0.20020711195638.00a7c0e0@pop-server.ec.rr.com> <20020712031337.GB8036@hortresearch.co.nz> <15662.30505.179443.775218@gargle.gargle.HOWL>
Message-ID: <20020712081304.GB12554@hortresearch.co.nz>

On Fri, 12-Jul-2002 at 08:28AM +0200, Martin Maechler wrote:

|> >>>>> "PaCo" == Patrick Connolly <p.connolly at hortresearch.co.nz> writes:



[ .... ]

|> 
|>     PaCo> I wrote my function some years ago and could do it much better knowing
|>     PaCo> what I know now, but if someone wants to make something generally
|>     PaCo> available, mine might be a good starting point.
|> 
|> (so why didn't you append it, or make it available as URL ?)

It's weekend here now.  I'll get back to this next week.

best

-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world`s largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Timur.Elzhov at jinr.ru  Fri Jul 12 11:16:27 2002
From: Timur.Elzhov at jinr.ru (Timur Elzhov)
Date: Fri, 12 Jul 2002 13:16:27 +0400
Subject: [R] Can't start R in Debian Woody
In-Reply-To: <20020711092709.5d50c9ad.splinux@globetrotter.net>
References: <20020711092709.5d50c9ad.splinux@globetrotter.net>
Message-ID: <20020712091627.GA15081@pcf004.jinr.ru>

Hi.

--
On Thu, Jul 11, 2002 at 09:27:09AM -0400, S wrote:

> I get this message:
> 
> ~$ R
> /usr/lib/R/bin/R.bin: error while loading shared libraries: libblas.so.2: 
> cannot open shared object file: No such file or directory
~$  dpkg --search libblas
blas: /usr/lib/libblas.so.2
blas: /usr/lib/libblas.so.2.0

Have you installed `blas' package, or ones that provide them?


--
With best regards,
Timur
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From g.wrobel at dkfz-heidelberg.de  Fri Jul 12 11:33:53 2002
From: g.wrobel at dkfz-heidelberg.de (g.wrobel@dkfz-heidelberg.de)
Date: Fri, 12 Jul 2002 11:33:53 +0200 (CEST)
Subject: [R] Sweave problem with recursive call
Message-ID: <1026466433.3d2ea28169bae@imaphost.dkfz-heidelberg.de>

Hi,  
  
while trying to play around with Sweave I found out that I was unable to call  
Sweave in a code chunk that is being parsed by Sweave.   
  
Code chunk that is being parsed:  
  
<<>>=  
for (i in 1:length(chips[,1])) {  
  createAnalysis(as.character(chips[i,1]),i)  
}  
system(paste("./concatenateAnalysis -",i,sep=""))  
@   
  
The function createAnalysis that is called:  
  
createAnalysis <- function(curChip, counter) {  
  write(curChip,"direct.chip")  
  Sweave("analyseChip.Rnw")  
  system(paste("mv analyseChip.tex aC_",counter,".tex",sep=""))  
}  
  
And the code chunk from analyseChip.Rnw:  
  
<<>>=  
  
gpr <- gpr.load.file(curChip,gpr.load.std)  
  
@  
  
\begin{description}  
  \item[Filename] \Sexpr{curChip}  
  \item[Date] \Sexpr{gpr$DateTime}  
\end{description}  
  
That leads to the follwing error: 
 
>  require(tools) 
Loading required package: tools 
[1] TRUE 
> Sweave("analyse.Rnw") 
Writing to file analyse.tex 
Processing code chunks ... 
 1 : echo term verbatim 
 2 : echo term verbatim 
 3 : echo term verbatim 
Read 1 items 
Read 6144 records 
Read 1 records 
Error: can not set length of non-vector 
Error in driver$runcode(drobj, chunk, chunkopts) : 
        Error: can not set length of non-vector 
 
Basically Sweave creates a text connection to an object called "output" in the 
main environment while evaluating a code chunk. When calling Sweave in a code 
chunk this "output" is referenced with several textconnections. I attached a 
diff file with a suggestion how to circumvent the problem. It can be applied 
to the Sweave.R file in the tools-1.5.0.tar.gz archive. 
 
Greetings 
 
Gunnar Wrobel 
  
-------------- next part --------------
286c286,292
<         tmpcon <- textConnection("output", "w")
---
>         if (is.finite(max(as.integer(sub("output","",apropos("output"))),na.rm=TRUE))) {
>           oc <- max(as.integer(sub("output","",apropos("output"))),na.rm=TRUE)+1
>         } else {
>           oc <- 0
>         }
>         tmpcon <- textConnection(paste("output",oc,sep=""), "w")
>         output <- get(paste("output",oc,sep=""))

From fredrik.karlsson at ling.umu.se  Fri Jul 12 12:10:55 2002
From: fredrik.karlsson at ling.umu.se (Fredrik Karlsson)
Date: Fri, 12 Jul 2002 12:10:55 +0200
Subject: [R] Lattice troubles..
Message-ID: <20020712101055.GA30143@ling.umu.se>

An embedded message was scrubbed...
From: unknown sender
Subject: no subject
Date: no date
Size: 1913
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020712/4bda50fc/attachment.mht

From fredrik.karlsson at ling.umu.se  Fri Jul 12 12:12:52 2002
From: fredrik.karlsson at ling.umu.se (Fredrik Karlsson)
Date: Fri, 12 Jul 2002 12:12:52 +0200
Subject: [R] Lattice troubles..
Message-ID: <20020712101252.GB30143@ling.umu.se>

An embedded message was scrubbed...
From: Fredrik Karlsson <fredrik.karlsson at ling.umu.se>
Subject: Lattice troubles..
Date: Fri, 12 Jul 2002 12:06:26 +0200
Size: 2547
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020712/8d19b9fd/attachment.mht

From s195404 at student.uq.edu.au  Fri Jul 12 22:33:06 2002
From: s195404 at student.uq.edu.au (Andrew C. Ward)
Date: Fri, 12 Jul 2002 20:33:06 -0000
Subject: [R] .Rprofile on MacOSX
Message-ID: <01C229E3.55F54E90.s195404@student.uq.edu.au>

Hi Jackie,

What you've done so far is fine. In Windows there are several ways to do what you want.
A Mac user may be able to give you more specific information. I apologise in advance
if some of this doesn't apply to the Mac.

1. You can use the GUI interface to change the working directory, and then load .Rdata
and .Rhistory files.
2. You can also nominate the directory that the R shortcut starts in. You could have a
separate shortcut for each project you're working in. I believe this is quite common
among R users.

Note that the environment variable R_USER indicates, among other things, the location of your
.rprofile file rather than a start-up directory.

Please let us know how you go and if you need any more help.

Regards,

Andrew C. Ward

CAPE Centre
Department of Chemical Engineering
The University of Queensland
Brisbane Qld 4072 Australia
andreww at cheque.uq.edu.au


-----Original Message-----
From:	Jackie Chappell [SMTP:jackie.chappell at zoo.ox.ac.uk]
Sent:	Friday, 12 July 2002 5:58 PM
To:	R-Help
Subject:	[R] .Rprofile on MacOSX

I'm new to R, so apologies if the answer to my question is very obvious to
everyone else!

I use the carbon version of R (1.5.1), not the Darwin version. After a bit
of a battle, I'm getting to grips with using R, and really getting to like
it, but I'm still having trouble customising startup the way I'd like it.

Reading ?Startup, I see that I can specify some commands to be run when R
starts in .Rprofile. What I'd like to do is set up some project specific
directories in my home directory (for example ~/Rprojects/crows). I would
then start R, change the working directory to the chosen project folder,
then have an .Rprofile load the history and workspace specific to that
folder. I would also like to automatically save the history and workspace
when I quit, which I gather from the docs I could do with suitable commands
in .Last placed in .Rprofile. All well and good, but I don't seem to be able
to get R to pay any attention to what is in .Rprofile!

In the help entry, it says that you can have an .Rprofile in R_Home/etc/
(which doesn't exist in my installation, but didn't work when I made an /etc
subdirectory), or in ~/ which also didn't work. R starts up in
/Applications/rm151/, and I can't seem to change this. When I set R_HOME to
another directory in .Renviron, Sys.getenv() tells me that R_HOME is set as
I requested, but R still starts up in /Applications/rm151 (I think I must
have misunderstood what R_HOME does).

Any help would be much appreciated!

Jackie
-- 
Dr. Jackie Chappell
Department of Zoology, South Parks Road, Oxford OX1 3PS
E-mail: jackie.chappell at zoo.ox.ac.uk, http://users.ox.ac.uk/~kgroup
Tel: +44 (0)1865 271245, Fax: +44 (0)7092 309 843

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredrik.karlsson at ling.umu.se  Fri Jul 12 12:45:21 2002
From: fredrik.karlsson at ling.umu.se (Fredrik Karlsson)
Date: Fri, 12 Jul 2002 12:45:21 +0200
Subject: [R] Lattice help (again?)
Message-ID: <20020712104521.GA30591@ling.umu.se>

I appologize if this post is a duplicate, but I did not get my first
post myself..

Here is my original post:
---------------------------------
Hi all,

I've got some troubles with a Lattice plot. The error I get is

Error in Ops.factor(groups[subscripts], vals[i]) :
        Level sets of factors are different 

which sort of doesn't make sense to me. Can you please help me
figure out what it means?

Here is the code:

my.panelconstr = function(x,y,...){
    points(x,y)
	  panel.loess(x,y,span=1)
		panel.superpose(x,y,...)
}

subset(m1data,! is.na(votms) & !is.na(age) & !is.na(Cplace) &
			!is.na(tokentype)& !is.na(voicing),
			select=c(votms,age,Cplace,tokentype,voicing)) -> sampledata

xyplot(votms ~ age | Cplace +
			tokentype,data=datasample,xlab="Subject Age (months)",ylab="Voice
			Onset Time (ms)",panel="my.panelconstr",groups=voicing)
				

Some information on the data set:

> sapply(sampledata,levels)
> $votms
> NULL
>
> $age
> NULL
>
> $Cplace
> [1] "bilabial" "dental"   "velar"   
>
> $tokentype
> [1] "CC"          "voiced C"    "voiceless C"
>
> $voicing
> [1] "voiced"    "voiceless"
>

(The entire data set follows below..)

Please, help  me with this. The solution is probably an easy one..

/Fredrik



> sampledata
>          votms age   Cplace   tokentype   voicing
>          0    15.954326  24    velar voiceless C    voiced
>          1     6.710849  24    velar          CC    voiced
>          2    14.364436  24    velar          CC    voiced
>          3   -33.844981  24 bilabial    voiced C    voiced
>          4   -18.158754  24 bilabial    voiced C    voiced
>          5    53.878500  24   dental    voiced C    voiced
>          7     4.257577  24    velar voiceless C    voiced
>          10  -49.215803  24 bilabial voiceless C    voiced
>          11   24.412121  24 bilabial voiceless C    voiced
>          15  -24.208462  24 bilabial          CC    voiced
>          16  -10.129738  24 bilabial          CC voiceless
>          17    1.530824  24   dental          CC    voiced
>          18    5.754966  24   dental voiceless C    voiced
>          19   15.910566  24 bilabial    voiced C    voiced
>          20    8.951559  24   dental    voiced C    voiced
>          21   13.411571  24    velar    voiced C    voiced
>          24    1.061967  24 bilabial voiceless C    voiced
>          25   11.252349  24    velar voiceless C    voiced
>          27   18.613304  24 bilabial          CC    voiced
>          28    7.065712  24   dental voiceless C    voiced
>          29   16.273826  24    velar voiceless C    voiced
>          31   10.542812  24   dental voiceless C    voiced
>          32   18.929595  24   dental          CC    voiced
>          34   92.640000  24    velar voiceless C    voiced
>          35    9.072296  24 bilabial          CC    voiced
>          36    3.987829  24   dental voiceless C    voiced
>          37  -29.741057  24 bilabial voiceless C    voiced
>          38  -35.235355  24   dental voiceless C    voiced
>          40   17.915961  24 bilabial voiceless C    voiced
>          41  -44.849629  24 bilabial          CC    voiced
>          42   11.534454  25    velar    voiced C    voiced
>          43    8.814480  25 bilabial voiceless C    voiced
>          44   28.353609  25 bilabial voiceless C voiceless
>          45   31.009542  25    velar voiceless C    voiced
>          47   -1.723251  25 bilabial          CC    voiced
>          48   26.588373  25   dental voiceless C    voiced
>          49   77.686766  25   dental voiceless C voiceless
>          50   14.329650  25   dental voiceless C    voiced
>          51  -21.985267  25 bilabial    voiced C    voiced
>          52    8.830956  25   dental voiceless C    voiced
>          53   14.491379  25 bilabial    voiced C    voiced
>          54   11.218807  25   dental    voiced C    voiced
>          56   72.241633  25    velar          CC    voiced
>          57  -29.219088  25 bilabial          CC    voiced
>          59   11.422903  25    velar voiceless C    voiced
>          60   25.581157  25   dental          CC    voiced
>          62   20.957003  27 bilabial    voiced C voiceless
>          63   12.664048  27 bilabial    voiced C    voiced
>          64   26.069895  27   dental    voiced C    voiced
>          67   12.634800  27 bilabial voiceless C    voiced
>          68    8.232476  27 bilabial voiceless C    voiced
>          69  316.579179  27    velar voiceless C voiceless
>          70    7.939195  27    velar          CC    voiced
>          73   10.283447  27 bilabial          CC    voiced
>          74    7.690974  27 bilabial          CC    voiced
>          75   14.828804  27   dental          CC    voiced
>          76    2.071590  27   dental voiceless C    voiced
>          77   15.017524  27   dental voiceless C    voiced
>          78   36.405154  27   dental voiceless C voiceless
>          79    7.621855  27 bilabial    voiced C    voiced
>          82   12.406816  27 bilabial voiceless C    voiced
>          86   15.936522  27 bilabial          CC voiceless
>          88    5.334834  27   dental voiceless C    voiced
>          90   12.254666  27    velar    voiced C    voiced
>          91   19.531705  27    velar voiceless C    voiced
>          92   21.945019  27    velar    voiced C    voiced
>          94    3.716871  27    velar voiceless C    voiced
>          95   12.121338  27 bilabial voiceless C    voiced
>          98   -3.525175  28 bilabial    voiced C    voiced
>          99   12.893467  28 bilabial    voiced C    voiced
>          100   4.674544  28   dental    voiced C    voiced
>          101  -5.404834  28    velar    voiced C    voiced
>          105   3.232809  28    velar          CC    voiced
>          108  27.599286  28 bilabial voiceless C    voiced
>          109   6.862059  28 bilabial          CC    voiced
>          110   5.858169  28   dental          CC    voiced
>          111   2.739856  28   dental voiceless C    voiced
>          112 -38.698842  28   dental voiceless C    voiced
>          113   5.447914  28    velar    voiced C    voiced
>          114   8.391119  28    velar voiceless C    voiced
>          117   1.979944  28    velar voiceless C    voiced
>          118  17.974069  28 bilabial voiceless C    voiced
>          122   6.959839  29 bilabial    voiced C    voiced
>          123   2.209952  29   dental    voiced C    voiced
>          124  13.489543  29    velar    voiced C    voiced
>          125  12.613704  29    velar voiceless C    voiced
>          127   7.102228  29 bilabial voiceless C    voiced
>          128  11.265065  29 bilabial voiceless C    voiced
>          130   8.524358  29   dental voiceless C    voiced
>          132  15.399187  29   dental voiceless C    voiced
>          133   8.581753  29 bilabial    voiced C    voiced
>          134   6.983810  29   dental    voiced C    voiced
>          135 -52.456936  29   dental voiceless C    voiced
>          136   7.063439  29    velar          CC    voiced
>          137   6.961839  29   dental voiceless C    voiced
>          140 -53.125911  29 bilabial    voiced C    voiced
>          143  15.711247  29 bilabial voiceless C    voiced
>          145   3.359106  29 bilabial    voiced C    voiced
>          146  12.390004  29   dental    voiced C    voiced
>          147   9.964120  29   dental voiceless C    voiced
>          149   5.720067  29 bilabial          CC    voiced
>          150  16.754006  29   dental voiceless C    voiced
>          151   8.740509  29    velar          CC    voiced
>          152  10.348791  29 bilabial          CC    voiced
>          153   7.808633  29   dental          CC    voiced
>          154   3.024170  29   dental          CC    voiced
>          155   9.928435  29 bilabial          CC    voiced
>          157  54.333177  29   dental voiceless C    voiced
>          158  11.889378  29    velar          CC    voiced
>          160  32.880320  30 bilabial    voiced C voiceless
>          161  32.885067  30 bilabial    voiced C voiceless
>          162  13.429712  30   dental    voiced C voiceless
>          163  40.299000  30    velar    voiced C voiceless
>          166   5.855356  30 bilabial voiceless C voiceless
>          167  10.412418  30   dental voiceless C    voiced
>          168  16.889134  30   dental voiceless C voiceless
>          169 -59.224149  30    velar voiceless C    voiced
>          171  99.767957  30    velar          CC voiceless
>          176  18.722669  30   dental    voiced C    voiced
>          177  19.755000  30    velar    voiced C    voiced
>          183  11.884398  30   dental voiceless C    voiced
>          184  36.009200  30 bilabial voiceless C voiceless
>          185  14.201996  30 bilabial          CC    voiced
>          186  12.287322  30 bilabial          CC    voiced
>          187  17.453539  30 bilabial voiceless C    voiced
>          190  26.808391  30    velar          CC voiceless
>          191  17.295361  30   dental          CC    voiced
>          193  48.171823  31 bilabial    voiced C voiceless
>          194  12.190815  31 bilabial    voiced C    voiced
>          195  40.820515  31    velar voiceless C voiceless
>          201  29.808337  31   dental    voiced C    voiced
>          205  20.972073  31   dental voiceless C voiceless
>          206  88.281232  31    velar voiceless C voiceless
>          211  61.456342  31    velar    voiced C voiceless
>          212  15.711172  31 bilabial voiceless C voiceless
>          214  53.239000  31   dental          CC voiceless
>          216  33.841200  31 bilabial          CC    voiced
>          217  42.051951  31    velar    voiced C voiceless
>          218  30.176308  31    velar          CC    voiced
>          219  30.186293  31 bilabial          CC    voiced
>          220  21.998930  31 bilabial voiceless C voiceless
>          222  40.653390  31    velar voiceless C voiceless
>          223  11.798986  31   dental          CC    voiced
>          224  60.585705  32 bilabial    voiced C voiceless
>          225   7.973256  32 bilabial    voiced C    voiced
>          228  95.824252  32    velar voiceless C voiceless
>          230  11.469333  32 bilabial voiceless C    voiced
>          236  18.062884  32 bilabial    voiced C    voiced
>          238  69.997263  32 bilabial voiceless C voiceless
>          240 -80.599336  32   dental    voiced C    voiced
>          241  20.279421  32 bilabial voiceless C voiceless
>          245 202.795327  32    velar voiceless C voiceless
>          247  19.944309  32 bilabial voiceless C voiceless
>          248  11.503982  32 bilabial voiceless C    voiced
>          249  11.545439  32 bilabial          CC voiceless
>          250  12.887457  32   dental voiceless C voiceless
>          251  45.991986  32    velar voiceless C voiceless
>          253  75.917893  32 bilabial          CC voiceless
>          254  18.824056  32   dental voiceless C voiceless
>          256 101.095335  32    velar          CC voiceless
>          257  32.398865  32   dental          CC voiceless
>          259  30.852728  32   dental          CC voiceless
>          266  12.579714  19 bilabial voiceless C voiceless
>          271   7.399954  23    velar          CC    voiced
>          274  11.557411  23    velar          CC voiceless
>          275  10.397010  23   dental          CC    voiced
>          276   6.646640  23   dental          CC    voiced
>          277  10.367765  23   dental          CC    voiced
>          278  13.635147  23   dental          CC    voiced
>          279   3.585918  23   dental          CC    voiced
>          280  24.559838  23   dental          CC    voiced
>          282   5.509939  23   dental    voiced C    voiced
>          283  13.230395  23   dental    voiced C    voiced
>          285  25.633231  23   dental    voiced C voiceless
>          289  16.842630  23 bilabial voiceless C voiceless
>          291  11.666541  23   dental          CC    voiced


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Fri Jul 12 12:53:39 2002
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Fri, 12 Jul 2002 12:53:39 +0200
Subject: [R] R GUI For Which User?
In-Reply-To: <200207111111.50068.dputler@scu.edu>
Message-ID: <MABBLJDICACNFOLGIHJOGEAOCNAA.phgrosje@ulb.ac.be>

Dan Putler wrote:
>I also agree with Philippe Grosjean that there is a need to investigate the
>effects of different types of GUIs on software "usability". To do that,
>however, there is a need to develop a set of appropriate metrics, and to
>understand that the appropriateness of a given metric (and ultimately a
given
>type of GUI) is likely to be conditional on the type of user.

Exactly! And it is the most interesting part of the job! Creating a pale
copy of one existing GUI is not a very exciting work. Thinking, designing
and validating an original and efficient GUI is a science that could
probably be appealing for many of us (after all, we are statisticians and
programmers involved in research and teaching). Remember the work done at
Xerox's Palo Alto lab at the early ages of the GUIs, where they invented
icons, menus,... I believe that such nice adventure could be also conducted
among a virtual lab constituted by a community of open source developers
around the R project in a field that obviously needs some improvements in
the user interface design: data analysis.
Best,

Philippe Grosjean

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From g.wrobel at dkfz-heidelberg.de  Fri Jul 12 12:59:40 2002
From: g.wrobel at dkfz-heidelberg.de (g.wrobel@dkfz-heidelberg.de)
Date: Fri, 12 Jul 2002 12:59:40 +0200 (CEST)
Subject: [R] Sweave problem with recursive call, Add.
Message-ID: <1026471580.3d2eb69c92729@imaphost.dkfz-heidelberg.de>

This diff would be better. 
 
Gunnar 
-------------- next part --------------
268a269,270
> 
>     ocf <- character()
285,286c287,298
< 
<         tmpcon <- textConnection("output", "w")
---
>         
>         options(warn=-1)
>         if (is.finite(max(as.integer(sub("output","",apropos("output"))),na.rm=TRUE))) {
>           oc <- max(as.integer(sub("output","",apropos("output"))),na.rm=TRUE)+1
>         } else {
>           oc <- 0
>         }
>         options(warn=0)
>         
>         tmpcon <- textConnection(paste("output",oc,sep=""), "w")
>         ocf <- c(ocf,paste("output",oc,sep=""))
>         output <- get(paste("output",oc,sep=""))
312d323
<             remove(output)
319a331,332
>     rm(list=ocf,envir=globalenv())
>         

From eje4 at cornell.edu  Fri Jul 12 14:57:16 2002
From: eje4 at cornell.edu (Eric Evans)
Date: Fri, 12 Jul 2002 08:57:16 -0400
Subject: [R] Another question about getting command history
Message-ID: <5.1.0.14.2.20020712085306.00b3fd88@postoffice4.mail.cornell.edu>

Hello everyone,

Thanks to the people who so kindly responded to my earlier query about how 
to get R to retrieve my previous command when I hit the up-arrow 
key.  Several people pointed out to me that in order to enable this feature 
I need to re-install R with the GNU readline library.  My question now 
is:  how do I accomplish this?  Can anyone tell me what changes I need to 
make to the Makefile in order to get the compile/installation to include 
the readline library?  Thanks very much....

Eric Evans
Cornell Phonetics Lab
   

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jul 12 15:21:01 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Jul 2002 15:21:01 +0200
Subject: [R] Another question about getting command history
In-Reply-To: <5.1.0.14.2.20020712085306.00b3fd88@postoffice4.mail.cornell.edu>
References: <5.1.0.14.2.20020712085306.00b3fd88@postoffice4.mail.cornell.edu>
Message-ID: <x2znwxjd4y.fsf@biostat.ku.dk>

Eric Evans <eje4 at cornell.edu> writes:

> Hello everyone,
> 
> Thanks to the people who so kindly responded to my earlier query about
> how to get R to retrieve my previous command when I hit the up-arrow
> key.  Several people pointed out to me that in order to enable this
> feature I need to re-install R with the GNU readline library.  My
> question now is:  how do I accomplish this?  Can anyone tell me what
> changes I need to make to the Makefile in order to get the
> compile/installation to include the readline library?  Thanks very
> much....

If you put it in a standard location like /usr/local/lib, then it
should be picked up correctly by the configure step. Notice that you
need to rerun configure (and possibly remove config.cache -- I forget
whether that is still necessary).

If that doesn't help, then you likely want to read
doc/html/R-admin.html in the sources.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjvbertin at hotmail.com  Fri Jul 12 16:04:39 2002
From: rjvbertin at hotmail.com (RenE J.V. Bertin)
Date: Fri, 12 Jul 2002 16:04:39 +0200
Subject: [R] R GUI For Which User?
Message-ID: <20020712160439.56d7f9e0.rjvbertin@hotmail.com>


From: Philippe Grosjean (phgrosje at ulb.ac.be)
Date: Fri Jul 12 2002 - 12:53:39 CEST

[...]
> probably be appealing for many of us (after all, we are statisticians and
>                                                  ^^ ??  Not all of us!
> programmers involved in research and teaching). Remember the work done at 

Well, in any event, please do remember that the majority of students taking statistics courses may well be not (future) statisticians, but (future) researchers involved in other things that may include programming and (more likely) teaching. A well designed GUI will certainly "open up" R to users who until now have used (and had to pay for) commercial products to run the boring? assortment of tests they need in their work. Those are now probably a minority (due to the lack of a GUI...?), but once a good GUI gets off the ground, they are bound to become more numerous. It would be nice to have everybody's needs taken into account from the beginning! (Did somebody say altruism there? :))

RenE Bertin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredrik.karlsson at ling.umu.se  Fri Jul 12 16:45:44 2002
From: fredrik.karlsson at ling.umu.se (Fredrik Karlsson)
Date: Fri, 12 Jul 2002 16:45:44 +0200
Subject: [R] Lattice help (again?)
In-Reply-To: <021c01c2299e$9ee56300$0201a8c0@MARC>
References: <20020712104521.GA30591@ling.umu.se> <021c01c2299e$9ee56300$0201a8c0@MARC>
Message-ID: <20020712144544.GA32187@ling.umu.se>

Thank you Marc for this information.

Being relatively nwe to the list, I had not realised that the delay was
that big. Had I known this, I would not have re-posted.

However, the last post does contain a somewhat restructured version of
the code, as well as the data involved.

I still haven't found the problem with it, so any suggestion is greatly
appriciated.

/Fredrik

On Fri, Jul 12, 2002 at 07:21:15AM -0500, Marc Schwartz wrote:
> Frederik,
> 
> I am sending this offline, but wanted to let you know that there is
> commonly anywhere from a 1 to 3 hour delay in getting copies of posts on
> the list back.
> 
> Those who are recent subscribers and therefore towards the end of the
> distribution list will experience longer delays than those who are the
> top of the list.  Also, the Core group folks have a priority and so will
> see posts first.
> 
> This is why it is common to copy the author of a post when you reply, so
> they see the reply right away, as opposed to waiting for the message to
> come from the list, which they will eventually see as well.
> 
> One thing that I also do, is to check on the R Project web site in the
> message archives to see if a message has already been replied to.  For
> me, the delay is typically about 1.5 hours, so before I reply, I check
> the archive to see if someone has already done so.
> 
> This has been discussed on the list before (I raised it one time) and I
> know that the Core folks have looked into more efficient systems but
> have not yet implemented anything to my knowledge.
> 
> I have not yet begun to use Lattice, so my apologies for not being able
> to offer help on your actual problem.
> 
> Regards,
> 
> Marc
> 
> > -----Original Message-----
> > From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch] On
> > Behalf Of Fredrik Karlsson
> > Sent: Friday, July 12, 2002 5:45 AM
> > To: R-help
> > Subject: [R] Lattice help (again?)
> > 
> > I appologize if this post is a duplicate, but I did not get my first
> > post myself..
> > 
> > Here is my original post:
> > ---------------------------------
> > Hi all,
> > 
> > I've got some troubles with a Lattice plot. The error I get is
> > 
> > Error in Ops.factor(groups[subscripts], vals[i]) :
> >         Level sets of factors are different
> > 
> > which sort of doesn't make sense to me. Can you please help me
> > figure out what it means?
> > 
> > Here is the code:
> > 
> > my.panelconstr = function(x,y,...){
> >     points(x,y)
> > 	  panel.loess(x,y,span=1)
> > 		panel.superpose(x,y,...)
> > }
> > 
> > subset(m1data,! is.na(votms) & !is.na(age) & !is.na(Cplace) &
> > 			!is.na(tokentype)& !is.na(voicing),
> > 			select=c(votms,age,Cplace,tokentype,voicing)) ->
> > sampledata
> > 
> > xyplot(votms ~ age | Cplace +
> > 			tokentype,data=datasample,xlab="Subject Age
> > (months)",ylab="Voice
> > 			Onset Time
> (ms)",panel="my.panelconstr",groups=voicing)
> > 
> > 
> > Some information on the data set:
> > 
> > > sapply(sampledata,levels)
> > > $votms
> > > NULL
> > >
> > > $age
> > > NULL
> > >
> > > $Cplace
> > > [1] "bilabial" "dental"   "velar"
> > >
> > > $tokentype
> > > [1] "CC"          "voiced C"    "voiceless C"
> > >
> > > $voicing
> > > [1] "voiced"    "voiceless"
> > >
> > 
> > (The entire data set follows below..)
> > 
> > Please, help  me with this. The solution is probably an easy one..
> > 
> > /Fredrik
> > 
> > 
> > 
> > > sampledata
> > >          votms age   Cplace   tokentype   voicing
> > >          0    15.954326  24    velar voiceless C    voiced
> > >          1     6.710849  24    velar          CC    voiced
> > >          2    14.364436  24    velar          CC    voiced
> > >          3   -33.844981  24 bilabial    voiced C    voiced
> > >          4   -18.158754  24 bilabial    voiced C    voiced
> > >          5    53.878500  24   dental    voiced C    voiced
> > >          7     4.257577  24    velar voiceless C    voiced
> > >          10  -49.215803  24 bilabial voiceless C    voiced
> > >          11   24.412121  24 bilabial voiceless C    voiced
> > >          15  -24.208462  24 bilabial          CC    voiced
> > >          16  -10.129738  24 bilabial          CC voiceless
> > >          17    1.530824  24   dental          CC    voiced
> > >          18    5.754966  24   dental voiceless C    voiced
> > >          19   15.910566  24 bilabial    voiced C    voiced
> > >          20    8.951559  24   dental    voiced C    voiced
> > >          21   13.411571  24    velar    voiced C    voiced
> > >          24    1.061967  24 bilabial voiceless C    voiced
> > >          25   11.252349  24    velar voiceless C    voiced
> > >          27   18.613304  24 bilabial          CC    voiced
> > >          28    7.065712  24   dental voiceless C    voiced
> > >          29   16.273826  24    velar voiceless C    voiced
> > >          31   10.542812  24   dental voiceless C    voiced
> > >          32   18.929595  24   dental          CC    voiced
> > >          34   92.640000  24    velar voiceless C    voiced
> > >          35    9.072296  24 bilabial          CC    voiced
> > >          36    3.987829  24   dental voiceless C    voiced
> > >          37  -29.741057  24 bilabial voiceless C    voiced
> > >          38  -35.235355  24   dental voiceless C    voiced
> > >          40   17.915961  24 bilabial voiceless C    voiced
> > >          41  -44.849629  24 bilabial          CC    voiced
> > >          42   11.534454  25    velar    voiced C    voiced
> > >          43    8.814480  25 bilabial voiceless C    voiced
> > >          44   28.353609  25 bilabial voiceless C voiceless
> > >          45   31.009542  25    velar voiceless C    voiced
> > >          47   -1.723251  25 bilabial          CC    voiced
> > >          48   26.588373  25   dental voiceless C    voiced
> > >          49   77.686766  25   dental voiceless C voiceless
> > >          50   14.329650  25   dental voiceless C    voiced
> > >          51  -21.985267  25 bilabial    voiced C    voiced
> > >          52    8.830956  25   dental voiceless C    voiced
> > >          53   14.491379  25 bilabial    voiced C    voiced
> > >          54   11.218807  25   dental    voiced C    voiced
> > >          56   72.241633  25    velar          CC    voiced
> > >          57  -29.219088  25 bilabial          CC    voiced
> > >          59   11.422903  25    velar voiceless C    voiced
> > >          60   25.581157  25   dental          CC    voiced
> > >          62   20.957003  27 bilabial    voiced C voiceless
> > >          63   12.664048  27 bilabial    voiced C    voiced
> > >          64   26.069895  27   dental    voiced C    voiced
> > >          67   12.634800  27 bilabial voiceless C    voiced
> > >          68    8.232476  27 bilabial voiceless C    voiced
> > >          69  316.579179  27    velar voiceless C voiceless
> > >          70    7.939195  27    velar          CC    voiced
> > >          73   10.283447  27 bilabial          CC    voiced
> > >          74    7.690974  27 bilabial          CC    voiced
> > >          75   14.828804  27   dental          CC    voiced
> > >          76    2.071590  27   dental voiceless C    voiced
> > >          77   15.017524  27   dental voiceless C    voiced
> > >          78   36.405154  27   dental voiceless C voiceless
> > >          79    7.621855  27 bilabial    voiced C    voiced
> > >          82   12.406816  27 bilabial voiceless C    voiced
> > >          86   15.936522  27 bilabial          CC voiceless
> > >          88    5.334834  27   dental voiceless C    voiced
> > >          90   12.254666  27    velar    voiced C    voiced
> > >          91   19.531705  27    velar voiceless C    voiced
> > >          92   21.945019  27    velar    voiced C    voiced
> > >          94    3.716871  27    velar voiceless C    voiced
> > >          95   12.121338  27 bilabial voiceless C    voiced
> > >          98   -3.525175  28 bilabial    voiced C    voiced
> > >          99   12.893467  28 bilabial    voiced C    voiced
> > >          100   4.674544  28   dental    voiced C    voiced
> > >          101  -5.404834  28    velar    voiced C    voiced
> > >          105   3.232809  28    velar          CC    voiced
> > >          108  27.599286  28 bilabial voiceless C    voiced
> > >          109   6.862059  28 bilabial          CC    voiced
> > >          110   5.858169  28   dental          CC    voiced
> > >          111   2.739856  28   dental voiceless C    voiced
> > >          112 -38.698842  28   dental voiceless C    voiced
> > >          113   5.447914  28    velar    voiced C    voiced
> > >          114   8.391119  28    velar voiceless C    voiced
> > >          117   1.979944  28    velar voiceless C    voiced
> > >          118  17.974069  28 bilabial voiceless C    voiced
> > >          122   6.959839  29 bilabial    voiced C    voiced
> > >          123   2.209952  29   dental    voiced C    voiced
> > >          124  13.489543  29    velar    voiced C    voiced
> > >          125  12.613704  29    velar voiceless C    voiced
> > >          127   7.102228  29 bilabial voiceless C    voiced
> > >          128  11.265065  29 bilabial voiceless C    voiced
> > >          130   8.524358  29   dental voiceless C    voiced
> > >          132  15.399187  29   dental voiceless C    voiced
> > >          133   8.581753  29 bilabial    voiced C    voiced
> > >          134   6.983810  29   dental    voiced C    voiced
> > >          135 -52.456936  29   dental voiceless C    voiced
> > >          136   7.063439  29    velar          CC    voiced
> > >          137   6.961839  29   dental voiceless C    voiced
> > >          140 -53.125911  29 bilabial    voiced C    voiced
> > >          143  15.711247  29 bilabial voiceless C    voiced
> > >          145   3.359106  29 bilabial    voiced C    voiced
> > >          146  12.390004  29   dental    voiced C    voiced
> > >          147   9.964120  29   dental voiceless C    voiced
> > >          149   5.720067  29 bilabial          CC    voiced
> > >          150  16.754006  29   dental voiceless C    voiced
> > >          151   8.740509  29    velar          CC    voiced
> > >          152  10.348791  29 bilabial          CC    voiced
> > >          153   7.808633  29   dental          CC    voiced
> > >          154   3.024170  29   dental          CC    voiced
> > >          155   9.928435  29 bilabial          CC    voiced
> > >          157  54.333177  29   dental voiceless C    voiced
> > >          158  11.889378  29    velar          CC    voiced
> > >          160  32.880320  30 bilabial    voiced C voiceless
> > >          161  32.885067  30 bilabial    voiced C voiceless
> > >          162  13.429712  30   dental    voiced C voiceless
> > >          163  40.299000  30    velar    voiced C voiceless
> > >          166   5.855356  30 bilabial voiceless C voiceless
> > >          167  10.412418  30   dental voiceless C    voiced
> > >          168  16.889134  30   dental voiceless C voiceless
> > >          169 -59.224149  30    velar voiceless C    voiced
> > >          171  99.767957  30    velar          CC voiceless
> > >          176  18.722669  30   dental    voiced C    voiced
> > >          177  19.755000  30    velar    voiced C    voiced
> > >          183  11.884398  30   dental voiceless C    voiced
> > >          184  36.009200  30 bilabial voiceless C voiceless
> > >          185  14.201996  30 bilabial          CC    voiced
> > >          186  12.287322  30 bilabial          CC    voiced
> > >          187  17.453539  30 bilabial voiceless C    voiced
> > >          190  26.808391  30    velar          CC voiceless
> > >          191  17.295361  30   dental          CC    voiced
> > >          193  48.171823  31 bilabial    voiced C voiceless
> > >          194  12.190815  31 bilabial    voiced C    voiced
> > >          195  40.820515  31    velar voiceless C voiceless
> > >          201  29.808337  31   dental    voiced C    voiced
> > >          205  20.972073  31   dental voiceless C voiceless
> > >          206  88.281232  31    velar voiceless C voiceless
> > >          211  61.456342  31    velar    voiced C voiceless
> > >          212  15.711172  31 bilabial voiceless C voiceless
> > >          214  53.239000  31   dental          CC voiceless
> > >          216  33.841200  31 bilabial          CC    voiced
> > >          217  42.051951  31    velar    voiced C voiceless
> > >          218  30.176308  31    velar          CC    voiced
> > >          219  30.186293  31 bilabial          CC    voiced
> > >          220  21.998930  31 bilabial voiceless C voiceless
> > >          222  40.653390  31    velar voiceless C voiceless
> > >          223  11.798986  31   dental          CC    voiced
> > >          224  60.585705  32 bilabial    voiced C voiceless
> > >          225   7.973256  32 bilabial    voiced C    voiced
> > >          228  95.824252  32    velar voiceless C voiceless
> > >          230  11.469333  32 bilabial voiceless C    voiced
> > >          236  18.062884  32 bilabial    voiced C    voiced
> > >          238  69.997263  32 bilabial voiceless C voiceless
> > >          240 -80.599336  32   dental    voiced C    voiced
> > >          241  20.279421  32 bilabial voiceless C voiceless
> > >          245 202.795327  32    velar voiceless C voiceless
> > >          247  19.944309  32 bilabial voiceless C voiceless
> > >          248  11.503982  32 bilabial voiceless C    voiced
> > >          249  11.545439  32 bilabial          CC voiceless
> > >          250  12.887457  32   dental voiceless C voiceless
> > >          251  45.991986  32    velar voiceless C voiceless
> > >          253  75.917893  32 bilabial          CC voiceless
> > >          254  18.824056  32   dental voiceless C voiceless
> > >          256 101.095335  32    velar          CC voiceless
> > >          257  32.398865  32   dental          CC voiceless
> > >          259  30.852728  32   dental          CC voiceless
> > >          266  12.579714  19 bilabial voiceless C voiceless
> > >          271   7.399954  23    velar          CC    voiced
> > >          274  11.557411  23    velar          CC voiceless
> > >          275  10.397010  23   dental          CC    voiced
> > >          276   6.646640  23   dental          CC    voiced
> > >          277  10.367765  23   dental          CC    voiced
> > >          278  13.635147  23   dental          CC    voiced
> > >          279   3.585918  23   dental          CC    voiced
> > >          280  24.559838  23   dental          CC    voiced
> > >          282   5.509939  23   dental    voiced C    voiced
> > >          283  13.230395  23   dental    voiced C    voiced
> > >          285  25.633231  23   dental    voiced C voiceless
> > >          289  16.842630  23 bilabial voiceless C voiceless
> > >          291  11.666541  23   dental          CC    voiced
> > 
> > 
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Fri Jul 12 16:54:34 2002
From: macq at llnl.gov (Don MacQueen)
Date: Fri, 12 Jul 2002 07:54:34 -0700
Subject: [R] Another question about getting command history
In-Reply-To: 
 <5.1.0.14.2.20020712085306.00b3fd88@postoffice4.mail.cornell.edu>
References: 
 <5.1.0.14.2.20020712085306.00b3fd88@postoffice4.mail.cornell.edu>
Message-ID: <p05111a00b9549b2f4d62@[128.115.153.6]>

You don't modify the Makefile. As Peter said, if you install readline 
in standard locations, it should be found automatically.

If, like me, you don't put the readline libraries in a standard 
location, you still don't modify the Makefile. You modify the 
"config.site" file, to tell the R installation scripts where, in 
addition to the standard places, to look.

These features are reasonably well described in the config.site file, 
among others.

For example, I added these lines to my config.site file:

CPPFLAGS="-I/non-standard-location/local/include"
LDFLAGS="-L/non-standard-location/local/lib"

And in the non-standard-location are the readline libraries and include files.

[10]% ls /non-standard-location/local/lib | grep readl
libreadline.a
libreadline.so.4

[11]% ls /non-standard-location/local/include | grep read
readline/

Note also that the above is for R 1.5.1 and may not be exactly 
correct for 1.4.1.

-Don


At 8:57 AM -0400 7/12/02, Eric Evans wrote:
>Hello everyone,
>
>Thanks to the people who so kindly responded to my earlier query 
>about how to get R to retrieve my previous command when I hit the 
>up-arrow key.  Several people pointed out to me that in order to 
>enable this feature I need to re-install R with the GNU readline 
>library.  My question now is:  how do I accomplish this?  Can anyone 
>tell me what changes I need to make to the Makefile in order to get 
>the compile/installation to include the readline library?  Thanks 
>very much....
>
>Eric Evans
>Cornell Phonetics Lab
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bill-bell at bill-bell.hamilton.on.ca  Fri Jul 12 17:00:43 2002
From: bill-bell at bill-bell.hamilton.on.ca (Bill Bell)
Date: Fri, 12 Jul 2002 11:00:43 -0400
Subject: [R] 'R' library for Rasch modelling?
References: <200207120910520461.04113B3D@mail.lara.on.ca>
Message-ID: <200207121100430258.0475CC8A@mail.lara.on.ca>


I'm new to 'R', so forgive me if I've used the wrong term.

I'd like to model some Likert-style items using Rasch methods.

I've been unable to find mention of these for 'R'. Would someone happen to
know of any?

Thanks in any case.

Bill

------------
"It is the time that you have wasted for your rose that makes your rose so important."--St-Exupery


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Fri Jul 12 17:03:44 2002
From: wolski at molgen.mpg.de (Witold Eryk Wolski)
Date: Fri, 12 Jul 2002 17:03:44 +0200
Subject: [R] DSP?
Message-ID: <3D2EEFD0.1090003@molgen.mpg.de>

Hi!
Is there a classical Digital Signal processing library in R.
Specially i am looking for
Digital Filters, Chebyshev Filters, Recursiv Filters, Windowed-Sinc 
Filters...
And the fourier Transform, Cosine Transform, Sine Transform, 
z-Transform, Laplace Transform, Hadamard Transform.

Sincerely Eryk.

-- 
    _|_     \|/     \|/
    ?v?     'v?   \\'v'//
  //| |\\ //| |\\   | |
----m-m-----m-m-----m-m--------w-w-----
                               | |
   Eryk Witold Wolski        //.^.\\
                               /|\
wolski at molen.mpg.de
tel      : 0049-(0)30-8413-1543
fax      : 0049-(0)30-8413-1139
mobile   : 0049-1793210931
http://www.molgen.mpg.de/~mass-spec
http://www.molgen.mpg.de/~wolski
                               


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jul 12 17:35:26 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 12 Jul 2002 08:35:26 -0700 (PDT)
Subject: [R] R GUI and object browser
In-Reply-To: <20020712031337.GB8036@hortresearch.co.nz>
Message-ID: <Pine.A41.4.44.0207120834430.150462-100000@homer34.u.washington.edu>

On Fri, 12 Jul 2002, Patrick Connolly wrote:
>
>
> I wrote my function some years ago and could do it much better knowing
> what I know now, but if someone wants to make something generally
> available, mine might be a good starting point.
>

Interested parties might look at crossbreeding this with the object
browser in Bioconductor's tkWidget package.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HaynesK at DFO-MPO.GC.CA  Fri Jul 12 18:02:07 2002
From: HaynesK at DFO-MPO.GC.CA (HaynesK@DFO-MPO.GC.CA)
Date: Fri, 12 Jul 2002 12:02:07 -0400
Subject: [R] Using layout and text together
Message-ID: <6ECF0007FF49D411A25400508B6D9162D7CD55@msgnflwh02.nfl.dfo-mpo.gc.ca>

This is my first time using this list and was wondering if someone could
help me.

I have two graphs on a page which was obtained by using 
layout(matrix(c(2,1), 1, 2), widths=c(6,1.5))

I would like to place text next to each symbol in the second plot.  It is
simple to place text anywhere in the first, but then when I enter
coordinates that are supposed to be in the second (as found with the locator
command), then they don't show up.

Any hints, tips and opinions are greatly appreciated!

Thank you,
Katherine
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri Jul 12 18:13:01 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Fri, 12 Jul 2002 12:13:01 -0400
Subject: [R] 'R' library for Rasch modelling?
In-Reply-To: <200207121100430258.0475CC8A@mail.lara.on.ca>; from bill-bell@bill-bell.hamilton.on.ca on Fri, Jul 12, 2002 at 11:00:43AM -0400
References: <200207120910520461.04113B3D@mail.lara.on.ca> <200207121100430258.0475CC8A@mail.lara.on.ca>
Message-ID: <20020712121301.C3753@cattell.psych.upenn.edu>

On 07/12/02 11:00, Bill Bell wrote:
>
>I'm new to 'R', so forgive me if I've used the wrong term.
>
>I'd like to model some Likert-style items using Rasch methods.
>
>I've been unable to find mention of these for 'R'. Would someone happen to
>know of any?

I once fit some data using a Rasch-type model with nls in the nls
library, using commands roughly like:

  logit <- function(x) {exp(x)/(1+exp(x))}
  icc.tmp<-nls(score~C*logit((mscore-A)/B)+D)
               start=list(A=astart[i],B=.1,C=.5,D=.5),
               control=nls.control(tol=.025))

These were not Likert-type items but test items that were scored
as correct or incorrect.  The model would be more complicated
with several different cutoffs, and I don't want to take the time
to figure out how to do it.  It is similar to Thurstone category
scaling, I assume.

I note that the data I had were very messy, and the model fit
poorly and often failed to converge at all.  If I did this again
I would either make sure I had better data or else I would use
optim() (in the base package) instead of nls, or both.

Note also that various Rasch models allow you to specify
various parameters, such as an upper bound, lower bound,
midpoint, and slope.

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page:            http://www.sas.upenn.edu/~baron
R page:               http://finzi.psych.upenn.edu/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramasamy at stats.ox.ac.uk  Fri Jul 12 18:37:53 2002
From: ramasamy at stats.ox.ac.uk (Adaikalavan Ramasamy)
Date: Fri, 12 Jul 2002 17:37:53 +0100
Subject: [R] Write protecting objects
Message-ID: <008c01c229c2$81033320$a81401a3@stats.ox.ac.uk>

Is there a function to write protect a matrix  or list ?

I have considered making a duplicate copy. But I am wondering if
alternatives exist. Thanks.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jul 12 18:50:40 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 12 Jul 2002 09:50:40 -0700 (PDT)
Subject: [R] Write protecting objects
In-Reply-To: <008c01c229c2$81033320$a81401a3@stats.ox.ac.uk>
Message-ID: <Pine.A41.4.44.0207120944170.150462-100000@homer34.u.washington.edu>

On Fri, 12 Jul 2002, Adaikalavan Ramasamy wrote:

> Is there a function to write protect a matrix  or list ?
>
> I have considered making a duplicate copy. But I am wondering if
> alternatives exist. Thanks.
>

You could do this up to a point by defining a class with nonfunctional
subscripting methods
> data(trees)
> class(trees)<-c("nowrite",class(trees))
> "[<-.nowrite"<-function(x,...) {stop("Write protected")}
> "[[<-.nowrite"<-function(x,...) {stop("Write protected")}
> trees[3,4]<-4
Error in "[<-.nowrite"(*tmp*, 3, 4, value = 4) :
        Write protected
> trees[3,]<-trees[2,]
Error in "[<-.nowrite"(*tmp*, 3, , value = trees[2, ]) :
        Write protected

but this can't protect you against
> data(hills)
> trees<-hills
and it doesn't even seem to work on $
> "$<-.nowrite"<-function(x,...) {stop("Write protected")}
> trees$Girth<-trees$Volume

You probably want a duplicate copy.

	-thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nj7w at virginia.edu  Fri Jul 12 19:07:55 2002
From: nj7w at virginia.edu (nj7w@virginia.edu)
Date: Fri, 12 Jul 2002 13:07:55 -0400 (EDT)
Subject: [R] replacing text
In-Reply-To: <Pine.A41.4.44.0207120834430.150462-100000@homer34.u.washington.edu>
Message-ID: <Pine.A41.4.32.0207121259180.54360-100000@node4.unix.Virginia.EDU>

Hello,

I have a vector:
vect <- c("a.bcd.ef", "gh.i", ...of length n)

Position and number of dots vary, and not follow specific pattern.
I wish to replace all the dots by "_" in vect,  so that it
looks like
"a_bcd_ef","gh_i", etc..

I tried with grep and regexpr, but couldn't get the desired result.

Thanks.
-Nitin



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jgentry at jimmy.harvard.edu  Fri Jul 12 19:19:00 2002
From: jgentry at jimmy.harvard.edu (Jeff Gentry)
Date: Fri, 12 Jul 2002 13:19:00 -0400 (EDT)
Subject: [R] replacing text
In-Reply-To: <Pine.A41.4.32.0207121259180.54360-100000@node4.unix.Virginia.EDU>
Message-ID: <Pine.SOL.4.20.0207121318260.27366-100000@santiam.dfci.harvard.edu>

> Position and number of dots vary, and not follow specific pattern.
> I wish to replace all the dots by "_" in vect,  so that it
> looks like
> "a_bcd_ef","gh_i", etc..

Try:
gsub("\\.","_",vect)

> vect
[1] "a.bcd.ef"     "gh.i"         "foo.blah"     "test.another"
> gsub("\\.","_",vect)
[1] "a_bcd_ef"     "gh_i"         "foo_blah"     "test_another"
> 

Is this what you were looking for?

-Jeff

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jzhang at jimmy.harvard.edu  Fri Jul 12 19:24:34 2002
From: jzhang at jimmy.harvard.edu (John Zhang)
Date: Fri, 12 Jul 2002 13:24:34 -0400 (EDT)
Subject: [R] R GUI and object browser
Message-ID: <200207121724.NAA13552@blaise.dfci.harvard.edu>


>Date: Fri, 12 Jul 2002 08:35:26 -0700 (PDT)
>From: Thomas Lumley <tlumley at u.washington.edu>
>To: Patrick Connolly <p.connolly at hortresearch.co.nz>
>cc: R-help <r-help at stat.math.ethz.ch>
>Subject: Re: [R] R GUI and object browser
>MIME-Version: 1.0
>
>On Fri, 12 Jul 2002, Patrick Connolly wrote:
>>
>>
>> I wrote my function some years ago and could do it much better knowing
>> what I know now, but if someone wants to make something generally
>> available, mine might be a good starting point.
>>
>
>Interested parties might look at crossbreeding this with the object
>browser in Bioconductor's tkWidget package.

The tkWidget package is available at www.bioconductor.org under Downloads and 
then Released packages for a released version or Developmental packages for a 
development version. I have been working on and off the package and would be 
happy to discuss the possibility of crossbreeding if anyone is interested.

JZ


>
>	-thomas
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Fri Jul 12 20:05:09 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Fri, 12 Jul 2002 13:05:09 -0500
Subject: [R] replacing text
Message-ID: <026201c229ce$aa355960$0201a8c0@MARC>

>> Position and number of dots vary, and not follow specific pattern. 
>> I wish to replace all the dots by "_" in vect, so that it 
>> looks like 
>> "a_bcd_ef","gh_i", etc.. 

>Try: 
>gsub("\\.","_",vect) 

>> vect 
>[1] "a.bcd.ef" "gh.i" "foo.blah" "test.another" 
>> gsub("\\.","_",vect) 
>[1] "a_bcd_ef" "gh_i" "foo_blah" "test_another" 
>> 

>Is this what you were looking for? 

>-Jeff 

Be Careful!  The "_" character is an assignment operator!

gh_i 

is the same as 

gh <- i

or the same as 

gh = i

HTH.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jul 12 21:26:39 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 12 Jul 2002 12:26:39 -0700 (PDT)
Subject: [R] replacing text
In-Reply-To: <026201c229ce$aa355960$0201a8c0@MARC>
Message-ID: <Pine.A41.4.44.0207121224140.194118-100000@homer06.u.washington.edu>

On Fri, 12 Jul 2002, Marc Schwartz wrote in reply to>>
> >> Position and number of dots vary, and not follow specific pattern.
> >> I wish to replace all the dots by "_" in vect, so that it
> >> looks like
> >> "a_bcd_ef","gh_i", etc..
<snip>
>
> Be Careful!  The "_" character is an assignment operator!
>
> gh_i
>
> is the same as
>
> gh <- i
>

but only if you evaluate it.  This sort of transformation might often be
needed in transferring data to/from another system where "." is special
but "_" isn't. It's done (in C code) in read.dta/write.dta in the foreign
package, for example.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrysopa at insecta.ufv.br  Fri Jul 12 21:33:58 2002
From: chrysopa at insecta.ufv.br (Ronaldo Reis Jr.)
Date: Fri, 12 Jul 2002 16:33:58 -0300
Subject: [R] Warnings in plot(model)
Message-ID: <200207121633.58220.chrysopa@insecta.ufv.br>

Hi all,
I try to make a residuals plot in a model, but the warnings occur.

> anova(m2)
Analysis of Deviance Table

Model: Negative Binomial(5.6937), link: log

Response: nind

Terms added sequentially (first to last)


                Df Deviance Resid. Df Resid. Dev P(>|Chi|)
NULL                               81    270.242
metros           1    0.005        80    270.237     0.943
habitat          7   92.843        73    177.395 3.222e-17
especie          1    6.843        72    170.552     0.009
metros:habitat   6   21.246        66    149.306     0.002
habitat:especie  7   50.657        59     98.649 1.073e-08
Warning message: 
tests made without re-estimating theta in: anova.negbin(m2)
> plot(m2)
Warning message:
NaNs produced in: sqrt(1 - hii)

What this warnings?

With envolopes function a error occur.
> envnbin(m2)
Error in solve.default(t(X) %*% W %*% X) :
        singular matrix `a' in solve

Thanks for all
Ronaldo
-- 
The sun never sets on those who ride into it.
		-- RKO
--
|   //|\\   [*****************************][*******************]
|| ( ? ? )  [Ronaldo Reis J?nior          ][PentiumIII-600     ]
|     V     [ESALQ/USP-Entomologia, CP-09 ][HD: 30 + 10 Gb     ]
||  / l \   [13418-900 Piracicaba - SP    ][RAM: 128 Mb        ]
|  /(lin)\  [Fone: 19-429-4199 r.229      ][Video: SiS620-8Mb  ]
||/(linux)\ [chrysopa at insecta.ufv.br      ][Modem: Pctel-onboar]
|/ (linux) \[ICQ#: 5692561                ][SO: CL 7.0 (2.2.19)]
||  ( x )   [*****************************][*******************]
||| _/ \_Powered by Conectiva Linux 7.0 D+:) | Lxuser#: 205366

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Fri Jul 12 21:34:05 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Fri, 12 Jul 2002 14:34:05 -0500
Subject: [R] replacing text
In-Reply-To: <Pine.A41.4.44.0207121224140.194118-100000@homer06.u.washington.edu>
Message-ID: <027501c229db$1634c950$0201a8c0@MARC>

> -----Original Message-----
> From: Thomas Lumley [mailto:tlumley at u.washington.edu]
> Sent: Friday, July 12, 2002 2:27 PM
> To: Marc Schwartz
> Cc: r-help at r-project.org
> Subject: Re: [R] replacing text
> 
> On Fri, 12 Jul 2002, Marc Schwartz wrote in reply to>>
> > >> Position and number of dots vary, and not follow specific
pattern.
> > >> I wish to replace all the dots by "_" in vect, so that it
> > >> looks like
> > >> "a_bcd_ef","gh_i", etc..
> <snip>
> >
> > Be Careful!  The "_" character is an assignment operator!
> >
> > gh_i
> >
> > is the same as
> >
> > gh <- i
> >
> 
> but only if you evaluate it.  This sort of transformation might often
be
> needed in transferring data to/from another system where "." is
special
> but "_" isn't. It's done (in C code) in read.dta/write.dta in the
foreign
> package, for example.
> 
> 	-thomas

Very true. Thanks for elaborating on this.

Marc



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramasamy at stats.ox.ac.uk  Fri Jul 12 22:07:32 2002
From: ramasamy at stats.ox.ac.uk (Adaikalavan Ramasamy)
Date: Fri, 12 Jul 2002 21:07:32 +0100
Subject: [R] meaning of error message about collinearity
References: <027501c229db$1634c950$0201a8c0@MARC>
Message-ID: <011401c229df$c9883d30$a81401a3@stats.ox.ac.uk>

Just a quick question. I am trying to fit an LDA model with a restricted
subsample. My X is a numerical matrix and Y is vector of factor response.

fit _  lda( Y[1:50]  ~ X[1:50, ]  )

gives the following error message: variables are collinear in:
lda.default(x, grouping, ...)

I am guessing this is the problem of rank deficiency as I have about 80
variable. [since the lda works with subsample of size 80 and above]

Q1: Is my interpretation of the error message correct ?
Q2: I am using the fit to prediction purposes etc. Is this likely to be
affected. ie  how serious is this problem ?
Q3: Is there a good website about sound statistical theory/practical of
overcoming problem of rank deficiency if this is indeed the source of the
error.

Many thanks, Adai.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HStevens at muohio.edu  Fri Jul 12 22:20:59 2002
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Fri, 12 Jul 2002 16:20:59 -0400
Subject: [R] Novice lme split plot model specification
Message-ID: <5.1.0.14.2.20020712161133.00ac0c90@po.muohio.edu>

I am a little confused about a simple model specification in lme().
I have Treatments A (levels=1:2) and B (levels=1:2), Blocks (1:10), 
response Y. Levels of treatment A  are assigned at random to entire blocks, 
and all levels of B are applied to plots within each block.

(I believe that if all levels of A were applied to each block, then the 
correct model statement would be:
model <- lme(Y ~ A*B, random = ~1|Blocks).)

How would I specify the statement for my situation?
Thanks for the help.

Hank


Martin Henry H. Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.muohio.edu/~botcwis/bot/henry.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Fri Jul 12 22:44:58 2002
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Fri, 12 Jul 2002 13:44:58 -0700
Subject: [R] Crosstabs in R
Message-ID: <5.1.1.2.2.20020712133938.01c49348@odin.pdx.edu>

Before I reinvent the wheel, I have need for a relatively straightforward 
crosstabulation (2 x n) function.  I know that R has table(), ftable(), 
xtabs(), and summary(xtabs()), but none of these produce a fully "tricked" 
out cross-tabulation with marginal totals, expected cell frequencies, and 
an array of statistics about the contingency table.

Is there a more complete (something more along the lines of SPSS output) 
crosstabulation function that I've missed?

I've looked in all the usual places but can't seem to find anything besides 
the functions listed above.

Thanks.




=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://web.pdx.edu/~h1mf
PGP Key Available On Request
======================

"Anyway, no drug, not even alcohol, causes the fundamental ills of society.
If we're looking for the source of our troubles, we shouldn't test people
for drugs, we should test them for stupidity, ignorance, greed and love of
power."   P.J. O'Rourke

Powered by Optiplochoerus and Windows 2000 (scary isn't it?)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredrik.karlsson at ling.umu.se  Fri Jul 12 22:51:16 2002
From: fredrik.karlsson at ling.umu.se (Fredrik Karlsson)
Date: Fri, 12 Jul 2002 22:51:16 +0200
Subject: [R] Problem solved.
In-Reply-To: <20020712104521.GA30591@ling.umu.se>
References: <20020712104521.GA30591@ling.umu.se>
Message-ID: <20020712205116.GA1903@ling.umu.se>

Dear list members,

I just want to let you know that I've found the problem, so please
turn your attention to someone else's problems.

/Fredrik

On Fri, Jul 12, 2002 at 12:45:21PM +0200, Fredrik Karlsson wrote:
> I appologize if this post is a duplicate, but I did not get my first
> post myself..
> 
> Here is my original post:
> ---------------------------------
> Hi all,
> 
> I've got some troubles with a Lattice plot. The error I get is
> 
> Error in Ops.factor(groups[subscripts], vals[i]) :
>         Level sets of factors are different 
> 
> which sort of doesn't make sense to me. Can you please help me
> figure out what it means?
> 
> Here is the code:
> 
> my.panelconstr = function(x,y,...){
>     points(x,y)
> 	  panel.loess(x,y,span=1)
> 		panel.superpose(x,y,...)
> }
> 
> subset(m1data,! is.na(votms) & !is.na(age) & !is.na(Cplace) &
> 			!is.na(tokentype)& !is.na(voicing),
> 			select=c(votms,age,Cplace,tokentype,voicing)) -> sampledata
> 
> xyplot(votms ~ age | Cplace +
> 			tokentype,data=datasample,xlab="Subject Age (months)",ylab="Voice
> 			Onset Time (ms)",panel="my.panelconstr",groups=voicing)
> 				
> 
> Some information on the data set:
> 
> > sapply(sampledata,levels)
> > $votms
> > NULL
> >
> > $age
> > NULL
> >
> > $Cplace
> > [1] "bilabial" "dental"   "velar"   
> >
> > $tokentype
> > [1] "CC"          "voiced C"    "voiceless C"
> >
> > $voicing
> > [1] "voiced"    "voiceless"
> >
> 
> (The entire data set follows below..)
> 
> Please, help  me with this. The solution is probably an easy one..
> 
> /Fredrik
> 
> 
> 
> > sampledata
> >          votms age   Cplace   tokentype   voicing
> >          0    15.954326  24    velar voiceless C    voiced
> >          1     6.710849  24    velar          CC    voiced
> >          2    14.364436  24    velar          CC    voiced
> >          3   -33.844981  24 bilabial    voiced C    voiced
> >          4   -18.158754  24 bilabial    voiced C    voiced
> >          5    53.878500  24   dental    voiced C    voiced
> >          7     4.257577  24    velar voiceless C    voiced
> >          10  -49.215803  24 bilabial voiceless C    voiced
> >          11   24.412121  24 bilabial voiceless C    voiced
> >          15  -24.208462  24 bilabial          CC    voiced
> >          16  -10.129738  24 bilabial          CC voiceless
> >          17    1.530824  24   dental          CC    voiced
> >          18    5.754966  24   dental voiceless C    voiced
> >          19   15.910566  24 bilabial    voiced C    voiced
> >          20    8.951559  24   dental    voiced C    voiced
> >          21   13.411571  24    velar    voiced C    voiced
> >          24    1.061967  24 bilabial voiceless C    voiced
> >          25   11.252349  24    velar voiceless C    voiced
> >          27   18.613304  24 bilabial          CC    voiced
> >          28    7.065712  24   dental voiceless C    voiced
> >          29   16.273826  24    velar voiceless C    voiced
> >          31   10.542812  24   dental voiceless C    voiced
> >          32   18.929595  24   dental          CC    voiced
> >          34   92.640000  24    velar voiceless C    voiced
> >          35    9.072296  24 bilabial          CC    voiced
> >          36    3.987829  24   dental voiceless C    voiced
> >          37  -29.741057  24 bilabial voiceless C    voiced
> >          38  -35.235355  24   dental voiceless C    voiced
> >          40   17.915961  24 bilabial voiceless C    voiced
> >          41  -44.849629  24 bilabial          CC    voiced
> >          42   11.534454  25    velar    voiced C    voiced
> >          43    8.814480  25 bilabial voiceless C    voiced
> >          44   28.353609  25 bilabial voiceless C voiceless
> >          45   31.009542  25    velar voiceless C    voiced
> >          47   -1.723251  25 bilabial          CC    voiced
> >          48   26.588373  25   dental voiceless C    voiced
> >          49   77.686766  25   dental voiceless C voiceless
> >          50   14.329650  25   dental voiceless C    voiced
> >          51  -21.985267  25 bilabial    voiced C    voiced
> >          52    8.830956  25   dental voiceless C    voiced
> >          53   14.491379  25 bilabial    voiced C    voiced
> >          54   11.218807  25   dental    voiced C    voiced
> >          56   72.241633  25    velar          CC    voiced
> >          57  -29.219088  25 bilabial          CC    voiced
> >          59   11.422903  25    velar voiceless C    voiced
> >          60   25.581157  25   dental          CC    voiced
> >          62   20.957003  27 bilabial    voiced C voiceless
> >          63   12.664048  27 bilabial    voiced C    voiced
> >          64   26.069895  27   dental    voiced C    voiced
> >          67   12.634800  27 bilabial voiceless C    voiced
> >          68    8.232476  27 bilabial voiceless C    voiced
> >          69  316.579179  27    velar voiceless C voiceless
> >          70    7.939195  27    velar          CC    voiced
> >          73   10.283447  27 bilabial          CC    voiced
> >          74    7.690974  27 bilabial          CC    voiced
> >          75   14.828804  27   dental          CC    voiced
> >          76    2.071590  27   dental voiceless C    voiced
> >          77   15.017524  27   dental voiceless C    voiced
> >          78   36.405154  27   dental voiceless C voiceless
> >          79    7.621855  27 bilabial    voiced C    voiced
> >          82   12.406816  27 bilabial voiceless C    voiced
> >          86   15.936522  27 bilabial          CC voiceless
> >          88    5.334834  27   dental voiceless C    voiced
> >          90   12.254666  27    velar    voiced C    voiced
> >          91   19.531705  27    velar voiceless C    voiced
> >          92   21.945019  27    velar    voiced C    voiced
> >          94    3.716871  27    velar voiceless C    voiced
> >          95   12.121338  27 bilabial voiceless C    voiced
> >          98   -3.525175  28 bilabial    voiced C    voiced
> >          99   12.893467  28 bilabial    voiced C    voiced
> >          100   4.674544  28   dental    voiced C    voiced
> >          101  -5.404834  28    velar    voiced C    voiced
> >          105   3.232809  28    velar          CC    voiced
> >          108  27.599286  28 bilabial voiceless C    voiced
> >          109   6.862059  28 bilabial          CC    voiced
> >          110   5.858169  28   dental          CC    voiced
> >          111   2.739856  28   dental voiceless C    voiced
> >          112 -38.698842  28   dental voiceless C    voiced
> >          113   5.447914  28    velar    voiced C    voiced
> >          114   8.391119  28    velar voiceless C    voiced
> >          117   1.979944  28    velar voiceless C    voiced
> >          118  17.974069  28 bilabial voiceless C    voiced
> >          122   6.959839  29 bilabial    voiced C    voiced
> >          123   2.209952  29   dental    voiced C    voiced
> >          124  13.489543  29    velar    voiced C    voiced
> >          125  12.613704  29    velar voiceless C    voiced
> >          127   7.102228  29 bilabial voiceless C    voiced
> >          128  11.265065  29 bilabial voiceless C    voiced
> >          130   8.524358  29   dental voiceless C    voiced
> >          132  15.399187  29   dental voiceless C    voiced
> >          133   8.581753  29 bilabial    voiced C    voiced
> >          134   6.983810  29   dental    voiced C    voiced
> >          135 -52.456936  29   dental voiceless C    voiced
> >          136   7.063439  29    velar          CC    voiced
> >          137   6.961839  29   dental voiceless C    voiced
> >          140 -53.125911  29 bilabial    voiced C    voiced
> >          143  15.711247  29 bilabial voiceless C    voiced
> >          145   3.359106  29 bilabial    voiced C    voiced
> >          146  12.390004  29   dental    voiced C    voiced
> >          147   9.964120  29   dental voiceless C    voiced
> >          149   5.720067  29 bilabial          CC    voiced
> >          150  16.754006  29   dental voiceless C    voiced
> >          151   8.740509  29    velar          CC    voiced
> >          152  10.348791  29 bilabial          CC    voiced
> >          153   7.808633  29   dental          CC    voiced
> >          154   3.024170  29   dental          CC    voiced
> >          155   9.928435  29 bilabial          CC    voiced
> >          157  54.333177  29   dental voiceless C    voiced
> >          158  11.889378  29    velar          CC    voiced
> >          160  32.880320  30 bilabial    voiced C voiceless
> >          161  32.885067  30 bilabial    voiced C voiceless
> >          162  13.429712  30   dental    voiced C voiceless
> >          163  40.299000  30    velar    voiced C voiceless
> >          166   5.855356  30 bilabial voiceless C voiceless
> >          167  10.412418  30   dental voiceless C    voiced
> >          168  16.889134  30   dental voiceless C voiceless
> >          169 -59.224149  30    velar voiceless C    voiced
> >          171  99.767957  30    velar          CC voiceless
> >          176  18.722669  30   dental    voiced C    voiced
> >          177  19.755000  30    velar    voiced C    voiced
> >          183  11.884398  30   dental voiceless C    voiced
> >          184  36.009200  30 bilabial voiceless C voiceless
> >          185  14.201996  30 bilabial          CC    voiced
> >          186  12.287322  30 bilabial          CC    voiced
> >          187  17.453539  30 bilabial voiceless C    voiced
> >          190  26.808391  30    velar          CC voiceless
> >          191  17.295361  30   dental          CC    voiced
> >          193  48.171823  31 bilabial    voiced C voiceless
> >          194  12.190815  31 bilabial    voiced C    voiced
> >          195  40.820515  31    velar voiceless C voiceless
> >          201  29.808337  31   dental    voiced C    voiced
> >          205  20.972073  31   dental voiceless C voiceless
> >          206  88.281232  31    velar voiceless C voiceless
> >          211  61.456342  31    velar    voiced C voiceless
> >          212  15.711172  31 bilabial voiceless C voiceless
> >          214  53.239000  31   dental          CC voiceless
> >          216  33.841200  31 bilabial          CC    voiced
> >          217  42.051951  31    velar    voiced C voiceless
> >          218  30.176308  31    velar          CC    voiced
> >          219  30.186293  31 bilabial          CC    voiced
> >          220  21.998930  31 bilabial voiceless C voiceless
> >          222  40.653390  31    velar voiceless C voiceless
> >          223  11.798986  31   dental          CC    voiced
> >          224  60.585705  32 bilabial    voiced C voiceless
> >          225   7.973256  32 bilabial    voiced C    voiced
> >          228  95.824252  32    velar voiceless C voiceless
> >          230  11.469333  32 bilabial voiceless C    voiced
> >          236  18.062884  32 bilabial    voiced C    voiced
> >          238  69.997263  32 bilabial voiceless C voiceless
> >          240 -80.599336  32   dental    voiced C    voiced
> >          241  20.279421  32 bilabial voiceless C voiceless
> >          245 202.795327  32    velar voiceless C voiceless
> >          247  19.944309  32 bilabial voiceless C voiceless
> >          248  11.503982  32 bilabial voiceless C    voiced
> >          249  11.545439  32 bilabial          CC voiceless
> >          250  12.887457  32   dental voiceless C voiceless
> >          251  45.991986  32    velar voiceless C voiceless
> >          253  75.917893  32 bilabial          CC voiceless
> >          254  18.824056  32   dental voiceless C voiceless
> >          256 101.095335  32    velar          CC voiceless
> >          257  32.398865  32   dental          CC voiceless
> >          259  30.852728  32   dental          CC voiceless
> >          266  12.579714  19 bilabial voiceless C voiceless
> >          271   7.399954  23    velar          CC    voiced
> >          274  11.557411  23    velar          CC voiceless
> >          275  10.397010  23   dental          CC    voiced
> >          276   6.646640  23   dental          CC    voiced
> >          277  10.367765  23   dental          CC    voiced
> >          278  13.635147  23   dental          CC    voiced
> >          279   3.585918  23   dental          CC    voiced
> >          280  24.559838  23   dental          CC    voiced
> >          282   5.509939  23   dental    voiced C    voiced
> >          283  13.230395  23   dental    voiced C    voiced
> >          285  25.633231  23   dental    voiced C voiceless
> >          289  16.842630  23 bilabial voiceless C voiceless
> >          291  11.666541  23   dental          CC    voiced
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Jul 12 23:29:59 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 12 Jul 2002 23:29:59 +0200
Subject: [R] Crosstabs in R
In-Reply-To: <5.1.1.2.2.20020712133938.01c49348@odin.pdx.edu>
References: <5.1.1.2.2.20020712133938.01c49348@odin.pdx.edu>
Message-ID: <15663.19031.771746.158501@gargle.gargle.HOWL>

>>>>> "Marc" == Marc Feldesman <feldesmanm at pdx.edu> writes:

    Marc> Before I reinvent the wheel, I have need for a
    Marc> relatively straightforward crosstabulation (2 x n)
    Marc> function.  I know that R has table(), ftable(),
    Marc> xtabs(), and summary(xtabs()), but none of these
    Marc> produce a fully "tricked" out cross-tabulation with
    Marc> marginal totals, expected cell frequencies, and an
    Marc> array of statistics about the contingency table.

    Marc> Is there a more complete (something more along the
    Marc> lines of SPSS output) crosstabulation function that
    Marc> I've missed?

    Marc> I've looked in all the usual places but can't seem to
    Marc> find anything besides the functions listed above.

I was recently asked the same thing .. and wondered.
I did vaguely remember I had written something like that for
S-plus almost 10 years ago -- for teaching purposes.

Here is the result; the main function is printTable2() 
it uses an auxiliary catCon().

Both of these reflect the style of programming I used to have in
the early nineties....

... and you should translate German to English.

Please improve and post back! ---> maybe all on R-devel instead
of R-help {and I *will* not be around for one whole week !}

Regards,
Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><


-------------- next part --------------

printTable2 <- function(table2, digits = 3)
{
  ##-- 2-weg Kontingenztafel mit allem zusammen ... -- ruft  catCon(.)  auf
  ##-- Urspruneglich fuer NDK-Uebungen 1992
  ##-- Verbessert und Fehler korrigiert! : M.Maechler, Feb.1993
  d <- dim(table2)
  if(length(d) != 2)
    stop("Argument muss numerische Matrix sein: Die (2-Weg) Kontingenz Tafel")
  N <- sum(table2)
  cat("\nKontingenz-Tafel mit Randsummen:\n")
  catCon (table2, 0)
  cat("\nGemeinsame Verteilung mit Randverteilungen:\n")
  I <- d[1];  J <- d[2];  df <- (I-1)*(J-1)
  r <- catCon (table2/N, digits)
  joint <- r[1:I, 1:J]
  xrand <- r[I+1, 1:J]
  yrand <- r[1:I, J+1]
  condy <- joint/yrand
  condx <- t(t(joint)/xrand)
  cat("Bedingte Verteilung gegen y:\n"); print(round(condy,digits)); cat("\n")
  cat("Bedingte Verteilung gegen x:\n"); print(round(condx,digits)); cat("\n")
  exp.ind <- N * outer(yrand,xrand)#- Expected under INDEPendence: n * p_i * p_j
  cat("Freiheitsgrade: df =",df,"\n")
  cat("Chi^2 - Annahmebereich: [0,", round(qchisq(0.95,df),1),
      "] (alpha=0.05)\n\n\n", sep = "")
  test.chisq <- sum((as.matrix(table2)-exp.ind)^2/exp.ind)
  cat("Testwerte unter der Unabhaengigkeitshypothese:\n")
  cat("  Test mit Chi^2: ",format(round(test.chisq,2)),
      " (P-Wert: ",round(1-pchisq(test.chisq,df),4),")\n",sep = "")
  is.pos <- table2 != 0
  test.deviance <- 2*sum(table2[is.pos]*log(table2[is.pos]/exp.ind[is.pos]))
  cat("  Test mit Devianz:  ",format(round(test.deviance,2)),
      " (P-Wert: ",round(1-pchisq(test.deviance,df),4),")\n\n",sep = "")
  invisible(list(p.condx = condx, p.condy = condy, expected.indep = exp.ind,
		 df = df, chisq.test = test.chisq, deviance = test.deviance))
}

catCon <- function(mat, digits = 3)
{
  ##-- "CAT CONtingency table"  mit RAND-SUMMEN + "Verzierung"
  ##-- Korrigiert fuer UNsymmetr. Kont.tafeln und stark vereinfacht: M.Maechler
  ## Gibt Resultat zurueck !
  ##>>> Hilfsfunktion fuer 'printTable2' <<<
  mat <- as.matrix(mat)
  d <- dim(mat);  N <- d[1];  M <- d[2]
  mat <- rbind(cbind(mat, mat %*% rep(1, M)),
	       c(rep(1,N) %*% mat,  sum(mat)))
  out <- format(round(mat, digits))
  "--" <- paste(rep("-", max(nchar(out))), collapse = "")
  out <- cbind(rbind(out, get("--")), "|")
  print(out[c(1:N,N+2,N+1), c(1:M,M+2,M+1)], quote = FALSE)
  invisible(mat) #--- die erweiterte Matrix --
}

From FJMolina at lbl.gov  Sat Jul 13 03:15:45 2002
From: FJMolina at lbl.gov (Francisco J Molina)
Date: Fri, 12 Jul 2002 18:15:45 -0700
Subject: [R] plotting
Message-ID: <3D2F7F41.C86EB969@lbl.gov>

I am plotting a function.

Does anyone know how I can plot the graph with the ticks in a numerical
vector v I would provide to the plotting function?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Sat Jul 13 04:47:29 2002
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Fri, 12 Jul 2002 21:47:29 -0500
Subject: [R] mutable objects
Message-ID: <AFD78192EC49D311BFAE00902798AB8F23DA1F@jupiter.arbitrade.com>

Hi,

I need "mutable" objects that I can safely modify in my C code. All call
interfaces, e.g. .C, .Call, etc., require you to not modify the "in" args.
The description of the OOP package in R-news from Sep 2001 alludes to a
possiblity of such objects, but the package itself is no longer on Omegahat
and I am not sure I need the full machinery.

Thanks, Vadim


P.S. I wonder what is the relationship between the "methods" package and the
OOP package described in R-news from Sep 2001.

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE regarding privacy and confidentiality 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Sat Jul 13 04:53:56 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Fri, 12 Jul 2002 21:53:56 -0500
Subject: [R] plotting
In-Reply-To: <3D2F7F41.C86EB969@lbl.gov>
Message-ID: <000101c22a18$88a3e7e0$0201a8c0@MARC>

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On
> Behalf Of Francisco J Molina
> Sent: Friday, July 12, 2002 8:16 PM
> To: r-help
> Subject: [R] plotting
> 
> I am plotting a function.
> 
> Does anyone know how I can plot the graph with the ticks in a
numerical
> vector v I would provide to the plotting function?

If I understand your question correctly, you would use the axis()
function.  See ?axis.

If you are using plot() to generate the graphic, you would specify "axes
= FALSE" as an argument to plot(), which would tell the function to not
generate axis lines, tick marks and axis labels at the tick marks. This
would then allow you to define your own using axis().

For an additional set of arguments to plot() see ?plot.default.

Hope that helps.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Sat Jul 13 13:59:18 2002
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Sat, 13 Jul 2002 21:59:18 +1000
Subject: [R] Crosstabs in R
Message-ID: <20020713115319.HFOA18000.mta07.mail.mel.aone.net.au@there>

Mac Feldesman wrote:

> ...Is there a more complete (something more along the lines of SPSS 
> output) crosstabulation function that I've missed?

The functions xtab() and format.xtab() included in "Kickstarting R" at

http://cran.r-project.org

in Contributed Documentation do pretty much this, and a bit more.
You'll have to download the one of the compressed files and look at 
kr_desc.R.

Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjdillon at biophoton.com  Sat Jul 13 17:12:08 2002
From: kjdillon at biophoton.com (Kenneth J. Dillon)
Date: Sat, 13 Jul 2002 11:12:08 -0400
Subject: [R] SAS Simulator
Message-ID: <000801c22a7f$a8cdfbc0$d12d2c42@Petunia>

Dear Sir/Madam:

     Has anyone developed a SAS programming language simulator in
R?  What would it take to make the R environment able to translate SAS
programs into R?  As you can appreciate, a simulator like this would
 make available via Open Source hundreds of SAS third-party add-ons.  So
 everyone could use R instead of SAS without fear of missing out on anything
of
significance.
     Spectrum Bioscience has been submitting a series of large proposals to
NIH
that contain significant biostatistics software development components.  If
one of
these proposals is successful, we might obtain the resources to undertake a
SAS simulator project as well as to help out in other ways with R.
     With my best wishes.

Ken Dillon

Kenneth J. Dillon
Spectrum Bioscience, Inc.
2020 F Street, N.W. #505
Washington, D.C. 20006
202-467-0572
kjdillon at biophoton.com
www.biophoton.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Timur.Elzhov at jinr.ru  Sat Jul 13 18:03:55 2002
From: Timur.Elzhov at jinr.ru (Timur Elzhov)
Date: Sat, 13 Jul 2002 20:03:55 +0400
Subject: [R] Fail to convert any .Rd file
Message-ID: <20020713160354.GA17292@pcf004.jinr.ru>

Hello, experts!


I've tried to convert MASS.Rd, for instance:

    R CMD Rdconv -t txt MASS.Rd -o MASS.txt 2>MASS.log

Comp was thinking for a long, about 30s on Linux 600MHz/128M,
but after that R didn't produce the result MASS.txt file, but
very large log.  Here is its header:


******* Syntax error: mismatched or missing brackets in
/-----
\name{Aids2}
\alias{Aids2}
\title{
Australian AIDS Survival Data
}
\description{ ...


and so on, almost entire MASS.Rd followed ..

The same situation with man/*.Rd file of any other package.
Where am I wrong?!

Excuse me for my unexperience,
Thanks a lot!


PS  I'm using R 1.5.0 under Linux (Debian woody) on i386 platform.

--
Timur.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramasamy at stats.ox.ac.uk  Sat Jul 13 16:53:54 2002
From: ramasamy at stats.ox.ac.uk (Adaikalavan Ramasamy)
Date: Sat, 13 Jul 2002 15:53:54 +0100
Subject: [R] plotting
References: <3D2F7F41.C86EB969@lbl.gov>
Message-ID: <006001c22a7d$62f61c10$a81401a3@stats.ox.ac.uk>

If v _ c( 0, 10, 13, 179)
Try mtext( | , side=1, at=v , line= -0.5, cex=0.5 ) if you want tick marks
on the x-axis
the line argument usually means how far away from the axis you want the
marks. negative means inwards, you may have to experiment a bit to get it on
the axis as you wish.
cex=0.5 just controls the font size.

There are tick mark options, together with grid options but I find mtext
quick and easy.
Perhaps some members know a more efficient way.

----- Original Message -----
From: "Francisco J Molina" <FJMolina at lbl.gov>
To: "r-help" <r-help at stat.math.ethz.ch>
Sent: Saturday, July 13, 2002 2:15 AM
Subject: [R] plotting


> I am plotting a function.
>
> Does anyone know how I can plot the graph with the ticks in a numerical
> vector v I would provide to the plotting function?
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sun Jul 14 02:29:42 2002
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sat, 13 Jul 2002 20:29:42 -0400 (EDT)
Subject: [R] help with adapt function
Message-ID: <Pine.LNX.4.44.0207132006510.22553-100000@Chrestomanci>


Dear People,

I'm trying to use the function adapt, from the adapt library package,
which does multidimensional numerical integration. I think I must be using
the wrong syntax or something, because even a simple example does not
work. Consider

 foo <- function(x){x[1]*x[2]}

and

adapt(2, lo = c(-1,-1), up = c(1,1), functn = foo)

This simply hangs. A more complicated example crashes R, but never
mind that for the moment. Perhaps some kind person could explain what
I am doing wrong here?

The help page says

"functn an R function which should take a single vector argument and
        possibly some parameters and return the function value at that
        point. functn must return a single numeric value."

which is what I think I am doing here, but I expect I am missing
something as usual.

By the way, the help page does not say this explicitly, but I assume
that the first component in the vectors "lower" and "upper" correspond
respectively to the lower and upper limits of the integral for the
first component of the vector argument in the function, and so on?

                                       Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Sun Jul 14 04:21:22 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sat, 13 Jul 2002 19:21:22 -0700 (PDT)
Subject: [R] help with adapt function
In-Reply-To: <Pine.LNX.4.44.0207132006510.22553-100000@Chrestomanci>
Message-ID: <Pine.A41.4.44.0207131909270.155692-100000@homer09.u.washington.edu>

On Sat, 13 Jul 2002, Faheem Mitha wrote:

>
> Dear People,
>
> I'm trying to use the function adapt, from the adapt library package,
> which does multidimensional numerical integration. I think I must be using
> the wrong syntax or something, because even a simple example does not
> work. Consider
>
>  foo <- function(x){x[1]*x[2]}
>
> and
>
> adapt(2, lo = c(-1,-1), up = c(1,1), functn = foo)
>
> This simply hangs. A more complicated example crashes R, but never
> mind that for the moment. Perhaps some kind person could explain what
> I am doing wrong here?


You're trying to compute an integral that's exactly zero and not
specifying a maximum number of evaluations. The Fortran code
in adapt() uses an estimate of the relative error in deciding if the
answer is accurate, and if you don't specify the maxpts argument it will
keep increasing the number of evaluations until the relative error
criterion is satisfied.

If the true integral is zero the relative error will never be less than
the specified level and the function will never stop.  With your example I
get
>  adapt(2, lo = c(-1,-1), up = c(1,1), functn = foo,maxpts=10000)
                                                    value
                                             8.673617e-19
                                                   relerr
                                                        1
                                                   minpts
                                                     9999
                                                   lenwrk
                                                     1403
                                                    ifail
                                                        1
                                                     warn
Ifail=1, maxpts was too small. Check the returned relerr!
Warning message:
Ifail=1, maxpts was too small. Check the returned relerr! in: adapt(2, lo
= c(-1, -1), up = c(1, 1), functn = foo, maxpts = 10000)

or integrating over just one quadrant so the answer isn't zero

>  adapt(2, lo = c(-1,-1), up = c(0,0), functn = foo)
      value      relerr      minpts      lenwrk       ifail
       0.25 7.38275e-08         165          73           0

or changing the function slightly
> bar<-function(x) {foo(x)+1e-4}
>  adapt(2, lo = c(-1,-1), up = c(1,1), functn = bar)
      value      relerr      minpts      lenwrk       ifail
      4e-04 9.23213e-05         165          73           0


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dieter.menne at menne-biomed.de  Sun Jul 14 10:26:03 2002
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Sun, 14 Jul 2002 10:26:03 +0200
Subject: [R] nls() singular graident matrix error 
Message-ID: <JLEPLGAANFCEAEDCAGJNIEJCCCAA.dieter.menne@menne-biomed.de>

Richard,


Trying to duplicate the model in R using nls(), I took the following  steps:
        Foo <- deriv( ~ tph1 * ((1 - exp(-(a1*N^a2)*age2))/ (1 -
exp(-(a1*N^a2)*age)))^(-(b1*N + b2*T +
            b3*F*T)), c("a1","a2","b1","b2","b3"), function(tph1, age2, age,
T, N, a1, a2, b1, b2, b3) {})


I had a similar problem, and tracked it down to a known bug in deriv, which
does not correctly handle unary minus signs. To check is this is the
problem,
rewrite
  exp(-(a1*N^a2)*age2))
as

  exp((-1)*(a1*N^a2)*age2))

(for all similar cases)

Even if this does not help (there might be other errors around), check
the resulting derivatives if they are correct. I never use derive unchecked,
but only to generate an expression and paste that expression into my
program.

Dieter

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun Jul 14 12:14:45 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 14 Jul 2002 12:14:45 +0200
Subject: [R] Fail to convert any .Rd file
References: <20020713160354.GA17292@pcf004.jinr.ru>
Message-ID: <3D314F15.6B0BD568@statistik.uni-dortmund.de>

Timur Elzhov wrote:
> 
> Hello, experts!
> 
> I've tried to convert MASS.Rd, for instance:
> 
>     R CMD Rdconv -t txt MASS.Rd -o MASS.txt 2>MASS.log
> 
> Comp was thinking for a long, about 30s on Linux 600MHz/128M,
> but after that R didn't produce the result MASS.txt file, but
> very large log.  Here is its header:
> 
> ******* Syntax error: mismatched or missing brackets in
> /-----
> \name{Aids2}
> \alias{Aids2}
> \title{
> Australian AIDS Survival Data
> }
> \description{ ...
> 
> and so on, almost entire MASS.Rd followed ..
> 
> The same situation with man/*.Rd file of any other package.
> Where am I wrong?!
> 
> Excuse me for my unexperience,
> Thanks a lot!
> 
> PS  I'm using R 1.5.0 under Linux (Debian woody) on i386 platform.

Obviously, you are trying to convert the Rd file from a binary package.
R CMD Rdconv is designed to convert an Rd file from a source package. If
you look into the MASS sources (in package VR), you will find MANY of
those Rd files, which can be converted with R CMD Rdconv perfectly...

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjvbertin at hotmail.com  Sun Jul 14 17:28:06 2002
From: rjvbertin at hotmail.com (RenE J.V. Bertin)
Date: Sun, 14 Jul 2002 17:28:06 +0200
Subject: [R] lattice question: adding slopes to bwplot
Message-ID: <LAW2-F16u2YCSVjYmkX0001080a@hotmail.com>

Hi,

I'd like to add lines to the panels of a bwplot, showing (and connecting) 
the means of the displayed distributions. I didn't find anything in the 
documentation or the examples that suggests how to accomplish this easily. 
Has anybody done this already, and willing to share?

Thanks,


RenE J.V. Bertin
College de France/LPPA
11, place Marcelin Berthelot
75005 Paris, France


_________________________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Sun Jul 14 22:40:38 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Mon, 15 Jul 2002 08:40:38 +1200
Subject: [R] Using layout and text together
References: <6ECF0007FF49D411A25400508B6D9162D7CD55@msgnflwh02.nfl.dfo-mpo.gc.ca>
Message-ID: <3D31E1C6.71EACFFB@stat.auckland.ac.nz>

Hi


> This is my first time using this list and was wondering if someone could
> help me.
> 
> I have two graphs on a page which was obtained by using
> layout(matrix(c(2,1), 1, 2), widths=c(6,1.5))
> 
> I would like to place text next to each symbol in the second plot.  It is
> simple to place text anywhere in the first, but then when I enter
> coordinates that are supposed to be in the second (as found with the locator
> command), then they don't show up.
> 
> Any hints, tips and opinions are greatly appreciated!


You may be having trouble with the order in which you are doing
things(?)
You must do all the drawing you want to do in one graph before moving on
to the next graph.  The following works for me (and the text annotation
may help to show where drawing occurs) ...

layout(matrix(c(2,1), 1, 2), widths=c(6,1.5))
plot(1:10)
text(locator(3), letters[1:3])
text(10, 1, "Text drawn in coordinate system of \"first\" graph")
plot(10:1)
text(locator(3), letters[1:3])
text(10, 1, "Text drawn in coordinate system of \"second\" graph")

Hope that helps

Paul
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.connolly at hortresearch.co.nz  Mon Jul 15 00:03:41 2002
From: p.connolly at hortresearch.co.nz (Patrick Connolly)
Date: Mon, 15 Jul 2002 10:03:41 +1200
Subject: [R] R GUI and object browser
In-Reply-To: <15662.30505.179443.775218@gargle.gargle.HOWL>
References: <20020710221930.05bd55ff.fharrell@virginia.edu> <5.1.0.14.0.20020711195638.00a7c0e0@pop-server.ec.rr.com> <20020712031337.GB8036@hortresearch.co.nz> <15662.30505.179443.775218@gargle.gargle.HOWL>
Message-ID: <20020714220341.GA16626@hortresearch.co.nz>

On Fri, 12-Jul-2002 at 08:28AM +0200, Martin Maechler wrote:

|> >>>>> "PaCo" == Patrick Connolly <p.connolly at hortresearch.co.nz> writes:
|> 
|>     PaCo> On Thu, 11-Jul-2002 at 07:58PM -0400, Mike Prager wrote:
|>     PaCo> |> At 10:37 AM 07/11/2002 +0200, Philippe Grosjean wrote:
|>     PaCo> |> >Several users noticed that the only part of the Splus GUI they
|>     PaCo> |> >use is the object explorer. So, wouldn't an R object explorer be a good
|>     PaCo> |> >addition to the current interface?
|>     PaCo> |> 
|>     PaCo> |> Yes!  I hope the core development team will consider it.
|> 
|>     PaCo> It's not very difficult to write a function that lists your objects in
|>     PaCo> a dataframe along with the sort of information you'd like to see.  I
|>     PaCo> personally like to know the size of dataframes so it was simple to
|>     PaCo> make columns that shows the dimensions.  It was somewhat trickier to
|>     PaCo> get the date but I like to have it, so I did it.  
|> 
|>     PaCo> My current directory has things like this in it:
|> 
|>     PaCo> Object        Mode   Rows Cols Len    Date   
|>     PaCo> 1 fmr.pvh2000    function  --    --   1  12/07/2002
|>     PaCo> 2 last.warning   list      --    --   5  12/07/2002
|>     PaCo> 3 pvh.latto2000  function  --    --   1  09/07/2002
|>     PaCo> 4 pvh.latto2000A function  --    --   1  09/07/2002
|>     PaCo> 5 rain.plot2000  function  --    --   1  09/07/2002
|>     PaCo> 6 accum2000      function  --    --   1  04/07/2002
|>     PaCo> 7 pvh.latto4     function  --    --   1  04/07/2002
|>     PaCo> 8 side.df        dataframe 1000  5    5  04/07/2002
|> 
|> quite nice!
|> 
|> Note:
|> 
|>   ls.str()  
|>   ~~~~~~~~
|> 
|> may be an under used feature of R, at least since version 0.5 or so;
|> it does provide a bit more output than the above and 
|> does *not* provide the date. 

That could be quite useful.  I'd never noticed it before.



|> 
|> For quite some reason: 
|> I believe that most of the experienced S users (including the R
|> ones) keep things in scripts and packages -- if only for the
|> purpose of reproducible research and do not use .RData often
|> (I do never; I do save expensive results (mostly simulations) in *.rda
|> files that I attach() or load() explicitly, but that's all.
|> Everything else I recreate by running a script or loading a
|> private package.  --> hence `date' of an object would have to be
|> the date of the script where that object is defined which often
|> is not really interesting...
|> 
|>     PaCo> I wrote my function some years ago and could do it much better knowing
|>     PaCo> what I know now, but if someone wants to make something generally
|>     PaCo> available, mine might be a good starting point.
|> 
|> (so why didn't you append it, or make it available as URL ?)

To answer that will require some explanation which might be boring to
some, but here it is:

I first created my process back when I was using Splus 3.1 which keeps
objects as files which have a date.  One of the main shell commands I
use is ls -lat because I'm usually interested in the most recent files
in a directory I'm working on.  Using Splus, the habit carried over,
so I set about producing the same effect and I got very comfortable
working that way.  I limited the amount of information displayed so
that no more than one line was taken up by each object.  Over the
years, it became useful to know just how old a particular dataframe or
function was in addition to knowing just what were lists and other
types of objects.  I often revisit work years later, so that date
information is, more often than not, very useful to have.

When I moved to R, the habit was too hard to break, so I ported the
code across, adding the date as a comment to make it work.  Additional
fiddly processes were necessary to do that, but for me it was worth
the effort.

Using ESS, it's very simple to keep a file of the code that reads in
data and all the operations that are done by the functions that go
with that directory.  As well as keeping a record of what was done,
it's very simple to run a few lines again after data entry errors have
been corrected for example.  If you don't use ESS, it probably would
not be so simple.  Comment lines are useful to document just what the
thinking was behind the various steps.  It's also simple to make a
procedure to write a text file of the code that goes into each
function so that they can be resurrected if necessary.  I only
occasionally make a special file instead of .RData -- usually if there
are some very large data frames, large numbers of objects, or
"sensitive" simulations.

My method might not be usable by Windows users and involves more than
just a function.  Perhaps I was a bit misleading when I stated that it
was simple to make a function.  I wasn't referring to the use of the
date in that statement.  My 'simple' function would still use a number
of my local functions so providing it is not a single step either.

I mentioned it some time ago, but hardly anyone seem to think it was
the useful utility I think it is.  Because of the lack of interest, I
didn't tidy it up to be more transportable.  It works fine how it is
for me so it needs no changes.  

The discussion about the object browser brought me to mentioning it
again in case times had changed.  It would need testing to see if it
works with Windows also and I have no inclination to do that.  I'm not
sure it would be still be simple outside ESS.  If someone is
interested in making such a utility generally available, the offer is
there.

best

-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world`s largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tura at centroin.com.br  Mon Jul 15 00:43:17 2002
From: tura at centroin.com.br (Bernardo Rangel Tura)
Date: Sun, 14 Jul 2002 19:43:17 -0300
Subject: [R] Tcl/Tk doubt
In-Reply-To: <EE31CB6EF5AA0F4EAF828922242443500208E6@cmonti2.ausl.org>
Message-ID: <5.1.0.14.2.20020714193420.00a14650@centroin.com.br>



Good Night R experts

I make a Tcl/Tk script for generate a histogram from normal distribuition.

----------------------------
gnorm<-function(){
        require(tcltk) || stop("tcltk support is absent")
        base <- tktoplevel()
        done <- tclVar(0)
        mu=tclVar(2)
        var=tclVar(2)
        tkwm.title(base,"Gr?fico da Normal")
        heading <- tklabel(base, text="Par?metros")
        l.mu <- tklabel(base, text="M?dia")
        l.var <- tklabel(base, text="Vari?ncia")
        mu.entry <- tkentry(base, textvariable=mu)
        var.entry <- tkentry(base, textvariable=var)    
        tkgrid(heading, columnspan=2)
        tkgrid(l.mu, mu.entry)
        tkgrid(l.var, var.entry)
        mu<-tclvalue(mu.entry)
        but<-tkbutton(base, text="ok",command=function() {
                tclvalue(done)<-1
                })
        tkgrid(but)
        tkwait.variable(done)
        mu<- as.numeric(tclvalue(mu))
        var<- as.numeric(tclvalue(var.entry))
        x<-rnorm(100,mean=mu,sd=sqrt(var))
        hist(x)
        }
gnorm()
----------------------------
When I click button OK show this error mensage:
Error in structure(.External("dotTcl", ..., PACKAGE = "tcltk"), class = "tclObj") : 
        [tcl] can't read "<environment>": no such variable.

Where this my mistake? Which the correct code?

Please Help Me!

Thanks in advance

Bernardo Rangel Tura, MD
National Institute of Cardiology Laranjeiras
Rio de Janeiro Brazil

P.S
platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    5.1            
year     2002           
month    06             
day      17             
language R   


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jon at mcauliffe.com  Mon Jul 15 01:01:57 2002
From: jon at mcauliffe.com (Jon McAuliffe)
Date: Sun, 14 Jul 2002 16:01:57 -0700
Subject: [R] crossprod and X %*% t(X)
Message-ID: <000701c22b8a$74dfcb20$6401a8c0@littleguy>

hi,

the help page for crossprod states that crossprod(A,B) is faster than
t(A) %*% B; experimentation certainly bears this out. more alarming
is the evidence that crossprod(t(A), B) is faster than A %*% B:

on a PII laptop, 128MB memory, win98, R-1.5.0.-patched precompiled
(no ATLAS):

> A <- matrix(rnorm(250000),500,500)
> B <- matrix(rnorm(250000),500,500)
> for (i in 1:5) { print(system.time(A %*% B)) }
[1]   NA   NA 7.96   NA   NA
[1]   NA   NA 7.81   NA   NA
[1]   NA   NA 7.79   NA   NA
[1]   NA   NA 7.81   NA   NA
[1]   NA   NA 7.79   NA   NA
> for (i in 1:5) { print(system.time(crossprod(t(A),B))) }
[1]   NA   NA 4.48   NA   NA
[1]   NA   NA 4.51   NA   NA
[1]   NA   NA 4.48   NA   NA
[1]   NA   NA 4.69   NA   NA
[1]   NA   NA 4.49   NA   NA

is this expected, or is something strange about my system? would
ATLAS make this difference negligible? (i'd like to know before i spend
the time building and installing it.)

if it is expected, under what circumstances would one prefer %*%?

thanks
jon.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pem at theriver.com  Mon Jul 15 01:47:40 2002
From: pem at theriver.com (Patrick McKnight)
Date: 14 Jul 2002 16:47:40 -0700
Subject: [R] 'R' library for Rasch modelling?
Message-ID: <1026690460.9040.15.camel@copernicus>

Bill,

A colleague and I are working on a project that would offer both Rasch
and IRT item parameters estimation along with fit statistics. 
Additionally, I wrote S/R code to produce all classical test theory
(true score model) statistics.  The project is somewhat in its infancy
but you can find the C++ code and some initial code files on sourceforge
and CVS repositories.  We are both extremely busy so progress has been
slow.  If you have any programming expertise in R, we would encourage
you to contribute to the project where you can.  Please find the project
at the following URL:

http://sourceforge.net/projects/ssm/

Cheers,

Patrick


--- Bill Bell Wrote:

I'm new to 'R', so forgive me if I've used the wrong term.

I'd like to model some Likert-style items using Rasch methods.

I've been unable to find mention of these for 'R'. Would someone happen
to
know of any?

Thanks in any case.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nklepeis at uclink4.berkeley.edu  Mon Jul 15 07:33:36 2002
From: nklepeis at uclink4.berkeley.edu (Neil Klepeis)
Date: Sun, 14 Jul 2002 22:33:36 -0700
Subject: [R] Transpose and NA's
Message-ID: <3D325EB0.3070007@uclink4.berkeley.edu>

I noticed some odd behavior when I transpose a data frame containing 
NA's.   It seems to cast all the elements as "character" including the 
NA's.   Bug?

 > t(data.frame(x=1:10,y=1:10,z=rep(NA,10)))
   1      2      3      4      5      6      7      8      9      10
x " 1"   " 2"   " 3"   " 4"   " 5"   " 6"   " 7"   " 8"   " 9"   "10"
y " 1"   " 2"   " 3"   " 4"   " 5"   " 6"   " 7"   " 8"   " 9"   "10"
z "  NA" "  NA" "  NA" "  NA" "  NA" "  NA" "  NA" "  NA" "  NA" "  NA"
 >


-- 
______________________________________________________
Neil E. Klepeis, UC Berkeley, School of Public Health,
and Lawrence Berkeley National Laboratory,
Berkeley, CA USA.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Mon Jul 15 09:57:46 2002
From: stuart.leask at nottingham.ac.uk (Stuart Leask)
Date: Mon, 15 Jul 2002 08:57:46 +0100
Subject: [R] R GUI For Which User?
References: <200207111111.50068.dputler@scu.edu>
Message-ID: <014301c22bd5$4eea46c0$f2e1f380@nottingham.ac.uk>

Ah yes - one stable, powerful, flexible, well-supported stats engine, with a
variety of GUI frontends that will be used depending on where one is coming
from. Hey, that sounds like heaven...

Stuart

Dr Stuart Leask MA MRCPsych, Clinical Lecturer in Psychiatry
University of Nottingham Dept of Psychiatry, Duncan Macmillan House
Porchester Road, Nottingham. NG3 6AA. UK
http://www.nottingham.ac.uk/psychiatry/staff/sjl.html

----- Original Message -----
From: "Dan Putler" <dputler at scu.edu>
To: <r-help at stat.math.ethz.ch>
Sent: Thursday, July 11, 2002 7:11 PM
Subject: Re: [R] R GUI For Which User?


> I also agree with Philippe Grosjean that there is a need to investigate
the
> effects of different types of GUIs on software "usability". To do that,
> however, there is a need to develop a set of appropriate metrics, and to
> understand that the appropriateness of a given metric (and ultimately a
given
> type of GUI) is likely to be conditional on the type of user.
>
> My sense is that the heat of the rhetoric in this discussion is driven by
> perceived differences in implicit metrics and student/user types.  If I am
> training students to become professional biostatisticians who will be
> analyzing data from clinical drug trials, then my concerns (really the
most
> important metrics) relate to the ability of the student to do the most
> complete and appropriate analysis possible in a way that can consistently
be
> replicated.  In this instance, the most preferred user interface for
teaching
> these students is going to be a text editor or an IDE.  On the otherhand,
if
> my students are MBAs who will ultimately be marketing managers, placing
them
> in a situation where they will be "customers" of statistical analyses
rather
> then analysts themselves, then my concerns and appropriate metrics are
very
> different.  Specifically, I want to make these students informed buyers of
> statistical analysis.  The best way to make them informed about the
process
> of statistical analysis, and how to use the results of an analysis to make
> better managerial decisions, is to have them actually conduct several
> analyses and have them apply the results to a managerial problem in a
> low-risk, classroom environment.  However, in this sort of environment the
> two things I want to accomplish are: (1) minimizing the time it takes them
to
> be able to conduct a usable (but likely imperfect) analysis and (2)
> minimizing the frustration level they experience when working with the
> software.  In this instance the best interface will be very
point-and-click
> oriented, which will greatly limit a student's freedom in the types of
> analyses s/he can conduct, but will keep them out of "trouble" and
minimize
> the time it takes them to use the software in a useful way.
>
> So why this long-winded discussion?  The point I want to make is that
there
> probably isn't a single "ideal" interface to R.  In a related thread, one
> contributor commented that there were 10 GUIs for R in some form of
> development, and there could ultimately be 20 (my sense is the author
> perceived this to be a bad thing).  It is possible that 10 different GUIs
is
> the right number, although it is an empirical question.  The saving grace
is
> that most (all)? of us are empirical researchers.
>
> Dan Putler
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dputler at scu.edu  Mon Jul 15 10:13:14 2002
From: dputler at scu.edu (Dan Putler)
Date: Mon, 15 Jul 2002 01:13:14 -0700
Subject: [R] R GUI and object browser
Message-ID: <200207150113.14161.dputler@scu.edu>

As part of the obveRsive GUI project, we've written a function with much of 
the functionality that Patrick Connolly was suggesting (which is a bit more 
compact than the output from ls.str()).  Alas, no date capabilities.  The 
function is call ls.objects(), and example output appears below:

   Object.Name Object.Mode Object.Type Observations Variables
1    ccsest.df        list  data.frame          800        21
2    ccsval.df        list  data.frame          800        21
3   junkfactor     numeric      factor          100         1
4     junklist        list     unknown            -         -
5      junkmat     numeric      matrix          100         2
6    junkmodel        list          lm            -         -
7   ls.objects    function    function            -         -
8      orderdf    function    function            -         -
9          pkg   character      vector            1         1
10       stuff        list  data.frame           12         2
11         try     numeric      vector          100         1
12        try1     numeric      vector          100         1
13        try2     numeric      vector          100         1
14      trydat        list  data.frame          100         2
15     tryname   character      vector            1         1

The function has "mode" and "type" arguments (type is typically, but not 
always an object's class attribute).  If the user only wants to list 
data.frames, then the command ls.objects(type="data.frame") will list only 
information for data.frames.

The code itself follows below:
__________________________________________________________
ls.objects <- function (pos = 1, pattern, mode = "any", type = "any"){
    Object.Name <- ls(pos = pos, envir = as.environment(pos), pattern = 
pattern)
    Object.Mode <- rep("",length(Object.Name))
    Object.Type <- rep("",length(Object.Name))
    Variables <- rep("-",length(Object.Name))
    Observations <- rep("-",length(Object.Name))
    for (i in 1:length(Object.Name)){
	 Object.Mode[[i]] <- mode(get(Object.Name[[i]]))
	 if(is.list(get(Object.Name[[i]]))){
		if(is.null(class(get(Object.Name[[i]]))))
			Object.Type[[i]] <- c("unknown")
		else {
			Object.Attrib <- attributes(get(Object.Name[[i]]))
			Object.Type[[i]] <- Object.Attrib$class
			if(Object.Type[[i]]=="data.frame"){
				Variables[[i]] <- as.character(length(Object.Attrib$names))
				Observations[[i]] <- as.character(length(Object.Attrib$row.names))
			}
		}
	}
	if(is.matrix(get(Object.Name[[i]]))){
	 	Object.Attrib <- dim(get(Object.Name[[i]]))
		Object.Type[[i]] <- c("matrix")
		Variables[[i]] <- as.character(Object.Attrib[2])
		Observations[[i]] <- as.character(Object.Attrib[1])
	}
	if(is.vector(get(Object.Name[[i]])) && (Object.Mode[[i]]=="character" || 
Object.Mode[[i]]=="numeric")){
		Object.Type[[i]] <- c("vector")
		Variables[[i]] <- c("1")
		Observations[[i]] <- as.character(length(get(Object.Name[[i]])))
	}
	if(is.factor(get(Object.Name[[i]]))){
		Object.Type[[i]] <- c("factor")
		Variables[[i]] <- c("1")
		Observations[[i]] <- as.character(length(get(Object.Name[[i]])))
	}
	if(is.function(get(Object.Name[[i]]))) Object.Type[[i]] <- c("function")
    }
    objList <- 
data.frame(Object.Name,Object.Mode,Object.Type,Observations,Variables)
    if(mode != "any") objList <- objList[objList[["Object.Mode"]] == mode,]
    if(type != "any") objList <- objList[objList[["Object.Type"]] == type,]
    return(objList)
}

Hopefully this is what some of you were looking for.

Dan Putler

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Timur.Elzhov at jinr.ru  Mon Jul 15 11:18:47 2002
From: Timur.Elzhov at jinr.ru (Timur Elzhov)
Date: Mon, 15 Jul 2002 13:18:47 +0400
Subject: [R] Fail to convert any .Rd file
In-Reply-To: <3D314F0C.D88D346B@statistik.uni-dortmund.de>
References: <20020713160354.GA17292@pcf004.jinr.ru> <3D314F0C.D88D346B@statistik.uni-dortmund.de>
Message-ID: <20020715091846.GA19231@pcf004.jinr.ru>

Hello!

Thanks a lot for your answer!
But, excuse me please for that questions:
  1) What the "binary" package means?
     (I found out under R/library/<pkg-name>/ only <pkg-name>.so
      binary files under libs/ directory ... )

  2) Do I need them?
     (I tried to INSTALL some source packages from CRAN,
      and all of them are working perfectly)
      
  3) WHY processing *.Rd files, as you mentioned, from "binary"
     packages gets fail??  Are they corrupted by some way?
     Well, why then are they distributed with R distribution
     (r-base-core deb package on my Linux system)?

Excuse me, if answers will be quite simple and obvios..

Thank you!
Goodbye.

--
Timur.


On Sun, Jul 14, 2002 at 12:14:36PM +0200, Uwe Ligges wrote:

> > Hello, experts!
> > 
> > I've tried to convert MASS.Rd, for instance:
> > 
> >     R CMD Rdconv -t txt MASS.Rd -o MASS.txt 2>MASS.log
> > 
> > Comp was thinking for a long, about 30s on Linux 600MHz/128M,
> > but after that R didn't produce the result MASS.txt file, but
> > very large log.  Here is its header:
> > 
> > ******* Syntax error: mismatched or missing brackets in
> > /-----
> > \name{Aids2}
> Obviously, you are trying to convert the Rd file from a binary package.
> R CMD Rdconv is designed to convert an Rd file from a source package. If
> you look into the MASS sources (in package VR), you will find MANY of
> those Rd files, which can be converted with R CMD Rdconv perfectly...



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jul 15 11:33:34 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Jul 2002 11:33:34 +0200
Subject: [R] Tcl/Tk doubt
In-Reply-To: <5.1.0.14.2.20020714193420.00a14650@centroin.com.br>
References: <5.1.0.14.2.20020714193420.00a14650@centroin.com.br>
Message-ID: <x2d6tpuyhd.fsf@biostat.ku.dk>

Bernardo Rangel Tura <tura at centroin.com.br> writes:

> Good Night R experts
> 
> I make a Tcl/Tk script for generate a histogram from normal distribuition.
> 
> ----------------------------
> gnorm<-function(){
>         require(tcltk) || stop("tcltk support is absent")
>         base <- tktoplevel()
>         done <- tclVar(0)
>         mu=tclVar(2)
>         var=tclVar(2)
>         tkwm.title(base,"Gr?fico da Normal")
>         heading <- tklabel(base, text="Par?metros")
>         l.mu <- tklabel(base, text="M?dia")
>         l.var <- tklabel(base, text="Vari?ncia")
>         mu.entry <- tkentry(base, textvariable=mu)
>         var.entry <- tkentry(base, textvariable=var)    
>         tkgrid(heading, columnspan=2)
>         tkgrid(l.mu, mu.entry)
>         tkgrid(l.var, var.entry)
>         mu<-tclvalue(mu.entry)
>         but<-tkbutton(base, text="ok",command=function() {
>                 tclvalue(done)<-1
>                 })
>         tkgrid(but)
>         tkwait.variable(done)
>         mu<- as.numeric(tclvalue(mu))
>         var<- as.numeric(tclvalue(var.entry))
>         x<-rnorm(100,mean=mu,sd=sqrt(var))
>         hist(x)
>         }
> gnorm()
> ----------------------------
> When I click button OK show this error mensage:
> Error in structure(.External("dotTcl", ..., PACKAGE = "tcltk"), class = "tclObj") : 
>         [tcl] can't read "<environment>": no such variable.
> 
> Where this my mistake? Which the correct code?

You have 

mu<-tclvalue(mu.entry)

and then after activating the button

mu<- as.numeric(tclvalue(mu))

I don't think the first one of these makes sense, and certainly, after you
redefined mu, the second one is not going to work.

You also want "var", not "var.entry" in 

 var<- as.numeric(tclvalue(var.entry))

With those changes things seem to work, except that you need to
destroy the widget after use.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jul 15 11:41:44 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Jul 2002 11:41:44 +0200
Subject: [R] Transpose and NA's
In-Reply-To: <3D325EB0.3070007@uclink4.berkeley.edu>
References: <3D325EB0.3070007@uclink4.berkeley.edu>
Message-ID: <x28z4duy3r.fsf@biostat.ku.dk>

Neil Klepeis <nklepeis at uclink4.berkeley.edu> writes:

> I noticed some odd behavior when I transpose a data frame containing
> NA's.   It seems to cast all the elements as "character" including the
> NA's.   Bug?
> 
>  > t(data.frame(x=1:10,y=1:10,z=rep(NA,10)))
>    1      2      3      4      5      6      7      8      9      10
> x " 1"   " 2"   " 3"   " 4"   " 5"   " 6"   " 7"   " 8"   " 9"   "10"
> y " 1"   " 2"   " 3"   " 4"   " 5"   " 6"   " 7"   " 8"   " 9"   "10"
> z "  NA" "  NA" "  NA" "  NA" "  NA" "  NA" "  NA" "  NA" "  NA" "  NA"
>  >

Nope. That's standard behaviour when the data frame has nonnumeric
columns. The NA constant has mode "logical" (because that mode can
always be coerced to one of the other basic modes).

> t(data.frame(x=1:10,y=1:10,z=rep(as.integer(NA),10)))
   1  2  3  4  5  6  7  8  9 10
x  1  2  3  4  5  6  7  8  9 10
y  1  2  3  4  5  6  7  8  9 10
z NA NA NA NA NA NA NA NA NA NA

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at paleo.ija.csic.es  Mon Jul 15 11:56:52 2002
From: alobo at paleo.ija.csic.es (Agustin Lobo)
Date: Mon, 15 Jul 2002 11:56:52 +0200 (MET DST)
Subject: [R] R1.5.1 compilation ans install: 2 previous questions
Message-ID: <Pine.OSF.3.96.1020715111950.9575G-100000@paleo>

I'm geting ready to compile and install R-1.5.1
(R-patched_2002-07-15.tar.gz) on Linux
(Suse 8.0, 2 AMD proc., ATLAS libs installed). 
My current version is R.1.4.0 

I'd like to get advice on two doubts:

1. Is it better that I remove my current /usr/lib/R directory?

2. Regarding ATLAS, the R-1.5.1 R-admin manual states :
"This is currently not supported. The problem is that SIGINT signals
will not be handled properly when sent during a multi-threaded ATLAS
computation, and this may result in a segmentation fault".

Does this mean that I should avoid the --with-blas=/usr/lib/libatlas.a
option for ./configure ?

Agus

Thanks

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 15 11:48:51 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 15 Jul 2002 10:48:51 +0100 (BST)
Subject: [R] Transpose and NA's
In-Reply-To: <3D325EB0.3070007@uclink4.berkeley.edu>
Message-ID: <Pine.LNX.4.31.0207151041120.32740-100000@gannet.stats>

On Sun, 14 Jul 2002, Neil Klepeis wrote:

> I noticed some odd behavior when I transpose a data frame containing
> NA's.   It seems to cast all the elements as "character" including the

You can't really transpose a data frame.  t.data.frame first coerces to a
matrix, and as your data frame has a logical column (z) it coerces to
character.  This is done by formatting the logical column, hence the
result you get.

> NA's.   Bug?
>
>  > t(data.frame(x=1:10,y=1:10,z=rep(NA,10)))
>    1      2      3      4      5      6      7      8      9      10
> x " 1"   " 2"   " 3"   " 4"   " 5"   " 6"   " 7"   " 8"   " 9"   "10"
> y " 1"   " 2"   " 3"   " 4"   " 5"   " 6"   " 7"   " 8"   " 9"   "10"
> z "  NA" "  NA" "  NA" "  NA" "  NA" "  NA" "  NA" "  NA" "  NA" "  NA"
>  >

I don't think this is a bug, but it could be done differently.
However, t() is incorrectly documented, which is a bug.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From e.corda at oncfs.gouv.fr  Mon Jul 15 10:21:42 2002
From: e.corda at oncfs.gouv.fr (E. Corda)
Date: Mon, 15 Jul 2002 10:21:42 +0200
Subject: [R] data files in R
Message-ID: <3.0.1.32.20020715102142.00720418@mail.sky.fr>

Dear all,

I'm new in using R. I've downloaded nlme library in which data files, which
can be found in 'DATA' folder, have .rda extension. On the other side, data
files for the base software have .R extension. I succeeded in using .R data
files with R but not .rda data files. I would be thankful for any help.

Eve 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jul 15 12:04:32 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Jul 2002 12:04:32 +0200
Subject: [R] R1.5.1 compilation ans install: 2 previous questions
In-Reply-To: <Pine.OSF.3.96.1020715111950.9575G-100000@paleo>
References: <Pine.OSF.3.96.1020715111950.9575G-100000@paleo>
Message-ID: <x24rf1ux1r.fsf@biostat.ku.dk>

Agustin Lobo <alobo at paleo.ija.csic.es> writes:

> I'm geting ready to compile and install R-1.5.1
> (R-patched_2002-07-15.tar.gz) on Linux
> (Suse 8.0, 2 AMD proc., ATLAS libs installed). 
> My current version is R.1.4.0 
> 
> I'd like to get advice on two doubts:
> 
> 1. Is it better that I remove my current /usr/lib/R directory?
> 
> 2. Regarding ATLAS, the R-1.5.1 R-admin manual states :
> "This is currently not supported. The problem is that SIGINT signals
> will not be handled properly when sent during a multi-threaded ATLAS
> computation, and this may result in a segmentation fault".
> 
> Does this mean that I should avoid the --with-blas=/usr/lib/libatlas.a
> option for ./configure ?

It's only an issue if ATLAS is multi-threaded, so it depends on your
ATLAS. (And you might decide to live with the bug, if you have a
multi-CPU system since the speedup can be quite substantial.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Jul 15 12:10:53 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 15 Jul 2002 12:10:53 +0200
Subject: [R] Fail to convert any .Rd file
References: <20020713160354.GA17292@pcf004.jinr.ru> <3D314F0C.D88D346B@statistik.uni-dortmund.de> <20020715091846.GA19231@pcf004.jinr.ru>
Message-ID: <3D329FAD.D2B7AD67@statistik.uni-dortmund.de>

Timur Elzhov wrote:
> 
> Hello!
> 
> Thanks a lot for your answer!
> But, excuse me please for that questions:
>   1) What the "binary" package means?
>      (I found out under R/library/<pkg-name>/ only <pkg-name>.so
>       binary files under libs/ directory ... )

"Binary" means that the C and Fortran sources are compiled, the R
sources are merged and the Rd sources are processed (and merged into the
file you see).


>   2) Do I need them?
>      (I tried to INSTALL some source packages from CRAN,
>       and all of them are working perfectly)


Right, because the INSTALLation procedure makes binary packages from the
sources.
If you don't install, but unpack one of those packages, you will find
single Rd files for almost all functions and data sets in the package.


>   3) WHY processing *.Rd files, as you mentioned, from "binary"
>      packages gets fail??  Are they corrupted by some way?

Not corrupted, but many Rd files are merged to one for which R CMD
Rdconv is not designed.


>      Well, why then are they distributed with R distribution
>      (r-base-core deb package on my Linux system)?

Interesting point - I don't know.


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From barahona at eez.csic.es  Mon Jul 15 14:07:30 2002
From: barahona at eez.csic.es (Enrique Barahona)
Date: Mon, 15 Jul 2002 14:07:30 +0200
Subject: [R] problems with CarbonLib
Message-ID: <l03010d00b95869f0a91f@[161.111.252.50]>

I tried to intall R  in a iMac with Mac OS E1- 9.0.4 (Mac OS ROM VE-4.6.1).
When I tried to run R for the first time I got a   message about
"Carbonlib-- CF RangeMake" not beeing found. Please, could you help me to
tackle the problem. Thanks very much.

Barahona

--
Enrique Barahona Fernandez
ESTACION EXPERIMENTAL DEL ZAIDIN, CSIC
Profesor Albareda, 1
18008, GRANADA (Spain)

Tel. + 34 958 121011
Fax  + 34 958 129600
e-mail: barahona at eez.csic.es 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Mon Jul 15 14:46:09 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Mon, 15 Jul 2002 08:46:09 -0400
Subject: [R] meaning of error message about collinearity
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC48E@usrymx10.merck.com>

You are using a method that needs to estimate the covariance matrix of all
the variables.  If you have 80 variables, there are (80+1)*80/2 = 3240
variances and covariances to estimate.  How many data points do you think
you need to do that?

Some people assume the covariance matrix is diagonal (i.e., assuming all the
variables are uncorrelated).  Even then you still have 80 variances to
estimate.  Besides, I don't think lda() does that.

If you really have to discrinimate 40 data points with 80 variables, use
methods that do not rely on the estimation of covariance matrix.

Andy

> -----Original Message-----
> From: Adaikalavan Ramasamy [mailto:ramasamy at stats.ox.ac.uk]
> Sent: Friday, July 12, 2002 4:08 PM
> To: r-help at r-project.org; allstat at jiscmail.ac.uk
> Subject: [R] meaning of error message about collinearity
> 
> 
> Just a quick question. I am trying to fit an LDA model with a 
> restricted
> subsample. My X is a numerical matrix and Y is vector of 
> factor response.
> 
> fit _  lda( Y[1:50]  ~ X[1:50, ]  )
> 
> gives the following error message: variables are collinear in:
> lda.default(x, grouping, ...)
> 
> I am guessing this is the problem of rank deficiency as I 
> have about 80
> variable. [since the lda works with subsample of size 80 and above]
> 
> Q1: Is my interpretation of the error message correct ?
> Q2: I am using the fit to prediction purposes etc. Is this 
> likely to be
> affected. ie  how serious is this problem ?
> Q3: Is there a good website about sound statistical 
> theory/practical of
> overcoming problem of rank deficiency if this is indeed the 
> source of the
> error.
> 
> Many thanks, Adai.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rjvbertin at hotmail.com  Mon Jul 15 15:10:02 2002
From: rjvbertin at hotmail.com (RenE J.V. Bertin)
Date: Mon, 15 Jul 2002 15:10:02 +0200
Subject: Incompleteness in Lattice documentation (was Re: [R] lattice question: adding slopes to bwplot)
In-Reply-To: <17634721EB46D611A35E0002A5424F170119D7A8@cor-exg1.devon.gov.uk>
References: <17634721EB46D611A35E0002A5424F170119D7A8@cor-exg1.devon.gov.uk>
Message-ID: <20020715151002.71d34b3a.rjvbertin@hotmail.com>

On Mon, 15 Jul 2002 08:39:05 +0100, Paul Hewson <PHewson at devon.gov.uk> wrote regarding "RE: [R]
lattice question: adding slopes to bwplot"

Hi,

Thanks. It made sense indeed: enough to discover the panel.linejoin function which does what I was looking for. 

<error here>
I also understand now why I didn't find this, and associated, routine: library(help="lattice") does not list them, and on my installation, help(panel.functions) (which might) returns an error.
</error>

So what works for me is, basically:

bwplot( y~x|z, panel=function(x,y,...) {
	panel.bwplot( x,y, ... )
	panel.linejoin( x,y, horizontal=F )
} )

(Note the horizontal=F; by default, panel.linejoin will invert x and y. panel.linejoin(x,y,...) seems to work too, though)


8-) This added ablines (horizontal lines) to an xyplot.   The call to a panel
8-) function let me add two ablines and a loess smooth.
8-) 
8-) Does that make sense?
8-) 
8-) Paul
8-) 
8-) 
8-) 
8-) xyplot(AccidentRate ~ Year | Section, data = norms.df, layout = c(2,4,8),
8-) as.table = T, between = list(x = c(1), y = c(1,1,1)),xlab = "Grey Line:
8-) Built up 'A' Roads, Green Line: Non-built-up 'A' roads (National average
8-) 1999)", ylab = "Accidents per 100 million vehicle k.m.", main = "Major 'A'
8-) roads in Devon", panel = function(x,y,...){
8-) panel.xyplot(x,y,pch = 16, col = "blue", ...)
8-) panel.abline(h = 0.91, v = 0, col = "grey", lwd = 2, lty = 2, ...)
8-) panel.abline(h = 0.25, v = 0, col = "green", lwd = 2, lty = 2, ...)
8-) panel.loess(x, y, span = 1.5, col = "blue", lwd = 3, ...)
8-) }
8-) )
8-) 
8-) 
8-) 
8-) 
8-) 
8-) -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
8-) Paul Hewson     tel. (01392) 382773
8-) Data Analyst and Research Officer
8-) 
8-) Road Safety Team, Environment Directorate, 
8-) Devon County Council,
8-) 1st Floor, Lucombe House,
8-) County Hall
8-) Topsham Road
8-) Exeter EX2 4QW
8-) 
8-) tel (01392) 382773   fax (01392) 382135
8-) email phewson at devon.gov.uk
8-) -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
8-) > 

8-) > I'd like to add lines to the panels of a bwplot, showing (and connecting) 
8-) > the means of the displayed distributions. I didn't find anything in the 
8-) > documentation or the examples that suggests how to accomplish this easily.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wb at vestein.arb-phys.uni-dortmund.de  Mon Jul 15 16:10:33 2002
From: wb at vestein.arb-phys.uni-dortmund.de (Wilhelm B. Kloke)
Date: Mon, 15 Jul 2002 16:10:33 +0200
Subject: [R] unhappy with aov performance
Message-ID: <3D32D7D9.6052506E@vestein.arb-phys.uni-dortmund.de>

As the subject says, I am unhappy with R's aov performance. I have a
data
set containing 25000 cases. This causes thrashing even with very
moderate
formulae, because the model matrix has quite a lot of lines.
The study has 9x3x2x2x2 (or so) design factors. Is there a recommended
method for pre-condensing the data before inputting them into aov in R?
I want to be able to preserve the person factor (42) for further
analysis.

I could try to aggregate the response variables for all and use a count
for weighting them.

AFAIS, in principle the cases could be submitted seqentially to the
fitting
process avoiding the explicit building of the model matrix. Is anybody
working
on this in R context?
-- 
Dipl.-Math. Wilhelm Bernhard Kloke
Institut fuer Arbeitsphysiologie an der Universitaet Dortmund
Ardeystrasse 67, D-44139 Dortmund, Tel. 0231-1084-257
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 15 16:43:29 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 15 Jul 2002 15:43:29 +0100 (BST)
Subject: [R] Assignment converts variable to factor
In-Reply-To: <4.2.2.20020709142825.00aca100@pop3.arnet.com.ar>
Message-ID: <Pine.LNX.4.31.0207151538290.6237-100000@gannet.stats>

This is intentional: use class "AsIs" to avoid the conversion,
If you had created the data frame as intended (using I()) this would have
worked.

Data frames are not designed to contain character columns.

For example,

dat <- data.frame(x=1:3, y = I(letters[1:3]))
dat[, "var2"] <- dat$x
is.factor(dat$var2) # FALSE

On Tue, 9 Jul 2002, Daniel Mastropietro wrote:

> Hello,
>
> I would like to know if this behaviour in R is as expected.
>
> I have a data frame 'dat' with column var1 being character (and not
> factor). Then I create a new column 'var2' by:
>
>  > dat[,"var2"] <- dat$var1;
>
> Column var2 is now a factor.
>
> But if I do:
>
>  > dat$var2 <- dat$var1;
>
> Then column var2 is character (and not factor).
>
> I don't want to have var2 as factor by doing the first assignment. I tried
> using 'as.character(dat$var1)' or converting dat[,"var2"] to character by
> using as.character() after the assignment, but still var2 is treated as factor.
>
> Note that I want to use dat[,"var2"] and not dat$var2 because I am doing
> the assignment within a function by referencing column var2 with a variable
> whose value is "var2" (e.g. dat[,col2] <- dat$var1, where col2 = "var2").
> It is easier and more clear to use the [] operator to reference a data
> frame column with a variable, rather than using the $ operator with the
> parse() function.
>
> Thanks
> Daniel Mastropietro
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Mon Jul 15 16:46:00 2002
From: macq at llnl.gov (Don MacQueen)
Date: Mon, 15 Jul 2002 07:46:00 -0700
Subject: [R] problems with CarbonLib
In-Reply-To: <l03010d00b95869f0a91f@[161.111.252.50]>
References: <l03010d00b95869f0a91f@[161.111.252.50]>
Message-ID: <p05111a01b9588f33a53c@[128.115.153.6]>

I do not know as much about running this version of R as the real 
experts here, so I am not certain--but I think you need to upgrade 
from OS 9.0.4 to the most recent version of OS 9. If it were my 
machine, that is what I would do. (And just in case, you might 
double-check, and make sure you got the version of R that runs on OS 
9)

-Don


At 2:07 PM +0200 7/15/02, Enrique Barahona wrote:
>I tried to intall R  in a iMac with Mac OS E1- 9.0.4 (Mac OS ROM VE-4.6.1).
>When I tried to run R for the first time I got a   message about
>"Carbonlib-- CF RangeMake" not beeing found. Please, could you help me to
>tackle the problem. Thanks very much.
>
>Barahona
>
>--
>Enrique Barahona Fernandez
>ESTACION EXPERIMENTAL DEL ZAIDIN, CSIC
>Profesor Albareda, 1
>18008, GRANADA (Spain)
>
>Tel. + 34 958 121011
>Fax  + 34 958 129600
>e-mail: barahona at eez.csic.es
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Mon Jul 15 16:56:22 2002
From: macq at llnl.gov (Don MacQueen)
Date: Mon, 15 Jul 2002 07:56:22 -0700
Subject: [R] data files in R
In-Reply-To: <3.0.1.32.20020715102142.00720418@mail.sky.fr>
References: <3.0.1.32.20020715102142.00720418@mail.sky.fr>
Message-ID: <p05111a02b958916b2a72@[128.115.153.6]>

Did you install nlme in addition to downloading it? If you have 
installed it, then as you browse the help pages for various 
functions, such as lme(), you have no doubt noticed that many of the 
examples start with a command such as

   data(Orthodont)

This is how you access the data in files that have the .rda 
extension. Normally, to the best of my knowledge, the .R extension is 
for files that contain R code. Not data, but code.

-Don

At 10:21 AM +0200 7/15/02, E. Corda wrote:
>Dear all,
>
>I'm new in using R. I've downloaded nlme library in which data files, which
>can be found in 'DATA' folder, have .rda extension. On the other side, data
>files for the base software have .R extension. I succeeded in using .R data
>files with R but not .rda data files. I would be thankful for any help.
>
>Eve
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wzhang at molecularmining.com  Mon Jul 15 16:59:58 2002
From: wzhang at molecularmining.com (Weidong Zhang)
Date: Mon, 15 Jul 2002 10:59:58 -0400
Subject: [R] Using R from within Perl
Message-ID: <ED48BEC53E71B14EBBB1E67930D345538BE925@rigel.hq.molecularmining.com>

Hello All,

I installed RSPerl following the instructions from
http://www.omegahat.org/RSPerl/ but got an error message when I tried to
run test2.pl. The error is :

Can't load '../share/blib/arch/auto/R/R.so' for module R: cannot open
shared object file: cannot load shared object file:
No such file or directory at
/usr/lib/perl5/5.6.0/i686-linux/DynaLoader.pm line 200.
 at test.pl line 11
Compilation failed in require at test.pl line 11.
BEGIN failed--compilation aborted at test.pl line 11.


I am using redhat Linux, R-1.5.1, and perl v5.6.0. Any advice?

Thanks in advance!

Weidong Zhang
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlamoral at ulb.ac.be  Mon Jul 15 17:03:31 2002
From: jlamoral at ulb.ac.be (jlamoral)
Date: Mon, 15 Jul 2002 17:03:31 +0200
Subject: [R] Theory for manova...
Message-ID: <200207151703.31299.jlamoral@ulb.ac.be>

Hello, I am a R user and I must use the function manova, unfortunately I do 
not know the theorie. Is  there here somebody whom can give me the address of 
a site explaining  this theorie? thanks a lot

Lamoral Julien
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From flom at ndri.org  Mon Jul 15 17:09:18 2002
From: flom at ndri.org (Peter Flom)
Date: Mon, 15 Jul 2002 11:09:18 -0400
Subject: [R] meaning of error message about collinearity
Message-ID: <sd32ad75.016@MAIL.NDRI.ORG>

Adaikalavan Ramasamy wrote asking about a collinearity problem where he had 40 cases and 80 variables.

Andy Liaw replied (in part)
>>>If you really have to discrinimate 40 data points with 80 variables, >>>use methods that do not rely on the estimation of covariance matrix.


My reply

I am curious as to how this could be meaningfully done.  I would have thought that having more variables than data points would be a problem with ANY technique, but I am eager to be enlightened about ways to do this.




Peter L. Flom, PhD
Assistant Director, Statistics and Data Analysis Core
Center for Drug Use and HIV Research
National Development and Research Institutes
71 W. 23rd St
New York, NY 10010
(212) 845-4485 (voice)
(917) 438-0894 (fax)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HaynesK at DFO-MPO.GC.CA  Mon Jul 15 17:42:34 2002
From: HaynesK at DFO-MPO.GC.CA (HaynesK@DFO-MPO.GC.CA)
Date: Mon, 15 Jul 2002 11:42:34 -0400
Subject: [R] mtext
Message-ID: <6ECF0007FF49D411A25400508B6D9162D7CD58@msgnflwh02.nfl.dfo-mpo.gc.ca>

Is there some way to make mtext horizontal along the vertical axis?  Can I
use mtext numerous times for one graph (created using symbols(...)) so that
at the right of each graph there is a list of numbers along the axis?  

I have two graphs on the same page and would like to have a list of
identifying numbers next to each circle of the graph.

Does anyone know of a way to do this?

Thanks,
K
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Mon Jul 15 17:42:12 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Mon, 15 Jul 2002 11:42:12 -0400
Subject: [R] meaning of error message about collinearity
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC492@usrymx10.merck.com>

> From: Peter Flom [mailto:flom at ndri.org]
> Sent: Monday, July 15, 2002 11:09 AM
> 
> Adaikalavan Ramasamy wrote asking about a collinearity 
> problem where he had 40 cases and 80 variables.
> 
> Andy Liaw replied (in part)
> >>>If you really have to discrinimate 40 data points with 80 
> variables, >>>use methods that do not rely on the estimation 
> of covariance matrix.
> 
> 
> My reply
> 
> I am curious as to how this could be meaningfully done.  I 
> would have thought that having more variables than data 
> points would be a problem with ANY technique, but I am eager 
> to be enlightened about ways to do this.
> 

Have you not heard of PLS (partial least squares) or classification trees,
to mention two of many?  How do you think people deal with microarray data,
where there are typically dozens of data points but > 7000 variables?  It is
a difficult problem, but people get by with what they can cobble together.

Andy

> 
> 
> Peter L. Flom, PhD
> Assistant Director, Statistics and Data Analysis Core
> Center for Drug Use and HIV Research
> National Development and Research Institutes
> 71 W. 23rd St
> New York, NY 10010
> (212) 845-4485 (voice)
> (917) 438-0894 (fax)
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 15 17:45:56 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 15 Jul 2002 16:45:56 +0100 (BST)
Subject: [R] Nested anovas in R not doing what they ought to...
In-Reply-To: <sd2d6710.090@ene.gov.on.ca>
Message-ID: <Pine.LNX.4.31.0207151641260.6348-100000@gannet.stats>

What R does *is* what it ought to, namely that which it is documented to.

Now, if you tell us what you wanted it to do, we may be able to help.
For a start, the way to do anovas in R is aov() not lm(), and you probably
want a multistratum aov fit, with an Error term in the formula.

On Thu, 11 Jul 2002, Michael Rennie wrote:
>
> Hi, there
>
> I first sent this e-mail a couple months ago, to no avail.Since I am not a member on your mailing list, so could you please cc: a response to me? I'll be sure to check the list today for replies.
>
> I am currently attempting to perform an ANOVA with both nested and normal factors.  My problem is that R is treating my nested factors the exact same way as it would interaction terms.
>
> My output for the nested model is as follows:
>
> > nested <- anova(lm(ltotinv ~ habitat + fish/lake + habitat:fish + habitat:(la\
> ke %in% fish)))
> > nested
> Analysis of Variance Table
>
> Response: ltotinv
>                   Df  Sum Sq Mean Sq F value    Pr(>F)
> habitat            1 17.0829 17.0829 50.0917 3.083e-09 ***
> fish               1  0.9131  0.9131  2.6774  0.107600
> habitat:fish       1 13.0100 13.0100 38.1488 8.877e-08 ***
> fish:lake          1  1.0256  1.0256  3.0072  0.088599 .
> habitat:fish:lake  1  2.7641  2.7641  8.1051  0.006229 **
> Residuals         54 18.4158  0.3410
> ---lysis of Variance Table
> Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1
>
> With just interactions, not nested:
>
> > test <- anova(lm(ltotinv ~ habitat + fish + lake:fish + habitat:fish + fish:h\
> abitat:lake))
> > test
> Analysis of Variance Table
>
> Response: ltotinv
>                   Df  Sum Sq Mean Sq F value    Pr(>F)
> habitat            1 17.0829 17.0829 50.0917 3.083e-09 ***
> fish               1  0.9131  0.9131  2.6774  0.107600
> habitat:fish       1 13.0100 13.0100 38.1488 8.877e-08 ***
> fish:lake          1  1.0256  1.0256  3.0072  0.088599 .
> habitat:fish:lake  1  2.7641  2.7641  8.1051  0.006229 **
> Residuals         54 18.4158  0.3410
> ---
> Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1
> >
>
>
> We get the same answer.  The reason I figured this out is because I did this analysis first in SAS, and then tried to reproduce it in R.  It must be something to do with my syntax, I imagine, but I can't see what it is.
>
> Any help anyone has would be greatly appreciated.
>
>
> Sincerely,
>
> Mike Rennie
> M.Sc. Candidate, University of Toronto at Mississauga
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Jul 15 18:27:28 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 15 Jul 2002 18:27:28 +0200
Subject: [R] mtext
References: <6ECF0007FF49D411A25400508B6D9162D7CD58@msgnflwh02.nfl.dfo-mpo.gc.ca>
Message-ID: <3D32F7F0.A8D54B93@statistik.uni-dortmund.de>

HaynesK at DFO-MPO.GC.CA wrote:
> 
> Is there some way to make mtext horizontal along the vertical axis? 

Set, e.g., argument las = 1 or
 par(las = 1)


> use mtext numerous times for one graph (created using symbols(...)) so that
> at the right of each graph there is a list of numbers along the axis?

Yes, or just do it vectorized.


> I have two graphs on the same page and would like to have a list of
> identifying numbers next to each circle of the graph.
>
> Does anyone know of a way to do this?

Plot the points as text() labels with an appropriate adjustment again.
 
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Derek.Yi at FMR.COM  Mon Jul 15 18:18:10 2002
From: Derek.Yi at FMR.COM (Yi, Derek)
Date: Mon, 15 Jul 2002 12:18:10 -0400
Subject: [R] Suppressing "creating new generic" and "expanding the signature" 
	messages
Message-ID: <763C275E6A1C2248AFD475237AD6135B5EC679@MSGBOS576NTS.fmr.com>

Hi all,

I am building a R package which defines a class.  I have overloaded methods
for this class using setMethod, and now, when I require my package, I get
diagnostic messages.

setMethod("[", signature(x = "portfolio"),
	function(x, i, j, ...) {
		# ...
	})

> require(portfolio)
Loading required package: portfolio 
[... loading other required packages ...]
Creating a new generic function for "as.data.frame" on element 1 of the
search path 
Expanding the signature to include omitted arguments in definition: drop =
"missing" 
Creating a new generic function for "summary" on element 1 of the search
path 
[1] TRUE

I realize that the messages tell me that the generic functions have been
expanded to accommodate new objects, but is there any way to suppress them?
Also, I have been trying to overload the [] operators for my object, with
limited success.  I have declared an as.data.frame function, and then have
been trying to use [.data.frame on the coerced object.  Everything works,
but I get the omitted arguments message.  My function "prototype" is above;
is there any way to avoid this?

I guess my fundamental vagueness comes from my uncertainty as to how the
"drop" argument can be handled, if I only want to pass arguments directly
into [.data.frame.  I run into "missing" arguments problems:

> args("[.data.frame")
function (x, i, j, drop = if (missing(i)) TRUE else length(cols) == 
    1) 
NULL

Many thanks,
Derek

> R.version
         _                   
platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    5.1                 
year     2002                
month    06                  
day      17                  
language R     
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From noel at univ-lille3.fr  Mon Jul 15 18:17:20 2002
From: noel at univ-lille3.fr (Noel Yvonnick)
Date: Mon, 15 Jul 2002 18:17:20 +0200
Subject: [R] ReInstalling packages
Message-ID: <200207151817.20385.noel@univ-lille3.fr>

Hello,

I just have upgraded from Mandrake 8.1 to 8.2 and installed R 1.5.1. I now try 
to reinstall all the packages but get the following error (for the multiv 
package for instance) :

/usr/bin/ld: cannot find -lreadline
collect2: ld returned 1 exit status
make: *** [multiv.so] Erreur 1
ERROR: compilation failed for package 'multiv'

The readline library is under /lib on my system and I have added this path to 
the FLIBS and LIBPATH fields in /usr/lib/R/etc/Makeconf. I also have added it 
to the LD_LIBRARY_PATH environmental variable (not so clean but...) and it 
doesn't work neither !

Any hint ?
-- 
Yvonnick Noel
Universite de Lille 3
UFR de psychologie

==========
Copy of the output

> install.packages("multiv")
trying URL `http://cran.r-project.org/src/contrib/PACKAGES'
Content type `text/plain; charset=iso-8859-1' length 78375 bytes
opened URL
.......... .......... .......... .......... ..........
.......... .......... ......
downloaded 76Kb

trying URL `http://cran.r-project.org/src/contrib/multiv_1.1-4.tar.gz'
Content type `application/x-tar' length 48699 bytes
opened URL
.......... .......... .......... .......... .......
downloaded 47Kb

* Installing *source* package 'multiv' ...
** libs
g77   -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586 
-fno-fast-math -fno-strength-reduce -c bea.f -o bea.o
g77   -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586 
-fno-fast-math -fno-strength-reduce -c ca.f -o ca.o
g77   -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586 
-fno-fast-math -fno-strength-reduce -c hc.f -o hc.o
g77   -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586 
-fno-fast-math -fno-strength-reduce -c hcmovie.f -o hcmovie.o
g77   -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586 
-fno-fast-math -fno-strength-reduce -c members.f -o members.o
g77   -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586 
-fno-fast-math -fno-strength-reduce -c partition.f -o partition.o
g77   -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586 
-fno-fast-math -fno-strength-reduce -c pca.f -o pca.o
g77   -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586 
-fno-fast-math -fno-strength-reduce -c sammon.f -o sammon.o
gcc -shared  -o multiv.so bea.o ca.o hc.o hcmovie.o members.o partition.o 
pca.o sammon.o  -L/lib -L/lib -L/usr/local/lib 
-L/usr/lib/gcc-lib/i586-mandrake-linux-gnu/3.0.4 
-L/usr/lib/gcc-lib/i586-mandrake-linux-gnu/3.0.4/../../.. -lreadline -ldl 
-lncurses -lg2c-pic -lm -L/usr/lib/R/bin -lR
/usr/bin/ld: cannot find -lreadline
collect2: ld returned 1 exit status
make: *** [multiv.so] Erreur 1
ERROR: compilation failed for package 'multiv'
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Mon Jul 15 21:25:44 2002
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Mon, 15 Jul 2002 15:25:44 -0400
Subject: [R] mutable objects
In-Reply-To: <AFD78192EC49D311BFAE00902798AB8F23DA1F@jupiter.arbitrade.com>; from vograno@arbitrade.com on Fri, Jul 12, 2002 at 09:47:29PM -0500
References: <AFD78192EC49D311BFAE00902798AB8F23DA1F@jupiter.arbitrade.com>
Message-ID: <20020715152544.A8419@jessie.research.bell-labs.com>

Vadim Ogranovich wrote:
> Hi,
> 
> I need "mutable" objects that I can safely modify in my C code. All call
> interfaces, e.g. .C, .Call, etc., require you to not modify the "in" args.

I took a quick look at the code for .Call() and it appears not to copy
its arguments. As a result, however, you can use this to modify objects in
place and they effects will persist. This is not "recommended" but
does work for many purposes.

A simple example where one can see  this effect is 
with the following C code.

#include "Rinternals.h"

SEXP
foo(SEXP x, SEXP y)
{
  int n = LENGTH(x), i;

  for(i = 0; i < n; i++) {
          REAL(x)[i] += 1.0;
          REAL(y)[i] *= REAL(y)[i];
  }

  return(x);
}

Calling this from R as 

 x <- as.numeric(1:10)
 y <- as.numeric(1:10)
 z <- .Call("foo", x, y)

Then look at the values of x, y and z.



The .Call() is currently incompatabile with S4 & S-Plus 6, I believe.
We should probably correct this by adding a COPY argument and making
duplication the default behavior.


The OOP package provides both i) a way for creating mutable objects
using environments and ii) a formal mechanism for specifying classes
and inheritance from those classes. It sounds like you (currently)
only need environments. The package is available from 
   http://www.omegahat.org/OOP

 D.



> The description of the OOP package in R-news from Sep 2001 alludes to a
> possiblity of such objects, but the package itself is no longer on Omegahat
> and I am not sure I need the full machinery.
> 
> Thanks, Vadim
> 
> 
> P.S. I wonder what is the relationship between the "methods" package and the
> OOP package described in R-news from Sep 2001.
> 
> -------------------------------------------------- 
> DISCLAIMER 
> This e-mail, and any attachments thereto, is intended only for use by the
> addressee(s) named herein and may contain legally privileged and/or
> confidential information.  If you are not the intended recipient of this
> e-mail, you are hereby notified that any dissemination, distribution or
> copying of this e-mail, and any attachments thereto, is strictly prohibited.
> If you have received this e-mail in error, please immediately notify me and
> permanently delete the original and any copy of any e-mail and any printout
> thereof. 
> 
> E-mail transmission cannot be guaranteed to be secure or error-free.  The
> sender therefore does not accept liability for any errors or omissions in
> the contents of this message which arise as a result of e-mail transmission.
> 
> NOTICE regarding privacy and confidentiality 
> 
> Knight Trading Group may, at its discretion, monitor and review the content
> of all e-mail communications. 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmc at research.bell-labs.com  Mon Jul 15 21:24:12 2002
From: jmc at research.bell-labs.com (John Chambers)
Date: Mon, 15 Jul 2002 15:24:12 -0400
Subject: [R] Suppressing "creating new generic" and "expanding the signature" 
 messages
References: <763C275E6A1C2248AFD475237AD6135B5EC679@MSGBOS576NTS.fmr.com>
Message-ID: <3D33215C.2E4F3B51@research.bell-labs.com>

"Yi, Derek" wrote:
> 
> Hi all,
> 
> I am building a R package which defines a class.  I have overloaded methods
> for this class using setMethod, and now, when I require my package, I get
> diagnostic messages.
> 
> setMethod("[", signature(x = "portfolio"),
>         function(x, i, j, ...) {
>                 # ...
>         })
> 
> > require(portfolio)
> Loading required package: portfolio
> [... loading other required packages ...]
> Creating a new generic function for "as.data.frame" on element 1 of the
> search path
> Expanding the signature to include omitted arguments in definition: drop =
> "missing"
> Creating a new generic function for "summary" on element 1 of the search
> path
> [1] TRUE
> 
> I realize that the messages tell me that the generic functions have been
> expanded to accommodate new objects, but is there any way to suppress them?

Yes, say explicitly that you want a generic version of the function:
R> library(methods)
R> setGeneric("as.data.frame")
[1] "as.data.frame"
R> 

The message is a gentle reminder, in case you thought the function was
already a generic.

> Also, I have been trying to overload the [] operators for my object, with
> limited success.  I have declared an as.data.frame function, and then have
> been trying to use [.data.frame on the coerced object.  Everything works,
> but I get the omitted arguments message.  My function "prototype" is above;
> is there any way to avoid this?

Yes.  Include all the arguments of the generic in the method, since you
do seem to want to handle the drop= argument.  

> 
> I guess my fundamental vagueness comes from my uncertainty as to how the
> "drop" argument can be handled, if I only want to pass arguments directly
> into [.data.frame.  I run into "missing" arguments problems:
> 
> > args("[.data.frame")
> function (x, i, j, drop = if (missing(i)) TRUE else length(cols) ==
>     1)
> NULL

Unfortunately, there are 3 different mechanisms getting mixed in here: 
formal methods, the "matrix-like" behavior of data frames, and the drop=
"feature" of [ on matrices.

If you really want to preserve the full semantics of [.data.frame, you
may need to handle the drop argument explicitly; e.g., 

R> setMethod("[", signature(x="portfolio"),
+ function(x, i, j, ... , drop)
+ { if(missing(drop))  ## something including: "[.data.frame"(thing, i,
j)
+ else  ## something including:  "[.data.frame"(thing, i, j, drop)
+ x
+ }
+ )

However, let me guess that you will be better off being a little
incompatible; namely, don't honor the drop argument in the "[" function.

The reason is that drop= (however neat it seemed way back when we
invented it) messes up the ability to handle the object returned from
"[", because now we don't know what class of object will be returned,
even when we know the class of the argument(s).

So, for example, if your portfolio class had a slot with a data frame in
it, you're asserting that that slot is ALWAYS a data frame.  But if
drop=TRUE, the result of "[" on the slot is no longer a data frame, and
you cannot legally assign it back to the slot.  

We don't usually want a slot to be sometimes one thing and sometimes
another (there are ways to do that too, but it's not as clean a way to
think of the new class).

To make your code deal consistently with object classes, you may find
it's better to always call [.data.frame with drop=FALSE.

John Chambers


> 
> Many thanks,
> Derek
> 
> > R.version
>          _
> platform sparc-sun-solaris2.6
> arch     sparc
> os       solaris2.6
> system   sparc, solaris2.6
> status
> major    1
> minor    5.1
> year     2002
> month    06
> day      17
> language R
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
John M. Chambers                  jmc at bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Mon Jul 15 21:46:56 2002
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Mon, 15 Jul 2002 14:46:56 -0500
Subject: [R] mutable objects
Message-ID: <AFD78192EC49D311BFAE00902798AB8F23DA24@jupiter.arbitrade.com>

Duncan,

Thank you for your reply. I knew I could modify the args in .Call (and even
in .C though not by default), but I was scared off by "not recommended" in
the manual. Is there a simple rule that tells when it's safe to modify the
args in place, or probably give an example when it is NOT safe?

Thanks, Vadim

-----Original Message-----
From: Duncan Temple Lang [mailto:duncan at research.bell-labs.com]
Sent: Monday, July 15, 2002 12:26 PM
To: Vadim Ogranovich
Cc: 'r-help at lists.R-project.org'
Subject: Re: [R] mutable objects


Vadim Ogranovich wrote:
> Hi,
> 
> I need "mutable" objects that I can safely modify in my C code. All call
> interfaces, e.g. .C, .Call, etc., require you to not modify the "in" args.

I took a quick look at the code for .Call() and it appears not to copy
its arguments. As a result, however, you can use this to modify objects in
place and they effects will persist. This is not "recommended" but
does work for many purposes.

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE regarding privacy and confidentiality 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 15 21:50:48 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 15 Jul 2002 20:50:48 +0100 (BST)
Subject: [R] mutable objects
In-Reply-To: <20020715152544.A8419@jessie.research.bell-labs.com>
Message-ID: <Pine.LNX.4.31.0207152050030.6665-100000@gannet.stats>

BTW, this is used in the code for state-space models in (standard) package
ts.

On Mon, 15 Jul 2002, Duncan Temple Lang wrote:

> Vadim Ogranovich wrote:
> > Hi,
> >
> > I need "mutable" objects that I can safely modify in my C code. All call
> > interfaces, e.g. .C, .Call, etc., require you to not modify the "in" args.
>
> I took a quick look at the code for .Call() and it appears not to copy
> its arguments. As a result, however, you can use this to modify objects in
> place and they effects will persist. This is not "recommended" but
> does work for many purposes.
>
> A simple example where one can see  this effect is
> with the following C code.
>
> #include "Rinternals.h"
>
> SEXP
> foo(SEXP x, SEXP y)
> {
>   int n = LENGTH(x), i;
>
>   for(i = 0; i < n; i++) {
>           REAL(x)[i] += 1.0;
>           REAL(y)[i] *= REAL(y)[i];
>   }
>
>   return(x);
> }
>
> Calling this from R as
>
>  x <- as.numeric(1:10)
>  y <- as.numeric(1:10)
>  z <- .Call("foo", x, y)
>
> Then look at the values of x, y and z.
>
>
>
> The .Call() is currently incompatabile with S4 & S-Plus 6, I believe.
> We should probably correct this by adding a COPY argument and making
> duplication the default behavior.
>
>
> The OOP package provides both i) a way for creating mutable objects
> using environments and ii) a formal mechanism for specifying classes
> and inheritance from those classes. It sounds like you (currently)
> only need environments. The package is available from
>    http://www.omegahat.org/OOP
>
>  D.
>
>
>
> > The description of the OOP package in R-news from Sep 2001 alludes to a
> > possiblity of such objects, but the package itself is no longer on Omegahat
> > and I am not sure I need the full machinery.
> >
> > Thanks, Vadim
> >
> >
> > P.S. I wonder what is the relationship between the "methods" package and the
> > OOP package described in R-news from Sep 2001.
> >
> > --------------------------------------------------
> > DISCLAIMER
> > This e-mail, and any attachments thereto, is intended only for use by the
> > addressee(s) named herein and may contain legally privileged and/or
> > confidential information.  If you are not the intended recipient of this
> > e-mail, you are hereby notified that any dissemination, distribution or
> > copying of this e-mail, and any attachments thereto, is strictly prohibited.
> > If you have received this e-mail in error, please immediately notify me and
> > permanently delete the original and any copy of any e-mail and any printout
> > thereof.
> >
> > E-mail transmission cannot be guaranteed to be secure or error-free.  The
> > sender therefore does not accept liability for any errors or omissions in
> > the contents of this message which arise as a result of e-mail transmission.
> >
> > NOTICE regarding privacy and confidentiality
> >
> > Knight Trading Group may, at its discretion, monitor and review the content
> > of all e-mail communications.
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
> --
> _______________________________________________________________
>
> Duncan Temple Lang                duncan at research.bell-labs.com
> Bell Labs, Lucent Technologies    office: (908)582-3217
> 700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
> Murray Hill, NJ  07974-2070
>          http://cm.bell-labs.com/stat/duncan
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rmerkel at venus.it.swin.edu.au  Tue Jul 16 08:04:37 2002
From: rmerkel at venus.it.swin.edu.au (Robert Merkel)
Date: Tue, 16 Jul 2002 16:04:37 +1000 (EST)
Subject: [R] ANOVA-like tests of geometrically-distributed data
Message-ID: <Pine.LNX.4.44.0207161544030.6488-100000@venus.it.swin.edu.au>

I have a statistical problem which has given me no end of grief recently, 
and am posting here in the hope that somebody can give me a straight 
answer.  I'm a IT postgrad, not a statistician, so people may have to 
speak really slowly and clearly for me to get it :)

I am collecting simulation data, and the results are geometrically 
distributed (or approximately so).  From what I can gather from my stats 
books, provided the sample size is large enough (>30 or so) I can use t 
and z-tests to compare means under different experimental conditions as 
the CLT says that the sample means will be approximately normally 
distributed.  

However, also as I understand it, the ANOVA explicitly assumes that the 
population is normally distributed, which is an assumption that in my case 
is not satisfied.

I have also been told that something called a "generalized linear model" 
can be used to perform ANOVA-like statistics on geometrically-distributed 
data, but not how.  

There is R documentation on a function "glm" and also "anova.glm" which 
discuss stuff that looks vaguely like what I want to do, but I can't 
really make sense of it.

Can these functions do what I'm trying to do?  If so, what's the 
procedure?

Any help will be *much* appreciated.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Tue Jul 16 09:38:34 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Tue, 16 Jul 2002 17:38:34 +1000
Subject: [R] ANOVA-like tests of geometrically-distributed data
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A916521F@Roper-CV.qld.cmis.csiro.au>

Robert Merkel asks:

>  -----Original Message-----
> From: 	Robert Merkel [mailto:rmerkel at venus.it.swin.edu.au] 
> Sent:	Tuesday, July 16, 2002 4:05 PM
> To:	r-help at stat.math.ethz.ch
> Subject:	[R] ANOVA-like tests of geometrically-distributed data
> 
> I have a statistical problem which has given me no end of grief recently, 
> and am posting here in the hope that somebody can give me a straight 
> answer.  I'm a IT postgrad, not a statistician, so people may have to 
> speak really slowly and clearly for me to get it :)
	[WNV]  Indeed.  I'm a bit surprised you seem to think that all the
help you need is a bit of quick advice by email.  This stuff can be rather
tricky, like a lot of statistics.

> I am collecting simulation data, and the results are geometrically 
> distributed (or approximately so).  From what I can gather from my stats 
> books, provided the sample size is large enough (>30 or so) I can use t 
> and z-tests to compare means under different experimental conditions as 
> the CLT says that the sample means will be approximately normally 
> distributed.  
> 
> However, also as I understand it, the ANOVA explicitly assumes that the 
> population is normally distributed, which is an assumption that in my case
> 
> is not satisfied.
> 
> I have also been told that something called a "generalized linear model" 
> can be used to perform ANOVA-like statistics on geometrically-distributed 
> data, but not how.  
> 
> There is R documentation on a function "glm" and also "anova.glm" which 
> discuss stuff that looks vaguely like what I want to do, but I can't 
> really make sense of it.
	[WNV]  The geometric distribution is a special case of the negative
binomial, which can indeed be fitted using glm but you need the
negative.binomial( ) function from MASS (or some equivalent) to provide the
family.  You will need to sort out what special value of theta corresponds
to the geometric distribution.  It could be 1, but I'm really not sure.
This information may be useful to whoever can advise you more fully.

	Have fun.

> Can these functions do what I'm trying to do?
	[WNV]  Easy, yes.
>   If so, what's the 
> procedure?
	[WNV]  Much harder to give in detail here.

> Any help will be *much* appreciated.
	[WNV]  Even if the news is not good?

> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 16 09:42:55 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 16 Jul 2002 08:42:55 +0100 (BST)
Subject: [R] crossprod and X %*% t(X)
In-Reply-To: <000701c22b8a$74dfcb20$6401a8c0@littleguy>
Message-ID: <Pine.LNX.4.31.0207151714020.6378-100000@gannet.stats>

On Sun, 14 Jul 2002, Jon McAuliffe wrote:

> the help page for crossprod states that crossprod(A,B) is faster than
> t(A) %*% B; experimentation certainly bears this out. more alarming
> is the evidence that crossprod(t(A), B) is faster than A %*% B:
>
> on a PII laptop, 128MB memory, win98, R-1.5.0.-patched precompiled
> (no ATLAS):
>
> > A <- matrix(rnorm(250000),500,500)
> > B <- matrix(rnorm(250000),500,500)
> > for (i in 1:5) { print(system.time(A %*% B)) }
> [1]   NA   NA 7.96   NA   NA
> [1]   NA   NA 7.81   NA   NA
> [1]   NA   NA 7.79   NA   NA
> [1]   NA   NA 7.81   NA   NA
> [1]   NA   NA 7.79   NA   NA
> > for (i in 1:5) { print(system.time(crossprod(t(A),B))) }
> [1]   NA   NA 4.48   NA   NA
> [1]   NA   NA 4.51   NA   NA
> [1]   NA   NA 4.48   NA   NA
> [1]   NA   NA 4.69   NA   NA
> [1]   NA   NA 4.49   NA   NA
>
> is this expected, or is something strange about my system? would
> ATLAS make this difference negligible? (i'd like to know before i spend
> the time building and installing it.)

If you upgrade to 1.5.1 you don't need to: ATLAS-based Rblas.dll are on
CRAN in the windows/contrib/ATLAS area, including for a PII.  However, I
cannot reproduce your results:

without ATLAS:

> for (i in 1:5) { print(system.time(A %*% B)) }
[1] 1.01 0.00 1.01   NA   NA
[1] 0.90 0.02 0.92   NA   NA
[1] 0.92 0.01 0.93   NA   NA
[1] 0.91 0.00 0.92   NA   NA
[1] 0.94 0.00 1.00   NA   NA
> for (i in 1:5) { print(system.time(crossprod(t(A),B))) }
[1] 0.94 0.00 0.94   NA   NA
[1] 0.91 0.00 0.91   NA   NA
[1] 0.94 0.01 0.97   NA   NA
[1] 0.93 0.01 0.94   NA   NA
[1] 0.94 0.00 0.93   NA   NA

and with ATLAS

> for (i in 1:5) { print(system.time(A %*% B)) }
[1] 0.25 0.01 0.39   NA   NA
[1] 0.15 0.00 0.16   NA   NA
[1] 0.15 0.01 0.16   NA   NA
[1] 0.16 0.00 0.16   NA   NA
[1] 0.16 0.00 0.16   NA   NA
> for (i in 1:5) { print(system.time(crossprod(t(A),B))) }
[1] 0.18 0.00 0.20   NA   NA
[1] 0.18 0.00 0.18   NA   NA
[1] 0.18 0.00 0.18   NA   NA
[1] 0.24 0.01 0.25   NA   NA
[1] 0.16 0.01 0.18   NA   NA

(1.4GHz P4)

> if it is expected, under what circumstances would one prefer %*%?

For clarity of reading?  Almost all uses of any of these are for small
matrices.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From poizot at cnam.fr  Tue Jul 16 10:02:16 2002
From: poizot at cnam.fr (Poizot Emmanuel)
Date: Tue, 16 Jul 2002 10:02:16 +0200
Subject: [R] Watson test
Message-ID: <200207160801.KAA24140@stat.math.ethz.ch>

Hi,
I develop a little pice of code to perform a watson test.
I try to compare the result obtain with my code and those given by the R 
library CircStats and it's watson(x,alpha,dist) provided function.
My trouble is that I've got a set of test data (with it's watson test result) 
and the result given by R's watson function is not the same.
Is there anybody who knows witch function is used in the R's watson function ?
Thanks
-- 
Cordialement.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Emmanuel POIZOT
CNAM/INTECHMER
B.P. 324
50103 Cherbourg Cedex
T?l : 33 (0)2 33 88 73 42
Fax : 33 (0)2 33 88 73 39
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 16 10:05:57 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 16 Jul 2002 09:05:57 +0100 (BST)
Subject: [R] Watson test
In-Reply-To: <200207160801.KAA24140@stat.math.ethz.ch>
Message-ID: <Pine.LNX.4.31.0207160904000.8585-100000@gannet.stats>

CircStats is a contributed package (and not part of R), so I suggest you
correspond directly with its authors (named in the DESCRIPTION file).

You can always read the source code to find out exactly what is done.

On Tue, 16 Jul 2002, Poizot Emmanuel wrote:

> I develop a little pice of code to perform a watson test.
> I try to compare the result obtain with my code and those given by the R
> library CircStats and it's watson(x,alpha,dist) provided function.
> My trouble is that I've got a set of test data (with it's watson test result)
> and the result given by R's watson function is not the same.
> Is there anybody who knows witch function is used in the R's watson function ?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dieter.menne at menne-biomed.de  Tue Jul 16 10:45:14 2002
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Tue, 16 Jul 2002 10:45:14 +0200
Subject: [R] r-square for non-linear regression
Message-ID: <JLEPLGAANFCEAEDCAGJNAEJKCCAA.dieter.menne@menne-biomed.de>

We have extracted parameters from physiological measurements by fitting
SSlogis-like curves with nlsList and nlme.

We presented residuals plot in a paper, but a referee argues that these
cannot be included (too technical), and r-square values should be given
instead to compare the goodness of fit with those of other authors.

I remember that 30 years ago in my stat 101, I learned that r-square is
nonsense for non-linear fits, but I cannot find a referee-proof citation for
this. Probably SAS does it (I know what Bill Venables will say about this
argument...).

Can anybody provide me a citation on r-square for/against non-linear fits,
or tell me that I am wrong?

Dieter


---------------------------------------
Dr. Dieter Menne
Biomed Software
72074 T?bingen
Tel (49) (7071) 52176
FAX (49) (7071) 55 10 46
dieter.menne at menne-biomed.de
www.menne-biomed.de




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Tue Jul 16 10:48:00 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Tue, 16 Jul 2002 10:48:00 +0200
Subject: [R] ANOVA-like tests of geometrically-distributed data
References: <Pine.LNX.4.44.0207161544030.6488-100000@venus.it.swin.edu.au>
Message-ID: <004601c22ca5$91352380$5c13070a@it.giustizia.it>

Hi Robert,
if you are not a statistician and you have a statistical problem, please
consult a statistician (or someone familiar with Statistics)!

I think that the different professions (statistician, medical doctors,....)
are very useful to improve everything (including joint works/papers)

In my opinion, availability of PC with free statistical softwares (e.g. R)
are not sufficient to understand the Statistics and to perform and to solve
(correctly) statistical problems.

Your words "I have also been told that something called a "generalized
linear model" " are well-self-explain, I believe.

regards,
vito



----- Original Message -----
From: "Robert Merkel" <rmerkel at venus.it.swin.edu.au>
To: <r-help at stat.math.ethz.ch>
Sent: Tuesday, July 16, 2002 8:04 AM
Subject: [R] ANOVA-like tests of geometrically-distributed data


> I have a statistical problem which has given me no end of grief recently,
> and am posting here in the hope that somebody can give me a straight
> answer.  I'm a IT postgrad, not a statistician, so people may have to
> speak really slowly and clearly for me to get it :)
>
> I am collecting simulation data, and the results are geometrically
> distributed (or approximately so).  From what I can gather from my stats
> books, provided the sample size is large enough (>30 or so) I can use t
> and z-tests to compare means under different experimental conditions as
> the CLT says that the sample means will be approximately normally
> distributed.
>
> However, also as I understand it, the ANOVA explicitly assumes that the
> population is normally distributed, which is an assumption that in my case
> is not satisfied.
>
> I have also been told that something called a "generalized linear model"
> can be used to perform ANOVA-like statistics on geometrically-distributed
> data, but not how.
>
> There is R documentation on a function "glm" and also "anova.glm" which
> discuss stuff that looks vaguely like what I want to do, but I can't
> really make sense of it.
>
> Can these functions do what I'm trying to do?  If so, what's the
> procedure?
>
> Any help will be *much* appreciated.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From noel at univ-lille3.fr  Tue Jul 16 11:06:30 2002
From: noel at univ-lille3.fr (Noel Yvonnick)
Date: Tue, 16 Jul 2002 11:06:30 +0200
Subject: [R] ReInstalling packages
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC494@usrymx10.merck.com>
References: <51F9C42DA15CD311BD220008C707D81906FFC494@usrymx10.merck.com>
Message-ID: <200207161106.30214.noel@univ-lille3.fr>

On Monday 15 July 2002 19:17, you wrote:
> Have you installed the readline-dev package?

That was the problem. Thank you for your help !
-- 
Yvonnick Noel
Universite de Lille 3
UFR de psychologie
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From e.corda at oncfs.gouv.fr  Tue Jul 16 11:46:57 2002
From: e.corda at oncfs.gouv.fr (E. Corda)
Date: Tue, 16 Jul 2002 11:46:57 +0200
Subject: [R] Can't find PBIB data set
Message-ID: <3.0.1.32.20020716114657.006fb7d8@mail.sky.fr>

A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 602 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020716/9fef9d85/attachment.bin

From a.p.beckerman at stir.ac.uk  Mon Jul 15 19:46:48 2002
From: a.p.beckerman at stir.ac.uk (Andrew Beckerman)
Date: Mon, 15 Jul 2002 18:46:48 +0100
Subject: [R] problems with CarbonLib
In-Reply-To: <p05111a01b9588f33a53c@[128.115.153.6]>
References: <l03010d00b95869f0a91f@[161.111.252.50]>
 <l03010d00b95869f0a91f@[161.111.252.50]>
Message-ID: <5.1.0.14.0.20020715184044.00ac0020@falloch.stir.ac.uk>

No need to upgrade... go to the apple website and download the carbon lib 
update...

search in software updates at apple.com for "carbonLib"

or try this....

http://docs.info.apple.com/article2.html?artnum=120047&SaveKCWindowURL=http%3A%2F%2Fkbase.info.apple.com%2Fcgi-bin%2FWebObjects%2Fkbase.woa%2Fwa%2FSaveKCToHomePage&searchMode=Expert&kbhost=kbase.info.apple.com&showButton=false&randomValue=100&showSurvey=true&sessionID=anonymous|133131151

cheers
andrew

At 07:46 15/07/02 -0700, Don MacQueen wrote:
>I do not know as much about running this version of R as the real experts 
>here, so I am not certain--but I think you need to upgrade from OS 9.0.4 
>to the most recent version of OS 9. If it were my machine, that is what I 
>would do. (And just in case, you might double-check, and make sure you got 
>the version of R that runs on OS 9)
>
>-Don
>
>
>At 2:07 PM +0200 7/15/02, Enrique Barahona wrote:
>>I tried to intall R  in a iMac with Mac OS E1- 9.0.4 (Mac OS ROM VE-4.6.1).
>>When I tried to run R for the first time I got a   message about
>>"Carbonlib-- CF RangeMake" not beeing found. Please, could you help me to
>>tackle the problem. Thanks very much.
>>
>>Barahona
>>
>>--
>>Enrique Barahona Fernandez
>>ESTACION EXPERIMENTAL DEL ZAIDIN, CSIC
>>Profesor Albareda, 1
>>18008, GRANADA (Spain)
>>
>>Tel. + 34 958 121011
>>Fax  + 34 958 129600
>>e-mail: barahona at eez.csic.es
>>
>>
>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>Send "info", "help", or "[un]subscribe"
>>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>
>--
>--------------------------------------
>Don MacQueen
>Environmental Protection Department
>Lawrence Livermore National Laboratory
>Livermore, CA, USA
>--------------------------------------
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
The University of Stirling is a university established in Scotland by
charter at Stirling, FK9 4LA.  Privileged/Confidential Information may
be contained in this message.  If you are not the addressee indicated
in this message (or responsible for delivery of the message to such
person), you may not disclose, copy or deliver this message to anyone
and any action taken or omitted to be taken in reliance on it, is
prohibited and may be unlawful.  In such case, you should destroy this
message and kindly notify the sender by reply email.  Please advise
immediately if you or your employer do not consent to Internet email
for messages of this kind.  Opinions, conclusions and other
information in this message that do not relate to the official
business of the University of Stirling shall be understood as neither
given nor endorsed by it.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ajsmit at botzoo.uct.ac.za  Tue Jul 16 12:40:47 2002
From: ajsmit at botzoo.uct.ac.za (Smit, A, Albertus, Dr)
Date: Tue, 16 Jul 2002 12:40:47 +0200
Subject: [R] dose.p in MASS
Message-ID: <3D34144F.21846.150924A@localhost>

Dear all

I need to obtain an estimate of the 50% lethal dose (LD50) from a 
logistic regression model obtained by applying the glm procedure to 
some binomial data. The model appears to fit the data very well. I 
used dope.p from MASS to try and find LD50.

The following output appears:

> dose.p(iso.glm.logit, cf = c(1,3), p = 1:3/4)
Error in dose.p(iso.glm.logit, cf = c(1, 3), p = 1:3/4) : 
        subscript out of bounds

What is the problem here? The error disappears when fiddle around 
with cf (e.g., cf = c(1,2)), but I have no idea what this does, or even 
what the cf parameter is used for.

Any help appreciated.

Kind regards,
Albertus

Dr. Albertus J. Smit
Department of Botany
University of Cape Town
Private Bag Rondebosch
7700
South Africa
Tel. +27 21 689 3032
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Tue Jul 16 14:29:39 2002
From: aolinto at bignet.com.br (Antonio Olinto)
Date: Tue, 16 Jul 2002 09:29:39 -0300
Subject: [R] r-square for non-linear regression
References: <JLEPLGAANFCEAEDCAGJNAEJKCCAA.dieter.menne@menne-biomed.de>
Message-ID: <00d001c22cc4$d8c81a80$39cffea9@batata>

Dear Menne,

Three months ago I wrote to R list asking about the coefficient of
determination on a nls regression and I got the answers below. Well, I
haven't a citation to give you but I hope these e-mails can contribute to
the discussion.

Best wishes,

Antonio Olinto

----- Original Message -----
From: <apjaworski at mmm.com>
Sent: Wednesday, May 01, 2002 3:52 PM
Subject: Re: [R] coefficient of determination on a nls regression

Antonio,

For linear regression we have the following identity

     total SS = regression SS + residual SS        (*)

where total SS is the sum of squares of observations around their mean,
i.e.

     total SS = (n-1)*var(y)

and residual SS is given by the deviance function.

R-squared is defined as

     R^2 = regression SS/ total SS = 1 - residual SS/total SS.

You can use this last formula to define a similar quantity for nonlinear
regression.  You have to remember that R^2 does not have its usual meaning
for NLS.  In fact, the basic identity (*) does not hold and the residuals
do not add up to zero.

Hope this helps,

Andy


----- Original Message -----
From: "Douglas Bates" <bates at stat.wisc.edu>
Sent: Wednesday, May 01, 2002 2:40 PM
Subject: Re: [R] coefficient of determination on a nls regression

There is a good reason that an nls model fit in R does not provide
r-squared - r-squared doesn't make sense for a general nls model.

One way of thinking of r-squared is as a comparison of the residual
sum of squares for the fitted model to the residual sum of squares for
a trivial model that consists of a constant only.  You cannot
guarantee that this is a comparison of nested models when dealing with
an nls model.  If the models aren't nested this comparison is not
terribly meaningful.

 So the answer is that you probably don't want to do this in the first
place.


----- Original Message -----
From: "Dieter Menne" <dieter.menne at menne-biomed.de>
To: "R-Help" <r-help at stat.math.ethz.ch>
Sent: Tuesday, July 16, 2002 5:45 AM
Subject: [R] r-square for non-linear regression


> We have extracted parameters from physiological measurements by fitting
> SSlogis-like curves with nlsList and nlme.
>
> We presented residuals plot in a paper, but a referee argues that these
> cannot be included (too technical), and r-square values should be given
> instead to compare the goodness of fit with those of other authors.
>
> I remember that 30 years ago in my stat 101, I learned that r-square is
> nonsense for non-linear fits, but I cannot find a referee-proof citation
for
> this. Probably SAS does it (I know what Bill Venables will say about this
> argument...).
>
> Can anybody provide me a citation on r-square for/against non-linear fits,
> or tell me that I am wrong?
>
> Dieter
>
>
> ---------------------------------------
> Dr. Dieter Menne
> Biomed Software
> 72074 T?bingen
> Tel (49) (7071) 52176
> FAX (49) (7071) 55 10 46
> dieter.menne at menne-biomed.de
> www.menne-biomed.de
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Tue Jul 16 15:11:05 2002
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Tue, 16 Jul 2002 08:11:05 -0500
Subject: [R] Disaggretation of time series
References: <3D34144F.21846.150924A@localhost>
Message-ID: <3D341B69.2060200@epm.net.co>

Hi R expert users:

I want to know if any body is working or have some functions
to apply times series disaggregation.

Thank you very much for your help

Kenneth

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alexander.schnee at tuebingen.mpg.de  Tue Jul 16 15:06:12 2002
From: alexander.schnee at tuebingen.mpg.de (alexander.schnee@tuebingen.mpg.de)
Date: Tue, 16 Jul 2002 15:06:12 +0200
Subject: [R] selectively aggregate data
Message-ID: <3D341A44.3030109@tuebingen.mpg.de>

I'm shure that this kind of question is asked not for the fist time, but 
i would be glad if someone of you could help me out
I have a data.frame like this :
    subjnr group block     data
1       33     1     1  564.476
2       33     1     1  289.185
3       33     1     1  483.372
4       33     1     1 1461.260
5       33     1     1  315.353
6       33     1     1  351.870
7       33     1     1 1238.350
8       33     1     1  218.135
9       33     1     1  335.486
10      33     1     1  312.848
11      33     1     1  224.989
12      33     1     1  383.283
13      33     1     1  317.788
14      33     1     1  310.263
15      33     1     1  216.295
16      33     1     1  309.118
17      33     1     1  216.223
33      35     1     1 1234.130
34      35     1     1  318.243
35      35     1     1  316.154
36      35     1     1 1478.610
37      35     1     1  528.299
38      35     1     1  253.566
39      35     1     1 1621.200
40      35     1     1  711.374
41      35     1     1  454.701
42      35     1     1  311.847
43      35     1     1  734.801
44      35     1     1  938.706
45      35     1     1  432.131
46      35     1     1 1498.540
47      35     1     1  330.199
48      35     1     1  694.136
49      35     1     1  321.608
65      37     1     1 1284.240
.........
and i like to have a data.frame with the values of the first 3 colloumns 
preserved and in  colloumn 4 the mean  of each subjnr. it should look 
like this :
    subjnr group block     data
1       33     1     1  444.017
2       35     1     1  716.367
3       37     1     1  428.507

I'm trying aggregate but i did not get the Parameters to fill in
thanks a lot if you can help me



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HStevens at muohio.edu  Tue Jul 16 15:29:32 2002
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Tue, 16 Jul 2002 09:29:32 -0400
Subject: [R] r-square for non-linear regression
In-Reply-To: <JLEPLGAANFCEAEDCAGJNAEJKCCAA.dieter.menne@menne-biomed.de>
Message-ID: <5.1.0.14.2.20020716092838.00ac1040@po.muohio.edu>

Not proof, but example of precedent for r-sq.:
Juliano, S. A., and F. M. Williams. 1987. A comparison of methods for 
estimating the functional response parameters of the random predator 
equation. Journal of Animal Ecology 56:641-653.

At 04:45 AM 7/16/2002, Dieter Menne wrote:
>We have extracted parameters from physiological measurements by fitting
>SSlogis-like curves with nlsList and nlme.
>
>We presented residuals plot in a paper, but a referee argues that these
>cannot be included (too technical), and r-square values should be given
>instead to compare the goodness of fit with those of other authors.
>
>I remember that 30 years ago in my stat 101, I learned that r-square is
>nonsense for non-linear fits, but I cannot find a referee-proof citation for
>this. Probably SAS does it (I know what Bill Venables will say about this
>argument...).
>
>Can anybody provide me a citation on r-square for/against non-linear fits,
>or tell me that I am wrong?
>
>Dieter
>
>
>---------------------------------------
>Dr. Dieter Menne
>Biomed Software
>72074 T?bingen
>Tel (49) (7071) 52176
>FAX (49) (7071) 55 10 46
>dieter.menne at menne-biomed.de
>www.menne-biomed.de
>
>
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>

Martin Henry H. Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.muohio.edu/~botcwis/bot/henry.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 16 15:48:19 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 16 Jul 2002 14:48:19 +0100 (BST)
Subject: [R] dose.p in MASS
In-Reply-To: <3D34144F.21846.150924A@localhost>
Message-ID: <Pine.LNX.4.31.0207161445580.1589-100000@gannet.stats>

On Tue, 16 Jul 2002, Smit, A, Albertus, Dr wrote:

> Dear all
>
> I need to obtain an estimate of the 50% lethal dose (LD50) from a
> logistic regression model obtained by applying the glm procedure to
> some binomial data. The model appears to fit the data very well. I
> used dope.p from MASS to try and find LD50.
>
> The following output appears:
>
> > dose.p(iso.glm.logit, cf = c(1,3), p = 1:3/4)
> Error in dose.p(iso.glm.logit, cf = c(1, 3), p = 1:3/4) :
>         subscript out of bounds
>
> What is the problem here? The error disappears when fiddle around
> with cf (e.g., cf = c(1,2)), but I have no idea what this does, or even
> what the cf parameter is used for.

There is a help page for dose.p(), and it does explain the argument `cf'!
Probably the default cf=1:2 is what you want, but without seeing how you
created iso.glm.logit we can only guess.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Tue Jul 16 15:49:35 2002
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 16 Jul 2002 09:49:35 -0400
Subject: [R] dose.p in MASS
In-Reply-To: <3D34144F.21846.150924A@localhost>
Message-ID: <5.1.0.14.2.20020716094354.01d88508@mcmail.cis.mcmaster.ca>

At 12:40 PM 7/16/2002 +0200, Smit, A, Albertus, Dr wrote:

>I need to obtain an estimate of the 50% lethal dose (LD50) from a
>logistic regression model obtained by applying the glm procedure to
>some binomial data. The model appears to fit the data very well. I
>used dope.p from MASS to try and find LD50.
>
>The following output appears:
>
> > dose.p(iso.glm.logit, cf = c(1,3), p = 1:3/4)
>Error in dose.p(iso.glm.logit, cf = c(1, 3), p = 1:3/4) :
>         subscript out of bounds
>
>What is the problem here? The error disappears when fiddle around
>with cf (e.g., cf = c(1,2)), but I have no idea what this does, or even
>what the cf parameter is used for.
>
>Any help appreciated.

Dear Albertus,

 From the help page for dose.p:

cf The terms in the coefficient vector giving the intercept and coefficient 
of (log-)dose

Apparently, your model (unlike the example on the help page) has only one 
predictor, presumably the log dose; there are, therefore, only two 
coefficients -- for the intercept and log dose.

I hope that this helps,
  John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Tue Jul 16 15:52:27 2002
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Tue, 16 Jul 2002 15:52:27 +0200 (MET DST)
Subject: [R] I() in data.frames
Message-ID: <200207161352.PAA07002@luc.ac.be>

 I avoid dataframes so just noticed this in 1.5.1:

> r <- rbinom(10,5,0.5)
> data.frame(y=I(cbind(r,5-r)))
Error in data.frame(y = c("2", "3", "4", "5", "2", "2", "1", "0", "3",  : 
        row.names should specify one of the variables

This worked up until and including 1.1.x, but not since (which shows
how often I use them!).
  Is this a feature, and if so, how does one now keep a two column
response variable in a dataframe now?
  Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alexander.schnee at tuebingen.mpg.de  Tue Jul 16 15:58:17 2002
From: alexander.schnee at tuebingen.mpg.de (alexander.schnee@tuebingen.mpg.de)
Date: Tue, 16 Jul 2002 15:58:17 +0200
Subject: [R]selectively aggregate data
Message-ID: <3D342679.9040401@tuebingen.mpg.de>

sorry for sending this twice but i forgot the [R] in the subject

I'm shure that this kind of question is asked not for the fist time, but
i would be glad if someone of you could help me out
I have a data.frame like this :
     subjnr group block     data
1       33     1     1  564.476
2       33     1     1  289.185
3       33     1     1  483.372
4       33     1     1 1461.260
5       33     1     1  315.353
6       33     1     1  351.870
7       33     1     1 1238.350
8       33     1     1  218.135
9       33     1     1  335.486
10      33     1     1  312.848
11      33     1     1  224.989
12      33     1     1  383.283
13      33     1     1  317.788
14      33     1     1  310.263
15      33     1     1  216.295
16      33     1     1  309.118
17      33     1     1  216.223
33      35     1     1 1234.130
34      35     1     1  318.243
35      35     1     1  316.154
36      35     1     1 1478.610
37      35     1     1  528.299
38      35     1     1  253.566
39      35     1     1 1621.200
40      35     1     1  711.374
41      35     1     1  454.701
42      35     1     1  311.847
43      35     1     1  734.801
44      35     1     1  938.706
45      35     1     1  432.131
46      35     1     1 1498.540
47      35     1     1  330.199
48      35     1     1  694.136
49      35     1     1  321.608
65      37     1     1 1284.240
.........
and i like to have a data.frame with the values of the first 3 colloumns
preserved and in  colloumn 4 the mean  of each subjnr. it should look
like this :
     subjnr group block     data
1       33     1     1  444.017
2       35     1     1  716.367
3       37     1     1  428.507

I'm trying aggregate but i did not get the Parameters to fill in
thanks a lot if you can help me




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jweiner1 at ix.urz.uni-heidelberg.de  Tue Jul 16 16:30:01 2002
From: jweiner1 at ix.urz.uni-heidelberg.de (January Weiner 3)
Date: Tue, 16 Jul 2002 16:30:01 +0200 (METDST)
Subject: [R] Hello & a simple question
Message-ID: <Pine.A41.4.42.0207161624520.46078-100000@aixterm1.urz.uni-heidelberg.de>

Hello,

I'm new to R, but it seems to work nicely for me from the start.  Being a
molecular biologist, I do not have a profound knowledge of statistical
reasoning.  I have two questions:

1) is there an other manual for R available apart from the `R-intro'
document, especially one with more in-deep description of calculating
basic statistics with R?

...and a more specific one:

2) Suppose I compute a regression model using the lm() function.  How does
one plot confidence regions for this model?

Best regards,

January

----)-\//-///-----------------------------------January-Weiner-3-------
"You can't trample infidels when you're a tortoise. I mean, all you
could do is give them a meaningful look."

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wzhang at molecularmining.com  Tue Jul 16 16:31:51 2002
From: wzhang at molecularmining.com (Weidong Zhang)
Date: Tue, 16 Jul 2002 10:31:51 -0400
Subject: [R] Summary of using R from within Perl
Message-ID: <ED48BEC53E71B14EBBB1E67930D345530F83D6@rigel.hq.molecularmining.com>

Many thanks to Duncan Lang and Patrick Connolly for their very helpful
suggestions.

I used ldd to look up R.so and was told that libR.so was not found.
After I changed LD_LIBRARY_PATH, it worked!

Weidong

Weidong Zhang wrote:
> Hello All,
> 
> I installed RSPerl following the instructions from
> http://www.omegahat.org/RSPerl/ but got an error message when I tried
to
> run test2.pl. The error is :
> 
> Can't load '../share/blib/arch/auto/R/R.so' for module R: cannot open
> shared object file: cannot load shared object file:
> No such file or directory at
> /usr/lib/perl5/5.6.0/i686-linux/DynaLoader.pm line 200.
>  at test.pl line 11
> Compilation failed in require at test.pl line 11.
> BEGIN failed--compilation aborted at test.pl line 11.
> 
> 
> I am using redhat Linux, R-1.5.1, and perl v5.6.0. Any advice?
> 
> Thanks in advance!
> 
> Weidong Zhang
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._
  

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Tue Jul 16 16:49:46 2002
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Tue, 16 Jul 2002 16:49:46 +0200
Subject: [R] selectively aggregate data
In-Reply-To: <3D341A44.3030109@tuebingen.mpg.de>
Message-ID: <3D344EAA.3749.1EC2304@localhost>



On 16 Jul 2002 at 15:06, alexander.schnee at tuebingen.mp wrote:

> I'm shure that this kind of question is asked not for the fist time,
> but i would be glad if someone of you could help me out I have a
> data.frame like this :
>     subjnr group block     data
> 1       33     1     1  564.476
> 2       33     1     1  289.185
> 3       33     1     1  483.372
> 4       33     1     1 1461.260
> 5       33     1     1  315.353
> 6       33     1     1  351.870
> 7       33     1     1 1238.350
> 8       33     1     1  218.135
> 9       33     1     1  335.486
> 10      33     1     1  312.848
> 11      33     1     1  224.989
> 12      33     1     1  383.283
> 13      33     1     1  317.788
> 14      33     1     1  310.263
> 15      33     1     1  216.295
> 16      33     1     1  309.118
> 17      33     1     1  216.223
> 33      35     1     1 1234.130
> 34      35     1     1  318.243
> 35      35     1     1  316.154
> 36      35     1     1 1478.610
> 37      35     1     1  528.299
> 38      35     1     1  253.566
> 39      35     1     1 1621.200
> 40      35     1     1  711.374
> 41      35     1     1  454.701
> 42      35     1     1  311.847
> 43      35     1     1  734.801
> 44      35     1     1  938.706
> 45      35     1     1  432.131
> 46      35     1     1 1498.540
> 47      35     1     1  330.199
> 48      35     1     1  694.136
> 49      35     1     1  321.608
> 65      37     1     1 1284.240
> .........
> and i like to have a data.frame with the values of the first 3
> colloumns preserved and in  colloumn 4 the mean  of each subjnr. it
> should look like this :
>     subjnr group block     data
> 1       33     1     1  444.017
> 2       35     1     1  716.367
> 3       37     1     1  428.507
> 
> I'm trying aggregate but i did not get the Parameters to fill in
> thanks a lot if you can help me

I do not know, if it is posible to do it in one step. Partly it depends 
on whether variables group and block changes throughout your 
data frame.

If not the syntax shall be:

aggregate(data,list(subjnr),mean,na.rm=T)

and than you manually add vectors for group and block. }see 
?cbind

If the values of groups and blocks changes (and you want means 
for them as well), it can be done in one step by extending list 
argument.

aggregate(data,list(subjnr, group, block),mean,na.rm=T)

BTW it is usefull to give an example of your code (even if it does 
not work correctly:-) as it can give more clear picture of what you 
exactly want.


> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.- r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help",
> or "[un]subscribe" (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._

Petr Pikal
petr.pikal at precheza.cz
p.pik at volny.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From renaud.lancelot at free.fr  Tue Jul 16 16:58:33 2002
From: renaud.lancelot at free.fr (Renaud Lancelot)
Date: Tue, 16 Jul 2002 16:58:33 +0200
Subject: [R] scale parameter and parameter vac-cov matrix in GEE
Message-ID: <3D343499.85DCAAFD@free.fr>

Dear all,

It looks like the parameters var-cov matrix returned by gee() is not
adjusted for the scale parameter:

> fm1 <- gee(nbtrp ~ strate * saison + offset(log(surf)), family = poisson, data = Eff2001,
+             id = loc, tol = 1e-10, corstr = "exchangeable")
[1] "Beginning Cgee S-function, @(#) geeformula.q 4.13 98/01/27"
[1] "running glm to get initial regression estimate"
[1] -0.7755188 -1.5240927  0.4769241  0.4682660  0.1776812
[6]  0.1219127  0.6949677 -1.0451064
> fm2 <- gee(nbtrp ~ strate * saison + offset(log(surf)), family = poisson, data = Eff2001,
+             id = loc, tol = 1e-10, corstr = "exchangeable", scale.fix
= T, scale.value = 1)
[1] "Beginning Cgee S-function, @(#) geeformula.q 4.13 98/01/27"
[1] "running glm to get initial regression estimate"
[1] -0.7755188 -1.5240927  0.4769241  0.4682660  0.1776812
[6]  0.1219127  0.6949677 -1.0451064

> fm1$scale
[1] 10.01990

> fm2$scale
[1] 1
> 
> round(fm1$robust.variance, 4)[1:2, 1:2]
            (Intercept) strateLD
(Intercept)      0.0295  -0.0165
strateLD        -0.0165   0.0827

> round(fm2$robust.variance, 4)[1:2, 1:2]
            (Intercept) strateLD
(Intercept)      0.0295  -0.0165
strateLD        -0.0165   0.0827
>

What should I do to make the adjustement ?

Thanks in advance,

Renaud



-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jul 16 17:04:23 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 16 Jul 2002 08:04:23 -0700 (PDT)
Subject: [R] Hello & a simple question
In-Reply-To: <Pine.A41.4.42.0207161624520.46078-100000@aixterm1.urz.uni-heidelberg.de>
Message-ID: <Pine.A41.4.44.0207160802050.53024-100000@homer19.u.washington.edu>

On Tue, 16 Jul 2002, January Weiner 3 wrote:

> Hello,
>
> I'm new to R, but it seems to work nicely for me from the start.  Being a
> molecular biologist, I do not have a profound knowledge of statistical
> reasoning.  I have two questions:
>
> 1) is there an other manual for R available apart from the `R-intro'
> document, especially one with more in-deep description of calculating
> basic statistics with R?

There are other manuals on CRAN, under Documentation|Contributed that
might do what you want.  There are also quite a few introductory books on
S-PLUS around, and the information is likely to be compatible.  The usual
book recommendation (MASS) is probably not what you're looking for.

> ...and a more specific one:
>
> 2) Suppose I compute a regression model using the lm() function.  How does
> one plot confidence regions for this model?

Using the ellipse() function in the ellipse package.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jeanne.Rey at gazdefrance.com  Tue Jul 16 18:08:07 2002
From: Jeanne.Rey at gazdefrance.com (Rey, Jeanne)
Date: Tue, 16 Jul 2002 17:08:07 +0100
Subject: No subject
Message-ID: <OF8CD05F6F.B324E9BB-ON41256BF8.0058201A@LocalDomain>

Hello!
Is there any routine for estimating FIGARCH coefficients?
Thank you in advance.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jul 16 17:14:03 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 16 Jul 2002 08:14:03 -0700 (PDT)
Subject: [R] scale parameter and parameter vac-cov matrix in GEE
In-Reply-To: <3D343499.85DCAAFD@free.fr>
Message-ID: <Pine.A41.4.44.0207160804370.53024-100000@homer19.u.washington.edu>

On Tue, 16 Jul 2002, Renaud Lancelot wrote:

> Dear all,
>
> It looks like the parameters var-cov matrix returned by gee() is not
> adjusted for the scale parameter:
<snip example>
>
> > fm1$scale
> [1] 10.01990
>
> > fm2$scale
> [1] 1
> >
> > round(fm1$robust.variance, 4)[1:2, 1:2]
>             (Intercept) strateLD
> (Intercept)      0.0295  -0.0165
> strateLD        -0.0165   0.0827
>
> > round(fm2$robust.variance, 4)[1:2, 1:2]
>             (Intercept) strateLD
> (Intercept)      0.0295  -0.0165
> strateLD        -0.0165   0.0827
> >
>
> What should I do to make the adjustement ?

You shouldn't.

Fixing the scale affects only the model-based variance estimate ("Naive
S.E." in summary.gee). This is done correctly.

 Setting up the robust variance estimate so that it relied on the fixed
scale would be a) difficult and b) pointless.  The whole reason for the
robust variance estimate is that it depends only on the mean model and on
the independence of different groups.


	-thomas




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmelinard at yahoo.fr  Tue Jul 16 17:23:29 2002
From: jmelinard at yahoo.fr (=?iso-8859-1?q?jimmy=20melinard?=)
Date: Tue, 16 Jul 2002 17:23:29 +0200 (CEST)
Subject: [R] import data from excel
Message-ID: <20020716152329.78750.qmail@web14908.mail.yahoo.com>

hi!,
i'm starting using R and i'd like to know how to
import data from an excel format
Thank you!

___________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jul 16 17:25:52 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Jul 2002 17:25:52 +0200
Subject: [R] Hello & a simple question
In-Reply-To: <Pine.A41.4.44.0207160802050.53024-100000@homer19.u.washington.edu>
References: <Pine.A41.4.44.0207160802050.53024-100000@homer19.u.washington.edu>
Message-ID: <x2k7nvu22n.fsf@biostat.ku.dk>

Thomas Lumley <tlumley at u.washington.edu> writes:

> > 1) is there an other manual for R available apart from the `R-intro'
> > document, especially one with more in-deep description of calculating
> > basic statistics with R?
> 
> There are other manuals on CRAN, under Documentation|Contributed that
> might do what you want.  There are also quite a few introductory books on
> S-PLUS around, and the information is likely to be compatible.  The usual
> book recommendation (MASS) is probably not what you're looking for.

...although there's another one (ISwR) coming up in the same series
that might be. [Shameless plug, I know.]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrisc at student.unsw.edu.au  Tue Jul 16 17:25:05 2002
From: chrisc at student.unsw.edu.au (Chris Cotsapas)
Date: Wed, 17 Jul 2002 01:25:05 +1000
Subject: [R]: sma library plot.spatial
Message-ID: <IDELLJHLJDLOMENDDJKNEEEJCCAA.chrisc@student.unsw.edu.au>

Hi all

I'm using the above function to generate heat maps for various microarray
parameters (in R 1.4.1). I'd like to round off my plots by including a
colour key, but I can't figure out how to print it alongside the figure. Any
advice would be appreciated.

Cheers

Chris

--
Chris Cotsapas

Biotechnology and Biomolecular Sciences
University of New South Wales
Sydney, NSW 2052, Australia

Tel: +61 2 9385 3857
Fax: +61 2 9385 1483

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrisc at student.unsw.edu.au  Tue Jul 16 17:27:26 2002
From: chrisc at student.unsw.edu.au (Chris Cotsapas)
Date: Wed, 17 Jul 2002 01:27:26 +1000
Subject: [R] Sydney,Australia  R users' group
Message-ID: <IDELLJHLJDLOMENDDJKNIEEJCCAA.chrisc@student.unsw.edu.au>

Does anyone know whether such a group exists, and if so, could you provide
contact details for the organisers.

If there isn't one, would people be interested in participating if we set
one up?

Thanks for your thoughts

Chris

--
Chris Cotsapas

Biotechnology and Biomolecular Sciences
University of New South Wales
Sydney, NSW 2052, Australia

Tel: +61 2 9385 3857
Fax: +61 2 9385 1483

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pcovelli at tin.it  Tue Jul 16 17:31:08 2002
From: pcovelli at tin.it (Paolo Covelli)
Date: Tue, 16 Jul 2002 17:31:08 +0200
Subject: [R] Device 2: graphic window
Message-ID: <000701c22cdd$d02f98d0$dc0f6850@paolo>

Does anyone know how I can choose the background color of the graphic
window?
Furthermore, how can I open more than a graphic-window in the same work
session?
(My platform is W2000 on PC)

Thank in advance.

Paolo

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrisc at student.unsw.edu.au  Tue Jul 16 17:31:48 2002
From: chrisc at student.unsw.edu.au (Chris Cotsapas)
Date: Wed, 17 Jul 2002 01:31:48 +1000
Subject: [R] Theory for manova...
In-Reply-To: <200207151703.31299.jlamoral@ulb.ac.be>
Message-ID: <IDELLJHLJDLOMENDDJKNOEEJCCAA.chrisc@student.unsw.edu.au>



:-----Original Message-----
:From: owner-r-help at stat.math.ethz.ch
:[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of jlamoral
:Sent: 16 July 2002 01:04
:To: R-help List
:Subject: [R] Theory for manova...
:
:
:Hello, I am a R user and I must use the function manova, 
:unfortunately I do 
:not know the theorie. Is  there here somebody whom can give me the 
:address of 
:a site explaining  this theorie? thanks a lot

Check out:

http://www.statsoftinc.com/textbook/stathome.html
http://ebook.stat.ucla.edu/textbook/ 
http://www.owlnet.rice.edu/~aniko/online.html

They should get you started

Chris

--
Chris Cotsapas

Biotechnology and Biomolecular Sciences   
University of New South Wales 
Sydney, NSW 2052, Australia
 
Tel: +61 2 9385 3857
Fax: +61 2 9385 1483
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jweiner1 at ix.urz.uni-heidelberg.de  Tue Jul 16 17:50:22 2002
From: jweiner1 at ix.urz.uni-heidelberg.de (January Weiner 3)
Date: Tue, 16 Jul 2002 17:50:22 +0200 (METDST)
Subject: [R] Hello & a simple question
In-Reply-To: <Pine.A41.4.44.0207160802050.53024-100000@homer19.u.washington.edu>
Message-ID: <Pine.A41.4.42.0207161748030.46078-100000@aixterm1.urz.uni-heidelberg.de>

Hello again,
	thanks for the input.  The CRAN / documentation / contrited section
	proved very useful. I found the `Simple R' by J. Verzani especially
	enlightening, and also containing the `Simple' package with
	exactly those functions I needed at the moment.

	Best regards,
	j.

----)-\//-///-----------------------------------January-Weiner-3-------
AG Herrmann, Zentrum f?r Molekulare Biologie, Universit?t Heidelberg
Im Neuenheimer Feld 282, 69120 Heidelberg Tel. (+49 6221) 546828, Fax 545893
http://www.zmbh.uni-heidelberg.de/M_pneumoniae/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Jul 16 18:04:26 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 16 Jul 2002 18:04:26 +0200
Subject: [R] Device 2: graphic window
References: <000701c22cdd$d02f98d0$dc0f6850@paolo>
Message-ID: <3D34440A.37CA488A@statistik.uni-dortmund.de>



Paolo Covelli wrote:
> 
> Does anyone know how I can choose the background color of the graphic
> window?

 par("bg" = "green")

> Furthermore, how can I open more than a graphic-window in the same work
> session?
> (My platform is W2000 on PC)

 windows()

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Jul 16 18:09:08 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 16 Jul 2002 18:09:08 +0200
Subject: [R] import data from excel
References: <20020716152329.78750.qmail@web14908.mail.yahoo.com>
Message-ID: <3D344524.376E0D7A@statistik.uni-dortmund.de>

jimmy melinard wrote:
> 
> hi!,
> i'm starting using R and i'd like to know how to
> import data from an excel format
> Thank you!

A first point to start is the R Data Import/Export Manual.

If you have got a version of excel you don't need to import data from
Excel too often, I'd suggest to save the file from Excel an ASCII
format, e.g. .csv.

There are other ways like ODBC connections (which doesn't work very well
with Excel, AFAIK) or the R-Excel Interface provided by Erich Neuwirth,
available at CRAN (somewhere in "Other" software).

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Tue Jul 16 18:12:10 2002
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Tue, 16 Jul 2002 09:12:10 -0700
Subject: [R] Hello & a simple question
In-Reply-To: <x2k7nvu22n.fsf@biostat.ku.dk>
References: <Pine.A41.4.44.0207160802050.53024-100000@homer19.u.washington.edu>
 <Pine.A41.4.44.0207160802050.53024-100000@homer19.u.washington.edu>
Message-ID: <5.1.1.2.2.20020716091141.01cc9ce8@pop4.attglobal.net>

At 05:25 PM 7/16/2002 +0200, Peter Dalgaard BSA wrote:
>...although there's another one (ISwR) coming up in the same series
>that might be. [Shameless plug, I know.]

When?  Inquiring instructors would love to know.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Tue Jul 16 18:42:01 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Tue, 16 Jul 2002 12:42:01 -0400
Subject: [R] Hello & a simple question
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC49E@usrymx10.merck.com>

According to Amazon.com, August 15.  You can pre-order the book.

Andy

> -----Original Message-----
> From: Marc Feldesman [mailto:feldesmanm at pdx.edu]
> Sent: Tuesday, July 16, 2002 12:12 PM
> To: Peter Dalgaard BSA; Thomas Lumley
> Cc: January Weiner 3; r-help at stat.math.ethz.ch
> Subject: Re: [R] Hello & a simple question
> 
> 
> At 05:25 PM 7/16/2002 +0200, Peter Dalgaard BSA wrote:
> >...although there's another one (ISwR) coming up in the same series
> >that might be. [Shameless plug, I know.]
> 
> When?  Inquiring instructors would love to know.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From malewski.peter at mh-hannover.de  Tue Jul 16 19:12:16 2002
From: malewski.peter at mh-hannover.de (Peter Malewski)
Date: Tue, 16 Jul 2002 19:12:16 +0200
Subject: [R] problem with german fonts (gnu-emacs 21.2.1, ess-5.1.21, w95)
Message-ID: <20020716191205.A25413@rzsrv2.rz.tu-bs.de>

I have a little problem, I cannot solve (at least reasonable fast)
I use gnu-emacs 21.2.1 with r-1.5.1 on windows 95. In recent versions
I changed "process-coding-system-alist" (C-x[REt]p) to "latin-1". Then I was
able to plot german "????" etc(rgui does make this correct). 
With the new R version this does not work any
more. I tried to use some other codings systems (iso-latin-1, etc.) and also
tried 

postscript("c:/temp/temp.ps",encdoding="ISOLatin1.enc")

in combination with some coding systems. Nothing work: 

> postscript("c:/temp/temp.ps",encoding="ISOLatin1.enc")
> plot(1,1);text(1,1,"???")#latin  1 --no warning wrong result
> plot(1,1);text(1,1,"???")#iso-latin-1 -no w.w.r.
> plot(1,1);text(1,1,"???")#dos 
Warning messages: 
1: font width unknown for character 129 
2: font width unknown for character 129 
3: font width unknown for character 129 
4: font metrics unknown for character 129 
5: font metrics unknown for character 129 
6: font metrics unknown for character 129 
7: font width unknown for character 129 
8: font width unknown for character 129 
9: font width unknown for character 129 
> plot(1,1);text(1,1,"???")#emacs-mule
Warning messages: 
1: font width unknown for character 129 
2: font width unknown for character 129 
3: font width unknown for character 129 
4: font metrics unknown for character 129 
5: font metrics unknown for character 129 
6: font metrics unknown for character 129 
7: font width unknown for character 129 
8: font width unknown for character 129 
9: font width unknown for character 129 
> dev.off()
null device 
          1 
...all this produce wrong fonts. I had the same problem recently 
at home on debian-stable. Does anybody has a solution?

Peter

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nj7w at virginia.edu  Tue Jul 16 19:02:26 2002
From: nj7w at virginia.edu (nj7w@virginia.edu)
Date: Tue, 16 Jul 2002 13:02:26 -0400 (EDT)
Subject: [R] libR.so question 
Message-ID: <Pine.A41.4.32.0207161301270.14676-100000@node13.unix.Virginia.EDU>

 Hi,

  I am facing a problem in locating (or installing) libR.so. Installed R
  using
  ./configure --enable-R-shlib --prefix=/home/njain/util/R-1.5.1
  make
  make install

  but could not find libR.so in /home/njain/util/R-1.5.1/

  Any suggestions?

  Thanks.
  Nitin



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.firth at nuffield.oxford.ac.uk  Tue Jul 16 19:28:29 2002
From: david.firth at nuffield.oxford.ac.uk (David Firth)
Date: Tue, 16 Jul 2002 18:28:29 +0100
Subject: [R] array construction, avoiding for loop
Message-ID: <716CF4D8-98E1-11D6-A126-0050E4C03977@nuffield.oxford.ac.uk>

Suppose X has dimensions (I,J), and Y has dimensions (J,K).  To construct 
a 3-way array whose (i,j,k)th element is X[i,j]*Y[j,k], is there something 
much more economical than

XY <- outer(X,Y)
result <- array(0, c(I,J,K))
for (j in 1:J){
     result[,j,] <- XY[,j,j,]
}

This is faster than using three nested for loops, but it still has a for 
loop and a fair amount of redundant calculation/storage for the 4-way 
array XY.

I need to do this lots of times (hence interested in speed), but my arrays 
are typically not large (I, J, K of the order of 10).

I feel I must be missing some trick here.  Any hints welcomed.

David

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jgentry at jimmy.harvard.edu  Tue Jul 16 19:31:48 2002
From: jgentry at jimmy.harvard.edu (Jeff Gentry)
Date: Tue, 16 Jul 2002 13:31:48 -0400 (EDT)
Subject: [R] libR.so question 
In-Reply-To: <Pine.A41.4.32.0207161301270.14676-100000@node13.unix.Virginia.EDU>
Message-ID: <Pine.SOL.4.20.0207161330150.10023-100000@santiam.dfci.harvard.edu>

>   but could not find libR.so in /home/njain/util/R-1.5.1/

On my setup at least I find it in R/bin/libR.so (as well as
R/src/main/libR.so).

If you're on a unix system, you could always try "find
/home/njain/util/R-1.5.1 -name libR.so -print" and see what it spits
out.  On Windows you could use the file finder thing, whatever it is.

-J

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kevin.Bartz at FMR.COM  Tue Jul 16 19:31:38 2002
From: Kevin.Bartz at FMR.COM (Bartz, Kevin)
Date: Tue, 16 Jul 2002 13:31:38 -0400
Subject: [R] z[j,]$a v. z$a[j]
Message-ID: <763C275E6A1C2248AFD475237AD6135BE7CF8D@MSGBOS576NTS.fmr.com>

I noticed that R takes much longer to pull an element from a data frame when
I select the row first (z[j,]$a) than when I select the column first
(z$a[j]).

> data.frame(a = 1:10, b = letters[1:10], c = LETTERS[1:10]) -> z
> z
    a b c
1   1 a A
2   2 b B
3   3 c C
4   4 d D
5   5 e E
6   6 f F
7   7 g G
8   8 h H
9   9 i I
10 10 j J
> system.time(for (i in 1:1000) for (j in 1:10) z$a[j])
[1] 0.96 0.02 0.99 0.00 0.00
> system.time(for (i in 1:1000) for (j in 1:10) z[j,]$a)
[1] 46.20  6.04 52.55  0.00  0.00

Why is this?

> R.version
         _                   
platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    5.1                 
year     2002                
month    06                  
day      17                  
language R                 

Thanks,

Kevin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Tue Jul 16 19:39:37 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Tue, 16 Jul 2002 14:39:37 -0300
Subject: [R] Hello & a simple question
In-Reply-To: <Pine.A41.4.42.0207161624520.46078-100000@aixterm1.urz.uni-
 heidelberg.de>
Message-ID: <4.2.2.20020716143850.00a88d70@pop3.arnet.com.ar>

At 04:30 PM 16/7/2002 +0200, January Weiner 3 wrote:
>Hello,
>
>I'm new to R, but it seems to work nicely for me from the start.  Being a
>molecular biologist, I do not have a profound knowledge of statistical
>reasoning.  I have two questions:
>
>1) is there an other manual for R available apart from the `R-intro'
>document, especially one with more in-deep description of calculating
>basic statistics with R?
>
>...and a more specific one:
>
>2) Suppose I compute a regression model using the lm() function.  How does
>one plot confidence regions for this model?

Use predict() to compute the confidence and prediction intervals and then 
plot them.

>Best regards,
>
>January
>
>----)-\//-///-----------------------------------January-Weiner-3-------
>"You can't trample infidels when you're a tortoise. I mean, all you
>could do is give them a meaningful look."
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at sentoo.sn  Tue Jul 16 18:50:40 2002
From: lancelot at sentoo.sn (lancelot@sentoo.sn)
Date: Tue, 16 Jul 2002 18:50:40 +0200
Subject: [R] scale parameter and parameter vac-cov matrix in GEE
Message-ID: <4dedc56.c564ded@sentoo.sn>

I wanted to scale the var-cov matrix to compute confidence intervals for 
predicted values with a Monte Carlo procedure (simulation of predicted 
values assuming a multivariate-normal distribution for the GEE-model 
parameters). I incorrectly thought that I had to adjust the robust 
var-cov matrix with the scale parameter. Thanks for pointing out my 
mistake.

Best regards,

Renaud

----- Message Original -----
De: Thomas Lumley <tlumley at u.washington.edu>
Date: Mardi, Julliet 16, 2002 5:14 pm
Sujet: Re: [R] scale parameter and parameter vac-cov matrix in GEE

> On Tue, 16 Jul 2002, Renaud Lancelot wrote:
> 
> > Dear all,
> >
> > It looks like the parameters var-cov matrix returned by gee() is not
> > adjusted for the scale parameter:
> <snip example>
> >
> > > fm1$scale
> > [1] 10.01990
> >
> > > fm2$scale
> > [1] 1
> > >
> > > round(fm1$robust.variance, 4)[1:2, 1:2]
> >             (Intercept) strateLD
> > (Intercept)      0.0295  -0.0165
> > strateLD        -0.0165   0.0827
> >
> > > round(fm2$robust.variance, 4)[1:2, 1:2]
> >             (Intercept) strateLD
> > (Intercept)      0.0295  -0.0165
> > strateLD        -0.0165   0.0827
> > >
> >
> > What should I do to make the adjustement ?
> 
> You shouldn't.
> 
> Fixing the scale affects only the model-based variance estimate 
> ("NaiveS.E." in summary.gee). This is done correctly.
> 
> Setting up the robust variance estimate so that it relied on the 
> fixedscale would be a) difficult and b) pointless.  The whole 
> reason for the
> robust variance estimate is that it depends only on the mean model 
> and on
> the independence of different groups.
> 
> 
> 	-thomas
> 
> 
> 
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 16 19:39:17 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 16 Jul 2002 18:39:17 +0100 (BST)
Subject: [R] array construction, avoiding for loop
In-Reply-To: <716CF4D8-98E1-11D6-A126-0050E4C03977@nuffield.oxford.ac.uk>
Message-ID: <Pine.LNX.4.31.0207161835001.1824-100000@gannet.stats>

On Tue, 16 Jul 2002, David Firth wrote:

> Suppose X has dimensions (I,J), and Y has dimensions (J,K).  To construct
> a 3-way array whose (i,j,k)th element is X[i,j]*Y[j,k], is there something
> much more economical than
>
> XY <- outer(X,Y)
> result <- array(0, c(I,J,K))
> for (j in 1:J){
>      result[,j,] <- XY[,j,j,]
> }
>
> This is faster than using three nested for loops, but it still has a for
> loop and a fair amount of redundant calculation/storage for the 4-way
> array XY.
>
> I need to do this lots of times (hence interested in speed), but my arrays
> are typically not large (I, J, K of the order of 10).
>
> I feel I must be missing some trick here.  Any hints welcomed.

You can treat them as vectors:

res <- as.vector(X) * rep(Y, each=I)
dim(res) <- c(I, J, K)

looks about right.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 16 19:46:49 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 16 Jul 2002 18:46:49 +0100 (BST)
Subject: [R] z[j,]$a v. z$a[j]
In-Reply-To: <763C275E6A1C2248AFD475237AD6135BE7CF8D@MSGBOS576NTS.fmr.com>
Message-ID: <Pine.LNX.4.31.0207161840440.1824-100000@gannet.stats>

On Tue, 16 Jul 2002, Bartz, Kevin wrote:

> I noticed that R takes much longer to pull an element from a data frame when
> I select the row first (z[j,]$a) than when I select the column first
> (z$a[j]).
>
> > data.frame(a = 1:10, b = letters[1:10], c = LETTERS[1:10]) -> z
> > z
>     a b c
> 1   1 a A
> 2   2 b B
> 3   3 c C
> 4   4 d D
> 5   5 e E
> 6   6 f F
> 7   7 g G
> 8   8 h H
> 9   9 i I
> 10 10 j J
> > system.time(for (i in 1:1000) for (j in 1:10) z$a[j])
> [1] 0.96 0.02 0.99 0.00 0.00
> > system.time(for (i in 1:1000) for (j in 1:10) z[j,]$a)
> [1] 46.20  6.04 52.55  0.00  0.00
>
> Why is this?

Because a row of a data frame is still a data frame, a much more complex
object than a column of a data frame.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Mike.Prager at noaa.gov  Tue Jul 16 19:52:19 2002
From: Mike.Prager at noaa.gov (Mike Prager)
Date: Tue, 16 Jul 2002 13:52:19 -0400
Subject: [R] Minor GUI Issues
Message-ID: <5.1.0.14.2.20020716134043.02c6ef70@hermes.nos.noaa.gov>

Some minor request for the R on Windows (2000) GUI version.  I'm using 
1.5.1 with the SDI interface.

(1) When minimized, the main R window and the graphics window show as two 
copies of the same icon.  That makes it less convenient to switch among 
tasks in Windows, as I often select the wrong one.  Could they have 
different icons in the future, please?

(2) I use a fixed-width Type 1 font for the console 
(LucidaSans-Typewriter), and that can be set in the Rconsole file without 
problem.  But if I bring up the GUI preferences (from menus Edit | Gui 
Preferences), only TT fixed width fonts are shown, the "font" field is 
blank, and ending that dialog results in the font being reset to the 
default fixed system font.  If practical and not overly burdensome to fix 
that, it would be nice.

(3) Could the toolbar could be available on the main window even under 
SDI?  I much prefer SDI, which doesn't waste vast amounts of screen space 
like MDI, but the toolbar can be handy.

(4) Any chance of binding the F-keys to things like ls(), ls.str(), or 
matching command history (like S-PLUS Windows F8)?

As I said, all minor requests.

Finally, many kudos to the R team for making such a wonderful product 
available, and available freely.

-- 
Michael Prager, Ph.D.                <Mike.Prager at noaa.gov>
NOAA Center for Coastal Fisheries and Habitat Research
Beaufort, North Carolina  28516
http://shrimp.ccfhrb.noaa.gov/~mprager/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mriether at sesi.org.br  Tue Jul 16 19:57:21 2002
From: mriether at sesi.org.br (mriether@sesi.org.br)
Date: Tue, 16 Jul 2002 14:57:21 -0300
Subject: [R] Help installing functions "cca" and "caiv"
Message-ID: <OFA9B3CA16.9731B618-ON83256BF8.006286C8@sesi.org.br>

Could anyone show me how to install the packages cca and caiv?

Thanks a lot.

Marcus M. Riether
mriether at sesi.org.br
SESI Departamento Nacional
Tecnologia da Educa??o
tel.: (61) 317 9914




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Tue Jul 16 20:18:38 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Tue, 16 Jul 2002 15:18:38 -0300
Subject: [R] import data from excel
In-Reply-To: <20020716152329.78750.qmail@web14908.mail.yahoo.com>
Message-ID: <4.2.2.20020716151647.00ac1340@pop3.arnet.com.ar>

In case you have access to Excel, you can open the file and save it in 
Comma Separated Values format and then read it into R using read.csv.

At 05:23 PM 16/7/2002 +0200, jimmy melinard wrote:
>hi!,
>i'm starting using R and i'd like to know how to
>import data from an excel format
>Thank you!

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 16 20:22:07 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 16 Jul 2002 19:22:07 +0100 (BST)
Subject: [R] Device 2: graphic window
In-Reply-To: <000701c22cdd$d02f98d0$dc0f6850@paolo>
Message-ID: <Pine.LNX.4.31.0207161918390.1923-100000@gannet.stats>

On Tue, 16 Jul 2002, Paolo Covelli wrote:

> Does anyone know how I can choose the background color of the graphic
> window?

Which background colour is that?

There is a dark grey which is outside the device surface and cannot be
altered.

The device surface is covered by a canvas, colour set by the argument
`canvas' to windows().  Finally, a plot has a background colour set by
par(bg=), which is by default transparent.

> Furthermore, how can I open more than a graphic-window in the same work
> session?

by windows(), the same way you opened the first one (possibly unseen by
you).

> (My platform is W2000 on PC)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apierce at stny.rr.com  Tue Jul 16 20:51:04 2002
From: apierce at stny.rr.com (Andy Pierce)
Date: Tue, 16 Jul 2002 14:51:04 -0400
Subject: [R] R 1.5.1 on AIX 5.1
Message-ID: <20020716145104.M82607@stny.rr.com>

I'm trying to get R running on AIX 5.1 with the native AIX compilers, VisualAge C++
5.0.2.0 and XL Fortran Compiler 7.1.0.0. R compiled fine, but in running the test
cases, the base-Ex.R tests fail in the Choleski decomposition with the following:

> x <- matrix(c(1:5, (1:5)^2), 5, 2)
> m <- crossprod(x)
> Q <- chol(m)
Error in chol(m) : NA/NaN/Inf in foreign function call (arg 1)
Execution halted

I modified the test case to show the intermediate results (and creating m and m1
with the intention of getting beyond this test case) with the following:

> x <- matrix(c(1:5, (1:5)^2), 5, 2)
> x
     [,1] [,2]
[1,]    1    1
[2,]    2    4
[3,]    3    9
[4,]    4   16
[5,]    5   25
> m1 <- crossprod(x)
> m1
     [,1] [,2]
[1,]   NA  225
[2,]  225  979
> m <- t(x) %*% x
> m
     [,1] [,2]
[1,]   55  225
[2,]  225  979
> Q <- chol(m)
> Q
         [,1]     [,2]
[1,] 7.416198 30.33899
[2,] 0.000000  7.65150
> all.equal(t(Q) %*% Q, m) # TRUE
[1] TRUE

This gets beyond the failing test case (but does nothing to fix the crossprod) and
then the trees test case fails with:

> step(fm2)
Start:  AIC= -152.69
 log(Volume) ~ log(Girth) + log(Height)

Error in drop1.lm(fit, scope$drop, scale = scale, trace = trace, k = k,  :
        scope is not a subset of term labels
Execution halted

Any tips on what might be wrong or how to go about debugging these errors? I also
tried using GNU/gcc 3.1 and ran into other problems in the test cases. 

Andy Pierce
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jul 16 21:14:44 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Jul 2002 21:14:44 +0200
Subject: [R] R 1.5.1 on AIX 5.1
In-Reply-To: <20020716145104.M82607@stny.rr.com>
References: <20020716145104.M82607@stny.rr.com>
Message-ID: <x2bs97trh7.fsf@biostat.ku.dk>

"Andy Pierce" <apierce at stny.rr.com> writes:


>      [,1] [,2]
> [1,]    1    1
> [2,]    2    4
> [3,]    3    9
> [4,]    4   16
> [5,]    5   25
> > m1 <- crossprod(x)
> > m1
>      [,1] [,2]
> [1,]   NA  225
> [2,]  225  979
...
> This gets beyond the failing test case (but does nothing to fix the crossprod) and
> then the trees test case fails with:
...
 
> Any tips on what might be wrong or how to go about debugging these
> errors? 

Start with the first one. You're not going to trust a system that
miscomputes a crossproduct! 

You need to figure out exactly how that NA sneaks into m1. That's
about as close as I can get since I don't actually know what debuggers
you have available. With gdb, I'd set a breakpoint in symcrossprod()
inside src/main/array.c.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Mike.Prager at noaa.gov  Tue Jul 16 21:30:41 2002
From: Mike.Prager at noaa.gov (Mike Prager)
Date: Tue, 16 Jul 2002 15:30:41 -0400
Subject: [R] Hello & a simple question
In-Reply-To: <Pine.A41.4.42.0207161624520.46078-100000@aixterm1.urz.uni-
 heidelberg.de>
Message-ID: <5.1.0.14.2.20020716135706.02b9df58@pop-server.ec.rr.com>

At 7/16/2002 at 04:30 PM, January Weiner 3 wrote:
>Hello,
>
>I'm new to R, but it seems to work nicely for me from the start.  Being a
>molecular biologist, I do not have a profound knowledge of statistical
>reasoning.  I have two questions:
>
>1) is there an other manual for R available apart from the `R-intro'
>document, especially one with more in-deep description of calculating
>basic statistics with R?

My copy of R (Windows 1.5.1) came with both an R Language Manual and an R 
Reference Manual in PDF format.  On that version, they are in the help 
system under "Help > Manuals".

The books by Venables and Ripley are standard recommendations.  "Modern 
Applied Statistics with S-Plus" and "S Programming."

You can also check amazon.com by searching for books on S-Plus.  Since 
S-Plus and R are both implementations of the S language, much of the 
documentation for S-Plus applies to R.

There is a fairly simple statistics book by Steve Selvin that uses S-Plus 
for the analyses.  The title is "Modern Applied Biostatistical Methods 
Using S-Plus."  Although it is a few years old, its coverage of S is mainly 
on programming, rather than GUI issues, so it might be useful in getting 
started with R.

Finally, try searching the Web for "S Language" or "S-Plus" or "S" and 
"statistics".

Best of luck!

Regards,


-- 
Michael Prager, Ph.D.                <Mike.Prager at noaa.gov>
NOAA Center for Coastal Fisheries and Habitat Research
Beaufort, North Carolina  28516
http://shrimp.ccfhrb.noaa.gov/~mprager/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From umalvarez at fata.unam.mx  Tue Jul 16 21:44:34 2002
From: umalvarez at fata.unam.mx (Ulises Mora Alvarez)
Date: Tue, 16 Jul 2002 14:44:34 -0500
Subject: [R] import data from excel
Message-ID: <200207161944.g6GJiYu14092@fata.unam.mx>

Save your data as a ".txt" file (".cvs", also work). Then in the R command window type:
object <- read.table("route/to/your/file", header = TRUE)

If any, be sure to include spaces in the route toyour file. The command "header" is optional, should be included if your data include their names.

Ulises M. Alvarez
-----------------
Fisica Aplicada y
Tecnologia Avanzada
UNAM - Mexico
umalvarez at fata.unam.mx
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Tue Jul 16 23:46:25 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Tue, 16 Jul 2002 16:46:25 -0500
Subject: [R] Hello & a simple question
In-Reply-To: <5.1.0.14.2.20020716135706.02b9df58@pop-server.ec.rr.com>
Message-ID: <007501c22d12$3c644260$0201a8c0@MARC>

> At 7/16/2002 at 04:30 PM, January Weiner 3 wrote:
> >Hello,
> >
> >I'm new to R, but it seems to work nicely for me from the start.
Being a
> >molecular biologist, I do not have a profound knowledge of
statistical
> >reasoning.  I have two questions:
> >
> >1) is there an other manual for R available apart from the `R-intro'
> >document, especially one with more in-deep description of calculating
> >basic statistics with R?

Besides those on CRAN as has been mentioned, some additional R online
resources are:

Mark Myatt's introduction to R at
http://www.myatt.demon.co.uk/Rex1031.zip. His main page is at
http://www.myatt.demon.co.uk/.

Paul Johnson's "StatsRUs" site at
http://lark.cc.ukans.edu/~pauljohn/R/statsRus.html, which focuses on a
broad range of issues.

Julian Faraway's "Practical Regression and Anova Using R" at
http://www.stat.lsa.umich.edu/~faraway/book/.

The online R Complement to MASS at
http://www.stats.ox.ac.uk/pub/MASS3/Compl.shtml if you should get a copy
of the book.


I am sure to be missing others, so my apologies in advance for any
oversights.

HTH.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Wed Jul 17 00:46:03 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Tue, 16 Jul 2002 19:46:03 -0300
Subject: [R] Output and history
In-Reply-To: <Pine.LNX.4.31.0207151538290.6237-100000@gannet.stats>
References: <4.2.2.20020709142825.00aca100@pop3.arnet.com.ar>
Message-ID: <4.2.2.20020716003755.00a8b2f0@pop3.arnet.com.ar>

Hello,

I have the following two questions, rergarding:

(Output)
1) Is it possible to have the output of a command automatically displayed, 
without explicitly requesting it after the command, and without using the 
print() function? For example, I want to see the value of 'a'  when I write 
for instance 'a <- rep(1,10)'.
I tried setting the 'echo' option to TRUE but it has no effect on that.

(History)
2) Is there a way to selectively recall a previously typed command based on 
the first characters of the command?
I am thinking of something similar to this: if one types 'pl' at the prompt 
and then preses the up arrow key, only the commands starting with 'pl' will 
show up in the command line.


Thanks
Daniel Mastropietro

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.connolly at hortresearch.co.nz  Wed Jul 17 00:23:52 2002
From: p.connolly at hortresearch.co.nz (Patrick Connolly)
Date: Wed, 17 Jul 2002 10:23:52 +1200
Subject: [R] R GUI and object browser
In-Reply-To: <200207150113.14161.dputler@scu.edu>
References: <200207150113.14161.dputler@scu.edu>
Message-ID: <20020716222352.GA24279@hortresearch.co.nz>

On Mon, 15-Jul-2002 at 01:13AM -0700, Dan Putler wrote:

|> As part of the obveRsive GUI project, we've written a function with
|> much of the functionality that Patrick Connolly was suggesting
|> (which is a bit more compact than the output from ls.str()).  Alas,
|> no date capabilities.  

My method of getting the dates is somewhat inelegant.  However, it
could be simple if there was a date attribute of objects.  Would such
a thing create an overhead that could be too burdensome for people who
don't have a use for it?  Perhaps it could be one of the general
options that users could customize.



|> The function is call ls.objects(), and example output appears below:
|> 
|>    Object.Name Object.Mode Object.Type Observations Variables
|> 1    ccsest.df        list  data.frame          800        21
|> 2    ccsval.df        list  data.frame          800        21
|> 3   junkfactor     numeric      factor          100         1
|> 4     junklist        list     unknown            -         -
|> 5      junkmat     numeric      matrix          100         2
|> 6    junkmodel        list          lm            -         -
|> 7   ls.objects    function    function            -         -
|> 8      orderdf    function    function            -         -
|> 9          pkg   character      vector            1         1
|> 10       stuff        list  data.frame           12         2
|> 11         try     numeric      vector          100         1
|> 12        try1     numeric      vector          100         1
|> 13        try2     numeric      vector          100         1
|> 14      trydat        list  data.frame          100         2
|> 15     tryname   character      vector            1         1

This is certainly less complicated than my approach and does some
things mine doesn't.

best

-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world`s largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vogels at ieee.org  Wed Jul 17 01:21:40 2002
From: vogels at ieee.org (Thomas J Vogels)
Date: Tue, 16 Jul 2002 19:21:40 -0400
Subject: [R] R 1.5.1 on AIX 5.1
References: <20020716145104.M82607@stny.rr.com>
Message-ID: <3D34AA84.7020900@ieee.org>

Andy Pierce wrote:

> I'm trying to get R running on AIX 5.1 with the native AIX compilers, VisualAge C++
> 5.0.2.0 and XL Fortran Compiler 7.1.0.0. R compiled fine, but in running the test
> cases, the base-Ex.R tests fail in the Choleski decomposition with the following:


[snip]

 
> Any tips on what might be wrong or how to go about debugging these errors? I also
> tried using GNU/gcc 3.1 and ran into other problems in the test cases. 



Hi, I seem to remember that I had problems running the test cases when 
using the native fortran libs.  I have only tried to compile R with gcc 
recently. Do you only use the C compiler from gcc or also the Fortran 
compiler? Can you make sure that the correct libs (gcc's not xlc's) are 
picked up during linking?

  -tom


-- 
mailto:vogels at cmu.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andreww at cheque.uq.edu.au  Wed Jul 17 15:47:28 2002
From: andreww at cheque.uq.edu.au (Andrew C. Ward)
Date: Wed, 17 Jul 2002 13:47:28 -0000
Subject: [R] import data from excel
Message-ID: <01C22D9A.6E7FD4C0.andreww@cheque.uq.edu.au>

Hello Jimmy,

>From Excel I usually save a single worksheet as a comma separated file 
(CSV), which can easily be imported into R using "read.csv". I believe that 
other R users take advantage of a COM interface developed for R. Other list 
members will know how to get that.

Regards,

Andrew C. Ward

CAPE Centre
Department of Chemical Engineering
The University of Queensland
Brisbane Qld 4072 Australia
andreww at cheque.uq.edu.au



On Wednesday, July 17, 2002 1:23 AM, jimmy melinard 
[SMTP:jmelinard at yahoo.fr] wrote:
> hi!,
> i'm starting using R and i'd like to know how to
> import data from an excel format
> Thank you!
>
> ___________________________________________________________
>
>
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.  
-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.  
_._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andreww at cheque.uq.edu.au  Wed Jul 17 15:56:08 2002
From: andreww at cheque.uq.edu.au (Andrew C. Ward)
Date: Wed, 17 Jul 2002 13:56:08 -0000
Subject: [R] Device 2: graphic window
Message-ID: <01C22D9A.70908C50.andreww@cheque.uq.edu.au>

Hello Paolo,

Before you plot your graph you could open a graphics window using 
"windows(canvas="blue")". If you're doing lattice plots, the command would 
be "trellis.device(bg="blue")". Repeating these commands opens additional 
windows. You can change the active window (the one to plot in) by using 
dev.next, dev.prev, etc.

Regards,

Andrew C. Ward

CAPE Centre
Department of Chemical Engineering
The University of Queensland
Brisbane Qld 4072 Australia
andreww at cheque.uq.edu.au



On Wednesday, July 17, 2002 1:31 AM, Paolo Covelli [SMTP:pcovelli at tin.it] 
wrote:
> Does anyone know how I can choose the background color of the graphic
> window?
> Furthermore, how can I open more than a graphic-window in the same work
> session?
> (My platform is W2000 on PC)
>
> Thank in advance.
>
> Paolo
>
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.  
-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.  
_._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dputler at scu.edu  Wed Jul 17 07:41:39 2002
From: dputler at scu.edu (Dan Putler)
Date: Tue, 16 Jul 2002 22:41:39 -0700
Subject: [R] R GUI and object browser
In-Reply-To: <20020716222352.GA24279@hortresearch.co.nz>
References: <200207150113.14161.dputler@scu.edu>
 <20020716222352.GA24279@hortresearch.co.nz>
Message-ID: <200207162241.39480.dputler@scu.edu>

Actually, it is fairly easy to give certain objects (those with a mode of 
"list", which includes data frames) a date attribute.  This can be done 
either after creating a list object and then providing its date attribute, or 
(in at least some instances) by modifying the function that creates that 
object to include the date attribute assignment.  The two functions needed to 
do this are the attr() and date().

Here is an example of doing this after the fact:

mydata <- data.frame(1:10,11:20)
attr(mydata, "create.date") <- date()

You can then get the value of the create.date attribute using the command

attributes(mydata)$create.date

Which will return a character string along the lines of

"Tue Jul 16 22:12:05 2002"

Moreover, my guess is that R functions that work on data frames will simply 
ignore the create.date attribute, or so my limited testing suggests.

Modifying functions that create list objects often isn't hard either (although 
I don't know if this is always the case, but suspect it is).  It turns out 
that the last two assignment statements of the data.frame() function are:

attr(value, "row.names") <- row.names
attr(value, "class") <- "data.frame"

where "value" is the internal variable name for the data frame within the 
data.frame() function.  If you modify the data.frame() function by adding the 
line

attr(value, "create.date") <- date()

after the assignment of the "class", any data frames created using this 
function will have a create.date attribute.


On Tuesday 16 July 2002 03:23 pm, Patrick Connolly wrote:
> On Mon, 15-Jul-2002 at 01:13AM -0700, Dan Putler wrote:
> |> As part of the obveRsive GUI project, we've written a function with
> |> much of the functionality that Patrick Connolly was suggesting
> |> (which is a bit more compact than the output from ls.str()).  Alas,
> |> no date capabilities.
>
> My method of getting the dates is somewhat inelegant.  However, it
> could be simple if there was a date attribute of objects.  Would such
> a thing create an overhead that could be too burdensome for people who
> don't have a use for it?  Perhaps it could be one of the general
> options that users could customize.
>
> |> The function is call ls.objects(), and example output appears below:
> |>
> |>    Object.Name Object.Mode Object.Type Observations Variables
> |> 1    ccsest.df        list  data.frame          800        21
> |> 2    ccsval.df        list  data.frame          800        21
> |> 3   junkfactor     numeric      factor          100         1
> |> 4     junklist        list     unknown            -         -
> |> 5      junkmat     numeric      matrix          100         2
> |> 6    junkmodel        list          lm            -         -
> |> 7   ls.objects    function    function            -         -
> |> 8      orderdf    function    function            -         -
> |> 9          pkg   character      vector            1         1
> |> 10       stuff        list  data.frame           12         2
> |> 11         try     numeric      vector          100         1
> |> 12        try1     numeric      vector          100         1
> |> 13        try2     numeric      vector          100         1
> |> 14      trydat        list  data.frame          100         2
> |> 15     tryname   character      vector            1         1
>
> This is certainly less complicated than my approach and does some
> things mine doesn't.
>
> best

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dputler at scu.edu  Wed Jul 17 08:03:30 2002
From: dputler at scu.edu (Dan Putler)
Date: Tue, 16 Jul 2002 23:03:30 -0700
Subject: [R] A function to create "lift charts"
Message-ID: <200207162303.30873.dputler@scu.edu>

Hi,

A commonly used set of graphical techniques to compare the predictive 
capabilities of different potential models in the data mining area are known 
as "lift charts".  I was wondering if any one has written such a function in 
R, and if they had, could they let me have a peak at their code.

Dan Putler
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 17 08:39:06 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 17 Jul 2002 07:39:06 +0100 (BST)
Subject: [R] R GUI and object browser
In-Reply-To: <200207162241.39480.dputler@scu.edu>
Message-ID: <Pine.GSO.4.44.0207170725030.15033-100000@auk.stats>

This may be appealing, but

1) R objects such as lists have shared components. You get the creation
date of the object, not of it components, and in any case I suspect you
want the last modification date.

2) Attributes are selectively copied (or not), so the effort needed to
change the code to preserve/update the attribute will be very considerable.
`Modifying functions that create list objects' includes all those which
modify objects.

3) User-written code would also need to be altered to preserve/update the
attribute.

The only clean way I can see to do this would be to alter the internal
structure to store a creation date in a SEXPREC.  That would add some
memory overhead (but less than attributes).  It looks doable, but I remain
unconvinced it is worthwhile.



On Tue, 16 Jul 2002, Dan Putler wrote:

> Actually, it is fairly easy to give certain objects (those with a mode of
> "list", which includes data frames) a date attribute.  This can be done
> either after creating a list object and then providing its date attribute, or
> (in at least some instances) by modifying the function that creates that
> object to include the date attribute assignment.  The two functions needed to
> do this are the attr() and date().
>
> Here is an example of doing this after the fact:
>
> mydata <- data.frame(1:10,11:20)
> attr(mydata, "create.date") <- date()
>
> You can then get the value of the create.date attribute using the command
>
> attributes(mydata)$create.date
>
> Which will return a character string along the lines of
>
> "Tue Jul 16 22:12:05 2002"
>
> Moreover, my guess is that R functions that work on data frames will simply
> ignore the create.date attribute, or so my limited testing suggests.
>
> Modifying functions that create list objects often isn't hard either (although
> I don't know if this is always the case, but suspect it is).  It turns out
> that the last two assignment statements of the data.frame() function are:
>
> attr(value, "row.names") <- row.names
> attr(value, "class") <- "data.frame"
>
> where "value" is the internal variable name for the data frame within the
> data.frame() function.  If you modify the data.frame() function by adding the
> line
>
> attr(value, "create.date") <- date()
>
> after the assignment of the "class", any data frames created using this
> function will have a create.date attribute.
>
>
> On Tuesday 16 July 2002 03:23 pm, Patrick Connolly wrote:
> > On Mon, 15-Jul-2002 at 01:13AM -0700, Dan Putler wrote:
> > |> As part of the obveRsive GUI project, we've written a function with
> > |> much of the functionality that Patrick Connolly was suggesting
> > |> (which is a bit more compact than the output from ls.str()).  Alas,
> > |> no date capabilities.
> >
> > My method of getting the dates is somewhat inelegant.  However, it
> > could be simple if there was a date attribute of objects.  Would such
> > a thing create an overhead that could be too burdensome for people who
> > don't have a use for it?  Perhaps it could be one of the general
> > options that users could customize.
> >
> > |> The function is call ls.objects(), and example output appears below:
> > |>
> > |>    Object.Name Object.Mode Object.Type Observations Variables
> > |> 1    ccsest.df        list  data.frame          800        21
> > |> 2    ccsval.df        list  data.frame          800        21
> > |> 3   junkfactor     numeric      factor          100         1
> > |> 4     junklist        list     unknown            -         -
> > |> 5      junkmat     numeric      matrix          100         2
> > |> 6    junkmodel        list          lm            -         -
> > |> 7   ls.objects    function    function            -         -
> > |> 8      orderdf    function    function            -         -
> > |> 9          pkg   character      vector            1         1
> > |> 10       stuff        list  data.frame           12         2
> > |> 11         try     numeric      vector          100         1
> > |> 12        try1     numeric      vector          100         1
> > |> 13        try2     numeric      vector          100         1
> > |> 14      trydat        list  data.frame          100         2
> > |> 15     tryname   character      vector            1         1
> >
> > This is certainly less complicated than my approach and does some
> > things mine doesn't.
> >
> > best
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jul 17 10:20:45 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Jul 2002 10:20:45 +0200
Subject: [R] import data from excel
In-Reply-To: <200207161944.g6GJiYu14092@fata.unam.mx>
References: <200207161944.g6GJiYu14092@fata.unam.mx>
Message-ID: <x2y9cabw9u.fsf@biostat.ku.dk>

Ulises Mora Alvarez <umalvarez at fata.unam.mx> writes:

> Save your data as a ".txt" file (".cvs", also work). Then in the R command window type:
> object <- read.table("route/to/your/file", header = TRUE)
> 
> If any, be sure to include spaces in the route toyour file. The command "header" is optional, should be included if your data include their names.

Those .txt files are Tab-separated so read.delim() is safer in case
you have strings with spaces inside. Or read.delim2() if you're in a
"comma-as-decimal" speaking locale. 

By the way: If you cut-and-paste from a spreadsheet into Notepad or
your favourite text editor, the pasted text will also be
Tab-separated and the same procedure applies. This is useful when
people have been scribbling notes and ad-hoc computations all over the
margins of their spreadsheets as some tend to do.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jul 17 10:30:49 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Jul 2002 10:30:49 +0200
Subject: [R] Output and history
In-Reply-To: <4.2.2.20020716003755.00a8b2f0@pop3.arnet.com.ar>
References: <4.2.2.20020709142825.00aca100@pop3.arnet.com.ar>
	<4.2.2.20020716003755.00a8b2f0@pop3.arnet.com.ar>
Message-ID: <x2u1mybvt2.fsf@biostat.ku.dk>

Daniel Mastropietro <mastropi at uwalumni.com> writes:

> Hello,
> 
> I have the following two questions, rergarding:
> 
> (Output)
> 1) Is it possible to have the output of a command automatically
> displayed, without explicitly requesting it after the command, and
> without using the print() function? For example, I want to see the
> value of 'a'  when I write for instance 'a <- rep(1,10)'.
> I tried setting the 'echo' option to TRUE but it has no effect on that.

No. "<-" creates an invisible object as its return value and they
don't print until you "visiblify" them. One standard device is to put
the whole thing in parentheses: (a <- rep(1,10)).
 
> (History)
> 2) Is there a way to selectively recall a previously typed command
> based on the first characters of the command?
> I am thinking of something similar to this: if one types 'pl' at the
> prompt and then preses the up arrow key, only the commands starting
> with 'pl' will show up in the command line.

On Unix(-alikes) with readline something like that is part of the
Ctrl-R mechanism. As far as I remember, the Windows console does not
implement this (but as Brian said: patched will be considered).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at paleo.ija.csic.es  Wed Jul 17 12:40:24 2002
From: alobo at paleo.ija.csic.es (Agustin Lobo)
Date: Wed, 17 Jul 2002 12:40:24 +0200 (MET DST)
Subject: [R] Problems with make pdf (R-patched_2002-07-15.tar.gz)
Message-ID: <Pine.OSF.3.96.1020717123413.23529F-100000@paleo>


After configure, make and make check on
a linux Suse 7.3 box, I run 
make dvi and make info with no problems but get 
a lot of garbage to my screen during make pdf.
Is this normal? Is there a bug in this part
of the installation? 

This is part of what I get on the screen:

humboldt:/usr/local/R-patched # make pdf
make[1]: Entering directory `/usr/local/R-patched/doc'
make[2]: Entering directory `/usr/local/R-patched/doc/manual'
PDF/LaTeX documentation: reference index ...
This is pdfTeX, Version 3.14159-13d (Web2C 7.3.1)
[/var/lib/texmf/pdftex/config/pdftex.cfg]
LaTeX2e <2000/06/01>
Babel <v3.7h> and hyphenation patterns for american, french, german,
ngerman, n
ohyphenation, loaded.

(refman.tex (/usr/share/texmf/tex/latex/base/book.cls
Document Class: book 2000/05/19 v1.4b Standard LaTeX document class
(/usr/share/texmf/tex/latex/base/bk10.clo)) (../../share/texmf/Rd.sty
(/usr/share/texmf/tex/latex/base/ifthen.sty)

(many other /usr/share/texmf/tex/latex/base/...)

Implicit mode ON; LaTeX internals redefined
(/usr/share/texmf/tex/latex/hyperref/backref.sty))
*hyperref using default driver hpdftex*
(/usr/share/texmf/tex/latex/hyperref/hpdftex.def
...

Writing index file refman.idx
No file refman.aux.
(/usr/share/texmf/tex/latex/hyperref/nameref.sty) (refman.out)
(refman.out)
(/usr/share/texmf/tex/latex/ae/t1aess.fd) (version.tex)
(../../share/texmf/omsaer.fd) [1[/var/lib/texmf/dvips/config/pdftex.map]]
[1] [2] (base-pkg.tex
Chapter 1.
[1] [2] [3] [4] [5] [6] [7] [8] [9] [10] [11] [12] [13] [14] [15] [16]
[17]
[18]
Underfull \vbox (badness 10000) has occurred while \output is active [19]
[20] [21] [22] [23] [24] [25] [26] [27] [28] [29] [30make[2]: *** Deleting
file `refman.pdf']

etc

Agus

Thanks


Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 17 12:52:34 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 17 Jul 2002 11:52:34 +0100 (BST)
Subject: [R] Problems with make pdf (R-patched_2002-07-15.tar.gz)
In-Reply-To: <Pine.OSF.3.96.1020717123413.23529F-100000@paleo>
Message-ID: <Pine.LNX.4.31.0207171147400.21110-100000@gannet.stats>

What precisely do you consider to be `garbage'?  make pdf does create
hyperlinks and so you should expect more processing than make dvi.

>From the extract below, either you interrupted on page 30 or there was
a fatal error in pdftex on that page.  But, that is nothing to do with
`garbage'.

On Wed, 17 Jul 2002, Agustin Lobo wrote:

>
> After configure, make and make check on
> a linux Suse 7.3 box, I run
> make dvi and make info with no problems but get
> a lot of garbage to my screen during make pdf.
> Is this normal? Is there a bug in this part
> of the installation?
>
> This is part of what I get on the screen:
>
> humboldt:/usr/local/R-patched # make pdf
> make[1]: Entering directory `/usr/local/R-patched/doc'
> make[2]: Entering directory `/usr/local/R-patched/doc/manual'
> PDF/LaTeX documentation: reference index ...
> This is pdfTeX, Version 3.14159-13d (Web2C 7.3.1)
> [/var/lib/texmf/pdftex/config/pdftex.cfg]
> LaTeX2e <2000/06/01>
> Babel <v3.7h> and hyphenation patterns for american, french, german,
> ngerman, n
> ohyphenation, loaded.
>
> (refman.tex (/usr/share/texmf/tex/latex/base/book.cls
> Document Class: book 2000/05/19 v1.4b Standard LaTeX document class
> (/usr/share/texmf/tex/latex/base/bk10.clo)) (../../share/texmf/Rd.sty
> (/usr/share/texmf/tex/latex/base/ifthen.sty)
>
> (many other /usr/share/texmf/tex/latex/base/...)
>
> Implicit mode ON; LaTeX internals redefined
> (/usr/share/texmf/tex/latex/hyperref/backref.sty))
> *hyperref using default driver hpdftex*
> (/usr/share/texmf/tex/latex/hyperref/hpdftex.def
> ...
>
> Writing index file refman.idx
> No file refman.aux.
> (/usr/share/texmf/tex/latex/hyperref/nameref.sty) (refman.out)
> (refman.out)
> (/usr/share/texmf/tex/latex/ae/t1aess.fd) (version.tex)
> (../../share/texmf/omsaer.fd) [1[/var/lib/texmf/dvips/config/pdftex.map]]
> [1] [2] (base-pkg.tex
> Chapter 1.
> [1] [2] [3] [4] [5] [6] [7] [8] [9] [10] [11] [12] [13] [14] [15] [16]
> [17]
> [18]
> Underfull \vbox (badness 10000) has occurred while \output is active [19]
> [20] [21] [22] [23] [24] [25] [26] [27] [28] [29] [30make[2]: *** Deleting
> file `refman.pdf']
>
> etc
>
> Agus
>
> Thanks
>
>
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Wed Jul 17 13:03:20 2002
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Wed, 17 Jul 2002 07:03:20 -0400
Subject: [R] Output and history
In-Reply-To: <4.2.2.20020716003755.00a8b2f0@pop3.arnet.com.ar>; from mastropi@uwalumni.com on Tue, Jul 16, 2002 at 07:46:03PM -0300
References: <4.2.2.20020709142825.00aca100@pop3.arnet.com.ar> <Pine.LNX.4.31.0207151538290.6237-100000@gannet.stats> <4.2.2.20020716003755.00a8b2f0@pop3.arnet.com.ar>
Message-ID: <20020717070320.A19055@jessie.research.bell-labs.com>

Daniel Mastropietro wrote:
> Hello,
> 
> I have the following two questions, rergarding:
> 
> (Output)
> 1) Is it possible to have the output of a command automatically displayed, 
> without explicitly requesting it after the command, and without using the 
> print() function? For example, I want to see the value of 'a'  when I write 
> for instance 'a <- rep(1,10)'.
> I tried setting the 'echo' option to TRUE but it has no effect on that.


You can use addTaskCallback() to do this.
The following function (p) is registered with the top-level 
expression evaluation mechanism and called each time an expression
is completed. The fourth argument indicates whether the result
was printed or not. So in your case, you print the object iff 
`visible' is FALSE.


> p <- function(expr, value, ok, visible) {
+   if(!visible) print(value)
+   return(TRUE)
+ }
> addTaskCallback(p)
1 
1 
> a <- 10
[1] 10
> a
[1] 10
> 1:10
 [1]  1  2  3  4  5  6  7  8  9 10
> x <- 1:10
 [1]  1  2  3  4  5  6  7  8  9 10
> 





> 
> (History)
> 2) Is there a way to selectively recall a previously typed command based on 
> the first characters of the command?
> I am thinking of something similar to this: if one types 'pl' at the prompt 
> and then preses the up arrow key, only the commands starting with 'pl' will 
> show up in the command line.
> 
> 
> Thanks
> Daniel Mastropietro
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mathildepascal at hotmail.com  Wed Jul 17 13:13:11 2002
From: mathildepascal at hotmail.com (Mathilde Pascal)
Date: Wed, 17 Jul 2002 11:13:11 +0000
Subject: [R] image function
Message-ID: <F26Pz1hu1H7NaMIicOK00006531@hotmail.com>

Hi!

I'm working with the function image to represent datasets. I don't know how 
to create a legend for the plot, to see which color correspond to which 
value. I hope someone can help me...

Regards,

Mathilde Pascal



_________________________________________________________________
Rejoignez MSN Hotmail, le plus important service de messagerie 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markus.jantti at iki.fi  Wed Jul 17 13:27:19 2002
From: markus.jantti at iki.fi (Markus =?ISO-8859-1?Q?J=E4ntti?=)
Date: 17 Jul 2002 14:27:19 +0300
Subject: [R] editing Sweave files in xemacs with ess (noweb), auctex and reftex
Message-ID: <1026905240.5080.36.camel@tykki>

I am having some trouble getting reftex, in particular the bibtex
related features, to work properly in xemacs when editing text in Sweave
files. I have added

(defun Rnw-mode ()
  (noweb-mode)
  (if (fboundp 'R-mode)
      (setq noweb-default-code-mode 'R-mode)))
(add-to-list 'auto-mode-alist '("\\.Rnw\\'" . Rnw-mode))
(add-to-list 'auto-mode-alist '("\\.Snw\\'" . Snw-mode))

in my .xemacs/init.el file, as suggested by the Sweave manual FAQ. 

While this most likely involves reftex/ess interaction, I wondered
if someone on these lists is successfully using the combination
AUCTeX LaTeX-mode/bib-cite/reftex in xemacs 21.4.8 and ess 5.1.20
(on a GNU/Linux Debian unstable system). 

Regards,

Markus
-- 
Markus Jantti
Statistics Finland and University of Tampere
markus.jantti at iki.fi
http://www.iki.fi/~mjantti

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at paleo.ija.csic.es  Wed Jul 17 13:59:02 2002
From: alobo at paleo.ija.csic.es (Agustin Lobo)
Date: Wed, 17 Jul 2002 13:59:02 +0200 (MET DST)
Subject: [R] Problems with make pdf (R-patched_2002-07-15.tar.gz)
In-Reply-To: <Pine.LNX.4.31.0207171147400.21110-100000@gannet.stats>
Message-ID: <Pine.OSF.3.96.1020717135539.23529H-100000@paleo>

My execution 
make pdf > make_pdf_out.txt

creates a file make_pdf_out.txt of 148753 bytes, with many lines
such as:
Underfull \hbox (badness 5548) in paragraph at lines 695--697
or 
Overfull \hbox (23.9801pt too wide) in paragraph at lines 26468--26468
 []           \T1/aett/m/n/10 xlab = NULL, ylab = deparse(substitute(x)),
frame
.plot = is.num, ...)[]
[474] [475] [476] [477] [478] [479]


Should I send this file somewhere?

Agus


Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Wed, 17 Jul 2002 ripley at stats.ox.ac.uk wrote:

> What precisely do you consider to be `garbage'?  make pdf does create
> hyperlinks and so you should expect more processing than make dvi.
> 
> >From the extract below, either you interrupted on page 30 or there was
> a fatal error in pdftex on that page.  But, that is nothing to do with
> `garbage'.
> 
> On Wed, 17 Jul 2002, Agustin Lobo wrote:
> 
> >
> > After configure, make and make check on
> > a linux Suse 7.3 box, I run
> > make dvi and make info with no problems but get
> > a lot of garbage to my screen during make pdf.
> > Is this normal? Is there a bug in this part
> > of the installation?
> >
> > This is part of what I get on the screen:
> >
> > humboldt:/usr/local/R-patched # make pdf
> > make[1]: Entering directory `/usr/local/R-patched/doc'
> > make[2]: Entering directory `/usr/local/R-patched/doc/manual'
> > PDF/LaTeX documentation: reference index ...
> > This is pdfTeX, Version 3.14159-13d (Web2C 7.3.1)
> > [/var/lib/texmf/pdftex/config/pdftex.cfg]
> > LaTeX2e <2000/06/01>
> > Babel <v3.7h> and hyphenation patterns for american, french, german,
> > ngerman, n
> > ohyphenation, loaded.
> >
> > (refman.tex (/usr/share/texmf/tex/latex/base/book.cls
> > Document Class: book 2000/05/19 v1.4b Standard LaTeX document class
> > (/usr/share/texmf/tex/latex/base/bk10.clo)) (../../share/texmf/Rd.sty
> > (/usr/share/texmf/tex/latex/base/ifthen.sty)
> >
> > (many other /usr/share/texmf/tex/latex/base/...)
> >
> > Implicit mode ON; LaTeX internals redefined
> > (/usr/share/texmf/tex/latex/hyperref/backref.sty))
> > *hyperref using default driver hpdftex*
> > (/usr/share/texmf/tex/latex/hyperref/hpdftex.def
> > ...
> >
> > Writing index file refman.idx
> > No file refman.aux.
> > (/usr/share/texmf/tex/latex/hyperref/nameref.sty) (refman.out)
> > (refman.out)
> > (/usr/share/texmf/tex/latex/ae/t1aess.fd) (version.tex)
> > (../../share/texmf/omsaer.fd) [1[/var/lib/texmf/dvips/config/pdftex.map]]
> > [1] [2] (base-pkg.tex
> > Chapter 1.
> > [1] [2] [3] [4] [5] [6] [7] [8] [9] [10] [11] [12] [13] [14] [15] [16]
> > [17]
> > [18]
> > Underfull \vbox (badness 10000) has occurred while \output is active [19]
> > [20] [21] [22] [23] [24] [25] [26] [27] [28] [29] [30make[2]: *** Deleting
> > file `refman.pdf']
> >
> > etc
> >
> > Agus
> >
> > Thanks
> >
> >
> > Dr. Agustin Lobo
> > Instituto de Ciencias de la Tierra (CSIC)
> > Lluis Sole Sabaris s/n
> > 08028 Barcelona SPAIN
> > tel 34 93409 5410
> > fax 34 93411 0012
> > alobo at ija.csic.es
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From estuart at fas.harvard.edu  Wed Jul 17 13:52:57 2002
From: estuart at fas.harvard.edu (estuart@fas.harvard.edu)
Date: Wed, 17 Jul 2002 07:52:57 -0400
Subject: [R] R/C interface
Message-ID: <1026906777.3d355a99cc4f0@webmail.fas.harvard.edu>

Hi,
I am trying to use the R/C interface on a Unix system that unfortunately does 
not have the gnu C compiler and am having trouble accessing the math functions 
from math.h.

To compile a C program with math functions on this system, the following 
command is used (and the order is important: the /usr/lib/libm.a statement must 
come at the end of the command):
"cc program.c /usr/lib/libm.a"

I am having trouble getting R to compile the C programs with this extra command 
(/usr/lib/libm.a).  I have tried the CFLAGS option, and have looked at the 
scripts for the COMPILE and SHLIB commands but have not seen anything obvious 
(and I am not very familiar with Unix and C in general).  

Is there some way I can get R to use this when it does the C compiling in R CMD 
COMPILE and R CMD SHLIB?  

Thank you in advance for any help!

Elizabeth Stuart


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 17 14:12:27 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 17 Jul 2002 13:12:27 +0100 (BST)
Subject: [R] Problems with make pdf (R-patched_2002-07-15.tar.gz)
In-Reply-To: <Pine.OSF.3.96.1020717135539.23529H-100000@paleo>
Message-ID: <Pine.LNX.4.31.0207171303210.21176-100000@gannet.stats>

Those messages also occur with make dvi and with 1.5.1: your original
message said that you had `no problem' with make dvi, so why do you find
them a problem with make pdf?

On Wed, 17 Jul 2002, Agustin Lobo wrote:

> My execution
> make pdf > make_pdf_out.txt
>
> creates a file make_pdf_out.txt of 148753 bytes, with many lines
> such as:
> Underfull \hbox (badness 5548) in paragraph at lines 695--697
> or
> Overfull \hbox (23.9801pt too wide) in paragraph at lines 26468--26468
>  []           \T1/aett/m/n/10 xlab = NULL, ylab = deparse(substitute(x)),
> frame
> .plot = is.num, ...)[]
> [474] [475] [476] [477] [478] [479]
>
>
> Should I send this file somewhere?
>
> Agus
>
>
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
>
>
> On Wed, 17 Jul 2002 ripley at stats.ox.ac.uk wrote:
>
> > What precisely do you consider to be `garbage'?  make pdf does create
> > hyperlinks and so you should expect more processing than make dvi.
> >
> > >From the extract below, either you interrupted on page 30 or there was
> > a fatal error in pdftex on that page.  But, that is nothing to do with
> > `garbage'.
> >
> > On Wed, 17 Jul 2002, Agustin Lobo wrote:
> >
> > >
> > > After configure, make and make check on
> > > a linux Suse 7.3 box, I run
> > > make dvi and make info with no problems but get
> > > a lot of garbage to my screen during make pdf.
> > > Is this normal? Is there a bug in this part
> > > of the installation?
> > >
> > > This is part of what I get on the screen:
> > >
> > > humboldt:/usr/local/R-patched # make pdf
> > > make[1]: Entering directory `/usr/local/R-patched/doc'
> > > make[2]: Entering directory `/usr/local/R-patched/doc/manual'
> > > PDF/LaTeX documentation: reference index ...
> > > This is pdfTeX, Version 3.14159-13d (Web2C 7.3.1)
> > > [/var/lib/texmf/pdftex/config/pdftex.cfg]
> > > LaTeX2e <2000/06/01>
> > > Babel <v3.7h> and hyphenation patterns for american, french, german,
> > > ngerman, n
> > > ohyphenation, loaded.
> > >
> > > (refman.tex (/usr/share/texmf/tex/latex/base/book.cls
> > > Document Class: book 2000/05/19 v1.4b Standard LaTeX document class
> > > (/usr/share/texmf/tex/latex/base/bk10.clo)) (../../share/texmf/Rd.sty
> > > (/usr/share/texmf/tex/latex/base/ifthen.sty)
> > >
> > > (many other /usr/share/texmf/tex/latex/base/...)
> > >
> > > Implicit mode ON; LaTeX internals redefined
> > > (/usr/share/texmf/tex/latex/hyperref/backref.sty))
> > > *hyperref using default driver hpdftex*
> > > (/usr/share/texmf/tex/latex/hyperref/hpdftex.def
> > > ...
> > >
> > > Writing index file refman.idx
> > > No file refman.aux.
> > > (/usr/share/texmf/tex/latex/hyperref/nameref.sty) (refman.out)
> > > (refman.out)
> > > (/usr/share/texmf/tex/latex/ae/t1aess.fd) (version.tex)
> > > (../../share/texmf/omsaer.fd) [1[/var/lib/texmf/dvips/config/pdftex.map]]
> > > [1] [2] (base-pkg.tex
> > > Chapter 1.
> > > [1] [2] [3] [4] [5] [6] [7] [8] [9] [10] [11] [12] [13] [14] [15] [16]
> > > [17]
> > > [18]
> > > Underfull \vbox (badness 10000) has occurred while \output is active [19]
> > > [20] [21] [22] [23] [24] [25] [26] [27] [28] [29] [30make[2]: *** Deleting
> > > file `refman.pdf']
> > >
> > > etc
> > >
> > > Agus
> > >
> > > Thanks
> > >
> > >
> > > Dr. Agustin Lobo
> > > Instituto de Ciencias de la Tierra (CSIC)
> > > Lluis Sole Sabaris s/n
> > > 08028 Barcelona SPAIN
> > > tel 34 93409 5410
> > > fax 34 93411 0012
> > > alobo at ija.csic.es
> > >
> > >
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > >
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> >
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 17 14:24:55 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 17 Jul 2002 13:24:55 +0100 (BST)
Subject: [R] R/C interface
In-Reply-To: <1026906777.3d355a99cc4f0@webmail.fas.harvard.edu>
Message-ID: <Pine.LNX.4.31.0207171312560.21176-100000@gannet.stats>

On Wed, 17 Jul 2002 estuart at fas.harvard.edu wrote:

> Hi,
> I am trying to use the R/C interface on a Unix system that unfortunately does
> not have the gnu C compiler and am having trouble accessing the math functions
> from math.h.
>
> To compile a C program with math functions on this system, the following
> command is used (and the order is important: the /usr/lib/libm.a statement must
> come at the end of the command):
> "cc program.c /usr/lib/libm.a"

What Unix system is this?  It would be unusual not to use a shared libm if
there is one at all.  (If this is really a Unix(TM) system then you should
not need to worry about libm as R's configuration will handle it
automatically.)

I think what you actually want to use is

cc -c program.c
cc -o program program.o -lm

However, to use C programs with R you need to make a shared library, not
an executable.  You shouldn't need to link the shared library against libm
(since R.bin itself would be linked against libm.so), but if you do, you
can add "-lm" to SHLIB_LIBADD.

> I am having trouble getting R to compile the C programs with this extra command
> (/usr/lib/libm.a).  I have tried the CFLAGS option, and have looked at the
> scripts for the COMPILE and SHLIB commands but have not seen anything obvious
> (and I am not very familiar with Unix and C in general).
>
> Is there some way I can get R to use this when it does the C compiling in R CMD
> COMPILE and R CMD SHLIB?

If you still have problems, please send us details of the system and the
output from R CMD SHLIB (and from dyn.load if that fails).  We will then
be able to ask more specific diagnostic questions.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at paleo.ija.csic.es  Wed Jul 17 14:35:41 2002
From: alobo at paleo.ija.csic.es (Agustin Lobo)
Date: Wed, 17 Jul 2002 14:35:41 +0200 (MET DST)
Subject: [R] Problem with R INSTALL
Message-ID: <Pine.OSF.3.96.1020717133813.23529G-100000@paleo>


After a successful installation of R
> R.version
         _
platform i686-pc-linux-gnu
arch     i686
os       linux-gnu
system   i686, linux-gnu
status   Patched
major    1
minor    5.1

I've started to install packages but I'm totally confused by the
following problem:

R INSTALL boot_1.2-8.tar.gz

and I get

tar: /usr/local/lib/libpthread.so.0: version `GLIBC_2.2' not found
(required by /lib/librt.so.1)

Nevertheless, both gzip and tar work fine. Also, 
the version of my gcc is 2.95.3 (and glibc is 2.2.4). All
coming from suse 7.3.

If I try:
tar -zxf boot_1.2-8.tar.gz

no problem, I get directory boot. Then I try
R INSTALL boot

and get:

* Installing *source* package 'boot' ...
** R
** data
** help
 >>> Building/Updating help pages for package `boot'
     Formats: text html latex example
  EEF.profile                       text    html    latex
  Imp.Estimates                     text    html    latex   example
.../...
* DONE (boot)

* DONE (INSTALL)

But then I go to R and:

> library(boot)
Warning message:
Package  `boot' contains no R code in: library(boot)

and yes, in the new directory /usr/local/lib/R/library/boot tehre is no R
directory:
ls
.  ..  CONTENTS  DESCRIPTION  INDEX  R-ex  TITLE  data  help  html  latex

despite the fact that there is one in the directory
that comes from the tar.gz file

ls /usr/local/R-patched/R-1.5.1-recommended/boot
.  ..  DESCRIPTION  INDEX  PORTING  R  bd.q  data  man


In some other packages, like cluster, I get
R CMD INSTALL cluster
* Installing *source* package 'cluster' ...
** libs
WARNING: no source files found
** R
** data
.../...

Don't really know what/where to look. Any help?

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at paleo.ija.csic.es  Wed Jul 17 14:39:43 2002
From: alobo at paleo.ija.csic.es (Agustin Lobo)
Date: Wed, 17 Jul 2002 14:39:43 +0200 (MET DST)
Subject: [R] Problems with make pdf (R-patched_2002-07-15.tar.gz)
In-Reply-To: <Pine.LNX.4.31.0207171303210.21176-100000@gannet.stats>
Message-ID: <Pine.OSF.3.96.1020717143704.23529I-100000@paleo>


On Wed, 17 Jul 2002 ripley at stats.ox.ac.uk wrote:

> Those messages also occur with make dvi and with 1.5.1: 

No, there is a very short output to the screen for
dvi and info. For dvi:

humboldt:/usr/local/R-patched # make dvi > make_dvi_out.txt
humboldt:/usr/local/R-patched # ls -l  make_dvi_out.txt
-rw-r--r--    1 root     root          232 jul 17 14:22 make_dvi_out.txt

and the dvi output is just:

humboldt:/usr/local/R-patched # more  make_dvi_out.txt
make[1]: Entering directory `/usr/local/R-patched/doc'
make[2]: Entering directory `/usr/local/R-patched/doc/manual'
make[2]: Leaving directory `/usr/local/R-patched/doc/manual'
make[1]: Leaving directory `/usr/local/R-patched/doc'

> your original
> message said that you had `no problem' with make dvi, so why do you find
> them a problem with make pdf?
> 

Agus




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed Jul 17 14:34:34 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 17 Jul 2002 08:34:34 -0400
Subject: [R] Output and history
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC4B0@usrymx10.merck.com>

> From: Peter Dalgaard BSA [mailto:p.dalgaard at biostat.ku.dk]
> 
> Daniel Mastropietro <mastropi at uwalumni.com> writes:
> 
> > Hello,
> > 
> > I have the following two questions, rergarding:
> > 
> > (Output)
> > 1) Is it possible to have the output of a command automatically
> > displayed, without explicitly requesting it after the command, and
> > without using the print() function? For example, I want to see the
> > value of 'a'  when I write for instance 'a <- rep(1,10)'.
> > I tried setting the 'echo' option to TRUE but it has no 
> effect on that.
> 
> No. "<-" creates an invisible object as its return value and they
> don't print until you "visiblify" them. One standard device is to put
> the whole thing in parentheses: (a <- rep(1,10)).

But couldn't he use the taskCallbackManager() to print .Last.value after
every evaluation at the top level?  I'd guess that sort of does what Daniel
wants.

Cheers,
Andy


------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Wed Jul 17 14:51:43 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 17 Jul 2002 05:51:43 -0700
Subject: [R] Re: editing Sweave files in xemacs with ess (noweb), auctex and reftex
In-Reply-To: <1026905240.5080.36.camel@tykki>
References: <1026905240.5080.36.camel@tykki>
Message-ID: <87lm8a8qlc.fsf@jeeves.blindglobe.net>


I suspect noweb mode.  It doesn't have a good memory when you flip
between modes.

Worse, it's not quite the right thing to do.  There should be a 
(require 'ess-noweb) somewhere there, as per the suggestions in
ess-site.el. 

Make sure that the noweb from ESS is loaded, rather than that from
other sources.

best,
-tony

>>>>> "markus" == Markus J?ntti <markus.jantti at iki.fi> writes:

    markus> I am having some trouble getting reftex, in particular the bibtex
    markus> related features, to work properly in xemacs when editing text in Sweave
    markus> files. I have added

    markus> (defun Rnw-mode ()
    markus>   (noweb-mode)
    markus>   (if (fboundp 'R-mode)
    markus>       (setq noweb-default-code-mode 'R-mode)))
    markus> (add-to-list 'auto-mode-alist '("\\.Rnw\\'" . Rnw-mode))
    markus> (add-to-list 'auto-mode-alist '("\\.Snw\\'" . Snw-mode))

    markus> in my .xemacs/init.el file, as suggested by the Sweave manual FAQ. 

    markus> While this most likely involves reftex/ess interaction, I wondered
    markus> if someone on these lists is successfully using the combination
    markus> AUCTeX LaTeX-mode/bib-cite/reftex in xemacs 21.4.8 and ess 5.1.20
    markus> (on a GNU/Linux Debian unstable system). 

    markus> Regards,

    markus> Markus
    markus> -- 
    markus> Markus Jantti
    markus> Statistics Finland and University of Tampere
    markus> markus.jantti at iki.fi
    markus> http://www.iki.fi/~mjantti

    markus> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    markus> ess-help mailing list -- To (un)subscribe, send
    markus> subscribe	or	unsubscribe
    markus> (in the "body", not the subject !)  To: ess-help-request at stat.math.ethz.ch
    markus> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 17 14:52:41 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 17 Jul 2002 13:52:41 +0100 (BST)
Subject: [R] Problems with make pdf (R-patched_2002-07-15.tar.gz)
In-Reply-To: <Pine.OSF.3.96.1020717143704.23529I-100000@paleo>
Message-ID: <Pine.LNX.4.31.0207171347570.22369-100000@gannet.stats>

On Wed, 17 Jul 2002, Agustin Lobo wrote:

>
> On Wed, 17 Jul 2002 ripley at stats.ox.ac.uk wrote:
>
> > Those messages also occur with make dvi and with 1.5.1:
>
> No, there is a very short output to the screen for
> dvi and info. For dvi:
>
> humboldt:/usr/local/R-patched # make dvi > make_dvi_out.txt
> humboldt:/usr/local/R-patched # ls -l  make_dvi_out.txt
> -rw-r--r--    1 root     root          232 jul 17 14:22 make_dvi_out.txt
>
> and the dvi output is just:
>
> humboldt:/usr/local/R-patched # more  make_dvi_out.txt
> make[1]: Entering directory `/usr/local/R-patched/doc'
> make[2]: Entering directory `/usr/local/R-patched/doc/manual'
> make[2]: Leaving directory `/usr/local/R-patched/doc/manual'
> make[1]: Leaving directory `/usr/local/R-patched/doc'
>
> > your original
> > message said that you had `no problem' with make dvi, so why do you find
> > them a problem with make pdf?

`make dvi' will not re-make the dvi file if you have already made it.

cd doc/manual; make clean; make dvi

and then you will see what you missed.  If you still get a short output,
your problem is with `make dvi'.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed Jul 17 15:03:56 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 17 Jul 2002 09:03:56 -0400
Subject: [R] Problems with make pdf (R-patched_2002-07-15.tar.gz)
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC4B5@usrymx10.merck.com>

Those messages from from TeX, which is quite diligent in making sure the
final output looks good.  

TeX compose pages by putting together "boxes", and text/symbols/etc go in
the boxes.  When the horizontal boxes don't fill up the space, you can a
underfull warning with a "badness" rating.  Typical symptom of underfull
hbox is that the line has very few words and gets "stretched out" to fill
the line.

By analogy I suppose you can guess what overfull hbox means.  The typical
symptom is a line going over the right margin.  In draft mode, TeX would
print a black rectangle at the end of an overfull line.

These kinds of things are nearly impossible to fix for documentation that
can be processed into multiple formats.  You still get the whole thing, just
not as nice looking as TeX think they should be.

Andy

> -----Original Message-----
> From: Agustin Lobo [mailto:alobo at paleo.ija.csic.es]
> Sent: Wednesday, July 17, 2002 7:59 AM
> To: ripley at stats.ox.ac.uk
> Cc: r-help
> Subject: Re: [R] Problems with make pdf (R-patched_2002-07-15.tar.gz)
> 
> 
> My execution 
> make pdf > make_pdf_out.txt
> 
> creates a file make_pdf_out.txt of 148753 bytes, with many lines
> such as:
> Underfull \hbox (badness 5548) in paragraph at lines 695--697
> or 
> Overfull \hbox (23.9801pt too wide) in paragraph at lines 26468--26468
>  []           \T1/aett/m/n/10 xlab = NULL, ylab = 
> deparse(substitute(x)),
> frame
> .plot = is.num, ...)[]
> [474] [475] [476] [477] [478] [479]
> 
> 
> Should I send this file somewhere?
> 
> Agus
> 
> 
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
> 
> 
> On Wed, 17 Jul 2002 ripley at stats.ox.ac.uk wrote:
> 
> > What precisely do you consider to be `garbage'?  make pdf 
> does create
> > hyperlinks and so you should expect more processing than make dvi.
> > 
> > >From the extract below, either you interrupted on page 30 
> or there was
> > a fatal error in pdftex on that page.  But, that is nothing 
> to do with
> > `garbage'.
> > 
> > On Wed, 17 Jul 2002, Agustin Lobo wrote:
> > 
> > >
> > > After configure, make and make check on
> > > a linux Suse 7.3 box, I run
> > > make dvi and make info with no problems but get
> > > a lot of garbage to my screen during make pdf.
> > > Is this normal? Is there a bug in this part
> > > of the installation?
> > >
> > > This is part of what I get on the screen:
> > >
> > > humboldt:/usr/local/R-patched # make pdf
> > > make[1]: Entering directory `/usr/local/R-patched/doc'
> > > make[2]: Entering directory `/usr/local/R-patched/doc/manual'
> > > PDF/LaTeX documentation: reference index ...
> > > This is pdfTeX, Version 3.14159-13d (Web2C 7.3.1)
> > > [/var/lib/texmf/pdftex/config/pdftex.cfg]
> > > LaTeX2e <2000/06/01>
> > > Babel <v3.7h> and hyphenation patterns for american, 
> french, german,
> > > ngerman, n
> > > ohyphenation, loaded.
> > >
> > > (refman.tex (/usr/share/texmf/tex/latex/base/book.cls
> > > Document Class: book 2000/05/19 v1.4b Standard LaTeX 
> document class
> > > (/usr/share/texmf/tex/latex/base/bk10.clo)) 
> (../../share/texmf/Rd.sty
> > > (/usr/share/texmf/tex/latex/base/ifthen.sty)
> > >
> > > (many other /usr/share/texmf/tex/latex/base/...)
> > >
> > > Implicit mode ON; LaTeX internals redefined
> > > (/usr/share/texmf/tex/latex/hyperref/backref.sty))
> > > *hyperref using default driver hpdftex*
> > > (/usr/share/texmf/tex/latex/hyperref/hpdftex.def
> > > ...
> > >
> > > Writing index file refman.idx
> > > No file refman.aux.
> > > (/usr/share/texmf/tex/latex/hyperref/nameref.sty) (refman.out)
> > > (refman.out)
> > > (/usr/share/texmf/tex/latex/ae/t1aess.fd) (version.tex)
> > > (../../share/texmf/omsaer.fd) 
> [1[/var/lib/texmf/dvips/config/pdftex.map]]
> > > [1] [2] (base-pkg.tex
> > > Chapter 1.
> > > [1] [2] [3] [4] [5] [6] [7] [8] [9] [10] [11] [12] [13] 
> [14] [15] [16]
> > > [17]
> > > [18]
> > > Underfull \vbox (badness 10000) has occurred while 
> \output is active [19]
> > > [20] [21] [22] [23] [24] [25] [26] [27] [28] [29] 
> [30make[2]: *** Deleting
> > > file `refman.pdf']
> > >
> > > etc
> > >
> > > Agus
> > >
> > > Thanks
> > >
> > >
> > > Dr. Agustin Lobo
> > > Instituto de Ciencias de la Tierra (CSIC)
> > > Lluis Sole Sabaris s/n
> > > 08028 Barcelona SPAIN
> > > tel 34 93409 5410
> > > fax 34 93411 0012
> > > alobo at ija.csic.es
> > >
> > >
> > > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
> >
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nj7w at virginia.edu  Wed Jul 17 15:28:24 2002
From: nj7w at virginia.edu (nj7w@virginia.edu)
Date: Wed, 17 Jul 2002 09:28:24 -0400 (EDT)
Subject: [R] Omegahat - RinS package
Message-ID: <Pine.A41.4.32.0207170924040.22088-100000@node5.unix.Virginia.EDU>

Hello!

I am using RinS package provided at omegahat website
When I tried to reproduce the example, I got the error message:

 attach("/export/home/njain/new-RinS/RinS")
 z <- list(1:3, ,b=letters[1:4], rnorm(5), z=)
 saveRObject(z, ".RSdata/z")

Problem in saveRObject(z, ".RSdata/z"): C call to IS with an undefined class

traceback()
5: eval(action, sys.parent())
4: doErrorAction("Problem in saveRObject(z, \".RSdata/z\"): C call to IS with an undefined class",
3: invisible(.Call("SPlusR_writeObject", obj, as.character(fileName), as.character(
2: saveRObject(z, ".RSdata/z")
1:
Message: Problem in saveRObject(z, ".RSdata/z"): C call to IS with an undefined class


Any help is greatly appreciated.
Thanks.
Nitin


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jul 17 15:34:17 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Jul 2002 15:34:17 +0200
Subject: [R] Output and history
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC4B0@usrymx10.merck.com>
References: <51F9C42DA15CD311BD220008C707D81906FFC4B0@usrymx10.merck.com>
Message-ID: <x2ptxmbhra.fsf@biostat.ku.dk>

"Liaw, Andy" <andy_liaw at merck.com> writes:

> > No. "<-" creates an invisible object as its return value and they
> > don't print until you "visiblify" them. One standard device is to put
> > the whole thing in parentheses: (a <- rep(1,10)).
> 
> But couldn't he use the taskCallbackManager() to print .Last.value after
> every evaluation at the top level?  I'd guess that sort of does what Daniel
> wants.

Might be, but wouldn't that result in visible things getting printed twice?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From humbertc at univ-mlv.fr  Wed Jul 17 15:50:42 2002
From: humbertc at univ-mlv.fr (Cyril Humbert)
Date: Wed, 17 Jul 2002 15:50:42 +0200
Subject: [R] image function
In-Reply-To: <F26Pz1hu1H7NaMIicOK00006531@hotmail.com>; from mathildepascal@hotmail.com on Wed, Jul 17, 2002 at 11:13:11AM +0000
References: <F26Pz1hu1H7NaMIicOK00006531@hotmail.com>
Message-ID: <20020717155042.B27195@borneo.univ-mlv.fr>

You can do it with the function `filled.contour'. See ?filled.contour for
the details (and some examples).

Mathilde Pascal wrote:
> Hi!
> 
> I'm working with the function image to represent datasets. I don't know how 
> to create a legend for the plot, to see which color correspond to which 
> value. I hope someone can help me...
> 
> Regards,
> 
> Mathilde Pascal

-- 
Cyril Humbert 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From VBMorozov at lbl.gov  Wed Jul 17 16:01:34 2002
From: VBMorozov at lbl.gov (VBMorozov@lbl.gov)
Date: Wed, 17 Jul 2002 10:01:34 -0400
Subject: [R] problem formatting data frames
Message-ID: <2547c25657.256572547c@lbl.gov>


 Dear R-guRus:
I have a problem with the format of my data in R. 
Let's say I have a HUGE text table which consists of columns of 
numerical data, separated by tabs, but in some places rows of text 
(error messages, etc) are inserted in between rows of numerical data. 
Because the data file is so huge and because I have thousands of these 
files, it's unpractical to try and go thru these files manually and 
remove text rows - I'd like R to do it for me.
The following command works:

MyDataFrame<-data.frame(read.table("MyFile"))

but instead of numerical data in my frame I get "factor" data, because 
of these text inserts. How do I filter them out??

Thank you very much,
Vlad.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apierce at stny.rr.com  Wed Jul 17 17:31:43 2002
From: apierce at stny.rr.com (Andy Pierce)
Date: Wed, 17 Jul 2002 11:31:43 -0400
Subject: [R] Re: 1.5.1 on AIX 5.1
Message-ID: <20020717113143.M76026@stny.rr.com>

Well, it looks like I had backlevel versions of the compilers on my system. On
another system with current levels of the compilers, it compiled and ran though
"make check" with no problem at all.

Andy Pierce
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Wed Jul 17 17:37:05 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Wed, 17 Jul 2002 08:37:05 -0700 (PDT)
Subject: [R] image function
In-Reply-To: <F26Pz1hu1H7NaMIicOK00006531@hotmail.com>
Message-ID: <Pine.GSO.4.10.10207170836480.2683-100000@quetelet.stat.ucla.edu>

Try the 'image.plot' function in the 'fields' library.  I think it does'
what you want.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Wed, 17 Jul 2002, Mathilde Pascal wrote:

> Hi!
> 
> I'm working with the function image to represent datasets. I don't know how 
> to create a legend for the plot, to see which color correspond to which 
> value. I hope someone can help me...
> 
> Regards,
> 
> Mathilde Pascal
> 
> 
> 
> _________________________________________________________________
> Rejoignez MSN Hotmail, le plus important service de messagerie 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Jul 17 17:54:27 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 17 Jul 2002 08:54:27 -0700 (PDT)
Subject: [R] problem formatting data frames
In-Reply-To: <2547c25657.256572547c@lbl.gov>
Message-ID: <Pine.A41.4.44.0207170845130.70148-100000@homer22.u.washington.edu>

On Wed, 17 Jul 2002 VBMorozov at lbl.gov wrote:

>
>  Dear R-guRus:
> I have a problem with the format of my data in R.
> Let's say I have a HUGE text table which consists of columns of
> numerical data, separated by tabs, but in some places rows of text
> (error messages, etc) are inserted in between rows of numerical data.
> Because the data file is so huge and because I have thousands of these
> files, it's unpractical to try and go thru these files manually and
> remove text rows - I'd like R to do it for me.
> The following command works:
>
> MyDataFrame<-data.frame(read.table("MyFile"))
>
> but instead of numerical data in my frame I get "factor" data, because
> of these text inserts. How do I filter them out??

The simplest case would be if the error messages always began with the
same character (eg "E").  In that case you could use comment.char="E" in
read.table to say that lines beginning with E are comments.

Otherwise you will probably need to read the file line by line and remove
the error messages.  The most computationally efficient solution would
probably be to use something like Perl to preprocess the file, but you
could do it in R.

Eg

  Read the file as lines of text
  Use grep() to find which lines contain only numbers
  Write those lines to a temporary file
  Read the temporary file with read.table()

Something similar is done by read.fwf(), which reads fixed format data
files.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Wed Jul 17 19:58:21 2002
From: macq at llnl.gov (Don MacQueen)
Date: Wed, 17 Jul 2002 10:58:21 -0700
Subject: [R] problem formatting data frames
In-Reply-To: <2547c25657.256572547c@lbl.gov>
References: <2547c25657.256572547c@lbl.gov>
Message-ID: <p05111a02b95b5f596ea9@[128.115.153.6]>

Have you looked at the help page for read.table, and noticed the 
comment.char and colClasses arguments?

If the rows of text have sufficient consistency you might be able to 
use comment.char option.

You could try the colClasses option to force it to read the columns 
as numerical, in which case the non-numeric data should be coerced to 
NA.

If you are on a unix machine, or have a windows machine with unix 
tools installed, you could use pipe() to pipe the files through, for 
example, a sed script that tosses any rows with non-numeric 
characters (other than 'E' if there is any data formatted in 
scientific notation).

-Don

At 10:01 AM -0400 7/17/02, VBMorozov at lbl.gov wrote:
>  Dear R-guRus:
>I have a problem with the format of my data in R.
>Let's say I have a HUGE text table which consists of columns of
>numerical data, separated by tabs, but in some places rows of text
>(error messages, etc) are inserted in between rows of numerical data.
>Because the data file is so huge and because I have thousands of these
>files, it's unpractical to try and go thru these files manually and
>remove text rows - I'd like R to do it for me.
>The following command works:
>
>MyDataFrame<-data.frame(read.table("MyFile"))
>
>but instead of numerical data in my frame I get "factor" data, because
>of these text inserts. How do I filter them out??
>
>Thank you very much,
>Vlad.
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tplate at blackmesacapital.com  Wed Jul 17 20:13:31 2002
From: tplate at blackmesacapital.com (Tony Plate)
Date: Wed, 17 Jul 2002 12:13:31 -0600
Subject: [R] problem formatting data frames
In-Reply-To: <2547c25657.256572547c@lbl.gov>
Message-ID: <5.1.0.14.2.20020717120827.00afb6c0@mailhost.blackmesacapital.com>

If you're actually able to read the data files into R (I'd be surprised -- 
having messages interspersed between the rows of data should cause problems 
with numbers of columns), you could do something like the following:

 > x <- data.frame(a=c(1,"foo",2,1),b=c("bar","foo",3,3))  # create a 
"problem" data frame
 > x
     a   b
1   1 bar
2 foo foo
3   2   3
4   1   3
 > sapply(x, data.class)  # verify that it contains factor data
        a        b
"factor" "factor"
 > # convert it
 > x1 <- data.frame(lapply(x, function(col) if (is.factor(col)) 
as.numeric(levels(col))[as.numeric(col)] else col))
Warning messages:
1: NAs introduced by coercion
2: NAs introduced by coercion
 > x1
    a  b
1  1 NA
2 NA NA
3  2  3
4  1  3
 > sapply(x1, data.class)
         a         b
"numeric" "numeric"
 > x1[!apply(is.na(x1), 1, any), ]    # filter rows with any NA's in them
   a b
3 2 3
4 1 3
 >

At 10:01 AM 7/17/2002 -0400, you wrote:

>  Dear R-guRus:
>I have a problem with the format of my data in R.
>Let's say I have a HUGE text table which consists of columns of
>numerical data, separated by tabs, but in some places rows of text
>(error messages, etc) are inserted in between rows of numerical data.
>Because the data file is so huge and because I have thousands of these
>files, it's unpractical to try and go thru these files manually and
>remove text rows - I'd like R to do it for me.
>The following command works:
>
>MyDataFrame<-data.frame(read.table("MyFile"))
>
>but instead of numerical data in my frame I get "factor" data, because
>of these text inserts. How do I filter them out??
>
>Thank you very much,
>Vlad.
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cberry at tajo.ucsd.edu  Wed Jul 17 22:22:39 2002
From: cberry at tajo.ucsd.edu (cberry@tajo.ucsd.edu)
Date: Wed, 17 Jul 2002 13:22:39 -0700 (PDT)
Subject: [R] Build on Solaris 8 gcc-3.1 fails make check
Message-ID: <Pine.GSO.4.05.10207171316490.4997-100000@tajo.ucsd.edu>


Dear R-help,


I am trying to build R-1.5.1 on a Sun Blade 100 (sparc). 

It fails make check when var(1) returns NaN instead of NA.

Using gcc-2.95.3 from sunfreeware.com, the build succeeds and passes
make check

I have:

 Solaris 8
 gcc-3.1 (built on that machine from sources and installed in
   /usr/local/gcc-3.1 with binaries symlink'ed to /usr/local/bin)


A synopsis is at the bottom of this message.

The web page
 
        http://hacuna.ucsd.edu/Rbuild-Problem/

has these files from this attempt

    Makeconf               3k  
    Makefile               4k  
    Makefrag.cc            1k  
    Makefrag.cxx           1k  
    Makefrag.f77           1k  
    R-build-session      140k  <<=== terminal output from session
    base-Ex.Rout.fail    376k  <<== from /tests/Examples 
    config.log           104k  
    config.status         56k  
    gcc-v--help.out       35k  <<== details about compiler

files not labelled '<<==' are from the top source dir.

A briefer synopsis is below.

Please cc replies to me - I subscribe to DIGEST form of R-help.

Thanks,

Chuck

p.s. On that same machine using gcc-2.95.3 from sunfreeware.com, the
build succeeds and passes make check. Using gcc-3.1 from
sunfreeware.com, it fails in the same way as decribed above.

Briefly, I did this:

# ./configure R_PAPERSIZE=letter CPPFLAGS=  LDFLAGS= 
( CPPFLAGS= suppresses annoying messages like these:
cpp0: warning: changing search order for system directory
"/usr/local/include"
cpp0: warning:   as it has already been specified as a non-system
directory)
[deleted]

R is now configured for sparc-sun-solaris2.8

  Source directory:          .
  Installation directory:    /usr/local
  C compiler:                gcc  -g -O2
  C++ compiler:              g++  -g -O2
  FORTRAN compiler:          g77  -g -O2

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            yes
  Readline support:          no

  R profiling support:       yes
  R as a shared library:     no

# make
[deleted]
# make check
make[1]: Entering directory `/space/local/src/R-1.5.1/tests'
make[2]: Entering directory `/space/local/src/R-1.5.1/tests'
make[3]: Entering directory `/space/local/src/R-1.5.1/tests/Examples'
make[4]: Entering directory `/space/local/src/R-1.5.1/tests/Examples'
make[4]: Leaving directory `/space/local/src/R-1.5.1/tests/Examples'
make[4]: Entering directory `/space/local/src/R-1.5.1/tests/Examples'
collecting examples for package 'base' ...
make[5]: Entering directory `/space/local/src/R-1.5.1/src/library'
 >>> Building/Updating help pages for package `base'
     Formats: text example 
make[5]: Leaving directory `/space/local/src/R-1.5.1/src/library'
running code in 'base-Ex.R' ...make[4]: *** [base-Ex.Rout] Error 1
make[4]: Leaving directory `/space/local/src/R-1.5.1/tests/Examples'
make[3]: *** [test-Examples] Error 2
make[3]: Leaving directory `/space/local/src/R-1.5.1/tests/Examples'
make[2]: *** [test-Examples] Error 2
make[2]: Leaving directory `/space/local/src/R-1.5.1/tests'
make[1]: *** [test-all-basics] Error 1
make[1]: Leaving directory `/space/local/src/R-1.5.1/tests'
make: *** [check] Error 2
[deleted]

# bin/R

R : Copyright 2002, The R Development Core Team
Version 1.5.1  (2002-06-17)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

Type `q()' to quit R.


> stopifnot(  is.na(var(1)), !is.na(var(1)) )
Error: !is.na(var(1)) is not TRUE
> var(1)
[1] NaN
> q()



Charles C. Berry                        (858) 534-2098 
                                         Dept of Family/Preventive Medicine
E mailto:cberry at tajo.ucsd.edu	         UC San Diego
http://hacuna.ucsd.edu/members/ccb.html  La Jolla, San Diego 92093-0645

 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.connolly at hortresearch.co.nz  Wed Jul 17 23:54:18 2002
From: p.connolly at hortresearch.co.nz (Patrick Connolly)
Date: Thu, 18 Jul 2002 09:54:18 +1200
Subject: [R] R GUI and object browser
In-Reply-To: <Pine.GSO.4.44.0207170725030.15033-100000@auk.stats>
References: <200207162241.39480.dputler@scu.edu> <Pine.GSO.4.44.0207170725030.15033-100000@auk.stats>
Message-ID: <20020717215418.GA26757@hortresearch.co.nz>

On Wed, 17-Jul-2002 at 07:39AM +0100, Prof Brian D Ripley wrote:

|> This may be appealing, but
|> 
|> 1) R objects such as lists have shared components. You get the creation
|> date of the object, not of it components, and in any case I suspect you
|> want the last modification date.

That's true.  I'm interested to know when I last did something to it.
For functions, I have the creation already from the nifty feature in
ESS called ess-insert-function-outline.

My method of using the comment to store the date is at least as simple
as the one Dan Putler suggests and it can apply to any object.  I have
no other use for comment since I annotate the file of commands I use
to keep me informed of the raison d'etre for each object.

[....]

|> The only clean way I can see to do this would be to alter the internal
|> structure to store a creation date in a SEXPREC.  

That's sounds along the lines of what I had in mind, but I had no idea
what it would involve.

|> That would add some memory overhead (but less than attributes).  It
|> looks doable, but I remain unconvinced it is worthwhile.

If hardly anyone agrees with me that the dates are useful to know,
it's certainly not worthwhile.  I'm not unhappy doing things the way I
do, inelegant though it is and it doesn't seem as though there's a
great clamour for such functionality.  However, if there were, what
would I need to know to be able to contribute to the effort that would
be involved?

best

-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world`s largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jleach at mail.ocis.net  Thu Jul 18 00:39:15 2002
From: jleach at mail.ocis.net (Jason C. Leach)
Date: Wed, 17 Jul 2002 15:39:15 -0700
Subject: [R] Importing Data.
Message-ID: <20020717153915.L1785@yukon.drivingbeat.com>

hi,

I'm a bit new to R and need a hand importing data.
I have a text file of (x,y) pairs like:

x,y
x,y
x,y

I can read them in fine with read.table(), but I need to do some 
cluster analysis on them, so I need it in a format cclust will
understand, namely a Matrix.  Can anyone help with the code to
to convert the data type?


Thanks,
j.



-- 
......................
..... Jason C. Leach
.. 

Current PGP/GPG Key ID: 43AD2024 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Thu Jul 18 00:50:30 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Wed, 17 Jul 2002 15:50:30 -0700 (PDT)
Subject: [R] Importing Data.
In-Reply-To: <20020717153915.L1785@yukon.drivingbeat.com>
Message-ID: <Pine.GSO.4.10.10207171548470.28810-100000@quetelet.stat.ucla.edu>

Try 

> m <- matrix(scan("filename", sep = ","), byrow = T, ncol = 2)

This will read the file and store in a m x 2 matrix.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Wed, 17 Jul 2002, Jason C. Leach wrote:

> hi,
> 
> I'm a bit new to R and need a hand importing data.
> I have a text file of (x,y) pairs like:
> 
> x,y
> x,y
> x,y
> 
> I can read them in fine with read.table(), but I need to do some 
> cluster analysis on them, so I need it in a format cclust will
> understand, namely a Matrix.  Can anyone help with the code to
> to convert the data type?
> 
> 
> Thanks,
> j.
> 
> 
> 
> -- 
> ......................
> ..... Jason C. Leach
> .. 
> 
> Current PGP/GPG Key ID: 43AD2024 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jul 18 01:01:39 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Jul 2002 01:01:39 +0200
Subject: [R] Build on Solaris 8 gcc-3.1 fails make check
In-Reply-To: <Pine.GSO.4.05.10207171316490.4997-100000@tajo.ucsd.edu>
References: <Pine.GSO.4.05.10207171316490.4997-100000@tajo.ucsd.edu>
Message-ID: <x28z4aarho.fsf@biostat.ku.dk>

cberry at tajo.ucsd.edu writes:

> Dear R-help,
> 
> 
> I am trying to build R-1.5.1 on a Sun Blade 100 (sparc). 
> 
> It fails make check when var(1) returns NaN instead of NA.
> 
> Using gcc-2.95.3 from sunfreeware.com, the build succeeds and passes
> make check
> 
> I have:
> 
>  Solaris 8
>  gcc-3.1 (built on that machine from sources and installed in
>    /usr/local/gcc-3.1 with binaries symlink'ed to /usr/local/bin)
> 
> 
> A synopsis is at the bottom of this message.
> 
> The web page
>  
>         http://hacuna.ucsd.edu/Rbuild-Problem/
> 
> has these files from this attempt
> 
>     Makeconf               3k  
>     Makefile               4k  
>     Makefrag.cc            1k  
>     Makefrag.cxx           1k  
>     Makefrag.f77           1k  
>     R-build-session      140k  <<=== terminal output from session
>     base-Ex.Rout.fail    376k  <<== from /tests/Examples 
>     config.log           104k  
>     config.status         56k  
>     gcc-v--help.out       35k  <<== details about compiler
> 
> files not labelled '<<==' are from the top source dir.
> 
> A briefer synopsis is below.
> 
> Please cc replies to me - I subscribe to DIGEST form of R-help.
> 
> Thanks,
> 
> Chuck
> 
> p.s. On that same machine using gcc-2.95.3 from sunfreeware.com, the
> build succeeds and passes make check. Using gcc-3.1 from
> sunfreeware.com, it fails in the same way as decribed above.

Hmm... gcc-3.0.3 on Solaris 7 works OK for me (passes make check
anyway). Anyone else tried 3.1? I suspect that Brian would.

I trust that you made sure that you did a clean build and didn't get
libraries mixed up or something?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu Jul 18 01:19:25 2002
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 17 Jul 2002 19:19:25 -0400
Subject: [R] problem formatting data frames
In-Reply-To: <2547c25657.256572547c@lbl.gov>
Message-ID: <5.1.0.14.2.20020717191427.01d757a0@mcmail.cis.mcmaster.ca>

Dear Vlad,

You could solve this problem in R, but I suspect that it would be easier to 
pre-filter the files before reading them into data frames, using a tool 
such as grep. In particular, if all of the valid data are numeric and all 
of the offending lines have alphabetic characters, then something like the 
following should do the trick

         grep -v [a-z,A-Z] data.file > filtered.file

(You may have to adjust the regular expression to get exactly what you want.)

As well, since read.table produces a data frame, you don't need to call 
data.frame.

I hope that this helps,
  John

At 10:01 AM 7/17/2002 -0400, VBMorozov at lbl.gov wrote:

>  Dear R-guRus:
>I have a problem with the format of my data in R.
>Let's say I have a HUGE text table which consists of columns of
>numerical data, separated by tabs, but in some places rows of text
>(error messages, etc) are inserted in between rows of numerical data.
>Because the data file is so huge and because I have thousands of these
>files, it's unpractical to try and go thru these files manually and
>remove text rows - I'd like R to do it for me.
>The following command works:
>
>MyDataFrame<-data.frame(read.table("MyFile"))
>
>but instead of numerical data in my frame I get "factor" data, because
>of these text inserts. How do I filter them out??
>
>Thank you very much,
>Vlad.
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Thu Jul 18 02:13:03 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Wed, 17 Jul 2002 21:13:03 -0300
Subject: [R] Automatic adjustment of axis ranges
In-Reply-To: <5.1.0.14.2.20020717120827.00afb6c0@mailhost.blackmesacapit
 al.com>
References: <2547c25657.256572547c@lbl.gov>
Message-ID: <4.2.2.20020717204707.00a36f00@pop3.arnet.com.ar>

Hello,

I would like to know if it is possible to add new points to a given plot 
and that the axis ranges be automatically adjusted so that all the new 
points are seen in the plot.
For example, I am thinking of something like this:

plot(1:10,1:10);
points(5:20,2*(5:20));	# This would change the x range to 0-20 and the y 
range to 0-40 so that all the new points are fitted in the graph.

Thanks
Daniel Mastropietro

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cberry at tajo.ucsd.edu  Thu Jul 18 02:38:15 2002
From: cberry at tajo.ucsd.edu (cberry@tajo.ucsd.edu)
Date: Wed, 17 Jul 2002 17:38:15 -0700 (PDT)
Subject: [R] Build on Solaris 8 gcc-3.1 fails make check
In-Reply-To: <x28z4aarho.fsf@biostat.ku.dk>
Message-ID: <Pine.GSO.4.05.10207171723590.4997-100000@tajo.ucsd.edu>

On 18 Jul 2002, Peter Dalgaard BSA wrote:

> cberry at tajo.ucsd.edu writes:
> 
> > Dear R-help,
> > 
> > 
> > I am trying to build R-1.5.1 on a Sun Blade 100 (sparc). 
> > 
> > It fails make check when var(1) returns NaN instead of NA.
> > 
> > Using gcc-2.95.3 from sunfreeware.com, the build succeeds and passes
> > make check
> > 

[details deleted]

> Hmm... gcc-3.0.3 on Solaris 7 works OK for me (passes make check
> anyway). Anyone else tried 3.1? I suspect that Brian would.
> 
> I trust that you made sure that you did a clean build and didn't get
> libraries mixed up or something?

You mean a clean build of R? 

I can't see what would have been a problem, but I am not very familiar
with this and might easily overlook something. Advice appreciated. I
looked for lib's with the same names - apart from 64 and 32 bit libs of
the same name and symlinks I saw no duplicates.

If you mean a clean build of gcc-3.1, I skipped the dejagnus checks
before the attempt to build R. I am running them now. All pass, so far.

Chuck



Charles C. Berry                        (858) 534-2098 
                                         Dept of Family/Preventive Medicine
E mailto:cberry at tajo.ucsd.edu	         UC San Diego
http://hacuna.ucsd.edu/members/ccb.html  La Jolla, San Diego 92093-0645

 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From FJMolina at lbl.gov  Thu Jul 18 03:02:32 2002
From: FJMolina at lbl.gov (Francisco J Molina)
Date: Wed, 17 Jul 2002 18:02:32 -0700
Subject: [R] a bug?
Message-ID: <3D3613A8.2E4DF65C@lbl.gov>

I am having problems to use the command curve with a function of the
form

min ( f ( x ), g ( x ))

If I try with the function

myFunction <- function ( x ) if ( f ( x ) > g ( x )) f ( x ) else g ( x
)

I also have problems.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Thu Jul 18 03:14:37 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Wed, 17 Jul 2002 18:14:37 -0700 (PDT)
Subject: [R] a bug?
In-Reply-To: <3D3613A8.2E4DF65C@lbl.gov>
Message-ID: <Pine.GSO.4.10.10207171808430.1896-100000@quetelet.stat.ucla.edu>

Depending on what exactly f and g do, you might be using the 'if'
statement incorrectly.  For example if f and g are vectorized, and x is a
vector, then 'if(f(x) > g(x))' will produce weird behavior.  In any case,
I don't think your function is vectorized so it won't work in curve()
anyway.

How about try something like:

myFunction <- function(x) pmin(f(x), g(x))

which takes the parallel minimum of f and g.  I think that might be what
you want.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Wed, 17 Jul 2002, Francisco J Molina wrote:

> I am having problems to use the command curve with a function of the
> form
> 
> min ( f ( x ), g ( x ))
> 
> If I try with the function
> 
> myFunction <- function ( x ) if ( f ( x ) > g ( x )) f ( x ) else g ( x
> )
> 
> I also have problems.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andreww at cheque.uq.edu.au  Thu Jul 18 03:46:11 2002
From: andreww at cheque.uq.edu.au (Andrew C. Ward)
Date: Thu, 18 Jul 2002 11:46:11 +1000
Subject: [R] problem formatting data frames
References: <2547c25657.256572547c@lbl.gov>
Message-ID: <007201c22dfc$e4e5f740$67e86682@cheque.uq.edu.au>

Hello Vlad,

I usually don't get R to do anything like this for me, and prefer
preparing the data using GNU awk or something similar. awk
or gawk are available for many different operating systems,
including Unix, Linux, and Windows.

I would usually use something like
    gawk ' BEGIN {FS="\t"} {if (NF==8) print $0 } ' file.dat
which only displays lines with 8 tab-separated fields. More
advanced users of R than I am undoubtedly know how to
effect the same thing using scan or read.table.

Regards,

Andrew C. Ward

CAPE Centre,
The University of Queensland
Brisbane Qld 4072 Australia
andreww at cheque.uq.edu.au

----- Original Message -----
From: <VBMorozov at lbl.gov>
To: <r-help at stat.math.ethz.ch>
Sent: Thursday, July 18, 2002 12:01 AM
Subject: [R] problem formatting data frames


>
>  Dear R-guRus:
> I have a problem with the format of my data in R.
> Let's say I have a HUGE text table which consists of columns of
> numerical data, separated by tabs, but in some places rows of text
> (error messages, etc) are inserted in between rows of numerical data.
> Because the data file is so huge and because I have thousands of these
> files, it's unpractical to try and go thru these files manually and
> remove text rows - I'd like R to do it for me.
> The following command works:
>
> MyDataFrame<-data.frame(read.table("MyFile"))
>
> but instead of numerical data in my frame I get "factor" data, because
> of these text inserts. How do I filter them out??
>
> Thank you very much,
> Vlad.
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dstrong at bdol.com  Thu Jul 18 03:50:13 2002
From: dstrong at bdol.com (David Strong)
Date: Wed, 17 Jul 2002 21:50:13 -0400
Subject: [R] Importing Data.
In-Reply-To: <Pine.GSO.4.10.10207171548470.28810-100000@quetelet.stat.ucla.edu>
Message-ID: <B95B9715.153%dstrong@bdol.com>

Hello,

I am having trouble with an import using read.table.

I just tried to load a 650,000 record database, and got the following:
Error: vector memory exhausted (limit reached ?)
in addition reached total allocated 239MB.  I thought I read something about
limitations with text data input is often acceptable for problems of small
or medium scale.  Maybe 650,000 records doesn't qualify for small or medium
or often.

Is there a means of allowing the reading of such a large data set?



Thanks

David

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.wilcox at uq.edu.au  Thu Jul 18 20:54:38 2002
From: c.wilcox at uq.edu.au (Chris Wilcox)
Date: Thu, 18 Jul 2002 11:54:38 -0700
Subject: [R] weights in quantile regression
Message-ID: <B95C5CFD.262%c.wilcox@uq.edu.au>

I am just starting to use R, converting over from SAS.  I want to estimate
the upper quartile in a scatterplot of demographic rates against rainfall in
a small mammal population.  The data looks like this:

|
|*                  * <- point in question
|*
|*  *
|*  *
|*  *   *
|*  *   *   *   *   *
|_______________________________________

Based on a paper by Scharf et al. in Ecology (vol 79, p448) I am trying to
use the qreg package in R to estimate the upper quartile in the data.  My
problem is that I have relatively few data points (~40) which are mostly
distributed at the low end of the x axis, and an outlier in the y direction
at the high end of the x axis.

I would like to find a way either by iteratively weighting the observations
or by bootstrapping the regression to quantify the relationship in the mass
of the data.  I looked in the manual for qreg, and while it allows for
weights, there is no guidance for routines to calculate them.  I also
checked the help archives and on the web, and while I found a bit on the
web, I didnt see much that was specific to my problem.  It seems like this
would be a general issue when working with naturally occurring phenomena
(like rainfall) as there will often be few data points at the extremes.

Any suggestions would be most welcome.

Thanks,

Chris 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andreww at cheque.uq.edu.au  Thu Jul 18 04:47:51 2002
From: andreww at cheque.uq.edu.au (Andrew C. Ward)
Date: Thu, 18 Jul 2002 12:47:51 +1000
Subject: [R] Automatic adjustment of axis ranges
References: <2547c25657.256572547c@lbl.gov> <4.2.2.20020717204707.00a36f00@pop3.arnet.com.ar>
Message-ID: <011101c22e05$82b04720$67e86682@cheque.uq.edu.au>

Daniel,

I don't think it's possible to do exactly what you want using
the example you've given. You could either A) re-plot the
data with the new points, or B) make the axis limits large
enough to cope with data of "reasonable" magnitude.
Neither of these gives you the dynamic redrawing you
want, however.

Others may point you to some nifty Tcl or other GUI way
of doing that, which I will be keen to hear about.

Regards,

Andrew C. Ward

CAPE Centre,
The University of Queensland
Brisbane Qld 4072 Australia
andreww at cheque.uq.edu.au


----- Original Message -----
From: Daniel Mastropietro <mastropi at uwalumni.com>
To: <R-help at stat.math.ethz.ch>
Sent: Thursday, July 18, 2002 10:13 AM
Subject: [R] Automatic adjustment of axis ranges


> Hello,
>
> I would like to know if it is possible to add new points to a given plot
> and that the axis ranges be automatically adjusted so that all the new
> points are seen in the plot.
> For example, I am thinking of something like this:
>
> plot(1:10,1:10);
> points(5:20,2*(5:20)); # This would change the x range to 0-20 and the y
> range to 0-40 so that all the new points are fitted in the graph.
>
> Thanks
> Daniel Mastropietro
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Thu Jul 18 05:03:46 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Wed, 17 Jul 2002 22:03:46 -0500
Subject: [R] Automatic adjustment of axis ranges
In-Reply-To: <4.2.2.20020717204707.00a36f00@pop3.arnet.com.ar>
Message-ID: <014101c22e07$bc7813f0$0201a8c0@MARC>

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch] On
> Behalf Of Daniel Mastropietro
> Sent: Wednesday, July 17, 2002 7:13 PM
> To: R-help at stat.math.ethz.ch
> Subject: [R] Automatic adjustment of axis ranges
> 
> Hello,
> 
> I would like to know if it is possible to add new points to a given
plot
> and that the axis ranges be automatically adjusted so that all the new
> points are seen in the plot.
> For example, I am thinking of something like this:
> 
> plot(1:10,1:10);
> points(5:20,2*(5:20));	# This would change the x range to 0-20
and the y
> range to 0-40 so that all the new points are fitted in the graph.
> 
> Thanks
> Daniel Mastropietro

To the best of my knowledge, once a plot is drawn in the graphics
device, the plot region axis ranges are fixed.

You can certainly add new points, lines, etc. to an existing plot as you
are doing above, but within the existing axis ranges.

If you need to change the axis ranges themselves, I believe that you
actually have to re-draw the plot.

If you know what the minimum and maximum values of the existing and the
new data points are going to be, you can explicitly define the ranges
with the xlim and ylim arguments to the plot() function.  You can either
provide specific numbers or use the range() function to secure the min
and max values from the numeric vectors that you are using as source
data.

If someone has other ideas, I would certainly be interested in how this
could be done.

HTH.

Marc



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andreww at cheque.uq.edu.au  Thu Jul 18 05:25:45 2002
From: andreww at cheque.uq.edu.au (Andrew C. Ward)
Date: Thu, 18 Jul 2002 13:25:45 +1000
Subject: [R] Importing Data
Message-ID: <014001c22e0a$cdf8f1f0$67e86682@cheque.uq.edu.au>

Dear David,

If you have sufficient RAM you can increase the amount R uses by adding
the switch "--max-mem-size=1024M" to the command you use to start R
(change 1024 to whatever amount of RAM you have).

If you don't have lots of RAM, you may have to draw just a subset of data.
If you're developing or testing a model this will be okay, as long as you
choose
enough samples. Alternatively, you could reduce the number of variables and
cases. This could be a data-driven process, a subjective process, or maybe
some combination of both.

I try to avoid large data sets in R (and S-PLUS and Matlab for that matter)
and do some processing or reduction before I read it in. It sometimes may
be worth writing a C program, or whatever, if you're having lots of problems
getting and crunching the data in R.


Regards,

Andrew C. Ward

CAPE Centre,
The University of Queensland
Brisbane Qld 4072 Australia
andreww at cheque.uq.edu.au

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nikko at hailmail.net  Thu Jul 18 05:47:09 2002
From: nikko at hailmail.net (Nicholas Lewin-Koh)
Date: 18 Jul 2002 11:47:09 +0800
Subject: [R] survfit on coxph object with weights
Message-ID: <1026964043.26184.11.camel@sta123.stat.nus.edu.sg>

Hi,
I am working on a study where we need to predict individual survival
curves from a cox-model fit with sampling weights. In both R and Splus
the survfit.coxph code starts with 

if(!is.null((object$call)$weights))
  stop("Survfit cannot (yet) compute the result for a weighted model")

My question is does anyone have code to get the expected survival curve,
or even just the base cumulative hazard (H^{\hat}_{0}(t)) ? 

I am surprised that it is not implemented yet since a formula is given
on page 35 of Dr. Therneau's report, "a package for survival analysis in
S" for the base cumulative hazard with weights. I am looking at the
source for survfit.coxph to see if I can fix it myself, but if someone
has they can share I can get my report out and go back and send a patch
later.

Thanks for any help.

Nicholas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rogers at mr.radiology.wisc.edu  Thu Jul 18 05:57:03 2002
From: rogers at mr.radiology.wisc.edu (Baxter Rogers)
Date: Wed, 17 Jul 2002 22:57:03 -0500
Subject: [R] sem: incorrect parameter estimates
Message-ID: <20020717225703.A7854@mr.radiology.wisc.edu>

Hello.

I am getting results from sem that are not correct (that's assuming
that the results from my AMOS 4.0 software are correct).  sem does not
vary some of the parameters substantially from their starting values,
and the final estimates of those parameters as well as the model
chisquare value are incorrect.  I've attached some code that
replicates the problem.  The parameters in question are the residual
variances of the endogenous variables B and C.

A couple of things: the coefficents for the one-headed paths are on a
much different scale than those for the two-headed paths (1e-1 vs
1e6).  I had to supply starting values, because the automatic ones
were not reasonable (1e19) and caused a "singular matrix" error.  Is
this possibly just a numerical issue?

Thanks for any help!

Baxter Rogers




======= begin R code =======

# 071702 Baxter P. Rogers (rogers at mr.radiology.wisc.edu)
#
# Self-contained demonstration of the sem package's failure to modify
# covariances from their starting values.  (This happens for numerical
# or analytic gradient calculation.)  Starting values are supplied
# because the default ones cause a "singular matrix" error.

# covariance matrix
p.cov <- matrix(c( 6330357, 3398673, 3547333, 4764233,
                   3398673, 2618468, 2194462, 2626567,
                   3547333, 2194462, 3128874, 2869895,
                   4764233, 2626567, 2869895, 5171829
                  ), ncol=4, byrow=T)
rownames(p.cov) <- colnames(p.cov) <- c('A','B','C','D')

# RAM specification
p.ram <- matrix(c( 'A->B', 'p1', 0.2,
                   'B->C', 'p2', 0.2,
                   'B<>B', 'p3', 1e6,
                   'D->B', 'p4', 0.2,
                   'C<>C', 'p5', 1e6
                  ), ncol=3, byrow=T)

p.sem <- sem(p.ram, p.cov, 293, fixed.x=c('A','D'), debug=T,
analytic.gradient=F)

print(summary(p.sem))

cat('\n\nFinal parameter values:\n')
print(p.sem$coeff,digits=2)

cat('\nExpected final values (from AMOS software):\n')
cat('5.0e-01 8.4e-01 7.9e+05 4.3e-02 1.3e+06\n\n')

cat('\n\nThe chisquare value from the AMOS fit is 69.7.\n')

====== end R code =======


--
Baxter Rogers (rogers at mr.radiology.wisc.edu)
UW Madison Medical Physics Department, fMRI
Madison, Wisconsin, USA
http://zoot.radiology.wisc.edu/~rogers/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrewr at uidaho.edu  Thu Jul 18 07:03:05 2002
From: andrewr at uidaho.edu (Andrew Robinson)
Date: Wed, 17 Jul 2002 22:03:05 -0700
Subject: [R] Oddity with names
Message-ID: <5.1.0.14.0.20020717213314.02e95e30@uidaho.edu>

Hi all,

I'm using R 1.5.1 on Windows 2000.  The following snippet of code doesn't 
seem to do anything - no error is reported, and there is no name change.

names(myFrame[,c(1:3)]) <- c("name1", "name2", "name3")

This code however works nicely:

names(myFrame)[c(1:3)] <- c("name1", "name2", "name3")

Can anyone suggest why the first doesn't work?  Ought an error be reported?

Thanks,

Andrew

Andrew Robinson                  Phone: 208-885-7115
Department of Forest Resources   Fax:   208-885-6226
University of Idaho              E: andrewr at uidaho.edu
Po Box 441133                    WWW: http://www.uidaho.edu/~andrewr
Moscow, ID 83843                 and: http://www.biometrics.uidaho.edu/
No statement above may be construed to necessarily represent my employer.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From therneau at mayo.edu  Thu Jul 18 06:27:59 2002
From: therneau at mayo.edu (Terry Therneau)
Date: Wed, 17 Jul 2002 23:27:59 -0500 (CDT)
Subject: [R] Re: survfit on coxph object with weights
Message-ID: <200207180427.g6I4RxQ01185@rocky.mayo.edu>

 If you don't need the confidence intervals, which is the part of the formula
that I got hung up on, then there is an easy way to get the survival curve.
(A continual succession of other things to do has kept me from getting back to
this problem.)

   fit <- coxph(Surv(.....  etc etc
   details <- coxph.detail(fit)
   
The coxph.detail routine was originally written for debugging; it returns
nearly every intermediate internal computation that coxph does.

  The cumulative hazard can be plotted as
  
  	plot(details$time, cumsum(details$hazard))
  	   
This is for a hypothetical subject whose covariates are details$means[1,].
For a general subject with covariates x, multiply the cumulative hazard
by exp(sum(fit$coef * (x-details$means)))

	Terry Therneau
	
	  	   
  	   

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nikko at hailmail.net  Thu Jul 18 08:08:27 2002
From: nikko at hailmail.net (Nicholas Lewin-Koh)
Date: 18 Jul 2002 14:08:27 +0800
Subject: [R] Re: survfit on coxph object with weights
In-Reply-To: <200207180427.g6I4RxQ01185@rocky.mayo.edu>
References: <200207180427.g6I4RxQ01185@rocky.mayo.edu>
Message-ID: <1026972516.26216.24.camel@sta123.stat.nus.edu.sg>

Hi,

That was fast! No I don't need the CI's right now, just the predictions.
That did just the trick. I must of looked everywhere in the
documentation except coxph.detail. 

Thank you

Nicholas



On Thu, 2002-07-18 at 12:27, Terry Therneau wrote:
>  If you don't need the confidence intervals, which is the part of the formula
> that I got hung up on, then there is an easy way to get the survival curve.
> (A continual succession of other things to do has kept me from getting back to
> this problem.)
> 
>    fit <- coxph(Surv(.....  etc etc
>    details <- coxph.detail(fit)
>    
> The coxph.detail routine was originally written for debugging; it returns
> nearly every intermediate internal computation that coxph does.
> 
>   The cumulative hazard can be plotted as
>   
>   	plot(details$time, cumsum(details$hazard))
>   	   
> This is for a hypothetical subject whose covariates are details$means[1,].
> For a general subject with covariates x, multiply the cumulative hazard
> by exp(sum(fit$coef * (x-details$means)))
> 
> 	Terry Therneau
> 	
> 	  	   
>   	   
> 
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Thu Jul 18 08:32:39 2002
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Thu, 18 Jul 2002 08:32:39 +0200
Subject: [R] elimination of multiple rows
In-Reply-To: <5.1.0.14.2.20020717191427.01d757a0@mcmail.cis.mcmaster.ca>
References: <2547c25657.256572547c@lbl.gov>
Message-ID: <3.0.6.32.20020718083239.00d9ed20@mail.wsl.ch>

Hi all,

Excuse me for posting a question which may not be true R.

I want to process a text file so that the resulting file contains only one
of possibly multiple consecutive rows. Example (the row numbers do not
belong to the file):

(1) a b c d
(2) a b c d
(3) A b c d
(4) A b c d
(5) A b c d
(6) a b c d
(7) a b c D
..

resulting in:

(1) a b c d
(3) A b c d
(6) a b c d
(7) a b c D
..

(6) could be disposed of also by first sorting the original file.

Does anybody have a script ready, preferably in Pearl? I do not know Pearl
well enough to write it myself.

Thanks for your help.
--christian

Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Dynamics and Spatial Development
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann at wsl.ch
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul 18 08:52:52 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 18 Jul 2002 07:52:52 +0100 (BST)
Subject: [R] Build on Solaris 8 gcc-3.1 fails make check
In-Reply-To: <Pine.GSO.4.05.10207171723590.4997-100000@tajo.ucsd.edu>
Message-ID: <Pine.LNX.4.31.0207180752250.23749-100000@gannet.stats>

I am indeed using gcc 3.1 on Solaris 7, in 32-bit mode.

On Wed, 17 Jul 2002 cberry at tajo.ucsd.edu wrote:

> On 18 Jul 2002, Peter Dalgaard BSA wrote:
>
> > cberry at tajo.ucsd.edu writes:
> >
> > > Dear R-help,
> > >
> > >
> > > I am trying to build R-1.5.1 on a Sun Blade 100 (sparc).
> > >
> > > It fails make check when var(1) returns NaN instead of NA.
> > >
> > > Using gcc-2.95.3 from sunfreeware.com, the build succeeds and passes
> > > make check
> > >
>
> [details deleted]
>
> > Hmm... gcc-3.0.3 on Solaris 7 works OK for me (passes make check
> > anyway). Anyone else tried 3.1? I suspect that Brian would.
> >
> > I trust that you made sure that you did a clean build and didn't get
> > libraries mixed up or something?
>
> You mean a clean build of R?
>
> I can't see what would have been a problem, but I am not very familiar
> with this and might easily overlook something. Advice appreciated. I
> looked for lib's with the same names - apart from 64 and 32 bit libs of
> the same name and symlinks I saw no duplicates.
>
> If you mean a clean build of gcc-3.1, I skipped the dejagnus checks
> before the attempt to build R. I am running them now. All pass, so far.
>
> Chuck
>
>
>
> Charles C. Berry                        (858) 534-2098
>                                          Dept of Family/Preventive Medicine
> E mailto:cberry at tajo.ucsd.edu	         UC San Diego
> http://hacuna.ucsd.edu/members/ccb.html  La Jolla, San Diego 92093-0645
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul 18 09:01:09 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 18 Jul 2002 08:01:09 +0100 (BST)
Subject: [R] Oddity with names
In-Reply-To: <5.1.0.14.0.20020717213314.02e95e30@uidaho.edu>
Message-ID: <Pine.LNX.4.31.0207180758360.23749-100000@gannet.stats>

On Wed, 17 Jul 2002, Andrew Robinson wrote:

> Hi all,
>
> I'm using R 1.5.1 on Windows 2000.  The following snippet of code doesn't
> seem to do anything - no error is reported, and there is no name change.
>
> names(myFrame[,c(1:3)]) <- c("name1", "name2", "name3")
>
> This code however works nicely:
>
> names(myFrame)[c(1:3)] <- c("name1", "name2", "name3")
>
> Can anyone suggest why the first doesn't work?  Ought an error be reported?

It does work.  It creates a new object myFrame[,c(1:3)] and changes its
names.  That's not what you wanted, but R is your servant not your master
and does allow you to do such things.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul 18 09:04:22 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 18 Jul 2002 08:04:22 +0100 (BST)
Subject: [R] elimination of multiple rows
In-Reply-To: <3.0.6.32.20020718083239.00d9ed20@mail.wsl.ch>
Message-ID: <Pine.LNX.4.31.0207180802160.23749-100000@gannet.stats>

unique() has a method for data frames that will do this (although
your example and description differ: your example is not `consecutive').

I don't know `Pearl' either, but suspect you meant PERL.

On Thu, 18 Jul 2002, Christian Hoffmann wrote:

> Hi all,
>
> Excuse me for posting a question which may not be true R.
>
> I want to process a text file so that the resulting file contains only one
> of possibly multiple consecutive rows. Example (the row numbers do not
> belong to the file):
>
> (1) a b c d
> (2) a b c d
> (3) A b c d
> (4) A b c d
> (5) A b c d
> (6) a b c d
> (7) a b c D
> ..
>
> resulting in:
>
> (1) a b c d
> (3) A b c d
> (6) a b c d
> (7) a b c D
> ..
>
> (6) could be disposed of also by first sorting the original file.
>
> Does anybody have a script ready, preferably in Pearl? I do not know Pearl
> well enough to write it myself.
>
> Thanks for your help.
> --christian
>
> Dr.sc.math.Christian W. Hoffmann
> Mathematics and Statistical Computing
> Landscape Dynamics and Spatial Development
> Swiss Federal Research Institute WSL
> Zuercherstrasse 111
> CH-8903 Birmensdorf, Switzerland
> phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
> e-mail: christian.hoffmann at wsl.ch
> www: http://www.wsl.ch/staff/christian.hoffmann/
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pcovelli at tin.it  Thu Jul 18 10:48:34 2002
From: pcovelli at tin.it (Paolo Covelli)
Date: Thu, 18 Jul 2002 10:48:34 +0200
Subject: [R] plot 3d
Message-ID: <004f01c22e37$e7ba9940$cb0f6850@paolo>

Hi
is it possible to plot 3D functions in graphic window, such as f (x,y) = x^2
+ y^2. I have no found indications in Help_R.
(thanks for your answers to my preceding questions)

Thanks in advance

Paolo

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mww at fss.org.uk  Thu Jul 18 10:50:43 2002
From: mww at fss.org.uk (White, Dr M)
Date: Thu, 18 Jul 2002 09:50:43 +0100
Subject: [R] Plotting Clustering Groups Separately
Message-ID: <07CFB5D21C3ED411AB7200508BCF7F89031F9DA4@EMAIL2>

Hi
As a beginer with R I have been trying to plot dendrograms for individual
groups after using cutree.
The example in the help files appears to work fine for Euclidean distances
using the "average" clustering method. However, when I use the "Ward" method
the the reprocessed subgroup does not appear to have the same structure as
it did when the whole dataset was processed.

Is there another way of plotting groups separately after using cutree?


Thanks
Mike White



This E-mail and any files transmitted are private and intended solely for the use of the individual or entity to whom they are
addressed. If you receive this E-mail in error, please notify ITSecurity at fss.org.uk and delete it from your system.
This E-mail has been swept for the presence of computer viruses.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jul 18 11:15:24 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 18 Jul 2002 11:15:24 +0200
Subject: [R] plot 3d
References: <004f01c22e37$e7ba9940$cb0f6850@paolo>
Message-ID: <3D36872C.C6EC70BD@statistik.uni-dortmund.de>



Paolo Covelli wrote:
> 
> Hi
> is it possible to plot 3D functions in graphic window, such as f (x,y) = x^2
> + y^2. I have no found indications in Help_R.
> (thanks for your answers to my preceding questions)

See ?persp.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at paleo.ija.csic.es  Thu Jul 18 12:11:56 2002
From: alobo at paleo.ija.csic.es (Agustin Lobo)
Date: Thu, 18 Jul 2002 12:11:56 +0200 (MET DST)
Subject: [R] R INSTALL: problem related to LD_LIBRARY_PATH
Message-ID: <Pine.OSF.3.96.1020718120256.4835C-100000@paleo>


Well, I've found that the line in INSTALL
that gives the problem is
gzip -dc "${1}" | (cd "${tmpdir}" && tar -xf -)
("tar: /usr/local/lib/libpthread.so.0: version `GLIBC_2.2' not found
(required by /lib/librt.so.1)")

If I run that command from the shell, i.e.,

gzip -dc KernSmooth_2.22-7.tar.gz | (cd /tmp/R.INSTALL.2186 && tar -xf -)

it runs ok.

I've compared my environment setings within R INSTALL and outside R
INSTALL and found that a major difference is that 
in my shell I do not have LD_LIBRARY_PATH set to anything, while R
sets LD_LIBRARY_PATH to:

LD_LIBRARY_PATH=/usr/local/lib/R/bin:/usr/local/lib:/usr/local/lib:/usr/local/lib:
/usr/lib/gcc-lib/i486-suse-linux/2.95.3:/usr/i486-suse-linux/lib:/usr/X11/lib:/usr/lib:/usr/lib:
/usr/X11R6/lib:/usr/lib:/usr/lib:/usr/lib

If I include 
unset LD_LIBRARY_PATH 

in INSTALL, R INSTALL works.

Therefore, it's clear that I have a problem with the LD_LIBRARY_PATH env.
var. that is set by R.

Does anyone know what can be wrong with my R LD_LIBRARY_PATH ?

Thanks

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul 18 12:12:28 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 18 Jul 2002 11:12:28 +0100 (BST)
Subject: [R] R GUI and object browser
In-Reply-To: <20020717215418.GA26757@hortresearch.co.nz>
Message-ID: <Pine.LNX.4.31.0207181111410.29262-100000@gannet.stats>

On Thu, 18 Jul 2002, Patrick Connolly wrote:

> On Wed, 17-Jul-2002 at 07:39AM +0100, Prof Brian D Ripley wrote:
>
> |> This may be appealing, but
> |>
> |> 1) R objects such as lists have shared components. You get the creation
> |> date of the object, not of it components, and in any case I suspect you
> |> want the last modification date.
>
> That's true.  I'm interested to know when I last did something to it.
> For functions, I have the creation already from the nifty feature in
> ESS called ess-insert-function-outline.
>
> My method of using the comment to store the date is at least as simple
> as the one Dan Putler suggests and it can apply to any object.  I have
> no other use for comment since I annotate the file of commands I use
> to keep me informed of the raison d'etre for each object.
>
> [....]
>
> |> The only clean way I can see to do this would be to alter the internal
> |> structure to store a creation date in a SEXPREC.
>
> That's sounds along the lines of what I had in mind, but I had no idea
> what it would involve.
>
> |> That would add some memory overhead (but less than attributes).  It
> |> looks doable, but I remain unconvinced it is worthwhile.
>
> If hardly anyone agrees with me that the dates are useful to know,
> it's certainly not worthwhile.  I'm not unhappy doing things the way I
> do, inelegant though it is and it doesn't seem as though there's a
> great clamour for such functionality.  However, if there were, what
> would I need to know to be able to contribute to the effort that would
> be involved?

You would need a detailed understanding of the way R handles SEXPRECS.
I don't think many people do.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jul 18 12:34:50 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Jul 2002 12:34:50 +0200
Subject: [R] R INSTALL: problem related to LD_LIBRARY_PATH
In-Reply-To: <Pine.OSF.3.96.1020718120256.4835C-100000@paleo>
References: <Pine.OSF.3.96.1020718120256.4835C-100000@paleo>
Message-ID: <x2wurte33p.fsf@biostat.ku.dk>

Agustin Lobo <alobo at paleo.ija.csic.es> writes:

> Well, I've found that the line in INSTALL
> that gives the problem is
> gzip -dc "${1}" | (cd "${tmpdir}" && tar -xf -)
> ("tar: /usr/local/lib/libpthread.so.0: version `GLIBC_2.2' not found
> (required by /lib/librt.so.1)")
> 
> If I run that command from the shell, i.e.,
> 
> gzip -dc KernSmooth_2.22-7.tar.gz | (cd /tmp/R.INSTALL.2186 && tar -xf -)
> 
> it runs ok.
> 
> I've compared my environment setings within R INSTALL and outside R
> INSTALL and found that a major difference is that 
> in my shell I do not have LD_LIBRARY_PATH set to anything, while R
> sets LD_LIBRARY_PATH to:
> 
> LD_LIBRARY_PATH=/usr/local/lib/R/bin:/usr/local/lib:/usr/local/lib:/usr/local/lib:
> /usr/lib/gcc-lib/i486-suse-linux/2.95.3:/usr/i486-suse-linux/lib:/usr/X11/lib:/usr/lib:/usr/lib:
> /usr/X11R6/lib:/usr/lib:/usr/lib:/usr/lib
> 
> If I include 
> unset LD_LIBRARY_PATH 
> 
> in INSTALL, R INSTALL works.
> 
> Therefore, it's clear that I have a problem with the LD_LIBRARY_PATH env.
> var. that is set by R.
> 
> Does anyone know what can be wrong with my R LD_LIBRARY_PATH ?

This is really Kurt's domain, but the absence of /lib in the path
looks suspicious. You could try inserting it manually (and get rid of
the duplicates). Also, are you sure you want to pick up libpthread
from /usr/local (could this be an old version)?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From CJSwanepoel at t-online.de  Thu Jul 18 12:35:37 2002
From: CJSwanepoel at t-online.de (CJSwanepoel@t-online.de)
Date: Thu, 18 Jul 2002 12:35:37 +0200 (CEST)
Subject: [R] boxplot $conf
Message-ID: <1026987857.3d3697516908e@webmail.t-online.de>

Hello R-Help,

Could anybody tell me how the boxplot-function calculates the upper
and
lower extremes of the notch contained in $conf which I assume is the
confidence interval? Is it reliable for data which is not normally
distributed? If not, how can I calculate and boxplot a specific
confidence interval for not normally distributed data in R (increasing
the sample size does not normalize the sample distribution)?

Any help would be greatly appreciated.

Regards.

Chris Swanepoel
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul 18 12:59:38 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 18 Jul 2002 11:59:38 +0100 (GMT Daylight Time)
Subject: [R] R INSTALL: problem related to LD_LIBRARY_PATH
In-Reply-To: <x2wurte33p.fsf@biostat.ku.dk>
Message-ID: <Pine.WNT.4.44.0207181150070.2128-100000@gannet.stats.ox.ac.uk>

On 18 Jul 2002, Peter Dalgaard BSA wrote:

> Agustin Lobo <alobo at paleo.ija.csic.es> writes:
>
> > Well, I've found that the line in INSTALL
> > that gives the problem is
> > gzip -dc "${1}" | (cd "${tmpdir}" && tar -xf -)
> > ("tar: /usr/local/lib/libpthread.so.0: version `GLIBC_2.2' not found
> > (required by /lib/librt.so.1)")
> >
> > If I run that command from the shell, i.e.,
> >
> > gzip -dc KernSmooth_2.22-7.tar.gz | (cd /tmp/R.INSTALL.2186 && tar -xf -)
> >
> > it runs ok.
> >
> > I've compared my environment setings within R INSTALL and outside R
> > INSTALL and found that a major difference is that
> > in my shell I do not have LD_LIBRARY_PATH set to anything, while R
> > sets LD_LIBRARY_PATH to:
> >
> > LD_LIBRARY_PATH=/usr/local/lib/R/bin:/usr/local/lib:/usr/local/lib:/usr/local/lib:
> > /usr/lib/gcc-lib/i486-suse-linux/2.95.3:/usr/i486-suse-linux/lib:/usr/X11/lib:/usr/lib:/usr/lib:
> > /usr/X11R6/lib:/usr/lib:/usr/lib:/usr/lib
> >
> > If I include
> > unset LD_LIBRARY_PATH
> >
> > in INSTALL, R INSTALL works.
> >
> > Therefore, it's clear that I have a problem with the LD_LIBRARY_PATH env.
> > var. that is set by R.
> >
> > Does anyone know what can be wrong with my R LD_LIBRARY_PATH ?
>
> This is really Kurt's domain, but the absence of /lib in the path
> looks suspicious. You could try inserting it manually (and get rid of
> the duplicates). Also, are you sure you want to pick up libpthread
> from /usr/local (could this be an old version)?

The next check I would do would be `ldd tar' both with LD_LIBRARY_PATH set
and unset.  That should tell you what is being found in different places.
I agree with Peter: /usr/local/lib looks to contain incompatible versions,
probably older ones.  You may want to set LDFLAGS when building R to
exclude /usr/local/lib if you can't clean up the incompatibilities.

It is intentional that /usr/local/lib precedes /usr/lib, and AFAIK the
standard places (/usr/lib, /lib if different) are searched after those in
LD_LIBRARY_PATH.  Some Unixes have /usr/local/lib in the standard places,
but these days most do not.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at paleo.ija.csic.es  Thu Jul 18 13:52:57 2002
From: alobo at paleo.ija.csic.es (Agustin Lobo)
Date: Thu, 18 Jul 2002 13:52:57 +0200 (MET DST)
Subject: [R] R INSTALL: problem related to LD_LIBRARY_PATH
In-Reply-To: <Pine.WNT.4.44.0207181150070.2128-100000@gannet.stats.ox.ac.uk>
Message-ID: <Pine.OSF.3.96.1020718131727.4835D-100000@paleo>


A solution to the problem has been including 
/lib in the first place in the definition of LD_LIBRARY_PATH
in the R script, but, as BRD says, this might not be
the correct order.

Therefore, I've located the libpthread.so.0 files and...
I do not have a duplicate, I have a triplicate!

> locate libpthread.so.0
/lib/libpthread.so.0
/usr/local/lib/libpthread.so.0
/usr/local/openev/Linux/lib/libpthread.so.0

the newest is in /usr/local/lib, but probably is an older
version that was installed by who knows what software.

Is there any way I could check the versions of these libpthread.so.0
files? 

By now, what I've done has been to rename 
/usr/local/lib/libpthread.so.0 
to
/usr/local/lib/libpthread.so.0_maybeolder

and, now, even without including /lib in LD_LIBRARY_PATH,
R INSTALL works fine.

Thanks for your help!

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Thu, 18 Jul 2002, Prof Brian D Ripley wrote:

> On 18 Jul 2002, Peter Dalgaard BSA wrote:
> 
> > Agustin Lobo <alobo at paleo.ija.csic.es> writes:
> >
> > > Well, I've found that the line in INSTALL
> > > that gives the problem is
> > > gzip -dc "${1}" | (cd "${tmpdir}" && tar -xf -)
> > > ("tar: /usr/local/lib/libpthread.so.0: version `GLIBC_2.2' not found
> > > (required by /lib/librt.so.1)")
> > >
> > > If I run that command from the shell, i.e.,
> > >
> > > gzip -dc KernSmooth_2.22-7.tar.gz | (cd /tmp/R.INSTALL.2186 && tar -xf -)
> > >
> > > it runs ok.
> > >
> > > I've compared my environment setings within R INSTALL and outside R
> > > INSTALL and found that a major difference is that
> > > in my shell I do not have LD_LIBRARY_PATH set to anything, while R
> > > sets LD_LIBRARY_PATH to:
> > >
> > > LD_LIBRARY_PATH=/usr/local/lib/R/bin:/usr/local/lib:/usr/local/lib:/usr/local/lib:
> > > /usr/lib/gcc-lib/i486-suse-linux/2.95.3:/usr/i486-suse-linux/lib:/usr/X11/lib:/usr/lib:/usr/lib:
> > > /usr/X11R6/lib:/usr/lib:/usr/lib:/usr/lib
> > >
> > > If I include
> > > unset LD_LIBRARY_PATH
> > >
> > > in INSTALL, R INSTALL works.
> > >
> > > Therefore, it's clear that I have a problem with the LD_LIBRARY_PATH env.
> > > var. that is set by R.
> > >
> > > Does anyone know what can be wrong with my R LD_LIBRARY_PATH ?
> >
> > This is really Kurt's domain, but the absence of /lib in the path
> > looks suspicious. You could try inserting it manually (and get rid of
> > the duplicates). Also, are you sure you want to pick up libpthread
> > from /usr/local (could this be an old version)?
> 
> The next check I would do would be `ldd tar' both with LD_LIBRARY_PATH set
> and unset.  That should tell you what is being found in different places.
> I agree with Peter: /usr/local/lib looks to contain incompatible versions,
> probably older ones.  You may want to set LDFLAGS when building R to
> exclude /usr/local/lib if you can't clean up the incompatibilities.
> 
> It is intentional that /usr/local/lib precedes /usr/lib, and AFAIK the
> standard places (/usr/lib, /lib if different) are searched after those in
> LD_LIBRARY_PATH.  Some Unixes have /usr/local/lib in the standard places,
> but these days most do not.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dray at biomserv.univ-lyon1.fr  Thu Jul 18 14:49:20 2002
From: dray at biomserv.univ-lyon1.fr (Stephane Dray)
Date: Thu, 18 Jul 2002 14:49:20 +0200
Subject: [R] RODBC and Excel Files
Message-ID: <a05010400b95c67aec1f7@[134.214.32.69]>

Hello,
I am trying to play with RODBC library and Excel Files. In my file 
(doubs.xls) there are 2 spreadsheets:

>  library(RODBC)
>  connection<-odbcConnect("Excel Files")
>  sqlTables(connection)
          TABLE_CAT TABLE_SCHEM TABLE_NAME   TABLE_TYPE REMARKS
1 F:\\Th?se\\R\\Doubs          NA     Faune$ SYSTEM TABLE      NA
2 F:\\Th?se\\R\\Doubs          NA    Milieu$ SYSTEM TABLE      NA

I have two problems.


(1) For loading the tables in R, I use

>  sqlFetch(connection,"Faune$")
[1] "37000 -3506 [Microsoft][Pilote ODBC Excel] Erreur de syntaxe 
dans la clause FROM."
[2] "[RODBC]ERROR: Could not SQLPrepare"

There is a syntax error (probably to name the table) but i don't find 
the answer.. (if you know it..)
To solve this problem, I use an alternative:
>  sqlQuery(connection,"select * from [Faune$]")[1:5,]
   a b c d e f g h i j k l m n o p q r s t u v w x y z +
1 0 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
2 0 5 4 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
3 0 5 5 5 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0
4 0 4 5 5 0 0 0 0 0 1 0 0 1 2 2 0 0 0 0 1 0 0 0 0 0 0 0
5 0 2 3 2 0 0 0 0 5 2 0 0 2 4 4 0 0 2 0 3 0 0 0 5 0 0 0

and it works fine....

(2) I have another problem to save a data frame in my xls file and 
for this case i do not have any alternatives:

>  sqlSave(connection,fau01,verbose=T)
[1] "CREATE TABLE fau01  (a varchar(255)  ,b varchar(255)  ,c 
varchar(255)  ,d varchar(255)  ,e varchar(255)  ,f varchar(255)  ,g 
varchar(255)  ,h varchar(255)  ,i varchar(255)  ,j varchar(255)  ,k 
varchar(255)  ,l varchar(255)  ,m varchar(255)  ,n varchar(255)  ,o 
varchar(255)  ,p varchar(255)  ,q varchar(255)  ,r varchar(255)  ,s 
varchar(255)  ,t varchar(255)  ,u varchar(255)  ,v varchar(255)  ,w 
varchar(255)  ,x varchar(255)  ,y varchar(255)  ,z varchar(255)  , 
varchar(255)  )"
Error in sqlColumns(channel, tablename) : fau01 :table not found on channel 0


How can i save my dataframe ???

Thanks in advance.

-- 
St?phane DRAY
---------------------------------------------------------------
Biom?trie et Biologie ?volutive - Equipe "?cologie Statistique"
Universite Lyon 1 - Bat 711 - 69622 Villeurbanne CEDEX - France

Tel : 04 72 43 27 56			   Fax : 04 78 89 27 19
       04 72 43 27 57 	   E-mail : dray at biomserv.univ-lyon1.fr 
---------------------------------------------------------------
ADE-4               http://pbil.univ-lyon1.fr/ADE-4/ADE-4F.html
---------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Thu Jul 18 14:59:23 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu, 18 Jul 2002 08:59:23 -0400
Subject: [R] boxplot $conf
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC4C8@usrymx10.merck.com>

> From: CJSwanepoel at t-online.de [mailto:CJSwanepoel at t-online.de]
> 
> Hello R-Help,
> 
> Could anybody tell me how the boxplot-function calculates the upper
> and
> lower extremes of the notch contained in $conf which I assume is the
> confidence interval? Is it reliable for data which is not normally
> distributed? If not, how can I calculate and boxplot a specific
> confidence interval for not normally distributed data in R (increasing
> the sample size does not normalize the sample distribution)?

Looking at the body of the function boxplot.stats, the CI for median (the
notches in the boxplot) is calculated as:

  median +/- 1.58 * box length / sqrt(n)

where box length is roughly the IQR (75th percentile - 25th percentile)
[technically, it's the "H-spread").  Description and explanation can be
found on page 79 of "ABC of EDA" by Vellman & Hoaglin.  It's based on normal
approximation, but for large sample this is suppose to be a very good
approximation.

HTH,
Andy

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jday at csihq.com  Thu Jul 18 15:00:48 2002
From: jday at csihq.com (John Day)
Date: Thu, 18 Jul 2002 09:00:48 -0400
Subject: [R] elimination of multiple rows
In-Reply-To: <3.0.6.32.20020718083239.00d9ed20@mail.wsl.ch>
References: <5.1.0.14.2.20020717191427.01d757a0@mcmail.cis.mcmaster.ca>
 <2547c25657.256572547c@lbl.gov>
Message-ID: <4.3.2.7.0.20020718085233.029427b0@mail.csihq.com>

Christian,

Sounds like you want something that can run as a preprocess step from the 
command line. If so (and if you're in Unix) you can use 'uniq', which will 
remove any adjacent dupe lines, but otherwise leave the file in the 
original order:

 > uniq myfile > umyfile

If you really want to get rid of _all_ dupes then sort first:

 > sort myfile | uniq > umyfile
OR
 > sort -u myfile > umyfile

BTW, 'uniq' has a nifty -c  option which counts the number of dupes and can 
be used to create a useful 'histogram', sorted by frequency. Must sort 
first to make this work and then sort again after the uniq to arrange in 
descending order:

sort myfile | uniq -c | sort -r -n

HTH,

John Day
Staff Scientist
Computer Science Innovations
Melbourne, FL
http://www.csi.cc/~jday

At 08:32 AM 7/18/02 +0200, you wrote:
>Hi all,
>
>Excuse me for posting a question which may not be true R.
>
>I want to process a text file so that the resulting file contains only one
>of possibly multiple consecutive rows. Example (the row numbers do not
>belong to the file):
>
>(1) a b c d
>(2) a b c d
>(3) A b c d
>(4) A b c d
>(5) A b c d
>(6) a b c d
>(7) a b c D
>..
>
>resulting in:
>
>(1) a b c d
>(3) A b c d
>(6) a b c d
>(7) a b c D
>..
>
>(6) could be disposed of also by first sorting the original file.
>
>Does anybody have a script ready, preferably in Pearl? I do not know Pearl
>well enough to write it myself.
>
>Thanks for your help.
>--christian
>
>Dr.sc.math.Christian W. Hoffmann
>Mathematics and Statistical Computing
>Landscape Dynamics and Spatial Development
>Swiss Federal Research Institute WSL
>Zuercherstrasse 111
>CH-8903 Birmensdorf, Switzerland
>phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
>e-mail: christian.hoffmann at wsl.ch
>www: http://www.wsl.ch/staff/christian.hoffmann/
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu Jul 18 15:30:23 2002
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 18 Jul 2002 09:30:23 -0400
Subject: [R] sem: incorrect parameter estimates
In-Reply-To: <20020717225703.A7854@mr.radiology.wisc.edu>
Message-ID: <5.1.0.14.2.20020718091050.01d76318@mcmail.cis.mcmaster.ca>

Dear Baxter,

I suspect that there's a numerical problem here in nlm (the minimizer that 
sem uses) because of the different magnitudes of the parameters. I found 
that sem required 7 iterations even when it is started at the correct solution.

When I tried fitting the model to standardized variables, I got the correct 
solution immediately:

     > p.sd <- sqrt(diag(p.cov))
     > p.cor <- p.cov/outer(p.sd, p.sd)
     > p.ram.cor <- matrix(c( 'A->B', 'p1', NA,
     +                    'B->C', 'p2', NA,
     +                    'B<>B', 'p3', NA,
     +                    'D->B', 'p4', NA,
     +                    'C<>C', 'p5', NA
     +                   ), ncol=3, byrow=T)
     >
     > p.sem.cor <- sem(p.ram.cor, p.cor, 293, fixed.x=c('A','D'))
     > p.sem.cor

     Model Chisquare =  69.73743   Df =  2

             p1         p2         p3         p4         p5
     0.78408275 0.76667339 0.30200657 0.06088651 0.41221191

     Iterations =  0

This is as it should be, since for this model, the OLS estimates computed 
for the start values are the FIML estimates.

It seems to me that there are two issues here: (1) The different magnitudes 
of the parameters are causing problems. I may be able to improve the way 
sem passes the optimization problem to nlm. I'll take a look at this. (2) 
In some cases the start values produced by sem are not good, particularly 
for models with unstandardized variables. I've fiddled with this problem a 
bit without much success, which is primarily why I've kept sem below 
version 1.0. When I have a chance, I'll take another look at the start values.

Thanks for this example,
  John

At 10:57 PM 7/17/2002 -0500, Baxter Rogers wrote:
>Hello.
>
>I am getting results from sem that are not correct (that's assuming
>that the results from my AMOS 4.0 software are correct).  sem does not
>vary some of the parameters substantially from their starting values,
>and the final estimates of those parameters as well as the model
>chisquare value are incorrect.  I've attached some code that
>replicates the problem.  The parameters in question are the residual
>variances of the endogenous variables B and C.
>
>A couple of things: the coefficents for the one-headed paths are on a
>much different scale than those for the two-headed paths (1e-1 vs
>1e6).  I had to supply starting values, because the automatic ones
>were not reasonable (1e19) and caused a "singular matrix" error.  Is
>this possibly just a numerical issue?
>
>Thanks for any help!
>
>Baxter Rogers
>
>
>
>
>======= begin R code =======
>
># 071702 Baxter P. Rogers (rogers at mr.radiology.wisc.edu)
>#
># Self-contained demonstration of the sem package's failure to modify
># covariances from their starting values.  (This happens for numerical
># or analytic gradient calculation.)  Starting values are supplied
># because the default ones cause a "singular matrix" error.
>
># covariance matrix
>p.cov <- matrix(c( 6330357, 3398673, 3547333, 4764233,
>                    3398673, 2618468, 2194462, 2626567,
>                    3547333, 2194462, 3128874, 2869895,
>                    4764233, 2626567, 2869895, 5171829
>                   ), ncol=4, byrow=T)
>rownames(p.cov) <- colnames(p.cov) <- c('A','B','C','D')
>
># RAM specification
>p.ram <- matrix(c( 'A->B', 'p1', 0.2,
>                    'B->C', 'p2', 0.2,
>                    'B<>B', 'p3', 1e6,
>                    'D->B', 'p4', 0.2,
>                    'C<>C', 'p5', 1e6
>                   ), ncol=3, byrow=T)
>
>p.sem <- sem(p.ram, p.cov, 293, fixed.x=c('A','D'), debug=T,
>analytic.gradient=F)
>
>print(summary(p.sem))
>
>cat('\n\nFinal parameter values:\n')
>print(p.sem$coeff,digits=2)
>
>cat('\nExpected final values (from AMOS software):\n')
>cat('5.0e-01 8.4e-01 7.9e+05 4.3e-02 1.3e+06\n\n')
>
>cat('\n\nThe chisquare value from the AMOS fit is 69.7.\n')
>
>====== end R code =======
>
>
>--
>Baxter Rogers (rogers at mr.radiology.wisc.edu)
>UW Madison Medical Physics Department, fMRI
>Madison, Wisconsin, USA
>http://zoot.radiology.wisc.edu/~rogers/
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Thu Jul 18 15:57:11 2002
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 18 Jul 2002 09:57:11 -0400
Subject: [R] Shared components?
Message-ID: <k2idjukm5tdf90h08obqqatr24rejl1f27@4ax.com>

>Date: Wed, 17 Jul 2002 07:39:06 +0100 (BST)
>From: Prof Brian D Ripley <ripley at stats.ox.ac.uk>
>Subject: Re: [R] R GUI and object browser
>
>This may be appealing, but
>
>1) R objects such as lists have shared components. You get the creation
>date of the object, not of it components, and in any case I suspect you
>want the last modification date.

Do you mean that it is possible for a user to have an object appear in
two lists, or just that this is done internally?  

For an example of the former, I'm wondering if it's possible to have
list1$A and list2$A be the same thing, so that changes to list1$A
affect list2$A as well.

I think it used to be possible to do this using .Alias, but I thought
the support for it had been dropped, as it caused too many problems.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul 18 16:18:05 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 18 Jul 2002 15:18:05 +0100 (BST)
Subject: [R] Shared components?
In-Reply-To: <k2idjukm5tdf90h08obqqatr24rejl1f27@4ax.com>
Message-ID: <Pine.LNX.4.31.0207181503150.1373-100000@gannet.stats>

On Thu, 18 Jul 2002, Duncan Murdoch wrote:

> >Date: Wed, 17 Jul 2002 07:39:06 +0100 (BST)
> >From: Prof Brian D Ripley <ripley at stats.ox.ac.uk>
> >Subject: Re: [R] R GUI and object browser
> >
> >This may be appealing, but
> >
> >1) R objects such as lists have shared components. You get the creation
> >date of the object, not of it components, and in any case I suspect you
> >want the last modification date.
>
> Do you mean that it is possible for a user to have an object appear in
> two lists, or just that this is done internally?
>
> For an example of the former, I'm wondering if it's possible to have
> list1$A and list2$A be the same thing, so that changes to list1$A
> affect list2$A as well.
>
> I think it used to be possible to do this using .Alias, but I thought
> the support for it had been dropped, as it caused too many problems.

It's possible at C level, but not (intentionally) at R level.  At R level,
the supposition is that an object will be copied when it is changed, if
necessary (but from time to time the implementation has been faulty).
However, in a .Call/.Internal/.External call, it is up to the programmer
whether to copy objects or not, and sometimes the choice is not to (e.g.
in the current ts code).   (Also by using .C/.Fortran with dup=FALSE.)

My main point was that the creation date of a list and of its components
may be very different, and one probably does not want the creation date of
the list itself.  It's a similar issue in finding the size of an object.
As I understand it, both are unambiguous in saved S objects, where a file
is written out containing all the object, and the file modification date
is that of the object.  (S objects in memory, including the session
database, are less clearcut.)  On the other hand, a R saved workspace
may well contain shared components.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Thu Jul 18 16:32:16 2002
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 18 Jul 2002 09:32:16 -0500
Subject: [R] problem formatting data frames
References: <2547c25657.256572547c@lbl.gov>
	<007201c22dfc$e4e5f740$67e86682@cheque.uq.edu.au>
Message-ID: <87adoprtsf.fsf@lumen.indyrad.iupui.edu>

>>>>> "Andrew" == Andrew C Ward <andreww at cheque.uq.edu.au> writes:

    > I would usually use something like 
    >    gawk ' BEGIN {FS="\t"} {if (NF==8) print $0 }' file.dat 

I tend to do the same sort of thing.  I'll usually just comment
out the lines I want to omit.  For example, if I know that the
lines I want to omit include the string 'error', I'd use

  gawk '{ if (/error/) { print "#", $0 } else { print $0 } }' file.dat > file.dat.commented

If I want to remove any line with an NA in it, I'd use

  gawk '{ if (/NA/) { print "#", $0 } else { print $0 } }' file.dat > file.dat.commented

Then, from R, I read'em with read.table.  

Mike
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metrinomics.de  Thu Jul 18 17:03:28 2002
From: c.schulz at metrinomics.de (Christian Schulz)
Date: Thu, 18 Jul 2002 17:03:28 +0200
Subject: [R] tseries (get.hist.quote)
Message-ID: <3D36D8C0.10008@metrinomics.de>

Hi,
i really positive surprised when i found the  "get.hist.quote"   but 
didn't now
why i get with the examples from Online-Help  errorMessages.

Perhaps their is a problem with POSIX and my OS WIN2000/R1.5.1 ?

Thanks for advance & regards,Christian


$ ibm <- get.hist.quote(instrument = "ibm",  start = "1998-01-01")
trying URL ` 
http://chart.yahoo.com/table.csv?s=ibm&a=01&b=01&c=1998&d=07&e=17&f=2002&g=d&q=q&y=0&z=ibm&x=.csv 
'
Content type `application/octet-stream' length unknown
opened URL
downloaded 48Kb

time series starts 1998-01-02
Error in fromchar(x) : character string is not in a standard unambiguous 
format



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul 18 17:18:05 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 18 Jul 2002 16:18:05 +0100 (BST)
Subject: [R] tseries (get.hist.quote)
In-Reply-To: <3D36D8C0.10008@metrinomics.de>
Message-ID: <Pine.LNX.4.31.0207181602320.1435-100000@gannet.stats>

This has been in the R-bugs database, twice.  The problem is that you are
(I presume) using an non-English locale to read English dates. To allow
this, get.hist.quote attempts to change to the `C' locale.  The way
strptime() was implemented on Windows did not allow for locale-changing
during a session, but that was changed for 1.5.1, and certainly works when
my machine is put in a German locale (which it did not do under 1.5.0).

Try setting your machine to an English locale.  If anyone who is in a
non-English locale can reproduce this with 1.5.1 and find a fix, please
submit a patch.

On Thu, 18 Jul 2002, Christian Schulz wrote:

> Hi,
> i really positive surprised when i found the  "get.hist.quote"   but
> didn't now
> why i get with the examples from Online-Help  errorMessages.
>
> Perhaps their is a problem with POSIX and my OS WIN2000/R1.5.1 ?

(There definitely is.  Windows thinks I am on GMT Daylight Time, for
example.)

> Thanks for advance & regards,Christian
>
>
> $ ibm <- get.hist.quote(instrument = "ibm",  start = "1998-01-01")
> trying URL `
> http://chart.yahoo.com/table.csv?s=ibm&a=01&b=01&c=1998&d=07&e=17&f=2002&g=d&q=q&y=0&z=ibm&x=.csv
> '
> Content type `application/octet-stream' length unknown
> opened URL
> downloaded 48Kb
>
> time series starts 1998-01-02
> Error in fromchar(x) : character string is not in a standard unambiguous
> format
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From heberto.ghezzo at mcgill.ca  Thu Jul 18 17:17:08 2002
From: heberto.ghezzo at mcgill.ca (R. Heberto Ghezzo)
Date: Thu, 18 Jul 2002 11:17:08 -0400
Subject: [R] problem with substitute
Message-ID: <3D36DBF2.6F2664C0@mcgill.ca>

Hello, I have a data base with variables pasthma,kasthma,sex,etc.
I wrote a program to compute the Kappa statistic between pasthma and
kasthma.
Actually "did the child had asthma" answered by the parents and by the
child.
kappa <- function(x) {
  r <- paste("p",evaluate(x),sep="")
 c <- paste("k",evaluate(x),sep="")
 a <- table(r,c)
...
}
If I call "kappa(asthma)" it works as expected ( "by me"). But if I call

"kappa(asthma[sex==1])" it does not because of evaluate
 r is "p["  "pasthma"  "psex==1" and I intended to be "pasthma[sex==1]"
Is there a way around, or I am using the wrong approach?
Thanks for any help
.
Heberto Ghezzo Ph.D.
McGill University
Montreal - Canada


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul 18 17:32:05 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 18 Jul 2002 16:32:05 +0100 (BST)
Subject: [R] problem with substitute
In-Reply-To: <3D36DBF2.6F2664C0@mcgill.ca>
Message-ID: <Pine.LNX.4.31.0207181627500.1506-100000@gannet.stats>

There is no standard R function `evaluate'.  What is its definition?

I suspect you need

kappa <- function(x)
{
    xx <- deparse(substitute(x), 500)
    a <- table(paste("p", xx, sep=""), paste("k", xx, sep=""))
    ...
}

On Thu, 18 Jul 2002, R. Heberto Ghezzo wrote:

> Hello, I have a data base with variables pasthma,kasthma,sex,etc.
> I wrote a program to compute the Kappa statistic between pasthma and
> kasthma.
> Actually "did the child had asthma" answered by the parents and by the
> child.
> kappa <- function(x) {
>   r <- paste("p",evaluate(x),sep="")
>  c <- paste("k",evaluate(x),sep="")
>  a <- table(r,c)
> ...
> }
> If I call "kappa(asthma)" it works as expected ( "by me"). But if I call
>
> "kappa(asthma[sex==1])" it does not because of evaluate
>  r is "p["  "pasthma"  "psex==1" and I intended to be "pasthma[sex==1]"
> Is there a way around, or I am using the wrong approach?
> Thanks for any help
> .
> Heberto Ghezzo Ph.D.
> McGill University
> Montreal - Canada
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrewr at uidaho.edu  Thu Jul 18 18:06:54 2002
From: andrewr at uidaho.edu (Andrew Robinson)
Date: Thu, 18 Jul 2002 09:06:54 -0700
Subject: [R] Oddity with names
In-Reply-To: <Pine.LNX.4.31.0207180758360.23749-100000@gannet.stats>
References: <5.1.0.14.0.20020717213314.02e95e30@uidaho.edu>
Message-ID: <5.1.0.14.0.20020718090138.00ad3cf0@uidaho.edu>

At 08:01 AM 7/18/2002 +0100, Brian D. Ripley wrote:
>On Wed, 17 Jul 2002, Andrew Robinson wrote:
>
> > Hi all,
> >
> > I'm using R 1.5.1 on Windows 2000.  The following snippet of code doesn't
> > seem to do anything - no error is reported, and there is no name change.
> >
> > names(myFrame[,c(1:3)]) <- c("name1", "name2", "name3")
> >
> > This code however works nicely:
> >
> > names(myFrame)[c(1:3)] <- c("name1", "name2", "name3")
> >
> > Can anyone suggest why the first doesn't work?  Ought an error be reported?
>
>It does work.  It creates a new object myFrame[,c(1:3)] and changes its
>names.  That's not what you wanted, but R is your servant not your master
>and does allow you to do such things.

I'm sorry but I'm still confused.  Do you mean that another object called 
myFrame is created, with the new names?  It doesn't appear in the objects() 
list.  The original is still there, within unchanged names.

Andrew

Andrew Robinson                  Phone: 208-885-7115
Department of Forest Resources   Fax:   208-885-6226
University of Idaho              E: andrewr at uidaho.edu
Po Box 441133                    WWW: http://www.uidaho.edu/~andrewr
Moscow, ID 83843                 and: http://www.biometrics.uidaho.edu/
No statement above may be construed to necessarily represent my employer.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul 18 18:25:11 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 18 Jul 2002 17:25:11 +0100 (BST)
Subject: [R] Oddity with names
In-Reply-To: <5.1.0.14.0.20020718090138.00ad3cf0@uidaho.edu>
Message-ID: <Pine.LNX.4.31.0207181714090.1562-100000@gannet.stats>

On Thu, 18 Jul 2002, Andrew Robinson wrote:

> At 08:01 AM 7/18/2002 +0100, Brian D. Ripley wrote:
> >On Wed, 17 Jul 2002, Andrew Robinson wrote:
> >
> > > Hi all,
> > >
> > > I'm using R 1.5.1 on Windows 2000.  The following snippet of code doesn't
> > > seem to do anything - no error is reported, and there is no name change.
> > >
> > > names(myFrame[,c(1:3)]) <- c("name1", "name2", "name3")
> > >
> > > This code however works nicely:
> > >
> > > names(myFrame)[c(1:3)] <- c("name1", "name2", "name3")
> > >
> > > Can anyone suggest why the first doesn't work?  Ought an error be reported?
> >
> >It does work.  It creates a new object myFrame[,c(1:3)] and changes its
> >names.  That's not what you wanted, but R is your servant not your master
> >and does allow you to do such things.
>
> I'm sorry but I'm still confused.  Do you mean that another object called
> myFrame is created, with the new names?  It doesn't appear in the objects()
> list.  The original is still there, within unchanged names.

No, an object is created with the new names, but as you did not assign it
so it does not have a name and is deleted at the next garbage collection.

Your call is almost equivalent to

tmp <- myFrame[,c(1:3)]
tmp <- "names<-"(tmp, c("name1", "name2", "name3"))

with `tmp' being an object not associated with a symbol in the symbol
table.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Thu Jul 18 18:24:39 2002
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Thu, 18 Jul 2002 18:24:39 +0200
Subject: [R] Oddity with names
References: <5.1.0.14.0.20020717213314.02e95e30@uidaho.edu> <5.1.0.14.0.20020718090138.00ad3cf0@uidaho.edu>
Message-ID: <3D36EBC7.35813E0E@ci.tuwien.ac.at>

Andrew Robinson wrote:
> 
> At 08:01 AM 7/18/2002 +0100, Brian D. Ripley wrote:
> >On Wed, 17 Jul 2002, Andrew Robinson wrote:
> >
> > > Hi all,
> > >
> > > I'm using R 1.5.1 on Windows 2000.  The following snippet of code doesn't
> > > seem to do anything - no error is reported, and there is no name change.
> > >
> > > names(myFrame[,c(1:3)]) <- c("name1", "name2", "name3")
> > >
> > > This code however works nicely:
> > >
> > > names(myFrame)[c(1:3)] <- c("name1", "name2", "name3")
> > >
> > > Can anyone suggest why the first doesn't work?  Ought an error be reported?
> >
> >It does work.  It creates a new object myFrame[,c(1:3)] and changes its
> >names.  That's not what you wanted, but R is your servant not your master
> >and does allow you to do such things.
> 
> I'm sorry but I'm still confused.  Do you mean that another object called
> myFrame is created, with the new names?  It doesn't appear in the objects()
> list.  The original is still there, within unchanged names.

The command
 myFrame[,1:3]
returns a data frame with the first three columns of the data frame
myFrame. 
It doesn't appear in objects() because you didn't assign it to anything!
With the command
 names(myFrame[,c(1:3)])
you change the names of this new object, which is not what you wanted.
You wanted to change the names of the existing object myFrame and the
above command just doesn't do that! This answers your first
question...and also your second: as there is nothing forbidden about the
command
  names(myFrame[,c(1:3)]) <- c("name1", "name2", "name3")
no error needs to be reported. *You* simply have to use the right
command.
Z


> Andrew
> 
> Andrew Robinson                  Phone: 208-885-7115
> Department of Forest Resources   Fax:   208-885-6226
> University of Idaho              E: andrewr at uidaho.edu
> Po Box 441133                    WWW: http://www.uidaho.edu/~andrewr
> Moscow, ID 83843                 and: http://www.biometrics.uidaho.edu/
> No statement above may be construed to necessarily represent my employer.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Thu Jul 18 18:36:50 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu, 18 Jul 2002 12:36:50 -0400
Subject: [R] Oddity with names
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC4CE@usrymx10.merck.com>

You asked R to create a new data frame MyFrame[,1:3] (note: you don't need
the c()), then change the names of this data frame.  Since you didn't ask R
to store this in an object, it gets discarded.  Constructions such as 

  names(MyFrame[,1:3]) <- something

simply won't work as you expected, and even if it worked, would be much less
efficient than

  names(MyFrame)[1:3] <- something

because you are simply assigning names to some columns.  There's no need to
ask R to extract those columns out of the data frame.

Andy

> -----Original Message-----
> From: Andrew Robinson [mailto:andrewr at uidaho.edu]
> Sent: Thursday, July 18, 2002 12:07 PM
> To: ripley at stats.ox.ac.uk
> Cc: r-help at stat.math.ethz.ch; Robert Keefe
> Subject: Re: [R] Oddity with names
> 
> 
> At 08:01 AM 7/18/2002 +0100, Brian D. Ripley wrote:
> >On Wed, 17 Jul 2002, Andrew Robinson wrote:
> >
> > > Hi all,
> > >
> > > I'm using R 1.5.1 on Windows 2000.  The following snippet 
> of code doesn't
> > > seem to do anything - no error is reported, and there is 
> no name change.
> > >
> > > names(myFrame[,c(1:3)]) <- c("name1", "name2", "name3")
> > >
> > > This code however works nicely:
> > >
> > > names(myFrame)[c(1:3)] <- c("name1", "name2", "name3")
> > >
> > > Can anyone suggest why the first doesn't work?  Ought an 
> error be reported?
> >
> >It does work.  It creates a new object myFrame[,c(1:3)] and 
> changes its
> >names.  That's not what you wanted, but R is your servant 
> not your master
> >and does allow you to do such things.
> 
> I'm sorry but I'm still confused.  Do you mean that another 
> object called 
> myFrame is created, with the new names?  It doesn't appear in 
> the objects() 
> list.  The original is still there, within unchanged names.
> 
> Andrew
> 
> Andrew Robinson                  Phone: 208-885-7115
> Department of Forest Resources   Fax:   208-885-6226
> University of Idaho              E: andrewr at uidaho.edu
> Po Box 441133                    WWW: http://www.uidaho.edu/~andrewr
> Moscow, ID 83843                 and: 
http://www.biometrics.uidaho.edu/
No statement above may be construed to necessarily represent my employer.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mprager at alum.mit.edu  Thu Jul 18 20:53:17 2002
From: mprager at alum.mit.edu (Mike Prager)
Date: Thu, 18 Jul 2002 14:53:17 -0400
Subject: [R] R GUI and object browser
In-Reply-To: <20020717215418.GA26757@hortresearch.co.nz>
References: <Pine.GSO.4.44.0207170725030.15033-100000@auk.stats>
 <200207162241.39480.dputler@scu.edu>
 <Pine.GSO.4.44.0207170725030.15033-100000@auk.stats>
Message-ID: <5.1.0.14.0.20020718145031.00af5b50@pop-server.ec.rr.com>

At 09:54 AM 07/18/2002 +1200, Patrick Connolly wrote:
>If hardly anyone agrees with me that the dates are useful to know,
>it's certainly not worthwhile.

For me (only 1 user), the dates would be welcome, but a low priority.  An 
object browser would be useful, by which I mean something in a separate 
window. That would avoid constantly filling up the command (main) window 
and history with commands to recall the object names, which otherwise I am 
prone to forget (though probably not more so than any other 50+ year old).


--
Mike Prager  (mprager at alum.mit.edu)
Beaufort, North Carolina

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chinshan.chuang at stanfordalumni.org  Thu Jul 18 21:31:00 2002
From: chinshan.chuang at stanfordalumni.org (Chin-Shan Chuang)
Date: Thu, 18 Jul 2002 15:31:00 -0400
Subject: [R] Build on Solaris 8 gcc-3.1 fails make check
Message-ID: <20020718193100.23524.qmail@uadvg137.cms.usa.net>

Hi, I also seem to have the same problem.

A related question -- are NAs and NaNs supposed to be the same in R?
If they are not, wouldn't it be more appropriate for var(1) to return 
NaN and to take out the test 
"stopifnot( is.na(var(1)), !is.nan(var(1)) )"? 
(Presumably NA is used to denote a missing value, and var(1) is not
missing.)

Excluding this test, I also found that make check fails at the step
"stopifnot( ..., !is.nan(c(1,NA)), ... )" or line 7877 of base-Ex.R.
Could someone please comment on this as well? On this compiled 
version of R, I get !is.nan(c(1,NA)) returns TRUE FALSE although 
!is.nan(NA) returns TRUE. 

Thanks very much!


____________________________________________________________________
   

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nvo at reisling.stanford.edu  Thu Jul 18 21:33:11 2002
From: nvo at reisling.stanford.edu (Nu Vo)
Date: Thu, 18 Jul 2002 12:33:11 -0700 (PDT)
Subject: [R] R sample session
Message-ID: <Pine.GSO.3.96.1020718121953.8295A-100000@reisling.stanford.edu>


Hi:

I'm trying to do the sample session listed in Appendix A
of the "Introduction to R" manual from:

http://cran.R-project.org/manuals.html

I've already downloaded R-1.5.1.tgz from:
http://cran.r-project.org/

The problem is I can't find the file "morley.tab"
which I need to start the sample session (as stated
in the manual).

Do you know where I can find it? Thanks.




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul 18 21:42:29 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 18 Jul 2002 20:42:29 +0100 (BST)
Subject: [R] R sample session
In-Reply-To: <Pine.GSO.3.96.1020718121953.8295A-100000@reisling.stanford.edu>
Message-ID: <Pine.LNX.4.31.0207182040240.1783-100000@gannet.stats>

On Thu, 18 Jul 2002, Nu Vo wrote:

>
> Hi:
>
> I'm trying to do the sample session listed in Appendix A
> of the "Introduction to R" manual from:
>
> http://cran.R-project.org/manuals.html
>
> I've already downloaded R-1.5.1.tgz from:
> http://cran.r-project.org/
>
> The problem is I can't find the file "morley.tab"
> which I need to start the sample session (as stated
> in the manual).
>
> Do you know where I can find it? Thanks.

.../library/base/data/morley.tab

as it says in the manual!  `...' might be /usr/local/lib/R on a
Unix-alike,

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From steveg at dnastar.com  Thu Jul 18 21:44:05 2002
From: steveg at dnastar.com (Steve Goldstein)
Date: Thu, 18 Jul 2002 14:44:05 -0500
Subject: [R] RSPerl on OS X
Message-ID: <3D371A85.FE58B4DA@dnastar.com>

Hello,

Has anyone gotten RSPerl ( (http://www.omegahat.org/RSPerl/)
to work on Mac OS X?

After installing RSPerl, I run the test program (or, even simpler,
perl -e 'use R;') and get the following error:

dyld: perl Undefined symbols:
_RPerl_createRProxy
_RPerl_discardRProxy
_RPerl_getProxyValue
_RPerl_getReferenceName
_addPerlConverterRoutine
_fromPerl
_tryEval
_userLevelConversionToPerl

It looks like the dynamic loader can't find the right libraries. The
instructions (http://www.omegahat.org/RSPerl/RFromPerl.pdf)
specify setting the LD_LIBRARY_PATH envar.  I assumed that
the corresponding envar on OS X is DYLD_LIBRARY_PATH
and added $R_HOME/bin/ and <wherever>/RSPERL/libs/ to
the path, but this didn't help.

Thanks,
Steve


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deleeuw at stat.ucla.edu  Thu Jul 18 22:44:14 2002
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Thu, 18 Jul 2002 13:44:14 -0700
Subject: [R] RSPerl on OS X
In-Reply-To: <3D371A85.FE58B4DA@dnastar.com>
Message-ID: <1EF8384E-9A8F-11D6-A343-000393860F3C@stat.ucla.edu>

On OS X there is a difference between bundles loadable at runtime
(foo.so) and dynamic libraries used at link time (foo.dylib). They
are build with different linker flags. This creates the problem what
libR.dylib is, precisely, because obviously it is a module that must
be loaded into perl at runtime. Your perl does find libR.dylib, but
it cannot find the symbols it needs in there (it seems). Since this
will be a problem for all of the "bi-directional" OmegaHat packages, I  
think
it must be resolved in a general way by the OmegaHat team.

On Thursday, Jul 18, 2002, at 12:44 US/Pacific, Steve Goldstein wrote:

> Hello,
>
> Has anyone gotten RSPerl ( (http://www.omegahat.org/RSPerl/)
> to work on Mac OS X?
>
> After installing RSPerl, I run the test program (or, even simpler,
> perl -e 'use R;') and get the following error:
>
> dyld: perl Undefined symbols:
> _RPerl_createRProxy
> _RPerl_discardRProxy
> _RPerl_getProxyValue
> _RPerl_getReferenceName
> _addPerlConverterRoutine
> _fromPerl
> _tryEval
> _userLevelConversionToPerl
>
> It looks like the dynamic loader can't find the right libraries. The
> instructions (http://www.omegahat.org/RSPerl/RFromPerl.pdf)
> specify setting the LD_LIBRARY_PATH envar.  I assumed that
> the corresponding envar on OS X is DYLD_LIBRARY_PATH
> and added $R_HOME/bin/ and <wherever>/RSPERL/libs/ to
> the path, but this didn't help.
>
> Thanks,
> Steve
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
> .-.-.-.-.-
> r-help mailing list -- Read  
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:  
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
> ._._._._
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Thu Jul 18 22:46:13 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Thu, 18 Jul 2002 13:46:13 -0700 (PDT)
Subject: [R] R sample session
In-Reply-To: <Pine.GSO.3.96.1020718121953.8295A-100000@reisling.stanford.edu>
Message-ID: <Pine.GSO.4.10.10207181345350.3073-100000@quetelet.stat.ucla.edu>

Replace the 'file.show' and 'read.table' commands with:

data(morley)
mm <- morley

And the rest should work out the same.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Thu, 18 Jul 2002, Nu Vo wrote:

> 
> Hi:
> 
> I'm trying to do the sample session listed in Appendix A
> of the "Introduction to R" manual from:
> 
> http://cran.R-project.org/manuals.html
> 
> I've already downloaded R-1.5.1.tgz from:
> http://cran.r-project.org/
> 
> The problem is I can't find the file "morley.tab"
> which I need to start the sample session (as stated
> in the manual).
> 
> Do you know where I can find it? Thanks.
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Jul 18 22:59:35 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 18 Jul 2002 13:59:35 -0700
Subject: [R] RSPerl on OS X
In-Reply-To: <1EF8384E-9A8F-11D6-A343-000393860F3C@stat.ucla.edu>
References: <1EF8384E-9A8F-11D6-A343-000393860F3C@stat.ucla.edu>
Message-ID: <87r8i04urs.fsf@jeeves.blindglobe.net>

>>>>> "jan" == Jan de Leeuw <deleeuw at stat.ucla.edu> writes:

    jan> On OS X there is a difference between bundles loadable at runtime
    jan> (foo.so) and dynamic libraries used at link time (foo.dylib). They
    jan> are build with different linker flags. This creates the problem what
    jan> libR.dylib is, precisely, because obviously it is a module that must
    jan> be loaded into perl at runtime. Your perl does find libR.dylib, but
    jan> it cannot find the symbols it needs in there (it seems). Since this
    jan> will be a problem for all of the "bi-directional" OmegaHat packages, I
    jan> think

    jan> it must be resolved in a general way by the OmegaHat team.


Jan -

Does libR.so get built during fink's install, then? 

(I noticed a few problems with SJava along those lines, but havn't
traced down all the problems yet... one of these years I'll have
time...).

(on a side note to Jan -- what's the preferred approach for getting
PVM working on OS-X?  Or can one do it?)

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deleeuw at stat.ucla.edu  Thu Jul 18 23:03:39 2002
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Thu, 18 Jul 2002 14:03:39 -0700
Subject: [R] RSPerl on OS X
In-Reply-To: <87r8i04urs.fsf@jeeves.blindglobe.net>
Message-ID: <D5365D7E-9A91-11D6-A343-000393860F3C@stat.ucla.edu>


On Thursday, Jul 18, 2002, at 13:59 US/Pacific, A.J. Rossini wrote:

>>>>>> "jan" == Jan de Leeuw <deleeuw at stat.ucla.edu> writes:
>
>     jan> On OS X there is a difference between bundles loadable at 
> runtime
>     jan> (foo.so) and dynamic libraries used at link time (foo.dylib). 
> They
>     jan> are build with different linker flags. This creates the 
> problem what
>     jan> libR.dylib is, precisely, because obviously it is a module 
> that must
>     jan> be loaded into perl at runtime. Your perl does find 
> libR.dylib, but
>     jan> it cannot find the symbols it needs in there (it seems). 
> Since this
>     jan> will be a problem for all of the "bi-directional" OmegaHat 
> packages, I
>     jan> think
>
>     jan> it must be resolved in a general way by the OmegaHat team.
>
>
> Jan -
>
> Does libR.so get built during fink's install, then?

libR.dylib gets build if the --enable-shlib flag is set (with the
CRAN build) -- the fink install does not build the dylib (I think)

>
> (I noticed a few problems with SJava along those lines, but havn't
> traced down all the problems yet... one of these years I'll have
> time...).
>
> (on a side note to Jan -- what's the preferred approach for getting
> PVM working on OS-X?  Or can one do it?)

PVM compiles and works out of the box on OS X -- use whatever
you do in Linux.

>
> best,
> -tony
>
> -- 
> A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
> U. of Washington Biostatistics		rossini at u.washington.edu	
> FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
> -------------- http://software.biostat.washington.edu/ ----------------
> FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
> UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
> (my tuesday/wednesday/friday locations are completely unpredictable.)
>
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wzhang at molecularmining.com  Thu Jul 18 23:09:15 2002
From: wzhang at molecularmining.com (Weidong Zhang)
Date: Thu, 18 Jul 2002 17:09:15 -0400
Subject: [R] Extracting values from R objects within Perl
Message-ID: <ED48BEC53E71B14EBBB1E67930D345530F83DA@rigel.hq.molecularmining.com>

Hi,

I am calling R "integrate" function from within Perl. In R,
integrate(dnorm, -1.96, 1.96)$value returns 0.95, but how can I get this
when I call this function from within Perl?

I am using R-1.5.1, Perl 5.6.0 with RSPerl package installed (Linux).
Here is my program:
########################
use R;
use RReferences;

&R::initR("--gui=none", "--vanilla");
&R::library(RSPerl);

$y1 = -1.96;
$y2 = 1.96;

$inteOutput = &R::callWithNames("integrate", {'', 'dnorm', 'lower', $y1,
'upper', $y2} );

How can I get the value (0.95) from $inteOutput???

Thanks in advance,

Weidong

 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From steveg at dnastar.com  Thu Jul 18 23:11:03 2002
From: steveg at dnastar.com (Steve Goldstein)
Date: Thu, 18 Jul 2002 16:11:03 -0500
Subject: [R] RSPerl on OS X
References: <D5365D7E-9A91-11D6-A343-000393860F3C@stat.ucla.edu>
Message-ID: <3D372EE7.3B2A587B@dnastar.com>

> > Jan -
> >
> > Does libR.so get built during fink's install, then?
>
> libR.dylib gets build if the --enable-shlib flag is set (with the
> CRAN build) -- the fink install does not build the dylib (I think)

My R was installed by fink and it contains the file
   /sw/lib/R/bin/libR.dylib

% file /sw/lib/R/bin/libR.dylib
/sw/lib/R/bin/libR.dylib: Mach-O dynamically linked shared library ppc

Steve


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deleeuw at stat.ucla.edu  Thu Jul 18 23:22:18 2002
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Thu, 18 Jul 2002 14:22:18 -0700
Subject: [R] RSPerl on OS X
In-Reply-To: <3D372EE7.3B2A587B@dnastar.com>
Message-ID: <709CB8D2-9A94-11D6-A343-000393860F3C@stat.ucla.edu>

OK, so fink does build libR.dylib. But observe that for instance

[cabledoc68:library/RGtk/libs] deleeuw% file RGtk.so
RGtk.so: Mach-O bundle ppc

By the way, fink also builds Rpy. Maybe you could use
that as a model for PSPerl, although Rpy is not bi-directional,
I think.

On Thursday, Jul 18, 2002, at 14:11 US/Pacific, Steve Goldstein wrote:

>>> Jan -
>>>
>>> Does libR.so get built during fink's install, then?
>>
>> libR.dylib gets build if the --enable-shlib flag is set (with the
>> CRAN build) -- the fink install does not build the dylib (I think)
>
> My R was installed by fink and it contains the file
>    /sw/lib/R/bin/libR.dylib
>
> % file /sw/lib/R/bin/libR.dylib
> /sw/lib/R/bin/libR.dylib: Mach-O dynamically linked shared library ppc
>
> Steve
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From niels.waller at vanderbilt.edu  Thu Jul 18 23:54:50 2002
From: niels.waller at vanderbilt.edu (Niels Waller)
Date: Thu, 18 Jul 2002 16:54:50 -0500
Subject: [R] cloud borders
Message-ID: <NDBBLLOPOEMNNHONCHBFGEHEDAAA.niels.waller@vanderbilt.edu>




Is it possible to create a cloud plot (in library lattice) that is not
enclosed by a border?  I want the 3d plot to include the cube - I just do
not want the border on the page (because I would like to place four clouds
on a page).  Setting the argument: border=FALSE   clearly is not the answer
(it doesn't appear to do anything on my system).

I am using R 1.5.1 on a windows NT machine.

Thanks for any and all tips.

Niels



0=================================================0
Dr. Niels G. Waller
Quantitative Methods
Department of Psychology and Human Development
Box 512 Peabody College
Vanderbilt University
Nashville TN 37203
email:  niels.waller at vanderbilt.edu
fax:    615 343-9494
QME home page: http://www.vanderbilt.edu/quantmetheval
http://peabody.vanderbilt.edu/depts/psych_and_hd/faculty/wallern/
0=================================================0

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Fri Jul 19 00:24:31 2002
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Thu, 18 Jul 2002 18:24:31 -0400
Subject: [R] RSPerl on OS X
In-Reply-To: <709CB8D2-9A94-11D6-A343-000393860F3C@stat.ucla.edu>; from deleeuw@stat.ucla.edu on Thu, Jul 18, 2002 at 02:22:18PM -0700
References: <3D372EE7.3B2A587B@dnastar.com> <709CB8D2-9A94-11D6-A343-000393860F3C@stat.ucla.edu>
Message-ID: <20020718182431.A27630@jessie.research.bell-labs.com>

I finally have my Mac setup with an up-to-date OS and have managed to
get GGobi and its plugins compiled and running correctly. Since this
model is similar to R, over the next few weeks, I should be able to now
resolve the builds for the Omegahat packages that have
issues. Thankfully, Jan (and others) have worked on several of the
packages.

 D.



Jan de Leeuw wrote:
> OK, so fink does build libR.dylib. But observe that for instance
> 
> [cabledoc68:library/RGtk/libs] deleeuw% file RGtk.so
> RGtk.so: Mach-O bundle ppc
> 
> By the way, fink also builds Rpy. Maybe you could use
> that as a model for PSPerl, although Rpy is not bi-directional,
> I think.
> 
> On Thursday, Jul 18, 2002, at 14:11 US/Pacific, Steve Goldstein wrote:
> 
> >>> Jan -
> >>>
> >>> Does libR.so get built during fink's install, then?
> >>
> >> libR.dylib gets build if the --enable-shlib flag is set (with the
> >> CRAN build) -- the fink install does not build the dylib (I think)
> >
> > My R was installed by fink and it contains the file
> >    /sw/lib/R/bin/libR.dylib
> >
> > % file /sw/lib/R/bin/libR.dylib
> > /sw/lib/R/bin/libR.dylib: Mach-O dynamically linked shared library ppc
> >
> > Steve
> >
> >
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
> homepage: http://www.stat.ucla.edu/~deleeuw
> ========================================================
>            No matter where you go, there you are. --- Buckaroo Banzai
>                     http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
> ========================================================
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From method at u.washington.edu  Fri Jul 19 00:46:54 2002
From: method at u.washington.edu (J. Thomas)
Date: Thu, 18 Jul 2002 15:46:54 -0700 (PDT)
Subject: [R] SPSS files
Message-ID: <Pine.LNX.4.44.0207181542110.30168-100000@mos1.csde.washington.edu>


I was trying to read in an spss .por file, but was having difficulties
doing so.  Is this still a valid operation that R can perform?

ps (I did library(foreign, then read.spss("filename") and I get:
Error in read.spss("/net/home/morrism/Data/CPS/Por/mar98.por") :
        Error reading portable-file dictionary.
In addition: Warning message:
Bad character in date. )

Thanks,
Jason



- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Jason Thomas
Graduate Student
Dept. of Sociology
University of Washington, Seattle
method at u.washington.edu
http://students.washington.edu/~method



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Simon.Gatehouse at csiro.au  Fri Jul 19 00:56:16 2002
From: Simon.Gatehouse at csiro.au (Gatehouse, Simon (E&M, North Ryde))
Date: Fri, 19 Jul 2002 08:56:16 +1000
Subject: [R] R GUI and object browser
Message-ID: <FFE02AF26875734B82A728403821CB2E04F1DB@asp-ri.riverside.csiro.au>

Mike,
I agree that a date stamp would be generally useful, notwithstanding the
issue to do with composite objects. 

I find it most useful when trying to track versions of functions I am
developing and less so for imported data (they have their own external
stamps) and less so for internally generated, often tempory, R data. 

I have affixed the following line just before the assign command in the
'fix' function which accesses my editor.

attr(x,"date.modified")_date()

and viewed using:

attr(x,"date.modified")

This fills a date.modified attribute to all information passing through the
editor.  
I have modified the ls() function to display this date when listing R
objects. 

Its not optimum but is a convenient fix for me.

Regards
Simon Gatehouse


-----Original Message-----
From: Mike Prager [mailto:mprager at alum.mit.edu]
Sent: Friday, July 19, 2002 4:53 AM
To: Patrick Connolly
Cc: R-help
Subject: Re: [R] R GUI and object browser


At 09:54 AM 07/18/2002 +1200, Patrick Connolly wrote:
>If hardly anyone agrees with me that the dates are useful to know,
>it's certainly not worthwhile.

For me (only 1 user), the dates would be welcome, but a low priority.  An 
object browser would be useful, by which I mean something in a separate 
window. That would avoid constantly filling up the command (main) window 
and history with commands to recall the object names, which otherwise I am 
prone to forget (though probably not more so than any other 50+ year old).


--
Mike Prager  (mprager at alum.mit.edu)
Beaufort, North Carolina

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andreww at cheque.uq.edu.au  Fri Jul 19 01:58:31 2002
From: andreww at cheque.uq.edu.au (Andrew C. Ward)
Date: Fri, 19 Jul 2002 09:58:31 +1000
Subject: [R] Australian CRAN mirror
Message-ID: <01b201c22eb7$04c44660$67e86682@cheque.uq.edu.au>

One of the CRAN mirror links for Australia is not correct,
and I'm wondering how to have it updated.

The incorrect address is http://cran.mirror.aarnet.edu.au/
and the correct one is http://mirror.aarnet.edu.au/pub/CRAN/.


Regards,

Andrew C. Ward

CAPE Centre,
The University of Queensland
Brisbane Qld 4072 Australia
andreww at cheque.uq.edu.au

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Fri Jul 19 06:26:54 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Fri, 19 Jul 2002 01:26:54 -0300
Subject: [R] Automatic adjustment of axis ranges
In-Reply-To: <20020718030105.GA27315@hortresearch.co.nz>
References: <4.2.2.20020717204707.00a36f00@pop3.arnet.com.ar>
 <2547c25657.256572547c@lbl.gov>
 <4.2.2.20020717204707.00a36f00@pop3.arnet.com.ar>
Message-ID: <4.2.2.20020719011627.00a82ad0@pop3.arnet.com.ar>


>|> Hello,
>|>
>|> I would like to know if it is possible to add new points to a given plot
>|> and that the axis ranges be automatically adjusted so that all the new
>|> points are seen in the plot.
>|> For example, I am thinking of something like this:
>|>
>|> plot(1:10,1:10);
>|> points(5:20,2*(5:20));       # This would change the x range to 0-20 
>and the y
>|> range to 0-40 so that all the new points are fitted in the graph.
>
>I think you'd need to build some logic into a function that recognised
>that the points were outside what plot had been set to, and then redo
>the plot with those limits.  Could be done, but it's much easier to
>build the limits in in the first place with xlim and/or ylim.

The problem with defining xlim and ylim in advance is that you need to know 
all the graphs that you want to do in the same plot before starting to do 
the first graph. And this may not be the case if one is in the stage of 
trying different things. So, one needs to redo all the graphs that had been 
done in order to add a new one to the current plot.

>Asking what you want is kind of like having your car automatically
>back up to the last service station after you've run out of petrol.
>They're not built like that.

Actually some pieces of software, such as Matlab, do the automatic 
adjustment, and I find it a very useful feature. It would be great if this 
feature could be added to R.

Regards,
Daniel Mastropietro


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Fri Jul 19 09:19:30 2002
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Fri, 19 Jul 2002 09:19:30 +0200
Subject: [R] Re RGui and object browser
Message-ID: <3D37D9A2.29574.5D13F9@localhost>

Hallo Dan

I used your code for ls.objects and it is very usefull. I corrected some typo and it 
worked well untill now.

I observed Error due to class evaluation in lists created by aov fit as the fitted 
object from aov has two classes (aov and lm)

So I made a little change which seems to work.

Here it is:

# Posted by Dan Putler At 2002-07-15 16:13 
# As part of the obveRsive GUI project, we've written a function with much of
# the functionality that Patrick Connolly was suggesting (which is a bit more
# compact than the output from ls.str()). Alas, no date capabilities. The
# function is call ls.objects(), and example output appears below:
 
ls.objects <- function (pos = 1, pattern, mode = "any", type = "any"){
    Object.Name <- ls(pos = pos, envir = as.environment(pos), pattern = pattern)
    Object.Mode <- rep("",length(Object.Name))
    Object.Type <- rep("",length(Object.Name))
    Variables <- rep("-",length(Object.Name))
    Observations <- rep("-",length(Object.Name))

    for (i in 1:length(Object.Name)){
   Object.Mode[[i]] <- mode(get(Object.Name[[i]]))
   if(is.list(get(Object.Name[[i]]))){
    if(is.null(class(get(Object.Name[[i]]))))
      Object.Type[[i]] <- c("unknown")
    else {
      Object.Attrib <- attributes(get(Object.Name[[i]]))

# this is the change which anable to get Correct object type with aov fits. 

      Object.Type[[i]] <- Object.Attrib$class[1]
 
      if(Object.Type[[i]]=="data.frame"){
        Variables[[i]] <- as.character(length(Object.Attrib$names))
        Observations[[i]] <- as.character(length(Object.Attrib$row.names))
      }
    }
  }
  if(is.matrix(get(Object.Name[[i]]))){
     Object.Attrib <- dim(get(Object.Name[[i]]))
    Object.Type[[i]] <- c("matrix")
    Variables[[i]] <- as.character(Object.Attrib[2])
    Observations[[i]] <- as.character(Object.Attrib[1])
  }


  if(is.vector(get(Object.Name[[i]])) && (Object.Mode[[i]]=="character" || 
Object.Mode[[i]]=="numeric")){
    Object.Type[[i]] <- c("vector")
    Variables[[i]] <- c("1")
    Observations[[i]] <- as.character(length(get(Object.Name[[i]])))
  }


  if(is.factor(get(Object.Name[[i]]))){
    Object.Type[[i]] <- c("factor")
    Variables[[i]] <- c("1")
    Observations[[i]] <- as.character(length(get(Object.Name[[i]])))
  }
  if(is.function(get(Object.Name[[i]]))) Object.Type[[i]] <- c("function")
    }
    objList <-
data.frame(Object.Name,Object.Mode,Object.Type,Observations,Variables)
    if(mode != "any") objList <- objList[objList[["Object.Mode"]] == mode,]
    if(type != "any") objList <- objList[objList[["Object.Type"]] == type,]
    return(objList)
}

Best regardsPetr Pikal
petr.pikal at precheza.cz
p.pik at volny.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jerfox at stanford.edu  Fri Jul 19 09:55:41 2002
From: jerfox at stanford.edu (Jeremy T. Fox)
Date: Fri, 19 Jul 2002 00:55:41 -0700
Subject: [R] Read.dta cons memory exhausted
Message-ID: <EC383894-9AEC-11D6-B68F-00039383B892@stanford.edu>


Hello,

I am trying to read in some Stata files into R. First, read.dta claims 
my Stata 7/SE is " Not a Stata version 5-7/SE .dta file",
when it clearly is. I saved the file in Stata 6 format, and then got

 > read.dta("/tmp/jerfox/Stata/intallyrs_allquart_6.dta")
Error: cons memory exhausted (limit reached?)

The dataset is 87 MB, has only integers and reals, and has around 50 
variables. Now, this is on a 64-bit, 16 GB machine with plenty of swap 
space and free memory available. I am using the r-devel version (1.6.0), 
with the aggressive Solaris compile flags in the appendix of the 
Installation Guide.

The problem persists if I try to set  --max-nsize to some high level as 
an option on the command line when I start R.

Is R not capable of working with datasets this large? Considering that I 
can store a 12GB array in this version of R, having this low limit on 
data importation seems to be little strange. I admit to not 
understanding what cons cells are or how they work, although I did read 
help(memory).

Thanks to anyone helping develop this great program.

Jeremy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Fri Jul 19 10:01:42 2002
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Fri, 19 Jul 2002 10:01:42 +0200
Subject: [R] RODBC and Excel Files
In-Reply-To: <a05010400b95c67aec1f7@[134.214.32.69]>
Message-ID: <3D37E386.18334.83BA33@localhost>



On 18 Jul 2002 at 14:49, Stephane Dray wrote:

> Hello,
> I am trying to play with RODBC library and Excel Files. In my file
> (doubs.xls) there are 2 spreadsheets:
> 
> >  library(RODBC)
> >  connection<-odbcConnect("Excel Files")
> >  sqlTables(connection)
>           TABLE_CAT TABLE_SCHEM TABLE_NAME   TABLE_TYPE REMARKS
> 1 F:\\Th?se\\R\\Doubs          NA     Faune$ SYSTEM TABLE      NA 2
> F:\\Th?se\\R\\Doubs          NA    Milieu$ SYSTEM TABLE      NA
> 
> I have two problems.
> 
> 
> (1) For loading the tables in R, I use
> 
> >  sqlFetch(connection,"Faune$")
> [1] "37000 -3506 [Microsoft][Pilote ODBC Excel] Erreur de syntaxe dans
> la clause FROM." [2] "[RODBC]ERROR: Could not SQLPrepare"

I am not sure if sqlFetch works with Excel files. I used

data.frame.name <- sqlQuery(connection,"select * from [listname$]")

(the same as you :-)
that is maybe the reason why sqlSave does not work too

> 
> There is a syntax error (probably to name the table) but i don't find
> the answer.. (if you know it..) To solve this problem, I use an
> alternative: >  sqlQuery(connection,"select * from [Faune$]")[1:5,]
>    a b c d e f g h i j k l m n o p q r s t u v w x y z +
> 1 0 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
> 2 0 5 4 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
> 3 0 5 5 5 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0
> 4 0 4 5 5 0 0 0 0 0 1 0 0 1 2 2 0 0 0 0 1 0 0 0 0 0 0 0
> 5 0 2 3 2 0 0 0 0 5 2 0 0 2 4 4 0 0 2 0 3 0 0 0 5 0 0 0
> 
> and it works fine....
> 
> (2) I have another problem to save a data frame in my xls file and for
> this case i do not have any alternatives:
> 
> >  sqlSave(connection,fau01,verbose=T)
> [1] "CREATE TABLE fau01  (a varchar(255)  ,b varchar(255)  ,c 
> varchar(255)  ,d varchar(255)  ,e varchar(255)  ,f varchar(255)  ,g
> varchar(255)  ,h varchar(255)  ,i varchar(255)  ,j varchar(255)  ,k
> varchar(255)  ,l varchar(255)  ,m varchar(255)  ,n varchar(255)  ,o
> varchar(255)  ,p varchar(255)  ,q varchar(255)  ,r varchar(255)  ,s
> varchar(255)  ,t varchar(255)  ,u varchar(255)  ,v varchar(255)  ,w
> varchar(255)  ,x varchar(255)  ,y varchar(255)  ,z varchar(255)  ,
> varchar(255)  )" Error in sqlColumns(channel, tablename) : fau01
> :table not found on channel 0

as a workaround you can save your data frames (or everything:-) using sink

sink("name of the file.txt")
your.data.frame
sink()

see ?sink


> 
> 
> How can i save my dataframe ???
> 
> Thanks in advance.
> 
> -- 
> St?phane DRAY
> ---------------------------------------------------------------
> Biom?trie et Biologie ?volutive - Equipe "?cologie Statistique"
> Universite Lyon 1 - Bat 711 - 69622 Villeurbanne CEDEX - France
> 
> Tel : 04 72 43 27 56			   Fax : 04 78 89 27 19
>        04 72 43 27 57 	   E-mail : dray at biomserv.univ-lyon1.fr 
> ---------------------------------------------------------------
> ADE-4               http://pbil.univ-lyon1.fr/ADE-4/ADE-4F.html
> ---------------------------------------------------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.- r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help",
> or "[un]subscribe" (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._

Best regardsPetr Pikal
petr.pikal at precheza.cz
p.pik at volny.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dputler at scu.edu  Fri Jul 19 10:27:42 2002
From: dputler at scu.edu (Dan Putler)
Date: Fri, 19 Jul 2002 01:27:42 -0700
Subject: [R] Re: Re RGui and object browser
In-Reply-To: <3D37D9A2.29574.5D13F9@localhost>
References: <3D37D9A2.29574.5D13F9@localhost>
Message-ID: <200207190127.42058.dputler@scu.edu>

Hi Petr and any other interested parties,

Objects with mode "list" that have more than a single class attribute do cause 
my original function to die in a less than pleasant way.  Unfortunately, when 
the class attribute is longer than one, there are a huge number of potential 
special cases.  The two that have been brought to my attention so far are 
related to the Orthodont data frame (part of the nlme package) which has four 
class attributes (last in the list being "data.frame") and objects created by 
the aov() function (which can have two or four class descriptors).  I have 
revised the code to make it a bit more robust, and correct the two known 
problems (an object created by aov is given the Object.Type of "aov").  
However, the function should be viewed as being in an "early beta" state, so 
there will be other (hopefully minor) bugs that will come up.  In addition, 
there are other things missing from the function as it now stands.  
Specifically, it does not provide Object.Type information for certain types 
of objects such as "call" and "name".  Although this information gets 
captured by Object.Mode.

I've attached my revised version of the code below.  Any other suggestions or 
improvements would be welcomed.  Although, you may want to do this in a 
private e-mail to me.

Dan Putler

_______

ls.objects <- function (pos = 1, pattern, mode = "any", type = "any"){
    Object.Name <- ls(pos = pos, envir = as.environment(pos), pattern = 
pattern)
    Object.Mode <- rep("",length(Object.Name))
    Object.Type <- rep("",length(Object.Name))
    Variables <- rep("-",length(Object.Name))
    Observations <- rep("-",length(Object.Name))
    for (i in 1:length(Object.Name)){
	 Object.Mode[[i]] <- mode(get(Object.Name[[i]]))
	 if(is.list(get(Object.Name[[i]]))){
		if(is.null(class(get(Object.Name[[i]]))))
			Object.Type[[i]] <- c("unknown")
		else {
			Object.Attrib <- attributes(get(Object.Name[[i]]))
			if(length(Object.Attrib$class) == 1) {
				Object.Type[[i]] <- Object.Attrib$class
				if(Object.Type[[i]]=="data.frame"){
					Variables[[i]] <- as.character(length(Object.Attrib$names))
					Observations[[i]] <- as.character(length(Object.Attrib$row.names))
				}
			}
			else {
				if("data.frame" %in% Object.Attrib$class){
					Object.Type[[i]] <- "data.frame"
					Variables[[i]] <- as.character(length(Object.Attrib$names))
					Observations[[i]] <- as.character(length(Object.Attrib$row.names))
				}
				else {
					if("aov" %in% Object.Attrib$class) Object.Type[[i]] <- "aov"
				}
			}
		}
	}
	if(is.matrix(get(Object.Name[[i]]))){
	 	Object.Attrib <- dim(get(Object.Name[[i]]))
		Object.Type[[i]] <- c("matrix")
		Variables[[i]] <- as.character(Object.Attrib[2])
		Observations[[i]] <- as.character(Object.Attrib[1])
	}
	if(is.vector(get(Object.Name[[i]])) && (Object.Mode[[i]]=="character" || 
Object.Mode[[i]]=="numeric")){
		Object.Type[[i]] <- c("vector")
		Variables[[i]] <- c("1")
		Observations[[i]] <- as.character(length(get(Object.Name[[i]])))
	}
	if(is.factor(get(Object.Name[[i]]))){
		Object.Type[[i]] <- c("factor")
		Variables[[i]] <- c("1")
		Observations[[i]] <- as.character(length(get(Object.Name[[i]])))
	}
	if(is.function(get(Object.Name[[i]]))) Object.Type[[i]] <- c("function")
    }
    objList <- 
data.frame(Object.Name,Object.Mode,Object.Type,Observations,Variables)
    if(mode != "any") objList <- objList[objList[["Object.Mode"]] == mode,]
    if(type != "any") objList <- objList[objList[["Object.Type"]] == type,]
    return(objList)
}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Lauri.Mehtatalo at metla.fi  Fri Jul 19 11:23:34 2002
From: Lauri.Mehtatalo at metla.fi (=?ISO-8859-1?Q?Lauri_Meht=E4talo?=)
Date: Fri, 19 Jul 2002 11:23:34 EET-2
Subject: [R] selfStart function problem
Message-ID: <3D37F6B6.1100.AD7E5F@localhost>

Hello, list,

I am making a self-starting nonlinear function to model the relation of tree height (H) 
and diameter (D) in a forest stand. The function I am trying is
H=a*exp[b*(D+5.8)^(-c)].
To calculate the initial estimates of the parameters, I linearized the formula by taking 
logarithms and fixing the parameter c=1. Then I calculated the initial estimates of a 
and b using lm() on the linearized form. The function works well if I am giving a single 
variable as an dependent variable, but if I use some transformation of height (e.g. 
(H-1.3)) as dependent variable, the expression in lm()-model is not right. That is 
perhaps because of the mode of the object LHS is now "call", but I have not found 
how to get the program handle it correctly.  Has someone any idea? I am using R1.5.1 
on Windows NT.

Lauri

My code is

> dhexp <- deriv(~ a*exp(b*(D+5.8)^(-c)), c("a","b","c"), function(D,a,b,c) {} )
>
> dhexpInit <- function(mCall, LHS, data) {
+     equation <- paste('log(',LHS,') ~ I((',mCall[["D"]],'+5.8)^-1.0)')
+     print(equation)
+     linear <- lm(as.formula(equation),data=data)
+     value <- c(exp(coef(linear)[1]), coef(linear)[2], 1.0)
+     names(value) <- mCall[c("a", "b", "c")]
+     value
+     }
> 
> dhexp <- selfStart(dhexp, initial=dhexpInit)
>
> getInitial(height ~ dhexp(diameter,a,b,c), spruce)
[1] "log( height ) ~ I(( diameter +5.8)^-1.0)"
        a         b         c
 39.78098 -25.34938   1.00000
>
> getInitial(I(height-1.3) ~ dhexp(diameter,a,b,c), spruce)
[1] "log( I ) ~ I(( diameter +5.8)^-1.0)"
[2] "log( height - 1.3 ) ~ I(( diameter +5.8)^-1.0)"
Error in log(x) : Non-numeric argument to mathematical function
>
     tree.nr time diameter height
3486       2    0     14.3    9.9
3487       2    1     14.6   10.3
3488       2    2     14.8   10.5
3489       2    3     15.2   11.0
3490       4    0     18.4   13.7
3491       4    1     19.1   14.3
3492       4    2     19.5   14.3
3493       4    3     20.5   15.1
3494       6    0     16.0   13.9
3495       6    1     16.4   14.4

- - - - - - - - - - - - -
Lauri Meht?talo
Mets?ntutkimuslaitos
Joensuun tutkimuskeskus
PL 68 (Yliopistokatu 7)
80101 JOENSUU
lauri.mehtatalo at metla.fi
p. 013-251 4110
- - - - - - - - - - - - -
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Fri Jul 19 10:48:23 2002
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Fri, 19 Jul 2002 10:48:23 +0200
Subject: [R] Re: incorrect URL (PR#1764)
In-Reply-To: <200207100722.JAA11054@pubhealth.ku.dk>
References: <200207100722.JAA11054@pubhealth.ku.dk>
Message-ID: <15671.53847.165842.527134@galadriel.ci.tuwien.ac.at>

>>>>> On Wed, 10 Jul 2002 09:22:56 +0200 (MET DST),
>>>>> adrian  (a) wrote:

  > Hi - 
  > a tiny bug report:
  > the list of mirror sites given at www.r-project.org/
  > mentions
  > 	http://cran.mirror.aarnet.edu.au/
  > This domain does not exist (well, from Western Australia
  > netscape says the domain doesn't exist) but I found
  > the mirror at 
  > 	http://mirror.aarnet.edu.au/pub/CRAN/

>>>>> On Fri, 19 Jul 2002 09:58:31 +1000,
>>>>> Andrew C Ward (ACW) wrote:

  > One of the CRAN mirror links for Australia is not correct,
  > and I'm wondering how to have it updated.

  > The incorrect address is http://cran.mirror.aarnet.edu.au/
  > and the correct one is http://mirror.aarnet.edu.au/pub/CRAN/.



This is fixed now, sorry for the delay.

Best,
Fritz

-- 
-------------------------------------------------------------------
                        Friedrich Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Fri Jul 19 13:31:25 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Fri, 19 Jul 2002 07:31:25 -0400
Subject: [R] Problem with modification of [.factor
Message-ID: <20020719073125.7bd3bfcd.fharrell@virginia.edu>

Under

platform i586-pc-linux-gnu
arch     i586             
os       linux-gnu        
system   i586, linux-gnu  
status                    
major    1                
minor    5.0    [1.5.1 not available for Mandrake 8.1]    
year     2002             
month    04               
day      29               
language R                

when I modify [.factor to change the default drop=FALSE to drop=TRUE as such:

'[.factor' <- function(x, i, drop=TRUE) {
    y <- NextMethod("[")
    class(y) <- class(x)
    attr(y, "contrasts") <- attr(x, "contrasts")
    attr(y, "levels") <- attr(x, "levels")
    if (drop) 
        factor(y)
    else y
}

I get a recursion error:

> x <- factor(1:2,1:2,c('a','b'))
> x[]

Error in inherits(x, "factor") : evaluation is nested too deeply: infinite recursion?

If anyone has an explanation/fix I would appreciate getting it.

Thanks in advance,  -Frank
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Fri Jul 19 14:06:14 2002
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Fri, 19 Jul 2002 22:06:14 +1000
Subject: [R] Automatic adjustment of axis ranges
Message-ID: <20020719120003.DTVB12887.mta03.mail.mel.aone.net.au@there>

I had a look at this, and worked out most of a function to do it. There 
are three things I haven't been able to figure out, however.

1) Getting the last N lines of the command history into a vector of 
strings. I thought something like:

last.commands<-history(N)

would work, but no go. There doesn't seem to be a file that I can tail, 
either.

2) Finding continuation lines by parenthesis matching. I thought this 
would be easy, but split() doesn't seem to do what the help file says, viz.
"...in particular if split has length 0, x is split into single 
characters." Trying the following:

split("abc","")

I get:

[[1]]
[1] "abc"

not:

[1] "a" "b" "c"

3) Once I have the last plot command as a string, suitably modified, 
getting it to run.

Any suggestions?

Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul 19 14:00:00 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 19 Jul 2002 13:00:00 +0100 (BST)
Subject: [R] Problem with modification of [.factor
In-Reply-To: <20020719073125.7bd3bfcd.fharrell@virginia.edu>
Message-ID: <Pine.LNX.4.31.0207191252020.7415-100000@gannet.stats>

On Fri, 19 Jul 2002, Frank E Harrell Jr wrote:

> Under
>
> platform i586-pc-linux-gnu
> arch     i586
> os       linux-gnu
> system   i586, linux-gnu
> status
> major    1
> minor    5.0    [1.5.1 not available for Mandrake 8.1]
> year     2002
> month    04
> day      29
> language R
>
> when I modify [.factor to change the default drop=FALSE to drop=TRUE as such:
>
> '[.factor' <- function(x, i, drop=TRUE) {
>     y <- NextMethod("[")
>     class(y) <- class(x)
>     attr(y, "contrasts") <- attr(x, "contrasts")
>     attr(y, "levels") <- attr(x, "levels")
>     if (drop)
>         factor(y)
>     else y
> }
>
> I get a recursion error:
>
> > x <- factor(1:2,1:2,c('a','b'))
> > x[]
>
> Error in inherits(x, "factor") : evaluation is nested too deeply: infinite recursion?
>
> If anyone has an explanation/fix I would appreciate getting it.

traceback() is your friend:

5: "[.factor"(levels, is.na(match(levels, exclude)))
4: levels[is.na(match(levels, exclude))]
3: factor(y)
2: "[.factor"(x, )
1: x[]

I would caution you against changing the behaviour of a system class, not
least because with namespaces it will work differently and probably not
achieve what you wanted.  Define your own class instead.

But if you really, really want to do this, you need (in R < 1.6.0) to
redefine factor() too.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dray at biomserv.univ-lyon1.fr  Fri Jul 19 14:03:41 2002
From: dray at biomserv.univ-lyon1.fr (Stephane Dray)
Date: Fri, 19 Jul 2002 14:03:41 +0200
Subject: [R] RODBC and Excel Files
In-Reply-To: <3D37E386.18334.83BA33@localhost>
References: <3D37E386.18334.83BA33@localhost>
Message-ID: <a05010401b95dacac2ea7@[134.214.32.69]>

>
>I am not sure if sqlFetch works with Excel files. I used
>
>data.frame.name <- sqlQuery(connection,"select * from [listname$]")

Yes, I think that there is a problem with sqlFetch and Excel Files. 
So, I try with dbf file:

  > library(RODBC)
  > conection<-odbcConnect("dBASE Files")
  > sqlTables(conection)
    TABLE_CAT TABLE_SCHEM TABLE_NAME TABLE_TYPE REMARKS
1 F:\\THESE\\R          NA      doubs      TABLE      NA
  > sqlFetch(conection,"doubs")[1:5,]
   A B C D E F G H I J K L M N O P Q R S T U V W X Y Z +
1 0 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
2 0 5 4 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
3 0 5 5 5 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0
4 0 4 5 5 0 0 0 0 0 1 0 0 1 2 2 0 0 0 0 1 0 0 0 0 0 0 0
5 0 2 3 2 0 0 0 0 5 2 0 0 2 4 4 0 0 2 0 3 0 0 0 5 0 0 0

So it works with no problem...
Then i try the sqlSave:

  > sqlSave(conection,fau01,verbose=T)
[1] "CREATE TABLE fau01  (a varchar(255)  ,b varchar(255)  ,c 
varchar(255)  ,d varchar(255)  ,e varchar(255)  ,f varchar(255)  ,g 
varchar(255)  ,h varchar(255)  ,i varchar(255)  ,j varchar(255)  ,k 
varchar(255)  ,l varchar(255)  ,m varchar(255)  ,n varchar(255)  ,o 
varchar(255)  ,p varchar(255)  ,q varchar(255)  ,r varchar(255)  ,s 
varchar(255)  ,t varchar(255)  ,u varchar(255)  ,v varchar(255)  ,w 
varchar(255)  ,x varchar(255)  ,y varchar(255)  ,z varchar(255)  , 
varchar(255)  )"
Error in sqlColumns(channel, tablename) : fau01 :table not found on channel 0


So it seems that there are problems to create the new table. Then i 
create an empty dbf file ("fau01.dbf") and try another time the 
function:

  > sqlTables(conection)
    TABLE_CAT TABLE_SCHEM TABLE_NAME TABLE_TYPE REMARKS
1 F:\\TH?SE\\R          NA      doubs      TABLE      NA
2 F:\\TH?SE\\R          NA      fau01      TABLE      NA
  > sqlFetch(conection,"doubs")[1:5,]
   A B C D E F G H I J K L M N O P Q R S T U V W X Y Z +
1 0 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
2 0 5 4 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
3 0 5 5 5 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0
4 0 4 5 5 0 0 0 0 0 1 0 0 1 2 2 0 0 0 0 1 0 0 0 0 0 0 0
5 0 2 3 2 0 0 0 0 5 2 0 0 2 4 4 0 0 2 0 3 0 0 0 5 0 0 0
  > sqlSave(conection,fau01,verbose=T)
[1] "DELETE FROM fau01"
[1] "INSERT INTO fau01 ( 
A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z, ) VALUES ( 
?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,? )"
[1] 0
[1] "DROP TABLE fau01"
[1] "CREATE TABLE fau01  (a varchar(255)  ,b varchar(255)  ,c 
varchar(255)  ,d varchar(255)  ,e varchar(255)  ,f varchar(255)  ,g 
varchar(255)  ,h varchar(255)  ,i varchar(255)  ,j varchar(255)  ,k 
varchar(255)  ,l varchar(255)  ,m varchar(255)  ,n varchar(255)  ,o 
varchar(255)  ,p varchar(255)  ,q varchar(255)  ,r varchar(255)  ,s 
varchar(255)  ,t varchar(255)  ,u varchar(255)  ,v varchar(255)  ,w 
varchar(255)  ,x varchar(255)  ,y varchar(255)  ,z varchar(255)  , 
varchar(255)  )"
Error in sqlColumns(channel, tablename) : fau01 :table not found on channel 0

The table fau01.dbf has been removed but nothing created:
  > sqlTables(conection)
    TABLE_CAT TABLE_SCHEM TABLE_NAME TABLE_TYPE REMARKS
1 F:\\THESE\\R          NA      doubs      TABLE      NA

So it appears that i have only problems to export a dataframe. I 
don't know if it particular to my system...

  > version
          _             
platform i386-pc-mingw32
arch     x86           
os       Win32         
system   x86, Win32    
status                 
major    1             
minor    4.1           
year     2002          
month    01            
day      30
language R

-- 
St?phane DRAY
---------------------------------------------------------------
Biom?trie et Biologie ?volutive - Equipe "?cologie Statistique"
Universite Lyon 1 - Bat 711 - 69622 Villeurbanne CEDEX - France

Tel : 04 72 43 27 56			   Fax : 04 78 89 27 19
       04 72 43 27 57 	   E-mail : dray at biomserv.univ-lyon1.fr 
---------------------------------------------------------------
ADE-4               http://pbil.univ-lyon1.fr/ADE-4/ADE-4F.html
---------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul 19 14:39:39 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 19 Jul 2002 13:39:39 +0100 (BST)
Subject: [R] Automatic adjustment of axis ranges
In-Reply-To: <20020719120003.DTVB12887.mta03.mail.mel.aone.net.au@there>
Message-ID: <Pine.LNX.4.31.0207191334380.7595-100000@gannet.stats>

On Fri, 19 Jul 2002, Jim Lemon wrote:

> I had a look at this, and worked out most of a function to do it. There
> are three things I haven't been able to figure out, however.
>
> 1) Getting the last N lines of the command history into a vector of
> strings. I thought something like:
>
> last.commands<-history(N)
>
> would work, but no go. There doesn't seem to be a file that I can tail,
> either.

What platform and GUI?  Read the code for history(): savehistory() will
usually (depending on platform/GUI/flags) save the history to a file.


> 2) Finding continuation lines by parenthesis matching. I thought this
> would be easy, but split() doesn't seem to do what the help file says, viz.
> "...in particular if split has length 0, x is split into single
> characters." Trying the following:

That's because you are reading the help page for strsplit ... so try using
                                                 ~~~~~~~~
strsplit("abc", "")!

> split("abc","")

[...]

> 3) Once I have the last plot command as a string, suitably modified,
> getting it to run.

eval(parse(text="newcommand"))

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dray at biomserv.univ-lyon1.fr  Fri Jul 19 14:59:51 2002
From: dray at biomserv.univ-lyon1.fr (Stephane Dray)
Date: Fri, 19 Jul 2002 14:59:51 +0200
Subject: [R] RODBC and Excel Files
Message-ID: <a05010402b95dbafb8bad@[134.214.32.69]>

Sorry for previous post...
I find the reasons of my problems,

Windows used uppercase letter and i must precise it in my connection:
odbcConnect("dBASE Files",case="toupper")

And it is ok for excel Files.
For dbf files, there is another problem: by default, the size of the 
column is set to 255 in the function sqlSave (V7 in data.frame 
newname). This seems to be too much and when i change this value 
(e.g. v7=40) the problem is solved.

Sincerely,

-- 
St?phane DRAY
---------------------------------------------------------------
Biom?trie et Biologie ?volutive - Equipe "?cologie Statistique"
Universite Lyon 1 - Bat 711 - 69622 Villeurbanne CEDEX - France

Tel : 04 72 43 27 56			   Fax : 04 78 89 27 19
       04 72 43 27 57 	   E-mail : dray at biomserv.univ-lyon1.fr 
---------------------------------------------------------------
ADE-4               http://pbil.univ-lyon1.fr/ADE-4/ADE-4F.html
---------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dj at research.bell-labs.com  Fri Jul 19 15:00:00 2002
From: dj at research.bell-labs.com (David James)
Date: Fri, 19 Jul 2002 09:00:00 -0400
Subject: [R] Problem with modification of [.factor
In-Reply-To: <20020719073125.7bd3bfcd.fharrell@virginia.edu>; from fharrell@virginia.edu on Fri, Jul 19, 2002 at 07:31:25AM -0400
References: <20020719073125.7bd3bfcd.fharrell@virginia.edu>
Message-ID: <20020719090000.A16728@jessie.research.bell-labs.com>

Frank E Harrell Jr wrote:
> Under
> 
> platform i586-pc-linux-gnu
> arch     i586             
> os       linux-gnu        
> system   i586, linux-gnu  
> status                    
> major    1                
> minor    5.0    [1.5.1 not available for Mandrake 8.1]    
> year     2002             
> month    04               
> day      29               
> language R                
> 
> when I modify [.factor to change the default drop=FALSE to drop=TRUE as such:
> 
> '[.factor' <- function(x, i, drop=TRUE) {
>     y <- NextMethod("[")
>     class(y) <- class(x)
>     attr(y, "contrasts") <- attr(x, "contrasts")
>     attr(y, "levels") <- attr(x, "levels")
>     if (drop) 
>         factor(y)
>     else y
> }

A simple fix is 'x <- unclass(x)' prior to NextMethod().  But before
doing this, I'd consider Prof. Ripley's comments on this topic extremely 
carefully.

> 
> I get a recursion error:
> 
> > x <- factor(1:2,1:2,c('a','b'))
> > x[]
> 
> Error in inherits(x, "factor") : evaluation is nested too deeply: infinite recursion?
> 
> If anyone has an explanation/fix I would appreciate getting it.
> 
> Thanks in advance,  -Frank
> -- 
> Frank E Harrell Jr              Prof. of Biostatistics & Statistics
> Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
> U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christiaan.edward.swanepoel at sap.com  Fri Jul 19 15:16:58 2002
From: christiaan.edward.swanepoel at sap.com (Swanepoel, Christiaan Edward)
Date: Fri, 19 Jul 2002 15:16:58 +0200
Subject: [R] wilcox.test and ties
Message-ID: <333D9700B499084C9DF804896DDA7178BDFCF5@dewdfx14>

Hello,

when performing the wilcox.test on a sample (n=100) with the following frequency distribution:
Value	|	Frequency
----------------------------------------
0	|	10
0.1	|	88
1	|	1
2.6	|	1

I get the following error message:

Error in uniroot(wdiff, c(mumin, mumax), tol = 1e-04, zq = qnorm(alpha/2,  : 
	f() values at end points not of opposite sign

The error only occurs when I specify that the confidence interval should be computed.

Could anybody suggest how I can compute the confidence interval for this sample? Is the problem connected with the large number of ties and if so, how can I handle these ties?

Thanks in advance.

Regards
Chris

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Fri Jul 19 17:20:02 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Fri, 19 Jul 2002 11:20:02 -0400
Subject: [R] wilcox.test and ties
References: <333D9700B499084C9DF804896DDA7178BDFCF5@dewdfx14>
Message-ID: <3D382E22.E1AFA263@umsanet.edu.bo>



"Swanepoel, Christiaan Edward" wrote:
> 
> Hello,
> 
> when performing the wilcox.test on a sample (n=100) with the following frequency distribution:
> Value   |       Frequency
> ----------------------------------------
> 0       |       10
> 0.1     |       88
> 1       |       1
> 2.6     |       1
> 
> I get the following error message:
> 
> Error in uniroot(wdiff, c(mumin, mumax), tol = 1e-04, zq = qnorm(alpha/2,  :
>         f() values at end points not of opposite sign
> 
> The error only occurs when I specify that the confidence interval should be computed.
> 
> Could anybody suggest how I can compute the confidence interval for this sample? Is the problem connected with the large number of ties and if so, how can I handle these ties?

You could look inti the package exactRankTests.

Kjetil Halvorsen

> 
> Thanks in advance.
> 
> Regards
> Chris
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mel at mcs.st-and.ac.uk  Fri Jul 19 17:30:23 2002
From: mel at mcs.st-and.ac.uk (Mike Lonergan)
Date: Fri, 19 Jul 2002 16:30:23 +0100
Subject: [R] Automatic adjustment of axis ranges
In-Reply-To: <20020719120003.DTVB12887.mta03.mail.mel.aone.net.au@there>
Message-ID: <NEBBJLLBCLEDFLCCBKDAEEBLCHAA.mel@mcs.st-andrews.ac.uk>

Jim,

I was vaguely thinking about this as well. I thought the easiest way might
be to modify plot() to return an invisible list of its variables. Something
like:

    invisible(list(list(xy=xy, type=type, col = col, pch = pch, cex = cex,
bg = bg,
        lty = lty, lwd = lwd)))

Then write a plot.update(plot.list, normal_plot_stuff:x,y,type,etc)
that sets the xlim & ylim to the max required, redraws everything including
newstuff, and extends the list.

This is slightly inefficient in terms of memory usage etc, but such an
approach would permit an option to choose whether to use the saved original
values or any more recent modified ones that might be kicking around.

Something might be needed to handle "..." parameters, but I don't know what.

I haven't yet written the function because I'm so embarrassingly far behind
on what I am actually paid to do! (I'm not asking anyone else to do it, just
offering the thought to those interested & awaiting the reasons its a
foolish one.)

Cheers,

Mike.


     > -----Original Message-----
     > From: owner-r-help at stat.math.ethz.ch
     > [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Jim Lemon
     > Sent: 19 July 2002 13:06
     > To: R-help at stat.math.ethz.ch
     > Subject: Re: [R] Automatic adjustment of axis ranges
     >
     >
     > I had a look at this, and worked out most of a function to
     > do it. There
     > are three things I haven't been able to figure out, however.
     >
     > 1) Getting the last N lines of the command history into a vector of
     > strings. I thought something like:
     >
     > last.commands<-history(N)
     >
     > would work, but no go. There doesn't seem to be a file that
     > I can tail,
     > either.
     >
     > 2) Finding continuation lines by parenthesis matching. I
     > thought this
     > would be easy, but split() doesn't seem to do what the help
     > file says, viz.
     > "...in particular if split has length 0, x is split into single
     > characters." Trying the following:
     >
     > split("abc","")
     >
     > I get:
     >
     > [[1]]
     > [1] "abc"
     >
     > not:
     >
     > [1] "a" "b" "c"
     >
     > 3) Once I have the last plot command as a string, suitably modified,
     > getting it to run.
     >
     > Any suggestions?
     >
     > Jim
     > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
     > .-.-.-.-.-.-.-.-.-
     > r-help mailing list -- Read
     > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
     > Send "info", "help", or "[un]subscribe"
     > (in the "body", not the subject !)  To:
     > r-help-request at stat.math.ethz.ch
     > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
     > ._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Timo.Makelainen at helsinki.fi  Fri Jul 19 17:59:51 2002
From: Timo.Makelainen at helsinki.fi (=?ISO-8859-1?Q?Timo_M=E4kel=E4inen?=)
Date: Fri, 19 Jul 2002 18:59:51 +0300
Subject: [R] wilcox.test and ties
In-Reply-To: <333D9700B499084C9DF804896DDA7178BDFCF5@dewdfx14>
Message-ID: <3D3861A7.1303.114F390@localhost>

On 19 Jul 2002, at 15:16, Swanepoel, Christiaan Edward wrote:

> Hello,
> 
> when performing the wilcox.test on a sample (n=100) with the following
> frequency distribution: Value	|	Frequency
> ---------------------------------------- 0	|	10 0.1	|	88 1	|	1 2.6	|	1
> 
> I get the following error message:
> 
> Error in uniroot(wdiff, c(mumin, mumax), tol = 1e-04, zq =
> qnorm(alpha/2,  : 
>  f() values at end points not of opposite sign
> 
> The error only occurs when I specify that the confidence interval
> should be computed.
> 
> Could anybody suggest how I can compute the confidence interval for
> this sample? Is the problem connected with the large number of ties
> and if so, how can I handle these ties?

>From the help:

"By default (if exact is not specified), an exact p-value is computed 
if the samples contain less than 50 finite values and there
are no ties. Otherwise, a normal approximation is used."

The error message tells that a normal approximation is being 
attempted. On the other hand, I would rather not rely on a normal 
approximation here. With so few observations differing from 0.1, a 
hand computation might be easy for a high confidence level. 

In general, for the correct handling of ties entering data like yours 
as round( x, 1) can be tried.

> Thanks in advance.
> 
> Regards
> Chris
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.- r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help",
> or "[un]subscribe" (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._

Timo


Timo Makelainen, Department of Mathematics
University of Helsinki, P.O. Box 4 
FIN-00014 Helsinki 
Tel.: +358-9-19122863 
Fax:  +358-9-19123213
E-mail: Timo.Makelainen at Helsinki.Fi
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Timo.Makelainen at helsinki.fi  Fri Jul 19 17:59:51 2002
From: Timo.Makelainen at helsinki.fi (=?ISO-8859-1?Q?Timo_M=E4kel=E4inen?=)
Date: Fri, 19 Jul 2002 18:59:51 +0300
Subject: [R] wilcox.test and ties
In-Reply-To: <333D9700B499084C9DF804896DDA7178BDFCF5@dewdfx14>
Message-ID: <3D3861A7.1303.114F390@localhost>

On 19 Jul 2002, at 15:16, Swanepoel, Christiaan Edward wrote:

> Hello,
> 
> when performing the wilcox.test on a sample (n=100) with the following
> frequency distribution: Value	|	Frequency
> ---------------------------------------- 0	|	10 0.1	|	88 1	|	1 2.6	|	1
> 
> I get the following error message:
> 
> Error in uniroot(wdiff, c(mumin, mumax), tol = 1e-04, zq =
> qnorm(alpha/2,  : 
>  f() values at end points not of opposite sign
> 
> The error only occurs when I specify that the confidence interval
> should be computed.
> 
> Could anybody suggest how I can compute the confidence interval for
> this sample? Is the problem connected with the large number of ties
> and if so, how can I handle these ties?

>From the help:

"By default (if exact is not specified), an exact p-value is computed 
if the samples contain less than 50 finite values and there
are no ties. Otherwise, a normal approximation is used."

The error message tells that a normal approximation is being 
attempted. On the other hand, I would rather not rely on a normal 
approximation here. With so few observations differing from 0.1, a 
hand computation might be easy for a high confidence level. 

In general, for the correct handling of ties entering data like yours 
as round( x, 1) can be tried.

> Thanks in advance.
> 
> Regards
> Chris
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.- r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help",
> or "[un]subscribe" (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._

Timo


Timo Makelainen, Department of Mathematics
University of Helsinki, P.O. Box 4 
FIN-00014 Helsinki 
Tel.: +358-9-19122863 
Fax:  +358-9-19123213
E-mail: Timo.Makelainen at Helsinki.Fi
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Fri Jul 19 18:54:20 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Fri, 19 Jul 2002 12:54:20 -0400
Subject: [R] Workings of model.frame.default and [.
Message-ID: <20020719125420.55b079fa.fharrell@virginia.edu>

Related to my earlier question to which I received very helpful replies, when I provide a subsetting method that automatically drops unused levels of a factor variable, I am getting into a bit of trouble using model.frame.default.  I know that model.frame.default has its own mechanism for dropping unused levels, but my personal preference is to handle this on a more basic level using [.factor and to not specify drop.unused.levels=TRUE to model.frame.default.  That way subsetting operations that are not carried out by model.frame also work the way I want, especially [.data.frame when I attach or otherwise reference a subset of a data frame.

Inside model.frame.default, a 'variables' list is constructed.  For factor variables this has all the original levels.  Then .Internal(model.frame()) is invoked.  This will invoke my local [.factor which drops unused levels.  However, model.frame is affected by the disparity in levels between what's in 'variables' and what is returned during [.data.frame (which calls [.factor), causing model.frame to return an invalid factor variable in which levels are shifted and some real levels at the end have zero frequencies [I am leaving `drop.unused.levels'=FALSE when running model.frame].

Is model.frame doing this by intentional design?  If not, can it be fixed?  It seems to me that to be general .Internal(model.frame()) should not depend on levels not changing when [.data.frame is executed.  If model.frame really needs to operate this way, does anyone see a workaround?

Thanks again, and I'll put in one more plug for [.factor to be modified so that if a system option 'drop.unused.levels' is TRUE (i.e., NOT by default) drop=TRUE is assumed unless drop=FALSE is explicitly stated by the user.  Then I can dispose of my local [.factor once and for all.

Frank
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Timo.Makelainen at helsinki.fi  Fri Jul 19 19:03:19 2002
From: Timo.Makelainen at helsinki.fi (=?ISO-8859-1?Q?Timo_M=E4kel=E4inen?=)
Date: Fri, 19 Jul 2002 20:03:19 +0300
Subject: [R] wilcox.test and ties
In-Reply-To: <3D3861A7.1303.114F390@localhost>
References: <333D9700B499084C9DF804896DDA7178BDFCF5@dewdfx14>
Message-ID: <3D387087.28524.E3E6B@localhost>

On 19 Jul 2002, at 18:59, Timo M?kel?inen wrote:

> On 19 Jul 2002, at 15:16, Swanepoel, Christiaan Edward wrote:
> 
> > Hello,
> > 
> > when performing the wilcox.test on a sample (n=100) with the
> > following frequency distribution: Value	|	Frequency
> > ---------------------------------------- 0	|	10 0.1	|	88 1	|	1
> > 2.6	|	1
> > 
> > I get the following error message:
> > 
> > Error in uniroot(wdiff, c(mumin, mumax), tol = 1e-04, zq =
> > qnorm(alpha/2,  : 
> >  f() values at end points not of opposite sign
> > 
> > The error only occurs when I specify that the confidence interval
> > should be computed.
> > 
> > Could anybody suggest how I can compute the confidence interval for
> > this sample? Is the problem connected with the large number of ties
> > and if so, how can I handle these ties?
> 
> >From the help:
> 
> "By default (if exact is not specified), an exact p-value is computed
> if the samples contain less than 50 finite values and there are no
> ties. Otherwise, a normal approximation is used."
> 
> The error message tells that a normal approximation is being 
> attempted. 

Suggesting that  some ties have been correctly recognised.

On the other hand, I would rather not rely on a normal
> approximation here. With so few observations differing from 0.1, a
> hand computation might be easy for a high confidence level. 
> 
> In general, for the correct handling of ties entering data like yours
> as round( x, 1) can be tried.

Better, look at the code to see how they are handled.

> > Thanks in advance.
> > 
> > Regards
> > Chris
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -. -.-.-.-.- r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help",
> > or "[un]subscribe" (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _. _._._._._
> 
> Timo
> 
> 
> Timo Makelainen, Department of Mathematics
> University of Helsinki, P.O. Box 4 
> FIN-00014 Helsinki 
> Tel.: +358-9-19122863 
> Fax:  +358-9-19123213
> E-mail: Timo.Makelainen at Helsinki.Fi
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.- r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help",
> or "[un]subscribe" (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._

Timo
Timo Makelainen, Department of Mathematics
University of Helsinki, P.O. Box 4 
FIN-00014 Helsinki 
Tel.: +358-9-19122863 
Fax:  +358-9-19123213
E-mail: Timo.Makelainen at Helsinki.Fi
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Fri Jul 19 20:18:17 2002
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Fri, 19 Jul 2002 20:18:17 +0200
Subject: [R] controling graphic window size and asprec ratio in windows
Message-ID: <3D3857E9.3080606@univie.ac.at>

i am using the rarcinfo package
to draw maps.
for maps, th aspect ratio is quite important.
how can i control the aspect ratio and the size of a graphics window
in the mswindows version of R and more generally in R in general.
i would like to e able to both set the size before or while the window 
is corrected,
and also for a window which already exists.

-- 
--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul 19 20:36:58 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 19 Jul 2002 19:36:58 +0100 (BST)
Subject: [R] controling graphic window size and asprec ratio in windows
In-Reply-To: <3D3857E9.3080606@univie.ac.at>
Message-ID: <Pine.LNX.4.31.0207191933230.8526-100000@gannet.stats>

On Fri, 19 Jul 2002, Erich Neuwirth wrote:

> i am using the rarcinfo package
> to draw maps.
> for maps, th aspect ratio is quite important.
> how can i control the aspect ratio and the size of a graphics window
> in the mswindows version of R and more generally in R in general.
> i would like to e able to both set the size before or while the window
> is corrected,
> and also for a window which already exists.

?windows
?par: check asp.

Hope your keyboard is repaired very soon!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kevin.Bartz at FMR.COM  Fri Jul 19 20:37:55 2002
From: Kevin.Bartz at FMR.COM (Bartz, Kevin)
Date: Fri, 19 Jul 2002 14:37:55 -0400
Subject: [R] Rprof and setMethod conflict?
Message-ID: <763C275E6A1C2248AFD475237AD6135BE7CF97@MSGBOS576NTS.fmr.com>

I noticed this oddity about R profiling and setMethod.

First, I "test out" Rprof.

> require(methods)
Loading required package: methods 
[1] TRUE
> 
> Rprof("test.out")
> data.frame("a")
  X.a.
1    a
> Rprof(NULL)

So far, so good. Next, I define myClass.

> setClass("myClass", representation(mySlot = "numeric"))
[1] "myClass"
> setMethod("as.data.frame", signature(x = "myClass"),
+           function(x, row.names, optional) { "as.data.frame for myClass"
})
Creating a new generic function for "as.data.frame" on 
element 1 of the search path 
[1] "as.data.frame"

Again, everything is fine. I've expanded as.data.frame to accept objects of
class myClass. Now, let's try the standard data.frame("a") again:

> data.frame("a")
  X.a.
1    a

Still, no problems. But after I start R profiling, problems arise:

> Rprof("test2.out")
> data.frame("a")
Error in standardGeneric("as.data.frame") : 
	UseMethod used in an inappropriate fashion

It seems that I can no longer use the standard method for as.data.frame in
an R profiling sequence once I've defined a new method for it. However, I
CAN use the standard as.data.frame method when I'm NOT R profiling.

Is this the intended behavior? And if so, is there any way I can R profile
code that defines a new class with such methods?

Thanks,

Kevin

> R.version
         _                   
platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    5.1                 
year     2002                
month    06                  
day      17                  
language R                   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From White.Denis at epamail.epa.gov  Fri Jul 19 21:13:30 2002
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Fri, 19 Jul 2002 12:13:30 -0700
Subject: [R] controling graphic window size and asprec ratio in windows
Message-ID: <OF2228C4B6.D1E3B95E-ON88256BFB.00697DD2@rtp.epa.gov>


> i am using the rarcinfo package
> to draw maps.
> for maps, th aspect ratio is quite important.
> how can i control the aspect ratio and the size of a graphics window
> in the mswindows version of R and more generally in R in general.
> i would like to e able to both set the size before or while the window
> is corrected,
> and also for a window which already exists.

See plot.windows ( , asp=).  plotarc, plotpal, and plotpoly in RArcInfo
should probably set up with asp=1.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tklistaddr at keittlab.bio.sunysb.edu  Fri Jul 19 21:53:42 2002
From: tklistaddr at keittlab.bio.sunysb.edu (Timothy H. Keitt)
Date: 19 Jul 2002 15:53:42 -0400
Subject: [R] controling graphic window size and asprec ratio in windows
In-Reply-To: <3D3857E9.3080606@univie.ac.at>
References: <3D3857E9.3080606@univie.ac.at>
Message-ID: <1027108422.28152.64.camel@keittlab-6>

I just ran into that with my GDAL package. Here's an excerpt:

  par.in <- par(no.readonly = TRUE)

  if (reset.par) on.exit(par(par.in))

  par(pin = max(par.in$pin)
      * par.in$fin / max(par.in$fin)
      * rev(plot.dim) / max(plot.dim))

plot.dim gives the rows and cols of the image data. There are some other
adjustments that one could make, but note that if you manually resize
the plot window, the aspect ratio (from R's perspective) does not
change--you have to start a new plot window with the specified size.

Tim


On Fri, 2002-07-19 at 14:18, Erich Neuwirth wrote:
> i am using the rarcinfo package
> to draw maps.
> for maps, th aspect ratio is quite important.
> how can i control the aspect ratio and the size of a graphics window
> in the mswindows version of R and more generally in R in general.
> i would like to e able to both set the size before or while the window 
> is corrected,
> and also for a window which already exists.
> 
> -- 
> --
> Erich Neuwirth, Computer Supported Didactics Working Group
> Visit our SunSITE at http://sunsite.univie.ac.at
> Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at stat.umn.edu  Fri Jul 19 22:03:17 2002
From: luke at stat.umn.edu (Luke Tierney)
Date: Fri, 19 Jul 2002 15:03:17 -0500
Subject: [R] Rprof and setMethod conflict?
In-Reply-To: <763C275E6A1C2248AFD475237AD6135BE7CF97@MSGBOS576NTS.fmr.com>; from Kevin.Bartz@FMR.COM on Fri, Jul 19, 2002 at 02:37:55PM -0400
References: <763C275E6A1C2248AFD475237AD6135BE7CF97@MSGBOS576NTS.fmr.com>
Message-ID: <20020719150317.A16291@nokomis.stat.umn.edu>

This sounds like a bug in the usemethod code.  Profiling adds an extra
evaluation context around builtins and that can confuse things that
don't take this into account.  I unfortunately don't have time to
track this properly now, but on a quick glance it looks like changing

    cptr = R_GlobalContext;
    if ( !(cptr->callflag & CTXT_FUNCTION) || cptr->cloenv != env)
	error("UseMethod used in an inappropriate fashion");

it two places in objects.c to

    cptr = R_GlobalContext;
    if (cptr->callflag == CTXT_BUILTIN)
        cptr = cptr->nextcontext;
    if ( !(cptr->callflag & CTXT_FUNCTION) || cptr->cloenv != env)
	error("UseMethod used in an inappropriate fashion");

might fix this.

luke

On Fri, Jul 19, 2002 at 02:37:55PM -0400, Bartz, Kevin wrote:
> I noticed this oddity about R profiling and setMethod.
> 
> First, I "test out" Rprof.
> 
> > require(methods)
> Loading required package: methods 
> [1] TRUE
> > 
> > Rprof("test.out")
> > data.frame("a")
>   X.a.
> 1    a
> > Rprof(NULL)
> 
> So far, so good. Next, I define myClass.
> 
> > setClass("myClass", representation(mySlot = "numeric"))
> [1] "myClass"
> > setMethod("as.data.frame", signature(x = "myClass"),
> +           function(x, row.names, optional) { "as.data.frame for myClass"
> })
> Creating a new generic function for "as.data.frame" on 
> element 1 of the search path 
> [1] "as.data.frame"
> 
> Again, everything is fine. I've expanded as.data.frame to accept objects of
> class myClass. Now, let's try the standard data.frame("a") again:
> 
> > data.frame("a")
>   X.a.
> 1    a
> 
> Still, no problems. But after I start R profiling, problems arise:
> 
> > Rprof("test2.out")
> > data.frame("a")
> Error in standardGeneric("as.data.frame") : 
> 	UseMethod used in an inappropriate fashion
> 
> It seems that I can no longer use the standard method for as.data.frame in
> an R profiling sequence once I've defined a new method for it. However, I
> CAN use the standard as.data.frame method when I'm NOT R profiling.
> 
> Is this the intended behavior? And if so, is there any way I can R profile
> code that defines a new class with such methods?
> 
> Thanks,
> 
> Kevin
> 
> > R.version
>          _                   
> platform sparc-sun-solaris2.6
> arch     sparc               
> os       solaris2.6          
> system   sparc, solaris2.6   
> status                       
> major    1                   
> minor    5.1                 
> year     2002                
> month    06                  
> day      17                  
> language R                   
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From asimon at u.washington.edu  Sat Jul 20 00:15:19 2002
From: asimon at u.washington.edu (A. Simon)
Date: Fri, 19 Jul 2002 15:15:19 -0700 (PDT)
Subject: No subject
Message-ID: <Pine.A41.4.44.0207191512570.74584-100000@homer04.u.washington.edu>


Hi, I am learining how to use R, specifically the princomp() function, and
I am trying to replicate the results I get in SPSS with no luck, can
anyone give me the equivalent options in SPSS' factor analysis routine?
Thanks, Adam





_____________________________________________________________________
Adam F. Simon
Department of Political Science                44 Gowen Hall
University of Washington                       Office: (206) 616-3584
Seattle, WA  98195-3530                        Fax:    (206) 685-2146

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cchampod at mac.com  Sat Jul 20 02:10:47 2002
From: cchampod at mac.com (Christophe Champod)
Date: Sat, 20 Jul 2002 00:10:47 +0000
Subject: [R] Plotting a section of a dendrogram
Message-ID: <B95E5B07.1A1D%cchampod@mac.com>

Dear all,

I am trying to do very basic plots of dendrograms and need some help.

I am working on Mac OS X with R1.50. Library (cluster)

I have performed clustering analysis with hclust (Ward's method) on a
database of 800 samples. As you may imagine the full dendrogram is not
really readable. I have obtained groups with cutree. I would like to plot
sub-sections of my big dendrogram to show group 1, group 2 and so on.

I feel really studid, but I haven't found a easy way to do it. Any help will
be greatly appreciated.

Thanks a lot

Christophe

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From White.Denis at epamail.epa.gov  Sat Jul 20 01:48:48 2002
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Fri, 19 Jul 2002 16:48:48 -0700
Subject: [R] Plotting a section of a dendrogram
Message-ID: <OF22687B12.232E9C35-ON88256BFB.008274E6@rtp.epa.gov>


> I have performed clustering analysis with hclust (Ward's method) on a
> database of 800 samples. As you may imagine the full dendrogram is not
> really readable. I have obtained groups with cutree. I would like to
plot
> sub-sections of my big dendrogram to show group 1, group 2 and so on.

I don't think R has anything like subtree in Splus, unfortunately.  I
think what has been recommended in the past is to create a very large
format plot (using a large paper size in pdf(), for example) and then
zoom in to look at subtrees.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bmagill at earthlink.net  Sat Jul 20 07:05:55 2002
From: bmagill at earthlink.net (Brett Magill)
Date: Sat, 20 Jul 2002 00:05:55 -0500
Subject: [R] RE: 
In-Reply-To: <Pine.A41.4.44.0207191512570.74584-100000@homer04.u.washington.edu>
Message-ID: <MBBBLGJNHNDJCJCCJCNGIEFECAAA.bmagill@earthlink.net>

princomp() would be the wrong function for factor analysis.  While SPSS uses
principal components and principal factor as possible estimation methods,
with PC as the default, R does not implement these methods.  The factanal()
function uses maximum likelihood with optional varimax or promax rotations.
This can be replicated in SPSS by changing the estimation method.

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of A. Simon
Sent: Friday, July 19, 2002 5:15 PM
To: r-help at stat.math.ethz.ch
Subject:



Hi, I am learining how to use R, specifically the princomp() function, and
I am trying to replicate the results I get in SPSS with no luck, can
anyone give me the equivalent options in SPSS' factor analysis routine?
Thanks, Adam





_____________________________________________________________________
Adam F. Simon
Department of Political Science                44 Gowen Hall
University of Washington                       Office: (206) 616-3584
Seattle, WA  98195-3530                        Fax:    (206) 685-2146

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laura at bayesian-bay.freeserve.co.uk  Fri Jul 19 16:43:03 2002
From: laura at bayesian-bay.freeserve.co.uk (laura@bayesian-bay.freeserve.co.uk)
Date: Fri, 19 Jul 2002 14:43:03 +0000
Subject: [R] Problems with Lattice Package
Message-ID: <20020719144303.CQSZ23487.fep08-svc.ttyl.com@localhost>

Dear List

I am having trouble installing the package 'Lattice'.

I have tried to install as I have done for others by using

install.packages("lattice")

which seems to work ok and places a 'lattice' file in the R library

However, when I run library(lattice) to call it, I keep getting the following error:

Error in parse(file, n, text, prompt) : syntax error on line 2018

Could anybody tell me why I am getting this and how I can get this package to work?

Many thanks
Laura

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laura at bayesian-bay.freeserve.co.uk  Sat Jul 20 15:11:10 2002
From: laura at bayesian-bay.freeserve.co.uk (laura@bayesian-bay.freeserve.co.uk)
Date: Sat, 20 Jul 2002 13:11:10 +0000
Subject: [R] Problems installing 'lattice' package
Message-ID: <20020720131110.CVER1188.fep06-svc.ttyl.com@localhost>

Dear List

I have installed the 'lattice' package by using 'install.package("lattice") 

It appears to have created a lattice folder in my R library as I would expect.

I have tried to call the package by library(lattice) but I am getting the following error message:

Error in parse(file, n, text, prompt) : syntax error on line 2018

Could anybody tell me why this is happening and what I can do to get it running 

Many thanks
Laura



_______________________________________________________________________




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jul 20 16:16:51 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 20 Jul 2002 15:16:51 +0100 (BST)
Subject: [R] Problems installing 'lattice' package
In-Reply-To: <20020720131110.CVER1188.fep06-svc.ttyl.com@localhost>
Message-ID: <Pine.LNX.4.31.0207201510530.9725-100000@gannet.stats>

All recent versions of R (1.5.x) are supposed to have grid and and lattice
already installed.  So what version of R is this, on what platform, and
how did you install R?

If you are not using R 1.5.x, the first step is to install 1.5.1.
The packages on CRAN are only tested with the current (and near-future)
versions of R.

On Sat, 20 Jul 2002 laura at bayesian-bay.freeserve.co.uk wrote:

> Dear List
>
> I have installed the 'lattice' package by using 'install.package("lattice")
>
> It appears to have created a lattice folder in my R library as I would expect.
>
> I have tried to call the package by library(lattice) but I am getting the following error message:
>
> Error in parse(file, n, text, prompt) : syntax error on line 2018
>
> Could anybody tell me why this is happening and what I can do to get it running
>
> Many thanks
> Laura
>
>
>
> _______________________________________________________________________
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hack at pedos.hr  Sat Jul 20 23:42:34 2002
From: hack at pedos.hr (Branimir K. Hackenberger)
Date: Sat, 20 Jul 2002 23:42:34 +0200
Subject: [R] analysis of means
Message-ID: <000101c23036$6d9dcaa0$0100a8c0@xp>

Dear List,

an alternative method to ANOVA is the analysis of means (ANOM). The ANOM
has two advantages over the ANOVA: 

if any of the sample means are statistically different, the ANOM
indicates which ones are different; 
the ANOM allows to easily evaluate the practical significance of the
differences. 
I would like to know which R-package contains function(s) for ANOM ?
 

Many thanks

Branimir K. Hackenberger





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From RML27 at cornell.edu  Sun Jul 21 08:32:45 2002
From: RML27 at cornell.edu (Ronnen Levinson)
Date: Sat, 20 Jul 2002 23:32:45 -0700
Subject: [R] Trouble With Dates; Recommended Reference?
Message-ID: <AB1F18BC-9C73-11D6-9F6C-000502312E6E@cornell.edu>

Hi.

I'm having a little difficulty with R1.5.1. To wit:

(1) Can anyone explain the following behavior?

 > a=strptime("2002-06-01 12:15:01","%Y-%m-%d %H:%M:%S")
 > a
[1] "2002-06-01 12:15:01"
 > a+0
[1] "1932-04-25 21:46:45"
 > a+3600
[1] "1932-04-25 22:46:45"

(2) Can anyone recommend an introductory R text other than that supplied 
with the R package? My objective is to use R
to filter, plot, and regress experimental data. So far I have read the 
Intro To R file and have spent many hours hunting through the reference
files to try to understand R syntax and find useful features that are 
generally buried within. Of the dozen or so languages that I work with, 
this has been one of the most perplexing to learn from the supplied 
manuals.

Thanks,

Ronnen.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jul 21 09:19:36 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 21 Jul 2002 08:19:36 +0100 (BST)
Subject: [R] Trouble With Dates; Recommended Reference?
In-Reply-To: <AB1F18BC-9C73-11D6-9F6C-000502312E6E@cornell.edu>
Message-ID: <Pine.LNX.4.31.0207210812590.18587-100000@gannet.stats>

On Sat, 20 Jul 2002, Ronnen Levinson wrote:

> Hi.
>
> I'm having a little difficulty with R1.5.1. To wit:
>
> (1) Can anyone explain the following behavior?

No. I can't reproduce it either.  Platform?  Your build is definitely
broken, and that probably means some facility of the OS used is broken.

>  > a=strptime("2002-06-01 12:15:01","%Y-%m-%d %H:%M:%S")
>  > a
> [1] "2002-06-01 12:15:01"
>  > a+0
> [1] "1932-04-25 21:46:45"
>  > a+3600
> [1] "1932-04-25 22:46:45"
>
> (2) Can anyone recommend an introductory R text other than that supplied
> with the R package? My objective is to use R
> to filter, plot, and regress experimental data. So far I have read the
> Intro To R file and have spent many hours hunting through the reference
> files to try to understand R syntax and find useful features that are
> generally buried within. Of the dozen or so languages that I work with,
> this has been one of the most perplexing to learn from the supplied
> manuals.

That's not the intention.  R is an implementation of the S language.
You need to read one or more books on the language, and yes, that will not
be free.  There are recommendations in the FAQ, no less.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Sun Jul 21 13:31:58 2002
From: wolski at molgen.mpg.de (Eryk Wolski)
Date: Sun, 21 Jul 2002 13:31:58 +0200 (MET DST)
Subject: [R] Trouble With Dates; Recommended Reference?
Message-ID: <Pine.OSF.4.31.0207211321140.16793-100000@molgix.molgen.mpg.de>

Hi!
There is a book about the R/S language for free and worth reading. It's
called "S Poetry" and you will find it here:
http://www.seanet.com/~pburns/Spoetry/

If you anyway want spent some money for a book to learn about the
syntax a clear and concise intro is that by Andreas Krause published by Springer.

But the best is to take package that is doing something similar to that
what
you want to do and read the source.

Eryk.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sholl at gmx.net  Sun Jul 21 14:47:40 2002
From: sholl at gmx.net (Stephan Holl)
Date: Sun, 21 Jul 2002 14:47:40 +0200
Subject: [R] boxplot(): formating median in another linethickness?
Message-ID: <20020721144740.50322e53.sholl@gmx.net>

Dear guRus,
I want to do some boxplots, but the median sould appear in another
line-thickness and another color.
I do not know, what to do in order to realise my wishes.

Sorry for that question, but I am new to R.

cheers
  steph


-- 
Linux: the operating system with a CLUE...
         Command Line User Environment.
--------------------------------------
Stephan Holl
GnuPG Key-ID: 11946A09
ICQ# 117277975 
--------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020721/90fbdc87/attachment.bin

From ligges at statistik.uni-dortmund.de  Sun Jul 21 16:04:19 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 21 Jul 2002 16:04:19 +0200
Subject: [R] boxplot(): formating median in another linethickness?
References: <20020721144740.50322e53.sholl@gmx.net>
Message-ID: <3D3ABF63.33B118C5@statistik.uni-dortmund.de>



Stephan Holl wrote:
> 
> Dear guRus,
> I want to do some boxplots, but the median sould appear in another
> line-thickness and another color.
> I do not know, what to do in order to realise my wishes.
> 
> Sorry for that question, but I am new to R.

You have to adapt the function bxp() for your purposes:
If you use fix(bxp), you can change the color in lines 27 and 38.
It's a nice programming exercise to add an argument to boxplot() that
colors the median differently from the other borders (and thus passes
the argument to bxp() appropriately).

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Sun Jul 21 17:00:57 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Sun, 21 Jul 2002 10:00:57 -0500
Subject: [R] boxplot(): formating median in another linethickness? 
Message-ID: <001201c230c7$6c08dae0$0201a8c0@MARC>

Stephan Holl wrote: 
> 
> Dear guRus, 
> I want to do some boxplots, but the median should appear in another 
> line-thickness and another color. 
> I do not know, what to do in order to realise my wishes. 
> 
> Sorry for that question, but I am new to R. 


There are a couple of approaches:

1. As Uwe has pointed out, you could modify the code for bxp().


OR 


2. When you call the boxplot() function, call it with the following
syntax:

> P <- boxplot("...")

Where the "..." is your specific set of arguments. This assigns the
results of the boxplot call to "P", which is a list of values that
contains plotting summary information for your data. You can use
something other than P of course if you wish.

Type in "P" at the command line (without the quotes) so you can see the
contents of the list. See "Value" in the boxplot help file text
(?boxplot) for a description of the contents of the list.

After plotting your data, use one of the two following calls depending
upon whether you are plotting your graphic vertically or horizontally:

Horizontal:

segments(P$stats[3, ], 1:length(P$n)  - 0.4, P$stats[3, ], 1:length(P$n)
+ 0.4, lwd = 3, col = "YourColor")

Vertical:

segments(1:length(P$n)  - 0.4, P$stats[3, ], 1:length(P$n) + 0.4,
P$stats[3, ], lwd = 3, col = "YourColor")


The above calls will need to be modified depending upon whether you have
modified the width, boxwex or varwidth settings and if you are drawing
notches.  The "0.4" values that I use above are for the default "width"
of 1, a default "boxwex" of 0.8, a default varwidth = FALSE and with no
notches being drawn. Thus, the 0.4 is the result of (1 * 0.8) / 2, which
is half the default box width.

If you are drawing notches, the default notch width adjustment is 0.5,
so further multiply the 0.4 I have above by 0.5, so it becomes 0.2.

In R, the box centers are integer values equal to the number of groups
in your data.  Thus the "1:length(P$n)" values define the box centers,
either on the x or y axis depending upon the orientation of your plot.
This presumes that you have not modified the default values with the "at
= " argument.

The P$Stats[3, ] data is the row vector of median values, one for each
group from the list.

The result of the segments call then draws a series of median lines with
the line width that your define by the "lwd =" parameter and the color
that you define with the "col = " parameter.


Which approach you take depends upon how complex you are making the
boxplot.  If you are doing a straight-forward plot, then option 2 I
think would be the easiest and you can use the segments calls as I have
them above.

If you are doing some more complex width or other location adjustments,
then the first option suggested by Uwe would be easier, since the
required code for making the various adjustments is already done for
you.

HTH.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sholl at gmx.net  Sun Jul 21 17:55:43 2002
From: sholl at gmx.net (Stephan Holl)
Date: Sun, 21 Jul 2002 17:55:43 +0200
Subject: [R] boxplot(): formating median in another linethickness?
In-Reply-To: <001201c230c7$6c08dae0$0201a8c0@MARC>
References: <001201c230c7$6c08dae0$0201a8c0@MARC>
Message-ID: <20020721175543.50242a03.sholl@gmx.net>

Dear MArc,

On Sun, 21 Jul 2002 10:00:57 -0500, "Marc Schwartz"
<mschwartz at medanalytics.com> wrote:

> Which approach you take depends upon how complex you are making the
> boxplot.  If you are doing a straight-forward plot, then option 2 I
> think would be the easiest and you can use the segments calls as I
> have them above.
Thank you very much for your detailed help! I am just doing
strait-forward boxplots, 
and number 2 is just what I wanted.
R is so adjustable, but you have to know how! ;-)

cheers 
  steph

-- 
Linux: the operating system with a CLUE...
         Command Line User Environment.
--------------------------------------
Stephan Holl
GnuPG Key-ID: 11946A09
ICQ# 117277975 
--------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020721/3d0e5e49/attachment.bin

From sholl at gmx.net  Sun Jul 21 22:58:05 2002
From: sholl at gmx.net (Stephan Holl)
Date: Sun, 21 Jul 2002 22:58:05 +0200
Subject: [R] change margins or regions?!
Message-ID: <20020721225805.42a54e0a.sholl@gmx.net>

Dear guRus, 

after solving serveral other probs with boxplots, my ylabs do not appear
correct.
They area cut off.
I guess I have to change the letf and right margins, but I do not know
how.
Here is an example:
http://frosch.homelinux.org/tmp/plot.png

Thats the code i tried to use:
<R-code>
oldpar <- par()
# changing the margins
par(mar=c(4.1,5.1,4.1,5.1) +0.1)
P <- boxplot(bs.s ~ geologie, data=frame34, xlab="Gew.-Prozent der
Sand-Gehalte [%]", col="grey", main=("Boxplot der Sandgehalte im
Einzugsgebiet Hacketal"), horizontal=T, axes=F, varwidth=T)
segments(P$stats[3, ], 1:length(P$n)  - 0.4, P$stats[3, ], 1:length(P$n)
+ 0.4, lwd = 3, col = "black")
box()
par(las=2)
axis(2, label=P$names)
axis(4, label=P$n)
par(las=1)
axis(1)
dev.off()
par(oldpar)
</R-code>

another possible sollution would be to change the ylabs to letters
1:length(P$n)
and make a legend nearby
(...but I dont know how to use the legend-command ;-()

Anyway, thank you for your help
steph

-- 
Linux: the operating system with a CLUE...
         Command Line User Environment.
--------------------------------------
Stephan Holl
GnuPG Key-ID: 11946A09
ICQ# 117277975 
--------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020721/2bb9d01d/attachment.bin

From mschwartz at medanalytics.com  Mon Jul 22 03:42:34 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Sun, 21 Jul 2002 20:42:34 -0500
Subject: [R] change margins or regions?!
In-Reply-To: <20020721225805.42a54e0a.sholl@gmx.net>
Message-ID: <006801c23121$0e0cd900$0201a8c0@MARC>

> -----Original Message-----
> Dear guRus,
> 
> after solving serveral other probs with boxplots, my ylabs do not
appear
> correct.
> They area cut off.
> I guess I have to change the letf and right margins, but I do not know
> how.
> Here is an example:
> http://frosch.homelinux.org/tmp/plot.png
> 
> Thats the code i tried to use:
> <R-code>
> oldpar <- par()
> # changing the margins
> par(mar=c(4.1,5.1,4.1,5.1) +0.1)
> P <- boxplot(bs.s ~ geologie, data=frame34, xlab="Gew.-Prozent der
> Sand-Gehalte [%]", col="grey", main=("Boxplot der Sandgehalte im
> Einzugsgebiet Hacketal"), horizontal=T, axes=F, varwidth=T)
> segments(P$stats[3, ], 1:length(P$n)  - 0.4, P$stats[3, ],
1:length(P$n)
> + 0.4, lwd = 3, col = "black")
> box()
> par(las=2)
> axis(2, label=P$names)
> axis(4, label=P$n)
> par(las=1)
> axis(1)
> dev.off()
> par(oldpar)
> </R-code>
> 
> another possible sollution would be to change the ylabs to letters
> 1:length(P$n)
> and make a legend nearby
> (...but I dont know how to use the legend-command ;-()
> 
> Anyway, thank you for your help
> steph

Stephan,

The par(mar = ...) call that you are making is the means (one of them)
to change the size of the margins.  Look at ?par and scroll down to
"mar", which describes the use of the parameter.  The values that you
are including define the bottom, left, top and right hand sides of the
plot in that order, measured in lines of text.  Increasing the second
and fourth values will change your left and right margins, respectively.

An alternative option, if wider margins begin to compromise the
presentation of your plot, is to consider using appropriate and
meaningful abbreviations for your labels in lieu of longer text.

May I suggest that you review the Introduction to R reference which you
can access via the Help menu in R.  This goes through much of the basics
of plotting in R and I think would be helpful for you.

Also, on CRAN under Documentation, are some very good contributed
documents that review many of the plotting basics, which I think would
also be helpful for you to download and review.

I note from your code and graphic that you are using varwidth = T in the
boxplot. The median line segments that you are plotting based upon the
code that I provided earlier are not being adjusted in the plot
accordingly.  If you wish to have these lines be the same width as the
boxes, you will need to either modify the code that I provided with an
adjustment to the lengths of the segments or consider Uwe's suggestion
earlier to modify the underlying procedure.

HTH.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Richard.Rowe at jcu.edu.au  Mon Jul 22 03:43:35 2002
From: Richard.Rowe at jcu.edu.au (Richard Rowe)
Date: Mon, 22 Jul 2002 11:43:35 +1000
Subject: [R] finding the colour at a point 
Message-ID: <5.0.0.25.1.20020722113047.02b131e0@pop.jcu.edu.au>

I think this was asked recently but I can't find the item.

Is it possible to find the colour at a point on a graphics page?

I want to estimate the area of a complex shape by colouring it then random 
sampling from an enclosing box ...

Richard Rowe

Richard Rowe
Senior Lecturer
Department of Zoology and Tropical Ecology, James Cook University
Townsville, Queensland 4811, Australia
fax (61)7 47 25 1570
phone (61)7 47 81 4851
e-mail: Richard.Rowe at jcu.edu.au
http://www.jcu.edu.au/school/tbiol/zoology/homepage.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wvedder at houston.rr.com  Mon Jul 22 04:01:17 2002
From: wvedder at houston.rr.com (William Vedder)
Date: Sun, 21 Jul 2002 21:01:17 -0500
Subject: [R] Vector Manipulation
Message-ID: <3D3B676D.9D679909@houston.rr.com>

Greetings,

I wonder if someone could point me towards a more elegent solution than
what I"ve kluged together.  I have a vector "samp1" of 296 integers.
They are sorted in ascending order and the numbers range from 177 to
228,953.  I'd like to specify N non-overlapping intervals covering the
range from 0 to 229,354 and then for each range, count the number of
integers from samp1 that fall into that range.  What I'll end up with is
an N element vector with each element representing the number of
integers from samp1 found in the Nth range.

Can someone point me to a function / procedure that allows me to specify
the non-overalpping intervals? and also one that I can use to do the
counting?

Best,
Bill Vedder

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Mon Jul 22 04:25:45 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Sun, 21 Jul 2002 21:25:45 -0500
Subject: [R] Vector Manipulation
In-Reply-To: <006901c23126$5225c340$0201a8c0@MARC>
Message-ID: <006a01c23127$1662bb50$0201a8c0@MARC>

> Greetings,
> 
> 
> I wonder if someone could point me towards a more elegent solution
than
> what I"ve kluged together. I have a vector "samp1" of 296 integers.
> They are sorted in ascending order and the numbers range from 177 to
> 228,953. I'd like to specify N non-overlapping intervals covering the
> range from 0 to 229,354 and then for each range, count the number of
> integers from samp1 that fall into that range. What I'll end up with
is
> an N element vector with each element representing the number of
> integers from samp1 found in the Nth range.
> 		
> 
> Can someone point me to a function / procedure that allows me to
specify
> 
> the non-overalpping intervals? and also one that I can use to do the
> counting?
> 
> 
> Best,
> Bill Vedder

Bill,

Take a look at ?cut and ?hist.  With hist(), look at the values returned
when "plot = FALSE".

HTH.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Mon Jul 22 06:14:08 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Mon, 22 Jul 2002 14:14:08 +1000
Subject: [R] Vector Manipulation
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A916526B@Roper-CV.qld.cmis.csiro.au>

Bill Vedder asks and Marc Schwartz offers a reply:

>  -----Original Message-----
> From: 	Marc Schwartz [mailto:mschwartz at medanalytics.com] 
> Sent:	Monday, July 22, 2002 12:26 PM
> To:	wvedder at houston.rr.com; r-help at stat.math.ethz.ch
> Subject:	Re: [R] Vector Manipulation
> 
> > Greetings,
> > 
> > 
> > I wonder if someone could point me towards a more elegent solution
> than
> > what I"ve kluged together. I have a vector "samp1" of 296 integers.
> > They are sorted in ascending order and the numbers range from 177 to
> > 228,953. I'd like to specify N non-overlapping intervals covering the
> > range from 0 to 229,354 and then for each range, count the number of
> > integers from samp1 that fall into that range. What I'll end up with
> is
> > an N element vector with each element representing the number of
> > integers from samp1 found in the Nth range.
> > 		
> > 
> > Can someone point me to a function / procedure that allows me to
> specify
> > 
> > the non-overalpping intervals? and also one that I can use to do the
> > counting?
> > 
> > 
> > Best,
> > Bill Vedder
> 
> Bill,
> 
> Take a look at ?cut and ?hist.  With hist(), look at the values returned
> when "plot = FALSE".
> 
> HTH.
> 
> Marc
> 
	[WNV]  Let me offer a different possibility, if only mildly
different.

	cut( ) will take the break points and form a factor from your vector
and table( ) will do the counting.  This is a pretty standard problem, in
fact.  

Bill Venables, 
CMIS, CSIRO Marine Laboratories, 
PO Box 120, Cleveland, Qld. 4163
AUSTRALIA
Phone:  +61 7 3826 7251  
Fax:    +61 7 3826 7304
Mobile: +61 419 634 642
<mailto: Bill.Venables at csiro.au>
http://www.cmis.csiro.au/bill.venables/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Mon Jul 22 10:36:30 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Mon, 22 Jul 2002 10:36:30 +0200
Subject: [R] finding the colour at a point 
In-Reply-To: <5.0.0.25.1.20020722113047.02b131e0@pop.jcu.edu.au>
Message-ID: <KKEGJOGBELBHDIKPINBMOEFICOAA.hb@maths.lth.se>

I believe there is no straightforward way to do this. However, you can
always plot to a bitmap device, which you then convert to a PPM image file,
which the is read in to a data structure by the 'pixmap' package. The
problem is that you need non-[R] software to convert you temporary bitmap
file to a PPM file. However, I recommend that you go get the free
ImageMagick software (http://www.imagemagick.org), which is great. This can
be called from withing [R] if the system PATH is set up correctly.

Here's an outline:

# -------------------------------
# 1. Plot to a (PNG) bitmap file
# -------------------------------
pngfile <- paste(tempfile(), ".png", sep="")
png(png, file=pngfile, width=500, height=500, bg="white")
# No margins to make life easier
opar <- par(mar=c(0,0,0,0))
plot(1:10, pch=1:10, col=1:10, cex=3, lwd=2)
usr <- par("usr") # Maybe you'll need this and some other par's
par(opar)
dev.off()

# ----------------------
# 2. Convert PNG to PPM
# ----------------------
ppmfile <- paste(tempfile(), ".ppm", sep="")
system(paste("convert", pngfile, ppmfile))  # ImageMagick's 'convert'
unlink(pngfile)


# -------------------------------------------
# 3. Read the PPM using the 'pixmap' package
# -------------------------------------------
library(pixmap)   # Available on http://cran.r-project.org
img <- read.pnm(ppmfile)
unlink(ppmfile)

# -------------------------------------------
# 4. Get the color values and the colormap
# -------------------------------------------
img <- as.pixmapIndexed(img)
colorMap <- attr(img, "col")

# --------------------------------------------------------------------
# 5. Example: Find the "first" red pixel and get its 5x5 neighborhood
# --------------------------------------------------------------------
idx <- which(img == which(colorMap == "#FF0000"), arr.ind=TRUE)
first <- idx[1,]
n55 <- t(which(matrix(T,ncol=5,nrow=5), arr.ind=TRUE)-3) # better way?
region <- first + n55
region <- region[1,] + (region[2,]-1)*nrow(img)
n55 <- matrix(img[region], ncol=5)
print(n55)
print(matrix(colorMap[n55], ncol=5))

where n55 become

     [,1] [,2] [,3] [,4] [,5]
[1,]    2    2    2    3    3
[2,]    2    2    2    3    3
[3,]    2    2    3    3    3
[4,]    2    2    3    3    3
[5,]    2    2    2    2    2

This should be the lower left corner of the red triangle. Then you have to
play with par("usr") and friends to get the correct scale.

Cheers

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
+46 46 2229611 (off), +46 708 909208 (cell), +46 46 2224623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Richard Rowe
> Sent: Monday, July 22, 2002 3:44 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] finding the colour at a point
>
>
> I think this was asked recently but I can't find the item.
>
> Is it possible to find the colour at a point on a graphics page?
>
> I want to estimate the area of a complex shape by colouring it
> then random
> sampling from an enclosing box ...
>
> Richard Rowe
>
> Richard Rowe
> Senior Lecturer
> Department of Zoology and Tropical Ecology, James Cook University
> Townsville, Queensland 4811, Australia
> fax (61)7 47 25 1570
> phone (61)7 47 81 4851
> e-mail: Richard.Rowe at jcu.edu.au
> http://www.jcu.edu.au/school/tbiol/zoology/homepage.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laura at bayesian-bay.freeserve.co.uk  Mon Jul 22 10:50:17 2002
From: laura at bayesian-bay.freeserve.co.uk (laura@bayesian-bay.freeserve.co.uk)
Date: Mon, 22 Jul 2002 8:50:17 +0000
Subject: [R] Influence Measures for .lme models
Message-ID: <20020722085017.DIYA26921.fep04-svc.ttyl.com@localhost>

Many thanks to those who replied to my message regarding installation of the lattice package. I have now upgraded my version of R.

I have a quick question:

I am running mixed effects models using the lme command. I am wanting to assess the fit of these models
using the usual plots including Cooks Distance plots.

I have noticed from the help files that it is possible to run influence measures statistics using
influence.measures(). However, this only appears to work for .lm not .lme models. Coudl anybody tell me how I can obtain such statistics for .lme models.

Thanks in advance
Laura

_______________________________________________________________________




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 22 11:20:21 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 22 Jul 2002 10:20:21 +0100 (BST)
Subject: [R] finding the colour at a point 
In-Reply-To: <5.0.0.25.1.20020722113047.02b131e0@pop.jcu.edu.au>
Message-ID: <Pine.LNX.4.31.0207221015120.3321-100000@gannet.stats>

On Mon, 22 Jul 2002, Richard Rowe wrote:

> I think this was asked recently but I can't find the item.
>
> Is it possible to find the colour at a point on a graphics page?
>
> I want to estimate the area of a complex shape by colouring it then random
> sampling from an enclosing box ...

In general the answer is no.  But I believe you use Windows, and as it
happens the windows() device keeps a bitmapped copy of the graphics
screen just in case you want to make a bmp/png/jpeg copy of it.
There is code in src/gnuwin32/devga.c to do so.

However, I would just plot on bmp/png and use some other tool to count the
number of `on' pixels.  ImageMagick's identify is one such tool.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew_wiener at merck.com  Mon Jul 22 14:37:03 2002
From: matthew_wiener at merck.com (Wiener, Matthew)
Date: Mon, 22 Jul 2002 08:37:03 -0400
Subject: [R] Plotting a section of a dendrogram
Message-ID: <7C4F091F6140D411A29300508B5C73B908A2BCC0@usrymx04.merck.com>

Christophe --

Here are a couple of routines I've written that might help.  You call
f.get.subtrees, and get back a list, each element of which is one of the
subtrees.  You can then plot each subtree individually.  (This won't give
you the relation between the subtrees, though.  

k and h are the same as in cutree.  You probably don't need add.element; I
used it to attach some additional information to the tree.

Hope this helps.

Matthew Wiener
Applied Computer Science & Mathematics Dept.
Merck Research Labs
Rahway, NJ 07090
732-594-5303 

----------------------------------------------------------------------------
-----------

"f.get.subtrees" <- 
function(tree, k = NULL, h = NULL, 
           add.element = NULL){ 
    ## tree is a tree, k and h are as in cutree. 
    ## additional elements is the name of any additional info 
    ## connected with tree nodes. The additional elements referred 
    ## to should have the same length as tree$labels. 
    ## 
    groups <- cutree(tree, k, h) 
    subtrees <- list() 
    for(i in 1:length(unique(groups))){ 
      subtrees[[i]] <- f.make.subtree(tree, groups, i, 
                                      add.element = add.element) 
    } 
    subtrees 
  } 


"f.make.subtree" <- 
  function (tree, groups, n = 1, add.element = NULL) 
{ 
  which.nodes <- which(groups == n) 
  names(which.nodes) <- NULL 
  ## steal some code from plot.hclust 
  use.labels <- 
    if (is.null(tree$labels)) 
      paste(1:(nrow(tree$merge) + 1)) 
    else as.character(tree$labels) 


  subtree.labels <- use.labels[which.nodes] 


  subtree.order <- tree$order[use.labels[tree$order] %in% 
                              subtree.labels] 
  which.merge.elements <- which(-tree$merge %in% which.nodes) 
  which.merge.rows <- sort(unique(which.merge.elements%%nrow(tree$merge))) 
  which.merge.rows[which.merge.rows == 0] <- nrow(tree$merge) 
  old.length <- 0 
  new.length <- length(which.merge.rows) 
  if (length(which.merge.elements) == 1) { 
    res <- list(merge = NULL, heights = tree$height[which.merge.rows], 
                order = 1, 
                labels = {if(is.null(tree$labels)) NULL else 
subtree.labels}, 
                method = tree$method, 
                call = tree$call, dist.method = tree$dist.method) 
  } 
  else { 
    while (new.length - old.length > 0) { 
      old.length <- new.length 
      new.rows <- numeric(0) 
      more.new.rows <- numeric(0) 
      row.elements <- as.vector(tree$merge[which.merge.rows, 
                                           ]) 
      pos.elements <- row.elements[row.elements > 0] 
      if (length(pos.elements) > 0) 
        new.rows <- pos.elements[apply(tree$merge[pos.elements, 
                                                  , drop = F], 1, 
function(x) { 
                                                    any(x > 0) & all(-x[x < 
0] %in% which.nodes) 
                                                  })] 
      more.new.rows <- which(apply(tree$merge, 1, function(x) { 
        all(x %in% which.merge.rows) 
      })) 
      which.merge.rows <- sort(unique(c(which.merge.rows, 
                                        new.rows, more.new.rows))) 
      new.length <- length(which.merge.rows) 
    } 
    merge.list <- tree$merge[which.merge.rows, , drop = F] 
    merge.height <- tree$height[which.merge.rows] 
    pos.elements <- sort(merge.list[merge.list > 0]) 
    for (i in seq(along = pos.elements)) merge.list[merge.list == 
                    pos.elements[i]] <- which(pos.elements[i] == 
which.merge.rows) 
    neg.elements <- merge.list[merge.list < 0] 
    minus.neg.elements <- -neg.elements 
    num.elements <- length(neg.elements) 
    change.table <- cbind(sort(minus.neg.elements), 1:num.elements) 
    for (i in 1:num.elements) { 
      merge.list[merge.list == -change.table[i, 1]] <- -change.table[i, 
                                                                     2] 
    } 
    old.order <- subtree.order 
    subtree.order <- match(use.labels[old.order], subtree.labels) 
    res <- list(merge = merge.list, height = merge.height, 
                order = subtree.order, 
                labels = {if(is.null(tree$labels)) NULL else 
subtree.labels}, 
                method = tree$method, 
                call = list(match.call(), tree$call), dist.method = 
tree$dist.method) 
    class(res) <- "hclust" 
    for (i in seq(along = add.element)) { 
      res[[add.element[i]]] <- tree[[add.element[i]]][which.nodes] 
    } 
  } 
  res 
} 



-----Original Message-----
From: White.Denis at epamail.epa.gov [mailto:White.Denis at epamail.epa.gov]
Sent: Friday, July 19, 2002 7:49 PM
To: Christophe Champod
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] Plotting a section of a dendrogram



> I have performed clustering analysis with hclust (Ward's method) on a
> database of 800 samples. As you may imagine the full dendrogram is not
> really readable. I have obtained groups with cutree. I would like to
plot
> sub-sections of my big dendrogram to show group 1, group 2 and so on.

I don't think R has anything like subtree in Splus, unfortunately.  I
think what has been recommended in the past is to create a very large
format plot (using a large paper size in pdf(), for example) and then
zoom in to look at subtrees.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at paleo.ija.csic.es  Mon Jul 22 17:25:19 2002
From: alobo at paleo.ija.csic.es (Agustin Lobo)
Date: Mon, 22 Jul 2002 17:25:19 +0200 (MET DST)
Subject: [R] Problem with text() and pdf()
Message-ID: <Pine.OSF.3.96.1020722165543.10164C-100000@paleo>

Hi!

I run a function in which I fit a linear
model, split the graphic window with 
layout, plot the data and the linear fit to the left, 
and the equation to the right using text() in this
way (probably there's a better way):

par(pty="m")
plot(c(0,1),c(0,1), type="n",axes=F,xlab="",ylab="")
text(0.25,0.5, paste("y = ",round(a$coefficients[1],3),"+"
,round(a$coefficients[2],3), "* x" ),cex=1)

I have no problems using x11() and postscript() 
(R.1.5.1 for linux). But
if I use a pdf display the text from the text() function does not 
appear (although the plot is correct). 
Does anyone know what the problem is?
I've not found any clue in help(pdf) and I've
tried a couple of pdf visors.

Thanks


Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 22 17:50:18 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 22 Jul 2002 16:50:18 +0100 (BST)
Subject: [R] Problem with text() and pdf()
In-Reply-To: <Pine.OSF.3.96.1020722165543.10164C-100000@paleo>
Message-ID: <Pine.GSO.4.44.0207221644500.25360-100000@auk.stats>

My guess is clipping.  R clips in pdf() by omitting the whole text if any
part of it is clipped.  Try xpd=TRUE.

BTW, this is a function of R's graphics engine and not of the PDF device
per se: it happens that X11 and PostScript support clipping, and PDF does
not (at the level used).

On Mon, 22 Jul 2002, Agustin Lobo wrote:

> Hi!
>
> I run a function in which I fit a linear
> model, split the graphic window with
> layout, plot the data and the linear fit to the left,
> and the equation to the right using text() in this
> way (probably there's a better way):
>
> par(pty="m")
> plot(c(0,1),c(0,1), type="n",axes=F,xlab="",ylab="")
> text(0.25,0.5, paste("y = ",round(a$coefficients[1],3),"+"
> ,round(a$coefficients[2],3), "* x" ),cex=1)
>
> I have no problems using x11() and postscript()
> (R.1.5.1 for linux). But
> if I use a pdf display the text from the text() function does not
> appear (although the plot is correct).
> Does anyone know what the problem is?
> I've not found any clue in help(pdf) and I've
> tried a couple of pdf visors.
>
> Thanks
>
>
> Agus
>
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bob.ohara at helsinki.fi  Mon Jul 22 18:03:55 2002
From: bob.ohara at helsinki.fi (Anon.)
Date: Mon, 22 Jul 2002 19:03:55 +0300
Subject: [R] "New" problem with polr (or optim, or ...)
Message-ID: <3D3C2CEB.1A07A891@helsinki.fi>

Hello from a presently sunny Helsinki!

I've bee trying to repeat an analysis I did about 18 months ago (the
reviewers of the paper want something adding to it).  I'm using R1.5.0,
but I couldn't see anything in the list of changes between this and
1.5.1 to suggest it would act any differently.

The data is observational, on the changes in the population status of
carabid beetles, and various attributes of the species which may or may
not explain what's happening.  The response is ordinal - there are
several categories, from (roughly) "Gone Extinct" to "Suddenly all over
the damn place", and because the beetles haven't read Cochran and Cox,
the design is messy, with all sorts of confounding.  Now, when I run the
analysis I get this:

> ModelF <- polr(Ext ~ Habitat+Edge+Grids+SE+NH+Size+Wings+Grids:SE + Grids:NH + 
Habitat:Edge , na.action=na.omit) 
Error in optim(start, fmin, gmin, method = "BFGS", hessian = Hess) : 
        non-finite value supplied by optim

Which is presumably because the data is unbalanced.  This would be
(sort-of) OK, except that this particular model is the optimal one I
found when I ran it last time, using a previous version of R (and no, I
can't remember what version, sorry!).  So, (a) why doesn't this work
now, and (b) what can I do about it?  I've tried using simpler models,
but only models with one or two main effects work, and this is no good
for what I want.  Any help would be appreciated!

Thanks in adavance.

Bob

-- 
Bob O'Hara

Rolf Nevanlinna Institute
P.O. Box 4 (Yliopistonkatu 5)
FIN-00014 University of Helsinki
Finland
Telephone: +358-9-191 23743 
Mobile: +358 50 599 0540
Fax:  +358-9-191 22 779
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at paleo.ija.csic.es  Mon Jul 22 18:24:12 2002
From: alobo at paleo.ija.csic.es (Agustin Lobo)
Date: Mon, 22 Jul 2002 18:24:12 +0200 (MET DST)
Subject: [R] Problem with text() and pdf()
In-Reply-To: <Pine.GSO.4.44.0207221644500.25360-100000@auk.stats>
Message-ID: <Pine.OSF.3.96.1020722182222.10164E-100000@paleo>

Solved adding xpd=TRUE to the text() call as you
suggested.

Thanks!

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Mon, 22 Jul 2002, Prof Brian D Ripley wrote:

> My guess is clipping.  R clips in pdf() by omitting the whole text if any
> part of it is clipped.  Try xpd=TRUE.
> 
> BTW, this is a function of R's graphics engine and not of the PDF device
> per se: it happens that X11 and PostScript support clipping, and PDF does
> not (at the level used).
> 
> On Mon, 22 Jul 2002, Agustin Lobo wrote:
> 
> > Hi!
> >
> > I run a function in which I fit a linear
> > model, split the graphic window with
> > layout, plot the data and the linear fit to the left,
> > and the equation to the right using text() in this
> > way (probably there's a better way):
> >
> > par(pty="m")
> > plot(c(0,1),c(0,1), type="n",axes=F,xlab="",ylab="")
> > text(0.25,0.5, paste("y = ",round(a$coefficients[1],3),"+"
> > ,round(a$coefficients[2],3), "* x" ),cex=1)
> >
> > I have no problems using x11() and postscript()
> > (R.1.5.1 for linux). But
> > if I use a pdf display the text from the text() function does not
> > appear (although the plot is correct).
> > Does anyone know what the problem is?
> > I've not found any clue in help(pdf) and I've
> > tried a couple of pdf visors.
> >
> > Thanks
> >
> >
> > Agus
> >
> > Dr. Agustin Lobo
> > Instituto de Ciencias de la Tierra (CSIC)
> > Lluis Sole Sabaris s/n
> > 08028 Barcelona SPAIN
> > tel 34 93409 5410
> > fax 34 93411 0012
> > alobo at ija.csic.es
> >
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Mon Jul 22 19:13:15 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Mon, 22 Jul 2002 14:13:15 -0300
Subject: [R] Removing columns from data frame
In-Reply-To: <3D2BD55A.455905AF@statistik.uni-dortmund.de>
References: <000901c2276c$ad96fd20$35892090@ohm.york.ac.uk>
Message-ID: <4.2.2.20020722141147.00a918f0@pop3.arnet.com.ar>

Hello,

Is there an easy way to remove a few columns from a data frame by 
indicating the column names? I am thinking of an operator like the "-" to 
remove the columns when referenced by column number, and I don't want to 
use the %in% operator together with the names() function.

Thanks
Daniel Mastropietro

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jniesch at gwdg.de  Mon Jul 22 20:19:22 2002
From: jniesch at gwdg.de (Jens Nieschulze)
Date: Mon, 22 Jul 2002 20:19:22 +0200 (MET DST)
Subject: [R] Removing columns from data frame
In-Reply-To: <4.2.2.20020722141147.00a918f0@pop3.arnet.com.ar>
Message-ID: <Pine.SO4.4.10.10207222018550.11346-100000@ufobi7.uni-forst.gwdg.de>

On Mon, 22 Jul 2002, Daniel Mastropietro wrote:

%Hello,
%
%Is there an easy way to remove a few columns from a data frame by 
%indicating the column names? I am thinking of an operator like the "-" to 

something like
yourDataFrame$columnName<-NULL

	JN

%remove the columns when referenced by column number, and I don't want to 
%use the %in% operator together with the names() function.
%
%Thanks
%Daniel Mastropietro
%
%-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
%r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
%Send "info", "help", or "[un]subscribe"
%(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
%_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
%

***********************************************************************
Jens Nieschulze

Institute for Forest Biometrics &	Phone: ++49-551-39-12107
Applied Computer Science		Fax  : ++49-551-39-3465
Buesgenweg 4
37077 Goettingen		E-mail: jniesch at uni-forst.gwdg.de
GERMANY				http://www.uni-forst.gwdg.de/~jniesch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Mon Jul 22 21:16:32 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Mon, 22 Jul 2002 14:16:32 -0500
Subject: [R] Removing columns from data frame
In-Reply-To: <4.2.2.20020722141147.00a918f0@pop3.arnet.com.ar>
Message-ID: <000801c231b4$4a8fd650$0201a8c0@MARC>

> Hello,
> 
> Is there an easy way to remove a few columns from a data frame by
> indicating the column names? I am thinking of an operator like the "-"
to
> remove the columns when referenced by column number, and I don't want
to
> use the %in% operator together with the names() function.
> 
> Thanks
> Daniel Mastropietro

Daniel,

Look at ?subset using the "select = " argument.

HTH,

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Mon Jul 22 21:57:46 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Mon, 22 Jul 2002 16:57:46 -0300
Subject: [R] Substitution of the *value* of a variable
In-Reply-To: <4.2.2.20020722141147.00a918f0@pop3.arnet.com.ar>
References: <3D2BD55A.455905AF@statistik.uni-dortmund.de>
 <000901c2276c$ad96fd20$35892090@ohm.york.ac.uk>
Message-ID: <4.2.2.20020722163744.00a876f0@pop3.arnet.com.ar>

Hello,

I have the following situation:

Suppose I have the string "test(x)", and I want to substitute x by y. I 
know that this can be done by using the following commands:

string <- parse( text="test(x)" )[[1]];
do.call("substitute" , list(string, list(x=as.name("y")));

Now, suppose that the variable name that plays the role of argument in 
"test(x)" may change. That is the string could be "test(z)", "test(w)", 
etc. I have the variable name stored in another variable, say 'varname'. 
That is, I have:

varname <- "w";	# the value of varname is defined by the user and may change.
string <- parse( text=paste("test(" , varname ,")") )[[1]];

How can I have the *value* of 'varname' in 'string' be substituted by 'y'?

Thanks
Daniel Mastropietro

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Jul 22 22:05:48 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 22 Jul 2002 13:05:48 -0700 (PDT)
Subject: [R] Substitution of the *value* of a variable
In-Reply-To: <4.2.2.20020722163744.00a876f0@pop3.arnet.com.ar>
Message-ID: <Pine.A41.4.44.0207221303500.93146-100000@homer41.u.washington.edu>

On Mon, 22 Jul 2002, Daniel Mastropietro wrote:

> Hello,
>
> I have the following situation:
>
> Suppose I have the string "test(x)", and I want to substitute x by y. I
> know that this can be done by using the following commands:
>
> string <- parse( text="test(x)" )[[1]];
> do.call("substitute" , list(string, list(x=as.name("y")));
>
> Now, suppose that the variable name that plays the role of argument in
> "test(x)" may change. That is the string could be "test(z)", "test(w)",
> etc. I have the variable name stored in another variable, say 'varname'.
> That is, I have:
>
> varname <- "w";	# the value of varname is defined by the user and may change.
> string <- parse( text=paste("test(" , varname ,")") )[[1]];
>
> How can I have the *value* of 'varname' in 'string' be substituted by 'y'?

Define a variable for the second argument of substitute:
  replacement<-list(as.name("y"))
  names(replacement)<-varname
  do.call("substitute",list(string,replacement))

Incidentally, I wouldn't recommend the name `string' for something that
is actually an expression, especially in a help question...


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Tue Jul 23 00:43:12 2002
From: jfox at mcmaster.ca (John Fox)
Date: Mon, 22 Jul 2002 18:43:12 -0400
Subject: [R] typsize and fscale arguments to nlm
Message-ID: <5.1.0.14.2.20020722184114.01d77530@mcmail.cis.mcmaster.ca>

Dear R list members,

I have a question about the proper use of the typsize and fscale arguments 
to nlm.

I use nlm in my sem package to fit general structural-equation models, 
which entails maximizing a multinormal likelihood with respect to 
parameters that represent regression coefficients and covariances of 
variables. The magnitudes of these parameters can be very different.

The documentation for typsize is rather terse: "an estimate of the size of 
each parameter at the minimum," with the default typsize=rep(1, length(p)) 
[where length(p) gives the number of parameters]. Am I correct in 
interpreting the "size of each parameter" as its absolute values? If so, is 
it reasonable to specify typsize=abs(start), where start contains that 
start values of the parameters? I can compute start values that have 
generally reasonable magnitudes (certainly more generally reasonable than 
assuming that all parameters are of the same magnitude) and that will never 
be identically 0. A related question is whether typsize specifies the 
relative or absolute "sizes" of the parameters.

Finally, there is another argument to nlm called fscale which specifies "an 
estimate of the size of f at the minimum" (where f is the function to be 
minimized -- in my case the negative log-likelihood). The default is 
fscale=1. In experimenting with nlm I've found that using 
typsize=abs(start) appears to make my sem function more robust (e.g., less 
sensitive to start values when the parameters are of very different 
magnitudes), but setting fscale to the log-likelihood at the start values 
for the parameters seems to create problems.

Any help, advice, or additional information would be appreciated. (I plan 
to take a look at the Dennis and Schnabel text cited in the help file for 
nlm but have not yet done so.)

Thanks,
  John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Tue Jul 23 00:55:37 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Tue, 23 Jul 2002 08:55:37 +1000
Subject: [R] Removing columns from data frame
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A9165276@Roper-CV.qld.cmis.csiro.au>

I'm not sure of precisely what you don't want to use (or why) but here is
one way

newDataFrame <- oldDataFrame[ , - match(namesToGo, names(oldDataFrame))]

Bill Venables

>  -----Original Message-----
> From: 	Daniel Mastropietro [mailto:mastropi at uwalumni.com] 
> Sent:	Tuesday, July 23, 2002 3:13 AM
> To:	r-help at stat.math.ethz.ch
> Subject:	[R] Removing columns from data frame
> 
> Hello,
> 
> Is there an easy way to remove a few columns from a data frame by 
> indicating the column names? I am thinking of an operator like the "-" to 
> remove the columns when referenced by column number, and I don't want to 
> use the %in% operator together with the names() function.
> 
> Thanks
> Daniel Mastropietro
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tplate at blackmesacapital.com  Tue Jul 23 01:29:10 2002
From: tplate at blackmesacapital.com (Tony Plate)
Date: Mon, 22 Jul 2002 17:29:10 -0600
Subject: [R] Removing columns from data frame
In-Reply-To: <4.2.2.20020722141147.00a918f0@pop3.arnet.com.ar>
References: <3D2BD55A.455905AF@statistik.uni-dortmund.de>
 <000901c2276c$ad96fd20$35892090@ohm.york.ac.uk>
Message-ID: <5.1.0.14.2.20020722151452.045f11a0@mailhost.blackmesacapital.com>

The answer to your question is probably "No".

You could do

x[,is.na(match(names(x), c("unwanted column names"))),drop=F]

or

x[ ,-match(names(x), c("unwanted column names"), nomatch=0),drop=F]

While

x[,!(names(x) %in% c("unwanted column names")),drop=F]

is a few characters shorter, but you said you don't want to do that... (why 
is that?)

-- Tony Plate

At 02:13 PM 7/22/2002 -0300, you wrote:
>Hello,
>
>Is there an easy way to remove a few columns from a data frame by 
>indicating the column names? I am thinking of an operator like the "-" to 
>remove the columns when referenced by column number, and I don't want to 
>use the %in% operator together with the names() function.
>
>Thanks
>Daniel Mastropietro
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andreww at cheque.uq.edu.au  Tue Jul 23 19:11:35 2002
From: andreww at cheque.uq.edu.au (Andrew C. Ward)
Date: Tue, 23 Jul 2002 17:11:35 -0000
Subject: [R] Aggregate: assembling the "by" part on the fly
Message-ID: <01C2326C.0EE412C0.andreww@cheque.uq.edu.au>

Dear R users,

I'm having trouble using aggregate() and would
greatly appreciate your advice. I am using R 1.5.1
on Windows 2000.

I want to call my function in the following way
	extract.data(x=dat[, "Age", "Year"])
where extract.data() uses aggregate() to count the number
of cases for each combination of "Age" and "Year".

I've defined extract.data() in the following way
	extract.data <- function(x) {
		tmp <- aggregate(x[,1], by=list(dimnames(x)[[2]]), length)
		dimnames(tmp)[[2]] <- c(dimnames(x)[[2]], "N")
		invisible(tmp)
	}
The call to aggregate obviously won't work (and doesn't).

I'm wondering how to assemble the "by" argument inside
extract.data() when I wish aggregate() to use all the
columns in my data frame.

Thank you very much for your help.


Regards,

Andrew C. Ward

CAPE Centre
Department of Chemical Engineering
The University of Queensland
Brisbane Qld 4072 Australia
andreww at cheque.uq.edu.au





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Xavier.Abulker at fimat.com  Tue Jul 23 09:23:48 2002
From: Xavier.Abulker at fimat.com (Xavier.Abulker@fimat.com)
Date: Tue, 23 Jul 2002 09:23:48 +0200
Subject: [R] function running in package gregmisc
Message-ID: <OFB33BA771.518F54EF-ONC1256BFF.002831A9@fimat-france.fr>

Hello,
I've got a problem using the function "running" in package gregmisc

For example:

 test<-c(1,2,3,4,5)
running(test,fun=var,width=3) gives
1:1 1:2 1:3 2:4 3:5
 NA  NA   2   3   4

which is wrong because

 var(test[1:3])
[1] 1

Where am I wrong?
Thanks
Xavier

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From badeborah at mail.qango.com  Tue Jul 23 09:44:44 2002
From: badeborah at mail.qango.com (deborah deborah)
Date: Tue, 23 Jul 2002 00:44:44 -0700 (PDT)
Subject: [R] installation R (OS: windows)
Message-ID: <20020723074444.4A29F394A@sitemail.everyone.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020723/e934414b/attachment.pl

From ligges at statistik.uni-dortmund.de  Tue Jul 23 10:00:25 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 23 Jul 2002 10:00:25 +0200
Subject: [R] installation R (OS: windows)
References: <20020723074444.4A29F394A@sitemail.everyone.net>
Message-ID: <3D3D0D19.3E5880FC@statistik.uni-dortmund.de>

deborah deborah wrote:
> 
> I've downloaded R (version: R-1.5.1). I looked at your instructions
> to install it into my pc, but after extracting files with winzip, I
> clicked on src/gnuwin32/installer/install but icon was in my directory, but was not on.
> 
> I also looked for SetupR.exe or miniR.exe icons, but I didn't find them.
> 
> Now, I don't know how to get the installation.
> Could you help me please?

You probably have downloaded the sources. Look for the Windows binaries
on CRAN, e.g.: http://cran.r-project.org/bin/windows/base/SetupR.exe

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From celine.rondey at educagri.fr  Tue Jul 23 10:09:53 2002
From: celine.rondey at educagri.fr (CELINE RONDEY)
Date: Tue, 23 Jul 2002 10:09:53 +0200
Subject: [R] function "rast.put" in package(GRASS)
Message-ID: <fc.000f5d9701a89267000f5d9701a89267.1a895c6@educagri.fr>

Dear all, 

I would like to use the "rast.put" function under R ( in package
GRASS):"rast.put" moves a single numeric vector to Grass.
This vector is the result of my kriging. 
In fact, i created a grid : 
grid<-data.frame(cbind(c(matrix(H$xseq,length(H$xseq),length(H$yseq))),c(matrix(H$yseq,length(H$xseq),length(H$yseq),byrow=T))))
grid_as.matrix(grid)
colnames(grid)_c("x","y")			#(with H <- gmeta(interp=TRUE))
Loci_grid

and use "krige.conv" ( kc_krige.conv(......)) to obtain this value.
So, my vector is kc$predict .
(This numeric vector for export with length of H$Ncells in GRASS order).

But i have a problem with "rast.put" function. Indeed, when i draw my
raster under GRASS, Xlamb and ylamb are inverted (lambert coordonnees).
I write :
rast.put(H,lname="var_residu",layer=kc$predict,cat=FALSE,interp=TRUE,DCELL=TRUE)

How to use this function?

Thank you for your help

Regards
C?line RONDEY





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Tue Jul 23 11:11:08 2002
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Tue, 23 Jul 2002 11:11:08 +0200
Subject: [R] Aggregate: assembling the "by" part on the fly
In-Reply-To: <01C2326C.0EE412C0.andreww@cheque.uq.edu.au>
Message-ID: <3D3D39CC.11843.BF7174@localhost>



On 23 Jul 2002 at 17:11, Andrew C. Ward wrote:

> Dear R users,
> 
> I'm having trouble using aggregate() and would
> greatly appreciate your advice. I am using R 1.5.1
> on Windows 2000.
> 
> I want to call my function in the following way
>  extract.data(x=dat[, "Age", "Year"])
> where extract.data() uses aggregate() to count the number
> of cases for each combination of "Age" and "Year".
> 
> I've defined extract.data() in the following way
>  extract.data <- function(x) {
>   tmp <- aggregate(x[,1], by=list(dimnames(x)[[2]]), length)
>   dimnames(tmp)[[2]] <- c(dimnames(x)[[2]], "N")
>   invisible(tmp)
>  }
> The call to aggregate obviously won't work (and doesn't).

Well, I think you are not doing what you exactly want (and what aggregate 
requires).

if your data frame looks for instance:

> daf
   ID Age Year
1   1   5 1995
2   2   6 1995
3   3   8 1995
4   4   5 1995
5   5   6 1996
6   6   7 1996
7   7   5 1996
8   8   6 1996
9   9   7 1996
10 10   5 1996

aggregate will do what you want smoothly

> aggregate(daf[,1],list(daf$Age,daf$Year),length)
  Group.1 Group.2 x
1       5    1995 2
2       6    1995 1
3       8    1995 1
4       5    1996 2
5       6    1996 2
6       7    1996 2

look at the difference in output

> list(daf$Age,daf$Year)
[[1]]
 [1] 5 6 8 5 6 7 5 6 7 5

[[2]]
 [1] 1995 1995 1995 1995 1996 1996 1996 1996 1996 1996

> list(dimnames(daf)[[2]])
[[1]]
[1] "ID"   "Age"  "Year"



> 
> I'm wondering how to assemble the "by" argument inside
> extract.data() when I wish aggregate() to use all the
> columns in my data frame.

Using all columns seems to me a liitle bit surprising. Do you mean to use also a 
column on which the aggregation is performed?

> 
> Thank you very much for your help.
> 
> 
> Regards,
> 
> Andrew C. Ward
> 
> CAPE Centre
> Department of Chemical Engineering
> The University of Queensland
> Brisbane Qld 4072 Australia
> andreww at cheque.uq.edu.au


Best regardsPetr Pikal
petr.pikal at precheza.cz
p.pik at volny.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From shawnhornsby at netzero.net  Tue Jul 23 11:30:22 2002
From: shawnhornsby at netzero.net (Shawn Hornsby)
Date: Tue, 23 Jul 2002 05:30:22 -0400
Subject: [R] Free Software Application for UNIX/Linux and Microsoft Windows
Message-ID: <PLEIKGCDCMPOAJHIGFOBCEFCCAAA.shawnhornsby@netzero.net>

No need to reply to this message!

http://www.openoffice.org/
Open Office 1.0.1 (OO)

I got a change to have my network setup as; UNIX/Linux and Microsoft
Windows, a hetero-computing network platform.

I found that Open Office 1.0.1 (OO), a UNIX/Linux/Microsoft Windows based
application package, works well under MS Windows ME. OO offers a word
processor, spreadsheet, presentation and a HTML editor. OO does work with MS
Office software package such as; MS Word Documents, MS Excel Spreadsheets
and MS PowerPoint Presentations. OO can be launch via a single icon on the
Task Manager. It software licensing approach is GNU compliant.

I had a chance to install and run Open Office 1.0.1 for UNIX and I found
that the install and execution were comfortable. It's appearance is
identical to it's Microsoft (MS) Windows platform. The is important when you
have to provide help to someone how is running on a different platform other
than UNIX, i.e. MS Windows.

Netscape Browser, the latest version, offers electronic mailing feature as
part of it's Browser application, double check to see if any current version
does offer this feature. You can setup the Browser to get your POP server
message from your e-mail provider, then view/modify/save/achieve your
message. It was Netscape 6.X that allows you to configurate your web server
to function with your POP server.

These recent update of applications truly shows that a hetero-computing
environment can exist. Now, we will see the communicational gap start to be
bridged between various platforms.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Tue Jul 23 11:37:20 2002
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Tue, 23 Jul 2002 11:37:20 +0200
Subject: [R] Vector Manipulation
Message-ID: <OFBB9419B4.68D35390-ONC1256BFF.00349E5D@eurotel.cz>


Hi,
Look at

?findInterval

this looks it best/exactly suits your needs.

-------------------------------------------------
designed for _monospaced_ font
-------------------------------------------------
/- Jan Svatos,  PhD         Sokolovska 855/225 -/
/- Data Analyst             Prague 9           -/
/- Eurotel Praha            190 00             -/
/- jan_svatos at eurotel.cz    Czechia            -/
-------------------------------------------------


- - - Original message: - - -
From: owner-r-help at stat.math.ethz.ch
Send: 22.7.2002 6:37:15
To: r-help at stat.math.ethz.ch
Subject: [R] Vector Manipulation

Greetings,

I wonder if someone could point me towards a more elegent solution than
what I"ve kluged together.  I have a vector "samp1" of 296 integers.
They are sorted in ascending order and the numbers range from 177 to
228,953.  I'd like to specify N non-overlapping intervals covering the
range from 0 to 229,354 and then for each range, count the number of
integers from samp1 that fall into that range.  What I'll end up with is
an N element vector with each element representing the number of
integers from samp1 found in the Nth range.

Can someone point me to a function / procedure that allows me to specify
the non-overalpping intervals? and also one that I can use to do the
counting?

Best,
Bill Vedder

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ajsmit at botzoo.uct.ac.za  Tue Jul 23 11:57:50 2002
From: ajsmit at botzoo.uct.ac.za (Smit, A, Albertus, Dr)
Date: Tue, 23 Jul 2002 11:57:50 +0200
Subject: [R] Comparing slopes of several linear models
Message-ID: <3D3D4502.26715.2535FC86@localhost>

Dear all

I have the following data (a shortened extract 
shown; some replictates of time deleted) to which I 
fitted the linear model given below:

time    group       mass
11      control     0.019
11      control     0.014
14      control     0.0306
14      control     0.0289
14      control     0.0236
17      control     0.0469
17      control     0.0709
11      five        0.0077
11      five        0.0101
14      five        0.0092
14      five        0.0125
17      five        0.0134
17      five        0.0143
11      ten         0.0088
11      ten         0.0092
14      ten         0.0114
14      ten         0.0113
17      ten         0.0131
17      ten         0.0154
11      twenty      0.0076
11      twenty      0.0081
14      twenty      0.0093
14      twenty      0.0091
17      twenty      0.0108
17      twenty      0.0097

> options(contrasts = c("contr.treatment", 
+ "contr.poly"))
> mass.lm <- lm(mass ~ group * time, data = growth)

The question I am asking is whether the slopes 
differ, which they do. This is the output:

> round(summary(mass.lm)$coef, 3)
                 Estimate   SE    t value  Pr(>|t|)
(Intercept)        -0.024  0.010  -2.530    0.014
groupfive           0.027  0.013   1.998    0.051
groupten            0.025  0.013   1.840    0.071
grouptwenty         0.027  0.013   1.988    0.052
time                0.004  0.001   5.995    0.000
groupfive:time     -0.003  0.001  -3.551    0.001
groupten:time      -0.003  0.001  -3.407    0.001
grouptwenty:time   -0.004  0.001  -3.719    0.000

This essentially compares the intercepts and slopes 
of groups 'five', 'ten' and 'twenty' to that of the 
'control' group. But what is a simple way to 
compare the slopes of groups 'five', 'ten' and 
'twenty' to each other without having to do a 
series of pairwise comparisons? Is there some 
method involving the TukeyHSD procedure or some 
other means that can be used instead?

Any help or comments appreciated.

Regards,
Albertus




Dr. Albertus J. Smit
Department of Botany
University of Cape Town
Private Bag Rondebosch
7700
South Africa
Tel. +27 21 689 3032
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gsl at statlab.uni-heidelberg.de  Tue Jul 23 15:30:07 2002
From: gsl at statlab.uni-heidelberg.de (G. Sawitzki)
Date: Tue, 23 Jul 2002 15:30:07 +0200
Subject: [R] Quartz ?
In-Reply-To: <C79F1393-83C2-11D6-9F70-003065A21C86@stat.ucla.edu>
References: <C79F1393-83C2-11D6-9F70-003065A21C86@stat.ucla.edu>
Message-ID: <p05111b02b9630a3ef122@[217.88.224.76]>

Jan,

  the current development version of R does not build in my 
environment. Is a compiled/packed version with Quartz support on the 
net somewhere? Is quartz() the right incantation?

  Greetings,
   g.

P.S. S. Urbanek from Augsburg has fixed SJava for MacX. I have asked 
him to pass his patches to Duncan.
   g.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at agate.fmr.com  Tue Jul 23 15:33:42 2002
From: a296180 at agate.fmr.com (David Kane  <David Kane)
Date: Tue, 23 Jul 2002 09:33:42 -0400
Subject: [R] colClasses = "logical" produces all FALSE when input is 1/0
Message-ID: <15677.23350.45363.660525@gargle.gargle.HOWL>

It seems to me that colClasses = "logical" in read.table produces incorrect results when
the input file has `1' and `0' in it. Although, it is perhaps just as likely
that I am misunderstanding the documentation.

Here is a simple example:

> file.show("test.txt")
x
1
0
1

> read.table("test.txt", header = TRUE)
  x
1 1
2 0
3 1

This result is fine.

> read.table("test.txt", header = TRUE, colClasses = "character")
  x
1 1
2 0
3 1

This one also. However, I think that this result is wrong:

> readtable("test.txt", header = TRUE, colClasses = "logical")
      x
1 FALSE
2 FALSE
3 FALSE

I would have expected:

      x
1 TRUE
2 FALSE
3 TRUE

Is there a way to get what I expected? Alas, I can't quite make out what read.table is doing in this context.

> R.version
         _                   
platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    5.1                 
year     2002                
month    06                  
day      17                  
language R                   
> 

Any suggestions would be much appreciated. 

Regards,

Dave Kane
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 23 15:43:48 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 23 Jul 2002 14:43:48 +0100 (BST)
Subject: [R] colClasses = "logical" produces all FALSE when input is 1/0
In-Reply-To: <15677.23350.45363.660525@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.31.0207231436100.19841-100000@gannet.stats>

On Tue, 23 Jul 2002, David Kane  <David Kane wrote:

> It seems to me that colClasses = "logical" in read.table produces incorrect results when
> the input file has `1' and `0' in it. Although, it is perhaps just as likely
> that I am misunderstanding the documentation.

[ ...  ]

> This one also. However, I think that this result is wrong:
>
> > readtable("test.txt", header = TRUE, colClasses = "logical")
>       x
> 1 FALSE
> 2 FALSE
> 3 FALSE

Why?  0 and 1 are not valid values for a logical variable.

> I would have expected:
>
>       x
> 1 TRUE
> 2 FALSE
> 3 TRUE
>
> Is there a way to get what I expected?

Read as it as character or integer and convert later.

> Alas, I can't quite make out what read.table is doing in this context.

It is using scan():

> scan(what=logical(0))
1: 0 1 0
4:
Read 3 items
[1] FALSE FALSE FALSE

Anything other than T or TRUE is taken as false.  Perhaps it would have
confused you less if we had thrown an error.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From degiorgi at math.ethz.ch  Tue Jul 23 16:02:25 2002
From: degiorgi at math.ethz.ch (Enrico De Giorgi)
Date: Tue, 23 Jul 2002 16:02:25 +0200
Subject: [R] tsplot
Message-ID: <NEBBLOMPELHOIMFBEMAHKECPCGAA.degiorgi@math.ethz.ch>

Dear all,

I would like to plot n time series together. I've defined a matrix w, where
each column contains one time series. With S-Plus usually I use the
tsplot(.) command, but it seems that this command is not available in R.

Can someone help me?

Thank you,

Enrico De Giorgi

************************************************
ETH Z?rich and
University of Z?rich

Enrico De Giorgi
Researcher
Risklab and
Institute for Empirical Research in Economics
Bl?mlisalpstrasse 10
CH-8006 Z?rich
Tel.: ++41 +1 6343781
Fax : ++41 +1 6344907
Homepage Work: http://www.math.ethz.ch/~degiorgi/
Homepage Private: http://www.ticino.edu/usr/enrico_degiorgi/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 23 16:17:04 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 23 Jul 2002 15:17:04 +0100 (BST)
Subject: [R] tsplot
In-Reply-To: <NEBBLOMPELHOIMFBEMAHKECPCGAA.degiorgi@math.ethz.ch>
Message-ID: <Pine.LNX.4.31.0207231515030.19918-100000@gannet.stats>

On Tue, 23 Jul 2002, Enrico De Giorgi wrote:

> I would like to plot n time series together. I've defined a matrix w, where
> each column contains one time series.

Better to use ts.union to make a multiple time series, as a matrix does
not have a time base.

> With S-Plus usually I use the
> tsplot(.) command, but it seems that this command is not available in R.
>
> Can someone help me?

library(ts)
?plot.ts


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Tue Jul 23 16:53:47 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Tue, 23 Jul 2002 16:53:47 +0200 (MEST)
Subject: [R] contrast matrix in package multcomp
In-Reply-To: <3D19E334.4DF91B70@psy.uni-muenchen.de>
Message-ID: <Pine.LNX.4.21.0207231647470.16006-100000@artemis>


> Hi,
> 
> I've got a problem building a contrast matrix for the Dunnet contrast in
> package multcopm. 

<snip>

> > summary(simtest(adiff ~ trial, cmatrix=C))
> Error in simtest.formula(adiff ~ trial, cmatrix = C) :
>  dimensions of x and cmatrix do not match
> 

difficulties like that should now be fixed in multcomp_0.3-0 (on CRAN). We
re-wrote the code for the formula interface which is now able to deal with
any configuration of covariables, see ?simtest for some examples. 

Additionally, the factor levels are now printed in the summary and print
methods. Many thanks to Martin Maechler for very helpful comments!

Torsten

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Tue Jul 23 18:35:53 2002
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Tue, 23 Jul 2002 11:35:53 -0500
Subject: [R] Trying tkscript
References: <01C2326C.0EE412C0.andreww@cheque.uq.edu.au>
Message-ID: <3D3D85E9.1050500@perseus.unalmed.edu.co>

I am trying the function tkscript, that apears in "A primer on the 
R-Tcl/Tk Package" on
The Newsletter of the R Project of September 2001.

But I am a newbee and I don?t know how to handle some problems.

1. When I "Load" a file, such a file appears without newline (All the 
text in a line) and
    only the first and the last line.
2. When I "Run" a ? symbol appears and I don't know what to do there.
3. If I type any letter and press return then this message appears:

Executing from script window:
-----
Error in cat(list(...), file, sep, fill, labels, append) :
        argument 3 not yet handled by cat

The file I try to use with the tkscript function is attached too

Thank you for your help

Kenneth Cabrera

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: script.R
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020723/80dc51c7/script.pl
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: ejemplo.txt
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020723/80dc51c7/ejemplo.txt

From krcabrer at perseus.unalmed.edu.co  Tue Jul 23 18:46:05 2002
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Tue, 23 Jul 2002 11:46:05 -0500
Subject: [R] Trying tkscript, more info
References: <01C2326C.0EE412C0.andreww@cheque.uq.edu.au> <3D3D85E9.1050500@perseus.unalmed.edu.co>
Message-ID: <3D3D884D.3020501@perseus.unalmed.edu.co>



Kenneth Cabrera wrote:

> I am trying the function tkscript, that apears in "A primer on the 
> R-Tcl/Tk Package" on
> The Newsletter of the R Project of September 2001.
>
> But I am a newbee and I don?t know how to handle some problems.
>
> 1. When I "Load" a file, such a file appears without newline (All the 
> text in a line) and
>    only the first and the last line.
> 2. When I "Run" a ? symbol appears and I don't know what to do there.
> 3. If I type any letter and press return then this message appears:
>
> Executing from script window:
> -----
> Error in cat(list(...), file, sep, fill, labels, append) :
>        argument 3 not yet handled by cat
>
> The file I try to use with the tkscript function is attached too
>
> Thank you for your help
>
> Kenneth Cabrera
>
>I am using W2K and R 1.5.1 version and ActiveState Active Tcl version 8.3.4.3
>------------------------------------------------------------------------
>
>require(tcltk) || stop("tcltk support is absent")
>
>tkscript <- function() {
> wfile <- ""
> tt<-tktoplevel()
> txt<-tktext(tt,height=10)
> tkpack(txt)
> save<-function() {
>   file <- tkcmd("tk_getSaveFile",
>     initialfile=tkcmd("file","tail",wfile),
>     initialdir=tkcmd("file","dirname",wfile))
>   if (!length(file)) return()
>   chn<-tkcmd("open",file,"w")
>   tkcmd("puts",chn,tkget(txt,"0.0","end"))
>   tkcmd("close",chn)
>   wfile <<-file
> }
> load <-function() {
>   file <-tkcmd("tk_getOpenFile")
>   if (!length(file)) return()
>   chn<-tkcmd("open",file,"r")
>   tkinsert(txt,"0.0",tkcmd("read",chn))
>   tkcmd("close",chn)
>   wfile <<-file
> }
> run <- function() {
>   code<-tkget(txt,"0.0","end")
>   e<-try(parse(text=code))
>   if (inherits(e,"try-error")) {
>     tkcmd("tk_messageBox",message="Syntax error",icon="error")
>     return()
>   }
>   cat("Executing from script window:","-----",code,"result:",sep="\n")
>   print(eval(e))
> }
> topMenu <- tkmenu(tt)
> tkconfigure(tt,menu=topMenu)
> fileMenu <- tkmenu(topMenu, tearoff=FALSE)
> tkadd(fileMenu,"command",label="Load",command=load)
> tkadd(fileMenu,"command",label="Save",command=save)
> tkadd(topMenu,"cascade",label="File",menu=fileMenu)
> tkadd(topMenu,"command",label="Run",command=run)
>}
>
>
>------------------------------------------------------------------------
>
>x<-seq(1,10,length=200)
>y<-x^2
>plot(x,y)
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Tue Jul 23 19:17:54 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Tue, 23 Jul 2002 10:17:54 -0700 (PDT)
Subject: [R] Quartz ?
In-Reply-To: <p05111b02b9630a3ef122@[217.88.224.76]>
Message-ID: <Pine.GSO.4.10.10207231017150.26457-100000@quetelet.stat.ucla.edu>

I believe there is a compiled devel version at
ftp://gifi.stat.ucla.edu/pub/R-devel.tar.gz.  However, it appears that it
is almost 2 months old.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Tue, 23 Jul 2002, G. Sawitzki wrote:

> Jan,
> 
>   the current development version of R does not build in my 
> environment. Is a compiled/packed version with Quartz support on the 
> net somewhere? Is quartz() the right incantation?
> 
>   Greetings,
>    g.
> 
> P.S. S. Urbanek from Augsburg has fixed SJava for MacX. I have asked 
> him to pass his patches to Duncan.
>    g.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcelo at leptocephala.lei.furg.br  Tue Jul 23 19:33:24 2002
From: marcelo at leptocephala.lei.furg.br (marcelo)
Date: Tue, 23 Jul 2002 14:33:24 -0300 (BRT)
Subject: [R] Converting dates?
Message-ID: <Pine.LNX.4.33.0207231422350.24203-100000@leptocephala.lei.furg.br>

Dear R-users

I have some doubts about with converting dates...
e.g.
dates         data
23/12/1975    0.8678
03/01/1976    0.8736
28/01/1976    0.765
13/03/1976    0,9654
...
I think that converting these dates can easily my plots...

is there a R function to convert these dates to
a julian dates and so plot that variables??
The help files as.POSIXlt, POSIXt and others
don't aswer my doubts...
DateTimeClass convert my "dates" to a format POSIX
and so i can plot??
Thanks for any help!
-- 
Marcelo Alexandre Bruno - Pos-graduacao Oceanografia Biologica
Departamento de Oceanografia -  Laboratorio de Ecologia do Ictioplancton
(0xx53) 2336529 - Rio Grande - RS - BRAZIL

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mli at emmes.com  Tue Jul 23 19:51:25 2002
From: mli at emmes.com (Ming-Chung Li)
Date: Tue, 23 Jul 2002 13:51:25 -0400
Subject: [R] rotate a dendrogram
Message-ID: <3.0.5.32.20020723135125.009aa100@netgate.emmes.com>

Dear all,

Does anyone know how to rotate a dendengram? My purpose is
to put a dendrogram on top of an image plot and then put a 
rotated dendrogram on the left hand side (LHS) of the image plot.
The image plot represents a matrix and each node of the top 
(LHS) dendrogram will correspond to each column (row) of matrix.

Thanks,

Ming-Chung Li
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Tue Jul 23 20:34:37 2002
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Tue, 23 Jul 2002 20:34:37 +0200 (CEST)
Subject: [R] function "rast.put" in package(GRASS)
In-Reply-To: <fc.000f5d9701a89267000f5d9701a89267.1a895c6@educagri.fr>
Message-ID: <Pine.LNX.4.44.0207232003110.28819-100000@reclus.nhh.no>

Dear Celine,

On Tue, 23 Jul 2002, CELINE RONDEY wrote:

> I would like to use the "rast.put" function under R ( in package
> GRASS):"rast.put" moves a single numeric vector to Grass. This vector is
> the result of my kriging.  In fact, i created a grid :  
> grid<-data.frame(cbind(c(matrix(H$xseq,length(H$xseq),length(H$yseq))),
>   c(matrix(H$yseq,length(H$xseq),length(H$yseq),byrow=T))))
> grid_as.matrix(grid) 
> colnames(grid)_c("x","y")  #(with H <- gmeta(interp=TRUE))
> Loci_grid
> 
> and use "krige.conv" ( kc_krige.conv(......)) to obtain this value.
> So, my vector is kc$predict .
> (This numeric vector for export with length of H$Ncells in GRASS order).
> 
> But i have a problem with "rast.put" function. Indeed, when i draw my
> raster under GRASS, Xlamb and ylamb are inverted (lambert coordonnees).
> I write :
> rast.put(H,lname="var_residu",layer=kc$predict,cat=FALSE,interp=TRUE,
>   DCELL=TRUE)
> 
> How to use this function?
> 

First, it is always easier to try to help if the query states which 
platform, version of R, and in this case contributed package version, you 
are using. Since you are using krige.conv(), you seem to be using geoR and 
the GRASS interface (in interpreted mode).

You are passing a matrix of prediction locations to krige.conv() that you 
have constructed yourself. In the analogous krige.G() function in the 
GRASS interface package (using sgeostat and spatial), the same matrix of 
prediction loactions is constructed as:

s <- cbind(east(G), north(G))

where G <- gmeta(), equivalent to your H. The reason for using the helper 
functions east() and north() is to get the cells in the correct order for 
GRASS, ie. top left first, rather than bottom left first. Could you try 
this, next try plot(H, kc$predict) to see if the GRASS interface can plot 
"the right way up" in R, then rast.put() as before. Please feel free to 
use the GRASS statistics list too - 
http://grass.itc.it/mailman/listinfo/statsgrass, or to contact me 
off-list.

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gsl at statlab.uni-heidelberg.de  Wed Jul 24 00:10:35 2002
From: gsl at statlab.uni-heidelberg.de (G. Sawitzki)
Date: Wed, 24 Jul 2002 00:10:35 +0200
Subject: [R] Quartz ?
In-Reply-To: 
 <Pine.GSO.4.10.10207231017150.26457-100000@quetelet.stat.ucla.edu>
References: 
 <Pine.GSO.4.10.10207231017150.26457-100000@quetelet.stat.ucla.edu>
Message-ID: <p05111b07b96384a99b67@[217.88.224.76]>

At 10:17 -0700 23.07.02, Roger Peng wrote:
>I believe there is a compiled devel version at
>ftp://gifi.stat.ucla.edu/pub/R-devel.tar.gz.  However, it appears that it
>is almost 2 months old.
>
>-roger

Thank you, yes. It works.
  gs.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andreww at cheque.uq.edu.au  Wed Jul 24 14:46:21 2002
From: andreww at cheque.uq.edu.au (Andrew C. Ward)
Date: Wed, 24 Jul 2002 12:46:21 -0000
Subject: [R] Aggregate: assembling the "by" part on the fly
Message-ID: <01C23310.DAD460C0.andreww@cheque.uq.edu.au>

Thank you, Petr.

Your example
	> aggregate(dat[,1],list(daf$Age,daf$Year),length)
is exactly what I want, but without hard-coding the
bits in list(...).

In my case, aggregate is inside another function to
which I pass a dataframe. The names of the columns
will vary from call to call, as may the number of
columns.

Thanks again.

Regards,

Andrew C. Ward

CAPE Centre
Department of Chemical Engineering
The University of Queensland
Brisbane Qld 4072 Australia
andreww at cheque.uq.edu.au



On Tuesday, July 23, 2002 7:11 PM, Petr Pikal [SMTP:petr.pikal at precheza.cz] wrote:
> 
> 
> On 23 Jul 2002 at 17:11, Andrew C. Ward wrote:
> 
> > Dear R users,
> > 
> > I'm having trouble using aggregate() and would
> > greatly appreciate your advice. I am using R 1.5.1
> > on Windows 2000.
> > 
> > I want to call my function in the following way
> >  extract.data(x=dat[, "Age", "Year"])
> > where extract.data() uses aggregate() to count the number
> > of cases for each combination of "Age" and "Year".
> > 
> > I've defined extract.data() in the following way
> >  extract.data <- function(x) {
> >   tmp <- aggregate(x[,1], by=list(dimnames(x)[[2]]), length)
> >   dimnames(tmp)[[2]] <- c(dimnames(x)[[2]], "N")
> >   invisible(tmp)
> >  }
> > The call to aggregate obviously won't work (and doesn't).
> 
> Well, I think you are not doing what you exactly want (and what aggregate 
> requires).
> 
> if your data frame looks for instance:
> 
> > daf
>    ID Age Year
> 1   1   5 1995
> 2   2   6 1995
> 3   3   8 1995
> 4   4   5 1995
> 5   5   6 1996
> 6   6   7 1996
> 7   7   5 1996
> 8   8   6 1996
> 9   9   7 1996
> 10 10   5 1996
> 
> aggregate will do what you want smoothly
> 
> > aggregate(daf[,1],list(daf$Age,daf$Year),length)
>   Group.1 Group.2 x
> 1       5    1995 2
> 2       6    1995 1
> 3       8    1995 1
> 4       5    1996 2
> 5       6    1996 2
> 6       7    1996 2
> 
> look at the difference in output
> 
> > list(daf$Age,daf$Year)
> [[1]]
>  [1] 5 6 8 5 6 7 5 6 7 5
> 
> [[2]]
>  [1] 1995 1995 1995 1995 1996 1996 1996 1996 1996 1996
> 
> > list(dimnames(daf)[[2]])
> [[1]]
> [1] "ID"   "Age"  "Year"
> 
> 
> 
> > 
> > I'm wondering how to assemble the "by" argument inside
> > extract.data() when I wish aggregate() to use all the
> > columns in my data frame.
> 
> Using all columns seems to me a liitle bit surprising. Do you mean to use also a 
> column on which the aggregation is performed?
> 
> > 
> > Thank you very much for your help.
> > 
> > 
> > Regards,
> > 
> > Andrew C. Ward
> > 
> > CAPE Centre
> > Department of Chemical Engineering
> > The University of Queensland
> > Brisbane Qld 4072 Australia
> > andreww at cheque.uq.edu.au
> 
> 
> Best regardsPetr Pikal
> petr.pikal at precheza.cz
> p.pik at volny.cz
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dave at twiga.com  Wed Jul 24 06:25:54 2002
From: dave at twiga.com (dave@twiga.com)
Date: Wed, 24 Jul 2002 07:25:54 +0300
Subject: [R] Re:  Quartz ?
Message-ID: <200207240426.GAA02770@stat.math.ethz.ch>

Hi, 

I will be out of the office from Mon 15th of July and will be back on Mon 12th of August.
If your message is related to AMMP work and is urgent please resend it to <setel.ammp at twiga.com>. 

If you email is fairly urgent and not related to AMMP, please resend it to <ammp.dar at twiga.com> and make sure the word FORDAVE appears somewhere in the subject line. It will then be forwarded to an address that I will check when I have internet access (i.e. not every day). 

If you send additional emails to me the AMMP server will receive them and I'll see them when I get back.
You will only receive one copy of this message - the autoresponder will not send you this message every time you email me.

If this has gone to a mailing list - sorry folks. I have tried to exclude all the lists I thought I had subscribed to.

Bye for now.

Dave

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From asimon at u.washington.edu  Wed Jul 24 06:40:34 2002
From: asimon at u.washington.edu (Adam Simon)
Date: Tue, 23 Jul 2002 21:40:34 -0700 (PDT)
Subject: No subject
Message-ID: <Pine.LNX.4.43.0207232140340.25498@hymn12.u.washington.edu>

Hi, I am trying to use xgobi with R on a windows XP machine.  I downloaded the package, which seems to have worked and started on the tutorial supplied.  The command 

   data(laser)  

works fine

but the command

  xgobi(laser)

returns

   C:/PROGRA~1/R/rw1051/library/xgobi/scripts/xgobi.bat -vtitle 'laser' -std  mmx C:/DOCUME~1/Adam/LOCALS~1/Temp/xgobi-laser19169 
> 

with nothing else.  I have looked at the xgobi.bat file and it seems like it is trying to call an xgobi.exe file, which it is not finding.  I tried to find this file on my own to redirect the .bat file, but it does not show up in any of my searches.  I also looked for the temp file, but it was also not there.  Can someone please help me set this up so it works?

Thanks much, 

Adam


_____________________________________________________________________
Adam F. Simon                                   
Department of Political Science                44 Gowen Hall
University of Washington                       Office: (206) 616-3584
Seattle, WA  98195-3530                        Fax:    (206) 685-2146   



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Wed Jul 24 08:00:58 2002
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Wed, 24 Jul 2002 08:00:58 +0200
Subject: [R] Re: Quartz ?
Message-ID: <OF4BD06F01.1E8F5EB2-ONC1256C00.0020E0C6@eurotel.cz>


Ooops,
I am not an R-developer, just a user...
Therefore I don't know anything about Quartz and Quartz support.
Greetings,
Jan

- - - Original message: - - -
From: owner-r-announce at stat.math.ethz.ch
Send: 23.7.2002 17:15:00
To: r-help at stat.math.ethz.ch r-announce at stat.math.ethz.ch
Subject: Quartz ?

Jan,

  the current development version of R does not build in my
environment. Is a compiled/packed version with Quartz support on the
net somewhere? Is quartz() the right incantation?

  Greetings,
   g.

P.S. S. Urbanek from Augsburg has fixed SJava for MacX. I have asked
him to pass his patches to Duncan.
   g.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-announce mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To:
r-announce-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jul 24 08:25:31 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 24 Jul 2002 08:25:31 +0200
Subject: [R] Re: 
References: <Pine.LNX.4.43.0207232140340.25498@hymn12.u.washington.edu>
Message-ID: <3D3E485B.D6275F8F@statistik.uni-dortmund.de>

Adam Simon wrote:
> 
> Hi, I am trying to use xgobi with R on a windows XP machine.  I downloaded the package, which seems to have worked and started on the tutorial supplied.  The command
> 
>    data(laser)
> 
> works fine
> 
> but the command
> 
>   xgobi(laser)
> 
> returns
> 
>    C:/PROGRA~1/R/rw1051/library/xgobi/scripts/xgobi.bat -vtitle 'laser' -std  mmx C:/DOCUME~1/Adam/LOCALS~1/Temp/xgobi-laser19169
> >
> 
> with nothing else.  I have looked at the xgobi.bat file and it seems like it is trying to call an xgobi.exe file, which it is not finding.  I tried to find this file on my own to redirect the .bat file, but it does not show up in any of my searches.  I also looked for the temp file, but it was also not there.  Can someone please help me set this up so it works?


Well, the R package "xgobi" provides an interface to the data
visualization system "xgobi".
Let's cite the file INSTALL from the xgobi package, as suggested by 
library(help=xgobi):

"
Xgobi for Windows can be obtained from

	http://www.stats.ox.ac.uk/pub/SWin

Install and test this first.


You will need to customize the batch files in the scripts directory
for your installation.  The example files there work for mine.

You might want to set the properties of the batch files under Win 9x
to `Close on exit' after you have them working.
"


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 24 08:27:29 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 24 Jul 2002 07:27:29 +0100 (BST)
Subject: [R] Re: your mail
In-Reply-To: <Pine.LNX.4.43.0207232140340.25498@hymn12.u.washington.edu>
Message-ID: <Pine.LNX.4.31.0207240726100.25273-100000@gannet.stats>

You need to read the INSTALL file in the Windows version of the xgobi
package (and follow its instructions).

On Tue, 23 Jul 2002, Adam Simon wrote:

> Hi, I am trying to use xgobi with R on a windows XP machine.  I downloaded the package, which seems to have worked and started on the tutorial supplied.  The command
>
>    data(laser)
>
> works fine
>
> but the command
>
>   xgobi(laser)
>
> returns
>
>    C:/PROGRA~1/R/rw1051/library/xgobi/scripts/xgobi.bat -vtitle 'laser' -std  mmx C:/DOCUME~1/Adam/LOCALS~1/Temp/xgobi-laser19169
> >
>
> with nothing else.  I have looked at the xgobi.bat file and it seems like it is trying to call an xgobi.exe file, which it is not finding.  I tried to find this file on my own to redirect the .bat file, but it does not show up in any of my searches.  I also looked for the temp file, but it was also not there.  Can someone please help me set this up so it works?
>
> Thanks much,
>
> Adam
>
>
> _____________________________________________________________________
> Adam F. Simon
> Department of Political Science                44 Gowen Hall
> University of Washington                       Office: (206) 616-3584
> Seattle, WA  98195-3530                        Fax:    (206) 685-2146
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Wed Jul 24 08:51:56 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Wed, 24 Jul 2002 08:51:56 +0200
Subject: [R] Converting dates?
References: <Pine.LNX.4.33.0207231422350.24203-100000@leptocephala.lei.furg.br>
Message-ID: <3D3E4E8C.47C23D3F@atmos.umnw.ethz.ch>

Hello marcelo

try

plot(strptime(dates,format="%d/%m/%Y"),data)

gruess

joerg


marcelo wrote:
> 
> Dear R-users
> 
> I have some doubts about with converting dates...
> e.g.
> dates         data
> 23/12/1975    0.8678
> 03/01/1976    0.8736
> 28/01/1976    0.765
> 13/03/1976    0,9654
> ...
> I think that converting these dates can easily my plots...
> 
> is there a R function to convert these dates to
> a julian dates and so plot that variables??
> The help files as.POSIXlt, POSIXt and others
> don't aswer my doubts...
> DateTimeClass convert my "dates" to a format POSIX
> and so i can plot??
> Thanks for any help!
> --
> Marcelo Alexandre Bruno - Pos-graduacao Oceanografia Biologica
> Departamento de Oceanografia -  Laboratorio de Ecologia do Ictioplancton
> (0xx53) 2336529 - Rio Grande - RS - BRAZIL
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Wed Jul 24 10:00:48 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Wed, 24 Jul 2002 10:00:48 +0200
Subject: [R] NA/NULL slot for a class defined with 'methods'
Message-ID: <20020724080048.GA511361@genome.cbs.dtu.dk>

Dear all,


I would like to signify that a slot of mode "array"
is undefined and I thought that array(), or NA or NULL
would be good choices...

The following examples leave me puzzled:
 
> setClass("test", representation(x="array"))
[1] "test"
> new("test")
An object of class "test"
Slot "x":
numeric(0)

> new("test", x=array())
An object of class "test"
Slot "x":
[1] NA

> new("test", x=NA)
Error in initialize(value, ...) : Invalid object for slot "x", with class "logical", should be or extend class "array"



Is there a way to do it ?


Regards,


Laurent


-- 
--------------------------------------------------------------
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			DK-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From inam at man.ac.uk  Wed Jul 24 10:30:37 2002
From: inam at man.ac.uk (In-Sun Nam)
Date: Wed, 24 Jul 2002 09:30:37 +0100
Subject: [R] increase the default memory for R
Message-ID: <005801c232ec$631e5c80$d2135882@inam>

Dear All,

I have encountered an error while using nlme that states

Error: cannot allocate vector of size 16535 kb
In addition: Warning message:
Reached totol allocation of 63Mb: see help(memory.size).

So I was trying to modify "the default memory available for data storage" by
launching R from command line, but I do not quite understand how I should
set the relevant values, supposed to be using gc() and memory.size().

Any help will be very much appreciated...

Many thanks,
In-Sun

In-Sun Nam
School of Pharmacy and Pharmaceutical Sciences
University of Manchester
Oxford Road
Manchester
M13 9PL


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meinhardploner at gmx.net  Wed Jul 24 10:30:45 2002
From: meinhardploner at gmx.net (Meinhard Ploner)
Date: Wed, 24 Jul 2002 10:30:45 +0200
Subject: [R] tapply slow?
Message-ID: <A5E10D80-9EDF-11D6-8C1D-0003938C0ABE@gmx.net>

If I call the function tapply

tapply(x, fact, sum)

with arguments of length 500000 the function works very slow.
Is there an alternative to get the same results?
The factor has about 100000 levels.

thanks
Meinhard Ploner



ps
version:
platform powerpc-apple-darwin5.3
arch     powerpc
os       darwin5.3
system   powerpc, darwin5.3
status
major    1
minor    4.0
year     2001
month    12
day      19
language R

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Wed Jul 24 11:39:00 2002
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Wed, 24 Jul 2002 11:39:00 +0200 (MET DST)
Subject: [R] R code for Frequency and Count Data
Message-ID: <200207240939.LAA12198@luc.ac.be>

Last Friday, I sent the following message to R-announce but apparently
it did not get through. At least, I did not receive a copy back.
Apologies if you receive two copies! Jim



I have just put complete R code and data for my book
Modelling Frequency and Count data. Oxford University Press (1995)
on my web page
www.luc.ac.be/~jlindsey
There are over 160 data sets, about one-half of which have the R
analysis output (the examples), the rest being for the exercises.

Doing this has reinforced my conclusion that R's glm simply does not
stack up to GLIM4 for generalised linear models. I guess that
generalist software just cannot compete with the specialists.
  Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sbarbar at uni-goettingen.de  Wed Jul 24 11:07:34 2002
From: sbarbar at uni-goettingen.de (salvatore barbaro)
Date: Wed, 24 Jul 2002 11:07:34 +0200
Subject: [R] increase the default memory for R
In-Reply-To: <005801c232ec$631e5c80$d2135882@inam>
Message-ID: <3D3E8A76.15415.61A918@localhost>

Dear In-Sun,

how to solve your problem depends on the system you are 
working. If you are starting R via UNIX, you should call R with
	R --vsize=500M --nsize=20000k
(500 and 20000 are only examples)

If you are using R via Windows, try go on the R-icon on your 
desktop and use the right mouse botton. Select "properties" and in 
the field "target" instead of 
C:\Programme\R\rw1051\bin\Rgui.exe
(path is also an example)
consider
C:\Programme\R\rw1051\bin\Rgui.exe --max-mem-size=512M
(whereby 512 is also an example)

Best regards

yours

s.



On 24 Jul 2002, at 9:30, In-Sun Nam wrote:

Dear All,

I have encountered an error while using nlme that states

Error: cannot allocate vector of size 16535 kb
In addition: Warning message:
Reached totol allocation of 63Mb: see help(memory.size).

So I was trying to modify "the default memory available for data
storage" by launching R from command line, but I do not quite
understand how I should set the relevant values, supposed to be 
using
gc() and memory.size().

Any help will be very much appreciated...

Many thanks,
In-Sun

In-Sun Nam
School of Pharmacy and Pharmaceutical Sciences
University of Manchester
Oxford Road
Manchester
M13 9PL


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-.- r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help",
or "[un]subscribe" (in the "body", not the subject !)  To:
r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._._

salvatore barbaro
department of public economics
platz der g?ttinger sieben 3
37073 g?ttingen
tel.: +49 551 3919704
fax:  +49 551 39 7353
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 24 12:26:13 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 24 Jul 2002 11:26:13 +0100 (BST)
Subject: [R] increase the default memory for R
In-Reply-To: <005801c232ec$631e5c80$d2135882@inam>
Message-ID: <Pine.LNX.4.31.0207241125030.25432-100000@gannet.stats>

That must be on Windows: see the rw-FAQ.

That computer has very little memory: you probably need to add some RAM.

On Wed, 24 Jul 2002, In-Sun Nam wrote:

> Dear All,
>
> I have encountered an error while using nlme that states
>
> Error: cannot allocate vector of size 16535 kb
> In addition: Warning message:
> Reached totol allocation of 63Mb: see help(memory.size).
>
> So I was trying to modify "the default memory available for data storage" by
> launching R from command line, but I do not quite understand how I should
> set the relevant values, supposed to be using gc() and memory.size().
>
> Any help will be very much appreciated...
>
> Many thanks,
> In-Sun
>
> In-Sun Nam
> School of Pharmacy and Pharmaceutical Sciences
> University of Manchester
> Oxford Road
> Manchester
> M13 9PL
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lutz.thieme at amd.com  Wed Jul 24 13:43:38 2002
From: lutz.thieme at amd.com (lutz.thieme@amd.com)
Date: Wed, 24 Jul 2002 13:43:38 +0200
Subject: [R] getting information from a plot / links in pdf
Message-ID: <E540DF203FFED21182EB0008C72875600AEDA84D@deexmta4.amd.com>

Hello everybody,

if I create plots with a large number of boxplots it is very useful to get detailed information for each box
(e.g. statistic values or sample names). Because all plots have to be viewed in a WEB browser
(Intranet) all graphs are stored as PDF files. Thereby, very small plotted information inside these 
boxes can be displayed using the zoom capabilities of PDF. 
To work faster and to keep the overview it is needed to get these information simply by mouse focusing 
(without zoom) and (this would be great!) to link from such a focus to other data or WEB pages.
Did anybody have an idea how it is possible to get contextual plot data information or how to create 
(pdf/WEB) links.

Thanks in advance

Regards,

Lutz

	Lutz Thieme
	Product Engineering
	AMD - Saxony Manufacturing GmbH
	phone: + 49-351-277 -  4269
	fax:       + 49-351-277-9-4269



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mel at mcs.st-and.ac.uk  Wed Jul 24 14:38:55 2002
From: mel at mcs.st-and.ac.uk (Mike Lonergan)
Date: Wed, 24 Jul 2002 13:38:55 +0100
Subject: [R] as.numeric
Message-ID: <NEBBJLLBCLEDFLCCBKDAAECLCHAA.mel@mcs.st-andrews.ac.uk>


Why is as.numeric("3/2") NA plus a warning?

Thanks,

Mike.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From scholl at yubc.net  Tue Jul 23 12:40:52 2002
From: scholl at yubc.net (Brian Scholl)
Date: Tue, 23 Jul 2002 12:40:52 +0200
Subject: [R] calling Matlab
Message-ID: <000001c2330f$58923ca0$eaa47cd4@oemcomputer>

Is there a way to call Matlab and Gauss code in R?  I see functions that
work for C/FORTRAN, but not for other languages.

Brian

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Hagen.Schmoeller at iaew.rwth-aachen.de  Wed Jul 24 14:20:55 2002
From: Hagen.Schmoeller at iaew.rwth-aachen.de (Hagen =?ISO-8859-1?Q?Schm=F6ller?=)
Date: Wed, 24 Jul 2002 14:20:55 +0200
Subject: [R] TS-library
Message-ID: <3D3E9BA7.8070107@iaew.rwth-aachen.de>

Hello,

I am trying to get a library for statistical computing. For example, I 
have to compute the ARIMA parameters of time series and I?d like to do 
that out of my C/C++ or Fortran source code.

The thing I already managed is how to get the standalone library 
"Rmath", but in this library the ts-modul is not included.

Thus, my question is: How can I get a library including the ts-Modul or 
how can I use the ts-modul out of my C/C++/Fortran source code??

Tanks,
Ingo + Hagen
-- 
-----------------------------------------------------------------------
Dipl.-Ing. Hagen K. Schm?ller
Institut f?r Elektrische Anlagen und Energiewirtschaft, RWTH Aachen
Schinkelstra?e 6, D-52056 Aachen, Germany
Tel.: +49 (0)241 - 80 - 96734
Fax : +49 (0)241 - 80 - 92197
Hagen.Schmoeller at iaew.rwth-aachen.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jul 24 14:55:49 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 24 Jul 2002 14:55:49 +0200
Subject: [R] as.numeric
References: <NEBBJLLBCLEDFLCCBKDAAECLCHAA.mel@mcs.st-andrews.ac.uk>
Message-ID: <3D3EA3D5.BD6F8821@statistik.uni-dortmund.de>

Mike Lonergan wrote:
> 
> Why is as.numeric("3/2") NA plus a warning?

Because "3/2" is a character string that cannot be coerced to numeric
easily.
You mean: You want to evaluate the expression(!) 3/2, which is - whyever
- inquotation marks.

Maybe the following line is more appropriate to you problem?
 eval(parse(text="3/2"))

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 24 14:58:03 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 24 Jul 2002 13:58:03 +0100 (BST)
Subject: [R] as.numeric
In-Reply-To: <NEBBJLLBCLEDFLCCBKDAAECLCHAA.mel@mcs.st-andrews.ac.uk>
Message-ID: <Pine.LNX.4.31.0207241355430.25663-100000@gannet.stats>

On Wed, 24 Jul 2002, Mike Lonergan wrote:

>
> Why is as.numeric("3/2") NA plus a warning?

Because that is not a valid number (it's a text representation of an
expression).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed Jul 24 14:59:45 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 24 Jul 2002 08:59:45 -0400
Subject: [R] calling Matlab
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC4EC@usrymx10.merck.com>

Both Matlab and Gauss are proprietary software.  Even before considering the
technical possibility of such link, you may want to read the license
agreements for those packages and see if it's even legal to do so.

Just my $0.02...
Andy

> -----Original Message-----
> From: Brian Scholl [mailto:scholl at yubc.net]
> Sent: Tuesday, July 23, 2002 6:41 AM
> To: Rhelp questions list
> Subject: [R] calling Matlab
> 
> 
> Is there a way to call Matlab and Gauss code in R?  I see 
> functions that
> work for C/FORTRAN, but not for other languages.
> 
> Brian
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 24 15:01:01 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 24 Jul 2002 14:01:01 +0100 (BST)
Subject: [R] TS-library
In-Reply-To: <3D3E9BA7.8070107@iaew.rwth-aachen.de>
Message-ID: <Pine.LNX.4.31.0207241358310.25663-100000@gannet.stats>

On Wed, 24 Jul 2002, Hagen [ISO-8859-1] Schmller wrote:

> Hello,
>
> I am trying to get a library for statistical computing. For example, I
> have to compute the ARIMA parameters of time series and Id like to do
> that out of my C/C++ or Fortran source code.
>
> The thing I already managed is how to get the standalone library
> "Rmath", but in this library the ts-modul is not included.

That is a small part of the support routines for R.

> Thus, my question is: How can I get a library including the ts-Modul or
> how can I use the ts-modul out of my C/C++/Fortran source code??

You can't easily.  Much of it is in R code.  There is C code there to do
this in the internals of arima0, but no documentation and you would do
better to start from the references that from that code.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Wed Jul 24 16:29:28 2002
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 24 Jul 2002 09:29:28 -0500
Subject: [R] cumsum and subsets of a data frame?
Message-ID: <87adohyzav.fsf@lumen.indyrad.iupui.edu>

I have a question about using cumsum on subsets of a data frame.
Suppose I have a frame that looks something like this

> tmp
       f x  y
1   left 1  0
2   left 2  0
3   left 3  9
4   left 4 10
5   left 5 23
6   left 6 45
7   left 7 13
8   left 8  2
9   left 9  6
10 right 1 10
11 right 2 26
12 right 3  9
13 right 4 50
14 right 5 78
15 right 6 20
16 right 7  7
17 right 8 20
18 right 9 19
 
I'm plotting things like this will lattice

> library(lattice)
> xyplot(y ~ x | f, data=tmp)

If I plot the cumsum with xyplot( cumsum(y) ~ x | f, data=tmp),
it is summed across the values of the factor f.  Can anyone
suggest a way to calculate the cumulative sum of y in this data
frame such that it is reset for each value of f?  The resulting
frame would look like this:

> tmp
       f x  y   s
1   left 1  0   0
2   left 2  0   0
3   left 3  9   9
4   left 4 10  19
5   left 5 23  42
6   left 6 45  87
7   left 7 13 100
8   left 8  2 102
9   left 9  6 108
10 right 1 10  10
11 right 2 26  36
12 right 3  9  45
13 right 4 50  95
14 right 5 78 173
15 right 6 20 193
16 right 7  7 200
17 right 8 20 220
18 right 9 19 239

I know how to calculate the pieces with, for example, 

> cumsum(tmp$y[tmp$f=='right'])

but I don't know how to get this piecewise into the data frame or
how to automate it.  Any suggestions?

Thanks, Mike

-- 
Michael A. Miller                               mmiller3 at iupui.edu
  Imaging Sciences, Department of Radiology, IU School of Medicine
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Wed Jul 24 17:00:45 2002
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Wed, 24 Jul 2002 10:00:45 -0500 (CDT)
Subject: [R] Contrasts and MC
Message-ID: <200207241500.KAA16168@uhddx01.dt.uh.edu>

Dear R People:

I have a few questions about multiple comparisons
and contrasts for ANOVA, please.

I've tried some things but with no success.

Suppose I have a completely randomized design,
and I want to have the contrast

\mu_1 - 0.5 \mu_2 - 0.5 \mu_2

How do I set that up, please?

I used the C command, and ran aov, but the results were identical to those
with no contrasts.

Also, is there a command for Dunne'ts multiple range test?

How about Scheffe's simultaneous intervals?

Thank you so much for your help, in advance!

Sincerely,
Erin Hodgess
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
1 Main Street 
Houston, TX 77002
mailto: hodgess at uhddx01.dt.uh.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Jul 24 17:28:27 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 24 Jul 2002 08:28:27 -0700 (PDT)
Subject: [R] tapply slow?
In-Reply-To: <A5E10D80-9EDF-11D6-8C1D-0003938C0ABE@gmx.net>
Message-ID: <Pine.A41.4.44.0207240828170.127596-100000@homer08.u.washington.edu>

On Wed, 24 Jul 2002, Meinhard Ploner wrote:

> If I call the function tapply
>
> tapply(x, fact, sum)
>
> with arguments of length 500000 the function works very slow.
> Is there an alternative to get the same results?
> The factor has about 100000 levels.
>

Yes. rowsum().

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Wed Jul 24 17:26:48 2002
From: macq at llnl.gov (Don MacQueen)
Date: Wed, 24 Jul 2002 08:26:48 -0700
Subject: [R] function running in package gregmisc
In-Reply-To: <OFB33BA771.518F54EF-ONC1256BFF.002831A9@fimat-france.fr>
References: <OFB33BA771.518F54EF-ONC1256BFF.002831A9@fimat-france.fr>
Message-ID: <p05111a00b96475d02bb8@[128.115.153.6]>

At 9:23 AM +0200 7/23/02, Xavier.Abulker at fimat.com wrote:
>Hello,
>I've got a problem using the function "running" in package gregmisc
>
>For example:
>
>  test<-c(1,2,3,4,5)
>running(test,fun=var,width=3) gives
>1:1 1:2 1:3 2:4 3:5
>  NA  NA   2   3   4
>
>which is wrong because
>
>  var(test[1:3])
>[1] 1
>
>Where am I wrong?

Look at the definition of running:

>  running
function (X, fun = mean, width = min(length(X), 20), allow.fewer = FALSE,
     ...)
running2(X = X, fun = mean, width = width, allow.fewer = allow.fewer,
     ...)

You can see that running() calls running2(), but does not pass the 
value of its argument `fun' to running2(). So try running2() instead:

>  running2(1:5,fun=var,width=3)
1:1 1:2 1:3 2:4 3:5
  NA  NA   1   1   1


>Thanks
>Xavier
>

Trying some other functions besides var() can help understand what's going on:

>  running(1:5,fun=max,width=3)
1:1 1:2 1:3 2:4 3:5
  NA  NA   2   3   4
>  running(1:5,fun=function(x) 0,width=3)
1:1 1:2 1:3 2:4 3:5
  NA  NA   2   3   4
>  args(running)
function (X, fun = mean, width = min(length(X), 20), allow.fewer = FALSE,
     ...)
NULL

At this point the results suggest, even without inspecting the 
definition of running(), that running() ignores `fun' and always 
returns the mean.

Looks like the author needs to fix running(), but fortunately 
running2() is available.

-Don

-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Jul 24 17:36:36 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 24 Jul 2002 08:36:36 -0700 (PDT)
Subject: [R] cumsum and subsets of a data frame?
In-Reply-To: <87adohyzav.fsf@lumen.indyrad.iupui.edu>
Message-ID: <Pine.A41.4.44.0207240835570.127596-100000@homer08.u.washington.edu>

On 24 Jul 2002, Michael A. Miller wrote:

> I have a question about using cumsum on subsets of a data frame.
> Suppose I have a frame that looks something like this
>
> > tmp
>        f x  y
> 1   left 1  0
> 2   left 2  0
> 3   left 3  9
> 4   left 4 10
> 5   left 5 23
> 6   left 6 45
> 7   left 7 13
> 8   left 8  2
> 9   left 9  6
> 10 right 1 10
> 11 right 2 26
> 12 right 3  9
> 13 right 4 50
> 14 right 5 78
> 15 right 6 20
> 16 right 7  7
> 17 right 8 20
> 18 right 9 19
>
> I'm plotting things like this will lattice
>
> > library(lattice)
> > xyplot(y ~ x | f, data=tmp)
>
> If I plot the cumsum with xyplot( cumsum(y) ~ x | f, data=tmp),
> it is summed across the values of the factor f.  Can anyone
> suggest a way to calculate the cumulative sum of y in this data
> frame such that it is reset for each value of f?  The resulting
> frame would look like this:
>

Use split and unsplit
Eg
> df<-data.frame(y=runif(100),f=rep(1:5,rep(20,5)))
> df$z<-unsplit(lapply(split(df$y,df$f),cumsum),df$f)


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From scholl at yubc.net  Wed Jul 24 17:50:30 2002
From: scholl at yubc.net (Brian Scholl)
Date: Wed, 24 Jul 2002 17:50:30 +0200
Subject: [R] calling Matlab
References: <51F9C42DA15CD311BD220008C707D81906FFC4EC@usrymx10.merck.com>
Message-ID: <006f01c2332a$48018f60$91a57cd4@oemcomputer>

To clarify, based on the other responses that I've gotten: I already have a
version of Matlab on my pc (it's the student version, but it does what I
need - I've been thinking to buy the complete version as well if I can rob a
bank sometime soon) and I've got Gauss code I wrote when I was working on
that system for the computation, say, of GMM models.  Anyway, Barry Quinn's
recent Estimation and Tracking of Frequency book has some great matlab code
and there are many programs that I've written on my own that are just a pain
to do over again in R.  The main problem is that I'd like to be able to
easily transfer data back and forth between the two systems in code (and
maybe call a few of my matlab routines in R too).

For example (in case I'm babbling), I might compute the periodogram using R,
then use Chiu's (1989) procedure I'd determine peaks.  Using those
frequencies I could estimate a sum-of-cosines regression in Matlab very
easily and nicely using Quinn's code, which would then give me the residuals
from the regression, the periodogram of which I could plot very nicely in R.
I'd love to do all this without 1. saving + loading the data umpteen times
manually (then running the code on the respective systems in sequence); or
2. reprogramming everything in R or Matlab.

Thank you for all your help.

Brian

----- Original Message -----
From: "Liaw, Andy" <andy_liaw at merck.com>
To: "'Brian Scholl'" <scholl at yubc.net>; "Rhelp questions list"
<r-help at stat.math.ethz.ch>
Sent: Wednesday, July 24, 2002 2:59 PM
Subject: RE: [R] calling Matlab


> Both Matlab and Gauss are proprietary software.  Even before considering
the
> technical possibility of such link, you may want to read the license
> agreements for those packages and see if it's even legal to do so.
>
> Just my $0.02...
> Andy
>
> > -----Original Message-----
> > From: Brian Scholl [mailto:scholl at yubc.net]
> > Sent: Tuesday, July 23, 2002 6:41 AM
> > To: Rhelp questions list
> > Subject: [R] calling Matlab
> >
> >
> > Is there a way to call Matlab and Gauss code in R?  I see
> > functions that
> > work for C/FORTRAN, but not for other languages.
> >
> > Brian
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> >
>
> --------------------------------------------------------------------------
----
> Notice: This e-mail message, together with any attachments, contains
information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that
may be confidential, proprietary copyrighted and/or legally privileged, and
is intended solely for the use of the individual or entity named on this
message. If you are not the intended recipient, and have received this
message in error, please immediately return this by e-mail and then delete
it.
>
>
============================================================================
==
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rvaradha at jhsph.edu  Wed Jul 24 18:11:09 2002
From: rvaradha at jhsph.edu (Ravi Varadhan)
Date: Wed, 24 Jul 2002 12:11:09 -0400
Subject: [R] read.dta function in foreign package
Message-ID: <c97ce8c96913.c96913c97ce8@jhsph.edu>

Hi:

When I import a Stata (version 7) data set into R, the missing values 
for factor and numeric variables are represented as "NaN", but the 
missing values for date variables are represented as "NA".  Can "NaN" 
for numeric variables be treated as the same as "NA" ? Are there 
situations when these two representations are not equivalent?

The following are the details of my system:

platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    4.1            
year     2002           
month    01             
day      30             
language R              

Thanks for your help,
Ravi Varadhan.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Jul 24 18:39:21 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 24 Jul 2002 09:39:21 -0700 (PDT)
Subject: [R] read.dta function in foreign package
In-Reply-To: <c97ce8c96913.c96913c97ce8@jhsph.edu>
Message-ID: <Pine.A41.4.44.0207240924170.127596-100000@homer08.u.washington.edu>

On Wed, 24 Jul 2002, Ravi Varadhan wrote:

> Hi:
>
> When I import a Stata (version 7) data set into R, the missing values
> for factor and numeric variables are represented as "NaN", but the
> missing values for date variables are represented as "NA".  Can "NaN"
> for numeric variables be treated as the same as "NA" ? Are there
> situations when these two representations are not equivalent?
>

They are almost always treated the same way.  The few exceptions are
things like the function is.nan(), which is FALSE for NA, and the fact
that unique() on a vector containing NA and NaN will report them as
different values.

However, I'm surprised that you are getting NaNs. I get NA for missing
numeric data under both Windows and Linux (though the Windows version is
1.5.1), and the C source code looks as if it should give NA (I certainly
intended it to).


	-thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 24 18:48:00 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 24 Jul 2002 17:48:00 +0100 (BST)
Subject: [R] read.dta function in foreign package
In-Reply-To: <c97ce8c96913.c96913c97ce8@jhsph.edu>
Message-ID: <Pine.LNX.4.31.0207241739280.25761-100000@gannet.stats>

On Wed, 24 Jul 2002, Ravi Varadhan wrote:

> When I import a Stata (version 7) data set into R, the missing values
> for factor and numeric variables are represented as "NaN", but the
> missing values for date variables are represented as "NA".  Can "NaN"
> for numeric variables be treated as the same as "NA" ? Are there
> situations when these two representations are not equivalent?

The following may help:

> is.na(c(NA, NaN))
[1] TRUE TRUE
> is.nan(c(NA, NaN))
[1] FALSE  TRUE

So for almost all purposes NaN is treated the same as missing NA, but
if you really need to the two can be distinguished.

It looks to me as if this is something we should fix in the foreign
package (unless it has already been given that your version of R is two
versions old).  Could you provide an example file where you get NaN and
expected NA?


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Wed Jul 24 18:45:46 2002
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 24 Jul 2002 12:45:46 -0400
Subject: [R] cumsum and subsets of a data frame?
In-Reply-To: <87adohyzav.fsf@lumen.indyrad.iupui.edu>
Message-ID: <5.0.2.1.0.20020724124256.00ace010@mcmail.cis.mcmaster.ca>

Dear Michael,

The following appears to do what you want:

     > cbind(tmp, s=c(lapply(split(tmp, tmp$f),
     +     function(x) cumsum(x$y)), recursive=T))
         f x  y   s
     1   left 1  0   0
     2   left 2  0   0
     3   left 3  9   9
     4   left 4 10  19
     5   left 5 23  42
     6   left 6 45  87
     7   left 7 13 100
     8   left 8  2 102
     9   left 9  6 108
     10 right 1 10  10
     11 right 2 26  36
     12 right 3  9  45
     13 right 4 50  95
     14 right 5 78 173
     15 right 6 20 193
     16 right 7  7 200
     17 right 8 20 220
     18 right 9 19 239

I hope that this helps,
  John

At 09:29 AM 7/24/2002 -0500, Michael A. Miller wrote:
>I have a question about using cumsum on subsets of a data frame.
>Suppose I have a frame that looks something like this
>
> > tmp
>        f x  y
>1   left 1  0
>2   left 2  0
>3   left 3  9
>4   left 4 10
>5   left 5 23
>6   left 6 45
>7   left 7 13
>8   left 8  2
>9   left 9  6
>10 right 1 10
>11 right 2 26
>12 right 3  9
>13 right 4 50
>14 right 5 78
>15 right 6 20
>16 right 7  7
>17 right 8 20
>18 right 9 19
>
>I'm plotting things like this will lattice
>
> > library(lattice)
> > xyplot(y ~ x | f, data=tmp)
>
>If I plot the cumsum with xyplot( cumsum(y) ~ x | f, data=tmp),
>it is summed across the values of the factor f.  Can anyone
>suggest a way to calculate the cumulative sum of y in this data
>frame such that it is reset for each value of f?  The resulting
>frame would look like this:
>
> > tmp
>        f x  y   s
>1   left 1  0   0
>2   left 2  0   0
>3   left 3  9   9
>4   left 4 10  19
>5   left 5 23  42
>6   left 6 45  87
>7   left 7 13 100
>8   left 8  2 102
>9   left 9  6 108
>10 right 1 10  10
>11 right 2 26  36
>12 right 3  9  45
>13 right 4 50  95
>14 right 5 78 173
>15 right 6 20 193
>16 right 7  7 200
>17 right 8 20 220
>18 right 9 19 239
>
>I know how to calculate the pieces with, for example,
>
> > cumsum(tmp$y[tmp$f=='right'])
>
>but I don't know how to get this piecewise into the data frame or
>how to automate it.  Any suggestions?

____________________________
John Fox
Department of Sociology
McMaster University
email: jfox at mcmaster.ca
web: http://www.socsci.mcmaster.ca/jfox
____________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mel at mcs.st-and.ac.uk  Wed Jul 24 19:22:23 2002
From: mel at mcs.st-and.ac.uk (Mike Lonergan)
Date: Wed, 24 Jul 2002 18:22:23 +0100
Subject: [R] as.numeric
In-Reply-To: <200207241418.g6OEIJ217899@pandora.outcomes.chop.edu>
Message-ID: <NEBBJLLBCLEDFLCCBKDAGECOCHAA.mel@mcs.st-andrews.ac.uk>

Thanks folks,

I apologise for my imprecision. I think I do understand what is going on
with as.numeric("3/2"), but am less clear as to the reasons for it to have
been chosen.

If I may rephrase my question:

as.numeric("3") returns 3 and as.numeric(3/2) gives 1.5. Would it be very
stupid of me to modify as.numeric to make it also evaluate text strings that
do not contain any variable names ( as.numeric("3/2") would then give 1.5
and as.numeric("2+3") 5 but as.numeric("p") would remain NA) ?

Or is there already a function that has this effect? I guess it would be
safer to make a new function rather than overwriting, but do find that when
testing things I seem to end up using improper fractions. (I was wanting to
collect a set of parameters with match.call(), but using eval(parse()) to
deal with my fractions ended up also attempting to evaluate the characters
of non-numeric parameters - eg type="p"; eval(parse(text=type)) looks for
the value of a variable called p. Maybe it would just be easier to learn to
divide.)

Thanks again for the advice,

Mike.


     > -----Original Message-----
     > From: Yuelin Li [mailto:yuelin at pandora.outcomes.chop.edu]
     > Sent: 24 July 2002 15:18
     > To: mel at mcs.st-and.ac.uk
     > Subject: Re: [R] as.numeric
     >
     >
     > Try
     >
     >  eval(parse(text="3/2"))
     >
     > because "3/2" is not converted to a mathematical expression
     > unless parsed.
     >
     > Yuelin.
     >
     > ---------
     >
     >  Why is as.numeric("3/2") NA plus a warning?
     >
     > Thanks,
     >
     > Mike.
     >

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Wed Jul 24 19:25:08 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Wed, 24 Jul 2002 13:25:08 -0400
Subject: [R] calling Matlab
Message-ID: <D7A3CFD7825BD6119B880002A58F06C20149CDD4@groexmb02.pfizer.com>

Matlab does provide a C/C++ API, so it should not be difficult to write a
driver to interface between the two.  There is already a Matlab driver for
Python, for instance.

-Greg

> -----Original Message-----
> From: Brian Scholl [mailto:scholl at yubc.net]
> Sent: Wednesday, July 24, 2002 11:51 AM
> To: Liaw, Andy; Rhelp questions list
> Subject: Re: [R] calling Matlab
> 
> 
> To clarify, based on the other responses that I've gotten: I 
> already have a
> version of Matlab on my pc (it's the student version, but it 
> does what I
> need - I've been thinking to buy the complete version as well 
> if I can rob a
> bank sometime soon) and I've got Gauss code I wrote when I 
> was working on
> that system for the computation, say, of GMM models.  Anyway, 
> Barry Quinn's
> recent Estimation and Tracking of Frequency book has some 
> great matlab code
> and there are many programs that I've written on my own that 
> are just a pain
> to do over again in R.  The main problem is that I'd like to 
> be able to
> easily transfer data back and forth between the two systems 
> in code (and
> maybe call a few of my matlab routines in R too).
> 
> For example (in case I'm babbling), I might compute the 
> periodogram using R,
> then use Chiu's (1989) procedure I'd determine peaks.  Using those
> frequencies I could estimate a sum-of-cosines regression in 
> Matlab very
> easily and nicely using Quinn's code, which would then give 
> me the residuals
> from the regression, the periodogram of which I could plot 
> very nicely in R.
> I'd love to do all this without 1. saving + loading the data 
> umpteen times
> manually (then running the code on the respective systems in 
> sequence); or
> 2. reprogramming everything in R or Matlab.
> 
> Thank you for all your help.
> 
> Brian
> 
> ----- Original Message -----
> From: "Liaw, Andy" <andy_liaw at merck.com>
> To: "'Brian Scholl'" <scholl at yubc.net>; "Rhelp questions list"
> <r-help at stat.math.ethz.ch>
> Sent: Wednesday, July 24, 2002 2:59 PM
> Subject: RE: [R] calling Matlab
> 
> 
> > Both Matlab and Gauss are proprietary software.  Even 
> before considering
> the
> > technical possibility of such link, you may want to read the license
> > agreements for those packages and see if it's even legal to do so.
> >
> > Just my $0.02...
> > Andy
> >
> > > -----Original Message-----
> > > From: Brian Scholl [mailto:scholl at yubc.net]
> > > Sent: Tuesday, July 23, 2002 6:41 AM
> > > To: Rhelp questions list
> > > Subject: [R] calling Matlab
> > >
> > >
> > > Is there a way to call Matlab and Gauss code in R?  I see
> > > functions that
> > > work for C/FORTRAN, but not for other languages.
> > >
> > > Brian
> > >
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > > -.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read
> > > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To:
> > > r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > > _._._._._._._._._
> > >
> >
> > 
> --------------------------------------------------------------
> ------------
> ----
> > Notice: This e-mail message, together with any attachments, contains
> information of Merck & Co., Inc. (Whitehouse Station, New 
> Jersey, USA) that
> may be confidential, proprietary copyrighted and/or legally 
> privileged, and
> is intended solely for the use of the individual or entity 
> named on this
> message. If you are not the intended recipient, and have received this
> message in error, please immediately return this by e-mail 
> and then delete
> it.
> >
> >
> ==============================================================
> ==============
> ==
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tklistaddr at keittlab.bio.sunysb.edu  Wed Jul 24 19:50:23 2002
From: tklistaddr at keittlab.bio.sunysb.edu (Timothy H. Keitt)
Date: 24 Jul 2002 13:50:23 -0400
Subject: [R] calling Matlab
In-Reply-To: <006f01c2332a$48018f60$91a57cd4@oemcomputer>
References: <51F9C42DA15CD311BD220008C707D81906FFC4EC@usrymx10.merck.com> 
	<006f01c2332a$48018f60$91a57cd4@oemcomputer>
Message-ID: <1027533023.28547.32.camel@keittlab-6>

Once the world realizes the importance of a common runtime engine, this
will all be child's play. You'll just attach your matlab and R sessions
to the same resource pool and each will see the other's data. Data
storage and representation issues should be an OS (really common
middleware) service; why we keep rewriting it all from scratch is beyond
me.

That said, it would be strait forward to write a matlab-compatible
module that call R's eval in C code. Going the other way might be also
easy, but I can't remember how and if matlab exports its header files.
But its probably easier still (although not elegant) to dump ascii files
from matlab and load them in R.

Tim

On Wed, 2002-07-24 at 11:50, Brian Scholl wrote:
> To clarify, based on the other responses that I've gotten: I already have a
> version of Matlab on my pc (it's the student version, but it does what I
> need - I've been thinking to buy the complete version as well if I can rob a
> bank sometime soon) and I've got Gauss code I wrote when I was working on
> that system for the computation, say, of GMM models.  Anyway, Barry Quinn's
> recent Estimation and Tracking of Frequency book has some great matlab code
> and there are many programs that I've written on my own that are just a pain
> to do over again in R.  The main problem is that I'd like to be able to
> easily transfer data back and forth between the two systems in code (and
> maybe call a few of my matlab routines in R too).
> 
> For example (in case I'm babbling), I might compute the periodogram using R,
> then use Chiu's (1989) procedure I'd determine peaks.  Using those
> frequencies I could estimate a sum-of-cosines regression in Matlab very
> easily and nicely using Quinn's code, which would then give me the residuals
> from the regression, the periodogram of which I could plot very nicely in R.
> I'd love to do all this without 1. saving + loading the data umpteen times
> manually (then running the code on the respective systems in sequence); or
> 2. reprogramming everything in R or Matlab.
> 
> Thank you for all your help.
> 
> Brian
> 
> ----- Original Message -----
> From: "Liaw, Andy" <andy_liaw at merck.com>
> To: "'Brian Scholl'" <scholl at yubc.net>; "Rhelp questions list"
> <r-help at stat.math.ethz.ch>
> Sent: Wednesday, July 24, 2002 2:59 PM
> Subject: RE: [R] calling Matlab
> 
> 
> > Both Matlab and Gauss are proprietary software.  Even before considering
> the
> > technical possibility of such link, you may want to read the license
> > agreements for those packages and see if it's even legal to do so.
> >
> > Just my $0.02...
> > Andy
> >
> > > -----Original Message-----
> > > From: Brian Scholl [mailto:scholl at yubc.net]
> > > Sent: Tuesday, July 23, 2002 6:41 AM
> > > To: Rhelp questions list
> > > Subject: [R] calling Matlab
> > >
> > >
> > > Is there a way to call Matlab and Gauss code in R?  I see
> > > functions that
> > > work for C/FORTRAN, but not for other languages.
> > >
> > > Brian
> > >
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > > -.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read
> > > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To:
> > > r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > > _._._._._._._._._
> > >
> >
> > --------------------------------------------------------------------------
> ----
> > Notice: This e-mail message, together with any attachments, contains
> information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that
> may be confidential, proprietary copyrighted and/or legally privileged, and
> is intended solely for the use of the individual or entity named on this
> message. If you are not the intended recipient, and have received this
> message in error, please immediately return this by e-mail and then delete
> it.
> >
> >
> ============================================================================
> ==
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Wed Jul 24 19:54:04 2002
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 24 Jul 2002 13:54:04 -0400
Subject: [R] Contrasts and MC
In-Reply-To: <200207241500.KAA16168@uhddx01.dt.uh.edu>
Message-ID: <5.0.2.1.0.20020724133852.027d0698@mcmail.cis.mcmaster.ca>

Dear Erin,

At 10:00 AM 7/24/2002 -0500, Erin Hodgess wrote:

>I have a few questions about multiple comparisons
>and contrasts for ANOVA, please.
>
>I've tried some things but with no success.
>
>Suppose I have a completely randomized design,
>and I want to have the contrast
>
>\mu_1 - 0.5 \mu_2 - 0.5 \mu_2
>
>How do I set that up, please?
>
>I used the C command, and ran aov, but the results were identical to those
>with no contrasts.

C returns a new factor with the contrasts set as specified; unless you used 
the new factor, or reassigned the result to the original one, there would 
be no effect.

As well, by default, C creates one fewer contrast than the number of levels 
of the factor, even if the matrix that you pass as an argument to C has 
fewer columns; in this instance, the columns are filled out to be 
orthogonal (in the basis) to those provided and to each other. You can, 
however, specify the number of columns for the contrast matrix directly, 
using the argument how.many.

It may also be slightly easier to simply assign to contrasts() for the 
factor; for example:

     > contrasts(fac) <- matrix(c(1, -0.5, -0.5), ncol=1)
     > round(contrasts(fac), 3)
             [,1]   [,2]
     A 1.0  0.000
     B -0.5 -0.707
     C -0.5  0.707
     >
     > contrasts(fac, how.many=1) <- matrix(c(1, -0.5, -0.5), ncol=1)
     > contrasts(fac)
             [,1]
     A 1.0
     B -0.5
     C -0.5
     >

(I assume that your factor has three levels, and that the second \mu_2 is a 
typo.)

>Also, is there a command for Dunne'ts multiple range test?

See the multcomp package.

>How about Scheffe's simultaneous intervals?

Not that I'm aware, but Scheffe intervals are very easy to construct since 
they just use a different multiplier than the usual t-intervals.

I hope that this helps,
  John

____________________________
John Fox
Department of Sociology
McMaster University
email: jfox at mcmaster.ca
web: http://www.socsci.mcmaster.ca/jfox
____________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Wed Jul 24 22:05:48 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Wed, 24 Jul 2002 17:05:48 -0300
Subject: [R] tsplot
In-Reply-To: <Pine.LNX.4.31.0207231515030.19918-100000@gannet.stats>
References: <NEBBLOMPELHOIMFBEMAHKECPCGAA.degiorgi@math.ethz.ch>
Message-ID: <4.2.2.20020724170451.00a9e220@pop3.arnet.com.ar>

At 03:17 PM 23/7/2002 +0100, ripley at stats.ox.ac.uk wrote:
>On Tue, 23 Jul 2002, Enrico De Giorgi wrote:
>
> > I would like to plot n time series together. I've defined a matrix w, where
> > each column contains one time series.
>
>Better to use ts.union to make a multiple time series, as a matrix does
>not have a time base.

You could also do:

plot( as.ts(w) )


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 24 22:10:07 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 24 Jul 2002 21:10:07 +0100 (BST)
Subject: [R] tsplot
In-Reply-To: <4.2.2.20020724170451.00a9e220@pop3.arnet.com.ar>
Message-ID: <Pine.LNX.4.31.0207242108540.26137-100000@gannet.stats>

On Wed, 24 Jul 2002, Daniel Mastropietro wrote:

> At 03:17 PM 23/7/2002 +0100, ripley at stats.ox.ac.uk wrote:
> >On Tue, 23 Jul 2002, Enrico De Giorgi wrote:
> >
> > > I would like to plot n time series together. I've defined a matrix w, where
> > > each column contains one time series.
> >
> >Better to use ts.union to make a multiple time series, as a matrix does
> >not have a time base.
>
> You could also do:
>
> plot( as.ts(w) )

You could, but what I suggested is better, for the reason I gave.
So what was your point?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Wed Jul 24 22:18:07 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Wed, 24 Jul 2002 17:18:07 -0300
Subject: [R] Converting dates?
In-Reply-To: <Pine.LNX.4.33.0207231422350.24203-100000@leptocephala.lei.
 furg.br>
Message-ID: <4.2.2.20020724171559.00aa5100@pop3.arnet.com.ar>

There are the functions mdy.date() and as.date() in the survival library, 
that convert to Julian date.

At 02:33 PM 23/7/2002 -0300, marcelo wrote:
>Dear R-users
>
>I have some doubts about with converting dates...
>e.g.
>dates         data
>23/12/1975    0.8678
>03/01/1976    0.8736
>28/01/1976    0.765
>13/03/1976    0,9654
>...
>I think that converting these dates can easily my plots...
>
>is there a R function to convert these dates to
>a julian dates and so plot that variables??
>The help files as.POSIXlt, POSIXt and others
>don't aswer my doubts...
>DateTimeClass convert my "dates" to a format POSIX
>and so i can plot??
>Thanks for any help!
>--
>Marcelo Alexandre Bruno - Pos-graduacao Oceanografia Biologica
>Departamento de Oceanografia -  Laboratorio de Ecologia do Ictioplancton
>(0xx53) 2336529 - Rio Grande - RS - BRAZIL
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Wed Jul 24 22:47:42 2002
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Wed, 24 Jul 2002 16:47:42 -0400
Subject: [R] calling Matlab
In-Reply-To: <1027533023.28547.32.camel@keittlab-6>; from tklistaddr@keittlab.bio.sunysb.edu on Wed, Jul 24, 2002 at 01:50:23PM -0400
References: <51F9C42DA15CD311BD220008C707D81906FFC4EC@usrymx10.merck.com> <006f01c2332a$48018f60$91a57cd4@oemcomputer> <1027533023.28547.32.camel@keittlab-6>
Message-ID: <20020724164742.C25514@jessie.research.bell-labs.com>


I have looked at this several times over the years and not had any
compelling necessity to implement the S-Matlab bridge. However, just
last week I was looking at connecting R to Octave. And Matlab does
provide similar eval()-like functionality for calling its functions
from C code. It would be nice to have R graphics within Octave and
have the entire domain of functionality that Octave provides and R
does not.

Getting the elementary connection that covers primitive types is quite
easy and covers much of what is needed. However, non-primitive objects
in either system don't necessarily have equivalents in the other (e.g,
formula, and even data.frame).  As part of the Omegahat project, we
have developed a general bi-directional model for inter-system
interfaces that handles both primitive and non-primitive types in a
consistent and flexible fashion. We have used for creating connections
to Java, Python, Perl, JavaScript, CORBA, Gtk and gradually moving to
an equivalent setup for aspects of C/C++ (i.e. the automated/dynamic
reflectance approach). I may get time to do the Octave version in
September or so. However, if someone is going to work on this, it
might be useful to look at RSPython, for example. I'd be happy to
provide more details.

 D.

Timothy H. Keitt wrote:
> Once the world realizes the importance of a common runtime engine, this
> will all be child's play. You'll just attach your matlab and R sessions
> to the same resource pool and each will see the other's data. Data
> storage and representation issues should be an OS (really common
> middleware) service; why we keep rewriting it all from scratch is beyond
> me.
> 
> That said, it would be strait forward to write a matlab-compatible
> module that call R's eval in C code. Going the other way might be also
> easy, but I can't remember how and if matlab exports its header files.
> But its probably easier still (although not elegant) to dump ascii files
> from matlab and load them in R.
> 
> Tim
> 
> On Wed, 2002-07-24 at 11:50, Brian Scholl wrote:
> > To clarify, based on the other responses that I've gotten: I already have a
> > version of Matlab on my pc (it's the student version, but it does what I
> > need - I've been thinking to buy the complete version as well if I can rob a
> > bank sometime soon) and I've got Gauss code I wrote when I was working on
> > that system for the computation, say, of GMM models.  Anyway, Barry Quinn's
> > recent Estimation and Tracking of Frequency book has some great matlab code
> > and there are many programs that I've written on my own that are just a pain
> > to do over again in R.  The main problem is that I'd like to be able to
> > easily transfer data back and forth between the two systems in code (and
> > maybe call a few of my matlab routines in R too).
> > 
> > For example (in case I'm babbling), I might compute the periodogram using R,
> > then use Chiu's (1989) procedure I'd determine peaks.  Using those
> > frequencies I could estimate a sum-of-cosines regression in Matlab very
> > easily and nicely using Quinn's code, which would then give me the residuals
> > from the regression, the periodogram of which I could plot very nicely in R.
> > I'd love to do all this without 1. saving + loading the data umpteen times
> > manually (then running the code on the respective systems in sequence); or
> > 2. reprogramming everything in R or Matlab.
> > 
> > Thank you for all your help.
> > 
> > Brian
> > 
> > ----- Original Message -----
> > From: "Liaw, Andy" <andy_liaw at merck.com>
> > To: "'Brian Scholl'" <scholl at yubc.net>; "Rhelp questions list"
> > <r-help at stat.math.ethz.ch>
> > Sent: Wednesday, July 24, 2002 2:59 PM
> > Subject: RE: [R] calling Matlab
> > 
> > 
> > > Both Matlab and Gauss are proprietary software.  Even before considering
> > the
> > > technical possibility of such link, you may want to read the license
> > > agreements for those packages and see if it's even legal to do so.
> > >
> > > Just my $0.02...
> > > Andy
> > >
> > > > -----Original Message-----
> > > > From: Brian Scholl [mailto:scholl at yubc.net]
> > > > Sent: Tuesday, July 23, 2002 6:41 AM
> > > > To: Rhelp questions list
> > > > Subject: [R] calling Matlab
> > > >
> > > >
> > > > Is there a way to call Matlab and Gauss code in R?  I see
> > > > functions that
> > > > work for C/FORTRAN, but not for other languages.
> > > >
> > > > Brian
> > > >
> > > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > > > -.-.-.-.-.-.-.-.-
> > > > r-help mailing list -- Read
> > > > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > > Send "info", "help", or "[un]subscribe"
> > > > (in the "body", not the subject !)  To:
> > > > r-help-request at stat.math.ethz.ch
> > > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > > > _._._._._._._._._
> > > >
> > >
> > > --------------------------------------------------------------------------
> > ----
> > > Notice: This e-mail message, together with any attachments, contains
> > information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that
> > may be confidential, proprietary copyrighted and/or legally privileged, and
> > is intended solely for the use of the individual or entity named on this
> > message. If you are not the intended recipient, and have received this
> > message in error, please immediately return this by e-mail and then delete
> > it.
> > >
> > >
> > ============================================================================
> > ==
> > >
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Wed Jul 24 23:20:48 2002
From: faheem at email.unc.edu (Faheem Mitha)
Date: Wed, 24 Jul 2002 17:20:48 -0400 (EDT)
Subject: [R] loading compiled C++ code as shared library
Message-ID: <Pine.LNX.4.44.0207241517540.14733-100000@Chrestomanci>


Dear People,

Over the last few days I've been writing C++ to compile as a shared
library (previously I have always used C). Not entirely to my surprise, I
am getting errors. Specifically, when I try to load the shared library, I
get

Error in dyn.load(x, as.logical(local), as.logical(now)) :
	unable to load shared library
"/home/faheem/research/thesis/sim/ms/ms.so":
  /home/faheem/research/thesis/sim/ms/ms.so: undefined symbol:
__gxx_personality_v0

The structure of the C++ file is as follows. I'm concatenating the header
file (.hh) and the actual source code file (.cc) here. (I'm not including
any real code here, since I hope this is just a syntax issue). I have

//some initial header stuff

#include<vector>
#define INITTIME 100
#define LOWERLIM -1000000.0
#define UPPERLIM  1000000.0

using std::vector;
using std::equal;

// define some structs

struct alpha {...}; ...

//declare functions

foo(...);
bar(...);

//function definitions

foo()
{ bar();
...
}

bar
{...}

//end c++ file

In a separate R file I am trying trying to call foo.

result <- .C("foo",...) ...

I have read the instructions in the "R Extensions manual" and it appears I
need to declare (at least) the function that I am calling from R with
external linkage. So I added extern "C" next to the declaration of the
function foo. This didn't work. Then I wrapped all the declarations in a
block.

extern "C"{.....}

I tried other variations, including putting all the definitions in an
extern "C" block. I still get the same error. Since I don't really
understand what the extern "C" is supposed be doing here, I'm being pretty
brainless about this.

Note of course I'm compiling with a C++ compiler (g++)

	MAKEFLAGS='CXX=\ g++-3.1 PKG_CXXFLAGS=\ -Wall\ -pedantic\ -Werror\
-Wshadow ' R CMD SHLIB ms.cc -o ms.so

Would someone be kind enough to tell me what the correct syntax is? It
might also be helpful if someone could point to R code that uses
compiled C++ code.

Addendum: I looked at the file svm.h in the e1071 package source, and
tried to imitate that, but I still get the same error.

                                        Sincerely, Faheem Mitha.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Wed Jul 24 23:37:00 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Wed, 24 Jul 2002 18:37:00 -0300
Subject: [R] Label points in pairs()
In-Reply-To: <1027533023.28547.32.camel@keittlab-6>
References: <006f01c2332a$48018f60$91a57cd4@oemcomputer>
 <51F9C42DA15CD311BD220008C707D81906FFC4EC@usrymx10.merck.com>
 <006f01c2332a$48018f60$91a57cd4@oemcomputer>
Message-ID: <4.2.2.20020724183211.00a8c6d0@pop3.arnet.com.ar>

Hello,

I would like to know if there is a simple way of adding labels to the 
points in a pairs() plot.
I am thinking of something like using the text() function when adding 
labels to a regular plot.

Thanks
Daniel Mastropietro


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jul 25 00:11:54 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Jul 2002 00:11:54 +0200
Subject: [R] Trying tkscript, more info
In-Reply-To: <3D3D884D.3020501@perseus.unalmed.edu.co>
References: <01C2326C.0EE412C0.andreww@cheque.uq.edu.au>
	<3D3D85E9.1050500@perseus.unalmed.edu.co>
	<3D3D884D.3020501@perseus.unalmed.edu.co>
Message-ID: <x2d6tczsgl.fsf@biostat.ku.dk>

Kenneth Cabrera <krcabrer at perseus.unalmed.edu.co> writes:

> Kenneth Cabrera wrote:
> 
> > I am trying the function tkscript, that apears in "A primer on the
> > R-Tcl/Tk Package" on
> > The Newsletter of the R Project of September 2001.
> >
> > But I am a newbee and I don?t know how to handle some problems.
> >
> > 1. When I "Load" a file, such a file appears without newline (All
> > the text in a line) and
> >    only the first and the last line.
> > 2. When I "Run" a ? symbol appears and I don't know what to do there.
> > 3. If I type any letter and press return then this message appears:
> > Executing from script window:
> > -----
> > Error in cat(list(...), file, sep, fill, labels, append) :
> >        argument 3 not yet handled by cat
> >

1. might be a Windows/Unix difference, but see below. It doesn't
   happen to me, and I suspect that it might depend on the format of
   the file you're trying to load. Can you read the same file in
   Notepad?

2. is making you a victim of some changes that were made in R 1.5.0:
   All return values are now objects of class "tclObj" and you need to
   take tclvalue() of them to access them, or use as.character(). 
   You get one of these objects returned into "code" and for some odd
   reason, parse() decides to parse off of stdin when it gets a text
   argument that isn't of mode "character". 

3. is a consequence of the same thing: parse() sits waiting for you to
   type an expression on the input line, and only then does cat()
   realize that it doesn't handle the "code" argument that it got.

This doesn't affect the load/save routines as much, because tclObj's
get automatically converted with as.character when passed to tkcmd()
and friends, but there are still some cases where you need to use
tclvalue() explicitly, notably around tkget().

> > The file I try to use with the tkscript function is attached too
> >
> > Thank you for your help
> >
> > Kenneth Cabrera
> >
> >I am using W2K and R 1.5.1 version and ActiveState Active Tcl version 8.3.4.3
> >------------------------------------------------------------------------
> >
> >require(tcltk) || stop("tcltk support is absent")
> >
> >tkscript <- function() {
> > wfile <- ""
> > tt<-tktoplevel()
> > txt<-tktext(tt,height=10)
> > tkpack(txt)
> > save<-function() {
> >   file <- tkcmd("tk_getSaveFile",
> >     initialfile=tkcmd("file","tail",wfile),
> >     initialdir=tkcmd("file","dirname",wfile))
> >   if (!length(file)) return()
> >   chn<-tkcmd("open",file,"w")
> >   tkcmd("puts",chn,tkget(txt,"0.0","end"))
> >   tkcmd("close",chn)
> >   wfile <<-file
> > }
> > load <-function() {
> >   file <-tkcmd("tk_getOpenFile")
> >   if (!length(file)) return()
> >   chn<-tkcmd("open",file,"r")
> >   tkinsert(txt,"0.0",tkcmd("read",chn))
> >   tkcmd("close",chn)
> >   wfile <<-file
> > }
> > run <- function() {
> >   code<-tkget(txt,"0.0","end")
> >   e<-try(parse(text=code))
> >   if (inherits(e,"try-error")) {
> >     tkcmd("tk_messageBox",message="Syntax error",icon="error")
> >     return()
> >   }
> >   cat("Executing from script window:","-----",code,"result:",sep="\n")
> >   print(eval(e))
> > }
> > topMenu <- tkmenu(tt)
> > tkconfigure(tt,menu=topMenu)
> > fileMenu <- tkmenu(topMenu, tearoff=FALSE)
> > tkadd(fileMenu,"command",label="Load",command=load)
> > tkadd(fileMenu,"command",label="Save",command=save)
> > tkadd(topMenu,"cascade",label="File",menu=fileMenu)
> > tkadd(topMenu,"command",label="Run",command=run)
> >}
> >
> >
> >------------------------------------------------------------------------
> >
> >x<-seq(1,10,length=200)
> >y<-x^2
> >plot(x,y)
> >

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Thu Jul 25 00:09:16 2002
From: faheem at email.unc.edu (Faheem Mitha)
Date: Wed, 24 Jul 2002 18:09:16 -0400 (EDT)
Subject: [R] update (Re: loading compiled C++ code as shared library)
In-Reply-To: <Pine.LNX.4.44.0207241517540.14733-100000@Chrestomanci>
Message-ID: <Pine.LNX.4.44.0207241802460.14733-100000@Chrestomanci>



On Wed, 24 Jul 2002, Faheem Mitha wrote:

>
> Dear People,
>
> Over the last few days I've been writing C++ to compile as a shared
> library (previously I have always used C). Not entirely to my surprise, I
> am getting errors. Specifically, when I try to load the shared library, I
> get
>
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
> 	unable to load shared library
> "/home/faheem/research/thesis/sim/ms/ms.so":
>   /home/faheem/research/thesis/sim/ms/ms.so: undefined symbol:
> __gxx_personality_v0

This appears to have something to do with my compile options (see below).
Just doing "R CMD SHLIB ms.cc -o ms.so" does not give the error. Anyone
have any idea what might be causing this?

> Note of course I'm compiling with a C++ compiler (g++)
>
> 	MAKEFLAGS='CXX=\ g++-3.1 PKG_CXXFLAGS=\ -Wall\ -pedantic\ -Werror\
> -Wshadow ' R CMD SHLIB ms.cc -o ms.so

                                      Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From firetigertim at hotmail.com  Thu Jul 25 02:35:05 2002
From: firetigertim at hotmail.com (Timothy Sharac)
Date: Wed, 24 Jul 2002 18:35:05 -0600
Subject: [R] functions
Message-ID: <F91otjCjWEF0HG0anlz00020d6f@hotmail.com>


I'm trying to convert R code into C++, 2 conflicts have come about;

a) is.missing is not a function in C++, are there any substitutes?
b) need help generating random numbers bound by a normal distribution, with 
a mean and std dev. as inputs.

Tim Sharac

_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Jul 25 04:24:37 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 24 Jul 2002 19:24:37 -0700
Subject: [R] functions
In-Reply-To: <F91otjCjWEF0HG0anlz00020d6f@hotmail.com>
References: <F91otjCjWEF0HG0anlz00020d6f@hotmail.com>
Message-ID: <871y9sr1cq.fsf@jeeves.blindglobe.net>

>>>>> "timothy" == Timothy Sharac <firetigertim at hotmail.com> writes:

    timothy> I'm trying to convert R code into C++, 2 conflicts have
    timothy> come about;

Geez, that's not exactly trivial.  Best of luck!  If you write an R to
C++ preprocessor, I'd sure love to hear about it!

    timothy> a) is.missing is not a function in C++, are there any substitutes?

Depends on your data structure/coding in C++.

    timothy> b) need help generating random numbers bound by a normal
    timothy> distribution, with a mean and std dev. as inputs.

Lots of random number generating libraries floating around; for
example, in R's source code...

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul 25 09:08:28 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 25 Jul 2002 08:08:28 +0100 (BST)
Subject: [R] update (Re: loading compiled C++ code as shared library)
In-Reply-To: <Pine.LNX.4.44.0207241802460.14733-100000@Chrestomanci>
Message-ID: <Pine.GSO.4.44.0207250802070.15315-100000@auk.stats>

On Wed, 24 Jul 2002, Faheem Mitha wrote:

> On Wed, 24 Jul 2002, Faheem Mitha wrote:
>
> >
> > Dear People,
> >
> > Over the last few days I've been writing C++ to compile as a shared
> > library (previously I have always used C). Not entirely to my surprise, I
> > am getting errors. Specifically, when I try to load the shared library, I
> > get
> >
> > Error in dyn.load(x, as.logical(local), as.logical(now)) :
> > 	unable to load shared library
> > "/home/faheem/research/thesis/sim/ms/ms.so":
> >   /home/faheem/research/thesis/sim/ms/ms.so: undefined symbol:
> > __gxx_personality_v0
>
> This appears to have something to do with my compile options (see below).
> Just doing "R CMD SHLIB ms.cc -o ms.so" does not give the error. Anyone
> have any idea what might be causing this?

I suspect you are using g++-3.1 with R compiled with gcc < 3.0.  You often
can't mix-and-match versions of gcc across major revision levels, and you
certainly can't use gcc 3.1 on C++ code and mix it with earlier versions as
there is a C++ ABI change.

R's configure does compatibility checks when it selects the C, C++ and
Fortran compilers.  If you change your compilers it is a good idea to
rebuild R (and I'm pretty sure I had to when changing from gcc 2.95.3 to
3.x).

> > Note of course I'm compiling with a C++ compiler (g++)
> >
> > 	MAKEFLAGS='CXX=\ g++-3.1 PKG_CXXFLAGS=\ -Wall\ -pedantic\ -Werror\
> > -Wshadow ' R CMD SHLIB ms.cc -o ms.so

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmelinard at yahoo.fr  Thu Jul 25 11:09:43 2002
From: jmelinard at yahoo.fr (=?iso-8859-1?q?jimmy=20melinard?=)
Date: Thu, 25 Jul 2002 11:09:43 +0200 (CEST)
Subject: [R] Warning message
Message-ID: <20020725090943.28861.qmail@web14906.mail.yahoo.com>

hi!
i'm quite new in R and i don't understand why this
statement doesn't work:

> mode(mensuel$VARIANCE.PRIX)
[1] "numeric"
> storage.mode(mensuel$VARIANCE.PRIX)
[1] "integer"
> mean(mensuel$VARIANCE.PRIX)
[1] NA
Warning message: 
argument is not numeric or logical: returning NA in:
mean.default(mensuel$VARIANCE.PRIX) 


Thanks for help!



___________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ingo.kruck at iaew.rwth-aachen.de  Thu Jul 25 11:40:57 2002
From: ingo.kruck at iaew.rwth-aachen.de (Ingo Kruck)
Date: Thu, 25 Jul 2002 11:40:57 +0200
Subject: [R] Writing the ARMA Parameters into a file
Message-ID: <000f01c233bf$61c38990$906a8286@iaew.rwthaachen.de>

Hello,

I am trying to write the R-computed parameters of an ARIMA process into a
file.
But I am not able to.

I tried the following syntax (ts is my time series):

  .
  .
> result <- arima(ts, c(1,0,1))
> write(result, file="test.txt")

(and the following error occurred:)

Error in cat(list(...), file, sep, fill, labels, append) :
        argument 1 not yet handled by cat

How can I manage this??

Thanks,
Ingo

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul 25 11:29:45 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 25 Jul 2002 10:29:45 +0100 (BST)
Subject: [R] Warning message
In-Reply-To: <20020725090943.28861.qmail@web14906.mail.yahoo.com>
Message-ID: <Pine.LNX.4.31.0207251023050.28434-100000@gannet.stats>

On Thu, 25 Jul 2002, [iso-8859-1] jimmy melinard wrote:

> i'm quite new in R and i don't understand why this
> statement doesn't work:
>
> > mode(mensuel$VARIANCE.PRIX)
> [1] "numeric"
> > storage.mode(mensuel$VARIANCE.PRIX)
> [1] "integer"
> > mean(mensuel$VARIANCE.PRIX)
> [1] NA
> Warning message:
> argument is not numeric or logical: returning NA in:
> mean.default(mensuel$VARIANCE.PRIX)

A bit short on details here.  mean.default starts

    if (!is.numeric(x) && !is.complex(x) && !is.logical(x)) {
        warning("argument is not numeric or logical: returning NA")
        return(as.numeric(NA))
    }

so your argument fails is.numeric(x).  Here's such an example

> mode(x)
[1] "numeric"
> storage.mode(x)
[1] "integer"
> is.numeric(x)
[1] FALSE
> class(x)
[1] "factor"

so I guess you are trying to take the mean of a factor.  That makes no
sense, and R rightly objects.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Thu Jul 25 00:27:40 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Thu, 25 Jul 2002 10:27:40 +1200
Subject: [R] cumsum and subsets of a data frame?
In-Reply-To: <87adohyzav.fsf@lumen.indyrad.iupui.edu>; from mmiller3@iupui.edu on Wed, Jul 24, 2002 at 09:29:28AM -0500
References: <87adohyzav.fsf@lumen.indyrad.iupui.edu>
Message-ID: <20020725102740.B31056@camille.indigoindustrial.co.nz>

On Wed, Jul 24, 2002 at 09:29:28AM -0500, Michael A. Miller wrote:
...
> I'm plotting things like this will lattice
> 
> > library(lattice)
> > xyplot(y ~ x | f, data=tmp)
> 
> If I plot the cumsum with xyplot( cumsum(y) ~ x | f, data=tmp),
> it is summed across the values of the factor f.  

cumsum(y) is evaluated first, then xyplot.

There have been replies that suggested fiddling with the data.frame
to make a new data.frame.  You could also fiddle with the panel 
argument of xyplot.  Something like...

xyplot(y~x | f, data=tmp, 
  panel=function(x,y,...) {panel.xyplot(x,cumsum(y),type="l",...)})

that clips vertically - apparently, the ylim is the (quite sensible) range
of the y data.  So....

xyplot(y~x | f, data=tmp,
  panel=function(x,y,...) {panel.xyplot(x,cumsum(y),type="l",...)},
  ylim=c(min(tmp$y),sum(tmp$y)))

or, if you want the points too....

xyplot(y~x | f, 
    data=tmp,
    panel=function(x,y,...) {
	    panel.xyplot(x,cumsum(y),type="l",...) 
	    panel.xyplot(x,y,...)
	    },
   ylim=c(min(tmp$y),sum(tmp$y)))

It won't return the calculated cumsum value, but it'll look pretty,
and work for any arrangement of your "split" variable.

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu Jul 25 04:27:12 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Wed, 24 Jul 2002 22:27:12 -0400
Subject: [R] Workings of model.frame.default and [.
Message-ID: <20020724222712.4606843a.fharrell@virginia.edu>

I sent this note last Friday just before the weekend and didn't get any replies.  I'm sending it again in the hope that someone will offer some insight.  -Frank

Related to my earlier question to which I received very helpful replies, when I provide a subsetting method that automatically drops unused levels of a factor variable, I am getting into a bit of trouble using model.frame.default.  I know that model.frame.default has its own mechanism for dropping unused levels, but my personal preference is to handle this on a more basic level using [.factor and to not specify drop.unused.levels=TRUE to model.frame.default.  That way subsetting operations that are not carried out by model.frame also work the way I want, especially [.data.frame when I attach or otherwise reference a subset of a data frame.

Inside model.frame.default, a 'variables' list is constructed.  For factor variables this has all the original levels.  Then .Internal(model.frame()) is invoked.  This will invoke my local [.factor which drops unused levels.  However, model.frame is affected by the disparity in levels between what's in 'variables' and what is returned during [.data.frame (which calls [.factor), causing model.frame to return an invalid factor variable in which levels are shifted and some real levels at the end have zero frequencies [I am leaving `drop.unused.levels'=FALSE when running model.frame].

Is model.frame doing this by intentional design?  If not, can it be fixed?  It seems to me that to be general .Internal(model.frame()) should not depend on levels not changing when [.data.frame is executed.  If model.frame really needs to operate this way, does anyone see a workaround?

Thanks again, and I'll put in one more plug for [.factor to be modified so that if a system option 'drop.unused.levels' is TRUE (i.e., NOT by default) drop=TRUE is assumed unless drop=FALSE is explicitly stated by the user.  Then I can dispose of my local [.factor once and for all.

Frank
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jul 25 11:49:33 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Jul 2002 11:49:33 +0200
Subject: [R] Warning message
In-Reply-To: <20020725090943.28861.qmail@web14906.mail.yahoo.com>
References: <20020725090943.28861.qmail@web14906.mail.yahoo.com>
Message-ID: <x2lm80f87m.fsf@biostat.ku.dk>

jimmy melinard <jmelinard at yahoo.fr> writes:

> hi!
> i'm quite new in R and i don't understand why this
> statement doesn't work:
> 
> > mode(mensuel$VARIANCE.PRIX)
> [1] "numeric"
> > storage.mode(mensuel$VARIANCE.PRIX)
> [1] "integer"
> > mean(mensuel$VARIANCE.PRIX)
> [1] NA
> Warning message: 
> argument is not numeric or logical: returning NA in:
> mean.default(mensuel$VARIANCE.PRIX) 

It certainly looks odd...

I bet that the variable in question is a factor object, in which case
we have the effect that

> is.numeric(x)
[1] FALSE
> is.integer(x)
[1] TRUE
> mode(x)
[1] "numeric"

It's a complicated issue; I don't think it counts as a bug.

Factors really should not be treated as numeric vectors even if they
are internally stored as integers, so the point is rather that you
shouldn't expect is.numeric(x) and mode(x)=="numeric" to be the same
thing. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Thu Jul 25 12:46:47 2002
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Thu, 25 Jul 2002 20:46:47 +1000
Subject: [R] Warning message
Message-ID: <20020725104048.ETOW8762.mta01.mail.mel.aone.net.au@there>

Hi,

Without knowing what the object contains, it's hard to tell. Factor 
objects are numeric mode but generally screw up when treated as numbers. 
See what happens when you enter:

class(mensuel$VARIANCE.PRIX)

and you may be able to get away with:

mean(unclass(mensuel$VARIANCE.PRIX))

Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uleopold at science.uva.nl  Thu Jul 25 13:58:40 2002
From: uleopold at science.uva.nl (Ulrich Leopold)
Date: Thu, 25 Jul 2002 13:58:40 +0200
Subject: [R] remove objects(1-20, 25-30) OR remove objects(...) except(...)??
Message-ID: <3D3FE7F0.7010502@science.uva.nl>

Dear list,

I would like to do a remove like either

remove objects(1-20, 25-30) OR remove objects(...) except(...)

I only found the approach rm(pat=) which is not suitable as there would be 
too many patterns.

Can I also remove objects by their given number in ls() or do a remove but 
exclude certain objetcs?

Regards, Ulrich

-- 
__________________________________________________

Ulrich Leopold MSc.

Department of Physical Geography
Institute for Biodiversity and Ecosystem Dynamics
Faculty of Science
University of Amsterdam
Nieuwe Achtergracht 166
NL-1018WV Amsterdam

Phone: +31-(0)20-525-7456 (7451 Secretary)
Fax:   +31-(0)20-525-7431
Email: uleopold at science.uva.nl
http://www.frw.uva.nl/soil/Welcome.html

Check us also out at:
Netherlands Centre for Geo-ecological Research
http://www.frw.uva.nl/icg



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul 25 14:43:44 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 25 Jul 2002 13:43:44 +0100 (BST)
Subject: [R] remove objects(1-20, 25-30) OR remove objects(...) except(...)??
In-Reply-To: <3D3FE7F0.7010502@science.uva.nl>
Message-ID: <Pine.LNX.4.31.0207251342150.32423-100000@gannet.stats>

On Thu, 25 Jul 2002, Ulrich Leopold wrote:

> Dear list,
>
> I would like to do a remove like either
>
> remove objects(1-20, 25-30) OR remove objects(...) except(...)

rm(list=ls()[c(1:20, 25:30)])

> I only found the approach rm(pat=) which is not suitable as there would be
> too many patterns.
>
> Can I also remove objects by their given number in ls() or do a remove but
> exclude certain objetcs?

Just use standard S indexing.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Thu Jul 25 15:33:48 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Thu, 25 Jul 2002 15:33:48 +0200
Subject: [R] remove objects(1-20, 25-30) OR remove objects(...) except(...)??
References: <3D3FE7F0.7010502@science.uva.nl>
Message-ID: <3D3FFE3C.2668D4B2@atmos.umnw.ethz.ch>

Hello Ulrich,

i use the following function to remove all objects with names with one
or two letters. I use such variable names for temporary objects. I think
you can use something similary for your problem

clear <- function(){
 ll<-objects(1)
 ll<-ll[nchar(ll)<3]
 remove(list=ll,pos=1)
}


gruess

joerg

Ulrich Leopold wrote:
> 
> Dear list,
> 
> I would like to do a remove like either
> 
> remove objects(1-20, 25-30) OR remove objects(...) except(...)
> 
> I only found the approach rm(pat=) which is not suitable as there would be
> too many patterns.
> 
> Can I also remove objects by their given number in ls() or do a remove but
> exclude certain objetcs?
> 
> Regards, Ulrich
> 
> --
> __________________________________________________
> 
> Ulrich Leopold MSc.
> 
> Department of Physical Geography
> Institute for Biodiversity and Ecosystem Dynamics
> Faculty of Science
> University of Amsterdam
> Nieuwe Achtergracht 166
> NL-1018WV Amsterdam
> 
> Phone: +31-(0)20-525-7456 (7451 Secretary)
> Fax:   +31-(0)20-525-7431
> Email: uleopold at science.uva.nl
> http://www.frw.uva.nl/soil/Welcome.html
> 
> Check us also out at:
> Netherlands Centre for Geo-ecological Research
> http://www.frw.uva.nl/icg
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Jul 25 16:05:15 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 25 Jul 2002 16:05:15 +0200 (MET DST)
Subject: [R] remove objects(1-20, 25-30) OR remove objects(...) except(...)??
In-Reply-To: <3D3FE7F0.7010502@science.uva.nl>
Message-ID: <Pine.OSF.3.96.1020725155931.29921D-100000@paleo>


I would make a vector with the list of
files to removed. If the position
is the only way you have to select, you could use:

toberemoved <- ls()
toberemoved <- toberemoved[c(1:20,25:30)]

check that toberemoved is what you want to remove and then

remove(list=toberemoved)

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Thu, 25 Jul 2002, Ulrich Leopold wrote:

> Dear list,
> 
> I would like to do a remove like either
> 
> remove objects(1-20, 25-30) OR remove objects(...) except(...)
> 
> I only found the approach rm(pat=) which is not suitable as there would be 
> too many patterns.
> 
> Can I also remove objects by their given number in ls() or do a remove but 
> exclude certain objetcs?
> 
> Regards, Ulrich
> 
> -- 
> __________________________________________________
> 
> Ulrich Leopold MSc.
> 
> Department of Physical Geography
> Institute for Biodiversity and Ecosystem Dynamics
> Faculty of Science
> University of Amsterdam
> Nieuwe Achtergracht 166
> NL-1018WV Amsterdam
> 
> Phone: +31-(0)20-525-7456 (7451 Secretary)
> Fax:   +31-(0)20-525-7431
> Email: uleopold at science.uva.nl
> http://www.frw.uva.nl/soil/Welcome.html
> 
> Check us also out at:
> Netherlands Centre for Geo-ecological Research
> http://www.frw.uva.nl/icg
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu Jul 25 16:21:12 2002
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 25 Jul 2002 10:21:12 -0400
Subject: [R] remove objects(1-20, 25-30) OR remove objects(...)
  except(...)??
In-Reply-To: <3D3FE7F0.7010502@science.uva.nl>
Message-ID: <5.1.0.14.2.20020725101850.02d0ae80@mcmail.cis.mcmaster.ca>

Dear Ulrich,

rm(list=ls()[c(1:20, 25:30)]

should do what you want (If I understand the question correctly).

John

At 01:58 PM 7/25/2002 +0200, you wrote:
>Dear list,
>
>I would like to do a remove like either
>
>remove objects(1-20, 25-30) OR remove objects(...) except(...)
>
>I only found the approach rm(pat=) which is not suitable as there would be 
>too many patterns.
>
>Can I also remove objects by their given number in ls() or do a remove but 
>exclude certain objetcs?
>
>Regards, Ulrich

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Thu Jul 25 16:23:09 2002
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 25 Jul 2002 09:23:09 -0500
Subject: [R] Re: cumsum and subsets of a data frame?
In-Reply-To: <87adohyzav.fsf@lumen.indyrad.iupui.edu>
References: <87adohyzav.fsf@lumen.indyrad.iupui.edu>
Message-ID: <87r8hranua.fsf@lumen.indyrad.iupui.edu>

Thanks to all for your help with my cumsum question.  As usual,
I've not been disappointed by the generous and lightning fast
support of the R community!

Regards, Mike

-- 
Michael A. Miller                               mmiller3 at iupui.edu
  Imaging Sciences, Department of Radiology, IU School of Medicine
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Jul 25 17:34:40 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 25 Jul 2002 08:34:40 -0700 (PDT)
Subject: [R] Warning message
In-Reply-To: <20020725104048.ETOW8762.mta01.mail.mel.aone.net.au@there>
Message-ID: <Pine.A41.4.44.0207250831490.21946-100000@homer22.u.washington.edu>

On Thu, 25 Jul 2002, Jim Lemon wrote:

> Hi,
>
> Without knowing what the object contains, it's hard to tell. Factor
> objects are numeric mode but generally screw up when treated as numbers.
> See what happens when you enter:
>
> class(mensuel$VARIANCE.PRIX)
>
> and you may be able to get away with:
>
> mean(unclass(mensuel$VARIANCE.PRIX))
>

More likely you want

mean( as.numeric(as.character(mensuel$VARIANCE.PRIX)))

Using unclass() or as.numeric() directly on a factor gives you the
underlying codes, but in a case like this people usually want the numeric
version of the levels, eg
> a<-factor(1:10,labels=10:1)
> a
 [1] 10 9  8  7  6  5  4  3  2  1
Levels:  10 9 8 7 6 5 4 3 2 1
> unclass(a)
 [1]  1  2  3  4  5  6  7  8  9 10
attr(,"levels")
 [1] "10" "9"  "8"  "7"  "6"  "5"  "4"  "3"  "2"  "1"
>  as.numeric(a)
 [1]  1  2  3  4  5  6  7  8  9 10
> as.numeric(as.character(a))
 [1] 10  9  8  7  6  5  4  3  2  1

This is actually a FAQ.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tplate at blackmesacapital.com  Thu Jul 25 17:36:40 2002
From: tplate at blackmesacapital.com (Tony Plate)
Date: Thu, 25 Jul 2002 09:36:40 -0600
Subject: [R] remove objects(1-20, 25-30) OR remove objects(...)
  except(...)??
In-Reply-To: <3D3FE7F0.7010502@science.uva.nl>
Message-ID: <5.1.0.14.2.20020725093437.042e0c78@mailhost.blackmesacapital.com>

You can remove everything but specified objects using setdiff()

 > a <- 1
 > b <- 2
 > c <- 3
 > objects()
[1] "a" "b" "c"
 > rm(list=setdiff(objects(), "a"))
 > objects()
[1] "a"
 >

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richards at upci.pitt.edu  Thu Jul 25 17:46:47 2002
From: richards at upci.pitt.edu (Richards, Tom)
Date: Thu, 25 Jul 2002 11:46:47 -0400
Subject: [R] Calling the correct one of 2 conflicting functions
Message-ID: <73D624FECBBAF6459BB60437FF7C02FB06D1F5@nsabpmail>

Hello,

My specific system is

> version
         _              
platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    5.1            
year     2002           
month    06             
day      17             
language R              


Each of the hmisc and stepfun packages has a function named ecdf(), and I
have my own package which requires both of these packages.  Is there a way
to ensure that the correct ecdf function is called by one of my own
functions, that is, if both packages are in the search path?  For example,

> library(stepfun);library(hmisc)
> vv <- rnorm(1000)
> ecdf(vv)

yields a plot using the hmisc ecdf function, and the following additional
staments yield a similar plot using Martin's version:

> detach("package:stepfun");library(stepfun)
> ecdf(vv)
> plot(.Last.value)

But then doing

> this <- ecdf(vv,pl=F)

,trying to use an argument to specify Frank's function, leads to an error.
Is there a way to explicitly call the function I want?  Thanks in advance.

Tom
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul 25 18:01:14 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 25 Jul 2002 17:01:14 +0100 (BST)
Subject: [R] Calling the correct one of 2 conflicting functions
In-Reply-To: <73D624FECBBAF6459BB60437FF7C02FB06D1F5@nsabpmail>
Message-ID: <Pine.LNX.4.31.0207251659040.32677-100000@gannet.stats>

get("ecdf", "package:stepfun") will get the one in stepfun, and so on.

On Thu, 25 Jul 2002, Richards, Tom wrote:

> Hello,
>
> My specific system is
>
> > version
>          _
> platform i386-pc-mingw32
> arch     i386
> os       mingw32
> system   i386, mingw32
> status
> major    1
> minor    5.1
> year     2002
> month    06
> day      17
> language R
>
>
> Each of the hmisc and stepfun packages has a function named ecdf(), and I
> have my own package which requires both of these packages.  Is there a way
> to ensure that the correct ecdf function is called by one of my own
> functions, that is, if both packages are in the search path?  For example,
>
> > library(stepfun);library(hmisc)
> > vv <- rnorm(1000)
> > ecdf(vv)
>
> yields a plot using the hmisc ecdf function, and the following additional
> staments yield a similar plot using Martin's version:
>
> > detach("package:stepfun");library(stepfun)
> > ecdf(vv)
> > plot(.Last.value)
>
> But then doing
>
> > this <- ecdf(vv,pl=F)
>
> ,trying to use an argument to specify Frank's function, leads to an error.
> Is there a way to explicitly call the function I want?  Thanks in advance.
>
> Tom
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Thu Jul 25 18:27:09 2002
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Thu, 25 Jul 2002 09:27:09 -0700
Subject: [R] Running Rgui.exe as "normal" window
Message-ID: <5.1.1.5.2.20020725092253.00b523d0@pop4.attglobal.net>

I'm running R 1.5.1 under Windows XP Pro.  I haven't paid too much 
attention to the way R starts up until now.  I've noticed that on all my 
Windows XP systems, Rgui.exe starts "maximized" despite having the shortcut 
properties set for it to run in a "normal" window.  I've tried resizing the 
windows (I use MDI sessions) and then saving the workspace, but the window 
sizing isn't persistent between sessions.

I don't see this behavior on my Windows 2000 systems and so I'm wondering 
whether this is a minor incompatibility between R 1.5.1 and Windows XP, or 
whether there is some other tweak needed to get the window sizes to 
persist.  (I suppose I could mess with the screen geometry, but I haven't 
needed to do this on any previous Windows OS).

Thanks.


Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department - Portland State University
email:  feldesmanm at pdx.edu
email:  feldesman at attglobal.net
fax:    503-725-3905


"Sometimes the lights are all shining on me, other times I can barely see,
lately it's occurred to me, what a long strange trip it's been..."  Jerry &
the boys





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vasishth at coli.uni-sb.de  Thu Jul 25 18:35:41 2002
From: vasishth at coli.uni-sb.de (Shravan Vasishth)
Date: Thu, 25 Jul 2002 18:35:41 +0200 (MEST)
Subject: [R] Barplot coloring question
Message-ID: <Pine.GSO.4.10.10207251803380.14460-100000@gnome.at.coli.uni-sb.de>

Hi all,

I have the following dataset, call it test.data (30 columns, and one row
named "0"):

  ADVP  ADVP AP    AP   CONJ  CONJ CP    CP   DU    DU    INF   INF  MWU 
MWU  NP    NP    PP    PP    PPRT PPRT REL   REL  SMN SMN SSB  SSB SV1
SV1 TI    TI
0 96.85 2.05 89.07 2.54 70.91 2.37 94.92 3.46 82.31 11.33 40.96 2.25 98.06 
3.43 90.77 17.63 86.60 10.78 60.27 1.32  93.27 0.97 77.60 12.46 64.98 3.32
88.54 3.70 24.33 0.28

I'm trying to plot these data points so that any pair of identical columns
(e.g., ADVP) are plotted closer to each other than any neighbouring pairs. 

This much is easy to do:

data<-as.matrix(read.table("test.data"))

colorlist <- c("red")

# build basic barplot:

barplot(data,             
        beside=FALSE,     # don't put bars beside each other 
        col=colorlist,    # list of colors
        xlim = c(1,40),   # x-axis limits
        width = .65,      # width of bar plots  
        ylim=c(0, 140),   # y-axis limits
        space = c(1,.5),  # space between bars, and between bar-pairs
        axes = F          # don't plot y-axis yet
        ) 

This gives a graph with the same color for each bar.  

The problem is that I want the first instance of a pair of identical
columns to have a certain colour, and the other one a different one. So,
the bars should really have an alternating pattern like red green red
green... and so on, not just one colour. 

For the above dataset I could set beside=TRUE and transform the dataset to
two rows and 15 columns rather than the current 1x30, so something like:

   ADVP        (etc.)
0a 96.85
0b  2.05

but I will eventually need to plot a matrix like

  ADVP ADVP (etc.)
1 30   40
2 20   20
3 10   5

and there I will want beside=FALSE because I want the 1, 2, 3 rows to
appear *within* a bar, but I still want pairs of bars for ADVP.

This is why I don't want to set beside=FALSE.

I'll be very grateful for any suggestions.

Many thanks,

-- 
Dr. Shravan Vasishth                           Phone: +49 (681) 302 4504    
Computational Linguistics, Universit?t des Saarlandes, Postfach 15 11 50
D-66041 Saarbr?cken, Germany         http://www.coli.uni-sb.de/~vasishth 
                                 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Thu Jul 25 19:57:16 2002
From: faheem at email.unc.edu (Faheem Mitha)
Date: Thu, 25 Jul 2002 13:57:16 -0400 (EDT)
Subject: [R] update (Re: loading compiled C++ code as shared library)
In-Reply-To: <Pine.GSO.4.44.0207250802070.15315-100000@auk.stats>
Message-ID: <Pine.LNX.4.44.0207251345220.14733-100000@Chrestomanci>



On Thu, 25 Jul 2002, Prof Brian D Ripley wrote:

> On Wed, 24 Jul 2002, Faheem Mitha wrote:
>
> > On Wed, 24 Jul 2002, Faheem Mitha wrote:
> >
> > >
> > > Dear People,
> > >
> > > Over the last few days I've been writing C++ to compile as a shared
> > > library (previously I have always used C). Not entirely to my surprise, I
> > > am getting errors. Specifically, when I try to load the shared library, I
> > > get
> > >
> > > Error in dyn.load(x, as.logical(local), as.logical(now)) :
> > > 	unable to load shared library
> > > "/home/faheem/research/thesis/sim/ms/ms.so":
> > >   /home/faheem/research/thesis/sim/ms/ms.so: undefined symbol:
> > > __gxx_personality_v0
> >
> > This appears to have something to do with my compile options (see below).
> > Just doing "R CMD SHLIB ms.cc -o ms.so" does not give the error. Anyone
> > have any idea what might be causing this?
>
> I suspect you are using g++-3.1 with R compiled with gcc < 3.0.

Yes, that is right. 2.95.4, which is still the standard for Debian, at
least on i386 Linux.

> You often can't mix-and-match versions of gcc across major revision
> levels, and you certainly can't use gcc 3.1 on C++ code and mix it with
> earlier versions as there is a C++ ABI change.
>
> R's configure does compatibility checks when it selects the C, C++ and
> Fortran compilers.  If you change your compilers it is a good idea to
> rebuild R (and I'm pretty sure I had to when changing from gcc 2.95.3 to
> 3.x).

Yes, I recompiled R using gcc 3.1 late yesterday, as I also suspected this
was probably the problem. This was easy using Debian, and Dirk in fact
helpfully added a note to the rules file that R compiled Ok with the gcc
3.0 compilers. In fact, it compiled Ok with the gcc 3.1 compilers too.

It took me a little time to realise this was probably the problem, since
I've not had similar problems with C code.

Once I had recompiled, the problem went away. I hope that soon gcc will
stabilise at a 3+ level (I've heard rumours that 3.2 will break
compatability with 3.1), and R can be compiled with it by default, since
g++ for gcc < 3.0 is not entirely standards compliant.

Thank you for taking the time to respond.

                                              Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Thu Jul 25 20:29:06 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Thu, 25 Jul 2002 13:29:06 -0500
Subject: [R] Barplot coloring question
In-Reply-To: <Pine.GSO.4.10.10207251803380.14460-100000@gnome.at.coli.uni-sb.de>
Message-ID: <007801c23409$2990a310$0201a8c0@MARC>

> Hi all,
> 
> I have the following dataset, call it test.data (30 columns, and one
row
> named "0"):
> 
>   ADVP  ADVP AP    AP   CONJ  CONJ CP    CP   DU    DU    INF   INF
MWU
> MWU  NP    NP    PP    PP    PPRT PPRT REL   REL  SMN SMN SSB  SSB SV1
> SV1 TI    TI
> 0 96.85 2.05 89.07 2.54 70.91 2.37 94.92 3.46 82.31 11.33 40.96 2.25
98.06
> 3.43 90.77 17.63 86.60 10.78 60.27 1.32  93.27 0.97 77.60 12.46 64.98
3.32
> 88.54 3.70 24.33 0.28
> 
> I'm trying to plot these data points so that any pair of identical
columns
> (e.g., ADVP) are plotted closer to each other than any neighbouring
pairs.
> 
> This much is easy to do:
> 
> data<-as.matrix(read.table("test.data"))
> 
> colorlist <- c("red")
> 
> # build basic barplot:
> 
> barplot(data,
>         beside=FALSE,     # don't put bars beside each other
>         col=colorlist,    # list of colors
>         xlim = c(1,40),   # x-axis limits
>         width = .65,      # width of bar plots
>         ylim=c(0, 140),   # y-axis limits
>         space = c(1,.5),  # space between bars, and between bar-pairs
>         axes = F          # don't plot y-axis yet
>         )
> 
> This gives a graph with the same color for each bar.
> 
> The problem is that I want the first instance of a pair of identical
> columns to have a certain colour, and the other one a different one.
So,
> the bars should really have an alternating pattern like red green red
> green... and so on, not just one colour.
> 
> For the above dataset I could set beside=TRUE and transform the
dataset to
> two rows and 15 columns rather than the current 1x30, so something
like:
> 
>    ADVP        (etc.)
> 0a 96.85
> 0b  2.05
> 
> but I will eventually need to plot a matrix like
> 
>   ADVP ADVP (etc.)
> 1 30   40
> 2 20   20
> 3 10   5
> 
> and there I will want beside=FALSE because I want the 1, 2, 3 rows to
> appear *within* a bar, but I still want pairs of bars for ADVP.
> 
> This is why I don't want to set beside=FALSE.
> 
> I'll be very grateful for any suggestions.

The "list" of colors that you have specified for colorlist contains only
one entry.  

If you specify:

colorlist <- c("red", "blue", ...)

You bars or their stacked segments will cycle through the colors,
depending upon whether beside is TRUE or FALSE, respectively.

Just be sure to specify one color for each group in your data.

HTH.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Thu Jul 25 10:54:55 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Thu, 25 Jul 2002 20:54:55 +1200
Subject: [R] Writing the ARMA Parameters into a file
In-Reply-To: <000f01c233bf$61c38990$906a8286@iaew.rwthaachen.de>; from ingo.kruck@iaew.rwth-aachen.de on Thu, Jul 25, 2002 at 11:40:57AM +0200
References: <000f01c233bf$61c38990$906a8286@iaew.rwthaachen.de>
Message-ID: <20020725205455.A31406@camille.indigoindustrial.co.nz>

On Thu, Jul 25, 2002 at 11:40:57AM +0200, Ingo Kruck wrote:
> I am trying to write the R-computed parameters of an ARIMA process into a
> file.

sink(), perhaps?

> sink(file="test.txt")
> print(result)
> sink()
> system("cat test.txt")

Call:
arima(x = zz, order = c(1, 0, 1))

Coefficients:
          ar1     ma1  intercept
      -0.8421  0.8969     0.0680
s.e.   0.1540  0.1253     0.0843

sigma^2 estimated as 0.663:  log likelihood = -120.16,  aic = 248.32


Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jleach at mail.ocis.net  Fri Jul 26 00:22:26 2002
From: jleach at mail.ocis.net (Jason C. Leach)
Date: Thu, 25 Jul 2002 15:22:26 -0700
Subject: [R] Manipulating Matricies
Message-ID: <20020725152226.L22099@yukon.drivingbeat.com>

hi,

If I have a table of data, from read.table or scan how can I
extract various columns to create a matrix? And once I have the
matrix, how can I add and remove columns?

Thanks,
j.


-- 
......................
..... Jason C. Leach
.. 

Current PGP/GPG Key ID: 43AD2024 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jleach at mail.ocis.net  Fri Jul 26 00:47:34 2002
From: jleach at mail.ocis.net (Jason C. Leach)
Date: Thu, 25 Jul 2002 15:47:34 -0700
Subject: [R] cclust args.
Message-ID: <20020725154734.M22099@yukon.drivingbeat.com>

hi,

What is the significance of the 2nd arg in cclust, the 
'number of clusters'. I have one matrix with two
columns representing x,y coards. I'd like to see how
random the distributions is.  

If I try cclust with 'number of clusters' 1 I get
an error, > 1 works though.

j.

-- 
......................
..... Jason C. Leach
.. 

Current PGP/GPG Key ID: 43AD2024 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wilson at visi.com  Fri Jul 26 06:59:26 2002
From: wilson at visi.com (Tim Wilson)
Date: Thu, 25 Jul 2002 23:59:26 -0500
Subject: [R] Fisher r-to-z transformation
Message-ID: <20020726045926.GB21346@isis.visi.com>

Hi everyone,

I want to use the Fisher r-to-z transformation as part of a hypothesis
test of r. I can't find an R function that can do that. Am I missing
it?

-Tim

-- 
Tim Wilson      |   Visit Sibley online:   | Check out:
Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
W. St. Paul, MN |                          | http://slashdot.org
wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Fri Jul 26 09:28:37 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Fri, 26 Jul 2002 17:28:37 +1000
Subject: [R] Fisher r-to-z transformation
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A91652C6@Roper-CV.qld.cmis.csiro.au>



>  -----Original Message-----
> From: 	Tim Wilson [mailto:wilson at visi.com] 
> Sent:	Friday, July 26, 2002 2:59 PM
> To:	R-help
> Subject:	[R] Fisher r-to-z transformation
> 
> Hi everyone,
> 
> I want to use the Fisher r-to-z transformation as part of a hypothesis
> test of r. I can't find an R function that can do that. Am I missing
> it?
	[WNV]  z <- atanh(r) 

	or you could use

	R2Z <- function(r) log((1+r)/(1-r))
	z <- R2Z(r)


	Bill Venables



> -Tim
> 
> -- 
> Tim Wilson      |   Visit Sibley online:   | Check out:
> Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
> W. St. Paul, MN |                          | http://slashdot.org
> wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kgk at pharm.auth.gr  Fri Jul 26 11:01:22 2002
From: kgk at pharm.auth.gr (Kyriakos Kachrimanis)
Date: Fri, 26 Jul 2002 12:01:22 +0300
Subject: [R] Normal probability plot of effects
Message-ID: <006c01c23483$0398c960$5e05cf9b@pharm.auth.gr>

Can anybody help me on this, please:

I want to produce a normal probability plot of effects for an unreplicated
design with 4 factors. 2 of the factors have 2 levels and the other 2 have 4
levels. Is it possible to produce such a graph?
I want to use this graph to decide which interaction effects are negligible
to combine them as an estimate of error.
Thank you in advance.

Kyriakos Kachrimanis

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ccleland at optonline.net  Fri Jul 26 11:04:52 2002
From: ccleland at optonline.net (Chuck Cleland)
Date: Fri, 26 Jul 2002 05:04:52 -0400
Subject: [R] Fisher r-to-z transformation
Message-ID: <3D4110B4.8F77679A@optonline.net>

Tim Wilson wrote:
> I want to use the Fisher r-to-z transformation as part of a hypothesis
> test of r. I can't find an R function that can do that. Am I missing
> it?

Tim:
  Below is a Fisher transformation I wrote some time ago.  

Hope it helps,

Chuck Cleland

fisher.z <- function(x)
{
ifelse(x == 0, 0, 0.5 * log((1 + abs(x))/(1 - abs(x))) * (x/abs(x)))
}

> fisher.z(seq(-1, 1, .05))
 [1]        -Inf -1.83178082 -1.47221949 -1.25615281 -1.09861229
 [6] -0.97295507 -0.86730053 -0.77529871 -0.69314718 -0.61838131
[11] -0.54930614 -0.48470028 -0.42364893 -0.36544375 -0.30951960
[16] -0.25541281 -0.20273255 -0.15114044 -0.10033535 -0.05004173
[21]  0.00000000  0.05004173  0.10033535  0.15114044  0.20273255
[26]  0.25541281  0.30951960  0.36544375  0.42364893  0.48470028
[31]  0.54930614  0.61838131  0.69314718  0.77529871  0.86730053
[36]  0.97295507  1.09861229  1.25615281  1.47221949  1.83178082
[41]         Inf
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Fri Jul 26 11:22:46 2002
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Fri, 26 Jul 2002 11:22:46 +0200 (CEST)
Subject: [R] Fisher r-to-z transformation
In-Reply-To: <20020726045926.GB21346@isis.visi.com>
Message-ID: <Pine.LNX.4.44.0207261119090.30859-100000@reclus.nhh.no>

On Thu, 25 Jul 2002, Tim Wilson wrote:

> Hi everyone,
> 
> I want to use the Fisher r-to-z transformation as part of a hypothesis
> test of r. I can't find an R function that can do that. Am I missing
> it?
> 

See: http://davidmlane.com/hyperstat/A50760.html (Google first hit)

fisher.r2z <- function(r) { 0.5 * (log(1+r) - log(1-r)) }
round(fisher.r2z(seq(0,1,0.01)), 4)

agrees with http://davidmlane.com/hyperstat/rtoz_table.html

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stecalza at tiscali.it  Fri Jul 26 11:41:26 2002
From: stecalza at tiscali.it (Stefano)
Date: Fri, 26 Jul 2002 11:41:26 +0200
Subject: [R] manipulating the result of by()
Message-ID: <20020726094126.GA501@stefano>


Hi.

I have the following problem.
I use by() to compute a table of observed and expected counts of a variable
(eg sobjects who belong to a smoking category) within combination of 4
factors (age class, education, sex, region) for a total 4*3*2*5 tables. 
I get a list of length 120 and dim 4. 
Noww I want to sum the tables within the level of one of the grouping
variables, eg age class. How can I do?

Here is an example:

ttt <- by(data,list=c(age,sex,region,edu),FUN=function(x)
	{
	 tto <- table(x$smoke[x$grp=="study1"])
	 so <- sum(tto)
	 tte <- prop.table(table(x$smoke[x$grp=="study2"]))*so
	 ttt <- rbind(tto,tte)
	 ttt
	}

Think of age as a factor with 4 levels (age category). Now a want to sum
each table (observed=tto and expected=tte separately) within each age category.
I should end with 4 table with 2 rows (obs & exp) and 3 columns (the smoke
levels). Any hint?

TIA,

Stefano
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramasamy at stats.ox.ac.uk  Fri Jul 26 12:42:04 2002
From: ramasamy at stats.ox.ac.uk (Adaikalavan Ramasamy)
Date: Fri, 26 Jul 2002 11:42:04 +0100
Subject: [R] Manipulating Matricies
References: <20020725152226.L22099@yukon.drivingbeat.com>
Message-ID: <003101c23491$1562bd50$a81401a3@stats.ox.ac.uk>

I am sure this is in the R help/manuals somewhere. Suppose your matrix, data
is of dim 10 by 5 and you want to extract the the columns 1,2,4. Then you
use  newdata <- data[ , c(1,2,4). Now you changed your mind and want to get
rid of column 1, then you use newdata2 <- data[ , -1]. If you had used
newdata instead of newdata2, then you newdata will be overwritten instead.

For rows you use data[ j , ] where j are the number(s) of rows you want to
extract. And use - j for the subset of rows you want to get rid off. I would
suggest you have a look at the manual again.

----- Original Message -----
From: "Jason C. Leach" <jleach at mail.ocis.net>
To: <r-help at stat.math.ethz.ch>
Sent: Thursday, July 25, 2002 11:22 PM
Subject: [R] Manipulating Matricies


> hi,
>
> If I have a table of data, from read.table or scan how can I
> extract various columns to create a matrix? And once I have the
> matrix, how can I add and remove columns?
>
> Thanks,
> j.
>
>
> --
> ......................
> ..... Jason C. Leach
> ..
>
> Current PGP/GPG Key ID: 43AD2024
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Fri Jul 26 12:56:06 2002
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Fri, 26 Jul 2002 20:56:06 +1000
Subject: [R] Automatic adjustment of axis ranges
Message-ID: <20020726104945.XZYY26809.mta02.mail.mel.aone.net.au@there>

Thanks to Professor Ripley's help, here is a function that will add one or 
more points to the last plot call. There are a few weaknesses that may 
attract the attention of more experienced R programmers.

1) You can't keep adding points. If you specify point(s) to add, then 
specify some more, you will get the original plot with the _second_ lot of 
points added. If I was a better programmer, I would call this a feature 
and bank the proceeds.

2) The sub-function append.to.call() is probably an unnecessary kludge. 
Well, my brain hurts enough from working out the regular expressions for 
replacing existing xlim= and ylim= values. 

3) I did it in Linux (RedHat v7.2, X-Windows, R-1.5.1). There are probably 
a few places where I have unwittingly used system-specific code. I only 
have R on Linux.

4) These assumptions may not be important, but I have assumed that every 
plot() call has balanced parentheses and ends with a right parenthesis. I 
have also assumed that xlim= and ylim= will have the form:

ylim=c(min,max)

A final hint - avoid programming in R late at night when you have been 
programming in Tcl - especially when using strsplit()!

Jim

append.to.call<-function(appendage,old.call) {
 old.call<-paste(unlist(strsplit(old.call,""))[1:nchar(old.call)-1],sep="",
  collapse="")
 return(paste(old.call,",",appendage,")",sep="",collapse=""))
}

add.new.points<-function(x,y,last.plot.call="plot",look.back=10,...) {
 if(!missing(x) && !missing(y)) {
  current.range<-par("usr")
  new.x.range<-range(x)
  new.y.range<-range(y)
  new.plot<-0
  if(new.x.range[1] < current.range[1]) {
   new.plot<-1
   current.range[1]<-new.x.range[1]
  }
  if(new.x.range[2] > current.range[2]) {
   new.plot<-1
   current.range[2]<-new.x.range[2]
  }
  if(new.y.range[1] < current.range[3]) {
   new.plot<-1
   current.range[3]<-new.y.range[1]
  }
  if(new.y.range[2] > current.range[4]) {
   new.plot<-1
   current.range[4]<-new.y.range[2]
  }
  if(new.plot) {
   # grab the call history
   savehistory("snapshot.hst")
   tail.call<-paste("tail -n",look.back,"snapshot.hst",collapse=" ")
   last.calls<-system(tail.call,T)
   system("rm snapshot.hst")
   begin<-look.back
   found<-0
   lpc.length<-nchar(last.plot.call)
   # this finds the last call line that matches the last plot call
   while(begin >= 1 && !found) {
    if(last.plot.call != substr(last.calls[begin],1,lpc.length))
     begin<-begin-1
    else found<-1
   }
   # check that the last plot call was matched
   if(found) {
    # modify the old call and execute it here
    # first check for continuation lines
    lcb.vec<-unlist(strsplit(last.calls[begin],""))
    n.left.paren<-length(grep("[(]",lcb.vec))
    n.right.paren<-length(grep("[)]",lcb.vec))
    end<-begin
    while(n.left.paren > n.right.paren && end <= look.back) {
     end<-end+1
     lce.vec<-unlist(strsplit(last.calls[end],""))
     n.left.paren<-n.left.paren+length(grep("[(]",lce.vec))
     n.right.paren<-n.right.paren+length(grep("[)]",lce.vec))
    }
    new.call<-paste(last.calls[begin:end],sep="",collapse="")
    new.xlim<-paste("xlim=c(",current.range[1],",",current.range[2],")",
     sep="",collapse="")
    new.ylim<-paste("ylim=c(",current.range[3],",",current.range[4],")",
     sep="",collapse="")
    if(length(grep("xlim=.*)",new.call))) {
     # replace the old xlim=
     new.call<-sub("xlim=[^)]*)",new.xlim,new.call)
    }
    else {
     # tack it on to the end of the call
     new.call<-append.to.call(new.xlim,new.call)
    }
    if(length(grep("ylim=.*)",new.call))) {
     # replace the old ylim=
     new.call<-sub("ylim=[^)]*)",new.ylim,new.call)
    }
    else {
     # tack it on to the end of the call
     new.call<-append.to.call(new.ylim,new.call)
    }
    print(new.call)
    eval(parse(text=new.call))
   }
   else cat("Can't find the last plot call!\n")
  }
  return(points(x,y,...))
 }
 else cat("Usage: add.new.points(x,y)\n")
}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Fri Jul 26 13:32:28 2002
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Fri, 26 Jul 2002 13:32:28 +0200
Subject: [R] Manipulating Matricies
Message-ID: <3D414F6C.19405.13E2D4B@localhost>

From:           	Petr Pikal <petr.pikal at precheza.cz>
To:             	jleach at mail.ocis.net
Subject:        	Re: [R] Manipulating Matricies
Date sent:      	Fri, 26 Jul 2002 13:26:29 +0200



On 25 Jul 2002 at 15:22, Jason C. Leach wrote:

> hi,
> 
> If I have a table of data, from read.table or scan how can I
> extract various columns to create a matrix? And once I have the

see

?as.matrix

and [] parentheses help

e.g.

my.matrix <- as.matrix(daf[,c(1:3,5,9)])

will construct a matrix from colunms 1-3,5 and 9

and similar approach you can use on matrices

> matrix, how can I add and remove columns?

my.matrix <- my.matrix[,-5]

will give you matrix without column 5

> 
> Thanks,
> j.
> 
> 
> -- 
> ......................
> ..... Jason C. Leach
> .. 
> 
> Current PGP/GPG Key ID: 43AD2024 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -. -.-.-.-.- r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help",
> or "[un]subscribe" (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _. _._._._._
Petr Pikal
petr.pikal at precheza.cz
p.pik at volny.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vasishth at coli.uni-sb.de  Fri Jul 26 14:18:03 2002
From: vasishth at coli.uni-sb.de (Shravan Vasishth)
Date: Fri, 26 Jul 2002 14:18:03 +0200 (MEST)
Subject: [R] Barplot coloring question 
In-Reply-To: <007801c23409$2990a310$0201a8c0@MARC>
Message-ID: <Pine.GSO.4.10.10207260852140.960-100000@gnome.at.coli.uni-sb.de>

On Thu, 25 Jul 2002, Marc Schwartz wrote in response:

> The "list" of colors that you have specified for colorlist contains only
> one entry.  
> 
> If you specify:
> 
> colorlist <- c("red", "blue", ...)
> 
> You bars or their stacked segments will cycle through the colors,
> depending upon whether beside is TRUE or FALSE, respectively.
> 
> Just be sure to specify one color for each group in your data.

Right. I had tried that earlier but that alone didn't work; sorry, I
should have mentioned that.  But having beside as TRUE works (with a list
of colours). I wanted to keep beside = FALSE because I wanted to control
the space between bars, as I decribe below with toy examples.

In the first kind of barplot I want, I have data like this:

   A A  B  B  C  C
0  5 10 15 20 70 90

I can plot it using code like this:

data2 <- as.matrix(read.table("test2.data"))

colorlist2 <- c("orange","limegreen") 

barplot(data2,         
        beside=TRUE,  
        col=colorlist2, 
        width = c(1,.55),
        space = c(2.75,.25),  
        axes = F        
        ) 

I want to be able to manipulate the spaces between the bars pairwise: the
contiguous AA should be closer to each other than the contiguous AB. I
thought that a vector specification for space would do this, because this
works for the plot of a slightly different dataset that I have (below).
But it doesn't in the above case.

Here's an example where "space" DOES work as (I) expected:

The data set:

   A  A  B  B  C  C
1  5  10 15 20 70 90
2  20 15 24 56 34 70
3  40 54 23 67 12 78

The code:

data3 <- as.matrix(read.table("test3.data"))

colorlist3 <- c("orange","lightblue","darkblue")

barplot(data3,       
        beside=FALSE,   
        col=colorlist3,  
        xlim = c(1,6),
        width = c(.5,.35),
        space = c(2.75,.25),   
        axes = F    
        ) 

As expected, "colorlist" in both examples cycles through the list of
colors, but when beside = TRUE it uses each color for each column in the
data, and when beside = FALSE the list of colors is cycled through for
each bar's components. In the *first* case, I'm trying to get the two
colors to alternate (which works only when beside = TRUE), but for some
reason I then lose control over "space".

Any suggestions would be greatly appreciated.

Thanks,

> Date: Thu, 25 Jul 2002 13:29:06 -0500
> From: Marc Schwartz <mschwartz at medanalytics.com>
> To: 'Shravan Vasishth' <vasishth at CoLi.Uni-SB.DE>, r-help at stat.math.ethz.ch
> Subject: RE: [R] Barplot coloring question
> 
> > Hi all,
> > 
> > I have the following dataset, call it test.data (30 columns, and one
> row
> > named "0"):
> > 
> >   ADVP  ADVP AP    AP   CONJ  CONJ CP    CP   DU    DU    INF   INF
> MWU
> > MWU  NP    NP    PP    PP    PPRT PPRT REL   REL  SMN SMN SSB  SSB SV1
> > SV1 TI    TI
> > 0 96.85 2.05 89.07 2.54 70.91 2.37 94.92 3.46 82.31 11.33 40.96 2.25
> 98.06
> > 3.43 90.77 17.63 86.60 10.78 60.27 1.32  93.27 0.97 77.60 12.46 64.98
> 3.32
> > 88.54 3.70 24.33 0.28
> > 
> > I'm trying to plot these data points so that any pair of identical
> columns
> > (e.g., ADVP) are plotted closer to each other than any neighbouring
> pairs.
> > 
> > This much is easy to do:
> > 
> > data<-as.matrix(read.table("test.data"))
> > 
> > colorlist <- c("red")
> > 
> > # build basic barplot:
> > 
> > barplot(data,
> >         beside=FALSE,     # don't put bars beside each other
> >         col=colorlist,    # list of colors
> >         xlim = c(1,40),   # x-axis limits
> >         width = .65,      # width of bar plots
> >         ylim=c(0, 140),   # y-axis limits
> >         space = c(1,.5),  # space between bars, and between bar-pairs
> >         axes = F          # don't plot y-axis yet
> >         )
> > 
> > This gives a graph with the same color for each bar.
> > 
> > The problem is that I want the first instance of a pair of identical
> > columns to have a certain colour, and the other one a different one.
> So,
> > the bars should really have an alternating pattern like red green red
> > green... and so on, not just one colour.
> > 
> > For the above dataset I could set beside=TRUE and transform the
> dataset to
> > two rows and 15 columns rather than the current 1x30, so something
> like:
> > 
> >    ADVP        (etc.)
> > 0a 96.85
> > 0b  2.05
> > 
> > but I will eventually need to plot a matrix like
> > 
> >   ADVP ADVP (etc.)
> > 1 30   40
> > 2 20   20
> > 3 10   5
> > 
> > and there I will want beside=FALSE because I want the 1, 2, 3 rows to
> > appear *within* a bar, but I still want pairs of bars for ADVP.
> > 
> > This is why I don't want to set beside=FALSE.
> > 
> > I'll be very grateful for any suggestions.
> 
> 
> HTH.
> 
> Marc
> 
> 
> 

-- 
Dr. Shravan Vasishth                           Phone: +49 (681) 302 4504    
Computational Linguistics, Universit?t des Saarlandes, Postfach 15 11 50
D-66041 Saarbr?cken, Germany         http://www.coli.uni-sb.de/~vasishth 
                                 








-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Fri Jul 26 14:41:49 2002
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Fri, 26 Jul 2002 14:41:49 +0200
Subject: [R] chi square test is not appropriate? but what test is
Message-ID: <3D415FAD.23840.17DA960@localhost>

Hallo all

Suppose I have a summary amount of various colours used in 
different areas

colour	plastic	paint
black	15.5	173.8
brown	6.0	523.2
green	2.5	6.4
red	77.1	237.4
yellow	144.6	77.3

It seems that there are some preferable colours in these two areas 
(yellow in plastic, brown an red in paint).

The problem seems to me similar to chi square test but it is 
intended for testing counts or frequencies (if I understand it well).

If I wanted to know whether these differences are significant, 
what type of statistical test I should use, when I have no access to 
underlaying data?

Is it possible to do any statistical test on  such data?

Thank you in advance

Best regardsPetr Pikal
petr.pikal at precheza.cz
p.pik at volny.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Fri Jul 26 15:29:43 2002
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Fri, 26 Jul 2002 08:29:43 -0500
Subject: [R] Frame o windows result.
References: <3D415FAD.23840.17DA960@localhost>
Message-ID: <3D414EC7.5030002@perseus.unalmed.edu.co>

Helllo Dear R-user!

I want to know how can I open and other text window where
I will send the results of all the commands, so I will have
a command window and a result window.
In other words, how can I use something like sink() but the
output goes to a new text window and not a file.

Thank you for your help

-- 
Kenneth Roy Cabrera Torres
Unviersidad Nacional de Colombia, Sede Medell?n
Instituto de Ciencias Naturales y Ecolog?a
Escuela de Geociencias
e-mail krcabrer at unalmed.edu.co
Tel +57 (4) 430-9308



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Fri Jul 26 15:45:40 2002
From: wolski at molgen.mpg.de (Witold Eryk Wolski)
Date: Fri, 26 Jul 2002 15:45:40 +0200
Subject: [R] Is there a function for finding local extrema.
Message-ID: <3D415284.8090209@molgen.mpg.de>

I have a vector with about 100.000 values representing a quite regular 
function (sinusoid like).
I would like to find all local maxima of this function (should be about 
4000). Is there a native routine for R?
Thanks in advance
Eryk. 


-- 
 _|_  \|/  \|/  Eryk Witold Wolski         tel  :0049-(0)30-8413-1543 w w
 ?v?  'v? \'v'/ MPI Moleculare Genetik     fax  :0049-(0)30-8413-1139 | |
/| |\/| |\ | |  Mass Spectrometry Group    http://www.molgen.mpg.de  /.^.\ 
 m m  m m  m m  mail :wolski at molen.mpg.de                             /|\


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.H.Creecy at census.gov  Fri Jul 26 16:34:01 2002
From: Robert.H.Creecy at census.gov (Robert H Creecy)
Date: Fri, 26 Jul 2002 10:34:01 -0400
Subject: [R] Is there a function for finding local extrema.
References: <3D415284.8090209@molgen.mpg.de>
Message-ID: <3D415DD9.8070307@census.gov>

Assuming the first and last values in the vector y can't be determined 
to be local maxima, try

 max<-1+which(( y[2:(n-1)] > y[1:(n-2)]) & (y[2:(n-1)] > y [3:n]))

max is now a vector of indicies of the local maxima, and y[max] are 
their values



Witold Eryk Wolski wrote:

> I have a vector with about 100.000 values representing a quite regular 
> function (sinusoid like).
> I would like to find all local maxima of this function (should be 
> about 4000). Is there a native routine for R?
> Thanks in advance
> Eryk.
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramasamy at stats.ox.ac.uk  Fri Jul 26 17:16:39 2002
From: ramasamy at stats.ox.ac.uk (Adaikalavan Ramasamy)
Date: Fri, 26 Jul 2002 16:16:39 +0100
Subject: [R] Parzen Windows
References: <3D415284.8090209@molgen.mpg.de> <3D415DD9.8070307@census.gov>
Message-ID: <013101c234b7$71094e50$a81401a3@stats.ox.ac.uk>

Does anyone know if there is a function in R that fits a Parzen Window ?

I have searched the mail archives and the packages to no avail. Perhaps it
has a different name or implemented differently. I do not mind trying to
write the codes but rather not waste time if one exists already. Many thanks
in advance.

Adai.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Fri Jul 26 16:41:56 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Fri, 26 Jul 2002 09:41:56 -0500
Subject: [R] Barplot coloring question 
In-Reply-To: <Pine.GSO.4.10.10207260852140.960-100000@gnome.at.coli.uni-sb.de>
Message-ID: <00a601c234b2$97be7660$0201a8c0@MARC>

> On Thu, 25 Jul 2002, Marc Schwartz wrote in response:
> 
> > The "list" of colors that you have specified for colorlist contains
only
> > one entry.
> >
> > If you specify:
> >
> > colorlist <- c("red", "blue", ...)
> >
> > You bars or their stacked segments will cycle through the colors,
> > depending upon whether beside is TRUE or FALSE, respectively.
> >
> > Just be sure to specify one color for each group in your data.
> 
> Right. I had tried that earlier but that alone didn't work; sorry, I
> should have mentioned that.  But having beside as TRUE works (with a
list
> of colours). I wanted to keep beside = FALSE because I wanted to
control
> the space between bars, as I decribe below with toy examples.
> 
> In the first kind of barplot I want, I have data like this:
> 
>    A A  B  B  C  C
> 0  5 10 15 20 70 90
> 
> I can plot it using code like this:
> 
> data2 <- as.matrix(read.table("test2.data"))
> 
> colorlist2 <- c("orange","limegreen")
> 
> barplot(data2,
>         beside=TRUE,
>         col=colorlist2,
>         width = c(1,.55),
>         space = c(2.75,.25),
>         axes = F
>         )
> 
> I want to be able to manipulate the spaces between the bars pairwise:
the
> contiguous AA should be closer to each other than the contiguous AB. I
> thought that a vector specification for space would do this, because
this
> works for the plot of a slightly different dataset that I have
(below).
> But it doesn't in the above case.
> 
> Here's an example where "space" DOES work as (I) expected:
> 
> The data set:
> 
>    A  A  B  B  C  C
> 1  5  10 15 20 70 90
> 2  20 15 24 56 34 70
> 3  40 54 23 67 12 78
> 
> The code:
> 
> data3 <- as.matrix(read.table("test3.data"))
> 
> colorlist3 <- c("orange","lightblue","darkblue")
> 
> barplot(data3,
>         beside=FALSE,
>         col=colorlist3,
>         xlim = c(1,6),
>         width = c(.5,.35),
>         space = c(2.75,.25),
>         axes = F
>         )
> 
> As expected, "colorlist" in both examples cycles through the list of
> colors, but when beside = TRUE it uses each color for each column in
the
> data, and when beside = FALSE the list of colors is cycled through for
> each bar's components. In the *first* case, I'm trying to get the two
> colors to alternate (which works only when beside = TRUE), but for
some
> reason I then lose control over "space".
> 
> Any suggestions would be greatly appreciated.

If I read the information correctly, the problem with your first example
is with the structure of the data2 matrix (and with your original set of
data that was 30 columns by 1 row.)

Your data2 set is a one dimensional vector of values not a matrix, even
though you are trying to coerce it in the read.table() step.  If you do
dim(data2), you will find that it is a 1 x 6 vector.  

Take a look at R-FAQ 7.7.

With data3, you have created a matrix that is 3 x 6.  Do dim(data3).

Some of the output that you are seeing from data3 is the result of the
way in which barplot() is handling the sorting of the data labels and
the space arguments that you have specified (which are backwards), not
because the data is being grouped.

In fact, if you reverse your space arguments in your call to barplot()
for data3 (or just leave them out) and set beside = TRUE, you will note
that the common lettered groups are not being grouped at all. They are
being treated as unique entries, each of which has three values.

What you really need to do is to restructure your data so that the
values for the bar heights in common groups are arranged in single
columns.

For example, reconfigure data2 so that it looks like:

A B C
0 5 15 70 
1 10 20 90

Then call barplot() as follows:

barplot(data2, 
            beside=TRUE, 
            col=colorlist2, 
            width = c(1,.55), 
            space = c(.25, 2.75), 
            axes = F)

Take note (as I reference above) that I also reversed the sequence of
the values for space from your original.  The first value is the within
group space, the second value is the between group space.

You should do the same restructuring with your first set of data so that
it becomes a 2 row by 15 column matrix. Right now it is a 1 x 30 vector,
which barplot() will not handle properly when grouping bars, thus the
space argument is not functioning as you wish.

Sorry that I missed this the first time around.  I must not have had my
afternoon coffee yet.  ;-)

HTH.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul 26 17:21:42 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 26 Jul 2002 16:21:42 +0100 (BST)
Subject: [R] Parzen Windows
In-Reply-To: <013101c234b7$71094e50$a81401a3@stats.ox.ac.uk>
Message-ID: <Pine.LNX.4.31.0207261620200.22684-100000@gannet.stats>

Parzen windows is an engineer's term for kernel density estimation.
So, see packages KernSmooth, sm, ....

On Fri, 26 Jul 2002, Adaikalavan Ramasamy wrote:

> Does anyone know if there is a function in R that fits a Parzen Window ?
>
> I have searched the mail archives and the packages to no avail. Perhaps it
> has a different name or implemented differently. I do not mind trying to
> write the codes but rather not waste time if one exists already. Many thanks
> in advance.
>
> Adai.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Fri Jul 26 17:23:23 2002
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Fri, 26 Jul 2002 17:23:23 +0200
Subject: [R] Is there a function for finding local extrema.
In-Reply-To: <3D415284.8090209@molgen.mpg.de>
Message-ID: <MABBLJDICACNFOLGIHJOOEENCOAA.phgrosje@ulb.ac.be>

To find extrema, you have the turnpoints() function in the optional package
pastecs. Once pastecs is installed on your system, use:

library(pastecs)
example(turnpoints)
?turnpoints

For your particular problem, you can use:
X <- runif(100000)
extract(turnpoints(X), 100000, peak=1, pit=0)

Depending on what you are looking for, you may be interested by additional
statistics about extrema, which is provided by turnogram().
Best regards,

Philippe Grosjean

...........]<(({?<...............<?}))><...............................
( ( ( ( (
 ) ) ) ) )      Philippe Grosjean
( ( ( ( (
 ) ) ) ) )      IFREMER Nantes - DEL/AO
( ( ( ( (       rue de l'Ile d'Yeu, BP 21105, 44311 Nantes Cedex 3
 ) ) ) ) )      tel: (33) 02.40.37.42.29, fax: (33) 02.40.37.42.41
( ( ( ( ( 
 ) ) ) ) )      SciViews project coordinator (http://www.sciviews.org)
( ( ( ( (       e-mail: phgrosjean at sciviews.org
 ) ) ) ) ) 
( ( ( ( (      "I'm 100% confident that p is between 0 and 1"
 ) ) ) ) )                                L. Gonick & W. Smith (1993)
.......................................................................


-----Message d'origine-----
De : owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]De la part de Witold Eryk Wolski
Envoy? : vendredi 26 juillet 2002 15:46
? : r-help at stat.math.ethz.ch
Objet : [R] Is there a function for finding local extrema.


I have a vector with about 100.000 values representing a quite regular 
function (sinusoid like).
I would like to find all local maxima of this function (should be about 
4000). Is there a native routine for R?
Thanks in advance
Eryk. 


-- 
 _|_  \|/  \|/  Eryk Witold Wolski         tel  :0049-(0)30-8413-1543 w w
 ?v?  'v? \'v'/ MPI Moleculare Genetik     fax  :0049-(0)30-8413-1139 | |
/| |\/| |\ | |  Mass Spectrometry Group    http://www.molgen.mpg.de  /.^.\ 
 m m  m m  m m  mail :wolski at molen.mpg.de                             /|\


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vasishth at coli.uni-sb.de  Fri Jul 26 17:26:40 2002
From: vasishth at coli.uni-sb.de (Shravan Vasishth)
Date: Fri, 26 Jul 2002 17:26:40 +0200 (MEST)
Subject: [R] Barplot coloring question 
In-Reply-To: <00a601c234b2$97be7660$0201a8c0@MARC>
Message-ID: <Pine.GSO.4.10.10207261715130.8204-100000@gnome.at.coli.uni-sb.de>

On Fri, 26 Jul 2002, Marc Schwartz wrote in response:

> Some of the output that you are seeing from data3 is the result of the
> way in which barplot() is handling the sorting of the data labels and
> the space arguments that you have specified (which are backwards), not
> because the data is being grouped.

Yes, I realize that the data is not being grouped. I was trying to hack
my way around a problem that I discuss below in connection with data3.

> For example, reconfigure data2 so that it looks like:
> 
> A B C
> 0 5 15 70 
> 1 10 20 90
> 
> Then call barplot() as follows:
> 
> barplot(data2, 
>             beside=TRUE, 
>             col=colorlist2, 
>             width = c(1,.55), 
>             space = c(.25, 2.75), 
>             axes = F)

Right, this works for data2, but not for data3. For example, suppose I
transform data3 to something like this:

    A  B  C 
g10  5  15 70
g20  20 24 34
g30  40 23 12
g11  10 20 90
g21  15 56 70
g31  24 67 78

              (originally it looked like this:

               A  A  B  B  C  C
            1  5  10 15 20 70 90
            2  20 15 24 56 34 70
            3  40 54 23 67 12 78

)


Now, with this transformed data3 if I do:

colorlist3 <- c("orange","lightblue","darkblue")

data3 <- as.matrix(read.table("test3.data"))

barplot(data5, 
            beside=TRUE, 
            col=colorlist3, 
            width = c(1,.55), 
            space = c(.25, 2.75), 
            axes = F)

I get *everything* as beside = TRUE. For any given category, I need the
first three and last three rows to be beside = FALSE, but these two sets
of rows to be beside = TRUE.

I hope this is making sense, it's that time of day for me now when things
no longer do.

Thanks for all your help,

> Date: Fri, 26 Jul 2002 09:41:56 -0500
> From: Marc Schwartz <mschwartz at medanalytics.com>
> To: 'Shravan Vasishth' <vasishth at CoLi.Uni-SB.DE>, r-help at stat.math.ethz.ch
> Subject: RE: [R] Barplot coloring question 
> 
> > On Thu, 25 Jul 2002, Marc Schwartz wrote in response:
> > 
> > > The "list" of colors that you have specified for colorlist contains
> only
> > > one entry.
> > >
> > > If you specify:
> > >
> > > colorlist <- c("red", "blue", ...)
> > >
> > > You bars or their stacked segments will cycle through the colors,
> > > depending upon whether beside is TRUE or FALSE, respectively.
> > >
> > > Just be sure to specify one color for each group in your data.
> > 
> > Right. I had tried that earlier but that alone didn't work; sorry, I
> > should have mentioned that.  But having beside as TRUE works (with a
> list
> > of colours). I wanted to keep beside = FALSE because I wanted to
> control
> > the space between bars, as I decribe below with toy examples.
> > 
> > In the first kind of barplot I want, I have data like this:
> > 
> >    A A  B  B  C  C
> > 0  5 10 15 20 70 90
> > 
> > I can plot it using code like this:
> > 
> > data2 <- as.matrix(read.table("test2.data"))
> > 
> > colorlist2 <- c("orange","limegreen")
> > 
> > barplot(data2,
> >         beside=TRUE,
> >         col=colorlist2,
> >         width = c(1,.55),
> >         space = c(2.75,.25),
> >         axes = F
> >         )
> > 
> > I want to be able to manipulate the spaces between the bars pairwise:
> the
> > contiguous AA should be closer to each other than the contiguous AB. I
> > thought that a vector specification for space would do this, because
> this
> > works for the plot of a slightly different dataset that I have
> (below).
> > But it doesn't in the above case.
> > 
> > Here's an example where "space" DOES work as (I) expected:
> > 
> > The data set:
> > 
> >    A  A  B  B  C  C
> > 1  5  10 15 20 70 90
> > 2  20 15 24 56 34 70
> > 3  40 54 23 67 12 78
> > 
> > The code:
> > 
> > data3 <- as.matrix(read.table("test3.data"))
> > 
> > colorlist3 <- c("orange","lightblue","darkblue")
> > 
> > barplot(data3,
> >         beside=FALSE,
> >         col=colorlist3,
> >         xlim = c(1,6),
> >         width = c(.5,.35),
> >         space = c(2.75,.25),
> >         axes = F
> >         )
> > 
> > As expected, "colorlist" in both examples cycles through the list of
> > colors, but when beside = TRUE it uses each color for each column in
> the
> > data, and when beside = FALSE the list of colors is cycled through for
> > each bar's components. In the *first* case, I'm trying to get the two
> > colors to alternate (which works only when beside = TRUE), but for
> some
> > reason I then lose control over "space".
> > 
> > Any suggestions would be greatly appreciated.
> 

-- 
Dr. Shravan Vasishth                           Phone: +49 (681) 302 4504    
Computational Linguistics, Universit?t des Saarlandes, Postfach 15 11 50
D-66041 Saarbr?cken, Germany         http://www.coli.uni-sb.de/~vasishth 
                                 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul.louisell at pw.utc.com  Fri Jul 26 17:29:19 2002
From: paul.louisell at pw.utc.com (Louisell, Paul , T.)
Date: Fri, 26 Jul 2002 11:29:19 -0400
Subject: [R] RNG in R
Message-ID: <D30064BBFF2DD51180BC00508BDF3EE7026F06D0@pusehe07.eh.pweh.com>

Hi,

I'm working with a programmer on translating code I wrote for a simulation
in S into FORTRAN. Since the S source code is not available, I decided to
use the random number generator (RNG) in R. The problem is that the R code
is complex enough that we can't isolate the proper source files to include.
Although we can link to the C code and call the RNG, we haven't been able to
find the files that update the value of .Random.seed. Does anyone know
exactly which files and libraries in the source code are necessary for the
RNG to work proplerly? We want to avoid using the entire R installation.

Thanks,

Paul Louisell
(860) 565-5417
louisept at pweh.com





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul 26 17:35:47 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 26 Jul 2002 16:35:47 +0100 (BST)
Subject: [R] RNG in R
In-Reply-To: <D30064BBFF2DD51180BC00508BDF3EE7026F06D0@pusehe07.eh.pweh.com>
Message-ID: <Pine.LNX.4.31.0207261632520.22684-100000@gannet.stats>

On Fri, 26 Jul 2002, Louisell, Paul , T. wrote:

> Hi,
>
> I'm working with a programmer on translating code I wrote for a simulation
> in S into FORTRAN. Since the S source code is not available, I decided to
> use the random number generator (RNG) in R. The problem is that the R code
> is complex enough that we can't isolate the proper source files to include.
> Although we can link to the C code and call the RNG, we haven't been able to
> find the files that update the value of .Random.seed. Does anyone know
> exactly which files and libraries in the source code are necessary for the
> RNG to work proplerly? We want to avoid using the entire R installation.

The RNG is in the file RNG.c, surprisingly enough.

Also, unsurprisingly, that contains code to read in and write out
.Random.seed, and you will not want that code unless you are writing an R
package.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul 26 17:45:54 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 26 Jul 2002 16:45:54 +0100 (BST)
Subject: [R] Frame o windows result.
In-Reply-To: <3D414EC7.5030002@perseus.unalmed.edu.co>
Message-ID: <Pine.LNX.4.31.0207261641160.22684-100000@gannet.stats>

On Fri, 26 Jul 2002, Kenneth Cabrera wrote:

> Helllo Dear R-user!
>
> I want to know how can I open and other text window where
> I will send the results of all the commands, so I will have
> a command window and a result window.
> In other words, how can I use something like sink() but the
> output goes to a new text window and not a file.

sink to a connection, and pipe your connection to an external program that
displays the text.   Without knowing your OS it is hard to be more
specific. On Unix/Linux sink to file, and run tail -f on that file in
another terminal would be one way (of many).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dandoun53 at hotmail.com  Fri Jul 26 17:49:09 2002
From: dandoun53 at hotmail.com (Dania essouabri)
Date: Fri, 26 Jul 2002 17:49:09 +0200
Subject: [R] From Excel file to R
Message-ID: <F156AIzaZOEzFxDjruR0001dd01@hotmail.com>

Hello,
I wish to do statistic treatment by using R on an excel file. Is it 
possible? Thank you for your responses.
Dania



_________________________________________________________________
Discutez en ligne avec vos amis ! http://messenger.msn.fr

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrysopa at insecta.ufv.br  Fri Jul 26 17:41:41 2002
From: chrysopa at insecta.ufv.br (Ronaldo Reis Jr.)
Date: Fri, 26 Jul 2002 12:41:41 -0300
Subject: [R] help with time series
Message-ID: <200207231135.31355.chrysopa@insecta.ufv.br>

Hi all,
I have an experiment that this:
Moths's behavior, where 0 is not behavior and 1 is behavior
I look the moths every 10 minutes for 960 minutes/day for 7 days.
Exist an interval of the 480 minutes between the days with no observations 

My dataset is something like this:
------------------------------------
| day | minutes | moth | behavior |
------------------------------------
|  1  |    0    |  m1  |     0     |
|  1  |   10    |  m1  |     1     |
|  1  |   20    |  m1  |     1     |
|  1  |   30    |  m1  |     0     |
|  1  |   ...   |  m1  |     1     |
|  1  |   960   |  m1  |     0     |
|  2  |    0    |  m1  |     0     |
|  2  |   10    |  m1  |     1     |
|  2  |   20    |  m1  |     1     |
|  2  |   30    |  m1  |     0     |
| ... |   ...   |  m1  |     1     |
|  7  |   960   |  m1  |     0     |
|  1  |    0    |  m2  |     0     |
|  1  |   10    |  m2  |     1     |
|  1  |   20    |  m2  |     1     |
|  1  |   30    |  m2  |     0     |
|  1  |   ...   |  m2  |     1     |
|  1  |   960   |  m2  |     0     |
|  2  |    0    |  m2  |     0     |
|  2  |   10    |  m2  |     1     |
|  2  |   20    |  m2  |     1     |
|  2  |   30    |  m2  |     0     |
| ... |   ...   |  ... |     1     |
|  7  |   960   |  mx  |     0     |
------------------------------------

Each moth is a repetition.

I need know:
the time for the initial behavior per day
the frequency of behavior per day
the time for the end behavior per day
if the behavior change in each day, comparing the curves.

Time series functions is appropriate for this? If yes, what functions and what 
package (ts or tseries)? if not, exist any function for this?

Thank you
Response maybe private for this off-topic questions.

-- 
We are not a loved organization, but we are a respected one.
		-- John Fisher
--
|   //|\\   [*****************************][*******************]
|| ( ? ? )  [Ronaldo Reis J?nior          ][PentiumIII-600     ]
|     V     [ESALQ/USP-Entomologia, CP-09 ][HD: 30 + 10 Gb     ]
||  / l \   [13418-900 Piracicaba - SP    ][RAM: 128 Mb        ]
|  /(lin)\  [Fone: 19-429-4199 r.229      ][Video: SiS620-8Mb  ]
||/(linux)\ [chrysopa at insecta.ufv.br      ][Modem: Pctel-onboar]
|/ (linux) \[ICQ#: 5692561                ][SO: CL 7.0 (2.2.19)]
||  ( x )   [*****************************][*******************]
||| _/ \_Powered by Conectiva Linux 7.0 D+:) | Lxuser#: 205366


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Xavier.Abulker at fimat.com  Fri Jul 26 17:50:32 2002
From: Xavier.Abulker at fimat.com (Xavier.Abulker@fimat.com)
Date: Fri, 26 Jul 2002 17:50:32 +0200
Subject: [R] estimating missing data
Message-ID: <OFC922922D.40D66873-ONC1256C02.0056C7EA@fimat-france.fr>

Hello R group

Do you know if an EM algorithm exits for R to estimate missing data in a
sample?
I just found knn algorithm in to the package emv but it doesn't look to be
the usual EM algorithm.
Thanks
Xavier

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Jul 26 17:58:29 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 26 Jul 2002 11:58:29 -0400
Subject: [R] Parzen Windows
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC509@usrymx10.merck.com>

I suspect Prof. Ripley's response suffices.  However, there *is* a Parzen
kernel for kernel smoothing:

Parzen K(z) = { 4/3 - 8z^2 + 8|z|^3  if |z| <= 1/2
                8(1 -|z|)^3/3        if 1/2 < |z| <= 1
                0                    otherwise

If I'm not mistaken, this appeared in Parzen's original 1962 paper on kernel
density estimation.  I also seem to recall that this was available at one
time in ksmooth() in S(plus).

Cheers,
Andy

> From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
> 
> Parzen windows is an engineer's term for kernel density estimation.
> So, see packages KernSmooth, sm, ....
> 
> On Fri, 26 Jul 2002, Adaikalavan Ramasamy wrote:
> 
> > Does anyone know if there is a function in R that fits a 
> Parzen Window ?
> >
> > I have searched the mail archives and the packages to no 
> avail. Perhaps it
> > has a different name or implemented differently. I do not 
> mind trying to
> > write the codes but rather not waste time if one exists 
> already. Many thanks
> > in advance.
> >
> > Adai.
> >
> > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> > 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jul 26 18:05:14 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 26 Jul 2002 09:05:14 -0700 (PDT)
Subject: [R] chi square test is not appropriate? but what test is
In-Reply-To: <3D415FAD.23840.17DA960@localhost>
Message-ID: <Pine.A41.4.44.0207260902050.62952-100000@homer30.u.washington.edu>

On Fri, 26 Jul 2002, Petr Pikal wrote:

> Hallo all
>
> Suppose I have a summary amount of various colours used in
> different areas
>
> colour	plastic	paint
> black	15.5	173.8
> brown	6.0	523.2
> green	2.5	6.4
> red	77.1	237.4
> yellow	144.6	77.3
>
> It seems that there are some preferable colours in these two areas
> (yellow in plastic, brown an red in paint).
>
> The problem seems to me similar to chi square test but it is
> intended for testing counts or frequencies (if I understand it well).
>
> If I wanted to know whether these differences are significant,
> what type of statistical test I should use, when I have no access to
> underlaying data?
>
> Is it possible to do any statistical test on  such data?

Not without some information on the variability in the data. Even if you
were prepared to make the implausible assumption that the variance is the
same in each cell you couldn't estimate both this variance and the
interaction between color and plastic/paint.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bernhard.Pfaff at drkw.com  Fri Jul 26 18:09:13 2002
From: Bernhard.Pfaff at drkw.com (Pfaff, Bernhard)
Date: Fri, 26 Jul 2002 18:09:13 +0200
Subject: [R] Frame o windows result.
Message-ID: <18D602BD42B7E24EB810D6454A58DB9001CADD76@ibfftce505.is.de.dresdnerkb.com>

This can be accomplished with the front-end "Emacs" / "ESS". 
http://cran.r-project.org/doc/FAQ/R-FAQ.html#R%20and%20Emacs



-----Original Message-----
From: Kenneth Cabrera [mailto:krcabrer at perseus.unalmed.edu.co]
Sent: 26 July 2002 15:30
To: r-help at stat.math.ethz.ch
Subject: [R] Frame o windows result.


Helllo Dear R-user!

I want to know how can I open and other text window where
I will send the results of all the commands, so I will have
a command window and a result window.
In other words, how can I use something like sink() but the
output goes to a new text window and not a file.

Thank you for your help

-- 
Kenneth Roy Cabrera Torres
Unviersidad Nacional de Colombia, Sede Medell?n
Instituto de Ciencias Naturales y Ecolog?a
Escuela de Geociencias
e-mail krcabrer at unalmed.edu.co
Tel +57 (4) 430-9308



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


If you have received this e-mail in error or wish to read our e-mail disclaimer 
statement and monitoring policy, please refer to http://www.drkw.com/disc/email/ 
or contact the sender

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Jul 26 18:14:56 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 26 Jul 2002 12:14:56 -0400
Subject: [R] estimating missing data
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC50A@usrymx10.merck.com>

Not sure if this is what you want:  From the help page for the function
`em.norm' in the package `norm':

EM algorithm for incomplete normal data

Description:

     Performs maximum-likelihood estimation on the matrix of incomplete
     data using the EM algorithm. Can also be used to find a posterior
     mode under a normal-inverted Wishart prior supplied by the user.

Andy

> -----Original Message-----
> From: Xavier.Abulker at fimat.com [mailto:Xavier.Abulker at fimat.com]
> Sent: Friday, July 26, 2002 11:51 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] estimating missing data
> 
> 
> Hello R group
> 
> Do you know if an EM algorithm exits for R to estimate 
> missing data in a
> sample?
> I just found knn algorithm in to the package emv but it 
> doesn't look to be
> the usual EM algorithm.
> Thanks
> Xavier
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Fri Jul 26 18:39:14 2002
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Fri, 26 Jul 2002 11:39:14 -0500
Subject: [R] Frame o windows result.
References: <Pine.LNX.4.31.0207261641160.22684-100000@gannet.stats>
Message-ID: <3D417B32.8030509@perseus.unalmed.edu.co>

Sorry, I always forget to tell the platform:

I am using W2K, R v 1.51.

ripley at stats.ox.ac.uk wrote:

>On Fri, 26 Jul 2002, Kenneth Cabrera wrote:
>
>>Helllo Dear R-user!
>>
>>I want to know how can I open and other text window where
>>I will send the results of all the commands, so I will have
>>a command window and a result window.
>>In other words, how can I use something like sink() but the
>>output goes to a new text window and not a file.
>>
>
>sink to a connection, and pipe your connection to an external program that
>displays the text.   Without knowing your OS it is hard to be more
>specific. On Unix/Linux sink to file, and run tail -f on that file in
>another terminal would be one way (of many).
>

-- 
Kenneth Roy Cabrera Torres
Unviersidad Nacional de Colombia, Sede Medell?n
Instituto de Ciencias Naturales y Ecolog?a
Escuela de Geociencias
e-mail krcabrer at unalmed.edu.co
Tel +57 (4) 430-9308



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jul 26 18:48:07 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 26 Jul 2002 09:48:07 -0700 (PDT)
Subject: [R] Frame o windows result.
In-Reply-To: <18D602BD42B7E24EB810D6454A58DB9001CADD76@ibfftce505.is.de.dresdnerkb.com>
Message-ID: <Pine.A41.4.44.0207260931520.62952-100000@homer30.u.washington.edu>

On Fri, 26 Jul 2002, Pfaff, Bernhard wrote:

> This can be accomplished with the front-end "Emacs" / "ESS".
> http://cran.r-project.org/doc/FAQ/R-FAQ.html#R%20and%20Emacs
>

Not quite. The request was to have the output without the input.

You should be able to do this by defining ess-eval-visibly as nil, and
this partly works.  However, C-c C-n (eval line and step) doesn't honor
ess-eval-visibly (at least on my ESS).  Presumably this is a bug in ESS.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Fri Jul 26 19:29:34 2002
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Fri, 26 Jul 2002 10:29:34 -0700
Subject: [R] RGui maximized (followup)
Message-ID: <5.1.1.5.2.20020726101941.01878988@pop4.attglobal.net>

Just a quick followup to the query I posted yesterday.  The default screen 
layout for the Windows version of R (1.5.1 currently) is MDI, which has the 
RGUI itself maximized over the entire screen, while the R console is in a 
smaller window inside the RGui.  I asked whether there was some way at 
startup to change the amount of screen real-estate occupied by the RGui 
itself since this can be changed during an R-session but didn't seem to 
persist between R sessions.  I first noted this problem on my WinXP systems 
and didn't seem to have this difficulty on my Windows 2000 systems.

This appears to be a "normal" behavior of R and the simple solution is to 
change from MDI to SDI, which does permit the resizing and persistence of 
the R Console.

Mark Bravington has sent me a "hack" (his term) for this problem, which 
allows a bit more control of the size of parent and child windows in the 
MDI versions of both SPlus and R.  I confess that I haven't tried them yet 
-- no time -- but I promised Mark that I will soon and report back to 
him.  If they solve the problem I would like to solve, Mark has proposed 
cleaning up the routines and posting them for others to use.

Thanks to Brian Ripley both for confirming the behavior I'm seeing and 
pointing out that use of SDI is one way to resolve the issue, and to Mark 
Bravington for offering a different solution to the bigger issue.





Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department - Portland State University
email:  feldesmanm at pdx.edu
email:  feldesman at attglobal.net
fax:    503-725-3905


"Sometimes the lights are all shining on me, other times I can barely see,
lately it's occurred to me, what a long strange trip it's been..."  Jerry &
the boys





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From asimon at u.washington.edu  Fri Jul 26 20:33:13 2002
From: asimon at u.washington.edu (Adam Simon)
Date: Fri, 26 Jul 2002 11:33:13 -0700 (PDT)
Subject: No subject
Message-ID: <Pine.LNX.4.43.0207261133130.10669@hymn10.u.washington.edu>

Hi, I am trying to run a structural equation model in the sem package and i 
have debug set to true, but i get an error that says "subscript out of 
bounds" with no further explanation.  Is there anymore documentation 
available for this or is there any generic reason to what this might refer ?  

Thanks, Adam



_________________________________________________________
____________
Adam F. Simon                                   
Department of Political Science                44 Gowen Hall
University of Washington                       Office: (206) 616-3584
Seattle, WA  98195-3530                        Fax:    (206) 685-2146   



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramasamy at stats.ox.ac.uk  Fri Jul 26 21:36:19 2002
From: ramasamy at stats.ox.ac.uk (Adaikalavan Ramasamy)
Date: Fri, 26 Jul 2002 20:36:19 +0100
Subject: [R] estimating missing data
References: <OFC922922D.40D66873-ONC1256C02.0056C7EA@fimat-france.fr>
Message-ID: <01a201c234db$b78f76f0$a81401a3@stats.ox.ac.uk>

The knn algorithm imputes the missing value by finding k-closest/similiar
(Euclidean or correlation) rows. Should be useful for genetic data whereby
genes (rows) that are co-regulated have the similiar expression profiles.
?knn gives you reference to paper that compare this method with SVDimpute
and row averages.

There is a library called 'missing' in S-PLUS which does EM besides many
other fairly involved multiple imputation algorithms. It comes supplied with
a 170 page help manual. But I know of no similiar versions in R. Sorry if
this isn't very helpful.

Adai.

----- Original Message -----
From: <Xavier.Abulker at fimat.com>
To: <r-help at stat.math.ethz.ch>
Sent: Friday, July 26, 2002 4:50 PM
Subject: [R] estimating missing data


> Hello R group
>
> Do you know if an EM algorithm exits for R to estimate missing data in a
> sample?
> I just found knn algorithm in to the package emv but it doesn't look to be
> the usual EM algorithm.
> Thanks
> Xavier
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Sat Jul 27 00:29:25 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Fri, 26 Jul 2002 18:29:25 -0400
Subject: [R] Normal probability plot of effects
References: <006c01c23483$0398c960$5e05cf9b@pharm.auth.gr>
Message-ID: <3D41CD45.74360B05@umsanet.edu.bo>

I have a local function:

> qqnorm.aov
function (obj, full = FALSE, label = FALSE, omit = NULL, xlab = paste(if
(full) "" else "Half", 
    " Normal plot"), ylab = "Effects", ...) 
{
    r <- obj$rank
    eff <- if (full) 
        effects(obj, set.sign = TRUE)[1:r]
    else abs(effects(obj))[1:r]
    na <- names(eff)
    int <- match("(Intercept)", na)
    if (!is.null(omit)) {
        if (is.character(omit)) {
            int <- c(int, match(omit, na))
        }
        else int <- c(int, omit)
    }
    int <- int[!is.na(int)]
    if (length(int)) 
        eff <- eff[-int]
    n <- length(eff)
    if (n <= 0) 
        stop("Not enough effects")
    ord <- order(eff)
    na <- names(eff)
    P <- if (full) 
        ppoints(n)
    else ((1:n) + n)/(2 * n + 1)
    Q <- qnorm(P)
    plot(x = Q, y = eff[ord], xlab = xlab, ylab = ylab, ...)
    if (label && dev.interactive()) 
        identify(Q, eff[ord], names(eff)[ord])
}


which is an incomplete implementation of the s function with the same
name. It could help. (It is of course most usefull for orthogonal
designs)

Kjetil Halvorsen


Kyriakos Kachrimanis wrote:
> 
> Can anybody help me on this, please:
> 
> I want to produce a normal probability plot of effects for an unreplicated
> design with 4 factors. 2 of the factors have 2 levels and the other 2 have 4
> levels. Is it possible to produce such a graph?
> I want to use this graph to decide which interaction effects are negligible
> to combine them as an estimate of error.
> Thank you in advance.
> 
> Kyriakos Kachrimanis
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wildkid at eudoramail.com  Fri Jul 26 15:25:03 2002
From: wildkid at eudoramail.com (WilD)
Date: Fri, 26 Jul 2002 19:25:03 +0600
Subject: [R] SAS Registration !i!
Message-ID: <5.1.0.14.2.20020726185019.016c50d0@mail.aitlbd.net>

Dear All,

	I'm a poor student from Bangladesh who is majoring in a Statistics related 
subject. We have SAS in our course design , but this software is so 
expensive that our department can not buy it with about 4000 dollar. But we 
like to learn how this software works. Is there any similar software (with 
similar commands, package just like R and S+) with trial system so that we 
may learn free for some days ? If there is , please let me know at 
mailto:wildkid at eudoramail.com . I will be very grateful to you.
Thank you.

_______________________

Mohammad Ehsanul Karim
Bangladesh
_______________________ 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zwu at gene.COM  Sat Jul 27 01:25:19 2002
From: zwu at gene.COM (Zhijin (Jean) Wu)
Date: Fri, 26 Jul 2002 16:25:19 -0700
Subject: [R] is there a way of getting a sub-agnes.object from a big tree?
Message-ID: <3D41DA5E.FD175A51@gene.com>

Hello masters
  For example if I see two big branches of the agnes tree, I can use
prune.clust (original.tree,k=2) or "cutree" to cut it into 2. For each
subset of data if I use agnes again it will look the same as a branch of
the original tree. But is there an easier way to retrieve a "sub
agnes.object" since the original tree was grown agglomeratively?
  Thanks a bunch!
Jean


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Sat Jul 27 01:36:45 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Fri, 26 Jul 2002 18:36:45 -0500
Subject: [R] Barplot coloring question 
In-Reply-To: <Pine.GSO.4.10.10207261715130.8204-100000@gnome.at.coli.uni-sb.de>
Message-ID: <001001c234fd$4e786b00$0201a8c0@MARC>

> I have snipped the original message text to conserve space, since my
reply is long.

The source of the problem that you are having in trying to get the
colors to cycle in the case where you only have one row in your matrix
(data2), is in the way that the rectangles are drawn in barplot(). The
way it is coded, it precludes cycling the colors when beside = FALSE and
there is only one vector of height values.

The only time that colors cycle is when beside = TRUE or when there is
more than one set of height values, such as a stacked bar.

In reviewing the source code (yet again for barplot, which I have done
previously for myself on another issue), an internal barplot() function
called xyrect() is used.

xyrect() calls the standard R function rect(), which actually draws the
colored rectangles in the configuration specified by the arguments to
barplot().

The code snippet from barplot.default() calling (not defining) xyrect()
follows:

if (beside)
   xyrect(0, w.l, c(height), w.r, horizontal=horiz, col = col)
else {
    for (i in 1:NC) {
        xyrect(height[1:NR, i], w.l[i], height[-1, i], w.r[i],
horizontal=horiz, col = col)
    }
}


When beside = TRUE, each of the arguments is passed as a vector in the
first call to xyrect(), thus normal R cycling occurs, including the
colors.

However, when beside = FALSE, note that the for loop passes arguments by
explicit indexing in the second call to xyrect().  The loop repeats for
each value in NC, which is the number of columns in the matrix.

Note that "col" is not indexed (ie. col[i] ) in the looped call, thus
only the first value for color is passed when NR = 1 (one vector of
height values) and no cycling through the color vector occurs.  

When NR > 1, cycling within the xyrect() call takes place and the color
vector is cycled to allow for the multi-color segments in a stacked bar
plot.

Hence, you are stuck in this particular case, unless you want to modify
barplot().

By the way, if "col" was indexed as col[i] in the code, it would address
your problem, but it would now preclude color cycling in stacked bars as
"i" would increment with each matrix column and not within each bar
segment.

My guess is that the author of barplot allowed for color cycling in
stacked and grouped bars, but not in the case of a single set of
non-stacked bars.

You could feasibly modify the code for the special case when NR = 1,
such as you have in data2 to enable each bar to be a different color or
pairs of colors as specified by the color vector. You would have to set
up the code to properly configure the color vector or pass it explicitly
in barplot.  For data2, the explicit argument could be something like:

 "col = rep(c("orange", "yellow"), 3)" 

which would create a vector of:

[1] "orange" "yellow" "orange" "yellow" "orange" "yellow" 

Not sure if that is what you wanted to hear, but I think that may be
your only choice, unless others reading this have other ideas about how
to approach the issue.

The other alternative, would be as I had suggested earlier, which is to
use beside = TRUE for the special case where your number of rows = 1,
with the space arguments in a standard configuration and the data set up
with multiple rows per group and only one column per group. In the cases
where the number of rows > 1, then take the "beside = FALSE" approach.

I think you have it right for when the number of rows in your data is >1
using the reversed space argument values.  It seems to yield what you
are trying to achieve, which is paired groupings of grouped bars.

Hope that provides some direction. If I have missed anything else, let
me know.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wvedder at houston.rr.com  Sat Jul 27 08:56:54 2002
From: wvedder at houston.rr.com (William Vedder)
Date: Sat, 27 Jul 2002 01:56:54 -0500
Subject: [R] Working with lists
Message-ID: <005801c2353a$cad18820$b600a8c0@houston.rr.com>

Greetings All,

I'm stuck and would appreciate some help.

After writing a function to generate a random sample from vector
"rand1":
> f<-function(i) {y<-sample(rand1,296,replace=F)}

and using the function to generate multiple samples from rand1 and store
the results in list "l":
> l<-lapply(1:100,f)

I can't get the next step accomplished; I'd like to sort each of the
generated samples.  I've tried:
> sort(l)

but get the msg:
Error in sort(l) : `x' must be atomic

I've tried numerous other approaches (converting l to a dataframe and
trying to work with it, eg) with no success.

I've the documentation on lists and dataframes and vectors, etc but
still must not be understanding these correctly.  Can someone give me a
clue as to how to proceed...

Best,

Bill





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jul 27 09:02:27 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 27 Jul 2002 08:02:27 +0100 (BST)
Subject: [R] Working with lists
In-Reply-To: <005801c2353a$cad18820$b600a8c0@houston.rr.com>
Message-ID: <Pine.LNX.4.31.0207270758090.23882-100000@gannet.stats>

On Sat, 27 Jul 2002, William Vedder wrote:

> I'm stuck and would appreciate some help.
>
> After writing a function to generate a random sample from vector
> "rand1":
> > f<-function(i) {y<-sample(rand1,296,replace=F)}
>
> and using the function to generate multiple samples from rand1 and store
> the results in list "l":
> > l<-lapply(1:100,f)
>
> I can't get the next step accomplished; I'd like to sort each of the
> generated samples.  I've tried:
> > sort(l)
>
> but get the msg:
> Error in sort(l) : `x' must be atomic

You want to sort the components, not the list (I think) so use lapply
again:

l <- lapply(l, sort)

BTW, a for() loop is also a reasonable solution:

for(i in seq(along=l)) l[[i]] <- sort(l[[i]])

but less readable.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lb59 at rz.uni-karlsruhe.de  Sat Jul 27 13:27:09 2002
From: lb59 at rz.uni-karlsruhe.de (lb59@rz.uni-karlsruhe.de)
Date: Sat, 27 Jul 2002 13:27:09 +0200 (CEST)
Subject: [R] accessing dates with ROracle
Message-ID: <E17YPj3-0002ZP-00@ssl3.rz.uni-karlsruhe.de>

Hi,

I have a problem with the DBI / ROracle interface.
Most things work very well, but when I try to access
date/time fields, the R string representation only
contains the date part, not the time.

More exactly:
- the Oracle column type is DATE(7)
- example data stored in this column is
     2001-11-23 07:27:51
- I can see this data correctly with database
   tools as sqlplus and tora
- When I access the data from R with 

library("DBI");
library("ROracle");
ora = dbDriver("Oracle", 25);
con = dbConnect(ora, user="user", password="secret", dbname="ora");
rs = dbExecStatement(con, statement = "select * from example");
dta = fetch(rs, n = 10);
close(rs);
dta;

the date/time column reads
  2001-11-23
(i.e., without the time).

As I noticed that I get the correct string conversion *inside*
oracle, e.g. saying "select id,to_char(dat) from example"
in sqlplus or tora, I tried several ideas for workarounds:
  - changing the query to "select id,to_char(dat) from example",
  - creating a view in oracle using this string conversion.
Unfortunately the "bug" (if any) in R is smart enough to 
circumvent this workarounds, that means, the date/time still
is shortened to the date only part.

I am using:
- R 1.5.0
- DBI 0.1.3
- ROracle 0.3.3
- Oracle 9.2i
on a SuSE 8.0 Linux box.

Any ideas what is going wrong and how I can fix this? 

Thanks a lot in advance, and thanks for ROracle, that works
great so far for anything else!
  Lars


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From agehr at mozart.depaul.edu  Sat Jul 27 22:32:44 2002
From: agehr at mozart.depaul.edu (Adam Gehr)
Date: Sat, 27 Jul 2002 15:32:44 -0500
Subject: [R] error installing package in linux R
Message-ID: <3D43036C.E46E0E22@mozart.depaul.edu>

I've been using R on windows for a number of years, so when
I recently installed 
Linux I wanted to install R as well. Downloading and
installing the rpm's for R-Base and R-recommended went well
and I seem to have a functioning R.

 I then downloaded the quadreg package and used R CMD
INSTALL to install it. All went well up to a message:
/usr/bin/ld: cannot find -lreadline
which stopped the installation. I checked to see whether
readline is installed and found that it is and, furthermore,
the arrow keys and emacs keys work fine in R. Any help would
be appreciated.

I'm using R 1.5.1 on Mandrake Linux 8.2. 

  Adam Gehr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramasamy at stats.ox.ac.uk  Sat Jul 27 22:51:47 2002
From: ramasamy at stats.ox.ac.uk (Adaikalavan Ramasamy)
Date: Sat, 27 Jul 2002 21:51:47 +0100
Subject: [R] Forcing a break/end in a loop
References: <Pine.LNX.4.31.0207261620200.22684-100000@gannet.stats>
Message-ID: <02fa01c235af$6c9e7c70$a81401a3@stats.ox.ac.uk>

This is probably some basic programming question. I am testing a complicated
and time consuming loops. I have also built in an internal check for the
values, which prints something like OK or Not OK to the screen so that I can
see if anything has gone wrong.

There errors are not logical errors so basically the loop runs to
completion. Is there a way of forcing the loop to stop/exit immediately when
it first fails my internal check ?

A simplified example follows:

x <- c(1:5, -6, 7:10)    # say due to mis-typing

for (i in 1:10){
 { if(is.na(log(x[i]))==FALSE) print("OK")
   else print("Not OK check your values") }
}

The output of the above is "OK", .... , "Not OK check your values", "OK",
...,"OK".
So I want the loop to stop when the 6th value fails.

This would save me a lot of time waiting for the loop to end just because I
made an typing error.
Many thanks.

Adai.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Sun Jul 28 00:52:09 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Sat, 27 Jul 2002 15:52:09 -0700 (PDT)
Subject: [R] error installing package in linux R
In-Reply-To: <3D43036C.E46E0E22@mozart.depaul.edu>
Message-ID: <Pine.GSO.4.10.10207271551340.24717-100000@quetelet.stat.ucla.edu>

You need to install the development package of the readline library.  In
RedHat I believe it's called readline-devel.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Sat, 27 Jul 2002, Adam Gehr wrote:

> I've been using R on windows for a number of years, so when
> I recently installed 
> Linux I wanted to install R as well. Downloading and
> installing the rpm's for R-Base and R-recommended went well
> and I seem to have a functioning R.
> 
>  I then downloaded the quadreg package and used R CMD
> INSTALL to install it. All went well up to a message:
> /usr/bin/ld: cannot find -lreadline
> which stopped the installation. I checked to see whether
> readline is installed and found that it is and, furthermore,
> the arrow keys and emacs keys work fine in R. Any help would
> be appreciated.
> 
> I'm using R 1.5.1 on Mandrake Linux 8.2. 
> 
>   Adam Gehr
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Sun Jul 28 00:53:39 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Sat, 27 Jul 2002 15:53:39 -0700 (PDT)
Subject: [R] Forcing a break/end in a loop
In-Reply-To: <02fa01c235af$6c9e7c70$a81401a3@stats.ox.ac.uk>
Message-ID: <Pine.GSO.4.10.10207271552230.24717-100000@quetelet.stat.ucla.edu>

You could use either stop(), break, or return(), depending on what the
rest of your program looks like.  For example:

x <- c(1:5, -6, 7:10)    # say due to mis-typing

for (i in 1:10){
  if(is.na(log(x[i]))==FALSE) print("OK")
  else stop("Not OK check your values") }
}


-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Sat, 27 Jul 2002, Adaikalavan Ramasamy wrote:

> This is probably some basic programming question. I am testing a complicated
> and time consuming loops. I have also built in an internal check for the
> values, which prints something like OK or Not OK to the screen so that I can
> see if anything has gone wrong.
> 
> There errors are not logical errors so basically the loop runs to
> completion. Is there a way of forcing the loop to stop/exit immediately when
> it first fails my internal check ?
> 
> A simplified example follows:
> 
> x <- c(1:5, -6, 7:10)    # say due to mis-typing
> 
> for (i in 1:10){
>  { if(is.na(log(x[i]))==FALSE) print("OK")
>    else print("Not OK check your values") }
> }
> 
> The output of the above is "OK", .... , "Not OK check your values", "OK",
> ...,"OK".
> So I want the loop to stop when the 6th value fails.
> 
> This would save me a lot of time waiting for the loop to end just because I
> made an typing error.
> Many thanks.
> 
> Adai.
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hedderik at cmu.edu  Sun Jul 28 04:42:23 2002
From: hedderik at cmu.edu (Hedderik van Rijn)
Date: 27 Jul 2002 22:42:23 -0400
Subject: [R] bug in unsplit()?
Message-ID: <1027824143.1582.19.camel@viropage>


If the second argument to unsplit is not a simple vector (but a "list
containing multiple lists"), the function seems to have some problems.

Given a slight modification of the examples in help(split):

> xg <- split(x,list(g1=g,g2=g))
> unsplit(xg,list(g1=g,g2=g))
[1] -0.7877109  2.1757667
Warning messages: 
1: argument lengths differ in: split(x, f) 
2: number of items to replace is not a multiple of replacement length 

It seems to have problems finding the correct length of f. The following
simple addition to the unsplit code probably introduces more bugs than
it solves, but it worked for me. :-)

unsplit.new <- function (value, f) 
{
  if (is.list(f)) {
    f <- interaction(f)
  } 

  x <- vector(mode = typeof(value[[1]]), length = length(f))
  split(x, f) <- value
  x
}

> table(x==unsplit.new(xg,list(g1=g,g2=g)))

TRUE 
1000 

 - Hedderik.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hans at eg.umu.se  Mon Jul 29 04:12:48 2002
From: hans at eg.umu.se (Hans Gardfjell)
Date: Sun, 28 Jul 2002 22:12:48 -0400
Subject: [R] Bug or feature in xyplot?
Message-ID: <GMEGKBFBJGFIIPCOIBNBIEJBCCAA.hans@eg.umu.se>

Hi,

Can someone of you tell me why these two simple examples works as
"expected",

  plot(c(1,1,2,2)~c(1,2,1,2),col=c(1,2,3,4),pch=c(1,2,3,4))

coplot(c(1,1,2,2)~c(1,2,1,2)|c("A","A","B","B"),col=c(1,2,3,4),pch=c(1,2,3,4
))

but when I try it with xyplot in the lattice package it fails.


xyplot(c(1,1,2,2)~c(1,2,1,2)|c("A","A","B","B"),col=c(1,2,3,4),pch=c(1,2,3,4
))

Do I have to specify colors and symbol types differently with lattice
functions or
is this a bug?

Thanks,

Hans Gardfjell
Ecology and Environmental Science
Ume? University, Sweden

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Mon Jul 29 07:26:05 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Sun, 28 Jul 2002 22:26:05 -0700 (PDT)
Subject: [R] Bug or feature in xyplot?
In-Reply-To: <GMEGKBFBJGFIIPCOIBNBIEJBCCAA.hans@eg.umu.se>
Message-ID: <20020729052605.7663.qmail@web13901.mail.yahoo.com>


--- Hans Gardfjell <hans at eg.umu.se> wrote:
> Hi,
> 
> Can someone of you tell me why these two simple examples works as
> "expected",
> 
>   plot(c(1,1,2,2)~c(1,2,1,2),col=c(1,2,3,4),pch=c(1,2,3,4))
> 
> coplot(c(1,1,2,2)~c(1,2,1,2)|c("A","A","B","B"),col=c(1,2,3,4),pch=c(1,2,3,4
> ))
> 
> but when I try it with xyplot in the lattice package it fails.
> 
> 
> xyplot(c(1,1,2,2)~c(1,2,1,2)|c("A","A","B","B"),col=c(1,2,3,4),pch=c(1,2,3,4
> ))
> 
> Do I have to specify colors and symbol types differently with lattice
> functions or
> is this a bug?

Depends on which part you think is unexpected. Both panels should use pch 1 and
2 (and not 3 and 4 for the second panel like coplot), which seems reasonable
enough; it starts afresh for each panel. The col isn't vectorized because grid
doesn't support vectorized graphical parameters yet (but will do so from the
next version).

That said, from a design perspective, col and pch should not be vectors at all
in your example. S-Plus would actually ignore vectorized col/pch etc (with a
warning) and use only the first values. Multiple graphical symbols are supposed
to be achieved via the groups argument and panel.superpose.

Deepayan



__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Mon Jul 29 08:35:59 2002
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Mon, 29 Jul 2002 08:35:59 +0200
Subject: [R] Bug or feature in xyplot?
In-Reply-To: <GMEGKBFBJGFIIPCOIBNBIEJBCCAA.hans@eg.umu.se>
Message-ID: <MABBLJDICACNFOLGIHJOMEFECOAA.phgrosje@ulb.ac.be>

Your xyplot(...) command works fine for me. Are you sure the lattice library
is correctly loaded, using:

library(lattice)

Also, what is your plateform and your R /lattice / grid versions? Mine are:

         _
platform i386-pc-mingw32
arch     i386
os       mingw32
system   i386, mingw32
status
major    1
minor    5.1
year     2002
month    06
day      17
language R

under Windows 2000 pro, and:

Package: lattice
Version: 0.5-3
Date: 2002/05/30

Package: grid
Version: 0.6
Date: 2002/04/03

Best,

Philippe Grosjean

-----Message d'origine-----
De : owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]De la part de Hans Gardfjell
Envoy? : lundi 29 juillet 2002 04:13
? : r-help at stat.math.ethz.ch
Objet : [R] Bug or feature in xyplot?


Hi,

Can someone of you tell me why these two simple examples works as
"expected",

  plot(c(1,1,2,2)~c(1,2,1,2),col=c(1,2,3,4),pch=c(1,2,3,4))

coplot(c(1,1,2,2)~c(1,2,1,2)|c("A","A","B","B"),col=c(1,2,3,4),pch=c(1,2,3,4
))

but when I try it with xyplot in the lattice package it fails.


xyplot(c(1,1,2,2)~c(1,2,1,2)|c("A","A","B","B"),col=c(1,2,3,4),pch=c(1,2,3,4
))

Do I have to specify colors and symbol types differently with lattice
functions or
is this a bug?

Thanks,

Hans Gardfjell
Ecology and Environmental Science
Ume? University, Sweden

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From FJMolina at lbl.gov  Mon Jul 29 09:32:39 2002
From: FJMolina at lbl.gov (Francisco J Molina)
Date: Mon, 29 Jul 2002 00:32:39 -0700
Subject: [R] comparison between R and gnuplot
Message-ID: <3D44EF97.FA21D470@lbl.gov>

Did anyone have a chance to compare the plotting skills of gnuplot with
the plotting skills of R?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 29 09:57:47 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 29 Jul 2002 08:57:47 +0100 (BST)
Subject: [R] comparison between R and gnuplot
In-Reply-To: <3D44EF97.FA21D470@lbl.gov>
Message-ID: <Pine.LNX.4.31.0207290856010.1399-100000@gannet.stats>

On Mon, 29 Jul 2002, Francisco J Molina wrote:

> Did anyone have a chance to compare the plotting skills of gnuplot with
> the plotting skills of R?

I think it is the skills of their users that count.  But to me the default
output from S (S-PLUS or R) looks far better than almost every gnuplot
example I have ever been shown.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Mon Jul 29 10:35:39 2002
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Mon, 29 Jul 2002 10:35:39 +0200
Subject: [R] Is there a function for finding local extrema.
In-Reply-To: <3D415284.8090209@molgen.mpg.de>
Message-ID: <3D451A7B.15647.7528DA@localhost>



On 26 Jul 2002 at 15:45, Witold Eryk Wolski wrote:

> I have a vector with about 100.000 values representing a quite regular
> function (sinusoid like). I would like to find all local maxima of
> this function (should be about 4000). Is there a native routine for R?
> Thanks in advance Eryk. 

function (series, span = 3) 
{
    z <- embed(series, span)
    s <- span%/%2
    v <- max.col(z) == 1 + s
    result <- c(rep(FALSE, s), v)
    result <- result[1:(length(result) - s)]
    result
}

This function based on prof.Ripley's suggestion some time ago 
gives you logical vector identifying positions of peaks in time 
series (similar result like peaks in S+). It identifies as a peak a 
local maxima from n neighbour points where n is a span number.


> 
> 
> -- 
>  _|_  \|/  \|/  Eryk Witold Wolski         tel  :0049-(0)30-8413-1543
>  w w ?v?  'v? \'v'/ MPI Moleculare Genetik     fax 
>  :0049-(0)30-8413-1139 | |
> /| |\/| |\ | |  Mass Spectrometry Group    http://www.molgen.mpg.de 
> /.^.\ 
>  m m  m m  m m  mail :wolski at molen.mpg.de                            
>  /|\
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.- r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help",
> or "[un]subscribe" (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._

Petr Pikal
petr.pikal at precheza.cz
p.pik at volny.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Mon Jul 29 10:54:04 2002
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Mon, 29 Jul 2002 10:54:04 +0200
Subject: [R] comparison between R and gnuplot
Message-ID: <OF3DDEED98.21E716C5-ONC1256C05.0030A3D6@eurotel.cz>


Hi,
there is an article on Root server www.root.cz comparing graphing
capabilities of R and gnuplot,
but it is in Czech language only.
In general, R is appreciated by author for its excellent graphing
capabilities.
Jan

- - - Original message: - - -
From: owner-r-help at stat.math.ethz.ch
Send: 29.7.2002 10:47:59
To: r-help <r-help at stat.math.ethz.ch>
Subject: [R] comparison between R and gnuplot

Did anyone have a chance to compare the plotting skills of gnuplot with
the plotting skills of R?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laura at bayesian-bay.freeserve.co.uk  Mon Jul 29 11:04:20 2002
From: laura at bayesian-bay.freeserve.co.uk (laura@bayesian-bay.freeserve.co.uk)
Date: Mon, 29 Jul 2002 9:04:20 +0000
Subject: [R] creating an index vector within a 'for' loop
Message-ID: <20020729090420.GURE26921.fep04-svc.ttyl.com@localhost>

Dear list

I have what is probably a very simple question that I can't seem to solve. I basically want to create a vector at the end of a 'for' loop that will store the output for each person and which I can recall after the loop has run. This will require some sort of indexing.

X and Y are matrices defined earlier for each person (within the for loop but I'm not writing it here to cut irrelevant information)

for (i in 1:10) {
XY[i]<-X%*%Y
}

Could someone tell me how I can create the matrix that will contain the output for each of the 10 people?

Many thanks in advance
Laura


_______________________________________________________________________




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramasamy at stats.ox.ac.uk  Mon Jul 29 11:49:25 2002
From: ramasamy at stats.ox.ac.uk (Adaikalavan Ramasamy)
Date: Mon, 29 Jul 2002 10:49:25 +0100
Subject: [R] creating an index vector within a 'for' loop
References: <20020729090420.GURE26921.fep04-svc.ttyl.com@localhost>
Message-ID: <005101c236e5$398da4f0$a81401a3@stats.ox.ac.uk>

I am assuming your outputs are not scalar. You might want to use list()
function. Try :

xy.list <- list(NULL)   # initialise an list with null attributes

 for (i in 1:10) {
   xy.list[[i]] <- X%*%Y   }

Note the double square bracket. So xy.list[[8]] should extract the X%*%Y
values for the 8th person.
Hope this helps.

----- Original Message -----
From: <laura at bayesian-bay.freeserve.co.uk>
To: <r-help at stat.math.ethz.ch>
Sent: Monday, July 29, 2002 10:04 AM
Subject: [R] creating an index vector within a 'for' loop


> Dear list
>
> I have what is probably a very simple question that I can't seem to solve.
I basically want to create a vector at the end of a 'for' loop that will
store the output for each person and which I can recall after the loop has
run. This will require some sort of indexing.
>
> X and Y are matrices defined earlier for each person (within the for loop
but I'm not writing it here to cut irrelevant information)
>
> for (i in 1:10) {
> XY[i]<-X%*%Y
> }
>
> Could someone tell me how I can create the matrix that will contain the
output for each of the 10 people?
>
> Many thanks in advance
> Laura
>
>
> _______________________________________________________________________
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dvumani at hotmail.com  Mon Jul 29 13:09:31 2002
From: dvumani at hotmail.com (Vumani Dlamini)
Date: Mon, 29 Jul 2002 11:09:31 +0000
Subject: [R] multinomial probit
Message-ID: <F57AD2rsWmjVtCoFIg0000090c2@hotmail.com>

Is there any library for fitting multinomial probit using either likelihood 
or the "method of simulated moments" or both.

I presume it would be possible to write a family function in VGAM for the 
multinomial probit, but was hoping that someone has done it already.

Thanking you as always.


Vumani Dlamini
CSO-Swaziland


_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbonk at host.sk  Mon Jul 29 13:19:57 2002
From: rbonk at host.sk (Rado Bonk)
Date: Mon, 29 Jul 2002 13:19:57 +0200
Subject: [R] comparison between R and gnuplot
In-Reply-To: <Pine.LNX.4.31.0207290856010.1399-100000@gannet.stats>
References: <3D44EF97.FA21D470@lbl.gov> <Pine.LNX.4.31.0207290856010.1399-100000@gannet.stats>
Message-ID: <20020729131957.A16839@creon.profinet.sk>

Hi,

Here is the comparison of various statistical packages:
http://www.sciviews.org/other/benchmark.htm

Regards,

    -Rado

-- 
Radoslav Bonk M.S.
Dept. of Physical Geography and Geoecology
Faculty of Natural Sciences, Comenius University
Mlynska Dolina 842 15, Bratislava
tel: 00421 (0)2 602 96 250
e-mail:rbonk at host.sk http://rbonk.host.sk
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From h.muller at rad.umcn.nl  Mon Jul 29 15:38:40 2002
From: h.muller at rad.umcn.nl (Hans Muller)
Date: Mon, 29 Jul 2002 15:38:40 +0200
Subject: [R] density estimation on 2-D bounded domain
Message-ID: <3D454560.598C6779@rad.umcn.nl>

Dear R experts,

density estimation on a 2 dimensional bounded domain
---------------------------------------------------------------------
I am currently trying to estimate the probability
density (PD) of  cancers within the breast using
the sm library with the routine

sm.density

Of course a practical PD must be limited by the curve of the breast
outline.
I don't have a clue after perusing R documentation.

!! Is there a way to calculate with R statistics
!! (with sm.density, or otherwise)
!!  such a density with an imposed boundary ??

Thanks in advance for any hint,

hans muller


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sholl at gmx.net  Mon Jul 29 15:50:02 2002
From: sholl at gmx.net (Stephan Holl)
Date: Mon, 29 Jul 2002 15:50:02 +0200
Subject: [R] Database-conversion
Message-ID: <20020729155002.31d5b493.sholl@gmx.net>

Dear R-Users,
I store my data in an Postgres-table.
I can connect with Rdbi.PgSQL, that is no the problem.
The problem is the NA-Values. No-data-values are coded as -9999 in the
table.
But when I extrct them with any SELECT-statement, the -9999-values are
treated as normal vectors.
How can I tell R not to fetch the datasets containig -9999-values?

thanks for your help

stephan


-- 
Linux: the operating system with a CLUE...
         Command Line User Environment.
--------------------------------------
Stephan Holl
GnuPG Key-ID: 11946A09
ICQ# 117277975 
--------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020729/38c7605f/attachment.bin

From Xavier.Abulker at fimat.com  Mon Jul 29 16:58:30 2002
From: Xavier.Abulker at fimat.com (Xavier.Abulker@fimat.com)
Date: Mon, 29 Jul 2002 16:58:30 +0200
Subject: [R] forecasting correlation with Garch
Message-ID: <OF60550E9B.4FC16DC0-ONC1256C05.00519318@fimat-france.fr>

Hello R group,
I'm using the tseries package to forecast variance and I would like to do
the same with correlation.
I can't find any way to do that with the function garch().

for example,
I have a matrix of time series

     Date      CACIndex SPXIndex DAXIndex NKYIndex
1        05/01/1998  3072.84   977.07  4384.81  14896.1
2        06/01/1998  3037.73   966.58  4352.63 14896.40
3        07/01/1998  3006.73   964.00  4391.54 15028.17
4        08/01/1998  2954.94   956.05  4347.23 15019.18
5        09/01/1998  2919.81   927.69  4236.94 14995.10....

and I want to predict the correlation matrix,
how can I do that?
Thanks for your help

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vasishth at coli.uni-sb.de  Mon Jul 29 17:01:05 2002
From: vasishth at coli.uni-sb.de (Shravan Vasishth)
Date: Mon, 29 Jul 2002 17:01:05 +0200 (MEST)
Subject: [R] Barplot coloring question 
In-Reply-To: <001001c234fd$4e786b00$0201a8c0@MARC>
Message-ID: <Pine.GSO.4.10.10207291640390.13318-100000@gnome.at.coli.uni-sb.de>

Hi Marc,

Thanks for that very helpful explanation about barplot's innards.  Your
suggestion works perfectly for NR = 1, so that problem is resolved. Now on
to NR > 1. I am trying the following. I am trying to define a new
function, mybarplot, in which the assumption is that the colors are
presented as a matrix, so:

v <- c("red","yellow","green")

colormatrix <- cbind(v,v,v,v,v,v)

which gives:

> colormatrix
     v        v        v        v        v        v
[1,] "red"    "red"    "red"    "red"    "red"    "red"
[2,] "yellow" "yellow" "yellow" "yellow" "yellow" "yellow"
[3,] "green"  "green"  "green"  "green"  "green"  "green"

Now, the crucial change to the barplot code is that I add another
for-loop:

  if (beside)
            xyrect(0, w.l, c(height), w.r, horizontal = horiz,
                col = col)
        else {                                 
            for (i in 1:NC) {
                     for (j in 1:NR) { # new loop added
                       col = col[,i]
                       xyrect(height[1:NR, i], w.l[i], height[-1, i],
                            w.r[i], horizontal = horiz, col = col[j])
                     }
            }
        }

The reasoning here is that if beside = FALSE, and I have a data
structure data3 like this:

   A  A  B  B  C  C
1  5 10 15 20 70 90
2 20 15 24 56 34 70
3 40 54 23 67 12 78

then, for each column of data3, cycle through the colors "red", "yellow",
and "green". This means that for each column in data3, I successively do
the following for the j (= 3) rows of data3: get the color-vector
corresponding to the current column from data3 (I want to enforce this
correspondence for now so that I can have alternating triplets of colors
if I want). That is, I get the three colors in a vector (col = col[,i]),
and then go through these colors in turn, i.e., get the jth color each
time (this is the intended purpose of the inner for loop).

So, the call to mybarplot would be:

mybarplot(data3,   
        beside=FALSE,  
        col= colormatrix,
        width = c(1,.55),
        space = c(2.75,.25),  
        axes = F)        

But this doesn't work; I get the message:

"Error in col[, i] : incorrect number of dimensions" 

If you can easily see what's wrong here in my code, please do tell.
Meanwhile I will keep trying to figure out what I'm missing. 

A propos, how do I find out how exactly "xyrect" is defined?

Many thanks again for spending so much time on this. I'm learning a lot...

On Fri, 26 Jul 2002, Marc Schwartz wrote:

> Date: Fri, 26 Jul 2002 18:36:45 -0500
> From: Marc Schwartz <mschwartz at medanalytics.com>
> To: 'Shravan Vasishth' <vasishth at CoLi.Uni-SB.DE>, r-help at stat.math.ethz.ch
> Subject: RE: [R] Barplot coloring question 
> 
> > I have snipped the original message text to conserve space, since my
> reply is long.
> 
> The source of the problem that you are having in trying to get the
> colors to cycle in the case where you only have one row in your matrix
> (data2), is in the way that the rectangles are drawn in barplot(). The
> way it is coded, it precludes cycling the colors when beside = FALSE and
> there is only one vector of height values.


<snip>

> The code snippet from barplot.default() calling (not defining) xyrect()
> follows:
> 
> if (beside)
>    xyrect(0, w.l, c(height), w.r, horizontal=horiz, col = col)
> else {
>     for (i in 1:NC) {
>         xyrect(height[1:NR, i], w.l[i], height[-1, i], w.r[i],
> horizontal=horiz, col = col)
>     }
> }
> 
> 
> When beside = TRUE, each of the arguments is passed as a vector in the
> first call to xyrect(), thus normal R cycling occurs, including the
> colors.
> 
> However, when beside = FALSE, note that the for loop passes arguments by
> explicit indexing in the second call to xyrect().  The loop repeats for
> each value in NC, which is the number of columns in the matrix.
> 
> Note that "col" is not indexed (ie. col[i] ) in the looped call, thus
> only the first value for color is passed when NR = 1 (one vector of
> height values) and no cycling through the color vector occurs.  
> 
> When NR > 1, cycling within the xyrect() call takes place and the color
> vector is cycled to allow for the multi-color segments in a stacked bar
> plot.
> 
> Hence, you are stuck in this particular case, unless you want to modify
> barplot().
> 
> By the way, if "col" was indexed as col[i] in the code, it would address
> your problem, but it would now preclude color cycling in stacked bars as
> "i" would increment with each matrix column and not within each bar
> segment.
> 
> My guess is that the author of barplot allowed for color cycling in
> stacked and grouped bars, but not in the case of a single set of
> non-stacked bars.
> 
> You could feasibly modify the code for the special case when NR = 1,
> such as you have in data2 to enable each bar to be a different color or
> pairs of colors as specified by the color vector. You would have to set
> up the code to properly configure the color vector or pass it explicitly
> in barplot.  For data2, the explicit argument could be something like:
> 
>  "col = rep(c("orange", "yellow"), 3)" 
> 
> which would create a vector of:
> 
> [1] "orange" "yellow" "orange" "yellow" "orange" "yellow" 
> 
> Not sure if that is what you wanted to hear, but I think that may be
> your only choice, unless others reading this have other ideas about how
> to approach the issue.
> 
> The other alternative, would be as I had suggested earlier, which is to
> use beside = TRUE for the special case where your number of rows = 1,
> with the space arguments in a standard configuration and the data set up
> with multiple rows per group and only one column per group. In the cases
> where the number of rows > 1, then take the "beside = FALSE" approach.
> 
> I think you have it right for when the number of rows in your data is >1
> using the reversed space argument values.  It seems to yield what you
> are trying to achieve, which is paired groupings of grouped bars.
> 
> Hope that provides some direction. If I have missed anything else, let
> me know.
> 
> Marc
> 
> 
> 

-- 
Dr. Shravan Vasishth                           Phone: +49 (681) 302 4504    
Computational Linguistics, Universit?t des Saarlandes, Postfach 15 11 50
D-66041 Saarbr?cken, Germany         http://www.coli.uni-sb.de/~vasishth 
                                 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Mon Jul 29 17:21:25 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Mon, 29 Jul 2002 10:21:25 -0500
Subject: [R] forecasting correlation with Garch
Message-ID: <E17ZCKr-0001XY-00@sonny.eddelbuettel.com>



> Hello R group,
> I'm using the tseries package to forecast variance and I would like to do
> the same with correlation.
[...]
> and I want to predict the correlation matrix,
> how can I do that?

You cannot. A (standard) Garch is univariate, correlation requires a 
multivariate model. There is a cottage industry of papers on multivariate
Garch out there, but the problem is hard (in both a statistical and 
numerical sense).

Tell your employer to buy a commercial risk management package. The
better ones include something like this.

Dirk
 
-- 
According to the latest figures, 43% of all signatures are totally worthless.   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Jul 29 17:53:16 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 29 Jul 2002 17:53:16 +0200
Subject: [R] is there a way of getting a sub-agnes.object from a big tree?
In-Reply-To: <3D41DA5E.FD175A51@gene.com>
References: <3D41DA5E.FD175A51@gene.com>
Message-ID: <15685.25836.160766.347296@gargle.gargle.HOWL>

>>>>> "Jean" == Zhijin (Jean) Wu <zwu at gene.COM> writes:

    Jean> Hello masters For example if I see two big branches of
    Jean> the agnes tree, I can use prune.clust
    Jean> (original.tree,k=2) or "cutree" to cut it into 2. For
    Jean> each subset of data if I use agnes again it will look
    Jean> the same as a branch of the original tree. But is
    Jean> there an easier way to retrieve a "sub agnes.object"
    Jean> since the original tree was grown agglomeratively?

One way is to use  dendrograms :

  dt <- as.dendrogram(original.tree)
  mcut <- cut(dt, h = .....)

and then mcut is a list containing the sub-dendrograms.
Use
	library(mva)
	help(as.dendrogram)
to see more, including an example.

Note that R-devel (to be 1.6 in fall) contains a bit better code
& functionality for dendrograms.

    Jean> Thanks a bunch!
your welcome.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Mon Jul 29 21:31:22 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Tue, 30 Jul 2002 07:31:22 +1200
Subject: [R] Database-conversion
In-Reply-To: <20020729155002.31d5b493.sholl@gmx.net>; from sholl@gmx.net on Mon, Jul 29, 2002 at 03:50:02PM +0200
References: <20020729155002.31d5b493.sholl@gmx.net>
Message-ID: <20020730073122.A1464@camille.indigoindustrial.co.nz>

On Mon, Jul 29, 2002 at 03:50:02PM +0200, Stephan Holl wrote:
> The problem is the NA-Values. No-data-values are coded as -9999 in the
> table.
> But when I extrct them with any SELECT-statement, the -9999-values are
> treated as normal vectors.
> How can I tell R not to fetch the datasets containig -9999-values?

Two ways:
1) If you *do* want to see how many NA cases you have (this can
also be interesting sometimes), use R's usual indexing

...{get data with your select, store in a vector named foo} ...

foo[foo==-9999] <- NA

2) If you aren't interested in which cases were NA values, do
it from the SQL SELECT statement:

SELECT foo FROM bar WHERE foo <> -9999

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sholl at gmx.net  Mon Jul 29 22:01:03 2002
From: sholl at gmx.net (Stephan Holl)
Date: Mon, 29 Jul 2002 22:01:03 +0200
Subject: [R] mode-calculation of a multimodal distribution
Message-ID: <20020729220103.327b6751.sholl@gmx.net>

Dear R-List,

I am looking for a function which calculates the mode of a distribution.

Are there any functions around or do I have co write my own?

Thank you

Stephan 

-- 
Linux: the operating system with a CLUE...
         Command Line User Environment.
--------------------------------------
Stephan Holl
GnuPG Key-ID: 11946A09
ICQ# 117277975 
--------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020729/666699d5/attachment.bin

From mschwartz at medanalytics.com  Mon Jul 29 22:17:30 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Mon, 29 Jul 2002 15:17:30 -0500
Subject: [R] Barplot coloring question 
In-Reply-To: <Pine.GSO.4.10.10207291640390.13318-100000@gnome.at.coli.uni-sb.de>
Message-ID: <003a01c2373c$f7d28690$0201a8c0@MARC>

> -----Original Message-----
> Hi Marc,
> 
> Thanks for that very helpful explanation about barplot's innards.
Your
> suggestion works perfectly for NR = 1, so that problem is resolved. 

Glad to be of help.

> Now on
> to NR > 1. I am trying the following. I am trying to define a new
> function, mybarplot, in which the assumption is that the colors are
> presented as a matrix, so:
> 
> v <- c("red","yellow","green")
> 
> colormatrix <- cbind(v,v,v,v,v,v)

Here you might want to think about using something like:

colormatrix <- matrix(c(rep(v, 6)), ncol = 6)

This will give you more flexibility structuring this in a function that
you can create by passing a value in place of the "6" to allow for
varying numbers of columns, which could be derived from the dimensions
of your data object and for a varying number of colors stored in a
vector "v" that you pass to the function.

However, I am not yet sure that you need a 2 dimensional matrix for what
you are doing. If you are just using the same 3 colors for each cycle,
just use a vector of the three colors. They don't need to be repeated if
you are calling them inside a loop. This is what the original barplot()
is doing with the call to xyrect(), where the colors cycle in the bar
segments.

If you actually want each group of bars to have a different set of three
colors, then you would need a matrix, with a vector for each group.
 
> which gives:
> 
> > colormatrix
>      v        v        v        v        v        v
> [1,] "red"    "red"    "red"    "red"    "red"    "red"
> [2,] "yellow" "yellow" "yellow" "yellow" "yellow" "yellow"
> [3,] "green"  "green"  "green"  "green"  "green"  "green"
> 
> Now, the crucial change to the barplot code is that I add another
> for-loop:
> 
>   if (beside)
>             xyrect(0, w.l, c(height), w.r, horizontal = horiz,
>                 col = col)
>         else {
>             for (i in 1:NC) {
>                      for (j in 1:NR) { # new loop added
>                        col = col[,i]
>                        xyrect(height[1:NR, i], w.l[i], height[-1, i],
>                             w.r[i], horizontal = horiz, col = col[j])
>                      }
>             }
>         }
> 
> The reasoning here is that if beside = FALSE, and I have a data
> structure data3 like this:
> 
>    A  A  B  B  C  C
> 1  5 10 15 20 70 90
> 2 20 15 24 56 34 70
> 3 40 54 23 67 12 78
> 
> then, for each column of data3, cycle through the colors "red",
"yellow",
> and "green". This means that for each column in data3, I successively
do
> the following for the j (= 3) rows of data3: get the color-vector
> corresponding to the current column from data3 (I want to enforce this
> correspondence for now so that I can have alternating triplets of
colors
> if I want). That is, I get the three colors in a vector (col =
col[,i]),
> and then go through these colors in turn, i.e., get the jth color each
> time (this is the intended purpose of the inner for loop).
> 
> So, the call to mybarplot would be:
> 
> mybarplot(data3,
>         beside=FALSE,
>         col= colormatrix,
>         width = c(1,.55),
>         space = c(2.75,.25),
>         axes = F)
> 
> But this doesn't work; I get the message:
> 
> "Error in col[, i] : incorrect number of dimensions"
> 
> If you can easily see what's wrong here in my code, please do tell.
> Meanwhile I will keep trying to figure out what I'm missing.

The problem that you are having which results in the error message is
that after the first time through the inner loop, "col" is no longer a
matrix, it is a vector as you are "stepping" on it when you re-assign it
to col[,i] the first time. You lose the original value of the color
matrix.

Thus, the second time through the loop, you get the error message, since
you are trying to index "col" as a matrix when it is now one dimensional
and not two. 

Change the code to:

mycol = col[,i]
xyrect(height[1:NR, i], w.l[i], height[-1, i], w.r[i], horizontal =
horiz, col = mycol[j])

Once you correct this, you will note that all of your bars end up green.
Now you can see the result of a second problem, which is that you are
passing by explicit index, each of the three colors in your vector
during the "j" loop.  For each iteration through the "j" loop, xyrect()
is drawing all of the bar segments for all 6 bars.  The way you have it
now, three times.  Once with red, once with yellow and then finally with
green as "j" increments, so they all end up green. 

Now make the final change to the code, removing the subscript for mycol:

mycol = col[,i]
xyrect(height[1:NR, i], w.l[i], height[-1, i], w.r[i], horizontal =
horiz, col = mycol)

Again, keep in mind that all of the bar segments for all of the bars are
being drawn inside the *single* call to xyrect(), thus you need to pass
the full vector of three colors to xyrect() at once if you want each
segment to be a different color.

The question this whole process now raises is why the inner loop?
 
One other error avoiding thought, is that when doing an assignment
outside of a function argument, use the "<-" instead of "=".  It avoids
many problems which have been discussed here of late.  If you get into
the habit of using "=", you may accidentally use it when performing an
equality comparison using "==".  Thus, as the result of a typo, you
perform an assignment when you really want to do a comparison (or vice
versa).

I am still a little confused as to how you want the colors structured.
That is do you want each bar to contain the three colors, one for each
segment, or do you want each of the three pairs of bars to be colored
differently?

If the former, which I think is correct, then the original barplot()
code will work fine.

For example, use:

barplot(data3, beside = FALSE, col = c("red", "yellow", "green"), width
= c(1, .55), space = c(2.75, .25), axes = FALSE)

Let me know on that.

> A propos, how do I find out how exactly "xyrect" is defined?

If you have downloaded the source code from CRAN, look for the file
barplot.r in the archive file.  You can then review the full code for
the function.

If you have not, an alternative would be to type in:

"barplot.default"

without the quotes at the prompt. That will display the R code for the
function.
 
> Many thanks again for spending so much time on this. I'm learning a
lot...

You are welcome.  HTH.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Mon Jul 29 22:17:39 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Tue, 30 Jul 2002 08:17:39 +1200
Subject: [R] density estimation on 2-D bounded domain
In-Reply-To: <3D454560.598C6779@rad.umcn.nl>; from h.muller@rad.umcn.nl on Mon, Jul 29, 2002 at 03:38:40PM +0200
References: <3D454560.598C6779@rad.umcn.nl>
Message-ID: <20020730081739.B1464@camille.indigoindustrial.co.nz>

On Mon, Jul 29, 2002 at 03:38:40PM +0200, Hans Muller wrote:
> density estimation on a 2 dimensional bounded domain
> ---------------------------------------------------------------------
> I am currently trying to estimate the probability
> density (PD) of  cancers within the breast using
...
> Of course a practical PD must be limited by the curve of the breast
> outline.
> I don't have a clue after perusing R documentation.
> 
> !! Is there a way to calculate with R statistics
> !! (with sm.density, or otherwise)
> !!  such a density with an imposed boundary ??

Bowman and Azalini [1], who wrote the sm package  suggest 
a two techniques: 

1) variable trasformation, from a bounded space to unbounded
(e.g. take logarithms of positive-only values) and,

2) a modified kernel, which has the effect of down-weighting
tails.  The function nnbr() in the sm library is used for this
by a nearest-neighbors method.

They cite Wand and Jones [2] for a more detailed
examination of each, but I haven't got a copy handy,
so you'll have to take their word for it.

Technique (1) will likely have to have an approximate
boundary (hemisphere, circle, parabola or similar - not 
familiar with mamography data format). 

(2) will also be approximate, in that the emperical density can 
still potentially cross boundaries.  The tails are reduced, but
not guaranteed to be eliminated at boundaries.

Cheers

Jason

[1] 
@book{
BowmanAzzalini1997,
author = "Adrian W. Bowman and Adelchi Azzalini",
title = "Applied Smoothing Techniques for Data Analysis",
publisher = "Oxford University Press",
year = 1997,
address = Oxford,
}

[2] 
@book{
WandJones1995,
author = "M. P. Wand and M. C. Jones",
title = "Kernel Smoothing",
publisher = "Chapman and Hall",
year = 1995,
address = London,
}
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Mon Jul 29 22:40:35 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Mon, 29 Jul 2002 15:40:35 -0500
Subject: [R] Barplot coloring question 
Message-ID: <003d01c23740$321692d0$0201a8c0@MARC>

> Original Message snipped
>
> Again, keep in mind that all of the bar segments for all of the bars
are being
> drawn inside the *single* call to xyrect(), thus you need to pass the
full vector
> of three colors to xyrect() at once if you want each segment to be a
different
> color.

A quick clarification, in that the single xyrect() call is drawing the
segments for each bar individually and it is the "i" loop that cycles
through each bar.

Apologies. I mis-typed the process, though my head knew what I meant...
;-)

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Mon Jul 29 23:52:51 2002
From: jfox at mcmaster.ca (John Fox)
Date: Mon, 29 Jul 2002 17:52:51 -0400
Subject: [R] Re: subscript error in sem [was No Subject]
In-Reply-To: <Pine.LNX.4.43.0207261133130.10669@hymn10.u.washington.edu>
Message-ID: <5.1.0.14.2.20020729174953.01d84148@mcmail.cis.mcmaster.ca>

Dear Adam,

I suspect that there's an error in the formulation of the model. If you 
send me the input, including the covariance matrix and, if possible, a path 
diagram for the model you want to fit, I'll take a look.

Sorry for the slow response -- I'm in and out of town for the next several 
weeks and was away when your email arrived.

John

At 11:33 AM 7/26/2002 -0700, Adam Simon wrote:
>Hi, I am trying to run a structural equation model in the sem package and i
>have debug set to true, but i get an error that says "subscript out of
>bounds" with no further explanation.  Is there anymore documentation
>available for this or is there any generic reason to what this might refer ?
>
>Thanks, Adam
>
>
>
>_________________________________________________________
>____________
>Adam F. Simon
>Department of Political Science                44 Gowen Hall
>University of Washington                       Office: (206) 616-3584
>Seattle, WA  98195-3530                        Fax:    (206) 685-2146
>
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Shahid.Ullah at BusEco.Monash.edu.au  Tue Jul 30 01:50:26 2002
From: Shahid.Ullah at BusEco.Monash.edu.au (Shahid Ullah)
Date: Tue, 30 Jul 2002 09:50:26 +1000
Subject: [R] Choosing knots of B-splines
Message-ID: <3D45D4C2.7AC97B67@BusEco.Monash.edu.au>

Dear Sir,

I am taking about the choosing knots of B-splines. Can you tel me the R
docomentation for choosing the knots of B-splines automatically? It is
possible to choose the knots by eye, but which is time consuming and a
little arbitrary.

Thanks for your reply.

Shahid
PhD Student

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.connolly at hortresearch.co.nz  Tue Jul 30 01:57:36 2002
From: p.connolly at hortresearch.co.nz (Patrick Connolly)
Date: Tue, 30 Jul 2002 11:57:36 +1200
Subject: [R] How do we omit the coastline using map?
Message-ID: <20020729235736.GA25553@hortresearch.co.nz>

I've been able to do most things I'd like to using the map package,
but I can't figure out how to fill a region without drawing a black
outline.  I can draw the outline in a specified colour, but as soon as
I set fill to TRUE, I get a black outline in addition.

My map has a lot of activity on the coastline so I don't want a black
line obscuring what I do there.  A pale colour to indicate land mass
is what I want to do.

best

-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world`s largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tchur at optushome.com.au  Tue Jul 30 02:08:45 2002
From: tchur at optushome.com.au (Tim Churches)
Date: Tue, 30 Jul 2002 10:08:45 +1000
Subject: [R] Comparison of two time series using R
Message-ID: <3D45D90D.8000508@optushome.com.au>

We have two time series: the first is a series of weekly counts of 
isolates of RSV (respiratory syncytial virus) by pathology laboratories, 
and the second is a series of weekly counts of cases of bronchiolitis in 
young children presenting to hospital emergency departments. 
Bronchiolitis in young children is usually caused by RSV infection, and 
simple visual inspection reveals a very close correspondence between the 
two series, both of which show strong seasonality and also corresponding 
variation from year to year.

My question is how to approach the analysis of these data using R. Here 
is what we have done so far (guided by Diggle and MASS):

1) Create two time-series (ts) objects from the data, making sure the 
corresponding observations in the two ts are in fact contemporaneous.
2) Decompose each ts into seasonal, trend and remainder components using 
stl() and decompose().
3) Examine the cross-correlogram for the raw ts and the decomposed 
components using ccf() - this revealed that bronchiolitis cases were 
maximally cross-correlated with RSV isolates at a 3 week lag.
4) Examine periodograms of the raw ts and the pre-whitened data (the 
remainders) - most of the energy is in the week-to-week variation.
5) Calculate the cross-correlation between the remainders of the two 
series using a 3 week lag - it is about 0.55.

OK as far as it goes, but these results only obliquely shed light on the 
question we want to answer: "Can lab RSV isolate counts be used to 
predict the hospital bronchiolitis case-load a few weeks hence, and if 
so, how reliably?"

Stephen Morrell [Morrell S. Times Series (Box-Jenkins) Analysis. In: 
Kerr C, Taylor R, Heard G. /Handbook of Public Health Methods, /McGraw 
Hill, Sydney, 1998.] suggests the following approach (direct quote 
observing fair-use copyright provisions follows):

"In the first stage of analysis, the outcome and predictor series are 
pre-analysed tp identify the form of the transfer function. In the 
second stage the transfer function is identified and its residuals 
computed. Finally, an ARIMA model is fitted to the residuals to assess 
the adequacy of teh overall model. A ratio of U- and S-polynomials, 
U(B)/S(B), called impulse weights, is used to specify the effect of a 
unit change in the predictor series on teh outcome series. These weights 
are initally estimated by a cross-correlation function (CCF), which 
assess the relationship between the de=trended predictor series on the 
de=trended outcome series (with autocorrelation influences removed, 
called prewhitening)."

Is this a reasonable approach to our question? Hints on how to proceed 
are most welcome, and/or references to papers or texts which might 
render us a bit less clueless wrt this problem.

Regards,

Tim C



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.connolly at hortresearch.co.nz  Tue Jul 30 05:46:58 2002
From: p.connolly at hortresearch.co.nz (Patrick Connolly)
Date: Tue, 30 Jul 2002 15:46:58 +1200
Subject: [R] How do we omit the coastline using map?
In-Reply-To: <20020729235736.GA25553@hortresearch.co.nz>
References: <20020729235736.GA25553@hortresearch.co.nz>
Message-ID: <20020730034658.GA26512@hortresearch.co.nz>

On Tue, 30-Jul-2002 at 11:57AM +1200, Patrick Connolly wrote:

|> I've been able to do most things I'd like to using the map package,
|> but I can't figure out how to fill a region without drawing a black
|> outline.  I can draw the outline in a specified colour, but as soon as
|> I set fill to TRUE, I get a black outline in addition.

I've figure out a way to do it.  Before plotting the map, change the
par()$fg to the line colour I want to use for the block, and change it
back immediately after the map function is used.  Seems to be because
of how polygon works.

Not very elegant, but it's simple enough to do.



-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world`s largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.Denham at nrm.qld.gov.au  Tue Jul 30 06:23:45 2002
From: Robert.Denham at nrm.qld.gov.au (Denham Robert)
Date: Tue, 30 Jul 2002 14:23:45 +1000
Subject: [R] How do we omit the coastline using map?
Message-ID: <7BDA5DE121FF454A88C2FFFAD392718C15AACB@INDMAIL.lands.resnet.qg>

Patrick,
        if you look at the code for map, you will see that it uses a
call to polygon if FILL=TRUE: ie

 if (fill) 
        polygon(coord, col = color, ...)
 else lines(coord, col = color, type = type, ...)

You can supply extra arguments to polygon when you call map, eg:

map("nz","North.Island",fill=T,col="Wheat",border=0)

see help(polygon) for info on setting borders.

Robert

-----Original Message-----
From: Patrick Connolly [mailto:p.connolly at hortresearch.co.nz]
Sent: Tuesday, 30 July 2002 9:58 AM
To: R-help
Subject: [R] How do we omit the coastline using map?


I've been able to do most things I'd like to using the map package,
but I can't figure out how to fill a region without drawing a black
outline.  I can draw the outline in a specified colour, but as soon as
I set fill to TRUE, I get a black outline in addition.

My map has a lot of activity on the coastline so I don't want a black
line obscuring what I do there.  A pale colour to indicate land mass
is what I want to do.

best

-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world`s largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._


************************************************************************
The information in this e-mail together with any attachments is
intended only for the person or entity to which it is addressed
and may contain confidential and/or privileged material.

Any form of review, disclosure, modification, distribution
and/or publication of this e-mail message is prohibited.  

If you have received this message in error, you are asked to
inform the sender as quickly as possible and delete this message
and any copies of this message from your computer and/or your
computer system network.  
************************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meili at stat.math.ethz.ch  Tue Jul 30 07:54:17 2002
From: meili at stat.math.ethz.ch (Ruth Meili)
Date: Tue, 30 Jul 2002 07:54:17 +0200
Subject: [R] Questions concerning survival analysis
Message-ID: <15686.10761.50696.249136@gargle.gargle.HOWL>

Good morning everyone (or maybe good evening)

Is there a counterpart to the s-plus function "probplot" (which
provides a qq-plot for "survreg"-objects)? Or do exist other
(rather simple) possibilities to check the assumptions of the
distribution?

I have another question to the author(s) of summary.survreg:
Why does summary(...,times=sort(x)) not give the same result as
summary(...,censored=TRUE) ? Example:

###
library(survival)

x <-   c(1,1,2,4,4,4,6,9)
status <- c(1,0,1,1,1,0,1,1) 

r.sf <- survfit(Surv(x, status)~1, type='kaplan-meier',conf.type="none")

summary(r.sf,times=sort(x))
summary(r.sf,censored=TRUE) # the censored data are not listed (?)
###

regards,
Ruth Meili

-- 
Ruth Meili <meili at stat.math.ethz.ch>
Seminar fuer Statistik, LEO D6
ETH (Federal Inst. Technology)	8092 Zurich	 SWITZERLAND
phone: x-41-1-632-4684		fax: x-41-1-632-1228
http://stat.ethz.ch/~meili/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vasishth at coli.uni-sb.de  Tue Jul 30 11:33:08 2002
From: vasishth at coli.uni-sb.de (Shravan Vasishth)
Date: Tue, 30 Jul 2002 11:33:08 +0200 (MEST)
Subject: [R] Barplot coloring question 
In-Reply-To: <003a01c2373c$f7d28690$0201a8c0@MARC>
Message-ID: <Pine.GSO.4.10.10207301100330.24523-100000@gnome.at.coli.uni-sb.de>

Hi all,

I summarize below the eventual solution I used following the discussion in
this thread, in case others are interested. This also answers Marc's
question below (why the inner loop?).

The problem:

I need to build two kinds of plots automatically; I need to keep things as
automated as possible, since a lot of plots will be generated in the
future and we just want to see the output quickly without having to fiddle
with the plots individually.

The first kind's initial data looks like this:  

> data2
  A  A  B  B  C  C
0 5 10 15 20 70 90

The second kind's data looks like this:

> data3
   A  A  B  B  C  C
1  5 10 15 20 70 90
2 20 15 24 56 34 70
3 40 54 23 67 12 78

For uniformity, we want to keep the format of the data identical in both
cases.

In both cases, I want the distance between the bars A-A, B-B, C-C, to be
closer to each other than the A-B, B-C distance, and I want to alternate
colors, so that the first A has color x and the second A has a different
color y. The x, y colors must alternate after that: the first B has x,
then the second B has y, etc.

However, in data3, I also want the three rows for a given column to appear
*within* a single bar, in three colors, say, c1, c2, c3, and the column
next to this column should have colors c4, c5, c6. So, now we want the
triplets <c1, c2, c3>, <c4,c5,c6> alternating for each successive bar. The
reason for this is that we want to display two related but different
percentages in the same graph, and we want to do this because then we can
quickly eyeball the graph and get maximum information from a single graph,
rather than having to pore over dozens of them and to compare bars
pairwise across different graphs (a sure way to lose your mind).

Solution: 

(for the reasons why this should be so, see Marc's previous responses)

For data2, barplot is rewritten as mybarplot1 (thanks to Marc) as follows:

 ...

 if (beside)
            xyrect(0, w.l, c(height), w.r, horizontal = horiz,
                col = col)
        else {
            for (i in 1:NC) {
                xyrect(height[1:NR, i], w.l[i], height[-1, i],
                  w.r[i], horizontal = horiz, col = col[i])
            }

 ...


For data3, barplot is rewritten as mybarplot2 (again, thanks to Marc) as
follows:

   ...

   if (beside)
            xyrect(0, w.l, c(height), w.r, horizontal = horiz,
                col = col)
        else {                                 
            for (i in 1:NC) {
                     for (j in 1:NR) {
                       mycol = col[,i]
                       xyrect(height[1:NR, i], w.l[i], height[-1, i],
                            w.r[i], horizontal = horiz, col = mycol)
                     }
            }

   ...


Now, one nice thing is that we can just use the above modification, i.e.,
mybarplot2, for both data2 and data3, we don't need mybarplot1 any more.
Not a real big deal, but now we can use the same R script for all our
data, irrespective of whether it comes in in data2 or data3 format. Just
might make things easier for other people who will one day have to
read and/or modify this and related code at our end here.

On Mon, 29 Jul 2002, Marc Schwartz wrote:

> The question this whole process now raises is why the inner loop?

Does the above explanation answer that question?

> I am still a little confused as to how you want the colors structured.
> That is do you want each bar to contain the three colors, one for each
> segment, or do you want each of the three pairs of bars to be colored
> differently?

I want them to alternate, for data3, as follows:

c3 c6    c3 c6
c2 c5    c2 c5
c1 c4    c1 c4   ...
A  A     B  B 

Marc, I want to thank you again for the enormous amount of time you put
into this, and for your extraordinary patience as you educated me on
these revisions to the code. It would have taken much, much longer to
figure all this out without your help.

-- 
Dr. Shravan Vasishth                           Phone: +49 (681) 302 4504    
Computational Linguistics, Universit?t des Saarlandes, Postfach 15 11 50
D-66041 Saarbr?cken, Germany         http://www.coli.uni-sb.de/~vasishth 
                                 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at agate.fmr.com  Tue Jul 30 11:55:17 2002
From: a296180 at agate.fmr.com (David Kane  <David Kane)
Date: Tue, 30 Jul 2002 05:55:17 -0400
Subject: [R] Workings of model.frame.default and [.
In-Reply-To: <5537101@toto.iv>
Message-ID: <15686.25221.643673.326644@gargle.gargle.HOWL>

Frank E Harrell Jr writes:
 
> Thanks again, and I'll put in one more plug for [.factor to be modified so
> that if a system option 'drop.unused.levels' is TRUE (i.e., NOT by default)
> drop=TRUE is assumed unless drop=FALSE is explicitly stated by the user.
> Then I can dispose of my local [.factor once and for all.
 
I'll second this notion. Although a wiser man than I would hesitate to comment
on the relationship between R-core and Professor Harrell, it would seem a nice
thing for R-core to do to "Welcome Aboard" Professor Harrell to the land of R,
given his many contributions (Hmisc, Design, et cetera) to the S language over
the years.

Of course, there is probably some deep design issue why this is hard to do or
some (obvious) statistical reason why one would not want R to provide this much
"rope" to unsophisticated users. If so, I would enjoy being educated about the
issues involved.

In my own small corner of the world, I would use such an option. One of the
biggest complaints that my colleagues have about dataframes is precisely this
behavior. It was also one of my own biggest confusions when starting with S+.

Just my 2 cents,

Dave Kane
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vasishth at coli.uni-sb.de  Tue Jul 30 12:15:27 2002
From: vasishth at coli.uni-sb.de (Shravan Vasishth)
Date: Tue, 30 Jul 2002 12:15:27 +0200 (MEST)
Subject: [R] Barplot coloring question
Message-ID: <Pine.GSO.4.10.10207301214120.6711-100000@gnome.at.coli.uni-sb.de>

I forgot to say in the summary below how mybarplot2 is called:

mybarplot2(data2,        # or data3
        beside=FALSE,  
        col= colormatrix,
        width = c(1,.55),
        space = c(2.75,.25),  
        axes = F)        

-- 
Dr. Shravan Vasishth                           Phone: +49 (681) 302 4504    
Computational Linguistics, Universit?t des Saarlandes, Postfach 15 11 50
D-66041 Saarbr?cken, Germany         http://www.coli.uni-sb.de/~vasishth 
                                 

---------- Forwarded message ----------
Date: Tue, 30 Jul 2002 11:33:08 +0200 (MEST)
From: Shravan Vasishth <vasishth at gnome.at.coli.uni-sb.de>
To: Marc Schwartz <mschwartz at medanalytics.com>
Cc: r-help at stat.math.ethz.ch
Subject: RE: [R] Barplot coloring question 

Hi all,

I summarize below the eventual solution I used following the discussion in
this thread, in case others are interested. This also answers Marc's
question below (why the inner loop?).

The problem:

I need to build two kinds of plots automatically; I need to keep things as
automated as possible, since a lot of plots will be generated in the
future and we just want to see the output quickly without having to fiddle
with the plots individually.

The first kind's initial data looks like this:  

> data2
  A  A  B  B  C  C
0 5 10 15 20 70 90

The second kind's data looks like this:

> data3
   A  A  B  B  C  C
1  5 10 15 20 70 90
2 20 15 24 56 34 70
3 40 54 23 67 12 78

For uniformity, we want to keep the format of the data identical in both
cases.

In both cases, I want the distance between the bars A-A, B-B, C-C, to be
closer to each other than the A-B, B-C distance, and I want to alternate
colors, so that the first A has color x and the second A has a different
color y. The x, y colors must alternate after that: the first B has x,
then the second B has y, etc.

However, in data3, I also want the three rows for a given column to appear
*within* a single bar, in three colors, say, c1, c2, c3, and the column
next to this column should have colors c4, c5, c6. So, now we want the
triplets <c1, c2, c3>, <c4,c5,c6> alternating for each successive bar. The
reason for this is that we want to display two related but different
percentages in the same graph, and we want to do this because then we can
quickly eyeball the graph and get maximum information from a single graph,
rather than having to pore over dozens of them and to compare bars
pairwise across different graphs (a sure way to lose your mind).

Solution: 

(for the reasons why this should be so, see Marc's previous responses)

For data2, barplot is rewritten as mybarplot1 (thanks to Marc) as follows:

 ...

 if (beside)
            xyrect(0, w.l, c(height), w.r, horizontal = horiz,
                col = col)
        else {
            for (i in 1:NC) {
                xyrect(height[1:NR, i], w.l[i], height[-1, i],
                  w.r[i], horizontal = horiz, col = col[i])
            }

 ...


For data3, barplot is rewritten as mybarplot2 (again, thanks to Marc) as
follows:

   ...

   if (beside)
            xyrect(0, w.l, c(height), w.r, horizontal = horiz,
                col = col)
        else {                                 
            for (i in 1:NC) {
                     for (j in 1:NR) {
                       mycol = col[,i]
                       xyrect(height[1:NR, i], w.l[i], height[-1, i],
                            w.r[i], horizontal = horiz, col = mycol)
                     }
            }

   ...


Now, one nice thing is that we can just use the above modification, i.e.,
mybarplot2, for both data2 and data3, we don't need mybarplot1 any more.
Not a real big deal, but now we can use the same R script for all our
data, irrespective of whether it comes in in data2 or data3 format. Just
might make things easier for other people who will one day have to
read and/or modify this and related code at our end here.

On Mon, 29 Jul 2002, Marc Schwartz wrote:

> The question this whole process now raises is why the inner loop?

Does the above explanation answer that question?

> I am still a little confused as to how you want the colors structured.
> That is do you want each bar to contain the three colors, one for each
> segment, or do you want each of the three pairs of bars to be colored
> differently?

I want them to alternate, for data3, as follows:

c3 c6    c3 c6
c2 c5    c2 c5
c1 c4    c1 c4   ...
A  A     B  B 

Marc, I want to thank you again for the enormous amount of time you put
into this, and for your extraordinary patience as you educated me on
these revisions to the code. It would have taken much, much longer to
figure all this out without your help.

-- 
Dr. Shravan Vasishth                           Phone: +49 (681) 302 4504    
Computational Linguistics, Universit?t des Saarlandes, Postfach 15 11 50
D-66041 Saarbr?cken, Germany         http://www.coli.uni-sb.de/~vasishth 
                                 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kgk at pharm.auth.gr  Tue Jul 30 12:21:14 2002
From: kgk at pharm.auth.gr (Kyriakos Kachrimanis)
Date: Tue, 30 Jul 2002 13:21:14 +0300
Subject: [R] Error running sammon() in multiv package
Message-ID: <002e01c237b2$d5ea3e80$5e05cf9b@pharm.auth.gr>

When I try to run the "sammon" function of the multiv package, I always get
this error message:

Error in as.vector(dist(a)) : couldn't find function "dist"

It happens even with example(sammon). I am running R 1.5.0 on Win98 and I
have still installed R 1.4.1 but it doesn't work on the old R version with
the older multiv package either. Is there a problem with the function or do
I have to install and load some other package also?
In which package is the "dist" function located?

Thank you in advance,
Kyriakos Kachrimanis

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 30 13:18:44 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 30 Jul 2002 12:18:44 +0100 (BST)
Subject: [R] Workings of model.frame.default and [.
In-Reply-To: <15686.25221.643673.326644@gargle.gargle.HOWL>
Message-ID: <Pine.GSO.4.44.0207301150440.23063-100000@auk.stats>

This is really a question of S language design.  A factor is an enumeration
type, and there are many good reasons why one does not change the baseset
of an enumeration type.  (Indeed a lot of errors have stemmed from a
failure to check that the enumeration set is used consistently.)

The view is that global options which allow departures from the existing
language specification are a very bad idea.  Not only would R-core need to
devise checks for all the base code under the all possible sub-languages,
but so would all the package contributors.  And users would get confused
as code became unreproducible.

As from 1.6.0, redefining base functions will have a much more limited
effect, being ignored when called from any function in base (and any other
function in a namespace).


On Tue, 30 Jul 2002, David Kane  <David Kane wrote:

> Frank E Harrell Jr writes:
>
> > Thanks again, and I'll put in one more plug for [.factor to be modified so
> > that if a system option 'drop.unused.levels' is TRUE (i.e., NOT by default)
> > drop=TRUE is assumed unless drop=FALSE is explicitly stated by the user.
> > Then I can dispose of my local [.factor once and for all.
>
> I'll second this notion. Although a wiser man than I would hesitate to comment
> on the relationship between R-core and Professor Harrell, it would seem a nice
> thing for R-core to do to "Welcome Aboard" Professor Harrell to the land of R,
> given his many contributions (Hmisc, Design, et cetera) to the S language over
> the years.
>
> Of course, there is probably some deep design issue why this is hard to do or
> some (obvious) statistical reason why one would not want R to provide this much
> "rope" to unsophisticated users. If so, I would enjoy being educated about the
> issues involved.

People hang themselves if provided with rope ....

> In my own small corner of the world, I would use such an option. One of the
> biggest complaints that my colleagues have about dataframes is precisely this
> behavior. It was also one of my own biggest confusions when starting with S+.
>
> Just my 2 cents,
>
> Dave Kane
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Tue Jul 30 13:37:32 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Tue, 30 Jul 2002 07:37:32 -0400
Subject: [R] Workings of model.frame.default and [.
In-Reply-To: <Pine.GSO.4.44.0207301150440.23063-100000@auk.stats>
References: <15686.25221.643673.326644@gargle.gargle.HOWL>
	<Pine.GSO.4.44.0207301150440.23063-100000@auk.stats>
Message-ID: <20020730073732.5976f3ca.fharrell@virginia.edu>

Thanks for your note Brian.  It does avoid the issue of whether what I reported is a bug in model.frame.default which needs fixing.  In my view it is.
 
I have to respectfully disagree that changing the baseset of an enumeration type is a bad idea.  To me it is the most natural approach for most of the analyses I do, i.e., I don't want "placeholders" for omitted categories in graphs or models.  And I will plead yet again for a global option to allow this.  As such an option would not be turned on by default for [.factor, it will not possibly hurt anyone who doesn't want to use it.  Even when the option is turned on, the number of checks that would have to be made in R-base is minimal (model.frame.default being the prime one, because model.frame.default oddly depends on levels not changing when the data frame is subsetted).

I think it's possible that the new operation in 1.6 will cause more problems than what I'm requesting.  The scoping rules of R currently and naturally allow users to override functions.  Still I would prefer not to override basic functions if an alternative (global option) exists.

Thanks for listening,

Frank


On Tue, 30 Jul 2002 12:18:44 +0100 (BST)
Prof Brian D Ripley <ripley at stats.ox.ac.uk> wrote:

> This is really a question of S language design.  A factor is an enumeration
> type, and there are many good reasons why one does not change the baseset
> of an enumeration type.  (Indeed a lot of errors have stemmed from a
> failure to check that the enumeration set is used consistently.)
> 
> The view is that global options which allow departures from the existing
> language specification are a very bad idea.  Not only would R-core need to
> devise checks for all the base code under the all possible sub-languages,
> but so would all the package contributors.  And users would get confused
> as code became unreproducible.
> 
> As from 1.6.0, redefining base functions will have a much more limited
> effect, being ignored when called from any function in base (and any other
> function in a namespace).
> 
> 
> On Tue, 30 Jul 2002, David Kane  <David Kane wrote:
> 
> > Frank E Harrell Jr writes:
> >
> > > Thanks again, and I'll put in one more plug for [.factor to be modified so
> > > that if a system option 'drop.unused.levels' is TRUE (i.e., NOT by default)
> > > drop=TRUE is assumed unless drop=FALSE is explicitly stated by the user.
> > > Then I can dispose of my local [.factor once and for all.
> >
> > I'll second this notion. Although a wiser man than I would hesitate to comment
> > on the relationship between R-core and Professor Harrell, it would seem a nice
> > thing for R-core to do to "Welcome Aboard" Professor Harrell to the land of R,
> > given his many contributions (Hmisc, Design, et cetera) to the S language over
> > the years.
> >
> > Of course, there is probably some deep design issue why this is hard to do or
> > some (obvious) statistical reason why one would not want R to provide this much
> > "rope" to unsophisticated users. If so, I would enjoy being educated about the
> > issues involved.
> 
> People hang themselves if provided with rope ....
> 
> > In my own small corner of the world, I would use such an option. One of the
> > biggest complaints that my colleagues have about dataframes is precisely this
> > behavior. It was also one of my own biggest confusions when starting with S+.
> >
> > Just my 2 cents,
> >
> > Dave Kane
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fzoellne at techfak.uni-bielefeld.de  Tue Jul 30 13:42:49 2002
From: fzoellne at techfak.uni-bielefeld.de (Frank Gerrit Zoellner)
Date: Tue, 30 Jul 2002 13:42:49 +0200
Subject: [R] Problem with legend
Message-ID: <20020730134249.A30188@hindemith.TechFak.Uni-Bielefeld.DE>

Hi!

I have a problem using the legend command.
I typed as follows:

 plot(foo bar...)
 legend(0.6,10, c("True Positiv", "False Positive", "False Negative","True Negative"), col = c("black",2,3,4),lty=c(1,1,1,1),pch=c(0,0,0,0), merge = TRUE, bg='gray90')

The plot and its legend is displayed ok. The I apply a dev.cop2eps on it to save the graphic. Then I start gv to view the resulting file. But now, the legend text moves outside its box.
This seems strabge to me and I have no idea why this happens.
I use R 1.4.1 under OSF4.

Thanks
-- 
Frank G. Zoellner
AG Angewandte Informatik
Technische Fakult"at
Universit"at Bielefeld
phone: +49(0)521-106-2951
fax:   +49(0)521-106-2992
email: fzoellne at techfak.uni-bielefeld.de
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Tue Jul 30 15:02:28 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Tue, 30 Jul 2002 15:02:28 +0200
Subject: [R] Error running sammon() in multiv package
In-Reply-To: <002e01c237b2$d5ea3e80$5e05cf9b@pharm.auth.gr>
References: <002e01c237b2$d5ea3e80$5e05cf9b@pharm.auth.gr>
Message-ID: <20020730130228.GC1282@giraffa.cbs.dtu.dk>

On Tue, Jul 30, 2002 at 01:21:14PM +0300, Kyriakos Kachrimanis wrote:
> When I try to run the "sammon" function of the multiv package, I always get
> this error message:
> 
> Error in as.vector(dist(a)) : couldn't find function "dist"
> 
> It happens even with example(sammon). I am running R 1.5.0 on Win98 and I
> have still installed R 1.4.1 but it doesn't work on the old R version with
> the older multiv package either. Is there a problem with the function or do
> I have to install and load some other package also?
> In which package is the "dist" function located?


The function 'sammon' in the package MASS seems functioning.
You may consider it as an alternative.


Regards,


L.

> 
> Thank you in advance,
> Kyriakos Kachrimanis
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 30 14:06:50 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 30 Jul 2002 13:06:50 +0100 (BST)
Subject: [R] Problem with copying legends
In-Reply-To: <20020730134249.A30188@hindemith.TechFak.Uni-Bielefeld.DE>
Message-ID: <Pine.LNX.4.31.0207301302410.7276-100000@gannet.stats>

On Tue, 30 Jul 2002, Frank Gerrit Zoellner wrote:

> Hi!
>
> I have a problem using the legend command.
> I typed as follows:
>
>  plot(foo bar...)
>  legend(0.6,10, c("True Positiv", "False Positive", "False Negative","True Negative"), col = c("black",2,3,4),lty=c(1,1,1,1),pch=c(0,0,0,0), merge = TRUE, bg='gray90')
>
> The plot and its legend is displayed ok. The I apply a dev.cop2eps on it
to save the graphic. Then I start gv to view the resulting file.
But now, the legend text moves outside its box.
> This seems strabge to me and I have no idea why this happens.

The solution is to plot directly on a postscript() device.

It happens because the screen device (X11) and postscript() have different
font metrics (and font size will be rounded by each, too).  Copying
graphs containing text from one device to another is an approximate
business.

> I use R 1.4.1 under OSF4.

Two versions old, so well worth upgrading.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Tue Jul 30 14:07:08 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Tue, 30 Jul 2002 14:07:08 +0200
Subject: [R] question on the ellipse package
Message-ID: <003301c237c1$a668d860$5c13070a@it.giustizia.it>

Hi all,
I'm intersted in draw confidence regions for two estimates that *are not* in
the same GLM, but I know their point estimates c(a,b) and their covariance
matrix V, say. Of course
> V[1,2]==V[2,1]
[1] TRUE
Their joint distribution is not binormal (at least i don't know it), but I
know (or I assume) their limiting distribution is Normal, so I can use the
bivariate Wald statistics to get confidence regions. Using ellipse it is

plot(ellipse(V, centre=c(a,b))) #it works

However there are two issues:
I change just one covariance in V, i.e.
> V[1,2]==V[2,1]
[1] FALSE
This make no-sense, but
plot(ellipse(V, centre=c(a,b))) #still it works !!!
 Am I missing anything?

Furthermore in the help file on ellipse.default() there is written:
"x should be a correlation between -1 and 1 or a square positive definite
matrix at least 2x2 in size. It will be treated as the correlation or
covariance of a multivariate normal distribution"
Mhmm....As far as I know if two r.v. have Gaussian distribution this doesn't
imply that their bivariate distribution is also Gaussian, but however I can
use the bivariate Wald statistics with chi-square distribution with 2 df.
Therefore just one of the followings holds:
1) I can't use plot(ellipse(V, centre=c(a,b))) to estimate Wald -based
confidence regions,
2) the help file is a bit confusing,
3)I'm wronging everything! ;-)

Is there anyone that can give me any advice?
Many thanks,

best,
vito
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Carl-Frederik.Scharffenorth at gmx.de  Tue Jul 30 14:20:35 2002
From: Carl-Frederik.Scharffenorth at gmx.de (Carl-Frederik.Scharffenorth@gmx.de)
Date: Tue, 30 Jul 2002 14:20:35 +0200 (MEST)
Subject: [R] Some problems with installing a package under Windows
Message-ID: <13729.1028031635@www52.gmx.net>

Hello!

I've just installed R and I'm doing my first steps. I tried to install a
package from a local zip.file.

------------------
> {pkg <- select.list(sort(.packages(all.available = TRUE)))
+ if(nchar(pkg)) library(pkg, character.only=TRUE)}
> install.packages("C:/schacar/rw1051/RPgSQL.zip", .libPaths()[1], CRAN =
NULL)
updating HTML package descriptions
-----------------

But after installing it is not available within the library.
-----------------
> {pkg <- select.list(sort(.packages(all.available = TRUE)))
+ if(nchar(pkg)) library(pkg, character.only=TRUE)}
----------------

By using the select I only can load pre-installed packages. Did anybody
using R under Windows have the some problems? Do you know what I'm doing wrong?
 
Thanks in advance...

Calle

-- 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Tue Jul 30 14:31:45 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Tue, 30 Jul 2002 08:31:45 -0400
Subject: [R] Error running sammon() in multiv package
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC51D@usrymx10.merck.com>

There is a dist() function in the package mva, so try loading that before
running sammon().

Andy

> -----Original Message-----
> From: Kyriakos Kachrimanis [mailto:kgk at pharm.auth.gr]
> Sent: Tuesday, July 30, 2002 6:21 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] Error running sammon() in multiv package
> 
> 
> When I try to run the "sammon" function of the multiv 
> package, I always get
> this error message:
> 
> Error in as.vector(dist(a)) : couldn't find function "dist"
> 
> It happens even with example(sammon). I am running R 1.5.0 on 
> Win98 and I
> have still installed R 1.4.1 but it doesn't work on the old R 
> version with
> the older multiv package either. Is there a problem with the 
> function or do
> I have to install and load some other package also?
> In which package is the "dist" function located?
> 
> Thank you in advance,
> Kyriakos Kachrimanis
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 30 14:42:02 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 30 Jul 2002 13:42:02 +0100 (BST)
Subject: [R] Some problems with installing a package under Windows
In-Reply-To: <13729.1028031635@www52.gmx.net>
Message-ID: <Pine.LNX.4.31.0207301337530.9880-100000@gannet.stats>

On Tue, 30 Jul 2002 Carl-Frederik.Scharffenorth at gmx.de wrote:

> Hello!
>
> I've just installed R and I'm doing my first steps. I tried to install a
> package from a local zip.file.
>
> ------------------
> > {pkg <- select.list(sort(.packages(all.available = TRUE)))
> + if(nchar(pkg)) library(pkg, character.only=TRUE)}
> > install.packages("C:/schacar/rw1051/RPgSQL.zip", .libPaths()[1], CRAN =
> NULL)
> updating HTML package descriptions
> -----------------
>
> But after installing it is not available within the library.
> -----------------
> > {pkg <- select.list(sort(.packages(all.available = TRUE)))
> + if(nchar(pkg)) library(pkg, character.only=TRUE)}
> ----------------
>
> By using the select I only can load pre-installed packages. Did anybody
> using R under Windows have the some problems? Do you know what I'm doing wrong?

The most likely guess is that the local zip file is not in the correct
format, so please ask the person who provided it.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Tue Jul 30 14:59:18 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Tue, 30 Jul 2002 07:59:18 -0500
Subject: [R] Barplot coloring question 
In-Reply-To: <Pine.GSO.4.10.10207301100330.24523-100000@gnome.at.coli.uni-sb.de>
Message-ID: <000801c237c8$eb9ae8e0$0201a8c0@MARC>

> -----Original Message-----
> Hi all,
> 
> SNIP
>
> In both cases, I want the distance between the bars A-A, B-B, C-C, to
be
> closer to each other than the A-B, B-C distance, and I want to
alternate
> colors, so that the first A has color x and the second A has a
different
> color y. The x, y colors must alternate after that: the first B has x,
> then the second B has y, etc.
> 
> However, in data3, I also want the three rows for a given column to
appear
> *within* a single bar, in three colors, say, c1, c2, c3, and the
column
> next to this column should have colors c4, c5, c6. So, now we want the
> triplets <c1, c2, c3>, <c4,c5,c6> alternating for each successive bar.
The
> reason for this is that we want to display two related but different
> percentages in the same graph, and we want to do this because then we
> can
> quickly eyeball the graph and get maximum information from a single
graph,
> rather than having to pore over dozens of them and to compare bars
> pairwise across different graphs (a sure way to lose your mind).
>
> SNIP
> 
> On Mon, 29 Jul 2002, Marc Schwartz wrote:
> 
> > The question this whole process now raises is why the inner loop?
> 
> Does the above explanation answer that question?

Absolutely.  Thanks for the clarification.  I had a feeling that was
where you were headed, but was not sure.  The thing that confused me at
first was that the colormatrix values in your prior message had the same
three colors repeated for each column. Now that I see that they are
alternating sets of three colors the need for a matrix as opposed to a
vector becomes clear and it all makes more sense.

> SNIP
>
> Marc, I want to thank you again for the enormous amount of time you
put
> into this, and for your extraordinary patience as you educated me on
> these revisions to the code. It would have taken much, much longer to
> figure all this out without your help.

You are very welcome.  Glad that I could be of help and assist you in
finding a working solution.

A significant part of the thanks goes to the R core group, as without
the open source approach of this whole project, we would not have access
to the source code. Therefore, we might not be able to resolve this
issue as we have without having to write a whole new barplot function
from scratch. That would have taken substantially longer.

Best regards,

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GPetris at uark.edu  Tue Jul 30 15:56:13 2002
From: GPetris at uark.edu (Giovanni Petris)
Date: Tue, 30 Jul 2002 08:56:13 -0500 (CDT)
Subject: [R] mode-calculation of a multimodal distribution
In-Reply-To: <20020729220103.327b6751.sholl@gmx.net> (message from Stephan
	Holl on Mon, 29 Jul 2002 22:01:03 +0200)
References: <20020729220103.327b6751.sholl@gmx.net>
Message-ID: <200207301356.IAA13888@definetti.uark.edu>


You can try nlm or optimize (for the univariate case) with several
starting points.

Hope this helps,
Giovanni


 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (479) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]

> Date: Mon, 29 Jul 2002 22:01:03 +0200
> From: Stephan Holl <sholl at gmx.net>
> Organization: Steph_online
> X-Sender: 510007208979-0001 at t-dialin.net
> Sender: owner-r-help at stat.math.ethz.ch
> 
> --=.0:+4HVM5sai6SJ
> Content-Type: text/plain; charset=US-ASCII
> Content-Transfer-Encoding: 7bit
> 
> Dear R-List,
> 
> I am looking for a function which calculates the mode of a distribution.
> 
> Are there any functions around or do I have co write my own?
> 
> Thank you
> 
> Stephan 
> 
> -- 
> Linux: the operating system with a CLUE...
>          Command Line User Environment.
> --------------------------------------
> Stephan Holl
> GnuPG Key-ID: 11946A09
> ICQ# 117277975 
> --------------------------------------
> 
> --=.0:+4HVM5sai6SJ
> Content-Type: application/pgp-signature
> 
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.0.7 (GNU/Linux)
> 
> iD8DBQE9RZ8CEg9SKhGUagkRAkZ/AJ0Vy5VoLCvje1ysD0RaKNIzB2pp2QCfQgWk
> JXaRS7BvxGL8fujbiCOgiNI=
> =TC8o
> -----END PGP SIGNATURE-----
> 
> --=.0:+4HVM5sai6SJ--
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgutierrez at cmatoso.com  Tue Jul 30 16:19:58 2002
From: rgutierrez at cmatoso.com (Rafael Gutierrez)
Date: Tue, 30 Jul 2002 09:19:58 -0500
Subject: [R] Transfer Function
Message-ID: <sd465a40.081@proxy.cmatoso.com>

** High Priority **

Dear List

I be in a intership, i hope apply a Multiple Input Tranfer Function, but no money for software in that company, my question is: there are Package in R  for Multiple Input Tranfer Function?

Thanks in advance


Rafael Gutierrez
Estad?stico (statistician)
Unidad de Tecnolog?a Cerro Matoso S.A.
Ext. 3350

"Este correo y sus anexos pueden ser confidenciales y estar protegidos por derechos de autor. Est?n dirigidos ?nica y exclusivamente para uso de el (los) destinatario(s).  Si Usted por error lo ha recibido por favor notif?quelo inmediatamente al remitente y destr?yalo de su sistema. No debe copiar, ni imprimir, ni distribuir este correo o sus anexos, ni usarlos para prop?sito alguno ni dar a conocer su contenido a persona alguna. Las opiniones, conclusiones y otra informaci?n contenida en este correo no relacionadas con el negocio oficial de Cerro Matoso, deben entenderse como personales y de ninguna manera son avaladas por la Compa??a."

"This message and any attachments may be confidential and may also be privileged or otherwise protected from disclosure. They are sent for the attention of the named addressee(s) only. If you are not the named addressee(s) please notify the sender immediately and destroy this message from your system. In this case, you should not copy or distribute this message or attachments, use it for any purpose or disclose its contents to any other person. Opinions, conclusions and other information in this message that do not relate to the official business of Cerro Matoso, shall be understood as neither given nor endorsed by it."



***************************************************************************************************
Este correo y sus anexos pueden ser confidenciales y estar protegidos por derechos de autor.
Estan dirigidos unica y exclusivamente para uso de el (los) destinatario(s). 
Si Usted por error lo ha recibido por favor notifiquelo inmediatamente al remitente y destruyalo de su sistema.
No debe copiar, ni imprimir, ni distribuir este correo o sus anexos, ni usarlos para proposito alguno ni dar a conocer su contenido a persona alguna.
Las opiniones, conclusiones y otra informacion contenida en este correo no relacionadas con el negocio oficial de Cerro Matoso, deben entenderse como personales y de ninguna manera son avaladas por la Compa?ia.
***************************************************************************************************
This message and any attachments may be confidential and may also be privileged or otherwise protected from disclosure.
They are sent for the attention of the named addressee(s) only.
If you are not the named addressee(s) please notify the sender immediately and destroy this message from your system. 
In this case, you should not copy or distribute this message or attachments, use it for any purpose or disclose its contents to any other person. 
Opinions, conclusions and other information in this message that do not relate to the official business of Cerro Matoso, shall be understood as neither given nor endorsed by it.

 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jul 30 17:11:12 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 30 Jul 2002 08:11:12 -0700 (PDT)
Subject: [R] Comparison of two time series using R
In-Reply-To: <3D45D90D.8000508@optushome.com.au>
Message-ID: <Pine.A41.4.44.0207300802100.59584-100000@homer23.u.washington.edu>

On Tue, 30 Jul 2002, Tim Churches wrote:

> We have two time series: the first is a series of weekly counts of
> isolates of RSV (respiratory syncytial virus) by pathology laboratories,
> and the second is a series of weekly counts of cases of bronchiolitis in
> young children presenting to hospital emergency departments.
> Bronchiolitis in young children is usually caused by RSV infection, and
> simple visual inspection reveals a very close correspondence between the
> two series, both of which show strong seasonality and also corresponding
> variation from year to year.
>
<snip>
> Is this a reasonable approach to our question? Hints on how to proceed
> are most welcome, and/or references to papers or texts which might
> render us a bit less clueless wrt this problem.

This is similar to the air pollution epidemiology question of whether eg
particulate air pollution causes myocardial infarction. There are very
strong season patterns, year-to-year variation, and weather effects, and a
very small (but non-zero) residual association.

I would fit a loglinear model with spline terms to remove the seasonal
effects
eg

model <- glm(bronchiolitis~RSV+ns(week,df)+temperature,family=quasipoisson)

where df is chosen to remove seasonal-scale variability (eg 4-6 df/year of
data)

If there is substantial autocorrelation in the pearson residuals

   acf(resid(model,"pearson"))

then you need some other sort of standard error calculation.  One method
(which was my PhD dissertation) is available for R at
   http://faculty.washington.edu/tlumley/weave.html

However, in air pollution epi there usually isn't much autocorrelation
after season and weather are removed.



This will tell you how well RSV prevalence predicts bronchiolitis over and
above seasonal variation.


You might also try adding a sine/cosine term to the model to represent the
predictable part of seasonal variation.  This would allow you to say how
much of the seasonal variation is stable from year to year, which would be
useful in assessing prediction.


	-thomas




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From juli at ceam.es  Tue Jul 30 18:11:44 2002
From: juli at ceam.es (juli g. pausas)
Date: Tue, 30 Jul 2002 17:11:44 +0100
Subject: [R] chisq.test, basic question
Message-ID: <3D46BAC0.3DADC598@ceam.es>

Dear R-users,
I have a question, which I?m not sure if it is related to my
misunderstanding of basic statistics, or my misunderstanding of R, or
both.
I?ve got the counts of a 2 x 2 contingency table, and I'd like to test
the association:

m <-  matrix(c(15,28,32,135), 2, 2)
colnames(m) <- c("R-", "R+"); rownames(m) <- c("P-", "P+")
m
#    R-  R+
# P- 15  32
# P+ 28 135

chisq.test(m)  # X-squared = 4.0027, df = 1, p-value = 0.04543

Is this the correct way to test association between P and R? (I haven?t
got the original data).
My problem is that if I use percentage, then I get different results:

m2 <- 100*m/sum(m) #
chisq.test(round(m2)) # X-squared = 1.5318, df = 1, p-value = 0.2158

Should this give about the same (a part from the rounding)? Should the
degree of association between P and R be he same?  Or, am I using
chisq.test() wrongly?

Thanks in advance,

Juli


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jul 30 17:27:08 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 30 Jul 2002 08:27:08 -0700 (PDT)
Subject: [R] Questions concerning survival analysis
In-Reply-To: <15686.10761.50696.249136@gargle.gargle.HOWL>
Message-ID: <Pine.A41.4.44.0207300819110.59584-100000@homer23.u.washington.edu>

On Tue, 30 Jul 2002, Ruth Meili wrote:
> I have another question to the author(s) of summary.survreg:
> Why does summary(...,times=sort(x)) not give the same result as
> summary(...,censored=TRUE) ? Example:
>
> ###
> library(survival)
>
> x <-   c(1,1,2,4,4,4,6,9)
> status <- c(1,0,1,1,1,0,1,1)
>
> r.sf <- survfit(Surv(x, status)~1, type='kaplan-meier',conf.type="none")
>
> summary(r.sf,times=sort(x))
> summary(r.sf,censored=TRUE) # the censored data are not listed (?)
> ###

Well, the author of summary.survreg doesn't read r-help,  but in any case
censored=TRUE works as documented

    			If `censored=T', the default `times'
    vector contains all the unique times in `fit', otherwise the
    default `times' vector uses only the event (death) times.

> summary(r.sf,censored=TRUE) # the censored data are not listed (?)
Call: survfit(formula = Surv(x, status) ~ 1, type = "kaplan-meier",
    conf.type = "none")

 time n.risk n.event survival std.err
    1      8       1    0.875   0.117
    2      6       1    0.729   0.165
    4      5       2    0.438   0.188
    6      2       1    0.219   0.181
    9      1       1    0.000      NA


Every observed time point is listed, regardless of whether an event
occurred.  In this example an event occured at every time point so
specifying censored=TRUE has no effect

On the other hand
> summary(r.sf,times=sort(x))
Call: survfit(formula = Surv(x, status) ~ 1, type = "kaplan-meier",
    conf.type = "none")

 time n.risk n.event survival std.err
    1      8       1    0.875   0.117
    1      8       0    0.875   0.117
    2      6       1    0.729   0.165
    4      5       2    0.438   0.188
    4      5       0    0.438   0.188
    4      5       0    0.438   0.188
    6      2       1    0.219   0.181
    9      1       1    0.000      NA

does not give the right answer because there are repeated times. Note for
example the n.event column for time 4.  The help page says that the times
must be in increasing order.  In fact they must be strictly increasing --
repeats are not allowed.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jul 30 17:42:12 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Jul 2002 17:42:12 +0200
Subject: [R] chisq.test, basic question
In-Reply-To: <3D46BAC0.3DADC598@ceam.es>
References: <3D46BAC0.3DADC598@ceam.es>
Message-ID: <x2fzy1te7f.fsf@biostat.ku.dk>

"juli g. pausas" <juli at ceam.es> writes:

> Dear R-users,
> I have a question, which I?m not sure if it is related to my
> misunderstanding of basic statistics, or my misunderstanding of R, or
> both.
> I?ve got the counts of a 2 x 2 contingency table, and I'd like to test
> the association:
> 
> m <-  matrix(c(15,28,32,135), 2, 2)
> colnames(m) <- c("R-", "R+"); rownames(m) <- c("P-", "P+")
> m
> #    R-  R+
> # P- 15  32
> # P+ 28 135
> 
> chisq.test(m)  # X-squared = 4.0027, df = 1, p-value = 0.04543
> 
> Is this the correct way to test association between P and R? (I haven?t
> got the original data).
> My problem is that if I use percentage, then I get different results:
> 
> m2 <- 100*m/sum(m) #
> chisq.test(round(m2)) # X-squared = 1.5318, df = 1, p-value = 0.2158
> 
> Should this give about the same (a part from the rounding)? Should the
> degree of association between P and R be he same?  Or, am I using
> chisq.test() wrongly?

Don't use chisq.test on proportions, only on counts. The first
analysis is correct, the second is wrong. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dbickel at mail.mcg.edu  Tue Jul 30 17:51:03 2002
From: dbickel at mail.mcg.edu (David R. Bickel)
Date: Tue, 30 Jul 2002 11:51:03 -0400
Subject: [R] scoping with methods package
Message-ID: <B96C2E27.276%dbickel@mail.mcg.edu>

I am using the methods package in version 1.5.0 of R. I would like to write
a function that can be called by the methods of a class I defined, but that
cannot be called by external functions or by methods of other classes. This
function has arguments that are neither slots nor objects -- the arguments
are numbers to be supplied by the calling methods.

I would appreciate any suggestions on how to do this, or on how to do the
equivalent using a more object-oriented approach. I would also like to know
if the old-style classes might be better for this.

David Bickel
 
http://www.mcg.edu/research/biostat/bickel.html

David R. Bickel, Assistant Professor
Medical College of Georgia
Office of Biostatistics and Bioinformatics

Tel.: 706-721-4697; Fax: 706-721-6294
dbickel at mail.mcg.edu or bickel at prueba.info

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bob.ohara at helsinki.fi  Tue Jul 30 17:50:07 2002
From: bob.ohara at helsinki.fi (Anon.)
Date: Tue, 30 Jul 2002 18:50:07 +0300
Subject: [R] "New" problem with polr (again)
References: <3D3C2CEB.1A07A891@helsinki.fi>
Message-ID: <3D46B5AF.25F40E1A@helsinki.fi>

I didn't get any answer to my problem last week, so I feel obliged to
ask again.

About 18 months ago I carried out an analysis of some ordinal data,
using the polr function in MASS (this would have been using either
v1.1.x or v1.2.x on Windoze).  I now have to carry out the same analysis
on the same data (but add in another factor), and I can't get it to work
(using v1.5.0).  I keep getting this message:

> ModelF <- polr(Ext ~ Habitat+Edge+Grids+SE+NH+Size+Wings+Grids:SE + Grids:NH + Habitat:Edge, na.action=na.omit) 
Error in optim(start, fmin, gmin, method = "BFGS", hessian = Hess) : 
        non-finite value supplied by optim

This is the same model as previously, and even trying several of the
much simpler models give the same result.  So, (a) what is going on, (b)
is there a "tweak" I can use to try and get it working and if so,
what?), and (c) (if all else fails) is MASS library for v1.2.x still
available (I have this at my other office, on Debian Linux)?

Bob

-- 
Bob O'Hara
Metapopulation Research Group
Division of Population Biology
Department of Ecology and Systematics
PO Box 65 (Viikinkaari 1)
FIN-00014 University of Helsinki
Finland

tel: +358 9 191 57913      mobile: +358 50 599 0540
fax: +358 9 191 57694    email: bob.ohara at helsinki.fi
<http://www.helsinki.fi/science/metapop/> is not where it's at

It is being said of a certain poet, that though he tortures the English
language, he has still never yet succeeded in forcing it to reveal his
meaning
- Beachcomber
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Tue Jul 30 18:07:24 2002
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Tue, 30 Jul 2002 12:07:24 -0400
Subject: [R] chisq.test, basic question
Message-ID: <2C23DE2983BE034CB1CB90DB6B813FD6028AC055@uswpmx11.merck.com>

The cells are interpreted as counts, so by scaling you're analyzing a
different experiment (one with fewer observations). So the chi-squared value
will change (the terms (O-E)^2/E in the statistic scale linearly ignoring
rounding and "Yates' continuity correction"). 

The chisq.test on the original data is a test of association. Conventionally
you decide ahead of time on a threshold for "false positives", say 5%, then
use the reported p-value to determine whether to accept or reject the null
hypothesis of no association. Had you chosen 5%, since the reported p-value
is smaller than 5%, you would reject, i.e., decide that association is
present.

Chisq.test is not really a measure of association. Your observation is a
nice illustration of why. There are many measures of association (e.g., odds
ratio); see for example Alan Agresti's "Categorical Data Analysis" for some
discussion. 

Reid Huntsinger

-----Original Message-----
From: juli g. pausas [mailto:juli at ceam.es]
Sent: Tuesday, July 30, 2002 12:12 PM
To: r-help
Subject: [R] chisq.test, basic question


Dear R-users,
I have a question, which I'm not sure if it is related to my
misunderstanding of basic statistics, or my misunderstanding of R, or
both.
I've got the counts of a 2 x 2 contingency table, and I'd like to test
the association:

m <-  matrix(c(15,28,32,135), 2, 2)
colnames(m) <- c("R-", "R+"); rownames(m) <- c("P-", "P+")
m
#    R-  R+
# P- 15  32
# P+ 28 135

chisq.test(m)  # X-squared = 4.0027, df = 1, p-value = 0.04543

Is this the correct way to test association between P and R? (I haven't
got the original data).
My problem is that if I use percentage, then I get different results:

m2 <- 100*m/sum(m) #
chisq.test(round(m2)) # X-squared = 1.5318, df = 1, p-value = 0.2158

Should this give about the same (a part from the rounding)? Should the
degree of association between P and R be he same?  Or, am I using
chisq.test() wrongly?

Thanks in advance,

Juli


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jleach at mail.ocis.net  Tue Jul 30 18:10:41 2002
From: jleach at mail.ocis.net (Jason C. Leach)
Date: Tue, 30 Jul 2002 09:10:41 -0700
Subject: [R] Explain Err Msg.
In-Reply-To: <200207300201.EAA09897@stat.math.ethz.ch>; from owner-r-help-digest@stat.math.ethz.ch on Tue, Jul 30, 2002 at 04:01:04AM +0200
References: <200207300201.EAA09897@stat.math.ethz.ch>
Message-ID: <20020730091041.C1945@yukon.drivingbeat.com>

hi,
To plot something I do:

> cl13ppp<-as.ppp(cl13mx,owin(c(0,maxx), c(0,maxy)))
> cl13Kest<-Kest(cl13ppp)
> plot(cl13Kest$r, cl13Kest$border, type="l", xlab="r", xlim=c(0,50), ylab="K(r)", ylim=c(0,7500), main=" K-Function for CL13")
> lines(r, cl13Kest$theo, lty=2)
Error in xy.coords(x, y) : x and y lengths differ


Above where I use owin, I can use 0,100 but when I use the min/max
of my data (max(myVec), min(myVec) I get the error mentiond above.
Can anyone explain the err, so I can correct it.



Thanks,
j.


......................
..... Jason C. Leach
.. 

Current PGP/GPG Key ID: 43AD2024 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 30 18:19:54 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 30 Jul 2002 17:19:54 +0100 (BST)
Subject: [R] Explain Err Msg.
In-Reply-To: <20020730091041.C1945@yukon.drivingbeat.com>
Message-ID: <Pine.GSO.4.44.0207301717290.16688-100000@auk.stats>

I think you are using some spatial statistics package and not telling us.
Why should r and cl13Kest$theo be the same length?  Did you mean
cl13Kest$r?


On Tue, 30 Jul 2002, Jason C. Leach wrote:

> hi,
> To plot something I do:
>
> > cl13ppp<-as.ppp(cl13mx,owin(c(0,maxx), c(0,maxy)))
> > cl13Kest<-Kest(cl13ppp)
> > plot(cl13Kest$r, cl13Kest$border, type="l", xlab="r", xlim=c(0,50), ylab="K(r)", ylim=c(0,7500), main=" K-Function for CL13")
> > lines(r, cl13Kest$theo, lty=2)
> Error in xy.coords(x, y) : x and y lengths differ
>
>
> Above where I use owin, I can use 0,100 but when I use the min/max
> of my data (max(myVec), min(myVec) I get the error mentiond above.
> Can anyone explain the err, so I can correct it.
>

This seems a good opportunity to learn how to debug your R code.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jleach at mail.ocis.net  Tue Jul 30 18:38:50 2002
From: jleach at mail.ocis.net (Jason C. Leach)
Date: Tue, 30 Jul 2002 09:38:50 -0700
Subject: [R] Explain Err Msg.
In-Reply-To: <Pine.GSO.4.44.0207301717290.16688-100000@auk.stats>; from ripley@stats.ox.ac.uk on Tue, Jul 30, 2002 at 05:19:54PM +0100
References: <20020730091041.C1945@yukon.drivingbeat.com> <Pine.GSO.4.44.0207301717290.16688-100000@auk.stats>
Message-ID: <20020730093850.D1945@yukon.drivingbeat.com>

hi,

I'm using 'spatstat' to do some point pattern analysis. Mostly
learning trial runs at the moment, but eventually to learn some
info about the distribution of a set of points.

cl13mx is a 2D matrix (x,y) representing my points.

j.

On Tue, Jul 30, 2002 at 05:19:54PM +0100, Prof Brian D Ripley wrote:
> I think you are using some spatial statistics package and not telling us.
> Why should r and cl13Kest$theo be the same length?  Did you mean
> cl13Kest$r?
> 
> 
> On Tue, 30 Jul 2002, Jason C. Leach wrote:
> 
> > hi,
> > To plot something I do:
> >
> > > cl13ppp<-as.ppp(cl13mx,owin(c(0,maxx), c(0,maxy)))
> > > cl13Kest<-Kest(cl13ppp)
> > > plot(cl13Kest$r, cl13Kest$border, type="l", xlab="r", xlim=c(0,50), ylab="K(r)", ylim=c(0,7500), main=" K-Function for CL13")
> > > lines(r, cl13Kest$theo, lty=2)
> > Error in xy.coords(x, y) : x and y lengths differ
> >
> >
> > Above where I use owin, I can use 0,100 but when I use the min/max
> > of my data (max(myVec), min(myVec) I get the error mentiond above.
> > Can anyone explain the err, so I can correct it.
> >
> 
> This seems a good opportunity to learn how to debug your R code.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

-- 
......................
..... Jason C. Leach
.. 

Current PGP/GPG Key ID: 43AD2024 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Tue Jul 30 18:57:05 2002
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Tue, 30 Jul 2002 11:57:05 -0500 (CDT)
Subject: [R] Balanced Inc. Block Design
Message-ID: <200207301657.LAA16475@uhddx01.dt.uh.edu>

Dear R People:

How can we do Balanced Incomplete Block Design from R, please?

This is version 1.5.1 on Windows.

Thanks so much for your help!

Sincerely,
Erin Hodgess
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
1 Main Street 
Houston, TX 77002
mailto: hodgess at uhddx01.dt.uh.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kgk at pharm.auth.gr  Tue Jul 30 20:35:08 2002
From: kgk at pharm.auth.gr (Kyriakos Kachrimanis)
Date: Tue, 30 Jul 2002 21:35:08 +0300
Subject: [R] Error running sammon() in multiv package
Message-ID: <007001c237f7$d51702a0$5e05cf9b@pharm.auth.gr>

First of all, I would like to thank you all for your help. I found the
function "dist" in mva library. I also found a "sammon" function in the MASS
library that uses "dist" and it is indeed functioning, so my problem is
solved.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From elvis at xlsolutions-corp.com  Tue Jul 30 20:48:49 2002
From: elvis at xlsolutions-corp.com (Elvis Miller, PhD)
Date: Tue, 30 Jul 2002 14:48:49 -0400
Subject: [R] Course***R/Splus programming I: Essentials and Data Analysis***September 2002
Message-ID: <200207301848.g6UImnB04088@email.featureprice.com>

XLSolutions Corporation (www.xlsolutions-corp.com) is pleased to
announce a two-day R course,

"R programming I: Essentials and Data Analysis" in:

	Dallas  ****  September 23-24, 2002.
        Atlanta ****  September 26-27, 2002

This two-day hands-on course teaches participants the basics of S and R syntax.
We will concentrate on learning the data structures and commands necessary
for data analysis. This course is designed for those who want to learn
to write programs to accomplish typical data-processing tasks, including
creating graphics. The course will give participants a strong foundation
for becoming a versatile programmer.


Cost for two-day course (payment due after the class).

          Commercial $765
          Academic   $650     Early bird special and group discount: email us!

(Includes course materials, 90 days Technical Support for R,
snacks and continental breakfast!)

We also offer private affordable 1-day or 2-day courses customized to your
needs.

Registration:

Email Sue Turner: sue at xlsolutions-corp.com
Phone: 206-686-1578 x221
Visit us: www.xlsolutions-corp.com/training.htm


Benefits:

This two-day course focuses on how to

    Create and Enhance Different kinds of Plots  (Scatter plots, Histograms,
Boxplots,.etc)
    Import/export data into the software environment
    Create and manipulate data (vectors, data frames, lists)
    Use the graphical features of the software to explore data
    Perform basics statistics and fit linear regression
    Write functions to automate data analysis tasks


Course Topics:


    An Overview of the Software System: Installation and Demonstration
    Data Objects and Syntax
    Data Manipulation and Management
    Overview of High-level and Low-level Graphics Functions for Data
Exploration
    Creating and Enhancing Plots
    A Comparison of R and S-PLUS
    Writing Functions and Automating Analyses
    Constructing Models and Testing Hypotheses
    Fitting Linear regression modeling
    Tips and Troubleshooting



Course Format:

This course consists of a series of short lectures in a PC lab with 
demonstrations and interactive sessions for the participants. Each student 
is provided with bound copies of the notes and a CD-ROM containing all examples,
exercises and software used on the course.


Share Your Thoughts:

Are there any additional topics you would like for this course to address?
Would you like for this course to be offered in another city?

Please let us know by contributing to our recommendation list:
training at xlsolutions-corp.com.


==========================================================================

R/S programming I: Essentials and Data Analysis.

Pre-registration Form (Please email or print and fax: 206-686-1578)
XLsolutions Corporation: For your Solutions needs, Consulting and
Training. www.xlsolutions-corp.com



Title...... First Name ................. Last Name....................

Organization..........................................................

Mailing Address.......................................................

..............................................................

..............................................................

Zip Code...................... Country.............................

Telephone........................... Fax ...............................

E-mail................................................................

Payment will be made by: (1) check (2) invoice (3) bank transfer



Elvis Miller, PhD
Manager Training.
XLSolutions Corporation
206 686 1578
www.xlsolutions-corp.com
elvis at xlsolutions-corp.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From frohne at mtaonline.net  Tue Jul 30 20:51:30 2002
From: frohne at mtaonline.net (Ivan Frohne)
Date: Tue, 30 Jul 2002 10:51:30 -0800
Subject: [R] chisq.test, basic question
References: <3D46BAC0.3DADC598@ceam.es>
Message-ID: <002801c237fa$240cde50$8481fea9@d4100>


----- Original Message ----- 
From: "juli g. pausas" <juli at ceam.es>
To: "r-help" <r-help at stat.math.ethz.ch>
Sent: Tuesday, July 30, 2002 08:11
Subject: [R] chisq.test, basic question


> I've got the counts of a 2 x 2 contingency table, and I'd like to test
> the association:
> 
> m <-  matrix(c(15,28,32,135), 2, 2)
> colnames(m) <- c("R-", "R+"); rownames(m) <- c("P-", "P+")
> m
> #    R-  R+
> # P- 15  32
> # P+ 28 135
> 
> chisq.test(m)  # X-squared = 4.0027, df = 1, p-value = 0.04543
> 
> Is this the correct way to test association between P and R? (I haven't
> got the original data).

This the right way to do the 2X2 table chi-square test.

> My problem is that if I use percentage, then I get different results:
> 
> m2 <- 100*m/sum(m) #
> chisq.test(round(m2)) # X-squared = 1.5318, df = 1, p-value = 0.2158

This is incorrect.  Don't use percentages.  You could have the
same percentages with a total sample of 10, say, as with a
sample of 1000.

--Ivan Frohne


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jleach at mail.ocis.net  Tue Jul 30 21:05:45 2002
From: jleach at mail.ocis.net (Jason C. Leach)
Date: Tue, 30 Jul 2002 12:05:45 -0700
Subject: [R] Point Patern (Understanding Results)
Message-ID: <20020730120545.L1945@yukon.drivingbeat.com>

hi,

I'm looking into some point pattern analysis of tree stands.
I have posted my graphical output to ( http://jleach1.dsl.kamloops.net/cl/ )
to help illustrate my questions.

CH13 looks like an orchard, it's obvious the distribution is not
random like CH14.  Now what information is the K-Function plot
telling me; for example why does the K-Function for CH13
follow the Poisson process?

Anyone know of a good K-Function tutorial?

Should I be looking at something else to get info about the
distribution of the points?

Thanks,
j.



-- 
......................
..... Jason C. Leach
.. 

Current PGP/GPG Key ID: 43AD2024 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dj at research.bell-labs.com  Tue Jul 30 21:27:24 2002
From: dj at research.bell-labs.com (David James)
Date: Tue, 30 Jul 2002 15:27:24 -0400
Subject: [R] Database-conversion
In-Reply-To: <20020729155002.31d5b493.sholl@gmx.net>; from sholl@gmx.net on Mon, Jul 29, 2002 at 03:50:02PM +0200
References: <20020729155002.31d5b493.sholl@gmx.net>
Message-ID: <20020730152724.C23330@jessie.research.bell-labs.com>

Hello,

Stephan Holl wrote:
> Dear R-Users,
> I store my data in an Postgres-table.
> I can connect with Rdbi.PgSQL, that is no the problem.
> The problem is the NA-Values. No-data-values are coded as -9999 in the
> table.
> But when I extrct them with any SELECT-statement, the -9999-values are
> treated as normal vectors.
> How can I tell R not to fetch the datasets containig -9999-values?
> 
> thanks for your help
> 
> stephan
> 
> 
> -- 
> Linux: the operating system with a CLUE...
>          Command Line User Environment.
> --------------------------------------
> Stephan Holl
> GnuPG Key-ID: 11946A09
> ICQ# 117277975 
> --------------------------------------

The convention of encoding NA's as -9999 is particular to your application
(not SQL nor R), so your code (SQL and/or R) will have to account for them.
I'm not sure how you are extracting your data (via a query or support function
in the RPgSQL package), but I'll suggest modifying your SQL query to include
a where clause explicitly specifying that your variable be different from
-9999,

    select * from foo_table where foo_var != -9999;

Alternatively, in R you can delete those rows that have the -9999
as
    foo <- foo[foo$var != -9999, ]

You may want to consider using the SQL value NULL instead of -9999
to denote missing data.  

Regards,


-- 
David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bmagill at earthlink.net  Tue Jul 30 21:55:46 2002
From: bmagill at earthlink.net (Brett Magill)
Date: Tue, 30 Jul 2002 12:55:46 -0700
Subject: [R] chisq.test, basic question
Message-ID: <Springmail.0994.1028058946.0.87734900@webmail.pas.earthlink.net>

>From help(chisq.test)

If `x' is a matrix with at least two rows and columns, it is taken as a
two-dimensional contingency table, and hence its entries should be nonnegative
"INTEGERS".

-----Original Message-----
From: juli g. pausas [mailto:juli at ceam.es]
Sent: Tuesday, July 30, 2002 12:12 PM
To: r-help
Subject: [R] chisq.test, basic question


Dear R-users,
I have a question, which I'm not sure if it is related to my
misunderstanding of basic statistics, or my misunderstanding of R, or
both.
I've got the counts of a 2 x 2 contingency table, and I'd like to test
the association:

m <-  matrix(c(15,28,32,135), 2, 2)
colnames(m) <- c("R-", "R+"); rownames(m) <- c("P-", "P+")
m
#    R-  R+
# P- 15  32
# P+ 28 135

chisq.test(m)  # X-squared = 4.0027, df = 1, p-value = 0.04543

Is this the correct way to test association between P and R? (I haven't
got the original data).
My problem is that if I use percentage, then I get different results:

m2 <- 100*m/sum(m) #
chisq.test(round(m2)) # X-squared = 1.5318, df = 1, p-value = 0.2158

Should this give about the same (a part from the rounding)? Should the
degree of association between P and R be he same?  Or, am I using
chisq.test() wrongly?

Thanks in advance,

Juli


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


------------------------------------------------------------------------------

Notice:  This e-mail message, together with any attachments, contains
information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that
may be confidential, proprietary copyrighted and/or legally privileged, and is
intended solely for the use of the individual or entity named in this message.
 If you are not the intended recipient, and have received this message in
error, please immediately return this by e-mail and then delete it.

==============================================================================


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-

r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Tue Jul 30 23:15:11 2002
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Tue, 30 Jul 2002 17:15:11 -0400
Subject: [R] chisq.test, basic question
Message-ID: <2C23DE2983BE034CB1CB90DB6B813FD6028AC058@uswpmx11.merck.com>

My previous reply (below) uses "false positive" in a particularly misleading
way. I intended this to mean "incorrect rejection of the null hypothesis of
no association". I succumbed to the temptation to call a "rejection of the
null hypothesis of no association" a "positive" (cancelling a double
negative?), but as it is a rejection (of no matter what) I should have
called it a "negative". 

Reid Huntsinger

-----Original Message-----
From: Huntsinger, Reid [mailto:reid_huntsinger at merck.com]
Sent: Tuesday, July 30, 2002 12:07 PM
To: 'juli g. pausas'; r-help
Subject: RE: [R] chisq.test, basic question


The cells are interpreted as counts, so by scaling you're analyzing a
different experiment (one with fewer observations). So the chi-squared value
will change (the terms (O-E)^2/E in the statistic scale linearly ignoring
rounding and "Yates' continuity correction"). 

The chisq.test on the original data is a test of association. Conventionally
you decide ahead of time on a threshold for "false positives", say 5%, then
use the reported p-value to determine whether to accept or reject the null
hypothesis of no association. Had you chosen 5%, since the reported p-value
is smaller than 5%, you would reject, i.e., decide that association is
present.

Chisq.test is not really a measure of association. Your observation is a
nice illustration of why. There are many measures of association (e.g., odds
ratio); see for example Alan Agresti's "Categorical Data Analysis" for some
discussion. 

Reid Huntsinger

-----Original Message-----
From: juli g. pausas [mailto:juli at ceam.es]
Sent: Tuesday, July 30, 2002 12:12 PM
To: r-help
Subject: [R] chisq.test, basic question


Dear R-users,
I have a question, which I'm not sure if it is related to my
misunderstanding of basic statistics, or my misunderstanding of R, or
both.
I've got the counts of a 2 x 2 contingency table, and I'd like to test
the association:

m <-  matrix(c(15,28,32,135), 2, 2)
colnames(m) <- c("R-", "R+"); rownames(m) <- c("P-", "P+")
m
#    R-  R+
# P- 15  32
# P+ 28 135

chisq.test(m)  # X-squared = 4.0027, df = 1, p-value = 0.04543

Is this the correct way to test association between P and R? (I haven't
got the original data).
My problem is that if I use percentage, then I get different results:

m2 <- 100*m/sum(m) #
chisq.test(round(m2)) # X-squared = 1.5318, df = 1, p-value = 0.2158

Should this give about the same (a part from the rounding)? Should the
degree of association between P and R be he same?  Or, am I using
chisq.test() wrongly?

Thanks in advance,

Juli


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


----------------------------------------------------------------------------
--
Notice:  This e-mail message, together with any attachments, contains
information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that
may be confidential, proprietary copyrighted and/or legally privileged, and
is intended solely for the use of the individual or entity named in this
message.  If you are not the intended recipient, and have received this
message in error, please immediately return this by e-mail and then delete
it.

============================================================================
==

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

----------------------------------------------------------------------------
--
Notice: This e-mail message, together with any attachments, contains
information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that
may be confidential, proprietary copyrighted and/or legally privileged, and
is intended solely for the use of the individual or entity named on this
message.  If you are not the intended recipient, and have received this
message in error, please immediately return this by e-mail and then delete
it.

============================================================================
==


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Wed Jul 31 08:52:54 2002
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Wed, 31 Jul 2002 08:52:54 +0200
Subject: [R] chisq.test, basic question
Message-ID: <OF9C664C1E.DCA62784-ONC1256C07.0024401E@eurotel.cz>


Hi,

your first use of chisq.test is correct.
But by multiplying by 100 and dividing by sum(m) (210), you analyze
different experiment
(with fewer "observations") and, in general, this is a _gross_ mistake.
In general, our example is (very basic, though) a well-known problem with
statistical vs. practical "significance".
Just try to chisq.test(2*m), chisq.test(3*m), etc.
With sufficiently large sample it is almost sure (in practical, not
mathematical meaning) that you get
statistically significant difference even when practical, "real-life"
difference is negligible.

An trivial example:
m<-matrix(c(100,101,110,115),2,2) #rows and cols are "practically"
independent
chisq.test(m)  #X-squared = 0.0065, df = 1, p-value = 0.9357
chisq.test(10*m)  #X-squared = 0.2823, df = 1, p-value = 0.5952
chisq.test(100*m)  #X-squared = 3.1241, df = 1, p-value = 0.07714
chisq.test(1000*m)  #X-squared = 31.551, df = 1, p-value = 1.943e-08

Therefore, your question about m2 is due to misunderstanding of
math-statistical principles behind chisq.test.

HTH,
Jan

-------------------------------------------------
designed for _monospaced_ font
-------------------------------------------------
/- Jan Svatos,  PhD         Sokolovska 855/225 -/
/- Data Analyst             Prague 9           -/
/- Eurotel Praha            190 00             -/
/- jan_svatos at eurotel.cz    Czechia            -/
-------------------------------------------------


- - - Original message: - - -
From: owner-r-help at stat.math.ethz.ch
Send: 30.7.2002 18:47:51
To: r-help <r-help at stat.math.ethz.ch>
Subject: [R] chisq.test, basic question

Dear R-users,
I have a question, which I?m not sure if it is related to my
misunderstanding of basic statistics, or my misunderstanding of R, or
both.
I?ve got the counts of a 2 x 2 contingency table, and I'd like to test
the association:

m <-  matrix(c(15,28,32,135), 2, 2)
colnames(m) <- c("R-", "R+"); rownames(m) <- c("P-", "P+")
m
#    R-  R+
# P- 15  32
# P+ 28 135

chisq.test(m)  # X-squared = 4.0027, df = 1, p-value = 0.04543

Is this the correct way to test association between P and R? (I haven?t
got the original data).
My problem is that if I use percentage, then I get different results:

m2 <- 100*m/sum(m) #
chisq.test(round(m2)) # X-squared = 1.5318, df = 1, p-value = 0.2158

Should this give about the same (a part from the rounding)? Should the
degree of association between P and R be he same?  Or, am I using
chisq.test() wrongly?

Thanks in advance,

Juli


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Wed Jul 31 08:31:48 2002
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Wed, 31 Jul 2002 08:31:48 +0200 (MEST)
Subject: [R] Balanced Inc. Block Design
In-Reply-To: <200207301657.LAA16475@uhddx01.dt.uh.edu>
Message-ID: <XFMail.020731083148.theis@statistik.uni-dortmund.de>

Hello!

On 30-Jul-02 Erin Hodgess wrote:
> Dear R People:
> 
> How can we do Balanced Incomplete Block Design from R, please?
As far as I know there is no algorithm to construct BIB designs for arbitrary
numbers of blocks, experimental units and replicates -- actually for some
combinations no BIBD exist. For a list of different combinations and generating
procedures see K. Hinkelmann and O. Kempthorne: Design and analysis of
experiments, Wiley, New York

Hope this helps,

Winfried


---------------------------------------------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 31-Jul-02

Dipl.-Math. Winfried Theis
SFB 475, Fachbereich Statistik, Universit"at Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903 FAX: +49-231-755-4387
----------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jul 31 10:48:00 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 31 Jul 2002 10:48:00 +0200
Subject: [R] Balanced Inc. Block Design
In-Reply-To: <XFMail.020731083148.theis@statistik.uni-dortmund.de>
References: <XFMail.020731083148.theis@statistik.uni-dortmund.de>
Message-ID: <x2it2wp9kv.fsf@biostat.ku.dk>

Winfried Theis <theis at statistik.uni-dortmund.de> writes:

> Hello!
> 
> On 30-Jul-02 Erin Hodgess wrote:
> > Dear R People:
> > 
> > How can we do Balanced Incomplete Block Design from R, please?
> As far as I know there is no algorithm to construct BIB designs for arbitrary
> numbers of blocks, experimental units and replicates -- actually for some
> combinations no BIBD exist. For a list of different combinations and generating
> procedures see K. Hinkelmann and O. Kempthorne: Design and analysis of
> experiments, Wiley, New York

Or Cochran+Cox: Experimental Designs, Wiley. But did "do" mean design?
For analysis, aov() or (even lm() if systematic block effects are
assumed) should work. 

I'm not too sure how to handle recovery of interblock information from
aov() output though, but it most often isn't worth the trouble anyway.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From iwhite at staffmail.ed.ac.uk  Wed Jul 31 12:32:43 2002
From: iwhite at staffmail.ed.ac.uk (iwhite@staffmail.ed.ac.uk)
Date: Wed, 31 Jul 2002 11:32:43 +0100 (BST)
Subject: [R] Balanced Inc. Block Design
In-Reply-To: <x2it2wp9kv.fsf@biostat.ku.dk>
Message-ID: <Pine.GSO.4.33.0207311128170.735-100000@holyrood.ed.ac.uk>

Isn't recovery of interblock information just a matter of treating
blocks as random, e.g.

lme(fixed = Y ~ trt,random = ~1|blocks,data=example)

using lme in package nlme?


On 31 Jul 2002, Peter Dalgaard BSA wrote:

> Winfried Theis <theis at statistik.uni-dortmund.de> writes:
>
> > Hello!
> >
> > On 30-Jul-02 Erin Hodgess wrote:
> > > Dear R People:
> > >
> > > How can we do Balanced Incomplete Block Design from R, please?

> For analysis, aov() or (even lm() if systematic block effects are
> assumed) should work.
>
> I'm not too sure how to handle recovery of interblock information from
> aov() output though, but it most often isn't worth the trouble anyway.
>


************************************************
*    I.White                                   *
*    ICAPB, University of Edinburgh            *
*    Ashworth Laboratories, West Mains Road    *
*    Edinburgh EH9 3JT                         *
*    Fax: 0131 667 3210   Tel: 0131 650 5490   *
*    E-mail: i.m.s.white at ed.ac.uk              *
************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vezzu.andrea at libero.it  Wed Jul 31 12:49:08 2002
From: vezzu.andrea at libero.it (=?utf-8?Q?vezzu.andrea@libero.it?=)
Date: Wed, 31 Jul 2002 12:49:08 +0200
Subject: [R] =?iso-8859-1?Q?Nonlinear_Seemingly_Unrelated_Regression?=
Message-ID: <H040PW$2471134CC4F495C2B5A7A4C14D2DB915@libero.it>

Hello to everyone,

I found some problems using R in the estimation of systems of nonlinear 
equations
like SURE (Seemingly Unrelated Regression Equations) with mutual 
parameters as the following system example:

EQ1  PQ1=P1*G1+B1*(Y-P1*G1-P2*G2-P3*G3)
EQ2  PQ2=P2*G2+B2*(Y-P1*G1-P2*G2-P3*G3)

where G1,G2,G3,B1,B2 are the coefficients to estimate.

command "nls" accept only single equation nonlinear model formula and 
package "systemfit" doesn't allows any nonlinear estimation.

Do you know a solution for this problem?

Thanks for the attention.

Best regards

Andrea Vezzulli
vezzu.andrea at libero.it
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vezzu.andrea at libero.it  Wed Jul 31 12:49:08 2002
From: vezzu.andrea at libero.it (=?utf-8?Q?vezzu.andrea@libero.it?=)
Date: Wed, 31 Jul 2002 12:49:08 +0200
Subject: [R] =?iso-8859-1?Q?Nonlinear_Seemingly_Unrelated_Regression?=
Message-ID: <H040PW$2471134CC4F495C2B5A7A4C14D2DB915@libero.it>

Hello to everyone,

I found some problems using R in the estimation of systems of nonlinear 
equations
like SURE (Seemingly Unrelated Regression Equations) with mutual 
parameters as the following system example:

EQ1  PQ1=P1*G1+B1*(Y-P1*G1-P2*G2-P3*G3)
EQ2  PQ2=P2*G2+B2*(Y-P1*G1-P2*G2-P3*G3)

where G1,G2,G3,B1,B2 are the coefficients to estimate.

command "nls" accept only single equation nonlinear model formula and 
package "systemfit" doesn't allows any nonlinear estimation.

Do you know a solution for this problem?

Thanks for the attention.

Best regards

Andrea Vezzulli
vezzu.andrea at libero.it
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jul 31 13:12:30 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 31 Jul 2002 13:12:30 +0200
Subject: [R] Balanced Inc. Block Design
In-Reply-To: <Pine.GSO.4.33.0207311128170.735-100000@holyrood.ed.ac.uk>
References: <Pine.GSO.4.33.0207311128170.735-100000@holyrood.ed.ac.uk>
Message-ID: <x24regp2w1.fsf@biostat.ku.dk>

iwhite at staffmail.ed.ac.uk writes:

> Isn't recovery of interblock information just a matter of treating
> blocks as random, e.g.
> 
> lme(fixed = Y ~ trt,random = ~1|blocks,data=example)
> 
> using lme in package nlme?

It's the right model, certainly.

Various pieces of nice theory might disappear because lme doesn't know
how to utilize the balancedness, though.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Peter.Baker at csiro.au  Wed Jul 31 13:20:14 2002
From: Peter.Baker at csiro.au (Peter Baker (CMIS, Indooroopilly))
Date: Wed, 31 Jul 2002 21:20:14 +1000 (EST)
Subject: [R] Balanced Inc. Block Design
In-Reply-To: <XFMail.020731083148.theis@statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.44.0207312113010.16595-100000@cmis-stlucia-nd.tag.csiro.au>

On Wed, 31 Jul 2002, Winfried Theis wrote:

>On 30-Jul-02 Erin Hodgess wrote:
>> How can we do Balanced Incomplete Block Design from R, please?
>As far as I know there is no algorithm to construct BIB designs for arbitrary
>numbers of blocks, experimental units and replicates -- actually for some
>combinations no BIBD exist. For a list of different combinations and generating
>procedures see K. Hinkelmann and O. Kempthorne: Design and analysis of
>experiments, Wiley, New York
>Winfried

For something a little more modern, perhaps CycDesign may prove
useful, see http://www.ffp.csiro.au/tigr/software/cycdesign/cycdes.htm

I don't have a copy yet so I can't really say how useful it may
prove. And of course, as is correctly pointed out, I presume you can't
necessarily find a design for all possible combinations of constraints

Cheers
Peter

-- 
Dr Peter Baker, Statistician (Bioinformatics/Genetics),
CSIRO Mathematical & Information Sciences,
120 Meiers Rd, INDOOROOPILLY, QLD 4068.  Australia. 
Email: <Peter.Baker at csiro.au>
WWW: http://www.cmis.csiro.au/Peter.Baker/
Phone:+61 7 3214 2210   Fax:+61 7 3214 2881



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From steve.roberts at man.ac.uk  Wed Jul 31 13:31:08 2002
From: steve.roberts at man.ac.uk (Steve Roberts)
Date: Wed, 31 Jul 2002 12:31:08 +0100
Subject: [R] Bug in legend?
Message-ID: <3D47D89A.18803.CD3A79@localhost>

This is a bit obscure but caused me some grief...  R1.5.1/MS 
Windows

There seems to be a peculiarity in legend associated with the use 
of expression text. It seems as if expression text is used in (eg) an 
mtext call then if the call to legend also includes expression text 
and a subscript then the legend box and line spacing depends on 
the value of cex used in the previous call to mtext, rather than that 
specified in the call to legend.

An R file which demonstrates the problem is pasted below (subject 
to the usual line wrapping issues)

Steve.

-------------------------------------------------------------------------------------
par(mfrow=c(2,2))
    
#Drawing a legend containing a subscript following a call to mtext 
also containing expression text - the 
# legend layout is dependent on the cex size specified in the 
previous call to mtext
# (regardless of the size set in the call to legend).....
#This shows the issue...  
for (i in 1:4) 
    {
    plot(c(0,1),c(0,1),type="n",xaxt="n",yaxt="n",xlab="",ylab="")     
#empty plot
    mtext(expression(Expression~text),cex=i/2) #Some text in 
margin - expression TEXT
    
legend(.5,.5,expression(Some[subscripted],Thing),lty=c(1,2),bty="o
",xjust=.5,yjust=.5,cex=1) #Draw legend with subscript in middle of 
plot  
    }
#This does what it should 
for (i in 1:4) 
    {
    plot(c(0,1),c(0,1),type="n",xaxt="n",yaxt="n",xlab="",ylab="")     
#empty plot
    mtext("Normal Text",cex=i/2) #Some text in margin - normal 
TEXT
    
legend(.5,.5,expression(Some[subscripted],Thing),lty=c(1,2),bty="o
",xjust=.5,yjust=.5,cex=1) #Draw legend with subscript in middle of 
plot  
    }
#As does this
for (i in 1:4) 
    {
    plot(c(0,1),c(0,1),type="n",xaxt="n",yaxt="n",xlab="",ylab="")     
#empty plot
    mtext(expression(Expression~text),cex=i/2) #Some text in 
margin - expression TEXT
    
legend(.5,.5,expression(Some~unsubscripted,Thing),lty=c(1,2),bty=
"o",xjust=.5,yjust=.5,cex=1) #Draw legend NO SUBSCRIPT in 
middle of plot  
    }

#A second call to legend gets it right!
    plot(c(0,1),c(0,1),type="n",xaxt="n",yaxt="n",xlab="",ylab="")     
#empty plot
    mtext(expression(Expression~text),cex=2) #Some text in 
margin - expression TEXT
    
legend(.5,.5,expression(Some[subscripted],Thing),lty=c(1,2),bty="o
",xjust=.5,yjust=.5,cex=1) #Draw legend with subscript in middle of 
plot  
    
legend(.5,.5,expression(Some[subscripted],Thing),lty=c(1,2),bty="o
",xjust=.5,yjust=.5,cex=1) #Draw legend with subscript in middle of 
plot  

------------------------------------------------------------------------------------
Dr Steve Roberts 
steve.roberts at man.ac.uk

Biostatistics Group,				
School of Epidemiology and Health Sciences,	
2nd Floor,Stopford Building,			
University of Manchester.			
M13 9PT.					
0161 275 5192					
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vincent.hernu at sncf.fr  Wed Jul 31 17:47:16 2002
From: vincent.hernu at sncf.fr (Vincent HERNU)
Date: Wed, 31 Jul 2002 17:47:16 +0200
Subject: [R] help
Message-ID: <3D480684.470A91A3@sncf.fr>

Hello,

I would like to apply BAGGING to classification tree. Does a package
exists on that method?

In advance I thank you for your answer and I am looking forward to
hearing from you .

Best regards,

Vincent HERNU.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Wed Jul 31 17:50:01 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Wed, 31 Jul 2002 11:50:01 -0400
Subject: [R] Problems with factor
References: <3D47D89A.18803.CD3A79@localhost>
Message-ID: <3D480729.333F77CA@umsanet.edu.bo>

Hola!

Why does I get only the underlying representation, and not the level
names, in the following code to recode a factor? Seems like a bug to me.

> attach(Malaria)
> Malaria$TratUl <- factor(ifelse(Malaria$DiaC>0, 
+                          ifelse(Malaria$Trat=="QT", "SP", "QT"),
+                          Malaria$Trat)) 
> Malaria$TratUl
 [1] 1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  QT 2  2  2  2  2  QT
QT 2 
[25] 2  2  QT 2  2  2 
Levels:  1 2 QT 
> Malaria$Trat
 [1] QT QT QT QT QT QT QT QT QT QT QT QT QT QT QT SP SP SP SP SP SP SP
SP SP
[25] SP SP SP SP SP SP
Levels:  QT SP 


Kjetil Halvorsen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 31 18:11:17 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 31 Jul 2002 17:11:17 +0100 (BST)
Subject: [R] Problems with factor
In-Reply-To: <3D480729.333F77CA@umsanet.edu.bo>
Message-ID: <Pine.LNX.4.31.0207311659090.32340-100000@gannet.stats>

On Wed, 31 Jul 2002, kjetil halvorsen wrote:

> Why does I get only the underlying representation, and not the level
> names, in the following code to recode a factor? Seems like a bug to me.

You have coercion going on there.  Here is a simpler example:

> x <- factor(letters)
> ifelse(x=="a", "a", x)
 [1] "a"  "2"  "3"  "4"  "5"  "6"  "7"  "8"  "9"  "10" "11" "12" "13" "14" "15"
[16] "16" "17" "18" "19" "20" "21" "22" "23" "24" "25" "26"

S does the same.

>From the help page

  `ifelse' returns a value with the same shape as `test' which is
  filled with elements selected from either `yes' or `no' depending
  on whether the element of `test' is `TRUE' or `FALSE'.

Note that there is no mention of carrying attributes across from yes or no.

I think you want something like

Malaria$TratUl <- Malaria$Trat
Malaria$TratUl[Malaria$DiaC>0] <-
   ifelse(Malaria$Trat=="QT", "SP", "QT")[Malaria$DiaC>0]

since that only works with character vectors on the RHS.

>
> > attach(Malaria)
> > Malaria$TratUl <- factor(ifelse(Malaria$DiaC>0,
> +                          ifelse(Malaria$Trat=="QT", "SP", "QT"),
> +                          Malaria$Trat))
> > Malaria$TratUl
>  [1] 1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  QT 2  2  2  2  2  QT
> QT 2
> [25] 2  2  QT 2  2  2
> Levels:  1 2 QT
> > Malaria$Trat
>  [1] QT QT QT QT QT QT QT QT QT QT QT QT QT QT QT SP SP SP SP SP SP SP
> SP SP
> [25] SP SP SP SP SP SP
> Levels:  QT SP

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Wed Jul 31 18:12:21 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Wed, 31 Jul 2002 09:12:21 -0700 (PDT)
Subject: [R] help
In-Reply-To: <3D480684.470A91A3@sncf.fr>
Message-ID: <Pine.GSO.4.10.10207310911400.8149-100000@quetelet.stat.ucla.edu>

Check out the 'ipred' package.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Wed, 31 Jul 2002, Vincent HERNU wrote:

> Hello,
> 
> I would like to apply BAGGING to classification tree. Does a package
> exists on that method?
> 
> In advance I thank you for your answer and I am looking forward to
> hearing from you .
> 
> Best regards,
> 
> Vincent HERNU.
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew_wiener at merck.com  Wed Jul 31 18:25:05 2002
From: matthew_wiener at merck.com (Wiener, Matthew)
Date: Wed, 31 Jul 2002 12:25:05 -0400
Subject: [R] help
Message-ID: <7C4F091F6140D411A29300508B5C73B908A2BD01@usrymx04.merck.com>

The randomForest package might help.  (You'll need to pay attention to the
"mtry" variable so you can make the algorithm check every variable at every
time.)

Hope this helps.

Matthew Wiener
Applied Computer Science & Mathematics Dept.
Merck Research Labs
Rahway, NJ 07090
732-594-5303 


-----Original Message-----
From: Vincent HERNU [mailto:vincent.hernu at sncf.fr]
Sent: Wednesday, July 31, 2002 11:47 AM
To: r-help at stat.math.ethz.ch
Subject: [R] help


Hello,

I would like to apply BAGGING to classification tree. Does a package
exists on that method?

In advance I thank you for your answer and I am looking forward to
hearing from you .

Best regards,

Vincent HERNU.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jul 31 20:00:51 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 31 Jul 2002 20:00:51 +0200
Subject: [R] Problems with factor
In-Reply-To: <Pine.LNX.4.31.0207311659090.32340-100000@gannet.stats>
References: <Pine.LNX.4.31.0207311659090.32340-100000@gannet.stats>
Message-ID: <x2d6t3zsj0.fsf@biostat.ku.dk>

ripley at stats.ox.ac.uk writes:

> On Wed, 31 Jul 2002, kjetil halvorsen wrote:
> 
> > Why does I get only the underlying representation, and not the level
> > names, in the following code to recode a factor? Seems like a bug to me.
> 
> You have coercion going on there.  Here is a simpler example:
> 
> > x <- factor(letters)
> > ifelse(x=="a", "a", x)
>  [1] "a"  "2"  "3"  "4"  "5"  "6"  "7"  "8"  "9"  "10" "11" "12" "13" "14" "15"
> [16] "16" "17" "18" "19" "20" "21" "22" "23" "24" "25" "26"

..and even

> c("a",x)
 [1] "a"  "1"  "2"  "3"  "4"  "5"  "6"  "7"  "8"  "9"  "10" "11" "12" "13" "14"
[16] "15" "16" "17" "18" "19" "20" "21" "22" "23" "24" "25" "26"


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul.louisell at pw.utc.com  Wed Jul 31 20:02:49 2002
From: paul.louisell at pw.utc.com (Louisell, Paul , T.)
Date: Wed, 31 Jul 2002 14:02:49 -0400
Subject: [R] SHLIB
Message-ID: <D30064BBFF2DD51180BC00508BDF3EE7026F06D8@pusehe07.eh.pweh.com>

Hi,

I'm having a problem using the 'SHLIB' command in R. I keep getting syntax
errors. The help gives the following usage for it:

Rcmd SHLIB [-o dllname] files

'files' is supposed to be a list of files, but whether I set up a list or a
character vector, I still get a syntax error. Does anyone know if they're
are supposed to be quotes somewhere in there? If someone has an example of
this command that's worked, I'd appreciate it.

Thanks,

Paul Louisell
(860) 565-5417
louisept at pweh.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 31 20:16:47 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 31 Jul 2002 19:16:47 +0100 (BST)
Subject: [R] SHLIB
In-Reply-To: <D30064BBFF2DD51180BC00508BDF3EE7026F06D8@pusehe07.eh.pweh.com>
Message-ID: <Pine.LNX.4.31.0207311916140.2112-100000@gannet.stats>

It's a command to be used from a shell, not inside R.

On Wed, 31 Jul 2002, Louisell, Paul , T. wrote:

> Hi,
>
> I'm having a problem using the 'SHLIB' command in R. I keep getting syntax
> errors. The help gives the following usage for it:
>
> Rcmd SHLIB [-o dllname] files
>
> 'files' is supposed to be a list of files, but whether I set up a list or a
> character vector, I still get a syntax error. Does anyone know if they're
> are supposed to be quotes somewhere in there? If someone has an example of
> this command that's worked, I'd appreciate it.
>
> Thanks,
>
> Paul Louisell
> (860) 565-5417
> louisept at pweh.com
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jul 31 20:21:21 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 31 Jul 2002 20:21:21 +0200
Subject: [R] SHLIB
References: <D30064BBFF2DD51180BC00508BDF3EE7026F06D8@pusehe07.eh.pweh.com>
Message-ID: <3D482AA1.13D3CEAD@statistik.uni-dortmund.de>



"Louisell, Paul , T." wrote:
> 
> Hi,
> 
> I'm having a problem using the 'SHLIB' command in R. I keep getting syntax
> errors. The help gives the following usage for it:
> 
> Rcmd SHLIB [-o dllname] files
> 
> 'files' is supposed to be a list of files, but whether I set up a list or a
> character vector, I still get a syntax error. Does anyone know if they're
> are supposed to be quotes somewhere in there? If someone has an example of
> this command that's worked, I'd appreciate it.

1. Tell us your OS. Well, you are on windows, as we can guess from
"Rcmd".

2. Tell us your version of R.

3. Rcmd can't be invoked from within R. It is an executable that will be
in 
  ...\your-r-directory\bin .
It will be in there if (a) you have compiled R yourself or (b) if you
choose to install the sources as well from the Setup Wizard.
So you should invoke it from the windows shell. 
The list of files has to be seperated by blanks.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jul 31 20:26:28 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 31 Jul 2002 20:26:28 +0200
Subject: [R] SHLIB
In-Reply-To: <D30064BBFF2DD51180BC00508BDF3EE7026F06D8@pusehe07.eh.pweh.com>
References: <D30064BBFF2DD51180BC00508BDF3EE7026F06D8@pusehe07.eh.pweh.com>
Message-ID: <x28z3rzrcb.fsf@biostat.ku.dk>

"Louisell, Paul , T." <paul.louisell at pw.utc.com> writes:

> Hi,
> 
> I'm having a problem using the 'SHLIB' command in R. I keep getting syntax
> errors. The help gives the following usage for it:
> 
> Rcmd SHLIB [-o dllname] files
> 
> 'files' is supposed to be a list of files, but whether I set up a list or a
> character vector, I still get a syntax error. Does anyone know if they're
> are supposed to be quotes somewhere in there? If someone has an example of
> this command that's worked, I'd appreciate it.

You need to run that from a COMMAND LINE (an MS-DOS window or similar),
outside of R. 

I suppose the help pages could be clearer, but I think you'd be less
easily confused after studying the "Writing R Extensions" manual.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hans at eg.umu.se  Wed Jul 31 19:57:39 2002
From: hans at eg.umu.se (Hans Gardfjell)
Date: Wed, 31 Jul 2002 13:57:39 -0400
Subject: [R] Bug or feature in xyplot?
In-Reply-To: <20020729052605.7663.qmail@web13901.mail.yahoo.com>
Message-ID: <GMEGKBFBJGFIIPCOIBNBKEJECCAA.hans@eg.umu.se>

Thanks Deepayan,

I should of course have RTFM (or in this case RTFHP). So after looking thru
your examples under ?xyplot and ?panel.xyplot I understood what you meant,
and it was easy to write a new panel function. So here is my panel function
that gives different colors for each level of (a second) group variable (and
if the levels in fact are color names it uses them):

"panel.xycol" <-
function(x,y,subscripts,groups,...){
#Panel that plots symbols with different colors for different levels of
group
#Check if the levels are color codes - if so, use them.
cc<-all(tolower(levels(groups)) %in% colors())
for (i in 1:length(levels(groups))) {
if (cc) {
lpoints(x[groups[subscripts]==levels(groups)[i]],y[groups[subscripts]==level
s(groups)[i]],col=as.character(levels(groups)[i])) }
else {
lpoints(x[groups[subscripts]==levels(groups)[i]],y[groups[subscripts]==level
s(groups)[i]],col=i)
}}}

/hans

-----Original Message-----
From: Deepayan Sarkar [mailto:deepayansarkar at yahoo.com]
Sent: Monday, July 29, 2002 1:26 AM
To: Hans Gardfjell; r-help at stat.math.ethz.ch
Subject: Re: [R] Bug or feature in xyplot?



--- Hans Gardfjell <hans at eg.umu.se> wrote:
> Hi,
>
> Can someone of you tell me why these two simple examples works as
> "expected",
>
>   plot(c(1,1,2,2)~c(1,2,1,2),col=c(1,2,3,4),pch=c(1,2,3,4))
>
>
coplot(c(1,1,2,2)~c(1,2,1,2)|c("A","A","B","B"),col=c(1,2,3,4),pch=c(1,2,3,4
> ))
>
> but when I try it with xyplot in the lattice package it fails.
>
>
>
xyplot(c(1,1,2,2)~c(1,2,1,2)|c("A","A","B","B"),col=c(1,2,3,4),pch=c(1,2,3,4
> ))
>
> Do I have to specify colors and symbol types differently with lattice
> functions or
> is this a bug?

Depends on which part you think is unexpected. Both panels should use pch 1
and
2 (and not 3 and 4 for the second panel like coplot), which seems reasonable
enough; it starts afresh for each panel. The col isn't vectorized because
grid
doesn't support vectorized graphical parameters yet (but will do so from the
next version).

That said, from a design perspective, col and pch should not be vectors at
all
in your example. S-Plus would actually ignore vectorized col/pch etc (with a
warning) and use only the first values. Multiple graphical symbols are
supposed
to be achieved via the groups argument and panel.superpose.

Deepayan



__________________________________________________




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


