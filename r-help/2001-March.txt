From derek.eder at neuro.gu.se  Wed Mar 28 12:31:20 2001
From: derek.eder at neuro.gu.se (Derek N Eder)
Date: Wed, 28 Mar 2001 12:31:20 +0200
Subject: [R] Returning position of mouse cursor (without button press) ?
Message-ID: <MAEFKKKJKILLHCPMAEKMAEDPCAAA.derek.eder@neuro.gu.se>

I would like a function that return the X,Y position of the mouse cursor
whenever it is called PERIOD, i.e., without the button presses of locator()
or identify().

E.G.,
> where.is.mouse()
[1]  123   34  # X and Y coordinates of present mouse position in current
graphics window

Is this a conceivable R function or does it need to be addressed with a call
to the OS (Windows 2000 in my case)?

Thanks,

Derek


Derek N. Eder
G?teborgs Universitet
Institutionen f?r klinisk neurovetenskap - psykiatri
Sahlgrenska universitetssjukhuset
Bl? straket 17
SE 413 45  G?teborg
Sverige

tlf. +46 (031) 34 26 139
derek.eder at neuro.gu.se


Gothenburg University
Institute of clinical neuroscience,
section for Psychiatry
SU/SS
SE 413 45  G?teborg
Sweden

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hzi at uol.com.br  Thu Mar  1 11:36:00 2001
From: hzi at uol.com.br (hzi)
Date: Thu, 1 Mar 2001 07:36:00 -0300
Subject: [R] Reads.spps causes crash in Windows ME
Message-ID: <000001c0a24d$87b8f180$39c5bfc8@jarnt>

Hello-

    Whenever I
    > library(foreign)
    >read.spss("C:/file/chpoa6.sav")

    it just crashes the R application, with the following message:

    Rgui caused an error in MSVCRT.DLL
    Rgui will be closed

    Does anyone have a clue as to why this happens?
    BTW, I use Windows ME and SPSS v7

    Thanks,
    Regards,

    Henry L.
    

    
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010301/21d18c22/attachment.html

From hzi at uol.com.br  Thu Mar  1 11:38:56 2001
From: hzi at uol.com.br (hzi)
Date: Thu, 1 Mar 2001 07:38:56 -0300
Subject: [R] Is something wrong with the CRAN server?
Message-ID: <000101c0a24d$88825c00$39c5bfc8@jarnt>

Hello-

    Last night I tried to update my Debian R package, with dselect, using the correct line as reccomended in /etc/apt/sources.list, but I just wasn?t able to do it.
    Why, was the server down?

    Regards,
    Henry
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010301/a9318c56/attachment.html

From paradis at isem.univ-montp2.fr  Thu Mar  1 00:45:14 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 01 Mar 2001 00:45:14 +0100
Subject: (off topic) Re: [R] Notepad
Message-ID: <3.0.32.20010301004513.008e4830@162.38.183.200>

At 21:57 28/02/01 +0100, Peter Dalgaard BSA wrote:
>Jim Lemon <bitwrit at ozemail.com.au> writes:
>
>> 3) The usual number of responses spent a lot of time dissing NotePad and
>> advertising their favorite editor.  As various contributors noted,
>> NotePad actually does most of the things that some people said it
>> doesn't.  Positive advice (like the fact that NotePad _always_ saves in
>> plain text) is usually helpful.  Negative advice always reminds me of
>> the marketing practices of some software companies.
>
>Hmm, well, by your defs
>
>negative x 2:
>Notepad conks out at 64 K or thereabouts

Not on my NT4.0 system: I can open files > 1 Mb.

>Notepad doesn't do search and replace

Not on my NT4.0 system: I can do search/replace.

It's true that NotePad is not so bad for someone who starts with R, and I
used it during some time (and still does). But I recently discovered ESS
with XEmacs on a Solaris machine, and I must admit that it is _really_
different. After all, it would be good for a beginner to have the features
of ESS (syntax highlitning, buffer execution, automatic indentation, ...)
rather than waiting to be experienced with R. (I seem to remember that the
R-FAQ recommends ESS.)

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yuling5 at yahoo.com  Thu Mar  1 00:51:33 2001
From: yuling5 at yahoo.com (Yu-Ling Wu)
Date: Wed, 28 Feb 2001 15:51:33 -0800 (PST)
Subject: [R] append output to an existing file
Message-ID: <20010228235133.37660.qmail@web11504.mail.yahoo.com>

Hi,

I have a Word file "output.doc".
Now I run "rterm --slave < script.r > output.doc".
It will overwrite all the data in "output.doc".

How to keep the original data in "output.doc" and 
meanwhile append the output from R to that file?

Thanks,
Yu-Ling Wu

__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Mar  1 01:00:36 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 28 Feb 2001 16:00:36 -0800
Subject: (off topic) Re: [R] Notepad
In-Reply-To: <3.0.32.20010301004513.008e4830@162.38.183.200>
References: <3.0.32.20010301004513.008e4830@162.38.183.200>
Message-ID: <8766hu4au3.fsf@jeeves.blindglobe.net>

>>>>> "EP" == Emmanuel Paradis <paradis at isem.univ-montp2.fr> writes:

    EP> It's true that NotePad is not so bad for someone who starts
    EP> with R, and I used it during some time (and still does). But I
    EP> recently discovered ESS with XEmacs on a Solaris machine, and
    EP> I must admit that it is _really_ different. After all, it
    EP> would be good for a beginner to have the features of ESS
    EP> (syntax highlitning, buffer execution, automatic indentation,
    EP> ...)  rather than waiting to be experienced with R. (I seem to
    EP> remember that the R-FAQ recommends ESS.)

For our "intro to computing session" (3-5 hour session) for our
incoming grad students, we force this on them, with the intent being
that they shouldn't get used to any other approach (after all, it DOES
work on windows, and probably could work on Macs (at least OS X), as
well...).  We also teach LaTeX via AucTeX at the same time, suggesting
that they really need to become familiar with XEmacs (XEmacs, due to
x-symbol, primarily).  Sometimes it sticks, sometimes not, but usually
they learn that the only way to run S-Plus (and eventually R) is
"xemacs -f S" (aka "xemacs -f R").

This has only been the last 2 years, but then again, I've been
teaching that session... :-).  Older grad students have tended to be
stuck in their ways, and have generally not transformed as readily
(ditto with some of our faculty), supporting the "hit them hard, hit
them early" approach.  Of course, that _was_ a generalization;
specific cases differ from the median.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (friday is unknown) --------
FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Thu Mar  1 01:02:43 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 01 Mar 2001 01:02:43 +0100
Subject: [R] print() 
Message-ID: <3.0.32.20010301010241.008f2470@162.38.183.200>

At 14:10 28/02/01 -0800, you wrote:
>Hi, I've two questions. Please help me. Thanks!
>
>--- Question (1) ---
>When I type:   print("School Name")
>the output is: [1] "School Name"
>How to get rid of the '[1]' and the double quotes "" 
>and make the output like this: School Name

Use cat():

	cat("School Name")

or:

	cat("School Name\n")

to add a carriage return.

>--- Question (2) ---
>I got the following output by typing "summary(data)".
>
>    dstuser        dstmethod        numaction    
> Min.   :1.000   Min.   : 1.000   Min.   : 5.00  
> 1st Qu.:2.000   1st Qu.: 2.000   1st Qu.: 7.00  
> Median :2.000   Median : 7.000   Median :16.00  
> Mean   :2.667   Mean   : 5.222   Mean   :23.11  
> 3rd Qu.:4.000   3rd Qu.: 7.000   3rd Qu.:24.00  
> Max.   :4.000   Max.   :10.000   Max.   :66.00  
>
>How to make the output in grid and look like this:
>
>+--------+---------+----------+-----------+
>|        |dstuser  |dstmethod | numaction |  
>+--------+---------+----------+-----------|
>| Min.   |  1.000  |    1.000 |      5.00 |  
>| 1st Qu.|  2.000  |    2.000 |      7.00 | 
>| Median |  2.000  |    7.000 |     16.00 | 
>| Mean   |  2.667  |    5.222 |     23.11 | 
>| 3rd Qu.|  4.000  |    7.000 |     24.00 | 
>| Max.   |  4.000  |   10.000 |     66.00 | 
>+--------+---------+----------+-----------+

I do not see a straightforward way to do this. You can probably write a
function to do this. If you use LaTeX, there is a package on CRAN that
prepares a table in a format suitable for LaTeX.

Emmanuel Paradis

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s131b at stat.berkeley.edu  Thu Mar  1 02:04:55 2001
From: s131b at stat.berkeley.edu (Matthew Crawford)
Date: Wed, 28 Feb 2001 17:04:55 -0800
Subject: [R] arima.sim
Message-ID: <3A9DA037.5F99B318@stat.Berkeley.EDU>

Does the S-Plus function "arima.sim" have an R counterpart?
Or is there another way I can simulate values from an ARMA model?

I used "filter" to do AR and MA processes by themselves, but that's as
far as I got.

Thanks,
Matt
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s131b at stat.berkeley.edu  Thu Mar  1 02:15:08 2001
From: s131b at stat.berkeley.edu (Matthew Crawford)
Date: Wed, 28 Feb 2001 17:15:08 -0800
Subject: [R] arima.sim
Message-ID: <3A9DA29C.F7A0081D@stat.Berkeley.EDU>

Sorry for the spurious previous message.  I found the example under
filter, as well as the answer to a previous person's identical
question.  Again, my apologies.

Matt
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hzi at uol.com.br  Thu Mar  1 15:49:10 2001
From: hzi at uol.com.br (hzi)
Date: Thu, 1 Mar 2001 11:49:10 -0300
Subject: [R] How do you expand memory capability (Was: R crashes in Windows ME)
Message-ID: <005301c0a25e$c70cbc20$06c4bfc8@jarnt>

Hello-

    Since my data bank in SPSS has > 40 variables, I think that R crashes because of the memory limit.
    In Maindonald?s UsingR text, on pg 3, there?s a footnote that reads:
    "If you want larger memory space than the default you may want a target akin to
        <path to binary>\rw091\bin\rgui.exe --visize 30M --nsize 1000K
    [The default is --vsize 6M --nsize 250K (...)]

    I tried that, but R still crashes.
    How come?
    
    Thanks for any help,
    Regards,
    Henry L.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010301/8cbcb1ff/attachment.html

From edd at debian.org  Thu Mar  1 03:45:33 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed, 28 Feb 2001 20:45:33 -0600 (CST)
Subject: [R] Is something wrong with the CRAN server?
In-Reply-To: <000101c0a24d$88825c00$39c5bfc8@jarnt>
References: <000101c0a24d$88825c00$39c5bfc8@jarnt>
Message-ID: <15005.47053.996319.671524@sonny.eddelbuettel.com>


  "Henry" == hzi  <hzi at uol.com.br> writes:
  Henry>  Hello- Last night I tried to update my Debian R package, with
  Henry> dselect, using the correct line as reccomended in
  Henry> /etc/apt/sources.list, but I just wasn?t able to do it.  Why, was
  Henry> the server down?

Well, the following line worked for me yesterday and today on two different
machines. 

# R
deb http://cran.us.r-project.org/bin/linux/debian potato main

Hth, Dirk

-- 
According to the latest figures, 43% of all statistics are totally worthless.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Thu Mar  1 05:25:46 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 1 Mar 2001 14:55:46 +1030
Subject: [R] comments on documentation
In-Reply-To: <017701c0a19a$5bf21080$09c4bfc8@jarnt>
References: <20010227093724.5372.qmail@web1201.mail.yahoo.com>
	<017701c0a19a$5bf21080$09c4bfc8@jarnt>
Message-ID: <15005.53066.514368.782220@celeborn.at>

>>>>> On Wed, 28 Feb 2001 12:10:53 -0300,
>>>>> hzi  (h) wrote:

  > So...Is there such a thing in the R community as a Documentation team (like
  > you have the LDP 0 Linux Documentation Project)?
  > You see, it?s like that japanese martial art Aikido: newbies give you a
  > rough ride, because they don?t know the movements by heart. Likewise, what
  > may seem like a clear explanation to "gurus" may actually be quite
  > unsatisfactory from a newbie?s view point. This is not to say that is poorly
  > written, it?s just that we don?t read the documentation with the same eyes
  > an "experienced" person does. All too often, it has been my experience with
  > the open-source community, the documentation lacks little tiny details that
  > are just so important...

That's why we started the ``contributed documentation'' section on
CRAN. I completely agree that more newbie documentation would be
helpful. It's just a matter of getting it written. I don't think there
currently exists such a thing as a documentation team, but if somebody
volunteers to organize it we'd be more than glad to put the results on
CRAN!

Best,
Fritz

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meles at free.fr  Thu Mar  1 08:14:18 2001
From: meles at free.fr (Meles MELES)
Date: Thu, 1 Mar 2001 08:14:18 +0100
Subject: [R] append output to an existing file
In-Reply-To: <20010228235133.37660.qmail@web11504.mail.yahoo.com>
References: <20010228235133.37660.qmail@web11504.mail.yahoo.com>
Message-ID: <01030108141800.01102@meles>

Le Jeudi  1 Mars 2001 00:51, Yu-Ling Wu a écrit :
> Now I run "rterm --slave < script.r > output.doc".

I would try "rterm --slave < script.r >> output.doc".

Best regards
-- 
Blaise aka Meles
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Mar  1 08:22:34 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 01 Mar 2001 08:22:34 +0100
Subject: [R] Reads.spps causes crash in Windows ME
References: <000001c0a24d$87b8f180$39c5bfc8@jarnt>
Message-ID: <3A9DF8BA.57332D7F@statistik.uni-dortmund.de>



> hzi wrote:
> 
> Hello-
> 
>     Whenever I
>     > library(foreign)
>     >read.spss("C:/file/chpoa6.sav")
> 
>     it just crashes the R application, with the following message:
> 
>     Rgui caused an error in MSVCRT.DLL
>     Rgui will be closed
> 
>     Does anyone have a clue as to why this happens?
>     BTW, I use Windows ME and SPSS v7

Because you have an VERY old versuion of R (we can see this in one of
your next messages). 

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  1 08:33:24 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 1 Mar 2001 07:33:24 +0000 (GMT)
Subject: (off topic) Re: [R] Notepad
In-Reply-To: <3.0.32.20010301004513.008e4830@162.38.183.200>
Message-ID: <Pine.GSO.4.31.0103010727300.1833-100000@auk.stats>

On Thu, 1 Mar 2001, Emmanuel Paradis wrote:

> At 21:57 28/02/01 +0100, Peter Dalgaard BSA wrote:
> >Jim Lemon <bitwrit at ozemail.com.au> writes:
> >
> >> 3) The usual number of responses spent a lot of time dissing NotePad and
> >> advertising their favorite editor.  As various contributors noted,
> >> NotePad actually does most of the things that some people said it
> >> doesn't.  Positive advice (like the fact that NotePad _always_ saves in
> >> plain text) is usually helpful.  Negative advice always reminds me of
> >> the marketing practices of some software companies.
> >
> >Hmm, well, by your defs
> >
> >negative x 2:
> >Notepad conks out at 64 K or thereabouts
>
> Not on my NT4.0 system: I can open files > 1 Mb.
>
> >Notepad doesn't do search and replace
>
> Not on my NT4.0 system: I can do search/replace.
>
> It's true that NotePad is not so bad for someone who starts with R, and I
> used it during some time (and still does). But I recently discovered ESS
> with XEmacs on a Solaris machine, and I must admit that it is _really_
> different. After all, it would be good for a beginner to have the features
> of ESS (syntax highlitning, buffer execution, automatic indentation, ...)
> rather than waiting to be experienced with R. (I seem to remember that the
> R-FAQ recommends ESS.)

Just to remind people that ESS and FSF Emacs run on Windows too.  (There is
or was also an Xemacs port to Windows, but I have very little experience
with it.)

I use Emacs as an editor, not out a great love of its interface, but
because it works in exactly the same way on all the OSes and interfaces I
need to use.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jaitchis at lisp.com.au  Thu Mar  1 08:31:16 2001
From: jaitchis at lisp.com.au (John Aitchison)
Date: Thu, 1 Mar 2001 18:31:16 +1100
Subject: [R] Kohonen's SOM in R?
Message-ID: <3A9E9574.5242.245F896@localhost>


Is there an implementation of the SOM ('Self Organizing Map') procedure in 
R ? 

I am aware of the implementations of Sammon mapping, multidimensional 
scaling and, somewhat peripherally, principal curves and projection 
pursuit ..  but not SOM per se as far as I can see. Am I missing 
something?


---------------------

for anyone interesed in SOM
I found Samuel Kaski's thesis "Data exploration using self-organizing 
maps" fairly accessible
http://www.cis.hut.fi/~sami/thesis.ps

and there is a wealth of material at

http://www.cis.hut.fi/research/som-research/som.shtml


John Aitchison
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jaitchis at lisp.com.au  Thu Mar  1 08:31:16 2001
From: jaitchis at lisp.com.au (John Aitchison)
Date: Thu, 1 Mar 2001 18:31:16 +1100
Subject: [R] aggregated CHM help files
Message-ID: <3A9E9574.32657.245F760@localhost>

A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 2490 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010301/996dcd36/attachment.bin

From ligges at statistik.uni-dortmund.de  Thu Mar  1 08:35:16 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 01 Mar 2001 08:35:16 +0100
Subject: [R] append output to an existing file
References: <20010228235133.37660.qmail@web11504.mail.yahoo.com>
Message-ID: <3A9DFBB4.99B4B8F1@statistik.uni-dortmund.de>



Yu-Ling Wu wrote:
> 
> Hi,
> 
> I have a Word file "output.doc".
> Now I run "rterm --slave < script.r > output.doc".
> It will overwrite all the data in "output.doc".

Try 
rterm --slave < script.r >> output.doc

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  1 08:54:20 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 1 Mar 2001 07:54:20 +0000 (GMT)
Subject: [R] How do you expand memory capability (Was: R crashes in
 Windows ME)
In-Reply-To: <005301c0a25e$c70cbc20$06c4bfc8@jarnt>
Message-ID: <Pine.GSO.4.31.0103010740240.1833-100000@auk.stats>

On Thu, 1 Mar 2001, hzi wrote:

> Hello-
>
>     Since my data bank in SPSS has > 40 variables, I think that R crashes because of the memory limit.
>     In Maindonald´s UsingR text, on pg 3, there´s a footnote that reads:
>     "If you want larger memory space than the default you may want a target akin to
>         <path to binary>\rw091\bin\rgui.exe --visize 30M --nsize 1000K
>     [The default is --vsize 6M --nsize 250K (...)]
>
>     I tried that, but R still crashes.
>     How come?

Although you commented earlier on the quality of the R documentation, you
are asking a question in your subject line that is answered both in the FAQ
and in the R for Windows FAQ.  As the answer depends on the version of R in
use, and Maindonald's text is (well) out of date, you will need to read the
FAQ for your version of R (which the FAQ asks that you report).

Please also read the section of the FAQ on bugs, and note both the
information we need to help with problems and the advice not to report
your guess at the answer without the facts.

Do check that the version of foreign you are using is compatible
with the version of R you are using, preferably by compiling it yourself.
Using incompatible versions will lead to crashes.

You might also like to consider following the advice in the R Data
Import/Export manual to export the data from SPSS in a non-proprietary
format.  It is there for good reasons, one of which is known reliability.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  1 09:12:40 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 1 Mar 2001 08:12:40 +0000 (GMT)
Subject: [R] Kohonen's SOM in R?
In-Reply-To: <3A9E9574.5242.245F896@localhost>
Message-ID: <Pine.GSO.4.31.0103010755510.1833-100000@auk.stats>

On Thu, 1 Mar 2001, John Aitchison wrote:

>
> Is there an implementation of the SOM ('Self Organizing Map') procedure in
> R ?
>
> I am aware of the implementations of Sammon mapping, multidimensional
> scaling and, somewhat peripherally, principal curves and projection
> pursuit ..  but not SOM per se as far as I can see. Am I missing
> something?

Not that I know of, although some pure S code was mentioned on S-news once.
It was very slow when I tried it.  You might like to check that list's
archive:

http://www.biostat.wustl.edu/hyperlists/s-news/199906/msg00061.html

The link there is dead, but the code is on

http://www.biostat.wustl.edu/hyperlists/s-news/199906/msg00062.html


I once wrote an R interface to SOM-PAK (via system).  Something like that
is on my TODO list.  However, SOM is just an algorithm whose fine details
are not really documented except via the group's programs.  One could build
an R interface to their C code, but as it would be for `scientific
purposes' only, it would probably not meet your needs.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  1 09:17:52 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 1 Mar 2001 08:17:52 +0000 (GMT)
Subject: [R] aggregated CHM help files
In-Reply-To: <3A9E9574.32657.245F760@localhost>
Message-ID: <Pine.GSO.4.31.0103010813220.1833-100000@auk.stats>

On Thu, 1 Mar 2001, John Aitchison wrote:

(No HTML in mail, please.)

> I have recently been interested in the possibility that the R .CHM format
> help  files could be aggregated into a single help file, full text
> searchable  (as in, using the existing Microsoft(M$) full text search
> facility) . So it - the M$ html help engine-  would find, across files,
> words like Kalman or Kohonen , which are not found by the Javascript
> keyword search that searches the HTML files  (titles and the prespecified
> keywords).
>
>
> Also, I like CHM (aka "HTML  Help") for some reason - it seems elegant.
>
>
>
> I don't know if I am wasting my time here, and if someone has been there
> done that, I'd like to know about it.  I spent a few hours wrestling with
> Microsoft's 'HTML Help Workshop' ( I have never used it before) and got
> precisely nowhere, but it is in theory possible .. I quote from the Help
> Workshop file

[...]

I believe it is only possible to do this statically, that is to link
several .chm files into a single help set from a pre-specified set.
But the set of help files for R is dynamic, depending which packages
are available (and which versions of the packages).  We have enough toruble
with cross-links between help files ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bxc at novonordisk.com  Thu Mar  1 09:33:53 2001
From: bxc at novonordisk.com (BXC (Bendix Carstensen))
Date: Thu, 1 Mar 2001 09:33:53 +0100 
Subject: [R] Array subscripting by names
Message-ID: <D5A7D734C9C5D211B9E30008C78923020609E98A@exdkba03.novo.dk>

I have:

> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    2.1            
year     2001           
month    01             
day      15             
language R              
> m <- matrix( 1:6, 2, 3 )
> rownames( m ) <- c( "a", "b" )
> m
  [,1] [,2] [,3]
a    1    3    5
b    2    4    6
> m[ "a", ]
[1] 1 3 5
> m[ "b", ]
[1] 2 4 6
> m[ match( "c", rownames(m) ), ]
[1] NA NA NA
> m[ "c", ]
Error: subscript out of bounds

I would have guessed that the last two commands always produced the same
result. 
Is this a bug or feature? If the latter is the case, what is the use of?

Bendix Carstensen

----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Centre
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 28 25 87 38
fax: +45 44 43 73 13
bxc at novo.dk
www.biostat.ku.dk/~bxc
----------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  1 10:30:42 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 1 Mar 2001 09:30:42 +0000 (GMT)
Subject: [R] Array subscripting by names
In-Reply-To: <D5A7D734C9C5D211B9E30008C78923020609E98A@exdkba03.novo.dk>
Message-ID: <Pine.GSO.4.31.0103010924450.19293-100000@toucan.stats>

On Thu, 1 Mar 2001, BXC (Bendix Carstensen) wrote:

> I have:
>
> > version
>          _
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    2.1
> year     2001
> month    01
> day      15
> language R
> > m <- matrix( 1:6, 2, 3 )
> > rownames( m ) <- c( "a", "b" )
> > m
>   [,1] [,2] [,3]
> a    1    3    5
> b    2    4    6
> > m[ "a", ]
> [1] 1 3 5
> > m[ "b", ]
> [1] 2 4 6
> > m[ match( "c", rownames(m) ), ]
> [1] NA NA NA
> > m[ "c", ]
> Error: subscript out of bounds
>
> I would have guessed that the last two commands always produced the same
> result.
> Is this a bug or feature? If the latter is the case, what is the use of?

A feature.  Look at

> match( "c", rownames(m) )
[1] NA
> m[NA, ]
   [,1] [,2] [,3]
NA   NA   NA   NA
NA   NA   NA   NA
> m[as.numeric(NA), ]
[1] NA NA NA

to see what is going on.  Indexing by NA (logical or numeric) can
occasionally be useful.

Most of the time I think you want

> m[ match( "c", rownames(m), nomatch=0 ), ]
>      [,1] [,2] [,3]

to omit missing names.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jaitchis at lisp.com.au  Thu Mar  1 11:33:57 2001
From: jaitchis at lisp.com.au (John Aitchison)
Date: Thu, 1 Mar 2001 21:33:57 +1100
Subject: [R] aggregated CHM help files
In-Reply-To: <Pine.GSO.4.31.0103010813220.1833-100000@auk.stats>
References: <3A9E9574.32657.245F760@localhost>
Message-ID: <3A9EC045.21739.2ED3F25@localhost>



On 1 Mar 2001, at 8:17, Prof Brian D Ripley wrote:

> On Thu, 1 Mar 2001, John Aitchison wrote:
> 
> (No HTML in mail, please.)
oops

 I believe it is only possible to do this statically, that is to link
> several .chm files into a single help set from a pre-specified set.
> But the set of help files for R is dynamic, depending which packages
> are available (and which versions of the packages).  We have enough toruble
> with cross-links between help files ....


well, my ignorance is profound in this as in so many other areas, but from 
my reading of the M$ docs it seems that the chm/html help file engine will 
ignore files that are not present, and that this is intended as a 
*feature* ie a way of distributing full and partial versions of the help 
file. So one could, in theory, specify a superset (all possible R chm 
files) and htmlhelp would look only at those actually present.
 

As to the dynamic nature of the set of help files for R a) see above and 
b) I had not intended that this be something implemented from or by "R 
central" .. I am not being disrespectful here, just suggesting that it 
might be possible to build such a thing (aggregated CHM help file) at the 
USER end (to reflect what they have chosen to download) with some utility 
prog .

I am willing to write that utility myself, but I don't want to do it if a) 
it has been done b) it would serve no useful purpose in the opinion of the 
R people c) if others can advise me that it is overly difficult .. as in, 
I am trying to force the htmlhelp engine to do something that it was not 
designed to do.

Let me add that I am very aware of the cross platform philosophy of R and 
that I recognize that platform-dependent full text indexing in this way is 
not perhaps the best way to go. There is, of course, the remarkable mg 
system as in "Managing Gigabytes" (Witten, Graham, Bell) which is afaik 
all C and could perhaps be considered as a better cross platform solution 
down the track.

Again, I'd like to re-iterate that when I raise an issue like this I am 
not requesting someone to DO something - I'm more than happy to contribute 
what I can,  but I don't want to reinvent the wheel. Just looking for some 
feedback and guidance.




John Aitchison
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  1 12:05:54 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 1 Mar 2001 11:05:54 +0000 (GMT)
Subject: [R] aggregated CHM help files
In-Reply-To: <3A9EC045.21739.2ED3F25@localhost>
Message-ID: <Pine.GSO.4.31.0103011102400.19468-100000@toucan.stats>

On Thu, 1 Mar 2001, John Aitchison wrote:

>
>
> On 1 Mar 2001, at 8:17, Prof Brian D Ripley wrote:
>
> > On Thu, 1 Mar 2001, John Aitchison wrote:
> >
> > (No HTML in mail, please.)
> oops
>
>  I believe it is only possible to do this statically, that is to link
> > several .chm files into a single help set from a pre-specified set.
> > But the set of help files for R is dynamic, depending which packages
> > are available (and which versions of the packages).  We have enough toruble
> > with cross-links between help files ....
>
>
> well, my ignorance is profound in this as in so many other areas, but from
> my reading of the M$ docs it seems that the chm/html help file engine will
> ignore files that are not present, and that this is intended as a
> *feature* ie a way of distributing full and partial versions of the help
> file. So one could, in theory, specify a superset (all possible R chm
> files) and htmlhelp would look only at those actually present.

Even `all possible R chm files' is a dynamic set, but I was not aware
of the feature you mention.

> As to the dynamic nature of the set of help files for R a) see above and
> b) I had not intended that this be something implemented from or by "R
> central" .. I am not being disrespectful here, just suggesting that it
> might be possible to build such a thing (aggregated CHM help file) at the
> USER end (to reflect what they have chosen to download) with some utility
> prog .

And I was just giving feedback (as asked for) about what I thought the
snag was.  I did once look at this possibility, back in the days when I
had more enthusiasm for the Windows platform and R port.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Thu Mar  1 12:12:29 2001
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Thu, 01 Mar 2001 11:12:29 +0000
Subject: [R] re: Spatial stats: R vs. Splus
References: <200102281450.QAA15390@cc.oulu.fi>
Message-ID: <3A9E2E9D.4E2C8CCC@ipimar.pt>

Kenneth Nordstrom wrote:

> Hello,
>
> Could someone tell me whether the spatial statistics module of
> Splus is worth the rather high price, or whether one could (with
> reasonable effort) carry out the same things using R and some of
> its contributed packages.
>
> Although we do have Splus (Windows and Unix), we definitely prefer
> to use R whenever feasible (both for research and teaching).
>
> Thanks for developing a superb computing/programming environment.
>
> Kenneth Nordstr?m
>
> ......................................................................
>
> Kenneth Nordstr?m                      Kenneth.Nordstrom at oulu.fi
> Professor of Statistics
> Head of Statistics Division
> Dept of Math Sciences                  Tel: +358-8-553 1829
> Univ of Oulu                                +358-8-553 1820 (secr)
> P.O. Box 3000                          Fax: +358-8-553 1848
> FIN-90014 Univ of Oulu
> FINLAND                                http://stat.oulu.fi/nordstrom/
>
> ......................................................................
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

Hi

The packages referred by Paulo are very good and you can do most of the things
that S+SS do, and some that it doesn't. Like cross-variograms and co-kriging, or
the non-gaussian kriging proposed by Paulo in geoR using MCMC and Bayes stats.
Also geoR has very good exploratory data analysis functions and Sgeostat is very
good for variogram analysis.

However there's something you can't do with the R packages, the variogram using
tolerance for angle and lags at the same time. I mean, the variogram function of
S+SS is more flexible then the one's you get on R, and if you're dealing with
irregular grided data that is very important.

If this problem could be solved there would be no need to by S+SS ...

I'm a very poor developer but I'm available to help if someone decides to develop
a good and flexible variogram function.

Regards

EJ


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dieter.menne at menne-biomed.de  Thu Mar  1 12:30:20 2001
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Thu, 1 Mar 2001 12:30:20 +0100
Subject: [R] Individual rename of list items
Message-ID: <NBBBIJMBGLHMKHGCPFJKEEFMCGAA.dieter.menne@menne-biomed.de>

I am confused by the logic of renaming:

# Rename individual list items?

Empl<-list(employee="Anna",spouse="Fred")
names(Empl)<-c("empl","spo")
names(Empl)
#[1] "empl" "spo"
# worked like a charm... but

names(Empl[1])<-"newempl"
# no error message, yet ....
names(Empl)
#[1] "empl" "spo"
# where's my newempl???????


If this line

  names(Empl[1])<-"newempl"

was stupid, why is there no error message?

---------------------------------------
Dr. Dieter Menne
Biomed Software
72074 T?bingen
Tel (49) (7071) 52176
FAX (49) (7071) 55 10 46
dieter.menne at menne-biomed.de
www.menne-biomed.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From H.RINNER at TIROL.GV.AT  Thu Mar  1 12:44:26 2001
From: H.RINNER at TIROL.GV.AT (RINNER Heinrich)
Date: Thu, 1 Mar 2001 12:44:26 +0100 
Subject: [R] maps in R for Windows
Message-ID: <C4D44AB4CB62D311BA6500041202E886264145@xms1.tirol.gv.at>

I am using R1.2.0 on Windows NT4.0 and am looking for information on drawing
geographical maps.
[The things I'd like to do at the moment are rather simple, just like
plotting the values of some variable (e.g. a SMR) on a given map.]

Searching the r-help mailing list archives, it seems this topic comes up
from time to time. For example, in November 1999 Ray Brownrigg writes about
an "R maps package" (but for Linux only), and in October 2000 Ross Ihaka
tells about work on "getting the Becker-Wilks Maps in S code working in R"
and "putting together an R library for reading, writing, plotting and
manipulating shapefiles".

So my question is, what kind of stuff (if any) is currently available for a
Windows user? (Looking on CRAN, I couldn't find anything.)

Heinrich.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Mar  1 12:12:24 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 1 Mar 2001 11:12:24 +0000
Subject: [R] How do you expand memory capability (Was: R crashes in Windows ME)
In-Reply-To: <005301c0a25e$c70cbc20$06c4bfc8@jarnt>
References: <005301c0a25e$c70cbc20$06c4bfc8@jarnt>
Message-ID: <V+ENXXAY6in6EwJ+@myatt.demon.co.uk>

hzi <hzi at uol.com.br> writes:
>    Hello-
>    ?
>    ??? Since my data bank in SPSS has > 40 variables, I think that R 
>    crashes because of the memory limit.
>    ??? In Maindonald?s UsingR text, on pg 3, there?s a footnote that 
>    reads:
>    ??? "If you want larger memory space than the default you may want 
>    a target akin to
>    ??? ??? <path to binary>\rw091\bin\rgui.exe --visize 30M --nsize 
>    1000K
>    ??? [The default is --vsize 6M --nsize 250K (...)]

Looks like you've got an old version of R. Memory management is improved
in later versions. I think the latest is 1.22. Get the latest version of
the foreign (?) library too.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  1 12:54:02 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 1 Mar 2001 11:54:02 +0000 (GMT)
Subject: [R] Individual rename of list items
Message-ID: <200103011154.LAA19671@toucan.stats.ox.ac.uk>


> From: "Dieter Menne" <dieter.menne at menne-biomed.de>
> Date: Thu, 1 Mar 2001 12:30:20 +0100
> 
> I am confused by the logic of renaming:
> 
> # Rename individual list items?
> 
> Empl<-list(employee="Anna",spouse="Fred")
> names(Empl)<-c("empl","spo")
> names(Empl)
> #[1] "empl" "spo"
> # worked like a charm... but
> 
> names(Empl[1])<-"newempl"
> # no error message, yet ....
> names(Empl)
> #[1] "empl" "spo"
> # where's my newempl???????
> 
> 
> If this line
> 
>   names(Empl[1])<-"newempl"
> 
> was stupid, why is there no error message?

It wasn't stupid,  but it was not what you intended, evidently.  Look at

> Empl[1]
$employee
[1] "Anna"

That is a list, and you gave it a new name, making a new copy. You did
not then reference the new copy.

What you intended I think was

names(Empl)[1]<-"newempl"

which works, but seems not allowed in the R documentation ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Mar  1 13:17:35 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 01 Mar 2001 04:17:35 -0800
Subject: (off topic) Re: [R] Notepad
In-Reply-To: <Pine.GSO.4.31.0103010727300.1833-100000@auk.stats>
References: <Pine.GSO.4.31.0103010727300.1833-100000@auk.stats>
Message-ID: <871yshfzts.fsf@jeeves.blindglobe.net>

>>>>> "BDR" == Brian D Ripley <Prof> writes:

    BDR> Just to remind people that ESS and FSF Emacs run on Windows
    BDR> too.  (There is or was also an Xemacs port to Windows, but I
    BDR> have very little experience with it.)

The XEmacs port to windows is quite nice, has an installer which
handles package additions (much like R's), and I love XEmacs dearly,
since its interface looks far more "professional" (this is a loaded
and ill-defined word, I realize)

BUT 

ESS doesn't work for process communication on it (yet).

It's on the todo list, now that I've actually got a laptop with win2k
on it. 

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (friday is unknown) --------
FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Mar  1 13:16:00 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 1 Mar 2001 07:16:00 -0500
Subject: [R] append output to an existing file
References: <20010228235133.37660.qmail@web11504.mail.yahoo.com> <3A9DFBB4.99B4B8F1@statistik.uni-dortmund.de>
Message-ID: <005301c0a249$618a9bc0$0201a8c0@Workgroup>

Hi,

If output.doc is a real MS Word formatted file and not just an ASCII file
saved with the .doc extension, then using ">>" will effectively append
whatever text is outputted to the file output.doc but Word will never show
it to you. I tried it and I see the appended text in notepad at the end of
the file as it should but Word doesn't display it.

If you absolutely need to add some text to a Word document there are many
ways you can do that but it involves either starting Word or create a Word
document object. Now, doing this from R or via R all I can think of is using
an ActiveX aware scripting language such as Perl, VB Script or Java Script.

If you need help writing the script I could give a hand but I'm no expert at
this and I know more about VB script then the others.

Yves Gauvreau


----- Original Message -----
From: "Uwe Ligges" <ligges at statistik.uni-dortmund.de>
To: "Yu-Ling Wu" <yuling5 at yahoo.com>
Cc: "R-Help" <r-help at stat.math.ethz.ch>
Sent: Thursday, March 01, 2001 2:35 AM
Subject: Re: [R] append output to an existing file


>
>
> Yu-Ling Wu wrote:
> >
> > Hi,
> >
> > I have a Word file "output.doc".
> > Now I run "rterm --slave < script.r > output.doc".
> > It will overwrite all the data in "output.doc".
>
> Try
> rterm --slave < script.r >> output.doc
>
> Uwe
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at pubhealth.ku.dk  Thu Mar  1 13:59:32 2001
From: p.dalgaard at pubhealth.ku.dk (Peter Dalgaard BSA)
Date: 01 Mar 2001 13:59:32 +0100
Subject: [R] Individual rename of list items
In-Reply-To: Prof Brian Ripley's message of "Thu, 1 Mar 2001 11:54:02 +0000 (GMT)"
References: <200103011154.LAA19671@toucan.stats.ox.ac.uk>
Message-ID: <x2u25dskzv.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> 
> What you intended I think was
> 
> names(Empl)[1]<-"newempl"
> 
> which works, but seems not allowed in the R documentation ....

Er, where? I'd say that one is a consequence of general rules for
"complex replacements". How well *they* are documented is another
matter. The R-lang manual has a placeholder consisting of a garbled
bunch of keywords indicating that someone (me, I'm afraid) at some
point was going to write something about something like that....

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  1 14:05:10 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 1 Mar 2001 13:05:10 +0000 (GMT)
Subject: [R] Individual rename of list items
Message-ID: <200103011305.NAA19802@toucan.stats.ox.ac.uk>


> To: Prof Brian Ripley <ripley at stats.ox.ac.uk>
> Cc: r-help at stat.math.ethz.ch, dieter.menne at menne-biomed.de
> Subject: Re: [R] Individual rename of list items
> From: Peter Dalgaard BSA <p.dalgaard at pubhealth.ku.dk>
> Date: 01 Mar 2001 13:59:32 +0100
> 
> Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
> 
> > 
> > What you intended I think was
> > 
> > names(Empl)[1]<-"newempl"
> > 
> > which works, but seems not allowed in the R documentation ....
> 
> Er, where? I'd say that one is a consequence of general rules for
> "complex replacements". How well *they* are documented is another
> matter. The R-lang manual has a placeholder consisting of a garbled
> bunch of keywords indicating that someone (me, I'm afraid) at some
> point was going to write something about something like that....

?names says

     `names' is a generic accessor function to the `names' attribute of
     an R object, typically a `vector'. The first form prints the names
     of the observations and the second sets the names. In this case,
     `value' must be a vector of character strings of the same length
     as `x'.

which seems fairly clearly to disallow my example.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From niels.waller at home.com  Thu Mar  1 16:11:39 2001
From: niels.waller at home.com (niels Waller)
Date: Thu, 1 Mar 2001 07:11:39 -0800
Subject: [R] SOM code
Message-ID: <NCBBKMNKKMFCIGDCHLDOCEEMCGAA.niels.waller@home.com>


The (slow) SOM code can be found on my web page (towards the bottom)

http://peabody.vanderbilt.edu/depts/psych_and_hd/faculty/wallern/


On Thu, 1 Mar 2001, John Aitchison wrote:

>
> Is there an implementation of the SOM ('Self Organizing Map') procedure in
> R ?
>
> I am aware of the implementations of Sammon mapping, multidimensional
> scaling and, somewhat peripherally, principal curves and projection
> pursuit ..  but not SOM per se as far as I can see. Am I missing
> something?


*******************************************************
Niels Waller, Ph.D.
Director of Quantitative Methods and Evaluation
Department of Psychology and Human Development
Vanderbilt University
Phone: (615) 322-8380    email: niels.waller at vanderbilt.edu
QME Home page: http://www.vanderbilt.edu/quantmetheval/
*******************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at pubhealth.ku.dk  Thu Mar  1 14:24:52 2001
From: p.dalgaard at pubhealth.ku.dk (Peter Dalgaard BSA)
Date: 01 Mar 2001 14:24:52 +0100
Subject: [R] Individual rename of list items
In-Reply-To: Prof Brian Ripley's message of "Thu, 1 Mar 2001 13:05:10 +0000 (GMT)"
References: <200103011305.NAA19802@toucan.stats.ox.ac.uk>
Message-ID: <x2ofvlsjtn.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> ?names says
> 
>      `names' is a generic accessor function to the `names' attribute of
>      an R object, typically a `vector'. The first form prints the names
>      of the observations and the second sets the names. In this case,
>      `value' must be a vector of character strings of the same length
>      as `x'.
> 
> which seems fairly clearly to disallow my example.

Mnnno....

I think the rules would say that

 names(x)[1]<-"HEY"

is evaluated in steps as 

tmp<-names(x)
tmp[1] <- "HEY"
names(x) <- tmp

and the last line matches the requirements. Or, it is functionally
equivalent to

x <- "names<-"(x,"[<-"(names(x),1,"HO"))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Thu Mar  1 14:30:32 2001
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Thu, 01 Mar 2001 14:30:32 +0100
Subject: [R] Using csh
Message-ID: <3.0.6.32.20010301143032.0093b100@mail.wsl.ch>

Hi all,

I am fancying the idea of using my preferred shell (t)csh when invoking
system(). How can I do that? (I didn't find anything about that in the FAQ).

Thanks for help,

-christian
Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: Hoffmann at WSL.CH
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Mar  1 15:06:05 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Thu, 1 Mar 2001 09:06:05 -0500 (EST)
Subject: [R] Automating the job?
In-Reply-To: <B6C2EB60.5A5D%parky@seas.gwu.edu>
Message-ID: <Pine.LNX.4.30.0103010850530.5378-100000@bolker.zoo.ufl.edu>


  [Forwarding this to the help list so that it will be documented there]

On Wed, 28 Feb 2001, Youngser Park wrote:

> on 2/28/01 5:44 PM, ben at zoo.ufl.edu at ben at zoo.ufl.edu wrote:
>
> > library(mva)
> > maxit <- 20
> > nclust <- 5
> > nvars <- 5
> > npts <- 100
> > ndata <- 300
> > ## cluster identity of each point, center of each cluster, size of each
> > ## cluster
> > result.len <- npts+nclust*nvars+nclust
> > results <- matrix(ncol=result.len,nrow=ndata)
> > for (i in 1:ndata) {
> > mydata <- read.table(paste("data",i,sep=""))
> > results[i,] <- unlist(kmeans(mydata,nclust,maxit))
> > }


>
> Ben,
>
> I just tried it, and got this message;
>
> > source("run2")
> Error in "[<-"(*tmp*, i, , value = unlist(kmeans(mydata, nclust, maxit))) :
>     number of items to replace is not a multiple of replacement length
>
> I have no idea what this means.

  It means that, probably, the matrix had the wrong number of columns.
R's default assignment will try to duplicate data to fill up the target
structure when it is assigning, e.g.:

z <- matrix(ncol=4,nrow=5)
z[1,] <- 1:2   ## duplicates "1:2" twice to fill the row
z[1,] <- 1:3   ## gives an error because the row length is not an even
               ## multiple of the length of the assignment data.

  The assignments of nclust, nvars, npts, ndata above were arbitrary, you
need to make sure to fill them in with your own values (nclust=# of
clusters; nvars=# of variables/dimensions in your data set; npts=# of
points in your data set).  I was actually assuming all your data sets were
identical; if not, all the results vectors will be different lengths and
it would be better to put your results in a list rather than a matrix as
I have done above.

  However, given that you want to save the results of every analysis to a
separate file, you don't need to worry about this.
  You're right that using paste() is the way to go to save the output to
separate files.  What you do will depend a bit on what format you want the
output to be in, but you could do something like:

for (i in 1:ndata) {
   mydata <- read.table(paste("data",i,sep=""))
   cl <- unlist(kmeans(mydata,nclust,maxit))
   sink(paste("out",formatC(i,width=3,flag="0"),sep="")
   print(cl)
}
sink()

> Also, could you please tell me how to save this output into a file in a
> similar way, e.g. "out001", "out002", and etc.? I guess I can use "paste"
> function.
>

  Just one more silly question: are you really going to look at 300
separate output files?  Or are you going to read them into something else
for analysis?  Wouldn't it be better to save the results in one big
structure in R so you could run analyses comparing them?

  Ben

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  1 15:18:39 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 1 Mar 2001 14:18:39 +0000 (GMT)
Subject: [R] Using csh
Message-ID: <200103011418.OAA20042@toucan.stats.ox.ac.uk>


> Date: Thu, 01 Mar 2001 14:30:32 +0100
> To: R Help list <r-help at stat.math.ethz.ch>
> From: Christian Hoffmann <christian.hoffmann at wsl.ch>
> Subject: [R] Using csh
> 
> Hi all,
> 
> I am fancying the idea of using my preferred shell (t)csh when invoking
> system(). How can I do that? (I didn't find anything about that in the FAQ).
> 

It's not an R issue.  On Unix/Linux (I am presuming), R's system calls
calls the C calls system or popen.  What shell system(3) calls is OS-specific,
and in the case of Solaris, argument-specific too.

Also, system() is used a lot by R itself, so you don't want to risk
breaking that.

Here is a workaround: you need to do it this way to avoid quoting issues.

shell <- function(command, shell="tcsh", ...)
{
   input <- tempfile("in")
   on.exit(unlink(input))
   cat(command, "\n", sep="", file=input)
   system(paste(shell, input), ...)
}

The Windows version has a shell() command: is there enough need for
something like this on Unix?   (The granddaddy is unix.shell(),
I think from S3.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arnholt at math.appstate.edu  Thu Mar  1 15:40:03 2001
From: arnholt at math.appstate.edu (Alan T. Arnholt)
Date: Thu, 1 Mar 2001 09:40:03 -0500 (EST)
Subject: [R] How do you expand memory capability (Was: R crashes in Windows ME)
In-Reply-To: <005301c0a25e$c70cbc20$06c4bfc8@jarnt>
Message-ID: <SIMEON.10103010903.A@arnholtat.math.appstate.edu>

Try updating the version of R you are running.  It looks 
like you are running a beta version ie a pre 1.0 release.  
Current version for windows is 1.2.1 .


On Thu, 1 Mar 2001 11:49:10 -0300 hzi <hzi at uol.com.br> 
wrote:

> Hello-
> 
>     Since my data bank in SPSS has > 40 variables, I think that R crashes because of the memory limit.
>     In Maindonald´s UsingR text, on pg 3, there´s a footnote that reads:
>     "If you want larger memory space than the default you may want a target akin to
>         <path to binary>\rw091\bin\rgui.exe --visize 30M --nsize 1000K
>     [The default is --vsize 6M --nsize 250K (...)]
> 
>     I tried that, but R still crashes.
>     How come?
>     
>     Thanks for any help,
>     Regards,
>     Henry L.

----------------------
Alan T. Arnholt
Associate Professor
Department of Mathematical Sciences
Appalachian State University
Boone, NC 28608

http ://www1.appstate.edu/~arnholta/
TEL: 828-262-2863
FAX: 828-265-8617

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bobo at medgen.univr.it  Thu Mar  1 16:47:25 2001
From: bobo at medgen.univr.it (Malerba Giovanni)
Date: Thu, 1 Mar 2001 16:47:25 +0100 (CET)
Subject: [R] How to select a subset? 
In-Reply-To: <6rg0lva8je.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.LNX.4.30.0103011634550.25581-100000@malerba.univr.it>

I have a data.frame in which each individual has information on age,
gender, smoke and many other quantitative and qualitative data. How could
I prepare a new data.frame (or other - what?) where only 'male smokers'
are selected and in which there are all other variables available (to
perform the same analysis in a subset of individuals)?
Thanks in advance,
Giovanni Malerba



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at pubhealth.ku.dk  Thu Mar  1 17:15:00 2001
From: p.dalgaard at pubhealth.ku.dk (Peter Dalgaard BSA)
Date: 01 Mar 2001 17:15:00 +0100
Subject: [R] How to select a subset?
In-Reply-To: Malerba Giovanni's message of "Thu, 1 Mar 2001 16:47:25 +0100 (CET)"
References: <Pine.LNX.4.30.0103011634550.25581-100000@malerba.univr.it>
Message-ID: <x2d7c1sby3.fsf@blueberry.kubism.ku.dk>

Malerba Giovanni <bobo at medgen.univr.it> writes:

> I have a data.frame in which each individual has information on age,
> gender, smoke and many other quantitative and qualitative data. How could
> I prepare a new data.frame (or other - what?) where only 'male smokers'
> are selected and in which there are all other variables available (to
> perform the same analysis in a subset of individuals)?
> Thanks in advance,
> Giovanni Malerba

Take a look at subset()

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lzhang at uci.edu  Thu Mar  1 18:33:30 2001
From: lzhang at uci.edu (LIQING ZHANG)
Date: Thu, 01 Mar 2001 09:33:30 -0800
Subject: [R] How to plot two variables in one histogram?
Message-ID: <3A9E87EA.D555F2B4@uci.edu>

Dear R members,

Is there a way I can include more than one variable in a histogram? Many
thanks in advance,

Liqing,

Liqing Zhang
Department of Ecology & Evolutionary Biology
321 Steinhaus Hall
U.C. Irvine
Irvine, CA 92697-2525
Phone:(949)-824-7703
Fax:  (949)-824-2181
Email: lzhang at uci.edu
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lzhang at ea.oac.uci.edu  Thu Mar  1 18:41:55 2001
From: lzhang at ea.oac.uci.edu (Liqing Zhang)
Date: Thu, 1 Mar 2001 09:41:55 -0800 (PST)
Subject: [R] How to include two variables in one histogram?
Message-ID: <Pine.GSO.4.30.0103010939160.24352-100000@rigel.oac.uci.edu>

Dear R members,

I have a question on hist() function.  Is there a way that I can present
more than one variables in one histogram?  Many thanks in advance,

Liqing


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Liqing Zhang
Department of Ecology & Evolutionary Biology
321 Steinhaus Hall
U.C. Irvine
Irvine, CA 92697-2525
Phone:(949)-824-7703
Fax:  (949)-824-2181
Email: lzhang at uci.edu
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rab at nauticom.net  Thu Mar  1 19:30:33 2001
From: rab at nauticom.net (Richard A. Bilonick)
Date: Thu, 01 Mar 2001 13:30:33 -0500
Subject: [R] Reading MS Access Database Files?
References: <MAEFKKKJKILLHCPMAEKMAEDPCAAA.derek.eder@neuro.gu.se>
Message-ID: <3A9E9549.20245F27@nauticom.net>

Does anyone know of a way to convert or read MS Access database files under Linux
so I can access them in R? I had contacted  Concdeptual Software about DBMS/Copy
and they assured me that the Linux version could handle Access files. Of course,
when I purchased it then they said that it couldn't read MS Access files.

Rick Bilonick

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Thu Mar  1 19:38:47 2001
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Thu, 1 Mar 2001 19:38:47 +0100 (MET)
Subject: [R] How to plot two variables in one histogram?
In-Reply-To: <3A9E87EA.D555F2B4@uci.edu>
Message-ID: <Pine.OSF.4.30.0103011937170.28645-100000@alnair.uio.no>

On Thu, 1 Mar 2001, LIQING ZHANG wrote:

>Is there a way I can include more than one variable in a histogram?

Yes, you can do e.g.
> x <- rpois(100, 5)
> y <- rpois(100, 4)
> hist(x)
> hist(y, add=T)

You might need to adjust ylim and xlim, add some fancy colors to
distinguish the two variables, etc., but it's the basic method.

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at pubhealth.ku.dk  Thu Mar  1 19:56:53 2001
From: p.dalgaard at pubhealth.ku.dk (Peter Dalgaard BSA)
Date: 01 Mar 2001 19:56:53 +0100
Subject: [R] Reading MS Access Database Files?
In-Reply-To: "Richard A. Bilonick"'s message of "Thu, 01 Mar 2001 13:30:33 -0500"
References: <MAEFKKKJKILLHCPMAEKMAEDPCAAA.derek.eder@neuro.gu.se> <3A9E9549.20245F27@nauticom.net>
Message-ID: <x28zmp8gi2.fsf@blueberry.kubism.ku.dk>

"Richard A. Bilonick" <rab at nauticom.net> writes:

> Does anyone know of a way to convert or read MS Access database files under Linux
> so I can access them in R? I had contacted  Concdeptual Software about DBMS/Copy
> and they assured me that the Linux version could handle Access files. Of course,
> when I purchased it then they said that it couldn't read MS Access files.
> 
> Rick Bilonick

I don't think I can come up with anything not involving a Windows OS.

With something like Win4Lin and R for windows, I think you can set up
an RODBC connection to the file.
 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Thu Mar  1 19:53:46 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Thu, 1 Mar 2001 13:53:46 -0500 (EST)
Subject: [R] How to plot two variables in one histogram?
Message-ID: <200103011853.NAA27507@cattell.psych.upenn.edu>

>From owner-r-help at stat.math.ethz.ch  Thu Mar  1 13:38:24 2001
>Is there a way I can include more than one variable in a histogram? Many

See
http://www.psych.upenn.edu/~baron/rpsych.htm#tth_sEc5.4
for an example.

Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~jbaron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Thu Mar  1 20:03:02 2001
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 02 Mar 2001 08:03:02 +1300
Subject: [R] maps in R for Windows
References: <C4D44AB4CB62D311BA6500041202E886264145@xms1.tirol.gv.at>
Message-ID: <3A9E9CE6.713A9325@stat.auckland.ac.nz>

RINNER Heinrich wrote:

> Searching the r-help mailing list archives, it seems this topic comes up
> from time to time. For example, in November 1999 Ray Brownrigg writes about
> an "R maps package" (but for Linux only), and in October 2000 Ross Ihaka
> tells about work on "getting the Becker-Wilks Maps in S code working in R"
> and "putting together an R library for reading, writing, plotting and
> manipulating shapefiles".

Just to update this.  The work is still progressing (a masters student
of
mine doing the job).  We have decided to throw away the projections
code in Becker & Wilks and switch to PROJ4 (a change made possible by
recent memory management work by Luke Tierney).  I can't give a time
frame
on this because it is (partially) out of my hands.

-- 
Ross Ihaka                         Email:  ihaka at stat.auckland.ac.nz
Department of Statistics           Phone:  (64-9) 373-7599 x 5054
University of Auckland             Fax:    (64-9) 373-7018
Private Bag 92019, Auckland
New Zealand
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aperrin at socrates.berkeley.edu  Thu Mar  1 20:22:52 2001
From: aperrin at socrates.berkeley.edu (Andrew Perrin)
Date: Thu, 1 Mar 2001 14:22:52 -0500 (EST)
Subject: [R] How to coerce data frame elements into factors?
Message-ID: <Pine.LNX.4.21.0103011411320.1325-100000@nujoma.perrins>

Greetings -

In trying to do a multiple correspondence analysis, I need to coerce a
data frame such that each of its columns will be a factor.  Can someone
offer advice on how to make this happen?  I've tried this:

> logic.resources.f.df<-apply(logics.resources.df, 2, factor)

but:

> is.factor(logic.resources.f.df$interests)
[1] FALSE


I've also tried individually,

> foo<-data.frame(c(factor(mediate), factor(morality)))

but still,

> is.factor(foo$mediate)
[1] FALSE


Thanks for any assistance.

----------------------------------------------------------------------
Andrew J Perrin - Ph.D. Candidate, UC Berkeley, Dept. of Sociology  
Chapel Hill, North Carolina, USA - http://demog.berkeley.edu/~aperrin
        aperrin at socrates.berkeley.edu - aperrin at igc.apc.org


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hawkins at scharp.org  Thu Mar  1 20:29:26 2001
From: hawkins at scharp.org (Natalie Hawkins)
Date: Thu, 01 Mar 2001 11:29:26 -0800
Subject: [R] db pkgs
Message-ID: <3A9EA316.E27C7AEC@scharp.org>


Hi,

I am wondering if anyone has had experience w/the R database
packages: RMySQL, RODBC, RPgSQL, and/or RmSQL, and if so, if you have
any recommendations to make.  We have some large tables we would like to
store -- something like 5-10 columns by 3.5 mil rows (or maybe 7 mil
rows).

thanks,

Natalie Hawkins
Statistical Research Associate
FHCRC/Scharp

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at pubhealth.ku.dk  Thu Mar  1 21:08:02 2001
From: p.dalgaard at pubhealth.ku.dk (Peter Dalgaard BSA)
Date: 01 Mar 2001 21:08:02 +0100
Subject: [R] How to coerce data frame elements into factors?
In-Reply-To: Andrew Perrin's message of "Thu, 1 Mar 2001 14:22:52 -0500 (EST)"
References: <Pine.LNX.4.21.0103011411320.1325-100000@nujoma.perrins>
Message-ID: <x266htw8v1.fsf@blueberry.kubism.ku.dk>

Andrew Perrin <aperrin at socrates.berkeley.edu> writes:

> Greetings -
> 
> In trying to do a multiple correspondence analysis, I need to coerce a
> data frame such that each of its columns will be a factor.  Can someone
> offer advice on how to make this happen?  I've tried this:
> 
> > logic.resources.f.df<-apply(logics.resources.df, 2, factor)
> 
> but:
> 
> > is.factor(logic.resources.f.df$interests)
> [1] FALSE

apply will give you a vector or array, so you're doing is.factor(NULL) 

> 
> 
> I've also tried individually,
> 
> > foo<-data.frame(c(factor(mediate), factor(morality)))

> > is.factor(foo$mediate)
> [1] FALSE

What gives you the idea that that would have a component called
"mediate"? 

> x<-1:0
> y<-0:1
> data.frame(c(factor(x),factor(y)))
  c.factor.x...factor.y..
1                       2
2                       1
3                       1
4                       2

Try this:

> d<-data.frame(a=0:1,b=1:0)
> d<-as.data.frame(lapply(d,factor)) 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  1 21:29:55 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 1 Mar 2001 20:29:55 +0000 (GMT)
Subject: [R] db pkgs
In-Reply-To: <3A9EA316.E27C7AEC@scharp.org>
Message-ID: <Pine.GSO.4.31.0103012026160.18510-100000@auk.stats>

On Thu, 1 Mar 2001, Natalie Hawkins wrote:

>
> Hi,
>
> I am wondering if anyone has had experience w/the R database
> packages: RMySQL, RODBC, RPgSQL, and/or RmSQL, and if so, if you have
> any recommendations to make.  We have some large tables we would like to
> store -- something like 5-10 columns by 3.5 mil rows (or maybe 7 mil
> rows).

Yes, some experience with all.  We need more to go on: your chosen OS, for
example.  Have you looked at my article in R-news 2001-1?  It even has some
recommendations ....

Looks like I would recommend MySQL + RODBC on Windows/Linux, perhaps
RMySQL elsewhere provided you only ever wanted to read from the tables.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aperrin at socrates.berkeley.edu  Thu Mar  1 21:27:23 2001
From: aperrin at socrates.berkeley.edu (Andrew Perrin)
Date: Thu, 1 Mar 2001 15:27:23 -0500 (EST)
Subject: [R] How to coerce data frame elements into factors?
In-Reply-To: <x266htw8v1.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21.0103011524400.1325-100000@nujoma.perrins>

Thank you - that did it. See comments below.

On 1 Mar 2001, Peter Dalgaard BSA wrote:

> Andrew Perrin <aperrin at socrates.berkeley.edu> writes:
> 
[snip]
> > > is.factor(logic.resources.f.df$interests)
> > [1] FALSE
> 
> apply will give you a vector or array, so you're doing is.factor(NULL) 
> 

Got it - thanks for that.

> > 
> > 
> > I've also tried individually,
> > 
> > > foo<-data.frame(c(factor(mediate), factor(morality)))
> 
> > > is.factor(foo$mediate)
> > [1] FALSE
> 
> What gives you the idea that that would have a component called
> "mediate"? 
> 

Well, the fact that my original data frame contained a component called
"mediate". And that when I did the apply() version above, the resulting
data frame did contain "mediate" as determined using colnames().

> > x<-1:0
> > y<-0:1
> > data.frame(c(factor(x),factor(y)))
>   c.factor.x...factor.y..
> 1                       2
> 2                       1
> 3                       1
> 4                       2
> 
> Try this:
> 
> > d<-data.frame(a=0:1,b=1:0)
> > d<-as.data.frame(lapply(d,factor)) 
> 

Worked! Thanks - here's what I did:

> logic.resources.f.df<-as.data.frame(lapply(logics.resources.df,factor))
> colnames(logic.resources.f.df)
 [1] "mediate"     "interests"   "enlightened" "morality"    "capacity"   
 [6] "comparison"  "information" "doubt"       "mistrust"    "actors"     
[11] "metalogic"   "policy"     
> is.factor(logic.resources.f.df$mediate)
[1] TRUE


> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> 

----------------------------------------------------------------------
Andrew J Perrin - Ph.D. Candidate, UC Berkeley, Dept. of Sociology
Chapel Hill, North Carolina, USA - http://demog.berkeley.edu/~aperrin
        aperrin at socrates.berkeley.edu - aperrin at igc.apc.org


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Thu Mar  1 21:42:31 2001
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Fri, 2 Mar 2001 09:42:31 +1300
Subject: [R] ESS /NT/ tab replace/ scroll interrupt
Message-ID: <200103012043.f21KhFL31639@storm.niwa.cri.nz>

Colleagues

----------------------------------
System info:
R version rw1020 on NT
ESS using emacs ver. 20.4

----------------------------------
On 1 Mar 01,, Prof Brian D Ripley wrote (re: Re: (off topic) Re: [R] 
Notepad): 

> Just to remind people that ESS and FSF Emacs run on Windows too. 
> (There is  or was also an Xemacs port to Windows, but I have very 
> little experience with it.)
--------------------------

I've found ESS on windows to be a very workable editor well integrated 
with R and was bemused by the discussion of various editors (on the R 
maillist) where you have to cut and paste into the [R] window. I was not 
able to get Xemacs going under NT, even with the help of our IT person 
who knows emacs well, but ESS works very well under emacs on NT.

I do have a few  irritations -- perhaps someone can help?

1. the first tab complete for an object in the [R] window is grindingly slow 
(not news to anyone). At the first attempt to tab complete an object name, 
forming all the completions took 69 seconds on my system. The second 
tab complete was almost immediate. 

2. Tab complete in the minibuffer following ctrl CD doesn't seem to be 
working right on my setup -- I just get a tab.

3. If I inadvertantly return a large object (i.e. many thousand rows of 
data) to scroll on the screen, I cannot interrupt the scroll.
ctrlCC has no effect
ctrlGCC locks my system
killing it works but shuts down R which is not a happy event.

Any advice on points 2 and 3 above?

Sam





Sam

Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz 

                    /\
...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Mar  1 21:45:20 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 01 Mar 2001 12:45:20 -0800
Subject: [R] Reading MS Access Database Files?
In-Reply-To: <x28zmp8gi2.fsf@blueberry.kubism.ku.dk>
References: <MAEFKKKJKILLHCPMAEKMAEDPCAAA.derek.eder@neuro.gu.se>
	<3A9E9549.20245F27@nauticom.net>
	<x28zmp8gi2.fsf@blueberry.kubism.ku.dk>
Message-ID: <871yshgqvz.fsf@jeeves.blindglobe.net>

>>>>> "PD" == Peter Dalgaard <BSA <p.dalgaard at pubhealth.ku.dk>> writes:


    PD> "Richard A. Bilonick" <rab at nauticom.net> writes:
    >> Does anyone know of a way to convert or read MS Access database
    >> files under Linux so I can access them in R? I had contacted
    >> Concdeptual Software about DBMS/Copy and they assured me that
    >> the Linux version could handle Access files. Of course, when I
    >> purchased it then they said that it couldn't read MS Access
    >> files.
    >> 
    >> Rick Bilonick

    PD> I don't think I can come up with anything not involving a
    PD> Windows OS.

    PD> With something like Win4Lin and R for windows, I think you can
    PD> set up an RODBC connection to the file.
 
Why not the unixodbc drivers?   (someone who should remain nameless so
he won't get pestered suggested that they might work).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (friday is unknown) --------
FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  1 22:26:56 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 1 Mar 2001 21:26:56 +0000 (GMT)
Subject: [R] Reading MS Access Database Files?
In-Reply-To: <871yshgqvz.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.GSO.4.31.0103012118500.18626-100000@auk.stats>

On 1 Mar 2001, A.J. Rossini wrote:

> >>>>> "PD" == Peter Dalgaard <BSA <p.dalgaard at pubhealth.ku.dk>> writes:
>
>
>     PD> "Richard A. Bilonick" <rab at nauticom.net> writes:
>     >> Does anyone know of a way to convert or read MS Access database
>     >> files under Linux so I can access them in R? I had contacted
>     >> Concdeptual Software about DBMS/Copy and they assured me that
>     >> the Linux version could handle Access files. Of course, when I
>     >> purchased it then they said that it couldn't read MS Access
>     >> files.
>     >>
>     >> Rick Bilonick
>
>     PD> I don't think I can come up with anything not involving a
>     PD> Windows OS.
>
>     PD> With something like Win4Lin and R for windows, I think you can
>     PD> set up an RODBC connection to the file.
>
> Why not the unixodbc drivers?   (someone who should remain nameless so
> he won't get pestered suggested that they might work).

I believe that using Access from Linux needs an ODBC-ODBC bridge on a
Windows server.  Put another way, unixODBC can't have drivers for a
database that does not run on Linux.

www.unixodbc.org says

Microsoft Access

You can use a Bridge to get to a ODBC data source on a Windows machine

See the ODBC-ODBC Bridge entry


B.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aperrin at socrates.berkeley.edu  Thu Mar  1 22:38:22 2001
From: aperrin at socrates.berkeley.edu (Andrew Perrin)
Date: Thu, 1 Mar 2001 16:38:22 -0500 (EST)
Subject: [R] Reading MS Access Database Files?
In-Reply-To: <3A9E9549.20245F27@nauticom.net>
Message-ID: <Pine.LNX.4.21.0103011637080.1325-100000@nujoma.perrins>

I've never seen any non-Windows software capable of reading Access files
directly, although I'm happy to be corrected on that.  You can, though,
run Access on another machine or on a VMWare/Win4Lin subsystem and then
either attach via RODBC or write the data to some more useful format (say,
tab-delimited) and go from there.

----------------------------------------------------------------------
Andrew J Perrin - Ph.D. Candidate, UC Berkeley, Dept. of Sociology  
Chapel Hill, North Carolina, USA - http://demog.berkeley.edu/~aperrin
        aperrin at socrates.berkeley.edu - aperrin at igc.apc.org

On Thu, 1 Mar 2001, Richard A. Bilonick wrote:

> Does anyone know of a way to convert or read MS Access database files under Linux
> so I can access them in R? I had contacted  Concdeptual Software about DBMS/Copy
> and they assured me that the Linux version could handle Access files. Of course,
> when I purchased it then they said that it couldn't read MS Access files.
> 
> Rick Bilonick
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Thu Mar  1 19:45:47 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Fri, 2 Mar 2001 07:45:47 +1300
Subject: [R] Reading MS Access Database Files?
In-Reply-To: <3A9E9549.20245F27@nauticom.net>; from rab@nauticom.net on Thu, Mar 01, 2001 at 01:30:33PM -0500
References: <MAEFKKKJKILLHCPMAEKMAEDPCAAA.derek.eder@neuro.gu.se> <3A9E9549.20245F27@nauticom.net>
Message-ID: <20010302074547.A1179@camille.indigoindustrial.co.nz>

Hi

> Does anyone know of a way to convert or read MS Access database files under Linux
> so I can access them in R? I had contacted  Concdeptual Software about DBMS/Copy
> and they assured me that the Linux version could handle Access files. Of course,
> when I purchased it then they said that it couldn't read MS Access files.
> 
> Rick Bilonick


Haven't tried exactly this, so take it with the appropriate scoops of salt...

It may be possible to export the data as an ODBC source, and use RODBC
to read it.  The more I think about it, though, the more hurdles present
themselves.  The biggest problem is the fact that Access behaves as a 
self-contained database package - I don't know of any way to make it behave
like a database server, providing data to other applications on demand.

The RODBC package is something I've used rather a lot under R, but never
to read an Access database.  I usually export the Access data via ODBC
to a network-aware database server (usually PostgreSQL), and then
use RODBC or RPgSQL from there.  

Once the data is transferred to the server, I also usually use that as 
my workbase - removing or renaming the original tables within Access
and then linking the tables via ODBC from the database server back
to Access, so version control and concurency aren't a problem.

[somewhat off-topic - perl as a tool for the job]

One possibility (if you're comfortable with perl) is the DBI package, 
using the DBD::Proxy functionality, and "roll your own" server connection.
This is less elaborate than it sounds - the infrastructure to do this
is already provided within DBI and DBD::Proxy, including finnicky details
like compression for transmission over slow networks, and encrypted
transmission.

R would use system() to call a perl script on the linux machine,
which would connect to a (running in background) perl script on the 
windows machine.  The perl script on the Windows machine would excecute
the data fetching, and pass it back to the perl script on the linux 
machine.  From there, the values could be passed back to R, or to
an external file.  

This sounds pretty involved, but perl isn't hard to learn if you
don't know it, and if you do, the DBI module isn't difficult.

Hope this helps - I've never tried it exactly like this.  Let me know
what you find.

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aperrin at socrates.berkeley.edu  Thu Mar  1 22:50:08 2001
From: aperrin at socrates.berkeley.edu (Andrew Perrin)
Date: Thu, 1 Mar 2001 16:50:08 -0500 (EST)
Subject: [R] [OT] correspondence analysis w/ non-mutually-exclusive categories
Message-ID: <Pine.LNX.4.21.0103011643300.1325-100000@nujoma.perrins>

Greetings, again. This is not strictly an R question, so please feel free
to ignore it if you like. 

My question is about the substance of correspondence
analysis. Specifically, is it appropriate to use ca on a matrix of values
such that the columns and/or rows are not mutually exclusive?  To be more
detailed:

- The standard use of ca is illustrated in the example of corresp() (from
MASS):

data(caith)
library(mva)
corresp(caith)
biplot(corresp(caith, nf=2))

> caith
       fair red medium dark black
blue    326  38    241  110     3
light   688 116    584  188     4
medium  343  84    909  412    26
dark     98  48    403  681    85

in this table, presumably, an observation can fall in only one
cell: red/light, say, or dark/fair.  

- However, my data are different, in that a single observation can
(theoretically) fall in two or more cells. Consider:

	voted98	voted00	donated	protested no_partic
male
female

a given observation might fall, for example, in male/voted98 and
male/voted00.  What are the implications of this?

- I am aware of the multiple correspondence technique, which I believe
answers (some of) this issue. However I have a different problem with
it: I have so many observations (ca. 5700) that the plot becomes
unreadable. That's because each *observation* is plotted in mca, whereas
each unique profile is what's plotted in ca.

Any advice will be met with tremendous gratitude :)

Andy Perrin

----------------------------------------------------------------------
Andrew J Perrin - Ph.D. Candidate, UC Berkeley, Dept. of Sociology  
Chapel Hill, North Carolina, USA - http://demog.berkeley.edu/~aperrin
        aperrin at socrates.berkeley.edu - aperrin at igc.apc.org

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jaitchis at lisp.com.au  Fri Mar  2 01:30:07 2001
From: jaitchis at lisp.com.au (John Aitchison)
Date: Fri, 2 Mar 2001 11:30:07 +1100
Subject: [R] inc function .. more generally, var arguments
Message-ID: <3A9F843F.11424.DCF9A9@localhost>


Hi

I'd like to be able to write a simple 'increment' function (like inc in 
pascal or ++ in C++) that takes the argument and increments it 
'permanently'  ie so that z<-1; inc(z) # no assignment; z  #2

I can see how to do it with a global variable but that is not what I want -
 I want to modify the object that is the actual argument.. I have looked 
at  assign(), << etc .. I am not sure where to go next.

I thought I could possibly do it by reference to the calling environment
and tried

> inc
function(a){ eval.parent(a<-a+1,1) }
> z<-1
> inc(z)
[1] 2
> z
[1] 1
> 
no good

Is what I want to do possible?  (I realize that it is possibly inadvisable
as there would be no obvious way of knowing from the function
definition that it modified its arguments)

thanks


John Aitchison
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From t.bock at unsw.edu.au  Fri Mar  2 02:01:40 2001
From: t.bock at unsw.edu.au (Timothy Bock)
Date: Fri, 2 Mar 2001 12:01:40 +1100
Subject: [R] [OT] correspondence analysis w/ non-mutually-exclusive categories
In-Reply-To: <Pine.LNX.4.21.0103011643300.1325-100000@nujoma.perrins>
Message-ID: <NEBBLFKPGLKCJKNLOKMHCEFFCHAA.t.bock@unsw.edu.au>

> My question is about the substance of correspondence
> analysis. Specifically, is it appropriate to use ca on a matrix of values
> such that the columns and/or rows are not mutually exclusive?

Correspondence analysis is applied extremely frequently to data with rows
and columns that are not mutually exclusive.  In market research, for
example, brand-attribute matrices are created of the form:

		Reliable	Fast	Sexy
Ford		25		35	40
Honda		50		28	100
Toyota	21		25	21

and correspondence analysis is then applied to create positioning maps.
There may be some theoretical reason why this is not sound, but practical
experience suggests it is very useful.  Of course, traditional approaches to
statistical inference on such maps - such as confidence intervals - become
inappropriate.

> - I am aware of the multiple correspondence technique, which I believe
> answers (some of) this issue. However I have a different problem with
> it: I have so many observations (ca. 5700) that the plot becomes
> unreadable. That's because each *observation* is plotted in mca, whereas
> each unique profile is what's plotted in ca.

I'm not sure how you're doing MCA, but it can certainly be done without
plotting each observation.  From memory, there is a good description of how
to do it in

Greenacre, Michael and Blasius, Jorg 1994 (eds.) Correspondence Analysis in
the Social Sciences. Recent Developments and Applications. London: Academic
Press.

Tim
>
> Any advice will be met with tremendous gratitude :)
>
> Andy Perrin
>
> ----------------------------------------------------------------------
> Andrew J Perrin - Ph.D. Candidate, UC Berkeley, Dept. of Sociology
> Chapel Hill, North Carolina, USA - http://demog.berkeley.edu/~aperrin
>         aperrin at socrates.berkeley.edu - aperrin at igc.apc.org
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Fri Mar  2 08:32:44 2001
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Fri, 2 Mar 2001 08:32:44 +0100 (MET)
Subject: [R] db pkgs
In-Reply-To: <3A9EA316.E27C7AEC@scharp.org>
Message-ID: <Pine.LNX.4.21.0103020827360.17533-100000@artemis.imbe.med.uni-erlangen.de>


> 
> Hi,
> 
> I am wondering if anyone has had experience w/the R database
> packages: RMySQL, RODBC, RPgSQL, and/or RmSQL, and if so, if you have
> any recommendations to make.  We have some large tables we would like to
> store -- something like 5-10 columns by 3.5 mil rows (or maybe 7 mil
> rows).

You might have a look at the Data Import/Export manual. Using the
data within R (summary or modelling) currently requires all the data as
data.frame, and 7 mil rows may bring even R to it's knees. 

Beside that, IMO MySQL is fast enough and easy to handle and RMySQL is
straightforward, too. 

Torsten

> 
> thanks,
> 
> Natalie Hawkins
> Statistical Research Associate
> FHCRC/Scharp
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar  2 08:43:28 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 2 Mar 2001 07:43:28 +0000 (GMT)
Subject: [R] inc function .. more generally, var arguments
In-Reply-To: <3A9F843F.11424.DCF9A9@localhost>
Message-ID: <Pine.GSO.4.31.0103020739220.18977-100000@auk.stats>

On Fri, 2 Mar 2001, John Aitchison wrote:

>
> Hi
>
> I'd like to be able to write a simple 'increment' function (like inc in
> pascal or ++ in C++) that takes the argument and increments it
> 'permanently'  ie so that z<-1; inc(z) # no assignment; z  #2
>
> I can see how to do it with a global variable but that is not what I want -
>  I want to modify the object that is the actual argument.. I have looked
> at  assign(), << etc .. I am not sure where to go next.
>
> I thought I could possibly do it by reference to the calling environment
> and tried
>
> > inc
> function(a){ eval.parent(a<-a+1,1) }
> > z<-1
> > inc(z)
> [1] 2
> > z
> [1] 1
> >
> no good
>
> Is what I want to do possible?  (I realize that it is possibly inadvisable
> as there would be no obvious way of knowing from the function
> definition that it modified its arguments)

This is precisely exercise 4.4 of Venables & Ripley (1997).  There is an
answer online at

http://www.stats.ox.ac.uk/pub/MASS/VR2ans.pdf

for S: R could be slightly different.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Marwan.Khawaja at fafo.no  Fri Mar  2 10:12:04 2001
From: Marwan.Khawaja at fafo.no (Khawaja Marwan)
Date: Fri, 2 Mar 2001 10:12:04 +0100 
Subject: [R] [OT] correspondence analysis w/ non-mutually-exclusive ca
	tegories
Message-ID: <B5DEF8EC8E9D3444A94206C3C9949FC33A9CA8@mailsrv01.Fafo.No>

Andy,
Take a look at Greenacre, Theory and Applications of Correspondence
Analysis.  He has many example of dealing with all sorts of data.
Basically, the technique is relevant for 2-way tables -- MCA is an
extenstion.  It is not clear in your example whether CA is really
appropriate -- you want to make an  observation (if at all possible) fall in
one cell, treating the others layers as 'supplementary' points -- without
necessarily contributing to the 'factors.'  So the first step is to cross
classify your data into a table and then apply CA.


Marwan Khawaja
Fafo Institute 
Borggt. 2B, P.O.Box 2947 T?yen
N-0608 Oslo, Norway

> -----Original Message-----
> From:	Andrew Perrin [SMTP:aperrin at socrates.berkeley.edu]
> Sent:	1. mars 2001 21:50
> To:	r-help at r-project.org
> Subject:	[R] [OT] correspondence analysis w/ non-mutually-exclusive
> categories
> 
> Greetings, again. This is not strictly an R question, so please feel free
> to ignore it if you like. 
> 
> My question is about the substance of correspondence
> analysis. Specifically, is it appropriate to use ca on a matrix of values
> such that the columns and/or rows are not mutually exclusive?  To be more
> detailed:
> 
> - The standard use of ca is illustrated in the example of corresp() (from
> MASS):
> 
> data(caith)
> library(mva)
> corresp(caith)
> biplot(corresp(caith, nf=2))
> 
> > caith
>        fair red medium dark black
> blue    326  38    241  110     3
> light   688 116    584  188     4
> medium  343  84    909  412    26
> dark     98  48    403  681    85
> 
> in this table, presumably, an observation can fall in only one
> cell: red/light, say, or dark/fair.  
> 
> - However, my data are different, in that a single observation can
> (theoretically) fall in two or more cells. Consider:
> 
> 	voted98	voted00	donated	protested no_partic
> male
> female
> 
> a given observation might fall, for example, in male/voted98 and
> male/voted00.  What are the implications of this?
> 
> - I am aware of the multiple correspondence technique, which I believe
> answers (some of) this issue. However I have a different problem with
> it: I have so many observations (ca. 5700) that the plot becomes
> unreadable. That's because each *observation* is plotted in mca, whereas
> each unique profile is what's plotted in ca.
> 
> Any advice will be met with tremendous gratitude :)
> 
> Andy Perrin
> 
> ----------------------------------------------------------------------
> Andrew J Perrin - Ph.D. Candidate, UC Berkeley, Dept. of Sociology  
> Chapel Hill, North Carolina, USA - http://demog.berkeley.edu/~aperrin
>         aperrin at socrates.berkeley.edu - aperrin at igc.apc.org
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.malewski at tu-bs.de  Fri Mar  2 10:33:58 2001
From: p.malewski at tu-bs.de (Peter Malewski)
Date: Fri, 2 Mar 2001 10:33:58 +0100
Subject: [R] Link to an (old, obsolete) article
Message-ID: <20010302103351.A5041@rzpool04.pool.rz.tu-bs.de>

The German "Linux Magazin" has opened his archive: An old article about R (some links are broken, old R Version etc.) is available under:

http://www.linux-magazin.de/ausgabe/2000/03/R/r.html

If somebody wants to copy/use/extend any part of this, he will be welcomed. At the time this was published we announced following articles, which has never been realized. If somebody has any motivation to do this...

P.Malewski
-- 
P.Malewski, Maschplatz 8, 38114 Braunschweig, Tel.: 0531 500965, 
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredrik at ling.umu.se  Fri Mar  2 12:16:30 2001
From: fredrik at ling.umu.se (Fredrik Karlsson)
Date: Fri, 2 Mar 2001 12:16:30 +0100
Subject: [R] Post Hoc on repeated measures?
Message-ID: <20010302121630.A23725@ling.umu.se>

Hi all,

I'm a potential new user of R and have to know this before I start using it:
SPSS does not let you do a Post Hoc analysis on repeated measures data.
This is a problem for me, since that is what I will have to do.
Will R let me do this? 


/Fredrik

-- 
-----------------------------------------------------------------
Fredrik Karlsson, Research Student

Department of Philosophy and Linguistics
Ume? University
S-901 87 UME?
SWEDEN
Tel: +46 90 786 56 84   Web: http://www.ling.umu.se/~fredrik/
Fax: +46 90 786 63 77   Email: fredrik at ling.umu.se
PGP-fingerprint: 1A331A408866270DFD9CAAF277ECF390115BB84
-----------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at pubhealth.ku.dk  Fri Mar  2 13:20:54 2001
From: p.dalgaard at pubhealth.ku.dk (Peter Dalgaard BSA)
Date: 02 Mar 2001 13:20:54 +0100
Subject: [R] inc function .. more generally, var arguments
In-Reply-To: Prof Brian D Ripley's message of "Fri, 2 Mar 2001 07:43:28 +0000 (GMT)"
References: <Pine.GSO.4.31.0103020739220.18977-100000@auk.stats>
Message-ID: <x2itls9xax.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

[inc(z)]

> This is precisely exercise 4.4 of Venables & Ripley (1997).  There is an
> answer online at
> 
> http://www.stats.ox.ac.uk/pub/MASS/VR2ans.pdf
> 
> for S: R could be slightly different.

Probably mainly in the existence of eval.parent...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jgoebel at diw.de  Fri Mar  2 14:11:05 2001
From: jgoebel at diw.de (Jan Goebel)
Date: Fri, 2 Mar 2001 14:11:05 +0100
Subject: [R] Post Hoc on repeated measures?
In-Reply-To: <20010302121630.A23725@ling.umu.se>; from fredrik@ling.umu.se on Fri, Mar 02, 2001 at 12:16:30 +0100
References: <20010302121630.A23725@ling.umu.se>
Message-ID: <20010302141105.A24772@diw14093.diw.de>

Hi Frederik,

this is one of the reason why i now use R rather than SPSS.
In this case SPSS isn't worth a penny.

jan

On Fri, 02 Mar 2001, Fredrik Karlsson wrote:

> Hi all,
> 
> I'm a potential new user of R and have to know this before I start using it:
> SPSS does not let you do a Post Hoc analysis on repeated measures data.
> This is a problem for me, since that is what I will have to do.
> Will R let me do this? 
> 
> 
> /Fredrik

-- 
+-----------------------------------
 Jan Goebel (mailto:jgoebel at diw.de)

 DIW Berlin 
 Longitudinal Data and Microanalysis
 K?nigin-Luise-Str. 5
 D-14195 Berlin -- Germany --
 phone: 49 30 89789-377
+-----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at pubhealth.ku.dk  Fri Mar  2 14:19:36 2001
From: p.dalgaard at pubhealth.ku.dk (Peter Dalgaard BSA)
Date: 02 Mar 2001 14:19:36 +0100
Subject: [R] Post Hoc on repeated measures?
In-Reply-To: Fredrik Karlsson's message of "Fri, 2 Mar 2001 12:16:30 +0100"
References: <20010302121630.A23725@ling.umu.se>
Message-ID: <x2ae749ul3.fsf@blueberry.kubism.ku.dk>

Fredrik Karlsson <fredrik at ling.umu.se> writes:

> Hi all,
> 
> I'm a potential new user of R and have to know this before I start using it:
> SPSS does not let you do a Post Hoc analysis on repeated measures data.
> This is a problem for me, since that is what I will have to do.
> Will R let me do this? 

Not out of the box. It would certainly depend on what kind of repeated
measures model and what kind of post hoc test. The generic multiple
testing approach (p.adjust()) is always available if only you can find
the p-s to adjust.... Scheffe-style tests are also quite generally
available if you have a covariance matrix of the estimates for a given
effect. You'd have to write yourself, which shouldn't be too hard to
do. Doug Bates has (had?) a student working on related stuff.

Things like multiple range procedures generally have requirements on
the structure of the covariance matrix for the means, and would only
work under sphericity assumptions, I think.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tord.snall at ebc.uu.se  Fri Mar  2 13:49:34 2001
From: tord.snall at ebc.uu.se (Tord Snall)
Date: Fri, 02 Mar 2001 13:49:34 +0100
Subject: [R] standardising a data matrix
Message-ID: <3.0.6.32.20010302134934.00b19100@mail.anst.uu.se>

Dear all,
I would like to standardise my data. Here is an exemple for two columns:

> onorm<- read.table("onorm.txt", header=T)
> names(onorm)
[1] "on1" "on2" "on3" "on4" "on5"
> norm<- data.frame((onorm$on1-mean(onorm$on1))/stdev(onorm$on1),
(onorm$on2-mean(onorm$on2))/stdev(onorm$on2))

I would be happy however not having got to do this coulumnwise since I have
about 80 columns. Could someone please give a hint on how to do this for
the whole matrix. 

The names of the coulumns are on1, on2 etc. as above. I want the columns in
the new standardised dataset to have the names son1, son2 etc, i.e. adding
an s to all the original column names. How do I do that?

Thanks in advance!

Sincerely,
Tord Sn?ll

-----------------------------------------------------------------------
Tord Sn?ll
Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
Villav?gen 14			
SE-752 36 Uppsala, Sweden
Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
E-mail: Tord.Snall at ebc.uu.se
http://www.vaxtbio.uu.se/resfold/tord_s.htm
------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.ribeiro at lancaster.ac.uk  Fri Mar  2 15:06:40 2001
From: p.ribeiro at lancaster.ac.uk (Paulo Justiniano Ribeiro Jr)
Date: Fri, 2 Mar 2001 14:06:40 +0000 (GMT)
Subject: [R] standardising a data matrix
In-Reply-To: <3.0.6.32.20010302134934.00b19100@mail.anst.uu.se>
Message-ID: <Pine.GSO.4.21.0103021406180.24462-100000@unixc.lancs.ac.uk>

Hi Tord

What about apply:

apply(onorm, 2, function(x){(x - mean(x))/sqrt(var(x))})

Cheers
P.J.

On Fri, 2 Mar 2001,
Tord Snall wrote:

> Dear all,
> I would like to standardise my data. Here is an exemple for two columns:
> 
> > onorm<- read.table("onorm.txt", header=T)
> > names(onorm)
> [1] "on1" "on2" "on3" "on4" "on5"
> > norm<- data.frame((onorm$on1-mean(onorm$on1))/stdev(onorm$on1),
> (onorm$on2-mean(onorm$on2))/stdev(onorm$on2))
> 
> I would be happy however not having got to do this coulumnwise since I have
> about 80 columns. Could someone please give a hint on how to do this for
> the whole matrix. 
> 
> The names of the coulumns are on1, on2 etc. as above. I want the columns in
> the new standardised dataset to have the names son1, son2 etc, i.e. adding
> an s to all the original column names. How do I do that?
> 
> Thanks in advance!
> 
> Sincerely,
> Tord Sn?ll
> 
> -----------------------------------------------------------------------
> Tord Sn?ll
> Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
> Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
> Villav?gen 14			
> SE-752 36 Uppsala, Sweden
> Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
> Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
> Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
> E-mail: Tord.Snall at ebc.uu.se
> http://www.vaxtbio.uu.se/resfold/tord_s.htm
> ------------------------------------------------------------------------
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Paulo Justiniano Ribeiro Jr
Dept Maths & Stats  -  Fylde College
Lancaster University
Lancaster LA1 4YF   -  U.K.

e-mail: paulojus at est.ufpr.br
http://www.maths.lancs.ac.uk/~ribeiro

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Fri Mar  2 15:19:28 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Fri, 02 Mar 2001 15:19:28 +0100 (CET)
Subject: [R] standardising a data matrix
In-Reply-To: <3.0.6.32.20010302134934.00b19100@mail.anst.uu.se>
Message-ID: <XFMail.010302151928.plummer@iarc.fr>

On 02-Mar-01 Tord Snall wrote:
> Dear all,
> I would like to standardise my data. Here is an exemple for two columns:
> 
>> onorm<- read.table("onorm.txt", header=T)
>> names(onorm)
> [1] "on1" "on2" "on3" "on4" "on5"
>> norm<- data.frame((onorm$on1-mean(onorm$on1))/stdev(onorm$on1),
> (onorm$on2-mean(onorm$on2))/stdev(onorm$on2))
> 
> I would be happy however not having got to do this coulumnwise since I have
> about 80 columns. Could someone please give a hint on how to do this for
> the whole matrix. 

Use sweep() 

norm <- sweep(onorm, 2, apply(onorm, 2, mean), "-") # standardize mean to 0
norm <- sweep(norm, 2, apply(norm, 2, sd), "/")   # standardize variance to 1

> The names of the coulumns are on1, on2 etc. as above. I want the columns in
> the new standardised dataset to have the names son1, son2 etc, i.e. adding
> an s to all the original column names. How do I do that?

names(norm) <- paste("s", names(norm), sep="")

Martyn

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Fri Mar  2 15:33:15 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Fri, 02 Mar 2001 15:33:15 +0100
Subject: [R] Post Hoc on repeated measures?
References: <20010302121630.A23725@ling.umu.se>
Message-ID: <3A9FAF2B.C27B5AEC@psy.uni-muenchen.de>

Fredrik Karlsson wrote:
> 
> Hi all,
> 
> I'm a potential new user of R and have to know this before I start using it:
> SPSS does not let you do a Post Hoc analysis on repeated measures data.
> This is a problem for me, since that is what I will have to do.
> Will R let me do this?
> 
> /Fredrik

Hi,

I don't know any post hoc tests for repeated measurements. However, it's
possible that SPSS has allowed the standard post hoc tests (eg. Duncan,
Turkey etc) in repeated measure designs some years ago (I've heard about
that). SPSS now offers pairwise comparisons with bonferroni adjustment,
which is available in R too. 

Bye, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tord.snall at ebc.uu.se  Fri Mar  2 14:32:07 2001
From: tord.snall at ebc.uu.se (Tord Snall)
Date: Fri, 02 Mar 2001 14:32:07 +0100
Subject: [R] standardising a data matrix
In-Reply-To: <XFMail.010302151928.plummer@iarc.fr>
References: <3.0.6.32.20010302134934.00b19100@mail.anst.uu.se>
Message-ID: <3.0.6.32.20010302143207.00b10c60@mail.anst.uu.se>

Dear Paulo and Martyn,
Thanks a lot for this help. As a beginner I really appreciate the help
available on this list. I searched for a suitable function in Venables &
Ripley but only in the first two chapters. Now I know I can read about this
kind of things in chapter 4.

yours,
Tord

 .At 15:19 2001-03-02 +0100, you wrote:
>On 02-Mar-01 Tord Snall wrote:
>> Dear all,
>> I would like to standardise my data. Here is an exemple for two columns:
>> 
>>> onorm<- read.table("onorm.txt", header=T)
>>> names(onorm)
>> [1] "on1" "on2" "on3" "on4" "on5"
>>> norm<- data.frame((onorm$on1-mean(onorm$on1))/stdev(onorm$on1),
>> (onorm$on2-mean(onorm$on2))/stdev(onorm$on2))
>> 
>> I would be happy however not having got to do this coulumnwise since I have
>> about 80 columns. Could someone please give a hint on how to do this for
>> the whole matrix. 
>
>Use sweep() 
>
>norm <- sweep(onorm, 2, apply(onorm, 2, mean), "-") # standardize mean to 0
>norm <- sweep(norm, 2, apply(norm, 2, sd), "/")   # standardize variance to 1
>
>> The names of the coulumns are on1, on2 etc. as above. I want the columns in
>> the new standardised dataset to have the names son1, son2 etc, i.e. adding
>> an s to all the original column names. How do I do that?
>
>names(norm) <- paste("s", names(norm), sep="")
>
>Martyn
>
>

-----------------------------------------------------------------------
Tord Sn?ll
Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
Villav?gen 14			
SE-752 36 Uppsala, Sweden
Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
E-mail: Tord.Snall at ebc.uu.se
http://www.vaxtbio.uu.se/resfold/tord_s.htm
------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Mar  2 15:31:29 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 02 Mar 2001 08:31:29 -0600
Subject: [R] standardising a data matrix
In-Reply-To: Paulo Justiniano Ribeiro Jr's message of "Fri, 2 Mar 2001 14:06:40 +0000 (GMT)"
References: <Pine.GSO.4.21.0103021406180.24462-100000@unixc.lancs.ac.uk>
Message-ID: <6rg0gwi6ny.fsf@franz.stat.wisc.edu>

Paulo Justiniano Ribeiro Jr <p.ribeiro at lancaster.ac.uk> writes:

> What about apply:

> apply(onorm, 2, function(x){(x - mean(x))/sqrt(var(x))})

I think if the data were read with read.table they would be in the
form of a data frame and you would need to use lapply, not apply.  It
would look like

  lapply(onorm, function(x){(x - mean(x))/sqrt(var(x))})

I have a vague recollection of a function in the base library that
does centering and scaling but I can't remember what it is called.  It
is certainly easy enough to create an anonymous function as you did
although that function will encounter problems with missing data.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at pubhealth.ku.dk  Fri Mar  2 15:46:54 2001
From: p.dalgaard at pubhealth.ku.dk (Peter Dalgaard BSA)
Date: 02 Mar 2001 15:46:54 +0100
Subject: [R] standardising a data matrix
In-Reply-To: Douglas Bates's message of "02 Mar 2001 08:31:29 -0600"
References: <Pine.GSO.4.21.0103021406180.24462-100000@unixc.lancs.ac.uk> <6rg0gwi6ny.fsf@franz.stat.wisc.edu>
Message-ID: <x24rxc9qjl.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates at stat.wisc.edu> writes:

> I have a vague recollection of a function in the base library that
> does centering and scaling but I can't remember what it is called. 

scale()... 


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Fri Mar  2 15:57:20 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Fri, 02 Mar 2001 15:57:20 +0100 (CET)
Subject: [R] standardising a data matrix
In-Reply-To: <6rg0gwi6ny.fsf@franz.stat.wisc.edu>
Message-ID: <XFMail.010302155720.plummer@iarc.fr>

On 02-Mar-01 Douglas Bates wrote:
> I have a vague recollection of a function in the base library that
> does centering and scaling but I can't remember what it is called.  

You're not wrong.  It's called scale().
Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amurta at ipimar.pt  Fri Mar  2 15:12:46 2001
From: amurta at ipimar.pt (Alberto Murta)
Date: Fri, 02 Mar 2001 14:12:46 +0000
Subject: [R] standardising a data matrix
References: <Pine.GSO.4.21.0103021406180.24462-100000@unixc.lancs.ac.uk> <6rg0gwi6ny.fsf@franz.stat.wisc.edu>
Message-ID: <3A9FAA5E.9A238DA2@ipimar.pt>

Douglas Bates wrote:
> 
> I have a vague recollection of a function in the base library that
> does centering and scaling but I can't remember what it is called.  It

Is it 'scale' ?






 
                       Alberto G. Murta                      
       IPIMAR - Institute of Fisheries and Sea Research
        Avenida de Brasilia, 1449-006 Lisboa, Portugal       
Tel: +351 213027062; Fax: +351 213015849; http://www.ipimar.pt
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Mar  2 16:44:12 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Fri, 2 Mar 2001 10:44:12 -0500 (EST)
Subject: [R] standardising a data matrix
In-Reply-To: <3.0.6.32.20010302134934.00b19100@mail.anst.uu.se>
Message-ID: <Pine.LNX.4.30.0103021040360.6911-100000@bolker.zoo.ufl.edu>


On Fri, 2 Mar 2001, Tord Snall wrote:

> Dear all,
> I would like to standardise my data. Here is an exemple for two columns:
>
> > onorm<- read.table("onorm.txt", header=T)
> > names(onorm)
> [1] "on1" "on2" "on3" "on4" "on5"
> > norm<- data.frame((onorm$on1-mean(onorm$on1))/stdev(onorm$on1),
> (onorm$on2-mean(onorm$on2))/stdev(onorm$on2))
>
> I would be happy however not having got to do this coulumnwise since I have
> about 80 columns. Could someone please give a hint on how to do this for
> the whole matrix.

  Hints (someone else will probably come along and give you the whole
answer):  see "sweep", "scale", "apply".

  For the names,
  names(newdata) <- paste("s",names(olddata),sep="")


>
> The names of the coulumns are on1, on2 etc. as above. I want the columns in
> the new standardised dataset to have the names son1, son2 etc, i.e. adding
> an s to all the original column names. How do I do that?
>
> Thanks in advance!
>
> Sincerely,
> Tord Sn?ll
>
> -----------------------------------------------------------------------
> Tord Sn?ll
> Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
> Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
> Villav?gen 14
> SE-752 36 Uppsala, Sweden
> Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
> Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
> Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
> E-mail: Tord.Snall at ebc.uu.se
> http://www.vaxtbio.uu.se/resfold/tord_s.htm
> ------------------------------------------------------------------------
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Mar  2 18:03:07 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 2 Mar 2001 18:03:07 +0100
Subject: [R] Re: Introduction to R (S) [in German]
In-Reply-To: <p05010404b6c57f131b3a@[129.206.113.199]>
References: <p05010404b6c57f131b3a@[129.206.113.199]>
Message-ID: <15007.53835.614787.876154@gargle.gargle.HOWL>

>>>>> "GS" == G Sawitzki <gs at statlab.uni-heidelberg.de> writes:

    GS> Couse notes for a short introduction to the S language have been
    GS> posted as <http://www.ci.tuwien.ac.at/R/doc/contrib/s.pdf;I>

    GS> This is material for a 4-5 days course, assuming some background in 
    GS> statistics (German style).

    GS> As a matter of fact it is a Trojan horse, claiming it is teaching the 
    GS> S language, but under the shelf it is trying to convey some ideas 
    GS> about statistics.

R users who are not reading carefully might be told in advance 
that G.S. uses  "GNU S"  whenever others woud say "R" ..

    GS> For those of you who are going to Vienna it is a chance to train
    GS> your German.

But then, the Viennese (like we Swiss) have their own version of
German which you have to learn additionally ...  (;-) 

    GS> Comments and corrections are welcome (please mail to me directly).
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jaitchis at lisp.com.au  Sat Mar  3 03:08:54 2001
From: jaitchis at lisp.com.au (John Aitchison)
Date: Sat, 3 Mar 2001 13:08:54 +1100
Subject: [R] SOM code + visualization aspects
In-Reply-To: <NCBBKMNKKMFCIGDCHLDOCEEMCGAA.niels.waller@home.com>
Message-ID: <3AA0ECE6.30406.EF7627@localhost>



On 1 Mar 2001, at 7:11, niels Waller wrote:

> 
> The (slow) SOM code can be found on my web page (towards the bottom)
> 
> http://peabody.vanderbilt.edu/depts/psych_and_hd/faculty/wallern/

Thank you, I have tested it (well, on toy examples) and it works just fine 
- as a clustering tool. How 'slow' it is I don't know - as in, I have not 
tested it on large problems - but in any event the Kaski* paper (below) 
suggests some possible speedups.

SOM, I think, is a bit of a moving target, but as well as the clustering 
aspect there appears to be also a data visualisation aspect which is not 
represented in your code as far as I could see.  Paraphrasing Kaski, one 
implements a regular 2d grid on which 'units' are located  : each unit has 
a 'reference vector' (a vector of means), the 'winning unit'  for a given 
input vector (based on Euclidean distance in the 'measurement space') has 
its reference vector updated as do its neighbours in 'grid space' (with 
weights approc proportional to 1/distance in the GRID SPACE) . Eventually 
this process organizes the data on the grid in some meaningful fashion.  
You can then use this grid as an 'ordered groundwork' on which you can 
display a bunch of things .. the original measurement variables, cluster 
densities etc.  It has a certain appeal imho.

 
 * Samuel Kaski's thesis "Data exploration using self-organizing 
maps"  is at http://www.cis.hut.fi/~sami/thesis.ps

 

John Aitchison
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jaitchis at lisp.com.au  Sat Mar  3 08:54:13 2001
From: jaitchis at lisp.com.au (John Aitchison)
Date: Sat, 3 Mar 2001 18:54:13 +1100
Subject: [R] vector argument to rnorm 
Message-ID: <3AA13DD5.7837.66B86C@localhost>


Is this intended behaviour ?

> length(rnorm(c(100)))
[1] 100
> length(rnorm(c(100,0,1)))
[1] 3
> length(rnorm(length(c(100,1,2))))
[1] 3
> length(rnorm(c(100,0,1,2,3,4,5)))
[1] 7

ie if you pass in a single element vector the first element of that is 
taken as the desired n (OK) , but otherwise the length of the vector 
argument is taken as the desired n.

I came across this usage in an example for terasvirta.test (same for 
white.test) in tseries

> example(terasvirta.test)

trsvr.> n <- 1000
trsvr.> x <- runif(1000, -1, 1)
trsvr.> y <- x^2 - x^3 + 0.1 * rnorm(x)
trsvr.> terasvirta.test(x, y)

and it seemed to me that rnorm(n) was what was intended, not that it would 
make any difference in practice in this case.

Is this a standard practice? .. that in passing in a vector where a scalar 
is expected it is as if you passed in the length of that vector as the 
argument (unless the vector has length 1)
 

John Aitchison
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Mar  3 09:21:27 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 3 Mar 2001 08:21:27 +0000 (GMT)
Subject: [R] vector argument to rnorm 
In-Reply-To: <3AA13DD5.7837.66B86C@localhost>
Message-ID: <Pine.GSO.4.31.0103030814090.771-100000@toucan.stats>

On Sat, 3 Mar 2001, John Aitchison wrote:

>
> Is this intended behaviour ?
>
> > length(rnorm(c(100)))
> [1] 100
> > length(rnorm(c(100,0,1)))
> [1] 3
> > length(rnorm(length(c(100,1,2))))
> [1] 3
> > length(rnorm(c(100,0,1,2,3,4,5)))
> [1] 7
>
> ie if you pass in a single element vector the first element of that is
> taken as the desired n (OK) , but otherwise the length of the vector
> argument is taken as the desired n.

[Yes: see below.]

> I came across this usage in an example for terasvirta.test (same for
> white.test) in tseries
>
> > example(terasvirta.test)
>
> trsvr.> n <- 1000
> trsvr.> x <- runif(1000, -1, 1)
> trsvr.> y <- x^2 - x^3 + 0.1 * rnorm(x)
> trsvr.> terasvirta.test(x, y)
>
> and it seemed to me that rnorm(n) was what was intended, not that it would
> make any difference in practice in this case.
>
> Is this a standard practice? .. that in passing in a vector where a scalar
> is expected it is as if you passed in the length of that vector as the
> argument (unless the vector has length 1)

Yes, for sample sizes in rxxxx.  It is what S does:

n:      sample  size.   If  length(n)  is  larger  than  1,  then
       length(n) random values are returned.

Yet another case where R's help pages do not tell the whole story.
I will try to fix these.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Sat Mar  3 11:13:43 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Sat, 3 Mar 2001 11:13:43 +0100
Subject: [R] Re: VR_6.2-4 is released
In-Reply-To: <200103021825.SAA29994@toucan.stats.ox.ac.uk>
References: <200103021825.SAA29994@toucan.stats.ox.ac.uk>
Message-ID: <15008.50135.849810.115115@mithrandir.hornik.net>

>>>>> Prof Brian Ripley writes:

> An update of the VR bundle was released on Monday and should have
> propagated around CRAN now.  It is a collection of bug fixes (many to
> documentation, thanks to Kurt Hornik's great tools undoc and codoc)

Ah ... just what I neede today ... thanks.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jimherbe at tpg.com.au  Sat Mar  3 16:00:49 2001
From: jimherbe at tpg.com.au (jimherbe@tpg.com.au)
Date: Sat, 03 Mar 2001 16:00:49 +0100
Subject: [R] That site for buying and selling  busineses I
Message-ID: <E14ZDWa-0002M0-00@bernie.ethz.ch>

Hey

That site on the net for buying and selling businesses is http://bsab.com.au

This is the one that Craig Simmons told us he sold his shop from. I've checked it out - it looks great - but I do see a problem for you in that nobody is going to pay you $950k for your business unless you move to NT. Every other place in Australia has your type of business for far less and making more money.

ONLY KIDDING  - Check it out it has all the information on buying and selling a Business in Australia and it has stacks of businesses for sale and people looking for businesses.  Here is the link  http://www.bsab.com.au/

I've put a ad up in wanted to buy today it's free 
Have a look at my ad  click on this http://www.bsab.com.au/boardinfo.asp?IDnum=140 

Hey don't send me your business I can't handle paying Johnnie 100k in tax each year like you and supporting your sister too.

Give me a call after you look at this site
Jim

From lhomer at teleport.com  Sat Mar  3 16:12:22 2001
From: lhomer at teleport.com (lhomer)
Date: Sat, 3 Mar 2001 07:12:22 -0800
Subject: [R] Image files in R
Message-ID: <003801c0a3f4$5bf05a40$313e1ad8@oemcomputer>

Does anyone have experience importing image files into R? I would like to be able to import such files, use R to analyze and compare and perhaps export again a modified file which can be displayed by the usual image display programs. 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010303/ad72932b/attachment.html

From znmeb at aracnet.com  Sat Mar  3 17:21:11 2001
From: znmeb at aracnet.com (M. Edward (Ed) Borasky)
Date: Sat, 3 Mar 2001 08:21:11 -0800 (PST)
Subject: [R] Image files in R
In-Reply-To: <003801c0a3f4$5bf05a40$313e1ad8@oemcomputer>
Message-ID: <Pine.LNX.4.31.0103030814500.3929-100000@shell1.aracnet.com>

On Sat, 3 Mar 2001, lhomer wrote:

> Does anyone have experience importing image files into R? I would like to be able to import such files, use R to analyze and compare and perhaps export again a modified file which can be displayed by the usual image display programs.
>

I don't know what you're trying to do, but I suspect there are better tools
available for image processing than R. The astronomers I know like Perl Data
Language, MATLAB and its free work-alikes, Octave and Scilab. It's been a while
since I looked at Perl Data Language; at the time I discovered it, it was
pretty much UNIX-only, so I didn't do much with it, being constrained to
Windows. Scilab is great on Windows, though.
--
znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb

What phrase will you *never* hear Miss Piggy use?
"You can't make a silk purse out of a sow's ear!"

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Sat Mar  3 21:44:05 2001
From: znmeb at aracnet.com (M. Edward (Ed) Borasky)
Date: Sat, 3 Mar 2001 12:44:05 -0800 (PST)
Subject: [R] Monotonic regression in R??
In-Reply-To: <003801c0a3f4$5bf05a40$313e1ad8@oemcomputer>
Message-ID: <Pine.LNX.4.31.0103030812550.3887-100000@shell1.aracnet.com>

Is there R code somewhere for monotonic regression? I have some functions
(computer response time curves) that are guaranteed by theory to be monotonic,
and some experimental data where they are not. What I'd like to do is plot a
smooth monotonic curve through the experimental points. There is no closed form
expression for the curve, although there is a recursive difference equation
formulation in some simple cases, so ordinary nonlinear regression is not the
answer. I have Hardle's book (the title of which escapes me at the moment)
which gives the algorithm, so I can code it if it doesn't exist already, but I
was hoping it was already done.
--
znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb

If God had meant carrots to be eaten cooked, He would have given rabbits
fire.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Sat Mar  3 21:50:34 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Sat, 03 Mar 2001 21:50:34 +0100
Subject: [R] Emacs & ESS under Windows
Message-ID: <3.0.32.20010303215033.008fce80@162.38.183.200>

After the discussions about appropriate editors under Windows to use with
R, I have managed to install Emacs, XEmacs, and ESS under WinNT 4.0, and
these work fine. It's not necessary to compile anything to use R with ESS,
just to install Emacs and ESS, and do a few modifications in some files.
XEmacs is also easy to install but apparently ESS cannot run with it
(confirmed by a message by Tony Rossini).

A point is probably that most people who start with R are a bit
disoriented, thus telling them to learn also Emacs and ESS is a bit too
much at once. To try to remedy this, I have summarized the steps to install
Emacs and ESS. I have indicated the versions I used, but did not try
others. I welcome comments and suggestions on this(I shall probably include
this in my doc "R for beginners").

(I have found the setup I describe below to not have all the
functionnalities of XEmacs + ESS under Solaris. Is that because I did not
compile the ESS files?)


Emmanuel Paradis


+----------------------------------+
| How to install ESS under Windows |
+----------------------------------+
1. Download a precompiled copy of Emacs v. 20.4 for Windows on Intel machines:

	ftp://ftp.gnu.org/gnu/windows/emacs/20.4/emacs-20.4-bin-i386.tar.gz

2. Unpack the downloaded file in a directory, e.g., "D:\", then execute the
file "D:\emacs-20.4\addpm.exe". Emacs is then installed on your Windows
machine, and a shortcut should have been added to your start menu.

3. Download ESS v. 5.1.8 at:

	http://ess.stat.wisc.edu/pub/ESS/ESS-5.1.8.zip

4. Unpack the downloaded file in "D:\emacs-20.4\lisp\" (of course, keeping
the tree structure of the zip archive).

5. Edit the file "D:\emacs-20.4\lisp\ess-5.1.8\lips\ess-site.el", and
modify the line #144 to this:

(setq-default inferior-R-program-name "D:/rw1021/bin/Rterm.exe")  ; msdos
systems

This is if you installed R for Windows in D:\; if you installed it, for
instance, in C:\Program Files, then this line must be:

(setq-default inferior-R-program-name "C:/Program
Files/rw1021/bin/Rterm.exe")  ; msdos systems

(The semicolons in this file indicate comments.)

6. Add a file called "_emacs" in C:\ with the following line in it:

(load-file "d:/emacs-20.4/lisp/ess-5.1.8/lisp/ess-site.el")

7. ESS is now configured to run with R and Emacs, but it is very handy to
create a type for *.R files that opens Emacs directly. To do this, open
Explorer.exe, then open "options" in the menu "display", select the thumb
"types of files", click on "New type...", file the fields, and under
"actions", click "New...", a new window is then open. Under "action" type
"open", and the second field type D:\emacs-20.4\bin\emacs.exe. Close all
windows by clicking "Ok".

[Note: this is approximately translated from my French WinNT menus]

Now, when you open a *.R file, this opens directly Emacs and ESS. To run R
under Emacs, type Alt-x R, and then Enter (this will open a DOS-like
window, so you have to come back to Emacs). You switch between the
different files, buffers, processes, ... with the menu "Buffers". When you
edit a *.R file you can evaluate the R expressions with the "ESS" menu by
selecting "eval buffer".


EP
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Sat Mar  3 23:32:41 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sat, 3 Mar 2001 16:32:41 -0600 (CST)
Subject: [R] Monotonic regression in R??
In-Reply-To: <Pine.LNX.4.31.0103030812550.3887-100000@shell1.aracnet.com>
References: <003801c0a3f4$5bf05a40$313e1ad8@oemcomputer>
	<Pine.LNX.4.31.0103030812550.3887-100000@shell1.aracnet.com>
Message-ID: <15009.28937.41101.117027@sonny.eddelbuettel.com>


  "Ed" == Ed  <M.> writes:
  Ed>  Is there R code somewhere for monotonic regression? I have some
  Ed> functions (computer response time curves) that are guaranteed by theory
  Ed> to be monotonic, and some experimental data where they are not. What
  Ed> I'd like to do is plot a smooth monotonic curve through the
  Ed> experimental points. There is no closed form expression for the curve,
  Ed> although there is a recursive difference equation formulation in some
  Ed> simple cases, so ordinary nonlinear regression is not the answer. I
  Ed> have Hardle's book (the title of which escapes me at the moment) which

If you are refering to 

@Book{haerdle90b,
  author        = {Wolfgang H{\"a}rdle},
  title         = {Smoothing Techniques: With Implementation in S},
  year          = 1990,
  publisher     = {Springer Verlag},
  address       = {New York},
  series        = {Springer Series in Statistics},
}

then there should be S code for it on Statlib. That should at least be a
start. 

I think the topic of his code came up hear before with the consensus that
some of the more recent smoothing packages are actually better.

Dirk

  Ed> gives the algorithm, so I can code it if it doesn't exist already, but
  Ed> I was hoping it was already done.  

-- 
According to the latest figures, 43% of all statistics are totally worthless.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From myotis at cix.compulink.co.uk  Sun Mar  4 00:04:00 2001
From: myotis at cix.compulink.co.uk (Graham Smith)
Date: Sat, 3 Mar 2001 23:04 +0000 (GMT)
Subject: [R] Error in X11
Message-ID: <memo.719342@cix.compulink.co.uk>

In-Reply-To: <OF64BAAB51.93CEFB4D-ON852569DE.004CB60E at rtp.epa.gov>

This is more a linux question, but I have asked in some Linux 
conferences with no success.

I am running 1.2.1 in Mandrake 7.2.Trying to run the graphics demo 
produces axes, but no lines and I get an error message:

error in abline (h=0, col=gray(0,9))Error:X11 cannot allocate 
additional graphics colors consider using x11 with colortype = 
"pseudo.color" or "gray"

I am completely new to R and Linux and I am not sure how to fix this, I 
am also not sure on how fixing this will affect other program such as 
Grass which seems to have no problems drawing different coloured lines.

Can any one advise me how I fix this? It was installed with the 
Mandrake RPM, and I did think of installing 1.2.2 to see if that 
helped, but the Mandrake RPM isn't on Cran, there is a readme, but no 
binary.

Many Thanks,

Graham S


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From myotis at cix.compulink.co.uk  Sun Mar  4 00:45:00 2001
From: myotis at cix.compulink.co.uk (Graham Smith)
Date: Sat, 3 Mar 2001 23:45 +0000 (GMT)
Subject: [R] Re: Error in X11
Message-ID: <memo.719903@cix.compulink.co.uk>

In-Reply-To: <memo.719342 at cix.compulink.co.uk>

For "pseudo.color" read "pseudo.cube"

Sorry,

Graham S
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at pubhealth.ku.dk  Sun Mar  4 01:06:47 2001
From: p.dalgaard at pubhealth.ku.dk (Peter Dalgaard BSA)
Date: 04 Mar 2001 01:06:47 +0100
Subject: [R] Error in X11
In-Reply-To: myotis@cix.compulink.co.uk's message of "Sat, 3 Mar 2001 23:04 +0000 (GMT)"
References: <memo.719342@cix.compulink.co.uk>
Message-ID: <x2zof2gzxk.fsf@blueberry.kubism.ku.dk>

myotis at cix.compulink.co.uk (Graham Smith) writes:

> In-Reply-To: <OF64BAAB51.93CEFB4D-ON852569DE.004CB60E at rtp.epa.gov>
> 
> This is more a linux question, but I have asked in some Linux 
> conferences with no success.
> 
> I am running 1.2.1 in Mandrake 7.2.Trying to run the graphics demo 
> produces axes, but no lines and I get an error message:
> 
> error in abline (h=0, col=gray(0,9))Error:X11 cannot allocate 
> additional graphics colors consider using x11 with colortype = 
> "pseudo.color" or "gray"
> 
> I am completely new to R and Linux and I am not sure how to fix this, I 
> am also not sure on how fixing this will affect other program such as 
> Grass which seems to have no problems drawing different coloured lines.
> 
> Can any one advise me how I fix this? It was installed with the 
> Mandrake RPM, and I did think of installing 1.2.2 to see if that 
> helped, but the Mandrake RPM isn't on Cran, there is a readme, but no 
> binary.

Basically this means that something else stole all of the colors
available for your display. Two ways out:

a) I think this only happens with 256-color (8bit) X servers. Set up
   your X server for 16 bit color depth or better.

b) remove application that use many colors. The background image or
   Netscape are likely culprits, but also the smoothly colored little
   Gnome icons are troublesome. KDE might be better in this regard
   according to what I've gathered.

Also, you might try taking the hint in that error message, e.g.:

c) x11(colortype="gray");demo(graphics)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aperrin at socrates.berkeley.edu  Sun Mar  4 02:27:11 2001
From: aperrin at socrates.berkeley.edu (Andrew Perrin)
Date: Sat, 3 Mar 2001 20:27:11 -0500 (EST)
Subject: [R] diagonal line through plot when using pictex()
Message-ID: <Pine.LNX.4.21.0103032024470.1414-100000@nujoma.perrins>

Greetings-

I've got some plots I'd like to include in a LaTeX document; specifically,
I'd like to include them via pictex() so I can edit some of the
particulars directly. However, an odd problem is coming up: a diagonal
line is drawn from bottom-left to upper-right when using pictex().  This
does not happen using X11() or postscript() with the same series of
commands.

Any ideas why this happens? If not, any references to PicTeX so I can
figure out how to remove the line after writing the file?

Thanks.

----------------------------------------------------------------------
Andrew J Perrin - Ph.D. Candidate, UC Berkeley, Dept. of Sociology  
Chapel Hill, North Carolina, USA - http://demog.berkeley.edu/~aperrin
        aperrin at socrates.berkeley.edu - aperrin at igc.apc.org

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Mar  4 08:39:26 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 4 Mar 2001 07:39:26 +0000 (GMT)
Subject: [R] diagonal line through plot when using pictex()
In-Reply-To: <Pine.LNX.4.21.0103032024470.1414-100000@nujoma.perrins>
Message-ID: <Pine.GSO.4.31.0103040736510.18854-100000@auk.stats>

On Sat, 3 Mar 2001, Andrew Perrin wrote:

> Greetings-
>
> I've got some plots I'd like to include in a LaTeX document; specifically,
> I'd like to include them via pictex() so I can edit some of the
> particulars directly. However, an odd problem is coming up: a diagonal
> line is drawn from bottom-left to upper-right when using pictex().  This
> does not happen using X11() or postscript() with the same series of
> commands.
>
> Any ideas why this happens? If not, any references to PicTeX so I can
> figure out how to remove the line after writing the file?

It was a bug, which is already fixed in 1.2.2.  Please upgrade.
>From NEWS:

                CHANGES IN R VERSION 1.2.2

    o   The pictex() driver was drawing polylines incorrectly (PR#845).

When something like this comes up it is worth consulting the R-bugs
archive.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Mar  4 09:05:48 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 4 Mar 2001 08:05:48 +0000 (GMT)
Subject: [R] Monotonic regression in R??
In-Reply-To: <15009.28937.41101.117027@sonny.eddelbuettel.com>
Message-ID: <Pine.GSO.4.31.0103040740020.18854-100000@auk.stats>

On Sat, 3 Mar 2001, Dirk Eddelbuettel wrote:

>
>   "Ed" == Ed  <M.> writes:
>   Ed>  Is there R code somewhere for monotonic regression? I have some
>   Ed> functions (computer response time curves) that are guaranteed by theory
>   Ed> to be monotonic, and some experimental data where they are not. What
>   Ed> I'd like to do is plot a smooth monotonic curve through the
>   Ed> experimental points. There is no closed form expression for the curve,
>   Ed> although there is a recursive difference equation formulation in some
>   Ed> simple cases, so ordinary nonlinear regression is not the answer. I
>   Ed> have Hardle's book (the title of which escapes me at the moment) which
>
> If you are refering to
>
> @Book{haerdle90b,
>   author        = {Wolfgang H{\"a}rdle},
>   title         = {Smoothing Techniques: With Implementation in S},
>   year          = 1990,
>   publisher     = {Springer Verlag},
>   address       = {New York},
>   series        = {Springer Series in Statistics},
> }

(My copy has a 1991 date inside.)

> then there should be S code for it on Statlib. That should at least be a
> start.

(Yes, but the master is http://www.stats.ox.ac.uk/pub/S/haerdle.sh.Z.  No
isotonic regression there that I can see, though.)

> I think the topic of his code came up hear before with the consensus that
> some of the more recent smoothing packages are actually better.

for smoothing and density estimation, much so.  There are now better
statistical methods and much more careful implementations.  I recommend
packages KernSmooth and sm, in particular.


The topic of isotonic regression comes up here and on S-news from time to
time.  There are a few algorithms, not just one.  One is implemented
as part of isoMDS in package MASS, but no direct interface is available.

Here is a pure S version of the pool-adjacent-violators algorithm from
http://www.biostat.wustl.edu/hyperlists/s-news/200002/msg00284.html


pava <- function (x, wt=rep(1,length(x)))
#  Compute the isotonic regression of numeric vector 'x', with
#  weights 'wt', with respect to simple order.  The pool-adjacent-
#  violators algorithm is used.  Returns a vector of the same length
#  as 'x' containing the regression.

#  02 Sep 1994 / R.F. Raubertas
{
   n <- length(x)
   if (n <= 1) return (x)
   if (any(is.na(x)) || any(is.na(wt))) {
      stop ("Missing values in 'x' or 'wt' not allowed")
   }
   lvlsets <- (1:n)
   repeat {
      viol <- (as.vector(diff(x)) < 0)  # Find adjacent violators
      if (!(any(viol))) break

      i <- min( (1:(n-1))[viol])        # Pool first pair of violators
      lvl1 <- lvlsets[i]
      lvl2 <- lvlsets[i+1]
      ilvl <- (lvlsets == lvl1 | lvlsets == lvl2)
      x[ilvl] <- sum(x[ilvl]*wt[ilvl]) / sum(wt[ilvl])
      lvlsets[ilvl] <- lvl1
   }
   x
}

Another version is given at

http://www.biostat.wustl.edu/hyperlists/s-news/200002/msg00282.html

That uses the S-PLUS function nnls.fit, but optim can be used: for the
conversion see the MASS script ch09.R.

Both of these are very much slower that the C code isoMDS uses, and I think
too that the algorithms are slower than the one that uses.


The search facility on S-news at

http://www.biostat.wustl.edu/s-news/s-news-archive/search.html

is very useful: might be worth a link on www.r-project.org.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Mar  4 09:32:14 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 4 Mar 2001 08:32:14 +0000 (GMT)
Subject: [R] Monotonic regression in R??
In-Reply-To: <Pine.GSO.4.31.0103040740020.18854-100000@auk.stats>
Message-ID: <Pine.GSO.4.31.0103040827580.22244-100000@auk.stats>

Here is a solution using C code:

library(MASS)
isoreg <- function(x, y)
{
    ord <- order(x)
    y <- y[ord]
    nd <- length(ord)
    Z <- .C("VR_mds_fn",
            as.double(y), yf=as.double(y), as.integer(nd),
            ssq = double(1), as.integer(order(ord)-1), as.double(x),
            as.integer(0), as.integer(0), g=double(0), as.integer(0),
            PACKAGE = "MASS")
    list(x = x[ord], y = y, fitted = Z$yf, RSS = Z$ssq)
}

I have not checked what happens it there are ties in the x's.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From myotis at cix.compulink.co.uk  Sun Mar  4 10:28:00 2001
From: myotis at cix.compulink.co.uk (Graham Smith)
Date: Sun, 4 Mar 2001 09:28 +0000 (GMT)
Subject: [R] Error in X11
Message-ID: <memo.724079@cix.compulink.co.uk>

In-Reply-To: <x2zof2gzxk.fsf at blueberry.kubism.ku.dk>

Peter,

Many thanks for this, I had inadvertently set the colours to 8 bit 
because of the resolution I had chosen. Changing this to 800x600 
allowed 16 bit colour and R is now drawing graphs.

Cheers,

Graham S


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mazucheli at uol.com.br  Sun Mar  4 17:30:08 2001
From: mazucheli at uol.com.br (mazucheli)
Date: Sun, 4 Mar 2001 13:30:08 -0300
Subject: [R] latex style
Message-ID: <002c01c0a4c8$62531380$0f60bfc8@oemcomputer>

Dear all,

Is there a special latex style or a latex cls to  type Reference Manual????


regards

JM
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010304/76fc4ced/attachment.html

From ripley at stats.ox.ac.uk  Sun Mar  4 18:07:19 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 4 Mar 2001 17:07:19 +0000 (GMT Standard Time)
Subject: [R] latex style
In-Reply-To: <002c01c0a4c8$62531380$0f60bfc8@oemcomputer>
Message-ID: <Pine.WNT.4.31.0103041705190.212-100000@tern.stats>

On Sun, 4 Mar 2001, mazucheli wrote:

> Dear all,
>
> Is there a special latex style or a latex cls to  type Reference Manual????

doc/manual/Rd.sty is used for the reference manual.  It mainly defines
environments which are auto-generated by Rdconv.

I am not sure why you would want this.  help(offline=TRUE) and R CMD Rd2dvi
cover many cases.

Brian


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From myotis at cix.compulink.co.uk  Sun Mar  4 19:22:00 2001
From: myotis at cix.compulink.co.uk (Graham Smith)
Date: Sun, 4 Mar 2001 18:22 +0000 (GMT)
Subject: [R] Emacs & ESS under Windows
Message-ID: <memo.731383@cix.compulink.co.uk>

In-Reply-To: <3.0.32.20010303215033.008fce80 at 162.38.183.200>

Emmanuel,

Although, this will be obvious to many, what are the advantages of 
running R in Emacs.

As a windows, just learning Linux user, I have never used Emacs so i 
would be grateful for a run down on its benifits.

Many thanks,

Graham S




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Mar  4 19:41:43 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 4 Mar 2001 18:41:43 +0000 (GMT)
Subject: [R] Emacs & ESS under Windows
In-Reply-To: <memo.731383@cix.compulink.co.uk>
Message-ID: <Pine.GSO.4.31.0103041827280.4732-100000@toucan.stats>

On Sun, 4 Mar 2001, Graham Smith wrote:

> In-Reply-To: <3.0.32.20010303215033.008fce80 at 162.38.183.200>
>
> Emmanuel,
>
> Although, this will be obvious to many, what are the advantages of
> running R in Emacs.

See the FAQ and rw-FAQ for some.

> As a windows, just learning Linux user, I have never used Emacs so i
> would be grateful for a run down on its benifits.

As for actually running R in emacs, I think the benefits are mainly
negative on Windows.  The things you can do in inferior-R-mode you can
often do better in the RGui console. (Many long-term users of ESS on Unix
I know almost never run R within it (since one can have multiple
windows).)  The benefits are most apparent to refugees from Unix forced to
use Windows.

The big advantage is that you can use a language sensitive editor, and the
same one across platforms.  Once you get used to a language-sensitive
editor you will find it points out most of your programming typos before
you ever run the code, e.g. by strange indenting appearing.  One thing I
find hard to cope with: emacs makes incredible use of control/shift/meta
keys (sometimes all at once), and those do differ in position by plaform.

Unfortunately Emmanual's instructions were for versions of Emacs and ESS
that are about two years' old.  I've sent some updates (and expect the
ESS/Emacs gurus have too).  For the record you want emacs 20.7 and ESS
5.1.18 (and certainly not as old as ESS 5.1.8 on Windows).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From myotis at cix.compulink.co.uk  Sun Mar  4 20:45:00 2001
From: myotis at cix.compulink.co.uk (Graham Smith)
Date: Sun, 4 Mar 2001 19:45 +0000 (GMT)
Subject: [R] Emacs & ESS under Windows
Message-ID: <memo.732811@cix.compulink.co.uk>

In-Reply-To: <Pine.GSO.4.31.0103041827280.4732-100000 at toucan.stats>

Brian, 

Thanks for your response, as I am beginning to use Linux as well as 
Windows I did think about Emacs as providing a common interface. Based 
on what you say, I should maybe rethink that.

I will certainly download the more recent versions.

Cheers,

Graham S
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at pubhealth.ku.dk  Sun Mar  4 20:57:21 2001
From: p.dalgaard at pubhealth.ku.dk (Peter Dalgaard BSA)
Date: 04 Mar 2001 20:57:21 +0100
Subject: [R] Emacs & ESS under Windows
In-Reply-To: Prof Brian Ripley's message of "Sun, 4 Mar 2001 18:41:43 +0000 (GMT)"
References: <Pine.GSO.4.31.0103041827280.4732-100000@toucan.stats>
Message-ID: <x23dctmhni.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> > As a windows, just learning Linux user, I have never used Emacs so i
> > would be grateful for a run down on its benifits.
> 
> As for actually running R in emacs, I think the benefits are mainly
> negative on Windows.  The things you can do in inferior-R-mode you can
> often do better in the RGui console. (Many long-term users of ESS on Unix
> I know almost never run R within it (since one can have multiple
> windows).)  The benefits are most apparent to refugees from Unix forced to
> use Windows.

Hmm. I too find myself not using it all that much, but...

One thing that you can do with inferior-R-mode is short-script editing
and evaluation. Some operations (like moderately complex graphics)
require 5 or more successive R commands and redoing them with
command-recall becomes a real pain. With ESS, mark out the block of
commands, Ctr-c Alt-r (C-c M-r in Emacs parlance) and away you go.
(You can do that by cut&paste from any editor, though. Except that on
Unix, TABs cause some grief with readline's filename completion...)

> The big advantage is that you can use a language sensitive editor, and the
> same one across platforms.  Once you get used to a language-sensitive
> editor you will find it points out most of your programming typos before
> you ever run the code, e.g. by strange indenting appearing.  One thing I
> find hard to cope with: emacs makes incredible use of control/shift/meta
> keys (sometimes all at once), and those do differ in position by plaform.

There is a menu bar... but I too am a readline addict and tend to get
bugged by the fact that the cursor keys have their usual editor
bindings in inferior-R-mode, and you need control-up to recall
commands. Of course, the keys are always rebindable in emacs...

A couple of other nice things are transcript-mode where you can step
through previous R output and send the commands in it to R, and the
possibility of editing .R source files while sending their current
contents into the R process for testing with C-c M-b (cue Martin's
recent gripe about people generating patches to R core functions with
fix(function) rather than editing the source .R file).

> Unfortunately Emmanual's instructions were for versions of Emacs and
                ^^^^^^^^
"if all else fails, read Emmanual.." ;)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From trjohns at pullman.com  Sun Mar  4 21:37:03 2001
From: trjohns at pullman.com (Timothy R. Johnson)
Date: Sun, 4 Mar 2001 12:37:03 -0800
Subject: [R] Monotonic regression in R??
References: <Pine.LNX.4.31.0103030812550.3887-100000@shell1.aracnet.com>
Message-ID: <003001c0a4ea$debe7460$83566581@2d51301>

I wrote an isotonic regression function for S-PLUS (kindly revised by Bill
Venables). It allows for weights and three different approaches to resolving
ties. It uses a non-negative least squares solution rather than the "pool
adjacent violators" algorithm.

It looks like it should work in R EXCEPT that the nnls.fit() function
(non-negative least squares) does not exist in R. Since non-negative least
squares is a quadratic programming problem, one could easily modify this
function to work in R using the quadprog library available at CRAN.

Best regards,

Tim Johnson
--
Assistant Professor of Statistics
University of Idaho
http://www.uidaho.edu/~trjohns

isoreg <- function(x, y, weights = rep(1, length(x)),
                   untie = c("optimal", "random", "none"),
                   subset = weights > 0, ...) {
  # Purpose: isotonic regression of y on x. Returns fitted values.
  # Arguments: x is the predictor and y is the response.
  #  Weights are optional. Methods of dealing with ties in x
  #  are 'optimal', 'random', and 'none' (i.e., preserve ties).
  # Author: Tim R. Johnson (trjohns at uidaho.edu)
  # Revised 24/2/1999
  #
  # Revised 26/2/2000 by Bill Venables.
  #
  x.tmp <- x[subset]
  y.tmp <- y[subset]
  w.tmp <- weights[subset]
  n <- length(x.tmp)
  untie <- match.arg(untie)
  x.tmp <- switch(untie,
                  optimal = rank(rank(x.tmp) +
                    sort(runif(n))[rank(rank(y.tmp) + runif(n))]),
                  random = rank(rank(x.tmp) + runif(n)),
                  none = rank(x.tmp))
  X <- cbind(-1, outer(x.tmp,
                       if(untie == "none") sort(unique(x.tmp)) else 1:n,
                      ">="))
  b <- nnls.fit(X, y.tmp, weights = w.tmp, ...)$coefficients # modify here
for R
  y[subset] <- as.vector(X %*% b)
  y
}

----- Original Message -----
From: "M. Edward (Ed) Borasky" <znmeb at aracnet.com>
To: <r-help at stat.math.ethz.ch>
Sent: Saturday, March 03, 2001 12.44 PM
Subject: [R] Monotonic regression in R??


> Is there R code somewhere for monotonic regression? I have some functions
> (computer response time curves) that are guaranteed by theory to be
monotonic,
> and some experimental data where they are not. What I'd like to do is plot
a
> smooth monotonic curve through the experimental points. There is no closed
form
> expression for the curve, although there is a recursive difference
equation
> formulation in some simple cases, so ordinary nonlinear regression is not
the
> answer. I have Hardle's book (the title of which escapes me at the moment)
> which gives the algorithm, so I can code it if it doesn't exist already,
but I
> was hoping it was already done.
> --
> znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb
>
> If God had meant carrots to be eaten cooked, He would have given rabbits
> fire.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sun Mar  4 21:52:13 2001
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sun, 4 Mar 2001 15:52:13 -0500 (EST)
Subject: [R] Emacs & ESS under Windows
In-Reply-To: <memo.731383@cix.compulink.co.uk>
Message-ID: <Pine.LNX.4.21.0103041539160.459-100000@Chrestomanci.home.earth>



On Sun, 4 Mar 2001, Graham Smith wrote:

> In-Reply-To: <3.0.32.20010303215033.008fce80 at 162.38.183.200>
> 
> Emmanuel,
> 
> Although, this will be obvious to many, what are the advantages of 
> running R in Emacs.
> 
> As a windows, just learning Linux user, I have never used Emacs so i 
> would be grateful for a run down on its benifits.

Hi. The way I use it is, I open one buffer with the R code I am writing.
in another window I run R. I can load the R code into R using C-c C-l,
which is quicker and more convenient than source(" "), and I can view
everything at the same time. If you are also writing C code to load into
Ar, you can open a third buffer for this, and switch between them as
convenient.

ESS does syntax highlighting for a number of different languages,
including R, and also does indentation.

You can easily save output for R in Emacs, because it is running in an
Emacs buffer. This would not be so nice in a shell, though you can use
sink(), I guess...

ESS also has nice facilities for dumping R objects to a buffer.

I am using an old version of ESS because it suits my needs, which are
anyway very modest. I am sure ESS can do lots of things that I am not
aware of, and I am sure it has had many enhancements since ESS version 5.0
which I am using. There is an ESS mailing list where people would I am
sure be happy to provide help in the uses of ESS. If ESS doesn't do what
you want, you can program emacs to do it. (See the emacs lisp introduction
by Robert Chassell, almost certainly included in your Linux distribution).

Emacs is a great thing. Give it a try.

                            Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From holdenb1 at Wipaed.Wiso.Uni-Goettingen.de  Sun Mar  4 22:06:15 2001
From: holdenb1 at Wipaed.Wiso.Uni-Goettingen.de (Hartmut Oldenbuerger)
Date: Sun, 4 Mar 2001 22:06:15 +0100 (CET)
Subject: [R] .Random.seed(0) is not a valid Normal type 
Message-ID: <Pine.A41.3.96.1010304220422.17394A-100000@wwpu03.wipaed.wiso.uni-goettingen.de>

Dear R-Developers and -Community,

after compiling and installing R 1.2.2., I started 'demo(graphics)' for
a test, and got:

'Error in rnorm(0): .Random.seed(0) is not a Normal type'

Obviously .Random.seed was not initialized appropriately. Following the
the documentation for '.Random.seed' [see below 'Examples'], this can be
fixed 
          rm(.Random.seed); runif(1); .Random.seed 

and all seems to work nicely.

But two questions remain:
- was this my fault, is it intended, or are corrections inside R necessary ?
- are there any other objects in R, which unintentionally are not initialized
  at start?  (This may lead to unobserved errors.)

      Thank you for a great System !!   Best wishes - Hartmut Oldenbürger    

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at pubhealth.ku.dk  Sun Mar  4 22:31:39 2001
From: p.dalgaard at pubhealth.ku.dk (Peter Dalgaard BSA)
Date: 04 Mar 2001 22:31:39 +0100
Subject: [R] .Random.seed(0) is not a valid Normal type
In-Reply-To: Hartmut Oldenbuerger's message of "Sun, 4 Mar 2001 22:06:15 +0100 (CET)"
References: <Pine.A41.3.96.1010304220422.17394A-100000@wwpu03.wipaed.wiso.uni-goettingen.de>
Message-ID: <x2bsrh6x1g.fsf@blueberry.kubism.ku.dk>

Hartmut Oldenbuerger <holdenb1 at wwpu00.Wipaed.Wiso.Uni-Goettingen.de> writes:

> after compiling and installing R 1.2.2., I started 'demo(graphics)' for
> a test, and got:
> 
> 'Error in rnorm(0): .Random.seed(0) is not a Normal type'
...
> But two questions remain:
> - was this my fault, is it intended, or are corrections inside R necessary ?
> - are there any other objects in R, which unintentionally are not initialized
>   at start?  (This may lead to unobserved errors.)

This doesn't normally happen. Did you by any chance load an old
workspace (.RData) on startup? 

If it is reproduceable, then we'd like to have the instructions to
reproduce it as well as some information about which system you're
running it on.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From myotis at cix.compulink.co.uk  Sun Mar  4 22:40:00 2001
From: myotis at cix.compulink.co.uk (Graham Smith)
Date: Sun, 4 Mar 2001 21:40 +0000 (GMT)
Subject: [R] Emacs & ESS under Windows
Message-ID: <memo.734722@cix.compulink.co.uk>

In-Reply-To: <Pine.LNX.4.21.0103041539160.459-100000 at Chrestomanci.home.earth>

Faheem,

> Hi. The way I use it is, I open one buffer with the R code I am writing.
> in another window I run R. I can load the R code into R using C-c C-l,
> which is quicker and more convenient than source(" "), and I can view

Thanks for this, I am beginning to understand why it is useful.

Cheers,

Graham S

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at telecomplus.sn  Sun Mar  4 23:28:30 2001
From: lancelot at telecomplus.sn (Renaud Lancelot)
Date: Sun, 04 Mar 2001 22:28:30 +0000
Subject: [R] Emacs & ESS under Windows
References: <3.0.32.20010303215033.008fce80@162.38.183.200>
Message-ID: <3AA2C18E.3DE99522@telecomplus.sn>

Hi Emmanuel,

I use S+ and R under MSWin98 and I found your message very useful
because I spent most of my time in the week-end to try to find out how
to get emacs / ess / R work together ! Thanks to you, it works ! Prof
Ripley already suggested to use more recent versions of emacs & ess. See
2 further remarks below (signalized by "******").

As a (very) new user of emacs / ess, I like it because it is much more
convenient (IMHO) than to source R code from a file, or to edit / copy /
paste in the command window. It offers the same comfort than the script
window in S+ / MSWin, with further advantages of nice in-line debugging
facilities as indicated by Pr Ripley (typos).


> +----------------------------------+
> | How to install ESS under Windows |
> +----------------------------------+
> 1. Download a precompiled copy of Emacs v. 20.4 for Windows on Intel machines:
> 
>         ftp://ftp.gnu.org/gnu/windows/emacs/20.4/emacs-20.4-bin-i386.tar.gz
> 
> 2. Unpack the downloaded file in a directory, e.g., "D:\", then execute the
> file "D:\emacs-20.4\addpm.exe". Emacs is then installed on your Windows
> machine, and a shortcut should have been added to your start menu.
> 
> 3. Download ESS v. 5.1.8 at:
> 
>         http://ess.stat.wisc.edu/pub/ESS/ESS-5.1.8.zip
> 
> 4. Unpack the downloaded file in "D:\emacs-20.4\lisp\" (of course, keeping
> the tree structure of the zip archive).
> 
> 5. Edit the file "D:\emacs-20.4\lisp\ess-5.1.8\lips\ess-site.el", and
> modify the line #144 to this:
> 
> (setq-default inferior-R-program-name "D:/rw1021/bin/Rterm.exe")  ; msdos
> systems

***********

It was line 251 in the file I got (in ESS-5.1.18)

***********

> This is if you installed R for Windows in D:\; if you installed it, for
> instance, in C:\Program Files, then this line must be:
> 
> (setq-default inferior-R-program-name "C:/Program
> Files/rw1021/bin/Rterm.exe")  ; msdos systems

***********

In the Ess readme file, it is indicated that an "old-style" msdos name
should be given, i.e.
"C:/Progra~1/rw1021/bin/Rterm.exe"

instead of:

"C:/Program files/rw1021/bin/Rterm.exe"

***********


Thanks again,

Renaud


-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Richard.Rowe at jcu.edu.au  Sun Mar  4 23:48:12 2001
From: Richard.Rowe at jcu.edu.au (Richard Rowe)
Date: Mon, 05 Mar 2001 08:48:12 +1000
Subject: [R] xgobi/ggobi
In-Reply-To: <x2bsrh6x1g.fsf@blueberry.kubism.ku.dk>
References: <Hartmut Oldenbuerger's message of "Sun, 4 Mar 2001 22:06:15 +0100 (CET)">
 <Pine.A41.3.96.1010304220422.17394A-100000@wwpu03.wipaed.wiso.uni-goettingen.de>
Message-ID: <5.0.0.25.1.20010305083730.03f12890@pop.jcu.edu.au>

FYI

The ggobi interface for both Linux and Windows have been available at
http://www.ggobi.org/
for several weeks now. Both versions come with an R interface library 
(Rggobi, apparently to be RSggobi when the Splus version is finalised).

"GGobi is a data visualization system for viewing high-dimensional data and 
is the next
        edition of xgobi. It provides a new interface to many of the 
features of xgobi, built
        using Gtk, the GIMP toolkit and provides several new features:
             A new, simpler and more modern interface.
             Better portability to PCs.
             Direct access from R Perl and Python
             New input format using XML.
             Database (MySQL) support. "

More expert users may wish to comment and advise the rest of us,

Richard Rowe
Senior Lecturer
Department of Zoology and Tropical Ecology, James Cook University
Townsville, Queensland 4811, Australia
fax (61)7 47 25 1570
phone (61)7 47 81 4851
e-mail: Richard.Rowe at jcu.edu.au
http://www.jcu.edu.au/school/tbiol/zoology/homepage.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From holdenb1 at Wipaed.Wiso.Uni-Goettingen.de  Mon Mar  5 03:24:40 2001
From: holdenb1 at Wipaed.Wiso.Uni-Goettingen.de (Hartmut Oldenbuerger)
Date: Mon, 5 Mar 2001 03:24:40 +0100 (CET)
Subject: [R] .Random.seed(0) is not a valid Normal type
In-Reply-To: <x2bsrh6x1g.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.A41.3.96.1010305023503.17180B-100000@wwpu03.wipaed.wiso.uni-goettingen.de>

Dear Peter Dalgaard, Brian Ripley, and R-Community,

> > after compiling and installing R 1.2.2., I started 'demo(graphics)' for
> > a test, and got:
> > 
> > 'Error in rnorm(0): .Random.seed(0) is not a Normal type'
     My TypingErr:  ^50 is correct !
     It occured in just the first part of 'demo(graphics)'.

> This doesn't normally happen. Did you by any chance load an old
> workspace (.RData) on startup? 
> 
  Yes!! After moving .RData away to .old.RData the error vanished !
  And yes, the .RData contained '... .Random.seed ... (seen by 'mc').
  But no, it dated '3 Feb ...', thus worked with R 1.2.1. and not
  about 0.63 .

  Many thanks for your very prompt answers at sunday evening !!

                                   Best - Hartmut Oldenbuerger                                      

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hzi at uol.com.br  Mon Mar  5 14:10:58 2001
From: hzi at uol.com.br (Usuario Universo Online)
Date: Mon, 05 Mar 2001 13:10:58 GMT
Subject: [R] Problems with installation on Debian
Message-ID: <20010305.13105800@siddhi.samsara>

Hello-

	
	Tired of the crashes I was experiencing with r 1.2.1 on Windows ME, I 
downloaded the r-1.2.1.tgz under my Debian Linux box. I untared, unzipped 
and then I ./configure and make as specified i the FAQ.
	But something went wrong...I had version 0.90 per-installed, as it comes 
with the normal Debian distribution and now, whenever I run R, the old 
version is the one that executed.
	Can anyone kindly help, please? I'm not very experienced with Linux, so 
I don't quite know where it went wrong.
	Thanks for any help/advice/tip.

	Regards,

	Henry L.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Mon Mar  5 04:51:16 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 04 Mar 2001 19:51:16 -0800
Subject: [R] Problems with installation on Debian
In-Reply-To: <20010305.13105800@siddhi.samsara>
References: <20010305.13105800@siddhi.samsara>
Message-ID: <87hf1850wb.fsf@jeeves.blindglobe.net>

>>>>> "UUO" == Usuario Universo Online <hzi at uol.com.br> writes:

    UUO> Hello- Tired of the crashes I was experiencing with r 1.2.1
    UUO> on Windows ME, I downloaded the r-1.2.1.tgz under my Debian
    UUO> Linux box. I untared, unzipped and then I ./configure and
    UUO> make as specified i the FAQ.  But something went wrong...I
    UUO> had version 0.90 per-installed, as it comes with the normal
    UUO> Debian distribution and now, whenever I run R, the old
    UUO> version is the one that executed.  Can anyone kindly help,
    UUO> please? I'm not very experienced with Linux, so I don't quite
    UUO> know where it went wrong.  Thanks for any help/advice/tip.

    UUO> 	Regards,

Which version of Debian?  Potato?  CRAN has a debian archive
that you can obtain up-to-date R binaries, using apt-get.  I'm
assuming that you are on an Intel platform.

best,
-tony



-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (friday is unknown) --------
FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aperrin at socrates.berkeley.edu  Mon Mar  5 06:30:05 2001
From: aperrin at socrates.berkeley.edu (Andrew Perrin)
Date: Mon, 5 Mar 2001 00:30:05 -0500 (EST)
Subject: [R] Problems with installation on Debian
In-Reply-To: <20010305.13105800@siddhi.samsara>
Message-ID: <Pine.LNX.4.21.0103050029020.4643-100000@nujoma.perrins>

Check your $PATH environment variable - what's happening is the old
version is in an earlier search path than the new one.  In debian, the old
is probably in /usr/bin/R and the new in /usr/local/bin/R since you built
it from source.

Best would probably be to remove the whole thing, which you can probably
do with:

dpkg --remove r-base

----------------------------------------------------------------------
Andrew J Perrin - Ph.D. Candidate, UC Berkeley, Dept. of Sociology  
Chapel Hill, North Carolina, USA - http://demog.berkeley.edu/~aperrin
        aperrin at socrates.berkeley.edu - aperrin at igc.apc.org

On Mon, 5 Mar 2001, Usuario Universo Online wrote:

> Hello-
> 
> 	
> 	Tired of the crashes I was experiencing with r 1.2.1 on Windows ME, I 
> downloaded the r-1.2.1.tgz under my Debian Linux box. I untared, unzipped 
> and then I ./configure and make as specified i the FAQ.
> 	But something went wrong...I had version 0.90 per-installed, as it comes 
> with the normal Debian distribution and now, whenever I run R, the old 
> version is the one that executed.
> 	Can anyone kindly help, please? I'm not very experienced with Linux, so 
> I don't quite know where it went wrong.
> 	Thanks for any help/advice/tip.
> 
> 	Regards,
> 
> 	Henry L.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Mon Mar  5 09:23:15 2001
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Mon, 05 Mar 2001 09:23:15 +0100
Subject: [R] Post hoc tests
In-Reply-To: <memo.566039@cix.compulink.co.uk>
Message-ID: <B6C90B83.81D0%pflugshaupt@geobot.umnw.ethz.ch>

On 2/27/01 8:00 AM, Graham Smith wrote:

> This is only partly an R question, but this seems a good place to ask.
> 
> Like many, if not most, statistics programs, R has no post hoc tests
> for Kruskal Wallis or Friedman, and as far as I can make out they are
> not available in any of the R packages. I would be grateful if someone
> could point me in the right direction if I am wrong.

The math is not as simple as in the parametric case.

I've found some non-parametric post-hoc tests in Zar, Biostatistical
Analysis, 4th ed, Prentice Hall, Chapter 11. (Nemenyi/Dunn test and some
variations thereof, with explanations of advantages/drawbacks). They should
be easy to implement, if you know some R.

Cheers

Kaspar Pflugshaupt

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jarioksa at cc.oulu.fi  Mon Mar  5 09:32:19 2001
From: jarioksa at cc.oulu.fi (Jari Oksanen)
Date: Mon, 05 Mar 2001 10:32:19 +0200
Subject: [R] Canberra dist and double zeros
Message-ID: <200103050832.KAA01502@pc112145.oulu.fi>

Canberra distance is defined in function `dist' (standard library `mva') as

sum(|x_i - y_i| / |x_i + y_i|)

Obviously this is undefined for cases where both x_i and y_i are zeros.  Since 
double zeros are common in many data sets, this is a nuisance.  In our field 
(from which the distance is coming), it is customary to remove double zeros: 
contribution to distance is zero when both x_i and y_i are zero.  Could it be 
possible to have this kind of feature in R as well?

It seems that this would do the trick without breaking applications where 
double zeros do not occur:

--- R-1.2.2/src/appl/distance.c	Sun Oct 15 18:13:25 2000
+++ R-work/src/appl/distance.c	Mon Mar  5 10:16:53 2001
@@ -93,5 +93,5 @@
 double R_canberra(double *x, int nr, int nc, int i1, int i2)
 {
-    double dist;
+    double dist, sum;
     int count, j;
 
@@ -100,5 +100,7 @@
     for(j=0 ; j<nc ; j++) {
 	if(R_FINITE(x[i1]) && R_FINITE(x[i2])) {
-	    dist += fabs(x[i1] - x[i2])/fabs(x[i1] + x[i2]);
+	    sum = fabs(x[i1] + x[i2]);
+	    if (sum > 0.0)
+		dist += fabs(x[i1] - x[i2])/sum;
 	    count++;
 	}



Best wishes, Jari Oksanen
-- 
Jari Oksanen -- Dept Biology, Univ Oulu, 90014 Oulu, Finland
Ph. +358 8 5531526 (job), mobile +358 40 5136529
email jari.oksanen at oulu.fi, homepage http://cc.oulu.fi/~jarioksa/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at telecomplus.sn  Mon Mar  5 09:36:12 2001
From: lancelot at telecomplus.sn (Renaud Lancelot)
Date: Mon, 05 Mar 2001 08:36:12 +0000
Subject: [R] xgobi/ggobi
References: <Hartmut Oldenbuerger's message of "Sun, 4 Mar 2001 22:06:15 +0100 (CET)">
		 <Pine.A41.3.96.1010304220422.17394A-100000@wwpu03.wipaed.wiso.uni-goettingen.de> <5.0.0.25.1.20010305083730.03f12890@pop.jcu.edu.au>
Message-ID: <3AA34FFC.351BF994@telecomplus.sn>

Hello,

R 1.2.0 / Win98

I just downloaded the Win version of Rggobi from http://www.ggobi.org/
and installed it with Rwinst. When I tried to load the library, I got
the following error message:

> library(rggobi)
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared library
"E:/PROGRAMS/R/RW1020/library/rggobi/libs/Rggobi.dll":
  LoadLibrary failure:  Une des biblioth?ques n?cessaires ? l'ex?cution
de cette application n'a pu ?tre trouv?e.
Error in library(rggobi) : .First.lib failed

I rebooted my computer but the problem still occurred. I checked in the
rggobi/libs directory, and Rggobi.ddl is there. Does anyone know how to
fix this ?

Thanks in advance and best regards,

Renaud


Richard Rowe wrote:
> 
> FYI
> 
> The ggobi interface for both Linux and Windows have been available at
> http://www.ggobi.org/
> for several weeks now. Both versions come with an R interface library
> (Rggobi, apparently to be RSggobi when the Splus version is finalised).
> 
> "GGobi is a data visualization system for viewing high-dimensional data and
> is the next
>         edition of xgobi. It provides a new interface to many of the
> features of xgobi, built
>         using Gtk, the GIMP toolkit and provides several new features:
>              A new, simpler and more modern interface.
>              Better portability to PCs.
>              Direct access from R Perl and Python
>              New input format using XML.
>              Database (MySQL) support. "
> 
> More expert users may wish to comment and advise the rest of us,
> 
> Richard Rowe
> Senior Lecturer
> Department of Zoology and Tropical Ecology, James Cook University
> Townsville, Queensland 4811, Australia
> fax (61)7 47 25 1570
> phone (61)7 47 81 4851
> e-mail: Richard.Rowe at jcu.edu.au
> http://www.jcu.edu.au/school/tbiol/zoology/homepage.html
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Mar  5 10:09:25 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 5 Mar 2001 09:09:25 +0000 (GMT)
Subject: [R] xgobi/ggobi
In-Reply-To: <3AA34FFC.351BF994@telecomplus.sn>
Message-ID: <Pine.GSO.4.31.0103050844490.5503-100000@toucan.stats>

On Mon, 5 Mar 2001, Renaud Lancelot wrote:

> Hello,
>
> R 1.2.0 / Win98
>
> I just downloaded the Win version of Rggobi from http://www.ggobi.org/
> and installed it with Rwinst. When I tried to load the library, I got
> the following error message:
>
> > library(rggobi)
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library
> "E:/PROGRAMS/R/RW1020/library/rggobi/libs/Rggobi.dll":
>   LoadLibrary failure:  Une des bibliothèques nécessaires à l'exécution
> de cette application n'a pu être trouvée.
> Error in library(rggobi) : .First.lib failed
>
> I rebooted my computer but the problem still occurred. I checked in the
> rggobi/libs directory, and Rggobi.ddl is there. Does anyone know how to
> fix this ?

You should have got a dialog box up saying that some (specific) other DLL
could not be found.  Do you have the winggobi\bin folder in your PATH? It
might suffice to have a recent verion of GIMP installed, as that will
install the needed DLLs, I believe.

There seem to be quite a few things wrong with that Rggobi.zip:
the DESCRIPTION is wrong and INDEX and TITLE are missing for a start.

>From the installation instructions the version of libxml used is one
known not to work properly on Windows (from the changes log in the
current libxml2), so don't expect too much of xml support.

Running from rterm.exe there are severe event-loop problems: the ggobi
window does not respond except when rterm is not waiting for a prompt.

Running from rgui.exe I got crashes on almost everything I tried.
example(ggobi) fails to find two data files, and

library(Rggobi)
data(mtcars)
ggobi(mtcars)

came up but crashed (in its own DLL) as soon as I selected anything.

I concluded this was at best a beta.  Standalone winggobi worked under
some brief tests, albeit much slower than xgobi (using Exceed 6.2 to
display) on the same machine.

This might be better discussed on the ggobi help list, but I failed to
subscribe to that as mail to ggobi.org is refused ....

B

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Mon Mar  5 10:17:43 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Mon, 05 Mar 2001 10:17:43 +0100
Subject: [R] Emacs & ESS under Windows
Message-ID: <3.0.32.20010305101743.008e9260@162.38.183.200>

Thanks to all the replies I got on my initial posting. I am summarizing
everything, and will send updated instructions/advice to the list when
finished.

Emmanuel
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Mon Mar  5 10:47:35 2001
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Mon, 05 Mar 2001 10:47:35 +0100
Subject: [R] Rggobi install
Message-ID: <3.0.6.32.20010305104735.00978320@mail.wsl.ch>

Hi,

I am trying to install ggobi for R under Solaris
SunOS 5.5.1 Generic_103640-27 sun4u sparc SUNW,Ultra-Enterprise

following the instructions in INSTALL under e) R interface, although I have
some modifications in mind:

I am planning to keep the sources (untarred and  unzipped) in
/home/woodstock/hoffmann/R/Sources/Rggobi

and I have set
setenv GGOBI_ROOT $HOME/R/Sources/Rggobi 
(with $HOME = /home/woodstock/hoffmann)

and I want the compiled package to reside in (my own stuff is there):
/home/woodstock/hoffmann/R/Sources/lib/Rggobi

I have tried both
$HOME/R/Sources >R CMD INSTALL --library=lib Rggobi_0.1-0.tar.gz
Installing source package `Rggobi' ...
creating cache ./config.cache
GGOBI_ROOT = /home/woodstock/hoffmann/R/Sources/ggobi
Cannot find the header files for ggobi.
ERROR: Configuration failed for package `Rggobi'

and
$HOME/R/Sources >gunzip -cd Rggobi_0.1-0.tar.gz | tar xvf -
$HOME/R/Sources >R CMD INSTALL --library=lib Rggobi
Installing source package `Rggobi' ...
loading cache ./config.cache
GGOBI_ROOT = /home/woodstock/hoffmann/R/Sources/Rggobi
Cannot find the header files for ggobi.
ERROR: Configuration failed for package `Rggobi'

What am I missing?

Thank in advance
--christian
Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: Hoffmann at WSL.CH
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Mon Mar  5 10:59:36 2001
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Mon, 5 Mar 2001 10:59:36 +0100
Subject: [R] Emacs & ESS under Windows
In-Reply-To: <3.0.32.20010305101743.008e9260@162.38.183.200>; from paradis@isem.univ-montp2.fr on Mon, Mar 05, 2001 at 10:17:43AM +0100
References: <3.0.32.20010305101743.008e9260@162.38.183.200>
Message-ID: <20010305105936.A1149@sirio.stat.unipd.it>

On Mon, Mar 05, 2001 at 10:17:43AM +0100, Emmanuel Paradis wrote:
> Thanks to all the replies I got on my initial posting. I am summarizing
> everything, and will send updated instructions/advice to the list when
> finished.
> 


  Another advantage of ESS (not mentioned in this thread, if I
  read all of it) is function and object names completion (I am
  really addict to the TAB key and tend to use it everywhere
  also when it is not supported). This is a feature
  which can be considered also for Rgui and Unix-readline based
  version of R but it is not there now.

  guido
  
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Mon Mar  5 11:00:33 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang@xtra.co.nz)
Date: Mon, 5 Mar 2001 23:00:33 +1300
Subject: [R] xgobi/ggobi
References: <Hartmut Oldenbuerger's message of "Sun, 4 Mar 2001 22:06:15 +0100 (CET)">	 <Pine.A41.3.96.1010304220422.17394A-100000@wwpu03.wipaed.wiso.uni-goettingen.de> <5.0.0.25.1.20010305083730.03f12890@pop.jcu.edu.au> <3AA34FFC.351BF994@telecomplus.sn>
Message-ID: <003101c0a55b$1eb72560$1a5237d2@KoKang>

Hi,

When I tried to run Rggobi a few weeks ago I had the same problem.  I then
read Nicholas Lewin-Koh's article on
http://www.public.iastate.edu/~nlewin/ggobi/Win-GGobi.html .  Then realised
that one need to have WinGGobi installed first, then modify C:\autoexec.bat
file, restart the machine (yeh that's the thing about Windows), then you
should be able to run it.

At least that is how I solved the problem...



> R 1.2.0 / Win98
>
> I just downloaded the Win version of Rggobi from http://www.ggobi.org/
> and installed it with Rwinst. When I tried to load the library, I got
> the following error message:
>


-------------------------------------------------
Ko-Kang Kevin Wang
Undergraduate Student (Final Year)
Statistics Department
University of Auckland
New Zealand


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Mon Mar  5 11:25:00 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang@xtra.co.nz)
Date: Mon, 5 Mar 2001 23:25:00 +1300
Subject: [R] xgobi/ggobi
References: <Pine.GSO.4.31.0103050844490.5503-100000@toucan.stats>
Message-ID: <005d01c0a55e$b078f5c0$1a5237d2@KoKang>

Hi,

----- Original Message -----
From: "Prof Brian Ripley" <ripley at stats.ox.ac.uk>
To: "Renaud Lancelot" <lancelot at telecomplus.sn>
Cc: "Richard Rowe" <Richard.Rowe at jcu.edu.au>; "R-Help"
<r-help at stat.math.ethz.ch>
Sent: Monday, March 05, 2001 10:09 PM
Subject: Re: [R] xgobi/ggobi


>
> Running from rterm.exe there are severe event-loop problems: the ggobi
> window does not respond except when rterm is not waiting for a prompt.
>
> Running from rgui.exe I got crashes on almost everything I tried.
> example(ggobi) fails to find two data files, and
>
> library(Rggobi)
> data(mtcars)
> ggobi(mtcars)
>
> came up but crashed (in its own DLL) as soon as I selected anything.

I agree with Brian.
In fact after I got it running the speed is kind of slow.  I found that if
it better to just stick with the Win32 exe version, rather than calling it
from R.  Very often when I tried to call it from R my whole Window just
crashed, but then again it is the thing that often happens.

> This might be better discussed on the ggobi help list, but I failed to
> subscribe to that as mail to ggobi.org is refused ....

Yes I tried to subscribe to the list a few weeks ago and it refused my
subsription somehow...

-------------------------------------------------
Ko-Kang Kevin Wang
Undergraduate Student (Final Year)
Statistics Department
Science Faculty
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Mon Mar  5 11:53:12 2001
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Mon, 05 Mar 2001 10:53:12 +0000
Subject: [R] re: Spatial stats: R vs. Splus
References: <Pine.GSO.4.21.0103011909360.29209-100000@unixb.lancs.ac.uk>
Message-ID: <3AA37018.A5AEB8CF@ipimar.pt>

Paulo Justiniano Ribeiro Jr wrote:

> Oi de novo Jose,
> >
> > Tal como disse na mensagem, as minhas qualidades de programador s?o bastante
> > fracas, e neste momento estou a tentar resolver um problema com os meus
> > dados. O processo estoc?stico que estou a estudar (n?mero de recrutas de
> > pescada por hora) n?o ? gaussiano e as transforma??es que testei n?o me
> > agradam. J? pensei em usar a vossa proposta atrav?s de MCMC / Bayes, mas ?
> > uma ?rea onde me sinto pouco ? vontade e tenho que terminar o MSC at? Julho
> > ...
> >
>
> Olha, sem duvida que ha' sempre o compromisso de tempo versus a analise
> que gostariamos de saber.
> Mas espero que a gente possa manter contato.
>
> No caso especifico que vopce menciona (dados de contagem) o meu colega Ole
> Christensen acaba de terminar uma versao preliminar de funcoes para
> ajustar este tipo de dado como no paper de Diggle et al 98.
> Eu estou convertendo isto para o R exatamente agora.
> Espero que em breve tenhamos algo que deve ser incorporado a geoR.
>
> Nao posso prometer nada dentro do prazo para seu MSC mas, se isto
> functionar a gente pode manter contato e talves os seus dados possam ser
> um excelente primeiro teste para isto.
> A gente mantem contato e se voce for mesmo a Dinamarca conversaremos a
> respeito pessoalmente pois o Ole vai estar la' e usaremos o novo codigo
> durante o curso. Quem sabe ate' la' pederemos usar com os seus dados ou
> entao pelo menos voce podera sair de la' com uma boa ideia de como aplicar
> no seu problema. Me parece uma feliz coincidencia!
>
> Como dizem por aqui:
> "Keep in touch"
>
> Abracos
> P.J.

Ol?

Gostei da sua proposta e estou dispon?vel para colaborar no teste do novo modelo
/ c?digo. Entretanto vou procurar o paper de que fala, Diggle at al. 1998, saiu
na Applied Statistics 47 ?

Um abra?o

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amurta at ipimar.pt  Mon Mar  5 11:32:06 2001
From: amurta at ipimar.pt (Alberto Murta)
Date: Mon, 05 Mar 2001 10:32:06 +0000
Subject: [R] Emacs & ESS under Windows
References: <3.0.32.20010305101743.008e9260@162.38.183.200> <20010305105936.A1149@sirio.stat.unipd.it>
Message-ID: <3AA36B26.727F20B5@ipimar.pt>

Guido Masarotto wrote:
> 
>   Another advantage of ESS (not mentioned in this thread, if I
>   read all of it) is function and object names completion (I am
>   really addict to the TAB key and tend to use it everywhere
>   also when it is not supported). This is a feature
>   which can be considered also for Rgui and Unix-readline based
>   version of R but it is not there now.

I'm also addicted to the TAB key (but not to emacs), and I would put this feature as a top
priority for future releases of R.

Alberto



-- 
                       Alberto G. Murta                      
       IPIMAR - Institute of Fisheries and Sea Research
        Avenida de Brasilia, 1449-006 Lisboa, Portugal       
Tel: +351 213027062; Fax: +351 213015849; http://www.ipimar.pt
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Mon Mar  5 12:45:36 2001
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Mon, 5 Mar 2001 06:45:36 -0500 (EST)
Subject: [R] xgobi/ggobi
Message-ID: <200103051145.GAA25720@jessie.research.bell-labs.com>


> Date: Mon, 5 Mar 2001 09:09:25 +0000 (GMT)
> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
> cc: Richard Rowe <Richard.Rowe at jcu.edu.au>, R-Help <r-help at stat.math.ethz.ch>
> 
> I concluded this was at best a beta.  Standalone winggobi worked under
> some brief tests, albeit much slower than xgobi (using Exceed 6.2 to
> display) on the same machine.
> 
> This might be better discussed on the ggobi help list, but I failed to
> subscribe to that as mail to ggobi.org is refused ....
> 
> B
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk


Its unfortunate that the first impression one might get about ggobi is
that it is very buggy.  In fact, we have not officially released
ggobi. We are very happy to have people test it and provide bug
reports and comments.  So the source is available from
www.ggobi.org. That windows binary is a month old and has been linked
from Nicholas' site for the convenience of people testing ggobi on
Windows. However, it is a stop-gap until I get to release the Windows
binary that is synchronized with the Unix version. Perhaps that will
happen this week.

For the moment, one can send messages to the mailing list at
 ggobi-help at franz.stat.wisc.edu

 D.





-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dfs at research.att.com  Mon Mar  5 13:36:57 2001
From: dfs at research.att.com (Deborah Swayne)
Date: Mon, 5 Mar 2001 07:36:57 -0500
Subject: [R] xgobi/ggobi
In-Reply-To: <200103051145.GAA25720@jessie.research.bell-labs.com>; from duncan@research.bell-labs.com on Mon, Mar 05, 2001 at 06:45:36AM -0500
References: <200103051145.GAA25720@jessie.research.bell-labs.com>
Message-ID: <20010305073657.B1150763@fry.research.att.com>

On Mon, Mar 05, 2001 at 06:45:36AM -0500, Duncan Temple Lang wrote:
> 
> I concluded this was at best a beta.  Standalone winggobi worked under
> some brief tests, albeit much slower than xgobi (using Exceed 6.2 to
> display) on the same machine.

There is a speed problem on Windows that we know about:

 Under *nix, it makes little or no time difference whether I call
 gdk_draw_point or segment N times, or whether I call
 gdk_draw_points or segments once with N points.

 Under Win32, however, the batched calls seem to be about 20 times
 faster.

 This would not be a problem except that gdk contains these batched
 calls only for points and lines, so I'll eventually need to write
 them (or find a recruit to write them) for arcs and rectangles.

Debby
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tales at ircmail.net  Mon Mar  5 14:05:07 2001
From: tales at ircmail.net (Tales de Miranda)
Date: Mon, 5 Mar 2001 13:05:07 -0000
Subject: [R] import data
Message-ID: <200103051305.KAA98151@www.ircmail.net>

how can i import a file txt or xls with data on the r-plus? for example, i have a 
file .txt with matrix, and i want read in r-plus, how can i do? can you send me a 
command for do that?

________________________________________________________________
           http://www.ircmail.net - É a sua cara.
 e-mail, psicóloga, charges interativas, zines, piadas, música,
    shopping, mural, casos reais, bate-papo, e muito mais.
		              GRÁTIS!! e INTERATIVO!!

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Mar  5 14:14:36 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 5 Mar 2001 13:14:36 +0000 (GMT)
Subject: [R] import data
Message-ID: <200103051314.NAA06064@toucan.stats.ox.ac.uk>

Date: Mon, 5 Mar 2001 13:05:07 -0000
From: Tales de Miranda <tales at ircmail.net>

> 
> how can i import a file txt or xls with data on the r-plus? for example, i 
have a 
> file .txt with matrix, and i want read in r-plus, how can i do? can you send 
me a 
> command for do that?

R (not -plus) comes with an R Data Import/Export Manual.  Please consult it.
You can read import suitable txt files easily, and .xls files via
RODBC (on Windows).

BDR

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Mar  5 14:19:25 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 5 Mar 2001 13:19:25 +0000 (GMT)
Subject: [R] binary versions of packages for Windows
Message-ID: <200103051319.NAA06075@toucan.stats.ox.ac.uk>

Several of you have asked about `missing' binary versions of packages
for Windows on CRAN, although there was an explanation in the ReadMe.
Two things have changed:

1) Workload.  When I first started this, there were about 20 packages.
   There are now over 100 (including those in bundles).  Further, I
   rebuilt all the packages for R-1.2.0 in December 2000, but since
   then more than half of the packages have been updated, several more
   than once.

2) Licence interpretation.  GPL is a hard taskmaster.  It became
   apparent that we had a problem according to the following
   interpretation (for NTemacs on ftp.gnu.org)

      If you want to redistribute any of the precompiled distributions
      of Emacs, be careful to check the implications of the GPL.  For
      instance, if you put the emacs-20.7-bin-i386.tar.gz file from
      this directory on an Internet site, you must arrange to
      distribute the source files of the SAME version
      (i.e. emacs-20.7-src.tar.gz).

      Making a link to our copy of the source is NOT sufficient, since
      we might upgrade to a new version while you are still
      distributing the old binaries.

   First, CRAN does not keep sources of older versions of packages,
   and second my site from which CRAN's bin/windows/contrib is
   mirrored did not either.  So once CRAN updated a source package,
   the binary version should have been removed.

To meet 2), only a few GPL-ed packages now have binary versions, mostly
those for which I am the maintainer, with sources in a sources
subdirectory.  Hopefully this can be changed at a later date.

Finally, there are now other things I want to do with my own time.  (I
am not primarily a Windows user, I have no Windows machine connected
to the Internet and I do not use R in teaching, so I have little need
for these packages (nor R) on Windows.)  All I can offer from now is
to put up binary versions of packages I actually use (which is the
service I provide for S-PLUS for Windows).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mathieu at lecastor.net  Mon Mar  5 15:35:45 2001
From: mathieu at lecastor.net (Mathieu Ros)
Date: Mon,  5 Mar 2001 15:35:45 +0100 (MET)
Subject: [R] pb with plot in nlme
Message-ID: <15011.40779.162171.621403@autan.toulouse.inra.fr>

hello all, 
I've got problems with plotting in nlme :

> example(nlme)
> plot(fm1)
Error in do.call(plotFun, as.list(args)) : 
	couldn't find function "xyplot"

I've seen in Changelog that there have been changes in plotting
funtions, may I've missed something...

nlme3.1-10 
         _                   
platform sparc-sun-solaris2.8
arch     sparc               
os       solaris2.8          
system   sparc, solaris2.8   
status                       
major    1                   
minor    2.2                 
year     2001                
month    02                  
day      26                  
language R         

-- 
Mathieu Ros
DEA Math?matiques Appliqu?es
INRA-Toulouse

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Mar  5 11:36:24 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 5 Mar 2001 10:36:24 +0000 (GMT)
Subject: [R] xgobi/ggobi
Message-ID: <200103051036.KAA05676@toucan.stats.ox.ac.uk>


> From: Ko-Kang at xtra.co.nz
> Date: Mon, 5 Mar 2001 23:25:00 +1300

> > This might be better discussed on the ggobi help list, but I failed to
> > subscribe to that as mail to ggobi.org is refused ....
> 
> Yes I tried to subscribe to the list a few weeks ago and it refused my
> subsription somehow...

I think if you use ggobi-help-request at franz.stat.wisc.edu it works.
I have reported this and am confident it will be fixed shortly.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlennert at ulb.ac.be  Mon Mar  5 16:40:15 2001
From: mlennert at ulb.ac.be (Moritz Lennert)
Date: Mon, 05 Mar 2001 16:40:15 +0100
Subject: [R] breaking an axis (skipping part of it)
Message-ID: <3AA3B35F.2FC14E0F@ulb.ac.be>

Hello,

Is it possible to skip part of an axis in order to adapt the axis to the
"normal" values and not to an outlier, but still have the outlier in the
graph ? I.e. have my axis go from 1 to 100, then break the axis in some
way, and continue with 500 to 600 ?

Moritz

P.S. Please cc the answer to my address since I'm not in the mailing
list.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stecalza at tiscalinet.it  Mon Mar  5 17:01:51 2001
From: stecalza at tiscalinet.it (Stefano)
Date: Mon, 05 Mar 2001 17:01:51 +0100
Subject: [R] Odds Ratio from Logistic Model
Message-ID: <5.0.2.1.2.20010305165450.009ebdd0@pop.tiscalinet.it>

Hi all.

A simple question.
Is there a function to compute the Odds Ratio and its confidence intervall, from a logistic model (glm(.......,family=binomial....). I've written my own, but certainly someone did a better job.

Thank you in advance,

Stefano


***********************************************
Stefano Calza
Istituto di Statistica Medica e Biometria
Universit? degli Studi di Milano
Via G. Venezian, 1
20133 Milano

tel. +39 02/2361302, 02/70600908
fax 02/2362930

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Mon Mar  5 17:06:15 2001
From: s-luppescu at uchicago.edu (s-luppescu@uchicago.edu)
Date: Mon, 05 Mar 2001 10:06:15 -0600 (CST)
Subject: [R] Model selection with BIC
Message-ID: <XFMail.20010305100615.s-luppescu@uchicago.edu>

Is there an efficient way to do linear model selection by choosing the model
with the highest BIC from all possible models? 
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl.html
http://musuko.uchicago.edu/pubkey.asc for PGP Public Key
ICQ #21172047  AIM: psycho7070
Certainly the game is rigged.

Don't let that stop you; if you don't bet, you can't win.
                -- Robert Heinlein, "Time Enough For Love"
>> Sent on 05-Mar-2001 at 10:04:30 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Mon Mar  5 17:21:40 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 05 Mar 2001 10:21:40 -0600
Subject: [R] pb with plot in nlme
In-Reply-To: <15011.40779.162171.621403@autan.toulouse.inra.fr>
References: <15011.40779.162171.621403@autan.toulouse.inra.fr>
Message-ID: <6rg0gstcdn.fsf@franz.stat.wisc.edu>

Mathieu Ros <mathieu at lecastor.net> writes:

> hello all, 
> I've got problems with plotting in nlme :
> 
> > example(nlme)
> > plot(fm1)
> Error in do.call(plotFun, as.list(args)) : 
> 	couldn't find function "xyplot"
> 
> I've seen in Changelog that there have been changes in plotting
> funtions, may I've missed something...
> 
> nlme3.1-10 

All the plotting functions in the nlme library rely on trellis
graphics, which is not currently available in R.  

Work is proceeding on a trellis package for R (the name may end up
being lattice, not trellis) and several of the plot functions in nlme
can be run with the development versions of the package.  Paul Murrell
will be speaking about trellis/lattice at the DSC-V2001 meeting.
Perhaps he will be able to give more information about providing a
development snapshot in the src/contrib/Devel section of CRAN.  Paul
has been working on the underlying graphical capabilities and Deepayan
Sarkar has been working on the R-level trellis functions.

The comments you saw in the ChangeLog file for nlme reflect changes in
the nlme package to work with the development version of the trellis
package.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Mar  5 18:05:55 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 5 Mar 2001 09:05:55 -0800 (PST)
Subject: [R] Model selection with BIC
In-Reply-To: <XFMail.20010305100615.s-luppescu@uchicago.edu>
Message-ID: <Pine.A41.4.33.0103050859140.137924-100000@homer24.u.washington.edu>

On Mon, 5 Mar 2001 s-luppescu at uchicago.edu wrote:

> Is there an efficient way to do linear model selection by choosing the model
> with the highest BIC from all possible models?

I wouldn't commit myself to this being an efficient way to do model
selection :), but the subsets() function in the leaps package does
all-subset regression, and the summary() function returns an object with
a $bic component.

Also, the plot method displays a summary of all the best models, showing
which variables are in each model. By default this is ordered by BIC. This
gives a slightly more representative view that just a best model.

There's no function to correct the bias in the coefficients of a model
chosen by all-subsets regression

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From myotis at cix.compulink.co.uk  Mon Mar  5 19:02:00 2001
From: myotis at cix.compulink.co.uk (Graham Smith)
Date: Mon, 5 Mar 2001 18:02 +0000 (GMT)
Subject: [R] Post hoc tests
Message-ID: <memo.759596@cix.compulink.co.uk>

In-Reply-To: <B6C90B83.81D0%pflugshaupt at geobot.umnw.ethz.ch>

Kaspar,

> They should
> be easy to implement, if you know some R.

At the moment I know very little R so implementation may not be that 
easy for me. I can use them in Statistica, so that isn't an immediate 
problem, I was as much as anything interested in why so few packages 
offered these tests

Thanks for the pointer to Zar.

Cheers,

Graham S
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Mar  5 19:55:54 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Mon, 5 Mar 2001 13:55:54 -0500 (EST)
Subject: [R] breaking an axis (skipping part of it)
In-Reply-To: <3AA3B35F.2FC14E0F@ulb.ac.be>
Message-ID: <Pine.LNX.4.30.0103051342380.10136-100000@bolker.zoo.ufl.edu>


  These generally have to be done by hand, in part because this kind of
manipulation is going to vary a lot on a case-by-case basis.  However,
here's something to get you started -- a function to draw a break in an
axis, and some sample code (at the bottom) using it.

axis.break <- function(brkpos, which = "y", brkwid = 0.02, brksep = 0.01,
	brkslant = 0.02, oldstyle=FALSE) {
##
##  brkpos: position of the break along the chosen axis
##  which:  which axis to break (bottom ("x") or left ("y")
#    dimensions (given in proportion of chosen axis)
##    brkwid: width of the axis break lines perpendicular to the axis
##    brksep: separation between two axis breaks/height
##    brkslant: (only used for oldstyle) parameter determining angle
##        of axis breaks
##  oldstyle = two parallel lines, new style=zigzag
##
## FIXME: this would be easier to do in inches rather than in user units:
##   wouldn't need to mess around with log/linear scale adjustments
        par.old <- par(no.readonly=TRUE)
	par(xpd = TRUE)  ## useful to set clipping off
	usrax <- par("usr")
	if(which == "x") {
             # break in x axis
		axpos <- usrax[3]
		axwid1 <- usrax[2] - usrax[1]	# x-axis width
		axwid2 <- usrax[4] - usrax[3]	# y-axis width
                otherax <- "y"
                tmpseg <- function(...) segments(...,xpd=TRUE)
	}
	else {
             # break in y axis
		axpos <- usrax[1]
		axwid2 <- usrax[2] - usrax[1]	# x-axis width
		axwid1 <- usrax[4] - usrax[3]	# y-axis width
                tmpseg <- function(w, x, y, z, ...) {
                     segments(x, w, z, y, xpd=TRUE, ...)        # scramble arguments
                }
                otherax <- "x"
	}
	brkwid <- brkwid * axwid2
	brksep <- brksep * axwid1
	brkslant <- brkslant * axwid1
	thislog <- (par(eval(paste(which, "axt", sep = ""))) == "l")
	otherlog <- (par(eval(paste(otherax, "axt", sep = ""))) == "l")
        if (thislog) brkpos <- log10(brkpos)
        if (thislog & otherlog)
	   plotf <- function(w, x, y, z)
	      (tmpseg(10^w, 10^x, 10^y, 10^z))
        else if (thislog & !otherlog)
	   plotf <- function(w, x, y, z)
	      (tmpseg(10^w, x, 10^y, z))
        else if (!thislog & otherlog)
	   plotf <- function(w, x, y, z)
	      (tmpseg(w, 10^x, y, 10^z))
	else # linear scale
	   plotf <- tmpseg
        if (oldstyle) {
           plotf(brkpos + brksep - brkslant, axpos - brkwid, brkpos + brksep +
              brkslant, axpos + brkwid)
           plotf(brkpos - brksep - brkslant, axpos - brkwid, brkpos - brksep +
              brkslant, axpos + brkwid)
	 } else {
           plotf(brkpos + brksep, axpos, brkpos - brksep, axpos, col=par("bg"))
           plotf(brkpos + brksep, axpos, brkpos + brksep/2, axpos - brkwid)
           plotf(brkpos + brksep/2, axpos-brkwid, brkpos - brksep/2, axpos + brkwid)
           plotf(brkpos - brksep/2, axpos+brkwid, brkpos - brksep, axpos)
         }
	invisible(par(par.old))
}


## example

x <- c(1:10)
y <- c(1:9,100)
axbrkstart <- 10
axbrkstop <- 100
axbrkwid <- axbrkstop-axbrkstart
y2 <- y
y2[y2>=axbrkstart] <- y2[y2>=axbrkstart]-axbrkwid
plot(x,y2,axes=FALSE,ylim=c(0,11))
box(bty="l")
axis(side=1)
axis(side=2,at=seq(0,8,by=2))
axis(side=2,at=10,labels="100")
axis.break(9.5)

On Mon, 5 Mar 2001, Moritz Lennert wrote:

> Hello,
>
> Is it possible to skip part of an axis in order to adapt the axis to the
> "normal" values and not to an outlier, but still have the outlier in the
> graph ? I.e. have my axis go from 1 to 100, then break the axis in some
> way, and continue with 500 to 600 ?
>
> Moritz
>
> P.S. Please cc the answer to my address since I'm not in the mailing
> list.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marc at ch2.ch.pdx.edu  Mon Mar  5 20:58:59 2001
From: marc at ch2.ch.pdx.edu (Dr. Marc R. Feldesman)
Date: Mon, 5 Mar 2001 11:58:59 PST
Subject: [R] Emacs & ESS under Windows
In-Reply-To: <3.0.32.20010303215033.008fce80@162.38.183.200>
Message-ID: <2D934441BE9@ch2.ch.pdx.edu>


> Now, when you open a *.R file, this opens directly Emacs and ESS. To run R
> under Emacs, type Alt-x R, and then Enter (this will open a DOS-like
> window, so you have to come back to Emacs). You switch between the
> different files, buffers, processes, ... with the menu "Buffers". When you
> edit a *.R file you can evaluate the R expressions with the "ESS" menu by
> selecting "eval buffer".

With the changes to the files, I was able to get this 
combination to work beautifully under Windows 2000.  I'm 
an utter novice with Emacs & ESS, but figured that since I 
wanted some "scripting" capabilities for R like those built 
into S-Plus 2000 (& 6.0 & earlier version SP4+), this might 
be one way to accomplish it.

Couple of questions:

1.  I've been working in the rgui and have a data directory 
defined for each project I'm working on.  It there a 
straightforward way to link the existing project directories 
(and the .Rdata files) with instances of emacs+ESS  or 
does this have to be done manually each time?   I don't 
want to reinvent the wheel.  I know that I can use:

 M-x ess-create-object-name-db

which seems to "import" the .RData file into the emacs\bin 
directory.  I'd like to keep the .RData file in its own project 
directory along with source code, text files, and various 
types of output files.  I'd also like to make certain the 
updates to data, code, etc stay in that project directory.  I 
didn't see any "quick and dirty" explanation for how to do 
this.  

2.  I noticed that under Emacs+ESS + R I am unable to 
tile the graphics window of R with the buffer window of 
Emacs.  Is there an Emacs (or ESS) sequence that 
forces the child windows to tile?

Thanks for your help.




********************************
 Dr.  Marc R. Feldesman                         
 Professor and Chairman, Anthropology Department
 Portland State University                      
 e-mail:  feldesmanm at pdx.edu 
 http://odin.pdx.edu/~h1mf                   
 fax: (503)-725-3905                            
 voice: (503)-725-3081                            
              
                           
"Don't where I'm goin'
Don't like where I've been
There may be no exit
But hell, I'm goin' in"                       

Powered by Macrochoerus

****************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hortresearch.co.nz  Mon Mar  5 21:03:47 2001
From: P.Connolly at hortresearch.co.nz (Patrick Connolly)
Date: Tue, 6 Mar 2001 09:03:47 +1300 (NZDT)
Subject: [R] .Random.seed(0) is not a valid Normal type
In-Reply-To: <Pine.A41.3.96.1010305023503.17180B-100000@wwpu03.wipaed.wiso.uni-goettingen.de> from "Hartmut Oldenbuerger" at Mar 05, 2001 03:24:40 AM
Message-ID: <200103052003.f25K3m127516@biomat1.marc.hort.cri.nz>

According to Hartmut Oldenbuerger:
|> 
|> Dear Peter Dalgaard, Brian Ripley, and R-Community,
|> 
|> > > after compiling and installing R 1.2.2., I started 'demo(graphics)' for
|> > > a test, and got:
|> > > 
|> > > 'Error in rnorm(0): .Random.seed(0) is not a Normal type'
|>      My TypingErr:  ^50 is correct !
|>      It occured in just the first part of 'demo(graphics)'.
|> 
|> > This doesn't normally happen. Did you by any chance load an old
|> > workspace (.RData) on startup? 
|> > 
|>   Yes!! After moving .RData away to .old.RData the error vanished !

I had the same problem after upgrading from 1.2.0 to 1.2.1 but all I
did to fix it was rm(.Random.seed) which as far as I can tell does not
break anything.  I've seldom had a use for .Random.seed so I had no
qualms.

It does niggle me slightly, though, trying to work out if this
behaviour is a feature or a bug (even if very minor).


best

-- 
*************************************************************
Patrick Connolly
HortResearch                        Great minds discuss ideas;
Mt Albert                           Average minds discuss events; 
Auckland                            Small minds discuss people.
New Zealand                                                 .... Anon
Ph: +64-9 815 4200 x 7188
*************************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Mar  5 21:40:05 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 5 Mar 2001 20:40:05 +0000 (GMT Standard Time)
Subject: [R] Emacs & ESS under Windows
In-Reply-To: <2D934441BE9@ch2.ch.pdx.edu>
Message-ID: <Pine.WNT.4.31.0103052037500.230-100000@tern.stats>

On Mon, 5 Mar 2001, Dr. Marc R. Feldesman wrote:

>
> > Now, when you open a *.R file, this opens directly Emacs and ESS. To run R
> > under Emacs, type Alt-x R, and then Enter (this will open a DOS-like
> > window, so you have to come back to Emacs). You switch between the
> > different files, buffers, processes, ... with the menu "Buffers". When you
> > edit a *.R file you can evaluate the R expressions with the "ESS" menu by
> > selecting "eval buffer".
>
> With the changes to the files, I was able to get this
> combination to work beautifully under Windows 2000.  I'm
> an utter novice with Emacs & ESS, but figured that since I
> wanted some "scripting" capabilities for R like those built
> into S-Plus 2000 (& 6.0 & earlier version SP4+), this might
> be one way to accomplish it.
>
> Couple of questions:
>
> 2.  I noticed that under Emacs+ESS + R I am unable to
> tile the graphics window of R with the buffer window of
> Emacs.  Is there an Emacs (or ESS) sequence that
> forces the child windows to tile?

No, AFAIK.  It's not a child window. It is a separate window from a
separate Rterm process. This is like running RGui --sdi, not --mdi.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alistair.Merrifield at med.govt.nz  Mon Mar  5 22:46:09 2001
From: Alistair.Merrifield at med.govt.nz (Alistair Merrifield)
Date: Tue, 6 Mar 2001 10:46:09 +1300 
Subject: [R] Upgrading to new versions of R.
Message-ID: <EDFD920FC713D31186FF0008C7731C0E02ECB52E@wnant21.moc.govt.nz>

Whenever I update to a new version of R (by downloading the appropriate
binaries from CRAN), I lose whatever functions and datasets I have stored in
the saved workspace of the previous version of R that I was running. Is it
possible to source/input this workspace from the previous version of R into
the new updated version, so I don't lose anything? And if so, where could I
locate the workspace amoungst the files on my computer?

Thanks, Al.

(I have just upgraded from 1.2.1 to 1.2.2, both Windows versions).

Al Merrifield

Energy Analyst
Energy Modelling & Statistics
Ministry of Economic Development
PO Box 1473
Wellington
NEW ZEALAND

Phone: (04) 470 2338
Fax:     (04) 473 9930
E-mail: Alistair.Merrifield at med.govt.nz



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Mon Mar  5 23:36:20 2001
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Tue, 6 Mar 2001 11:36:20 +1300
Subject: [R] pb with plot in nlme
References: <15011.40779.162171.621403@autan.toulouse.inra.fr> <6rg0gstcdn.fsf@franz.stat.wisc.edu>
Message-ID: <016001c0a5c4$b316e8d0$175dd882@stat.auckland.ac.nz>

Hi


> > I've got problems with plotting in nlme :
> >
> > > example(nlme)
> > > plot(fm1)
> > Error in do.call(plotFun, as.list(args)) :
> > couldn't find function "xyplot"
> >
> > I've seen in Changelog that there have been changes in plotting
> > funtions, may I've missed something...
> >
> > nlme3.1-10
>
> All the plotting functions in the nlme library rely on trellis
> graphics, which is not currently available in R.
>
> Work is proceeding on a trellis package for R (the name may end up
> being lattice, not trellis) and several of the plot functions in nlme
> can be run with the development versions of the package.  Paul Murrell
> will be speaking about trellis/lattice at the DSC-V2001 meeting.
> Perhaps he will be able to give more information about providing a
> development snapshot in the src/contrib/Devel section of CRAN.  Paul
> has been working on the underlying graphical capabilities and Deepayan
> Sarkar has been working on the R-level trellis functions.


As Doug says, trellis-like functionality is currently being worked on.
Development snapshots _may_ start appearing after DSC-V2001.

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at pubhealth.ku.dk  Mon Mar  5 23:38:34 2001
From: p.dalgaard at pubhealth.ku.dk (Peter Dalgaard BSA)
Date: 05 Mar 2001 23:38:34 +0100
Subject: [R] Upgrading to new versions of R.
In-Reply-To: Alistair Merrifield's message of "Tue, 6 Mar 2001 10:46:09 +1300"
References: <EDFD920FC713D31186FF0008C7731C0E02ECB52E@wnant21.moc.govt.nz>
Message-ID: <x2pufvyh79.fsf@blueberry.kubism.ku.dk>

Alistair Merrifield <Alistair.Merrifield at med.govt.nz> writes:

> Whenever I update to a new version of R (by downloading the appropriate
> binaries from CRAN), I lose whatever functions and datasets I have stored in
> the saved workspace of the previous version of R that I was running. Is it
> possible to source/input this workspace from the previous version of R into
> the new updated version, so I don't lose anything? And if so, where could I
> locate the workspace amoungst the files on my computer?
> 
> Thanks, Al.
> 
> (I have just upgraded from 1.2.1 to 1.2.2, both Windows versions).
> 
> Al Merrifield

Um, *where* do you store your workspaces? If you store them in the bin
directory of the current distribution and then begin using another
directory as your startup directory, then it's no wonder that your
files disappear. Have you set a start-up directory in the shortcut for
R?  

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Tue Mar  6 03:13:09 2001
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Tue, 06 Mar 2001 15:13:09 +1300
Subject: [R] rotated axis labels
Message-ID: <200103060215.PAA16848@gosset.stats.waikato.ac.nz>

For a friend:

"How do you get rotated axis labels on a plot - I want to rotate my category 
labels in a boxplot 45 degrees counter clockwise"


Murray Jorgensen,  Department of Statistics,  U of Waikato, Hamilton, NZ
-----[+64-7-838-4773]---------------------------[maj at waikato.ac.nz]-----
"Doubt everything or believe everything:these are two equally convenient
strategies. With either we dispense with the need to think."
http://www.stats.waikato.ac.nz/Staff/maj.html          - Henri Poincare'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Tue Mar  6 03:55:59 2001
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Mon, 05 Mar 2001 21:55:59 -0500
Subject: [R] binary versions of packages for Windows
References: <200103051319.NAA06075@toucan.stats.ox.ac.uk>
Message-ID: <3AA451BF.813F094F@epm.net.co>

subject: help

Prof Dr. Ripley:

Thank you for all you work on this great program.
I am using R for teaching statistics (basic, spatial and multivariate).

I want to know if you have a list of all the old packages with the
address of the programers, that will not appear again on the
windows "contrib" directory.
So I would find how can I recompile (if it is necesary) or to
obtain the binary version of this packages form the creators.

I hope the rebuilt you make for the R-1.2.0 in December 2000 will
work fine on R-1.2.2. too. I will continue to work on this old binary
version packages until some things will not work as is expected.

I asking you for the address so I can contact the creators if I have any
problem using the old packages with the new R version (1.2.2.).

Again, thank you for your work.


Kenneth Cabrera
Universidad Nacional de Colombia
Facultad de Ciencias
ICNE (Instituto de Ciencias Naturales y Ecolog?a)
Sede Medellin
Antioquia, Colombia
Sur Am?rica


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hzi at uol.com.br  Tue Mar  6 15:49:11 2001
From: hzi at uol.com.br (Usuario Universo Online)
Date: Tue, 06 Mar 2001 14:49:11 GMT
Subject: [R] Problems with installation on Debian
In-Reply-To: <Pine.LNX.4.21.0103050029020.4643-100000@nujoma.perrins>
References: <Pine.LNX.4.21.0103050029020.4643-100000@nujoma.perrins>
Message-ID: <20010306.14491100@siddhi.samsara>

Andrew-
	Thanks for the helping hand.
	Real good advice!
	
	Best regards,

		Henry




> Check your $PATH environment variable - what's happening is the old
> version is in an earlier search path than the new one.  In debian, the 
old
> is probably in /usr/bin/R and the new in /usr/local/bin/R since you built
> it from source.

> Best would probably be to remove the whole thing, which you can probably
> do with:

> dpkg --remove r-base

> ----------------------------------------------------------------------
> Andrew J Perrin - Ph.D. Candidate, UC Berkeley, Dept. of Sociology
> Chapel Hill, North Carolina, USA - http://demog.berkeley.edu/~aperrin
>         aperrin at socrates.berkeley.edu - aperrin at igc.apc.org

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar  6 08:13:30 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 6 Mar 2001 07:13:30 +0000 (GMT)
Subject: [R] binary versions of packages for Windows
In-Reply-To: <3AA451BF.813F094F@epm.net.co>
Message-ID: <Pine.GSO.4.31.0103060704030.25312-100000@auk.stats>

On Mon, 5 Mar 2001, Kenneth Cabrera wrote:

> subject: help
>
> Prof Dr. Ripley:
>
> Thank you for all you work on this great program.
> I am using R for teaching statistics (basic, spatial and multivariate).
>
> I want to know if you have a list of all the old packages with the
> address of the programers, that will not appear again on the
> windows "contrib" directory.

The packages all appear in the src/contrib directory on CRAN, possibly in
later versions.

> So I would find how can I recompile (if it is necesary) or to
> obtain the binary version of this packages form the creators.

You will need to compile from source, just as on all other platforms.

> I hope the rebuilt you make for the R-1.2.0 in December 2000 will
> work fine on R-1.2.2. too. I will continue to work on this old binary
> version packages until some things will not work as is expected.

I hope so too, but there were never any guarantees.  No one tests all the
packages under each new release, except for 1.2.0.

> I asking you for the address so I can contact the creators if I have any
> problem using the old packages with the new R version (1.2.2.).

The `creators' are those listed on CRAN in the sources.  I am the only
porter to Windows.

The remedy really is quite simple: anyone can get the sources from CRAN and
compile them on Windows.  Since someone else has just pestered me, let me
remind people that the tools you need to do so are fully documented and are
all freely downloadable.  Just get rw102Xsp.zip and read the information
files.

The only difference is that now only about half the packages are available
in pre-compiled form.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar  6 08:16:33 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 6 Mar 2001 07:16:33 +0000 (GMT)
Subject: [R] Upgrading to new versions of R.
In-Reply-To: <EDFD920FC713D31186FF0008C7731C0E02ECB52E@wnant21.moc.govt.nz>
Message-ID: <Pine.GSO.4.31.0103060714430.25312-100000@auk.stats>

On Tue, 6 Mar 2001, Alistair Merrifield wrote:

> Whenever I update to a new version of R (by downloading the appropriate
> binaries from CRAN), I lose whatever functions and datasets I have stored in
> the saved workspace of the previous version of R that I was running. Is it
> possible to source/input this workspace from the previous version of R into
> the new updated version, so I don't lose anything? And if so, where could I
> locate the workspace amoungst the files on my computer?
>
> Thanks, Al.
>
> (I have just upgraded from 1.2.1 to 1.2.2, both Windows versions).

The .RData file works unchanged under new versions. I can only assume you
are not managing your work as described in the rw-FAQ using a shortcut and
a `Start in' field.  You need to find the old .RData and load it
(use the Load Workspace item on the File menu).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dray at biomserv.univ-lyon1.fr  Tue Mar  6 10:20:37 2001
From: dray at biomserv.univ-lyon1.fr (Stephane Dray)
Date: Tue, 6 Mar 2001 10:20:37 +0100
Subject: [R] canonical correspondence analysis
In-Reply-To: <200102270846.KAA04901@pc112145.oulu.fi>
References: <200102270846.KAA04901@pc112145.oulu.fi>
Message-ID: <a05010400b6ca5b5778bf@[134.214.93.44]>

The package CoCoAn to perform constrained correspondencce analysis is 
available at http://www.ci.tuwien.ac.at/R/ : Unix & Linux (Sources of 
contributed packages )
Any comments would be useful.


-- 
St?phane DRAY
---------------------------------------------------------------
Biom?trie et Biologie ?volutive - Equipe "?cologie Statistique"
Universite Lyon 1 - Bat 711 - 69622 Villeurbanne CEDEX - France

Tel : 04 72 43 27 56			   Fax : 04 78 89 27 19
       04 72 43 27 57 	   E-mail : dray at biomserv.univ-lyon1.fr 
---------------------------------------------------------------
ADE-4               http://pbil.univ-lyon1.fr/ADE-4/ADE-4F.html
---------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Tue Mar  6 10:40:42 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang@xtra.co.nz)
Date: Tue, 6 Mar 2001 22:40:42 +1300
Subject: [R] R Introductory Slides...
Message-ID: <009901c0a621$83e30a00$247e37d2@KoKang>

Hi there,

I have just written a short introduction to R that I am intended to use in a tutorial in my programming club.

I wrote it as an undergraduate student.  Therefore I have put considerations on what kind of stuff will be of interests to most of the students.  Many of my friends I talked to didn't like R much, however after I showed them what it can do most of them were impressed and have since fall in love with it as myself.  The main reason is that in the courses that use R, they didn't put in a lot of concentration on the reasons of doing it, but rather the mechenics (how to use it).  As a result, as usual with many new technical programmes, students hated it until they realise WHY they should learn it and WHAT it is capable of.

As a result, when I wrote the Introductory slides, I wrote it in a way that how I, as a student, would like to learn it at the beginning.

I wrote it using Microsoft PowerPoint 2000.  Unfortunately I do realise that most of the R users use UNIX based operating systems (yes I have FreeBSD and Windows ME both running on my PC, I admit that using R on FreeBSD is much more stable...).  As a result I have produced 2 versions of pdf files from the PowerPoint file.  All of them can be found from http://www.stat.auckland.ac.nz/~kwan022/pub/R/Introduction/.  R_Intro.ppt file is obviously the PowerPoint file.  R_Intro_1up_Colour.pdf is for those of you who think the slides are worth of putting in front of students, can do so on OHP.  R_Intro_6up_BW.pdf is for black/white handouts printing.

For those who have Windows but do not have PowerPoint in the Office suite, there is a PowerPoint_Viewer.exe that can be downloaded and used to view the slides on screen.

One thing to note, since I have written it with the intention of showing in my "programming" club, it makes sense to put in a few technical slides on memory management.  I personally do not think it is easy to be learnt by general statistics major student who do not have any programming background.

I will be updating the slides in the future.  However in the mean time I will be greatly appreciate if those who decide to download my slides can give me some feedbacks, to my private mail address Ko-Kang at xtra.co.nz

Cheers,

Ko-Kang Wang

-------------------------------------------------
Ko-Kang Kevin Wang
Undergraduate Student (Final Year)
Statistics Department
Science Faculty
University of Auckland
New Zealand
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010306/b685eb1b/attachment.html

From markhall at gol.com  Tue Mar  6 11:37:08 2001
From: markhall at gol.com (Mark Hall)
Date: Tue, 6 Mar 2001 19:37:08 +0900
Subject: [R] xgobi/ggobi
References: <200103051145.GAA25720@jessie.research.bell-labs.com>
Message-ID: <009f01c0a629$f11db5e0$a814d8cb@01680437>

I also get an error message when I send messages to 
the one below...it invariably says host unknown...  :(

Thanks for any help,
Mark Hall

| For the moment, one can send messages to the mailing list at
|  ggobi-help at franz.stat.wisc.edu
| 
|  D.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Tue Mar  6 11:48:00 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 6 Mar 2001 11:48:00 +0100
Subject: [R] canonical correspondence analysis
In-Reply-To: <a05010400b6ca5b5778bf@[134.214.93.44]>
References: <200102270846.KAA04901@pc112145.oulu.fi>
	<a05010400b6ca5b5778bf@[134.214.93.44]>
Message-ID: <15012.49248.174626.605496@celeborn.at>

>>>>> On Tue, 6 Mar 2001 10:20:37 +0100,
>>>>> Stephane Dray (SD) wrote:

  > The package CoCoAn to perform constrained correspondencce analysis is 
  > available at http://www.ci.tuwien.ac.at/R/ : Unix & Linux (Sources of 
  > contributed packages )


Just as a side note because this seems to have been confused rather
often lately:

SOURCES for packages are for ALL platforms, i.e., also for windows and
mac. Only BINARY packages are platform-dependent. Hence, if you
install all tools (perl, ...) necessary to install source packages,
you can install them on windows machines. The directory
CRAN/src/contrib is not Unix & Linux, but for all platforms.

The only difference is the following: On unix machines the tools are
usually available by default, while on windows they are not. Hence, on
unix-like platforms it is much more convienient and therefore common
to install source packages directly while on windows it is not.


Best,
Fritz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Tue Mar  6 13:08:44 2001
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Tue, 6 Mar 2001 07:08:44 -0500 (EST)
Subject: [R] xgobi/ggobi
Message-ID: <200103061208.HAA13249@jessie.research.bell-labs.com>



(Apologies for occupying bandwidth on the list about ggobi).

I believe that Doug Bates and I have corrected the initial
configuration error for the mailing lists at ggobi.org, and also the
other one regarding franz.stat.wisc.edu that occurred yesterday
which led to it also reject mail (as reported below).

So please send mail regarding ggobi, and also the R-ggobi interface,
to 
   ggobi-help at ggobi.org

Web-based access to the list (subscription, removal, archives, etc)
can be found at 
        http://ggobi.org/mailman/listinfo



Thanks go Doug Bates who graciously hosts so many different projects
and endures the adminstrative chores.

  Duncan.


> From: "Mark Hall" <markhall at gol.com>
> Cc: <r-help at stat.math.ethz.ch>
> References: <200103051145.GAA25720 at jessie.research.bell-labs.com>
> Date: Tue, 6 Mar 2001 19:37:08 +0900
> Sender: owner-r-help at stat.math.ethz.ch
> Precedence: SfS-bulk
> 
> I also get an error message when I send messages to 
> the one below...it invariably says host unknown...  :(
> 
> Thanks for any help,
> Mark Hall
> 
> | For the moment, one can send messages to the mailing list at
> |  ggobi-help at franz.stat.wisc.edu
> | 
> |  D.
> 



-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Tue Mar  6 16:50:09 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Tue, 06 Mar 2001 16:50:09 +0100
Subject: [R] Emacs & ESS under Windows
Message-ID: <3.0.32.20010306165008.008e7da0@162.38.183.200>

Dear All,

Thanks again to those who helped me to improve what is below. About the
advantages of using ESS, I do not repeat here the opinions that have been
sent recently on r-help (see particularly the messages by Prof Brian
Ripley, Rich Heiberger, Peter Dalgaard, Faheem Mitha, Renaud Lancelot,
Guido Masarotto; they should be in the list archive under the subject: Re:
[R] Emacs & ESS under Windows). See also the R-FAQ.

If I have still missed something, do not hesitate to tell me.

Emmanuel Paradis

----------------------------------------
Short guide to install ESS under Windows
----------------------------------------

The following summary is for a Windows system (mainly NT, but this applies
to 95/98 too) which has none of Emacs, gnuserv, or ESS installed. Sections
1 and 2 are about getting and installing Emacs, sections 3-6 are about
getting and installing ESS, section 7 is about getting and installing
gnuserv, and section 8 gives a few hints on how to start with ESS.

It is assumed that all packages are or will be installed in D:\ (if you
choose another location, change accordingly). It is preferable to install
these packages (including R) in locations independent of each others, so
that they can be updated easily.

1. Download a precompiled copy of Emacs v. 20.7 for Windows on Intel machines:

	ftp://ftp.gnu.org/gnu/windows/emacs/20.7/emacs-20.7-fullbin-i386.tar.gz

This is a 13 Mb file that includes precompiled binaries of Emacs, and lisp
source (useful for understanding how packages work, and how they can best
be setup or customized).

2. Unpack the downloaded file in a directory, e.g., "D:\", then execute the
file "D:\emacs-20.7\addpm.exe". Emacs is then installed on your Windows
machine, and a shortcut should have been added to your Start menu.
Installing Emacs may not be so straightforward depending on the setup of
your system. For instance, it may be better to turn off virus checkers
(Norton Anti-Virus 2001 breaks this, for example; McAfee virus scanner
seems to interact badly with Emacs too). There is a very detailed FAQ for
Emacs on Windows at:

	http://www.gnu.org/software/emacs/windows/ntemacs.html

Section 3 of this FAQ details the installation process of Emacs under
Windows. There are also lots of useful informations on how to customize Emacs.

It is also recommended to change the default starting directory for Emacs
to you own personal directory to help protect you from accidentally
changing files in the Emacs directory. Do so by right-clicking on the Emacs
short-cut, go to the "Shortcut" tab, and then change the value in "Start in:".

3. Download ESS v. 5.1.18 at:

	http://ess.stat.wisc.edu/pub/ESS/ESS-5.1.18.tar.gz

It is a 558 Kb file.

4. Unpack the downloaded file in its own directory, e.g. "D:\" (of course,
keeping the tree structure of the zip archive). Avoid unpacking this
archive in the Emacs (sub)-directory(ies) so that you can upgrade Emacs and
ESS independently in the future.

5. Edit the file "D:\ess-5.1.18\lisp\ess-site.el". In this file, the
semicolons indicate comments. Find the line #250 (easy with Emacs...) which
is like this:

;;(setq-default inferior-R-program-name "Rterm")  ; msdos systems

This line tells ESS where to find the R executable. Thus, uncomment the
line, and write in place of "Rterm" where is your Rterm.exe, for instance,
is you installed R v. 1.2.2 for Windows in D:\, the line becomes:

(setq-default inferior-R-program-name "D:/rw1022/bin/Rterm")  ; msdos systems

Of course, you may delete the string "; msdos systems". If you installed R
in C:\Program Files, then the line must be:

(setq-default inferior-R-program-name "C:/Progra~1/rw1022/bin/Rterm")

taking care to use the DOS name of the directory.

Note that you may use "Rgui" instead of "Rterm", but R's outputs will be
displayed in the Rgui console rather than within Emacs (as is the case with
Rterm).

6. Edit or create a file called ".emacs" (or "_emacs"). You can read some
infos on "What is a .emacs file?" at:

	http://www.gnu.org/software/emacs/windows/faq3.html#what-startup

When Emacs is started, it looks for the .emacs file in your HOME directory.
HOME is an environment variable which can be set in several ways. Under
Windows NT, open the Control Panel, go to the System panel, and click the
"Environment" tab, then add (or modify) the appropriate environment
variable. (This procedure gives the possibility to set HOME on a per-user
basis.) Under Windows 95, you can set the HOME environment variable in your
autoexec.bat file (you will need to reboot). If no HOME has been set, Emacs
will look for .emacs in C:\.

Once HOME has been set, add in .emacs the following line:

	(load-file "d:/ess-5.1.18/lisp/ess-site.el")

7. ESS is now configured to run with R and Emacs, but it is very useful to
install gnuserv, a small program that allows file associations with Emacs
(thus loading files into an already running Emacs, or if none, one is
launched). More information are at:

	http://www.gnu.org/software/emacs/windows/faq3.html#assoc

where there is also a link to download gnuserv, or:

	http://www.gnu.org/software/emacs/windows/ntemacs/contrib/gnuserv-2.1p1.zip

Unpack the dowloaded file, e.g. in D:\, and add in .emacs the following
three lines:

	(load-file "d:/gnuserv/gnuserv.el")
	(require 'gnuserv)
	(gnuserv-start)

You also need to have the gnuserv executables and runemacs.exe in your path
(under Windows NT, this is done by editing the PATH environment variable in
the System panel of the Control Panel), in our example, one needs to add
"D:\emacs-20.7\bin;D:\gnuserv;" to this environment variable. 

Now, open Explorer, select "options" in the menu "view", select the "file
types" tab, click on "New type...", fill the fields (specifying, of course,
the .R extension), and under "actions", click "New...", a new window is
then open. Under "action" type "open", and in the second field type

	D:\gnuserv\gnuclientw.exe "%1"

where the "%1" allows filenames with blanks in them to bee treated as one
argument when sent to Emacs. Close all windows by clicking "Ok".

8. When you open a *.R file, this opens Emacs and ESS. To run R under
Emacs, type Alt-x R (M-x R in Emacs' terminology), and then Enter (this
will open a DOS-like window, so you have to come back to Emacs). Within
Emacs, you switch between the different files, buffers, processes, ... with
the menu "Buffers". When you edit a *.R file you can evaluate the R
expressions with the "ESS" menu by selecting "eval buffer" (or by typing
Ctrl-c Alt-b, ... I mean C-c M-b).


EP
6-3-2001
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Tue Mar  6 17:14:37 2001
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Tue, 6 Mar 2001 11:14:37 -0500 (EST)
Subject: [R] list subsetting question
Message-ID: <Pine.SGI.3.96.1010306110615.20886A-100000@ln.nimh.nih.gov>


Hi, all.

I'm curious about the following behavior in list subsetting:


> t1 <- as.list(1:10)
> t2 <- 1:10
> t2 == 5
 [1] FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE

> t1[t2==5]
[[1]]
[1] 5

> t1[[t2==5]]
Error:  attempting to select more than one element
> t1[[which(t2==5)]]
[1] 5


I don't understand why the second-to-last command gives an error, rather
than the same result as the third-to-last command.  After all, only one
element of the indexing vector is TRUE, so as far as I can tell I'm really
only trying to select one element.

The final command does what I want (as does t1[t2==5][[1]]), so this isn't
an urgent question, but I've looked through the documentation and can't
figure out why t1[[t2==5]] doesn't work.

Thanks for any help.

Matt Wiener



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeannot at math.unicaen.fr  Tue Mar  6 18:03:13 2001
From: jeannot at math.unicaen.fr (Jean Lejeune)
Date: Tue, 06 Mar 2001 18:03:13 +0100
Subject: [R] AIC bug?
Message-ID: <3.0.1.32.20010306180313.00a12370@mail.math.unicaen.fr>

Dear all,

I am a little problem. In the help, AIC = - 2log L + k*edf. When the model
is linear, the help said " -2log L is the deviance ". I have a model
toto.lm  with one output and three input where 
deviance(toto.lm) = 8.027 and edf =4. But AIC = -31.55. I don't understand
why?
Many thanks.
    Jean LEJEUNE Universit? de CAEN (France) 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s0parcon at wmich.edu  Tue Mar  6 18:56:36 2001
From: s0parcon at wmich.edu (Jason Parcon)
Date: Tue, 06 Mar 2001 12:56:36 -0500
Subject: [R] Bootstrapping on R
Message-ID: <3AA524D4.B5CF573C@wmich.edu>

Does R have a bootstrap command like SPlus, or do we have to form our
own code if we want to do bootstrapping in R?


Jason Parcon
Western Michigan University
e-mail addresses:  s0parcon at wmich.edu
                            parcon at stat.wmich.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rls at pincock.com  Tue Mar  6 19:00:09 2001
From: rls at pincock.com (Bob Sandefur)
Date: Tue, 06 Mar 2001 10:00:09 -0800
Subject: [R] qqnorm percentile axis and percentile grid lines?
Message-ID: <saa4b54e.030@hc4>

Hi list-
 Has anyone modfied qqnorm to plot percentiles on the x axis and vertical percentile gridlines? 
 (Searching the r help archive from cran with hotbot didn;t work for me at all and 
http://www.ens.gu.edu.au/robertk/R/help/00b/subject.html (help archive from July 2000 jan 2001)
gave nothing useful)

thanx

Rober L Sandefur
Principal Geostatistician
Pincock Allen & Holt (A Hart Crowser Company)
 International Minerals Consultants
 274 Union Suite 200
 Lakewood CO 80228
 USA
 303 914-4467  v
 303 987-8907 f


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar  6 19:15:14 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 6 Mar 2001 18:15:14 +0000 (GMT)
Subject: [R] AIC bug?
In-Reply-To: <3.0.1.32.20010306180313.00a12370@mail.math.unicaen.fr>
Message-ID: <Pine.GSO.4.31.0103061809160.8079-100000@auk.stats>

On Tue, 6 Mar 2001, Jean Lejeune wrote:

> Dear all,
>
> I am a little problem. In the help, AIC = - 2log L + k*edf. When the model
> is linear, the help said " -2log L is the deviance ". I have a model

Which help?  There is no saturated model and hence strictly no deviance for
a Gaussian linear model.  deviance(toto.lm) is the residual sum of squares,
not -2 log maximized L.

?glm says

deviance: up to a constant, minus twice the maximized log-likelihood.
          Where sensible, the constant is chosen so that a saturated
          model has deviance zero.

Is that what you are thinking of?

BTW, I think k=2 for Akaike's AIC: there are others....

> toto.lm  with one output and three input where
> deviance(toto.lm) = 8.027 and edf =4. But AIC = -31.55. I don't understand
> why?
> Many thanks.
>     Jean LEJEUNE Université de CAEN (France)
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar  6 19:17:00 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 6 Mar 2001 18:17:00 +0000 (GMT)
Subject: [R] Bootstrapping on R
In-Reply-To: <3AA524D4.B5CF573C@wmich.edu>
Message-ID: <Pine.GSO.4.31.0103061815530.8079-100000@auk.stats>

On Tue, 6 Mar 2001, Jason Parcon wrote:

> Does R have a bootstrap command like SPlus, or do we have to form our
> own code if we want to do bootstrapping in R?

Use packages boot or bootstrap from CRAN. I prefer the former, and use it
even on S-PLUS, as readers of V&R will know (and know why).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego at kuonen.com  Tue Mar  6 19:47:50 2001
From: Diego at kuonen.com (Diego Kuonen)
Date: Tue, 06 Mar 2001 19:47:50 +0100
Subject: [R] Bootstrapping on R
References: <3AA524D4.B5CF573C@wmich.edu>
Message-ID: <3AA530D6.C9F89151@Kuonen.com>

Jason Parcon wrote:
> 
> Does R have a bootstrap command like SPlus, or do we have to form our
> own code if we want to do bootstrapping in R?

As you see from

  http://cran.r-project.org/doc/FAQ/R-FAQ.html#R%20Add-On%20Packages

there are two packages:

 * boot 
      Functions and datasets for bootstrapping from the book "Bootstrap Methods and Their
Applications" 
      by A. C. Davison and D. V. Hinkley, 1997, Cambridge University Press. 

  * bootstrap 
      Software (bootstrap, cross-validation, jackknife), data and errata for the book "An 
      Introduction to the Bootstrap" by B. Efron and R. Tibshirani, 1993, Chapman and Hall. 

I suggest you to install the package "boot"...

Greets

  Diego


-- 
Diego Kuonen $\in$ Chairs of Statistics $\subset$ DMA \@ EPFL
http://stat.kuonen.com                  http://www.Statoo.com 
Q: How do I type "for i in *.dvi; do xdvi $i; done" in a GUI?  
/*      panic("esp: Aiee penguin on the SCSI-bus.");       */
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Tue Mar  6 21:03:41 2001
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 06 Mar 2001 15:03:41 -0500
Subject: [R] Bootstrapping on R
In-Reply-To: <3AA524D4.B5CF573C@wmich.edu>
Message-ID: <5.0.0.25.0.20010306150041.018be490@mcmail.cis.mcmaster.ca>

At 12:56 PM 06/03/2001 -0500, you wrote:
>Does R have a bootstrap command like SPlus, or do we have to form our
>own code if we want to do bootstrapping in R?
>
>
>Jason Parcon
>

Dear Jason,

There are two contributed packages for bootstrapping: boot and bootstrap, 
associated respectively with Davison and Hinkley's and Efron and 
Tibshirani's books.

I hope that this helps,
  John



________________________________
  John Fox
  Department of Sociology
  McMaster University
  email: jfox at McMaster.ca
  web: www.socsci.mcmaster.ca/jfox
________________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rmh at surfer.sbm.temple.edu  Tue Mar  6 21:42:23 2001
From: rmh at surfer.sbm.temple.edu (Rich Heiberger)
Date: Tue, 6 Mar 2001 15:42:23 -0500 (EST)
Subject: [R] Re:  Emacs & ESS under Windows
Message-ID: <200103062042.f26KgNU1189396@surfer.sbm.temple.edu>

This is a nice desription.  There are a few small changes I would like to
see.  The DOS window you get when starting R shouldn't be there.  I haven't
Yet figured out why it is there for you.

The only thing I see that should be changed may not actually address
this issue:

Your are referencing the "Emacs" shortcut.  Don't use it.  It is
better to use the "Runemacs" shortcut.  Reason: runemacs avoids the
DOS box when starting emacs.  I copy the runemacs shortcut to my
Desktop and to my startup.  That way emacs is always running and I don't
have to do anything but turn the machine on.


The addpm.exe is no longer needed.  addpm does things to the Windows
registry.  The advantage of not needing it is that you can copy the entire
d:\emacs-20.7\ directory tree to a ZIP drive or a CD and run them on another
machine without touching the registry on the other machine.  This allows you
to run on machines to which you don't have write permission for the registry.

Rich
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Tue Mar  6 21:48:57 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 06 Mar 2001 12:48:57 -0800
Subject: [R] Re: Emacs & ESS under Windows
In-Reply-To: <200103062042.f26KgNU1189396@surfer.sbm.temple.edu>
References: <200103062042.f26KgNU1189396@surfer.sbm.temple.edu>
Message-ID: <87itlmsjwm.fsf@jeeves.blindglobe.net>

>>>>> "RH" == Rich Heiberger <rmh at surfer.sbm.temple.edu> writes:


    RH> This is a nice desription.  There are a few small changes I
    RH> would like to see.  The DOS window you get when starting R
    RH> shouldn't be there.  I haven't Yet figured out why it is there
    RH> for you.

I think it's related to the Emacs issue below?

    RH> Your are referencing the "Emacs" shortcut.  Don't use it.  It
    RH> is better to use the "Runemacs" shortcut.  Reason: runemacs
    RH> avoids the DOS box when starting emacs.  I copy the runemacs
    RH> shortcut to my Desktop and to my startup.  That way emacs is
    RH> always running and I don't have to do anything but turn the
    RH> machine on.

Could someone verify?

best,
-tony


-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (friday is unknown) --------
FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Tue Mar  6 22:08:17 2001
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Tue, 6 Mar 2001 16:08:17 -0500 (EST)
Subject: [R] mtext: expressions in bold font
Message-ID: <Pine.SGI.3.96.1010306160223.23552E-100000@ln.nimh.nih.gov>

Hi, all.

I'm using mtext to put some labels in figure margins.  Several of these
labels are expressions, created with substitute:

mtext(substitute(h[x](t), list(x = paste("n", 1, sep = ","))), cex = 2,
font = 2, side = 4, line = 1, las = 1) 

I'm using this to get the subscripting (perhaps there's a better way to do
that?).

The problem is that the font argument seems to be ignored; that is, the h
looks the same as when using

mtext("h", cex = 2, font = 1, side = 4, line = 1, las = 1)
			  ^^^ 
Is this a feature?  A bug?  I've looked through the documentation (and the
bug tracker) and haven't found anything about this particular point.

Thanks,

Matt

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yuling5 at yahoo.com  Wed Mar  7 01:41:56 2001
From: yuling5 at yahoo.com (Yu-Ling Wu)
Date: Tue, 6 Mar 2001 16:41:56 -0800 (PST)
Subject: [R] export graph to Word/Excel
Message-ID: <20010307004156.11755.qmail@web11506.mail.yahoo.com>

Hi,

I have a set of script like this:

----------------------
summary(data)
plot(time, users, type="o", xlab ="Time", ylab="Number
of Users")
----------------------

I type "rterm --slave < script.r > output.doc" and the
graphic doesn't
actually in the output.doc file. How to make the
graphic embedded in Word
or Excel file?

Thanks,
Yu-Ling Wu

__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Wed Mar  7 02:52:12 2001
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Tue, 6 Mar 2001 19:52:12 -0600 
Subject: [R] Oracle ODBC driver for Sun Solaris
Message-ID: <AFD78192EC49D311BFAE00902798AB8F0BDE35@jupiter.sc.arbitrade.com>

Hi, I (will) have R and Oracle running on Sun Solaris. I'd like to use RODBC
package to communicate from R to the database.
Could someone please recommended an Oracle ODBC driver and a manager for
Suns?
Has anyone had an experience of doing this sort of staff (RODBC --> Oracle
on Suns)? Is it reliable?

Thanks,
Vadim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Wed Mar  7 03:57:36 2001
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Wed, 7 Mar 2001 15:57:36 +1300
Subject: [R] export graph to Word/Excel): 
Message-ID: <200103070258.f272wbL15984@storm.niwa.cri.nz>

Colleagues

----------------------------------
On 6 Mar 01,, Yu-Ling Wu wrote (re: [R] export graph to Word/Excel): 

> I have a set of script like this:
> 
> ----------------------
> summary(data)
> plot(time, users, type="o", xlab ="Time", ylab="Number
> of Users")
> ----------------------
> 
> I type "rterm --slave < script.r > output.doc" and the
> graphic doesn't
> actually in the output.doc file. How to make the
> graphic embedded in Word
> or Excel file?

------------------------------------

If you are on NT or windows, just put the cursor on the graph window, do 
ctrl c and paste into word with ctrl v. 

Or you can write the file out with postscript() and import it as a file (but 
you have to convert ps file to an eps with viewer if you want to see the file 
rather than a box in word, athough the box will print as a graphic).

Sam


Sam

Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz 

                    /\
...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Wed Mar  7 04:30:58 2001
From: novo at uiuc.edu (=?iso-8859-1?q?=C1lvaro=20A=2E=20Novo?=)
Date: Tue, 6 Mar 2001 21:30:58 -0600
Subject: [R] lreadline
Message-ID: <0103062130580H.09445@friedman>

I compiled R-1.2.2 on my SuSE 7.1, kernel 2.4.2-2 machine with 
libreadline.4.1 and although I can use vi commands to scroll on the shell 
(bash) command line, I CANNOT do it in R. Here's the relevant parts of 
./configure (and make):

anovo at friedman R-1.2.2 > ./configure | grep readline
checking for rl_callback_read_char in -lreadline... yes
checking for readline/history.h... yes
checking for readline/readline.h... yes

anovo at friedman R-1.2.2 > make | grep readline
<snip>
 -L/usr/local/lib  -lreadline

I created symbolic libreadline.so.3 point to libreadline.so.4.1 and 
re-installed (deleting directory, untaring and ./configure), but it did not 
help. Other suggestions?

Thanks in advance,
_____________
Alvaro Novo

SuSE 7.1 -=- Kernel 2.4.2-4
  9:23pm  up 3 days,  5:23,  3 users,  load average: 0.01, 0.08, 0.20
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Wed Mar  7 04:54:41 2001
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Wed, 07 Mar 2001 16:54:41 +1300
Subject: [R] Windows: updating to R 1.2.2
Message-ID: <200103070356.QAA22170@gosset.stats.waikato.ac.nz>

Forgive me, but while I find the documentation for initially installing R
to be clear, I'm not so happy about updating.

I want to update from R 1.2.1 to R 1.2.2 (mainly so I can get the debugged
version of pictex() ).

Now I have downloaded the base zip files, say to Z:\Program Files and my
existing installation of R 1.2.1 is sitting in 
Z:\Program Files\rw1021. 

Running rwinst.exe I need to nominate an Install directory. I can nominate
a new directory Z:\Program Files\rw1022, but then I will not be able to
access my packages already installed for R 1.2.1.

I can nominate Z:\Program Files\rw1021 to install over the top of the old
version, but I am scared that this might stuff everything up, and I will
have no working version of R. 

I am just looking for some reassurance that the second course of action is
safe, or alternatively to be told the bad news that I must re-install all
of my existing packages under the new version of R.


Murray Jorgensen,  Department of Statistics,  U of Waikato, Hamilton, NZ
-----[+64-7-838-4773]---------------------------[maj at waikato.ac.nz]-----
"Doubt everything or believe everything:these are two equally convenient
strategies. With either we dispense with the need to think."
http://www.stats.waikato.ac.nz/Staff/maj.html          - Henri Poincare'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Mar  7 08:29:58 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 7 Mar 2001 08:29:58 +0100 (CET)
Subject: [R] Windows: updating to R 1.2.2
In-Reply-To: <200103070356.QAA22170@gosset.stats.waikato.ac.nz>
Message-ID: <Pine.LNX.4.31.0103070823210.574-100000@ligges2>

On Wed, 7 Mar 2001, Murray Jorgensen wrote:

> Forgive me, but while I find the documentation for initially installing R
> to be clear, I'm not so happy about updating.
>
> I want to update from R 1.2.1 to R 1.2.2 (mainly so I can get the debugged
> version of pictex() ).
>
> Now I have downloaded the base zip files, say to Z:\Program Files and my
> existing installation of R 1.2.1 is sitting in
> Z:\Program Files\rw1021.
>
> Running rwinst.exe I need to nominate an Install directory. I can nominate
> a new directory Z:\Program Files\rw1022, but then I will not be able to
> access my packages already installed for R 1.2.1.
>
> I can nominate Z:\Program Files\rw1021 to install over the top of the old
> version, but I am scared that this might stuff everything up, and I will
> have no working version of R.
>
> I am just looking for some reassurance that the second course of action is
> safe, or alternatively to be told the bad news that I must re-install all
> of my existing packages under the new version of R.

Two ways:
- set .lib.loc also to the library path of the "old" version of R, e.g.:
  .lib.loc <- c(.lib.loc, "c:/whateverdirectory/library")
- copy the libraries from the library-dir of the old version into the
library-dir of the new version

Suggestion:
For additionally libraries make an independent directory, say "c:/program
files/R-libs" for example. Install all new libraries into this directory
and set .lib.loc as needed. So updating R is not so much work in the
future.


Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar  7 08:39:47 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 7 Mar 2001 07:39:47 +0000 (GMT)
Subject: [R] export graph to Word/Excel
In-Reply-To: <20010307004156.11755.qmail@web11506.mail.yahoo.com>
Message-ID: <Pine.GSO.4.31.0103070734180.8892-100000@auk.stats>

On Tue, 6 Mar 2001, Yu-Ling Wu wrote:

> Hi,
>
> I have a set of script like this:
>
> ----------------------
> summary(data)
> plot(time, users, type="o", xlab ="Time", ylab="Number
> of Users")
> ----------------------
>
> I type "rterm --slave < script.r > output.doc" and the
> graphic doesn't
> actually in the output.doc file. How to make the
> graphic embedded in Word
> or Excel file?

You need to write to a specified graphics device.  That usage I believe
just pops up a graphics window and shuts it again.

I would think you want

win.metafile("plot1.emf", width=??, height=??)

before doing any plotting.  Then you can include plot1.emf into a Word
etc document.

Note that the production of metafiles works much better in 1.2.2 than
before.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Wed Mar  7 09:51:35 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Wed, 7 Mar 2001 08:51:35 +0000 (GMT)
Subject: [R] R.xpm?
Message-ID: <Pine.LNX.4.10.10103070845220.5347-101000@localhost.localdomain>

I use AfterStep on Linux. I made an R.xpm file (attached)
and put this icon in the "wharf". To invoke R I click on the R icon.

I did not find an offical R.xpm, and so I am submitting this one
for your collective consideration....

The idea behind the icon is that it looks like a scatterplot, which is
"statistical". My main beefs with my R.xpm are that it doesn't have a
transparent background (don't know how to do it) and it is not really
centred. If anyone knows how to fix it up please send me a fixed version.

Bill Simpson
-------------- next part --------------
A non-text attachment was scrubbed...
Name: R.xpm
Type: application/octet-stream
Size: 8738 bytes
Desc: 
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010307/dccc05d5/R.obj

From maechler at stat.math.ethz.ch  Wed Mar  7 10:20:56 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 7 Mar 2001 10:20:56 +0100
Subject: [R] lreadline
In-Reply-To: <0103062130580H.09445@friedman>
References: <0103062130580H.09445@friedman>
Message-ID: <15013.64888.737267.749031@gargle.gargle.HOWL>

>>>>> "Alvaro" == Alvaro A Novo <novo at uiuc.edu> writes:

    Alvaro> I compiled R-1.2.2 on my SuSE 7.1, kernel 2.4.2-2 machine with
    Alvaro> libreadline.4.1 and although I can use vi commands to scroll on
					          ====
The bash can be told to use vi-style commands (instead of default
Emacs-style ones),  
but  AFAIK  R can not (yet; are you willing to provide patches ??)

    Alvaro> the shell (bash) command line, I CANNOT do it in R. Here's the
    Alvaro> relevant parts of ./configure (and make):

..............
    Alvaro> anovo at friedman R-1.2.2 > ./configure | grep readline
    Alvaro> checking for rl_callback_read_char in -lreadline... yes
    Alvaro> checking for readline/history.h... yes
    Alvaro> checking for readline/readline.h... yes

    Alvaro> anovo at friedman R-1.2.2 > make | grep readline
    Alvaro> <snip>
    Alvaro> -L/usr/local/lib  -lreadline

    Alvaro> I created symbolic libreadline.so.3 point to libreadline.so.4.1 and 
    Alvaro> re-installed (deleting directory, untaring and ./configure), but it did not 
    Alvaro> help. Other suggestions?

    Alvaro> Thanks in advance,
    Alvaro> _____________
    Alvaro> Alvaro Novo

    Alvaro> SuSE 7.1 -=- Kernel 2.4.2-4
    Alvaro> 9:23pm  up 3 days,  5:23,  3 users,  load average: 0.01, 0.08, 0.20
    Alvaro> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    Alvaro> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
    Alvaro> Send "info", "help", or "[un]subscribe"
    Alvaro> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
    Alvaro> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Mar  7 12:15:15 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Mar 2001 12:15:15 +0100
Subject: [R] R.xpm?
In-Reply-To: Bill Simpson's message of "Wed, 7 Mar 2001 08:51:35 +0000 (GMT)"
References: <Pine.LNX.4.10.10103070845220.5347-101000@localhost.localdomain>
Message-ID: <x2bsrd4ypo.fsf@blueberry.kubism.ku.dk>

Bill Simpson <wsi at gcal.ac.uk> writes:

> Content-Type: TEXT/PLAIN; charset=US-ASCII
> 
> I use AfterStep on Linux. I made an R.xpm file (attached)
> and put this icon in the "wharf". To invoke R I click on the R icon.
> 
> I did not find an offical R.xpm, and so I am submitting this one
> for your collective consideration....
> 
> The idea behind the icon is that it looks like a scatterplot, which is
> "statistical". My main beefs with my R.xpm are that it doesn't have a
> transparent background (don't know how to do it) and it is not really
> centred. If anyone knows how to fix it up please send me a fixed version.
> 
> Bill Simpson

I've placed a couple of alternate possibilities on

www.biostat.ku.dk/~pd/R-square.jpg
www.biostat.ku.dk/~pd/R-square.xpm
www.biostat.ku.dk/~pd/R-dump.xpm

The former two are just the web logo, cropped to fit in a square box.
I use the .jpg version in my Gnome panel.

The last one is an old screen dump that has been scaled down (with
some pre-blurring and post-sharpening). Probably not too useful, but I
got curious as to how small you could make such an image and still be
able to recognize the graph.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fzoellne at TechFak.Uni-Bielefeld.DE  Wed Mar  7 12:53:22 2001
From: fzoellne at TechFak.Uni-Bielefeld.DE (Frank Gerrit Zoellner)
Date: Wed, 7 Mar 2001 12:53:22 +0100
Subject: [R] help with dev.copy2eps
Message-ID: <20010307125322.A5046@korngold.TechFak.Uni-Bielefeld.DE>

HI!

I'm using the function dev.copy2eps to store a plot into a file.
How can I change the default name of the file and the path where the file 
should be created ?

Thanks
-- 
Frank Gerrit Zoellner


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jarioksa at cc.oulu.fi  Wed Mar  7 13:05:07 2001
From: jarioksa at cc.oulu.fi (Jari Oksanen)
Date: Wed, 07 Mar 2001 14:05:07 +0200
Subject: [R] R.xpm? 
In-Reply-To: Message from Bill Simpson <wsi@gcal.ac.uk> 
   of "Wed, 07 Mar 2001 08:51:35 GMT." <Pine.LNX.4.10.10103070845220.5347-101000@localhost.localdomain> 
Message-ID: <200103071205.OAA00768@pc112145.oulu.fi>


wsi at gcal.ac.uk said:
> I use AfterStep on Linux. I made an R.xpm file (attached) and put this
> icon in the "wharf". To invoke R I click on the R icon.

> I did not find an offical R.xpm, and so I am submitting this one for
> your collective consideration.... 

R has a fine logo. So why not take that and convert to an xpm bitmap. This 
makes an xpm of the same size as you sent:

[jarioksa at pc112145 jarioksa]$ convert -size 50x50 Rlogo.jpg R2.xpm 

Where convert is program in the ImageMagick package.

This is coloured xpm: I don't know if that works in AfterStep, but it looks 
almost OK in Gnome Desktop -- although it is not transparent (that can be done 
as well, I am sure, but don't have time to find out the way).

Icon as an attachment -- I know I shouldn't post binaries, and I apologize for 
this 8.1k of something which looks like a garbage to many of you.

cheers, jo
-- 
Jari Oksanen -- Dept Biology, Univ Oulu, 90014 Oulu, Finland
Ph. +358 8 5531526 (job), mobile +358 40 5136529
email jari.oksanen at oulu.fi, homepage http://cc.oulu.fi/~jarioksa/
-------------- next part --------------
A non-text attachment was scrubbed...
Name: R2.xpm
Type: image/x-xpixmap
Size: 8321 bytes
Desc: R2.xpm
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010307/63716ce9/R2.xpm

From langevin at valigen.net  Wed Mar  7 13:18:49 2001
From: langevin at valigen.net (Stephanie Langevin)
Date: Wed, 07 Mar 2001 12:18:49 +0000
Subject: [R] Remove
Message-ID: <3AA62729.EBD2DA27@valigen.net>

Hello,

I would like to remove some files which have the extension  .test for
example (data1.test, data2.test ....).
Is there another solution to remove them instead of doing it one by one
?

Thanks for your help,
St?phanie Langevin



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From acosa at ubu.es  Wed Mar  7 13:49:58 2001
From: acosa at ubu.es (Alvaro Colina Santamaria)
Date: Wed, 07 Mar 2001 13:49:58 +0100
Subject: [R] Remove
References: <3AA62729.EBD2DA27@valigen.net>
Message-ID: <3AA62E76.42E83FB3@ubu.es>

Stephanie Langevin wrote:

> Hello,
>
> I would like to remove some files which have the extension  .test for
> example (data1.test, data2.test ....).
> Is there another solution to remove them instead of doing it one by one
> ?
>
> Thanks for your help,
> St?phanie Langevin
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

You can use:

rm(list=objects(pattern=".test"))


--
==============================================================
Alvaro Colina                   |-|o||o||o||o||o||o||o||o||o|-
Area de Quimica Analitica       | Pza. Misael Banuelos s/n
Facultad de Ciencias            | 09001. Burgos. Spain
Universidad de Burgos           | Phone: 34-947-258817
e-mail: acosa at ubu.es            | FAX:   34-947-258831
==============================================================



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tan at uta.fi  Wed Mar  7 14:41:52 2001
From: tan at uta.fi (Tapio Nummi)
Date: Wed, 7 Mar 2001 16:41:52 +0300
Subject: [R] cross-validation
Message-ID: <f0501040db6cbe6d6428c@[153.1.53.97]>


The function crossval (in library bootstrap)
works well for the first degree polynomial model,
but in the case of the second degree model I got
an error message (see below).

I would be very greatfull if somebody could
give some advices for the following:


>  library(bootstrap)
>
>  x<-c(22,23.4,24.9,28.5,29.8,31.6,34.2,36.4,37.7,39)
>  y<-c(96,88,105,111,107,113,132,122,135,131)
>
>  theta.fit<-function(x,y){lsfit(x,y)$coef}
>  theta.predict<-function(fit,x){
+ cbind(1,x) %*% fit}

>  results <- crossval(cbind(x,x^2),y,theta.fit,theta.predict)
Error in cbind(1, x) %*% fit : non-conformable arguments

Tapio Nummi
University of Tampere
Finland
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010307/d825e038/attachment.html

From rijn at swi.psy.uva.nl  Wed Mar  7 14:26:25 2001
From: rijn at swi.psy.uva.nl (rijn@swi.psy.uva.nl)
Date: Wed, 7 Mar 2001 14:26:25 +0100 (CET)
Subject: [R] R.xpm?
In-Reply-To: <Pine.LNX.4.10.10103070845220.5347-101000@localhost.localdomain>
Message-ID: <Pine.LNX.4.21.0103071416430.25972-100000@swipc30.swi.psy.uva.nl>

Hi,

> I did not find an offical R.xpm, and so I am submitting this one
> for your collective consideration....

An updated (transparent and centered) version is to be found at:  

  http://swipc30.swi.psy.uva.nl/~rijn/R 

I've also included a transparent and scaled version of the R-logo as found
on the www.r-project.org pages. Both icons are 50x50, just let me know if
you want a differently scaled version.

Groet,
  Hedderik.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rnassar at duke.edu  Wed Mar  7 14:27:52 2001
From: rnassar at duke.edu (Rashid Nassar)
Date: Wed, 7 Mar 2001 08:27:52 -0500 (EST)
Subject: [R] Remove
In-Reply-To: <3AA62729.EBD2DA27@valigen.net>
Message-ID: <Pine.SOL.3.91.1010307082212.10635B-100000@godzilla1.acpub.duke.edu>

On Wed, 7 Mar 2001, Stephanie Langevin wrote:

> Date: Wed, 07 Mar 2001 12:18:49 +0000
> From: Stephanie Langevin <langevin at valigen.net>
> To: r-help at stat.math.ethz.ch
> Subject: [R] Remove
> 
> Hello,
> 
> I would like to remove some files which have the extension  .test for
> example (data1.test, data2.test ....).
> Is there another solution to remove them instead of doing it one by one
> ?
> 
> Thanks for your help,
> Stéphanie Langevin

I would do:

ls(pat = "[.]test$")     # to first list the objects to be removed to make 
                         # sure they don't include something you don't want
                         # to remove, then

rm(list = ls(pat = "[.]test$"))


Rashid Nassar
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cribari at de.ufpe.br  Wed Mar  7 13:56:17 2001
From: cribari at de.ufpe.br (Francisco Cribari)
Date: Wed, 7 Mar 2001 09:56:17 -0300 (EST)
Subject: [R] [?] update.packages() - Linux
Message-ID: <Pine.GSO.3.96.1010307093210.11763A-100000@bernoulli>

I am running R 1.2.1 under Mandrake Linux 7.2 (installed from RPM)
and I installed a few packages using install.packages() . Now, I 
am trying to upgrade these packages using update.packages() but I 
believe I am running into some kind of error. See below. Any tips
will be greatly welcome. Thanks in advance. Francisco 

PS: update.packages() only tries to update wle from version 0.3 
to 0.4, gives me an error message at the end, and 
installed.packages() continues to list version 0.3 as the installed 
version. I ran install.packages("package-name") as root, and am 
running update.packages() as root. I must be missing something 
simple. 

-----------------------------------------------------------------

[root at edgeworth cribari]# R

R : Copyright 2001, The R Development Core Team
Version 1.2.1  (2001-01-15)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

> installed.packages()
      Package      LibPath              Version  Priority Bundle Depends
 [1,] "base"       "/usr/lib/R/library" "1.2.1"  "base"   "NA"   "NA"   
 [2,] "ctest"      "/usr/lib/R/library" "1.2.1"  "base"   "NA"   ""     
 [3,] "eda"        "/usr/lib/R/library" "1.2.1"  "base"   "NA"   "NA"   
 [4,] "ineq"       "/usr/lib/R/library" "0.1-2"  "NA"     "NA"   "NA"   
 [5,] "KernSmooth" "/usr/lib/R/library" "2.22-4" "NA"     "NA"   "NA"   
 [6,] "lmtest"     "/usr/lib/R/library" "0.1-9"  "NA"     "NA"   ""     
 [7,] "lqs"        "/usr/lib/R/library" "1.2.1"  "base"   "NA"   "NA"   
 [8,] "modreg"     "/usr/lib/R/library" "1.2.1"  "base"   "NA"   "NA"   
 [9,] "mva"        "/usr/lib/R/library" "1.2.1"  "base"   "NA"   "NA"   
[10,] "nls"        "/usr/lib/R/library" "1.2.1"  "base"   "NA"   "NA"   
[11,] "quantreg"   "/usr/lib/R/library" "3.01-1" "NA"     "NA"   "NA"   
[12,] "splines"    "/usr/lib/R/library" "1.2.1"  "base"   "NA"   "NA"   
[13,] "stepfun"    "/usr/lib/R/library" "1.2.1"  "base"   "NA"   "NA"   
[14,] "tcltk"      "/usr/lib/R/library" "1.2.1"  "base"   "NA"   "NA"   
[15,] "ts"         "/usr/lib/R/library" "1.2.1"  "base"   "NA"   "NA"   
[16,] "wle"        "/usr/lib/R/library" "0.3"    "NA"     "NA"   "NA"   
>update.packages()
--10:36:29--  http://cran.r-project.org:80/src/contrib/PACKAGES
           => `/tmp/fileR5148S327b23c6'
Connecting to cran.r-project.org:80... connected!
HTTP request sent, awaiting response... 200 OK
Length: 38,275 [text/plain]

    0K .......... .......... .......... .......              100%   0:00 9.06K

10:36:42 (8.85 KB/s) - `/tmp/fileR5148S327b23c6' saved [38275/38275]

wle :
 Version 0.3 in /usr/lib/R/library 
 Version 0.4 on CRAN
Update (y/N)?  y
--10:37:38--  http://cran.r-project.org:80/src/contrib/wle_0.4.tar.gz
           => `/tmp/RinstdirR5148S643c9869/wle_0.4.tar.gz'
Connecting to cran.r-project.org:80... connected!
HTTP request sent, awaiting response... 200 OK
Length: 131,087 [application/x-tar]

    0K .......... .......... .......... .......... .......... 39%   1:21  978B
   50K .......... .......... .......... .......... .......... 78%   0:18 1.56K
  100K .......... .......... ........                        100%   0:00  869B

10:39:37 (1.08 KB/s) - `/tmp/RinstdirR5148S643c9869/wle_0.4.tar.gz' saved [131087/131087]

WARNING: ignoring environment value of R_HOME
/var/tmp/R-base-root/usr/lib/R/bin/Rcmd: /var/tmp/R-base-root/usr/lib/R/bin/Rcmd: No such file or directory

Delete downloaded files (y/N)? y

Warning message: 
Installation of package wle had non-zero exit status in: install.packages(update[, "Package"], instlib, contriburl = contriburl,  
>installed.packages()
 
      Package      LibPath              Version  Priority Bundle Depends
 [1,] "base"       "/usr/lib/R/library" "1.2.1"  "base"   "NA"   "NA"   
 [2,] "ctest"      "/usr/lib/R/library" "1.2.1"  "base"   "NA"   ""     
 [3,] "eda"        "/usr/lib/R/library" "1.2.1"  "base"   "NA"   "NA"   
 [4,] "ineq"       "/usr/lib/R/library" "0.1-2"  "NA"     "NA"   "NA"   
 [5,] "KernSmooth" "/usr/lib/R/library" "2.22-4" "NA"     "NA"   "NA"   
 [6,] "lmtest"     "/usr/lib/R/library" "0.1-9"  "NA"     "NA"   ""     
 [7,] "lqs"        "/usr/lib/R/library" "1.2.1"  "base"   "NA"   "NA"   
 [8,] "modreg"     "/usr/lib/R/library" "1.2.1"  "base"   "NA"   "NA"   
 [9,] "mva"        "/usr/lib/R/library" "1.2.1"  "base"   "NA"   "NA"   
[10,] "nls"        "/usr/lib/R/library" "1.2.1"  "base"   "NA"   "NA"   
[11,] "quantreg"   "/usr/lib/R/library" "3.01-1" "NA"     "NA"   "NA"   
[12,] "splines"    "/usr/lib/R/library" "1.2.1"  "base"   "NA"   "NA"   
[13,] "stepfun"    "/usr/lib/R/library" "1.2.1"  "base"   "NA"   "NA"   
[14,] "tcltk"      "/usr/lib/R/library" "1.2.1"  "base"   "NA"   "NA"   
[15,] "ts"         "/usr/lib/R/library" "1.2.1"  "base"   "NA"   "NA"   
[16,] "wle"        "/usr/lib/R/library" "0.3"    "NA"     "NA"   "NA"   


-- 
   _                                                         _  
  (o-               Francisco Cribari-Neto                  -o)
  //\  Dept. de Estatistica, Univ. Federal de Pernambuco    /\\  
 .v_/_....................................................._\_v.
/      Phone: (+55-81) 3271-8420  Fax: (+55-81) 3271-8422       \
:      Email: cribari at de.ufpe.br  Web: www.de.ufpe.br/~cribari  :
:                                                               : 
:      Linux: more Unix than Unix.        http://www.linux.org  :
\.............................................................../


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jgoebel at diw.de  Wed Mar  7 15:57:13 2001
From: jgoebel at diw.de (Jan Goebel)
Date: Wed, 7 Mar 2001 15:57:13 +0100
Subject: [R] help with dev.copy2eps
In-Reply-To: <20010307125322.A5046@korngold.TechFak.Uni-Bielefeld.DE>; from fzoellne@TechFak.Uni-Bielefeld.DE on Wed, Mar 07, 2001 at 12:53:22 +0100
References: <20010307125322.A5046@korngold.TechFak.Uni-Bielefeld.DE>
Message-ID: <20010307155713.A8971@diw14093.diw.de>

Hi,

what about

> plot(1:10)
> dev.copy2eps(file="~/tmp/plot.eps")
> dev.off()

:-)

best

jan

On Wed, 07 Mar 2001, Frank Gerrit Zoellner wrote:

> HI!
> 
> I'm using the function dev.copy2eps to store a plot into a file.
> How can I change the default name of the file and the path where the file 
> should be created ?


-- 
+-----------------------------------
 Jan Goebel (mailto:jgoebel at diw.de)

 DIW Berlin 
 Longitudinal Data and Microanalysis
 K?nigin-Luise-Str. 5
 D-14195 Berlin -- Germany --
 phone: 49 30 89789-377
+-----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Wed Mar  7 15:58:42 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Wed, 07 Mar 2001 15:58:42 +0100
Subject: [R] Remove
Message-ID: <3.0.32.20010307155842.008e7640@162.38.183.200>

At 13:49 07/03/01 +0100, Alvaro Colina Santamaria wrote:
>Stephanie Langevin wrote:
>
>> Hello,
>>
>> I would like to remove some files which have the extension  .test for
>> example (data1.test, data2.test ....).
>> Is there another solution to remove them instead of doing it one by one
>> ?
>>
>> Thanks for your help,
>> St?phanie Langevin
>>
>>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
>> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>
>You can use:
>
>rm(list=objects(pattern=".test"))

I understood that St?phanie wanted to remove files on her system, not R
objects from R's workspace. Thus I suggested:

	system("rm *.test")

(assuming a Unix/Linux OS)


Emmanuel Paradis

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Wed Mar  7 16:06:12 2001
From: novo at uiuc.edu (=?iso-8859-1?q?=C1lvaro=20A=2E=20Novo?=)
Date: Wed, 7 Mar 2001 09:06:12 -0600
Subject: [R] lreadline
In-Reply-To: <15013.64888.737267.749031@gargle.gargle.HOWL>
References: <0103062130580H.09445@friedman> <15013.64888.737267.749031@gargle.gargle.HOWL>
Message-ID: <0103070906120Q.09445@friedman>

On Wednesday 07 March 2001 03:20, Martin Maechler wrote:
   > >>>>> "Alvaro" == Alvaro A Novo <novo at uiuc.edu> writes:
   >
   >     Alvaro> I compiled R-1.2.2 on my SuSE 7.1, kernel 2.4.2-2 machine
   > with Alvaro> libreadline.4.1 and although I can use vi commands to
   > scroll on ====
   > The bash can be told to use vi-style commands (instead of default
   > Emacs-style ones),
   > but  AFAIK  R can not (yet; are you willing to provide patches ??)

First, I apologize if my exposition was not clear, because I have been using 
vi-style commands (see below what I mean by vi-style) in R well before 1.0.0.

Second, I have to report that I solved my problem this morning... Here's a 
briefing:

although .bashrc reads
set -o vi
my .inputrc file, reading

anovo at friedman anovo > cat .inputrc 
set editing-mode vi

was missing (I forgot to copy it to my new $HOME).

Once that's in place, in R-1.2.2 (that I compiled), if I press ESC followed 
by:
(i) j, it scrolls down, 
(ii) / and some text it search R history... 
(iii) ...

Thank you for your time,

Alvaro
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar  7 16:10:04 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 7 Mar 2001 15:10:04 +0000 (GMT)
Subject: [R] [?] update.packages() - Linux
Message-ID: <200103071510.PAA10300@toucan.stats.ox.ac.uk>


> Date: Wed, 7 Mar 2001 09:56:17 -0300 (EST)
> From: Francisco Cribari <cribari at de.ufpe.br>
> To: r-help at stat.math.ethz.ch
> Subject: [R] [?] update.packages() - Linux
> 
> I am running R 1.2.1 under Mandrake Linux 7.2 (installed from RPM)
> and I installed a few packages using install.packages() . Now, I 
> am trying to upgrade these packages using update.packages() but I 
> believe I am running into some kind of error. See below. Any tips
> will be greatly welcome. Thanks in advance. Francisco 

Mike Meyer solved this on 24 Jan:

   Date: Wed, 24 Jan 2001 13:48:53 -0800
   From: "Michael M. Meyer" <mikem at salter-point.com>
   
   install.packages want to run
      cmd <- paste(file.path(R.home(), "bin", "R")
   (which on my system is /usr/lib/R/bin/R).
   
   Unfortunately ( and this is R 1.2.1, installed from the rpm on CRAN) 
   that shell script has /var/tmp/R-base-root/usr/lib/R hard coded as the 
   R_Home.
   
   Here is the diff between /usr/bin/R and /usrlib/R/bin/R.
   
   ->meyer<-:/usr/lib/R/bin> diff /usr/lib/R/bin/R /usr/bin/R
   4c4
   < R_HOME_DIR=/var/tmp/R-base-root/usr/lib/R
   ---
   > R_HOME_DIR=/usr/lib/R
   
   A "quick" fix is to cp /usr/bin/R to /usr/lib/R/bin/R


Follow the thread in the R-help archives if you want to know more.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uli at biochem.dshs-koeln.de  Wed Mar  7 17:06:39 2001
From: uli at biochem.dshs-koeln.de (Uli Flenker; Raum 704)
Date: Wed, 7 Mar 2001 17:06:39 +0100 (CET)
Subject: [R] fromulation of random effects (nlme)
Message-ID: <Pine.LNX.3.95.1010307162946.707C-100000@pcinternet.biochem.dshs-koeln.de>

Dear all,

I have a problem formulating random effects when using the nlme package.
?nlme says that the random effects can be a formula or a list of formulae.

But when trying to do so, I run into trouble.
(R-1.2.2, nlme-3.1-10, Linux)

library(nlme)
example(nlme)	# works nice ...
fm1		# the fitted model

### Trying to update with different random effects

fm2<-update(fm1,random=list(Asym~1,R0~1))
# gives a "parse error"

fm2<-update(fm1,random=list(Asym=~1,R0=~1)) 
# nlme says that random effects are no formulae

In this case its possible of course to say "random = Asym + R0 ~1" which 
works (Well, it doesn't converge, but nlme tries to execute the code).
This formulation is  not possible with my own data unfortunately, as the
random effects are (likely to be) different with respect to two factors: I
need to express something like "random=list(b0 = ~1, b1 = ~treatment)".


When leaving away the random effects I get an error message as well, which
is straigthforward from the above, because
	
	nlme<-function(..., random=fixed, ...){lots-of-code}
                            ~~~~~~~~~~~~

and the fixed effects are expressed as (list of) formulae.

I had the same problem with R-1.2.1 and nlme-3.1-9.

Am I missing something? 

Thanks in advance ...

        Uli Flenker
        Institute of Biochemistry
        German Sport University Cologne
        Carl-Diem-Weg 6

        50933 Cologne / Germany

        Phone 0049/0221/4982-493


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From langevin at valigen.net  Wed Mar  7 16:59:43 2001
From: langevin at valigen.net (Stephanie Langevin)
Date: Wed, 07 Mar 2001 15:59:43 +0000
Subject: [R] Remove
References: <3AA62729.EBD2DA27@valigen.net> <3AA62E76.42E83FB3@ubu.es>
Message-ID: <3AA65AEF.1D0118D5@valigen.net>


To my mind, the best solution is this one  (R Lunix):

    rm(list = ls(pat = "[.]test$"))

    rm(list=objects(pattern=".test"))


Thanks

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petzoldt at rcs.urz.tu-dresden.de  Wed Mar  7 17:07:50 2001
From: petzoldt at rcs.urz.tu-dresden.de (Thomas Petzoldt)
Date: Wed, 07 Mar 2001 17:07:50 +0100
Subject: [R] help with dev.copy2eps
References: <20010307125322.A5046@korngold.TechFak.Uni-Bielefeld.DE>
Message-ID: <3AA65CD6.CA639B63@rcs.urz.tu-dresden.de>

Frank Gerrit Zoellner wrote:

> I'm using the function dev.copy2eps to store a plot into a file.
> How can I change the default name of the file and the path where the file
> should be created ?


please see: help(dev.copy2eps)

[...]

Arguments:

  device: A device function (e.g., `x11', `postscript', ...)

     ...: Arguments to the `device' function above. For `dev.print',
          this includes `which' and by default any `postscript'
          arguments.

[...]

which means, you can simply write :

dev.copy2eps(file="anotherfile.eps")


Hope it helps!

Thomas Petzoldt
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etptupaf at bs.ehu.es  Wed Mar  7 18:49:51 2001
From: etptupaf at bs.ehu.es (F. Tusell)
Date: Wed, 7 Mar 2001 18:49:51 +0100
Subject: [R] kernel in library ts
Message-ID: <200103071749.SAA00833@agesi.bs.ehu.es>

> library(ts)
#
#  The following works as I expected,
#
> kernel("daniell",m=5)
Daniell(5) 
coef[-5] = 0.09091
coef[-4] = 0.09091
coef[-3] = 0.09091
coef[-2] = 0.09091
coef[-1] = 0.09091
coef[ 0] = 0.09091
coef[ 1] = 0.09091
coef[ 2] = 0.09091
coef[ 3] = 0.09091
coef[ 4] = 0.09091
coef[ 5] = 0.09091
#
#  but the following does not. The doc says end points have 
#  weights halved.
#
> kernel("modified.daniell",m=5)
mDaniell(5) 
coef[-5] = 0.10
coef[-4] = 0.10
coef[-3] = 0.10
coef[-2] = 0.10
coef[-1] = 0.10
coef[ 0] = 0.05
coef[ 1] = 0.10
coef[ 2] = 0.10
coef[ 3] = 0.10
coef[ 4] = 0.10
coef[ 5] = 0.10
#
#  I do not know whether this is legal. Looking at the source I
#  got the impression m can be a vector, and the Daniell kernel is
#  applied in cascade. The resulting kernel seems to confirm this 
#  (because of its length) but the weights do not seem right. They
#  are not even symmetrical;
#
> kernel("daniell",m=c(3,5,7))
unknown 
coef[-15] = 0.0649351
coef[-14] = 0.0640693
coef[-13] = 0.0614719
coef[-12] = 0.0580087
coef[-11] = 0.0536797
coef[-10] = 0.0484848
coef[ -9] = 0.0424242
coef[ -8] = 0.0363636
coef[ -7] = 0.0303030
coef[ -6] = 0.0242424
coef[ -5] = 0.0181818
coef[ -4] = 0.0129870
coef[ -3] = 0.0086580
coef[ -2] = 0.0051948
coef[ -1] = 0.0025974
coef[  0] = 0.0008658
coef[  1] = 0.0649351
coef[  2] = 0.0640693
coef[  3] = 0.0614719
coef[  4] = 0.0580087
coef[  5] = 0.0536797
coef[  6] = 0.0484848
coef[  7] = 0.0424242
coef[  8] = 0.0363636
coef[  9] = 0.0303030
coef[ 10] = 0.0242424
coef[ 11] = 0.0181818
coef[ 12] = 0.0129870
coef[ 13] = 0.0086580
coef[ 14] = 0.0051948
coef[ 15] = 0.0025974
#
#   Can someone clarify me on this?
#
> R.Version()
$platform
[1] "i686-pc-linux-gnu"

$arch
[1] "i686"

$os
[1] "linux-gnu"

$system
[1] "i686, linux-gnu"

$status
[1] ""

$major
[1] "1"

$minor
[1] "2.2"

$year
[1] "2001"

$month
[1] "02"

$day
[1] "26"

$language
[1] "R"

> proc.time()
[1] 0.62 0.17 0.78 0.00 0.00
> 


-- 
Fernando TUSELL                                e-mail:
Departamento de Econometr?a y Estad?stica           etptupaf at bs.ehu.es 
Facultad de CC.EE. y Empresariales             Tel:   (+34)94.601.3733
Avenida Lendakari Aguirre, 83                  Fax:   (+34)94.601.3754
E-48015 BILBAO  (Spain)                        Secr:  (+34)94.601.3740
PGP: finger etptupaf at bsdx01.bs.ehu.es          http://etdx01.bs.ehu.es
----------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Mar  7 18:03:19 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 7 Mar 2001 09:03:19 -0800 (PST)
Subject: [R] Remove
In-Reply-To: <3.0.32.20010307155842.008e7640@162.38.183.200>
Message-ID: <Pine.A41.4.33.0103070900090.93332-100000@homer29.u.washington.edu>

On Wed, 7 Mar 2001, Emmanuel Paradis wrote:

> At 13:49 07/03/01 +0100, Alvaro Colina Santamaria wrote:
> >Stephanie Langevin wrote:
> >
> >> Hello,
> >>
> >> I would like to remove some files which have the extension  .test for
> >> example (data1.test, data2.test ....).
> >> Is there another solution to remove them instead of doing it one by one
> >> ?
> >>
> >> Thanks for your help,
> >> Stéphanie Langevin
> >>
> >>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-
> >> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >> Send "info", "help", or "[un]subscribe"
> >> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >>
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> >
> >You can use:
> >
> >rm(list=objects(pattern=".test"))
>
> I understood that Stéphanie wanted to remove files on her system, not R
> objects from R's workspace. Thus I suggested:
>
> 	system("rm *.test")
>
> (assuming a Unix/Linux OS)

There's no need to make OS assumptions

unlink(list.files(pattern="\\.test"))

will delete files whose names contain .test (the pattern is a regular
expression  -- I can't remember offhand how to specify that it ends in
.test)

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Wed Mar  7 18:08:54 2001
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 07 Mar 2001 12:08:54 -0500
Subject: [R] Remove
References: <3.0.32.20010307155842.008e7640@162.38.183.200>
Message-ID: <3AA66B26.5A372C24@bank-banque-canada.ca>

>> I would like to remove some files which have the extension  .test for

>> example (data1.test, data2.test ....).
>> Is there another solution to remove them instead of doing it one by
one

>        system("rm *.test")
>(assuming a Unix/Linux OS)

You might try

     unlink("*.test")

which is not system dependent.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Wed Mar  7 18:39:33 2001
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Wed, 07 Mar 2001 12:39:33 -0500
Subject: [R] R on XEmacs or emacs?
Message-ID: <3AA67255.96361036@perseus.unalmed.edu.co>

In want to know if any body had used ESS with R in XEmacs instead of
Emacs?
What is the difference?
How can I configure ESS to work on XEmacs with R?

Thank you very much for your help

Kenneth Cabrera
Universidad Nacional de Colombia
Facultad de Ciencias
ICNE (Insituto de Ciencias Naturales y Ecolog?a)
Medell?n, Antioquia
Colombia, S.A.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Wed Mar  7 18:48:00 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 07 Mar 2001 09:48:00 -0800
Subject: [R] R on XEmacs or emacs?
In-Reply-To: <3AA67255.96361036@perseus.unalmed.edu.co>
References: <3AA67255.96361036@perseus.unalmed.edu.co>
Message-ID: <87elw9ii7j.fsf@jeeves.blindglobe.net>

>>>>> "KC" == Kenneth Cabrera <krcabrer at perseus.unalmed.edu.co> writes:

    KC> In want to know if any body had used ESS with R in XEmacs
    KC> instead of Emacs?  What is the difference?  How can I
    KC> configure ESS to work on XEmacs with R?

It works great on Unix (including Linux).

It barfs royally, for process interaction, on Windows.

The latter should be fixed sometime in April, I hope.

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (friday is unknown) --------
FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Wed Mar  7 19:16:48 2001
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Wed, 07 Mar 2001 13:16:48 -0500
Subject: [R] XEmacs on Windows
References: <Pine.GSO.4.21.0103071746380.26209-100000@unixc.lancs.ac.uk>
Message-ID: <3AA67B0F.88C713A8@perseus.unalmed.edu.co>



> Linux (?) Windows(?)

I mean in the Windows environment.

> I'm using under linux and the same installation worked for both, emacs and
> xemacs.
> P.J.

I am trying to use on ESS win XEmacs on Windows, but I don't know how to
tell XEmacs that use the ESS, I don't found the .emacs file and the system
don't let me create such a file.
Thank you for your help.
Kenneth

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Wed Mar  7 19:37:50 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 07 Mar 2001 10:37:50 -0800
Subject: [R] XEmacs on Windows
In-Reply-To: <3AA67B0F.88C713A8@perseus.unalmed.edu.co>
References: <Pine.GSO.4.21.0103071746380.26209-100000@unixc.lancs.ac.uk>
	<3AA67B0F.88C713A8@perseus.unalmed.edu.co>
Message-ID: <877l21h1c1.fsf@jeeves.blindglobe.net>

>>>>> "KC" == Kenneth Cabrera <krcabrer at perseus.unalmed.edu.co> writes:


    >> Linux (?) Windows(?)

    KC> I mean in the Windows environment.

Give it up until April, unless you feel like hacking elisp and
understanding process communication for XEmacs under windows.

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (friday is unknown) --------
FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Thu Mar  8 08:04:49 2001
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Thu, 08 Mar 2001 08:04:49 +0100
Subject: [R] C locale ?? Using csh??
Message-ID: <3.0.6.32.20010308080449.00954460@mail.wsl.ch>

Hi all,

Help! My help system is not functioning:

>help.start()
Making links in ~/.R ...
If netscape  is already running,	it is *not* restarted,
 and you must switch to its window.
Otherwise, be patient..
> C locale package not found. Using C locale by default.

The netscape never comes up ..

What could be wrong here?

I have been experimenting with getting Rggobi running which may have
interfered with something?

Can I correct this behaviour in a straight forward way?


PS: I asked sometime ago:

I am fancying the idea of using my preferred shell (t)csh when invoking
system(). How can I do that? (I didn't find anything about that in the FAQ).

Does anybody have an answer?


Thanks for help,

-christian
Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: Hoffmann at WSL.CH
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Thu Mar  8 08:19:22 2001
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Thu, 08 Mar 2001 08:19:22 +0100
Subject: [R] 2:  C locale ?? Using csh??
Message-ID: <3.0.6.32.20010308081922.00954450@mail.wsl.ch>

Hi all,

This seems to be a temporary problem of our local Solaris machine.
Sorry for bugging you.
--christian


>Help! My help system is not functioning:

>>help.start()
>Making links in ~/.R ...
>If netscape  is already running,	it is *not* restarted,
 >and you must switch to its window.
>Otherwise, be patient..
>> C locale package not found. Using C locale by default.

>The netscape never comes up ..

Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: Hoffmann at WSL.CH
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Thu Mar  8 11:44:01 2001
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Thu, 08 Mar 2001 11:44:01 +0100
Subject: [R] saved workspace restored
Message-ID: <3AA76271.6752D6DE@inrialpes.fr>

Dear r-users,

Sometimes R don't repond to any command, and so i have to kill
the R process. But, in this case, when i restart R there isn't any data
or function
(ls() return character(0)).
Is there a way to restore my previous saved workspace ?
Many thanks...

--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN               phone: (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42
INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                  e-mail:olivier.martin at inrialpes.fr
38334 Saint Ismier cedex
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010308/0203eb9a/attachment.html

From kroisand at itwm.fhg.de  Thu Mar  8 10:45:35 2001
From: kroisand at itwm.fhg.de (G. Kroisandt)
Date: Thu, 8 Mar 2001 10:45:35 +0100 (CET)
Subject: [R] missing arima.sim
Message-ID: <Pine.LNX.3.96.1010308104158.27134F-100000@c1.itwm.uni-kl.de>

Hello,

I have been using S-Plus on the PCs in the math department.
Now I am working with R and I observed that the routine arima.sim is
not available in the base and the ts package.

Is there another routine to simulate an ARIMA-model?

Thanks,
Gerald Kroisandt



==============================================
|  Dr. Gerald Kroisandt                      |
|  Institut fuer Techno- und                 |
|   Wirtschaftsmathematik e.V. (ITWM)        |
|  Erwin-Schroedinger-Strasse, Geb. 49/311   |
|                                            |
|  67663 Kaiserslautern                      |
|  Germany                                   |
==============================================
|  Phone:     +49-(0)631-205-4189            |
|  Fax:       +49-(0)631-205-4139            |
|  E-Mail:    kroisandt at itwm.uni-kl.de       |
|  Internet:  http://www.itwm.uni-kl.de      |
==============================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  8 11:00:12 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 8 Mar 2001 10:00:12 +0000 (GMT)
Subject: [R] missing arima.sim
In-Reply-To: <Pine.LNX.3.96.1010308104158.27134F-100000@c1.itwm.uni-kl.de>
Message-ID: <Pine.GSO.4.31.0103080959440.11832-100000@toucan.stats>

On Thu, 8 Mar 2001, G. Kroisandt wrote:

> Hello,
>
> I have been using S-Plus on the PCs in the math department.
> Now I am working with R and I observed that the routine arima.sim is
> not available in the base and the ts package.
>
> Is there another routine to simulate an ARIMA-model?

See ?filter ... or package boot.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adrian at olsen.ch  Thu Mar  8 11:37:17 2001
From: adrian at olsen.ch (Adrian Trapletti)
Date: Thu, 08 Mar 2001 11:37:17 +0100
Subject: [R] kernel in library ts
Message-ID: <3AA760DC.F0EA6DC5@olsen.ch>

> library(ts)
#
#  The following works as I expected,
#
> kernel("daniell",m=5)
Daniell(5)
coef[-5] = 0.09091
coef[-4] = 0.09091
coef[-3] = 0.09091
coef[-2] = 0.09091
coef[-1] = 0.09091
coef[ 0] = 0.09091
coef[ 1] = 0.09091
coef[ 2] = 0.09091
coef[ 3] = 0.09091
coef[ 4] = 0.09091
coef[ 5] = 0.09091
#
#  but the following does not. The doc says end points have
#  weights halved.
#
> kernel("modified.daniell",m=5)
mDaniell(5)
coef[-5] = 0.10
coef[-4] = 0.10
coef[-3] = 0.10
coef[-2] = 0.10
coef[-1] = 0.10
coef[ 0] = 0.05
coef[ 1] = 0.10
coef[ 2] = 0.10
coef[ 3] = 0.10
coef[ 4] = 0.10
coef[ 5] = 0.10
#
#  I do not know whether this is legal. Looking at the source I
#  got the impression m can be a vector, and the Daniell kernel is
#  applied in cascade. The resulting kernel seems to confirm this
#  (because of its length) but the weights do not seem right. They
#  are not even symmetrical;
#
> kernel("daniell",m=c(3,5,7))
unknown
coef[-15] = 0.0649351
coef[-14] = 0.0640693
coef[-13] = 0.0614719
coef[-12] = 0.0580087
coef[-11] = 0.0536797
coef[-10] = 0.0484848
coef[ -9] = 0.0424242
coef[ -8] = 0.0363636
coef[ -7] = 0.0303030
coef[ -6] = 0.0242424
coef[ -5] = 0.0181818
coef[ -4] = 0.0129870
coef[ -3] = 0.0086580
coef[ -2] = 0.0051948
coef[ -1] = 0.0025974
coef[  0] = 0.0008658
coef[  1] = 0.0649351
coef[  2] = 0.0640693
coef[  3] = 0.0614719
coef[  4] = 0.0580087
coef[  5] = 0.0536797
coef[  6] = 0.0484848
coef[  7] = 0.0424242
coef[  8] = 0.0363636
coef[  9] = 0.0303030
coef[ 10] = 0.0242424
coef[ 11] = 0.0181818
coef[ 12] = 0.0129870
coef[ 13] = 0.0086580
coef[ 14] = 0.0051948
coef[ 15] = 0.0025974
#
#   Can someone clarify me on this?
#

This is an error in print.tskernel. The internal representation of the
kernel seems to be ok. The following print.tskernel does the right job:

print.tskernel<-function(k, digits = max(3, getOption("digits") - 3))
{
y <- c(rev(k$coef[2:(k$m + 1)]), k$coef)
i <- -k$m:k$m
cat(attr(k, "name"), "\n")
cat(paste("coef[", format(i), "] = ", format(y, digits = digits), sep =
""), sep = "\n")
}

You could use this print function until the bug is corrected in the R
source.

Adrian

PS: Brian: I did not fill out a bug report.

--
Dr.  Adrian Trapletti,  Olsen  &  Associates Ltd.
Seefeldstrasse 233, CH-8008  Z?rich,  Switzerland
Phone: +41 (1) 386 48 47   Fax: +41 (1) 422 22 82
E-mail: adrian at olsen.ch  WWW: http://www.olsen.ch





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fm3a004 at math.uni-hamburg.de  Thu Mar  8 12:28:45 2001
From: fm3a004 at math.uni-hamburg.de (Christian Hennig)
Date: Thu, 8 Mar 2001 12:28:45 +0100 (MET)
Subject: [R] XGobi
Message-ID: <Pine.GSO.3.95q.1010308122429.25275R-100000@sun21.math.uni-hamburg.de>

Dear list,

I do not understand how to get group variables from XGobi into R.
For example, I start with
data(laser)
xgobi(laser)
and in xgobi I brush some points red. Now xgobi creates a group
variable (I did not understand *when* this group variable is created
and how I get it even in xgobi, but, however, suddenly it was
there...). What must I do if I want this group variable as a variable of
R?

Thanx,
Christian

***********************************************************************
Christian Hennig
University of Hamburg, Fachbereich Mathematik - SPST
 (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
 Zentrum fuer Modellierung und Simulation)
Bundesstrasse 55, D-20146 Hamburg, Germany
Tel: x40/42838 4907, privat x40/631 62 79
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
Meine Lieblings-Website:
www.boag.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Thu Mar  8 13:16:20 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Thu, 8 Mar 2001 12:16:20 +0000 (GMT)
Subject: [R] R.xpm?
In-Reply-To: <Pine.LNX.4.21.0103071416430.25972-100000@swipc30.swi.psy.uva.nl>
Message-ID: <Pine.LNX.4.10.10103081211220.6503-100000@localhost.localdomain>

Thanks Hedderik for fixing up my logo and for putting several up to
easily grab!

I thought the other logo people are telling me about was the *CRAN* logo
rather than the R logo, because it consists of a stylized C (ellipse
fading out on the right) with superimposed R.

BTW I like mine better because the scatterplot conveys "stats" visually,
and the CRAN logo doesn't visually convey what the corresponding program
does.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  8 14:09:09 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 8 Mar 2001 13:09:09 +0000 (GMT)
Subject: [R] R.xpm?
Message-ID: <200103081309.NAA12226@toucan.stats.ox.ac.uk>


> X-Authentication-Warning: localhost.localdomain: wsimpson owned process doing 
-bs
> Date: Thu, 8 Mar 2001 12:16:20 +0000 (GMT)
> From: Bill Simpson <wsi at gcal.ac.uk>
> To: rijn at swi.psy.uva.nl
> cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] R.xpm?
> 
> Thanks Hedderik for fixing up my logo and for putting several up to
> easily grab!
> 
> I thought the other logo people are telling me about was the *CRAN* logo
> rather than the R logo, because it consists of a stylized C (ellipse
> fading out on the right) with superimposed R.

It is used on the R HTML help pages, for example.

A pure `R' version is in the R sources as a Windows icon.

> BTW I like mine better because the scatterplot conveys "stats" visually,
> and the CRAN logo doesn't visually convey what the corresponding program
> does.

One issue is size: 50 x 50 icons can convey more information than 16x16
ones, but one can have fewer such icons.  If I want icons at all, I want lots
of small ones.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From keith.briggs at bt.com  Thu Mar  8 15:43:32 2001
From: keith.briggs at bt.com (keith.briggs@bt.com)
Date: Thu, 8 Mar 2001 14:43:32 -0000 
Subject: [R] image legend
Message-ID: <F66469FCE9C5D311B8FF0000F8FE9E07095EC991@mbtlipnt03.btlabs.bt.co.uk>

I would like to add a legend to plots that I make with the image()
function in the form of a strip of colours to the right of the plot
annotated with their corresponding numerical values.
Is this possible?
Thank you,
Keith

Dr. Keith M. Briggs, Complexity Research Group, BTexaCT.
Adastral Park admin2 pp5, Martlesham Heath, IP5 3RE, Suffolk,  UK
Tel: 01473 641 911  Fax: 01473 647 410.  Home tel:  01473 625 972
Personal homepage http://www.btexact.com/people/briggsk2/ 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rijn at swi.psy.uva.nl  Thu Mar  8 16:35:42 2001
From: rijn at swi.psy.uva.nl (rijn@swi.psy.uva.nl)
Date: Thu, 8 Mar 2001 16:35:42 +0100 (CET)
Subject: [R] R.xpm?
In-Reply-To: <200103081309.NAA12226@toucan.stats.ox.ac.uk>
Message-ID: <Pine.LNX.4.21.0103081603110.25972-100000@swipc30.swi.psy.uva.nl>


I updated the icon list, added the:

> A pure `R' version is in the R sources as a Windows icon.

windows icon and

> ones, but one can have fewer such icons.  If I want icons at all, I want lots
> of small ones.

some smaller icons (Bill, your icon didn't scale too well, that's why
it's not online).

See http://swipc30.swi.psy.uva.nl/~rijn/R

Groet,
  Hedderik.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Mar  8 16:54:05 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 8 Mar 2001 16:54:05 +0100
Subject: "Concours R icon" {was Re: [R] R.xpm?}
In-Reply-To: <Pine.LNX.4.21.0103081603110.25972-100000@swipc30.swi.psy.uva.nl>
References: <200103081309.NAA12226@toucan.stats.ox.ac.uk>
	<Pine.LNX.4.21.0103081603110.25972-100000@swipc30.swi.psy.uva.nl>
Message-ID: <15015.43805.426117.198281@gargle.gargle.HOWL>

>>>>> "Hedderik" == Hedderik van Rijn <rijn at swi.psy.uva.nl> writes:

    Hedderik> I updated the icon list, added the:

    >> A pure `R' version is in the R sources as a Windows icon.

    Hedderik> windows icon and

    >> ones, but one can have fewer such icons.  If I want icons at all, I want lots
    >> of small ones.

    Hedderik> some smaller icons (Bill, your icon didn't scale too well,
    Hedderik> that's why it's not online).

    Hedderik> See http://swipc30.swi.psy.uva.nl/~rijn/R

Thank you, Hedderik, this is nice.

The real challenge to all of you:

  Write an R function 
	i.  as short and beautiful as possible (short, but not obfuscated)
	ii. not using external data
  which draws a plot [I imagine  image(), but you are free]
  whose EPS or PDF file can be converted (e.g. by ImageMagick's "convert")
  to such icons.

The price for the winners could be an article in "R news",
or something even better. 
It would be fun for a jury at DSC 2001 in Vienna
to vote for the winner (and 2nd and 3rd)...


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Thu Mar  8 17:23:40 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 8 Mar 2001 17:23:40 +0100
Subject: "Concours R icon" {was Re: [R] R.xpm?}
In-Reply-To: <15015.43805.426117.198281@gargle.gargle.HOWL>
References: <200103081309.NAA12226@toucan.stats.ox.ac.uk>
	<Pine.LNX.4.21.0103081603110.25972-100000@swipc30.swi.psy.uva.nl>
	<15015.43805.426117.198281@gargle.gargle.HOWL>
Message-ID: <15015.45580.598344.857087@galadriel.ci.tuwien.ac.at>

>>>>> On Thu, 8 Mar 2001 16:54:05 +0100,
>>>>> Martin Maechler (MM) wrote:


  Hedderik> See http://swipc30.swi.psy.uva.nl/~rijn/R

  > Thank you, Hedderik, this is nice.

Yes!

  > The real challenge to all of you:

  >   Write an R function 
  > 	i.  as short and beautiful as possible (short, but not obfuscated)
  > 	ii. not using external data
  >   which draws a plot [I imagine  image(), but you are free]
  >   whose EPS or PDF file can be converted (e.g. by ImageMagick's "convert")
  >   to such icons.

  > The price for the winners could be an article in "R news",
  > or something even better. 
  > It would be fun for a jury at DSC 2001 in Vienna
  > to vote for the winner (and 2nd and 3rd)...


Yep, would be nice! To make it more challenging: I'd also like to have
a seperate CRAN logo for some time now, such that it is easier to see
on what pages you are on. Of course it should be related to the R logo
such that one knows it is for the same thing.  We thought about adding
some cranberries to the R logo (and maybe call CRAN goodies
cranberries like Java has it's beans), but of course we're open for
all good suggestions.

Best,
Fritz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jbowers at csm.berkeley.edu  Thu Mar  8 19:24:38 2001
From: jbowers at csm.berkeley.edu (Jacob W. Bowers)
Date: Thu, 8 Mar 2001 10:24:38 -0800 (PST)
Subject: [R] image legend
In-Reply-To: <F66469FCE9C5D311B8FF0000F8FE9E07095EC991@mbtlipnt03.btlabs.bt.co.uk>
Message-ID: <Pine.SV4.3.96.1010308101937.2202B-100000@csm.Berkeley.EDU>

A while back Jonathan Rougier posted a function called image.scale(),
which has worked nicely for me. Check it out here:
http://www.ens.gu.edu.au/robertk/R/help/99b/0483.html

I found it worked best floating in its own plot window (using layout() to
allocate most of the plotting area to the data plots and a tiny, thin,
section to an empty plot, which then contained the image.scale() legend).

Best,
Jake
---
Jake Bowers
Dept of Political Science
UC-Berkeley

On Thu, 8 Mar 2001 keith.briggs at bt.com wrote:

> I would like to add a legend to plots that I make with the image()
> function in the form of a strip of colours to the right of the plot
> annotated with their corresponding numerical values.
> Is this possible?
> Thank you,
> Keith
> 
> Dr. Keith M. Briggs, Complexity Research Group, BTexaCT.
> Adastral Park admin2 pp5, Martlesham Heath, IP5 3RE, Suffolk,  UK
> Tel: 01473 641 911  Fax: 01473 647 410.  Home tel:  01473 625 972
> Personal homepage http://www.btexact.com/people/briggsk2/ 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Thu Mar  8 22:18:06 2001
From: chong at stat.purdue.edu (Chong Gu)
Date: Thu, 8 Mar 2001 16:18:06 -0500
Subject: [R] deviance in glm
Message-ID: <200103082118.QAA06490@odds.stat.purdue.edu>


Folks,

I am not sure if it's a feature or a "bug".  The same is observed in
Splus.

Suppose I have Poisson counts, and I would like to estimate the
parameter using glm.  I would assume I can feed it the individual
counts, or I can feed it the distinctive counts with the frequency as
the weights, and I would get the same results.  I do, but the deviance
df are returned differently.  Here is a short session.

y<-rpois(1000,5)
fr<-as.vector(table(y))
yy<-0:(length(fr)-1)
glm(y~1,poisson)
glm(yy~1,poisson,weight=fr)

I believe the first call to glm gives the correct df, but with real
data, do I have to break up the tabulated data to get it right from R
(or Splus), or I just have to manually calculate the df?  Can this be
potentially misleading to practitioners?

Or maybe my thinking was off?

I tried similar things with Bernoulli data and got similar results.

Chong Gu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Fri Mar  9 01:01:53 2001
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Thu, 08 Mar 2001 16:01:53 -0800
Subject: [R] Pager size in 1.2.2 Windows
Message-ID: <5.1.0.10.2.20010308160144.00ae2a90@127.0.0.1>

The following sequence of commands (for example):

 >my.data<-rnorm(10000, 5, 1)
 >my.data

fills my pager buffer beyond its capacity.  When I type "my.data", the 
pager displays approximately the bottom 7000 cells of the file, but "loses" 
the first 3000.  Is there a some setting that increases the size of the 
pager buffer, or is this a limit in the Windows version?

I'm running Windows NT with 512MB RAM. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Fri Mar  9 03:00:14 2001
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Fri, 9 Mar 2001 15:00:14 +1300
Subject: [R] Pager size in 1.2.2 Windows
Message-ID: <200103090201.f2921WL83211@storm.niwa.cri.nz>

Colleagues

On 8 Mar 01,, Marc R. Feldesman wrote (re: [R] Pager size in 1.2.2 
Windows): 

> The following sequence of commands (for example):
> 
>  >my.data<-rnorm(10000, 5, 1)
>  >my.data
> 
> fills my pager buffer beyond its capacity.  When I type "my.data", the
> pager displays approximately the bottom 7000 cells of the file, but
> "loses" the first 3000.  Is there a some setting that increases the size
> of the pager buffer, or is this a limit in the Windows version?
> 
> I'm running Windows NT with 512MB RAM. 

------------------------------------------------
Hello Marc,

I'm on running R on NT  and I was able to page all 10K rows. Perhaps it 
is the version of R you have?

---------------------------------
System info:
R version rw1022 on NT
ESS v. 5.1.18 using emacs ver. 20.4

----------------------------------
> my.data<-rnorm(10000, 5, 1);my.data
    [1] 6.797534 4.377327 6.725693 4.955532 4.292210 4.668478 
4.316959 5.291553
...........
[9993] 4.682580 2.748741 2.313259 4.924043 4.210545 3.958255 
4.119451 5.728735

Sam

Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz 

                    /\
...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aperrin at socrates.berkeley.edu  Fri Mar  9 04:07:10 2001
From: aperrin at socrates.berkeley.edu (Andrew Perrin)
Date: Thu, 8 Mar 2001 22:07:10 -0500 (EST)
Subject: [R] rotated and/or greek mtext in pictex()?
Message-ID: <Pine.LNX.4.21.0103082204270.3469-100000@nujoma.perrins>

Greetings-

I'm aware that there's no documentation for pictex available easily (that
is, without purchasing it).  I'm wondering if someone can help me with a
simple task. When generating a plot using pictex() from R, one of the
commands I use is

mtext("Dimension 2: L=xxxx", side=2, line=3)

when using X11(), this appears vertically along the Y axis; when using
pictex(), it shows up horizontally. So, question 1:
- Is there any way to rotate text in PicTeX?

Also: I'd like L to be $\lambda$ in the above example. Right now I'm
editing the pictex file by hand - is there a more elegant way to handle
it?

Thanks.

 
----------------------------------------------------------------------
Andrew J Perrin - Ph.D. Candidate, UC Berkeley, Dept. of Sociology  
Chapel Hill, North Carolina, USA - http://demog.berkeley.edu/~aperrin
        aperrin at socrates.berkeley.edu - aperrin at igc.apc.org

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Fri Mar  9 04:55:38 2001
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Fri, 9 Mar 2001 16:55:38 +1300
Subject: [R] bringing up R documentation for my functions
Message-ID: <200103090356.f293uuL93462@storm.niwa.cri.nz>

Colleagues

----------------------------------
System info:
R version rw1022 on NT
ESS v. 5.1.18 using emacs ver. 20.4

----------------------------------
I want to documnet a function I've written. I used 
prompt(function.name)
to create an ascii R documentation file. I moved the .Rd file into a 
subdirectory called 
rw1022/library/my.functions/man

Now I want to load the help using 
?function.name
but I know there's a step necessary to go from the ascii file to the proper 
format.

I see from the R-exts.pdf that "R objects are documented in files written in 
?R documentation? (Rd) format, a simple markup language closely 
resembling (La)T E X, which can be processed into a variety of formats, 
including LaT E X, html and plain text. The translation is carried out by 
the Perl script Rdconv in ?$R_HOME/bin? and by the installation scripts 
for packages."

I don't have Rdconv in the /rw1022/bin. Can you give me some advice on 
where to go from here?

Thanks, your help will be appreciated.

Sam

Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz 

                    /\
...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar  9 08:03:41 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 9 Mar 2001 07:03:41 +0000 (GMT)
Subject: [R] deviance in glm
In-Reply-To: <200103082118.QAA06490@odds.stat.purdue.edu>
Message-ID: <Pine.GSO.4.31.0103090645510.8948-100000@auk.stats>

On Thu, 8 Mar 2001, Chong Gu wrote:

>
> Folks,
>
> I am not sure if it's a feature or a "bug".  The same is observed in
> Splus.
>
> Suppose I have Poisson counts, and I would like to estimate the
> parameter using glm.  I would assume I can feed it the individual
> counts, or I can feed it the distinctive counts with the frequency as
> the weights, and I would get the same results.  I do, but the deviance
> df are returned differently.  Here is a short session.
>
> y<-rpois(1000,5)
> fr<-as.vector(table(y))
> yy<-0:(length(fr)-1)
> glm(y~1,poisson)
> glm(yy~1,poisson,weight=fr)
>
> I believe the first call to glm gives the correct df, but with real
> data, do I have to break up the tabulated data to get it right from R
> (or Splus), or I just have to manually calculate the df?  Can this be
> potentially misleading to practitioners?
>
> Or maybe my thinking was off?

The deviance is by comparison with a saturated model, and because the data
are different, so is the saturated model.  For this problem, the saturated
model has one parameter per x observation, not one per y observation.  So
in the second case you are specifying that there are 14 (in my run) (x,y)
pairs that occurred a number of times *and* this would always have
occurred.   Given that you grouped on y, that seems invalid except as a
computational device.

> I tried similar things with Bernoulli data and got similar results.

Grouping data can also affect the likelihood and the MLE in other problems.
It's neither a feature nor a bug, but part of the definitions.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar  9 08:24:36 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 9 Mar 2001 07:24:36 +0000 (GMT)
Subject: [R] Pager size in 1.2.2 Windows
In-Reply-To: <5.1.0.10.2.20010308160144.00ae2a90@127.0.0.1>
Message-ID: <Pine.GSO.4.31.0103090718570.8948-100000@auk.stats>

On Thu, 8 Mar 2001, Marc R. Feldesman wrote:

> The following sequence of commands (for example):
>
>  >my.data<-rnorm(10000, 5, 1)
>  >my.data
>
> fills my pager buffer beyond its capacity.  When I type "my.data", the
> pager displays approximately the bottom 7000 cells of the file, but "loses"
> the first 3000.  Is there a some setting that increases the size of the
> pager buffer, or is this a limit in the Windows version?

First, I assume this is the console and not a pager, and you are displaying
an object and not a file?

The console scrollback size can be set in the file Rconsole, at the lines

# memory limits for the console scrolling buffer, in bytes and lines
bufbytes = 65000
buflines = 8000

You've hit the first one: you need about 10 bytes per item.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar  9 08:29:17 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 9 Mar 2001 07:29:17 +0000 (GMT)
Subject: [R] bringing up R documentation for my functions
In-Reply-To: <200103090356.f293uuL93462@storm.niwa.cri.nz>
Message-ID: <Pine.GSO.4.31.0103090725350.8948-100000@auk.stats>

On Fri, 9 Mar 2001, S.McClatchie wrote:

> Colleagues
>
> ----------------------------------
> System info:
> R version rw1022 on NT
> ESS v. 5.1.18 using emacs ver. 20.4
>
> ----------------------------------
> I want to documnet a function I've written. I used
> prompt(function.name)
> to create an ascii R documentation file. I moved the .Rd file into a
> subdirectory called
> rw1022/library/my.functions/man
>
> Now I want to load the help using
> ?function.name
> but I know there's a step necessary to go from the ascii file to the proper
> format.
>
> I see from the R-exts.pdf that "R objects are documented in files written in
> R documentation (Rd) format, a simple markup language closely
> resembling (La)T E X, which can be processed into a variety of formats,
> including LaT E X, html and plain text. The translation is carried out by
> the Perl script Rdconv in $R_HOME/bin and by the installation scripts
> for packages."
>
> I don't have Rdconv in the /rw1022/bin. Can you give me some advice on
> where to go from here?

Install rw1022sp.zip and Perl (if you don't have that already).

You can't just run Rdconv (even on Unix): you need Rcmd Rdconv --help on
Windows, but read on ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar  9 08:55:41 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 9 Mar 2001 07:55:41 +0000 (GMT)
Subject: [R] rotated and/or greek mtext in pictex()?
In-Reply-To: <Pine.LNX.4.21.0103082204270.3469-100000@nujoma.perrins>
Message-ID: <Pine.GSO.4.31.0103090742540.8948-100000@auk.stats>

On Thu, 8 Mar 2001, Andrew Perrin wrote:

> Greetings-
>
> I'm aware that there's no documentation for pictex available easily (that
> is, without purchasing it).  I'm wondering if someone can help me with a
> simple task. When generating a plot using pictex() from R, one of the
> commands I use is
>
> mtext("Dimension 2: L=xxxx", side=2, line=3)
>
> when using X11(), this appears vertically along the Y axis; when using
> pictex(), it shows up horizontally. So, question 1:
> - Is there any way to rotate text in PicTeX?

The driver does claim to support it, and does put out different commands
for 90^o rotation. They don't work, it seems.

> Also: I'd like L to be $\lambda$ in the above example. Right now I'm
> editing the pictex file by hand - is there a more elegant way to handle
> it?

You can use plotmath to do it, but that will not work in PicTeX.

Why are you using pictex (without a manual)?  I would have thought using
the xfig() driver and xfig itself was a less frustrating route.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Mar  9 10:01:55 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 9 Mar 2001 10:01:55 +0100
Subject: [R] XGobi
In-Reply-To: <Pine.GSO.3.95q.1010308122429.25275R-100000@sun21.math.uni-hamburg.de>
References: <Pine.GSO.3.95q.1010308122429.25275R-100000@sun21.math.uni-hamburg.de>
Message-ID: <15016.39939.125992.206492@gargle.gargle.HOWL>

>>>>> "Christian" == Christian Hennig <fm3a004 at math.uni-hamburg.de> writes:

    Christian> Dear list,

    Christian> I do not understand how to get group variables from XGobi
    Christian> into R.  For example, I start with data(laser) xgobi(laser)
    Christian> and in xgobi I brush some points red. Now xgobi creates a
    Christian> group variable (I did not understand *when* this group
    Christian> variable is created and how I get it even in xgobi, but,
    Christian> however, suddenly it was there...). What must I do if I want
    Christian> this group variable as a variable of R?

you can have it written out into an ASCII file, 
and must read that into R via scan() or such. 
This is not very convenient, I agree, but the
     R <-> Xgobi
connection is only via ascii files.

Instead of putting considerable effort into the R-xgobi interface,
the real thing will soon be ggobi, a gobi version based on GTK and hence
available for Unix and Windows at least.

  --> http://www.ggobi.org/  if you dare to try the pre-release beta version

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Mar  9 10:04:36 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 9 Mar 2001 10:04:36 +0100
Subject: [R] image legend -> filled.contour() !
In-Reply-To: <Pine.SV4.3.96.1010308101937.2202B-100000@csm.Berkeley.EDU>
References: <F66469FCE9C5D311B8FF0000F8FE9E07095EC991@mbtlipnt03.btlabs.bt.co.uk>
	<Pine.SV4.3.96.1010308101937.2202B-100000@csm.Berkeley.EDU>
Message-ID: <15016.40100.46538.898409@gargle.gargle.HOWL>

I think you should definitely have a look at  filled.contour()
which is really a nice combination of  image() & contour()
and it has the ``colour strip scale'' to the right.

Get a first showoff from

    par(ask = TRUE)
    example(filled.contour)

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

>>>>> "Jacob" == Jacob W Bowers <jbowers at csm.berkeley.edu> writes:

    Jacob> A while back Jonathan Rougier posted a function called
    Jacob> image.scale(), which has worked nicely for me. Check it out
    Jacob> here: http://www.ens.gu.edu.au/robertk/R/help/99b/0483.html

    Jacob> I found it worked best floating in its own plot window (using
    Jacob> layout() to allocate most of the plotting area to the data plots
    Jacob> and a tiny, thin, section to an empty plot, which then contained
    Jacob> the image.scale() legend).

    Jacob> Best,
    Jacob> Jake
    Jacob> ---
    Jacob> Jake Bowers
    Jacob> Dept of Political Science
    Jacob> UC-Berkeley

    Jacob> On Thu, 8 Mar 2001 keith.briggs at bt.com wrote:

    >> I would like to add a legend to plots that I make with the image()
    >> function in the form of a strip of colours to the right of the plot
    >> annotated with their corresponding numerical values.
    >> Is this possible?
    >> Thank you,
    >> Keith
    >> 
    >> Dr. Keith M. Briggs, Complexity Research Group, BTexaCT.
    >> Adastral Park admin2 pp5, Martlesham Heath, IP5 3RE, Suffolk,  UK
    >> Tel: 01473 641 911  Fax: 01473 647 410.  Home tel:  01473 625 972
    >> Personal homepage http://www.btexact.com/people/briggsk2/ 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From agostino.manzato at osmer.fvg.it  Fri Mar  9 18:08:12 2001
From: agostino.manzato at osmer.fvg.it (Agostino.Manzato@osmer.fvg.it)
Date: Fri, 09 Mar 2001 18:08:12 +0100
Subject: [R] Fitting automatically empirical data
Message-ID: <3AA90DFC.CB02DD3B@osmer.fvg.it>

Hi,
I'm using R to find esplicit functions fitting set of data.
The data contains about 30 points, which have different weights (number
of cases represented from the point).
I plot the points, choose "by eye" a function made with exp or arctg or
polinomial and use nlm to minimaze the root mean error with correct the
weights.

For Example:
Err <- function(p) 
       sum((weight*(y - (p[1]+p[2]*atan(p[3]+p[4]*x))))^2) 
out <- nlm(Err, p=c(1,1,1,1), hessian=T)
fp <-  function(z)
out$estimate[1]+out$estimate[2]*atan(out$estimate[3]+out$estimate[4]*z)

The problem is that I have about 40 different set of data (variables)
and for each I obtain about 5 different sample, depending by a
parameter, so I have about 200 different function to fit: I can't do
this work for each function :(

1)There is a family of functions wich is more general and strong to fit
most of my data?
(most of my functions are very similar to arctg, or exp or parabolic:
they are not bad :)

2)How can I use nls to do the same thing (I hope nls is stronger than my
implementation of nlm: or not?)

Thank you very much!

-- 
 ___________________________________________________________________
|   _____    _   _  _    ___           AGOSTINO  MANZATO            |
|  |_   _|  | | | \| |  / _ \   ARPA-OSservatorio MEteorologico Reg.|
|    | |    | | | \' | | (_) |     c/o Villa Chiozza, Via Carso 3   |
|    |_|    |_| |_|\_|  \___/      I-33052 Cervignano (UD) Italy    |
| Agostino.Manzato at osmer.fvg.it   tel. +39 0431 382448/1 fax 382400 |
|________________________________________S H A L O M________________|
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ono96 at fa2.so-net.ne.jp  Fri Mar  9 20:12:17 2001
From: ono96 at fa2.so-net.ne.jp (Hisaji ONO)
Date: Sat, 10 Mar 2001 04:12:17 +0900
Subject: [R] Neural Net for R for Win
Message-ID: <004a01c0a8cc$dc1da920$d6b584d2@myvaio>

Hello.

 Is NN for R for Win available?

It seemes that there's no NN package in contributed ones.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010310/6a58939c/attachment.html

From tlumley at u.washington.edu  Fri Mar  9 20:09:36 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 9 Mar 2001 11:09:36 -0800 (PST)
Subject: [R] Neural Net for R for Win
In-Reply-To: <004a01c0a8cc$dc1da920$d6b584d2@myvaio>
Message-ID: <Pine.A41.4.33.0103091108580.112520-100000@homer16.u.washington.edu>

On Sat, 10 Mar 2001, Hisaji ONO wrote:

> Hello.
>
>  Is NN for R for Win available?
>
> It seemes that there's no NN package in contributed ones.
>

The VR package bundle includes a "nnet" package.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ono96 at fa2.so-net.ne.jp  Fri Mar  9 20:24:28 2001
From: ono96 at fa2.so-net.ne.jp (Hisaji ONO)
Date: Sat, 10 Mar 2001 04:24:28 +0900
Subject: [R] Neural Net for R for Win
Message-ID: <006801c0a8ce$8fa294a0$d6b584d2@myvaio>

Thank you very much.

 I'll try this.


-----Original Message-----
???o?l : Thomas Lumley <tlumley at u.washington.edu>
???? : Hisaji ONO <ono96 at fa2.so-net.ne.jp>
CC : r-help at r-project.org <r-help at r-project.org>
???? : 2001?N3??10?? 4:09
???? : Re: [R] Neural Net for R for Win


>On Sat, 10 Mar 2001, Hisaji ONO wrote:
>
>> Hello.
>>
>>  Is NN for R for Win available?
>>
>> It seemes that there's no NN package in contributed ones.
>>
>
>The VR package bundle includes a "nnet" package.
>
> -thomas
>
>Thomas Lumley Asst. Professor, Biostatistics
>tlumley at u.washington.edu University of Washington, Seattle
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Sat Mar 10 02:04:55 2001
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Fri, 09 Mar 2001 20:04:55 -0500
Subject: [R] Bug in qchisq?
Message-ID: <3AA97DB7.1C92737A@epm.net.co>

Hello developers and users:

My system fails (the computer freezes) when I use the ncp  parameter,
with the lower.tail=FALSE option in the qchisq function.

qchisq(0.025,31,ncp=1,lower.tail=FALSE)


Thank you very much for your help.

Kenneth Cabrera
Universidad Nacional de Colombia
ICNE
Sede Medellin
krcabrer at perseus.unalmed.edu.co


PS

I am using:

$platform  "i386-pc-mingw32"
$arch "x86"
$os "Win32"
$system "x86, Win32"
$status ""
$major "1"
$minor "2.2"
$year "2001"
$month "02"
$day "26"
$language "R"




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ono96 at fa2.so-net.ne.jp  Sat Mar 10 12:05:38 2001
From: ono96 at fa2.so-net.ne.jp (Hisaji ONO)
Date: Sat, 10 Mar 2001 20:05:38 +0900
Subject: [R] Is availble CA, GA or MAS available for R for Win?
Message-ID: <003501c0a952$0a4ffac0$aab584d2@myvaio>

Hi.

 Does anyone know whether CA(Cellular Automata), GA(Genetic Algorithm) or
Multi-Agent System is available for R for Win?

 I've already knowna software for these areas,  SWARM or startlogo.

But I'd like to link R's function with these methods.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010310/128846d0/attachment.html

From stuart.leask at nottingham.ac.uk  Sat Mar 10 12:10:59 2001
From: stuart.leask at nottingham.ac.uk (Dr Stuart Leask)
Date: Sat, 10 Mar 2001 11:10:59 -0000
Subject: [R] VRML export for 3D graphs?
References: <3AA97DB7.1C92737A@epm.net.co>
Message-ID: <001f01c0a952$cebd51a0$b8e407c3@lounge>

Has anyone come across a package for exporting 3D graphs in R to VRML?

Such packages exist for Matlab and Mathematica...

(I know I can convert a data matrix to a surface DXF in QuikGrid... but you
have to then put back the axes... check the orientation... re-colour it...
then convert to VRML (yawn)).

Stuart

Dr Stuart Leask MA MB BChir MRCPsych
Clinical Lecturer in Psychiatry. University of Nottingham Dept of
Psychiatry, Duncan MacMillan House, Porchester Road, Nottingham. NG3 6AA.
UK.
Tel: 00 44 115 969 1300 xtn 40784
Fax: 00 44 115 955 5352

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Sat Mar 10 15:35:16 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sat, 10 Mar 2001 08:35:16 -0600 (CST)
Subject: [R] Is availble CA, GA or MAS available for R for Win?
In-Reply-To: <003501c0a952$0a4ffac0$aab584d2@myvaio>
References: <003501c0a952$0a4ffac0$aab584d2@myvaio>
Message-ID: <15018.15268.494120.558492@sonny.eddelbuettel.com>


HO>?Does anyone know whether CA(Cellular Automata), GA(Genetic Algorithm) or
HO> Multi-Agent System is available for R for Win?

Please see the FAQ for R, available with your copy of R and on the
website(s), which lists:

	5.1 Which add-on packages exist for R?
	======================================

	[...]	

	*gafit*
	     Genetic algorithm for curve fitting.

Dirk


-- 
According to the latest figures, 43% of all statistics are totally worthless.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ono96 at fa2.so-net.ne.jp  Sat Mar 10 16:26:55 2001
From: ono96 at fa2.so-net.ne.jp (Hisaji ONO)
Date: Sun, 11 Mar 2001 00:26:55 +0900
Subject: [R] Is availble CA, GA or MAS available for R for Win?
Message-ID: <006501c0a976$8c22cd60$aab584d2@myvaio>

Thank you for your response.

 But this gafit's win version  seemed to be not available, and this function
is limited.

-----Original Message-----
???o?l : Dirk Eddelbuettel <edd at debian.org>
???? : Hisaji ONO <ono96 at fa2.so-net.ne.jp>
CC : r-help at r-project.org <r-help at r-project.org>
???? : 2001?N3??10?? 23:34
???? : [R] Is availble CA, GA or MAS available for R for Win?



HO> Does anyone know whether CA(Cellular Automata), GA(Genetic Algorithm) or
HO> Multi-Agent System is available for R for Win?

Please see the FAQ for R, available with your copy of R and on the
website(s), which lists:

5.1 Which add-on packages exist for R?
======================================

[...]

*gafit*
     Genetic algorithm for curve fitting.

Dirk


--
According to the latest figures, 43% of all statistics are totally
worthless.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Mar 10 17:50:35 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 10 Mar 2001 16:50:35 +0000 (GMT)
Subject: [R] Is availble CA, GA or MAS available for R for Win?
In-Reply-To: <006501c0a976$8c22cd60$aab584d2@myvaio>
Message-ID: <Pine.GSO.4.31.0103101646020.2864-100000@toucan.stats>

On Sun, 11 Mar 2001, Hisaji ONO wrote:

> Thank you for your response.
(to a repsonse from Dirk pointing out gafit).

>  But this gafit's win version  seemed to be not available, and this function
> is limited.

It is.  The sources compile on Windows unchanged.  With a very few
exceptions (one is XGobi) there no `win version' of packages.

See the rw-FAQ on installing packages, as you seem to be under some
misapprehensions.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gwhysong at cactus.east.asu.edu  Sat Mar 10 20:44:26 2001
From: gwhysong at cactus.east.asu.edu (Gary Whysong)
Date: Sat, 10 Mar 2001 12:44:26 -0700 (MST)
Subject: [R] Problem With Model.Tables Function
Message-ID: <Pine.LNX.3.96.1010310122041.1852B-100000@Cactus.east.asu.edu>

I am using R for the first time in one of my classes.  My students have
alerted me to a problem for which we have not found an answer.  We find
that some means returned by the model.tables function are not correct when
missing data is present in analysis of variance problems.  We have
duplicated the problem using R 1.2.0, 1.2.1, and 1.2.2 under Windows 98
and several distributions of Linux (Redhat 7.0, Mandrake 7.2, SuSE 7.0,
and 7.1). 

The situation is best illustrated with a small example of a randomized
block design having three treatments and four blocks.

> blocks<-factor(c(1,2,3,4,1,2,3,4,1,2,3,4))
> trtmnts<-factor(c(1,1,1,1,2,2,2,2,3,3,3,3))
> data<-c(10,12,9,11,13,15,11,16,18,22,17,19)
> balanced<-aov(data~blocks+trtmnts)
> summary(balanced)
            Df  Sum Sq Mean Sq F value    Pr(>F)
blocks       3  28.250   9.417  10.273  0.008868 **
trtmnts      2 147.167  73.583  80.273 4.676e-05 ***
Residuals    6   5.500   0.917
---
Signif. codes:  0  `***'  0.001  `**'  0.01  `*'  0.05  `.'  0.1  ` '  1
> model.tables(balanced,"means")
Tables of means
Grand mean
 
14.41667
 
 blocks
     1      2      3      4
13.667 16.333 12.333 15.333
 
 trtmnts
    1     2     3
10.50 13.75 19.00
 
Entering the data again and dropping treatment 2, block3 and treatment 3,
block 4, we have:
 
> blocks2<-factor(c(1,2,3,4,1,2,4,1,2,3))
> trtmts2<-factor(c(1,1,1,1,2,2,2,3,3,3,))
> data2<-c(10,12,9,11,13,15,16,18,22,17)
> unbalanced<-aov(data2~blocks2+trtmts2)
> summary(unbalanced)
            Df  Sum Sq Mean Sq F value    Pr(>F)
blocks2      3  18.267   6.089  7.4341 0.0410993 *
trtmts2      2 126.557  63.279 77.2587 0.0006367 ***
Residuals    4   3.276   0.819
---
Signif. codes:  0  `***'  0.001  `**'  0.01  `*'  0.05  `.'  0.1  ` '  1
> model.tables(unbalanced,"means")
Tables of means
Grand mean
 
14.3
 
 blocks2
        1     2  3    4
    13.67 16.33 13 13.5
rep  3.00  3.00  2  2.0
 
 trtmts2
        1     2     3
    10.68 14.47 18.97
rep  4.00  3.00  3.00
 
We find that the treatment means (trtmts2) are incorrect although the
number of replications indicated are correct. Block means (blocks2) are
correct.
 
The treatment means should be: 10.5, 14.67, and 19.0, respectively.

Further investigation reveals that we encounter this problem whenever
dealing with unequal replications or missing data.  For example, with
unequal subsamples, or missing data in factorial experiments.  We can get
the correct means by using regression techniques (lm) to solve the
analysis of variance problems and extracting the fitted values from the
appropriate lm model. 

Since I am learning R, perhaps I have missed something?  Is this possibly
a bug in the model.tables function?

------------------------------------------------------------
   Gary Whysong, Associate Professor, Environmental Resources
   Morrison School of Agribusiness & Resource Management
   Arizona State University East
   Phone: (480) 727-1263, E-mail: gwhysong at Cactus.east.asu.edu
------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Mar 10 22:53:06 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 10 Mar 2001 21:53:06 +0000 (GMT)
Subject: [R] Problem With Model.Tables Function
In-Reply-To: <Pine.LNX.3.96.1010310122041.1852B-100000@Cactus.east.asu.edu>
Message-ID: <Pine.GSO.4.31.0103102131420.14095-100000@auk.stats>

I believe that these are correct, but you haven't told us why you think
they are wrong.  In the unbalanced case you need to understand carefully
what to expect: your expected answer is definitely wrong, which suggests
that R's might well be right.

For the record, these R results agree with S-PLUS on your examples.
But they are not much documented in the unbalanced case, so perhaps
`for experts only'.

The FAQ says:

9.1 What is a bug?

....

If a command does the wrong thing, that is a bug.  But be sure you know for
certain what it ought to have done.  If you aren't familiar with the
command, or don't know for certain how the command is supposed to work,
then it might actually be working right.  Rather than jumping to
conclusions, show the problem to someone who knows for certain.


On Sat, 10 Mar 2001, Gary Whysong wrote:

[...]

> > blocks2<-factor(c(1,2,3,4,1,2,4,1,2,3))
> > trtmts2<-factor(c(1,1,1,1,2,2,2,3,3,3,))
> > data2<-c(10,12,9,11,13,15,16,18,22,17)
> > unbalanced<-aov(data2~blocks2+trtmts2)
> > summary(unbalanced)
>             Df  Sum Sq Mean Sq F value    Pr(>F)
> blocks2      3  18.267   6.089  7.4341 0.0410993 *
> trtmts2      2 126.557  63.279 77.2587 0.0006367 ***
> Residuals    4   3.276   0.819
> ---
> Signif. codes:  0  `***'  0.001  `**'  0.01  `*'  0.05  `.'  0.1  ` '  1
> > model.tables(unbalanced,"means")
> Tables of means
> Grand mean
>
> 14.3
>
>  blocks2
>         1     2  3    4
>     13.67 16.33 13 13.5
> rep  3.00  3.00  2  2.0
>
>  trtmts2
>         1     2     3
>     10.68 14.47 18.97
> rep  4.00  3.00  3.00
>
> We find that the treatment means (trtmts2) are incorrect although the
> number of replications indicated are correct. Block means (blocks2) are
> correct.
>
> The treatment means should be: 10.5, 14.67, and 19.0, respectively.

Why?  These are *model*.tables not *data*.tables. You have to
adjust for block effects, and they are unbalanced.  Blocks 3 and 4 have
lower responses than 1 and 2, and they are missing for treatments 2 and 3.
Seems to adjust correctly to me.

Note the order of terms matters in unbalanced models.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Sun Mar 11 05:45:02 2001
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Sun, 11 Mar 2001 15:45:02 +1100 (EST)
Subject: [R] Problem With Model.Tables Function
Message-ID: <200103110445.PAA22970@leonard.anu.edu.au>

Here is my assessment:
The following seems pertinent to making sense of 
the result from model.tables(,type="means").
As I see it, users should be warned off using
model.tables() with data from designs in which
treatments are not balanced over blocking factors.

df <- data.frame(bl=factor(c(1:4,1,2,4,1,2,3)),
 tr <- factor(rep(1:3,c(4,3,3))),
 y=c(10,12,9,11,13,15,16,18,22,17))

options(digits=4)
# First fit the block effect, unadjusted for treatments
blocks.aov <- aov(y~bl, data=df)
# Take residuals from these block effects
res <- residuals(blocks.aov)
# Fit treatment effects to these residuals
res.aov <- aov(res~df$tr)
b <- summary.lm(res.aov)$coef

# EITHER (1)
# Add overall mean to the fitted treatment effects
# NB: The residuals above summed to 1.  So the average of
# the fitted treatment effects is zero.
> mean(df$y) + b[1]+c(0,b[2:3])  # with options(digits=4)
       df$tr2 df$tr3 
 10.68  14.47  18.97 
> model.tables(df.aov, type="means")
Tables of means
Grand mean
    
14.3 

 bl 
        1     2  3    4
    13.67 16.33 13 13.5
rep  3.00  3.00  2  2.0

 tr 
        1     2     3
    10.68 14.47 18.97
rep  4.00  3.00  3.00

# OR (2)
> b <- summary.lm(res.aov)$coef
> b[1]+c(0, b[2:3])
         df$tr2  df$tr3 
-3.6250  0.1667  4.6667 

> # Equivalent to model.tables(df.aov)
----------------------------------------------------------

The objection to the treatment effects from model.tables()
is that they are based on deviations from block means that 
have not been adjusted to allow for the different relative 
numbers of the different treatments in those blocks.
The effect can be severe when different blocks have greatly
different relative numbers of different treatments.
Thus model.tables() should not be used even for balanced 
incomplete block designs.

# Choices that are defendable include:

> #1 Add treatment effects from above least squares fit,
> # constrained to sum to zero, to overall mean.
> options(contrasts=c("contr.sum","contr.poly"))
> b <- summary.lm(aov(y~bl+tr, data=df))$coef
> mean(df$y)+ c(b[5:6], -sum(b[5:6]))
  tr1   tr2       
10.16 13.67 19.07 

> #2 Add treatment effects from least squares fit,
> # constrained to sum to zero, to mean of block means.
> b[1] + c(b[5:6],-sum(b[5:6]))
  tr1   tr2       
10.50 14.01 19.41 

> #3 Use estimates from lme, with blocks as random effects


Brian Ripley, responding to Gary Whysong, wrote:

> For the record, these R results agree with S-PLUS on your examples.
> But they are not much documented in the unbalanced case, so perhaps
> `for experts only'.

 . . 

> On Sat, 10 Mar 2001, Gary Whysong wrote:
> 
> [...]
> 
> > > blocks2<-factor(c(1,2,3,4,1,2,4,1,2,3))
> > > trtmts2<-factor(c(1,1,1,1,2,2,2,3,3,3,))
> > > data2<-c(10,12,9,11,13,15,16,18,22,17)
> > > unbalanced<-aov(data2~blocks2+trtmts2)
> > > summary(unbalanced)
> >             Df  Sum Sq Mean Sq F value    Pr(>F)
> > blocks2      3  18.267   6.089  7.4341 0.0410993 *
> > trtmts2      2 126.557  63.279 77.2587 0.0006367 ***
> > Residuals    4   3.276   0.819
> > ---
> > Signif. codes:  0  `***'  0.001  `**'  0.01  `*'  0.05  `.'  0.1  ` '  1
> > > model.tables(unbalanced,"means")
> > Tables of means
> > Grand mean
> >
> > 14.3
> >
> >  blocks2
> >         1     2  3    4
> >     13.67 16.33 13 13.5
> > rep  3.00  3.00  2  2.0
> >
> >  trtmts2
> >         1     2     3
> >     10.68 14.47 18.97
> > rep  4.00  3.00  3.00
> >
> > We find that the treatment means (trtmts2) are incorrect although the
> > number of replications indicated are correct. Block means (blocks2) are
> > correct.
> >
> > The treatment means should be: 10.5, 14.67, and 19.0, respectively.
> 
> Why?  These are *model*.tables not *data*.tables. You have to
> adjust for block effects, and they are unbalanced.  Blocks 3 and 4 have
> lower responses than 1 and 2, and they are missing for treatments 2 and 3.
> Seems to adjust correctly to me.
> 
> Note the order of terms matters in unbalanced models.





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bernd.weiss at epost.de  Sun Mar 11 08:30:00 2001
From: bernd.weiss at epost.de (Bernd Weiss)
Date: Sun, 11 Mar 2001 08:30:00 +0100
Subject: [R] Doing a Cox-Regression in R and SPSS
Message-ID: <3AAB3788.12798.202513@localhost>

A.S.: I am sorry for sending my first mail to <r-help at R-
project.org>. 
---------------------------------------------------------

Hallo, 

computing a Cox proportional hazards model in SPSS 9.0 and 
R 1.2.2 produces different results for beta-coefficient. 

I use the follwing data set (source: example in  
help(coxph), somewhat modified) 

Time	Status	Covariate (x) 
------------------------- 
4,00	1,00	,00 
3,00	1,00	1,00 
1,00	1,00	1,00 
1,00	,00		1,00 
2,00	1,00	1,00 
2,00	1,00	,00 
3,00	,00		,00 


The results in SPSS: 
-------------------- 
beta		= 1,44 
exp(beta)	= 4,20 
SE			= 1,17 

SPSS Syntax: 
-------------------- 
COXREG 
  t  /STATUS=s(1) 
  /METHOD=ENTER x 
  /CRITERIA=PIN(.05) POUT(.10) ITERATE(20) . 


The results in R: 
-------------------- 
beta		= 1.46 
exp(beta)	= 4,32 
SE			= 1,17 

R Syntax: 
-------------------- 
test1 <- list(time=  c(4, 3,1,1,2,2,3), 
                status=c(1,1,1,0,1,1,0), 
                x=     c(0, 1,1,1,1,0,0), 
summary(coxph( Surv(time, status) ~ x, test1)) 


BTW: The results of SPSS and TDA (Transition Data Analysis) 
 correspondent exactly. 

What went wrong? I strongly suppose, I did some mistakes,  
but I can't image what kind of mistakes. Any ideas? 

Thanks in advance 

Bernd 



--
Bernd Wei? (bernd.weiss at epost.de)
PGP Key ID: 0x4117206F
PGP FP: 08B2 09CD 7192 526D 93FD  2070 53DB 7C4F 4117 206F
www.pgpi.org
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Mar 11 08:51:48 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 11 Mar 2001 07:51:48 +0000 (GMT)
Subject: [R] Doing a Cox-Regression in R and SPSS
In-Reply-To: <3AAB3788.12798.202513@localhost>
Message-ID: <Pine.GSO.4.31.0103110746430.14419-100000@auk.stats>

On Sun, 11 Mar 2001, Bernd Weiss wrote:

> computing a Cox proportional hazards model in SPSS 9.0 and
> R 1.2.2 produces different results for beta-coefficient.

Your data have ties in the times. The original theory for Cox models
applies to continuous hazard distributions, for which there can be no ties.
There are various fixes, controlled by the argument of coxph:

  method: a character string specifying the method for tie handling.
          If there  are no tied death times all the methods are
          equivalent. Nearly all Cox regression programs use the
          Breslow method by default, but not this one. The Efron
          approximation is used as the default here, as it is much more
          accurate when dealing with tied death times, and is as
          efficient computationally. The exact method computes the
          exact partial likelihood, which is equivalent to a
          conditional logistic model.  If there are a large number of
          ties the computational time will be excessive.

I think that para (from ?coxph) tells you all you need to know,
except that `accurate' means by reference to the `exact' method.

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bernd.weiss at epost.de  Sun Mar 11 09:19:52 2001
From: bernd.weiss at epost.de (Bernd Weiss)
Date: Sun, 11 Mar 2001 09:19:52 +0100
Subject: [R] Doing a Cox-Regression in R and SPSS
In-Reply-To: <Pine.GSO.4.31.0103110746430.14419-100000@auk.stats>
References: <3AAB3788.12798.202513@localhost>
Message-ID: <3AAB4338.2996.4DCEBA@localhost>

On 11 Mar 2001, at 7:51, Prof Brian D Ripley wrote:

> On Sun, 11 Mar 2001, Bernd Weiss wrote:
> 
> > computing a Cox proportional hazards model in SPSS 9.0 and
> > R 1.2.2 produces different results for beta-coefficient.
> 
[...]
> 
>   method: a character string specifying the method for tie
>   handling.
>           If there  are no tied death times all the methods
>           are equivalent. Nearly all Cox regression programs
>           use the Breslow method by default, but not this
>           one. The Efron approximation is used as the
>           default here, as it is much more accurate when
>           dealing with tied death times, and is as efficient
>           computationally. The exact method computes the
>           exact partial likelihood, which is equivalent to a
>           conditional logistic model.  If there are a large
>           number of ties the computational time will be
>           excessive.
> 
[...]

<coxph(Surv(t,s)~x, method="breslow", data=coxdata)> works 
fine. 

Thanks for your help.

Bernd


--
Bernd Wei? (bernd.weiss at epost.de)
PGP Key ID: 0x4117206F
PGP FP: 08B2 09CD 7192 526D 93FD  2070 53DB 7C4F 4117 206F
www.pgpi.org
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Sun Mar 11 10:30:56 2001
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Sun, 11 Mar 2001 20:30:56 +1100 (EST)
Subject: [R] Problem With Model.Tables Function
Message-ID: <200103110930.UAA25485@leonard.anu.edu.au>

P.S.
I notice that I forgot to define:
  df.aov <- aov(y ~ bl + tr, data = df)

with
df <- data.frame(bl=factor(c(1:4,1,2,4,1,2,3)),
 tr <- factor(rep(1:3,c(4,3,3))),
 y=c(10,12,9,11,13,15,16,18,22,17))

John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6125)3998        
c/o CMA, SMS,                 fax   : (6125)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Sun Mar 11 17:08:48 2001
From: chong at stat.purdue.edu (Chong Gu)
Date: Sun, 11 Mar 2001 11:08:48 -0500
Subject: [R] Kaplan-Meier for left-truncated, right-censored data
Message-ID: <200103111608.LAA58882@odds.stat.purdue.edu>


Is it possible to calculate Kaplan-Meier for left-truncated,
right-censored data using survival5?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Sun Mar 11 23:23:13 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sun, 11 Mar 2001 14:23:13 -0800 (PST)
Subject: [R] Kaplan-Meier for left-truncated, right-censored data
In-Reply-To: <200103111608.LAA58882@odds.stat.purdue.edu>
Message-ID: <Pine.A41.4.33.0103111415460.11696-100000@homer31.u.washington.edu>

On Sun, 11 Mar 2001, Chong Gu wrote:

>
> Is it possible to calculate Kaplan-Meier for left-truncated,
> right-censored data using survival5?

Yes and no.

You can calculate the baseline survival curve for a null Cox model, which
comes to the same thing
Eg, using the test2 dataset from help(coxph)

survfit(coxph(Surv(start,stop,event)~1,data=test2),type="kaplan-meier")

Using type="kaplan-meier" gives a product-type estimator that in
untruncated data would be the Kaplan-Meier. Without this you get exp(-H)
where H is the estimated cumulative hazard (an estimator variously
attributed to Aalen, Breslow, Peto, and probably others).

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Fri Mar  9 15:09:01 2001
From: a296180 at mica.fmr.com (David Kane - GEODE <David Kane)
Date: Fri,  9 Mar 2001 09:09:01 -0500 (EST)
Subject: [R] Summer Internship in Boston
Message-ID: <15016.58299.845155.882259@arbres2a>

Hi,

Although I am not sure how many students subscribe to r-help, I suspect that
some of the students of the professors on the list might be interested in the
following summer internship opportunity.

Dave Kane

##########################################

Summer Internship Opportunity at Geode Capital Management


Geode Capital Management has one or two openings for 12 week summer
internships. We seek students who are interested in working at the intersection
of computer science, statistics and finance. If these are your interests, then
there is no better internship in Boston. We offer a casual work environment and
powerful computing resources. We work mostly in a UNIX environment; our main
programming tools are Perl (www.perl.org) and S+ (www.splus.com). [FYI, there
is an open-source version of S+ called R (www.r-project.org).]


We are looking for skilled programmers with an interest in trying to predict
the future. If you are curious; if you are technically skilled; if you are
interested in working with large databases; if you think that searching for
patterns might be fun; if you have the drive to complete difficult projects; if
you enjoy observing the world of finance; if all (or at least most!) of these
things are true, then we would like to hire you.


To apply, please send an e-mail to david.d.kane at fmr.com. Describe your
technical background (5 on the Computer Science AP exam; administrator of your
own Linux cluster; created a web server (in assembly!) for your intramural
basketball team; whatever) in some detail. A resume is fine but not
required. We are especially interested in students in the Boston area. We hope
that these internships will evolve into multi-year relationships.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etptupaf at bs.ehu.es  Mon Mar 12 09:52:14 2001
From: etptupaf at bs.ehu.es (F. Tusell)
Date: Mon, 12 Mar 2001 09:52:14 +0100
Subject: [R] kernel in library ts
In-Reply-To: <3AA760DC.F0EA6DC5@olsen.ch> (adrian@olsen.ch)
References: <3AA760DC.F0EA6DC5@olsen.ch>
Message-ID: <200103120852.JAA01030@agesi.bs.ehu.es>

Thank you very much, and sorry for the delay in answering: I have been
out of town for a while.


ft.
-- 
Fernando TUSELL                                e-mail:
Departamento de Econometr?a y Estad?stica           etptupaf at bs.ehu.es 
Facultad de CC.EE. y Empresariales             Tel:   (+34)94.601.3733
Avenida Lendakari Aguirre, 83                  Fax:   (+34)94.601.3754
E-48015 BILBAO  (Spain)                        Secr:  (+34)94.601.3740
PGP: finger etptupaf at bsdx01.bs.ehu.es          http://etdx01.bs.ehu.es
----------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Mon Mar 12 15:38:20 2001
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Mon, 12 Mar 2001 08:38:20 -0600 (CST)
Subject: [R] pause
Message-ID: <Pine.SOL.3.96.1010312080432.2737B-100000@ysidro>

I've been playing with a quincunx animation in R 1.2.2 and would like to have
finer control over the speed of the animation.  I know that I can 
use system("sleep 1") on unix systems at least, but it would be nice
to have something like pause(.01).   Any suggestions?


url:	http://www.econ.uiuc.edu		Roger Koenker	
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Mar 12 15:48:37 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 12 Mar 2001 14:48:37 +0000 (GMT)
Subject: [R] pause
Message-ID: <200103121448.OAA06236@toucan.stats.ox.ac.uk>

> Date: Mon, 12 Mar 2001 08:38:20 -0600 (CST)
> From: Roger Koenker <roger at ysidro.econ.uiuc.edu>
> 
> I've been playing with a quincunx animation in R 1.2.2 and would like to have
> finer control over the speed of the animation.  I know that I can 
> use system("sleep 1") on unix systems at least, but it would be nice
> to have something like pause(.01).   Any suggestions?

?Sys.sleep

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stecalza at tiscalinet.it  Mon Mar 12 16:40:12 2001
From: stecalza at tiscalinet.it (Stefano)
Date: Mon, 12 Mar 2001 16:40:12 +0100
Subject: [R] RODBC problems
Message-ID: <5.0.2.1.2.20010312161730.009f1ec0@pop.tiscalinet.it>

Hi all.

I'm trying to see how the package Rodbc works, with R 1.2.2, win98 and MySql 3.23.
I'd like to export a dataset with 524 variables and 3440 records form R to MySql. I issued the following commands:

library(RODBC)
channel <- odbcConnect("test")
sqlSave(channel,dat=totale)

Error in sqlTables(channel)[, 3] : incorrect number of dimensions

Actually it gave me other error messages, in previous trials *with the same commands*.
Once it said something like ... vector maximum memory size reached...
Another time something like ...sqlColumns(...??)  c(30,2,30...) should be a vector names  
                                                                         ^^^^^^^^^^^^^
                                                         (these are the values in the first variable)

To reduce the load I created a 1x524 dataframe (to create the table structure and then importing tha data directly from file.csv to MySql), but still I got the same error

Where do I go wrong and why it gives different error messages with the same command?

Thank you,

Stefano

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Mar 12 17:07:01 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Mon, 12 Mar 2001 11:07:01 -0500 (EST)
Subject: [R] pause
In-Reply-To: <Pine.SOL.3.96.1010312080432.2737B-100000@ysidro>
Message-ID: <Pine.LNX.4.30.0103121059320.22937-100000@bolker.zoo.ufl.edu>


  I don't know how the timing would work exactly, but you could write a
very short piece of C code (details would depend on your operating system,
man usleep for Linux) -- you'd probably have to calibrate for the average
time that the function call took, too.
  Or you could just try to calibrate a delay loop:

delayloop <- function(x=1000) {
  for (i in 1:x) {}
}

dtime <-
sapply(seq(3,6,by=0.2),
  function(z)system.time(delayloop(10^z))[3])

plot(seq(3,6,by=0.2),dtime,type="b",log="y")

of course, this would vary from system to system depending on speed ...

On Mon, 12 Mar 2001, Roger Koenker wrote:

> I've been playing with a quincunx animation in R 1.2.2 and would like
> to have finer control over the speed of the animation.  I know that I
> can use system("sleep 1") on unix systems at least, but it would be
> nice to have something like pause(.01).  Any suggestions?
>
>
> url:	http://www.econ.uiuc.edu		Roger Koenker
> email	roger at ysidro.econ.uiuc.edu		Department of Economics
> vox: 	217-333-4558				University of Illinois
> fax:   	217-244-6678				Champaign, IL 61820
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Mar 12 17:25:37 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 12 Mar 2001 16:25:37 +0000 (GMT)
Subject: [R] RODBC problems
In-Reply-To: <5.0.2.1.2.20010312161730.009f1ec0@pop.tiscalinet.it>
Message-ID: <Pine.GSO.4.31.0103121621150.6361-100000@toucan.stats>

On Mon, 12 Mar 2001, Stefano wrote:

> Hi all.
>
> I'm trying to see how the package Rodbc works, with R 1.2.2, win98 and MySql 3.23.
> I'd like to export a dataset with 524 variables and 3440 records form R to MySql. I issued the following commands:
>
> library(RODBC)
> channel <- odbcConnect("test")
> sqlSave(channel,dat=totale)
>
> Error in sqlTables(channel)[, 3] : incorrect number of dimensions
>
> Actually it gave me other error messages, in previous trials *with the same commands*.
> Once it said something like ... vector maximum memory size reached...
> Another time something like ...sqlColumns(...??)  c(30,2,30...) should be a vector names
>                                                                          ^^^^^^^^^^^^^
>                                                          (these are the values in the first variable)
>
> To reduce the load I created a 1x524 dataframe (to create the table structure and then importing tha data directly from file.csv to MySql), but still I got the same error
>
> Where do I go wrong and why it gives different error messages with the same command?

I think you have a line length problem somewhere in the interfaces.

There is another option to sqlSave (fast=FALSE from memory) that you could
try, but why do you want 524 columns in a single table?  You could
export them in parts and merge them in the DBMS,

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rls at pincock.com  Mon Mar 12 17:55:00 2001
From: rls at pincock.com (Bob Sandefur)
Date: Mon, 12 Mar 2001 08:55:00 -0800
Subject: [R] 1.2.2 under M$ windows 2000 lots of plots out of memory?
Message-ID: <saac8f09.093@hc4>

hi-
 If I source the following 

for(k in seq(1:20)){
x<-runif(20000,min=-500,max=2000)
y<-runif(20000,min=-500,max=2500)
z<-runif(20000,min=-10,max=10)
cat(k,"file",memory.size())
cc<-rainbow(11)
plot(x,y,asp=1i,xlim=c(-500,2000),ylim=c(-500,2500),main=k,cex=1.0)
for(i in seq(-10,10,2)){
 points(x[z > i],y[z > i],col=cc[(12+i)/2],cex=1.0)
 }
rm(x,y,z)
cat(k,"fil2",memory.size(),"\n")
#readline(prompt="enter for nextplot")
dev.off()
}
~

 the check print gets to 256MB and R fails; I think I am freeing everthing with the rm(...) and dev.off().
Am I failing to free something or force  r to do garbage collection?

I start r with

P:\r\base\rw1022\bin\rgui.exe --vsize=300M --nsize=20000k
and turn of buffered output

I may have a hosed up windows 2000 installation as hibernating with R running on my acer 350 gives the
blue screen of death (The only blue screen of death I've ever had on the updated 2000)

thanx

Rober L Sandefur
Principal Geostatistician
Pincock Allen & Holt (A Hart Crowser Company)
 International Minerals Consultants
 274 Union Suite 200
 Lakewood CO 80228
 USA
 303 914-4467  v
 303 987-8907 f




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stecalza at tiscalinet.it  Mon Mar 12 18:21:13 2001
From: stecalza at tiscalinet.it (Stefano)
Date: Mon, 12 Mar 2001 18:21:13 +0100
Subject: [R] RODBC problems
In-Reply-To: <Pine.GSO.4.31.0103121621150.6361-100000@toucan.stats>
References: <5.0.2.1.2.20010312161730.009f1ec0@pop.tiscalinet.it>
Message-ID: <5.0.2.1.2.20010312181419.009fb3c0@pop.tiscalinet.it>



I think you have a line length problem somewhere in the interfaces.

>There is another option to sqlSave (fast=FALSE from memory) that you could
>try, but why do you want 524 columns in a single table?  You could
>export them in parts and merge them in the DBMS,

The first option doesn't work.
So I tried splitting the dataframe in 3440x100. Ok the first four. The last one ( dat5 <- totale[,401:524] ) gives me:

Error in sqlColumns(channel, tablename) : dat5 :table not found on channel 0

Uhm, strange behaviour isn't it?

Stefano


***********************************************
Stefano Calza
Istituto di Statistica Medica e Biometria
Universit? degli Studi di Milano
Via G. Venezian, 1
20133 Milano

tel. +39 02/2361302, 02/70600908
fax 02/2362930

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Mar 12 18:38:40 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 12 Mar 2001 17:38:40 +0000 (GMT)
Subject: [R] RODBC problems
In-Reply-To: <5.0.2.1.2.20010312181419.009fb3c0@pop.tiscalinet.it>
Message-ID: <Pine.GSO.4.31.0103121737330.6514-100000@toucan.stats>

On Mon, 12 Mar 2001, Stefano wrote:

>
>
> I think you have a line length problem somewhere in the interfaces.
>
> >There is another option to sqlSave (fast=FALSE from memory) that you could
> >try, but why do you want 524 columns in a single table?  You could
> >export them in parts and merge them in the DBMS,
>
> The first option doesn't work.
> So I tried splitting the dataframe in 3440x100. Ok the first four. The last one ( dat5 <- totale[,401:524] ) gives me:
>
> Error in sqlColumns(channel, tablename) : dat5 :table not found on channel 0
>
> Uhm, strange behaviour isn't it?

Well, MySQL is known to have a low-quality ODBC driver ...

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Mar 12 18:43:46 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 12 Mar 2001 09:43:46 -0800 (PST)
Subject: [R] 1.2.2 under M$ windows 2000 lots of plots out of memory?
In-Reply-To: <saac8f09.093@hc4>
Message-ID: <Pine.A41.4.33.0103120926220.83530-100000@homer08.u.washington.edu>

On Mon, 12 Mar 2001, Bob Sandefur wrote:

> hi-
>  If I source the following
>
> for(k in seq(1:20)){
> x<-runif(20000,min=-500,max=2000)
> y<-runif(20000,min=-500,max=2500)
> z<-runif(20000,min=-10,max=10)
> cat(k,"file",memory.size())
> cc<-rainbow(11)
> plot(x,y,asp=1i,xlim=c(-500,2000),ylim=c(-500,2500),main=k,cex=1.0)
> for(i in seq(-10,10,2)){
>  points(x[z > i],y[z > i],col=cc[(12+i)/2],cex=1.0)
>  }
> rm(x,y,z)
> cat(k,"fil2",memory.size(),"\n")
> #readline(prompt="enter for nextplot")
> dev.off()
> }
> ~
>
>  the check print gets to 256MB and R fails; I think I am freeing everthing with the rm(...) and dev.off().
> Am I failing to free something or force  r to do garbage collection?
>
> I start r with
>
> P:\r\base\rw1022\bin\rgui.exe --vsize=300M --nsize=20000k
> and turn of buffered output

Well, that's the problem. You are asking R to allocate 300Mb of heap and
20 million cons cells (at 28 bytes each) at startup, for a total of about
800Mb of memory.  This means there's no need for garbage collection until
you reach 800Mb of memory. If you don't have 800Mb of memory it isn't
surprising that this doesn't work well.


Under NT with R1.2.0 the memory grows without any garbage collection if I
specify a huge memory size as you did.  If I don't, the memory stays at
about 12Mb.  There is a slight increase of about 2k on each iteration, but
this would probably be garbage collected when it got big.

Under R1.2 and more recently you don't have to specify memory size; R can
allocate dynamically. You can specify minimum and maximum sizes, and if
you use the old --vsize notation you are specifying the minimum.  The only
real need for specifying memory nowadays is to stop R taking over the
computer: you can specify maximum sizes that are enough smaller than the
physical memory to make sure other processes can run.



	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Mar 12 18:46:41 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 12 Mar 2001 17:46:41 +0000 (GMT)
Subject: [R] 1.2.2 under M$ windows 2000 lots of plots out of memory?
In-Reply-To: <saac8f09.093@hc4>
Message-ID: <Pine.GSO.4.31.0103121742060.6514-100000@toucan.stats>

Try reading the rw-FAQ and ?Memory for memory management under 1.2.x.
What you have done is the problem: you have requested a heap bigger than
the maximum allowed memory.

[...]

> P:\r\base\rw1022\bin\rgui.exe --vsize=300M --nsize=20000k

That turned off garbage collection until well over 300M, but the default
memory limit is 256M.  What did you think you were doing?  Really!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Mar 12 18:57:34 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 12 Mar 2001 18:57:34 +0100
Subject: [R] 1.2.2 under M$ windows 2000 lots of plots out of memory?
References: <saac8f09.093@hc4>
Message-ID: <3AAD0E0E.FC60D834@statistik.uni-dortmund.de>

Bob Sandefur wrote:
> 
> hi-
>  If I source the following
> 
> for(k in seq(1:20)){
> x<-runif(20000,min=-500,max=2000)
> y<-runif(20000,min=-500,max=2500)
> z<-runif(20000,min=-10,max=10)
> cat(k,"file",memory.size())
> cc<-rainbow(11)
> plot(x,y,asp=1i,xlim=c(-500,2000),ylim=c(-500,2500),main=k,cex=1.0)
> for(i in seq(-10,10,2)){
>  points(x[z > i],y[z > i],col=cc[(12+i)/2],cex=1.0)
>  }
> rm(x,y,z)
> cat(k,"fil2",memory.size(),"\n")
> #readline(prompt="enter for nextplot")
> dev.off()
> }
> ~
>  the check print gets to 256MB and R fails; I think I am freeing everthing with the rm(...) and dev.off().
> Am I failing to free something or force  r to do garbage collection?

Interesting. On NT4.0 R consumes about 20MB at all and does garbage
collection.
Output from you function:

1 file 94173681 fil2 14067880 
2 file 145127522 fil2 14284016 
3 file 120852243 fil2 13324928 
...
20 file 1329924020 fil2 12662432 


> I start r with
> 
> P:\r\base\rw1022\bin\rgui.exe --vsize=300M --nsize=20000k
> and turn of buffered output

These options are not neccessary in R-1.2.2, have a look at ?Memory:
"For backwards compatibility, options --nsize and --vsize are equivalent
to --min-nsize and --min-vsize. "
So you told R to use a minimal vsize of 300M.

On the other hand "The default [of max-mem-size] is the smaller of the
amount of physical RAM in the machine and 256Mb".

This explains it all, I think.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rls at pincock.com  Mon Mar 12 19:09:15 2001
From: rls at pincock.com (Bob Sandefur)
Date: Mon, 12 Mar 2001 10:09:15 -0800
Subject: Summary :Re: [R] 1.2.2 under M$ windows 2000 lots of plots out
	of memory?
Message-ID: <saaca059.035@hc4>

hi list-
 Under windows 2000  I was asking for more than the 256MB limit. solutions  (and first suggester) were:

 1) Reading the rw-FAQ and ?Memory for memory management under 1.2.x.  (Prof Brian Ripley) <- this is the one I should have used
 2) Run with  P:\r\base\rw1022\bin\rgui.exe  (Thomas Lumley) <-this is one I used
 3) use gc()  (Joerg Polzehl)   <this is handy

Thanx to the list
 bob

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Mon Mar 12 21:42:36 2001
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Mon, 12 Mar 2001 14:42:36 -0600
Subject: [R] 1.2.2 under M$ windows 2000 lots of plots out of memory?
Message-ID: <AFD78192EC49D311BFAE00902798AB8F0BDE4E@jupiter.sc.arbitrade.com>

Unfortunately, I don't have 1.2.x installed so I can not read ?Memory, but
your e-mail seems to suggest that one can not have a workpspace bigger than
256M no matter how much RAM the computer has. Am I reading you correctly?
Thanks, Vadim

-----Original Message-----
From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
Sent: Monday, March 12, 2001 9:47 AM
To: Bob Sandefur
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] 1.2.2 under M$ windows 2000 lots of plots out of
memory?


Try reading the rw-FAQ and ?Memory for memory management under 1.2.x.
What you have done is the problem: you have requested a heap bigger than
the maximum allowed memory.

[...]

> P:\r\base\rw1022\bin\rgui.exe --vsize=300M --nsize=20000k

That turned off garbage collection until well over 300M, but the default
memory limit is 256M.  What did you think you were doing?  Really!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Mon Mar 12 23:38:50 2001
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Mon, 12 Mar 2001 16:38:50 -0600
Subject: [R] Regressions with monotonicity constraints
Message-ID: <AFD78192EC49D311BFAE00902798AB8F0BDE50@jupiter.sc.arbitrade.com>

This seems to be a recurrent topic, but I don't remember hearing a
definitive answer. I also apologies for cross-posting.

Say I have a numerical response variable and a bunch of multi-level factors
I want to use for modeling. I don't expect factor interaction to be
important so there will be no interactions in the model.
All this would be a perfect job for ANOVA except for one additional
requirement: all factors are ordered, i.e. for any two levels in a factor
one is bigger than the other, and I want the regression to preserve the
ordering, that is to be monotonic.

I can think of two definitions of monotonicity, weak and strong, and in case
it matters I am more interested in the strong one, which I define as
follows:
If L1 < L2 within some factor F than
prediction(L1, other factors) < prediction(L2, other factors)
for ANY SELECTION of 'other factors' levels.
(A weak monotonicity could be defined as prediction(L1) < prediction(L2) on
average).

Any reference to S, R, C code / papers which address this topic will be
highly appreciated.

Similar question could be asked about additive models, i.e. estimate an
additive model with each (or some) functions being monotonic.

Thanks,
Vadim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mandevip at deimos.tc.uaslp.mx  Mon Mar 12 16:43:10 2001
From: mandevip at deimos.tc.uaslp.mx (Peter B. Mandeville)
Date: Mon, 12 Mar 2001 16:43:10
Subject: [R] calculate 2^n combinations
Message-ID: <3.0.5.16.20010312164310.210764a0@deimos.tc.uaslp.mx>

Does anybody have code to calculate the 2^n different combinations that are
used in Fisher's paired permutation test, Wilcoxon's signed rank test, etc.

Thank you very much

Peter B.

--
Peter B. Mandeville                             mandevip at deimos.tc.uaslp.mx
Jefe del Depto. de Inform?tica y Bioestad?stica rpe1531 at pasteur.fmed.uaslp.mx 
Facultad de Medicine                            Tel: 48 26-23-45 ext. 232
Universidad Aut?noma de San Luis Potos?         Fax: 48 28-23-52
Av. V. Carranza 2405
Col. Los Filtros
Apartado Postal 145
San Luis Potos?, S.L.P.
78210 M?xico

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at team.telstra.com  Mon Mar 12 23:50:05 2001
From: John.Strumila at team.telstra.com (Strumila, John)
Date: Tue, 13 Mar 2001 09:50:05 +1100
Subject: [R] Kaplan-Meier for left-truncated, right-censored data
Message-ID: <61411576E951D211AF330008C7245DD9084FCF4D@ntmsg0005.corpmail.telstra.com.au>

well I had a chuckle.  amazon has categorised Miller's "Survival Analysis"
as "religion and spirituality"; but then again, maybe they're right.

John Strumila

http://www.amazon.com/exec/obidos/ASIN/0471255483/o/qid=984436977/sr=8-1/ref
=aps_sr_b_1_1/104-4404017-0142332

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Mar 13 00:19:22 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 12 Mar 2001 15:19:22 -0800 (PST)
Subject: [R] Regressions with monotonicity constraints
In-Reply-To: <AFD78192EC49D311BFAE00902798AB8F0BDE50@jupiter.sc.arbitrade.com>
Message-ID: <Pine.A41.4.33.0103121504380.83530-100000@homer08.u.washington.edu>

On Mon, 12 Mar 2001, Vadim Ogranovich wrote:

> This seems to be a recurrent topic, but I don't remember hearing a
> definitive answer. I also apologies for cross-posting.
>
> Say I have a numerical response variable and a bunch of multi-level factors
> I want to use for modeling. I don't expect factor interaction to be
> important so there will be no interactions in the model.
> All this would be a perfect job for ANOVA except for one additional
> requirement: all factors are ordered, i.e. for any two levels in a factor
> one is bigger than the other, and I want the regression to preserve the
> ordering, that is to be monotonic.
>
> I can think of two definitions of monotonicity, weak and strong, and in case
> it matters I am more interested in the strong one, which I define as
> follows:
> If L1 < L2 within some factor F than
> prediction(L1, other factors) < prediction(L2, other factors)
> for ANY SELECTION of 'other factors' levels.
> (A weak monotonicity could be defined as prediction(L1) < prediction(L2) on
> average).

in the absence of interactions these are equivalent, surely?

One-dimensional monotonic regression is easy using the
Pool-Adjacent-Violators algorithm.  I think an additive monotonic model
could be estimated by backfitting as for generalised linear models: update
the function for each predictor in turn by using the one-dimensional
algorithm on the partial residuals from the previous iteration.
Backfitting is described in "Generalized Additive Models" by Hastie &
Tibshirani (Chapman & Hall) and probably other places.


The more difficult case is a non-additive model (ie interactions). For
discrete factors there were two papers in the Journal of Computational &
Graphical Statistics by Qian and colleagues. One of them was
@article{qian:eddy:1996,
    Author = {Qian, Shixian and Eddy, William F.},
    Title = {An Algorithm for Isotonic Regression on Ordered Rectangular
            Grids},
    Year = 1996,
    Journal = {Journal of Computational and Graphical Statistics},
    Volume = 5,
    Pages = {225--235},
    Keywords = {[Block class algorithm]; [Monotone regression]; [Recursive
               partitioning]; [Sandwich algorithm]}
}


> Any reference to S, R, C code / papers which address this topic will be
> highly appreciated.

The following does one-dimensional isotonic regression. I believe similar
code has been posted before. It is recursive but seems fast enough for
many uses. It returns a compressed form of the result where the first
component has the distinct fitted values and the second indicates the
number of repeats.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle



 pava.blocks<-function(x,w=rep(1,length(x)),b=rep(1,length(x)),up=T){
	lasti<-1
	if (length(x)==1) return(list(x=x,blocks=b,increasing=up))
	for (i in 2:length(x)){
		if (x[i]<=x[lasti] & up){
		   wtotal<-w[lasti]+w[i]
		   x[lasti]<-(x[lasti]*w[lasti]+x[i]*w[i])/wtotal
		   w[lasti]<-wtotal
		   b[lasti]<-b[i]+b[lasti]
		   b[i]<-0
		 }else if (x[i]<=x[lasti] & !up){
		   lasti<-i
		 }else if (x[i]>x[lasti] & !up){
		   wtotal<-w[lasti]+w[i]
		   x[lasti]<-(x[lasti]*w[lasti]+x[i]*w[i])/wtotal
		   w[lasti]<-wtotal
		   b[lasti]<-b[i]+b[lasti]
		   b[i]<-0
		 }else if(x[i]>x[lasti] & up){
		   lasti<-i
		 }
		}
	 if (any(b==0)) {
		subset<-(b>0)
		return(pava.blocks(x[subset],w[subset],b[subset],up))
		}
	 else return(list(x=x,blocks=b,increasing=up))
}


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Tue Mar 13 00:23:04 2001
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Tue, 13 Mar 2001 12:23:04 +1300
Subject: [R] residuals from lowess fit
Message-ID: <200103122323.f2CNN9L07158@storm.niwa.cri.nz>

Colleagues

----------------------------------
System info:
R version rw1022 on NT
ESS v. 5.1.18 using emacs ver. 20.4

----------------------------------
I would like to access the residuals from a lowess fit (function lowess() ) 
as an aid to assessing whether I am over-smoothing or under-smoothing 
a dataset (as in Cleveland's book "Visualizing data", section 3.3)

Unless I misunderstand, the lowess function only returns the independent 
variable and the smoothed dependent variable, without residuals. 

e.g. 
> z <- lowess(....)
> names(z)
[1] "x" "y"

I think from a look at the lowess() function that the coding where 
residuals are calculated is in C?

> lowess
function (x, y = NULL, f = 2/3, iter = 3, delta = 0.01 * 
diff(range(xy$x[o]))) 
{
    xy <- xy.coords(x, y)
    if (length(xy$x) != length(xy$y)) 
        stop("x and y lengths differ")
    n <- length(xy$x)
    o <- order(xy$x)
    .C("lowess", x = as.double(xy$x[o]), as.double(xy$y[o]), 
        n, as.double(f), as.integer(iter), as.double(delta), 
        y = double(n), double(n), double(n), PACKAGE = "base")[c("x", 
        "y")]
}

Is there any way for me to get the residuals out?

Help will be appreciated.
Thanks

Sam

Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz 

                    /\
...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Mar 13 00:31:41 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 12 Mar 2001 15:31:41 -0800 (PST)
Subject: [R] residuals from lowess fit
In-Reply-To: <200103122323.f2CNN9L07158@storm.niwa.cri.nz>
Message-ID: <Pine.A41.4.33.0103121528110.83530-100000@homer08.u.washington.edu>

On Tue, 13 Mar 2001, S.McClatchie wrote:

> Colleagues
>
> ----------------------------------
> System info:
> R version rw1022 on NT
> ESS v. 5.1.18 using emacs ver. 20.4
>
> ----------------------------------
> I would like to access the residuals from a lowess fit (function lowess() )
> as an aid to assessing whether I am over-smoothing or under-smoothing
> a dataset (as in Cleveland's book "Visualizing data", section 3.3)
>
> Unless I misunderstand, the lowess function only returns the independent
> variable and the smoothed dependent variable, without residuals.
>
> e.g.
> > z <- lowess(....)
> > names(z)
> [1] "x" "y"
>
> I think from a look at the lowess() function that the coding where
> residuals are calculated is in C?
>
> > lowess
> function (x, y = NULL, f = 2/3, iter = 3, delta = 0.01 *
> diff(range(xy$x[o])))
> {
>     xy <- xy.coords(x, y)
>     if (length(xy$x) != length(xy$y))
>         stop("x and y lengths differ")
>     n <- length(xy$x)
>     o <- order(xy$x)
>     .C("lowess", x = as.double(xy$x[o]), as.double(xy$y[o]),
>         n, as.double(f), as.integer(iter), as.double(delta),
>         y = double(n), double(n), double(n), PACKAGE = "base")[c("x",
>         "y")]
> }
>
> Is there any way for me to get the residuals out?
>

You could just subtract the fitted value from the observed value

l<-lowess(x,y)
r<-y[order(x)]-l$y


or you could use loess() in the modreg package

library(modreg)
r<-residuals(loess(y~x))

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Mar 13 00:46:20 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Mar 2001 00:46:20 +0100
Subject: [R] residuals from lowess fit
In-Reply-To: "S.McClatchie"'s message of "Tue, 13 Mar 2001 12:23:04 +1300"
References: <200103122323.f2CNN9L07158@storm.niwa.cri.nz>
Message-ID: <x2snkiczzn.fsf@blueberry.kubism.ku.dk>

"S.McClatchie" <s.mcclatchie at niwa.cri.nz> writes:

> > z <- lowess(....)
> > names(z)
> [1] "x" "y"
> 
> I think from a look at the lowess() function that the coding where 
> residuals are calculated is in C?
> 
> > lowess
> function (x, y = NULL, f = 2/3, iter = 3, delta = 0.01 * 
> diff(range(xy$x[o]))) 
> {
>     xy <- xy.coords(x, y)
>     if (length(xy$x) != length(xy$y)) 
>         stop("x and y lengths differ")
>     n <- length(xy$x)
>     o <- order(xy$x)
>     .C("lowess", x = as.double(xy$x[o]), as.double(xy$y[o]), 
>         n, as.double(f), as.integer(iter), as.double(delta), 
>         y = double(n), double(n), double(n), PACKAGE = "base")[c("x", 
>         "y")]
> }
> 
> Is there any way for me to get the residuals out?

Sure, the fitted values are in the $y component of the result,
although sorted by the x values, so you need something like

l <- lowess(x,y)
o <- order(x)
r <- y
r[o] <- r[o] - l$y

but more expediently

library(modreg)
y - predict(loess(y~x))

(but note that loess and lowess have different defaults...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Tue Mar 13 00:46:18 2001
From: faheem at email.unc.edu (Faheem Mitha)
Date: Mon, 12 Mar 2001 18:46:18 -0500 (EST)
Subject: [R] loading shared libraries at startup
Message-ID: <Pine.LNX.4.21.0103121841030.496-100000@Chrestomanci.home.earth>

Dear people,

I compiled a bit of C code into a shared library cftpR.so, and load it
into R at runtime using

> dyn.load("cftpR.so")

This works fine, however when I put 

.First <- function()
{ 
dyn.load("/home/faheem/research/cftp/cftpR.so")
}

(using absolute path names; also tried with just dyn.load("cftpR.so")),
into my .Rprofile to load the library at startup, the library doesn't get
loaded. I am sure I am missing something obvious, but I spent a while
trying different things and reading documentation, but no dice. So, I
crave your indulgence.

                             Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Tue Mar 13 01:14:49 2001
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Tue, 13 Mar 2001 13:14:49 +1300
Subject: Summary :Re: [R] 1.2.2 under M$ windows 2000 lots of plots
  outof memory?
In-Reply-To: <saaca059.035@hc4>
Message-ID: <200103130016.NAA09738@gosset.stats.waikato.ac.nz>

I suspect that many list members are not reading this thread because they
filter out emails with a $ in the subject line!


Murray Jorgensen,  Department of Statistics,  U of Waikato, Hamilton, NZ
-----[+64-7-838-4773]---------------------------[maj at waikato.ac.nz]-----
"Doubt everything or believe everything:these are two equally convenient
strategies. With either we dispense with the need to think."
http://www.stats.waikato.ac.nz/Staff/maj.html          - Henri Poincare'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Mar 13 01:44:12 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 12 Mar 2001 16:44:12 -0800 (PST)
Subject: [R] loading shared libraries at startup
In-Reply-To: <Pine.LNX.4.21.0103121841030.496-100000@Chrestomanci.home.earth>
Message-ID: <Pine.A41.4.33.0103121635560.83530-100000@homer08.u.washington.edu>

On Mon, 12 Mar 2001, Faheem Mitha wrote:

> Dear people,
>
> I compiled a bit of C code into a shared library cftpR.so, and load it
> into R at runtime using
>
> > dyn.load("cftpR.so")
>
> This works fine, however when I put
>
> .First <- function()
> {
> dyn.load("/home/faheem/research/cftp/cftpR.so")
> }
>
> (using absolute path names; also tried with just dyn.load("cftpR.so")),
> into my .Rprofile to load the library at startup, the library doesn't get
> loaded. I am sure I am missing something obvious, but I spent a while
> trying different things and reading documentation, but no dice. So, I
> crave your indulgence.

It works when I do it.

aleph% more .Rprofile
.First<-function(){
  print(".First is being run")
  dyn.load("~/Rarchive/libloc/survival5/libs/survival5.so")
  print(is.loaded(symbol.C("coxdetail")))
}
aleph% R
...

[Previously saved workspace restored]

[1] ".First is being run"
[1] TRUE

What are the symptoms: do you get an error message? How do you tell it
wasn't loaded? Is .First() being run?


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle
^^^^^^^^^^^^^^^^^^^^^^^^
 NOTE NEW EMAIL ADDRESS

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aperrin at socrates.berkeley.edu  Tue Mar 13 02:16:22 2001
From: aperrin at socrates.berkeley.edu (Andrew Perrin)
Date: Mon, 12 Mar 2001 20:16:22 -0500 (EST)
Subject: [R] 3d plots of mca() results?
Message-ID: <Pine.LNX.4.21.0103122014410.11255-100000@nujoma.perrins>

Greetings.

I'm about to embark on my first big (to me at least!) R project, which
will be to write a function to plot three-dimensional multiple
correspondence analysis (mca) plots in a manner similar to
scatterplot3d(). (plot.mca() plots only two dimensions, even though
mca() will calculate more.)  Before I do so, however, I would love to know
that I'm not reinventing the wheel or any other similarly common
implements. Has anyone done this before?

Many thanks.

----------------------------------------------------------------------
Andrew J Perrin - Ph.D. Candidate, UC Berkeley, Dept. of Sociology  
(Soon: Asst Professor of Sociology, U of North Carolina, Chapel Hill)
andrew_perrin at unc.edu - http://www.unc.edu/~aperrin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aperrin at socrates.berkeley.edu  Tue Mar 13 03:39:10 2001
From: aperrin at socrates.berkeley.edu (Andrew Perrin)
Date: Mon, 12 Mar 2001 21:39:10 -0500 (EST)
Subject: [R] gc() shrinks with multiple iterations
Message-ID: <Pine.LNX.4.21.0103122137410.11255-100000@nujoma.perrins>

Is it expected behavior for gc() to return shrinking values as it gets
called multiple times? Here's what I've got:

> gc()
          used (Mb) gc trigger  (Mb)
Ncells  221754  6.0     467875  12.5
Vcells 3760209 28.7   14880310 113.6
> gc()
          used (Mb) gc trigger (Mb)
Ncells  221760  6.0     467875 12.5
Vcells 3016206 23.1   11904247 90.9
> gc()
          used (Mb) gc trigger (Mb)
Ncells  221760  6.0     467875 12.5
Vcells 2420993 18.5    9523397 72.7
> gc()
          used (Mb) gc trigger (Mb)
Ncells  221760  6.0     467875 12.5
Vcells 1944823 14.9    7618717 58.2
> gc()
          used (Mb) gc trigger (Mb)
Ncells  221760    6     467875 12.5
Vcells 1563887   12    6094973 46.6
> gc()
          used (Mb) gc trigger (Mb)
Ncells  221760  6.0     467875 12.5
Vcells 1259138  9.7    4875978 37.3
> gc()
          used (Mb) gc trigger (Mb)
Ncells  221760  6.0     467875 12.5
Vcells 1015339  7.8    3900782 29.8
> gc()
         used (Mb) gc trigger (Mb)
Ncells 221760  6.0     467875 12.5
Vcells 820300  6.3    3120625 23.9
> gc()
         used (Mb) gc trigger (Mb)
Ncells 221760  6.0     467875 12.5
Vcells 664269  5.1    2496499 19.1
> gc()
         used (Mb) gc trigger (Mb)
Ncells 221760  6.0     467875 12.5
Vcells 539443  4.2    1997199 15.3
> gc()
         used (Mb) gc trigger (Mb)
Ncells 221760  6.0     467875 12.5
Vcells 439583  3.4    1597759 12.2
> gc()
         used (Mb) gc trigger (Mb)
Ncells 221760  6.0     467875 12.5
Vcells 359695  2.8    1278207  9.8
> gc()
         used (Mb) gc trigger (Mb)
Ncells 221760  6.0     467875 12.5
Vcells 295785  2.3    1022565  7.9
> gc()
         used (Mb) gc trigger (Mb)
Ncells 221760  6.0     467875 12.5
Vcells 244657  1.9     818051  6.3
> gc()
         used (Mb) gc trigger (Mb)
Ncells 221760  6.0     467875 12.5
Vcells  71762  0.6     786432  6.0
> gc()
         used (Mb) gc trigger (Mb)
Ncells 221760  6.0     467875 12.5
Vcells  40143  0.4     786432  6.0

It then stabilizes at those values. Any explanation?

----------------------------------------------------------------------
Andrew J Perrin - Ph.D. Candidate, UC Berkeley, Dept. of Sociology  
(Soon: Asst Professor of Sociology, U of North Carolina, Chapel Hill)
andrew_perrin at unc.edu - http://www.unc.edu/~aperrin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Tue Mar 13 04:14:53 2001
From: faheem at email.unc.edu (Faheem Mitha)
Date: Mon, 12 Mar 2001 22:14:53 -0500 (EST)
Subject: [R] loading shared libraries at startup
In-Reply-To: <Pine.A41.4.33.0103121635560.83530-100000@homer08.u.washington.edu>
Message-ID: <Pine.LNX.4.21.0103122201520.496-100000@Chrestomanci.home.earth>



On Mon, 12 Mar 2001, Thomas Lumley wrote:

> On Mon, 12 Mar 2001, Faheem Mitha wrote:
> 
> > Dear people,
> >
> > I compiled a bit of C code into a shared library cftpR.so, and load it
> > into R at runtime using
> >
> > > dyn.load("cftpR.so")
> >
> > This works fine, however when I put
> >
> > .First <- function()
> > {
> > dyn.load("/home/faheem/research/cftp/cftpR.so")
> > }
> >
> > (using absolute path names; also tried with just dyn.load("cftpR.so")),
> > into my .Rprofile to load the library at startup, the library doesn't get
> > loaded. I am sure I am missing something obvious, but I spent a while
> > trying different things and reading documentation, but no dice. So, I
> > crave your indulgence.
> 
> It works when I do it.
> 
> aleph% more .Rprofile
> .First<-function(){
>   print(".First is being run")
>   dyn.load("~/Rarchive/libloc/survival5/libs/survival5.so")
>   print(is.loaded(symbol.C("coxdetail")))
> }
> aleph% R
> ...
> 
> [Previously saved workspace restored]
> 
> [1] ".First is being run"
> [1] TRUE
> 
> What are the symptoms: do you get an error message? How do you tell it
> wasn't loaded? Is .First() being run?

I added a couple of lines to my .First as you did above.

faheem ~>cat .Rprofile

print("reading .Rprofile")
.First <- function()
{ 
print(".First is being run")
dyn.load("/home/faheem/research/cftp/cftpR.so")
print(is.loaded(symbol.C("onestepupdateR")))
}

but when I run R I just get

[1] "reading .Rprofile"
[Previously saved workspace restored]

> 

Seems to be ignoring .First completely. It worked fine with previous
versions of R (I used to use it to load libs). Can you suggest some
debugging diagnostics? Is this perhaps due to some old .Rdata files
floating around or something like that?

You asked how I know that it wasn't loaded. Well, this is probably not the
best way, but I simply do

> dyn.unload("cftpR.so")
Error in dyn.unload(x) : shared library
"/home/faheem/research/cftp/cftpR.so" was not loaded
> 

If it is already loaded, it unloads without comment. I'm using R 1.2.1
(SuSE Linux 6.2). Recompiled it using gcc version egcs-2.91.66.

                                             Faheem.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Tue Mar 13 04:47:21 2001
From: znmeb at aracnet.com (M. Edward Borasky)
Date: Mon, 12 Mar 2001 19:47:21 -0800
Subject: [R] Building from source on Alpha platform
In-Reply-To: <Pine.LNX.4.21.0103122137410.11255-100000@nujoma.perrins>
Message-ID: <HBEHIIBBKKNOBLMPKCBBGEIBDDAA.znmeb@aracnet.com>

I'm trying to build R 1.2.2 from source on an Alpha (Digital UNIX 4.0d, to
be precise). The compiler / tool set is gcc 2.95.2. The "configure" and
"make" steps work fine, but when I do "make check", the job spawns a bunch
of processes and then just stops doing anything. The resulting R executable
seems to be OK; it runs "demo(graphics)" and a few of my own tests. Any
ideas?

--
Ed Borasky
http://www.aracnet.com/~znmeb
mailto:znmeb at aracnet.com

Q: What phrase will you never hear Candice Bergen use?
A: "My daddy didn't raise no dummies".

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Mar 13 08:46:00 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 13 Mar 2001 08:46:00 +0100 (MET)
Subject: [R] 1.2.2 under M$ windows 2000 lots of plots out of memory?
In-Reply-To: <AFD78192EC49D311BFAE00902798AB8F0BDE4E@jupiter.sc.arbitrade.com>
Message-ID: <Pine.GSO.4.21.0103130844440.11892-100000@amadeus.statistik.uni-dortmund.de>

On Mon, 12 Mar 2001, Vadim Ogranovich wrote:

> Unfortunately, I don't have 1.2.x installed so I can not read ?Memory, but
> your e-mail seems to suggest that one can not have a workpspace bigger than
> 256M no matter how much RAM the computer has. Am I reading you correctly?
> Thanks, Vadim

No.
You can specify --max-mem-size, which defaults to the minimum of 256M
and the installed RAM on your machine.

Uwe

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Mar 13 09:51:20 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Mar 2001 09:51:20 +0100
Subject: [R] loading shared libraries at startup
In-Reply-To: Faheem Mitha's message of "Mon, 12 Mar 2001 22:14:53 -0500 (EST)"
References: <Pine.LNX.4.21.0103122201520.496-100000@Chrestomanci.home.earth>
Message-ID: <x2pufm6ohj.fsf@blueberry.kubism.ku.dk>

Faheem Mitha <faheem at email.unc.edu> writes:

> faheem ~>cat .Rprofile
> 
> print("reading .Rprofile")
> .First <- function()
> { 
> print(".First is being run")
> dyn.load("/home/faheem/research/cftp/cftpR.so")
> print(is.loaded(symbol.C("onestepupdateR")))
> }
> 
> but when I run R I just get
> 
> [1] "reading .Rprofile"
> [Previously saved workspace restored]
> 
> > 
> 
> Seems to be ignoring .First completely. It worked fine with previous
> versions of R (I used to use it to load libs). Can you suggest some
> debugging diagnostics? Is this perhaps due to some old .Rdata files
> floating around or something like that?

If there's *another* .First in your workspace, it would seem to
explain the behaviour. What is in .First after loading?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Mar 13 11:31:39 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 13 Mar 2001 11:31:39 +0100
Subject: [R] 3d plots of mca() results?
References: <Pine.LNX.4.21.0103122014410.11255-100000@nujoma.perrins>
Message-ID: <3AADF70B.66D25E19@statistik.uni-dortmund.de>

Andrew Perrin wrote:
> 
> Greetings.
> 
> I'm about to embark on my first big (to me at least!) R project, which
> will be to write a function to plot three-dimensional multiple
> correspondence analysis (mca) plots in a manner similar to
> scatterplot3d(). (plot.mca() plots only two dimensions, even though
> mca() will calculate more.)  Before I do so, however, I would love to know
> that I'm not reinventing the wheel or any other similarly common
> implements. Has anyone done this before?

In plot.mca() the function eqscplot() is used ("with scales chosen to be
equal on both axes").
It is not easy to get such a behaviour with scatterplot3d().


On the other hand, plotting a mca object should be easy using
scatterplot3d(), e.g. along the lines of plot.mca():



plot3d.mca <- function (x, rows = T, col, cex = par("cex"), ...) 
{
    library(scatterplot3d)
    if (length(cex) == 1) 
        cex <- rep(cex, 2)
    s3d <- scatterplot3d(x$cs, type = "n", xlab = "", ...)
    if (missing(col)) {
        col <- par("col")
        if (!is.numeric(col)) 
            col <- match(col, palette())
        col <- c(col, col + 1)
    }
    else if (length(col) != 2) 
        col <- rep(col, length = 2)
    if (rows) {
	s3d.temp <- s3d$xyz.convert(x$rs)
	text(s3d.temp, labels = seq(along = x$rs), cex = cex[1], col = col[1],
...)
    }
    s3d.temp <- s3d$xyz.convert(x$cs)
    text(s3d.temp, labels = dimnames(x$cs)[[1]], cex = cex[2], col =
col[2], ...)
    invisible(x)
}

Example:
  data(farms)
  plot3d.mca(mca(farms, abbrev=TRUE, nf=3))


Don't hurt me for any errors, this was a quick hack ....

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Tue Mar 13 14:46:24 2001
From: fharrell at virginia.edu (fharrell@virginia.edu)
Date: Tue, 13 Mar 2001 08:46:24 -0500
Subject: [S] [R] Regressions with monotonicity constraints
References: <Pine.A41.4.33.0103121504380.83530-100000@homer08.u.washington.edu>
Message-ID: <3AAE24B0.BCE10B76@virginia.edu>

Also take a look at Rob Tibshirani's "bootstrap bumping" in
which you select the optimum (best log-likelihood) parameter
estimates (over say 100 bootstrap fits) that satisified the
constraints.  Bumping probably works better in smooth situations
such as placing monotonicity restrictions on splines, but
it may work in your case.  -Frank Harrell

@TECHREPORT{tib97mod,
  author = {Tibshirani, Robert and Knight, Keith},
  year = 1997,
  title = {Model search and inference by bootstrap ``bumping''},
  note = {Presented at the Joint Statistical Meetings, Chicago, August
1996},
  address = {{\tt http://www-stat.stanford.edu/~tibs/}},
  institution = {Department of Statistics, University of Toronto},
  annote = {simultaneous confidence regions; confidence sets;
constrained
           optimization; CART; improving performance of estimators via
the
           bootstrap}
}    



Thomas Lumley wrote:
> 
> On Mon, 12 Mar 2001, Vadim Ogranovich wrote:
> 
> > This seems to be a recurrent topic, but I don't remember hearing a
> > definitive answer. I also apologies for cross-posting.
> >
> > Say I have a numerical response variable and a bunch of multi-level factors
> > I want to use for modeling. I don't expect factor interaction to be
> > important so there will be no interactions in the model.
> > All this would be a perfect job for ANOVA except for one additional
> > requirement: all factors are ordered, i.e. for any two levels in a factor
> > one is bigger than the other, and I want the regression to preserve the
> > ordering, that is to be monotonic.
> >
> > I can think of two definitions of monotonicity, weak and strong, and in case
> > it matters I am more interested in the strong one, which I define as
> > follows:
> > If L1 < L2 within some factor F than
> > prediction(L1, other factors) < prediction(L2, other factors)
> > for ANY SELECTION of 'other factors' levels.
> > (A weak monotonicity could be defined as prediction(L1) < prediction(L2) on
> > average).
> 
> in the absence of interactions these are equivalent, surely?
> 
> One-dimensional monotonic regression is easy using the
> Pool-Adjacent-Violators algorithm.  I think an additive monotonic model
> could be estimated by backfitting as for generalised linear models: update
> the function for each predictor in turn by using the one-dimensional
> algorithm on the partial residuals from the previous iteration.
> Backfitting is described in "Generalized Additive Models" by Hastie &
> Tibshirani (Chapman & Hall) and probably other places.
> 
> The more difficult case is a non-additive model (ie interactions). For
> discrete factors there were two papers in the Journal of Computational &
> Graphical Statistics by Qian and colleagues. One of them was
> @article{qian:eddy:1996,
>     Author = {Qian, Shixian and Eddy, William F.},
>     Title = {An Algorithm for Isotonic Regression on Ordered Rectangular
>             Grids},
>     Year = 1996,
>     Journal = {Journal of Computational and Graphical Statistics},
>     Volume = 5,
>     Pages = {225--235},
>     Keywords = {[Block class algorithm]; [Monotone regression]; [Recursive
>                partitioning]; [Sandwich algorithm]}
> }
> 
> > Any reference to S, R, C code / papers which address this topic will be
> > highly appreciated.
> 
> The following does one-dimensional isotonic regression. I believe similar
> code has been posted before. It is recursive but seems fast enough for
> many uses. It returns a compressed form of the result where the first
> component has the distinct fitted values and the second indicates the
> number of repeats.
> 
>         -thomas
> 
> Thomas Lumley                   Asst. Professor, Biostatistics
> tlumley at u.washington.edu        University of Washington, Seattle
> 
>  pava.blocks<-function(x,w=rep(1,length(x)),b=rep(1,length(x)),up=T){
>         lasti<-1
>         if (length(x)==1) return(list(x=x,blocks=b,increasing=up))
>         for (i in 2:length(x)){
>                 if (x[i]<=x[lasti] & up){
>                    wtotal<-w[lasti]+w[i]
>                    x[lasti]<-(x[lasti]*w[lasti]+x[i]*w[i])/wtotal
>                    w[lasti]<-wtotal
>                    b[lasti]<-b[i]+b[lasti]
>                    b[i]<-0
>                  }else if (x[i]<=x[lasti] & !up){
>                    lasti<-i
>                  }else if (x[i]>x[lasti] & !up){
>                    wtotal<-w[lasti]+w[i]
>                    x[lasti]<-(x[lasti]*w[lasti]+x[i]*w[i])/wtotal
>                    w[lasti]<-wtotal
>                    b[lasti]<-b[i]+b[lasti]
>                    b[i]<-0
>                  }else if(x[i]>x[lasti] & up){
>                    lasti<-i
>                  }
>                 }
>          if (any(b==0)) {
>                 subset<-(b>0)
>                 return(pava.blocks(x[subset],w[subset],b[subset],up))
>                 }
>          else return(list(x=x,blocks=b,increasing=up))
> }
> 
> ---------------------------------------------------------------------
> This message was distributed by s-news at lists.biostat.wustl.edu.  To
> unsubscribe send e-mail to s-news-request at lists.biostat.wustl.edu with
> the BODY of the message:  unsubscribe s-news

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dieter.menne at menne-biomed.de  Tue Mar 13 15:19:22 2001
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Tue, 13 Mar 2001 15:19:22 +0100
Subject: [R] Display grouping parameter in coplot
Message-ID: <NBBBIJMBGLHMKHGCPFJKOEGOCGAA.dieter.menne@menne-biomed.de>

I try to display the grouping variable in coplot.
It work, but it's special solution and rather ugly.
Any better idea?

# Simulate my data frame
data(state)
x77<-data.frame(state.x77)
x77$region<-state.region

coplot(Life.Exp ~ Income | region,
     data=x77, show.given=F,     subscripts=T,
     panel = function(x, y,subscripts, ...)
     {
       panel.smooth(x, y, span = 1., ...)
       # Shuddrr....
       # There must be way to access the grouping parameter
       leg<-as.character(x77$region[subscripts][1])
       legend(3000,74,leg,bty="n")
     }
     )


---------------------------------------
Dr. Dieter Menne
Biomed Software
72074 T?bingen
Tel (49) (7071) 52176
FAX (49) (7071) 55 10 46
dieter.menne at menne-biomed.de
www.menne-biomed.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bobo at medgen.univr.it  Tue Mar 13 16:44:03 2001
From: bobo at medgen.univr.it (Malerba Giovanni)
Date: Tue, 13 Mar 2001 16:44:03 +0100 (CET)
Subject: [R] sink() and command files
In-Reply-To: <NBBBIJMBGLHMKHGCPFJKOEGOCGAA.dieter.menne@menne-biomed.de>
Message-ID: <Pine.LNX.4.30.0103131635250.17329-100000@malerba.univr.it>

Dear all,
if I type from the R command line the following:

ped <- read.table("R.ped", header=TRUE, sep=";",na.strings="x")
p <- glm(formula=Dust.mites ~ Graminacee+IgE.num+geneA,ped,family=binomial(logit))
sink (file="r.output")
summary(p)
sink()

everything works fine and 'r.output' is generated.
BUT , if I write (with an editor) the same lines into a command-file (i.e.
r.bat)  and from the R command line I type: source("r.bat")
the r.output is generated but it is empty.
What should I do to write a command-file that is able to re-direct the R
output to a file?
Many thanks,
Giovanni Malerba



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Mar 13 17:01:05 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 13 Mar 2001 08:01:05 -0800 (PST)
Subject: [R] gc() shrinks with multiple iterations
In-Reply-To: <Pine.LNX.4.21.0103122137410.11255-100000@nujoma.perrins>
Message-ID: <Pine.A41.4.33.0103130758310.112162-100000@homer35.u.washington.edu>

On Mon, 12 Mar 2001, Andrew Perrin wrote:

> Is it expected behavior for gc() to return shrinking values as it gets
> called multiple times? Here's what I've got:
>

Yes, it's part of the new memory management.  R can now expand or contract
its heap dynamically, so when memory use decreases the spare memory will
be released back to the operating system.  The operating system typically
won't take it, but it will be available for .C code to malloc(), and
if it remains unused a competent operating system will probably swap it to
disk.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Mar 13 17:16:55 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 13 Mar 2001 08:16:55 -0800 (PST)
Subject: [R] sink() and command files
In-Reply-To: <Pine.LNX.4.30.0103131635250.17329-100000@malerba.univr.it>
Message-ID: <Pine.A41.4.33.0103130812440.112162-100000@homer35.u.washington.edu>

On Tue, 13 Mar 2001, Malerba Giovanni wrote:

> Dear all,
> if I type from the R command line the following:
>
> ped <- read.table("R.ped", header=TRUE, sep=";",na.strings="x")
> p <- glm(formula=Dust.mites ~ Graminacee+IgE.num+geneA,ped,family=binomial(logit))
> sink (file="r.output")
> summary(p)
> sink()
>
> everything works fine and 'r.output' is generated.
> BUT , if I write (with an editor) the same lines into a command-file (i.e.
> r.bat)  and from the R command line I type: source("r.bat")
> the r.output is generated but it is empty.
> What should I do to write a command-file that is able to re-direct the R
> output to a file?

That isn't the problem.  You need to write a command file that generates
some R output.

The command
	summary(p)
does not generate any output. It computes a set of summaries and returns
them in an R object of class "summary.glm".

If you type "summary(p)" at the command line the returned value is
automatically printed, but in other circumstances it isn't.

To print the value use
	print(summary(p))
instead.

This should be added to the FAQ; it confuses a lot of people.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Mar 13 19:03:21 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Mar 2001 19:03:21 +0100
Subject: [R] sink() and command files
In-Reply-To: Thomas Lumley's message of "Tue, 13 Mar 2001 08:16:55 -0800 (PST)"
References: <Pine.A41.4.33.0103130812440.112162-100000@homer35.u.washington.edu>
Message-ID: <x23dcheec6.fsf@blueberry.kubism.ku.dk>

Thomas Lumley <tlumley at u.washington.edu> writes:

> To print the value use
> 	print(summary(p))
> instead.

Or use source("r.bat", echo=TRUE) or source("r.bat", print.eval=TRUE) 
(first version also lists the commands)

> This should be added to the FAQ; it confuses a lot of people.

ditto.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jacobsons at iafrica.com  Tue Mar 13 19:11:51 2001
From: jacobsons at iafrica.com (Jacobson)
Date: Tue, 13 Mar 2001 20:11:51 +0200
Subject: [R] loading data
Message-ID: <000a01c0abe9$19e8f100$b5ea1ec4@s2>

I have a text file and want to load this data into a matrix (it is two columns consisting of 120 rows each).

How do I do this?

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010313/72289558/attachment.html

From faheem at email.unc.edu  Tue Mar 13 19:21:29 2001
From: faheem at email.unc.edu (Faheem Mitha)
Date: Tue, 13 Mar 2001 13:21:29 -0500 (EST)
Subject: [R] loading shared libraries at startup
In-Reply-To: <x2pufm6ohj.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21.0103131204320.462-100000@Chrestomanci.home.earth>



On 13 Mar 2001, Peter Dalgaard BSA wrote:

> Faheem Mitha <faheem at email.unc.edu> writes:
> 
> > faheem ~>cat .Rprofile
> > 
> > print("reading .Rprofile")
> > .First <- function()
> > { 
> > print(".First is being run")
> > dyn.load("/home/faheem/research/cftp/cftpR.so")
> > print(is.loaded(symbol.C("onestepupdateR")))
> > }
> > 
> > but when I run R I just get
> > 
> > [1] "reading .Rprofile"
> > [Previously saved workspace restored]
> > 
> > > 
> > 
> > Seems to be ignoring .First completely. It worked fine with previous
> > versions of R (I used to use it to load libs). Can you suggest some
> > debugging diagnostics? Is this perhaps due to some old .Rdata files
> > floating around or something like that?
> 
> If there's *another* .First in your workspace, it would seem to
> explain the behaviour. What is in .First after loading?

Yes, indeed there seems to be (presumably saved in the old .Rdata)

> .First
function()
{ library(mva)
}
> 

This is what I had before I changed it. I just looked at the help page for
Startup. It says

              **********************************

Then, unless --no-init-file was given, R searches for a file called
`.Rprofile' in the current directory or in the user's home
directory (in that order) and sources it into the user workspace. 

It then loads a saved image of the user workspace from `.RData' if there
is one (unless --no-restore-data was specified, or
--no-restore).

Finally, if a function .First exists, it is executed as .First().

                *********************************

This seems to suggest that (if I am understanding it correctly), that even
if a .First is present in the .Rprofile, it will be overwritten by a copy
of .First if such a copy is saved in .Rdata. Therefore, when the .First is
executed, it will be the version saved in .Rdate.

But isn't this undesirable behavour? Ie. isn't the preferred version of
First the one in .Rprofile? What is the best way of dealing with this? Do
I need to remove .First from my environment every time I change .First in
my .Rprofile? A preemptive line in .Rprofile like

rm(".First")
.First <- function()
...

perhaps? Thanks for the clarification. Funny, I never noticed this
behaviour before, though, and I have changed .First quite a lot in the
past. Oh, I see, the following would explain it:

"Prior to R version 1.2.1, `.Rprofile' was sourced after `.RData' was
loaded, although the documented order was as here."

"Here" presumably means as stated above, ie. first .Rprofile then .Rdata,
so documented order and actual order were different before 1.2.1? The
(actual) original order seems preferable to me, though.

                                                Faheem.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 13 19:22:54 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 13 Mar 2001 18:22:54 +0000 (GMT)
Subject: [R] loading data
In-Reply-To: <000a01c0abe9$19e8f100$b5ea1ec4@s2>
Message-ID: <Pine.LNX.4.21.0103131821010.800-100000@localhost>

On Tue, 13 Mar 2001, Jacobson wrote:

> I have a text file and want to load this data into a matrix (it is two columns consisting of 120 rows each).
> 
> How do I do this?

See the shipped manuals, `An Introduction to R' or `R Data Import/Export'.
Exactly how depends on what separates the two columns, but you will
almost certainly need function read.table,

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Tue Mar 13 19:38:38 2001
From: faheem at email.unc.edu (Faheem Mitha)
Date: Tue, 13 Mar 2001 13:38:38 -0500 (EST)
Subject: [R] loading shared libraries at startup
In-Reply-To: <Pine.LNX.4.21.0103131204320.462-100000@Chrestomanci.home.earth>
Message-ID: <Pine.LNX.4.21.0103131334460.462-100000@Chrestomanci.home.earth>



On Tue, 13 Mar 2001, Faheem Mitha wrote:

> Do
> I need to remove .First from my environment every time I change .First in
> my .Rprofile? A preemptive line in .Rprofile like
> 
> rm(".First")
> .First <- function()
> ...
> 
> perhaps? Thanks for the clarification. 

This doesn't work because the workspace has not been restored
yet. However, putting it in last will probably work. Ie. 

.Last
{
rm(".First")
}

But I have decided I don't need .First anyway. I am just going to put my
startup stuff in .Rprofile directly. I can't see any reason why not to.

                          Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Tue Mar 13 22:15:20 2001
From: faheem at email.unc.edu (Faheem Mitha)
Date: Tue, 13 Mar 2001 16:15:20 -0500 (EST)
Subject: [R] passing arguments to R CMD SHLIB
Message-ID: <Pine.LNX.4.21.0103131605380.462-100000@Chrestomanci.home.earth>

Dear People,

I want to run gcc with optimisation turned on (-O2), and with -Wall (all
warnings) enabled, when using R CMD SHLIB. When I do make, which is

R CMD SHLIB -Wall -O2 cftp.c mcmc.c latticefn.c -lm

in this case, I get

faheem ~/research/cftp>make
R CMD SHLIB -Wall -O2 cftp.c mcmc.c latticefn.c -lm
make[1]: Entering directory `/home/faheem/research/cftp'
gcc -I/usr/lib/R/include  -I/usr/local/include -mieee-fp
-D__NO_MATH_INLINES  -fPIC  -g -c cftp.c -o cftp.o
gcc -shared  -o cftp.so cftp.o mcmc.o latticefn.o -L/usr/local/lib   
make[1]: Leaving directory `/home/faheem/research/cftp'
faheem ~/research/cftp>

it doesn't look like the arguments -O2 and -Wall get passed down. Is there
some reason for this? I certainly would like error checking to be turned
on as much as possible.

While we are on the topic, it looked like make is involved in invoking a
command like R CMD SHLIB -Wall -O2 cftp.c mcmc.c latticefn.c -lm. This is
presumably done using clever pattern rules and/or substitutions. I am
curious about how this is done. Can someone point to me to the appropriate
portion of the source code?

Thanks in advance for any help.

                       Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Tue Mar 13 22:36:07 2001
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Tue, 13 Mar 2001 13:36:07 -0800
Subject: [R] kmeans cluster stability
Message-ID: <5.1.0.10.2.20010313132627.00a7fb10@127.0.0.1>

I'm doing kmeans partitioning on a small (n=26) dataset that has 5 
variables.  I noticed that if I repeatedly run the same command, the 
cluster centers change and the cluster membership changes.

Using RW1022 under Windows NT & Windows 2000

 >kmeans(pottery[,1:5], 4, 20)

[...snip]
$size
[1] 7 3 9 7
[...snip]
$size
[1]  7 10  4  5
[...snip]
$size
[1]  6 10  5  5

yields a different answer every time a run it.  Sometimes the answer is 
different only in the order of withinss (and the ordering of the numbers of 
cases assigned to each group).  Other times there are completely different 
centers, withinss and completely different cluster configurations.  This 
variability doesn't happen in either S-Plus 2000 or S-Plus 6.0 (Beta 2).

I can see from the help that the R kmeans() function chooses a random set 
of rows as cluster centers if the initial centers aren't specified, while 
S-Plus uses hclust() and cutree() to determine the initial clusters.

Is there any way to "make" kmeans results persist under repeated uses of 
the same command?

Thanks,




=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://web.pdx.edu/~h1mf
PGP Key Available On Request
======================

"Anyway, no drug, not even alcohol, causes the fundamental ills of society.
If we're looking for the source of our troubles, we shouldn't test people
for drugs, we should test them for stupidity, ignorance, greed and love of
power."   P.J. O'Rourke

Powered by Optiplochoerus and Windows 2000 (scary isn't it?)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 13 22:41:12 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 13 Mar 2001 21:41:12 +0000 (GMT)
Subject: [R] passing arguments to R CMD SHLIB
In-Reply-To: <Pine.LNX.4.21.0103131605380.462-100000@Chrestomanci.home.earth>
Message-ID: <Pine.GSO.4.31.0103132135150.663-100000@auk.stats>

On Tue, 13 Mar 2001, Faheem Mitha wrote:

> Dear People,
>
> I want to run gcc with optimisation turned on (-O2), and with -Wall (all
> warnings) enabled, when using R CMD SHLIB. When I do make, which is
>
> R CMD SHLIB -Wall -O2 cftp.c mcmc.c latticefn.c -lm
>
> in this case, I get
>
> faheem ~/research/cftp>make
> R CMD SHLIB -Wall -O2 cftp.c mcmc.c latticefn.c -lm
> make[1]: Entering directory `/home/faheem/research/cftp'
> gcc -I/usr/lib/R/include  -I/usr/local/include -mieee-fp
> -D__NO_MATH_INLINES  -fPIC  -g -c cftp.c -o cftp.o
> gcc -shared  -o cftp.so cftp.o mcmc.o latticefn.o -L/usr/local/lib
> make[1]: Leaving directory `/home/faheem/research/cftp'
> faheem ~/research/cftp>
>
> it doesn't look like the arguments -O2 and -Wall get passed down. Is there
> some reason for this? I certainly would like error checking to be turned
> on as much as possible.

Well, no one said they would be!  If you want to alter flags, they are
set as CFLAGS R_HOME/etc/Makeconf or Makevars. I have -O2 -Wall -pedantic.
I don't think you need -lm as R is linked against that.

> While we are on the topic, it looked like make is involved in invoking a
> command like R CMD SHLIB -Wall -O2 cftp.c mcmc.c latticefn.c -lm. This is
> presumably done using clever pattern rules and/or substitutions. I am
> curious about how this is done. Can someone point to me to the appropriate
> portion of the source code?

SHLIB contains a call to

make -f Makevars -f ${R_HOME}/etc/Makeconf

so you could also set CFLAGS in Makevars. Nothing very clever....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 13 22:44:28 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 13 Mar 2001 21:44:28 +0000 (GMT)
Subject: [R] kmeans cluster stability
In-Reply-To: <5.1.0.10.2.20010313132627.00a7fb10@127.0.0.1>
Message-ID: <Pine.GSO.4.31.0103132142520.663-100000@auk.stats>

On Tue, 13 Mar 2001, Marc Feldesman wrote:

> I'm doing kmeans partitioning on a small (n=26) dataset that has 5
> variables.  I noticed that if I repeatedly run the same command, the
> cluster centers change and the cluster membership changes.
>
> Using RW1022 under Windows NT & Windows 2000
>
>  >kmeans(pottery[,1:5], 4, 20)
>
> [...snip]
> $size
> [1] 7 3 9 7
> [...snip]
> $size
> [1]  7 10  4  5
> [...snip]
> $size
> [1]  6 10  5  5
>
> yields a different answer every time a run it.  Sometimes the answer is
> different only in the order of withinss (and the ordering of the numbers of
> cases assigned to each group).  Other times there are completely different
> centers, withinss and completely different cluster configurations.  This
> variability doesn't happen in either S-Plus 2000 or S-Plus 6.0 (Beta 2).
>
> I can see from the help that the R kmeans() function chooses a random set
> of rows as cluster centers if the initial centers aren't specified, while
> S-Plus uses hclust() and cutree() to determine the initial clusters.
>
> Is there any way to "make" kmeans results persist under repeated uses of
> the same command?

set.seed(123) or specify centers.  Don't assume that S-PLUS is getting a
better answer, BTW.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Wed Mar 14 03:51:41 2001
From: faheem at email.unc.edu (Faheem Mitha)
Date: Tue, 13 Mar 2001 21:51:41 -0500 (EST)
Subject: [R] passing arguments to R CMD SHLIB
In-Reply-To: <Pine.GSO.4.31.0103132135150.663-100000@auk.stats>
Message-ID: <Pine.LNX.4.21.0103132145140.2342-100000@Chrestomanci.home.earth>



On Tue, 13 Mar 2001, Prof Brian D Ripley wrote:

> On Tue, 13 Mar 2001, Faheem Mitha wrote:

> > it doesn't look like the arguments -O2 and -Wall get passed down. Is there
> > some reason for this? I certainly would like error checking to be turned
> > on as much as possible.
> 
> Well, no one said they would be!  If you want to alter flags, they are
> set as CFLAGS R_HOME/etc/Makeconf or Makevars. I have -O2 -Wall -pedantic.
> I don't think you need -lm as R is linked against that.

Is it possible to set CFLAGS at the user level? I am usually not terribly
keen to alter system config files (Makeconf in this case). For one thing,
I don't always have root access on the systems I use, and for another I
tend to lose my changes when I upgrade.

                                               Faheem.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 14 08:03:11 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 14 Mar 2001 07:03:11 +0000 (GMT)
Subject: [R] passing arguments to R CMD SHLIB
In-Reply-To: <Pine.LNX.4.21.0103132145140.2342-100000@Chrestomanci.home.earth>
Message-ID: <Pine.GSO.4.31.0103140657421.750-100000@auk.stats>

On Tue, 13 Mar 2001, Faheem Mitha wrote:

>
>
> On Tue, 13 Mar 2001, Prof Brian D Ripley wrote:
>
> > On Tue, 13 Mar 2001, Faheem Mitha wrote:
>
> > > it doesn't look like the arguments -O2 and -Wall get passed down. Is there
> > > some reason for this? I certainly would like error checking to be turned
> > > on as much as possible.
> >
> > Well, no one said they would be!  If you want to alter flags, they are
> > set as CFLAGS R_HOME/etc/Makeconf or Makevars. I have -O2 -Wall -pedantic.
> > I don't think you need -lm as R is linked against that.
>
> Is it possible to set CFLAGS at the user level? I am usually not terribly
> keen to alter system config files (Makeconf in this case). For one thing,
> I don't always have root access on the systems I use, and for another I
> tend to lose my changes when I upgrade.

I did say so: use a file Makevars. You can only add that way. If you do

cat > Makevars
PKG_CPPFLAGS=-O2 -Wall
^D

then that will be added to CFLAGS.

If you lose changes, make them in the file config.site, and copy that
in when you build a new version of R.  Works for me!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Wed Mar 14 08:19:48 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 14 Mar 2001 08:19:48 +0100
Subject: [R] passing arguments to R CMD SHLIB
In-Reply-To: <Pine.GSO.4.31.0103140657421.750-100000@auk.stats>
References: <Pine.LNX.4.21.0103132145140.2342-100000@Chrestomanci.home.earth>
	<Pine.GSO.4.31.0103140657421.750-100000@auk.stats>
Message-ID: <15023.7060.622359.738360@mithrandir.hornik.net>

>>>>> Prof Brian D Ripley writes:

> On Tue, 13 Mar 2001, Faheem Mitha wrote:
>> 
>> 
>> On Tue, 13 Mar 2001, Prof Brian D Ripley wrote:
>> 
>> > On Tue, 13 Mar 2001, Faheem Mitha wrote:
>> 
>> > > it doesn't look like the arguments -O2 and -Wall get passed down. Is there
>> > > some reason for this? I certainly would like error checking to be turned
>> > > on as much as possible.
>> >
>> > Well, no one said they would be!  If you want to alter flags, they are
>> > set as CFLAGS R_HOME/etc/Makeconf or Makevars. I have -O2 -Wall -pedantic.
>> > I don't think you need -lm as R is linked against that.
>> 
>> Is it possible to set CFLAGS at the user level? I am usually not terribly
>> keen to alter system config files (Makeconf in this case). For one thing,
>> I don't always have root access on the systems I use, and for another I
>> tend to lose my changes when I upgrade.

> I did say so: use a file Makevars. You can only add that way. If you do

> cat > Makevars
> PKG_CPPFLAGS=-O2 -Wall
> ^D

> then that will be added to CFLAGS.

> If you lose changes, make them in the file config.site, and copy that
> in when you build a new version of R.  Works for me!

My recommendation would be along the lines of the FAQ:

   Suppose you have C code file for dynloading into R, but you want to
use `R CMD SHLIB' with compilation flags other than the default ones
(which were determined when R was built).  You could change the file
``R_HOME'/etc/Makeconf' to reflect your preferences.  If you are a
Bourne shell user, you can also pass the desired flags to Make (which
is used for controlling compilation) via the Make variable `MAKEFLAGS',
as in

     MAKEFLAGS="CFLAGS=-O3" R CMD SHLIB *.c

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Heberto at meakins.lan.mcgill.ca  Wed Mar 14 21:43:19 2001
From: Heberto at meakins.lan.mcgill.ca (Heberto Ghezzo)
Date: Wed, 14 Mar 2001 15:43:19 -0500
Subject: [R] scan
Message-ID: <200103142040.f2EKeLY27775@water.cc.mcgill.ca>

Hello, I have a problem. I have to read a HUGE file which has to be 
line processed, so I would like to use scan like
p <- scan(pfile,what=c(0,0,0,"",0,""),nlines=1)
but it continues to read the first line, so I have to add a skip and 
increment the skip after each read.
It takes forever to read a test file of 1 Mb, the real one is in 60's Mb
Is there a way to read line by line an ASCII file without having to 
reread the part already read?
Thanks for any help.

R. Heberto Ghezzo  Ph.D.
Meakins-Christie Labs
McGill University
Montreal - Canada
heberto at meakins.lan.mcgill.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Wed Mar 14 22:40:21 2001
From: znmeb at aracnet.com (M. Edward (Ed) Borasky)
Date: Wed, 14 Mar 2001 13:40:21 -0800 (PST)
Subject: [R] scan
In-Reply-To: <200103142040.f2EKeLY27775@water.cc.mcgill.ca>
Message-ID: <Pine.LNX.4.31.0103141334190.3795-100000@shell1.aracnet.com>

On Wed, 14 Mar 2001, Heberto Ghezzo wrote:

> Hello, I have a problem. I have to read a HUGE file which has to be
> line processed, so I would like to use scan like
> p <- scan(pfile,what=c(0,0,0,"",0,""),nlines=1)
> but it continues to read the first line, so I have to add a skip and
> increment the skip after each read.
> It takes forever to read a test file of 1 Mb, the real one is in 60's Mb
> Is there a way to read line by line an ASCII file without having to
> reread the part already read?
> Thanks for any help.

There are two fairly easy ways to do this sort of thing, depending on the type
of expertise available:

1. Load the huge file into a database with a good text file import capability,
like Microsoft Access, then use RODBC to read the data you're interested in
with a query. This is what I do for manual analysis; I have lots of huge files.

2. Write a Perl script to extract the relevant data to a smaller file and then
read the smaller file directly in R. This is what I do for my *automated*
analysis.

BTW, I've processed files of 120-odd MB this way on 400 MHz Pentium-class
machines with 128 MB of RAM.
--
znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb

What is it about

 @replace(@string(@log(10000)*@atan(1),9),0,0, at char(112)&@char(105)&@char(61))

that you don't understand?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Thu Mar 15 00:02:37 2001
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Thu, 15 Mar 2001 12:02:37 +1300
Subject: [R] scan
In-Reply-To: <200103142040.f2EKeLY27775@water.cc.mcgill.ca>
Message-ID: <200103142302.f2EN2mL71780@storm.niwa.cri.nz>

On 14 Mar 01,, Heberto Ghezzo wrote (re: [R] scan): 

> Hello, I have a problem. I have to read a HUGE file which has to be 
> line processed, so I would like to use scan like
> p <- scan(pfile,what=c(0,0,0,"",0,""),nlines=1)
> but it continues to read the first line, so I have to add a skip and
> increment the skip after each read. It takes forever to read a test file
> of 1 Mb, the real one is in 60's Mb Is there a way to read line by line an
> ASCII file without having to reread the part already read? Thanks for any
> help.
> 
> R. Heberto Ghezzo  Ph.D.
> Meakins-Christie Labs
> McGill University

Bonjour Heberto

Just one option is to use read.table or read.csv: 

e.g. for a batch of files called name1A.txt, name1B.txt in the directory 
h:/data/nov99_tan9913/opc/ having 2 columns called code and value you 
could sequentially read the files

 dir <- c('h:/data/nov99_tan9913/opc/')

 files  <- c('1A', '.1B' ,.....)
 for (i in 1:length(files)) 
{
 out <-read.csv(paste(dir, "name", files[i], ".txt", sep=''), header=F, 
row.names = NULL, col.names = c("code","value"))
}

To prevent having to reload the ascii files each time, save the object 
called out  

save(out, file = "opc.shuttle.transect1")  

And reload it later

load("opc.shuttle.transect1")  

This works well for me and my files are rather large.

Cheers

Sam



Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz 

                    /\
...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yuling5 at yahoo.com  Thu Mar 15 00:10:49 2001
From: yuling5 at yahoo.com (Yu-Ling Wu)
Date: Wed, 14 Mar 2001 15:10:49 -0800 (PST)
Subject: [R] get statistics by group
Message-ID: <20010314231049.27659.qmail@web11505.mail.yahoo.com>

Hi,

I have a data set look like this:

=================================
Fruit   Quty
apple   20
banana  10
orange  17
apple   30
apple   15
orange  26
banana  15
.........and so on ..........
=================================

The level of fruit is 30, that is, there are 30 
different fruits. I'd like to compute some simple 
statistics for each different fruit and get output 
like this:

=================================
        min   max  avg  median
apple   12     70   25     22
banana  10     65   19     18
orange  19     50   27     25
....... and so on........
=================================

Please help me with this.

Thanks,
Yu-Ling Wu

__________________________________________________
Do You Yahoo!?
Yahoo! Auctions - Buy the things you want at great prices.
http://auctions.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Mar 15 00:16:30 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 14 Mar 2001 18:16:30 -0500 (EST)
Subject: [R] scan
In-Reply-To: <Pine.LNX.4.31.0103141334190.3795-100000@shell1.aracnet.com>
Message-ID: <Pine.LNX.4.30.0103141811490.26448-100000@bolker.zoo.ufl.edu>


  Another solution (which Brian Ripley has probably already given, I seem
to get stuff from R-help very slowly):

 if you look at the help for ?file and ?scan, you'll see

Alternatively, `file' can be a `connection', which will be
opened if necessary, and if so closed at the end of the
function call.

 So if `file' is an open connection, it *won't* be closed and re-set at
the end of the read.  So:

cat("1 2 3","4 5 6","7 8 9",file="tmp.dat",sep="\n")
myfile <- file("tmp.dat",open="r")  ## open for reading
p <- scan(myfile,nlines=1)
q <- scan(myfile,nlines=1)

 Ed Borasky is probably right that in the long run using a database or
Perl would be more efficient, but this might get you through ...

On Wed, 14 Mar 2001, M. Edward (Ed) Borasky wrote:

> On Wed, 14 Mar 2001, Heberto Ghezzo wrote:
>
> > Hello, I have a problem. I have to read a HUGE file which has to be
> > line processed, so I would like to use scan like
> > p <- scan(pfile,what=c(0,0,0,"",0,""),nlines=1)
> > but it continues to read the first line, so I have to add a skip and
> > increment the skip after each read.
> > It takes forever to read a test file of 1 Mb, the real one is in 60's Mb
> > Is there a way to read line by line an ASCII file without having to
> > reread the part already read?
> > Thanks for any help.
>
> There are two fairly easy ways to do this sort of thing, depending on the type
> of expertise available:
>
> 1. Load the huge file into a database with a good text file import capability,
> like Microsoft Access, then use RODBC to read the data you're interested in
> with a query. This is what I do for manual analysis; I have lots of huge files.
>
> 2. Write a Perl script to extract the relevant data to a smaller file and then
> read the smaller file directly in R. This is what I do for my *automated*
> analysis.
>
> BTW, I've processed files of 120-odd MB this way on 400 MHz Pentium-class
> machines with 128 MB of RAM.
> --
> znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb
>
> What is it about
>
>  @replace(@string(@log(10000)*@atan(1),9),0,0, at char(112)&@char(105)&@char(61))
>
> that you don't understand?
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Thu Mar 15 00:17:39 2001
From: faheem at email.unc.edu (Faheem Mitha)
Date: Wed, 14 Mar 2001 18:17:39 -0500 (EST)
Subject: [R] concatenating lists
Message-ID: <Pine.LNX.4.21.0103141809070.2086-100000@Chrestomanci.home.earth>


Dear People,

I have been trying to perform concatenation operations on lists without
success. Consider the following example.

> x <- runif(2)
> y <- runif(2)
> z <- runif(2)
> xy <- list(x,y)
> xyz <- list(x,y,z)

I want to have a function foo such that foo(xy,z) is the same as xyz. This
appears not to be as easy as I thought, though there must be a way.
For example list(xy,z) gives

> list(xy,z)
[[1]]
[[1]][[1]]
[1] 0.6375946 0.1863654

[[1]][[2]]
[1] 0.7395102 0.7528323


[[2]]
[1] 0.5260601 0.8470781

and c(xy,z) gives

> c(xy,z)
[[1]]
[1] 0.6375946 0.1863654

[[2]]
[1] 0.7395102 0.7528323

[[3]]
[1] 0.5260601

[[4]]
[1] 0.847078

> 

but 

> xyz
[[1]]
[1] 0.6375946 0.1863654

[[2]]
[1] 0.7395102 0.7528323

[[3]]
[1] 0.5260601 0.8470781

Unlisting things doesn't seem to help either. I have been fiddling around
for a bit, and have done everything I can think of. Any suggestions?
Thanks in advance.

                             Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yuling5 at yahoo.com  Thu Mar 15 01:54:32 2001
From: yuling5 at yahoo.com (Yu-Ling Wu)
Date: Wed, 14 Mar 2001 16:54:32 -0800 (PST)
Subject: [R] get statistics by group
In-Reply-To: <5B9B19C8A522D411A8EC00A0C99D6A9A02E762@mail.nsabp.pitt.edu>
Message-ID: <20010315005432.14904.qmail@web11508.mail.yahoo.com>

Thanks, it's helpful.
I'm wondering how to make the output look better.
Right now, I got the output look like this:

=======================================
$"apple"
              Fruit          Quty
  apple        :   72   Min.   :  12.00  
  banana       :    0   1st Qu.:  14.00  
  orange       :    0   Median :  22.00  
  cherry       :    0   Mean   :  25.00  
  mengo        :    0   3rd Qu.:  42.00  
  pineapple    :    0   Max.   :  70.00  
 (Other)       :    0                   


$"banana"
              Fruit          Quty
  banana       :   37   Min.   :  10.00  
  apple        :    0   1st Qu.:  13.00  
  orange       :    0   Median :  18.00  
  cherry       :    0   Mean   :  19.00  
  mengo        :    0   3rd Qu.:  32.00  
  pineapple    :    0   Max.   :  65.00  
 (Other)       :    0                   

......and so on........

=======================================


How to make it look like below and dilimited by Tab?


=======================================
        min   max  avg  median count
apple   12     70   25     22   72
banana  10     65   19     18   37
orange  19     50   27     25   52

....... and so on........

=======================================




--- "Richards, Tom" <richards at pci.upmc.edu> wrote:
> You can try:
> 
> lapply(split(dset,dset$fruit,summary))
> 
> Tom Richards
> 
> > -----Original Message-----
> > From: Yu-Ling Wu [mailto:yuling5 at yahoo.com]
> > Sent: Wednesday, March 14, 2001 6:11 PM
> > To: R-Help
> > Subject: [R] get statistics by group
> > 
> > 
> > Hi,
> > 
> > I have a data set look like this:
> > 
> > =================================
> > Fruit   Quty
> > apple   20
> > banana  10
> > orange  17
> > apple   30
> > apple   15
> > orange  26
> > banana  15
> > .........and so on ..........
> > =================================
> > 
> > The level of fruit is 30, that is, there are 30 
> > different fruits. I'd like to compute some simple 
> > statistics for each different fruit and get output
> 
> > like this:
> > 
> > =================================
> >         min   max  avg  median
> > apple   12     70   25     22
> > banana  10     65   19     18
> > orange  19     50   27     25
> > ....... and so on........
> > =================================
> > 
> > Please help me with this.
> > 
> > Thanks,
> > Yu-Ling Wu


__________________________________________________
Do You Yahoo!?
Yahoo! Auctions - Buy the things you want at great prices.
http://auctions.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Thu Mar 15 07:33:33 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang@xtra.co.nz)
Date: Thu, 15 Mar 2001 19:33:33 +1300
Subject: [R] Alternative to list()
Message-ID: <000c01c0ad19$e47a93c0$3e6e36d2@KoKang>

Hi,

Suppose I have a dataset with 10 columns, let's call it "foo".

Now if I want to extract out only column 2 ~ 8, then I know I can use either:
     foo[ ,2:8]
or
     fooNew <- list( foo[ ,2:8] )

(Is there any other alternative, just out of curiosity?)

But, if I only want, say, column 1, 4 and 7, I tried:
     fooNew <- list( x = foo[ ,1], y = foo[ ,4], z = foo[ , 7]  )
then when I type 
     fooNew
I got a list of:
  $x
   ....
   ....
  $y
   ....
   ....
  $z
   ....
   ....

However what I really want is for them to be in vector/column form.  How would I do this?

Thanks in advance!


Kevin
  
-------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub
University of Auckland
New Zealand
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010315/569789bb/attachment.html

From petzoldt at rcs.urz.tu-dresden.de  Thu Mar 15 10:01:48 2001
From: petzoldt at rcs.urz.tu-dresden.de (Thomas Petzoldt)
Date: Thu, 15 Mar 2001 10:01:48 +0100
Subject: [R] supressing linefeed at end of file
Message-ID: <3AB084FC.CF1A2C63@rcs.urz.tu-dresden.de>

Hello,

I want to do simulations with an external simulation model. For this
purpose I wrote a R-script which makes the pre- and post-processing of
the data (generate scenarios, analyze results).

The R-script writes the input file for the simulation with e.g. 

write(x, file="test.dat", ncolumns=10)

The problem is, however, that this command (and even constructions with
cat) will add a linefeed after the last line of data. Unfortunately the
simulation program however is very stupid, as it does not allow a
linefeed after the last line. It interprets the linefeed after the last
line of data as an empty line and will fail.

I did not find anything concerning this problem in the R-data.pdf
manual. A first solution was to use grep to eliminate the empty line,
but the R-script should run not only on linux, but also on windows
machines without cygwin, perl or similar. Is there a simple "R only"
solution? Otherwise I should write a special C program.

Thanks in advance!

Thomas Petzoldt


-- 
Dr. Thomas Petzoldt
Dresden University of Technology
Institute for Hydrobiology        
01062 Dresden                      
mailto:petzoldt at rcs.urz.tu-dresden.de  
http://www.tu-dresden.de/fghhihb/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Thu Mar 15 10:09:29 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Thu, 15 Mar 2001 09:09:29 +0000 (GMT)
Subject: [R] get statistics by group
Message-ID: <Pine.LNX.4.10.10103150909010.3383-100000@localhost.localdomain>

On Wed, 14 Mar 2001, Yu-Ling Wu wrote:

> Thanks, it's helpful.
> I'm wondering how to make the output look better.
> Right now, I got the output look like this:
> 
> =======================================
> $"apple"
>               Fruit          Quty
>   apple        :   72   Min.   :  12.00  
>   banana       :    0   1st Qu.:  14.00  
>   orange       :    0   Median :  22.00  
>   cherry       :    0   Mean   :  25.00  
>   mengo        :    0   3rd Qu.:  42.00  
>   pineapple    :    0   Max.   :  70.00  
>  (Other)       :    0                   
> 
> 
> $"banana"
>               Fruit          Quty
>   banana       :   37   Min.   :  10.00  
>   apple        :    0   1st Qu.:  13.00  
>   orange       :    0   Median :  18.00  
>   cherry       :    0   Mean   :  19.00  
>   mengo        :    0   3rd Qu.:  32.00  
>   pineapple    :    0   Max.   :  65.00  
>  (Other)       :    0                   
> 
> ......and so on........
> 
> =======================================
> 
> 
> How to make it look like below and dilimited by Tab?
> 
> 
> =======================================
>         min   max  avg  median count
> apple   12     70   25     22   72
> banana  10     65   19     18   37
> orange  19     50   27     25   52
> 
> ....... and so on........
> 
> =======================================
You are aiming pretty high for a newbie!
Do you expect to be able to reformat the output of canned stats programs
like SPSS or SAS?

The short answer is that it is a lot of work to get R to put the results
in the format you want.

Bill


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Thu Mar 15 11:55:07 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Thu, 15 Mar 2001 05:55:07 -0500 (EST)
Subject: [R] Alternative to list()
Message-ID: <200103151055.FAA19621@cattell.psych.upenn.edu>

>Suppose I have a dataset with 10 columns, let's call it "foo".
>
>Now if I want to extract out only column 2 ~ 8, then I know I can use =
>either:
>     foo[ ,2:8]
>or
>     fooNew <- list( foo[ ,2:8] )
>
>(Is there any other alternative, just out of curiosity?)
>
>But, if I only want, say, column 1, 4 and 7, I tried:
>     fooNew <- list( x =3D foo[ ,1], y =3D foo[ ,4], z =3D foo[ , 7]  )
>then when I type=20
>     fooNew
>I got a list of:
>  $x
>   ....
>   ....
>  $y
>   ....
>   ....
>  $z
>   ....
>   ....
>
>However what I really want is for them to be in vector/column form.  How =
>would I do this?

foo[,c(1,4,7)]

JOn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Mar 15 12:01:42 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 15 Mar 2001 11:01:42 +0000
Subject: [R] export graph to Word/Excel
In-Reply-To: <20010307004156.11755.qmail@web11506.mail.yahoo.com>
References: <20010307004156.11755.qmail@web11506.mail.yahoo.com>
Message-ID: <s2cDVJAWEKs6EwWs@myatt.demon.co.uk>

Yu-Ling Wu <yuling5 at yahoo.com> writes:
>Hi,
>
>I have a set of script like this:
>
>----------------------
>summary(data)
>plot(time, users, type="o", xlab ="Time", ylab="Number
>of Users")
>----------------------
>
>I type "rterm --slave < script.r > output.doc" and the
>graphic doesn't
>actually in the output.doc file. How to make the
>graphic embedded in Word
>or Excel file?

I think you need to do to things:

        1. In R use win.metafile() or something similar to store the
        plot in a file ... MS Office can handle a variety of formats but
        some may need to be installed.

        2. Use a .VBA / .VBS script to automate Word / Excel to insert
        an object from a file.

You can probable use system() to spark the .VBA script from within R.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jgoebel at diw.de  Thu Mar 15 12:35:18 2001
From: jgoebel at diw.de (Jan Goebel)
Date: Thu, 15 Mar 2001 12:35:18 +0100
Subject: [R] concatenating lists
In-Reply-To: <Pine.LNX.4.21.0103141809070.2086-100000@Chrestomanci.home.earth>; from faheem@email.unc.edu on Wed, Mar 14, 2001 at 18:17:39 -0500
References: <Pine.LNX.4.21.0103141809070.2086-100000@Chrestomanci.home.earth>
Message-ID: <20010315123518.A6179@diw14093.diw.de>

Hello Faheem,

On Wed, 14 Mar 2001, Faheem Mitha wrote:

> 
> Dear People,
> 
> I have been trying to perform concatenation operations on lists without
> success. Consider the following example.
> 
> > x <- runif(2)
> > y <- runif(2)
> > z <- runif(2)
> > xy <- list(x,y)
> > xyz <- list(x,y,z)
> 
> I want to have a function foo such that foo(xy,z) is the same as xyz. This
> appears not to be as easy as I thought, though there must be a way.

Maybe this can give you a starting point.
I guess their are more elegant ways to do this ...

> clist  <- function (liste, x) {
+ 
+   tmp <- paste("list(",
+                paste(paste("liste[[",1:length(liste),"]]",sep=""),
+                      collapse=","),",x)",sep="") 
+   eval(parse(text=tmp))  
+ }
> 
> clist(xy,z)
[[1]]
[1] 0.6855152 0.5541156

[[2]]
[1] 0.19300487 0.07686829

[[3]]
[1] 0.4915225 0.9025518

best

jan
-- 
+-----------------------------------
 Jan Goebel (mailto:jgoebel at diw.de)

 DIW Berlin 
 Longitudinal Data and Microanalysis
 K?nigin-Luise-Str. 5
 D-14195 Berlin -- Germany --
 phone: 49 30 89789-377
+-----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Mar 15 11:50:14 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 15 Mar 2001 10:50:14 +0000
Subject: [R] Odds Ratio from Logistic Model
In-Reply-To: <5.0.2.1.2.20010305165450.009ebdd0@pop.tiscalinet.it>
References: <5.0.2.1.2.20010305165450.009ebdd0@pop.tiscalinet.it>
Message-ID: <T1g8VCAm5Js6EwAe@myatt.demon.co.uk>

Stefano <stecalza at tiscalinet.it> writes:
>Hi all.
>
>A simple question.
>Is there a function to compute the Odds Ratio and its confidence intervall, from 
>a logistic model (glm(.......,family=binomial....). I've written my own, but 
>certainly someone did a better job.

I show a simple function to do this in my introductory notes available
from:

        http://www.myatt.demon.co.uk

basically it is:

        lreg.or <- function(model)
          {
          lreg.coeffs <- coef(summary(salex.lreg))
          lci <- exp(lreg.coeffs[ ,1] - 1.96 * lreg.coeffs[ ,2])
          or <- exp(lreg.coeffs[ ,1])
          uci <- exp(lreg.coeffs[ ,1] + 1.96 * lreg.coeffs[ ,2])
          lreg.or <- cbind(lci, or, uci)        
          lreg.or
          }


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Mar 15 11:50:58 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 15 Mar 2001 10:50:58 +0000
Subject: [R] import data
In-Reply-To: <200103051305.KAA98151@www.ircmail.net>
References: <200103051305.KAA98151@www.ircmail.net>
Message-ID: <R1N8FFAS6Js6EwhX@myatt.demon.co.uk>

Tales de Miranda <tales at ircmail.net> writes:
>how can i import a file txt or xls with data on the r-plus? for example, i have 
>a 
>file .txt with matrix, and i want read in r-plus, how can i do? can you send me 
>a 
>command for do that?

Read.table()


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.gsponer at epfl.ch  Thu Mar 15 13:07:44 2001
From: thomas.gsponer at epfl.ch (Gsponer Thomas)
Date: Thu, 15 Mar 2001 13:07:44 +0100
Subject: [R] tseries
Message-ID: <3AB0B090.CF1579B@epfl.ch>

hi,
I just installed the package tseries. But if I want to load it into R,
the following messages appear:

> library(tseries)
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
	unable to load shared library
"/usr/local/lib/R/library/tseries/libs/tseries.so":
  /usr/local/lib/R/library/tseries/libs/tseries.so: undefined symbol: 
Error in library(tseries) : .First.lib failed

So, what happend?

-- 
Gsponer Thomas
Swiss Federal Institute of Technology
Chair of Applied Statistics
DMA-EPFL
CH-1015 Lausanne (Switzerland)

phone : ++ 41 21 693 27 84      
fax   : ++ 41 21 693 42 50  

mailto:thomas.gsponer at epfl.ch   
http://statwww.epfl.ch/people/gsponer/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Thu Mar 15 13:31:36 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 15 Mar 2001 13:31:36 +0100
Subject: [R] tseries
In-Reply-To: <3AB0B090.CF1579B@epfl.ch>
References: <3AB0B090.CF1579B@epfl.ch>
Message-ID: <15024.46632.264381.997278@galadriel.ci.tuwien.ac.at>

>>>>> On Thu, 15 Mar 2001 13:07:44 +0100,
>>>>> Gsponer Thomas (GT) wrote:

  > hi,
  > I just installed the package tseries. But if I want to load it into R,
  > the following messages appear:

  >> library(tseries)
  > Error in dyn.load(x, as.logical(local), as.logical(now)) : 
  > 	unable to load shared library
  > "/usr/local/lib/R/library/tseries/libs/tseries.so":
  >   /usr/local/lib/R/library/tseries/libs/tseries.so: undefined symbol: 
  > Error in library(tseries) : .First.lib failed

  > So, what happend?

on which platform? which version of R and tseries?

fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From M.Campbell at dial.pipex.com  Thu Mar 15 13:54:29 2001
From: M.Campbell at dial.pipex.com (Michael Campbell)
Date: Thu, 15 Mar 2001 12:54:29 -0000
Subject: [R] tetrachoric correlations
Message-ID: <000b01c0ad4f$2db2d450$3a08bc3e@m0n5q>

Does anyone have code (preferably S or R) to calculate tetrachoric correlations?

Thanks
Michael Campbell

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Thu Mar 15 13:52:38 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 15 Mar 2001 13:52:38 +0100
Subject: [R] get statistics by group
In-Reply-To: <Pine.LNX.4.10.10103150909010.3383-100000@localhost.localdomain>
References: <Pine.LNX.4.10.10103150909010.3383-100000@localhost.localdomain>
Message-ID: <15024.47894.687792.420292@galadriel.ci.tuwien.ac.at>

>>>>> On Thu, 15 Mar 2001 09:09:29 +0000 (GMT),
>>>>> Bill Simpson (BS) wrote:

  > On Wed, 14 Mar 2001, Yu-Ling Wu wrote:
  >> Thanks, it's helpful.
  >> I'm wondering how to make the output look better.
  >> Right now, I got the output look like this:
  >> 
  >> =======================================
  >> $"apple"
  >> Fruit          Quty
  >> apple        :   72   Min.   :  12.00  
  >> banana       :    0   1st Qu.:  14.00  
  >> orange       :    0   Median :  22.00  
  >> cherry       :    0   Mean   :  25.00  
  >> mengo        :    0   3rd Qu.:  42.00  
  >> pineapple    :    0   Max.   :  70.00  
  >> (Other)       :    0                   
  >> 
  >> 
  >> $"banana"
  >> Fruit          Quty
  >> banana       :   37   Min.   :  10.00  
  >> apple        :    0   1st Qu.:  13.00  
  >> orange       :    0   Median :  18.00  
  >> cherry       :    0   Mean   :  19.00  
  >> mengo        :    0   3rd Qu.:  32.00  
  >> pineapple    :    0   Max.   :  65.00  
  >> (Other)       :    0                   
  >> 
  >> ......and so on........
  >> 
  >> =======================================
  >> 
  >> 
  >> How to make it look like below and dilimited by Tab?
  >> 
  >> 
  >> =======================================
  >> min   max  avg  median count
  >> apple   12     70   25     22   72
  >> banana  10     65   19     18   37
  >> orange  19     50   27     25   52
  >> 
  >> ....... and so on........
  >> 
  >> =======================================
  > You are aiming pretty high for a newbie!
  > Do you expect to be able to reformat the output of canned stats programs
  > like SPSS or SAS?

  > The short answer is that it is a lot of work to get R to put the results
  > in the format you want.

ah, not really: a quick a dirty way (probably there are much shorter
and more elegant ways):

## get some example data
> x <- sample(1:20, 100, re=T)
> y <- sample(letters[1:3], 100, re=T)

## and here we go
> foo <- NULL
> z <- tapply(x, y, quantile)
> invisible(sapply(z, function(a) foo <<- rbind(foo, a)))
> rownames(foo) <- names(z)
> foo
  0% 25% 50%   75% 100%
a  1   4   9 16.00   20
b  1   6  10 17.75   20
c  1   6   9 16.00   20


.f

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Thu Mar 15 11:22:40 2001
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Thu, 15 Mar 2001 11:22:40 +0100
Subject: [R] Alternative to list()
In-Reply-To: <000c01c0ad19$e47a93c0$3e6e36d2@KoKang>
Message-ID: <3AB0A600.18204.B00132@localhost>



On 15 Mar 2001, at 19:33, Ko-Kang at xtra.co.nz wrote:

> Hi,
> 
> Suppose I have a dataset with 10 columns, let's call it "foo".
> 
> Now if I want to extract out only column 2 ~ 8, then I know I can use
> either:
>      foo[ ,2:8]
> or
>      fooNew <- list( foo[ ,2:8] )
Hm. Why do you bother with list. I assume foo is either matrix or data 
frame and for this I usually use

fooNew_foo[,2:8]

> 
> (Is there any other alternative, just out of curiosity?)
> 
> But, if I only want, say, column 1, 4 and 7, I tried:
>      fooNew <- list( x = foo[ ,1], y = foo[ ,4], z = foo[ , 7]  ) then
> when I type 
>      fooNew
> I got a list of:
>   $x
>    ....
>    ....
>   $y
>    ....
>    ....
>   $z
>    ....
>    ....
> 
> However what I really want is for them to be in vector/column form. 
> How would I do this?

again 

fooNew_foo[,c(1,4,7)]

can probably do what you want.
> 
> Thanks in advance!
> 
> 
> Kevin
> 
> -------------------------------------------------
> Ko-Kang Kevin Wang
> Statistical Analysis Division Leader
> Software Developers' Klub
> University of Auckland
> New Zealand
> 

Hi.

Petr Pikal
Precheza a.s.
Nabr.Dr.E.Benese 24
tel: 00420 641 25 2257
     +420 (0)724 008 364
     petr.pikal at precheza.cz
     p.pik at volny.cz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Thu Mar 15 16:03:28 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Thu, 15 Mar 2001 10:03:28 -0500
Subject: [R] concatenating lists
Message-ID: <OFB31C5014.2FC29919-ON85256A10.00529D9F@rtp.epa.gov>


try c(xy,list(z))

> x <- runif(2)
> y <- runif(2
+ )
> z <- runif(2)
> xy <- list(x,y)
> xyz <- list(x,y,z)
> c(xy,list(z))
[[1]]
[1] 0.1194932 0.9874886

[[2]]
[1] 0.5036242 0.7492557

[[3]]
[1] 0.3930850 0.2587288

> xyz
[[1]]
[1] 0.1194932 0.9874886

[[2]]
[1] 0.5036242 0.7492557

[[3]]
[1] 0.3930850 0.2587288


R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                                      
                    Faheem Mitha                                                                                      
                    <faheem at email.unc.ed        To:     r-help at stat.math.ethz.ch                                      
                    u>                          cc:                                                                   
                    Sent by:                    Subject:     [R] concatenating lists                                  
                    owner-r-help at stat.ma                                                                              
                    th.ethz.ch                                                                                        
                                                                                                                      
                                                                                                                      
                    03/14/01 06:17 PM                                                                                 
                                                                                                                      
                                                                                                                      





Dear People,

I have been trying to perform concatenation operations on lists without
success. Consider the following example.

> x <- runif(2)
> y <- runif(2)
> z <- runif(2)
> xy <- list(x,y)
> xyz <- list(x,y,z)

I want to have a function foo such that foo(xy,z) is the same as xyz. This
appears not to be as easy as I thought, though there must be a way.
For example list(xy,z) gives

> list(xy,z)
[[1]]
[[1]][[1]]
[1] 0.6375946 0.1863654

[[1]][[2]]
[1] 0.7395102 0.7528323


[[2]]
[1] 0.5260601 0.8470781

and c(xy,z) gives

> c(xy,z)
[[1]]
[1] 0.6375946 0.1863654

[[2]]
[1] 0.7395102 0.7528323

[[3]]
[1] 0.5260601

[[4]]
[1] 0.847078

>

but

> xyz
[[1]]
[1] 0.6375946 0.1863654

[[2]]
[1] 0.7395102 0.7528323

[[3]]
[1] 0.5260601 0.8470781

Unlisting things doesn't seem to help either. I have been fiddling around
for a bit, and have done everything I can think of. Any suggestions?
Thanks in advance.

                             Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Thu Mar 15 16:13:20 2001
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Thu, 15 Mar 2001 10:13:20 -0500 (EST)
Subject: [R] concatenating lists (and functions with multiple args)
In-Reply-To: <20010315123518.A6179@diw14093.diw.de>
Message-ID: <Pine.SGI.3.96.1010315100449.93602D-100000@ln.nimh.nih.gov>


Here's another possibility:

foo <- function(x,y){
	if(is.list(x)) x <- as.list(x)
	else x <- list(x)

	if(is.list(y)) y <- as.list(y)
	else y <- list(y)

	c(x,y)
}

The if - else clause unnests a nested list or turns a single vector into a
list.  Leaving either one out causes trouble in this example.  

I've checked that this code also successfully combines xyz with another
vector w. 


Now a follow-up question.  What I'd really like to know how to do (and
haven't been able to figure out from the documentation) is how to write an
equivalent version of this function that takes an arbitrary number of
arguments.  I've looked at the code for (for example) sum, which takes
"..." as an argument, but it just refers to internal code. 

Is there an easy way to do this in R code?  Have I missed some of the
documentation that explains this?

Thanks for any help,

Matt Wiener




On Thu, 15 Mar 2001, Jan Goebel wrote:

> Hello Faheem,
> 
> On Wed, 14 Mar 2001, Faheem Mitha wrote:
> 
> > 
> > Dear People,
> > 
> > I have been trying to perform concatenation operations on lists without
> > success. Consider the following example.
> > 
> > > x <- runif(2)
> > > y <- runif(2)
> > > z <- runif(2)
> > > xy <- list(x,y)
> > > xyz <- list(x,y,z)
> > 
> > I want to have a function foo such that foo(xy,z) is the same as xyz. This
> > appears not to be as easy as I thought, though there must be a way.
> 
> Maybe this can give you a starting point.
> I guess their are more elegant ways to do this ...
> 
> > clist  <- function (liste, x) {
> + 
> +   tmp <- paste("list(",
> +                paste(paste("liste[[",1:length(liste),"]]",sep=""),
> +                      collapse=","),",x)",sep="") 
> +   eval(parse(text=tmp))  
> + }
> > 
> > clist(xy,z)
> [[1]]
> [1] 0.6855152 0.5541156
> 
> [[2]]
> [1] 0.19300487 0.07686829
> 
> [[3]]
> [1] 0.4915225 0.9025518
> 
> best
> 
> jan
> -- 
> +-----------------------------------
>  Jan Goebel (mailto:jgoebel at diw.de)
> 
>  DIW Berlin 
>  Longitudinal Data and Microanalysis
>  Königin-Luise-Str. 5
>  D-14195 Berlin -- Germany --
>  phone: 49 30 89789-377
> +-----------------------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Thu Mar 15 18:11:09 2001
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Thu, 15 Mar 2001 18:11:09 +0100
Subject: [R] outer
Message-ID: <3AB0F7AD.9AF8D372@inrialpes.fr>

Dear r-plus users,

i would like to use outer in the following case  outer(x,y,FUN="fun")
i suppose that my function fun is of the following form:
fun<-function(x,y)
{
if(y>x) return(x+y)
if(y<=x) return(0)
}
My problem is that the command outer(x,y,FUN="fun") return me a
null matrix instead of an upper triangular matrix.
Is somebody have a solution ?

Thanks for your help.



--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN               phone: (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42
INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                  e-mail:olivier.martin at inrialpes.fr
38334 Saint Ismier cedex
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010315/4496c794/attachment.html

From pflugshaupt at cirsium.ethz.ch  Thu Mar 15 18:50:30 2001
From: pflugshaupt at cirsium.ethz.ch (Kaspar Pflugshaupt)
Date: Thu, 15 Mar 2001 18:50:30 +0100
Subject: [R] outer
In-Reply-To: <3AB0F7AD.9AF8D372@inrialpes.fr>
References: <3AB0F7AD.9AF8D372@inrialpes.fr>
Message-ID: <01031518503000.10308@Aconitum>

On Thursday 15 March 2001 18:11, Olivier Martin wrote:

> Dear r-plus users,

r-plus? That's new! :-)

>
> i would like to use outer in the following case  outer(x,y,FUN="fun")
> i suppose that my function fun is of the following form:
> fun<-function(x,y)
> {
> if(y>x) return(x+y)
> if(y<=x) return(0)
> }
> My problem is that the command outer(x,y,FUN="fun") return me a
> null matrix instead of an upper triangular matrix.
> Is somebody have a solution ?

you would have to change the if() clause: x and y are your data, not indices.

Try this:

m <- outer(x,y,FUN="+")
m[lower.tri(m, diag=T)] <- 0

Cheers

Kaspar



-- 


Kaspar Pflugshaupt
Geobotanical Institute
ETH Zurich, Switzerland

http://www.geobot.umnw.ethz.ch
mailto:pflugshaupt at geobot.umnw.ethz.ch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Thu Mar 15 18:53:09 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Thu, 15 Mar 2001 18:53:09 +0100
Subject: [R] outer
References: <3AB0F7AD.9AF8D372@inrialpes.fr>
Message-ID: <3AB10185.88134437@ci.tuwien.ac.at>

Olivier Martin wrote:
> 
> Dear r-plus users,
> 
> i would like to use outer in the following case  outer(x,y,FUN="fun")
> i suppose that my function fun is of the following form:
> fun<-function(x,y)
> {
> if(y>x) return(x+y)
> if(y<=x) return(0)
> }
> My problem is that the command outer(x,y,FUN="fun") return me a
> null matrix instead of an upper triangular matrix.
> Is somebody have a solution ?

If you supply vectors to if(y>x), then just the first element is
actually used. ifelse does the job:

fun <- function(x,y) { ifelse(y>x, x+y, 0) }

should solve your problem
Achim

---------------------------
Institut f?r Statistik
Technische Universit?t Wien

> Thanks for your help.
> 
> 
> 
> --
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> Olivier MARTIN               phone: (33) 04 76 61 53 55
> Projet IS2                               06 08 67 93 42
> INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
> 655, Av. de l'Europe
> Montbonnot                  e-mail:olivier.martin at inrialpes.fr
> 38334 Saint Ismier cedex
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From shethj at epi.wustl.edu  Thu Mar 15 19:16:56 2001
From: shethj at epi.wustl.edu (Jagat Sheth)
Date: Thu, 15 Mar 2001 12:16:56 -0600
Subject: [R] outer
Message-ID: <sab0b2fa.024@EPI.WUSTL.EDU>

Hi Oliver,

>>> Olivier Martin <olivier.martin at inrialpes.fr> 03/15 11:11 AM >>>
Dear r-plus users,

i would like to use outer in the following case  outer(x,y,FUN="fun")
i suppose that my function fun is of the following form:
fun<-function(x,y)
{
if(y>x) return(x+y)
if(y<=x) return(0)
}
My problem is that the command outer(x,y,FUN="fun") return me a
null matrix instead of an upper triangular matrix.
Is somebody have a solution ?

The arguments x,y in fun are not labelling the cell indices in the outer product. Here are a couple simple examples of what fun will do for you.

> x <- 1:3
> y <- 1:3
> outer(x,y,FUN="fun")
     [,1] [,2] [,3]
[1,]    0    0    0
[2,]    0    0    0
[3,]    0    0    0

(Since x=y above, fun(x,y)=0 always)

> x <- 1:3
> y <- 2:4
> outer(x,y,FUN="fun")
     [,1] [,2] [,3]
[1,]    3    4    5
[2,]    4    5    6
[3,]    5    6    7
> 


Thanks for your help.

Jagat

--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN               phone: (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42
INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                  e-mail:olivier.martin at inrialpes.fr 
38334 Saint Ismier cedex
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From trjohns at pullman.com  Thu Mar 15 20:23:38 2001
From: trjohns at pullman.com (Timothy R. Johnson)
Date: Thu, 15 Mar 2001 11:23:38 -0800
Subject: [R] tetrachoric correlations
References: <000b01c0ad4f$2db2d450$3a08bc3e@m0n5q>
Message-ID: <001c01c0ad85$704687e0$83566581@2d51301>

I have a function that I wrote for R to compute tetrachoric/polychoric
correlations via maximum likelihood. It is given below. I have not tested it
extensively but it seems to work. It could probably be cleaned-up a bit. It
needs the mvtnorm library which is available at CRAN.

Tim Johnson
--
Assistant Professor of Statistics
University of Idaho
Moscow, Idaho 83844-1104

http://www.uidaho.edu/~trjohns

polychor <- function(x, trace = F, se = F) {

 # Purpose: Provides maxiumum likelihood estimates of tetrachoric/
 #  polychoric correlation and thresholds from a contingency table.
 #  Standard errors from the numerical hessian may also be obtained.
 #  The mvtnorm library is necessary for the pmvnorm() function.
 # Note: I have not tested this function extensively. You should
        #  be wary of potential numerical problems in either pmvnorm()
        #  optim().
 # Author: Tim R. Johnson (trjohns at uidaho.edu)
        # Last Revised: Feb 7, 2001

 n <- nrow(x)
 m <- ncol(x)
 tri.row <- matrix(0, n-1, n-1)
 tri.col <- matrix(0, m-1, m-1)
 tri.row[row(tri.row) >= col(tri.row)] <- 1
 tri.col[row(tri.col) >= col(tri.col)] <- 1

 negloglik <- function(theta) {
  row.cut <- c(+Inf, rev(tri.row %*% theta[1:(n-1)]), -Inf)
  col.cut <- c(-Inf, tri.col %*% theta[n:(n+m-2)],    +Inf)
  prb <- matrix(NA, n, m)
  rho <- theta[n + m - 1]
  sig <- matrix(rho, 2, 2)
  diag(sig) <- 1
  for(i in 1:n) {
   for(j in 1:m) {
    prb[i,j] <- pmvnorm(c(0,0), sig,
     c(row.cut[i+1], col.cut[j]),
     c(row.cut[i], col.cut[j+1]))$value
   }
  }
  sum(x * log(prb)) * (-1)
 }

 theta.start <- c(seq(-2, 2, length = n-1), seq(-2, 2, length = m-1),
  runif(1, -0.8, 0.8))

 fit <- optim(theta.start, negloglik, method = "L-BFGS-B",
  lower = c(-Inf, rep(0, n-2), -Inf, rep(0, m-2), -1),
  hessian = se, control = list(trace = trace, REPORT = 1))
 est <- c(tri.row %*% fit$par[1:(n-1)],
   tri.col %*% fit$par[n:(n+m-2)], fit$par[n+m-1])
 ste <- rep(NA, length(est))
 if(se) {
  covmat <- solve(fit$hessian)
  ste[1:(n-1)] <- sqrt(diag(tri.row %*% covmat[1:(n-1),1:(n-1)] %*%
t(tri.row)))
  ste[n:(n+m-2)] <- sqrt(diag(tri.col %*% covmat[n:(n+m-2),n:(n+m-2)] %*%
t(tri.col)))
  ste[n + m - 1] <- sqrt(covmat[n + m - 1, n + m - 1])
  }
 out <- cbind(est, ste)
 dimnames(out) <- list(c(paste("rowcut",1:(n-1),sep=""),
  paste("colcut",1:(m-1),sep=""),"rho"), c("estimate","se"))
 list(loglik = -fit$value, fit = out)
}

----- Original Message -----
From: "Michael Campbell" <M.Campbell at dial.pipex.com>
To: <r-help at stat.math.ethz.ch>
Sent: Thursday, March 15, 2001 4.54 AM
Subject: [R] tetrachoric correlations


> Does anyone have code (preferably S or R) to calculate tetrachoric
correlations?
>
> Thanks
> Michael Campbell
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Mar 15 13:10:30 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 15 Mar 2001 12:10:30 +0000
Subject: [R] get statistics by group
In-Reply-To: <20010314231049.27659.qmail@web11505.mail.yahoo.com>
References: <20010314231049.27659.qmail@web11505.mail.yahoo.com>
Message-ID: <h3EQV$A2ELs6EwHk@myatt.demon.co.uk>

Yu-Ling Wu <yuling5 at yahoo.com> writes:
>Hi,
>
>I have a data set look like this:
>
>=================================
>Fruit   Quty
>apple   20
>banana  10
>orange  17
>apple   30
>apple   15
>orange  26
>banana  15
>.........and so on ..........
>=================================
>
>The level of fruit is 30, that is, there are 30 
>different fruits. I'd like to compute some simple 
>statistics for each different fruit and get output 
>like this:
>
>=================================
>        min   max  avg  median
>apple   12     70   25     22
>banana  10     65   19     18
>orange  19     50   27     25
>....... and so on........
>=================================
>
>Please help me with this.
>

Try:

        by(Quty, Fruit, summary)

Mark




--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Fri Mar 16 09:55:40 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang@xtra.co.nz)
Date: Fri, 16 Mar 2001 21:55:40 +1300
Subject: [R] apply()
Message-ID: <001201c0adf8$5a382ee0$b56c36d2@KoKang>

Hi,

I input this command on a data matrix:
 >   apply( traffic, 2, function(z){z-mean(z)})

and got the following error messages:
  Error in sum(..., na.rm = na.rm) : invalid "mode" of argument

Can anyone tell me what is wrong here?

Running R1.2.2 on Windows ME.

Cheers,

Kevin

-------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at cirsium.ethz.ch  Fri Mar 16 10:49:17 2001
From: pflugshaupt at cirsium.ethz.ch (Kaspar Pflugshaupt)
Date: Fri, 16 Mar 2001 10:49:17 +0100
Subject: [R] apply()
In-Reply-To: <001201c0adf8$5a382ee0$b56c36d2@KoKang>
References: <001201c0adf8$5a382ee0$b56c36d2@KoKang>
Message-ID: <01031610491701.00996@Aconitum>

On Friday 16 March 2001 09:55, Ko-Kang at xtra.co.nz wrote:
> Hi,
>
> I input this command on a data matrix:
>  >   apply( traffic, 2, function(z){z-mean(z)})
>
> and got the following error messages:
>   Error in sum(..., na.rm = na.rm) : invalid "mode" of argument
>
> Can anyone tell me what is wrong here?

Is it really a normal matrix? Because the following works here:

 m <- matrix(rnorm(100), nrow=10)
 apply(m,2,function(z){z-mean(z)})

(R 1.2.2 on Linux)

Cheers

Kaspar

P.S: Please refrain from sending HTML mails. Your message was all but 
unreadable on my screen because I haven't the required font and my mail 
client does not (yet) filter HTML to text

-- 


Kaspar Pflugshaupt
Geobotanical Institute
ETH Zurich, Switzerland

http://www.geobot.umnw.ethz.ch
mailto:pflugshaupt at geobot.umnw.ethz.ch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Fri Mar 16 13:24:55 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Fri, 16 Mar 2001 07:24:55 -0500
Subject: [R] Strange behaviour?
Message-ID: <001d01c0ae14$1c620a20$0201a8c0@Workgroup>

Hi,

When I have the Rgui main window (sdi mode) maximized and when I source in a
file or when I close an help window for example, the main window restores
itself back to it's previous state. I find this a little bit annoying and I
also know that the core team as better things to do then to fiddle with this
sort of problem, so if someone could just point out where I should look for,
that is which file or files I would like to investigate this and fix it if I
can. Of course I'll work on the latest version.

Thanks in advance.

Yves Gauvreau



platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    2.1
year     2001
month    01
day      15
language R

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Fri Mar 16 13:40:24 2001
From: j.logsdon at lancaster.ac.uk (j.logsdon@lancaster.ac.uk)
Date: Fri, 16 Mar 2001 12:40:24 +0000 (GMT)
Subject: [R] Reading images ...
Message-ID: <Pine.LNX.4.10.10103161238100.26444-100000@mercury.quantex>

Is there a way to read a (for example) postscript (or tiff, jpg, whatever)
file into R and plot it using the R fundamentals?  I want to incorporate a
drawing in an R plot and I can't see a way of doing this at the moment.

TIA

John


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hoffmann at ehmgs2.et.tu-dresden.de  Fri Mar 16 13:54:58 2001
From: hoffmann at ehmgs2.et.tu-dresden.de (Thomas Hoffmann)
Date: Fri, 16 Mar 2001 13:54:58 +0100 (MET)
Subject: [R] Catching error messages (from nls(), e.g.)
Message-ID: <200103161254.NAA08510@ehmgs2.et.tu-dresden.de>

I try to fit subsequentially different nonlinear models to data.
Up to now I tried a first model and if I could not fit this one
proceeded to another one.

Now I would like to handle this automatically. But much to my
chagrin I did not find a way for dealing with the error messages
from nls(), e.g. getting them as "control information" or at least
just returning from nls() without a model.

Is there a simple way to handle this?


=============================================================================
Thomas Hoffmann, Institut fuer Halbleiter- und Mikrosystemtechnik, TU Dresden 
E-mail: hoffmann at ehmgs2.et.tu-dresden.de
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Fri Mar 16 13:45:09 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 16 Mar 2001 13:45:09 +0100
Subject: [R] Reading images ...
In-Reply-To: <Pine.LNX.4.10.10103161238100.26444-100000@mercury.quantex>
References: <Pine.LNX.4.10.10103161238100.26444-100000@mercury.quantex>
Message-ID: <15026.2773.368631.94683@galadriel.ci.tuwien.ac.at>

>>>>> On Fri, 16 Mar 2001 12:40:24 +0000 (GMT),
>>>>> j logsdon (jl) wrote:

  > Is there a way to read a (for example) postscript (or tiff, jpg, whatever)
  > file into R and plot it using the R fundamentals?  I want to incorporate a
  > drawing in an R plot and I can't see a way of doing this at the moment.

the e1071 package contains functions for reading/writing PNM images.

plotting them is something different, though ...

best,
fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Capt.P.Spencer at debbs.ndhq.dnd.ca  Fri Mar 16 14:16:50 2001
From: Capt.P.Spencer at debbs.ndhq.dnd.ca (Capt.P.Spencer)
Date: Fri, 16 Mar 2001 08:16:50 -0500
Subject: [R] python bindings for R
Message-ID: <BMEFJFNPBBIMKIIIOPKGCEJFCDAA.Capt.P.Spencer@debbs.ndhq.dnd.ca>

Hello,

my group is investigating the development of a statistical program in
support of some other work we are doing.  Stats is not really our area of
expertise and we would like to leverage existing code where possible.  From
your site, I have gathered that R is pretty capable and well used.  We are
currently developing in python and targetting a primarily windows
environment.  We would like to build a pretty simple GUI front end and are
wondering if it is feasible to add python bindings for R.  Python is a very
flexible language for binding to other languages.  I can envision two ways
of doing this ... wrapping R in some C code using the C interface and
exposing that to python or by exposing R directly without wrappers (not sure
if this is possible).  I am looking for feedback/comments as to the
viability of this approach.  We would be willing to leave the interface code
in the Open Source community, of course :)

Thanks,

Paul

---------------------------------------------
Paul Spencer  | Windows NT crashed
pgs at magma.ca  | I am the Blue Screen of Death
              | No one hears your screams

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clelancm at UMDNJ.EDU  Fri Mar 16 14:33:52 2001
From: clelancm at UMDNJ.EDU (Chuck Cleland)
Date: Fri, 16 Mar 2001 08:33:52 -0500
Subject: [R] apply()
References: <001201c0adf8$5a382ee0$b56c36d2@KoKang>
Message-ID: <3AB21640.7BF72BEF@umdnj.edu>

Ko-Kang at xtra.co.nz wrote:
> I input this command on a data matrix:
>  >   apply( traffic, 2, function(z){z-mean(z)})
> 
> and got the following error messages:
>   Error in sum(..., na.rm = na.rm) : invalid "mode" of argument

Could be that traffic is not a proper matrix.  Are all of the columns of traffic
numeric?  And why not try this, which should be equivalent and handles NA's
better.

apply(traffic, 2, scale, scale=F)

HTH,

Chuck
 
-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-
 Chuck Cleland                                 
 Institute for the Study of Child Development  
 UMDNJ--Robert Wood Johnson Medical School     
 97 Paterson Street                            
 New Brunswick, NJ 08903                       
 phone: (732) 235-7699                         
   fax: (732) 235-6189                         
  http://www2.umdnj.edu/iscdweb/       
  http://members.nbci.com/cmcleland/ 
-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-<>-
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at cirsium.ethz.ch  Fri Mar 16 14:42:46 2001
From: pflugshaupt at cirsium.ethz.ch (Kaspar Pflugshaupt)
Date: Fri, 16 Mar 2001 14:42:46 +0100
Subject: [R] python bindings for R
In-Reply-To: <BMEFJFNPBBIMKIIIOPKGCEJFCDAA.Capt.P.Spencer@debbs.ndhq.dnd.ca>
References: <BMEFJFNPBBIMKIIIOPKGCEJFCDAA.Capt.P.Spencer@debbs.ndhq.dnd.ca>
Message-ID: <01031614424600.10515@Aconitum>

On Friday 16 March 2001 14:16, Capt.P.Spencer wrote:


> sure if this is possible).  I am looking for feedback/comments as to the
> viability of this approach.  We would be willing to leave the interface
> code in the Open Source community, of course :)

Have a look at http://www.omegahat.org!

I think they've done what you're looking for.

Cheers

Kaspar Pflugshaupt

-- 


Kaspar Pflugshaupt
Geobotanical Institute
ETH Zurich, Switzerland

http://www.geobot.umnw.ethz.ch
mailto:pflugshaupt at geobot.umnw.ethz.ch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Fri Mar 16 15:55:23 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 16 Mar 2001 08:55:23 -0600
Subject: [R] python bindings for R
Message-ID: <E14dvdT-0004ZG-00@sonny.eddelbuettel.com>



> environment.  We would like to build a pretty simple GUI front end and are
> wondering if it is feasible to add python bindings for R.  Python is a very

Have a look at www.omegahat.org (a project closely related to R) and its R - Python interface.  It is my understanding, though, that the 
Omegahat code is not necessarily targeted for the Windows platform.

Dirk

-- 
According to the latest figures, 43% of all signatures are totally worthless.   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hlai at whsun1.wh.whoi.edu  Fri Mar 16 20:20:21 2001
From: hlai at whsun1.wh.whoi.edu (Han Lai)
Date: Fri, 16 Mar 2001 11:20:21 -0800
Subject: [R] Clip contour or image
Message-ID: <3AB26775.41EE7BC5@whsun1.wh.whoi.edu>

Hi,

I am almost new to R.  Would any one show me (please include an example)
how to clip a contour or image figure so that I only see the image or
lines inside a selected area?

Thank you very much

Han

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at cirsium.ethz.ch  Fri Mar 16 17:52:17 2001
From: pflugshaupt at cirsium.ethz.ch (Kaspar Pflugshaupt)
Date: Fri, 16 Mar 2001 17:52:17 +0100
Subject: [R] Clip contour or image
In-Reply-To: <3AB26775.41EE7BC5@whsun1.wh.whoi.edu>
References: <3AB26775.41EE7BC5@whsun1.wh.whoi.edu>
Message-ID: <01031617521701.10515@Aconitum>

On Friday 16 March 2001 20:20, Han Lai wrote:
> Hi,
>
> I am almost new to R.  Would any one show me (please include an example)
> how to clip a contour or image figure so that I only see the image or
> lines inside a selected area?

You can use the xlim/ylim parameters (see help(plot.default) ) to specify 
each axis' start and end value:

> x <- 1:50  
> y <- 1:50
> z <- outer(x,y)
> image(z)
> image(z, xlim=c(0.2,0.5))
> image(z, xlim=c(0.2,0.5), ylim=c(0,0.5))

The same works with contour().

If you wanted to clip _within_ the graphics area, I'm not sure if or how that 
would work.


HTH

Kaspar Pflugshaupt

-- 


Kaspar Pflugshaupt
Geobotanical Institute
ETH Zurich, Switzerland

http://www.geobot.umnw.ethz.ch
mailto:pflugshaupt at geobot.umnw.ethz.ch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yuling5 at yahoo.com  Fri Mar 16 20:11:27 2001
From: yuling5 at yahoo.com (Yu-Ling Wu)
Date: Fri, 16 Mar 2001 11:11:27 -0800 (PST)
Subject: [R] combine dataset
Message-ID: <20010316191127.46167.qmail@web11501.mail.yahoo.com>

Hi,

I have two data sets look like below:

==========================
state count1 percent1
CA    19    0.34
TX    22    0.35
FL    11    0.24
OR    34    0.42
GA    52    0.62
MN    12    0.17
NC    19    0.34

state count2 percent2
FL    22    0.35
MN    22    0.35
CA    11    0.24
TX    52    0.62
==========================


How to combine these two data set and make it look
like below? Thanks in advance!

======================================
state count1 percent1 count2 percent2
CA    19    0.34      11     0.24
TX    22    0.35      52     0.62
FL    11    0.24      22     0.35
OR    34    0.42       0     0
GA    52    0.62       0     0
MN    12    0.17      22     0.35
NC    19    0.34       0     0
======================================


__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.beede at mail.doc.gov  Fri Mar 16 23:10:07 2001
From: david.beede at mail.doc.gov (david.beede@mail.doc.gov)
Date: Fri, 16 Mar 2001 17:10:07 -0500
Subject: [R] Newbie question about by()
Message-ID: <OFAAB81816.D15794B2-ON85256A11.00795960@mail.doc.gov>


Dear R list:

I want to make separate estimates for each level of the variable "group."
After consulting many sources I am stumped as to why the following does not work:

> wintemp <- subset(alltemp, winner==1)
> my.ppr <- function(x)
+   {
+    if(nrow(x) >= 50) {
+    pprfile <- ppr(award~ilogemp, data=x,nterms=5,max.terms=10,optlevel=3)
+     summary(pprfile)
+      }
+    }
> test.by <- by(wintemp,as.factor(wintemp$group),my.ppr)
Error in model.frame.default(formula = award ~ ilogemp, data = x) :
     Object "x" not found

Any help would be greatly appreciated.
(I am sure I am misunderstanding some fundamental R concepts.)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snow at fisher.byu.edu  Sat Mar 17 00:24:06 2001
From: snow at fisher.byu.edu (Greg Snow)
Date: Fri, 16 Mar 2001 16:24:06 -0700 (MST)
Subject: [R] Re: [S] Regressions with monotonicity constraints
In-Reply-To: <AFD78192EC49D311BFAE00902798AB8F0BDE50@jupiter.sc.arbitrade.com>
Message-ID: <Pine.GSO.4.21.0103161612520.14793-100000@fisher.byu.edu>

On Mon, 12 Mar 2001, Vadim Ogranovich wrote:

> This seems to be a recurrent topic, but I don't remember hearing a
> definitive answer. I also apologies for cross-posting.
> 
> Say I have a numerical response variable and a bunch of multi-level factors
> I want to use for modeling. I don't expect factor interaction to be
> important so there will be no interactions in the model.
> All this would be a perfect job for ANOVA except for one additional
> requirement: all factors are ordered, i.e. for any two levels in a factor
> one is bigger than the other, and I want the regression to preserve the
> ordering, that is to be monotonic.
> 

The answers that Thomas gave are probably more theoretically sound than
the below, but from a simple computational standpoint here are a couple of
ideas:

ACE and AVAS both allow monotone constraints, just constrain y to be
linear and replace your odered factors with integers (codes) and constrain
them to be monotone in the call to ace or avas, you'll need to take the
output and do a final regression on it and change the degrees of freedom,
but it should be a decent exploratory tool.

A second option would be to specify a contrasts matrix that is lower
triangular, i.e. for 4 levels:

     [,1] [,2] [,3] 
[1,]    0    0    0
[2,]    1    0    0
[3,]    1    1    0
[4,]    1    1    1

then each beta is the measure of the difference in 2 levels.  The S-PLUS
function nnls.fit will fit the linear regression constraining all
parameter estimates to be non-negative which will give you monotone
increasing in your ordered factors (though possibly with adjacent levels
equal).  A contrast matrix like:

     [,1] [,2] [,3] 
[1,]    0    0    0
[2,]    1    0    0
[3,]    2    1    0
[4,]    3    2    1

would also work (using nnls.fit again), but this time it says that the
increase from one level to the next, must be greater than or equal to the
previous increase (positive second derivative). 


hope this helps,

-- 
Greg Snow, PhD                Office: 223A TMCB
Department of Statistics      Phone:  (801) 378-7049
Brigham Young University      Dept.:  (801) 378-4505
Provo, UT  84602              email:  gls at byu.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Sat Mar 17 00:37:32 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Fri, 16 Mar 2001 18:37:32 -0500 (EST)
Subject: [R] combine dataset
In-Reply-To: <20010316191127.46167.qmail@web11501.mail.yahoo.com>
Message-ID: <Pine.LNX.4.30.0103161834390.29570-100000@bolker.zoo.ufl.edu>


  Something like this:

state1 <- c("CA","TX","FL","OR","GA","MN","NC")
count1 <- c(19,22,11,34,52,12,19)
percent1 <- c(0.34,0.35,0.24,0.42,0.62,0.17,0.34)

state2 <- c("FL","MN","CA","TX")
count2 <- c(22,22,11,52)
percent2 <- c(0.35,0.35,0.24,0.62)


data1 <- data.frame(state1,count1,percent1)
data2 <- data.frame(state2,count2,percent2)

datac <- data1
m <- match(data1$state1,data2$state2,0)
datac$count2 <- ifelse(m==0,0,data2$count2[m])
datac$percent2 <- ifelse(m==0,0,data2$percent2[m])

  If you didn't want to keep all the rows in both data sets (but just the
shared rows) you could use

 merge(data1,data2,by=1)

It might be possible to hack "merge.data.frame" to do this.



On Fri, 16 Mar 2001, Yu-Ling Wu wrote:

> Hi,
>
> I have two data sets look like below:
>
> ==========================
> state count1 percent1
> CA    19    0.34
> TX    22    0.35
> FL    11    0.24
> OR    34    0.42
> GA    52    0.62
> MN    12    0.17
> NC    19    0.34
>
> state count2 percent2
> FL    22    0.35
> MN    22    0.35
> CA    11    0.24
> TX    52    0.62
> ==========================
>
>
> How to combine these two data set and make it look
> like below? Thanks in advance!
>
> ======================================
> state count1 percent1 count2 percent2
> CA    19    0.34      11     0.24
> TX    22    0.35      52     0.62
> FL    11    0.24      22     0.35
> OR    34    0.42       0     0
> GA    52    0.62       0     0
> MN    12    0.17      22     0.35
> NC    19    0.34       0     0
> ======================================
>
>
> __________________________________________________
> Do You Yahoo!?
> Get email at your own domain with Yahoo! Mail.
> http://personal.mail.yahoo.com/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Sat Mar 17 00:38:23 2001
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Fri, 16 Mar 2001 15:38:23 -0800
Subject: [R] boot() vs S-Plus bootstrap()
Message-ID: <5.1.0.10.2.20010316133111.00a81558@127.0.0.1>

I'm trying to adapt some S-Plus scripts to run in R (1.2.2, Windows).  In 
one of these scripts, I've bootstrapped the prediction success rate under 
the discriminant function (lda).  The bootstrap() functions are proprietary 
to S-Plus and there aren't exact equivalents in R.  The closest is Canty's 
library boot based on the Davidson and Hinkley book.  Unfortunately, I 
haven't been able to map the commands I used in the bootstrap() function of 
S-Plus to the boot() function in the boot library of R (and also S-Plus).

Below is an example of one line from this S-Plus script.  The particular 
element I'm having trouble mapping to boot() is the
group argument.  This makes it pretty straightforward to work with 
functions that operate on multiple groups.  boot() has a strata argument, 
which *seems* like it ought to be the rough equivalent of group, but its 
operation is not entirely transparent.  Can someone point me to an example 
where boot() is used as I've illustrated below with S-Plus' bootstrap() 
function?  Unless I've missed something, there isn't an illustration in VR3 
or in the help for boot.  (There is a bivariate example, but the particular 
example doesn't translate well to something like a discriminant analysis).

Thanks for pointers.


boot.lda.success<-bootstrap(apehum, hitratio(apehum[,1], 
predict(lda(apehum[,2:11], apehum[,1]))$class)$error, group=apehum[,1], 
trace=F, B=250)







=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://web.pdx.edu/~h1mf
PGP Key Available On Request
======================

"Anyway, no drug, not even alcohol, causes the fundamental ills of society.
If we're looking for the source of our troubles, we shouldn't test people
for drugs, we should test them for stupidity, ignorance, greed and love of
power."   P.J. O'Rourke

Powered by Optiplochoerus and Windows 2000 (scary isn't it?)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010316/e0f776d3/attachment.html

From ben at zoo.ufl.edu  Sat Mar 17 00:42:42 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Fri, 16 Mar 2001 18:42:42 -0500 (EST)
Subject: [R] Catching error messages (from nls(), e.g.)
In-Reply-To: <200103161254.NAA08510@ehmgs2.et.tu-dresden.de>
Message-ID: <Pine.LNX.4.30.0103161841140.29570-100000@bolker.zoo.ufl.edu>


  Does try() help you?

On Fri, 16 Mar 2001, Thomas Hoffmann wrote:

> I try to fit subsequentially different nonlinear models to data.
> Up to now I tried a first model and if I could not fit this one
> proceeded to another one.
>
> Now I would like to handle this automatically. But much to my
> chagrin I did not find a way for dealing with the error messages
> from nls(), e.g. getting them as "control information" or at least
> just returning from nls() without a model.
>
> Is there a simple way to handle this?
>
>
> =============================================================================
> Thomas Hoffmann, Institut fuer Halbleiter- und Mikrosystemtechnik, TU Dresden
> E-mail: hoffmann at ehmgs2.et.tu-dresden.de
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From achaz at hermes.usherb.ca  Sun Mar 18 10:54:08 2001
From: achaz at hermes.usherb.ca (Achaz von Hardenberg)
Date: Sun, 18 Mar 2001 10:54:08 +0100
Subject: [R] memory.size
Message-ID: <15028.34240.619001.958925@gargle.gargle.HOWL>

[ unfortunately this was sent to "owner-r-help" (which is me, a person!)
  instead of R-help.			      Martin Maechler
]

------- start of forwarded message -------
To: owner-r-help at stat.math.ethz.ch
Date: Wed, 14 Mar 2001 18:41:03 -0500

hello everybody!

I am trying to increase the memory size in R (windows version), but have
truble in understanding how to do it. The help file tells me to use the
--max-mem-size command line flag but it's still not clear to me how I shoud
do this...what's the difference between a "command line flag" and a command?
Thank you for your help to a r-beginner!

Achaz von Hardenberg
___________________________________
Département de Biologie
Université de Sherbrooke
J1K 2R1 Sherbrooke
Canada
___________________________________
Tel. ++1 (819) 821 8000 ext. 2059
e-mail: achaz at hermes.usherb.ca

------- end of forwarded message -------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tan at uta.fi  Sun Mar 18 13:48:18 2001
From: tan at uta.fi (Tapio Nummi)
Date: Sun, 18 Mar 2001 15:48:18 +0300
Subject: [R] cross-validation
Message-ID: <f05010401b6da5e68cae3@[153.1.53.97]>




Dear R-users,
I have the following problem:
The function crossval (in library bootstrap)
works well for the first degree polynomial model,
but in the case of the second degree model I got
an error message (see below). What went wrong?

>  library(bootstrap)
>
>  x<-c(22,23.4,24.9,28.5,29.8,31.6,34.2,36.4,37.7,39)
>  y<-c(96,88,105,111,107,113,132,122,135,131)
>
>  theta.fit<-function(x,y){lsfit(x,y)$coef}
>  theta.predict<-function(fit,x){
+ cbind(1,x) %*% fit}

>  results <- crossval(cbind(x,x^2),y,theta.fit,theta.predict)
Error in cbind(1, x) %*% fit : non-conformable arguments

Tapio Nummi
University of Tampere
Finland
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010318/cc80a686/attachment.html

From jasont at indigoindustrial.co.nz  Sun Mar 18 19:11:25 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Mon, 19 Mar 2001 06:11:25 +1200
Subject: [R] memory.size
In-Reply-To: <15028.34240.619001.958925@gargle.gargle.HOWL>; from achaz@hermes.usherb.ca on Sun, Mar 18, 2001 at 10:54:08AM +0100
References: <15028.34240.619001.958925@gargle.gargle.HOWL>
Message-ID: <20010319061125.B3747@camille.indigoindustrial.co.nz>

> I am trying to increase the memory size in R (windows version), but have
> truble in understanding how to do it. 

Easiest fix is to use version 1.2 or higher (latest is 1.2.2).  Then
this becomes irrelevant to the user.

Cheers

Jason Turner
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun Mar 18 21:37:29 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 18 Mar 2001 21:37:29 +0100
Subject: [R] memory.size
References: <15028.34240.619001.958925@gargle.gargle.HOWL>
Message-ID: <3AB51C89.DA540674@statistik.uni-dortmund.de>

> I am trying to increase the memory size in R (windows version), but have
> truble in understanding how to do it. The help file tells me to use the
> --max-mem-size command line flag but it's still not clear to me how I shoud
> do this...what's the difference between a "command line flag" and a command?
> Thank you for your help to a r-beginner!

Starting R from the command line ("DOS window") using the mentioned
command line flag means for example:

c:\> c:\program files\rw1022\bin\rgui.exe --max-mem-size=256M

You might want to create a shortcut, so you don't have to type it in
every time.
Please read the rw-FAQs.

Uwe Ligges


BTW: If you don't have installed more than 256M of RAM, it makes not
much sense to increase the max-mem-size, because your machine will begin
swapping ...
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun Mar 18 21:54:48 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 18 Mar 2001 21:54:48 +0100
Subject: [R] Newbie question about by()
References: <OFAAB81816.D15794B2-ON85256A11.00795960@mail.doc.gov>
Message-ID: <3AB52098.A6DB1A9B@statistik.uni-dortmund.de>

david.beede at mail.doc.gov wrote:
> 
> Dear R list:
> 
> I want to make separate estimates for each level of the variable "group."
> After consulting many sources I am stumped as to why the following does not work:
> 
> > wintemp <- subset(alltemp, winner==1)
> > my.ppr <- function(x)
> +   {
> +    if(nrow(x) >= 50) {
> +    pprfile <- ppr(award~ilogemp, data=x,nterms=5,max.terms=10,optlevel=3)
> +     summary(pprfile)
> +      }
> +    }
> > test.by <- by(wintemp,as.factor(wintemp$group),my.ppr)
> Error in model.frame.default(formula = award ~ ilogemp, data = x) :
>      Object "x" not found
> 
> Any help would be greatly appreciated.
> (I am sure I am misunderstanding some fundamental R concepts.)

It is hard to help, if we don't know what all those variables stand for.
I tried something similar and it worked.
What version of R are you running?

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Mar 19 10:18:40 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 19 Mar 2001 10:18:40 +0100
Subject: [R] cross-validation { library(bootstrap) problem }
In-Reply-To: <f05010401b6da5e68cae3@[153.1.53.97]>
References: <f05010401b6da5e68cae3@[153.1.53.97]>
Message-ID: <15029.52976.514813.642854@gargle.gargle.HOWL>

I don't know if this really helps for your problem:

Many people (including me) nowadays prefer the `boot' package 
to the `bootstrap' one; also, it's maintained much better.

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Mon Mar 19 10:35:41 2001
From: stuart.leask at nottingham.ac.uk (Dr Stuart Leask)
Date: Mon, 19 Mar 2001 09:35:41 -0000
Subject: [R] Memory allocation in problem R linux
References: <Pine.LNX.4.10.10103161238100.26444-100000@mercury.quantex> <15026.2773.368631.94683@galadriel.ci.tuwien.ac.at>
Message-ID: <009e01c0b057$f71d26a0$cee1f380@nottingham.ac.uk>

Hi folks.

R 1.2.1 --vsize 34M, --nsize 3000k, Slackware Linux 2.2.16 in UMSDOS, P200,
64Mb ram, about 120Mb HD left in that partition (several hundred in another,
if anyone thinks that could help). Runs like a breeze much of the time.

However, using Saikat DebRoy's read.spss from 'foreign' package to read in a
5Mb .SAV file (equivalent to 11Mb of tab-delimited data)
data2<-read.spss('/home/data1.sav')
returns the prompt in under ten seconds.

However, if I then try to take a subset of this, by eg.
sub2.df<-as.data.frame(cbind(v1=data2$v1,v2=data2$v2))
I get "Error: cannot allocate vector of size 441kb". No matter how large I
make vsize or nsize. The data is in, but I can't use it!

I'd prefer to only import some of the SPSS file anyway (cf. using /KEEP in
SPSS), but
- I've tried importing a file with half as many variables, and I get the
same problem - errors as above when I try and do anything with it
- I am told that memory-handling under linux is better than windows!

R under linux must be able to handle datasets like this (about 70 variables,
18,000 cases).
I must be doing something wrong, but fiddling with nsize & vsize doesn't
seem to help. Help!

Stuart

*************************************************************
Stuart Leask MA MRCPsych
Clinical Lecturer in Psychiatry
Duncan Macmillan House
Porchester Road               "Ask a clock how it works, &
Nottingham                    all it will tell you is the time"
UK   NG3 6AA
Tel: +44-0 115 969 1300 xtn 40784 Fax: 0115 955 5352
*************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Mar 19 11:03:58 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 19 Mar 2001 11:03:58 +0100
Subject: [R] Memory allocation in problem R linux
References: <Pine.LNX.4.10.10103161238100.26444-100000@mercury.quantex> <15026.2773.368631.94683@galadriel.ci.tuwien.ac.at> <009e01c0b057$f71d26a0$cee1f380@nottingham.ac.uk>
Message-ID: <3AB5D98E.E13EE4A3@statistik.uni-dortmund.de>



Dr Stuart Leask wrote:
> 
> Hi folks.
> 
> R 1.2.1 --vsize 34M, --nsize 3000k, Slackware Linux 2.2.16 in UMSDOS, P200,
> 64Mb ram, about 120Mb HD left in that partition (several hundred in another,
> if anyone thinks that could help). Runs like a breeze much of the time.
[SNIP]

You don't need to specify --nsize or --vsize in R versions >= 1.2.x.
Have a look at ?Memory.

Uwe LIgges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petzoldt at rcs.urz.tu-dresden.de  Mon Mar 19 11:56:03 2001
From: petzoldt at rcs.urz.tu-dresden.de (Thomas Petzoldt)
Date: Mon, 19 Mar 2001 11:56:03 +0100
Subject: [R] Clip contour or image
References: <3AB26775.41EE7BC5@whsun1.wh.whoi.edu>
Message-ID: <3AB5E5C3.F39EE66@rcs.urz.tu-dresden.de>

Han Lai schrieb:
> 
> Hi,
> 
> I am almost new to R.  Would any one show me (please include an example)
> how to clip a contour or image figure so that I only see the image or
> lines inside a selected area?

Hi,

I had a similar problem some weeks before. My problem was to clip an
interpolated (kriged) surface image of a lake to its _irregular_shaped_
shoreline. My solution was some kind of "image manipulation". I
"stamped" the shoreline into the image matrix and filled the region
outside with the help of the seedfill algorithm, which I implemented as
an external shared library (runs as Win32-DLL and .so on Linux). 

You will need the compiled C library and some R functions. If you or
another one who would be interested on my R and C functions, I can give
it to you. 

Maybe it would be worth to create a package with "basic image
manipulation procedures" for matrices. If there is anybody, who has a
better (or easier) solution, I would be interested too.

Thomas Petzoldt

-- 
Thomas Petzoldt                    (Limnology and Ecological Modelling)
Institute for Hydrobiology         http://www.tu-dresden.de/fghhihb/
Dresden University of Technology  
mailto:petzoldt at rcs.urz.tu-dresden.de  
01062 Dresden
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Mon Mar 19 13:41:01 2001
From: stuart.leask at nottingham.ac.uk (Dr Stuart Leask)
Date: Mon, 19 Mar 2001 12:41:01 -0000
Subject: [R] Memory allocation in problem R linux
References: <Pine.LNX.4.10.10103161238100.26444-100000@mercury.quantex> <15026.2773.368631.94683@galadriel.ci.tuwien.ac.at> <009e01c0b057$f71d26a0$cee1f380@nottingham.ac.uk> <3AB5D98E.E13EE4A3@statistik.uni-dortmund.de>
Message-ID: <00c001c0b071$dad10ba0$cee1f380@nottingham.ac.uk>

> > R 1.2.1 --vsize 34M, --nsize 3000k, Slackware Linux 2.2.16 in UMSDOS,
P200,
> > 64Mb ram, about 120Mb HD left in that partition (several hundred in
another,
> > if anyone thinks that could help). Runs like a breeze much of the time.
> [SNIP]
>
> You don't need to specify --nsize or --vsize in R versions >= 1.2.x.
> Have a look at ?Memory.

If only _that_  were true! When I don't specify vsize to be well over twice
the size of the data in memory (ie. 24Mb +), R hangs. In a nasty,
un-interuptable, press reset on the front of the PC to escape,
not-very-linux sort of way.

Stuart

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Mon Mar 19 14:49:46 2001
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Mon, 19 Mar 2001 08:49:46 -0500
Subject: [R] Memory allocation in problem R linux
References: <Pine.LNX.4.10.10103161238100.26444-100000@mercury.quantex> <15026.2773.368631.94683@galadriel.ci.tuwien.ac.at> <009e01c0b057$f71d26a0$cee1f380@nottingham.ac.uk>
Message-ID: <3AB60E7A.E12843BC@unc.edu>

I've had similar problems under 1.2.2 for Linux; haven't had a chance to
play with them because the project isn't high priority for me. But the
symptom is similar:

- Start R, library(foreign)
- foo<-read.spss('spssfile.sav')
- foo<-as.data.frame(foo)
	--- it's here that R runs out of memory.

I can post more details if interested.

Andy Perrin

Dr Stuart Leask wrote:
> 
> Hi folks.
> 
> R 1.2.1 --vsize 34M, --nsize 3000k, Slackware Linux 2.2.16 in UMSDOS, P200,
> 64Mb ram, about 120Mb HD left in that partition (several hundred in another,
> if anyone thinks that could help). Runs like a breeze much of the time.
> 
> However, using Saikat DebRoy's read.spss from 'foreign' package to read in a
> 5Mb .SAV file (equivalent to 11Mb of tab-delimited data)
> data2<-read.spss('/home/data1.sav')
> returns the prompt in under ten seconds.
> 
> However, if I then try to take a subset of this, by eg.
> sub2.df<-as.data.frame(cbind(v1=data2$v1,v2=data2$v2))
> I get "Error: cannot allocate vector of size 441kb". No matter how large I
> make vsize or nsize. The data is in, but I can't use it!
> 
> I'd prefer to only import some of the SPSS file anyway (cf. using /KEEP in
> SPSS), but
> - I've tried importing a file with half as many variables, and I get the
> same problem - errors as above when I try and do anything with it
> - I am told that memory-handling under linux is better than windows!
> 
> R under linux must be able to handle datasets like this (about 70 variables,
> 18,000 cases).
> I must be doing something wrong, but fiddling with nsize & vsize doesn't
> seem to help. Help!
> 
> Stuart
> 
> *************************************************************
> Stuart Leask MA MRCPsych
> Clinical Lecturer in Psychiatry
> Duncan Macmillan House
> Porchester Road               "Ask a clock how it works, &
> Nottingham                    all it will tell you is the time"
> UK   NG3 6AA
> Tel: +44-0 115 969 1300 xtn 40784 Fax: 0115 955 5352
> *************************************************************
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
--------------------------------------------------------------
Andrew J. Perrin - Programmer/Analyst, Desktop Support
Children's Primary Care Research Group, UNC - Chapel Hill
(919)966-9394 * andrew_perrin at unc.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Heberto at meakins.lan.mcgill.ca  Mon Mar 19 14:57:06 2001
From: Heberto at meakins.lan.mcgill.ca (Heberto Ghezzo)
Date: Mon, 19 Mar 2001 08:57:06 -0500
Subject: [R] scan()
Message-ID: <200103191353.f2JDrwY16074@water.cc.mcgill.ca>

Hi. Thanks to all who offered a solution with my problem with scan.
I read the helps pages but I did not understand the definition of 
'stream'. 
if I say:
my.file <- "c:/schrumpft.dat"
x <- scan(my.file,nline=1,what=...)
scan reads one line and closes the file but
my.file <- open(my.file,open="r")
x <- scan(my.file,nline=1,..._
then my.file is an already open file, i.e. a 'stream' and scan does 
not close it after reading a line and keep on reading lines on 
successive calls.
I know I am old and not up to date on computerese but I think that 
this behavior could be better explained in scan() help.
Thanks again to all those who offered help.
.


R. Heberto Ghezzo  Ph.D.
Meakins-Christie Labs
McGill University
Montreal - Canada
heberto at meakins.lan.mcgill.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Mon Mar 19 16:14:51 2001
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Mon, 19 Mar 2001 16:14:51 +0100
Subject: [R] plot.new has not been called yet
Message-ID: <3.0.6.32.20010319161451.00975740@mail.wsl.ch>

Hi all,

I have a problem with plotting: (R-1.2.2 on 
SunOS fluke 5.5.1 Generic_103640-27 sun4u sparc SUNW,Ultra-Enterprise
solaris 2.)

I define a function to switch between plotting on graphics device and
generating a postscript file (which can also be automatically be printed) 

plt <- function(view,f,file="") { ## C.Hoffmann,  2001.03.14
  if (view>0) f
  else {
    postscript(file=file,print.it=(view==0))
    on.exit(dev.off())
    f
  }
}

Executing several statements of the type:

plt(1,plot(rnorm(100),rnorm(100),"test")

does not seem to make any trouble.
If I try 

plt(0,plot(rnorm(100),rnorm(100),"test")

more than once, I am getting the error

plot.new has not been called yet

and subsequent executions of
plot.new()

are having no positive result.   ??????
What am I missing?



How can I open an X "R Graphics Device" if I have unintentionally closed
it, without q() and restarting of R?



Thanks for help,

-christian
Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: Hoffmann at WSL.CH
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredrik at ling.umu.se  Mon Mar 19 16:13:00 2001
From: fredrik at ling.umu.se (Fredrik Karlsson)
Date: Mon, 19 Mar 2001 16:13:00 +0100
Subject: [R] 3D plots
Message-ID: <20010319161300.A26707@ling.umu.se>

Hi all,

I've got at really basic Q for you all: How do I produce a 3D plot in R?
Like the one in the screenshot on the R-project wab-page.
What is the command?

/Fredrik

-- 
-----------------------------------------------------------------
Fredrik Karlsson, Research Student

Department of Philosophy and Linguistics
Ume? University
S-901 87 UME?
SWEDEN
Tel: +46 90 786 56 84   Web: http://www.ling.umu.se/~fredrik/
Fax: +46 90 786 63 77   Email: fredrik at ling.umu.se
PGP-fingerprint:2DD5 54A1 4555 6D00 F386  C269 C430 0C0F 1A53 49B9 
-----------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ono96 at fa2.so-net.ne.jp  Mon Mar 19 16:26:53 2001
From: ono96 at fa2.so-net.ne.jp (Hisaji ONO)
Date: Tue, 20 Mar 2001 00:26:53 +0900
Subject: [R] About another r-script input method for Rterm of  RWin
Message-ID: <001d01c0b089$071b1f40$690202c0@myvaio>

Hello.

 I try to create stat sever by IIS 4.0 + ASP + VBScript with R for Win on NT
Sever 4.0 SP6a.

 However VBScript denied redirection input of R script.

 Do Rwin developers have a plan to add a following function by adding an
argument of command line?

 rterm --script  'r script path & file name'


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010320/1e738348/attachment.html

From zeileis at ci.tuwien.ac.at  Mon Mar 19 16:28:38 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Mon, 19 Mar 2001 16:28:38 +0100
Subject: [R] 3D plots
References: <20010319161300.A26707@ling.umu.se>
Message-ID: <3AB625A6.7F3F3D0A@ci.tuwien.ac.at>

Fredrik Karlsson wrote:
> 
> Hi all,
> 
> I've got at really basic Q for you all: How do I produce a 3D plot in R?
> Like the one in the screenshot on the R-project wab-page.
> What is the command?

The screenshot is produced with the function "persp", see
help(persp)
example(persp)

For producing 3D scatterplots there is also the package "scatterplot3d"
on CRAN.

Best
Achim

> /Fredrik
> 
> --
> -----------------------------------------------------------------
> Fredrik Karlsson, Research Student
> 
> Department of Philosophy and Linguistics
> Ume? University
> S-901 87 UME?
> SWEDEN
> Tel: +46 90 786 56 84   Web: http://www.ling.umu.se/~fredrik/
> Fax: +46 90 786 63 77   Email: fredrik at ling.umu.se
> PGP-fingerprint:2DD5 54A1 4555 6D00 F386  C269 C430 0C0F 1A53 49B9
> -----------------------------------------------------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.ribeiro at lancaster.ac.uk  Mon Mar 19 16:33:18 2001
From: p.ribeiro at lancaster.ac.uk (Paulo Justiniano Ribeiro Jr)
Date: Mon, 19 Mar 2001 15:33:18 +0000 (GMT)
Subject: [R] 3D plots
In-Reply-To: <20010319161300.A26707@ling.umu.se>
Message-ID: <Pine.GSO.4.21.0103191532350.21661-100000@unixb.lancs.ac.uk>

The package "scatterplot3D" provides not all but some nice tools.

On Mon, 19 Mar 2001, Fredrik Karlsson wrote:

> Hi all,
> 
> I've got at really basic Q for you all: How do I produce a 3D plot in R?
> Like the one in the screenshot on the R-project wab-page.
> What is the command?
> 
> /Fredrik
> 
> -- 
> -----------------------------------------------------------------
> Fredrik Karlsson, Research Student
> 
> Department of Philosophy and Linguistics
> Ume? University
> S-901 87 UME?
> SWEDEN
> Tel: +46 90 786 56 84   Web: http://www.ling.umu.se/~fredrik/
> Fax: +46 90 786 63 77   Email: fredrik at ling.umu.se
> PGP-fingerprint:2DD5 54A1 4555 6D00 F386  C269 C430 0C0F 1A53 49B9 
> -----------------------------------------------------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Paulo Justiniano Ribeiro Jr
Dept Maths & Stats  -  Fylde College
Lancaster University
Lancaster LA1 4YF   -  U.K.

e-mail: Paulo.Ribeiro at est.ufpr.br
http://www.maths.lancs.ac.uk/~ribeiro

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From detlef.steuer at unibw-hamburg.de  Mon Mar 19 17:36:16 2001
From: detlef.steuer at unibw-hamburg.de (detlef.steuer@unibw-hamburg.de)
Date: Mon, 19 Mar 2001 17:36:16 +0100 (CET)
Subject: [R] plot.new has not been called yet
In-Reply-To: <3.0.6.32.20010319161451.00975740@mail.wsl.ch>
Message-ID: <XFMail.010319173616.detlef.steuer@unibw-hamburg.de>


On 19-Mar-01 Christian Hoffmann wrote:
> 
> How can I open an X "R Graphics Device" if I have unintentionally closed
> it, without q() and restarting of R?
> 

This part is easy:

x11() 

detlef

> 
> 
> Thanks for help,
> 
> -christian

Detlef Steuer ** Universität der Bw ** 22043 Hamburg
Tel: (0049) (0)40/6541-2819
steuer at unibw-hamburg.de

There is more to life than increasing its speed.  - Mahatma Gandhi

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Mar 19 17:43:24 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Mon, 19 Mar 2001 11:43:24 -0500 (EST)
Subject: [R] 3D plots
In-Reply-To: <20010319161300.A26707@ling.umu.se>
Message-ID: <Pine.LNX.4.30.0103191141001.31945-100000@bolker.zoo.ufl.edu>


  persp().  You can also look at CRAN for scatterplot3d, which does a
different kind of 3D plot.


On Mon, 19 Mar 2001, Fredrik Karlsson wrote:

> Hi all,
>
> I've got at really basic Q for you all: How do I produce a 3D plot in R?
> Like the one in the screenshot on the R-project wab-page.
> What is the command?
>
> /Fredrik
>
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.beede at mail.doc.gov  Mon Mar 19 17:38:41 2001
From: david.beede at mail.doc.gov (david.beede@mail.doc.gov)
Date: Mon, 19 Mar 2001 11:38:41 -0500
Subject: [R] Re: Emacs & ESS under Windows
Message-ID: <OFC7508E23.1B729F00-ON85256A14.005AAF4C@mail.doc.gov>


Emmanuel --

Thank you very much for your posting on setting up Emacs and ESS under
Windows.  I had already set these up at work, but I used your instructions
at home and they were very helpful.

One thing that was not included in your instructions that might help:  I
found that I needed to add the path to the rterm.exe file to my
autoexec.bat file.  In other words, if your path statement in your
autoexec.bat file is :

path=c:\windows;

you may need to change it to:

path=c:\windows;c:\rw1022\bin;

In fact, I think the official Emacs instructions tell you to add
c:\emacs-20.7\bin; to the path statement as well, which I did to my work machine but not to
my home machine, with no apparent difference in function.

Note that if you don't add c:\rw1022\bin to your path statement, you get a message saying:
"Searching for program, no such file or directory, Rterm."

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Mar 19 18:52:34 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 19 Mar 2001 18:52:34 +0100
Subject: [R] About another r-script input method for Rterm of  RWin
References: <001d01c0b089$071b1f40$690202c0@myvaio>
Message-ID: <3AB64762.AD1FD192@statistik.uni-dortmund.de>

> Hisaji ONO wrote:
> 
> Hello.
> 
>  I try to create stat sever by IIS 4.0 + ASP + VBScript with R for Win
> on NT Sever 4.0 SP6a.
> 
>  However VBScript denied redirection input of R script.
> 
>  Do Rwin developers have a plan to add a following function by adding
> an argument of command line?
> 
>  rterm --script  'r script path & file name'

You can use
Rcmd batch 'r script path & file name'

For details have a look at 
Rcmd batch --help

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dlucy at maths.ed.ac.uk  Mon Mar 19 19:04:30 2001
From: dlucy at maths.ed.ac.uk (David Lucy)
Date: Mon, 19 Mar 2001 18:04:30 +0000 (GMT)
Subject: [R] Ternary plots
Message-ID: <Pine.SOL.4.21.0103191804150.21904-100000@masiaska>



**********************************************************
**  Dr. David Lucy                                      **
**  Centre for Forensic Statistics and Legal Reasoning  **
**  Department of Mathematics and Statistics            **
**  The University of Edinburgh                         **
**  James Clerk Maxwell Building                        **
**  King's Buildings                                    **
**  Mayfield Road                                       **
**  Edinburgh                                           **
**  EH9 3JZ                                             **
**                                                      **
**  tel: 0131 650 5057                                  **
**  e-mail: dlucy at maths.ed.ac.uk                        **
**********************************************************



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dlucy at maths.ed.ac.uk  Mon Mar 19 19:08:00 2001
From: dlucy at maths.ed.ac.uk (David Lucy)
Date: Mon, 19 Mar 2001 18:08:00 +0000 (GMT)
Subject: [R] Ternary plots
Message-ID: <Pine.SOL.4.21.0103191805260.21904-100000@masiaska>

Hi everyone,

Sorry about last message, the send key slipped. 

Does anybody know about ternary (tertiary?) plotting functions for R -
they're triangular things used much beloved by chemists for plotting
compositional data.

Regards,

David.



**********************************************************
**  Dr. David Lucy                                      **
**  Centre for Forensic Statistics and Legal Reasoning  **
**  Department of Mathematics and Statistics            **
**  The University of Edinburgh                         **
**  James Clerk Maxwell Building                        **
**  King's Buildings                                    **
**  Mayfield Road                                       **
**  Edinburgh                                           **
**  EH9 3JZ                                             **
**                                                      **
**  tel: 0131 650 5057                                  **
**  e-mail: dlucy at maths.ed.ac.uk                        **
**********************************************************



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ono96 at fa2.so-net.ne.jp  Mon Mar 19 19:22:54 2001
From: ono96 at fa2.so-net.ne.jp (Hisaji ONO)
Date: Tue, 20 Mar 2001 03:22:54 +0900
Subject: [R] About another r-script input method for Rterm of  RWin
References: <001d01c0b089$071b1f40$690202c0@myvaio> <3AB64762.AD1FD192@statistik.uni-dortmund.de>
Message-ID: <009b01c0b0a1$9df55c60$690202c0@myvaio>

Thank you very much, Mr. Ligges.

 But I couldn't find "R" in Rwin binaries.

Where can I get Rcmd?


> 
> You can use
> Rcmd batch 'r script path & file name'
> 
> For details have a look at 
> Rcmd batch --help
> 
> Uwe Ligges
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Mar 19 19:28:34 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 19 Mar 2001 19:28:34 +0100
Subject: [R] About another r-script input method for Rterm of  RWin
References: <001d01c0b089$071b1f40$690202c0@myvaio> <3AB64762.AD1FD192@statistik.uni-dortmund.de> <009b01c0b0a1$9df55c60$690202c0@myvaio>
Message-ID: <3AB64FD2.C0782EE5@statistik.uni-dortmund.de>

Hisaji ONO wrote:
> 
> Thank you very much, Mr. Ligges.
> 
>  But I couldn't find "R" in Rwin binaries.
> 
> Where can I get Rcmd?

You'll find Rcmd.exe and the necessary scripts in rw1022sp.zip
(available at the windows section on CRAN).

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pkleiber at honlab.nmfs.hawaii.edu  Mon Mar 19 20:26:08 2001
From: pkleiber at honlab.nmfs.hawaii.edu (Pierre Kleiber)
Date: Mon, 19 Mar 2001 09:26:08 -1000
Subject: [R] Clip contour or image
References: <3AB26775.41EE7BC5@whsun1.wh.whoi.edu> <3AB5E5C3.F39EE66@rcs.urz.tu-dresden.de>
Message-ID: <3AB65D50.27E514@honlab.nmfs.hawaii.edu>


   I was going to suggest masking the ouside of a selected contour
line using the function antipolygon(), which I have written.  However,
I see that contour() in R does not have the ability to return contour
lines as x, y vectors as it does in Splus.  This is a feature I found
useful before I switched to R.  Question for the R gurus... Would it
be difficult to add this feature to R's version of coutour()?

   By the way... this is my antipolygon function:

     antipolygon <- function(x,y,col=0){
       u <- par("usr")
       x <- c(x,x[1],u[1],u[1],u[2],u[2],u[1])
       y <- c(y,y[1],u[3],u[4],u[4],u[3],u[3])
       polygon(x,y,border=col,col=col)
       box()
     }  

But I should add that it has not been thoroughly tested.  

   Cheers, Pierre


Thomas Petzoldt wrote:
> 
> Han Lai schrieb:
> >
> > Hi,
> >
> > I am almost new to R.  Would any one show me (please include an example)
> > how to clip a contour or image figure so that I only see the image or
> > lines inside a selected area?
> 
> Hi,
> 
> I had a similar problem some weeks before. My problem was to clip an
> interpolated (kriged) surface image of a lake to its _irregular_shaped_
> shoreline. My solution was some kind of "image manipulation". I
> "stamped" the shoreline into the image matrix and filled the region
> outside with the help of the seedfill algorithm, which I implemented as
> an external shared library (runs as Win32-DLL and .so on Linux).
> 
> You will need the compiled C library and some R functions. If you or
> another one who would be interested on my R and C functions, I can give
> it to you.
> 
> Maybe it would be worth to create a package with "basic image
> manipulation procedures" for matrices. If there is anybody, who has a
> better (or easier) solution, I would be interested too.
> 
> Thomas Petzoldt
> 
> --
> Thomas Petzoldt                    (Limnology and Ecological Modelling)
> Institute for Hydrobiology         http://www.tu-dresden.de/fghhihb/
> Dresden University of Technology
> mailto:petzoldt at rcs.urz.tu-dresden.de
> 01062 Dresden
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
-----------------------------------------------------------------
Pierre Kleiber             Email: pkleiber at honlab.nmfs.hawaii.edu
Fishery Biologist                     Tel: 808 983-5399/737-7544
NOAA FISHERIES - Honolulu Laboratory         Fax: 808 983-2902
2570 Dole St., Honolulu, HI 96822-2396 
-----------------------------------------------------------------
 "God could have told Moses about galaxies and mitochondria and
  all.  But behold... It was good enough for government work."
-----------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pdenis2 at home.com  Mon Mar 19 21:43:16 2001
From: pdenis2 at home.com (Peter Denisevich)
Date: Mon, 19 Mar 2001 12:43:16 -0800
Subject: [R] Ternary plots
References: <Pine.SOL.4.21.0103191805260.21904-100000@masiaska>
Message-ID: <3AB66F64.44A55901@home.com>

David Lucy wrote:

> Hi everyone,
>
> Sorry about last message, the send key slipped.
>
> Does anybody know about ternary (tertiary?) plotting functions for R -
> they're triangular things used much beloved by chemists for plotting
> compositional data.
>
> Regards,
>
> David.
>
> **********************************************************
> **  Dr. David Lucy                                      **
> **  Centre for Forensic Statistics and Legal Reasoning  **
> **  Department of Mathematics and Statistics            **
> **  The University of Edinburgh                         **
> **  James Clerk Maxwell Building                        **
> **  King's Buildings                                    **
> **  Mayfield Road                                       **
> **  Edinburgh                                           **
> **  EH9 3JZ                                             **
> **                                                      **
> **  tel: 0131 650 5057                                  **
> **  e-mail: dlucy at maths.ed.ac.uk                        **
> **********************************************************
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

There is an example of a ternary plot in the dataset 'Skye' in the package 'MASS':

>require(MASS)
>example(Skye)
...
I'm a chemist and I HATE ternary diagrams.  I'm hoping to use R to show the people
I work with that there are better ways, at least for the types of correlations
we're dealing with.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Mon Mar 19 22:38:14 2001
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Tue, 20 Mar 2001 08:38:14 +1100 (EST)
Subject: [R] Re: Emacs & ESS under Windows
Message-ID: <200103192138.IAA12244@leonard.anu.edu.au>

It may be worth noting that, after installing a new version of R,
it pays to change the name of the directory from e.g. rw1022 to
r, or to some other name that will not change.  (The existing
directory might first be renamed to r.old .  For one thing, one
will probably want to copy across those libraries that are
compatible with the new version.)  

This avoids having to change the target fields in one's various icons
and anywhere else where it is needed, such as in David's path
statement below.

> From: david.beede at mail.doc.gov
> Subject: Re: Emacs & ESS under Windows
> To: Emmanuel Paradis <paradis at isem.univ-montp2.fr>
> Cc: r-help at stat.math.ethz.ch, ESS-help at stat.math.ethz.ch
> Date: Mon, 19 Mar 2001 11:38:41 -0500
> 
> Emmanuel --

> Thank you very much for your posting on setting up Emacs and ESS
> under Windows.  I had already set these up at work, but I used your
> instructions at home and they were very helpful.

> One thing that was not included in your instructions that might
> help: I found that I needed to add the path to the rterm.exe file to
> my autoexec.bat file.  In other words, if your path statement in
> your autoexec.bat file is :

> path=c:\windows;
> 
> you may need to change it to:
> 
> path=c:\windows;c:\rw1022\bin;

> In fact, I think the official Emacs instructions tell you to add
> c:\emacs-20.7\bin; to the path statement as well, which I did to my
> work machine but not to my home machine, with no apparent difference
> in function.  Note that if you don't add c:\rw1022\bin to your path
> statement, you get a message saying:
> "Searching for program, no such file or directory, Rterm."
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-



John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6125)3998        
c/o CMA, SMS,                 fax   : (6125)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jcmporter at yahoo.com  Tue Mar 20 00:33:21 2001
From: jcmporter at yahoo.com (Janine Porter)
Date: Mon, 19 Mar 2001 15:33:21 -0800 (PST)
Subject: [R] GLIBC problem on Linux 7
Message-ID: <20010319233321.8038.qmail@web13310.mail.yahoo.com>

I'm using Redhat linux 7 and R 1.2.2.  When trying to run a program I
get the following error:
/usr/lib/R/bin/R.bin: error while loading shared libraries:
/usr/lib/R/bin/R.bin: symbol __sysconf, version GLIBC_2.2 not 
defined in file libc.so.6 with link time reference.  What does this
mean and how can I fix it?

Thank you

=====
Janine Porter
Paladin Data Systems
206-910-8370

__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Tue Mar 20 08:20:18 2001
From: gb at stat.umu.se (gb)
Date: Tue, 20 Mar 2001 08:20:18 +0100 (CET)
Subject: [R] GLIBC problem on Linux 7
In-Reply-To: <20010319233321.8038.qmail@web13310.mail.yahoo.com>
Message-ID: <Pine.LNX.4.30.0103200817140.4678-100000@tal.stat.umu.se>

On Mon, 19 Mar 2001, Janine Porter wrote:

> I'm using Redhat linux 7 and R 1.2.2.  When trying to run a program I
> get the following error:
> /usr/lib/R/bin/R.bin: error while loading shared libraries:
> /usr/lib/R/bin/R.bin: symbol __sysconf, version GLIBC_2.2 not
> defined in file libc.so.6 with link time reference.  What does this
> mean and how can I fix it?

Have you upgraded gcc, g77, glibc, etc in your RedHat installation?
That's necessary to get things to work properly.

G?ran
-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chessel at biomserv.univ-lyon1.fr  Tue Mar 20 08:29:36 2001
From: chessel at biomserv.univ-lyon1.fr (Daniel Chessel)
Date: Tue, 20 Mar 2001 08:29:36 +0100
Subject: [R] Ternary plots
In-Reply-To: <Pine.SOL.4.21.0103191805260.21904-100000@masiaska>
Message-ID: <3.0.3.32.20010320082936.006ca214@biomserv.univ-lyon1.fr>

At 18:08 19/03/01 +0000, David Lucy wrote:
>Hi everyone,
>
>Sorry about last message, the send key slipped. 
>
>Does anybody know about ternary (tertiary?) plotting functions for R -
>they're triangular things used much beloved by chemists for plotting
>compositional data.

You can try plot.triangle :

> euro78
              pri   sec   ter
Belgique    0.032 0.359 0.609
Danemark    0.079 0.319 0.602
Espagne     0.206 0.372 0.422
France      0.092 0.368 0.540
Gr?ce       0.320 0.297 0.383
Irlande     0.206 0.320 0.474
Italie      0.155 0.381 0.464
Luxembourg  0.062 0.392 0.546
Pays-Bas    0.054 0.330 0.616
Portugal    0.313 0.348 0.339
Allemagne   0.061 0.444 0.495
Royaume-Uni 0.028 0.390 0.582

> plot.triangle(euro78)

triangle_function(ta) {
 	if (ncol(ta)!=3) stop ("Non convenient data")
	if (min(ta)<0) stop ("Non convenient data")

	cal_matrix(0,9,3)
	tb_t(apply(ta,1,function(x) x/sum(x)))
	mini_apply(tb,2,min)
	maxi_apply(tb,2,max)
	mini_(floor(mini/.1))/10
	maxi_(floor(maxi/.1)+1)/10
	ampli_maxi-mini
	amplim_max(ampli)
	for (j in 1:3) {
		k_amplim-ampli[j]
		while (k>0) {
			if ((k>0) & (maxi[j]<1)) {
				maxi[j]_maxi[j]+0.1
				k_k-1
			}	
			if ((k>0) & (mini[j]>0)) {
				mini[j]_mini[j]-0.1
				k_k-1
			}	
		}
	}
	cal[1,1]_mini[1]; cal[1,2]_mini[2]; cal[1,3]_1-cal[1,1]-cal[1,2]
	cal[2,1]_mini[1]; cal[2,2]_maxi[2]; cal[2,3]_1-cal[2,1]-cal[2,2]
	cal[3,1]_maxi[1]; cal[3,2]_mini[2]; cal[3,3]_1-cal[3,1]-cal[3,2]

	cal[4,1]_mini[1]; cal[4,3]_mini[3]; cal[4,2]_1-cal[4,1]-cal[4,3]
	cal[5,1]_mini[1]; cal[5,3]_maxi[3]; cal[5,2]_1-cal[5,1]-cal[5,3]
	cal[6,1]_maxi[1]; cal[6,3]_mini[3]; cal[6,2]_1-cal[6,1]-cal[6,3]

	cal[7,2]_mini[2]; cal[7,3]_mini[3]; cal[7,1]_1-cal[7,2]-cal[7,3]
	cal[8,2]_mini[2]; cal[8,3]_maxi[3]; cal[8,1]_1-cal[8,2]-cal[8,3]
	cal[9,2]_maxi[2]; cal[9,3]_mini[3]; cal[9,1]_1-cal[9,2]-cal[9,3]
	mini_apply(cal,2,min)
	maxi_apply(cal,2,max)
	ampli_maxi-mini
	
	A_c(-1/sqrt(2),-1/sqrt(6));B_c(1/sqrt(2),-1/sqrt(6));C_c(0,2/sqrt(6))
	xy_t(apply(tb,1,FUN=posipoint,mini=mini,maxi=maxi))
	return (list(A=A,B=B,C=C, xy=xy, mini=mini, maxi=maxi))
}


plot.triangle_ function (ta,label=as.character(1:nrow(ta)),draw.line=T,
addaxes=F) {
	d_triangle(ta)
	op <- par(no.readonly = TRUE)# the whole list of settable par's
	par(mar=c(0,0,0,0))
	A_d$A; B_d$B; C_d$C; xy_d$xy; mini_d$mini; maxi_d$maxi
	A_d$A; B_d$B; C_d$C; xy_d$xy; mini_d$mini; maxi_d$maxi

plot(0,0,type="n",xlim=c(-.8,.8),ylim=c(-.6,1),xlab="",ylab="",xaxt="n",yaxt
="n")
	seg(A,B);seg(B,C);seg(C,A)
	points(xy)
	text(xy,label,pos=4)
	text(C[1],C[2],labels=paste(mini[1]),pos=2)
	text(C[1],C[2],labels=paste(maxi[3]),pos=4)
	text((A+C)[1]/2,(A+C)[2]/2,labels=names(ta)[1],cex=2,pos=2)

	text(A[1],A[2],labels=paste(maxi[1]),pos=2)
	text(A[1],A[2],labels=paste(mini[2]),pos=1)
	text((A+B)[1]/2,(A+B)[2]/2,labels=names(ta)[2],cex=2,pos=1)

	text(B[1],B[2],labels=paste(maxi[2]),pos=1)
	text(B[1],B[2],labels=paste(mini[3]),pos=4)
	text((B+C)[1]/2,(B+C)[2]/2,labels=names(ta)[3],cex=2,pos=4)

	if (draw.line) {
		nlg_10*(maxi[1]-mini[1])
		for (i in 1:(nlg-1)) {
			x1_A+(i/nlg)*(B-A) ; x2_C+(i/nlg)*(B-C) ; seg(x1,x2,lty=2)
			x1_A+(i/nlg)*(B-A) ; x2_A+(i/nlg)*(C-A) ; seg(x1,x2,lty=2)
			x1_C+(i/nlg)*(A-C) ; x2_C+(i/nlg)*(B-C) ; seg(x1,x2,lty=2)
		}
	}

	if (addaxes) {
		pr0_prcomp(ta)
		w1_posipoint (apply(ta,2,mean),mini,maxi)
		points(w1[1],w1[2],pch=16,cex=2)
		a1_pr0$rotation[,1];x1_a1[1]*A+a1[2]*B+a1[3]*C
		seg(w1-x1,w1+x1)
		a1_pr0$rotation[,2];x1_a1[1]*A+a1[2]*B+a1[3]*C
		seg(w1-x1,w1+x1)
	}
	par(op)
}

posipoint_function(x,mini,maxi) {
	x_(x-mini)/(maxi-mini)
	x_x/sum(x)
	x1_(x[2]-x[1])/sqrt(2)
	y1_(2*x[3]-x[2]-x[1])/sqrt(6)
	return(c(x1,y1))
}

seg_function(a,b, lty=1) {
	segments(a[1],a[2],b[1],b[2],lty=lty)
}

Daniel Chessel
Universite Lyon 1 - Biom?trie et Biologie Evolutive - B?t 741
69622 Villeurbanne CEDEX
Tel : 04 72 44 82 77 - (33) 4 72 44 82 77

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From news_vkhamenya at chat.ru  Tue Mar 20 08:52:38 2001
From: news_vkhamenya at chat.ru (Valery A.Khamenya)
Date: Tue, 20 Mar 2001 10:52:38 +0300
Subject: [R] help:too slow
Message-ID: <194782604185.20010320105238@mail.ru>

here is a script I use to make overlapping cut of my input "col.dat"
file into a matrix:

#----------------------------------
col2mat<-function(x, sampsz=220, qsamp=2000) {
  m<-matrix(nr=qsamp, nc=sampsz)
  for(s in 1:qsamp){ 
    print(s)
    for(i in 1:sampsz){
      m[s,i] <- x[s+i,1]
    }
  }
  m
}
w<-read.table("col.dat", check.names=FALSE)
m<-col2mat(w)
#----------------------------------

the input file "col.dat" looks like this:
#-----------------------
118
118
122
.
.
.
-90
-84
-120
-108
#------------
contains about 380000 numbers and has a size of 1.5Mb. Not a small
file I understand, but not too large! However I do not use the whole
file at _this_ stage of my task, I use no more than 10% (no more than
150Kb) if it is matter. Well. 

Problem: m<-col2mat(w) works toooo slow. One row (that is 220 numbers)
of such a matrix is being formed in ~5 sec! (5*2000 = 10000 sec). it
is slowed in thousands times comparing to analogical C-code, too much
I think. 

Q1: is there a better way to create my matrix? (maybe I do some
    mistake)

Q2(for developers): if this slowdown is a problem of R's engine, may
                    we hope the problem will be corrected?

thank you.

Valery A.Khamenya (please reply-to:<news_vkhamenya at chat.ru>)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petzoldt at rcs.urz.tu-dresden.de  Tue Mar 20 09:50:17 2001
From: petzoldt at rcs.urz.tu-dresden.de (Thomas Petzoldt)
Date: Tue, 20 Mar 2001 09:50:17 +0100
Subject: [R] Clip contour or image
References: <3AB26775.41EE7BC5@whsun1.wh.whoi.edu> <3AB5E5C3.F39EE66@rcs.urz.tu-dresden.de> <3AB65D50.27E514@honlab.nmfs.hawaii.edu>
Message-ID: <3AB719C9.EDC1D1C7@rcs.urz.tu-dresden.de>

Pierre Kleiber wrote:
> 
>    I was going to suggest masking the ouside of a selected contour
> line using the function antipolygon(), which I have written.  However,
> I see that contour() in R does not have the ability to return contour
> lines as x, y vectors as it does in Splus.  This is a feature I found
> useful before I switched to R.  Question for the R gurus... Would it
> be difficult to add this feature to R's version of coutour()?
> 
>    By the way... this is my antipolygon function:
> 
>      antipolygon <- function(x,y,col=0){
>        u <- par("usr")
>        x <- c(x,x[1],u[1],u[1],u[2],u[2],u[1])
>        y <- c(y,y[1],u[3],u[4],u[4],u[3],u[3])
>        polygon(x,y,border=col,col=col)
>        box()
>      }

Hello Pierre,

as a first approach I have used a script similar to your antipiolygon.
However, the problem is that this will affect the graphics on
screen only (or in the graphics file) but not the image data.
If one needs the data to make additional computations (e.g. compute
areas 
and volumes of geostatistical data) a manipulation of the (1) image
matrix 
or the (2) contour lines is required. 

My approach uses method (1) but method (2), getting and
manipulating contour lines as vector data, would have some advantages.
Unfortunately,  method (2) would require a modification of the contour
source code plot3d.c which will exceed my knowledge about graphic
algorithms and R internals (see discussion "get vector data from
contour" in february).

Thomas Petzoldt

-- 
Thomas Petzoldt                   (Limnology & Ecological Modelling)
Dresden University of Technology
Institute for Hydrobiology        
mailto:petzoldt at rcs.urz.tu-dresden.de  
01062 Dresden                      http://www.tu-dresden.de/fghhihb/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From detlef.steuer at unibw-hamburg.de  Tue Mar 20 10:26:05 2001
From: detlef.steuer at unibw-hamburg.de (detlef.steuer@unibw-hamburg.de)
Date: Tue, 20 Mar 2001 10:26:05 +0100 (CET)
Subject: [R] help:too slow
In-Reply-To: <194782604185.20010320105238@mail.ru>
Message-ID: <XFMail.010320102605.detlef.steuer@unibw-hamburg.de>

Hi!

Using your original function on some dummy data I get:
(700MHz PIII Linux 2.2.18)

w  <-  as.matrix(floor(runif(100000,100,999)))
unix.time(m  <- time(col2mat(w)))
[1] 22.67  0.69 50.48  0.00  0.00

50 seconds to generate the whole matrix.

If I comment out the print(s) it reduces to:
unix.time(m  <- time(col2mat(w)))
[1] 21.03  0.64 21.86  0.00  0.00

But if I change the function definition to

"col2mat" <-
    function(x, sampsz=220, qsamp=2000) {
        m<-matrix(nr=qsamp, nc=sampsz)
        for(s in 1:qsamp){ 
###            print(s)
###            for(i in 1:sampsz){
                m[s,(1:sampsz)] <- x[s+(1:sampsz),1]
###            }
        }
        m
    }

which I consider functional equivalent I can go down to:
> unix.time(m  <- time(col2mat(w)))
[1] 0.52 0.06 0.59 0.00 0.00

Probably you can get rid of the outer loop in a similar fashion.
Hope that helps,

detlef



On 20-Mar-01 Valery A.Khamenya wrote:
> here is a script I use to make overlapping cut of my input "col.dat"
> file into a matrix:
> 
>#----------------------------------
> col2mat<-function(x, sampsz=220, qsamp=2000) {
>   m<-matrix(nr=qsamp, nc=sampsz)
>   for(s in 1:qsamp){ 
>     print(s)
>     for(i in 1:sampsz){
>       m[s,i] <- x[s+i,1]
>     }
>   }
>   m
> }
> w<-read.table("col.dat", check.names=FALSE)
> m<-col2mat(w)
>#----------------------------------
> 
> the input file "col.dat" looks like this:
>#-----------------------
> 118
> 118
> 122
> .
> .
> .
> -90
> -84
> -120
> -108
>#------------
> contains about 380000 numbers and has a size of 1.5Mb. Not a small
> file I understand, but not too large! However I do not use the whole
> file at _this_ stage of my task, I use no more than 10% (no more than
> 150Kb) if it is matter. Well. 
> 
> Problem: m<-col2mat(w) works toooo slow. One row (that is 220 numbers)
> of such a matrix is being formed in ~5 sec! (5*2000 = 10000 sec). it
> is slowed in thousands times comparing to analogical C-code, too much
> I think. 
> 
> Q1: is there a better way to create my matrix? (maybe I do some
>     mistake)
> 
> Q2(for developers): if this slowdown is a problem of R's engine, may
>                     we hope the problem will be corrected?
> 
> thank you.
> 
> Valery A.Khamenya (please reply-to:<news_vkhamenya at chat.ru>)
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _

Detlef Steuer ** Universität der Bw ** 22043 Hamburg
Tel: (0049) (0)40/6541-2819
steuer at unibw-hamburg.de

There is more to life than increasing its speed.  - Mahatma Gandhi

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Mar 20 10:34:03 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 20 Mar 2001 10:34:03 +0100
Subject: [R] help:too slow
References: <194782604185.20010320105238@mail.ru>
Message-ID: <3AB7240B.13AB7E28@statistik.uni-dortmund.de>



"Valery A.Khamenya" wrote:
> 
> here is a script I use to make overlapping cut of my input "col.dat"
> file into a matrix:
> 
> #----------------------------------
> col2mat<-function(x, sampsz=220, qsamp=2000) {
>   m<-matrix(nr=qsamp, nc=sampsz)
>   for(s in 1:qsamp){
>     print(s)
>     for(i in 1:sampsz){
>       m[s,i] <- x[s+i,1]
>     }
>   }
>   m
> }
> w<-read.table("col.dat", check.names=FALSE)
> m<-col2mat(w)
> #----------------------------------
> 
> the input file "col.dat" looks like this:
> #-----------------------
> 118
> 118
> 122
> .
> .
> .
> -90
> -84
> -120
> -108
> #------------
> contains about 380000 numbers and has a size of 1.5Mb. Not a small
> file I understand, but not too large! However I do not use the whole
> file at _this_ stage of my task, I use no more than 10% (no more than
> 150Kb) if it is matter. Well.
> 
> Problem: m<-col2mat(w) works toooo slow. One row (that is 220 numbers)
> of such a matrix is being formed in ~5 sec! (5*2000 = 10000 sec). it
> is slowed in thousands times comparing to analogical C-code, too much
> I think.
> 
> Q1: is there a better way to create my matrix? (maybe I do some
>     mistake)
> 
> Q2(for developers): if this slowdown is a problem of R's engine, may
>                     we hope the problem will be corrected?
> 

A1: There is a better way. Vectorizing (and so eliminating the loops)
will speed up your function.

A2: R works as an interpreter. Loops in interpreted code are slow in
most cases.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Tue Mar 20 10:43:21 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Tue, 20 Mar 2001 09:43:21 +0000 (GMT)
Subject: [R] animation?
Message-ID: <Pine.LNX.4.10.10103200938190.2737-100000@localhost.localdomain>

I was wondering if anyone out there has created a series of images (e.g.
jpegs) using R, then animated them on a web page. I have looked around a
bit and it seems fairly complicated. One approach that seems sensible is
to use a java script that displays the list of images. I have only used
html on web pages before so I don't know how to use java...
Ideally the final result is easily ported to all OSes of web servers.

Thanks very much for any help.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.malewski at tu-bs.de  Tue Mar 20 10:50:40 2001
From: p.malewski at tu-bs.de (Peter Malewski)
Date: Tue, 20 Mar 2001 10:50:40 +0100
Subject: [R] Re: Emacs & ESS under Windows
In-Reply-To: <OFC7508E23.1B729F00-ON85256A14.005AAF4C@mail.doc.gov>; from david.beede@mail.doc.gov on Mon, Mar 19, 2001 at 11:38:41AM -0500
References: <OFC7508E23.1B729F00-ON85256A14.005AAF4C@mail.doc.gov>
Message-ID: <20010320105040.A27439@rzpool07.pool.rz.tu-bs.de>

On Mon, Mar 19, 2001 at 11:38:41AM -0500, david.beede at mail.doc.gov wrote:
> One thing that was not included in your instructions that might help:  I
> found that I needed to add the path to the rterm.exe file to my
> autoexec.bat file.  In other words, if your path statement in your
> autoexec.bat file is :

Or you specify your exec-path in your .emacs:

(custom-set-variables
'(exec-path (quote ("D:/R/RW1022/BIN" "c:/other/paths" 
))))

essentially this is the output if you customize the "exec-path" variable:
C-h v exec-path ...

Peter




-- 
P.Malewski, Maschplatz 8, 38114 Braunschweig, Tel.: 0531 500965, 
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pollastri at iriti.cnr.it  Tue Mar 20 10:58:46 2001
From: pollastri at iriti.cnr.it (Fabrizio Pollastri)
Date: Tue, 20 Mar 2001 10:58:46 +0100
Subject: [R] segmentation fault with chron.times()
Message-ID: <3AB729D6.FFA58EF3@iriti.cnr.it>

I am running a simple R program, its skeleton is enclosed below.
The program reads about 80 files with about 5000 lines with coloumns of
data. After an unpredictable and variable number of loops for run to
run, it exits with segmentation fault or alternatively with the error
 Error in names<-.default(*tmp*, value = fnames) :
 Unimplemented feature in duplicate
Removing the call to "times" any error disappears.
My configuration is Linux 2.0.17 with r-base 1.2.2-2.
Since, I am new to R, any help is welcome. Thank you in advance.

Best regards,
F. Pollastri.

R program
------------------------------------------------------------
library(chron)

filenames <- list.files(path=".",
                pattern="^data\\..*\\.txt",full.names=TRUE)
for (filename in filenames)
{
  mydata <- read.table(filename,sep=",",skip=3,as.is=TRUE)
  timesec <- times(mydata$V1)
}
------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.farrow at compserv.gla.ac.uk  Tue Mar 20 11:34:45 2001
From: c.farrow at compserv.gla.ac.uk (c.farrow@compserv.gla.ac.uk)
Date: Tue, 20 Mar 2001 10:34:45 +0000 (GMT)
Subject: [R] re:Ternary Plots
Message-ID: <200103201030.f2KAU7m10880@lenzie.cent.gla.ac.uk>



David,
Greetings from the west coast!

Here is my ternary or triangular diagram function.
Geologists use them a lot too.


Usage is as follows

# some random data in thre variables
c1<- runif(5, 10, 20)
c2<- runif(5, 1, 5)
c3 <- runif(5, 15, 25)
# basic plot
tri(c1,c2,c3)
# plot with different symbols and a grid
tri(c1,c2,c3, symb=7, grid=T)

Hope this helps,

Colin.



> Does anybody know about ternary (tertiary?) plotting functions for R -
> they're triangular things used much beloved by chemists for plotting
> compositional data.
-- 
Colin Farrow
Computing Service, University of Glasgow, Glasgow G12 8QQ
Tel: 0141 330 4862, c.farrow at compserv.gla.ac.uk
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: tri.R
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20010320/b6c5d50d/tri.pl

From valiere at biomserv.univ-lyon1.fr  Tue Mar 20 11:29:30 2001
From: valiere at biomserv.univ-lyon1.fr (VALIERE Nathaniel)
Date: Tue, 20 Mar 2001 11:29:30 +0100
Subject: No subject
Message-ID: <3.0.6.32.20010320112930.007c2d00@biomserv.univ-lyon1.fr>

Hi everybody,


How can get some information about error "step factor reduced below
minimum" appeared after nls function.


Thanks
Regards
N.VALIERE
************************************************

VALIERE Nathaniel
Laboratoire Biometrie et Biologie Evolutive
UMR5558
43, boulevard du 11 Novembre 1918
F69622 VILLEURBANNE Cedex
FRANCE

************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petzoldt at rcs.urz.tu-dresden.de  Tue Mar 20 11:50:06 2001
From: petzoldt at rcs.urz.tu-dresden.de (Thomas Petzoldt)
Date: Tue, 20 Mar 2001 11:50:06 +0100
Subject: [R] help:too slow
References: <194782604185.20010320105238@mail.ru>
Message-ID: <3AB735DE.4D5C9390@rcs.urz.tu-dresden.de>

"Valery A.Khamenya" schrieb:
> 
> here is a script I use to make overlapping cut of my input "col.dat"
> file into a matrix:

Possibly the following may help:

  m <- as.matrix(w)
  dim(m) <- c(sampsz,qsamp)

Thomas Petzoldt
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From span at psy.uva.nl  Tue Mar 20 12:16:01 2001
From: span at psy.uva.nl (Mark M. Span)
Date: Tue, 20 Mar 2001 12:16:01 +0100
Subject: [R] animation?
References: <Pine.LNX.4.10.10103200938190.2737-100000@localhost.localdomain>
Message-ID: <001801c0b12f$25688540$cd981291@psy.uva.nl>

If you generate gifs, you can create an animated gif using e.g. paintshop
pro.
this would possibly be the simplest way..

Mark M. Span

----- Original Message -----
From: "Bill Simpson" <wsi at gcal.ac.uk>
To: <r-help at stat.math.ethz.ch>
Sent: Tuesday, March 20, 2001 10:43 AM
Subject: [R] animation?


> I was wondering if anyone out there has created a series of images (e.g.
> jpegs) using R, then animated them on a web page. I have looked around a
> bit and it seems fairly complicated. One approach that seems sensible is
> to use a java script that displays the list of images. I have only used
> html on web pages before so I don't know how to use java...
> Ideally the final result is easily ported to all OSes of web servers.
>
> Thanks very much for any help.
>
> Bill Simpson
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Tue Mar 20 12:27:37 2001
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Tue, 20 Mar 2001 22:27:37 +1100
Subject: [R] animation?
Message-ID: <3AB73EA8.346C13CA@ozemail.com.au>

Bill Simpson wrote:

> I was wondering if anyone out there has created a series of images
(e.g.
> jpegs) using R, then animated them on a web page...

The easiest way to present animations on Web pages is probably animated
GIF files.  Convert the images to GIF format (XV, ImageMagick, GIMP)
then stick 'em together with one of the many encoders (I use the ancient
but reliable "whirlgif")

http://sources.isc.org/apps/graphics/whirlgif-302.txt

MPGs are another way to go, but not as universally supported by
browsers.  You can encode from JPG files (I use the equally ancient
"mpeg_encode").

http://www.sco.com/skunkware/osr5/video/mpeg_encode/

Java animation is neat, but can fall heavily.  The worst that can happen
with animated GIFs or MPGs is that they just don't display properly.

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mnelson at esperion.com  Tue Mar 20 12:37:22 2001
From: mnelson at esperion.com (Matthew Nelson)
Date: Tue, 20 Mar 2001 06:37:22 -0500
Subject: [R] animation?
Message-ID: <8156A6FE684ED21194D20008C756F8DF4440DA@independence.esperion.com>

Bill,

It is quite easy to do with ImageMagick (www.imagemagick.org), which can be
installed on most OSes.  I tried this simple sequence and it worked
beautifully.

In R:

> for(i in 1:5) {
+ jpeg(paste("fig", i, ".jpg", sep = ""))
+ hist(rnorm(100))
+ dev.off()
+ }


Then from the command line (I tried it using Linux, though it should be the
same on any platform):

% convert -delay 50 -loop 50 fig*.jpg animated.gif

This created animated.gif, a nice animation of my sequence of files.  You
can control the timing of the animation by playing with -delay and -loop.

Regards,

Matt

Matthew R. Nelson, Ph.D.
Director, Information Systems
Esperion Therapeutics, Inc.
3621 S. State St.
695 KMS Place
Ann Arbor, MI 48108

Phone: (734) 222-1839  ** Note Change **
Mobile: (734) 657-6302
Fax: (734) 332-0516
email: mnelson at esperion.com
web: http://www.esperion.com


> -----Original Message-----
> From: Bill Simpson [mailto:wsi at gcal.ac.uk]
> Sent: Tuesday, March 20, 2001 4:43 AM
> 
> I was wondering if anyone out there has created a series of 
> images (e.g.
> jpegs) using R, then animated them on a web page. I have 
> looked around a
> bit and it seems fairly complicated. One approach that seems 
> sensible is
> to use a java script that displays the list of images. I have 
> only used
> html on web pages before so I don't know how to use java...
> Ideally the final result is easily ported to all OSes of web servers.
> 
> Thanks very much for any help.
> 
> Bill Simpson
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 20 13:14:37 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 20 Mar 2001 12:14:37 +0000 (GMT)
Subject: [R] supressing linefeed at end of file
In-Reply-To: <3AB084FC.CF1A2C63@rcs.urz.tu-dresden.de>
Message-ID: <Pine.GSO.4.31.0103201211080.3467-100000@toucan.stats>

On Thu, 15 Mar 2001, Thomas Petzoldt wrote:

> Hello,
>
> I want to do simulations with an external simulation model. For this
> purpose I wrote a R-script which makes the pre- and post-processing of
> the data (generate scenarios, analyze results).
>
> The R-script writes the input file for the simulation with e.g.
>
> write(x, file="test.dat", ncolumns=10)
>
> The problem is, however, that this command (and even constructions with
> cat) will add a linefeed after the last line of data. Unfortunately the

You only get a linefeed if you ask for it.  Look at the test code for
readLines in reg-IO.R to see how to avoid it: you *can* do it with cat()
on all platforms.

> simulation program however is very stupid, as it does not allow a
> linefeed after the last line. It interprets the linefeed after the last
> line of data as an empty line and will fail.
>
> I did not find anything concerning this problem in the R-data.pdf
> manual.

Nope. It's a *very* unusual requirement.

A first solution was to use grep to eliminate the empty line,
> but the R-script should run not only on linux, but also on windows
> machines without cygwin, perl or similar. Is there a simple "R only"
> solution? Otherwise I should write a special C program.
>
> Thanks in advance!
>
> Thomas Petzoldt
>
>
> --
> Dr. Thomas Petzoldt
> Dresden University of Technology
> Institute for Hydrobiology
> 01062 Dresden
> mailto:petzoldt at rcs.urz.tu-dresden.de
> http://www.tu-dresden.de/fghhihb/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fzoellne at TechFak.Uni-Bielefeld.DE  Tue Mar 20 13:37:55 2001
From: fzoellne at TechFak.Uni-Bielefeld.DE (Frank Gerrit Zoellner)
Date: Tue, 20 Mar 2001 13:37:55 +0100
Subject: [R] animation?
In-Reply-To: <Pine.LNX.4.10.10103200938190.2737-100000@localhost.localdomain>; from wsi@gcal.ac.uk on Tue, Mar 20, 2001 at 09:43:21AM +0000
References: <Pine.LNX.4.10.10103200938190.2737-100000@localhost.localdomain>
Message-ID: <20010320133755.A23933@mozart.TechFak.Uni-Bielefeld.DE>

Hi!

On Tue, Mar 20, 2001 at 09:43:21AM +0000, Bill Simpson wrote:
> I was wondering if anyone out there has created a series of images (e.g.
> jpegs) using R, then animated them on a web page. I have looked around a
> bit and it seems fairly complicated. One approach that seems sensible is
> to use a java script that displays the list of images. I have only used
> html on web pages before so I don't know how to use java...
> Ideally the final result is easily ported to all OSes of web servers.
> 
> Thanks very much for any help.
> 
> Bill Simpson
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

you can use the ImageMagic graphics package. It includes the tool convert, which can create animated gifs. Maybe a solution?

http://www.imagemagick.org/


-- 
Frank Gerrit Zoellner


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 20 13:39:21 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 20 Mar 2001 12:39:21 +0000 (GMT)
Subject: [R] About another r-script input method for Rterm of  RWin
In-Reply-To: <001d01c0b089$071b1f40$690202c0@myvaio>
Message-ID: <Pine.GSO.4.31.0103201235480.3467-100000@toucan.stats>

On Tue, 20 Mar 2001, Hisaji ONO wrote:

> Hello.
>
>  I try to create stat sever by IIS 4.0 + ASP + VBScript with R for Win on NT
> Sever 4.0 SP6a.
>
>  However VBScript denied redirection input of R script.
>
>  Do Rwin developers have a plan to add a following function by adding an
> argument of command line?
>
>  rterm --script  'r script path & file name'

Uwe Ligges has already (thanks Uwe) given a workaround.


But can I point you at

http://developer.r-project.org/WindowsTODO.html

for precisely what is planned?

Thare a lots of suggestions there concerning contributions ...

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Tue Mar 20 14:41:15 2001
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Tue, 20 Mar 2001 14:41:15 +0100
Subject: [R] Problem postscript(print.it)
Message-ID: <3.0.6.32.20010320144115.00970a90@mail.wsl.ch>

Hi all,

I have a problem with plotting: (R-1.2.2 on 
SunOS fluke 5.5.1 Generic_103640-27 sun4u sparc SUNW,Ultra-Enterprise
solaris 2.)

I define a function to switch between plotting on graphics device and
generating a postscript file (which can also be automatically be printed) 

plt <- function(view,f,file="") {
  if (view>0) f
  else {
    postscript(file=file,print.it=(view==0))
    on.exit(dev.off())
    f
  }
}

If I try with   view <- 0 or -1

plt(view, plot(rnorm(100),rnorm(100),"test")

I am getting the error

plot.new has not been called yet

and subsequent executions of
plot.new()

are having no positive result.   ??????
What am I missing?

Thanks for help,

-christian


PS: Executing several statements of the type:

plt(1,plot(rnorm(100),rnorm(100),"test")

does not make any trouble.

Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: Hoffmann at WSL.CH
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From slist at eio.uva.es  Tue Mar 20 15:59:49 2001
From: slist at eio.uva.es (=?Windows-1252?Q?Eusebio_Arenal_Guti=E9rrez?=)
Date: Tue, 20 Mar 2001 15:59:49 +0100
Subject: [R] lme formula
Message-ID: <006201c0b14e$69638870$6958589d@paquito>

I'm a new user of nlme package and I don't know what formula I have to use
for two models.

1.- If I have two grouping factors at the same level, what is the formula I
have to use? For example, I have a Latin square design in which the factor
is fixed and the rows and columns are random,

y = factor + row + column + error

following the formula for a randomized block design, I would use something
like:

lme(y~factor, random= ~ 1 | (row+column))

of course, the "+" is not accepted in that place but all the forms I find
take one of the grouping factors nested in the other.

2.- I have one fixed factor (A) and a random one (B) nested in the fixed
one. The formula:

lme(y~A, random = ~ 1 | B)

take B as a block, and of course is (I think) wrong, but the formula:

lme(y~A, random = ~1 | A/B)

gives a level of grouping more than I want. Is it possible put something
like "B %in% A" as a grouping factor?

Sorry if questions have no sense, but I've been shearching in nlme help and
Pinheiro & Bates's book and I don't know if the function lme can handle
these problems.

Thanks for any hint,

Eusebio Arenal

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Tue Mar 20 15:57:37 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Tue, 20 Mar 2001 09:57:37 -0500
Subject: [R] Are sockets supported on Irix?
Message-ID: <OFB6B502F8.9EDB5218-ON85256A15.00513ED2@rtp.epa.gov>

When I try to open a server socket on the system setup listed below, I get
the following error:

> a <- make.socket(port=8091,server=TRUE)
Error in make.socket(port = 8091, server = TRUE) :
        sockets are not available on this system

I just wanted to make sure that sockets were generally available for this
platform (or, perhaps, I need to upgrade to 1.2.2 on this system), before I
got our generally overworked system administrators to look into the problem
here.  Thanks.

Version:
 platform = mips-sgi-irix6.5
 arch = mips
 os = irix6.5
 system = mips, irix6.5
 status =
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 20 16:33:11 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 20 Mar 2001 15:33:11 +0000 (GMT)
Subject: [R] Are sockets supported on Irix?
In-Reply-To: <OFB6B502F8.9EDB5218-ON85256A15.00513ED2@rtp.epa.gov>
Message-ID: <Pine.GSO.4.31.0103201526220.3683-100000@toucan.stats>

On Tue, 20 Mar 2001 Setzer.Woodrow at epamail.epa.gov wrote:

> When I try to open a server socket on the system setup listed below, I get
> the following error:
>
> > a <- make.socket(port=8091,server=TRUE)
> Error in make.socket(port = 8091, server = TRUE) :
>         sockets are not available on this system
>
> I just wanted to make sure that sockets were generally available for this
> platform (or, perhaps, I need to upgrade to 1.2.2 on this system), before I
> got our generally overworked system administrators to look into the problem
> here.  Thanks.

I don't know about that system. The message means that configure set
HAVE_BSD_NETWORKING to be not defined, and to define it headers
netdb.h, netinet/in.h and sys/socket.h are needed and connect
and gethostbyname need to be found.  You need to look in config.log to see
what happened.

It's possible that you need to specify some other libraries via LIBS.
We are not aware of many people using Irix, nor of many people using that
socket mechanism, so the intersection might be empty.

>
> Version:
>  platform = mips-sgi-irix6.5
>  arch = mips
>  os = irix6.5
>  system = mips, irix6.5
>  status =
>  major = 1
>  minor = 2.1
>  year = 2001
>  month = 01
>  day = 15
>  language = R
>
> Search Path:
>  .GlobalEnv, package:ctest, Autoloads, package:base
>
> R. Woodrow Setzer, Jr.                                            Phone:
> (919) 541-0128
> Experimental Toxicology Division                       Fax:  (919) 541-5394
> Pharmacokinetics Branch
> NHEERL MD-74; US EPA; RTP, NC 27711
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Thomas.Bruns at ptb.de  Tue Mar 20 16:57:37 2001
From: Thomas.Bruns at ptb.de (Thomas Bruns)
Date: Tue, 20 Mar 2001 16:57:37 +0100
Subject: [R] finding dedicated indexes?
Message-ID: <3AB77DF1.D1DCA938@ptb.de>

Hi,

I've got a matrix of two columns, say:
> d <- t(array(1:20,dim=c(2,10)))
> d
      [,1] [,2]
 [1,]    1    2
 [2,]    3    4
 [3,]    5    6
 [4,]    7    8
 [5,]    9   10
 [6,]   11   12
 [7,]   13   14
 [8,]   15   16
 [9,]   17   18
[10,]   19   20    

now I need those values from column #2 where column #1 is equal to
certain values. eg.:
> i <- c(13,5,19)
The following doesn't work but you may get the idea:
>print( d[ d[,1]==i ,2])

It is possible to do it with a loop:
> k <- i	# just to allocate k
> for (j in 1:3) {k[j] <- which(d[,1]==i[j]))}
> print(d[k,2])

But I believe there has to be a more efficient way in R without explicit
loops, which I don?t know by now ??? 

Tia.

Thomas 

 
-- 
-------------------------------------------------------
Dr. Thomas Bruns                  <thomas.bruns at ptb.de>

         Physikalisch-Technische Bundesanstalt 
                      Braunschweig
Fachlabor: 1.13
Bundesallee 100                   Tel: 0531/592 -  1132
D-38116 Braunschweig              Fax: 0531/592-69-1132
-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Tue Mar 20 17:15:59 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Tue, 20 Mar 2001 11:15:59 -0500
Subject: [R] Are sockets supported on Irix?
Message-ID: <OFFE75628A.AD7DF62D-ON85256A15.00587517@rtp.epa.gov>


You didn't mention it (and I haven't learned how to read the configure
script yet), but if the include of tcp.h failed, would that cause
HAVE_BSD_NETWORKING to be undefined?  Here is the relevant portion of
config.log:

configure:9643: checking for netdb.h
configure:9653: gcc -E -I/usr/people/setzer/programs/include
-I/usr/local/includ
e  conftest.c >/dev/null 2>conftest.out
configure:9643: checking for netinet/in.h
configure:9653: gcc -E -I/usr/people/setzer/programs/include
-I/usr/local/includ
e  conftest.c >/dev/null 2>conftest.out
configure:9643: checking for netinet/tcp.h
configure:9653: gcc -E -I/usr/people/setzer/programs/include
-I/usr/local/includ
e  conftest.c >/dev/null 2>conftest.out
In file included from /usr/include/netinet/tcp.h:29,
                 from configure:9649:
/usr/include/sys/endian.h:32: #error "<standards.h> must be included before
<sys
/endian.h>."
configure: failed program was:
#line 9648 "configure"
#include "confdefs.h"
#include <netinet/tcp.h>

Indeed, netinet/tcp.h includes sys/endian.h, which has the following
notation:

/*
 * NOTE: Use of this file is deprecated. Though, if this file should be
 *       included in a program, standards.h should be included before
 *       endian.h
 */
#if !defined(_SGIAPI)
#error "<standards.h> must be included before <sys/endian.h>."
#endif

standards.h defines _SGIAPI (so why not just replace the #error statement
with #include <standards.h>?  just rhetorical)

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                               
                    Prof Brian                                                                                 
                    Ripley               To:     Woodrow Setzer/RTP/USEPA/US at EPA                               
                    <ripley at stats        cc:     r-help at hypatia.math.ethz.ch                                   
                    .ox.ac.uk>           Subject:     Re: [R] Are sockets supported on Irix?                   
                                                                                                               
                    03/20/01                                                                                   
                    10:33 AM                                                                                   
                                                                                                               
                                                                                                               




On Tue, 20 Mar 2001 Setzer.Woodrow at epamail.epa.gov wrote:

> When I try to open a server socket on the system setup listed below, I
get
> the following error:
>
> > a <- make.socket(port=8091,server=TRUE)
> Error in make.socket(port = 8091, server = TRUE) :
>         sockets are not available on this system
>
> I just wanted to make sure that sockets were generally available for this
> platform (or, perhaps, I need to upgrade to 1.2.2 on this system), before
I
> got our generally overworked system administrators to look into the
problem
> here.  Thanks.

I don't know about that system. The message means that configure set
HAVE_BSD_NETWORKING to be not defined, and to define it headers
netdb.h, netinet/in.h and sys/socket.h are needed and connect
and gethostbyname need to be found.  You need to look in config.log to see
what happened.

It's possible that you need to specify some other libraries via LIBS.
We are not aware of many people using Irix, nor of many people using that
socket mechanism, so the intersection might be empty.

>
> Version:
>  platform = mips-sgi-irix6.5
>  arch = mips
>  os = irix6.5
>  system = mips, irix6.5
>  status =
>  major = 1
>  minor = 2.1
>  year = 2001
>  month = 01
>  day = 15
>  language = R
>
> Search Path:
>  .GlobalEnv, package:ctest, Autoloads, package:base
>
> R. Woodrow Setzer, Jr.                                            Phone:
> (919) 541-0128
> Experimental Toxicology Division                       Fax:  (919)
541-5394
> Pharmacokinetics Branch
> NHEERL MD-74; US EPA; RTP, NC 27711
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._
>

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at cirsium.ethz.ch  Tue Mar 20 17:31:33 2001
From: pflugshaupt at cirsium.ethz.ch (Kaspar Pflugshaupt)
Date: Tue, 20 Mar 2001 17:31:33 +0100
Subject: [R] finding dedicated indexes?
In-Reply-To: <3AB77DF1.D1DCA938@ptb.de>
References: <3AB77DF1.D1DCA938@ptb.de>
Message-ID: <01032017313306.15215@Aconitum>

On Tuesday 20 March 2001 16:57, Thomas Bruns wrote:
> Hi,
>
> I've got a matrix of two columns, say:
> > d <- t(array(1:20,dim=c(2,10)))
> > d
>
>       [,1] [,2]
>  [1,]    1    2
>  [2,]    3    4
>  [3,]    5    6
>  [4,]    7    8
>  [5,]    9   10
>  [6,]   11   12
>  [7,]   13   14
>  [8,]   15   16
>  [9,]   17   18
> [10,]   19   20
>
> now I need those values from column #2 where column #1 is equal to
>
> certain values. eg.:
> > i <- c(13,5,19)
>
> The following doesn't work but you may get the idea:
> >print( d[ d[,1]==i ,2])

Try

  print( d[d[,1] %in% i ,2])

Cheers

Kaspar

-- 


Kaspar Pflugshaupt
Geobotanical Institute
ETH Zurich, Switzerland

http://www.geobot.umnw.ethz.ch
mailto:pflugshaupt at geobot.umnw.ethz.ch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From archaux at cefe.cnrs-mop.fr  Tue Mar 20 17:38:27 2001
From: archaux at cefe.cnrs-mop.fr (ARCHAUX Frederic)
Date: Tue, 20 Mar 2001 17:38:27 +0100
Subject: [R] installation
Message-ID: <3AB79593.31978.73BB161@localhost>

Help,

I tried to install the R-package on my computer, but R-Gui seems to 
provoke a failure in the R.dlll. I reinstalled the windows programs that R 
requires, but nothing changed at all (my portable computer seems to load 
smthg a long time before warning R-gui failed and that I have to close R-
gui). 

What can I do???
==========================
Fr?d?ric ARCHAUX
Equipe Interactions Individus Populations Environnements
Centre d'Ecologie Fonctionnelle et Evolutive
CNRS
BP 5051
34033 Montpellier Cedex 1
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Tue Mar 20 17:43:04 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Tue, 20 Mar 2001 16:43:04 +0000 (GMT)
Subject: [R] animation?
In-Reply-To: <8156A6FE684ED21194D20008C756F8DF4440DA@independence.esperion.com>
Message-ID: <Pine.LNX.4.10.10103201641390.3177-100000@localhost.localdomain>

Thanks very much everyone for the help.
I found that using ImageMagic convert to collect all the .jpegs into one
animated gif worked well.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pwolf at wiwi.uni-bielefeld.de  Tue Mar 20 17:43:06 2001
From: pwolf at wiwi.uni-bielefeld.de (Peter Wolf)
Date: Tue, 20 Mar 2001 17:43:06 +0100 (MET)
Subject: [R] finding dedicated indexes?
Message-ID: <200103201643.RAA15262@wiwi7.uni-bielefeld.de>

Thomas Bruns wrote:

> I've got a matrix of two columns, say:
> > d <- t(array(1:20,dim=c(2,10)))
> ...
> now I need those values from column #2 where column #1 is equal to
> certain values. eg.:
> > i <- c(13,5,19)
> The following doesn't work but you may get the idea:
> >print( d[ d[,1]==i ,2])

Hello Thomas, 
what about:

> d <- t(array(1:20,dim=c(2,10)))
> i <- c(13,5,19)
> d[match(i,d[,1]), 2]
[1] 14  6 20

Peter

------------------------------------------------------------
Dr. Peter Wolf			pwolf at wiwi.uni-bielefelde.de
Statistik/Informatik
Wirtschaftswissenschaften
Uni Bielefeld
Bielefeld 
Germany
------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Tue Mar 20 17:58:49 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Tue, 20 Mar 2001 11:58:49 -0500
Subject: [R] finding dedicated indexes?
Message-ID: <OF1A52EE3D.FC0944A4-ON85256A15.005D32DB@rtp.epa.gov>


try d[d[,1] %in% i,]
> d[d[,1] %in% i,]
     [,1] [,2]
[1,]    5    6
[2,]   13   14
[3,]   19   20
>
R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                                      
                    Thomas Bruns                                                                                      
                    <Thomas.Bruns at ptb.de        To:     R-help <r-help at stat.math.ethz.ch>                             
                    >                           cc:                                                                   
                    Sent by:                    Subject:     [R] finding dedicated indexes?                           
                    owner-r-help at stat.ma                                                                              
                    th.ethz.ch                                                                                        
                                                                                                                      
                                                                                                                      
                    03/20/01 10:57 AM                                                                                 
                                                                                                                      
                                                                                                                      




Hi,

I've got a matrix of two columns, say:
> d <- t(array(1:20,dim=c(2,10)))
> d
      [,1] [,2]
 [1,]    1    2
 [2,]    3    4
 [3,]    5    6
 [4,]    7    8
 [5,]    9   10
 [6,]   11   12
 [7,]   13   14
 [8,]   15   16
 [9,]   17   18
[10,]   19   20

now I need those values from column #2 where column #1 is equal to
certain values. eg.:
> i <- c(13,5,19)
The following doesn't work but you may get the idea:
>print( d[ d[,1]==i ,2])

It is possible to do it with a loop:
> k <- i        # just to allocate k
> for (j in 1:3) {k[j] <- which(d[,1]==i[j]))}
> print(d[k,2])

But I believe there has to be a more efficient way in R without explicit
loops, which I don?t know by now ???

Tia.

Thomas


--
-------------------------------------------------------
Dr. Thomas Bruns                  <thomas.bruns at ptb.de>

         Physikalisch-Technische Bundesanstalt
                      Braunschweig
Fachlabor: 1.13
Bundesallee 100                   Tel: 0531/592 -  1132
D-38116 Braunschweig              Fax: 0531/592-69-1132
-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 20 18:12:54 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 20 Mar 2001 17:12:54 +0000 (GMT)
Subject: [R] Are sockets supported on Irix?
In-Reply-To: <OFFE75628A.AD7DF62D-ON85256A15.00587517@rtp.epa.gov>
Message-ID: <Pine.GSO.4.31.0103201710070.3797-100000@toucan.stats>

On Tue, 20 Mar 2001 Setzer.Woodrow at epamail.epa.gov wrote:

>
> You didn't mention it (and I haven't learned how to read the configure
> script yet), but if the include of tcp.h failed, would that cause
> HAVE_BSD_NETWORKING to be undefined?  Here is the relevant portion of
> config.log:

Yes, I omitted that one and it is needed.  I'll leave it to Kurt to figure
out how to make that work, both in configure and in src/appl/sock.c.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 20 18:15:19 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 20 Mar 2001 17:15:19 +0000 (GMT)
Subject: [R] installation
In-Reply-To: <3AB79593.31978.73BB161@localhost>
Message-ID: <Pine.GSO.4.31.0103201714130.3797-100000@toucan.stats>

On Tue, 20 Mar 2001, ARCHAUX Frederic wrote:

> Help,
>
> I tried to install the R-package on my computer, but R-Gui seems to
> provoke a failure in the R.dlll. I reinstalled the windows programs that R
> requires, but nothing changed at all (my portable computer seems to load
> smthg a long time before warning R-gui failed and that I have to close R-
> gui).
>
> What can I do???

Which version of R?  Do you have msvcrt.dll installed?  What is the
exact error message?

I am not sure we can help much more, but answers to these will let us try.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.beede at mail.doc.gov  Tue Mar 20 19:36:29 2001
From: david.beede at mail.doc.gov (david.beede@mail.doc.gov)
Date: Tue, 20 Mar 2001 13:36:29 -0500
Subject: [R] Newbie question about by() -- update
Message-ID: <OF78B4B8BB.4CD9DBE6-ON85256A15.00628421@mail.doc.gov>

Sorry about the lack of detail.  I am running R v.1.2.2.  I can recast my
question
(which I think I have partially answered) more succinctly as follows:

1.  This seems to work (note that group takes values 1,2,3,4, or 5):
 my.newfun <- function(x) myfile <- lm(award ~ ilogemp + ilogage, x)
 test.by <- by(wintemp, as.factor(wintemp$group), my.newfun)

2.  This does not work (leaving aside whether I am using ppr correctly or not!):
> my.pprfun <- function(x) mypprfile <- ppr(award ~ ilogemp + ilogage, data = x, nterms = 5,
+                max.terms = 10, optlevel = 3)
>  test.by <- by(wintemp, as.factor(wintemp$group), my.pprfun)
Error in model.frame.default(formula = award ~ ilogemp + ilogage, data = x) :
     Object "x" not found

3.  However, this does seem to work, but I don't know enough about R to explain why:
> my.pprfun <- function(x) mypprfile <- ppr(award ~ ilogemp + ilogage,
+   data = eval.parent(substitute(x),3), nterms = 5, max.terms = 10, optlevel = 3)
>  test.by <- by(wintemp, as.factor(wintemp$group), my.pprfun)

If I understand this (and p. 69 of S Programming by VR) correctly, it seems as though
I have to evaluate x three environments up the call sequence from ppr, but I don't have
to do so for lm.  I don't yet fully understand how the environments work, and I'm afraid
that only a little knowledge is dangerous!  Can anyone explain the difference between
lm and ppr in this context?
---------------

david.beede at mail.doc.gov wrote:
>
> Dear R list:
>
> I want to make separate estimates for each level of the variable "group."
> After consulting many sources I am stumped as to why the following does
not work:
>
> > wintemp <- subset(alltemp, winner==1)
> > my.ppr <- function(x)
> +   {
> +    if(nrow(x) >= 50) {
> +    pprfile <- ppr(award~ilogemp,
data=x,nterms=5,max.terms=10,optlevel=3)
> +     summary(pprfile)
> +      }
> +    }
> > test.by <- by(wintemp,as.factor(wintemp$group),my.ppr)
> Error in model.frame.default(formula = award ~ ilogemp, data = x) :
>      Object "x" not found
>
> Any help would be greatly appreciated.
> (I am sure I am misunderstanding some fundamental R concepts.)

It is hard to help, if we don't know what all those variables stand for.
I tried something similar and it worked.
What version of R are you running?

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tdlong at uci.edu  Tue Mar 20 20:11:59 2001
From: tdlong at uci.edu (Tony Long)
Date: Tue, 20 Mar 2001 11:11:59 -0800
Subject: [R] error starting R 1.2.2 in Redhat 7.0  (GLIB 2.2 not defined...)
Message-ID: <p05001912b6dd58f5798c@[128.200.28.179]>

All:

	I just upgraded my system to Redhat 7.0, and installed the 
RPM for R 1.2.2.  I intall R 1.2.2 using the rpm -U xxxx command. 
When R is invoked from some directories it starts and runs fine, from 
other directories I get a strange message at startup (and R exits 
without starting).  Thus far the directory with the problem tends to 
contain ".data" files from the previous version of R.  When R exits 
without starting I get the following message

/usr/lib/R/bin/R.bin:  error while loading shared libraries: 
/usr/lib/R/bin/R.bin:  symbol __sysconf,
version GLIBC_2.2 not defined ion file libc.so.6 with link time reference

	Of course, I do not really understand what this message 
implies I do.  Any advice would be appreciated.  Thanks.  Tony

PS  (I still haven't carried out the "backward upgrade" of the gcc 
compiler)....later today
-- 
Tony Long
Ecology and Evolutionary Biology
Steinhaus Hall
University of California at Irvine
Irvine, CA
92697-2525

Tel:  (949) 824-2562   (office)
Tel:  (949) 824-5994   (lab)
Fax: (949) 824-2181

email:  tdlong at uci.edu
http://hjmuller.bio.uci.edu/~labhome/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sboker at mpipks-dresden.mpg.de  Tue Mar 20 20:17:28 2001
From: sboker at mpipks-dresden.mpg.de (Steven Boker)
Date: Tue, 20 Mar 2001 20:17:28 +0100 (MET)
Subject: [R] Help with large datasets
Message-ID: <200103201917.UAA0000010771@lolek.mpipks-dresden.mpg.de>


I am a new user of R (1.2.2 on Alpha), but have been using S and then
Splus heavily for about 10 years now.  My problem is this.  The data
I analyze comprise large sets.  Typically I am analyzing 5000 observations
on 90 variables over several hundred subjects.  Sometimes 500,000
subjects with 200 variables.  Unfortunately, although my Alpha has
1.5 gig of ram, R as it is configured seems to be set for a maximum
of about 100Mb of workspace (as best I can tell).  The published
command line switch seem to be able to restrict memory parameters, but
not enlarge the main workspace.

What I'd like to do is to make the workspace much larger (10x).  Either
on the fly, if possible, or by changing the appropriate #defines
and recompiling so as to be able to analyze my admittedly excessive data.

Is there a short happy answer to my plea?

Thanks in advance,
Steve


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 20 21:03:03 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 20 Mar 2001 20:03:03 +0000 (GMT)
Subject: [R] Help with large datasets
In-Reply-To: <200103201917.UAA0000010771@lolek.mpipks-dresden.mpg.de>
Message-ID: <Pine.GSO.4.31.0103202001220.8476-100000@auk.stats>

On Tue, 20 Mar 2001, Steven Boker wrote:

>
> I am a new user of R (1.2.2 on Alpha), but have been using S and then
> Splus heavily for about 10 years now.  My problem is this.  The data
> I analyze comprise large sets.  Typically I am analyzing 5000 observations
> on 90 variables over several hundred subjects.  Sometimes 500,000
> subjects with 200 variables.  Unfortunately, although my Alpha has
> 1.5 gig of ram, R as it is configured seems to be set for a maximum
> of about 100Mb of workspace (as best I can tell).  The published
> command line switch seem to be able to restrict memory parameters, but
> not enlarge the main workspace.
>
> What I'd like to do is to make the workspace much larger (10x).  Either
> on the fly, if possible, or by changing the appropriate #defines
> and recompiling so as to be able to analyze my admittedly excessive data.
>
> Is there a short happy answer to my plea?

It should happen automatically.  What behaviour makes you think there is a
maximum of 100Mb?  (We happily use 500Mb or so on a 1Gb RAM i686: more if
there are no other users.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 20 21:08:48 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 20 Mar 2001 20:08:48 +0000 (GMT)
Subject: [R] Newbie question about by() -- update
In-Reply-To: <OF78B4B8BB.4CD9DBE6-ON85256A15.00628421@mail.doc.gov>
Message-ID: <Pine.GSO.4.31.0103202005040.8476-100000@auk.stats>

On Tue, 20 Mar 2001 david.beede at mail.doc.gov wrote:

> Sorry about the lack of detail.  I am running R v.1.2.2.  I can recast my
> question
> (which I think I have partially answered) more succinctly as follows:
>
> 1.  This seems to work (note that group takes values 1,2,3,4, or 5):
>  my.newfun <- function(x) myfile <- lm(award ~ ilogemp + ilogage, x)
>  test.by <- by(wintemp, as.factor(wintemp$group), my.newfun)
>
> 2.  This does not work (leaving aside whether I am using ppr correctly or not!):
> > my.pprfun <- function(x) mypprfile <- ppr(award ~ ilogemp + ilogage, data = x, nterms = 5,
> +                max.terms = 10, optlevel = 3)
> >  test.by <- by(wintemp, as.factor(wintemp$group), my.pprfun)
> Error in model.frame.default(formula = award ~ ilogemp + ilogage, data = x) :
>      Object "x" not found
>
> 3.  However, this does seem to work, but I don't know enough about R to explain why:
> > my.pprfun <- function(x) mypprfile <- ppr(award ~ ilogemp + ilogage,
> +   data = eval.parent(substitute(x),3), nterms = 5, max.terms = 10, optlevel = 3)
> >  test.by <- by(wintemp, as.factor(wintemp$group), my.pprfun)
>
> If I understand this (and p. 69 of S Programming by VR) correctly, it seems as though
> I have to evaluate x three environments up the call sequence from ppr, but I don't have
> to do so for lm.  I don't yet fully understand how the environments work, and I'm afraid
> that only a little knowledge is dangerous!  Can anyone explain the difference between
> lm and ppr in this context?

There's a bug in ppr.formula:

    m <- eval(m, sys.parent())

should be (in R)

    m <- eval(m, parent.frame())

I think that will fix it, but please confirm.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cocteau at research.bell-labs.com  Tue Mar 20 21:13:29 2001
From: cocteau at research.bell-labs.com (Mark Hansen)
Date: Tue, 20 Mar 2001 15:13:29 -0500 (EST)
Subject: [R] object sizes
Message-ID: <200103202013.PAA16290@jessie.research.bell-labs.com>


greetings,

i have been playing with the port of r to the mac. i am running into
errors "unable to allocate object of size x" where x is not a big
number. i tried playing with mem.limits, but that seems like the
wrong beast. i think what i want is something like options(object.size=y)
in S. i have gone through the documentation but can't diagnose
the problem, and hence i am posting here. maybe this is something
unique to the mac port, or (more likely) i am missing something.

thanks in advance,

mark hansen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Tue Mar 20 21:10:24 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Tue, 20 Mar 2001 15:10:24 -0500
Subject: [R] tcltk on Windows 98
Message-ID: <OF7BA8C810.AD215C9C-ON85256A15.006D7F53@rtp.epa.gov>

I've written an application that uses the tcltk package, and have
distributed it to a few people to use here in the Agency on Windows 98
machines.  It has worked just fine on all but one of those machines.  On
that one (system information quoted below), we persist in getting the error
message:

> require (tcltk)
Loading required package: tcltk
Error in dyn.load(x, as.logical(local), as.logical(now)) :
        unable to load shared library
"C:/PROGRA~1/R/RW1021/library/tcltk/libs/TclTk.dll":
  LoadLibrary failure:  One of the library files needed to run this
application cannot be found.
[1] FALSE

TCL_LIBRARY is set (when it is not, the error message is different), and we
have reinstalled Windows 98, tcltk, and R at least once.  The above path
points to tcltk.dll (yes, there is a difference in capitalization, but I
don't think that is supposed to matter on Windows -- it doesn't on my
system, anyway).

Has anyone else seen this problem, and have a fix?  Is there a way to get a
list of library files required by a dll?

Thanks for your patience!

--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status =
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Windows 9x 4.10 (build 2222)  A

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.beede at mail.doc.gov  Tue Mar 20 21:40:24 2001
From: david.beede at mail.doc.gov (david.beede@mail.doc.gov)
Date: Tue, 20 Mar 2001 15:40:24 -0500
Subject: [R] Newbie question about by() -- update
Message-ID: <OFF9815B1D.10F35612-ON85256A15.007127AC@mail.doc.gov>


Prof. Ripley --
Thank you for your reply.

I'm not sure how to confirm your suggestion.  I found the line that you
cited in ppr.formula in the ascii file containing the modreg R code -- can
I simply change that line and rerun my example?  Or is there more to it
than that?




Prof Brian D Ripley <ripley at stats.ox.ac.uk>@auk.stats> on 03/20/2001
03:08:48 PM

Sent by:  <ripley at auk.stats>


To:   <david.beede at mail.doc.gov>
cc:   <r-help at stat.math.ethz.ch>

Subject:  Re: [R] Newbie question about by() -- update


On Tue, 20 Mar 2001 david.beede at mail.doc.gov wrote:

> Sorry about the lack of detail.  I am running R v.1.2.2.  I can recast my
> question
> (which I think I have partially answered) more succinctly as follows:
>
> 1.  This seems to work (note that group takes values 1,2,3,4, or 5):
>  my.newfun <- function(x) myfile <- lm(award ~ ilogemp + ilogage, x)
>  test.by <- by(wintemp, as.factor(wintemp$group), my.newfun)
>
> 2.  This does not work (leaving aside whether I am using ppr correctly or
not!):
> > my.pprfun <- function(x) mypprfile <- ppr(award ~ ilogemp + ilogage,
data = x, nterms = 5,
> +                max.terms = 10, optlevel = 3)
> >  test.by <- by(wintemp, as.factor(wintemp$group), my.pprfun)
> Error in model.frame.default(formula = award ~ ilogemp + ilogage, data =
x) :
>      Object "x" not found
>
> 3.  However, this does seem to work, but I don't know enough about R to
explain why:
> > my.pprfun <- function(x) mypprfile <- ppr(award ~ ilogemp + ilogage,
> +   data = eval.parent(substitute(x),3), nterms = 5, max.terms = 10,
optlevel = 3)
> >  test.by <- by(wintemp, as.factor(wintemp$group), my.pprfun)
>
> If I understand this (and p. 69 of S Programming by VR) correctly, it
seems as though
> I have to evaluate x three environments up the call sequence from ppr,
but I don't have
> to do so for lm.  I don't yet fully understand how the environments work,
and I'm afraid
> that only a little knowledge is dangerous!  Can anyone explain the
difference between
> lm and ppr in this context?

There's a bug in ppr.formula:

    m <- eval(m, sys.parent())

should be (in R)

    m <- eval(m, parent.frame())

I think that will fix it, but please confirm.

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Tue Mar 20 21:57:25 2001
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 20 Mar 2001 15:57:25 -0500
Subject: [R] Help with large datasets
References: <200103201917.UAA0000010771@lolek.mpipks-dresden.mpg.de>
Message-ID: <3AB7C435.349720C6@bank-banque-canada.ca>

>Unfortunately, although my Alpha has
>1.5 gig of ram, R as it is configured seems to be set for a maximum
>of about 100Mb of workspace (as best I can tell).

With R 1.2.2 I think this is suppose to expand automatically until you reach limits
imposed by the operating system. In Unix/Linux  you may need to use unlimit to adjust
default limits. You still eventually can get

Error: cannot allocate vector of size xxxx

In Unix I think this is a limit imposed by swap space (and the amount of other
activity on the machine) and is not restricted by physical memory. If you just added
a lot of ram to your machine then it is possible your swap space is smaller than your
physical memory (which doesn't make sense and you probably should increase swap).

Some of this is just speculation on my part and since I'm having a similar problem I
hope someone more authoritative will comment.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jsmith at iarc.uaf.edu  Tue Mar 20 22:45:44 2001
From: jsmith at iarc.uaf.edu (Jane Smith)
Date: Tue, 20 Mar 2001 12:45:44 -0900
Subject: [R] running "acf"
Message-ID: <3AB7CF88.2A229FD0@iarc.uaf.edu>

I have tried running the various ar functions and I always get an error
message that the c/fortran is not in the loading table. What do I need
to do?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marketers at toyi.zzn.com  Tue Mar 20 23:14:59 2001
From: marketers at toyi.zzn.com (marketers@toyi.zzn.com)
Date: Tue, 20 Mar 2001 23:14:59 +0100 (MET)
Subject: [R] How  to  Have  More  Customer ?
Message-ID: <200103202214.XAA20558@stat.math.ethz.ch>


  Dear r-help,

  we know you from below url:
  http://www.ukc.ac.uk/php/mff/netres/statlist.html
  If you don't want to receive any message again,
  please email to remove at toyi.zzn.com to
  remove your email: r-help at stat.math.ethz.ch
   

  **************       How to         ***************

  Have More Customer and Competition?

  **************    In Internet Time  ***************
 
  Answer is:             

       Email Spider Easy 
       ----Targeted Email Address Extract Software.
           http://www.emailspidereasy.com

      
        Key Features: 
        1 Search and Spider from a starting url such 
            as web url, search engine, message 
            board,  newsgroup to  extract bulk email 
            addresses and Url Addresses in pair. 

        2 Integrate with 18 top search engines
           such as Yahoo, Google, Altavista, AOL, 
           MSN, Lycos,Hotbot, Go.

        3 Search speed is very fast. 
           Allow up to 500 threads to search and 
           extract emails  simultaneously.
 
        4 Both Web and Url are extracted.

           For more info and free test ,
           please access url: 
           http://www.emailspidereasy.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 20 23:21:28 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 20 Mar 2001 22:21:28 +0000 (GMT)
Subject: [R] Newbie question about by() -- update
In-Reply-To: <OFF9815B1D.10F35612-ON85256A15.007127AC@mail.doc.gov>
Message-ID: <Pine.GSO.4.31.0103202220450.11297-100000@auk.stats>

On Tue, 20 Mar 2001 david.beede at mail.doc.gov wrote:

>
> Prof. Ripley --
> Thank you for your reply.
>
> I'm not sure how to confirm your suggestion.  I found the line that you
> cited in ppr.formula in the ascii file containing the modreg R code -- can
> I simply change that line and rerun my example?  Or is there more to it
> than that?

Yes, no. You can also do

library(modreg)
fix(ppr.formula)
# try example.

>
>
>
>
> Prof Brian D Ripley <ripley at stats.ox.ac.uk>@auk.stats> on 03/20/2001
> 03:08:48 PM
>
> Sent by:  <ripley at auk.stats>
>
>
> To:   <david.beede at mail.doc.gov>
> cc:   <r-help at stat.math.ethz.ch>
>
> Subject:  Re: [R] Newbie question about by() -- update
>
>
> On Tue, 20 Mar 2001 david.beede at mail.doc.gov wrote:
>
> > Sorry about the lack of detail.  I am running R v.1.2.2.  I can recast my
> > question
> > (which I think I have partially answered) more succinctly as follows:
> >
> > 1.  This seems to work (note that group takes values 1,2,3,4, or 5):
> >  my.newfun <- function(x) myfile <- lm(award ~ ilogemp + ilogage, x)
> >  test.by <- by(wintemp, as.factor(wintemp$group), my.newfun)
> >
> > 2.  This does not work (leaving aside whether I am using ppr correctly or
> not!):
> > > my.pprfun <- function(x) mypprfile <- ppr(award ~ ilogemp + ilogage,
> data = x, nterms = 5,
> > +                max.terms = 10, optlevel = 3)
> > >  test.by <- by(wintemp, as.factor(wintemp$group), my.pprfun)
> > Error in model.frame.default(formula = award ~ ilogemp + ilogage, data =
> x) :
> >      Object "x" not found
> >
> > 3.  However, this does seem to work, but I don't know enough about R to
> explain why:
> > > my.pprfun <- function(x) mypprfile <- ppr(award ~ ilogemp + ilogage,
> > +   data = eval.parent(substitute(x),3), nterms = 5, max.terms = 10,
> optlevel = 3)
> > >  test.by <- by(wintemp, as.factor(wintemp$group), my.pprfun)
> >
> > If I understand this (and p. 69 of S Programming by VR) correctly, it
> seems as though
> > I have to evaluate x three environments up the call sequence from ppr,
> but I don't have
> > to do so for lm.  I don't yet fully understand how the environments work,
> and I'm afraid
> > that only a little knowledge is dangerous!  Can anyone explain the
> difference between
> > lm and ppr in this context?
>
> There's a bug in ppr.formula:
>
>     m <- eval(m, sys.parent())
>
> should be (in R)
>
>     m <- eval(m, parent.frame())
>
> I think that will fix it, but please confirm.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>
>
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 20 23:24:50 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 20 Mar 2001 22:24:50 +0000 (GMT)
Subject: [R] running "acf"
In-Reply-To: <3AB7CF88.2A229FD0@iarc.uaf.edu>
Message-ID: <Pine.GSO.4.31.0103202224070.11297-100000@auk.stats>

On Tue, 20 Mar 2001, Jane Smith wrote:

> I have tried running the various ar functions and I always get an error
> message that the c/fortran is not in the loading table. What do I need
> to do?

How are you trying to use them?  In a properly configured system you cna do

library(ts)
example(acf)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 20 23:42:44 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 20 Mar 2001 22:42:44 +0000 (GMT)
Subject: [R] tcltk on Windows 98
In-Reply-To: <OF7BA8C810.AD215C9C-ON85256A15.006D7F53@rtp.epa.gov>
Message-ID: <Pine.GSO.4.31.0103202231070.11297-100000@auk.stats>

On Tue, 20 Mar 2001 Setzer.Woodrow at epamail.epa.gov wrote:

> I've written an application that uses the tcltk package, and have
> distributed it to a few people to use here in the Agency on Windows 98
> machines.  It has worked just fine on all but one of those machines.  On
> that one (system information quoted below), we persist in getting the error
> message:
>
> > require (tcltk)
> Loading required package: tcltk
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library
> "C:/PROGRA~1/R/RW1021/library/tcltk/libs/TclTk.dll":
>   LoadLibrary failure:  One of the library files needed to run this
> application cannot be found.
> [1] FALSE
>
> TCL_LIBRARY is set (when it is not, the error message is different), and we
> have reinstalled Windows 98, tcltk, and R at least once.  The above path
> points to tcltk.dll (yes, there is a difference in capitalization, but I
> don't think that is supposed to matter on Windows -- it doesn't on my
> system, anyway).
>
> Has anyone else seen this problem, and have a fix?  Is there a way to get a
> list of library files required by a dll?

pedump.exe (in the tools.zip as mentioned in readme.packages) will tell
you.  If you have VC++, dumpbin /imports will too.

My guess is that Tcl/Tk is installed but not correctly in the PATH.
The Tcl installer is supposed to do that, but I have seen it fail.
I am fairly sure this an Tcl not R problem.
What I suggest you do is

Uninstall Tcl/Tk
clean up autoexec.bat's version of the PATH
Install Tcl/Tk
Reboot
Check that tcl83.dll and tk83.dll (from memory) are on the PATH
Try again.

Good luck!

This has happened to me, and I don't really know why it worked eventually.
This is one of the many reasons why I just don't allow Windows 95/98/ME
locally.  NT/2000 gives a useful error message saying exactly what it was
looking for and where.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Mar 21 00:15:02 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Mar 2001 00:15:02 +0100
Subject: [R] help:too slow
In-Reply-To: detlef.steuer@unibw-hamburg.de's message of "Tue, 20 Mar 2001 10:26:05 +0100 (CET)"
References: <XFMail.010320102605.detlef.steuer@unibw-hamburg.de>
Message-ID: <x2y9u0rq15.fsf@blueberry.kubism.ku.dk>

detlef.steuer at unibw-hamburg.de writes:

> Hi!
> 
> Using your original function on some dummy data I get:
> (700MHz PIII Linux 2.2.18)
> 
> w  <-  as.matrix(floor(runif(100000,100,999)))
> unix.time(m  <- time(col2mat(w)))
> [1] 22.67  0.69 50.48  0.00  0.00
> 
> 50 seconds to generate the whole matrix.
> 
> If I comment out the print(s) it reduces to:
> unix.time(m  <- time(col2mat(w)))
> [1] 21.03  0.64 21.86  0.00  0.00
> 
> But if I change the function definition to
> 
> "col2mat" <-
>     function(x, sampsz=220, qsamp=2000) {
>         m<-matrix(nr=qsamp, nc=sampsz)
>         for(s in 1:qsamp){ 
> ###            print(s)
> ###            for(i in 1:sampsz){
>                 m[s,(1:sampsz)] <- x[s+(1:sampsz),1]
> ###            }
>         }
>         m
>     }
> 
> which I consider functional equivalent I can go down to:
> > unix.time(m  <- time(col2mat(w)))
> [1] 0.52 0.06 0.59 0.00 0.00
> 
> Probably you can get rid of the outer loop in a similar fashion.
> Hope that helps,

The expedient solution would seem to be

col2mat <- function(x, sampsz=220, qsamp=2000)
   outer(1:qsamp, 1:sampsz, function(i,j) x[i+j,1])

although it doesn't actually seem much faster than Detlef's
version.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tdlong at uci.edu  Wed Mar 21 00:47:08 2001
From: tdlong at uci.edu (Tony Long)
Date: Tue, 20 Mar 2001 15:47:08 -0800
Subject: Fwd: Re: [R] error starting R 1.2.2 in Redhat 7.0  (GLIB 2.2 not
 defined...)
Message-ID: <p05001918b6dd9c60037a@[128.200.28.179]>

>Date: Tue, 20 Mar 2001 15:45:52 -0800
>To: Prof Brian D Ripley <ripley at stats.ox.ac.uk>
>From: Tony Long <tdlong at uci.edu>
>Subject: Re: [R] error starting R 1.2.2 in Redhat 7.0  (GLIB 2.2 not 
>defined...)
>Cc: r-help at stat.math.ethz.c
>Bcc:
>X-Attachments:
>
>Brian:
>
>	Thanks!!  I figured out how to run "up2date"  (that is, 
>determined the existence of this amazing program) -- and life is 
>good again.  Clearly, RedHat 7.0 was not complete!  Although I agree 
>the Redhat people should have released a better (more complete) 
>product, I am still somewhat impressed at how much easier it is to 
>do things than apprx. 1 year ago......
>
>	If you have RedHat you can change to root user and type the 
>command "up2date" this results in "all" bug fixed/upgrades being 
>made to your system!!
>
>>On Tue, 20 Mar 2001, Tony Long wrote:
>>
>>>  All:
>>>
>>>	I just upgraded my system to Redhat 7.0, and installed the
>>>  RPM for R 1.2.2.  I intall R 1.2.2 using the rpm -U xxxx command.
>>>  When R is invoked from some directories it starts and runs fine, from
>>>  other directories I get a strange message at startup (and R exits
>>>  without starting).  Thus far the directory with the problem tends to
>>>  contain ".data" files from the previous version of R.  When R exits
>>>  without starting I get the following message
>>>
>>>  /usr/lib/R/bin/R.bin:  error while loading shared libraries:
>>>  /usr/lib/R/bin/R.bin:  symbol __sysconf,
>>>  version GLIBC_2.2 not defined ion file libc.so.6 with link time reference
>>>
>>>	Of course, I do not really understand what this message
>>>  implies I do.  Any advice would be appreciated.  Thanks.  Tony
>>>
>>>  PS  (I still haven't carried out the "backward upgrade" of the gcc
>>>  compiler)....later today
>>
>>You need to update RedHat 7.0, that is install all the recommended updates
>>from the RedHat site.  That is *not* the same as downgrading the compiler
>>to the one that is actually released.
>>
>>Oh, and do blame Redhat for selling you a broken system.
>>
>>--
>>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>>University of Oxford,             Tel:  +44 1865 272861 (self)
>>1 South Parks Road,                     +44 1865 272860 (secr)
>>Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-- 
Tony Long
Ecology and Evolutionary Biology
Steinhaus Hall
University of California at Irvine
Irvine, CA
92697-2525

Tel:  (949) 824-2562   (office)
Tel:  (949) 824-5994   (lab)
Fax: (949) 824-2181

email:  tdlong at uci.edu
http://hjmuller.bio.uci.edu/~labhome/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xyzzy at speakeasy.org  Wed Mar 21 00:46:39 2001
From: xyzzy at speakeasy.org (Trent Piepho)
Date: Tue, 20 Mar 2001 15:46:39 -0800 (PST)
Subject: [R] Help with large datasets
In-Reply-To: <3AB7C435.349720C6@bank-banque-canada.ca>
Message-ID: <Pine.LNX.4.04.10103201534040.24904-100000@xyzzy.dsl.speakeasy.net>

On Tue, 20 Mar 2001, Paul Gilbert wrote:
> In Unix I think this is a limit imposed by swap space (and the amount of other
> activity on the machine) and is not restricted by physical memory. If you just added
> a lot of ram to your machine then it is possible your swap space is smaller than your
> physical memory (which doesn't make sense and you probably should increase swap).

Some older unix variants are like this.  The idea is that disk storage is the
real "memory", and the core (RAM) is just a "cache" for the disk memory. 
Everything is stored on disk, with a few megabytes cached in memory, and a few
kilobytes in the sram cache memory.  If you have 100MB of disk memory, and 4MB
of RAM memory, you have 100MB total storage.  If you had 100MB disk, 500MB
RAM, you would still only have 100MB total storage.

Linux doesn't do this.  If you have 32MB of disk swap and 16MB of memory, your
total storage would be 48MB.  I have 512MB of ram on this machine, but only
128MB of swap.  Any program without a memory leak that uses more than 128MB of
swap would be trashing so badly as to be pointless.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yuling5 at yahoo.com  Wed Mar 21 02:15:36 2001
From: yuling5 at yahoo.com (Yu-Ling Wu)
Date: Tue, 20 Mar 2001 17:15:36 -0800 (PST)
Subject: [R] generate random number
Message-ID: <20010321011536.60311.qmail@web11507.mail.yahoo.com>

Hi,

I want to pick 3 "integer" random numbers from 1 to
10. How to do this?

Thanks,
Yu-Ling Wu


__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yuling5 at yahoo.com  Wed Mar 21 02:25:57 2001
From: yuling5 at yahoo.com (Yu-Ling Wu)
Date: Tue, 20 Mar 2001 17:25:57 -0800 (PST)
Subject: [R] assign data to objects
Message-ID: <20010321012557.84946.qmail@web11506.mail.yahoo.com>

Hi,

I want to write the data returning from each loop to
temp1, temp2, ... , temp10. However, I got error
message as below: 

Error: Target of assignment expands to non-language
object

Please help me with this.

Thanks,
Yu-Ling Wu

==CODE===============================================

stime = 23

for (i in 1:10) {
paste("temp", i, sep="") <- sqlQuery(myConnect,
paste("select action, count from DB1 where utime=",
stime, " group by action")
stime = stime + 60
}
=====================================================


__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From TCHUR at doh.health.nsw.gov.au  Wed Mar 21 04:01:09 2001
From: TCHUR at doh.health.nsw.gov.au (Tim CHURCHES)
Date: Wed, 21 Mar 2001 14:01:09 +1100
Subject: [R] LR-based CIs for GLMs
Message-ID: <sab8b429.041@dohprimo.ccf.health.nsw.gov.au>

We are using glm() to models to counts of deaths due to rare causes using a log link and Poisson error distribution, with population as the offset. Approximate confidence intervals for the parameter estimates are easy to calculate using a standard normal deviate, but obviously when the counts of deaths are small (which is why we are using Poisson regression), these intervals are very approximate indeed. 

Has anyone done any work on calculating  more precise likelihood ratio - based confidence intervals for parameter estimates from generalised linear models? These are also known as "profile likelihood confidence intervals", I believe. PROC GENMOD in SAS can calculate them - I am happy to email the relevant page from the SAS online documentation which describes the way in which they are calculated in more detail to anyone who is interested - but we would much rather use R for this work...

Regards,

Tim Churches
Epidemiology and Surveillance Branch
NSW Health Department
Sydney, Australia




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jbowers at csm.berkeley.edu  Wed Mar 21 04:20:17 2001
From: jbowers at csm.berkeley.edu (Jacob W. Bowers)
Date: Tue, 20 Mar 2001 19:20:17 -0800 (PST)
Subject: [R] Help with large datasets
In-Reply-To: <3AB7C435.349720C6@bank-banque-canada.ca>
Message-ID: <Pine.SV4.3.96.1010320191502.16379B-100000@csm.Berkeley.EDU>

I was having this same problem on a Sun OS machine, but then just
increased the "stacksize" with "limit stacksize 10000" and it ran ok. (I
had already increased the memorysize (using "limit memorysize") to the
maximum and was having this same problem despite using a machine that has
3GB of physical RAM.)

So, if you are using csh, then perhaps changing the stacksize (whatever
that is) will help!

Jake
-----
Jake Bowers
Dept of Political Science
UC-Berkeley


On Tue, 20 Mar 2001, Paul Gilbert wrote:

> >Unfortunately, although my Alpha has
> >1.5 gig of ram, R as it is configured seems to be set for a maximum
> >of about 100Mb of workspace (as best I can tell).
> 
> With R 1.2.2 I think this is suppose to expand automatically until you reach limits
> imposed by the operating system. In Unix/Linux  you may need to use unlimit to adjust
> default limits. You still eventually can get
> 
> Error: cannot allocate vector of size xxxx
> 
> In Unix I think this is a limit imposed by swap space (and the amount of other
> activity on the machine) and is not restricted by physical memory. If you just added
> a lot of ram to your machine then it is possible your swap space is smaller than your
> physical memory (which doesn't make sense and you probably should increase swap).
> 
> Some of this is just speculation on my part and since I'm having a similar problem I
> hope someone more authoritative will comment.
> 
> Paul Gilbert
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 21 07:51:15 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 21 Mar 2001 06:51:15 +0000 (GMT)
Subject: [R] LR-based CIs for GLMs
In-Reply-To: <sab8b429.041@dohprimo.ccf.health.nsw.gov.au>
Message-ID: <Pine.GSO.4.31.0103210646250.11550-100000@auk.stats>

On Wed, 21 Mar 2001, Tim CHURCHES wrote:

> We are using glm() to models to counts of deaths due to rare causes
using a log link and Poisson error distribution, with population as
the offset. Approximate confidence intervals for the parameter estimates
are easy to calculate using a standard normal deviate, but obviously when
the counts of deaths are small (which is why we are using Poisson regression),
these intervals are very approximate indeed.

That's not so obvious: you may have many small counts and get a good
nomral approximation.

> Has anyone done any work on calculating  more precise likelihood ratio
- based confidence intervals for parameter estimates from generalised
linear models? These are also known as "profile likelihood confidence
intervals", I believe. PROC GENMOD in SAS can calculate them -
I am happy to email the relevant page from the SAS online documentation
which describes the way in which they are calculated in more detail to
anyone who is interested - but we would much rather use R for this work...

Look at confint in package MASS, in the VR bundle.  It has a method
for glm fits.  Make sure you use the latest version, as some have had
problems with that function on R.

BTW, please wrap your lines when posting: it makes the responder's task
easier and the structure of the response easier too.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 21 08:14:45 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 21 Mar 2001 07:14:45 +0000 (GMT)
Subject: [R] assign data to objects
In-Reply-To: <20010321012557.84946.qmail@web11506.mail.yahoo.com>
Message-ID: <Pine.GSO.4.31.0103210711580.11550-100000@auk.stats>

On Tue, 20 Mar 2001, Yu-Ling Wu wrote:

> Hi,
>
> I want to write the data returning from each loop to
> temp1, temp2, ... , temp10. However, I got error
> message as below:
>
> Error: Target of assignment expands to non-language
> object
>
> Please help me with this.
>
> Thanks,
> Yu-Ling Wu
>
> ==CODE===============================================
>
> stime = 23
>
> for (i in 1:10) {
> paste("temp", i, sep="") <- sqlQuery(myConnect,
> paste("select action, count from DB1 where utime=",
> stime, " group by action")

try

query <- paste("select action, count from DB1 where utime=", stime,
" group by action")
assign(paste("temp", i, sep=""), sqlQuery(myConnect, query))

> stime = stime + 60
> }
> =====================================================
>




-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From news_vkhamenya at chat.ru  Wed Mar 21 08:21:21 2001
From: news_vkhamenya at chat.ru (news_vkhamenya@chat.ru)
Date: Wed, 21 Mar 2001 10:21:21 +0300
Subject: [R] help:too slow (conclusion)
In-Reply-To: <x2y9u0rq15.fsf@blueberry.kubism.ku.dk>
References: <XFMail.010320102605.detlef.steuer@unibw-hamburg.de>
 <x2y9u0rq15.fsf@blueberry.kubism.ku.dk>
Message-ID: <103867127022.20010321102121@chat.ru>

Hello Peter and all,

PDB> col2mat <- function(x, sampsz=220, qsamp=2000)
PDB>    outer(1:qsamp, 1:sampsz, function(i,j) x[i+j,1])

PDB> although it doesn't actually seem much faster than Detlef's
PDB> version.

I agree. However, this solution seems to be more elegant not only
for those who like functional style of programming :)

-- 
Best regards,
Valery A.Khamenya                      mailto:news_vkhamenya at chat.ru


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Mar 21 08:26:50 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 21 Mar 2001 08:26:50 +0100
Subject: [R] generate random number
References: <20010321011536.60311.qmail@web11507.mail.yahoo.com>
Message-ID: <3AB857BA.9EA2F0DA@statistik.uni-dortmund.de>

Yu-Ling Wu wrote:
> 
> Hi,
> 
> I want to pick 3 "integer" random numbers from 1 to
> 10. How to do this?


Please read the docs. In this case have a look at  
?runif

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at cirsium.ethz.ch  Wed Mar 21 08:31:52 2001
From: pflugshaupt at cirsium.ethz.ch (Kaspar Pflugshaupt)
Date: Wed, 21 Mar 2001 08:31:52 +0100
Subject: [R] generate random number
In-Reply-To: <20010321011536.60311.qmail@web11507.mail.yahoo.com>
References: <20010321011536.60311.qmail@web11507.mail.yahoo.com>
Message-ID: <01032108315200.09565@Aconitum>

On Wednesday 21 March 2001 02:15, Yu-Ling Wu wrote:
> Hi,
>
> I want to pick 3 "integer" random numbers from 1 to
> 10. How to do this?

as.integer(runif(3)*10+1)

Cheers

Kaspar Pflugshaupt


-- 


Kaspar Pflugshaupt
Geobotanical Institute
ETH Zurich, Switzerland

http://www.geobot.umnw.ethz.ch
mailto:pflugshaupt at geobot.umnw.ethz.ch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at CMIS.CSIRO.AU  Wed Mar 21 08:44:31 2001
From: Bill.Venables at CMIS.CSIRO.AU (Bill.Venables@CMIS.CSIRO.AU)
Date: Wed, 21 Mar 2001 17:44:31 +1000
Subject: [R] generate random number
Message-ID: <2B7F04539DAFD311B61D009027D0DDA20C3DA9@roper-cv.qld.cmis.CSIRO.AU>



| -----Original Message-----
| From: Kaspar Pflugshaupt [mailto:pflugshaupt at cirsium.ethz.ch]
| Sent: Wednesday, 21 March 2001 17:32
| To: Yu-Ling Wu
| Cc: r-help mailing list
| Subject: Re: [R] generate random number
| 
| 
| On Wednesday 21 March 2001 02:15, Yu-Ling Wu wrote:
| > Hi,
| >
| > I want to pick 3 "integer" random numbers from 1 to
| > 10. How to do this?
| 
| as.integer(runif(3)*10+1)

Eh?  There is a simpler way:

sample(1:10, 3)
sample(1:10, 3, rep=T)

depending on what is meant.  The second is equivalent to yours.


| 
| Cheers
| 
| Kaspar Pflugshaupt
| 
| 
| -- 
| 
| 
| Kaspar Pflugshaupt
| Geobotanical Institute
| ETH Zurich, Switzerland
| 
| http://www.geobot.umnw.ethz.ch
| mailto:pflugshaupt at geobot.umnw.ethz.ch
| -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
| -.-.-.-.-.-.-.-.-
| r-help mailing list -- Read 
| http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
| Send "info", "help", or "[un]subscribe"
| (in the "body", not the subject !)  To: 
| r-help-request at stat.math.ethz.ch
| _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
| _._._._._._._._._
| 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Wed Mar 21 08:50:12 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Wed, 21 Mar 2001 08:50:12 +0100
Subject: [R] generate random number
In-Reply-To: <01032108315200.09565@Aconitum>
References: <20010321011536.60311.qmail@web11507.mail.yahoo.com>
	<01032108315200.09565@Aconitum>
Message-ID: <15032.23860.339812.787902@galadriel.ci.tuwien.ac.at>

>>>>> On Wed, 21 Mar 2001 08:31:52 +0100,
>>>>> Kaspar Pflugshaupt (KP) wrote:

  > On Wednesday 21 March 2001 02:15, Yu-Ling Wu wrote:
  >> Hi,
  >> 
  >> I want to pick 3 "integer" random numbers from 1 to
  >> 10. How to do this?

  > as.integer(runif(3)*10+1)


better :

sample(1:10, size=3, replace=TRUE)

[because also working on general vectors, not only integers, as e.g.,

sample(letters, size=3, replace=TRUE)

]

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stecalza at tiscalinet.it  Wed Mar 21 09:31:57 2001
From: stecalza at tiscalinet.it (Stefano)
Date: Wed, 21 Mar 2001 09:31:57 +0100
Subject: [R] slow start-up
Message-ID: <5.0.2.1.2.20010321092518.009f17f0@pop.tiscalinet.it>

Dear all,

I'm working with R 1.2.2 on win98 (256Mb RAM) with ESS 5.1.18.
It happens that the start-up is very slow. I don't know exactly how to measure, but with a simple watch I recorded 15 seconds, while the startup of S+ 2000 (Sqpe+4 under ESS) takes around 3 seconds.
Tha fact is that sometimes it takes almost a minute (58.30 sec recorded) for the prompt to appear! And ESS gives me an error 

*******************************
Stefano Calza
Istituto di Statistica Medica e Biometria
Universit? degli Studi di Milano
Via G. Venezian, 1
20133 Milano

tel. +39 02/2361302, 02/70600908
fax 02/2362930

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stecalza at tiscalinet.it  Wed Mar 21 09:35:14 2001
From: stecalza at tiscalinet.it (Stefano)
Date: Wed, 21 Mar 2001 09:35:14 +0100
Subject: [R] slow startup (2)
Message-ID: <5.0.2.1.2.20010321093220.009f1e40@pop.tiscalinet.it>

Sorry for the previuos message: it was incomplete (I'm used to the emacs keys while under eudora Ctrl-E means: send...)

The ESS error is about "ess-loop-timeout" (I bypassed the problem increasing the value of the variable)

Any suggestion?

Thank you,
Stefano


*******************************
Stefano Calza
Istituto di Statistica Medica e Biometria
Universit? degli Studi di Milano
Via G. Venezian, 1
20133 Milano

tel. +39 02/2361302, 02/70600908
fax 02/2362930

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 21 09:43:49 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 21 Mar 2001 08:43:49 +0000 (GMT)
Subject: [R] slow start-up
In-Reply-To: <5.0.2.1.2.20010321092518.009f17f0@pop.tiscalinet.it>
Message-ID: <Pine.GSO.4.31.0103210839580.4307-100000@toucan.stats>

On Wed, 21 Mar 2001, Stefano wrote:

> Dear all,
>
> I'm working with R 1.2.2 on win98 (256Mb RAM) with ESS 5.1.18.
> It happens that the start-up is very slow. I don't know exactly how to measure, but with a simple watch I recorded 15 seconds, while the startup of S+ 2000 (Sqpe+4 under ESS) takes around 3 seconds.

How fast is starting Rterm in a terminal window?  It takes around a second
on my 366MHz machine. If that is fast, it is an ESS problem, better sent
to the ESS list (and possibly better sent there anyway: see the rw-FAQ).

Do you have an existing .RData?  That can take a long time to read,
if large and complex objects are in it. Try timing Rterm --vanilla.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Wed Mar 21 09:57:36 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Wed, 21 Mar 2001 08:57:36 +0000 (GMT)
Subject: [R] generate random number
In-Reply-To: <20010321011536.60311.qmail@web11507.mail.yahoo.com>
Message-ID: <Pine.LNX.4.10.10103210853550.3720-100000@localhost.localdomain>

> I want to pick 3 "integer" random numbers from 1 to
> 10. How to do this?
If you mean sampling without replacement:
sample(1:10,3,replace=FALSE)
If you mean with replacement:
sample(1:10,3,replace=TRUE)

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Wed Mar 21 10:12:14 2001
From: stuart.leask at nottingham.ac.uk (Dr Stuart Leask)
Date: Wed, 21 Mar 2001 09:12:14 -0000
Subject: [R] Memory allocation in problem R linux
References: <Pine.LNX.4.10.10103161238100.26444-100000@mercury.quantex> <15026.2773.368631.94683@galadriel.ci.tuwien.ac.at> <009e01c0b057$f71d26a0$cee1f380@nottingham.ac.uk> <3AB5D98E.E13EE4A3@statistik.uni-dortmund.de> <00c001c0b071$dad10ba0$cee1f380@not
Message-ID: <008f01c0b1e7$0715ba00$cee1f380@nottingham.ac.uk>

Many thanks to Uwe and Patrick for their helpful advice.

My problem was a lack of swap space under linux, nothing to do with
allocating memory specifically to R.
Having changed my 508K (Zipslack install default) swapfile size to 64Mb (=
my RAM), all is well.

(Apologies for clogging up R list with what was purely a linux problem)

Stuart


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stecalza at tiscalinet.it  Wed Mar 21 10:18:37 2001
From: stecalza at tiscalinet.it (Stefano)
Date: Wed, 21 Mar 2001 10:18:37 +0100
Subject: [R] slow start-up
In-Reply-To: <Pine.GSO.4.31.0103210839580.4307-100000@toucan.stats>
References: <5.0.2.1.2.20010321092518.009f17f0@pop.tiscalinet.it>
Message-ID: <5.0.2.1.2.20010321100724.009f24f0@pop.tiscalinet.it>


>How fast is starting Rterm in a terminal window?  It takes around a second
>on my 366MHz machine. If that is fast, it is an ESS problem, better sent
>to the ESS list (and possibly better sent there anyway: see the rw-FAQ).
>
>Do you have an existing .RData?  That can take a long time to read,
>if large and complex objects are in it. Try timing Rterm --vanilla.

Yes, it's extremly faster in terminal window, about 4 sec considering and .Rdata of about 22Mb.

Thank you and sorry for the OT,

Stefano



*******************************
Stefano Calza
Istituto di Statistica Medica e Biometria
Universit? degli Studi di Milano
Via G. Venezian, 1
20133 Milano

tel. +39 02/2361302, 02/70600908
fax 02/2362930

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Wed Mar 21 10:34:41 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang@xtra.co.nz)
Date: Wed, 21 Mar 2001 21:34:41 +1200
Subject: [R] Output Files..
Message-ID: <007a01c0b1ea$28e90f80$d97d37d2@KoKang>

Hi,

Somehow I forgot how to do this...

Say I have a command that produced a 28 x 28 data matrix.  How can I output the matrix into a txt file (rather than copy/paste the matrix)?

Thanks...

Kevin

-------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 21 10:52:54 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 21 Mar 2001 09:52:54 +0000 (GMT)
Subject: [R] Output Files..
In-Reply-To: <007a01c0b1ea$28e90f80$d97d37d2@KoKang>
Message-ID: <Pine.GSO.4.31.0103210952250.4384-100000@toucan.stats>

On Wed, 21 Mar 2001 Ko-Kang at xtra.co.nz wrote:

> Hi,
>
> Somehow I forgot how to do this...
>
> Say I have a command that produced a 28 x 28 data matrix.  How can I output the matrix into a txt file (rather than copy/paste the matrix)?

See the R Data Import/Export manual ....

>
> Thanks...
>
> Kevin
>
> -------------------------------------------------
> Ko-Kang Kevin Wang
> Statistical Analysis Division Leader
> Software Developers' Klub
> University of Auckland
> New Zealand
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed Mar 21 10:51:57 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 21 Mar 2001 09:51:57 +0000
Subject: [R] LR-based CIs for GLMs
In-Reply-To: <sab8b429.041@dohprimo.ccf.health.nsw.gov.au>
References: <sab8b429.041@dohprimo.ccf.health.nsw.gov.au>
Message-ID: <PLkbaPA9mHu6EwQ1@myatt.demon.co.uk>

Tim CHURCHES <TCHUR at doh.health.nsw.gov.au> writes:
>We are using glm() to models to counts of deaths due to rare causes using a log 
>link and Poisson error distribution, with population as the offset. Approximate 
>confidence intervals for the parameter estimates are easy to calculate using a 
>standard normal deviate, but obviously when the counts of deaths are small 
>(which is why we are using Poisson regression), these intervals are very 
>approximate indeed. 
>
>Has anyone done any work on calculating  more precise likelihood ratio - based 
>confidence intervals for parameter estimates from generalised linear models? 
>These are also known as "profile likelihood confidence intervals", I believe. 
>PROC GENMOD in SAS can calculate them - I am happy to email the relevant page 
>from the SAS online documentation which describes the way in which they are 
>calculated in more detail to anyone who is interested - but we would much 
>rather 
>use R for this work...

I think that confint() in the MASS library might fit the bill here.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From detlef.steuer at unibw-hamburg.de  Wed Mar 21 11:10:52 2001
From: detlef.steuer at unibw-hamburg.de (detlef.steuer@unibw-hamburg.de)
Date: Wed, 21 Mar 2001 11:10:52 +0100 (CET)
Subject: [R] Output Files..
In-Reply-To: <007a01c0b1ea$28e90f80$d97d37d2@KoKang>
Message-ID: <XFMail.010321111052.detlef.steuer@unibw-hamburg.de>

Hello!

You forgot "write" resp. "write.table". :-)

Bye
detlef

On 21-Mar-01 Ko-Kang at xtra.co.nz wrote:
> Hi,
> 
> Somehow I forgot how to do this...
> 
> Say I have a command that produced a 28 x 28 data matrix.  How can I output
> the matrix into a txt file (rather than copy/paste the matrix)?
> 
> Thanks...
> 
> Kevin
> 
> -------------------------------------------------
> Ko-Kang Kevin Wang
> Statistical Analysis Division Leader
> Software Developers' Klub
> University of Auckland
> New Zealand
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _

Detlef Steuer ** Universität der Bw ** 22043 Hamburg
Tel: (0049) (0)40/6541-2819
steuer at unibw-hamburg.de

There is more to life than increasing its speed.  - Mahatma Gandhi

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Mar 21 12:27:33 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 21 Mar 2001 05:27:33 -0600
Subject: [R] Re: none
In-Reply-To: <3.0.6.32.20010320112930.007c2d00@biomserv.univ-lyon1.fr>
References: <3.0.6.32.20010320112930.007c2d00@biomserv.univ-lyon1.fr>
Message-ID: <6r1yrrcqfu.fsf@franz.stat.wisc.edu>

VALIERE Nathaniel <valiere at biomserv.univ-lyon1.fr> writes:

> How can get some information about error "step factor reduced below
> minimum" appeared after nls function.

The best way to see what is causing this is to use trace=TRUE in the
call to nls, which will then print the parameter values at each
iteration.  The error message indicates that the iterations are
reaching a point where the increment is ill-defined.  You will need to
determine better starting estimates for the parameters or perhaps
reduce the complexity of the model.

I am happy to correspond privately with you on what might be happening
in this case if you want to send me specifics on the model and the
data.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Wed Mar 21 12:32:32 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Wed, 21 Mar 2001 23:32:32 +1200
Subject: [R] Output Files..
In-Reply-To: <007a01c0b1ea$28e90f80$d97d37d2@KoKang>; from Ko-Kang@xtra.co.nz on Wed, Mar 21, 2001 at 09:34:41PM +1200
References: <007a01c0b1ea$28e90f80$d97d37d2@KoKang>
Message-ID: <20010321233232.A1765@camille.indigoindustrial.co.nz>

> Somehow I forgot how to do this...
> 
> Say I have a command that produced a 28 x 28 data matrix.  How can I output the matrix into a txt file (rather than copy/paste the matrix)?


write.table(mat,file="filename")

If you're like me, you remembered it 5 minutes after posting it,
though ;-)

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fm3a004 at math.uni-hamburg.de  Wed Mar 21 13:14:25 2001
From: fm3a004 at math.uni-hamburg.de (Christian Hennig)
Date: Wed, 21 Mar 2001 13:14:25 +0100 (MET)
Subject: [R] Ctrl-C in ESS
Message-ID: <Pine.GSO.3.95q.1010321131201.2254D-100000@sun21.math.uni-hamburg.de>

Dear list,

usually, I can break a running R process with Ctrl-C. This does not
seem to work if R was started from within ESS. Is there anything
analogous?

Thanks,
Christian 

***********************************************************************
Christian Hennig
University of Hamburg, Fachbereich Mathematik - SPST
 (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
 Zentrum fuer Modellierung und Simulation)
Bundesstrasse 55, D-20146 Hamburg, Germany
Tel: x40/42838 4907, privat x40/631 62 79
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjb at di.fct.unl.pt  Wed Mar 21 14:07:15 2001
From: cjb at di.fct.unl.pt (cjb)
Date: Wed, 21 Mar 2001 13:07:15 +0000
Subject: [R] RPackage
Message-ID: <3AB8A782.40F34C3E@di.fct.unl.pt>

Please, is there anyone who can give me some suggestions?

(1) I have to use a package from R on my work. The package is the
 "quantreg" developed by Koenker (Uni Illinois). I have installed the
package in the R library tree /usr/local/lib/R/ library of my Linux
Operating System. I did R CMD INSTALL -l /usr/local/lib/R/ library
/path/to/quantreg_x.y-z.tar.gz. However, when I call any function from
quantreg, it is not recognized. I have looked in the FAQ's and manuals,
but I can?t see what possibly is wrong.

(2) Please, could you give me any hint about what I should do to make
quantreg work?

Thank you,
Bento, Clarisse Jose
Ph.D. student
Universidade Nova de Lisboa
Faculdade de Ci?ncias e Tecnologia
Departamento de Inform?tica
Quinta da Torre - 2825 114 Caparica
Portugal
Phone:    00 351 212 948 536 extension:0766
E-mail:     cjb at di.fct.unl.pt



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Mar 21 14:45:51 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Mar 2001 14:45:51 +0100
Subject: [R] Ctrl-C in ESS
In-Reply-To: Christian Hennig's message of "Wed, 21 Mar 2001 13:14:25 +0100 (MET)"
References: <Pine.GSO.3.95q.1010321131201.2254D-100000@sun21.math.uni-hamburg.de>
Message-ID: <x27l1j5j74.fsf@blueberry.kubism.ku.dk>

Christian Hennig <fm3a004 at math.uni-hamburg.de> writes:

> Dear list,
> 
> usually, I can break a running R process with Ctrl-C. This does not
> seem to work if R was started from within ESS. Is there anything
> analogous?
> 
> Thanks,
> Christian 

In 5.1.13 (yeah, I know, it's getting old) it's on C-c C-c or by using
the Signals menu.

(And not to put too fine a point on it: There is also an ESS mailing
list y'know...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Mar 21 14:50:12 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Mar 2001 14:50:12 +0100
Subject: [R] RPackage
In-Reply-To: cjb's message of "Wed, 21 Mar 2001 13:07:15 +0000"
References: <3AB8A782.40F34C3E@di.fct.unl.pt>
Message-ID: <x24rwn5izv.fsf@blueberry.kubism.ku.dk>

cjb <cjb at di.fct.unl.pt> writes:

> Please, is there anyone who can give me some suggestions?
> 
> (1) I have to use a package from R on my work. The package is the
>  "quantreg" developed by Koenker (Uni Illinois). I have installed the
> package in the R library tree /usr/local/lib/R/ library of my Linux
> Operating System. I did R CMD INSTALL -l /usr/local/lib/R/ library
> /path/to/quantreg_x.y-z.tar.gz. However, when I call any function from
> quantreg, it is not recognized. I have looked in the FAQ's and manuals,
> but I can?t see what possibly is wrong.
> 
> (2) Please, could you give me any hint about what I should do to make
> quantreg work?

library(quantreg)

perhaps?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From detlef.steuer at unibw-hamburg.de  Wed Mar 21 14:48:27 2001
From: detlef.steuer at unibw-hamburg.de (detlef.steuer@unibw-hamburg.de)
Date: Wed, 21 Mar 2001 14:48:27 +0100 (CET)
Subject: [R] RPackage
In-Reply-To: <3AB8A782.40F34C3E@di.fct.unl.pt>
Message-ID: <XFMail.010321144827.detlef.steuer@unibw-hamburg.de>

Hi!

>From your description it looks like you forgot to load the library:

library(quantreg)

Just a guess.

detlef

On 21-Mar-01 cjb wrote:
> Please, is there anyone who can give me some suggestions?
> 
> (1) I have to use a package from R on my work. The package is the
>  "quantreg" developed by Koenker (Uni Illinois). I have installed the
> package in the R library tree /usr/local/lib/R/ library of my Linux
> Operating System. I did R CMD INSTALL -l /usr/local/lib/R/ library
> /path/to/quantreg_x.y-z.tar.gz. However, when I call any function from
> quantreg, it is not recognized. I have looked in the FAQ's and manuals,
> but I can´t see what possibly is wrong.
> 
> (2) Please, could you give me any hint about what I should do to make
> quantreg work?
> 
> Thank you,
> Bento, Clarisse Jose
> Ph.D. student
> Universidade Nova de Lisboa
> Faculdade de Ciências e Tecnologia
> Departamento de Informática
> Quinta da Torre - 2825 114 Caparica
> Portugal
> Phone:    00 351 212 948 536 extension:0766
> E-mail:     cjb at di.fct.unl.pt
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _

Detlef Steuer ** Universität der Bw ** 22043 Hamburg
Tel: (0049) (0)40/6541-2819
steuer at unibw-hamburg.de

There is more to life than increasing its speed.  - Mahatma Gandhi

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Wed Mar 21 16:27:59 2001
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Wed, 21 Mar 2001 10:27:59 -0500
Subject: [R] Chernoff faces
Message-ID: <3AB8C87F.3D213AA4@perseus.unalmed.edu.co>

Hello everybody:

Does any one has a function to build Chernoff faces?

Thank you very much

Kenneth Roy Cabrera Torres
krcabrer at epm.net.co


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.beede at mail.doc.gov  Wed Mar 21 16:33:46 2001
From: david.beede at mail.doc.gov (david.beede@mail.doc.gov)
Date: Wed, 21 Mar 2001 10:33:46 -0500
Subject: [R] Newbie question about by() -- update
Message-ID: <OF4F2BFFA8.C4663241-ON85256A16.00553E4F@mail.doc.gov>


Prof. Ripley --
I made the change you suggested, and it works.  Thank you very much for
your help.




Prof Brian D Ripley <ripley at stats.ox.ac.uk>@auk.stats> on 03/20/2001
05:21:28 PM

Sent by:  <ripley at auk.stats>


To:   <david.beede at mail.doc.gov>
cc:   <r-help at stat.math.ethz.ch>

Subject:  Re: [R] Newbie question about by() -- update


On Tue, 20 Mar 2001 david.beede at mail.doc.gov wrote:

>
> Prof. Ripley --
> Thank you for your reply.
>
> I'm not sure how to confirm your suggestion.  I found the line that you
> cited in ppr.formula in the ascii file containing the modreg R code --
can
> I simply change that line and rerun my example?  Or is there more to it
> than that?

Yes, no. You can also do

library(modreg)
fix(ppr.formula)
# try example.

>
>
>
>
> Prof Brian D Ripley <ripley at stats.ox.ac.uk>@auk.stats> on 03/20/2001
> 03:08:48 PM
>
> Sent by:  <ripley at auk.stats>
>
>
> To:   <david.beede at mail.doc.gov>
> cc:   <r-help at stat.math.ethz.ch>
>
> Subject:  Re: [R] Newbie question about by() -- update
>
>
> On Tue, 20 Mar 2001 david.beede at mail.doc.gov wrote:
>
> > Sorry about the lack of detail.  I am running R v.1.2.2.  I can recast
my
> > question
> > (which I think I have partially answered) more succinctly as follows:
> >
> > 1.  This seems to work (note that group takes values 1,2,3,4, or 5):
> >  my.newfun <- function(x) myfile <- lm(award ~ ilogemp + ilogage, x)
> >  test.by <- by(wintemp, as.factor(wintemp$group), my.newfun)
> >
> > 2.  This does not work (leaving aside whether I am using ppr correctly
or
> not!):
> > > my.pprfun <- function(x) mypprfile <- ppr(award ~ ilogemp + ilogage,
> data = x, nterms = 5,
> > +                max.terms = 10, optlevel = 3)
> > >  test.by <- by(wintemp, as.factor(wintemp$group), my.pprfun)
> > Error in model.frame.default(formula = award ~ ilogemp + ilogage, data
=
> x) :
> >      Object "x" not found
> >
> > 3.  However, this does seem to work, but I don't know enough about R to
> explain why:
> > > my.pprfun <- function(x) mypprfile <- ppr(award ~ ilogemp + ilogage,
> > +   data = eval.parent(substitute(x),3), nterms = 5, max.terms = 10,
> optlevel = 3)
> > >  test.by <- by(wintemp, as.factor(wintemp$group), my.pprfun)
> >
> > If I understand this (and p. 69 of S Programming by VR) correctly, it
> seems as though
> > I have to evaluate x three environments up the call sequence from ppr,
> but I don't have
> > to do so for lm.  I don't yet fully understand how the environments
work,
> and I'm afraid
> > that only a little knowledge is dangerous!  Can anyone explain the
> difference between
> > lm and ppr in this context?
>
> There's a bug in ppr.formula:
>
>     m <- eval(m, sys.parent())
>
> should be (in R)
>
>     m <- eval(m, parent.frame())
>
> I think that will fix it, but please confirm.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>
>
>
>

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at stat.umn.edu  Wed Mar 21 16:44:06 2001
From: luke at stat.umn.edu (Luke Tierney)
Date: Wed, 21 Mar 2001 09:44:06 -0600 (CST)
Subject: [R] gc() shrinks with multiple iterations
In-Reply-To: <Pine.LNX.4.21.0103122137410.11255-100000@nujoma.perrins> from Andrew
 Perrin at "Mar 12, 2001 09:39:10 pm"
Message-ID: <200103211544.f2LFi6602368@muskrat.stat.umn.edu>

Andrew Perrin wrote:
> Is it expected behavior for gc() to return shrinking values as it gets
> called multiple times? Here's what I've got:
> 
> > gc()
>           used (Mb) gc trigger  (Mb)
> Ncells  221754  6.0     467875  12.5
> Vcells 3760209 28.7   14880310 113.6
> > gc()
>           used (Mb) gc trigger (Mb)
> Ncells  221760  6.0     467875 12.5
> Vcells 3016206 23.1   11904247 90.9
> > gc()
>           used (Mb) gc trigger (Mb)
> Ncells  221760  6.0     467875 12.5
> Vcells 2420993 18.5    9523397 72.7
> > gc()

For the trigger column yes, but not for the used Vcells value--the
value was being calculated incorrectly; this sould be fixed in the
next release.  Thanks for pointing this out.

luke 
-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hlai at whsun1.wh.whoi.edu  Wed Mar 21 20:48:29 2001
From: hlai at whsun1.wh.whoi.edu (Han Lai)
Date: Wed, 21 Mar 2001 11:48:29 -0800
Subject: [R] Is there any help for "Cannot allocate vector size of xxxKB"
Message-ID: <3AB9058D.E26A17F6@whsun1.wh.whoi.edu>

Hi,

As I run R long enough, for example if I keep running different glm()
models and each model has 500 bootsraps, I alway get the error message
on "cannot allocat vector size of xxxKB".  I have 64MB of RAM and run
Windows98.  Is there any hope to fix it other than cut my bootstrap
short.

Thanks
Han

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From saikat at stat.wisc.edu  Wed Mar 21 18:14:53 2001
From: saikat at stat.wisc.edu (Saikat DebRoy)
Date: 21 Mar 2001 11:14:53 -0600
Subject: [R] Is there any help for "Cannot allocate vector size of xxxKB"
In-Reply-To: <3AB9058D.E26A17F6@whsun1.wh.whoi.edu>
References: <3AB9058D.E26A17F6@whsun1.wh.whoi.edu>
Message-ID: <qxpd7bbniwi.fsf@verdi.stat.wisc.edu>

>>>>> "Han" == Han Lai <hlai at whsun1.wh.whoi.edu> writes:

  Han> Hi, As I run R long enough, for example if I keep running
  Han> different glm() models and each model has 500 bootsraps, I
  Han> alway get the error message on "cannot allocat vector size of
  Han> xxxKB".  I have 64MB of RAM and run Windows98.  Is there any
  Han> hope to fix it other than cut my bootstrap short.

That error message means R can not allocate more memory. So unless you
add more memory to your system there is no other way.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yuling5 at yahoo.com  Wed Mar 21 19:10:48 2001
From: yuling5 at yahoo.com (Yu-Ling Wu)
Date: Wed, 21 Mar 2001 10:10:48 -0800 (PST)
Subject: [R] convert date/time to numeric 
Message-ID: <20010321181048.56774.qmail@web11501.mail.yahoo.com>

Hi,

I convert a numeric value to date/time format and do
some operations on it. How to convert it back to a
numeric value?

Thanks,
Yu-Ling Wu

==================================================
begin <- 200103131030     
EndTime <- strptime(paste(begin), format="%Y%m%d%H%M")
+ 60 
end <- ???? 

(I want end=200103131031 instead of "2001-03-13
10:31:00")
==================================================



__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Wed Mar 21 19:21:09 2001
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Wed, 21 Mar 2001 13:21:09 -0500
Subject: [R] Is there any help for "Cannot allocate vector size of xxx	KB"
Message-ID: <7FE8E243B4BCD411A69E00508B5C7C1B01FED78D@uswpmx13.merck.com>

Forgive me if this isn't relevant, but: are you stripping off the output you
need (e.g., parameter estimates) and throwing away what you don't (e.g.,
residuals)? 

Reid Huntsinger

-----Original Message-----
From: Saikat DebRoy [mailto:saikat at stat.wisc.edu]
Sent: Wednesday, March 21, 2001 12:15 PM
To: Han Lai
Cc: R-help
Subject: Re: [R] Is there any help for "Cannot allocate vector size of
xxxKB"


>>>>> "Han" == Han Lai <hlai at whsun1.wh.whoi.edu> writes:

  Han> Hi, As I run R long enough, for example if I keep running
  Han> different glm() models and each model has 500 bootsraps, I
  Han> alway get the error message on "cannot allocat vector size of
  Han> xxxKB".  I have 64MB of RAM and run Windows98.  Is there any
  Han> hope to fix it other than cut my bootstrap short.

That error message means R can not allocate more memory. So unless you
add more memory to your system there is no other way.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Wed Mar 21 19:23:21 2001
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Wed, 21 Mar 2001 13:23:21 -0500
Subject: [R] Is there any help for "Cannot allocate vector size of xxx	KB"
Message-ID: <7FE8E243B4BCD411A69E00508B5C7C1B01FED78E@uswpmx13.merck.com>

Forgive me if this isn't relevant, but: are you stripping off the output you
need (e.g., parameter estimates) and throwing away what you don't (e.g.,
residuals)? 

Reid Huntsinger

-----Original Message-----
From: Saikat DebRoy [mailto:saikat at stat.wisc.edu]
Sent: Wednesday, March 21, 2001 12:15 PM
To: Han Lai
Cc: R-help
Subject: Re: [R] Is there any help for "Cannot allocate vector size of
xxxKB"


>>>>> "Han" == Han Lai <hlai at whsun1.wh.whoi.edu> writes:

  Han> Hi, As I run R long enough, for example if I keep running
  Han> different glm() models and each model has 500 bootsraps, I
  Han> alway get the error message on "cannot allocat vector size of
  Han> xxxKB".  I have 64MB of RAM and run Windows98.  Is there any
  Han> hope to fix it other than cut my bootstrap short.

That error message means R can not allocate more memory. So unless you
add more memory to your system there is no other way.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 21 19:38:42 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 21 Mar 2001 18:38:42 +0000 (GMT Standard Time)
Subject: [R] convert date/time to numeric 
In-Reply-To: <20010321181048.56774.qmail@web11501.mail.yahoo.com>
Message-ID: <Pine.WNT.4.31.0103211833370.240-100000@tern.stats>

On Wed, 21 Mar 2001, Yu-Ling Wu wrote:

> I convert a numeric value to date/time format and do
> some operations on it. How to convert it back to a
> numeric value?

That's not numeric, that is character when you convert it.  Use the help
system to find how: it's on the same help page as strptime!

> begin <- 200103131030
> EndTime <- strptime(paste(begin), format="%Y%m%d%H%M")
> + 60
> end <- ????
>
> (I want end=200103131031 instead of "2001-03-13
> 10:31:00")

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ml-r-help at epigenomics.com  Wed Mar 21 20:04:36 2001
From: ml-r-help at epigenomics.com (Fabian Model)
Date: Wed, 21 Mar 2001 20:04:36 +0100
Subject: [R] Force R to process all pending x11 events?
Message-ID: <3AB8FB44.C5D476D6@epigenomics.de>

Dear R users,

i've written an interactive R programm that uses the tcl package for
user interaction and the usual R windows for graphical output.
Unfortunately these windows can not be resized as long as R is running
or the tcl event loop runs.

Is there a way to force R to process the X11 event loop ?

My event loop could then look like this:

while(!stop) {
  .Tcl("set EventTimer 0")
  .Tcl("after 20 {set EventTimer 1}")
  .Tcl("vwait EventTimer")          # process tcl events
  PROCESS.ALL.PENDING.X11.EVENTS()  # process x11 events ???
}

Is there something like the PROCESS.ALL.PENDING.X11.EVENTS() function?


Ciao
  Fabian

-- 
Fabian Model
Epigenomics AG, Data Mining R&D
mailto:Fabian.Model at epigenomics.com     http://www.epigenomics.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rod.chav at hsoft.es  Wed Mar 21 21:59:02 2001
From: rod.chav at hsoft.es (Antonio =?iso-8859-1?Q?Rodr=EDguez?= Verdugo)
Date: Wed, 21 Mar 2001 21:59:02 +0100
Subject: [R] memory allocation error
Message-ID: <3.0.6.32.20010321215902.007ac430@pop.hsoft.es>

Hi,

I have recently installed R-1.2.2 for windows (16MB RAM, P-166) and I
getting the following message after processing my data (6 variables and
1200 observations):

>Error: cannot allocate vector of size 4 Kb
>In addition: Warning message: 
>Reached total allocation of 15Mb: see help(memory.size) 

Then, the program close.

With the last version, 1.1.1 (I think) I didn't have this kind of problem.


 I've tried to increase memory through:

rgui.exe --vsize 16M --nsize 1000k

but nothing

Thanks in advance,

Antonio
Antonio Rodr?guez Verdugo
Huelva, Spain
rod.chav at hsoft.es
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Thu Mar 22 01:07:32 2001
From: znmeb at aracnet.com (M. Edward (Ed) Borasky)
Date: Wed, 21 Mar 2001 16:07:32 -0800 (PST)
Subject: [R] memory allocation error
In-Reply-To: <3.0.6.32.20010321215902.007ac430@pop.hsoft.es>
Message-ID: <Pine.LNX.4.31.0103211552450.25377-100000@shell1.aracnet.com>

On Wed, 21 Mar 2001, Antonio [iso-8859-1] Rodríguez Verdugo wrote:

> Hi,
>
> I have recently installed R-1.2.2 for windows (16MB RAM, P-166) and I
> getting the following message after processing my data (6 variables and
> 1200 observations):
>
> >Error: cannot allocate vector of size 4 Kb
> >In addition: Warning message:
> >Reached total allocation of 15Mb: see help(memory.size)
>
> Then, the program close.
>
> With the last version, 1.1.1 (I think) I didn't have this kind of problem.
>
>
>  I've tried to increase memory through:
>
> rgui.exe --vsize 16M --nsize 1000k
>
> but nothing
>
> Thanks in advance,
>
> Antonio
> Antonio Rodríguez Verdugo
> Huelva, Spain
> rod.chav at hsoft.es

I was *just* going to post this same thing myself! My environment is a 400
MHz P III running Windows 2000 Professional, and I get the error at 127 MB on
my 128 MB machine :-). And I get the same thing on my 192 MB machine at home.
I am doing a "read.csv" on a 15 MB "CSV" file. What's even more interesting is
that this consumes so much memory that "q()" stops working!! I have to kill it
with the Task Manager. I haven't checked to see how big my pagefile is yet,
but it's obviously checking how much RAM is installed and hitting some kind of
wall there. I have some bigger Linux boxes available that I can try this
one on, so I may be able to get it to completion without waiting for the
latest R or trimming my data set. I can't do much about the rows, but it's
easy for me to drop unneeded columns; the raw data is coming from Microsoft
Access.
---------------------------------------------------------------------------
R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

[Previously saved workspace restored]

> ls()
 [1] "b"            "l"            "last.warning" "monsample"    "p3.500"
 [6] "p4.500"       "p4.667"       "reg"          "regP0"        "regP1"
[11] "regP2"        "regP3"
> xxxxxx.p4.500.raw<-read.csv("xxxxxx.csv")
> yyyyyy.p2.667.raw<-read.csv("yyyyyy.csv")
Error: vector memory exhausted (limit reached?)
In addition: Warning message:
Reached total allocation of 127Mb: see help(memory.size)
Lost warning messages
> q()
Error: vector memory exhausted (limit reached?)
In addition: Warning message:
Reached total allocation of 127Mb: see help(memory.size)
Lost warning messages
>
---------------------------------------------------------------------------
znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb

"I'm not a saxophone, but I play one on TV!" -- Bill Clinton

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From henrikb at braju.com  Thu Mar 22 05:10:05 2001
From: henrikb at braju.com (Henrik Bengtsson)
Date: Wed, 21 Mar 2001 20:10:05 -0800
Subject: [R] Call by reference: Was: Object orientation?
Message-ID: <KKEGJOGBELBHDIKPINBMEEGKCDAA.henrikb@braju.com>

To reply to Yves Gauvreau question (Jan 24, 2001) about how to set values
within function, it is possible to do without without using the "<<-"
assignment operator or other nasty tricks. I had the same problem and I did
a nasty workaround two weeks ago implementing the functionality of reference
variables, but today I "ran into" the [R] help page for ".Alias". With
.Alias one can immitate call by reference! Here is an example that shows how
it works:

Foo <- function(value=0) {
  this <- list(
    value = value
  )
  class(this) <- "Foo";
  return(this);
}

set <- function(object, value) {
  this <- .Alias(object);
  this$value <- value;
  return (invisible());
}

get <- function(object) {
  return (object$value);
}

a <- Foo();
b <- Foo(10);

cat("a =", get(a), "\n");  # a = 0
cat("b =", get(b), "\n");  # b = 10

set(a, 10);
set(b, 20);

cat("a =", get(a), "\n");  # a = 10
cat("b =", get(b), "\n");  # b = 20

Have a nice day

Henrik Bengtsson

PhD Student in Statistics
Lund University & UC Berkeley
henrikb at braju.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From robut at forest.go.th  Thu Mar 22 06:19:06 2001
From: robut at forest.go.th (Robert Cunningham)
Date: Thu, 22 Mar 2001 12:19:06 +0700
Subject: [R] Use of abbreviations
Message-ID: <DCE3ECA6ACF6D411B481006008064FB8066618@dc-server.forest.go.th>

Hi there,

Here is my situation:
> User
NEWBIE!!!!!

> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    2.2            
year     2001           
month    02             
day      26             
language R             

I wonder why.

Given this data set
> names(ants)
[1] "id"   "run"  "trap" "spp"  "no"  

I can use 'n' as an abbreviation for 'no'

> sum(ants$n)
[1] 18087

but below I cannot

> attach(ants)
> sum(n)
Error in sum(n) : Object "n" not found
> sum($n)
Error: syntax error


Am I missing something from the manual?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar 22 07:37:57 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 22 Mar 2001 06:37:57 +0000 (GMT)
Subject: [R] memory allocation error
In-Reply-To: <3.0.6.32.20010321215902.007ac430@pop.hsoft.es>
Message-ID: <Pine.GSO.4.31.0103220635410.29019-100000@auk.stats>

On Wed, 21 Mar 2001, Antonio [iso-8859-1] Rodríguez Verdugo wrote:

> Hi,
>
> I have recently installed R-1.2.2 for windows (16MB RAM, P-166) and I
> getting the following message after processing my data (6 variables and
> 1200 observations):
>
> >Error: cannot allocate vector of size 4 Kb
> >In addition: Warning message:
> >Reached total allocation of 15Mb: see help(memory.size)
>
> Then, the program close.
>
> With the last version, 1.1.1 (I think) I didn't have this kind of problem.
>
>
>  I've tried to increase memory through:
>
> rgui.exe --vsize 16M --nsize 1000k
>
> but nothing

Try reading the rw-FAQ and/or the actual help file the message mentions!
It says nothing about those flags.

Hint: when you are asked to consult a help file, the information is there
Hint hint: the flag is called --max-mem-size

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar 22 08:02:15 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 22 Mar 2001 07:02:15 +0000 (GMT)
Subject: [R] Use of abbreviations
In-Reply-To: <DCE3ECA6ACF6D411B481006008064FB8066618@dc-server.forest.go.th>
Message-ID: <Pine.GSO.4.31.0103220656480.29019-100000@auk.stats>

On Thu, 22 Mar 2001, Robert Cunningham wrote:

> Hi there,
>
> Here is my situation:
> > User
> NEWBIE!!!!!
>
> > version
>          _
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    2.2
> year     2001
> month    02
> day      26
> language R
>
> I wonder why.
>
> Given this data set
> > names(ants)
> [1] "id"   "run"  "trap" "spp"  "no"
>
> I can use 'n' as an abbreviation for 'no'

[I suggest that you resist this...see below.]

>
> > sum(ants$n)
> [1] 18087
>
> but below I cannot
>
> > attach(ants)
> > sum(n)
> Error in sum(n) : Object "n" not found
> > sum($n)
> Error: syntax error
>
>
> Am I missing something from the manual?

Names of components are partially matched when accessed by $, or [[ ]].
After attaching a list, the general search mechanism is used, and symbols
are not partially matched.

Beware that using partial matching is regrarded as bad practice, as
changing the list (e.g. adding to it) can break code which relies on this.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From news_vkhamenya at chat.ru  Thu Mar 22 09:30:06 2001
From: news_vkhamenya at chat.ru (news_vkhamenya@chat.ru)
Date: Thu, 22 Mar 2001 11:30:06 +0300
Subject: [R] out of memory?
Message-ID: <58957652691.20010322113006@chat.ru>

Hello r-help,

why call:

#----------
outer(1:1000, 1:2, function(r,c) ifelse(m[r,c]<=0,.0001,m[r,c]) )
#----------

for matrix m with only 1000 rows and 2 columns forces my PC to use
more than 250Mb(!) of virtual memory?  strange...

-- 
Best regards,
Valery A.Khamenya                     mailto:news_vkhamenya at chat.ru


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar 22 09:49:55 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 22 Mar 2001 08:49:55 +0000 (GMT)
Subject: [R] out of memory?
In-Reply-To: <58957652691.20010322113006@chat.ru>
Message-ID: <Pine.GSO.4.31.0103220845550.5675-100000@auk.stats>

On Thu, 22 Mar 2001 news_vkhamenya at chat.ru wrote:

> Hello r-help,
>
> why call:
>
> #----------
> outer(1:1000, 1:2, function(r,c) ifelse(m[r,c]<=0,.0001,m[r,c]) )
> #----------
>
> for matrix m with only 1000 rows and 2 columns forces my PC to use
> more than 250Mb(!) of virtual memory?  strange...

Um, a strange use of outer. Try

m[m <= 0] <- 0.0001

for an efficient solution.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Mar 22 09:48:17 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 22 Mar 2001 09:48:17 +0100
Subject: [R] Chernoff faces
In-Reply-To: <3AB8C87F.3D213AA4@perseus.unalmed.edu.co>
References: <3AB8C87F.3D213AA4@perseus.unalmed.edu.co>
Message-ID: <15033.48209.773510.898372@gargle.gargle.HOWL>

>>>>> "Kenneth" == Kenneth Cabrera <krcabrer at perseus.unalmed.edu.co> writes:

    Kenneth> Hello everybody: Does any one has a function to build Chernoff
    Kenneth> faces?

Many of us don't think it's worth them.
But we know that opinions differ and gladly incorporate
(good quality) submissions of source code.

R *is* an open source project and to some extent a community effort.  
Please don't hesitate to contribute and enter the hall of fame of R
contributors :-) 

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Mar 22 09:56:35 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Mar 2001 09:56:35 +0100
Subject: [R] Call by reference: Was: Object orientation?
In-Reply-To: "Henrik Bengtsson"'s message of "Wed, 21 Mar 2001 20:10:05 -0800"
References: <KKEGJOGBELBHDIKPINBMEEGKCDAA.henrikb@braju.com>
Message-ID: <x2r8zqchbw.fsf@blueberry.kubism.ku.dk>

"Henrik Bengtsson" <henrikb at braju.com> writes:

> To reply to Yves Gauvreau question (Jan 24, 2001) about how to set values
> within function, it is possible to do without without using the "<<-"
> assignment operator or other nasty tricks. I had the same problem and I did
> a nasty workaround two weeks ago implementing the functionality of reference
> variables, but today I "ran into" the [R] help page for ".Alias". With
> .Alias one can immitate call by reference! Here is an example that shows how
> it works:
.....
> set <- function(object, value) {
>   this <- .Alias(object);
>   this$value <- value;
>   return (invisible());
> }

It may work, but I wouldn't think it is documented to do so and could
easily get blown away by an internal change (and *I'm* not going to put
checks in to ensure that it keeps working)! 

If you really must do this kind of thing, try coding along the lines
of

set<-function(object,value)
	eval.parent(substitute(object$value<-value))

Or use assign(), or even "<<-", at least that is well-defined. It can't
get nastier than .Alias.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Mar 22 10:16:41 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Mar 2001 10:16:41 +0100
Subject: [R] memory allocation error
In-Reply-To: "M. Edward's message of "Wed, 21 Mar 2001 16:07:32 -0800 (PST)"
References: <Pine.LNX.4.31.0103211552450.25377-100000@shell1.aracnet.com>
Message-ID: <x2ofuucgee.fsf@blueberry.kubism.ku.dk>

"M. Edward (Ed) Borasky" <znmeb at aracnet.com> writes:

> I was *just* going to post this same thing myself! My environment is a 400
> MHz P III running Windows 2000 Professional, and I get the error at 127 MB on
> my 128 MB machine :-). And I get the same thing on my 192 MB machine at home.
> I am doing a "read.csv" on a 15 MB "CSV" file. What's even more interesting is
> that this consumes so much memory that "q()" stops working!! I have to kill it
> with the Task Manager. I haven't checked to see how big my pagefile is yet,
> but it's obviously checking how much RAM is installed and hitting some kind of
> wall there. I have some bigger Linux boxes available that I can try this
> one on, so I may be able to get it to completion without waiting for the
> latest R or trimming my data set. I can't do much about the rows, but it's
> easy for me to drop unneeded columns; the raw data is coming from Microsoft
> Access.

(See Brian's post on the memory options)

R does have a rather bad habit of expanding data when they are loaded
into memory by storing into 8 byte doubles etc. Some even worse
inflation takes place during read.table (et al.) processing. In your
case, you seem to be able to read one file but not the second so you
might hope that both would actually fit when converted and try
something like

x<-read.csv(...)
save(x,file="filex")
rm(x)
y<-read.csv(...)
save(y,file="filey")
rm(y)
...

load("filex")
load("filey")

A more interesting option is to set up an ODBC connection to the
Access database and use the RODBC package, which should allow you to
select on columns, etc. You can even do that to your CSV file
(slightly tricky, I have only tried it once and it took a while to
figure out that you need to set up the ODBC connection to be to the
*directory* containing the text file(s)).

[Anyone for implementing a columns= option for scan() and read.xxx() ??]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.C.Rougier at durham.ac.uk  Thu Mar 22 11:09:11 2001
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Thu, 22 Mar 2001 10:09:11 +0000 (GMT)
Subject: [R] Call by reference: Was: Object orientation?
In-Reply-To: <x2r8zqchbw.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.20.0103220951160.13680-100000@laplace>

On 22 Mar 2001, Peter Dalgaard BSA wrote:

> "Henrik Bengtsson" <henrikb at braju.com> writes:
> 
> > To reply to Yves Gauvreau question (Jan 24, 2001) about how to set values
> > within function, it is possible to do without without using the "<<-"
> > assignment operator or other nasty tricks. I had the same problem and I did
> > a nasty workaround two weeks ago implementing the functionality of reference
> > variables, but today I "ran into" the [R] help page for ".Alias". With
> > .Alias one can immitate call by reference! Here is an example that shows how
> > it works:
> .....
> > set <- function(object, value) {
> >   this <- .Alias(object);
> >   this$value <- value;
> >   return (invisible());
> > }
> 
> It may work, but I wouldn't think it is documented to do so and could
> easily get blown away by an internal change (and *I'm* not going to put
> checks in to ensure that it keeps working)! 
> 
> If you really must do this kind of thing, try coding along the lines
> of
> 
> set<-function(object,value)
> 	eval.parent(substitute(object$value<-value))
> 
> Or use assign(), or even "<<-", at least that is well-defined. It can't
> get nastier than .Alias.

That's right!  You may want to consider using environments.  For example:

do.something.to.foo <- function(fooEnv, value)
{
  assign("value", value, envir=fooEnv)
  invisible(NULL)
}

foo <- new.env()
do.something.to.foo(foo, 1:10)
ls(envir=foo)
get("value", envir=foo)

If you want to write methods for foo you need to class it.  This is
quite possible if foo is an environment, ie

class(foo) <- "fooObj"

but after conversation with Luke Tierney in Vienna, in which he suggested
that simply classing an environment might be tricky (it might become
unclassed) he suggests that it might be better to wrap the environment
inside a list

fooList <- list(foo)
class(fooList) <- "fooObj"

and rewrite do.something.to.foo as

do.something.to.foo <- function(fooList, value)
{                                                                               
  assign("value", value, envir=fooList[[1]])
  invisible(NULL)                                                               
}                                                                               

Now you have

do.something.to.foo(fooList, 1:10)
get("value", envir=fooList[[1]])

and you can write a print method for the foo object as follows

print.fooObj <- function(fooList, ...)
{
  cat(paste("value: ", 
            paste(get("value", envir=fooList[[1]]), collapse=", "),
            "\n"
      )
  )
}

print(fooList)

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From news_vkhamenya at chat.ru  Thu Mar 22 11:24:53 2001
From: news_vkhamenya at chat.ru (news_vkhamenya@chat.ru)
Date: Thu, 22 Mar 2001 13:24:53 +0300
Subject: [R] out of memory?
In-Reply-To: <Pine.GSO.4.31.0103220845550.5675-100000@auk.stats>
References: <Pine.GSO.4.31.0103220845550.5675-100000@auk.stats>
Message-ID: <146964539764.20010322132453@chat.ru>

Hello Brian D. Ripley and r-help,

Thursday, March 22, 2001, 11:49:55 AM, you wrote:

PBDR> Um, a strange use of outer. Try

PBDR> m[m <= 0] <- 0.0001

PBDR> for an efficient solution.

thank you for a good solution, it helps. but what if I need
#--------
outer(1:1000, 1:2, function(r,c) ifelse(m[r,c]<=0, some_f(m[r,c]), m[r,c]) )
#-------
?

P.S. however, "out of virtual memory" stil there... and is not
     motivated yet. Maybe it is some kind of bug
-- 
Best regards,
Valery A.Khamenya                            mailto:news_vkhamenya at chat.ru


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fzoellne at TechFak.Uni-Bielefeld.DE  Thu Mar 22 11:40:44 2001
From: fzoellne at TechFak.Uni-Bielefeld.DE (Frank Gerrit Zoellner)
Date: Thu, 22 Mar 2001 11:40:44 +0100
Subject: [R] Z Test
Message-ID: <20010322114043.A29045@korngold.TechFak.Uni-Bielefeld.DE>

Hi!

Does anyone know whether a z-test is implemented in R?

Thanks
-- 
Frank Gerrit Zoellner


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar 22 12:20:35 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 22 Mar 2001 11:20:35 +0000 (GMT)
Subject: [R] out of memory?
Message-ID: <200103221120.LAA09737@toucan.stats.ox.ac.uk>


> From: news_vkhamenya at chat.ru
> Date: Thu, 22 Mar 2001 13:24:53 +0300
> 
> Hello Brian D. Ripley and r-help,
> 
> Thursday, March 22, 2001, 11:49:55 AM, you wrote:
> 
> PBDR> Um, a strange use of outer. Try
> 
> PBDR> m[m <= 0] <- 0.0001
> 
> PBDR> for an efficient solution.
> 
> thank you for a good solution, it helps. but what if I need
> #--------
> outer(1:1000, 1:2, function(r,c) ifelse(m[r,c]<=0, some_f(m[r,c]), m[r,c]) )
> #-------
> ?
> 
> P.S. however, "out of virtual memory" stil there... and is not
>      motivated yet. Maybe it is some kind of bug

No, it is a misuse of R. You do need to learn how to use indexing ....
If you ask for thousands of copies of objects, you get them.

Please do read the section on BUGS in the FAQ.   Not doing what you
expect is not a bug .....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Mar 22 11:42:47 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 22 Mar 2001 10:42:47 +0000
Subject: [R] Is there any help for "Cannot allocate vector size of xxxKB"
In-Reply-To: <3AB9058D.E26A17F6@whsun1.wh.whoi.edu>
References: <3AB9058D.E26A17F6@whsun1.wh.whoi.edu>
Message-ID: <yxy00SAncdu6Ew0A@myatt.demon.co.uk>

Han Lai <hlai at whsun1.wh.whoi.edu> writes:
>Hi,
>
>As I run R long enough, for example if I keep running different glm()
>models and each model has 500 bootsraps, I alway get the error message
>on "cannot allocat vector size of xxxKB".  I have 64MB of RAM and run
>Windows98.  Is there any hope to fix it other than cut my bootstrap
>short.


It would help to know when the error occurs ... I guess somewhere in
that 500 bootstaps ... I suppose that you are saving some of the output
of glm() between samples. Perhaps you are saving a whole glm() object
each time. glm() objects which can be very big. You might have better
luck if you extract and save only the information you want.

An alternative would be to save output incrementally to a file and rm()
temporary objects between fits.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Mar 22 12:38:48 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Mar 2001 12:38:48 +0100
Subject: [R] out of memory?
In-Reply-To: news_vkhamenya@chat.ru's message of "Thu, 22 Mar 2001 13:24:53 +0300"
References: <Pine.GSO.4.31.0103220845550.5675-100000@auk.stats> <146964539764.20010322132453@chat.ru>
Message-ID: <x2snk6dodz.fsf@blueberry.kubism.ku.dk>

news_vkhamenya at chat.ru writes:

> PBDR> Um, a strange use of outer. Try
> PBDR> m[m <= 0] <- 0.0001
> PBDR> for an efficient solution.
> 
> thank you for a good solution, it helps. but what if I need
> #--------
> outer(1:1000, 1:2, function(r,c) ifelse(m[r,c]<=0, some_f(m[r,c]), m[r,c]) )
> #-------
> ?

m[m <= 0] <- some_f(m[m <= 0])

*provided* that some_f vectorizes properly. You may need

m[m <= 0] <- sapply(m[m <= 0], some_f)

> P.S. however, "out of virtual memory" stil there... and is not
>      motivated yet. Maybe it is some kind of bug

Experiment with a smaller matrix, and you'll see the error of your ways:

> m<-matrix(1:10,5,2)
> outer(1:5,1:2,function(r,c){print(m[r,c]);m[r,c]})
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]    1    1    1    1    1    6    6    6    6     6
 [2,]    2    2    2    2    2    7    7    7    7     7
 [3,]    3    3    3    3    3    8    8    8    8     8
 [4,]    4    4    4    4    4    9    9    9    9     9
 [5,]    5    5    5    5    5   10   10   10   10    10
 [6,]    1    1    1    1    1    6    6    6    6     6
 [7,]    2    2    2    2    2    7    7    7    7     7
 [8,]    3    3    3    3    3    8    8    8    8     8
 [9,]    4    4    4    4    4    9    9    9    9     9
[10,]    5    5    5    5    5   10   10   10   10    10
     [,1] [,2]
[1,]    1    1
[2,]    2    2
[3,]    3    3
[4,]    4    4
[5,]    5    5

(If there is a bug, it is in array() not complaining when its data=
argument is getting truncated).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Mar 22 12:42:02 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Mar 2001 12:42:02 +0100
Subject: [R] Z Test
In-Reply-To: Frank Gerrit Zoellner's message of "Thu, 22 Mar 2001 11:40:44 +0100"
References: <20010322114043.A29045@korngold.TechFak.Uni-Bielefeld.DE>
Message-ID: <x2pufado8l.fsf@blueberry.kubism.ku.dk>

Frank Gerrit Zoellner <fzoellne at TechFak.Uni-Bielefeld.DE> writes:

> Hi!
> 
> Does anyone know whether a z-test is implemented in R?

A z-test for what???

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at stat.umn.edu  Thu Mar 22 13:19:26 2001
From: luke at stat.umn.edu (Luke Tierney)
Date: Thu, 22 Mar 2001 06:19:26 -0600 (CST)
Subject: [R] out of memory?
In-Reply-To: <58957652691.20010322113006@chat.ru> from "news_vkhamenya@chat.ru"
 at "Mar 22, 2001 11:30:06 am"
Message-ID: <200103221219.f2MCJQL15109@muskrat.stat.umn.edu>

news_vkhamenya at chat.ru wrote:
> Hello r-help,
> 
> why call:
> 
> #----------
> outer(1:1000, 1:2, function(r,c) ifelse(m[r,c]<=0,.0001,m[r,c]) )
> #----------
> 
> for matrix m with only 1000 rows and 2 columns forces my PC to use
> more than 250Mb(!) of virtual memory?  strange...
> 

I think the source of the confusion here is in how outer uses its FUN
argument, and hence how that function has to be written.  Here is an
example that should show what is happening:

> f<-function(x,y) {
+ cat("x = ", x, "\n")
+ cat("y = ", y, "\n")
+ x+y
+ }
> outer(1:3,1:2,f)
x =  1 2 3 1 2 3 
y =  1 1 1 2 2 2 
     [,1] [,2]
[1,]    2    3
[2,]    3    4
[3,]    4    5
>

[instead of printing, you can also use debug(f) to see what is going on]

There is *one* call to FUN with arguments that are the appropriate
replications of X and Y, not 3*2=6 calls to FUN with scalar arguments.
This is done since one call to a vectorized function will be much
faster than many calls to functions working with scalar values.  The
help for outer hints at this but could be a bit more explicit on this
since it is a natural point of confusion.

As a result, as has been pointed out by others, outer isn't the right tool
for this problem.

Hope that helps.

luke
-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar 22 13:34:58 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 22 Mar 2001 12:34:58 +0000 (GMT)
Subject: [R] Preview of an alternative R for Windows installer
Message-ID: <200103221234.MAA09864@toucan.stats.ox.ac.uk>

I have built a version of the current 1.2.2 patched version of R using
Inno Setup2 (http://www.jrsoftware.org/isinfo.htm).  (That toolkit is
open source (in Delphi) and was fairly easy to tame. Full details are
in the R-patched sources.) This gives a single ~10Mb file, at

http://www.stats.ox.ac.uk/pub/bdr/RWin/SetupR.exe

The idea is that it should look very like a Windows 2000-style install,
and so be intuitive to Windows users.  It comes with an uninstaller, too.
On NT/2000 should install for all users from an administrator account,
for the current user otherwise.

This was built from my everyday-use version of R so should be a better
version than rw1022 for routine use.  However, this is not an official 
release!

I would appreciate feedback on this: in particular 

   if people like it,
   
   if `c:/Program Files/R/rw1023' is a good default install folder,
   
   if there is still a need for floppy-sized installs (which Inno Setup
   can generate).

Direct feedback to me only, please.

If the reaction is positive, my intentions are to make both forms of
installation available for 1.2.3, and then only this form from 1.3.0.

Winhlp files are deliberately missing: if anyone objects to dropping those
for 1.3.0 please let me know.

B

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jajosmu at ine.es  Thu Mar 22 13:35:32 2001
From: jajosmu at ine.es (Javier =?iso-8859-1?Q?Mu=F1oz?= Criado)
Date: Thu, 22 Mar 2001 13:35:32 +0100
Subject: [R] out of memory?
In-Reply-To: <Pine.GSO.4.31.0103220845550.5675-100000@auk.stats>
References: <58957652691.20010322113006@chat.ru>
Message-ID: <3.0.3.32.20010322133532.007d5890@albacete>

At 08:49 22/03/01 +0000, Prof Brian D Ripley wrote:
>On Thu, 22 Mar 2001 news_vkhamenya at chat.ru wrote:
>
>> Hello r-help,
>>
>> why call:
>>
>> #----------
>> outer(1:1000, 1:2, function(r,c) ifelse(m[r,c]<=0,.0001,m[r,c]) )
>> #----------
>>
>> for matrix m with only 1000 rows and 2 columns forces my PC to use
>> more than 250Mb(!) of virtual memory?  strange...
>
>Um, a strange use of outer. Try
>
>m[m <= 0] <- 0.0001
>
>for an efficient solution.
>
>-- 
I have also had problems with outer:

> m<-matrix(rnorm(6),3,2);m
           [,1]      [,2]
[1,] -0.4678067 0.6257795
[2,]  1.3981146 0.6273542
[3,] -0.3987765 1.6764002
> outer(1:3,1:2,function(r,c){paste(r,c)})
     [,1]  [,2] 
[1,] "1 1" "1 2"
[2,] "2 1" "2 2"
[3,] "3 1" "3 2"
> outer(1:3,1:2,function(r,c){m[r,c]})
           [,1]       [,2]
[1,] -0.4678067 -0.4678067
[2,]  1.3981146  1.3981146
[3,] -0.3987765 -0.3987765

I should get m here, but I get first column twice.

(R 1.2.2, w95)



---------------------------------------------------
Javier Mu?oz Criado                         
Delegado Provincial                          
Instituto Nacional de Estad?stica
C/ Cura 7 - 02071 Albacete - Espa?a
Tel 967 219 230 - Fax 967 216 649
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From news_vkhamenya at chat.ru  Thu Mar 22 14:00:53 2001
From: news_vkhamenya at chat.ru (Valery A.Khamenya)
Date: Thu, 22 Mar 2001 16:00:53 +0300
Subject: [R] out of memory?
In-Reply-To: <x2snk6dodz.fsf@blueberry.kubism.ku.dk>
References: <Pine.GSO.4.31.0103220845550.5675-100000@auk.stats>
 <146964539764.20010322132453@chat.ru> <x2snk6dodz.fsf@blueberry.kubism.ku.dk>
Message-ID: <0973899603.20010322160053@chat.ru>

Hello Peter,

Thursday, March 22, 2001, 2:38:48 PM, you wrote:


PDB> (If there is a bug, it is in array() not complaining when its data=
PDB> argument is getting truncated).

did you refered to following bug:

#-----------------
> "+"(1:3,10:11)
[1] 11 13 13
Warning message: 
longer object length
        is not a multiple of shorter object length in: 1:3 + 10:11 
> log(1:3,10:11)
[1] 0.0000000 0.2890648 0.4771213
> 
#-----------------

which plays its role in

#...
robj <- array(FUN(X, Y, ...), c(dX, dY))
#...

of outer source?

-- 
Best regards,
Valery A.Khamenya                           mailto:news_vkhamenya at chat.ru


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Mar 22 14:20:20 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Mar 2001 14:20:20 +0100
Subject: [R] out of memory?
In-Reply-To: "Valery A.Khamenya"'s message of "Thu, 22 Mar 2001 16:00:53 +0300"
References: <Pine.GSO.4.31.0103220845550.5675-100000@auk.stats> <146964539764.20010322132453@chat.ru> <x2snk6dodz.fsf@blueberry.kubism.ku.dk> <0973899603.20010322160053@chat.ru>
Message-ID: <x2itl2djoq.fsf@blueberry.kubism.ku.dk>

"Valery A.Khamenya" <news_vkhamenya at chat.ru> writes:

> Hello Peter,
> 
> Thursday, March 22, 2001, 2:38:48 PM, you wrote:
> 
> 
> PDB> (If there is a bug, it is in array() not complaining when its data=
> PDB> argument is getting truncated).
> 
> did you refered to following bug:
> 
> #-----------------
> > "+"(1:3,10:11)
> [1] 11 13 13
> Warning message: 
> longer object length
>         is not a multiple of shorter object length in: 1:3 + 10:11 
> > log(1:3,10:11)
> [1] 0.0000000 0.2890648 0.4771213
> > 
> #-----------------
> 
> which plays its role in
> 
> #...
> robj <- array(FUN(X, Y, ...), c(dX, dY))
> #...
> 
> of outer source?

No, this one

> array(1:12,c(2,3))
     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6
>

One might have expected a warning that the array isn't big enough to
hold the data, but the behaviour *is* compatible with Splus 3.4....

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hortresearch.co.nz  Thu Mar 22 03:23:55 2001
From: P.Connolly at hortresearch.co.nz (Patrick Connolly)
Date: Thu, 22 Mar 2001 14:23:55 +1200 (NZST)
Subject: [R] More powerful than objects() or ls()
Message-ID: <200103220223.f2M2Nu720838@biomat1.marc.hort.cri.nz>

platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    2.1              
year     2001             
month    01               
day      15               
language R                


For years, I used a function in Splus to give me more information than
just the object names which ls() would do.  Typically, it would give
something like this:

     Object        Mode   Rows Cols Len     Date     
 1 .Last.value  NULL         -    -   0 20 Mar 13:44
 2 last.warning list         -    -  50 16 Mar 13:58
 3 glm.mano     function     -    -   2 16 Mar 13:54
 4 gam.mano     function     -    -   2 16 Mar 13:18
 5 .Random.seed numeric      -    -  12 16 Mar 11:57
 6 Kyph.glm     list         -    -  19 16 Mar 09:42
 7 mano.df      dataframe  240    5   5 15 Mar 11:31
 8 reorg        function     -    -   2 15 Mar 11:31
 9 m793.df      dataframe   15   32  32 15 Mar 10:52
10 .First       function     -    -   1 19 Feb 14:22
11 ps.region    numeric      -    -   4  3 May  1996

There are times when the date is very valuable information,
particularly years later.  I would like to be able to do something
similar in R but of course, the same method won't work because objects
are not stored as separate unix files in a .Data directory.

I had thought of adding a date with attr() and was then going to redo
the function which could use that information in place of the file
information I used in Splus.  Unfortunately, that means the date
attibute is added to everything when displayed which is too cluttered.

Then of course, I'd need to figure an easy (preferably automatic) way
of adding the date to the objects I was interested in.  However, I was
hoping someone might already have a better way of achieving the same
end, and preferably without the unnecessary verbiage mentioned above.

Ideas gratefully accepted.

Thanks

-- 
*************************************************************
Patrick Connolly
HortResearch                        Great minds discuss ideas;
Mt Albert                           Average minds discuss events; 
Auckland                            Small minds discuss people.
New Zealand                                                 .... Anon
Ph: +64-9 815 4200 x 7188
*************************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stecalza at tiscalinet.it  Thu Mar 22 14:36:25 2001
From: stecalza at tiscalinet.it (Stefano)
Date: Thu, 22 Mar 2001 14:36:25 +0100
Subject: [R] two easy questions...
Message-ID: <5.0.2.1.2.20010322141453.009f3340@pop.tiscalinet.it>

Hi all.

1) If I have a dataframe with variable names as follow: PC1 PC2 ... PCn and I want to pass only some of them to a function, e.g.
glm(resp~from PC1 to PC10, PC15, etc.,...)

is there a faster way than simply writing each variable name in the formula?

2) Again, I have a dataframe, say ali.df, with tha following variables: ali1, ali2, ...ali78
I want to sum, for example, ali1+al2+ali7+f rom ali10 to ali20 etc., then from ali4 to ali8, etc. and then put everything in a new dataframe

I'd do somthing like:
 
new.df <- cbind(apply(ali.df[c(1:2,7,10:20)],1,sum), apply(ali.df[4:8],1,sum))   and so on.
Is it the right and only way?


Thanks in advance (and forgive my orrible english...)

Stefano

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From buoy at wp.pl  Thu Mar 22 15:36:10 2001
From: buoy at wp.pl (Michal Bojanowski)
Date: Thu, 22 Mar 2001 15:36:10 +0100
Subject: [R] Two-argument functions in tapply()
Message-ID: <MABBLGKPHGACBIAEKIILGENICAAA.buoy@wp.pl>

Hello to all.

My question is very simple...

Let's say we have a data frame with three variables (columns): X, W and F. X
is a numeric variable (e.g. like income) F is a factor (e.g. with 2 levels)
and W is a case weight (data are from household sample but an individual was
interviewed, weights are functions of number of persons in the house hold).

I wanted to compute a means of X weighted by W within groups defined by F
with the function below:

	wmean <- function(x,w)
		{
		wm <- sum( x*w/sum(w) )
		wm
		}

used within tapply() function, like:

	tapply(x,f,wmean,w=w)

but I received some values with 2 warnings:

	Warning messages:
	1: longer object length
	        is not a multiple of shorter object length in: x * w
	2: longer object length
      	  is not a multiple of shorter object length in: x * w

What is the right way to get the results (how to use 2-argument function in
tapply()), or maybe there is another simple way to do this


ThankYouInAdvance

Michal Bojanowski

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Mar 22 15:42:27 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Mar 2001 15:42:27 +0100
Subject: [R] two easy questions...
In-Reply-To: Stefano's message of "Thu, 22 Mar 2001 14:36:25 +0100"
References: <5.0.2.1.2.20010322141453.009f3340@pop.tiscalinet.it>
Message-ID: <x2d7b9eugc.fsf@blueberry.kubism.ku.dk>

Stefano <stecalza at tiscalinet.it> writes:

> Hi all.
> 
> 1) If I have a dataframe with variable names as follow: PC1 PC2 ... PCn and I want to pass only some of them to a function, e.g.
> glm(resp~from PC1 to PC10, PC15, etc.,...)
> 
> is there a faster way than simply writing each variable name in the formula?

There are some tricks involving the "." term and
subset(...,select=...)

E.g.

data(airquality)
names(airquality)
lm(Ozone~.,data=subset(airquality,select=Ozone:Month))
lm(Ozone~.,data=subset(airquality,select=c(Ozone:Wind,Month)))
lm(Ozone~.-Temp,data=subset(airquality,select=Ozone:Month))


> 2) Again, I have a dataframe, say ali.df, with tha following variables: ali1, ali2, ...ali78
> I want to sum, for example, ali1+al2+ali7+f rom ali10 to ali20 etc., then from ali4 to ali8, etc. and then put everything in a new dataframe
> 
> I'd do somthing like:
>  
> new.df <- cbind(apply(ali.df[c(1:2,7,10:20)],1,sum), apply(ali.df[4:8],1,sum))   and so on.
> Is it the right and only way?

You can't really do all that much better. You could use the subset
mechanism rather than ali.df[c(....)] which isn't shorter, but does
help you to keep track of variable names (which might have more
meaningful names in other cases!). 

You probably want data.frame() rather than cbind() though or new.df is
a matrix, not a data frame....

If it is a sum in each case, you could also try stuff like

as.data.frame(lapply(list(n1=c(1:2,7,10:20), 
                          n2=4:8),
                     function(l) apply(ali.df[l],1,sum) ))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Mar 22 15:52:23 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 22 Mar 2001 08:52:23 -0600
Subject: [R] Two-argument functions in tapply()
In-Reply-To: <MABBLGKPHGACBIAEKIILGENICAAA.buoy@wp.pl>
References: <MABBLGKPHGACBIAEKIILGENICAAA.buoy@wp.pl>
Message-ID: <6rwv9h500o.fsf@franz.stat.wisc.edu>

"Michal Bojanowski" <buoy at wp.pl> writes:

> Hello to all.
> 
> My question is very simple...
> 
> Let's say we have a data frame with three variables (columns): X, W and F. X
> is a numeric variable (e.g. like income) F is a factor (e.g. with 2 levels)
> and W is a case weight (data are from household sample but an individual was
> interviewed, weights are functions of number of persons in the house hold).

> I wanted to compute a means of X weighted by W within groups defined by F
> with the function below:
> 
> 	wmean <- function(x,w)
> 		{
> 		wm <- sum( x*w/sum(w) )
> 		wm
> 		}
> 
> used within tapply() function, like:
> 
> 	tapply(x,f,wmean,w=w)
> 
> but I received some values with 2 warnings:
> 
> 	Warning messages:
> 	1: longer object length
> 	        is not a multiple of shorter object length in: x * w
> 	2: longer object length
>       	  is not a multiple of shorter object length in: x * w
> 
> What is the right way to get the results (how to use 2-argument function in
> tapply()), or maybe there is another simple way to do this

If you start with a data frame you should probably consider using
split to produce a list of subframes then lapply.  For example,
 lapply(split(frm, frm$f), function(fr) wmean(fr$x, fr$w))
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Mar 22 16:04:53 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Mar 2001 16:04:53 +0100
Subject: [R] Two-argument functions in tapply()
In-Reply-To: "Michal Bojanowski"'s message of "Thu, 22 Mar 2001 15:36:10 +0100"
References: <MABBLGKPHGACBIAEKIILGENICAAA.buoy@wp.pl>
Message-ID: <x2ae6detey.fsf@blueberry.kubism.ku.dk>

"Michal Bojanowski" <buoy at wp.pl> writes:

> I wanted to compute a means of X weighted by W within groups defined by F
> with the function below:
> 
> 	wmean <- function(x,w)
> 		{
> 		wm <- sum( x*w/sum(w) )
> 		wm
> 		}

(Now whatever was wrong with weighted.mean()??)

> used within tapply() function, like:
> 
> 	tapply(x,f,wmean,w=w)
> 
> but I received some values with 2 warnings:
> 
> 	Warning messages:
> 	1: longer object length
> 	        is not a multiple of shorter object length in: x * w
> 	2: longer object length
>       	  is not a multiple of shorter object length in: x * w
> 
> What is the right way to get the results (how to use 2-argument function in
> tapply()), or maybe there is another simple way to do this

A couple of ways, none really pretty:

c(by(dataframe,f, function(d) evalq(wmean(x,w), d)))

or equivalently

c(by(dataframe,f, eval, expr=quote(wmean(x,w))))

or more directly

ind<-seq(along=x)
tapply(ind, f, function(i) wmean(x[i],w[i]))

And of course

tapply(x*w, f, sum) / tapply(w, f, sum)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Thu Mar 22 17:46:39 2001
From: znmeb at aracnet.com (M. Edward (Ed) Borasky)
Date: Thu, 22 Mar 2001 08:46:39 -0800 (PST)
Subject: [R] Minor glitch in "sm.regression"
In-Reply-To: <200103220223.f2M2Nu720838@biomat1.marc.hort.cri.nz>
Message-ID: <Pine.LNX.4.31.0103220840010.7285-100000@shell1.aracnet.com>

I have a minor glitch in the "sm" contributed package, routine "sm.regression".
It's supposed to accept the "ylim" option to set the scale of the plot, but
that doesn't appear to be working. I'm using the pre-compiled version for
Windows. I haven't tried any of the other versions. It *does* appear to be
accepting the "col" option; I can plot the smoothed curve in red. It would be
nice if I could get it to take "lwd" as well, and plot the line *after* the
points instead of before. What I am doing now is the "sm.regression", then
re-plotting the points and the smoothed curve to get the picture I want.
--
znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb
http://www.borasky-research.net/

Coming soon to a theatre near you -- the remake of "War With The Newts"!

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Thu Mar 22 17:46:18 2001
From: stuart.leask at nottingham.ac.uk (Dr Stuart Leask)
Date: Thu, 22 Mar 2001 16:46:18 -0000
Subject: [R] 'lag' in R?
References: <200103220223.f2M2Nu720838@biomat1.marc.hort.cri.nz>
Message-ID: <019d01c0b2ef$9e9a15c0$cee1f380@nottingham.ac.uk>

Hi there.
I am converting some Splus syntax - is there an R equivalent for the 'lag'
function, as in:
Xi<-lag(X,i)
= all the members of X are shifted along by i?

Stuart

*************************************************************
Stuart Leask MA MRCPsych
Clinical Lecturer in Psychiatry
Duncan Macmillan House
Porchester Road               "Ask a clock how it works, &
Nottingham                    all it will tell you is the time"
UK   NG3 6AA
Tel: +44-0 115 969 1300 xtn 40784 Fax: 0115 955 5352
*************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rnassar at duke.edu  Thu Mar 22 17:42:36 2001
From: rnassar at duke.edu (Rashid Nassar)
Date: Thu, 22 Mar 2001 11:42:36 -0500 (EST)
Subject: [R] Two-argument functions in tapply()
In-Reply-To: <x2ae6detey.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.SOL.3.91.1010322113643.26568B-100000@godzilla1.acpub.duke.edu>

Just be careful using weighted.means() within tapply(), as the result may
not be what one might expect (I think because of the recycling rule, if I
remember correctly) if one hasn't thought it through. (I should think the
same may apply also to aggregate() ).

Rashid Nassar

On 22 Mar 2001, Peter Dalgaard BSA wrote:

> Date: 22 Mar 2001 16:04:53 +0100
> From: Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>
> To: Michal Bojanowski <buoy at wp.pl>
> Cc: R-project Mailing List <r-help at stat.math.ethz.ch>
> Subject: Re: [R] Two-argument functions in tapply()
> 
> "Michal Bojanowski" <buoy at wp.pl> writes:
> 
> > I wanted to compute a means of X weighted by W within groups defined by F
> > with the function below:
> > 
> > 	wmean <- function(x,w)
> > 		{
> > 		wm <- sum( x*w/sum(w) )
> > 		wm
> > 		}
> 
> (Now whatever was wrong with weighted.mean()??)
> 
> > used within tapply() function, like:
> > 
> > 	tapply(x,f,wmean,w=w)
> > 
> > but I received some values with 2 warnings:
> > 
> > 	Warning messages:
> > 	1: longer object length
> > 	        is not a multiple of shorter object length in: x * w
> > 	2: longer object length
> >       	  is not a multiple of shorter object length in: x * w
> > 
> > What is the right way to get the results (how to use 2-argument function in
> > tapply()), or maybe there is another simple way to do this
> 
> A couple of ways, none really pretty:
> 
> c(by(dataframe,f, function(d) evalq(wmean(x,w), d)))
> 
> or equivalently
> 
> c(by(dataframe,f, eval, expr=quote(wmean(x,w))))
> 
> or more directly
> 
> ind<-seq(along=x)
> tapply(ind, f, function(i) wmean(x[i],w[i]))
> 
> And of course
> 
> tapply(x*w, f, sum) / tapply(w, f, sum)
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Thu Mar 22 17:50:15 2001
From: znmeb at aracnet.com (M. Edward (Ed) Borasky)
Date: Thu, 22 Mar 2001 08:50:15 -0800 (PST)
Subject: [R] memory allocation error
In-Reply-To: <x2ofuucgee.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.31.0103220847260.7285-100000@shell1.aracnet.com>

On 22 Mar 2001, Peter Dalgaard BSA wrote:

> [Anyone for implementing a columns= option for scan() and read.xxx() ??]

Nah ... that would give me an excuse not to learn how to use RODBC :-) I ended
up going back to Access and dropping a bunch of columns from the query before
I exported it to a CSV file. Another excuse not to learn RODBC :-).
--
znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb

Coming soon to a theatre near you -- the remake of "War With The Newts"!

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Mar 22 18:30:17 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 22 Mar 2001 18:30:17 +0100
Subject: [R] 'lag' in R?
References: <200103220223.f2M2Nu720838@biomat1.marc.hort.cri.nz> <019d01c0b2ef$9e9a15c0$cee1f380@nottingham.ac.uk>
Message-ID: <3ABA36A9.428F37F9@statistik.uni-dortmund.de>

Dr Stuart Leask wrote:
> 
> Hi there.
> I am converting some Splus syntax - is there an R equivalent for the 'lag'
> function, as in:
> Xi<-lag(X,i)
> = all the members of X are shifted along by i?

You'll find it in the package "ts":
library(ts)
lag(...)

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pkleiber at honlab.nmfs.hawaii.edu  Thu Mar 22 19:32:11 2001
From: pkleiber at honlab.nmfs.hawaii.edu (Pierre Kleiber)
Date: Thu, 22 Mar 2001 08:32:11 -1000
Subject: [R] memory allocation error
References: <Pine.LNX.4.31.0103220847260.7285-100000@shell1.aracnet.com>
Message-ID: <3ABA452B.C95A7647@honlab.nmfs.hawaii.edu>

A way to read particular columns (if you have unix-like tools):

> dat <- matrix(scan(pipe("awk '{print $2,$5,$7}' filename")),byrow=T,ncol=3)

That would get column 2, 5, and 7 of "filename" into a three column matrix. 
(Not so sure it qualifies as an excuse not to learn how to use RODBC)
 
  Cheers, Pierre


-- 
"M. Edward (Ed) Borasky" wrote:
> 
> On 22 Mar 2001, Peter Dalgaard BSA wrote:
> 
> > [Anyone for implementing a columns= option for scan() and read.xxx() ??]
> 
> Nah ... that would give me an excuse not to learn how to use RODBC :-) I ended
> up going back to Access and dropping a bunch of columns from the query before
> I exported it to a CSV file. Another excuse not to learn RODBC :-).
> --
> znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb
> 
> Coming soon to a theatre near you -- the remake of "War With The Newts"!
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-----------------------------------------------------------------
Pierre Kleiber             Email: pkleiber at honlab.nmfs.hawaii.edu
Fishery Biologist                     Tel: 808 983-5399/737-7544
NOAA FISHERIES - Honolulu Laboratory         Fax: 808 983-2902
2570 Dole St., Honolulu, HI 96822-2396 
-----------------------------------------------------------------
 "God could have told Moses about galaxies and mitochondria and
  all.  But behold... It was good enough for government work."
-----------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Heberto at meakins.lan.mcgill.ca  Thu Mar 22 20:10:22 2001
From: Heberto at meakins.lan.mcgill.ca (Heberto Ghezzo)
Date: Thu, 22 Mar 2001 15:10:22 -0400
Subject: [R] picture size
Message-ID: <200103222007.f2MK7At24299@water.cc.mcgill.ca>

Hi.
I am trying to plot a big graph, simple from plot(), but I want it large 
size. Now par(din=..) is a read only parameter set at 4.5 by 4.5 
inches. If I want a bigger plot, say 6 by 9 inches in landscape mode,
Do I have to recompile R changing this parameter or is there a way 
to reformat the plot so it will print at the size I want.?
I am using R 1.2.2 in win98, well now it is the latest from BDR R 1.23
As always thanks for the help.

R. Heberto Ghezzo  Ph.D.
Meakins-Christie Labs
McGill University
Montreal - Canada
heberto at meakins.lan.mcgill.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yuling5 at yahoo.com  Thu Mar 22 21:23:12 2001
From: yuling5 at yahoo.com (Yu-Ling Wu)
Date: Thu, 22 Mar 2001 12:23:12 -0800 (PST)
Subject: [R] Diagonal X labels
Message-ID: <20010322202312.87504.qmail@web11508.mail.yahoo.com>

Hi,

I plot a boxplot. For x axes, I have 30 categories,
but it shows only 6 labels.
How to make all the 30 labels be shown and make them
45 or 90 degree diagonal?

Thanks,
Yu-Ling Wu

__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Thu Mar 22 21:58:53 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Thu, 22 Mar 2001 15:58:53 -0500 (EST)
Subject: [R] newbie questions: accessing functions globally
Message-ID: <Pine.GSO.4.04.10103221553260.10998-100000@julius.ling.ohio-state.edu>


How can I access a function created in one data directory in another? I
have been sourcing the text file that contains the function each time I go
to another data dir. This is cumbersome, and I suspect there is a way to
make functions global.

Thanks in advance,


S. David White
Dept of Speech and Hearing Science
Ohio State University
Columbus, Ohio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sarthur at protogene.com  Fri Mar 23 02:01:20 2001
From: sarthur at protogene.com (Stephen Arthur)
Date: Thu, 22 Mar 2001 17:01:20 -0800
Subject: [R] Special Functions calculations
Message-ID: <3ABAA060.88ADD012@protogene.com>

Hello r-help,

I notice that r includes distribution, and quantile values for the
Chi-Square, F, t, and normal functions.  Could someone give me some good
reference(s) for how these probabilities and quantiles are calculated.
I have already calculated the normal probability values using  a Taylor
expansion (http://www.sisweb.com/math/tables.htm).

I realize these calculations must be very difficult, but I think it is
insulting to our intelligence by mathematicians to hide the solutions to
the CDFs from us like this.

steve

ps please reply to my e-mail address: sarthur at protogene.com, or I may
not receive your reply.  Thanks.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nezih at nezih.screaming.net  Fri Mar 23 04:58:32 2001
From: nezih at nezih.screaming.net (Nezih Tayyar)
Date: Fri, 23 Mar 2001 03:58:32 -0000
Subject: [R] axes pass origin
Message-ID: <PDEBKFIFKCGOBAJBCFADEEMJCAAA.nezih@nezih.screaming.net>

Dear R users,
I have a data set, which contain 2 variables both have positive and negative
numbers.
When I plot them default x axis takes place on the bottom of the chart and
the y axis takes place on the left of the chart. Is it possible to make axes
pass from the origin.
Thanks in advance.
Nezih Tayyar.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nezih at nezih.screaming.net  Fri Mar 23 05:56:46 2001
From: nezih at nezih.screaming.net (Nezih Tayyar)
Date: Fri, 23 Mar 2001 04:56:46 -0000
Subject: [R] axes pass origin
Message-ID: <PDEBKFIFKCGOBAJBCFADOEMJCAAA.nezih@nezih.screaming.net>

Dear R users,
I have a data set, which contain 2 variables both have positive and negative
numbers.
When I plot them default x axis takes place on the bottom of the chart and
the y axis takes place on the left of the chart. Is it possible to make axes
pass from the origin.
Thanks in advance.
Nezih Tayyar.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eiji at isd.atr.co.jp  Fri Mar 23 05:54:52 2001
From: eiji at isd.atr.co.jp (Norberto Eiji Nawa)
Date: Fri, 23 Mar 2001 13:54:52 +0900
Subject: [R] Memory problems, HDF5 library and R-1.2.2 garbage collection
Message-ID: <20010323135452M.eiji@isd.atr.co.jp>

Hello:

I've recently started using R to process data in HDF5 format. My files
come in 1.5MB chunks, but they can be as big as 50MB.

The problem I am facing with R-1.2.2 is that when I try to load 50 of
the 1.5MB HDF5 files (using the hdf5 library) in a loop, my Linux box
gets close to its memory limit around the file #15 (256MB RAM and
256MB swap). This happens even if I load file -> erase all the objects
-> load file -> erase all the objects...

When I try to load a single 50MB HDF5 file, the computer chokes before
completing the job as well.

I happen to know the author of the hdf5 library and I am very sure he
knows what he says when he tells me that the HDF5 module for R only
does very simple allocMatrix and allocVector, so garbage collection
should work on that.

So my questions are:

1) [newbie level 1000] The '"generational" garbage collector, which
   will increase the memory available to R as needed.' referred in
   (*) does also the job of freeing unused memory, I suppose. So,
   loading-HDF5-file -> erasing-all-the-objects should keep the size of R
   in memory more or less constant? Or at least, avoid that R eats up
   the whole memory to the point of hanging up my computer? 

2) How could I test the garbage collection feature in my machine,
   supposing it releases unused memory, so to determine if the problem
   is specific to my platform (linux 2.2.14-1vl6) or due to R code?

3) Anyone else using HDF5 with R out there?

(*) http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html#Why%20does%20R%20run%20out%20of%20memory%3f

Thanks a lot!

Eiji
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mgd at swarm.org  Fri Mar 23 06:24:37 2001
From: mgd at swarm.org (Marcus G. Daniels)
Date: 22 Mar 2001 21:24:37 -0800
Subject: [R] Memory problems, HDF5 library and R-1.2.2 garbage collection
In-Reply-To: Norberto Eiji Nawa's message of "Fri, 23 Mar 2001 13:54:52 +0900"
References: <20010323135452M.eiji@isd.atr.co.jp>
Message-ID: <rfi4rwl9hwq.fsf@cathcart.sysc.pdx.edu>

>>>>> "NEN" == Norberto Eiji Nawa <eiji at isd.atr.co.jp> writes:

NEN> When I try to load a single 50MB HDF5 file, the computer chokes
NEN> before completing the job as well.

I'll check this out and make sure there isn't gratuitous waste happening. 
Problems with the big file sound plausible, but the smaller chunks should
be doable.  Thanks for the test cases, btw..

http://www.isd.atr.co.jp/~eiji/swarm/HDF5samples.tar.gz
                                     ArchiverHDF5.hdf.gz
                                     testHDF5load.R

Plugin:

ftp://ftp.swarm.org/pub/swarm/src/testing/hdf5_0.9.tar.gz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar 23 08:00:10 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 23 Mar 2001 07:00:10 +0000 (GMT)
Subject: [R] Special Functions calculations
In-Reply-To: <3ABAA060.88ADD012@protogene.com>
Message-ID: <Pine.GSO.4.31.0103230657030.20099-100000@auk.stats>

On Thu, 22 Mar 2001, Stephen Arthur wrote:

> Hello r-help,
>
> I notice that r includes distribution, and quantile values for the
> Chi-Square, F, t, and normal functions.  Could someone give me some good
> reference(s) for how these probabilities and quantiles are calculated.
> I have already calculated the normal probability values using  a Taylor
> expansion (http://www.sisweb.com/math/tables.htm).

References are in the source code, which of course gives the exact
algorithms used.  Look in directory src/nmath.

> I realize these calculations must be very difficult, but I think it is
> insulting to our intelligence by mathematicians to hide the solutions to
> the CDFs from us like this.

Nothing is hidden in R.  That's what Open Source means.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Mar 23 08:23:37 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 23 Mar 2001 08:23:37 +0100
Subject: [R] Diagonal X labels
References: <20010322202312.87504.qmail@web11508.mail.yahoo.com>
Message-ID: <3ABAF9F9.E30ECE3B@statistik.uni-dortmund.de>

Yu-Ling Wu wrote:
> 
> Hi,
> 
> I plot a boxplot. For x axes, I have 30 categories,
> but it shows only 6 labels.
> How to make all the 30 labels be shown and make them
> 45 or 90 degree diagonal?

You can use
par(las=2) or par(las=3)
to make the 90 degrees diagonal. For details have a look at 
?par

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Mar 23 08:29:00 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 23 Mar 2001 08:29:00 +0100
Subject: [R] axes pass origin
References: <PDEBKFIFKCGOBAJBCFADOEMJCAAA.nezih@nezih.screaming.net>
Message-ID: <3ABAFB3C.CC633671@statistik.uni-dortmund.de>

Nezih Tayyar wrote:
> 
> Dear R users,
> I have a data set, which contain 2 variables both have positive and negative
> numbers.
> When I plot them default x axis takes place on the bottom of the chart and
> the y axis takes place on the left of the chart. Is it possible to make axes
> pass from the origin.

Maybe this helps:
plot(...., xaxt="n", yaxt="n")
axis(1, pos=0)
axis(2, pos=0)

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xyzzy at speakeasy.org  Fri Mar 23 08:30:20 2001
From: xyzzy at speakeasy.org (Trent Piepho)
Date: Thu, 22 Mar 2001 23:30:20 -0800 (PST)
Subject: [R] Memory problems, HDF5 library and R-1.2.2 garbage collection
In-Reply-To: <rfi4rwl9hwq.fsf@cathcart.sysc.pdx.edu>
Message-ID: <Pine.LNX.4.04.10103222322020.28061-100000@xyzzy.dsl.speakeasy.net>

On 22 Mar 2001, Marcus G. Daniels wrote:
> >>>>> "NEN" == Norberto Eiji Nawa <eiji at isd.atr.co.jp> writes:
> 
> NEN> When I try to load a single 50MB HDF5 file, the computer chokes
> NEN> before completing the job as well.
> 
> I'll check this out and make sure there isn't gratuitous waste happening. 
> Problems with the big file sound plausible, but the smaller chunks should
> be doable.  Thanks for the test cases, btw..

I'm using R 1.2.2 to read in large netCDF files.  I've read in about a tenth
of some 220MB netcdf files.  I've processed 82 of these files in a row without
restarting R and not had a problem with memory.  So obviously R can read in
large datasets, it must be a problem with the HDF module.  I know that the
netCDF 1.2 library is very inefficient at some things, and I've pretty much
totally re-written it.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patfoley at csus.edu  Thu Mar 22 22:43:25 2001
From: patfoley at csus.edu (Patrick Foley)
Date: Thu, 22 Mar 2001 13:43:25 -0800
Subject: [R] [Fwd: FW: Biostats text/software]
Message-ID: <3ABA71FD.EB939F89@csus.edu>

			[This was filtered (looking like spam)
			 and manually approved by your list maintainer, MM ]

EvolDir wrote:

> Colleagues,
>
> A few days ago I posted a message inquiring what folks were using for
> teaching biostats. I received a stunning 38 replies offering various
> opinions, some quite surprising, along with links to web pages, pointers for
> coverage, commentaries on favorite professors, etc. Rather than post the
> entire text of all the messages to the web, I have summarized the results of
> this "poll". If you want a copy of all the messages, then drop me an email
> and I will forward them!
>
> AND THE TEXT WINNERS ARE.... There was a clear preference in texts for Zar,
> with Sokal and Rohlf coming in second. Most folks thought that Zar was the
> best combination of text and reference for undergrads. Many admitted it was
> difficult, but that the students could handle it.
>
> THE SURPRISE WINNER IN THE SOFTWARE CATEGORY: The leader was S-Plus or the
> freeware version R. I am a true S zealot, however I was concerned about
> teaching with this (although I actually have done so in the past). Most
> folks felt that the benefits of S/R's flexibility and outstanding graphics
> outweighed the steep learning curve. Many suggested that I would be doing
> the students a favor by teaching them how to program such powerful software.
> SPSS and JMP tied for second, however nearly everyone had some caveat about
> limitations/shortcomings of every package (which is, of course, why we use S
> or R...).
>
> RESULTS (note that some folks recommended only software or only text; others
> had two favorites):
> Zar: Biostatistical Analysis    15
> Sokal & Rohlf: Biometry 9
> Dytham: Choosing and Using Statistics : A Biologist's Guide     2
> Sokal & Rohlf: Introduction to Biostatistics    1
> Rossner': Fundamentals of Biostatistics, 5th Edition    1
> Fowler & Cohen: Practical Statistics for Field Biology  1
>
> Splus/R 8
> SPSS            5
> JMP             5
> Systat  4
> Statview        3
> Minitab 3
> Excel           2
> Sigmastat       2
> Statistica      1
>
> I want to thank everyone who replied and offered words of encouragement and
> advice. Again, if you want the entire set of messages, drop me a note and
> get ready for a big document.
>
> Cheers, George
>
> =================================================================
> George W. Gilchrist                Email #1:gilchrgw at clarkson.edu
> Department of Biology, Box 5805    Email #2: kitesci at northnet.org
> Clarkson University                         Phone: (315) 268-2359
> Potsdam, NY  13699-5805                       Fax: (315) 268-7118
> GWG Web Site <<http://www.clarkson.edu/~gilchrgw>>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at cirsium.ethz.ch  Fri Mar 23 09:20:00 2001
From: pflugshaupt at cirsium.ethz.ch (Kaspar Pflugshaupt)
Date: Fri, 23 Mar 2001 09:20:00 +0100
Subject: [R] newbie questions: accessing functions globally
In-Reply-To: <Pine.GSO.4.04.10103221553260.10998-100000@julius.ling.ohio-state.edu>
References: <Pine.GSO.4.04.10103221553260.10998-100000@julius.ling.ohio-state.edu>
Message-ID: <01032309200000.03375@Aconitum>

On Thursday 22 March 2001 21:58, David White wrote:

> How can I access a function created in one data directory in another? I
> have been sourcing the text file that contains the function each time I go
> to another data dir. This is cumbersome, and I suspect there is a way to
> make functions global.
>
> Thanks in advance,

There are several ways to achieve this. The ultimate solution would be to 
pack your functions into a package and have it loaded at startup. See the 
"Writing R Extensions" manual for more information on this. For other ways 
see help(.First).

I'm using the following in my .First function:

attach("/home/pflugs/R/my.functions.R")

"my.functions.R" is a normal text file, created by dump(). It can also 
contain data sets that I use frequently.

This works from wherever I am and I can keep my personal functions in 
one place (making editing them easy). What's more, the functions don't 
"pollute" my workspace (which tends to get overfull anyway), because they get 
attached at their own position in the search() list.

I have to define .First each time I start a new working directory, but that's 
a minor inconvenience.


My 2 Rp

Kaspar Pflugshaupt

-- 


Kaspar Pflugshaupt
Geobotanical Institute
ETH Zurich, Switzerland

http://www.geobot.umnw.ethz.ch
mailto:pflugshaupt at geobot.umnw.ethz.ch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Fri Mar 23 09:43:35 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 23 Mar 2001 08:43:35 +0000
Subject: [R] picture size
In-Reply-To: <200103222007.f2MK7At24299@water.cc.mcgill.ca>
References: <200103222007.f2MK7At24299@water.cc.mcgill.ca>
Message-ID: <YcWu$DA3ywu6Ewiw@myatt.demon.co.uk>

Heberto Ghezzo <Heberto at meakins.lan.mcgill.ca> writes:
>Hi.
>I am trying to plot a big graph, simple from plot(), but I want it large 
>size. Now par(din=..) is a read only parameter set at 4.5 by 4.5 
>inches. If I want a bigger plot, say 6 by 9 inches in landscape mode,
>Do I have to recompile R changing this parameter or is there a way 
>to reformat the plot so it will print at the size I want.?
>I am using R 1.2.2 in win98, well now it is the latest from BDR R 1.23
>As always thanks for the help.

I think you need to open a graphics device before plot for example:

        data(faithful)
        win.graph(width = 9, height = 6)
        plot(faithful$eruptions, faithful$waiting)

You could use x11() instead of win.graph().

Mark
        

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Fri Mar 23 10:17:43 2001
From: stuart.leask at nottingham.ac.uk (Dr Stuart Leask)
Date: Fri, 23 Mar 2001 09:17:43 -0000
Subject: [R] Re: Finding functions (eg. 'lag')
References: <200103221657.QAA13746@toucan.stats.ox.ac.uk>
Message-ID: <007d01c0b37a$1e821f00$cee1f380@nottingham.ac.uk>

Many thanks to those who gave me a loaf, and others who taught me how to
fish!

Stuart


>
> > From: "Dr Stuart Leask" <stuart.leask at nottingham.ac.uk>
> > To: "R-help" <r-help at stat.math.ethz.ch>
> > Subject: [R] 'lag' in R?
> > Date: Thu, 22 Mar 2001 16:46:18 -0000
> > X-Priority: 3
> > X-MSMail-Priority: Normal
> > X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
> >
> > Hi there.
> > I am converting some Splus syntax - is there an R equivalent for the
'lag'
> > function, as in:
> > Xi<-lag(X,i)
> > = all the members of X are shifted along by i?
>
> Like lag in package ts, for example?
>
> > help.search("lag")
> Help files with alias or title matching `lag':
> Type `?FOO' to inspect entry `FOO(PKG) TITLE'.
>
> diff(base)                  Lagged Differences
> lag(ts)                     Lag a Time Series
> lag.plot(ts)                Time Series Lag Plots
>
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Mar 23 10:43:23 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 23 Mar 2001 10:43:23 +0100
Subject: [R] out of memory?
In-Reply-To: <x2itl2djoq.fsf@blueberry.kubism.ku.dk>
References: <Pine.GSO.4.31.0103220845550.5675-100000@auk.stats>
	<146964539764.20010322132453@chat.ru>
	<x2snk6dodz.fsf@blueberry.kubism.ku.dk>
	<0973899603.20010322160053@chat.ru>
	<x2itl2djoq.fsf@blueberry.kubism.ku.dk>
Message-ID: <15035.6843.961517.574589@gargle.gargle.HOWL>

>>>>> "PD" == Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

    PD> "Valery A.Khamenya" <news_vkhamenya at chat.ru> writes:
    >> Hello Peter,
    >> 
    >> Thursday, March 22, 2001, 2:38:48 PM, you wrote:
    >> 
    >> 
    PDB> (If there is a bug, it is in array() not complaining when its
    PDB> data= argument is getting truncated).
    >>  did you refered to following bug:
    >> 
    >> #-----------------
    >> > "+"(1:3,10:11)
    >> [1] 11 13 13
    >> Warning message: 
    >> longer object length
    >>         is not a multiple of shorter object length in: 1:3 + 10:11 
    >> > log(1:3,10:11)
    >> [1] 0.0000000 0.2890648 0.4771213
    >> > 
    >> #-----------------
    >> 
    >> which plays its role in
    >> 
    >> #...
    >> robj <- array(FUN(X, Y, ...), c(dX, dY))
    >> #...
    >> 
    >> of outer source?

    PD> No, this one
    PD> > array(1:12,c(2,3))
    PD>      [,1] [,2] [,3]
    PD> [1,]    1    3    5
    PD> [2,]    2    4    6
    PD> >

    PD> One might have expected a warning that the array isn't big enough
    PD> to hold the data, but the behaviour *is* compatible with Splus
    PD> 3.4....

and Splus 5.1, and in S+ its even a documented feature...

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richards at pci.upmc.edu  Fri Mar 23 11:30:29 2001
From: richards at pci.upmc.edu (Richards, Tom)
Date: Fri, 23 Mar 2001 05:30:29 -0500
Subject: [R] order() and na.last
Message-ID: <5B9B19C8A522D411A8EC00A0C99D6A9A02E789@mail.nsabp.pitt.edu>

Hello:

	I'm not sure what is going on in these two statements.  the first
seems to be right, but the second is a problem:

> order(c(3,2,4,NA),na.last=TRUE)
[1] 2 1 3 4

> order(c(3,2,4,NA),na.last=FALSE)
Error in .NotYetUsed("na.last != TRUE") : argument `na.last != TRUE' is not
used (yet)

> order(c(3,2,4,NA))

I am using R 1.2.2 under Windows NT.  Thanks.


Tom
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Fri Mar 23 11:47:12 2001
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Fri, 23 Mar 2001 21:47:12 +1100
Subject: [R] DIYHelp
Message-ID: <3ABB29B0.2849B1AD@ozemail.com.au>

I have uploaded a Tcl/Tk program named DIYHelp to CRAN that allows users
to build and use their own keyword/description style help files.  It is
designed to operate well with the R system of help files, but will also
use other layouts.  It should operate in text, HTML and PDF formats (and
maybe others).  It is pretty basic at the moment, and will only work on
UNIX boxes without a bit of user hacking.  I would appreciate comments,
suggestions, bug reports, etc.  If it is worthwhile, I hope to improve
it considerably.

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Mar 23 12:05:19 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 23 Mar 2001 03:05:19 -0800 (PST)
Subject: [R] object sizes
In-Reply-To: <200103202013.PAA16290@jessie.research.bell-labs.com>
Message-ID: <Pine.A41.4.33.0103230302340.16738-100000@homer34.u.washington.edu>

On Tue, 20 Mar 2001, Mark Hansen wrote:

>
> greetings,
>
> i have been playing with the port of r to the mac. i am running into
> errors "unable to allocate object of size x" where x is not a big
> number. i tried playing with mem.limits, but that seems like the
> wrong beast. i think what i want is something like options(object.size=y)
> in S. i have gone through the documentation but can't diagnose
> the problem, and hence i am posting here. maybe this is something
> unique to the mac port, or (more likely) i am missing something.

This message means you are out of memory: it is "unable to allocate an
object that happens to be of size x" rather than "unable to allocate an
object because it is of size x".    \You may need to adjust the maximum
memory size options (I don't know how to do this or what are the defaults
on the Mac, but it should be in help(Memory).

	-thomas
Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Mar 23 12:13:38 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 23 Mar 2001 12:13:38 +0100
Subject: [R] order() and na.last
References: <5B9B19C8A522D411A8EC00A0C99D6A9A02E789@mail.nsabp.pitt.edu>
Message-ID: <3ABB2FE2.1F1F5A72@statistik.uni-dortmund.de>

"Richards, Tom" wrote:
> 
> Hello:
> 
>         I'm not sure what is going on in these two statements.  the first
> seems to be right, but the second is a problem:
> 
> > order(c(3,2,4,NA),na.last=TRUE)
> [1] 2 1 3 4
> 
> > order(c(3,2,4,NA),na.last=FALSE)
> Error in .NotYetUsed("na.last != TRUE") : argument `na.last != TRUE' is not
> used (yet)
> 
> > order(c(3,2,4,NA))
> 
> I am using R 1.2.2 under Windows NT.  Thanks.

Let's read the help (?order): 

na.last:  for controlling the treatment of `NA's. If `TRUE', missing
          values in the data are put last; if `FALSE', they are put
          first; if `NA', they are removed. Currently, `TRUE' is the
          only possible value.

To point it out: "Currently, 'TRUE' is the only possible value.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Mar 23 12:26:13 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 23 Mar 2001 03:26:13 -0800 (PST)
Subject: [R] Call by reference: Was: Object orientation?
In-Reply-To: <x2r8zqchbw.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.A41.4.33.0103230324210.16764-100000@homer34.u.washington.edu>

On 22 Mar 2001, Peter Dalgaard BSA wrote:

> "Henrik Bengtsson" <henrikb at braju.com> writes:
>
> > To reply to Yves Gauvreau question (Jan 24, 2001) about how to set values
> > within function, it is possible to do without without using the "<<-"
> > assignment operator or other nasty tricks. I had the same problem and I did
> > a nasty workaround two weeks ago implementing the functionality of reference
> > variables, but today I "ran into" the [R] help page for ".Alias". With
> > .Alias one can immitate call by reference! Here is an example that shows how
> > it works:
> .....
> > set <- function(object, value) {
> >   this <- .Alias(object);
> >   this$value <- value;
> >   return (invisible());
> > }
>
> It may work, but I wouldn't think it is documented to do so and could
> easily get blown away by an internal change (and *I'm* not going to put
> checks in to ensure that it keeps working)!


Some of us talked about putting
  Usage: this function should not be used
in the .Alias help page. It doesn't seem to have happened, but you get the
idea.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Fri Mar 23 12:42:08 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 23 Mar 2001 12:42:08 +0100
Subject: [R] DIYHelp
In-Reply-To: <3ABB29B0.2849B1AD@ozemail.com.au>
References: <3ABB29B0.2849B1AD@ozemail.com.au>
Message-ID: <15035.13968.500110.165356@galadriel.ci.tuwien.ac.at>

>>>>> On Fri, 23 Mar 2001 21:47:12 +1100,
>>>>> Jim Lemon (JL) wrote:

  > I have uploaded a Tcl/Tk program named DIYHelp to CRAN that allows users
  > to build and use their own keyword/description style help files.  It is
  > designed to operate well with the R system of help files, but will also
  > use other layouts.  It should operate in text, HTML and PDF formats (and
  > maybe others).  It is pretty basic at the moment, and will only work on
  > UNIX boxes without a bit of user hacking.  I would appreciate comments,
  > suggestions, bug reports, etc.  If it is worthwhile, I hope to improve
  > it considerably.


As there are some problems running the program on our local machines
(and hence cannot evaluate it) we have deferred putting the package
onto CRAN.

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Mar 23 12:50:26 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 23 Mar 2001 03:50:26 -0800 (PST)
Subject: [R] More powerful than objects() or ls()
In-Reply-To: <200103220223.f2M2Nu720838@biomat1.marc.hort.cri.nz>
Message-ID: <Pine.A41.4.33.0103230348130.16764-100000@homer34.u.washington.edu>

On Thu, 22 Mar 2001, Patrick Connolly wrote:
>
> There are times when the date is very valuable information,
> particularly years later.  I would like to be able to do something
> similar in R but of course, the same method won't work because objects
> are not stored as separate unix files in a .Data directory.
>
> I had thought of adding a date with attr() and was then going to redo
> the function which could use that information in place of the file
> information I used in Splus.  Unfortunately, that means the date
> attibute is added to everything when displayed which is too cluttered.
>
> Then of course, I'd need to figure an easy (preferably automatic) way
> of adding the date to the objects I was interested in.  However, I was
> hoping someone might already have a better way of achieving the same
> end, and preferably without the unnecessary verbiage mentioned above.

comment() does the information management you need. There isn't an
automatic way of doing the date information and I can't think ofa general
one that wouldn't be horribly slow.  You could add a date-setting function
to your most frequnelty used object creation functions  (perhaps
read.table and glm in my case).

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rod.chav at hsoft.es  Fri Mar 23 14:53:32 2001
From: rod.chav at hsoft.es (Antonio =?iso-8859-1?Q?Rodr=EDguez?= Verdugo)
Date: Fri, 23 Mar 2001 14:53:32 +0100
Subject: [R] memory allocation error
In-Reply-To: <Pine.GSO.4.31.0103220635410.29019-100000@auk.stats>
References: <3.0.6.32.20010321215902.007ac430@pop.hsoft.es>
Message-ID: <3.0.6.32.20010323145332.007a2e50@pop.hsoft.es>


>Try reading the rw-FAQ and/or the actual help file the message mentions!
>It says nothing about those flags.

rgui.exe --vsize 16M --nsize 1000k

This is just one method I've found, and in Mr. Maindonalds' manual is the
same information.

>Hint: when you are asked to consult a help file, the information is there

Yes, it mentions the size of my virtual memory, but then what?. If I change
the settings, what's going wrong now?

>Hint hint: the flag is called --max-mem-size

Could you explain me this a little bit please.

R is the only program that asks me for memory space. I think I'm not
managing a very big dataset (1200 observations, 6 variables). Even with the
base datasets I find the same constraints.

Thanks in advance

Antonio
Antonio Rodr?guez Verdugo
Huelva, Spain
rod.chav at hsoft.es
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Mar 23 15:28:40 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 23 Mar 2001 15:28:40 +0100
Subject: [R] memory allocation error
References: <3.0.6.32.20010321215902.007ac430@pop.hsoft.es> <3.0.6.32.20010323145332.007a2e50@pop.hsoft.es>
Message-ID: <3ABB5D98.C962F03C@statistik.uni-dortmund.de>

Antonio Rodr?guez Verdugo wrote:
> 
> >Try reading the rw-FAQ and/or the actual help file the message mentions!
> >It says nothing about those flags.
> 
> rgui.exe --vsize 16M --nsize 1000k
> 
> This is just one method I've found, and in Mr. Maindonalds' manual is the
> same information.

I do not remember if you have mentioned which version of R you are
running.
Assuming R >= 1.2.0 you can extend the default (the minimum of physical
installed RAM and 256Mb) by setting the command line flag
--max-mem-size.

Your version of John Maindonalds paper seems to be written for R <
1.2.0.

> >Hint: when you are asked to consult a help file, the information is there

Maybe you misunderstood Brian's hint:
Please read the FAQs and the help file, especially 
?Memory

 
> Yes, it mentions the size of my virtual memory, but then what?. If I change
> the settings, what's going wrong now?
> 
> >Hint hint: the flag is called --max-mem-size
> 
> Could you explain me this a little bit please.

The maximum amount of memory R is allowed to consume (defaults to the
minimum of physical installed RAM and 256Mb, as described in ?Memory).

> R is the only program that asks me for memory space. I think I'm not
> managing a very big dataset (1200 observations, 6 variables). Even with the
> base datasets I find the same constraints.

But then also the only which protects you getting into trouble with
endless swapping activity.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From elmore at stat.psu.edu  Fri Mar 23 15:27:43 2001
From: elmore at stat.psu.edu (Ryan Elmore)
Date: Fri, 23 Mar 2001 09:27:43 -0500 (EST)
Subject: [R] R-demo for non-statisticians/mathematicians
Message-ID: <Pine.GSO.4.10.10103230917320.27663-100000@clogg.stat.psu.edu>

Hi all.  A friend of mine asked me to assist with an R presentation to the
Penn State LUG in a few weeks.  The audience will be predominately
computer scientists and/or engineers (I suspect) and they are just looking
for presentations of good open source software and my friend volunteered
R.  We are both relatively new to R, so I thought it would be best to ask
the list for your opinion....what do the expert R-users think would be
most appropriate for a presentation to non-statistical people?  I see a
lot of postings from people in other disciplines and I would love to hear
what you have to say as well.  By the way, I am aware of the demo()
function in R and I am absolutely amazed by that, but not everybody in
this audience will think the Brownian motion plot is as cool as I do!
Many thanks in advance,
Ryan Elmore
PhD candidate
PSU - Dept of Statistics

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stecalza at tiscalinet.it  Fri Mar 23 18:51:06 2001
From: stecalza at tiscalinet.it (Stefano)
Date: Fri, 23 Mar 2001 18:51:06 +0100
Subject: [R] forward model selection
Message-ID: <5.0.2.1.2.20010323184105.009f4e80@pop.tiscalinet.it>

Dear all,

I want to select a linear model by means of a forward selection procedure, adding only the main terms, that is x1+x2+x3+...xn.
Is there a fast way to specify all the main terms without  writing each one?

For example:

linear <- step(lm(resp~1,data=dati),scope=(upper="all main effects",lower=~1),direction="forward")


Thanks,

Stefano


*******************************
Stefano Calza
Istituto di Statistica Medica e Biometria
Universit? degli Studi di Milano
Via G. Venezian, 1
20133 Milano

tel. +39 02/2361302, 02/70600908
fax 02/2362930

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lpolic at ineural.com  Fri Mar 23 19:20:22 2001
From: lpolic at ineural.com (Alojz Loui Polic)
Date: Fri, 23 Mar 2001 13:20:22 -0500
Subject: [R] newbie questions: attached data.frames and rm()
Message-ID: <A1D7DE9027B3D3119FA00090278A28EC04FB3E@xenon.ineural.com>

Hi

I'm just starting with R-plus and I have noticed
the following behaviour.

If a data.frame is attached and then removed before 
being detached, the data is still present in the 
path and can accessed. Is this expected behaviour, 
and if so why? 

Thank you 

Loui

below is sample code to show this, I'm using R-1.2.2
on Win-NT4


AA <- c(1, 1, 1, 1, 1)
BB <- c(2, 3, 2, 1, 2)
data1 <- data.frame( AA.data=AA, BB.data=BB )
ls()
attach(data1)
ls(2)

rm(data1)
ls()
ls(2)
AA.data[1]
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Fri Mar 23 22:29:01 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang@xtra.co.nz)
Date: Sat, 24 Mar 2001 09:29:01 +1200
Subject: [R] R-demo for non-statisticians/mathematicians
References: <Pine.GSO.4.10.10103230917320.27663-100000@clogg.stat.psu.edu>
Message-ID: <001501c0b3e0$47c4cd20$122137d2@KoKang>

Hi Ryan,

What a co-incidence!  I've just done a demo for my fellow club members, who are, generally, non-statisticians!  What I had done is to show them a PowerPoint demonstration, with some R-history, what it is capable of, why we should use it, a couple of snap shots, some students' comments, its memory management technique...etc.  After that I showed a real-time demo using R, to run a couple of R scripts that I obtained from various places (and some of them were written by myself).  The scripts I used include the demo(graphics), however with some little re-arrangements.

The entire slides can be obtained from http://www.stat.auckland.ac.nz/~kwan022/pub/SDK/SAD/FirstMeeting/, along with all the scripts I used!

Hope this helps you in some degree,

Cheers,

Ko-Kang Wang

-------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub
University of Auckland
New Zealand

----- Original Message ----- 
From: "Ryan Elmore" <elmore at stat.psu.edu>
To: <r-help at stat.math.ethz.ch>
Sent: Saturday, March 24, 2001 2:27 AM
Subject: [R] R-demo for non-statisticians/mathematicians


> Hi all.  A friend of mine asked me to assist with an R presentation to the
> Penn State LUG in a few weeks.  The audience will be predominately
> computer scientists and/or engineers (I suspect) and they are just looking
> for presentations of good open source software and my friend volunteered
> R.  We are both relatively new to R, so I thought it would be best to ask
> the list for your opinion....what do the expert R-users think would be
> most appropriate for a presentation to non-statistical people?  I see a
> lot of postings from people in other disciplines and I would love to hear
> what you have to say as well.  By the way, I am aware of the demo()
> function in R and I am absolutely amazed by that, but not everybody in
> this audience will think the Brownian motion plot is as cool as I do!
> Many thanks in advance,
> Ryan Elmore
> PhD candidate
> PSU - Dept of Statistics
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Mar 23 23:17:54 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Mar 2001 23:17:54 +0100
Subject: [R] newbie questions: attached data.frames and rm()
In-Reply-To: Alojz Loui Polic's message of "Fri, 23 Mar 2001 13:20:22 -0500"
References: <A1D7DE9027B3D3119FA00090278A28EC04FB3E@xenon.ineural.com>
Message-ID: <x27l1gxh7x.fsf@blueberry.kubism.ku.dk>

Alojz Loui Polic <lpolic at ineural.com> writes:

> Hi
> 
> I'm just starting with R-plus and I have noticed
                          ?????

> the following behaviour.
> 
> If a data.frame is attached and then removed before 
> being detached, the data is still present in the 
> path and can accessed. Is this expected behaviour, 
> and if so why? 

It's designed that way. Whether or not that is a good thing is
debatable - people easily get bitten from attaching a data frame and
modifying it without that affecting the attached version. One upside
is that the argument to attach() can be an arbitrary expression, e.g.

AA <- c(1, 1, 1, 1, 1)
BB <- c(2, 3, 2, 1, 2)
attach(data.frame( AA.data=AA, BB.data=BB)

[It is not a trivial exercise to think up an alternative semantic
model for attached objects. One problem being that modifying an object
in R is more often than not a compute-and-rename operation, so
accessing an object by reference is not possible (although reference
by name is).]
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bhm at math.uio.no  Sat Mar 24 02:32:14 2001
From: bhm at math.uio.no (=?iso-8859-1?q?Bj=F8rn-Helge_Mevik?=)
Date: 24 Mar 2001 02:32:14 +0100
Subject: [R] Telling tcltk where tcl is?
Message-ID: <s3s8zlw9ckh.fsf@janus.uio.no>

The installation of R I'm using (R 1.2.0 on Redhat Linux
(R-base-1.2.0-2.i386.rpm)) apparently expects to find tcl in
./share/tcl8.0, ./share/tcl8.0 or /usr/local/share/tcl8.0:

> library (tcltk)
Error in firstlib(which.lib.loc, package) : 
	Can't find a usable init.tcl in the following directories: 
    ./share/tcl8.0 ./share/tcl8.0 /usr/local/share/tcl8.0

However, tcl is installed in /usr/lib/tcl8.0 on my machine.  Is there a way
to tell R or tcltk where tcl is located?

(I'm sorry if this is a faq -- I've gone through all documentation I've
found, but I still couldn't find out about it.)

-- 
Bj?rn-Helge Mevik  <bhm at math.uio.no>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Mar 24 12:36:29 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Mar 2001 12:36:29 +0100
Subject: [R] Telling tcltk where tcl is?
In-Reply-To: Bj?rn-Helge Mevik's message of "24 Mar 2001 02:32:14 +0100"
References: <s3s8zlw9ckh.fsf@janus.uio.no>
Message-ID: <x2u24jz9du.fsf@blueberry.kubism.ku.dk>

Bj?rn-Helge Mevik <bhm at math.uio.no> writes:

> The installation of R I'm using (R 1.2.0 on Redhat Linux
> (R-base-1.2.0-2.i386.rpm)) apparently expects to find tcl in
> ./share/tcl8.0, ./share/tcl8.0 or /usr/local/share/tcl8.0:
> 
> > library (tcltk)
> Error in firstlib(which.lib.loc, package) : 
> 	Can't find a usable init.tcl in the following directories: 
>     ./share/tcl8.0 ./share/tcl8.0 /usr/local/share/tcl8.0
> 
> However, tcl is installed in /usr/lib/tcl8.0 on my machine.  Is there a way
> to tell R or tcltk where tcl is located?
> 
> (I'm sorry if this is a faq -- I've gone through all documentation I've
> found, but I still couldn't find out about it.)

It isn't. It's not supposed to happen...

Does your .rpm match your RedHat version? 

You might consider getting a recent version off of CRAN or compiling
from sources. It might also work to set the environment variable
TCL_LIBRARY to the proper location on your system.

In either case it would be good for us to know the origin of your
setup in case anyone else gets in trouble.
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sat Mar 24 17:44:26 2001
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sat, 24 Mar 2001 11:44:26 -0500 (EST)
Subject: [R] Telling tcltk where tcl is?
In-Reply-To: <x2u24jz9du.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21.0103241130001.451-100000@Chrestomanci.home.earth>



On 24 Mar 2001, Peter Dalgaard BSA wrote:

> Bjørn-Helge Mevik <bhm at math.uio.no> writes:
> 
> > The installation of R I'm using (R 1.2.0 on Redhat Linux
> > (R-base-1.2.0-2.i386.rpm)) apparently expects to find tcl in
> > ./share/tcl8.0, ./share/tcl8.0 or /usr/local/share/tcl8.0:
> > 
> > > library (tcltk)
> > Error in firstlib(which.lib.loc, package) : 
> > 	Can't find a usable init.tcl in the following directories: 
> >     ./share/tcl8.0 ./share/tcl8.0 /usr/local/share/tcl8.0
> > 
> > However, tcl is installed in /usr/lib/tcl8.0 on my machine.  Is there a way
> > to tell R or tcltk where tcl is located?
> > 
> > (I'm sorry if this is a faq -- I've gone through all documentation I've
> > found, but I still couldn't find out about it.)
> 
> It isn't. It's not supposed to happen...
> 
> Does your .rpm match your RedHat version? 
> 
> You might consider getting a recent version off of CRAN or compiling
> from sources. It might also work to set the environment variable
> TCL_LIBRARY to the proper location on your system.
> 
> In either case it would be good for us to know the origin of your
> setup in case anyone else gets in trouble.

I have a problem as well, but my error message is different. I am using
SuSE 6.2, and R 1.2.1. I seem to have two versions of tcl installed, 7.6
and 8.0. I get the message 

> library(tcltk)
Error in firstlib(which.lib.loc, package) : 
	Tcl/Tk support is not available on this system
Error in library(tcltk) : .First.lib failed
>

I added TCL_LIBRARY=/usr/lib/tcl7.6/ and then /usr/lib/tcl8.0/ instead to
.Renviron, but it doesn't seem to make any difference.

SuSE tends to be fairly idiosyncratic about naming things, unfortunately.
Does R expect some things in tcl/tk to be named a certain way? If so,
what? I don't know if this is relevant, but the TCl shell script is called
tclsh8.0 (for the newer version) and tclsh7.6 (for the older version).

Thanks in advance.
                                    Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Sun Mar 25 00:04:06 2001
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Sun, 25 Mar 2001 09:04:06 +1000 (EST)
Subject: [R] Re: [S] extracting a matrix from a data frame
Message-ID: <200103242304.JAA09319@leonard.anu.edu.au>

Try as.matrix(df)
where df may be subsetted.


> From: "Chris Evans" <chris1 at psyctc.org>
> To: s-news at lists.biostat.wustl.edu
> Date: Sat, 24 Mar 2001 19:25:32 -0000
> Content-transfer-encoding: 7BIT
> Subject: [S] extracting a matrix from a data frame
> 
> I'm a researcher who often has to do my own statistics for various 
> reasons so apologies if this and two other questions are pretty low 
> level.
> 
> I've just found the apply function and the array objects brilliant for 
> speedy work on some 3 mode rating data.  The data had to be 
> imported from an SPSS data set so my first silly question is how I 
> should extract a matrix from a data frame.  I wanted some 
> contiguous columns in the frame to become a matrix.  I ended up 
> using c to concatenate the variables, listed laboriously, after 
> attaching the frame.  I must be missing something in the 
> subscripting of data frames musn't I?  Would someone tell me or 
> point me to right place?
> 
> TIA,
> 
> 
> Chris
> 
> Chris Evans <chris at psyctc.org>
> Consultant Psychiatrist in Psychotherapy,
> Rampton Hospital; Associate R&D Director,
> Tavistock & Portman NHS Trust;
> Hon. SL Institute of Psychiatry
> *** My views are my own and not representative 
> of those institutions ***
> ---------------------------------------------------------------------
> This message was distributed by s-news at lists.biostat.wustl.edu.  To
> unsubscribe send e-mail to s-news-request at lists.biostat.wustl.edu with
> the BODY of the message:  unsubscribe s-news
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gfeeney at gfeeney.com  Sun Mar 25 04:02:22 2001
From: gfeeney at gfeeney.com (Griffith Feeney)
Date: Sat, 24 Mar 2001 16:02:22 -1000
Subject: [R] Re: [S] extracting a matrix from a data frame
Message-ID: <3.0.5.32.20010324160222.0079ca30@gfeeney.com>

> I wanted some 
> contiguous columns in the frame to become a matrix.

help(data.matrix)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bhm at math.uio.no  Sun Mar 25 18:52:25 2001
From: bhm at math.uio.no (=?iso-8859-1?q?Bj=F8rn-Helge_Mevik?=)
Date: 25 Mar 2001 18:52:25 +0200
Subject: [R] Telling tcltk where tcl is?
In-Reply-To: Peter Dalgaard BSA's message of "24 Mar 2001 12:36:29 +0100"
References: <s3s8zlw9ckh.fsf@janus.uio.no> <x2u24jz9du.fsf@blueberry.kubism.ku.dk>
Message-ID: <s3selvleqpi.fsf@janus.uio.no>

[Peter Dalgaard BSA]

> It isn't. It's not supposed to happen...

Oh.  :-)

> Does your .rpm match your RedHat version? 

Redhat: version 6.1.
tcl and tk: version 8.0.5-30 (these came with Redhat 6.1)

The R rpm I believe I got from CRAN, and it should be built for Redhat 6.x.

10 $ rpm -q R-base -i
Name        : R-base                       Relocations: (not relocateable)
Version     : 1.2.0                             Vendor: (none)
Release     : 2                             Build Date: l?r 16-12-2000 18:04:54 CET
Install date: s?n 17-12-2000 11:56:10 CET      Build Host: xena.iarc.fr
Group       : Applications/Engineering      Source RPM: R-base-1.2.0-2.src.rpm
Size        : 13719631                         License: GPL
Packager    : Martyn Plummer <plummer at iarc.fr>
URL         : http://www.r-project.org
[...]

> You might consider getting a recent version off of CRAN or compiling
> from sources.

I will.  (I just have to decide whether to install the needed development
libraries or upgrade rpm. :-)

> It might also work to set the environment variable TCL_LIBRARY to the
> proper location on your system.

Setting TCL_LIBRARY to /usr/lib/tcl8.0 helped.

-- 
B/H
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hortresearch.co.nz  Mon Mar 26 07:11:33 2001
From: P.Connolly at hortresearch.co.nz (Patrick Connolly)
Date: Mon, 26 Mar 2001 17:11:33 +1200 (NZST)
Subject: [R] More powerful than objects() or ls()
In-Reply-To: <Pine.A41.4.33.0103230348130.16764-100000@homer34.u.washington.edu> from "Thomas Lumley" at Mar 23, 2001 03:50:26 AM
Message-ID: <200103260511.f2Q5BXM28483@biomat1.marc.hort.cri.nz>


According to Thomas Lumley:
|> 
|> On Thu, 22 Mar 2001, Patrick Connolly wrote:
|> >
|> > There are times when the date is very valuable information,
|> > particularly years later.  I would like to be able to do something
|> > similar in R but of course, the same method won't work because objects
|> > are not stored as separate unix files in a .Data directory.
|

.....
 
|> comment() does the information management you need. There isn't an
|> automatic way of doing the date information and I can't think ofa general
|> one that wouldn't be horribly slow.  You could add a date-setting function

I think it would be simple enough if I could get something in R to
work the way substitute() does in Splus.  The thinking seems to be
very different between the two dialects.  Maybe if I tinker a bit
longer, I'll get the connexion between them.

|> to your most frequnelty used object creation functions  (perhaps
|> read.table and glm in my case).

That works easily for read.table, and probably for glm, but how would
I make it work for the function function which works internally?  It's
the age of my functions that I'm most interested in -- largely
historical interest.  I've found it immensely useful in Splus.  I'm a
little surprised others aren't so interested.

Thanks Thomas for your help.

best

-- 
*************************************************************
Patrick Connolly
HortResearch                        Great minds discuss ideas;
Mt Albert                           Average minds discuss events; 
Auckland                            Small minds discuss people.
New Zealand                                                 .... Anon
Ph: +64-9 815 4200 x 7188
*************************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Mar 26 08:08:49 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 26 Mar 2001 07:08:49 +0100 (BST)
Subject: [R] More powerful than objects() or ls()
In-Reply-To: <200103260511.f2Q5BXM28483@biomat1.marc.hort.cri.nz>
Message-ID: <Pine.GSO.4.31.0103260702530.28858-100000@auk.stats>

On Mon, 26 Mar 2001, Patrick Connolly wrote:

>
> According to Thomas Lumley:
> |>
> |> On Thu, 22 Mar 2001, Patrick Connolly wrote:
> |> >
> |> > There are times when the date is very valuable information,
> |> > particularly years later.  I would like to be able to do something
> |> > similar in R but of course, the same method won't work because objects
> |> > are not stored as separate unix files in a .Data directory.
> |
>
> .....
>
> |> comment() does the information management you need. There isn't an
> |> automatic way of doing the date information and I can't think ofa general
> |> one that wouldn't be horribly slow.  You could add a date-setting function
>
> I think it would be simple enough if I could get something in R to
> work the way substitute() does in Splus.  The thinking seems to be
> very different between the two dialects.  Maybe if I tinker a bit
> longer, I'll get the connexion between them.

They are almost the same. (See V&R's `S Programming' for a detailed
comparison.)   There is a difference when using function arguments:
S uses the initial values, R the current ones, so in R one often needs to
substitute early or take care to work on copies.

> |> to your most frequnelty used object creation functions  (perhaps
> |> read.table and glm in my case).
>
> That works easily for read.table, and probably for glm, but how would
> I make it work for the function function which works internally?  It's
> the age of my functions that I'm most interested in -- largely
> historical interest.  I've found it immensely useful in Splus.  I'm a
> little surprised others aren't so interested.

Ah, I think most of us keep our functions in files not in objects, even in
S-PLUS. I even keep my datasets in files (or databases).  I know John
Chambers advocates an `S object is master' view in the Green book, but I
don't find it very practical given current tools.  A CVS archive of R/S
code is a very useful way of version control.

B

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Mar 26 08:40:55 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 26 Mar 2001 07:40:55 +0100 (BST)
Subject: [R] Preview of an alternative R for Windows installer
In-Reply-To: <200103221234.MAA09864@toucan.stats.ox.ac.uk>
Message-ID: <Pine.GSO.4.31.0103260724090.28928-100000@auk.stats>

I have had many replies, so no more feedback, please.

Most of the replies were very helpful, for which thanks.  Unfortunately a
few were along the lines of

>     However, the packages are missing (foreign, etc...) as well as the
> Rinstaller (at least I couldn't find it).

Most people much preferred this version to rwinst.exe, but not all.
Quite a few saw a need for floppy-sized pieces for students.

There has been some misunderstanding:

(1) This was not an official release, and it is not rw1023.  It was a
snapshot from my system, and the first version contained a few missing
links.  A couple of you were talking about using this on courses. I would
be wary of using something as untested as this, so please do not distribute
it unless you have already discussed this with me. It is probable that R
1.2.3 will be packaged this way in addition, currently expected ca April
20.

(2) It was not a request for suggestions for `catering to the whims of
Windows users', as one respondent put it.


We are planning to bundle packages differently from 1.3.x, and that
has implications for installer, not least the size of them.

B

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at cirsium.ethz.ch  Mon Mar 26 08:24:26 2001
From: pflugshaupt at cirsium.ethz.ch (Kaspar Pflugshaupt)
Date: Mon, 26 Mar 2001 08:24:26 +0200
Subject: [R] newbie questions: accessing functions globally
In-Reply-To: <200103252336.f2PNacA28296@biomat1.marc.hort.cri.nz>
References: <200103252336.f2PNacA28296@biomat1.marc.hort.cri.nz>
Message-ID: <01032608242600.01009@Aconitum>

On Monday 26 March 2001 01:36, Patrick Connolly wrote:


>
> The most closely analagous way would be to create a .First function in
> a location and save that as the only thing in .RData which I could use
> the same way as I've used ./.Data/.First in Splus. I've not looked
> into `R_ENVIRON' or `~/.Renviron' as described in the help on .First.
> Perhaps you've investigated it and can tell me if my idea is superior,
> or indeed if it is completely silly.

I haven't played with R_ENVIRON yet. I'm sure it could be used to the same 
effect, though. Your idea doesn't sound silly. Let's see...

pflugs at Aconitum:~ > R --vanilla   # start with an empty workspace

R : Copyright 2001, The R Development Core Team
Version 1.2.2  (2001-02-26)

[...]

Type `q()' to quit R.

> .First <- function() attach("/home/pflugs/R/my.functions.R")
> save.image()


gives a .RData file with just .First() in it. If we copy this into a new 
directory, R should load it automagically when started in that directory and 
execute the .First function:

> q()
pflugs at Aconitum:~ > mkdir RTest
pflugs at Aconitum:~ > cp .RData RTest
pflugs at Aconitum:~ > cd RTest/
pflugs at Aconitum:~/RTest > R

R : Copyright 2001, The R Development Core Team
Version 1.2.2  (2001-02-26)

[...]

[Previously saved workspace restored]


> search()
[1] ".GlobalEnv"                         "file:/home/pflugs/R/my.functions.R"
[3] "Autoloads"                          "package:base"  

works as expected. I think I'll use this in the future. Thanks for the idea!

Cheers

Kaspar

-- 


Kaspar Pflugshaupt
Geobotanical Institute
ETH Zurich, Switzerland

http://www.geobot.umnw.ethz.ch
mailto:pflugshaupt at geobot.umnw.ethz.ch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Mon Mar 26 09:34:07 2001
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Mon, 26 Mar 2001 02:34:07 -0500
Subject: [R] Need some help for building R!
Message-ID: <3ABEF0EF.619E072F@epm.net.co>

Hello Dear R Developers and Users:

I'm trying to compile R with all the tools of the CRAN page.
I compile the R-1.2.2 version without problem.

But when I try to compile the development version 1.3.0 it
doesn't work  when I write the command:

make BUILD=MINGW32

First it shows me something like this (I think without problems):
As I make when I compile succesfuly the R-1.2.2 version:

----------------------------------------------------------------------------------------------------------------------------

mkdir -p ../../bin
F:/GCC-29~1.2/BIN/MAKE.EXE -C ./fixed
MAKE.EXE[1]: Entering directory `F:/R-devel/src/gnuwin32/fixed'
zip -q bins bin/BATCH bin/INSTALL bin/REMOVE bin/Rd2dvi.sh bin/Rd2txt
bin/SHLIB bin/helpPRINT.bat
unzip -oaq bins -d  ../../..
rm -f bins.zip
echo done > fixbin
MAKE.EXE[1]: Leaving directory `F:/R-devel/src/gnuwin32/fixed'
cp -pr unzip ../..
rm -f ../../unzip/*.h
F:/GCC-29~1.2/BIN/MAKE.EXE -C ../appl  OPTFLAGS='-O2 -Wall -pedantic' -f
Makefile.win
MAKE.EXE[1]: Entering directory `F:/R-devel/src/appl'
MAKE.EXE[1]: Leaving directory `F:/R-devel/src/appl'
F:/GCC-29~1.2/BIN/MAKE.EXE -C ../main  OPTFLAGS='-O2 -Wall -pedantic' -f
Makefile.win
MAKE.EXE[1]: Entering directory `F:/R-devel/src/main'
MAKE.EXE[1]: Leaving directory `F:/R-devel/src/main'
F:/GCC-29~1.2/BIN/MAKE.EXE -C ../nmath OPTFLAGS='-O2 -Wall -pedantic' -f
Makefile.win
MAKE.EXE[1]: Entering directory `F:/R-devel/src/nmath'
MAKE.EXE[1]: Leaving directory `F:/R-devel/src/nmath'
F:/GCC-29~1.2/BIN/MAKE.EXE -C ./graphapp
MAKE.EXE[1]: Entering directory `F:/R-devel/src/gnuwin32/graphapp'
MAKE.EXE[1]: `../ga.a' is up to date.
MAKE.EXE[1]: Leaving directory `F:/R-devel/src/gnuwin32/graphapp'
F:/GCC-29~1.2/BIN/MAKE.EXE -C ./getline
MAKE.EXE[1]: Entering directory `F:/R-devel/src/gnuwin32/getline'
MAKE.EXE[1]: `../gl.a' is up to date.
MAKE.EXE[1]: Leaving directory `F:/R-devel/src/gnuwin32/getline'
F:/GCC-29~1.2/BIN/MAKE.EXE -C ../extra/xdr
MAKE.EXE[1]: Entering directory `F:/R-devel/src/extra/xdr'
MAKE.EXE[1]: `../../gnuwin32/xdr.a' is up to date.
MAKE.EXE[1]: Leaving directory `F:/R-devel/src/extra/xdr'
F:/GCC-29~1.2/BIN/MAKE.EXE -C ./math
MAKE.EXE[1]: Entering directory `F:/R-devel/src/gnuwin32/math'
MAKE.EXE[1]: `../em.a' is up to date.
MAKE.EXE[1]: Leaving directory `F:/R-devel/src/gnuwin32/math'
------- Building R.dll from R.a malloc.o libmain.a libappl.a libmath.a
ga.a gl.a xdr.a em.a dllversion.o --------
echo LIBRARY R > R.def
echo EXPORTS >> R.def
nm R.a malloc.o libmain.a libappl.a libmath.a ga.a gl.a xdr.a em.a
dllversion.o > Defs
sed -n '/^........ [BCDRT] _/s/^........ [BCDRT] _/ /p' Defs >> R.def
rm -f Defs
gcc  --shared -s -mwindows -o R.dll  R.def R.a malloc.o libmain.a
libappl.a libmath.a ga.a gl.a xdr.a em.a dllversion.o -L. -lg2c
-lwsock32 -lcomctl32 -lversion
-----------------------------------------------------------------------------------------------------------------------------------------

Then it stops with this error:

------------------------------------------------------------------------------------------------------------------------------------------

gcc: unrecognized option '-shared'
ld:R.def: file format not recognized; treating as linker script
ld:R.def:1: parse error
F:\GCC-29~1.2\BIN\MAKE.EXE: *** [R.dll] Error 1
-------------------------------------------------------------------------------------------------------------------------------------------

What is my mistake? (Remember that the process work with the previous
version 1.2.2)

Thank you very much for you help

Kenneth Cabrera



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Mar 26 09:58:02 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Mar 2001 09:58:02 +0200
Subject: [R] Re: [Rd] Need some help for building R!
In-Reply-To: Kenneth Cabrera's message of "Mon, 26 Mar 2001 02:34:07 -0500"
References: <3ABEF0EF.619E072F@epm.net.co>
Message-ID: <x2zoe97yid.fsf@blueberry.kubism.ku.dk>

Kenneth Cabrera <krcabrer at epm.net.co> writes:

> gcc  --shared -s -mwindows -o R.dll  R.def R.a malloc.o libmain.a
> libappl.a libmath.a ga.a gl.a xdr.a em.a dllversion.o -L. -lg2c
> -lwsock32 -lcomctl32 -lversion
> -----------------------------------------------------------------------------------------------------------------------------------------
> 
> Then it stops with this error:
> 
> ------------------------------------------------------------------------------------------------------------------------------------------
> 
> gcc: unrecognized option '-shared'

Hmm. Some stuff in MkRules has been changed:

--- src/gnuwin32/MkRules        2001/02/03 20:11:37     1.26.2.1
+++ src/gnuwin32/MkRules        2001/02/08 07:25:59     1.29
@@ -3,8 +3,6 @@
 
 # Alternatives CYGWIN (-mno-cygwin), MINGW32 (mingw32 gcc), CROSS (Linux)
 BUILD=MINGW32
-# Set this to YES if you use MINGW32 and gcc-2.95.2.1 or later, or cygwin-1.1.
-HAVE_SHARED=YES
 
 # Where does 'HTML Help Workshop' live? (unused if compiled HTML help is
 # not requested. Spaces allowed.)
@@ -88,16 +86,7 @@
        $(NM) $^ > Defs
        $(SED) -n '/^........ [BCDRT] _/s/^........ [BCDRT] _/ /p' Defs >> $*.def
        $(RM) Defs
-ifeq ($(strip $(HAVE_SHARED)),YES)
        $(DLL) --shared $(DLLFLAGS) $($*-DLLFLAGS) -o $@  $*.def $^ $($*-DLLLIBS) $(DLLLIBS)
-else
-       $(DLL) -mdll -Wl,--base-file,$*.b $(DLLFLAGS) $($*-DLLFLAGS) -o $@  $^ $
...

> ld:R.def: file format not recognized; treating as linker script
> ld:R.def:1: parse error
> F:\GCC-29~1.2\BIN\MAKE.EXE: *** [R.dll] Error 1
         ^^^^^^

Are you sure you are using the appropriate compiler? Looks like
support for compilers before gcc-2.95.2.1 has gone away. (The flag
looks a bit dodgy though. Isn't it normally "-shared" with a single
hyphen?) 

Anyway, Brian will know...

> What is my mistake? (Remember that the process work with the previous
> version 1.2.2)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fzoellne at TechFak.Uni-Bielefeld.DE  Mon Mar 26 11:00:13 2001
From: fzoellne at TechFak.Uni-Bielefeld.DE (Frank Gerrit Zoellner)
Date: Mon, 26 Mar 2001 11:00:13 +0200
Subject: [R] Plotting with more than one y axis
Message-ID: <20010326110013.A257@korngold.TechFak.Uni-Bielefeld.DE>

Hi!

I want to combine two plots. On the one hand i've got a histogram and on the other hand a line plot. The y axis of the plot are different and i want both axis (one on the right side the other on the left side) in the plot. How can I do this in R ?

Thanks
-- 
Frank Gerrit Zoellner


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Mar 26 11:48:30 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 26 Mar 2001 11:48:30 +0200
Subject: [R] Plotting with more than one y axis
References: <20010326110013.A257@korngold.TechFak.Uni-Bielefeld.DE>
Message-ID: <3ABF106E.13DAC791@statistik.uni-dortmund.de>

Frank Gerrit Zoellner wrote:
> 
> Hi!
> 
> I want to combine two plots. On the one hand i've got a histogram and on the other hand a line plot. The y axis of the plot are different and i want both axis (one on the right side the other on the left side) in the plot. How can I do this in R ?

I would try something like:

hist(....., xlim=c(.....))
par(new=TRUE)
plot(....., xaxt="n", yaxt="n", xlim=c(.....))
axis(4)


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Mon Mar 26 13:15:45 2001
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Mon, 26 Mar 2001 13:15:45 +0200
Subject: [R] plot.new, margins with split.screen()
Message-ID: <3.0.6.32.20010326131545.0095f950@mail.wsl.ch>

Hi all,

1)
Solution to former riddle:
===================

plt <- function(view,f,file="") { ## C.Hoffmann,  2001.03.14
  if (view>0) f
  else {
    postscript(file=file,print.it=(view==0))
    on.exit(dev.off())
    f
  }
}

A call with an "f" containing "postscript" itself:
plt(0,something with postscript())

results in the error:
plot.new has not been called yet

because one cannot do "postscript" more than once without first "dev.off"!


2)
How can I provide margins to a plot involving split.screen?
Using 
  oldpar <- par(oma=c(4+1, 2+1, 4+1, 2+1), mar = c(4, 4, 2, 1))
  on.exit(par(oldpar))
 split.screen(figs=c(3,3))

seems NOT to make room for subsequent mtext().

Any hints? I did not find a clue in the help.

Thank you.
--christian

Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: Hoffmann at WSL.CH
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Mon Mar 26 15:00:14 2001
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Mon, 26 Mar 2001 08:00:14 -0500
Subject: [R] Thanks ?
Message-ID: <001a01c0b5f4$b3388f90$0201a8c0@Workgroup>

Hi every one,

I've installed R 1.2.2 recently on my NT box and I just discovered by
accident that the pager could use the same window to display help
information. That is, the first time you call for help a new information
window is created and subsequently each call for help will be displayed in
that same window.

[EDIT]->[GUI preference] ... Pager style [multiple window] | [single window]

I find this a neat feature and I wanted to show my appreciation and possibly
inform others of its existence.

My best regards to the core team and all those involved.

Yves Gauvreau

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MagillB at usa.redcross.org  Mon Mar 26 19:30:33 2001
From: MagillB at usa.redcross.org (Magill, Brett)
Date: Mon, 26 Mar 2001 12:30:33 -0500
Subject: [R] Item Analysis and Cronbach's Alpha (Code Attached)
Message-ID: <AC09DC4F4DFCD211A83C00805FE6138D36941C@NHQJPK1EX2>

A short function I wrote for the purpose of evaluating scales made up of a
number of questionnaire items.  It provides Cronbach's Alpha, both
unstandardized and based on standardized items.  It also provides item
statistics which include item-total correlations (corrected) and
item-removed alpha.  Thought some of you might find it useful.  I would also
appreciate any programming tips or suggestions for improving the function as
I am still relatively new to R and statistical programming in general.

Cheers!


Alpha<-
function(x){
  xmat<-as.matrix(na.omit(x))
  xmat.z<-scale(xmat)
  N<-dim(xmat)[2]
  Correlation.Matrix<-cor(xmat)

  Item.Tot.Cor<-rep(NA,N)
  for (a in 1:N) Item.Tot.Cor[a]<-(cor(apply(xmat[,- a],1,sum),xmat[,a]))

  Item.Rem.Alpha<-rep(NA,N)
  for (b in 1:N) Item.Rem.Alpha[b]<- ((N-1)/(N-2)) * (1
-((sum(diag(var(xmat[,-b])))) / (sum(var(xmat[,-b])))))

  Item.Mean<-apply(xmat,2,mean)
  Item.SD<-apply(xmat,2,sd)
  Item.Var<-apply(xmat,2,var)
  N.Cases<-rep(dim(xmat)[1],N)
  ITEM.STATISTICS<-cbind(Item.Mean, Item.Var,
Item.SD,Item.Tot.Cor,Item.Rem.Alpha,N.Cases)

  Cronbachs.Alpha<-   (N/(N-1)) * (1 -((sum(diag(var(xmat  )))) /
(sum(var(xmat  )))))
  Standardized.Alpha<- (N/(N-1)) * (1 -((sum(diag(var(xmat.z)))) /
(sum(var(xmat.z)))))
  Total.Mean<-mean(apply(xmat,1,sum))
  Total.Var<-var(apply(xmat,1,sum))
  Total.SD<-sd(apply(xmat,1,sum))
  N.Items<-N
 
TOTAL.STATISTICS<-cbind(Cronbachs.Alpha,Standardized.Alpha,Total.Mean,Total.
Var,Total.SD, N.Items)
  row.names(TOTAL.STATISTICS)<-"TOTAL"
  print("Cronbach's Alpha and Item Analysis")
  print("----------------------------------")
  print("Correlation.Matrix")
  print(Correlation.Matrix,digits=4)
  print("---------------------------------------------------------")
  print(ITEM.STATISTICS,digits=4)
 
print("------------------------------------------------------------------")
  print(TOTAL.STATISTICS,digits=4)
}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From poohtest at yahoo.com  Mon Mar 26 21:29:13 2001
From: poohtest at yahoo.com (pooh rondstr)
Date: Mon, 26 Mar 2001 11:29:13 -0800 (PST)
Subject: [R] How do I generate a random sample with an given variance?
Message-ID: <20010326192913.36803.qmail@web12001.mail.yahoo.com>

Hi R gurus,


How do I generate a random sample with  a given
variance?

Thanks!

__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Mar 26 21:58:33 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 26 Mar 2001 21:58:33 +0200
Subject: [R] How do I generate a random sample with an given variance?
References: <20010326192913.36803.qmail@web12001.mail.yahoo.com>
Message-ID: <3ABF9F69.131BB81F@statistik.uni-dortmund.de>

pooh rondstr wrote:
> 
> Hi R gurus,
> 
> How do I generate a random sample with  a given
> variance?

It depends. ;-)

Assuming you want to generate a normal distributed random sample, have a
look at
?rnorm

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Mon Mar 26 22:44:05 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 26 Mar 2001 15:44:05 -0500
Subject: [R] How do I generate a random sample with an given variance?
In-Reply-To: <20010326192913.36803.qmail@web12001.mail.yahoo.com>
References: <20010326192913.36803.qmail@web12001.mail.yahoo.com>
Message-ID: <neavbtc2turvso9e9peeup9rmjkq4r4fgt@4ax.com>

On Mon, 26 Mar 2001 11:29:13 -0800 (PST), you wrote in message
<20010326192913.36803.qmail at web12001.mail.yahoo.com>:

>Hi R gurus,
>
>
>How do I generate a random sample with  a given
>variance?
>

Generate a random sample, then rescale it to have the variance you
require.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hortresearch.co.nz  Tue Mar 27 06:08:15 2001
From: P.Connolly at hortresearch.co.nz (Patrick Connolly)
Date: Tue, 27 Mar 2001 16:08:15 +1200 (NZST)
Subject: [R] Use of substitute -- was More powerful than objects() or ls()
In-Reply-To: <Pine.GSO.4.31.0103260702530.28858-100000@auk.stats> from "Prof Brian D Ripley" at Mar 26, 2001 07:08:49 AM
Message-ID: <200103270408.f2R48G129179@biomat1.marc.hort.cri.nz>

According to Prof Brian D Ripley:
|> 
|> On Mon, 26 Mar 2001, Patrick Connolly wrote:
|> 
.....

|> > I think it would be simple enough if I could get something in R to
|> > work the way substitute() does in Splus.  The thinking seems to be
|> > very different between the two dialects.  Maybe if I tinker a bit
|> > longer, I'll get the connexion between them.
|> 
|> They are almost the same. (See V&R's `S Programming' for a detailed
|> comparison.)   There is a difference when using function arguments:
|> S uses the initial values, R the current ones, so in R one often needs to
|> substitute early or take care to work on copies.

Indeed, V&R explains it, so that's useful.  Thanks again, Brian.  But
as Thomas Lumley anticipated, it is not straighforward to make use of
comment with it.  Writing to and sourcing from a temporary text file
is not very elegant, but also not very complicated,


|> Ah, I think most of us keep our functions in files not in objects, even in
|> S-PLUS. I even keep my datasets in files (or databases).  I know John
|> Chambers advocates an `S object is master' view in the Green book, but I
|> don't find it very practical given current tools.  

It is very practical with my Splus function (even though I could write
it rather a lot better now).  It's useful on those occasions when I
attach to a directory where I did similar work some years ago and look
through the lists, functions, matrices, dataframes and the like that I
used there. I can quickly decide what I can use in the present
directory.  Even so, there is good reason to have a file of the code
the function uses, and now I know how to use substitute, that's easy
to automate.


|> A CVS archive of R/S code is a very useful way of version control.

Sounds interesting.  Where will I find information about CVS archives?
V&R don't have any mention in the index/es.

best

-- 
*************************************************************
Patrick Connolly
HortResearch                        Great minds discuss ideas;
Mt Albert                           Average minds discuss events; 
Auckland                            Small minds discuss people.
New Zealand                                                 .... Anon
Ph: +64-9 815 4200 x 7188
*************************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 27 07:17:45 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 27 Mar 2001 06:17:45 +0100 (BST)
Subject: [R] Use of substitute -- was More powerful than objects() or
 ls()
In-Reply-To: <200103270408.f2R48G129179@biomat1.marc.hort.cri.nz>
Message-ID: <Pine.GSO.4.31.0103270611530.8701-100000@auk.stats>

On Tue, 27 Mar 2001, Patrick Connolly wrote:

> According to Prof Brian D Ripley:
> |>
> |> On Mon, 26 Mar 2001, Patrick Connolly wrote:
> |>
> .....
>
> |> > I think it would be simple enough if I could get something in R to
> |> > work the way substitute() does in Splus.  The thinking seems to be
> |> > very different between the two dialects.  Maybe if I tinker a bit
> |> > longer, I'll get the connexion between them.
> |>
> |> They are almost the same. (See V&R's `S Programming' for a detailed
> |> comparison.)   There is a difference when using function arguments:
> |> S uses the initial values, R the current ones, so in R one often needs to
> |> substitute early or take care to work on copies.
>
> Indeed, V&R explains it, so that's useful.  Thanks again, Brian.  But
> as Thomas Lumley anticipated, it is not straighforward to make use of
> comment with it.  Writing to and sourcing from a temporary text file
> is not very elegant, but also not very complicated,

Using output text connections would be more elegant (implemented in R only
at present, and only at 1.2.0 so post V&R).

> |> Ah, I think most of us keep our functions in files not in objects, even in
> |> S-PLUS. I even keep my datasets in files (or databases).  I know John
> |> Chambers advocates an `S object is master' view in the Green book, but I
> |> don't find it very practical given current tools.
>
> It is very practical with my Splus function (even though I could write
> it rather a lot better now).  It's useful on those occasions when I
> attach to a directory where I did similar work some years ago and look
> through the lists, functions, matrices, dataframes and the like that I
> used there. I can quickly decide what I can use in the present
> directory.  Even so, there is good reason to have a file of the code
> the function uses, and now I know how to use substitute, that's easy
> to automate.
>
>
> |> A CVS archive of R/S code is a very useful way of version control.
>
> Sounds interesting.  Where will I find information about CVS archives?
> V&R don't have any mention in the index/es.

www.cvshome.org, I think currently (was www.cyclic.com).  It's not to do
with R/S but a way to keep on a server files and records of all changes.
For example the R source code is kept in a CVS archive, as is all the V&R
material (tex files as well as software).

I guess the R-recommended way of working is to use packages, kept in source
form, and to archive the package source.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pem at theriver.com  Tue Mar 27 08:17:30 2001
From: pem at theriver.com (Patrick E. McKnight)
Date: Mon, 26 Mar 2001 22:17:30 -0800 (PST)
Subject: [R] recode vector values to NA
Message-ID: <985673850.3ac0307aaaf90@galileo>

Greetings,

I'm in the painful process of migrating from SAS to R.  In the process I've
discovered that there are some basic things that I am getting hung up on.  The
most basic is the simple recoding of variables.  Suppose I create a vector

  x <- rnorm(10000)

and I want to recode all values of x > 1.5 to NA.  How would I do that in R? 

TIA

Cheers,

Patrick

________________________________________________________________________
Patrick E. McKnight, Ph.D.
University of Arizona
Department of Psychology
Tucson, AZ  85721
pem at theriver.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Tue Mar 27 08:12:10 2001
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Tue, 27 Mar 2001 08:12:10 +0200 (MEST)
Subject: [R] recode vector values to NA
In-Reply-To: <985673850.3ac0307aaaf90@galileo>
Message-ID: <Pine.LNX.4.21.0103270811320.3369-100000@artemis.imbe.med.uni-erlangen.de>


> Greetings,
> 
> I'm in the painful process of migrating from SAS to R.  In the process I've
> discovered that there are some basic things that I am getting hung up on.  The
> most basic is the simple recoding of variables.  Suppose I create a vector
> 
>   x <- rnorm(10000)
> 
> and I want to recode all values of x > 1.5 to NA.  How would I do that in R? 

x[x > 1.5] <- NA

Torsten

> 
> TIA
> 
> Cheers,
> 
> Patrick
> 
> ________________________________________________________________________
> Patrick E. McKnight, Ph.D.
> University of Arizona
> Department of Psychology
> Tucson, AZ  85721
> pem at theriver.com
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Mar 27 07:18:40 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 27 Mar 2001 07:18:40 +0200
Subject: [R] recode vector values to NA
References: <985673850.3ac0307aaaf90@galileo>
Message-ID: <3AC022B0.4008A013@statistik.uni-dortmund.de>

"Patrick E. McKnight" wrote:
> 
> Greetings,
> 
> I'm in the painful process of migrating from SAS to R.  In the process I've
> discovered that there are some basic things that I am getting hung up on.  The
> most basic is the simple recoding of variables.  Suppose I create a vector
> 
>   x <- rnorm(10000)
> 
> and I want to recode all values of x > 1.5 to NA.  How would I do that in R?

x[x > 1.5] <- NA


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rasmus.benestad at dnmi.no  Tue Mar 27 08:30:36 2001
From: rasmus.benestad at dnmi.no (Rasmus E. Benestad)
Date: Tue, 27 Mar 2001 06:30:36 +0000
Subject: [R] How do I change the editor in R command window?
Message-ID: <3AC0338C.941A9784@dnmi.no>

Dear R-help,

I have started using R on my Linux box (Debian), and I have some
problems with setting the editor/keyboard for R. The
For instance, arrow-up gives "^[[A", and delete gives "^H". I have a
Norwegian keyboard, but that doesn't cause any
problems for editors like emacs. Could you advice me on how I can set
the editor for R right? I have tried option(editor="emacs")
and setenv R_EDITOR=emacs, but without any effect.

Yours sincerely Rasmus Benestad

--
______________________________________________________________________________
Rasmus E. Benestad, D.Phil, GradInstP,  The Norwegian Meteorological Institute
rasmus.benestad at dnmi.no             http://home.enitel.no/benestad/rasmus.html
phone: (+47) 22 96 31 70   mobile: (+47) 99 45 04 16    fax: (+47) 22 96 30 50
______________________________________________________________________________


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010327/3a4afd71/attachment.html

From detlef.steuer at unibw-hamburg.de  Tue Mar 27 09:01:12 2001
From: detlef.steuer at unibw-hamburg.de (detlef.steuer@unibw-hamburg.de)
Date: Tue, 27 Mar 2001 09:01:12 +0200 (CEST)
Subject: [R] Use of substitute -- was More powerful than objects() or
In-Reply-To: <Pine.GSO.4.31.0103270611530.8701-100000@auk.stats>
Message-ID: <XFMail.010327090112.detlef.steuer@unibw-hamburg.de>


On 27-Mar-01 Prof Brian D Ripley wrote:
>> Sounds interesting.  Where will I find information about CVS archives?
>> V&R don't have any mention in the index/es.
> 
> www.cvshome.org, I think currently (was www.cyclic.com). 

Just an addition:

To start using cvs try
http://cvsbook.red-bean.com/cvsbook.html

Gives a very readable introduction.

detlef 


Detlef Steuer ** Universität der Bw ** 22043 Hamburg
steuer at unibw-hamburg.de Tel: (0049) (0)40/6541-2819

There is more to life than increasing its speed.  - Mahatma Gandhi

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From detlef.steuer at unibw-hamburg.de  Tue Mar 27 09:11:19 2001
From: detlef.steuer at unibw-hamburg.de (detlef.steuer@unibw-hamburg.de)
Date: Tue, 27 Mar 2001 09:11:19 +0200 (CEST)
Subject: [R] How do I change the editor in R command window?
In-Reply-To: <3AC0338C.941A9784@dnmi.no>
Message-ID: <XFMail.010327091119.detlef.steuer@unibw-hamburg.de>

Hello!

The most convenient way to edit in/for R is using ESS (Emacs Speaks Statistics).
It can be found here: http://ess.stat.wisc.edu/pub/ESS/  .
(Also mentioned in the FAQ under "6. R and Emacs".)

As you obviously do not fear emacs this is your choice and worth reading its
documentation.

detlef

On 27-Mar-01 Rasmus E. Benestad wrote:
> Dear R-help,
> 
> I have started using R on my Linux box (Debian), and I have some
> problems with setting the editor/keyboard for R. The
> For instance, arrow-up gives "^[[A", and delete gives "^H". I have a
> Norwegian keyboard, but that doesn't cause any
> problems for editors like emacs. Could you advice me on how I can set
> the editor for R right? I have tried option(editor="emacs")
> and setenv R_EDITOR=emacs, but without any effect.
> 
> Yours sincerely Rasmus Benestad
> 
> --
> ______________________________________________________________________________
> Rasmus E. Benestad, D.Phil, GradInstP,  The Norwegian Meteorological
> Institute
> rasmus.benestad at dnmi.no            
> http://home.enitel.no/benestad/rasmus.html
> phone: (+47) 22 96 31 70   mobile: (+47) 99 45 04 16    fax: (+47) 22 96 30
> 50
> ______________________________________________________________________________
> 
> 

Detlef Steuer ** Universität der Bw ** 22043 Hamburg
Tel: (0049) (0)40/6541-2819
steuer at unibw-hamburg.de

There is more to life than increasing its speed.  - Mahatma Gandhi

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alvine.BISSERY at hop.egp.ap-hop-paris.fr  Tue Mar 27 10:03:05 2001
From: Alvine.BISSERY at hop.egp.ap-hop-paris.fr (BISSERY Alvine)
Date: Tue, 27 Mar 2001 10:03:05 +0200
Subject: [R] how superpose two graphics ?
Message-ID: <6332279F3215D411B25B0090276157CA4EE17D@loulou.egp.ap-hop-paris.fr>

hello,

I'd like tu superpose two graphics, I mean, be able to plot two functions on
the same graphics ..

Can someone help me ?

Alvine Bissery
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Tue Mar 27 10:13:00 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Tue, 27 Mar 2001 09:13:00 +0100 (BST)
Subject: [R] recode vector values to NA
In-Reply-To: <985673850.3ac0307aaaf90@galileo>
Message-ID: <Pine.LNX.4.10.10103270912280.1958-100000@localhost.localdomain>

>   x <- rnorm(10000)
> 
> and I want to recode all values of x > 1.5 to NA.  How would I do that in R? 
 x<-ifelse(x>1.5,NA,x)

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Mar 27 11:46:03 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 27 Mar 2001 11:46:03 +0200
Subject: [R] how superpose two graphics ?
In-Reply-To: <6332279F3215D411B25B0090276157CA4EE17D@loulou.egp.ap-hop-paris.fr>
References: <6332279F3215D411B25B0090276157CA4EE17D@loulou.egp.ap-hop-paris.fr>
Message-ID: <15040.24923.942793.205527@gargle.gargle.HOWL>

>>>>> "BISSERY" == BISSERY Alvine <Alvine.BISSERY at hop.egp.ap-hop-paris.fr> writes:

    BISSERY> hello, I'd like tu superpose two graphics, I mean, be able to
    BISSERY> plot two functions on the same graphics ..

maplot() can do this -->  ?matplot

If you want more fine control, sequentially use things like

   plot(......)
   lines(......)
   axis(...)  

   # etc

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue Mar 27 11:23:23 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 27 Mar 2001 10:23:23 +0100
Subject: [R] How do I generate a random sample with an given variance?
In-Reply-To: <20010326192913.36803.qmail@web12001.mail.yahoo.com>
References: <20010326192913.36803.qmail@web12001.mail.yahoo.com>
Message-ID: <bpn+iHALwFw6EwAb@myatt.demon.co.uk>

pooh rondstr <poohtest at yahoo.com> writes:
>Hi R gurus,
>
>
>How do I generate a random sample with  a given
>variance?

Form the standard normal ... for 100 numbers with a mean of 5 and a
standard deviation of 2:

        rnorm(100, mean = 5, sd = 2)

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue Mar 27 11:39:21 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 27 Mar 2001 10:39:21 +0100
Subject: [R] Item Analysis and Cronbach's Alpha (Code Attached)
In-Reply-To: <AC09DC4F4DFCD211A83C00805FE6138D36941C@NHQJPK1EX2>
References: <AC09DC4F4DFCD211A83C00805FE6138D36941C@NHQJPK1EX2>
Message-ID: <XJn9qLAJ$Fw6Ewje@myatt.demon.co.uk>

Magill, Brett <MagillB at usa.redcross.org> writes:

>A short function I wrote for the purpose of evaluating scales made up of a
>number of questionnaire items.  It provides Cronbach's Alpha, both
>unstandardized and based on standardized items.  It also provides item
>statistics which include item-total correlations (corrected) and
>item-removed alpha.  Thought some of you might find it useful.  I would also
>appreciate any programming tips or suggestions for improving the function as
>I am still relatively new to R and statistical programming in general.

I haven't used the function but one comment is that R functions often
return a structure rather than printed output. This allows the use of
print() and summary() functions to display different levels of detail as
well as allowing the function's output to be paced in an object for
further manipulation. This is usually done by returning a list with a
class. If you return the list with class "alpha":

        class(TOTAL.STATISTICS) <- "alpha"
        return(TOTAL.STATISTICS)

You can then create a function print.alpha() which will be called
automatically whenever you run alpha() without assigning it's output to
another object, when you type the name of an "alpha" object, or use the
print() function with an "alpha" object. You could also create a
function alpha.summary() which will be called whenever you use the
summary() function with an "alpha" object.

The print() function usually return a summary and the summary() function
returns more detail (I've never worked that out!).

There is a brief tutorial on this sort of thing in my notes on R at:

        http://www.myatt.demon.co.uk

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue Mar 27 11:17:41 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 27 Mar 2001 10:17:41 +0100
Subject: [R] recode vector values to NA
In-Reply-To: <985673850.3ac0307aaaf90@galileo>
References: <985673850.3ac0307aaaf90@galileo>
Message-ID: <AJY4aAA1qFw6EwA0@myatt.demon.co.uk>

Patrick E. McKnight <pem at theriver.com> writes:
>Greetings,
>
>I'm in the painful process of migrating from SAS to R.  In the process I've
>discovered that there are some basic things that I am getting hung up on.  The
>most basic is the simple recoding of variables.  Suppose I create a vector
>
>  x <- rnorm(10000)
>
>and I want to recode all values of x > 1.5 to NA.  How would I do that in R? 

        x[x > 1.5] <- NA



--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Tue Mar 27 12:06:02 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Tue, 27 Mar 2001 11:06:02 +0100 (BST)
Subject: [R] how superpose two graphics ?
In-Reply-To: <6332279F3215D411B25B0090276157CA4EE17D@loulou.egp.ap-hop-paris.fr>
Message-ID: <Pine.LNX.4.10.10103271102070.2153-100000@localhost.localdomain>

use plot() for the x1,y1 points
use points() for x2,y2 points

x1<-seq(1:10)
x2<-seq(2:12)
y1<-x1+rnorm(length(x1))
y2<-.1*x2+rnorm(length(x2))
plot(x1,y1,xlim=range(x1,x2), ylim=range(y1,y2), pch=1)
points(x2,y2,pch=2)

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Tue Mar 27 12:09:13 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Tue, 27 Mar 2001 11:09:13 +0100 (BST)
Subject: [R] how superpose two graphics ?
In-Reply-To: <Pine.LNX.4.10.10103271102070.2153-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.10.10103271107370.2160-100000@localhost.localdomain>

Whoops, made some mistakes last time

> 
 x1<-1:10
 x2<-2:12
> y1<-x1+rnorm(length(x1))
> y2<-.1*x2+rnorm(length(x2))
> plot(x1,y1,xlim=range(x1,x2), ylim=range(y1,y2), pch=1)
> points(x2,y2,pch=2)

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue Mar 27 12:11:03 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 27 Mar 2001 11:11:03 +0100
Subject: [R] how superpose two graphics ?
In-Reply-To: <6332279F3215D411B25B0090276157CA4EE17D@loulou.egp.ap-hop-paris.fr>
References: <6332279F3215D411B25B0090276157CA4EE17D@loulou.egp.ap-hop-paris.fr>
Message-ID: <+q4HSgA3cGw6Ew0d@myatt.demon.co.uk>

BISSERY Alvine <Alvine.BISSERY at hop.egp.ap-hop-paris.fr> writes:
>hello,
>
>I'd like tu superpose two graphics, I mean, be able to plot two functions on
>the same graphics ..
>
>Can someone help me ?

Use:

        par(new = TRUE)

as in:

        hist(rnorm(100, mean = 20, sd = 12))
        par(new = TRUE)
        hist(rnorm(100, mean = 22, sd = 1))

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Tue Mar 27 12:52:23 2001
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Tue, 27 Mar 2001 12:52:23 +0200 (MEST)
Subject: [R] How do I generate a random sample with an given variance?
In-Reply-To: <bpn+iHALwFw6EwAb@myatt.demon.co.uk>
Message-ID: <Pine.LNX.4.21.0103271247360.4577-100000@artemis.imbe.med.uni-erlangen.de>


> pooh rondstr <poohtest at yahoo.com> writes:
> >Hi R gurus,
> >
> >
> >How do I generate a random sample with  a given
> >variance?
> 
> Form the standard normal ... for 100 numbers with a mean of 5 and a
> standard deviation of 2:
> 
>         rnorm(100, mean = 5, sd = 2)

hm, but 

R> x <- rnorm(100, mean = 5, sd = 2)
R> mean(x)
[1] 4.742486
R> var(x)
[1] 3.398248

is clearly not what one wants. Better:

R> x <- rnorm(100, mean = 5, sd = 2)
R> x <- (x - mean(x))/sqrt(var(x))
R> mean(x)
[1] 1.385177e-16
R> var(x)
[1] 1

and now create your sample with mean 5 and sd 2:

R> x <- x*2 + 5
R> mean(x)
[1] 5
R> var(x)
[1] 4

Torsten

> 
> Mark
> 
> 
> --
> Mark Myatt
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Tue Mar 27 14:49:58 2001
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Tue, 27 Mar 2001 14:49:58 +0200
Subject: [R] rotate.princomp
Message-ID: <3.0.6.32.20010327144958.00966700@mail.wsl.ch>

Hi all,

I am experimenting with transporting S+ (3.4) routines to R, and for mva I
am missing the  rotate.princomp(). It could be implemented "as is" in R, IF
the C-subroutines ".C("S_crawFerg",..." and ".C("S_orthomax",..." were
available.

.C("S_crawFerg",
		as.integer(n),
		as.integer(k),
		rmat = amat,
		correlation = correlation,
		tmat = tmat,
		as.double(kappa),
		as.double(eps),
		normalize = as.integer(normalize),
		iterations = as.integer(iter.max))[c("rmat", "correlation", 
		"tmat", "iterations")] 
.C("S_orthomax",
		as.integer(dA[1]),
		as.integer(dA[2]),
		rmat = amat,
		gamma = as.double(gamma),
		as.double(eps),
		normalize = as.integer(normalize),
		iterations = as.integer(iter.max))[c("rmat", "gamma", 
		"normalize", "iterations")]

Are these functions (as code in C) available? Has anybody compiled,
installed and used these functions in R? 

Thanks for your hints.
--christian
Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: Hoffmann at WSL.CH
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar 27 15:03:35 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 27 Mar 2001 14:03:35 +0100 (GMT Daylight Time)
Subject: [R] rotate.princomp
In-Reply-To: <3.0.6.32.20010327144958.00966700@mail.wsl.ch>
Message-ID: <Pine.WNT.4.31.0103271358580.964-100000@gannet>

On Tue, 27 Mar 2001, Christian Hoffmann wrote:

> Hi all,
>
> I am experimenting with transporting S+ (3.4) routines to R, and for mva I
> am missing the  rotate.princomp(). It could be implemented "as is" in R, IF
> the C-subroutines ".C("S_crawFerg",..." and ".C("S_orthomax",..." were
> available.

Have you considered the legalities of this?  That code was AFAIK written by
and is copyright Insightful Inc, and I doubt if your licence agreement
allows you to do it. If it did, R might be a rather different project.

> .C("S_crawFerg",
> 		as.integer(n),
> 		as.integer(k),
> 		rmat = amat,
> 		correlation = correlation,
> 		tmat = tmat,
> 		as.double(kappa),
> 		as.double(eps),
> 		normalize = as.integer(normalize),
> 		iterations = as.integer(iter.max))[c("rmat", "correlation",
> 		"tmat", "iterations")]
> .C("S_orthomax",
> 		as.integer(dA[1]),
> 		as.integer(dA[2]),
> 		rmat = amat,
> 		gamma = as.double(gamma),
> 		as.double(eps),
> 		normalize = as.integer(normalize),
> 		iterations = as.integer(iter.max))[c("rmat", "gamma",
> 		"normalize", "iterations")]
>
> Are these functions (as code in C) available? Has anybody compiled,
> installed and used these functions in R?

See above.  I have looked at providing such functions for R, for factanal,
but took a completely separate approach for what I did implement.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alvine.BISSERY at hop.egp.ap-hop-paris.fr  Tue Mar 27 13:08:20 2001
From: Alvine.BISSERY at hop.egp.ap-hop-paris.fr (BISSERY Alvine)
Date: Tue, 27 Mar 2001 13:08:20 +0200
Subject: [R] how superpose two graphics - the end ..
Message-ID: <6332279F3215D411B25B0090276157CA4EE182@loulou.egp.ap-hop-paris.fr>

Thank you everybody for the help .. 
So the best thing to do seem to be :

par(new=TRUE)

before plotting the two graphics .. 

and to be carefull with the label axis, and range axis ..

Alvine Bissery
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rab at nauticom.net  Tue Mar 27 17:52:25 2001
From: rab at nauticom.net (Richard A. Bilonick)
Date: Tue, 27 Mar 2001 10:52:25 -0500
Subject: [R] Connecting R Running on Linux to an Oracale Database Running on Another 
 Server
References: <61411576E951D211AF330008C7245DD9079B2D0A@ntmsg0005.corpmail.telstra.com.au>
Message-ID: <3AC0B739.8213CD85@nauticom.net>

I need to access an Oracle database running on another server from my Linux box
running R.

I've downloaded RODBC but I have a sinking feeling I need more things to do this.
I would appreciate any information on how I could do this.

I would also consider other ways of accessing the Oracle database from the Linux
box. I know I can buy and install Oracle8i. I also think I can just install an
Oracl client to access the data on the other machine.

Thanks.

Rick Bilonick

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Tue Mar 27 18:12:44 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Tue, 27 Mar 2001 10:12:44 -0600
Subject: [R] How do I change the editor in R command window?
Message-ID: <E14hw5M-00021h-00@sonny.eddelbuettel.com>


> I have started using R on my Linux box (Debian), and I have some
> problems with setting the editor/keyboard for R. The
> For instance, arrow-up gives "^[[A", and delete gives "^H". I have a
> Norwegian keyboard, but that doesn't cause any
> problems for editors like emacs. Could you advice me on how I can set

Could it be that you recompiled R yourself on a system without the headers for
the libreadline4 library  (i.e. the libreadline4-dev package) ?  In that case, 
configure does not find the the readline library, and R will be built without 
readline support.  

But in any event, Debian users can simply point apt to a CRAN mirror as e.g. per

   deb http://cran.us.r-project.org/bin/linux/debian potato main

(adjust either of the ISO country codes, or the Debian distribution, to taste)  to 
automagically obtain fresh versions of  R shortly after each new release.

As for the editor request, the CRAN sites also carries current ESS packages for 
Debian, so all you need (with a line in place as shown above in /etc/apt/sources.list) is

  apt-get update; apt-get install ess

and you should be all set.

Regards,   Dirk



> > the editor for R right? I have tried option(editor="emacs")
> > and setenv R_EDITOR=emacs, but without any effect.
> > 
> > Yours sincerely Rasmus Benestad
> > 
> > --
> > ______________________________________________________________________________
> > Rasmus E. Benestad, D.Phil, GradInstP,  The Norwegian Meteorological
> > Institute
> > rasmus.benestad at dnmi.no            
> > http://home.enitel.no/benestad/rasmus.html
> > phone: (+47) 22 96 31 70   mobile: (+47) 99 45 04 16    fax: (+47) 22 96 30
> > 50
> > ______________________________________________________________________________
> > 
> > 
> 
> Detlef Steuer ** Universit?t der Bw ** 22043 Hamburg
> Tel: (0049) (0)40/6541-2819
> steuer at unibw-hamburg.de
> 
> There is more to life than increasing its speed.  - Mahatma Gandhi
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 
> 

-- 
According to the latest figures, 43% of all signatures are totally
worthless.   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From K.Christoph.Keller at web.de  Tue Mar 27 22:46:37 2001
From: K.Christoph.Keller at web.de (Karl Christoph Keller)
Date: Tue, 27 Mar 2001 22:46:37 +0200
Subject: [R] Exponential smoothing
Message-ID: <m14i0MV-007JS8C@smtp.web.de>

Dear all,

is there any function to do exponential smoothing of data in R?

I have searched all documentation (at least I hope I did) and found 
nothing.

I know exp. smoothing is a somewhat old method and better ones exist, 
but I want it for the reason of comparing results.

Greetings

Christoph

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ml at lapsley.ukshells.co.uk  Tue Mar 27 23:18:09 2001
From: ml at lapsley.ukshells.co.uk (Michael Lapsley)
Date: Tue, 27 Mar 2001 22:18:09 +0100
Subject: [R] Connecting R Running on Linux to an Oracale Database Running on Another Server
In-Reply-To: <3AC0B739.8213CD85@nauticom.net>; from rab@nauticom.net on Tue, Mar 27, 2001 at 10:52:25AM -0500
References: <61411576E951D211AF330008C7245DD9079B2D0A@ntmsg0005.corpmail.telstra.com.au> <3AC0B739.8213CD85@nauticom.net>
Message-ID: <20010327221809.A1459@athome.lapsley>

On Tue, Mar 27, 2001 at 10:52:25AM -0500, Richard A. Bilonick wrote:
> I need to access an Oracle database running on another server from my Linux box
> running R.
> 
> I've downloaded RODBC but I have a sinking feeling I need more things to do this.

Yes, it is not easy, although I know of one person who has succeeded (I do not
use oracle myself and have no access to it).

AFAIR you will need unixODBC plus an oracle driver.  There is a beta
driver from www.easysoft.com for which you need a (free) licence.
There is also a freeware driver in development but the version number
is currently very low and I do not think there is much functionality yet.
I think you also need some of the oracle libs.

The idea is that you install unixodbc, install & licence the oracle
driver, then set up a .odbc.ini file with the connection information
in it.  If I remember correctly there is a bug _requiring_ that the 
password appears in the .odbc.ini.

In short, you need to want to do this quite badly, although, as I said,
I do know of one person who succeeded.

PS: as a further complication, there was/is an oracle odbc driver bug
which requires/required a complile flag to be set in RODBC.c as 
a workaround.  If you can get as far as getting a connect we can
deal with that later if it is still necessary.

Michael
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From henrikb at braju.com  Wed Mar 28 00:11:23 2001
From: henrikb at braju.com (Henrik Bengtsson)
Date: Tue, 27 Mar 2001 14:11:23 -0800
Subject: [R] Library com.braju.oo provides reference variables
Message-ID: <KKEGJOGBELBHDIKPINBMGEIBCDAA.henrikb@braju.com>

After posting (Mar 22 2001) a suggestion on how to call by reference using
.Alias several people replied an said that .Alias should NOT be used for
different reasons. I also found out that problems can occur when ".Alias
pointers" is passed between different container objects (lists etc). The
behavior of .Alias turned out to be unpredictable in some cases. In other
words, ".Alias pointers" are out of the question.

However, pointers, or preferable references, are important and needed. One
reason is that reference variables are memory efficient. Another reason is
that, the concept of reference variables allows you to have several
container objects referring to the same object. For instance, you might want
to have one list containing all red cars and another list containing all 4
cylinder cars. It might be that the two lists contains the same car(s). For
memory reasons you do not want to keep copies of the common cars in the two
lists. Also, you might want to do modifications to car objects, e.g.
changing the license number. Such changes should be reflected in the objects
contained in the two lists, without having to create new lists etc. I hope
these arguments convince some that references are necessary.

The library com.braju.oo provides the notion of references and objects. The
library is written in 100% [R] so it should be possible to use the library
on any system (I know for sure that it works on both Windows 98 and Sun
Solaris). I have tested it myself for a couple of weeks and would now like
to get other peoples opinion and feedback on it. The library seems to work
as expected. However, it should still be considered as a beta version since
the API might be changed. The com.braju.oo library can be downloaded at

   http://www.braju.com/R/com.braju.oo/

There you will also find [R] help files and some example code. Please, give
me feedback on this one.

Have a nice day

Henrik Bengtsson
Lund University & UC Berkeley
henrikb at braju.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Wed Mar 28 04:09:44 2001
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Wed, 28 Mar 2001 14:09:44 +1200
Subject: [R] plotting with more than one axis/ code/ help
Message-ID: <200103280210.f2S2AdL69726@storm.niwa.cri.nz>

A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 5390 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010328/4a3ff0bc/attachment.bin

From ripley at stats.ox.ac.uk  Wed Mar 28 07:27:49 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 28 Mar 2001 06:27:49 +0100 (BST)
Subject: [R] Exponential smoothing
In-Reply-To: <m14i0MV-007JS8C@smtp.web.de>
Message-ID: <Pine.GSO.4.31.0103280625180.13029-100000@auk.stats>

On Tue, 27 Mar 2001, Karl Christoph Keller wrote:

> Dear all,
>
> is there any function to do exponential smoothing of data in R?
>
> I have searched all documentation (at least I hope I did) and found
> nothing.

Yes, I think that's right. However, you can do it by filt() in package ts.
It's a simple recursive filter.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 28 07:34:16 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 28 Mar 2001 06:34:16 +0100 (BST)
Subject: [R] Connecting R Running on Linux to an Oracale Database Running
 on Another Server
In-Reply-To: <20010327221809.A1459@athome.lapsley>
Message-ID: <Pine.GSO.4.31.0103280629010.13029-100000@auk.stats>

On Tue, 27 Mar 2001, Michael Lapsley wrote:

> On Tue, Mar 27, 2001 at 10:52:25AM -0500, Richard A. Bilonick wrote:
> > I need to access an Oracle database running on another server from my Linux box
> > running R.
> >
> > I've downloaded RODBC but I have a sinking feeling I need more things to do this.
>
> Yes, it is not easy, although I know of one person who has succeeded (I do not
> use oracle myself and have no access to it).
>
> AFAIR you will need unixODBC plus an oracle driver.  There is a beta
> driver from www.easysoft.com for which you need a (free) licence.
> There is also a freeware driver in development but the version number
> is currently very low and I do not think there is much functionality yet.
> I think you also need some of the oracle libs.
>
> The idea is that you install unixodbc, install & licence the oracle
> driver, then set up a .odbc.ini file with the connection information
> in it.  If I remember correctly there is a bug _requiring_ that the
> password appears in the .odbc.ini.
>
> In short, you need to want to do this quite badly, although, as I said,
> I do know of one person who succeeded.
>
> PS: as a further complication, there was/is an oracle odbc driver bug
> which requires/required a complile flag to be set in RODBC.c as
> a workaround.  If you can get as far as getting a connect we can
> deal with that later if it is still necessary.

No longer, I believe, unles Oracle actaully lies about the number of rows
in a table.  I will shortly need to do this, although may just use Windows
where we have an Oracle ODBC driver.

Good to hear from you, as I at least have had no reply to several emails.
At the Vienna DSC-2001 it was decided to set up a R-dbs Special Interest
Group (mainly an email list) and I hope you will be able to participate.

Meanwhile I have a few bug reports outstanding, and would it help to
re-submit to you the changes I am currently using?

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adrian at olsen.ch  Wed Mar 28 09:36:45 2001
From: adrian at olsen.ch (Adrian Trapletti)
Date: Wed, 28 Mar 2001 09:36:45 +0200
Subject: [R] Re: R-help Digest V2 #377
Message-ID: <3AC1948D.2A8BDD96@olsen.ch>


> Date: Tue, 27 Mar 2001 22:46:37 +0200
> From: "Karl Christoph Keller" <K.Christoph.Keller at web.de>
> Subject: [R] Exponential smoothing
>
> Dear all,
>
> is there any function to do exponential smoothing of data in R?
>
> I have searched all documentation (at least I hope I did) and found
> nothing.
>
> I know exp. smoothing is a somewhat old method and better ones exist,
> but I want it for the reason of comparing results.
>
> Greetings
>
> Christoph
>

A simple exponential weighted moving average procedure would be

ewma <- function (x, lambda = 1, init = 0)
{
  y <- filter(lambda*x, filter=1-lambda, method="recursive", init=init)
  return (y)
}

Using ewma as a forecast function is known as exponential smoothing.
Try, e.g.:

x <- ts(diffinv(rnorm(100)))
y <- ewma(x,lambda=0.2,init=x[1])
plot(x)
lines(y,col="red")

best
Adrian

--
Dr.  Adrian Trapletti,  Olsen  &  Associates Ltd.
Seefeldstrasse 233, CH-8008  Z?rich,  Switzerland
Phone: +41 (1) 386 48 47   Fax: +41 (1) 422 22 82
E-mail: adrian at olsen.ch  WWW: http://www.olsen.ch




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From llaghi at foodsci.unibo.it  Wed Mar 28 10:08:09 2001
From: llaghi at foodsci.unibo.it (luca laghi)
Date: Wed, 28 Mar 2001 10:08:09 +0200
Subject: [R] R: y-title
References: <Pine.LNX.4.21.0103271247360.4577-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <000d01c0b75e$3d33fd00$06d3cc89@foodsci.unibo.it>

Dear all,
is it possible to have orizontal the y-title of a graph?
Luca Laghi

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stecalza at tiscalinet.it  Wed Mar 28 10:13:58 2001
From: stecalza at tiscalinet.it (Stefano)
Date: Wed, 28 Mar 2001 10:13:58 +0200
Subject: [R] step() & R-squared
Message-ID: <5.0.2.1.2.20010328101047.009f6530@pop.tiscalinet.it>

Dear all,

how can I get the R-squared of the sequence of models fitted by step(....,direction="forward")?

TIA,

Stefano


*******************************
Stefano Calza
Istituto di Statistica Medica e Biometria
Universit? degli Studi di Milano
Via G. Venezian, 1
20133 Milano

tel. +39 02/2361302, 02/70600908
fax 02/2362930

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 28 10:24:06 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 28 Mar 2001 09:24:06 +0100 (GMT Daylight Time)
Subject: [R] step() & R-squared
In-Reply-To: <5.0.2.1.2.20010328101047.009f6530@pop.tiscalinet.it>
Message-ID: <Pine.WNT.4.31.0103280922510.980-100000@gannet>

On Wed, 28 Mar 2001, Stefano wrote:

> Dear all,
>
> how can I get the R-squared of the sequence of models fitted by step(....,direction="forward")?

Linear models? You can compute it from the information in the anova table,
if you really must.  Whether R-squared has any value is debatable ....


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbeer at uni-goettingen.de  Wed Mar 28 10:30:48 2001
From: rbeer at uni-goettingen.de (Ragnar Beer)
Date: Wed, 28 Mar 2001 10:30:48 +0200
Subject: [R] R and xterm
Message-ID: <p04330100b6e750cfb31e@[192.168.0.98]>

Howdy!

I have a problem that's similar to one discussed earlier on the list: 
When not in xterm all the backspace and cursor-movements and stuff 
are working well. Only when I start R in an xterm window backspace 
appears as ^H and so on. What can I do?

Ragnar
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Wed Mar 28 15:19:52 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 28 Mar 2001 05:19:52 -0800
Subject: [R] R and xterm
In-Reply-To: Ragnar Beer's message of "Wed, 28 Mar 2001 10:30:48 +0200"
References: <p04330100b6e750cfb31e@[192.168.0.98]>
Message-ID: <871yric9on.fsf@jeeves.blindglobe.net>

>>>>> "RB" == Ragnar Beer <rbeer at uni-goettingen.de> writes:

    RB> Howdy!  I have a problem that's similar to one discussed
    RB> earlier on the list: When not in xterm all the backspace and
    RB> cursor-movements and stuff are working well. Only when I start
    RB> R in an xterm window backspace appears as ^H and so on. What
    RB> can I do?

So where do you run it when not in an xterm?

I suspect it's a terminfo/termcaps (terminal behavior, and I can never
recall which is being used) problem, not an R problem.  You might try
resetting the terminal prior to running R, i.e.
        TERM=vt100 ; export TERM
from sh/bash/ksh, or 
        setenv TERM vt100
from csh/tcsh etc.

These are suggestions, not guaranteed to work.  You probably want to
use 
        env
to check what your initial TERM setting is.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (friday is unknown) --------
FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cof at agere.com  Wed Mar 28 15:31:35 2001
From: cof at agere.com (Ortega, Carlos (Carlos))
Date: Wed, 28 Mar 2001 14:31:35 +0100
Subject: [R] Problems to make work Tcl/Tk library (UNIX).
Message-ID: <CB2D2F502B52D211BB3A00805F152151035D01CE@SP0005EXCH001U>

Dear R-Help,

I am starting to use R in a Unix machine:
++++++++++++++++++++++++++++++++
> R.Version()
$platform
[1] "sparc-sun-solaris2.6"

$arch
[1] "sparc"

$os
[1] "solaris2.6"

$system
[1] "sparc, solaris2.6"

$status
[1] ""

$major
[1] "1"

$minor
[1] "1.1"

$year
[1] "2000"

$month
[1] "August"

$day
[1] "15"

$language
[1] "R"
++++++++++++++++++++++++++++

and when I try to run the Tcl/Tk demo I get an error message:

++++++++++++++++++++++++++++
> require(tcltk) || stop("tcltk support is absent")
Loading required package: tcltk 
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared library
"/tools/GNU/R/1.1.1/lib/R/library/tcltk/libs/tcltk.so":
  ld.so.1: /tools/GNU/R/1.1.1/lib/R/bin/R.bin: fatal: libtcl8.3.so: open
failed: No such file or directory
Error in .C("delTcl", PACKAGE = "tcltk") : 
        C/Fortran function name not in load table
Error in eval.with.vis(expr, envir, enclos) : 
        tcltk support is absent
++++++++++++++++++++++++++++

Although I have Tcl/Tk (8.3) installed, I am not sure if this problem is due
to a improper compilation/configuration when R was installed or if the
problem is due to a missing environment variable.

Based on the error message, which are the alternatives we have ?
Re-compile and install with the adequate flags linking to the Tcl/Tk libs ?
or Is it possible to set environment variables to indicate where the Tcl/Tk
libs are available ?.

Hope that it is something very basic !

Thanks in advance.
Carlos.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Wed Mar 28 15:34:28 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Wed, 28 Mar 2001 14:34:28 +0100 (BST)
Subject: [R] R and xterm
Message-ID: <Pine.LNX.4.10.10103281434030.3157-100000@localhost.localdomain>

On Wed, 28 Mar 2001, Ragnar Beer wrote:

> Howdy!
> 
> I have a problem that's similar to one discussed earlier on the list: 
> When not in xterm all the backspace and cursor-movements and stuff 
> are working well. Only when I start R in an xterm window backspace 
> appears as ^H and so on. What can I do?
It is well known that backspace and delete are in general screwed up under
unix, especially under X, and that special efforts have to be made to get
them  as Mac and windows interpret them: delete = delete to
right, backspace=delete to left.

One reason is that many unix guys don't accept that the backspace and
delete keys should have different behaviours. These two keys didn't exist
before PCs, and so unix didn't deal with this issue in the early days.

Anne Baretta wrote a nice page describing some fixes.
Anne's page seems to be gone from the net; a copy is here:
http://turquoise.cs.ucr.edu/keyboard2/keyboard.html

I will say that under RedHat version 6.2 and greater backspace and delete
are OK in console and in xterm under X. Anne's ideas were incorporated
into Debian as well. I don't know what unix you're using, you don't say. I
know that the most recent version of FreeBSD has screwed up keys. If you
are using linux, I would suggest you switch to a distribution with
unbroken keys like RedHat or Debian. Else read Anne's page and do the
fixes.

Bill


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 28 15:57:58 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 28 Mar 2001 14:57:58 +0100 (BST)
Subject: [R] Problems to make work Tcl/Tk library (UNIX).
In-Reply-To: <CB2D2F502B52D211BB3A00805F152151035D01CE@SP0005EXCH001U>
Message-ID: <Pine.LNX.4.31.0103281454410.795-100000@gannet.stats>

On Wed, 28 Mar 2001, Ortega, Carlos (Carlos) wrote:

> Dear R-Help,
>
> I am starting to use R in a Unix machine:
> ++++++++++++++++++++++++++++++++
> > R.Version()
> $platform
> [1] "sparc-sun-solaris2.6"
>
> $arch
> [1] "sparc"
>
> $os
> [1] "solaris2.6"
>
> $system
> [1] "sparc, solaris2.6"
>
> $status
> [1] ""
>
> $major
> [1] "1"
>
> $minor
> [1] "1.1"
>
> $year
> [1] "2000"
>
> $month
> [1] "August"
>
> $day
> [1] "15"
>
> $language
> [1] "R"
> ++++++++++++++++++++++++++++
>
> and when I try to run the Tcl/Tk demo I get an error message:
>
> ++++++++++++++++++++++++++++
> > require(tcltk) || stop("tcltk support is absent")
> Loading required package: tcltk
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library
> "/tools/GNU/R/1.1.1/lib/R/library/tcltk/libs/tcltk.so":
>   ld.so.1: /tools/GNU/R/1.1.1/lib/R/bin/R.bin: fatal: libtcl8.3.so: open
> failed: No such file or directory
> Error in .C("delTcl", PACKAGE = "tcltk") :
>         C/Fortran function name not in load table
> Error in eval.with.vis(expr, envir, enclos) :
>         tcltk support is absent
> ++++++++++++++++++++++++++++

Is libtcl8.3.so in your LD_LIBRARY_PATH?

> Although I have Tcl/Tk (8.3) installed, I am not sure if this problem is due
> to a improper compilation/configuration when R was installed or if the
> problem is due to a missing environment variable.

Probably the latter, although the configure tries to pick up paths as
needed.

> Based on the error message, which are the alternatives we have ?
> Re-compile and install with the adequate flags linking to the Tcl/Tk libs ?
> or Is it possible to set environment variables to indicate where the Tcl/Tk
> libs are available ?.
>
> Hope that it is something very basic !

I think it is, and R CMD ldd /tools/GNU/R/1.1.1/lib/R/library/tcltk/libs/tcltk.so

will confirm it (or not).

I do suggest you upgrade your R, not least because I think the
configuration has been imporved since 1.1.1.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 28 16:08:17 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 28 Mar 2001 15:08:17 +0100
Subject: [R] R and xterm
Message-ID: <200103281408.f2SE8Hv01666@gannet.stats>


> From owner-r-help at stat.math.ethz.ch Wed Mar 28 14:35 BST 2001
> X-Authentication-Warning: localhost.localdomain: wsimpson owned process doing 
-bs
> Date: Wed, 28 Mar 2001 14:34:28 +0100 (BST)
> From: Bill Simpson <wsi at gcal.ac.uk>
> To: r-help at stat.math.ethz.ch
> Subject: Re: [R] R and xterm
> X-Status: 
> X-Keywords: 
> X-UID: 2631
> 
> On Wed, 28 Mar 2001, Ragnar Beer wrote:
> 
> > Howdy!
> > 
> > I have a problem that's similar to one discussed earlier on the list: 
> > When not in xterm all the backspace and cursor-movements and stuff 
> > are working well. Only when I start R in an xterm window backspace 
> > appears as ^H and so on. What can I do?

> It is well known that backspace and delete are in general screwed up under
> unix, especially under X, and that special efforts have to be made to get
> them  as Mac and windows interpret them: delete = delete to
> right, backspace=delete to left.

Eh?  At least on UNIX(R) systems they work well: I have never seen a
`screwed up' Solaris system, and ever since 1987 my systems have worked
that way.

> One reason is that many unix guys don't accept that the backspace and
> delete keys should have different behaviours. These two keys didn't exist
> before PCs, and so unix didn't deal with this issue in the early days.

Again, I have never seen this on a real UNIX.

> Anne Baretta wrote a nice page describing some fixes.
> Anne's page seems to be gone from the net; a copy is here:
> http://turquoise.cs.ucr.edu/keyboard2/keyboard.html
> 
> I will say that under RedHat version 6.2 and greater backspace and delete
> are OK in console and in xterm under X. Anne's ideas were incorporated

Um, that's a Linux system, not a UNIX one.

> into Debian as well. I don't know what unix you're using, you don't say. I
> know that the most recent version of FreeBSD has screwed up keys. If you
> are using linux, I would suggest you switch to a distribution with
> unbroken keys like RedHat or Debian. Else read Anne's page and do the
> fixes.

Well, let's not confuse the copies with the trademarked genuine article.

Quick hint: stty -sane often helps confused terminals.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bcooke at ualberta.ca  Wed Mar 28 17:10:42 2001
From: bcooke at ualberta.ca (Barry Cooke)
Date: Wed, 28 Mar 2001 10:10:42 -0500
Subject: [R] How to extract every nth element from a vector
Message-ID: <LOBBLHDGJEPNIJEICNFLMEJPCCAA.bcooke@ualberta.ca>

R-helpers:

Is there a simple way to extract every nth element from a very long vector?

[The vector I want to sample from is an object returned by lowess(). It is
so long (11,628 pairs of elements) that it is causing non-R-related memory
problems elsewhere. I don't see a better way other than sampling the output
returned from lowess.]

Thanks in advance.

Barry Cooke

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Wed Mar 28 17:28:51 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Wed, 28 Mar 2001 17:28:51 +0200 (CEST)
Subject: [R] How to extract every nth element from a vector
In-Reply-To: <LOBBLHDGJEPNIJEICNFLMEJPCCAA.bcooke@ualberta.ca>
Message-ID: <XFMail.010328172851.plummer@iarc.fr>


On 28-Mar-01 Barry Cooke wrote:
> R-helpers:
> 
> Is there a simple way to extract every nth element from a very long vector?

window() will do this.  For example,
R> x <- 1:100
R> window(x, deltat=10)
 [1]  1 11 21 31 41 51 61 71 81 91
attr(,"tsp")
[1]  1.0 91.0  0.1

This will set the "tsp" attribute, which may be a nuisance, but you can
take this off.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dsweeney at nmrc.ucc.ie  Wed Mar 28 17:27:19 2001
From: dsweeney at nmrc.ucc.ie (Dermot MacSweeney)
Date: Wed, 28 Mar 2001 16:27:19 +0100 (BST)
Subject: [R] R and xterm
Message-ID: <200103281527.QAA29309@achill.nmrc.ucc.ie>

> >I have a problem that's similar to one discussed earlier on the list: 
> >When not in xterm all the backspace and cursor-movements and stuff 
> > are working well. Only when I start R in an xterm window backspace 
> > appears as ^H and so on. What can I do?

In my solaris UNIX, the following can be used:

stty erase ^H	#sets erase to "backspace"

stty erase ^?	#sets erase to "del"

You can put this into your .login file so that it runs automatically when you 
open an xterm

Regards,
Dermot.

**************************************************************

Dermot MacSweeney			NMRC, 
Email: dsweeney at nmrc.ucc.ie		Lee Maltings, 
Tel: +353 21 4904178			Prospect Row, 
Fax: +353 21 4270271			Cork, 
WWW: http://nmrc.ucc.ie			Ireland

**************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Mar 28 17:31:55 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 28 Mar 2001 07:31:55 -0800 (PST)
Subject: [R] How to extract every nth element from a vector
In-Reply-To: <LOBBLHDGJEPNIJEICNFLMEJPCCAA.bcooke@ualberta.ca>
Message-ID: <Pine.A41.4.33.0103280729420.70234-100000@homer34.u.washington.edu>

On Wed, 28 Mar 2001, Barry Cooke wrote:

> R-helpers:
>
> Is there a simple way to extract every nth element from a very long vector?
>
> [The vector I want to sample from is an object returned by lowess(). It is
> so long (11,628 pairs of elements) that it is causing non-R-related memory
> problems elsewhere. I don't see a better way other than sampling the output
> returned from lowess.]

seq(1,11628,length=1000) will give 1000 evenly spaced numbers from 1:11628
that you can then index with.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Mar 28 17:33:09 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 28 Mar 2001 17:33:09 +0200
Subject: [R] How to extract every nth element from a vector
References: <LOBBLHDGJEPNIJEICNFLMEJPCCAA.bcooke@ualberta.ca>
Message-ID: <3AC20435.23EC21BA@statistik.uni-dortmund.de>



Barry Cooke wrote:
> 
> R-helpers:
> 
> Is there a simple way to extract every nth element from a very long vector?

vec[seq(n, length(vec), n)]


> [The vector I want to sample from is an object returned by lowess(). It is
> so long (11,628 pairs of elements) that it is causing non-R-related memory
> problems elsewhere. I don't see a better way other than sampling the output
> returned from lowess.]

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Wed Mar 28 18:22:02 2001
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Wed, 28 Mar 2001 11:22:02 -0500
Subject: [R] How to extract every nth element from a vector
Message-ID: <7FE8E243B4BCD411A69E00508B5C7C1B01FED79F@uswpmx13.merck.com>

Well, you could do something like u.sample <- u[1+(0:((length(u)-1)%/%n)*n],
but 11,628 isn't that big (well under 1mb) unless you're trying to plot it.
In that case you may want to experiment with how you choose the grid. 

Some things to keep in mind:

1. Linear interpolation is used for points within "delta" (parameter to
lowess()) of each other, so there's no point in having grid points closer
together than this. In S-Plus (don't know offhand in R) the default delta is
1% of the range of the independent variable, so this gives you 100 bins,
from each of which you need only one point.

2. You may want grid density to increase as local smoothness decreases

3. Or you may want grid density to reflect the distribution of the
independent variable or something else.

Hope that helps,


Reid Huntsinger
-----Original Message-----
From: Barry Cooke [mailto:bcooke at ualberta.ca]
Sent: Wednesday, March 28, 2001 10:11 AM
To: r-help at stat.math.ethz.ch
Subject: [R] How to extract every nth element from a vector


R-helpers:

Is there a simple way to extract every nth element from a very long vector?

[The vector I want to sample from is an object returned by lowess(). It is
so long (11,628 pairs of elements) that it is causing non-R-related memory
problems elsewhere. I don't see a better way other than sampling the output
returned from lowess.]

Thanks in advance.

Barry Cooke

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbeer at uni-goettingen.de  Wed Mar 28 17:32:54 2001
From: rbeer at uni-goettingen.de (Ragnar Beer)
Date: Wed, 28 Mar 2001 17:32:54 +0200
Subject: [R] R and xterm
In-Reply-To: <p04330100b6e750cfb31e@[192.168.0.98]>
References: <p04330100b6e750cfb31e@[192.168.0.98]>
Message-ID: <p04330101b6e7b320455a@[134.76.136.114]>

Thanks for all your answers! I could solve the problem by updating 
the OS. Now everything works as it should :)

Ragnar

>Howdy!
>
>I have a problem that's similar to one discussed earlier on the 
>list: When not in xterm all the backspace and cursor-movements and 
>stuff are working well. Only when I start R in an xterm window 
>backspace appears as ^H and so on. What can I do?
>
>Ragnar
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.beede at mail.doc.gov  Wed Mar 28 19:43:28 2001
From: david.beede at mail.doc.gov (david.beede@mail.doc.gov)
Date: Wed, 28 Mar 2001 12:43:28 -0500
Subject: [R] efficiency and "forcing" questions
Message-ID: <OF5E198538.351DAD30-ON85256A1B.00629878@mail.doc.gov>

Dear R listers --

The program below does the following tasks:

1.  It creates a file (wintemp4) that is a subset of alldata4 consisting of
"winner" records in 50 industry groups (about 5400 obs);

2.  It defines a function (myppr1) that runs the ppr function in modreg
once to generate goodness of fit (sum of squared errors) measures by number
of terms included in model and then reruns ppr using the number of terms
with the lowest sum of squared errors.

3.  It grinds through a loop, subsetting wintemp4 by group and running
myppr1 for each
group subset; and

4.  It puts the ppr output into a separate vector element for each group
(in an attempt to avoid "growing" the vector).

I am using R version 1.2.2 in Emacs/ESS on Win98 with 256mb RAM.

I have two questions; I would be most grateful for any help the list can
provide:

A.  This program *seems* to take a long time.  I have been careful to free
as much memory as I can, and the gc()'s seem to help avoid using the
swapfile and to keep available system resources above 90%.  Is there
anything else I can do to make the program more efficient?

B.  I say "seems" because after running the program for an hour, I type
ctl-G to quit.  The *R* session seemed to be terminated, with about 40 or
so groups processed, so I opened up another R session to try to see what
had happened.  After I quit the second session, suddenly the first session
seemed to come back to life and spit out the printed output for the rest of
the groups!  So I wonder if there is something I need to add to my program
to "force" it to finish processing?  (I apologize for the inarticulate way
I am posing this question!)

Thanks in advance.

David N. Beede
Economist
Office of Policy Development
Economics and Statistics Administration
U.S. Department of Commerce
Room 4858 HCHB
14th Street and Pennsylvania Avenue, N.W.
Washington, DC  20230
Voice:  202.482.1226
Fax:    202.482.0325
e-mail:  david.beede at mail.doc.gov


#Here is the program
for(i in 1:4) gc()
load("alldata4.Rdata")
assign("wintemp4", subset(alldata4, 1 <= group & group <= 50 & winner==1))
rm(alldata4)
for(i in 1:4) gc()
library(modreg)
attach(wintemp4)

myppr1 <- function(x)
{
#run pprfile once to get list of sum of squared errors corresponding to differen numbers of terms
      pprfile.ppr <- ppr(
               award~
               ilogemp+ilogage+sdb+allsmall+
               size2+size3+size4+size5+size6+size7+size8+size9+size10+
               X.Iprimnaic.2+X.Iprimnaic.3+X.Iprimnaic.4+X.Iprimnaic.5+X.Iprimnaic.6+
               X.Iprimnaic.7+X.Iprimnaic.8+X.Iprimnaic.9+X.Iprimnaic.10+X.Iprimnaic.11+
               X.Iprimnaic.12+X.Iprimnaic.13+X.Iprimnaic.14+X.Iprimnaic.15+X.Iprimnaic.16+
               X.Iprimnaic.17+X.Iprimnaic.18+X.Iprimnaic.19+X.Iprimnaic.20+X.Iprimnaic.21+
               X.Iprimnaic.22+X.Iprimnaic.23+X.Iprimnaic.24+X.Iprimnaic.25+X.Iprimnaic.26,
               data=x, nterms=1, max.terms= min(nrow(x),40), optlevel=3
                        )
#pick number of terms giving best fit
         numterm <- which.min(pprfile.ppr$gofn[pprfile.ppr$gofn>0])
         pprfile.ppr <- ppr(
               award~
               ilogemp+ilogage+sdb+allsmall+
               size2+size3+size4+size5+size6+size7+size8+size9+size10+
               X.Iprimnaic.2+X.Iprimnaic.3+X.Iprimnaic.4+X.Iprimnaic.5+X.Iprimnaic.6+
               X.Iprimnaic.7+X.Iprimnaic.8+X.Iprimnaic.9+X.Iprimnaic.10+X.Iprimnaic.11+
               X.Iprimnaic.12+X.Iprimnaic.13+X.Iprimnaic.14+X.Iprimnaic.15+X.Iprimnaic.16+
               X.Iprimnaic.17+X.Iprimnaic.18+X.Iprimnaic.19+X.Iprimnaic.20+X.Iprimnaic.21+
               X.Iprimnaic.22+X.Iprimnaic.23+X.Iprimnaic.24+X.Iprimnaic.25+X.Iprimnaic.26,
               data=x, nterms=numterm, max.terms= min(nrow(x),40), optlevel=3
                            )
      cat("group =", x$group[1],"\n")
      cat("NAIC =", x$naic4[1],"\n")
      cat("cendiv =", as.character(x$cendiv[1]),"\n")
      cat("number of obs used =", nrow(x),"\n")
      print(summary(pprfile.ppr))
}

grouparr <- levels(as.factor(wintemp4$group))
pprest <- vector(mode="list",length=length(grouparr))

for(i in seq(along=grouparr))
  {
    subi <- subset(wintemp4,wintemp4$group==grouparr[i])
    if(nrow(subi) > 40) pprest[i][[1]] <- myppr1(subi)
    rm(subi)
    print(gc())
  }

detach(wintemp4)



2. How can one prevent "for loop" output data frame growth?
On p. 178 of "S Programming" by VR, there is a suggestion that it is more
efficient to create an object at least the size of the ultimate output
object, in order to avoid generating copies of the object at each iteration
of a for loop.  This seems easy enough for a vector, as illustrated by VR.
However, it is not obvious to me how to do this for the data frame I wish
to

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Wed Mar 28 19:44:01 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 28 Mar 2001 09:44:01 -0800
Subject: [R] efficiency and "forcing" questions
In-Reply-To: david.beede@mail.doc.gov's message of "Wed, 28 Mar 2001 12:43:28 -0500"
References: <OF5E198538.351DAD30-ON85256A1B.00629878@mail.doc.gov>
Message-ID: <87puf13i1q.fsf@jeeves.blindglobe.net>

>>>>> "db" == david beede <david.beede at mail.doc.gov> writes:

    db> B.  I say "seems" because after running the program for an
    db> hour, I type ctl-G to quit.  The *R* session seemed to be
    db> terminated, with about 40 or so groups processed, so I opened
    db> up another R session to try to see what had happened.  After I
    db> quit the second session, suddenly the first session seemed to
    db> come back to life and spit out the printed output for the rest
    db> of the groups!  So I wonder if there is something I need to
    db> add to my program to "force" it to finish processing?  (I
    db> apologize for the inarticulate way I am posing this question!)

This delay "might" be due to problems with Emacs.  

(reason for cc'ing r-help) Is there anything comparable to "top" on
unix, for windows, so that you can track process status?

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (friday is unknown) --------
FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 28 20:17:36 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 28 Mar 2001 19:17:36 +0100 (GMT Daylight Time)
Subject: [R] efficiency and "forcing" questions
In-Reply-To: <87puf13i1q.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.WNT.4.31.0103281916300.209-100000@tern.stats>

On 28 Mar 2001, A.J. Rossini wrote:

> >>>>> "db" == david beede <david.beede at mail.doc.gov> writes:
>
>     db> B.  I say "seems" because after running the program for an
>     db> hour, I type ctl-G to quit.  The *R* session seemed to be
>     db> terminated, with about 40 or so groups processed, so I opened
>     db> up another R session to try to see what had happened.  After I
>     db> quit the second session, suddenly the first session seemed to
>     db> come back to life and spit out the printed output for the rest
>     db> of the groups!  So I wonder if there is something I need to
>     db> add to my program to "force" it to finish processing?  (I
>     db> apologize for the inarticulate way I am posing this question!)
>
> This delay "might" be due to problems with Emacs.
>
> (reason for cc'ing r-help) Is there anything comparable to "top" on
> unix, for windows, so that you can track process status?

Task Manager on NT/2000/XP; right-click taskbar.
wintop (a `powertoy') on 95/98/Me: download from Microsoft

>
> best,
> -tony
>
> --
> A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
> UW Biostat/Center for AIDS Research	rossini at u.washington.edu
> FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
> -------- (friday is unknown) --------
> FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
> CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
> UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Wed Mar 28 19:03:13 2001
From: aolinto at bignet.com.br (Antonio Olinto)
Date: Wed, 28 Mar 2001 14:03:13 -0300
Subject: [R] fitting growth curves
Message-ID: <3AC21951.5EE4A7C6@bignet.com.br>

Dear R-list members,

Cynthia M. Jones wrote a paper (Fitting growth curves to retrospective
size-at-age data, Fisheries Research 46(2000):123-129; abstract at
http://www.elsevier.nl/gej-ng/10/19/44/70/24/37/abstract.html)where the
SAS procedure MIXED, Macro NLINMIX (Littell et. al., 1996)was used to
estimate the von Bertalanffy growth function parameters assuming that
data from the same fish are repeated-measures with autoregressive
correlation structure and fitting with a nonlinear repeated-measures
model.

Is there any similar procedure that I can use in R?

Thanks,

Antonio Olinto
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From drhosini at hotmail.com  Wed Mar 28 21:15:14 2001
From: drhosini at hotmail.com (Moustafa ElHousinie)
Date: Wed, 28 Mar 2001 19:15:14 -0000
Subject: No subject
Message-ID: <F134KIBXEHt3V5g2oHz00000d1d@hotmail.com>

Dear Collague
I am a newbiwith this magnificant R-Language, so execuse my ignorance. How 
can I draw a nomogram with R?
Mostafa
_________________________________________________________________________
Get Your Private, Free E-mail from MSN Hotmail at http://www.hotmail.com.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Mar 28 21:38:31 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 28 Mar 2001 13:38:31 -0600
Subject: [R] fitting growth curves
In-Reply-To: <3AC21951.5EE4A7C6@bignet.com.br>
References: <3AC21951.5EE4A7C6@bignet.com.br>
Message-ID: <6rn1a5fzuw.fsf@franz.stat.wisc.edu>

Antonio Olinto <aolinto at bignet.com.br> writes:

> Cynthia M. Jones wrote a paper (Fitting growth curves to retrospective
> size-at-age data, Fisheries Research 46(2000):123-129; abstract at
> http://www.elsevier.nl/gej-ng/10/19/44/70/24/37/abstract.html)where the
> SAS procedure MIXED, Macro NLINMIX (Littell et. al., 1996)was used to
> estimate the von Bertalanffy growth function parameters assuming that
> data from the same fish are repeated-measures with autoregressive
> correlation structure and fitting with a nonlinear repeated-measures
> model.
> 
> Is there any similar procedure that I can use in R?

Yes - the nlme function from the library of the same name.

The usage of both lme and nlme is described in
@Book{pinh:bate:2000,
  author =	 {Jos\'{e} C. Pinheiro and Douglas M. Bates},
  title = 	 {Mixed-Effects Models in \textsf{S} and \textsf{S-PLUS}},
  publisher = 	 {Springer},
  year = 	 2000,
  series =	 {Statistics and Computing}
}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.beede at mail.doc.gov  Wed Mar 28 21:57:30 2001
From: david.beede at mail.doc.gov (david.beede@mail.doc.gov)
Date: Wed, 28 Mar 2001 14:57:30 -0500
Subject: [R] efficiency and "forcing" questions
Message-ID: <OF708A0D86.3EA878FE-ON85256A1D.006CCCC8@mail.doc.gov>


Dear R listers --
Thank you for the suggestions from Tony and Prof. Ripley about wintop.  My
understanding is that wintop will monitor CPU and memory usage by process,
so one can tell quickly if an R program is still running or not.  This is
very useful!

You should note however that the MS web page claims that wintop and the
other PowerTools (or PowerKernel) applications should not be installed on
Win 98 machines.  However, a search through Yahoo found users advising
people to disregard the disclaimer on the MS website, although some of the
other PowerTools did cause problems in Win98.  Also, I looked through
www.zdnet.com and found a highly-rated product called TaskInfo v.2.21 that
is free for a thirty day evaluation and only costs $12.  It seems to work
well.  (Note:  this is neither a plug nor an endorsement of the product.)





Prof Brian D Ripley <ripley at stats.ox.ac.uk>@stats.ox.ac.uk on 03/28/2001
01:17:36 PM

Sent by:  ripley at stats.ox.ac.uk


To:   <rossini at u.washington.edu>
cc:   <david.beede at mail.doc.gov>, <r-help at stat.math.ethz.ch>

Subject:  Re: [R] efficiency and "forcing" questions


On 28 Mar 2001, A.J. Rossini wrote:

> >>>>> "db" == david beede <david.beede at mail.doc.gov> writes:
>
>     db> B.  I say "seems" because after running the program for an
>     db> hour, I type ctl-G to quit.  The *R* session seemed to be
>     db> terminated, with about 40 or so groups processed, so I opened
>     db> up another R session to try to see what had happened.  After I
>     db> quit the second session, suddenly the first session seemed to
>     db> come back to life and spit out the printed output for the rest
>     db> of the groups!  So I wonder if there is something I need to
>     db> add to my program to "force" it to finish processing?  (I
>     db> apologize for the inarticulate way I am posing this question!)
>
> This delay "might" be due to problems with Emacs.
>
> (reason for cc'ing r-help) Is there anything comparable to "top" on
> unix, for windows, so that you can track process status?

Task Manager on NT/2000/XP; right-click taskbar.
wintop (a `powertoy') on 95/98/Me: download from Microsoft

>
> best,
> -tony
>
> --
> A.J. Rossini                Rsrch. Asst. Prof. of Biostatistics
> UW Biostat/Center for AIDS Research    rossini at u.washington.edu
> FHCRC/SCHARP/HIV Vaccine Trials Net    rossini at scharp.org
> -------- (friday is unknown) --------
> FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
> CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
> UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to
FAX
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._
>

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dpowers at mail.la.utexas.edu  Wed Mar 28 22:56:38 2001
From: dpowers at mail.la.utexas.edu (Daniel A. Powers)
Date: Wed, 28 Mar 2001 14:56:38 -0600 (CST)
Subject: [R] fitting growth curves
In-Reply-To: <3AC21951.5EE4A7C6@bignet.com.br>
Message-ID: <Pine.GSO.4.33.0103281447150.11121-100000@dahlia.la.utexas.edu>

Antonio --

You can estimate a linear mixed model with lme in library(nlme). Models
typically take a long time to estimate compared to sas proc mixed (but I
had a few thousand observations).  The nonlinear mixed models can be done
using nlme in library(nlme). However, I'm not clear on how to set up the
functions. If someone has a complete example (with function), I'd like to
see it.

Note that SAS now has proc NLMixed (not a macro).

Cheers,
Dan

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Dan Powers
Associate Professor, Sociology
University of Texas at Austin


On Wed, 28 Mar 2001, Antonio Olinto wrote:

> Dear R-list members,
>
> Cynthia M. Jones wrote a paper (Fitting growth curves to retrospective
> size-at-age data, Fisheries Research 46(2000):123-129; abstract at
> http://www.elsevier.nl/gej-ng/10/19/44/70/24/37/abstract.html)where the
> SAS procedure MIXED, Macro NLINMIX (Littell et. al., 1996)was used to
> estimate the von Bertalanffy growth function parameters assuming that
> data from the same fish are repeated-measures with autoregressive
> correlation structure and fitting with a nonlinear repeated-measures
> model.
>
> Is there any similar procedure that I can use in R?
>
> Thanks,
>
> Antonio Olinto
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Rajiv.Prasad at pnl.gov  Wed Mar 28 23:57:29 2001
From: Rajiv.Prasad at pnl.gov (Prasad, Rajiv)
Date: Wed, 28 Mar 2001 13:57:29 -0800
Subject: [R] Help: Using R from C
Message-ID: <202822BFB70EBC4BB3EAFD853EE2B6BF04B087@pnlmse10.pnl.gov>


Hi folks:

I am just beginning to try and use R from my own C programs.  Platform is
Windows2000, compiler Visual C++ 6.0.  I built the import library R.lib from
R.dll using the VC LIB.exe program.  Here is a simple code I am trying to
compile and run (no C++, VC++ is instructed to treat it strictly as C):

#include "R.h"
#include "Rinternals.h"

int main(void)
{
	int i;
	char *greeting;
	SEXP x;

	greeting = (char *) Calloc(31, char);
	sprintf(greeting, "\nCallRFromC: test 1\n");
	printf(greeting);

	printf("Here is a vector:\n");

	/* allocate an R vector */
	PROTECT(x = allocVector(REALSXP, 10));
	for(i=0; i<10; i++) {
		REAL(x)[i] = (double)i;
		printf("  x[%2d] = %lf\n", REAL(x)[i]);
	}
	UNPROTECT(1);

	return 0;
}

The code builds without any problem (I am linking it with the import library
R.lib, and R.dll is in the path).  While running, though, the code segfaults at
the allocVector(...) call.  The error message is [The instruction at
"0x002ee77e" referenced memory at ")x0000000c". The memory could not be "read".
Click on OK to terminate the program]

Stepping into the code using the debug mode, the crash happens at the
allocVector(...) call.

Am I missing something obvious here?  Any help is greatly appreciated.

Rajiv.
--------
Rajiv Prasad							(509) 375-2096
(Voice)
Postdoctoral Research Associate, Hydrology Group	(509) 372-6089	(Fax)
Pacific Northwest National Laboratory			rajiv.prasad at pnl.gov
P.O. Box 999, MSIN K9-33, Richland, WA 99352

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dtabb at scripps.edu  Thu Mar 29 00:44:50 2001
From: dtabb at scripps.edu (David L. Tabb)
Date: Wed, 28 Mar 2001 14:44:50 -0800 (PST)
Subject: [R] nchar on data.frames
Message-ID: <Pine.LNX.4.21.0103281441420.2532-100000@mojave.scripps.edu>

I don't understand why nchar() gives different string lengths for vectors
in a list than it does for vectors in a dataframe.  Here's a snippet of
code:

> temp <- list(text=c("thug","jimbob","apple","thug"),numbers=1:4)
> nchar(temp$text)
[1] 4 6 5 4
> temp <- data.frame(temp)
> nchar(temp$text)
[1] 1 1 1 1

Could someone explain how I can get the former behavior for a text vector
in a data.frame?

Thanks!  RPM reports I'm using R-base-1.2.1-2.

Dave

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Mar 29 00:58:17 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 28 Mar 2001 17:58:17 -0500 (EST)
Subject: [R] nchar on data.frames
In-Reply-To: <Pine.LNX.4.21.0103281441420.2532-100000@mojave.scripps.edu>
Message-ID: <Pine.LNX.4.30.0103281756050.13474-100000@bolker.zoo.ufl.edu>


   Your character vector got turned into a factor (see ?data.frame).  One
way to track this kind of problem down is with the str() function.
For "read.table" there is an "as.is" parameter that will prevent this
happening, but it looks like for data.frame you have to do something like

data.frame(text=I(temp$text),numbers=temp$numbers))

On Wed, 28 Mar 2001, David L. Tabb wrote:

> I don't understand why nchar() gives different string lengths for vectors
> in a list than it does for vectors in a dataframe.  Here's a snippet of
> code:
>
> > temp <- list(text=c("thug","jimbob","apple","thug"),numbers=1:4)
> > nchar(temp$text)
> [1] 4 6 5 4
> > temp <- data.frame(temp)
> > nchar(temp$text)
> [1] 1 1 1 1
>
> Could someone explain how I can get the former behavior for a text vector
> in a data.frame?
>
> Thanks!  RPM reports I'm using R-base-1.2.1-2.
>
> Dave
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From shenk at math.gatech.edu  Thu Mar 29 01:20:22 2001
From: shenk at math.gatech.edu (Ron Shonkwiler)
Date: Wed, 28 Mar 2001 18:20:22 -0500 (EST)
Subject: [R] looking for a stable package
Message-ID: <200103282320.SAA11200@math24.math.gatech.edu>

I am looking for a package to generate points from a stable law,
that is a heavy tailed distribution.  Splus has such a package
called rstab.

ron shonkwiler

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Rajiv.Prasad at pnl.gov  Thu Mar 29 01:34:26 2001
From: Rajiv.Prasad at pnl.gov (Prasad, Rajiv)
Date: Wed, 28 Mar 2001 15:34:26 -0800
Subject: [R] Followup: Help: Using R from C
Message-ID: <202822BFB70EBC4BB3EAFD853EE2B6BF04B08C@pnlmse10.pnl.gov>


Hi folks:

Just to add what I initially thought was not an issue:  what I am trying to do
is to build a standalone executable that calls R functions and NOT build a dll
which can be dyn.load()ed into an R session.

Is this possible at all?

TIA.

Rajiv.
--------
Rajiv Prasad					(509) 375-2096	(Voice)
Postdoctoral Research Associate, Hydrology Group	(509) 372-6089	(Fax)
Pacific Northwest National Laboratory		rajiv.prasad at pnl.gov
P.O. Box 999, MSIN K9-33, Richland, WA 99352
 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tomlinso at purdue.edu  Thu Mar 29 02:56:26 2001
From: tomlinso at purdue.edu (nels tomlinson)
Date: Wed, 28 Mar 2001 19:56:26 -0500
Subject: [R] nchar on data.frames
References: <Pine.LNX.4.21.0103281441420.2532-100000@mojave.scripps.edu>
Message-ID: <3AC2883A.8030909@purdue.edu>

Take a look at what you are taking the length of:


 > temp <- list(text=c("thug","jimbob","apple","thug"),numbers=1:4)
 >
 > attributes(temp$text)
NULL
 > attributes(temp)
$names
[1] "text"    "numbers"

and then after you make it a data frame, they are very different things:

 > temp<-data.frame(temp)
 > attributes(temp)
$names
[1] "text"    "numbers"

$row.names
[1] "1" "2" "3" "4"

$class
[1] "data.frame"

 > attributes(temp$text)
$levels
[1] "apple"  "jimbob" "thug" 

$class
[1] "factor"

So, by making it a data.frame, you made the vector of strings into a 
vector holding a factor (discrete-valued) variable with levels equal to 
the three unique strings.  I'll have to leave it to someone who knows 
what he's doing to explain why the nchar() gives different lengths. 

I think that that is a sensible transformation to make, by the way.  
After all, if it is really data, that's probably what you really meant 
... Of course, if what you really wanted was to make those character 
strings into row names, use the row.name= argument of data.frame() to do 
just that.  If you REALLY wanted a vector of strings in there, use the 
I() function to make it so.  See the details section of the data.frame() 
function for details on this.  Here's how I made it work:

 > temp <- data.frame(text=I(c("thug","jimbob","apple","thug")),numbers=1:4)
 > attributes(temp)
$names
[1] "text"    "numbers"

$row.names
[1] "1" "2" "3" "4"

$class
[1] "data.frame"

 > attributes(temp$text)
$class
[1] "AsIs"

 > nchar(temp$text)
[1] 4 6 5 4
 >


By the way, when someone who's speaking of libre software says "read the 
fine manual", he's usually speaking ironically; the manual usually isn't 
"fine" ( but you must still read it!).  R is wonderfully unique in that 
the manual really is fine, even in comparison to the commercial 
software.  I've been looking through the documentation for S-Plus, which 
is certainly the closest commercial approach to R, and I really don't 
think that their documentation is superior to R's. 

Hope this helps,
Nels

David L. Tabb wrote:

> I don't understand why nchar() gives different string lengths for vectors
> in a list than it does for vectors in a dataframe.  Here's a snippet of
> code:
> 
>> temp <- list(text=c("thug","jimbob","apple","thug"),numbers=1:4)
>> nchar(temp$text)
> 
> [1] 4 6 5 4
> 
>> temp <- data.frame(temp)
>> nchar(temp$text)
> 
> [1] 1 1 1 1
> 
> Could someone explain how I can get the former behavior for a text vector
> in a data.frame?
> 
> Thanks!  RPM reports I'm using R-base-1.2.1-2.
> 
> Dave
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Thu Mar 29 03:19:02 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Wed, 28 Mar 2001 20:19:02 -0500 (EST)
Subject: [R] nchar on data.frames
In-Reply-To: <Pine.LNX.4.30.0103281756050.13474-100000@bolker.zoo.ufl.edu>
Message-ID: <Pine.GSO.4.04.10103282014050.1479-100000@julius.ling.ohio-state.edu>


Ben mentions using
%data.frame(text=I(temp$text),numbers=temp$numbers))

to read in text and numeric data in data.frame. I have read the help pages
about this, but not understood what was meant by protecting text data with
I. Does this mean that any text entry beginning with "I" will be read as
character string data variable rather than a factor?

Many thanks!

d 

S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

On Wed, 28 Mar 2001 ben at zoo.ufl.edu wrote:

%
%   Your character vector got turned into a factor (see ?data.frame).  One
%way to track this kind of problem down is with the str() function.
%For "read.table" there is an "as.is" parameter that will prevent this
%happening, but it looks like for data.frame you have to do something like
%
%
%On Wed, 28 Mar 2001, David L. Tabb wrote:
%
%> I don't understand why nchar() gives different string lengths for vectors
%> in a list than it does for vectors in a dataframe.  Here's a snippet of
%> code:
%>
%> > temp <- list(text=c("thug","jimbob","apple","thug"),numbers=1:4)
%> > nchar(temp$text)
%> [1] 4 6 5 4
%> > temp <- data.frame(temp)
%> > nchar(temp$text)
%> [1] 1 1 1 1
%>
%> Could someone explain how I can get the former behavior for a text vector
%> in a data.frame?
%>
%> Thanks!  RPM reports I'm using R-base-1.2.1-2.
%>
%> Dave
%>
%> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
%> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
%> Send "info", "help", or "[un]subscribe"
%> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
%> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
%>
%
%-- 
%318 Carr Hall                                bolker at zoo.ufl.edu
%Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
%Box 118525                                   (ph)  352-392-5697
%Gainesville, FL 32611-8525                   (fax) 352-392-3704
%
%-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
%r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
%Send "info", "help", or "[un]subscribe"
%(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
%_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
%

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Mar 29 04:29:58 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 28 Mar 2001 21:29:58 -0500 (EST)
Subject: [R] nchar on data.frames
In-Reply-To: <Pine.GSO.4.04.10103282014050.1479-100000@julius.ling.ohio-state.edu>
Message-ID: <Pine.LNX.4.30.0103282116230.14748-100000@bolker.zoo.ufl.edu>


  Admittedly "protected by `I'" may not immediately conjure up the
particular construction shown below (although there is an example in the
help for data.frame() as well).  It doesn't mean that the text itself has
to begin with I, it means (as shown below) that the variable has to be
specified as I(x) rather than x itself.  This could be clumsy if for
example you wanted to convert a many-columned matrix to a data frame; I
guess you could do it with a loop (I just tried to figure out how to do it
with lapply() and a function levels(x)[x] which turns a factor back into a
text string, but it didn't work ...)

   Ben

On Wed, 28 Mar 2001, David White wrote:

>
> Ben mentions using
> %data.frame(text=I(temp$text),numbers=temp$numbers))
>
> to read in text and numeric data in data.frame. I have read the help pages
> about this, but not understood what was meant by protecting text data with
> I. Does this mean that any text entry beginning with "I" will be read as
> character string data variable rather than a factor?
>
> Many thanks!
>
> d
>
> S. David White
> sdavidwhite at bigfoot.com
> Columbus, Ohio
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar 29 07:04:13 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 29 Mar 2001 06:04:13 +0100 (BST)
Subject: [R] efficiency and "forcing" questions
In-Reply-To: <OF708A0D86.3EA878FE-ON85256A1D.006CCCC8@mail.doc.gov>
Message-ID: <Pine.GSO.4.31.0103290601090.14077-100000@auk.stats>

On Wed, 28 Mar 2001 david.beede at mail.doc.gov wrote:

>
> Dear R listers --
> Thank you for the suggestions from Tony and Prof. Ripley about wintop.  My
> understanding is that wintop will monitor CPU and memory usage by process,
> so one can tell quickly if an R program is still running or not.  This is
> very useful!
>
> You should note however that the MS web page claims that wintop and the
> other PowerTools (or PowerKernel) applications should not be installed on
> Win 98 machines.  However, a search through Yahoo found users advising
> people to disregard the disclaimer on the MS website, although some of the
> other PowerTools did cause problems in Win98.

Well, I have used it many times on Win98 machines, both 98 (4.10) and 98SE
(4.10a)  so I would just ignore the warning.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar 29 07:47:49 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 29 Mar 2001 06:47:49 +0100 (BST)
Subject: [R] Help: Using R from C
In-Reply-To: <202822BFB70EBC4BB3EAFD853EE2B6BF04B087@pnlmse10.pnl.gov>
Message-ID: <Pine.GSO.4.31.0103290641390.14077-100000@auk.stats>

On Wed, 28 Mar 2001, Prasad, Rajiv wrote:

>
> Hi folks:
>
> I am just beginning to try and use R from my own C programs.  Platform is
> Windows2000, compiler Visual C++ 6.0.  I built the import library R.lib from
> R.dll using the VC LIB.exe program.  Here is a simple code I am trying to
> compile and run (no C++, VC++ is instructed to treat it strictly as C):
>
> #include "R.h"
> #include "Rinternals.h"
>
> int main(void)
> {
> 	int i;
> 	char *greeting;
> 	SEXP x;
>
> 	greeting = (char *) Calloc(31, char);
> 	sprintf(greeting, "\nCallRFromC: test 1\n");
> 	printf(greeting);
>
> 	printf("Here is a vector:\n");
>
> 	/* allocate an R vector */
> 	PROTECT(x = allocVector(REALSXP, 10));
> 	for(i=0; i<10; i++) {
> 		REAL(x)[i] = (double)i;
> 		printf("  x[%2d] = %lf\n", REAL(x)[i]);
> 	}
> 	UNPROTECT(1);
>
> 	return 0;
> }
>
> The code builds without any problem (I am linking it with the import library
> R.lib, and R.dll is in the path).  While running, though, the code segfaults at
> the allocVector(...) call.  The error message is [The instruction at
> "0x002ee77e" referenced memory at ")x0000000c". The memory could not be "read".
> Click on OK to terminate the program]
>
> Stepping into the code using the debug mode, the crash happens at the
> allocVector(...) call.
>
> Am I missing something obvious here?  Any help is greatly appreciated.

Um.  Wherever did you get the idea that would work?  You have not
initialized R.  The examples given are to start and run the R main loop.
Even if you get this to work (and I think you can by looking carefully at
what the code in main.c does), you will have to cope with the R error
handler which longjmps to the R main loop.

You didn't say what you were trying to do with R from your C program.
Either follow the examples in src/gnuwin32/front-ends precisely and use
callbacks or multiple threads, or use the DCOM R server on CRAN (which is a
lot easier to use).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Thu Mar 29 09:29:02 2001
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Thu, 29 Mar 2001 09:29:02 +0200 (MET DST)
Subject: [R] looking for a stable package
In-Reply-To: <200103282320.SAA11200@math24.math.gatech.edu> from "Ron Shonkwiler" at Mar 28, 2001 06:20:22 PM
Message-ID: <200103290729.JAA26793@luc.ac.be>


> 
> I am looking for a package to generate points from a stable law,
> that is a heavy tailed distribution.  Splus has such a package
> called rstab.

rstable in my stable library at
www.luc.ac.be/~jlindsey/rcode.html
  Jim

> 
> ron shonkwiler
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Thu Mar 29 09:32:45 2001
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Thu, 29 Mar 2001 09:32:45 +0200 (MET DST)
Subject: [R] fitting growth curves
In-Reply-To: <3AC21951.5EE4A7C6@bignet.com.br> from "Antonio Olinto" at Mar 28, 2001 02:03:13 PM
Message-ID: <200103290732.JAA15433@luc.ac.be>


> 
> Dear R-list members,
> 
> Cynthia M. Jones wrote a paper (Fitting growth curves to retrospective
> size-at-age data, Fisheries Research 46(2000):123-129; abstract at
> http://www.elsevier.nl/gej-ng/10/19/44/70/24/37/abstract.html)where the
> SAS procedure MIXED, Macro NLINMIX (Littell et. al., 1996)was used to
> estimate the von Bertalanffy growth function parameters assuming that
> data from the same fish are repeated-measures with autoregressive
> correlation structure and fitting with a nonlinear repeated-measures
> model.
> 
> Is there any similar procedure that I can use in R?

elliptic in my growth library will do this even if the times are
unequally spaced. (Unless it changed recently, nlme gives incorrect
answers for the AR in this case.)
  Jim

> 
> Thanks,
> 
> Antonio Olinto
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Thu Mar 29 12:37:01 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang@xtra.co.nz)
Date: Thu, 29 Mar 2001 22:37:01 +1200
Subject: [R] screeplot()  v.s. plot()
Message-ID: <00bd01c0b83c$3184a8e0$c62137d2@KoKang>

Hi,

Suppose I've got a data set that I found the eigenvalues and eigenvectors.  Then I want to draw a screeplot for the eigenvalues.  However it returns:
   Error in matrix(w.m, nc = NC) : negative extents to matrix

Then I tried a plot() function on the eigenvalues of the data set, and I can successfully draw it!  And the output looks like what the screeplot would show to me.

Is there any difference between them, in the case of plotting the eigenvalues?  

Thanks,

Kevin

PS.  I've set my mailer to send this message as text-based.  I hope this is the case and none of you will see it as html file.

-------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar 29 12:56:34 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 29 Mar 2001 11:56:34 +0100 (GMT Daylight Time)
Subject: [R] screeplot()  v.s. plot()
In-Reply-To: <00bd01c0b83c$3184a8e0$c62137d2@KoKang>
Message-ID: <Pine.WNT.4.31.0103291153480.756-100000@gannet>

On Thu, 29 Mar 2001 Ko-Kang at xtra.co.nz wrote:

> Hi,
>
> Suppose I've got a data set that I found the eigenvalues and eigenvectors.  Then I want to draw a screeplot for the eigenvalues.  However it returns:
>    Error in matrix(w.m, nc = NC) : negative extents to matrix
>
> Then I tried a plot() function on the eigenvalues of the data set, and I can successfully draw it!  And the output looks like what the screeplot would show to me.
>
> Is there any difference between them, in the case of plotting the eigenvalues?

screeplot is implement for an object of class "princomp": see its help
page.  For such an object

> plot.princomp
function (x, main = deparse(substitute(x)), ...)
screeplot(x, main = main, ...)

so there is no difference.  I suspect you don't have such an object and so
should not be calling screeplot.

> Thanks,
>
> Kevin
>
> PS.  I've set my mailer to send this message as text-based.  I hope this is the case and none of you will see it as html file.

You forgot to set line wrap, though.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Mar 29 16:13:28 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Thu, 29 Mar 2001 09:13:28 -0500 (EST)
Subject: [R] looking for a stable package
In-Reply-To: <200103290729.JAA26793@luc.ac.be>
Message-ID: <Pine.LNX.4.30.0103290911470.15141-100000@bolker.zoo.ufl.edu>


  I can understand lots of reasons for wanting to keep your libraries on
your page rather than on CRAN, but I wonder if there's a way to put the
indices etc. on CRAN so that people are  more likely to find what they
want?

On Thu, 29 Mar 2001, Jim Lindsey wrote:

>
> >
> > I am looking for a package to generate points from a stable law,
> > that is a heavy tailed distribution.  Splus has such a package
> > called rstab.
>
> rstable in my stable library at
> www.luc.ac.be/~jlindsey/rcode.html
>   Jim
>
> >
> > ron shonkwiler
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jcp at research.bell-labs.com  Thu Mar 29 16:50:59 2001
From: jcp at research.bell-labs.com (Jose Pinheiro)
Date: Thu, 29 Mar 2001 09:50:59 -0500 (EST)
Subject: [R] fitting growth curves
Message-ID: <200103291450.JAA00833@jessie.research.bell-labs.com>

>> 
>> Dear R-list members,
>> 
>> Cynthia M. Jones wrote a paper (Fitting growth curves to retrospective
>> size-at-age data, Fisheries Research 46(2000):123-129; abstract at
>> http://www.elsevier.nl/gej-ng/10/19/44/70/24/37/abstract.html)where the
>> SAS procedure MIXED, Macro NLINMIX (Littell et. al., 1996)was used to
>> estimate the von Bertalanffy growth function parameters assuming that
>> data from the same fish are repeated-measures with autoregressive
>> correlation structure and fitting with a nonlinear repeated-measures
>> model.
>> 
>> Is there any similar procedure that I can use in R?
>
> elliptic in my growth library will do this even if the times are
> unequally spaced. (Unless it changed recently, nlme gives incorrect
> answers for the AR in this case.)

There is a continuous AR(1) class, corCAR1, in the nlme library which
should be used in the case when the times are unequally spaced and
measured on a continuous scale. This is equivalent to the correlation
structure implemented in elliptic. There are other correlation classes
in nlme that can be used with continuous, unequallly spaced times,
such as the spatial correlation structures. In the case of a
"classical" AR(1) model, because the autocorrelation parameter is
allowed to take negative values (unlike in the continuous AR(1) case,
where it is restricted to be non-negative), the times need to be
integer valued (as stated in the help page for corAR1, the correlation
class for AR(1) in nlme). Note that, even in this case, the times are
not required to be equally spaced.

Regards,
--Jose'

-----------------------------------------------------------------------------
 Jose' Pinheiro
 Bell Laboratories			jcp at research.bell-labs.com
 600 Mountain Avenue, Room 2C-258	office:	(908) 582-2390
 Murray Hill, NJ 07974	   		fax:	(908) 582-3340
-----------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Marcusdahl at aol.com  Thu Mar 29 16:58:35 2001
From: Marcusdahl at aol.com (Marcusdahl@aol.com)
Date: Thu, 29 Mar 2001 09:58:35 EST
Subject: [R] Question regarding Principle Component Analysis and R for Windows
Message-ID: <67.11c9ced0.27f4a79b@aol.com>

Hi there,

I am a post-grad (Arts!) student trying to get to grips with R...

Though I am not statistically trained my research involves working with a 
large amount of numerical data currently held in Excel. I have been told by a 
Stats trained advisor that I should examine my data by some sort of 
Pricincipal Component Analysis.

My questions then are (all apologies if they seem simple but I am neither a 
programmer nor a mathematician)...

(1) Is there a way of moving all my data over from Excel into an R workspace 
or data folder.

(2) If I can get my data in R how do I start going about applying a 
priincipal component analysis to that data ( I have downloaded the PCA 
package from Professor Ripley's site)

(3) Is the 3D graphing package compatable with the PCA (mulivariate) package?


Sorry if these questions seem basic or too general but this all rather new to 
me (but I am keen to learn)

Cheers,

Marcus Dahl (Univ. Bristol English Dept.)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar 29 17:10:40 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 29 Mar 2001 16:10:40 +0100 (BST)
Subject: [R] Question regarding Principle Component Analysis and R for
 Windows
In-Reply-To: <67.11c9ced0.27f4a79b@aol.com>
Message-ID: <Pine.LNX.4.31.0103291607190.3340-100000@gannet.stats>

On Thu, 29 Mar 2001 Marcusdahl at aol.com wrote:

> Hi there,
>
> I am a post-grad (Arts!) student trying to get to grips with R...
>
> Though I am not statistically trained my research involves working with a
> large amount of numerical data currently held in Excel. I have been told by a
> Stats trained advisor that I should examine my data by some sort of
> Pricincipal Component Analysis.
>
> My questions then are (all apologies if they seem simple but I am neither a
> programmer nor a mathematician)...
>
> (1) Is there a way of moving all my data over from Excel into an R workspace
> or data folder.

Several. See the R Data Import/Export Manual. The simplest is to save as
csv files and import by read.csv, the adventurous is to use package RODBC.

> (2) If I can get my data in R how do I start going about applying a
> priincipal component analysis to that data ( I have downloaded the PCA
> package from Professor Ripley's site)

Eh?  PCA is part of package mva in base R, in function princomp (and
prcomp).  There is no PCA package on my site that I am aware of.

> (3) Is the 3D graphing package compatable with the PCA (mulivariate) package?

Sorry, which two packages do you mean?  (Exact names and version numbers,
preferably.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.beede at mail.doc.gov  Thu Mar 29 18:16:55 2001
From: david.beede at mail.doc.gov (david.beede@mail.doc.gov)
Date: Thu, 29 Mar 2001 11:16:55 -0500
Subject: [R] efficiency and "forcing" questions
Message-ID: <OF3AE49916.4D940DED-ON85256A1E.0056E7C3@mail.doc.gov>


Thank you for the clarification about wintop, Prof. Ripley.

Now that I have run my program on the full data set with 67,000
observations and 382 groups (of which 229 were skipped because they had 40
or fewer obs), I wanted to pose again my questions about the efficiency of
my program.  According to my task monitor software, it took 10 hours of CPU
time to run on my Win 98 machine with 256 mb of RAM (R v. 1.2.2; EMACS
v20.7, ESS v. 5.1.18).  At least for the first two hours of operation it
ran without using the swapfile, although at some point afterwards it did
start using it, according to the task monitor.

Interestingly, the 10 hours of CPU time was split as follows:  6 hours for
EMACS.EXE and 4 hours for RTERM.EXE.  Does this necessarily mean that if I
source()'d my program directly into RTERM that I could save a lot of time?
(I just want to note here that I have found the EMACS/ESS combinations
*extremely* helpful for developing my code; it would be nice if it were
indeed the case that after development one could switch over to solo R to
do the big jobs.)

Also -- my theory that applying gc() multiple times would free up memory
did not seem to pan out.  I apologize about my rash speculation.

Thanks in advance.

David N. Beede
Economist
Office of Policy Development
Economics and Statistics Administration
U.S. Department of Commerce
Room 4858 HCHB
14th Street and Pennsylvania Avenue, N.W.
Washington, DC  20230
Voice:  202.482.1226
Fax:    202.482.0325
e-mail:  david.beede at mail.doc.gov


The program below does the following tasks:

1.  It creates a file (wintemp4) that is a subset of alldata4 consisting of
"winner" records;

2.  It defines a function (myppr1) that runs the ppr function in modreg
once to generate goodness of fit (sum of squared errors) measures by number
of terms included in model and then reruns ppr using the number of terms
with the lowest sum of squared errors.

3.  It grinds through a loop, subsetting wintemp4 by group and running
myppr1 for each
group subset; and

4.  It puts the ppr output into a separate vector element for each group
(in an attempt to avoid "growing" the vector).

#Here is the program
for(i in 1:4) gc()
load("alldata4.Rdata")
assign("wintemp4", subset(alldata4, winner==1))
rm(alldata4)
for(i in 1:4) gc()
library(modreg)
attach(wintemp4)

myppr1 <- function(x)
{
#run pprfile once to get list of sum of squared errors corresponding to differen numbers of terms
      pprfile.ppr <- ppr(
               award~
               ilogemp+ilogage+sdb+allsmall+
               size2+size3+size4+size5+size6+size7+size8+size9+size10+
               X.Iprimnaic.2+X.Iprimnaic.3+X.Iprimnaic.4+X.Iprimnaic.5+X.Iprimnaic.6+
               X.Iprimnaic.7+X.Iprimnaic.8+X.Iprimnaic.9+X.Iprimnaic.10+X.Iprimnaic.11+
               X.Iprimnaic.12+X.Iprimnaic.13+X.Iprimnaic.14+X.Iprimnaic.15+X.Iprimnaic.16+
               X.Iprimnaic.17+X.Iprimnaic.18+X.Iprimnaic.19+X.Iprimnaic.20+X.Iprimnaic.21+
               X.Iprimnaic.22+X.Iprimnaic.23+X.Iprimnaic.24+X.Iprimnaic.25+X.Iprimnaic.26,
               data=x, nterms=1, max.terms= min(nrow(x),40), optlevel=3
                        )
#pick number of terms giving best fit
         numterm <- which.min(pprfile.ppr$gofn[pprfile.ppr$gofn>0])
         pprfile.ppr <- ppr(
               award~
               ilogemp+ilogage+sdb+allsmall+
               size2+size3+size4+size5+size6+size7+size8+size9+size10+
               X.Iprimnaic.2+X.Iprimnaic.3+X.Iprimnaic.4+X.Iprimnaic.5+X.Iprimnaic.6+
               X.Iprimnaic.7+X.Iprimnaic.8+X.Iprimnaic.9+X.Iprimnaic.10+X.Iprimnaic.11+
               X.Iprimnaic.12+X.Iprimnaic.13+X.Iprimnaic.14+X.Iprimnaic.15+X.Iprimnaic.16+
               X.Iprimnaic.17+X.Iprimnaic.18+X.Iprimnaic.19+X.Iprimnaic.20+X.Iprimnaic.21+
               X.Iprimnaic.22+X.Iprimnaic.23+X.Iprimnaic.24+X.Iprimnaic.25+X.Iprimnaic.26,
               data=x, nterms=numterm, max.terms= min(nrow(x),40), optlevel=3
                            )
      cat("group =", x$group[1],"\n")
      cat("NAIC =", x$naic4[1],"\n")
      cat("cendiv =", as.character(x$cendiv[1]),"\n")
      cat("number of obs used =", nrow(x),"\n")
      print(summary(pprfile.ppr))
}

grouparr <- levels(as.factor(wintemp4$group))
pprest <- vector(mode="list",length=length(grouparr))

for(i in seq(along=grouparr))
  {
    subi <- subset(wintemp4,wintemp4$group==grouparr[i])
    if(nrow(subi) > 40) pprest[i][[1]] <- myppr1(subi)
    rm(subi)
    print(gc())
  }

detach(wintemp4)





Prof Brian D Ripley <ripley at stats.ox.ac.uk>@auk.stats> on 03/29/2001
12:04:13 AM

Sent by:  <ripley at auk.stats>


To:   <david.beede at mail.doc.gov>
cc:   <r-help at stat.math.ethz.ch>

Subject:  Re: [R] efficiency and "forcing" questions


On Wed, 28 Mar 2001 david.beede at mail.doc.gov wrote:

>
> Dear R listers --
> Thank you for the suggestions from Tony and Prof. Ripley about wintop.
My
> understanding is that wintop will monitor CPU and memory usage by
process,
> so one can tell quickly if an R program is still running or not.  This is
> very useful!
>
> You should note however that the MS web page claims that wintop and the
> other PowerTools (or PowerKernel) applications should not be installed on
> Win 98 machines.  However, a search through Yahoo found users advising
> people to disregard the disclaimer on the MS website, although some of
the
> other PowerTools did cause problems in Win98.

Well, I have used it many times on Win98 machines, both 98 (4.10) and 98SE
(4.10a)  so I would just ignore the warning.


--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Mar 29 18:25:08 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 29 Mar 2001 08:25:08 -0800
Subject: [R] efficiency and "forcing" questions
In-Reply-To: david.beede@mail.doc.gov's message of "Thu, 29 Mar 2001 11:16:55 -0500"
References: <OF3AE49916.4D940DED-ON85256A1E.0056E7C3@mail.doc.gov>
Message-ID: <87elvga6fv.fsf@jeeves.blindglobe.net>

>>>>> "db" == david beede <david.beede at mail.doc.gov> writes:

    db> Interestingly, the 10 hours of CPU time was split as follows:
    db> 6 hours for EMACS.EXE and 4 hours for RTERM.EXE.  Does this
    db> necessarily mean that if I source()'d my program directly into
    db> RTERM that I could save a lot of time?  (I just want to note
    db> here that I have found the EMACS/ESS combinations *extremely*
    db> helpful for developing my code; it would be nice if it were
    db> indeed the case that after development one could switch over
    db> to solo R to do the big jobs.)

I suspect that just using BATCH (it exists under Windows, right?  this
is pure speculation) would be the right thing to do.   Not having
Emacs running will save a few Mb, which when you start adding up swap
time, could be worth it.

Of course I agree that development with Emacs/ESS is the way to go,
but for long-term work (i.e. over 5-10 minutes), you might as well do
it externally.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (friday is unknown) --------
FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phurd at uts.cc.utexas.edu  Thu Mar 29 18:37:41 2001
From: phurd at uts.cc.utexas.edu (Pete Hurd)
Date: Thu, 29 Mar 2001 10:37:41 -0600 (CST)
Subject: [R] R.xpm
Message-ID: <Pine.OSF.4.21.0103291009390.22085-100000@curly.cc.utexas.edu>

Hi all,

I've put a first stab at an icon for R source files at
http://www.zo.utexas.edu/research/phurd/r-file.html

Cheers,
-P.

-- 
Peter L. Hurd, Ph.D.
phurd at uts.cc.utexas.edu
http://www.zo.utexas.edu/research/phurd                 fax 512.471-3878
Section of Integrative Biology, University of Texas, Austin TX 78712 USA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar 29 19:21:06 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 29 Mar 2001 18:21:06 +0100 (GMT Daylight Time)
Subject: [R] efficiency and "forcing" questions
In-Reply-To: <87elvga6fv.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.WNT.4.31.0103291816130.284-100000@tern.stats>

On 29 Mar 2001, A.J. Rossini wrote:

> >>>>> "db" == david beede <david.beede at mail.doc.gov> writes:
>
>     db> Interestingly, the 10 hours of CPU time was split as follows:
>     db> 6 hours for EMACS.EXE and 4 hours for RTERM.EXE.  Does this
>     db> necessarily mean that if I source()'d my program directly into
>     db> RTERM that I could save a lot of time?  (I just want to note
>     db> here that I have found the EMACS/ESS combinations *extremely*
>     db> helpful for developing my code; it would be nice if it were
>     db> indeed the case that after development one could switch over
>     db> to solo R to do the big jobs.)
>
> I suspect that just using BATCH (it exists under Windows, right?  this
> is pure speculation) would be the right thing to do.   Not having

Yes it does if rw1022sp is installed, or see the rw-FAQ for alternatives.

> Emacs running will save a few Mb, which when you start adding up swap
> time, could be worth it.

I think you lose a lot of time as emacs polls for activity on the output
stream, especially on Win 9x.  So almost all that 6 hours is likely wasted
by polling.

> Of course I agree that development with Emacs/ESS is the way to go,
> but for long-term work (i.e. over 5-10 minutes), you might as well do
> it externally.

Well, of course you are already doing it externally anyway, in that emacs
is just looked up to the stdin and stdout of the rterm process.


If at all possible, we recommend Windows NT/2000/XP for this sort of thing:
they are a much closer approximation to operating systems than Win 9x/Me.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Thu Mar 29 13:58:25 2001
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Thu, 29 Mar 2001 13:58:25 +0200
Subject: [R] Re: Nomogram
In-Reply-To: <F134KIBXEHt3V5g2oHz00000d1d@hotmail.com>
Message-ID: <3AC33F81.9796.10E4D22@localhost>

On 28 Mar 2001, at 19:15, Moustafa ElHousinie wrote:

> Dear Collague
> I am a newbiwith this magnificant R-Language, so execuse my ignorance.
> How can I draw a nomogram with R? Mostafa

I am not sure about what kind of nomogram do you mean. I usually use 
*contour()* plot together with *outer()* function to place several lines 
based on some function f(x,y) on one graphic screen, but it is usually 
problem specific.

> ______________________________________________________________________
> ___ Get Your Private, Free E-mail from MSN Hotmail at
> http://www.hotmail.com.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.- r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help",
> or "[un]subscribe" (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._


Petr Pikal
0641 25 2258
0724 008 364
petr.pikal at precheza.cz
p.pik at volny.cz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Heberto at meakins.lan.mcgill.ca  Thu Mar 29 20:58:23 2001
From: Heberto at meakins.lan.mcgill.ca (Heberto Ghezzo)
Date: Thu, 29 Mar 2001 14:58:23 -0400
Subject: [R] reading big arrays from C
Message-ID: <200103291954.f2TJsrR13435@water.cc.mcgill.ca>

hello.
I am trying to read a big file with different sections each with a 
different format, actually it is a map in format *.e00 of MapView.
I can read the whole file with no problems from R using scan()
but it takes too long, some files are 50 meg and have to be read line 
by line to catch the section codes.
So if I do the reading from C would it be faster?
if it is, how do I manage with the vectors of values to be returned, 
now I just rbind(old, new) at each point because I do not know 
before hand how many points are there going to be.
What will you advise me to try? read 500 points say return to R 
rbind to previous , zero the array and call C again to keep on 
reading? or I can do something like rbind from C?
Thanks for any help.
.

R. Heberto Ghezzo  Ph.D.
Meakins-Christie Labs
McGill University
Montreal - Canada
heberto at meakins.lan.mcgill.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tod.strugnell at yale.edu  Thu Mar 29 22:17:54 2001
From: tod.strugnell at yale.edu (tod.strugnell@yale.edu)
Date: Thu, 29 Mar 2001 15:17:54 -0500
Subject: [R] Batch Import
Message-ID: <3AC39872.8AAE2CF2@yale.edu>

I  would like to batch import a series of files. Every imported file
will get the same prefix followed by a digit corresponding to it's
identity (prefix.1, prefix.2, prefix.3, etc).

the general structure I assume would be something like:

for (i in 1:i) {
        prefix.i <- function("data", i)
}

At present I have not found any pointers/methods on how to accomplish
this. The
methods I have tried end up writing the new data overtop of the old
using the same filename.  Any suggestions or resources that I have
missed or should refer to would be appreciated.

Tod Strugnell
Dept. of Pathology
Yale University



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Mar 29 22:54:33 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Mar 2001 22:54:33 +0200
Subject: [R] Batch Import
In-Reply-To: tod.strugnell@yale.edu's message of "Thu, 29 Mar 2001 15:17:54 -0500"
References: <3AC39872.8AAE2CF2@yale.edu>
Message-ID: <x2r8zgthx2.fsf@blueberry.kubism.ku.dk>

tod.strugnell at yale.edu writes:

> I  would like to batch import a series of files. Every imported file
> will get the same prefix followed by a digit corresponding to it's
> identity (prefix.1, prefix.2, prefix.3, etc).
> 
> the general structure I assume would be something like:
> 
> for (i in 1:i) {
>         prefix.i <- function("data", i)
> }
> 
> At present I have not found any pointers/methods on how to accomplish
> this. The
> methods I have tried end up writing the new data overtop of the old
> using the same filename.  Any suggestions or resources that I have
> missed or should refer to would be appreciated.

You can do it with a construction of the form

assign(paste("prefix",i,sep=""), func("data", i))

if you want, but I don't think that's what you want. More likely you'd
really want a higher-level structure to hold the values, e.g.

prefix <- lapply(1:n, function(i) func("data", i))

would give you the structures as prefix$1, prefix$2, ....
(or prefix[[1]], prefix[[2]], ...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Fri Mar 30 01:28:23 2001
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Thu, 29 Mar 2001 17:28:23 -0600 (CST)
Subject: [R] Chart Size
Message-ID: <200103292328.RAA30701@uhddx01.dt.uh.edu>

Dear R People:

How do I change the size of the chart, please?

I tried changing the mar option in par, but that didn't 
do it.

I'd like to have a larger chart.

Thanks in advance.

R 1.1.1 on Windows  (I know....I'll update soon)

Sincerely,
Erin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mi_victor at yahoo.com  Fri Mar 30 04:53:11 2001
From: mi_victor at yahoo.com (victor m)
Date: Thu, 29 Mar 2001 18:53:11 -0800 (PST)
Subject: [R] hide body of function
Message-ID: <20010330025311.21127.qmail@web5105.mail.yahoo.com>

I would like to hide the body of function, when the
user types the name of that function. 
For example, I've created "ff" function (cut/paste 
from R-plus session):
> ff<-function() {
a <- 5
}
#then, if the user types "ff"
> ff
function()           # This part is shown but I'd like
#  this body to be
#  hidden from the user, if possible.
{                        #
   a <- 5                #
}                        #
>

#Thanks.
Victor


__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/?.refer=text
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at CMIS.CSIRO.AU  Fri Mar 30 06:07:01 2001
From: Bill.Venables at CMIS.CSIRO.AU (Bill.Venables@CMIS.CSIRO.AU)
Date: Fri, 30 Mar 2001 14:07:01 +1000
Subject: [R] hide body of function
Message-ID: <2B7F04539DAFD311B61D009027D0DDA20C3DD5@roper-cv.qld.cmis.CSIRO.AU>



| From: victor m [mailto:mi_victor at yahoo.com]
| Sent: Friday, 30 March 2001 12:53
| To: r-help at hypatia.math.ethz.ch
| Subject: [R] hide body of function
| 
| 
| I would like to hide the body of function, when the
| user types the name of that function. 
| For example, I've created "ff" function (cut/paste 
| from R-plus session):
| > ff<-function() {
| a <- 5
| }
| #then, if the user types "ff"
| > ff
| function()           		# This part is shown but I'd like
| 						#  this body to be
| 						#  hidden from the user, if
possible.
| {                        #
|    a <- 5                #
| }                        #
| >
| 
| #Thanks.
| Victor

First I should point out that your function does nothing.  At the end of the
function the local variable, a, will simply be garbage collected.

Secondly, what to you mean "hidden from the user"?  If you mean you want to
write code that only you can read and anyone else looking at your code will
be unable to see it whether they want to do so or not, then I am glad to say
this is impossible and about as contrary to the philosophy as you can get.
(You don't work for Microsoft, do you?)

Thirdly, if you mean you want the user to be able to look at the function
arguments only without being bothered by the body then the tool you need is
args()

Finally, for academic completeness, it is easy to write a function so that
when it is normally printed it will only show its arguments.  Here's one
way:

ff <- function(x) {
		sqrt(x+1)
	}

class(ff) <- "occult"
print.occult <- function(x, ...)
	print(args(x))
	invisible(x)
}

Now when you simply type

> ff

what you will see will (almost) be just the arguments.

Bill Venables.
--
Bill Venables, CSIRO/CMIS Environmetrics Project
Email: Bill.Venables at cmis.csiro.au
Phone: +61 7 3826 7251
Fax:   +61 7 3826 7304
Postal: PO Box 120, Cleveland, Qld 4163, AUSTRALIA


 
| 
| __________________________________________________
| Do You Yahoo!?
| Get email at your own domain with Yahoo! Mail. 
| http://personal.mail.yahoo.com/?.refer=text
| -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
| -.-.-.-.-.-.-.-.-
| r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bcooke at ualberta.ca  Fri Mar 30 07:01:59 2001
From: bcooke at ualberta.ca (Barry Cooke)
Date: Fri, 30 Mar 2001 00:01:59 -0500
Subject: [R] compiled exectuables for package: funfits?
Message-ID: <LOBBLHDGJEPNIJEICNFLCEKICCAA.bcooke@ualberta.ca>

Dear R-helpers,

As far as I can tell, the packages at CRAN in src/contrib/Devel are not
available in executable form for Win9x.  Is this true?

I would specifically like to use the package:
http://cran.r-project.org/src/contrib/Devel/funfits_2.0-3.tar.gz
with R for Win 9x.  I have used "funfits" successfully with S+, but would
like to move completely to R.  Does anyone know of a funfits exectuable
available for Win9x?

[I have been installing R on Win9x using compiled executables, and do not
have the means at the moment to work from source code.]

Thanks.

Barry Cooke

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rsb at reclus.nhh.no  Fri Mar 30 09:13:18 2001
From: rsb at reclus.nhh.no (Roger Bivand)
Date: Fri, 30 Mar 2001 09:13:18 +0200 (CEST)
Subject: [R] reading big arrays from C
In-Reply-To: <200103291954.f2TJsrR13435@water.cc.mcgill.ca>
Message-ID: <Pine.LNX.4.21.0103300857090.31217-100000@reclus.nhh.no>

On Thu, 29 Mar 2001, Heberto Ghezzo wrote:

> hello.
> I am trying to read a big file with different sections each with a 
> different format, actually it is a map in format *.e00 of MapView.
> I can read the whole file with no problems from R using scan()
> but it takes too long, some files are 50 meg and have to be read line 
> by line to catch the section codes.
> So if I do the reading from C would it be faster?
> if it is, how do I manage with the vectors of values to be returned, 
> now I just rbind(old, new) at each point because I do not know 
> before hand how many points are there going to be.
> What will you advise me to try? read 500 points say return to R 
> rbind to previous , zero the array and call C again to keep on 
> reading? or I can do something like rbind from C?
> Thanks for any help.
> .

Some flexible solutions to your question are available using the new
file(), readLines(), and - for binary - readBin() functions in base. In
addition, you may find the Rstreams package convenient. Perhaps
unfortunately, *.e00 (Arc/Info export format) is quite complicated, and
could (maybe) best be pre-processed using Awk or Perl, which would chop
the sections up into separate files - which would be easier to read into
R. Please let me know how you get on - reading *.e00 and *.shp files is
also important for trying to get a map() function working.

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Fri Mar 30 09:58:22 2001
From: stuart.leask at nottingham.ac.uk (Dr Stuart Leask)
Date: Fri, 30 Mar 2001 08:58:22 +0100
Subject: [R] Independant-samples t-test
References: <Pine.LNX.4.30.0103290911470.15141-100000@bolker.zoo.ufl.edu>
Message-ID: <004701c0b8ef$31d7e1a0$cee1f380@nottingham.ac.uk>

I can't find a 'group' option in t.test (library ctest).

(eg. X = normally-distributed rating scale
Y = sex
I'd like to compare the means by sex, but can't do t.test(X,group=Y) or
whatever).

Stuart

"There goes the happy moron - he doesn't give a damn.
I wish I were that moron - my God! - perhaps I am!" etc.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Fri Mar 30 10:07:53 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Fri, 30 Mar 2001 09:07:53 +0100 (BST)
Subject: [R] Chart Size
In-Reply-To: <200103292328.RAA30701@uhddx01.dt.uh.edu>
Message-ID: <Pine.LNX.4.10.10103300852140.5089-100000@localhost.localdomain>

> How do I change the size of the chart, please?
Do you mean the version you save to disk or print out? Or the version you
see on the screen?

I'm not sure about the screen. To print the current plot
dev.print(height=6, width=6, horizontal=FALSE)
Vary the height and width to suit your taste.
You might want to include pointsize=20 or whatever so the text is in
proper proportion to the rest of your plot. (Unfortunately this will also
make the hash marks too big and put a big gap between the axis labels and
the axis title like this

----+----+----+----+----+---
    |    |    |    |    |
    |    |    |    |    |


    1    2    3    4    5




          axis title

(My own solution is to make the plot quite small, say 3 x 3, so that the
plot symbols, the axis lettering, and plot region are in proper
proportion. Then I scale up the postscript in the LaTeX document.)


> I tried changing the mar option in par, but that didn't 
> do it.
This will certainly vary the proportion: margin/(plot region)

----------------
|  |            |
|  |  plot      |
|  |  region    |
|  |            |
|  |            |
|  |----------- |
|   margin      |
----------------


----------------
|    |          |
|    |          |
|    |          |
|    |          |
|    |--------- |           
|               |
|               |
---------------- 


Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Fri Mar 30 10:37:50 2001
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Fri, 30 Mar 2001 10:37:50 +0200 (MEST)
Subject: [R] Independant-samples t-test
In-Reply-To: <004701c0b8ef$31d7e1a0$cee1f380@nottingham.ac.uk>
Message-ID: <Pine.LNX.4.21.0103301036550.15777-100000@artemis.imbe.med.uni-erlangen.de>


> I can't find a 'group' option in t.test (library ctest).
> 
> (eg. X = normally-distributed rating scale
> Y = sex
> I'd like to compare the means by sex, but can't do t.test(X,group=Y) or
> whatever).

t.test(X[Y == 0], X[Y == 1])

if 0/1 codes sex and both X and Y are vectors of the same length. 

Torsten

> 
> Stuart
> 
> "There goes the happy moron - he doesn't give a damn.
> I wish I were that moron - my God! - perhaps I am!" etc.
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar 30 11:34:42 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 30 Mar 2001 10:34:42 +0100 (BST)
Subject: [R] Chart Size
In-Reply-To: <Pine.LNX.4.10.10103300852140.5089-100000@localhost.localdomain>
Message-ID: <Pine.GSO.4.31.0103301028380.2307-100000@toucan.stats>

On Fri, 30 Mar 2001, Bill Simpson wrote:

> > How do I change the size of the chart, please?
> Do you mean the version you save to disk or print out? Or the version you
> see on the screen?
>
> I'm not sure about the screen. To print the current plot
> dev.print(height=6, width=6, horizontal=FALSE)
> Vary the height and width to suit your taste.
> You might want to include pointsize=20 or whatever so the text is in
> proper proportion to the rest of your plot. (Unfortunately this will also
> make the hash marks too big and put a big gap between the axis labels and
> the axis title like this
>
> ----+----+----+----+----+---
>     |    |    |    |    |
>     |    |    |    |    |
>
>
>     1    2    3    4    5

The problem is your use of dev.print here: the ticks change but not the
text size.  dev.copy does not use the new pointsize: try

x11(width=3, height=3, pointsize=8)
x11(width=6, height=6, pointsize=16)
dev.set(2)
plot(1:10)
dev.copy()

Re-scaling works as expected for new plots but not re-played plots.
Plotting directly on a bigger device is that answer: plots then scale
exactly, except for perhaps default line widths and other things where
rasterization effects come into play.  In short, if you want postscript,
use postscript() directly.

dev.copy in this respect differs from S-PLUS, but I have always assumed it
was deliberate as calculating things like plotmath have to be done at
a known font size.

The rescaling of a windows() device works differently, and does rescale
the fonts.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Fri Mar 30 14:32:17 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Fri, 30 Mar 2001 07:32:17 -0500 (EST)
Subject: [R] discriminate analysis
Message-ID: <Pine.GSO.4.04.10103300725380.17162-100000@julius.ling.ohio-state.edu>


Dear List,

I'd like to run a discriminate analysis on a data set, but have no idea
how to go about this in R. I have attempted to locate info in the manuals,
but may not be consulting the right sections or documents.

Can anyone point me to appropriate documentation if such exists.

Many thanks,

David

S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Mar 30 14:54:51 2001
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Fri, 30 Mar 2001 07:54:51 -0500 (EST)
Subject: [R] discriminate analysis
In-Reply-To: <Pine.GSO.4.04.10103300725380.17162-100000@julius.ling.ohio-state.edu>
Message-ID: <Pine.LNX.4.30.0103300753090.16109-100000@bolker.zoo.ufl.edu>


  I don't see it either, but I can tell you you're probably looking for
"discriminant" rather than "discriminate" analysis.  Someone else will
probably write in with a solution; I'll just say that if you have a basic
multivariate analysis text, R contains all of the linear algebra tools
you'lll need to roll your own.

  Ben Bolker

On Fri, 30 Mar 2001, David White wrote:

>
> Dear List,
>
> I'd like to run a discriminate analysis on a data set, but have no idea
> how to go about this in R. I have attempted to locate info in the manuals,
> but may not be consulting the right sections or documents.
>
> Can anyone point me to appropriate documentation if such exists.
>
> Many thanks,
>
> David
>
> S. David White
> sdavidwhite at bigfoot.com
> Columbus, Ohio
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at CMIS.CSIRO.AU  Fri Mar 30 15:00:54 2001
From: Bill.Venables at CMIS.CSIRO.AU (Bill.Venables@CMIS.CSIRO.AU)
Date: Fri, 30 Mar 2001 23:00:54 +1000
Subject: [R] discriminate analysis
Message-ID: <2B7F04539DAFD311B61D009027D0DDA20C3DDA@roper-cv.qld.cmis.CSIRO.AU>

Rolling your own is a good idea, but you might like to look at lda "Linear
Discriminant Analysis" in the MASS library.  If you are feeling adventurous
and you have oodles of data, you might like to look at qda (guess!)

Bill Venables.

| -----Original Message-----
| From: ben at zoo.ufl.edu [mailto:ben at zoo.ufl.edu]
| Sent: Friday, 30 March 2001 22:55
| To: David White
| Cc: r-help at stat.math.ethz.ch
| Subject: Re: [R] discriminate analysis
| 
| 
| 
|   I don't see it either, but I can tell you you're probably 
| looking for
| "discriminant" rather than "discriminate" analysis.  Someone else will
| probably write in with a solution; I'll just say that if you 
| have a basic
| multivariate analysis text, R contains all of the linear algebra tools
| you'lll need to roll your own.
| 
|   Ben Bolker
| 
| On Fri, 30 Mar 2001, David White wrote:
| 
| >
| > Dear List,
| >
| > I'd like to run a discriminate analysis on a data set, but 
| have no idea
| > how to go about this in R. I have attempted to locate info 
| in the manuals,
| > but may not be consulting the right sections or documents.
| >
| > Can anyone point me to appropriate documentation if such exists.
| >
| > Many thanks,
| >
| > David
| >
| > S. David White
| > sdavidwhite at bigfoot.com
| > Columbus, Ohio
| >
| > 
| -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
| -.-.-.-.-.-.-.-.-
| > r-help mailing list -- Read 
| http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
| > Send "info", "help", or "[un]subscribe"
| > (in the "body", not the subject !)  To: 
| r-help-request at stat.math.ethz.ch
| > 
| _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
| _._._._._._._._._
| >
| 
| -- 
| 318 Carr Hall                                bolker at zoo.ufl.edu
| Zoology Department, University of Florida    
http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Fri Mar 30 18:34:02 2001
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Fri, 30 Mar 2001 18:34:02 +0200
Subject: [R] SVM
Message-ID: <3AC4B579.3CB6317F@inrialpes.fr>

Hi all,

I would like to try SVM method. Is somebody know if there
are available R or S scripts.
Thanks

--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN               phone: (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42
INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                  e-mail:olivier.martin at inrialpes.fr
38334 Saint Ismier cedex
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010330/2edfb368/attachment.html

From zeileis at ci.tuwien.ac.at  Fri Mar 30 17:16:19 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Fri, 30 Mar 2001 17:16:19 +0200
Subject: [R] SVM
References: <3AC4B579.3CB6317F@inrialpes.fr>
Message-ID: <3AC4A343.CC4BECE3@ci.tuwien.ac.at>

Olivier Martin wrote:
> 
> Hi all,
> 
> I would like to try SVM method. Is somebody know if there
> are available R or S scripts.
> Thanks

There is the function "svm" in the "e1071" package on CRAN.
Best
Achim


> --
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> Olivier MARTIN               phone: (33) 04 76 61 53 55
> Projet IS2                               06 08 67 93 42
> INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
> 655, Av. de l'Europe
> Montbonnot                  e-mail:olivier.martin at inrialpes.fr
> 38334 Saint Ismier cedex
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From trafton at itd.nrl.navy.mil  Fri Mar 30 16:49:21 2001
From: trafton at itd.nrl.navy.mil (Greg Trafton)
Date: Fri, 30 Mar 2001 09:49:21 -0500 (EST)
Subject: [R] PICT output?
Message-ID: <15044.40177.695923.785538@viz.itd.nrl.navy.mil>

hi, all.  I use R on a unix (linux) box and am quite happy with it.
However, sometimes I need to create a graph that needs to be used with
Microsoft Word or Powerpoint (ug).  I can create a png or jpeg format
picture, but the text look pretty crummy because jpeg is bitmapped.  I
can also create a PS/EPS version (my preference), but then it doesn't
display properly in word or powerpoint (but it prints OK).

I guess I have two questions:
  1) Are there any plans for R to output a PICT format?  (which would
solve this problem, I think, since PICT can be read by word/powerpoint
and is not bitmapped).
  2) Is there a way to get an R plot to come out looking good in
powerpoint or word

thanks for any suggestions!

greg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hstevens at rci.rutgers.edu  Fri Mar 30 18:15:10 2001
From: hstevens at rci.rutgers.edu (Martin Henry H. Stevens)
Date: Fri, 30 Mar 2001 11:15:10 -0500
Subject: [R] Old Mac OS?
Message-ID: <000a01c0b934$98bc7760$9db9e6a5@rutgers.edu>

Does anyone know if there exists a version of R that will run on a Mac OS 8.1 with a 603 processor?
I swear I ran a least a demo on my Mac a couple years ago.
Many Thanks,
Henry


Dr. M. Henry H. Stevens
Postdoctoral Associate
Department of Ecology, Evolution, & Natural Resources
14 College Farm Road
Cook College, Rutgers University
New Brunswick, NJ 08901-8551

email: hstevens at rci.rutgers.edu
phone: 732-932-9631
fax: 732-932-8746
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010330/b7a4d939/attachment.html

From ripley at stats.ox.ac.uk  Fri Mar 30 18:26:11 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 30 Mar 2001 17:26:11 +0100 (BST)
Subject: [R] PICT output?
In-Reply-To: <15044.40177.695923.785538@viz.itd.nrl.navy.mil>
Message-ID: <Pine.GSO.4.31.0103301724260.2758-100000@toucan.stats>

On Fri, 30 Mar 2001, Greg Trafton wrote:

> hi, all.  I use R on a unix (linux) box and am quite happy with it.
> However, sometimes I need to create a graph that needs to be used with
> Microsoft Word or Powerpoint (ug).  I can create a png or jpeg format
> picture, but the text look pretty crummy because jpeg is bitmapped.  I
> can also create a PS/EPS version (my preference), but then it doesn't
> display properly in word or powerpoint (but it prints OK).
>
> I guess I have two questions:
>   1) Are there any plans for R to output a PICT format?  (which would
> solve this problem, I think, since PICT can be read by word/powerpoint
> and is not bitmapped).
>   2) Is there a way to get an R plot to come out looking good in
> powerpoint or word

Use emf output on Windows (e.g. win.metafile device) with R 1.2.2.  If you
want to write a PICT or EMF driver for R under Linux, please contribute
it.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Fri Mar 30 19:09:53 2001
From: znmeb at aracnet.com (M. Edward (Ed) Borasky)
Date: Fri, 30 Mar 2001 09:09:53 -0800 (PST)
Subject: [R] PICT output?
In-Reply-To: <15044.40177.695923.785538@viz.itd.nrl.navy.mil>
Message-ID: <Pine.LNX.4.31.0103300859100.12313-100000@shell1.aracnet.com>

On Fri, 30 Mar 2001, Greg Trafton wrote:

> hi, all.  I use R on a unix (linux) box and am quite happy with it.
> However, sometimes I need to create a graph that needs to be used with
> Microsoft Word or Powerpoint (ug).  I can create a png or jpeg format
> picture, but the text look pretty crummy because jpeg is bitmapped.  I
> can also create a PS/EPS version (my preference), but then it doesn't
> display properly in word or powerpoint (but it prints OK).
>
> I guess I have two questions:
>   1) Are there any plans for R to output a PICT format?  (which would
> solve this problem, I think, since PICT can be read by word/powerpoint
> and is not bitmapped).
>   2) Is there a way to get an R plot to come out looking good in
> powerpoint or word
>
> thanks for any suggestions!

I've crossed the same bridge; here's what I do:

I have both R for Windows and R for Linux. Since you have Word and
PowerPoint, I assume you have Windows :-). I do the analysis on the Linux box
and plot "png" files. They are fine for display, but they don't print very well.
So if I need production quality graphics, I either copy the raw data to my
Windows system and re-run it, or just save the intermediate results, then
redo the graphics on the Windows machine and save the plots to Windows
metafiles.
--
znmeb at aracnet.com (M. Edward Borasky) http://www.aracnet.com/~znmeb

How to Stop A Folksinger Cold # 2
"Are you going to Scarborough Fair?..."
No.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yuling5 at yahoo.com  Fri Mar 30 20:35:02 2001
From: yuling5 at yahoo.com (Yu-Ling Wu)
Date: Fri, 30 Mar 2001 10:35:02 -0800 (PST)
Subject: [R] Date format
Message-ID: <20010330183502.31418.qmail@web11502.mail.yahoo.com>

Hi,

I try to convert a string into date format.
Please see the following two examples. When the 
time is midnight (i.e. 00:00:00), R can't convert 
it correctly and get a value of "NA". How to make 
it work and get the value of "2001-03-23 00:00:00"?
Thanks!!

=Example 1=====================================

> S <- 20010323120000
> sTime <- strptime(paste(S), format="%Y%m%d%H%M%S")
> sTime
[1] "2001-03-23 12:00:00"


=Example 2=====================================

> T <- 20010323000000
> tTime <- strptime(paste(T), format="%Y%m%d%H%M%S")
> tTime
[1] "NA"


__________________________________________________
Do You Yahoo!?
Get email at your own domain with Yahoo! Mail. 
http://personal.mail.yahoo.com/?.refer=text
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Fri Mar 30 22:01:43 2001
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Fri, 30 Mar 2001 22:01:43 +0200
Subject: [R] SVM support vector machine
Message-ID: <3AC4E626.A6CB3218@inrialpes.fr>

Hi all,
sorry for my previuos question that was incomplete...
i would like to test  the SVM (support vector machine) algorithm?
is somebody know if there are available program for R or S?
thanks...

--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN               phone: (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42
INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                  e-mail:olivier.martin at inrialpes.fr
38334 Saint Ismier cedex
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010330/bdc3d251/attachment.html

From ripley at stats.ox.ac.uk  Fri Mar 30 21:20:34 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 30 Mar 2001 20:20:34 +0100 (BST)
Subject: [R] Date format
In-Reply-To: <20010330183502.31418.qmail@web11502.mail.yahoo.com>
Message-ID: <Pine.GSO.4.31.0103302017240.20528-100000@auk.stats>

On Fri, 30 Mar 2001, Yu-Ling Wu wrote:

> Hi,
>
> I try to convert a string into date format.
> Please see the following two examples. When the
> time is midnight (i.e. 00:00:00), R can't convert
> it correctly and get a value of "NA". How to make
> it work and get the value of "2001-03-23 00:00:00"?

That's not a valid time, so you can't.  (OS-specific, possibly, as it
depends on the underlying OS features, but true on Solaris and Linux.)

You can set a POSIXlt structure directly, of course.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Fri Mar 30 21:22:37 2001
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Fri, 30 Mar 2001 11:22:37 -0800
Subject: [R] .632 & .632+ Bootstrap code
Message-ID: <5.0.2.1.2.20010330110906.00adbe90@pop4.attglobal.net>

Sorry for the cross-post but are there any S+ libraries/ R packages besides 
the Efron and Tibshirani bootstrap that implement the .632 and/or .632+ 
bootstrap prediction method?   I did not find any reference to it in the 
Davison and Hinkley package/library, nor in the S-Plus bootstrap functions, 
and no other search hits refer to anything except in the Efron/Tibshirani 
library.

I have nothing against using the E/T library except that I find it 
particularly slow for complicated functions.








=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://web.pdx.edu/~h1mf
PGP Key Available On Request
======================

"Beyond every credibility gap lies a gullibility fill"

Powered by  Latochoerus and Windows 2000, SP1

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Fri Mar 30 22:32:44 2001
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Fri, 30 Mar 2001 22:32:44 +0200 (CEST)
Subject: [R] An introduction to R - italian translation ?
In-Reply-To: <Pine.GSO.4.31.0103301028380.2307-100000@toucan.stats>
Message-ID: <Pine.LNX.4.30.0103302153290.1010-100000@localhost.localdomain>

Sorry if this isn't the correct mailing list for
this sort of question ... (r-devel ?) I was considering
the idea of translating 'An introduction to R' into italian.
(If someone else has already done / is already doing this
please tell me!)

I would be doing this in odd moments, so it will take
an indefinite amount of time ... at the moment I got to
'Using R interactively'. I'm using latex so as to be able
to easily produce html and ps/pdf versions.

However, I am not a statistician; I just occasionally
dabble in statistics when it concerns medicine and medical
research: are there any italian-speaking people on the list
willing to keep in touch with me by e-mail so as to give me
the correct - and currently most used - italian translation
of technical statistical and programming terms which I'm
not familiar with ? I know there are dictionaries but
sometimes the 'dictionary' translation isn't the one people
on the job generally use ...

A critical reader who could review the whole thing from time
to time or at completion would also be most useful. However
careful one is, prolonged work on the same text leads to
missing the same mistakes over and over again.

-- 
Dr. Michele Alzetta

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dme at ready.dk  Fri Mar 30 23:36:06 2001
From: dme at ready.dk (David Melchior)
Date: Fri, 30 Mar 2001 23:36:06 +0200
Subject: [R] Problem with rtest.c
Message-ID: <000901c0b961$a7f9b4e0$e35c36d4@nye>

I have some problems with the rtest.c example under gnuwin32\front-ends

I am able to build it and it runs without problems. But when I give it a command that isn't defined it crashes. This only happens when I build it in then complicate case where it uses R_ReplDLLdo1().

Any help would be appreciated.

Ps. Sorry my poor English

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Mar 31 07:16:54 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 31 Mar 2001 06:16:54 +0100 (BST)
Subject: [R] Problem with rtest.c
In-Reply-To: <000901c0b961$a7f9b4e0$e35c36d4@nye>
Message-ID: <Pine.GSO.4.31.0103310610010.16054-100000@auk.stats>

On Fri, 30 Mar 2001, David Melchior wrote:

> I have some problems with the rtest.c example under gnuwin32\front-ends
>
> I am able to build it and it runs without problems. But when I give it a
command that isn't defined it crashes. This only happens when I build it in then
complicate case where it uses R_ReplDLLdo1().

(Why would you do that?  It is supposed to terminate, if not crash.)

> Any help would be appreciated.

It's just example code to test the building: the README file says
that you need to handle interrupts, and you will also (if you use the
full case) need to arrange how error conditions are handled.

This did work once (terminate normally on error) but it has not been tested
recently.  If you want to do things like this you will need to debug it on
your own system.

You did not say which version of R you are using.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dme at ready.dk  Sat Mar 31 14:51:08 2001
From: dme at ready.dk (David Melchior)
Date: Sat, 31 Mar 2001 14:51:08 +0200
Subject: [R] Problem with rtest.c
References: <Pine.GSO.4.31.0103310610010.16054-100000@auk.stats>
Message-ID: <001501c0b9e1$5ffd7480$414f36d4@nye>

> > I am able to build it and it runs without problems. But when I give it a
> command that isn't defined it crashes. This only happens when I build it in then
> complicate case where it uses R_ReplDLLdo1().
> 
> (Why would you do that?  It is supposed to terminate, if not crash.)

I forgot to mention that I have chanced the code to
  Rp->R_Interactive = TRUE;
When R_Interactive is FALSE there is no problem and the programme terminate like it is supposed to do.

> It's just example code to test the building: the README file says
> that you need to handle interrupts, and you will also (if you use the
> full case) need to arrange how error conditions are handled.

I guess my problem is that I don't handle the error conditions right. Therefore I would like to know if there exits any examples that explain how to do this and if it is possible to do only by calls to the r.dll. The main reason that I play around with rtest.c is that I was trying to build something similarly with Delphi (where I only have access to the R.dll ) and ran into the same problems.  

> You did not say which version of R you are using.
R version:
platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    2.2
year     2001
month    02
day      26
language R




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arzheimer at politik.uni-mainz.de  Sat Mar 31 16:54:08 2001
From: arzheimer at politik.uni-mainz.de (Kai Arzheimer)
Date: Sat, 31 Mar 2001 16:54:08 +0200
Subject: [R] confused about range of 'd' in fracdiff package
Message-ID: <200103311454.f2VEs8807024@ipofa.politik.uni-mainz.de>

Dear all,

I want to assess the question whether several time series of parties'
respective popularities are fractionally integrated. The "fracdiff"
package seems to be an obvious choice. What confuses me is that the
'd' parameter estimated by fracfiff seems to be bound to a range from
0 to 0.5. From what I have read I would assume it should be allowed to
vary between 0 and 1.

Any help would be very much appreciated.

Kai
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Mar 31 20:44:48 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 31 Mar 2001 19:44:48 +0100 (BST)
Subject: [R] Problem with rtest.c
In-Reply-To: <001501c0b9e1$5ffd7480$414f36d4@nye>
Message-ID: <Pine.GSO.4.31.0103311941120.1231-100000@auk.stats>

On Sat, 31 Mar 2001, David Melchior wrote:

> > > I am able to build it and it runs without problems. But when I give it a
> > command that isn't defined it crashes. This only happens when I build it in then
> > complicate case where it uses R_ReplDLLdo1().
> >
> > (Why would you do that?  It is supposed to terminate, if not crash.)
>
> I forgot to mention that I have chanced the code to
>   Rp->R_Interactive = TRUE;
> When R_Interactive is FALSE there is no problem and the programme terminate
like it is supposed to do.

That's crucial, and README does warn you about it.

> > It's just example code to test the building: the README file says
> > that you need to handle interrupts, and you will also (if you use the
> > full case) need to arrange how error conditions are handled.
>
> I guess my problem is that I don't handle the error conditions right.
Therefore I would like to know if there exits any examples that explain
how to do this and if it is possible to do only by calls to the r.dll.
The main reason that I play around with rtest.c is that I was trying
to build something similarly with Delphi (where I only have access to
the R.dll ) and ran into the same problems.

As I said before, use the DCOM interface unless you know what you are doing.
There is an example of an error handler, of course, the R code
itself.  But beyond that I don't think you can reasonably ask for
help.


Please teach your mailer to wrap lines.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at u.washington.edu  Sat Mar 31 20:45:03 2001
From: rossini at u.washington.edu (A. J. Rossini)
Date: Sat, 31 Mar 2001 10:45:03 -0800 (PST)
Subject: [R] Is this a bug with a simple arithmetic operation with a
 vector object?
In-Reply-To: <005d01c0ba7c$eda505a0$23c4bfc8@jarnt>
Message-ID: <Pine.A41.4.33.0103311043310.29670-100000@homer09.u.washington.edu>



On Sun, 1 Apr 2001, hzi wrote:

> Hello-
>
>     While I was reading a tutorial book for R (actually, for S-Plus:Brian S. Everitt. A Handbook of Statistical Analysis using S-PLUS. Chapman & Hall, London, 1994) I tried to execute this simple exercise:
>
>         > x <- -c(1,2,3,4,5,6)
>     > X <- -c(10,11,12,100,-5,-6)
>     >x+X
>     [1] -11, -13, -15, -104, 0, 0
>
>     As you can see, the added vectors resulted in negative numbers ! (the answer should have been: [1] 11, 13, 15, 104, 0, 0)
>     Mind you, this is R 1.2.1 for Windows, under WIndows ME, 64 Mb RAM, pIII 800 MHz. The same thing happens, however, with the recently distributed "R 1.2.2 patched".
>     Clues, anyone?

Of course.   "<-" is assignment, but "-c(1,2,3,4,5,6)" = "c(-1,-2,-3...".
Well, you get the drift.  You've added a negative sign where you don't
want one.

best,
-tony


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Mar 31 20:54:16 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 31 Mar 2001 19:54:16 +0100 (BST)
Subject: [R] Is this a bug with a simple arithmetic operation with a
 vector object?
In-Reply-To: <005d01c0ba7c$eda505a0$23c4bfc8@jarnt>
Message-ID: <Pine.GSO.4.31.0103311950150.1231-100000@auk.stats>

On Sun, 1 Apr 2001, hzi wrote:

> Hello-
>
>     While I was reading a tutorial book for R (actually, for S-Plus:Brian S. Everitt. A Handbook of Statistical Analysis using S-PLUS. Chapman & Hall, London, 1994) I tried to execute this simple exercise:
>
>         > x <- -c(1,2,3,4,5,6)
>     > X <- -c(10,11,12,100,-5,-6)
>     >x+X
>     [1] -11, -13, -15, -104, 0, 0
>
>     As you can see, the added vectors resulted in negative numbers !
(the answer should have been: [1] 11, 13, 15, 104, 0, 0)

Why?  Everitt's book is extremely badly typeset, and `< -'  is in fact `<-'
not `<- -' as you have entered.  But the laws of arithmetic say R was right.

>     Mind you, this is R 1.2.1 for Windows, under WIndows ME, 64 Mb RAM, pIII 800 MHz. The same thing happens, however, with the recently distributed "R 1.2.2 patched".

Why `mind you'?  A phrase involving `workmen' and `tools' springs to mind.

>     Clues, anyone?

Find a more reliable (and less outdated) guide ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


