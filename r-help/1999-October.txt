From mlapsley at ndirect.co.uk  Fri Oct  1 01:29:15 1999
From: mlapsley at ndirect.co.uk (Michael Lapsley)
Date: Fri, 01 Oct 1999 00:29:15 +0100 (BST)
Subject: [R] Graphics output device
Message-ID: <XFMail.991001002915.mlapsley@ndirect.co.uk>

Dear developers,

I wonder would you consider making a save to a graphics file format (as opposed
to ps)?

What prompts this is that we have just finished my wife's thesis using R
heavily for stats and graphs.  The combination of latex, bibtex and R generated
.eps worked a treat and we were very pleased with both the final outcome and
the efficiency of gernerating it, especially when all the graphs were produced
in batch from scripts.

The experience of preparing a Powerpoint talk from the same material was much
less satisfactory, however.  It was positively painful converting eps files
into png or whatever with scaling difficult to control, and, worst of all, I
never succeeded in getting the colours to display properly:  white backgrounds
turned out a peculiar transparent dirty kahki colour. (I think this must be a
ghostscript bug, but one that I have only ever seen tickled by R).  In the end
I captured them one at a time with xv and the mouse grab.

Apart from being a real pain I'm mulling over a project that would have
dynamically generated graphs displayed on a web page:  mouse capture clearly is
out!  Would saving graphs in pnm or some other convertable format be difficult?
(Or perhaps there is a package that I have not noticed?)

Regards,

Michael Lapsley
----------------------------------
E-Mail: Michael Lapsley <mlapsley at ndirect.co.uk>
Date: 01-Oct-99
Time: 00:13:26

This message was sent by XFMail
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mhart at terrigal.net.au  Fri Oct  1 01:42:25 1999
From: mhart at terrigal.net.au (Michael HART)
Date: Fri, 1 Oct 1999 09:42:25 +1000
Subject: [R] Cluster graphs
Message-ID: <002701bf0b9d$742de8c0$72f410cb@michael>

I posted this to the sci.math newsgroup but didn't get any responses so I
was hoping someone here could help.

I have a number of items with "distances" of differences between each other.
What I want to do is to plot each item on a two dimensional plot such that
the positions on the plot indicate the approximate distance between each
item.

What I want to look at, basically, is a map with cities on it but all I have
is city pairs with distances between them.  How do I go between the pairs of
items with distances to a two dimensional map.

some sample data follows

>From To Distance
ItemA ItemA 0
ItemA ItemB 54
ItemA ItemC 43
ItemA ItemD 47
ItemA ItemE 44
ItemA ItemF 63
ItemA ItemG 35
ItemA ItemH 44
ItemA ItemI 43
ItemA ItemJ 79
ItemB ItemA 54
ItemB ItemB 0
ItemB ItemC 55
ItemB ItemD 61
ItemB ItemE 65
ItemB ItemF 72
ItemB ItemG 49
ItemB ItemH 57
ItemB ItemI 54
ItemB ItemJ 68
ItemC ItemA 43
ItemC ItemB 55
ItemC ItemC 0
ItemC ItemD 53
ItemC ItemE 63
ItemC ItemF 74
ItemC ItemG 48
ItemC ItemH 31
ItemC ItemI 59
ItemC ItemJ 58
ItemD ItemA 47
ItemD ItemB 61
ItemD ItemC 53
ItemD ItemD 0
ItemD ItemE 47
ItemD ItemF 52
ItemD ItemG 47
ItemD ItemH 54
ItemD ItemI 50
ItemD ItemJ 85
ItemE ItemA 44
ItemE ItemB 65
ItemE ItemC 63
ItemE ItemD 47
ItemE ItemE 0
ItemE ItemF 65
ItemE ItemG 48
ItemE ItemH 57
ItemE ItemI 49
ItemE ItemJ 92
ItemF ItemA 63
ItemF ItemB 72
ItemF ItemC 74
ItemF ItemD 52
ItemF ItemE 65
ItemF ItemF 0
ItemF ItemG 62
ItemF ItemH 70
ItemF ItemI 58
ItemF ItemJ 103
ItemG ItemA 35
ItemG ItemB 49
ItemG ItemC 48
ItemG ItemD 47
ItemG ItemE 48
ItemG ItemF 62
ItemG ItemG 0
ItemG ItemH 47
ItemG ItemI 40
ItemG ItemJ 80
ItemH ItemA 44
ItemH ItemB 57
ItemH ItemC 31
ItemH ItemD 54
ItemH ItemE 57
ItemH ItemF 70
ItemH ItemG 47
ItemH ItemH 0
ItemH ItemI 54
ItemH ItemJ 63
ItemI ItemA 43
ItemI ItemB 54
ItemI ItemC 59
ItemI ItemD 50
ItemI ItemE 49
ItemI ItemF 58
ItemI ItemG 40
ItemI ItemH 54
ItemI ItemI 0
ItemI ItemJ 85
ItemJ ItemA 79
ItemJ ItemB 68
ItemJ ItemC 58
ItemJ ItemD 85
ItemJ ItemE 92
ItemJ ItemF 103
ItemJ ItemG 80
ItemJ ItemH 63
ItemJ ItemI 85
ItemJ ItemJ 0

Michael Hart


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laniel at cmu.edu  Fri Oct  1 03:19:41 1999
From: laniel at cmu.edu (Stephen R. Laniel)
Date: Thu, 30 Sep 1999 21:19:41 -0400
Subject: [R] Cluster graphs
In-Reply-To: <002701bf0b9d$742de8c0$72f410cb@michael>
Message-ID: <2423510720.938726381@GROATS26.PPP.ANDREW.CMU.EDU>

On 10/1/99, 9:42 AM +1000, Michael HART wrote:

> I have a number of items with "distances" of differences between each
> other. What I want to do is to plot each item on a two dimensional plot
> such that the positions on the plot indicate the approximate distance
> between each item.

This doesn't seem like an especially R-related question, but I'll take a
stab at it anyway.  To plot these distances, won't you need to resolve
their positions first?  To resolve their positions, you could use a whole
lot of methods (there's a seminal paper by Householder whose title I can't
remember now -- it's a little paper, but dense).  The important thing to
note is that a collection of distances doesn't uniquely specify a
configuration; if I'm not mistaken, it only specifies configurations up to
rigid motion.  You need to fix a coordinate system and define one of the
points as an origin.

In any event, the whole problem seems beyond the scope of this list, unless
I'm mistaken.

--Steve

Stephen R. Laniel            |    "I've got a match:
Carnegie Mellon University   |     Your embrace and my collapse."
laniel at cmu.edu               |     --They Might Be Giants
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laniel at cmu.edu  Fri Oct  1 03:24:47 1999
From: laniel at cmu.edu (Stephen R. Laniel)
Date: Thu, 30 Sep 1999 21:24:47 -0400
Subject: [R] Graphics output device
In-Reply-To: <XFMail.991001002915.mlapsley@ndirect.co.uk>
Message-ID: <2423817224.938726687@GROATS26.PPP.ANDREW.CMU.EDU>

On 10/1/99, 12:29 AM +0100, Michael Lapsley wrote:

> The experience of preparing a Powerpoint talk from the same material was
> much less satisfactory, however.

Why bother PowerPointing it at all?  If you already have the thesis in
LaTeX and the graphics in EPS, try using seminar.sty.  It's a wonderful
style sheet for delivering talks.  You can download all the LaTeX files
necessary to run seminar.sty in one convenient ZIP file, from

ftp://ctan.tug.org/tex-archive/macros/latex/contrib/other/seminar/inputs.zip

or ``.tar.gz" in the appropriate place.

While that's not an answer to your request for graphics output capabilities
in R, it might help you circumvent the question altogether.

--Steve

Stephen R. Laniel            |    "I've got a match:
Carnegie Mellon University   |     Your embrace and my collapse."
laniel at cmu.edu               |     --They Might Be Giants
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cmaley at cs.unm.edu  Fri Oct  1 03:33:55 1999
From: cmaley at cs.unm.edu (Carlo Maley)
Date: Thu, 30 Sep 1999 19:33:55 -0600
Subject: [R] plotting text on a postscript device
References: <37F2F29F.5DE42BFB@cs.unm.edu> <37F35BBB.9D5BCD8A@ozemail.com.au>
Message-ID: <37F40F83.E9FB6C4D@cs.unm.edu>

Jim Lemon wrote:

> Carlo Maley wrote:
>
> > It seems that the text command isn't working for a postscript device.
>
> Carlo,
>
> The offending command is generated in the plotting, I think.  It is:
>
> 77.04 91.44 563.76 714.96 cl
>
> on line 689 in the output on my system (I faked the numbers, so it may be
> different on yours)
> What is happening is the clip statement is excluding the labels.  You can
> hack it by just deleting this line from the output.  However, a proper fix
> will involve finding where the plotting routine generates a clip region which
> does not allow text to be added.  I'll see if I can trace it.
>
> Jim

This was indeed the problem.  commenting out the cl line that showed up around
half way through my file allowed the display of the text.

Thanks for the work around.

        - Carlo
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cmaley.vcf
Type: text/x-vcard
Size: 309 bytes
Desc: Card for Carlo Maley
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19990930/e41bc01b/cmaley.vcf

From nklepeis at uclink4.berkeley.edu  Fri Oct  1 04:31:38 1999
From: nklepeis at uclink4.berkeley.edu (Neil E. Klepeis)
Date: Thu, 30 Sep 1999 19:31:38 -0700
Subject: [R] Graphics output device
References: <XFMail.991001002915.mlapsley@ndirect.co.uk>
Message-ID: <37F41D0A.501EC949@uclink4.berkeley.edu>

Check out pstoedit:

http://www.geocities.com/SiliconValley/Network/1958/pstoedit/

I use it to convert ps to fig, and then edit the result with xfig:

http://www.xfig.org/


Michael Lapsley wrote:
> (Or perhaps there is a package that I have not noticed?)
> 
-- 
___________________________________________________________
Neil E. Klepeis, School of Public Health, UC Berkeley, USA
Web: http://socrates.berkeley.edu/~nklepeis
Email: nklepeis at uclink4.berkeley.edu
Voice: 510-848-5827
-------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Oct  1 08:10:22 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 1 Oct 1999 07:10:22 +0100 (BST)
Subject: [R] Cluster graphs
In-Reply-To: <2423510720.938726381@GROATS26.PPP.ANDREW.CMU.EDU>
Message-ID: <Pine.GSO.4.05.9910010703090.15940-100000@auk.stats>

On Thu, 30 Sep 1999, Stephen R. Laniel wrote:

> On 10/1/99, 9:42 AM +1000, Michael HART wrote:
> 
> > I have a number of items with "distances" of differences between each
> > other. What I want to do is to plot each item on a two dimensional plot
> > such that the positions on the plot indicate the approximate distance
> > between each item.
> 
> This doesn't seem like an especially R-related question, but I'll take a
> stab at it anyway.  To plot these distances, won't you need to resolve
> their positions first?  To resolve their positions, you could use a whole
> lot of methods (there's a seminal paper by Householder whose title I can't
> remember now -- it's a little paper, but dense).  The important thing to
> note is that a collection of distances doesn't uniquely specify a
> configuration; if I'm not mistaken, it only specifies configurations up to
> rigid motion.  You need to fix a coordinate system and define one of the
> points as an origin.

Yes, and also up to reflections.

> In any event, the whole problem seems beyond the scope of this list, unless
> I'm mistaken.

This problem is usually known as multidimensional scaling, I think because
influence of psychometricians.  There is an R function cmdscale in package
mva for `classical' MDS, where the distances really are Euclidean
distances, and functions sammon and isoMDS (to which it refers) for other
`distances' are in package MASS in the VR6 bundle on CRAN.

You will find a description of this in most Multivariate Analysis texts,
and in Venables & Ripley.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Oct  1 08:44:00 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 1 Oct 1999 07:44:00 +0100 (BST)
Subject: [R] Graphics output device
In-Reply-To: <XFMail.991001002915.mlapsley@ndirect.co.uk>
Message-ID: <Pine.GSO.4.05.9910010712070.15940-100000@auk.stats>

On Fri, 1 Oct 1999, Michael Lapsley wrote:

> Dear developers,
> 
> I wonder would you consider making a save to a graphics file format (as opposed
> to ps)?

You don't tell us the platform you are using, but I guess Unix (because of
xv). Powerpoint only runs on Windows to my knowledge, and the Windows
version of R already has saves to the sort of files Powerpoint likes, for
example Windows metafiles and .gifs.  Because you can use the vector-format
metafiles this avoids multiple rasterization effects. (It would be not at
all easy to do wmf on Unix versions of R.)

R 0.65.1 will have a savePlot function in Windows (and rwtest999 does
already) to effectively select the menu option to do so.

> What prompts this is that we have just finished my wife's thesis using R
> heavily for stats and graphs.  The combination of latex, bibtex and R generated
> .eps worked a treat and we were very pleased with both the final outcome and
> the efficiency of gernerating it, especially when all the graphs were produced
> in batch from scripts.
> 
> The experience of preparing a Powerpoint talk from the same material was much
> less satisfactory, however.  It was positively painful converting eps files
> into png or whatever with scaling difficult to control, and, worst of all, I
> never succeeded in getting the colours to display properly:  white backgrounds
> turned out a peculiar transparent dirty kahki colour. (I think this must be a
> ghostscript bug, but one that I have only ever seen tickled by R).  In the end
> I captured them one at a time with xv and the mouse grab.

You could try re-running the scripts on the Windows version of R.

> Apart from being a real pain I'm mulling over a project that would have
> dynamically generated graphs displayed on a web page:  mouse capture clearly is
> out!  Would saving graphs in pnm or some other convertable format be difficult?
> (Or perhaps there is a package that I have not noticed?)

EPS is highly convertable, I reckon, ghostscript being the prime way to do
so. I have just tried a simple plot and

gs -sDEVICE=pbm -sOutputFile=test.pbm -r150 -q -dNOPAUSE -dBATCH test.ps

and also to png256 and pnm with no problems at all (gs 5.50) and with a
pure white background. Can you report (to R-bugs) an example problem,
please?

Quite a few of my talks (in Acrobat format) have plots that started in R,
were saved as ps, converted to png (to save display time: they have ca 50k
points on, mainly in a few tight clusters) and included by pdftex, and I
have never seen a problem.

Postponing rasterization (those `graphics' formats are actually bitmap
formats) as long as possible is quite desirable, and Acrobat can leave that
until display time. Important when one may not know until arriving on
another continent the resolution of the computer projector until minutes
before the talk.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlapsley at ndirect.co.uk  Fri Oct  1 10:39:23 1999
From: mlapsley at ndirect.co.uk (Michael Lapsley)
Date: Fri, 01 Oct 1999 09:39:23 +0100 (BST)
Subject: [R] Graphics output device
In-Reply-To: <Pine.GSO.4.05.9910010712070.15940-100000@auk.stats>
Message-ID: <XFMail.991001093923.mlapsley@ndirect.co.uk>

Thank for the very prompt reply.

On 01-Oct-99 Prof Brian D Ripley wrote:
> On Fri, 1 Oct 1999, Michael Lapsley wrote:

>> I wonder would you consider making a save to a graphics file format (as
>> opposed
>> to ps)?
> 
> You don't tell us the platform you are using, but I guess Unix (because of
> xv). Powerpoint only runs on Windows to my knowledge, and the Windows
> version of R already has saves to the sort of files Powerpoint likes, for
> example Windows metafiles and .gifs.  Because you can use the vector-format
> metafiles this avoids multiple rasterization effects. (It would be not at
> all easy to do wmf on Unix versions of R.)
> 

Sorry:  Linux Redhat 5.2 with kernel 2.2.2 and gs 5.50.  R version 0.64.
I have a dual boot machine and copied the graphics to the dos partition.
> 

>> never succeeded in getting the colours to display properly:  white
>> backgrounds
>> turned out a peculiar transparent dirty kahki colour. (I think this must be
>> a
>> ghostscript bug, but one that I have only ever seen tickled by R).  In the
>> end
> 
> You could try re-running the scripts on the Windows version of R.
>

I dont't want to have to keep two versions of R concurrentan>  I use win
very little and would rather less than more!
 
> pure white background. Can you report (to R-bugs) an example problem,
> please?
> 

It will take me a while to disentangle some data and scripts to isolate the
problem reproducably, since not all graphs exhibited the problem.  I'll do it
over the weekend, but in the mean time I have stashed an example at
www.ndirect.co.uk/~mlapsley as revolting.png and revolting.eps.

The conversion was done by mogrify from Imagemagic, which I think uses gs as
the engine.

----------------------------------
E-Mail: Michael Lapsley <mlapsley at ndirect.co.uk>
Date: 01-Oct-99
Time: 09:29:05

This message was sent by XFMail
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.C.Rougier at durham.ac.uk  Fri Oct  1 10:20:06 1999
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Fri, 1 Oct 1999 09:20:06 +0100 (BST)
Subject: [R] Cluster graphs
In-Reply-To: <Pine.GSO.4.05.9910010703090.15940-100000@auk.stats>
Message-ID: <Pine.GSO.3.96.991001091315.5360A-100000@laplace>

On Fri, 1 Oct 1999, Prof Brian D Ripley wrote:

> This problem is usually known as multidimensional scaling, I think because
> influence of psychometricians.  There is an R function cmdscale in package
> mva for `classical' MDS, where the distances really are Euclidean
> distances, and functions sammon and isoMDS (to which it refers) for other
> `distances' are in package MASS in the VR6 bundle on CRAN.
> 
> You will find a description of this in most Multivariate Analysis texts,
> and in Venables & Ripley.

I woud recommend K.V. Mardia, J.T. Kent and J.M. Bibby, "Multivariate
Analysis" (Academic Press, 1979), ch 14, which starts

  "Multidimensional scaling (MDS) is concerned with the problem of
  constructing a configuration of $n$ points in Euclidean space using
  information about the distances between the $n$ objects."

Cheers, Jonathan. 

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE

"[B]egin upon the precept ... that the things we see are to be 
 weighed in the scale with what we know"  (Meredith, 1879, The Egoist)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Oct  1 08:10:22 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 1 Oct 1999 07:10:22 +0100 (BST)
Subject: [R] Cluster graphs
In-Reply-To: <2423510720.938726381@GROATS26.PPP.ANDREW.CMU.EDU>
Message-ID: <Pine.GSO.4.05.9910010703090.15940-100000@auk.stats>

On Thu, 30 Sep 1999, Stephen R. Laniel wrote:

> On 10/1/99, 9:42 AM +1000, Michael HART wrote:
> 
> > I have a number of items with "distances" of differences between each
> > other. What I want to do is to plot each item on a two dimensional plot
> > such that the positions on the plot indicate the approximate distance
> > between each item.
> 
> This doesn't seem like an especially R-related question, but I'll take a
> stab at it anyway.  To plot these distances, won't you need to resolve
> their positions first?  To resolve their positions, you could use a whole
> lot of methods (there's a seminal paper by Householder whose title I can't
> remember now -- it's a little paper, but dense).  The important thing to
> note is that a collection of distances doesn't uniquely specify a
> configuration; if I'm not mistaken, it only specifies configurations up to
> rigid motion.  You need to fix a coordinate system and define one of the
> points as an origin.

Yes, and also up to reflections.

> In any event, the whole problem seems beyond the scope of this list, unless
> I'm mistaken.

This problem is usually known as multidimensional scaling, I think because
influence of psychometricians.  There is an R function cmdscale in package
mva for `classical' MDS, where the distances really are Euclidean
distances, and functions sammon and isoMDS (to which it refers) for other
`distances' are in package MASS in the VR6 bundle on CRAN.

You will find a description of this in most Multivariate Analysis texts,
and in Venables & Ripley.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Oct  1 08:44:00 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 1 Oct 1999 07:44:00 +0100 (BST)
Subject: [R] Graphics output device
In-Reply-To: <XFMail.991001002915.mlapsley@ndirect.co.uk>
Message-ID: <Pine.GSO.4.05.9910010712070.15940-100000@auk.stats>

On Fri, 1 Oct 1999, Michael Lapsley wrote:

> Dear developers,
> 
> I wonder would you consider making a save to a graphics file format (as opposed
> to ps)?

You don't tell us the platform you are using, but I guess Unix (because of
xv). Powerpoint only runs on Windows to my knowledge, and the Windows
version of R already has saves to the sort of files Powerpoint likes, for
example Windows metafiles and .gifs.  Because you can use the vector-format
metafiles this avoids multiple rasterization effects. (It would be not at
all easy to do wmf on Unix versions of R.)

R 0.65.1 will have a savePlot function in Windows (and rwtest999 does
already) to effectively select the menu option to do so.

> What prompts this is that we have just finished my wife's thesis using R
> heavily for stats and graphs.  The combination of latex, bibtex and R generated
> .eps worked a treat and we were very pleased with both the final outcome and
> the efficiency of gernerating it, especially when all the graphs were produced
> in batch from scripts.
> 
> The experience of preparing a Powerpoint talk from the same material was much
> less satisfactory, however.  It was positively painful converting eps files
> into png or whatever with scaling difficult to control, and, worst of all, I
> never succeeded in getting the colours to display properly:  white backgrounds
> turned out a peculiar transparent dirty kahki colour. (I think this must be a
> ghostscript bug, but one that I have only ever seen tickled by R).  In the end
> I captured them one at a time with xv and the mouse grab.

You could try re-running the scripts on the Windows version of R.

> Apart from being a real pain I'm mulling over a project that would have
> dynamically generated graphs displayed on a web page:  mouse capture clearly is
> out!  Would saving graphs in pnm or some other convertable format be difficult?
> (Or perhaps there is a package that I have not noticed?)

EPS is highly convertable, I reckon, ghostscript being the prime way to do
so. I have just tried a simple plot and

gs -sDEVICE=pbm -sOutputFile=test.pbm -r150 -q -dNOPAUSE -dBATCH test.ps

and also to png256 and pnm with no problems at all (gs 5.50) and with a
pure white background. Can you report (to R-bugs) an example problem,
please?

Quite a few of my talks (in Acrobat format) have plots that started in R,
were saved as ps, converted to png (to save display time: they have ca 50k
points on, mainly in a few tight clusters) and included by pdftex, and I
have never seen a problem.

Postponing rasterization (those `graphics' formats are actually bitmap
formats) as long as possible is quite desirable, and Acrobat can leave that
until display time. Important when one may not know until arriving on
another continent the resolution of the computer projector until minutes
before the talk.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlapsley at ndirect.co.uk  Fri Oct  1 10:39:23 1999
From: mlapsley at ndirect.co.uk (Michael Lapsley)
Date: Fri, 01 Oct 1999 09:39:23 +0100 (BST)
Subject: [R] Graphics output device
In-Reply-To: <Pine.GSO.4.05.9910010712070.15940-100000@auk.stats>
Message-ID: <XFMail.991001093923.mlapsley@ndirect.co.uk>

Thank for the very prompt reply.

On 01-Oct-99 Prof Brian D Ripley wrote:
> On Fri, 1 Oct 1999, Michael Lapsley wrote:

>> I wonder would you consider making a save to a graphics file format (as
>> opposed
>> to ps)?
> 
> You don't tell us the platform you are using, but I guess Unix (because of
> xv). Powerpoint only runs on Windows to my knowledge, and the Windows
> version of R already has saves to the sort of files Powerpoint likes, for
> example Windows metafiles and .gifs.  Because you can use the vector-format
> metafiles this avoids multiple rasterization effects. (It would be not at
> all easy to do wmf on Unix versions of R.)
> 

Sorry:  Linux Redhat 5.2 with kernel 2.2.2 and gs 5.50.  R version 0.64.
I have a dual boot machine and copied the graphics to the dos partition.
> 

>> never succeeded in getting the colours to display properly:  white
>> backgrounds
>> turned out a peculiar transparent dirty kahki colour. (I think this must be
>> a
>> ghostscript bug, but one that I have only ever seen tickled by R).  In the
>> end
> 
> You could try re-running the scripts on the Windows version of R.
>

I dont't want to have to keep two versions of R concurrentan>  I use win
very little and would rather less than more!
 
> pure white background. Can you report (to R-bugs) an example problem,
> please?
> 

It will take me a while to disentangle some data and scripts to isolate the
problem reproducably, since not all graphs exhibited the problem.  I'll do it
over the weekend, but in the mean time I have stashed an example at
www.ndirect.co.uk/~mlapsley as revolting.png and revolting.eps.

The conversion was done by mogrify from Imagemagic, which I think uses gs as
the engine.

----------------------------------
E-Mail: Michael Lapsley <mlapsley at ndirect.co.uk>
Date: 01-Oct-99
Time: 09:29:05

This message was sent by XFMail
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Oct  1 11:55:40 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 1 Oct 1999 10:55:40 +0100 (BST)
Subject: [R] Graphics output device
Message-ID: <199910010955.KAA26097@toucan.stats.ox.ac.uk>

>  Date: Fri, 01 Oct 1999 09:39:23 +0100 (BST)
> From: Michael Lapsley <mlapsley at ndirect.co.uk>

> It will take me a while to disentangle some data and scripts to isolate the
> problem reproducably, since not all graphs exhibited the problem.  I'll do it
> over the weekend, but in the mean time I have stashed an example at
> www.ndirect.co.uk/~mlapsley as revolting.png and revolting.eps.
> 
> The conversion was done by mogrify from Imagemagic, which I think uses gs as
> the engine.

All of ghostscript (directly), xv and convert (from ImageMagick) work
correctly for me on this example, so it doesn't look much like an R problem.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Armin.Roehrl at epfl.ch  Fri Oct  1 12:11:50 1999
From: Armin.Roehrl at epfl.ch (Armin S. A. Roehrl)
Date: Fri, 01 Oct 1999 12:11:50 +0200
Subject: [R] 2D wavelet modules exist for R?
Message-ID: <37F488E6.DBE32166@epfl.ch>

Dear R users,

	did anybody write a 2D wavelet module for R?
Thanks.

	Armin

Swiss Federal Institute of Technology 
http://statwww.epfl.ch/people/roehrl
Kya aap statooed hai?                   http://www.statoo.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Oct  1 12:29:59 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 1 Oct 1999 12:29:59 +0200
Subject: [R] 2D wavelet modules exist for R?
In-Reply-To: message from Martin Maechler on 1 Oct 1999 12:24:21 +0200
References: <37F488E6.DBE32166@epfl.ch> 
Message-ID: <199910011029.MAA23357@sophie.ethz.ch>


>>>>> On Fri, 01 Oct 1999 12:11:50 +0200, "Armin S. A. Roehrl" <Armin.Roehrl at epfl.ch> said:
    Armin> Dear R users, did anybody write a 2D wavelet module for R?
    Armin> Thanks.

to which I replied

  MM> Is Guy Nason's "wavethresh" package from CRAN not sufficient?

and then found that it doesn't exist on CRAN!

I vaguely remember e-talking with Guy Nason back and forth 
and think to remembet that he intended a port, back then?

Guy?

-- 
Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From G.P.Nason at bristol.ac.uk  Fri Oct  1 12:34:27 1999
From: G.P.Nason at bristol.ac.uk (Guy Nason)
Date: Fri, 01 Oct 1999 11:34:27 +0100
Subject: [R] 2D wavelet modules exist for R?
References: <37F488E6.DBE32166@epfl.ch> <199910011029.MAA23357@sophie.ethz.ch>
Message-ID: <37F48E33.81E8D48E@bristol.ac.uk>

Hi,

WaveThresh version 2.2 does contain a 2D discrete wavelet transform.
Arne Kovac ported it to an early version of R which then disappeared
from the archives I believe. I don't know where it is at the moment.

Yes, there is a new version and yes it will be produced for R as well,
but not yet!

cheers,
Guy
-------------- next part --------------
A non-text attachment was scrubbed...
Name: vcard.vcf
Type: text/x-vcard
Size: 481 bytes
Desc: Card for Guy Nason
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19991001/318bba23/vcard.vcf

From K.E.Vorloou at durham.ac.uk  Fri Oct  1 13:24:37 1999
From: K.E.Vorloou at durham.ac.uk (Konstantinos Euripides Vorloou)
Date: Fri, 01 Oct 1999 12:24:37 +0100
Subject: [R] 2D wavelet modules exist for R?
References: <37F488E6.DBE32166@epfl.ch> <199910011029.MAA23357@sophie.ethz.ch> <37F48E33.81E8D48E@bristol.ac.uk>
Message-ID: <37F499F4.7F07DE94@durham.ac.uk>

You will find it there:

ftp://ftp.stat.unipd.it/users/guido/misc/



Guy Nason wrote:

> Hi,
>
> WaveThresh version 2.2 does contain a 2D discrete wavelet transform.
> Arne Kovac ported it to an early version of R which then disappeared
> from the archives I believe. I don't know where it is at the moment.
>
> Yes, there is a new version and yes it will be produced for R as well,
> but not yet!
>
> cheers,
> Guy

--

-------------------------------------------------------------------------
Konstantinos E. Vorloou           | Tel: +44 (0)191 374 1821
Department of Economics & Finance | Fax: +44 (0)191 374 7289
University of Durham,             | email: K.E.Vorloou at durham.ac.uk
23/26 Old Elvet,                  | or : Vorlow at bigfoot.com
Durham DH1 3HY,                   | or : vorlow at rocketmail.com
UK.                               | Express: 20595534 at pager.mirabilis.com
----------------------------------| ICQ number: 20595534
http://www.durham.ac.uk/Economics | http://www.durham.ac.uk/~dec3kev
-------------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Fri Oct  1 16:47:43 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Fri, 1 Oct 1999 15:47:43 +0100
Subject: [R] 2D wavelet modules exist for R?
In-Reply-To: <37F499F4.7F07DE94@durham.ac.uk>; from Konstantinos Euripides Vorloou on Fri, Oct 01, 1999 at 12:24:37PM +0100
References: <37F488E6.DBE32166@epfl.ch> <199910011029.MAA23357@sophie.ethz.ch> <37F48E33.81E8D48E@bristol.ac.uk> <37F499F4.7F07DE94@durham.ac.uk>
Message-ID: <19991001154743.04862@hal.stat.unipd.it>

On Fri, Oct 01, 1999 at 12:24:37PM +0100, Konstantinos Euripides Vorloou wrote:
> You will find it there:
> 
> ftp://ftp.stat.unipd.it/users/guido/misc/
> 
> 

  Explanation: Arne Kovac port is in the contributed/Old/0.50 directory
  at CRAN. Some months ago, I downloaded it and reorganize the structure 
  as 'modern' R INSTALL pretends (just five minutes of work).
  I had no time to test it so I didn't upload to CRAN. 

  guido
> 
> Guy Nason wrote:
> 
> > Hi,
> >
> > WaveThresh version 2.2 does contain a 2D discrete wavelet transform.
> > Arne Kovac ported it to an early version of R which then disappeared
> > from the archives I believe. I don't know where it is at the moment.
> >
> > Yes, there is a new version and yes it will be produced for R as well,
> > but not yet!
> >
> > cheers,
> > Guy
> 
> --
> 
> -------------------------------------------------------------------------
> Konstantinos E. Vorloou           | Tel: +44 (0)191 374 1821
> Department of Economics & Finance | Fax: +44 (0)191 374 7289
> University of Durham,             | email: K.E.Vorloou at durham.ac.uk
> 23/26 Old Elvet,                  | or : Vorlow at bigfoot.com
> Durham DH1 3HY,                   | or : vorlow at rocketmail.com
> UK.                               | Express: 20595534 at pager.mirabilis.com
> ----------------------------------| ICQ number: 20595534
> http://www.durham.ac.uk/Economics | http://www.durham.ac.uk/~dec3kev
> -------------------------------------------------------------------------
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From twestley at buffalo.veridian.com  Fri Oct  1 16:08:05 1999
From: twestley at buffalo.veridian.com (Terry Westley)
Date: Fri, 1 Oct 1999 10:08:05 -0400
Subject: [R] Graphics output device
In-Reply-To: <Pine.GSO.4.05.9910010712070.15940-100000@auk.stats>
Message-ID: <NDBBJPJEPMDADGHILPFJGEKCCBAA.twestley@buffalo.veridian.com>

On Friday, October 01, 1999, Prof Brian D Ripley wrote:
> You don't tell us the platform you are using, but I guess Unix (because of
> xv). Powerpoint only runs on Windows to my knowledge, and the Windows
> version of R already has saves to the sort of files Powerpoint likes, for
> example Windows metafiles and .gifs.  Because you can use the
> vector-format
> metafiles this avoids multiple rasterization effects. (It would be not at
> all easy to do wmf on Unix versions of R.)
>
> R 0.65.1 will have a savePlot function in Windows (and rwtest999 does
> already) to effectively select the menu option to do so.

I agree with Michael Lapsley that Unix R needs the ability to write
some graphic file format.  My application runs on (Sparc) Solaris,
so generating and printing Postscript files is convenient most of
the time.  But, very often, my users want to take the output and
put it in Powerpoint.  (There's no way they will use LaTeX.) Also,
you can expect people to want, more and more, to put plots in web
pages (see http://www.math.montana.edu/Rweb/ for example).

It's not pretty, but my solution was adapted from what Jeff Banfield
did with Rweb:

1) generate postscript file in R
2) convert to ppm with ghostscript
3) use pnm utilities to convert to gif

Anyone who wants more detail may write me, or you can download
Jeff's Rweb code.

My preference would be that the Unix versions of R be capable
of performing a savePlot function to pnm format or directly
to gif or png.

--
Terry J. Westley, Software Systems Engineering Supervisor
Veridian Engineering, Calspan Operations
P.O. Box 400, Buffalo, NY 14225
twestley at buffalo.veridian.com    http://www.veridian.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Oct  1 18:22:35 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Oct 1999 18:22:35 +0200
Subject: [R] Graphics output device
In-Reply-To: Prof Brian Ripley's message of "Fri, 1 Oct 1999 10:55:40 +0100 (BST)"
References: <199910010955.KAA26097@toucan.stats.ox.ac.uk>
Message-ID: <x2so3vhwz8.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> > over the weekend, but in the mean time I have stashed an example at
> > www.ndirect.co.uk/~mlapsley as revolting.png and revolting.eps.
> > 
> > The conversion was done by mogrify from Imagemagic, which I think uses gs as
> > the engine.
> 
> All of ghostscript (directly), xv and convert (from ImageMagick) work
> correctly for me on this example, so it doesn't look much like an R problem.

Ditto for me. The revolting.png is revolting, but not the
revolting.eps. (Well, the y-axis labels are a bit iffy...) 

As Brian (did he say it?), I don't really see the need for support of
resolution-dependent formats (.tiff, .jpg, .gif, etc. -- BTW, I
thought that GIF had fallen from grace due to recent Unisys behavior?)
when GS and helper tools like "convert" are doing the conversions so
nicely already. The Windows Metafile format might be nice to have, but
it would be a pain to figure out how to do those without actually
running Windows.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlapsley at ndirect.co.uk  Sat Oct  2 00:16:32 1999
From: mlapsley at ndirect.co.uk (Michael Lapsley)
Date: Fri, 01 Oct 1999 23:16:32 +0100 (BST)
Subject: [R] Graphics output device
In-Reply-To: <x2so3vhwz8.fsf@blueberry.kubism.ku.dk>
Message-ID: <XFMail.991001231632.mlapsley@ndirect.co.uk>


On 01-Oct-99 Peter Dalgaard BSA wrote:
> Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
> 
>> > over the weekend, but in the mean time I have stashed an example at
>> > www.ndirect.co.uk/~mlapsley as revolting.png and revolting.eps.
>> > 
>> > The conversion was done by mogrify from Imagemagic, which I think uses gs
>> > as
>> > the engine.
>> 
>> All of ghostscript (directly), xv and convert (from ImageMagick) work
>> correctly for me on this example, so it doesn't look much like an R problem.
> 
> Ditto for me. The revolting.png is revolting, but not the
> revolting.eps. (Well, the y-axis labels are a bit iffy...) 
> 

But:  the y-axis labels were not iffy on the original display: See 
www.ndirect.co.uk/~mlapsley/NotTooBad.png which is a grab of what it looked
like on the display.  As I said in my original post, it may well be that this
is a gs bug but I wondered if R was provoking it in some specific way.  

I must admit that I am having some bother reproducing this bug myself, as my
home machine exibits the colour problem but my work one does not (both Redhat
5.2 with gs 5.5)

That notwithstanding the axis fonts are still wrong, apparently for you as well.

I am quite happy to use any utility to convert file.a to file.b if it can do so
reliably in batch, although I could do without becoming a ghostscript guru. 
Maybe I'm just a bit sensitised by this experience.  I said to my wife 'No
problem, I'll knock off your graphics for your presentation in 10 minutes'. 
Hubris, I suppose, and perhaps it served me right that it then seemed to occupy
a whole weekend.  The word 'only' is taboo in out IT dept: now I know why!


 

----------------------------------
E-Mail: Michael Lapsley <mlapsley at ndirect.co.uk>
Date: 01-Oct-99
Time: 22:18:23

This message was sent by XFMail
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlapsley at ndirect.co.uk  Sat Oct  2 00:37:36 1999
From: mlapsley at ndirect.co.uk (Michael Lapsley)
Date: Fri, 01 Oct 1999 23:37:36 +0100 (BST)
Subject: [R] Graphics output device
In-Reply-To: <2423817224.938726687@GROATS26.PPP.ANDREW.CMU.EDU>
Message-ID: <XFMail.991001233736.mlapsley@ndirect.co.uk>


On 01-Oct-99 Stephen R. Laniel wrote:
> On 10/1/99, 12:29 AM +0100, Michael Lapsley wrote:
> 
>> The experience of preparing a Powerpoint talk from the same material was
>> much less satisfactory, however.
> 
> Why bother PowerPointing it at all?  If you already have the thesis in
> LaTeX and the graphics in EPS, try using seminar.sty.  It's a wonderful
> style sheet for delivering talks.  You can download all the LaTeX files
> necessary to run seminar.sty in one convenient ZIP file, from

I've used it and I agree that it is excellent for the purpose.  Problem is, I
think that modern RGB projectors give clarity and contrast (if not resolution)
that an overhead projector cannot match.

----------------------------------
E-Mail: Michael Lapsley <mlapsley at ndirect.co.uk>
Date: 01-Oct-99
Time: 23:35:55

This message was sent by XFMail
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cestluk at polyu.edu.hk  Sat Oct  2 22:36:02 1999
From: cestluk at polyu.edu.hk (LUK ShunTim)
Date: Sat, 02 Oct 1999 12:36:02 -0800
Subject: [R] Graphics output device
References: <XFMail.991001002915.mlapsley@ndirect.co.uk>
Message-ID: <37F66CB2.B7DAC57D@polyu.edu.hk>

Michael Lapsley wrote:
> 
> Dear developers,
> 
> I wonder would you consider making a save to a graphics file format (as opposed
> to ps)?
> 
> What prompts this is that we have just finished my wife's thesis using R
> heavily for stats and graphs.  The combination of latex, bibtex and R generated
> .eps worked a treat and we were very pleased with both the final outcome and
> the efficiency of gernerating it, especially when all the graphs were produced
> in batch from scripts.
> 
> The experience of preparing a Powerpoint talk from the same material was much
> less satisfactory, however.  It was positively painful converting eps files
> into png or whatever with scaling difficult to control, and, worst of all, I
> never succeeded in getting the colours to display properly:  white backgrounds
> turned out a peculiar transparent dirty kahki colour. (I think this must be a
> ghostscript bug, but one that I have only ever seen tickled by R).  In the end
> I captured them one at a time with xv and the mouse grab.
> 
> Apart from being a real pain I'm mulling over a project that would have
> dynamically generated graphs displayed on a web page:  mouse capture clearly is
> out!  Would saving graphs in pnm or some other convertable format be difficult?
> (Or perhaps there is a package that I have not noticed?)
> 

Though not strictly on R, but looking at the number of discussion on
this subject, may be people using latex/tex would like to look at
PPower4, a Java application which :

http://www-sp.iti.informatik.tu-darmstadt.de/software/ppower4/ 

The conversion route is: latex/tex ---> pdf(la)tex ---> pdf slides 

I've not used it yet but the example in the site looks impressive.

Regards,
ST
--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernst.molitor at uni-bonn.de  Sun Oct  3 12:28:22 1999
From: ernst.molitor at uni-bonn.de (ernst.molitor@uni-bonn.de)
Date: Sun, 3 Oct 1999 10:28:22 GMT
Subject: [R] Graphics output device
In-Reply-To: <XFMail.991001002915.mlapsley@ndirect.co.uk> (message from
	Michael Lapsley on Fri, 01 Oct 1999 00:29:15 +0100 (BST))
References: <XFMail.991001002915.mlapsley@ndirect.co.uk>
Message-ID: <199910031028.KAA11666@mibi01.meb.uni-bonn.de>

Dear Michael Lapsley, 

sorry, I can't offer another way to produce graphics from R, but I'd
like to suggest to have a look into the pstricks package that is
available for TeX/LaTeX. Using this package, together with the seminar
package, I've prepared quite a number of slides (using a slide
printer), with eps graphics included via the graphicx package.  I'm
very pleased with the results, and given that your wife's thesis has
been written in LaTeX, converting parts into slides using
seminar/pstricks shouldn't be too laborious. 

Please don't hesitate to contact me via e-mail if you'd like to 
receive the source of the slide environment I'using most of the
time (with a color gradient as the general slide background).

Best wishes, 

Ernst Molitor
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Sun Oct  3 22:29:52 1999
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Sun, 3 Oct 1999 16:29:52 -0400 (EDT)
Subject: non-summary: [R] avoiding loops, gaining generality 
In-Reply-To: <199909290722.RAA03981@snowy.nsw.cmis.CSIRO.AU>
Message-ID: <Pine.SGI.3.96.991003162602.10799A-100000@ln.nimh.nih.gov>

Hi, all.

Dr. Venables's reply to my question about avoiding loops (using the
subsets and permutations functions) was the first and only one, presumably
because it solves the problem so well.  I'm posting this to let anyone who
may have been waiting know that there haven't been any other solutions to
consider. 

Many thanks to Dr. Venables, and to everyone else who has helped with
questions. 

Matt Wiener


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlapsley at ndirect.co.uk  Mon Oct  4 01:12:55 1999
From: mlapsley at ndirect.co.uk (Michael Lapsley)
Date: Mon, 04 Oct 1999 00:12:55 +0100 (BST)
Subject: [R] Graphics output device
In-Reply-To: <199910031028.KAA11666@mibi01.meb.uni-bonn.de>
Message-ID: <XFMail.991004001255.mlapsley@ndirect.co.uk>


> 
> Please don't hesitate to contact me via e-mail if you'd like to 
> receive the source of the slide environment I'using most of the
> time (with a color gradient as the general slide background).
> 


That would be very kind of you: please do.  I'm going to have a closer look at
the whole question of using LaTex and Acro for presentations.

Regards,

Michael


----------------------------------
E-Mail: Michael Lapsley <mlapsley at ndirect.co.uk>
Date: 04-Oct-99
Time: 00:10:57

This message was sent by XFMail
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jens.oehlschlaegel-akiyoshi at mdfactory.de  Mon Oct  4 09:39:49 1999
From: jens.oehlschlaegel-akiyoshi at mdfactory.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel-Akiyoshi?=)
Date: Mon, 4 Oct 1999 09:39:49 +0200
Subject: [R] SQL-Interface
Message-ID: <000001bf0e3b$a41b86f0$a9021aac@joelschlaegel>


Can anyone give advice how to interactively exchange data between R and
SQL-Databases like DB2, ORACLE, MS-SQL-Server ?

If the answer is: 'currently not', this would be information for me as well.

I will summarize to the list.

Best regards

--
Dr. Jens Oehlschl?gel-Akiyoshi
MD FACTORY GmbH
Bayerstrasse 21

80335 M?nchen

Tel.: 089 545 28-27
Fax.: 089 545 28-10
http://www.mdfactory.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jens.oehlschlaegel-akiyoshi at mdfactory.de  Mon Oct  4 09:49:11 1999
From: jens.oehlschlaegel-akiyoshi at mdfactory.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel-Akiyoshi?=)
Date: Mon, 4 Oct 1999 09:49:11 +0200
Subject: [R] make.socket() fails under Windows NT
Message-ID: <000101bf0e3c$f2f3e500$a9021aac@joelschlaegel>



Dear R-people,

Did anyone succeeded in using R sockets under Windows NT?
Yesterday I could establish client and sever sockets with R-0.65.0 under
linux, but with R-0.64.2 under NT I can't.

I use Windows NT 4.0, Service pack 5, with tcp/ip protocol installed.

Any help appreciated (I will summarize to the list)
Best regards


--
Dr. Jens Oehlschl?gel-Akiyoshi
MD FACTORY GmbH
Bayerstrasse 21

80335 M?nchen

Tel.: 089 545 28-27
Fax.: 089 545 28-10
http://www.mdfactory.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlapsley at ndirect.co.uk  Mon Oct  4 21:27:32 1999
From: mlapsley at ndirect.co.uk (Michael Lapsley)
Date: Mon, 04 Oct 1999 20:27:32 +0100 (BST)
Subject: [R] SQL-Interface
In-Reply-To: <000001bf0e3b$a41b86f0$a9021aac@joelschlaegel>
Message-ID: <XFMail.991004202732.mlapsley@ndirect.co.uk>

As it happens I am just in the late stages of writing an ODBC R library.
The code is inspired by  Torston Hothorn's RmSql driver (hope you don't mind): 
most of the C code is now mine,
but I used his driver as a template and his R code works with only minor
changes.

I decided to try and implement this after installing unixODBC so that I could
use StarOffice with Mysql.  unixODBC (genix.net/unixODBC) c/w drivers of mSql,
postgres, csv (broken, due to be fixed) and Sybase (planned, no date).  The
MySql driver comes from the Mysql site.

iODBC (www.iodbc.org) may work, but is is an unknown as far as I am concerned
and does not appear to c/w a driver set.


I have more or less finished the C library for R and it works superficially at
least with MySql:  more testing is needed however since a sigsegV brings R down
with it!  It _ought_ to compile under a Windoze compiler, since I got the API
info from the microsoft site, but as I take a hack and slash approach to
programming it may not!  Any takers to try?  Presumably one could then get at
microsoft-type databases over a net.  Unfortunately one would need un*x drivers
to do so from a un*x machine; perhaps someone will write some.

What I need to do now is write some high level functions in S.  What I had in
mind was:

odbcConnect(dsn,user,pwd,host=localhost)->channel #  16 open channels poss

sqlsave(channel,dataset) # save dataset in table 'dataset' creating it if
necessary

sqlload(channel,dataset) # the reverse

sqlquery(channel,query) -> dataframe or matrix ?

sqlcopy(sourcechannel,destchannel,selectstring) # creating db as required.

Any comments?


Michael
On 04-Oct-99 Jens Oehlschlgel-Akiyoshi wrote:
> 
> Can anyone give advice how to interactively exchange data between R and
> SQL-Databases like DB2, ORACLE, MS-SQL-Server ?
> 
> If the answer is: 'currently not', this would be information for me as well.
> 
> I will summarize to the list.
> 
> Best regards
> 
> --
> Dr. Jens Oehlschlgel-Akiyoshi
> MD FACTORY GmbH
> Bayerstrasse 21
> 
> 80335 Mnchen
> 
> Tel.: 089 545 28-27
> Fax.: 089 545 28-10
> http://www.mdfactory.de
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _
> 

----------------------------------
E-Mail: Michael Lapsley <mlapsley at ndirect.co.uk>
Date: 04-Oct-99
Time: 20:06:00

This message was sent by XFMail
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pete at seul.org  Tue Oct  5 04:39:41 1999
From: pete at seul.org (Pete St. Onge)
Date: Mon, 04 Oct 1999 22:39:41 -0400
Subject: [R] WANTED: Q&A 
Message-ID: <37F964ED.E9658D7@seul.org>

First, I am really liking what I have seen so far in R. The demos are
quite fascinating, and I look forward to doing some really neat stuff
over the next little while with R.

Being but an intiate to R, I am having quite a bit of trouble figuring
out how to use the leaps library. Rather than ask several questions to
the list at large, I would rather explain what I'm trying to do to
someone in particular and work out the problems over email over a day or
so.

I realize that this is rather unusual request, but I am trying hard to
meet the thesis submission deadline and realize that I am making no
progress to that end lately.

In return, I will produce a tutorial / cookbook document for inclusion
in the R documentation. If there isn't already a "cookbook" for R, I
would certainly like to help build one.

Any response would be greatly appreciated,

Pete

-- 
Pete St. Onge
pete at seul.org
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hothorn at statistik.uni-dortmund.de  Tue Oct  5 11:49:28 1999
From: hothorn at statistik.uni-dortmund.de (Torsten Hothorn)
Date: Tue, 5 Oct 1999 11:49:28 +0200 (MET DST)
Subject: [R] SQL-Interface
In-Reply-To: <XFMail.991004202732.mlapsley@ndirect.co.uk>
Message-ID: <Pine.GSO.4.05.9910051143470.2712-100000@atlas>


> As it happens I am just in the late stages of writing an ODBC R
> library. The code is inspired by Torston Hothorn's RmSql driver (hope
> you don't mind):  most of the C code is now mine, but I used his
> driver as a template and his R code works with only minor changes.

I'm very interested in your work, maybe you could send me the "late stage
version" :-)

In my opinion, the problem is not writing a database-driver in R but the
way to transform data sets in R-"data.frames". We should use the R/S
style data.frames for storing data in R. I'm very interested in a
discussion about that.

> odbcConnect(dsn,user,pwd,host=localhost)->channel #  16 open channels poss
> 
> sqlsave(channel,dataset) # save dataset in table 'dataset' creating it if
> necessary
> 
> sqlload(channel,dataset) # the reverse
> 
> sqlquery(channel,query) -> dataframe or matrix ?


Well, thats the question!


Torsten

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Tue Oct  5 13:58:12 1999
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Tue, 5 Oct 1999 11:58:12 +0000 (GMT)
Subject: [R] problem with outer and image
Message-ID: <Pine.LNX.4.10.9910051154040.566-100000@cbe207.gcal.ac.uk>

I want to make a picture of a cos wave grating (pattern of fuzzy stripes).
First I try to make a plot of a cos wave:
x<-seq(1:100)
y<- 10*cos(2*pi*x*3/length(x)+0)+300
plot(x,y)
That works fine. 3 cycles of cos wave. Now try for grating.

time<-seq(1:100)
f<-function(x,time) 10*cos(2*pi*x*3/length(x)+0)+300
z<-outer(x,time,f)
image(x,time,z)
I get a vertical grating as expected, BUT now I get <1 cycle of cos
wave. Varying the frequency (3 above) does nothing. I don't understand
what I am doing wrong.

Thanks very much for any help.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Oct  5 13:55:13 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Oct 1999 13:55:13 +0200
Subject: [R] problem with outer and image
In-Reply-To: Bill Simpson's message of "Tue, 5 Oct 1999 11:58:12 +0000 (GMT)"
References: <Pine.LNX.4.10.9910051154040.566-100000@cbe207.gcal.ac.uk>
Message-ID: <x2d7uut42m.fsf@blueberry.kubism.ku.dk>

Bill Simpson <wsi at gcal.ac.uk> writes:

> I want to make a picture of a cos wave grating (pattern of fuzzy stripes).
> First I try to make a plot of a cos wave:
> x<-seq(1:100)
> y<- 10*cos(2*pi*x*3/length(x)+0)+300
> plot(x,y)
> That works fine. 3 cycles of cos wave. Now try for grating.
> 
> time<-seq(1:100)
> f<-function(x,time) 10*cos(2*pi*x*3/length(x)+0)+300
> z<-outer(x,time,f)
> image(x,time,z)
> I get a vertical grating as expected, BUT now I get <1 cycle of cos
> wave. Varying the frequency (3 above) does nothing. I don't understand
> what I am doing wrong.

length(x) == 100 in the 1st case, == 1 in the 2nd. 

BTW: seq(1:100) is a bad idea. Try seq(99:100) to see why. Or seq(10:10).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Tue Oct  5 15:08:46 1999
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Tue, 5 Oct 1999 13:08:46 +0000 (GMT)
Subject: [R] problem with outer and image
In-Reply-To: <x2d7uut42m.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.10.9910051308170.664-100000@cbe207.gcal.ac.uk>

Thanks Peter.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Oct  5 14:13:13 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 5 Oct 1999 13:13:13 +0100 (BST)
Subject: [R] problem with outer and image
In-Reply-To: <Pine.LNX.4.10.9910051154040.566-100000@cbe207.gcal.ac.uk>
Message-ID: <Pine.GSO.4.05.9910051309290.13681-100000@auk.stats>

On Tue, 5 Oct 1999, Bill Simpson wrote:

> I want to make a picture of a cos wave grating (pattern of fuzzy stripes).
> First I try to make a plot of a cos wave:
> x<-seq(1:100)
> y<- 10*cos(2*pi*x*3/length(x)+0)+300
> plot(x,y)
> That works fine. 3 cycles of cos wave. Now try for grating.
> 
> time<-seq(1:100)
> f<-function(x,time) 10*cos(2*pi*x*3/length(x)+0)+300
> z<-outer(x,time,f)
> image(x,time,z)
> I get a vertical grating as expected, BUT now I get <1 cycle of cos
> wave. Varying the frequency (3 above) does nothing. I don't understand
> what I am doing wrong.

Which x were you expecting the length of?  f is called inside outer, so
try replacing length(x) by 100, as the x passed to f has length 100*100.
Or (dangerous)

f <- function(xx,time) 10*cos(2*pi*xx*3/length(x)+0)+300

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mandevip at uaslp.mx  Tue Oct  5 04:07:50 1999
From: mandevip at uaslp.mx (Peter B. Mandeville)
Date: Tue, 05 Oct 1999 04:07:50
Subject: [R] interaction.plot
Message-ID: <3.0.5.16.19991005040750.09173a1e@deimos.tc.uaslp.mx>

Has anyone programmed the S function interaction.plot in R? Thank you.

Peter B.

--
Peter B. Mandeville                             mandevip at deimos.tc.uaslp.mx
Jefe del Depto. de Inform?tica y Bioestad?stica rpe1531 at pasteur.fmed.uaslp.mx 
Facultad de Medicine                            Tel: 48 26-23-45 ext. 232
Universidad Aut?noma de San Luis Potos?         Fax: 48 28-23-52
Av. V. Carranza 2405
Col. Los Filtros
Apartado Postal 145
San Luis Potos?, S.L.P.
78210 M?xico

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mandevip at uaslp.mx  Tue Oct  5 04:34:12 1999
From: mandevip at uaslp.mx (Peter B. Mandeville)
Date: Tue, 05 Oct 1999 04:34:12
Subject: [R] for loops and counters
Message-ID: <3.0.5.16.19991005043412.2367f834@deimos.tc.uaslp.mx>

I am trying to assign values to a vector (pvalue). Similar code works in C
but not in R. What am I doing wrong?

	r <- pvalue <- 0
	for(i in (1:(k-1))){
		for(j in (i+1):k){
			r <- r+1
			tstat <- (means[i]-means[j])/rms
			pvalue[r] <- 2*(1-pt(abs(tstat),df))
		}
	}

Thank you.

Peter B.


--
Peter B. Mandeville                             mandevip at deimos.tc.uaslp.mx
Jefe del Depto. de Inform?tica y Bioestad?stica rpe1531 at pasteur.fmed.uaslp.mx 
Facultad de Medicine                            Tel: 48 26-23-45 ext. 232
Universidad Aut?noma de San Luis Potos?         Fax: 48 28-23-52
Av. V. Carranza 2405
Col. Los Filtros
Apartado Postal 145
San Luis Potos?, S.L.P.
78210 M?xico

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Oct  5 15:31:15 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Oct 1999 15:31:15 +0200
Subject: [R] for loops and counters
In-Reply-To: "Peter B. Mandeville"'s message of "Tue, 05 Oct 1999 04:34:12"
References: <3.0.5.16.19991005043412.2367f834@deimos.tc.uaslp.mx>
Message-ID: <x24sg6szmk.fsf@blueberry.kubism.ku.dk>

"Peter B. Mandeville" <mandevip at uaslp.mx> writes:

> I am trying to assign values to a vector (pvalue). Similar code works in C
> but not in R. What am I doing wrong?
> 
> 	r <- pvalue <- 0
> 	for(i in (1:(k-1))){
> 		for(j in (i+1):k){
> 			r <- r+1
> 			tstat <- (means[i]-means[j])/rms
> 			pvalue[r] <- 2*(1-pt(abs(tstat),df))
> 		}
> 	}

Er, what goes wrong? It seems to work for me (except that you've put
nasty TAB characters at the beginning of the lines, which confuses
readline more than slightly!), provided that k, rms, means, and df are
given sensible values first. In principle, you'd be better off with

pvalue <- numeric(k*(k-1)/2)
r <- 0
for(etc)....

which avoids a lot of memory allocation, but it should work as written.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Oct  5 15:37:18 1999
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Tue, 5 Oct 1999 09:37:18 -0400 (EDT)
Subject: [R] problem with outer and image
In-Reply-To: <Pine.LNX.4.10.9910051154040.566-100000@cbe207.gcal.ac.uk>
Message-ID: <Pine.LNX.4.10.9910050934590.684-100000@biosci-zoo-prn.clasnot.ufl.edu>



Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker

On Tue, 5 Oct 1999, Bill Simpson wrote:

> Thanks very much for any help.

  Somebody'll probably answer this before I do -- but -- 

> time<-seq(1:100)
> f<-function(x,time) 10*cos(2*pi*x*3/length(x)+0)+300
> z<-outer(x,time,f)
> image(x,time,z)
> I get a vertical grating as expected, BUT now I get <1 cycle of cos
> wave. Varying the frequency (3 above) does nothing. I don't understand
> what I am doing wrong.


> f<-function(x,time) 10*cos(2*pi*x*3/length(x)+0)+300
                                      ^^^^^^^^^
                                    here's the problem

  The "x" that's getting passed to "outer" is not what you expect.  If you
replace "length(x)" with 100 here, everything seems to do what you'd want.
   
> 
> Bill
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Tue Oct  5 15:51:13 1999
From: plummer at iarc.fr (Martyn Plummer)
Date: Tue, 05 Oct 1999 15:51:13 +0200 (CEST)
Subject: [R] for loops and counters
In-Reply-To: <3.0.5.16.19991005043412.2367f834@deimos.tc.uaslp.mx>
Message-ID: <XFMail.991005155113.plummer@iarc.fr>

Peter, 

You didn't say what goes wrong, but you mind find this version more useful

tstat <- (matrix(means, k,k, byrow=TRUE) - matrix(means, k,k,byrow=FALSE))/rms
pvalue <- 2*(1-pt(abs(tstat), df=df))
pvalue[upper.tri(pvalue)]

S is designed to allow you to work with "whole objects", which means that
for loops can (and should) be avoided.

Martyn

On 05-Oct-99 Peter B. Mandeville wrote:
> I am trying to assign values to a vector (pvalue). Similar code works in C
> but not in R. What am I doing wrong?
> 
>       r <- pvalue <- 0
>       for(i in (1:(k-1))){
>               for(j in (i+1):k){
>                       r <- r+1
>                       tstat <- (means[i]-means[j])/rms
>                       pvalue[r] <- 2*(1-pt(abs(tstat),df))
>               }
>       }
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rosm at ufrima.imag.fr  Wed Oct  6 11:45:02 1999
From: rosm at ufrima.imag.fr (ros mathieu)
Date: Wed, 06 Oct 1999 09:45:02 +0000
Subject: [R] R graphics & lyx
Message-ID: <37FB1A1E.2999@ufrima.imag.fr>

hello all,
I get problems including graphics from R (0.64) into lyx (1.0.2).
I don't understand the difference between .eps and .ps but I think the
problem must be here. Does anyone can help ? 
thanks,
	Mathieu

-- 
-----------------------------------------------------------------------
Mathieu Ros - 13 rue beviere - 38000 GRENOBLE - 04 76 491 370
http://www.multimania.com/mathieuros/index2.html
DESS ingenierie mathematique (biostatistiques)
Universite Joseph Fourier, Grenoble
-----------------------------------------------------------------------
La prevision est difficile, surtout quand elle concerne l'avenir
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Oct  6 12:26:22 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Oct 1999 12:26:22 +0200
Subject: [R] R graphics & lyx
In-Reply-To: ros mathieu's message of "Wed, 06 Oct 1999 09:45:02 +0000"
References: <37FB1A1E.2999@ufrima.imag.fr>
Message-ID: <x24sg4vl81.fsf@blueberry.kubism.ku.dk>

ros mathieu <rosm at ufrima.imag.fr> writes:

> hello all,
> I get problems including graphics from R (0.64) into lyx (1.0.2).
> I don't understand the difference between .eps and .ps but I think the
> problem must be here. Does anyone can help ? 
> thanks,

I just tried it with R 0.65.(1-eps) and lyx 1.0.4 and it seemed to
work. Lyx seems to get itself in a panic state if the PS renderer
fails once (e.g. if you set the width to 0, then back to 8cm, the
renderer seems to go into an infinite loop), and it managed to crash
the window manager on the way out, but neither of those would be the
fault of R.

What is going wrong for you?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mavip5 at inet.polyu.edu.hk  Wed Oct  6 13:58:49 1999
From: mavip5 at inet.polyu.edu.hk (Li Dongfeng)
Date: Wed, 06 Oct 1999 19:58:49 +0800
Subject: [R] Graphics output device
References: <NDBBJPJEPMDADGHILPFJGEKCCBAA.twestley@buffalo.veridian.com>
Message-ID: <37FB3979.FFAB77F2@inet.polyu.edu.hk>



Terry Westley wrote:
> 
> On Friday, October 01, 1999, Prof Brian D Ripley wrote:
> > You don't tell us the platform you are using, but I guess Unix (because of
> > xv). Powerpoint only runs on Windows to my knowledge, and the Windows
> > version of R already has saves to the sort of files Powerpoint likes, for
> > example Windows metafiles and .gifs.  Because you can use the
> > vector-format
> > metafiles this avoids multiple rasterization effects. (It would be not at
> > all easy to do wmf on Unix versions of R.)
> >
> > R 0.65.1 will have a savePlot function in Windows (and rwtest999 does
> > already) to effectively select the menu option to do so.
> 
> I agree with Michael Lapsley that Unix R needs the ability to write
> some graphic file format.  My application runs on (Sparc) Solaris,
> so generating and printing Postscript files is convenient most of
> the time.  But, very often, my users want to take the output and
> put it in Powerpoint.  (There's no way they will use LaTeX.) Also,
> you can expect people to want, more and more, to put plots in web
> pages (see http://www.math.montana.edu/Rweb/ for example).
> 
> It's not pretty, but my solution was adapted from what Jeff Banfield
> did with Rweb:
> 
> 1) generate postscript file in R
> 2) convert to ppm with ghostscript
> 3) use pnm utilities to convert to gif
> 

I use two steps to make PNG graphics from R code for
dynamic web publishing:

1) Generate postscript file with R code,
   but use a patched R. I patched the R source
   (src/unix/devPS.c) to add a new paper size which 
   is smaller(595x421) and is in landscape orientation
   naturally.
2) Convert the postscript file to PNG format 
   using ghostscript:
   gs -dQUIET -dBATCH -dNOPAUSE \
     -dDEVICEWIDTH=595 -dDEVICEHEIGHT=421 \
     -sDEVICE=png256 -sOutputFile=filename.png psfile.ps

This solution requires newer version browsers because PNG
format is not supported in old browsers,
but only need R and ghostscript, no other tools needed.

> Anyone who wants more detail may write me, or you can download
> Jeff's Rweb code.
> 
> My preference would be that the Unix versions of R be capable
> of performing a savePlot function to pnm format or directly
> to gif or png.
> 
> --
> Terry J. Westley, Software Systems Engineering Supervisor
> Veridian Engineering, Calspan Operations
> P.O. Box 400, Buffalo, NY 14225
> twestley at buffalo.veridian.com    http://www.veridian.com
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Joerg.Kindermann at gmd.de  Wed Oct  6 14:29:46 1999
From: Joerg.Kindermann at gmd.de (Joerg Kindermann)
Date: Wed, 6 Oct 1999 14:29:46 +0200 (MET DST)
Subject: [R] R --nsize 2M runs havoc (under linux)
Message-ID: <199910061229.OAA05340@yeu.gmd.de>

Dear All,

I am running R version 0.65.0 under

a) Suse-Linux 6.1, and Suse-Linux 6.2, compiler gcc-2.95, CPUs pentium pro
200, 128MB, and pentium II 450, 128MB
b) Solaris 5.7, compiler gcc-2.95, cpu SUN sparc, 4000MB

When I set --nsize to more than 1M, R's internal storage management runs
havoc. gc() indicates the requested sizes, but the overall process size is
much too big: Running R with --vsize 10M --nsize 3M will for example result
in a process size of 63.276 MB! Using such an R process will lead to a
segmentation fault sooner or later, usually inside the storage allocation
routine of R. I cannot reproduce the strange behavior under Solaris,
however.

I would be glad to hear from anyone who has encountered and fixed(!) this
problem.

--  Dr. Joerg Kindermann             GMD - AiS
            German National Research Center for Information Technology
                Schloss Birlinghoven, D-53754 St. Augustin, Germany
                   phone: +49 02241 142437 fax: +49 02241 142342
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Oct  6 14:30:52 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 6 Oct 1999 13:30:52 +0100 (BST)
Subject: [R] Graphics output device
Message-ID: <199910061230.NAA29972@toucan.stats.ox.ac.uk>


> Date: Wed, 06 Oct 1999 19:58:49 +0800
> From: Li Dongfeng <mavip5 at inet.polyu.edu.hk>
> 
> I use two steps to make PNG graphics from R code for
> dynamic web publishing:
> 
> 1) Generate postscript file with R code,
>    but use a patched R. I patched the R source
>    (src/unix/devPS.c) to add a new paper size which 
>    is smaller(595x421) and is in landscape orientation
>    naturally.

Surely all saved graphs should be portrait?: landscape implies
a 90% rotation.

> 2) Convert the postscript file to PNG format 
>    using ghostscript:
>    gs -dQUIET -dBATCH -dNOPAUSE \
>      -dDEVICEWIDTH=595 -dDEVICEHEIGHT=421 \
>      -sDEVICE=png256 -sOutputFile=filename.png psfile.ps
> 
> This solution requires newer version browsers because PNG
> format is not supported in old browsers,
> but only need R and ghostscript, no other tools needed.

There is a more general solution along these lines in the function
dev2bitmap in 0.65.1, which is due for release in a few hours time.  In
particular, it allows other output sizes, resolutions and formats.
paper="special" in postscript() makes the paper size equal to the
device region, in that version.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Oct  6 15:05:43 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Oct 1999 15:05:43 +0200
Subject: [R] R --nsize 2M runs havoc (under linux)
In-Reply-To: Joerg Kindermann's message of "Wed, 6 Oct 1999 14:29:46 +0200 (MET DST)"
References: <199910061229.OAA05340@yeu.gmd.de>
Message-ID: <x2yadgtza0.fsf@blueberry.kubism.ku.dk>

Joerg Kindermann <Joerg.Kindermann at gmd.de> writes:

> Dear All,
> 
> I am running R version 0.65.0 under
> 
> a) Suse-Linux 6.1, and Suse-Linux 6.2, compiler gcc-2.95, CPUs pentium pro
> 200, 128MB, and pentium II 450, 128MB
> b) Solaris 5.7, compiler gcc-2.95, cpu SUN sparc, 4000MB
> 
> When I set --nsize to more than 1M, R's internal storage management runs
> havoc. gc() indicates the requested sizes, but the overall process size is
> much too big: Running R with --vsize 10M --nsize 3M will for example result
> in a process size of 63.276 MB! Using such an R process will lead to a
> segmentation fault sooner or later, usually inside the storage allocation
> routine of R. I cannot reproduce the strange behavior under Solaris,
> however.

Er, I get 63 thousand and something too, but that is in *Kilo*bytes... 
Are you sure you didn't misread the output of 'top'??

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Wed Oct  6 17:21:24 1999
From: plummer at iarc.fr (Martyn Plummer)
Date: Wed, 06 Oct 1999 17:21:24 +0200 (CEST)
Subject: [R] R --nsize 2M runs havoc (under linux)
In-Reply-To: <199910061229.OAA05340@yeu.gmd.de>
Message-ID: <XFMail.991006172124.plummer@iarc.fr>

Each cons cell is 16 bytes, so asking for a 10MB vector heap and 3 million
cons cells will give you close to 60MB of memory. Add a little extra
for the R program itself and your figure looks reasonable (in kB not MB,
as Peter pointed out).

This is a lot of memory on a machine with 128MB RAM. Even if R doesn't
crash it will be very slow due to the use of the swap partition (you do
have one and it is enabled I hope). I suspect the reason you can't reproduce
the bug on Solaris is that your Sun has 4GB of memory, so probably won't
be swapping at all.

Do you really need that many cons cells? The default is 250,000.

Martyn

On 06-Oct-99 Joerg Kindermann wrote:
> Dear All,
> 
> I am running R version 0.65.0 under
> 
> a) Suse-Linux 6.1, and Suse-Linux 6.2, compiler gcc-2.95, CPUs pentium pro
> 200, 128MB, and pentium II 450, 128MB
> b) Solaris 5.7, compiler gcc-2.95, cpu SUN sparc, 4000MB
> 
> When I set --nsize to more than 1M, R's internal storage management runs
> havoc. gc() indicates the requested sizes, but the overall process size is
> much too big: Running R with --vsize 10M --nsize 3M will for example result
> in a process size of 63.276 MB! Using such an R process will lead to a
> segmentation fault sooner or later, usually inside the storage allocation
> routine of R. I cannot reproduce the strange behavior under Solaris,
> however.
> 
> I would be glad to hear from anyone who has encountered and fixed(!) this
> problem.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Oct  6 18:03:14 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 6 Oct 1999 18:03:14 +0200
Subject: [R] R --nsize 2M runs havoc (under linux)
In-Reply-To: <x2yadgtza0.fsf@blueberry.kubism.ku.dk> (message from Peter
	Dalgaard BSA on 06 Oct 1999 15:05:43 +0200)
References: <199910061229.OAA05340@yeu.gmd.de> <x2yadgtza0.fsf@blueberry.kubism.ku.dk>
Message-ID: <199910061603.SAA10663@sophie.ethz.ch>

>>>>> On 06 Oct 1999 15:05:43 +0200, Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> said:

    PD> Joerg Kindermann <Joerg.Kindermann at gmd.de> writes:
    >> Dear All,
    >> 
    >> I am running R version 0.65.0 under
    >> 
    >> a) Suse-Linux 6.1, and Suse-Linux 6.2, compiler gcc-2.95, CPUs
    >> pentium pro 200, 128MB, and pentium II 450, 128MB
    >> b) Solaris 5.7, compiler gcc-2.95, cpu SUN sparc, 4000MB
    >> 
    >> When I set --nsize to more than 1M, R's internal storage management
    >> runs havoc. gc() indicates the requested sizes, but the overall
    >> process size is much too big: Running R with --vsize 10M --nsize 3M
    >> will for example result in a process size of 63.276 MB! Using such
    >> an R process will lead to a segmentation fault sooner or later,
    >> usually inside the storage allocation routine of R. I cannot
    >> reproduce the strange behavior under Solaris, however.

I can reproduce that R will start swapping enormously when
--nsize is too large, even on Solaris.
However I don't think this is astonishing if you start a program that needs
about all the freely available "real" memory on your machine,
see below.

[in the mean time, I've read  Martyn Plummer's excellent answer..
 I am still sending this off -- interesting things at the end !]

    PD> Er, I get 63 thousand and something too, but that is in
    PD> *Kilo*bytes...  Are you sure you didn't misread the output of
    PD> 'top'??

63 thousand Kilobytes is about the same as the indicated
63.276 MB -- assuming the Joerg used dot "." to mean decimal point

Now what do we expect?
    help(Memory)  
starts with

  >> Memory Available for Data Storage
  >> 
  >>      R --vsize v --nsize n
  >> 
  >> Arguments:
  >> 
  >>        v: Use `v' bytes of heap memory
  >> 
  >>        n: Use `n' cons cells.

and tells you later that each Ncell needs 16 bytes (which is what ?gc says too)
i.e., --vsize 10M --nsize 3M
would need about 10M + 3M * 16 = 58 MB  +  memory of the "R engine"

However, here is the result of an experiment
        [SunOS 5.5.1 Generic_103640-08 sun4u sparc SUNW,Ultra-2]

			       SZ    RSS 
 --vsize 10M --nsize 4M     96936  84656
 --vsize 10M --nsize 3M     76456  64192
  --vsize 9M --nsize 3M     75432  64192
  --vsize 9M --nsize 2M     54952  43712
  --vsize 9M --nsize 1M     34472  23232
  --vsize 9M --nsize 1024K  34472  23232
  --vsize 9M --nsize  800K  29992  18752
  --vsize 9M --nsize  700K  27992  16752
  --vsize 8M --nsize  700K  26968  16752
  --vsize 5M --nsize  700K  23896  16752

Which indicates
1) --vsize uses byte units as ?Memory says
2) --nsize has `Ncell' units which now seem to use 
   20 bytes each.. instead of 16

   which *is* 20% -- why??

-- 
Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Oct  6 19:00:31 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 6 Oct 1999 18:00:31 +0100 (BST)
Subject: What size is a cons cell? (was [R] R --nsize 2M runs havoc (under
 linux))
In-Reply-To: <199910061603.SAA10663@sophie.ethz.ch>
Message-ID: <Pine.GSO.4.05.9910061747510.822-100000@auk.stats>

On Wed, 6 Oct 1999, Martin Maechler wrote:

[Pretty technical for R-help, so consider followups to R-devel.]

> However, here is the result of an experiment
>         [SunOS 5.5.1 Generic_103640-08 sun4u sparc SUNW,Ultra-2]
> 
> 			       SZ    RSS 
>  --vsize 10M --nsize 4M     96936  84656
>  --vsize 10M --nsize 3M     76456  64192
>   --vsize 9M --nsize 3M     75432  64192
>   --vsize 9M --nsize 2M     54952  43712
>   --vsize 9M --nsize 1M     34472  23232
>   --vsize 9M --nsize 1024K  34472  23232
>   --vsize 9M --nsize  800K  29992  18752
>   --vsize 9M --nsize  700K  27992  16752
>   --vsize 8M --nsize  700K  26968  16752
>   --vsize 5M --nsize  700K  23896  16752
> 
> Which indicates
> 1) --vsize uses byte units as ?Memory says
> 2) --nsize has `Ncell' units which now seem to use 
>    20 bytes each.. instead of 16
> 
>    which *is* 20% -- why??

Note: it is machine dependent, and it is 16 on Linux, for me (and the
subject was about Linux).

Answer: A `cons cell' is internally a SEXPREC, and it
allocates by

    if (!(R_NHeap = (SEXPREC *) malloc(R_NSize * sizeof(SEXPREC))))

What size is a SEXPREC?  It is a union, and one element of the union is
int+(union including double) + int.  On some 32-bit machines alignment will
give int+4bytes padding+union+int.

So I think that we should change the order in the union vecsxp.

Note that some of the other elements of the union are triples of pointers, 
so I expect it to be 24 bytes on a 64-bit machine.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pete at seul.org  Wed Oct  6 19:35:42 1999
From: pete at seul.org (Pete St. Onge)
Date: Wed, 06 Oct 1999 13:35:42 -0400
Subject: [R] Summary: Was Re: WANTED: Q&A
References: <37F964ED.E9658D7@seul.org>
Message-ID: <37FB886E.A20101D9@seul.org>

When I first sent the help request to the list, I didn't expect to get
nearly as much help. I was rather floored by the response, and wanted to
convey my appreciation.

I wanted to thank Jes?s Mar?a Fr?as Celayeta and Chris Russell for a
transcript and walking me through several steps to getting my data and
the leaps library playing nicely together. I also wanted to thank Dr.
Ripley for the pointer to the Rnotes.ps file as well as to Venables and
Ripley.

As a consequence, I now have a fairly long annotated text file
containing the session transcript showing the procedure, the results as
well as some pitfalls. If there is a specific "R cookbook" document, I
would be pleased to submit it, or give it to anyone wanting it.

Many thanks for all your hard work in building and supporting such a
comprehensive statistical and graphing program!

Pete


-- 
Pete St. Onge - McGill U.  Limnology - Fun with Ropes & Buckets
pete at seul.org                  http://wwp.mirabilis.com/4322052
---------------------------------------------------------------
SEUL - Linux for All!                       http://www.seul.org
Programming For Science Page        http://www.trentu.ca/~erpds
  1 9   A p r i l   1 9 9 9  -  V I N D I C A T I O N   D A Y

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Wed Oct  6 19:49:14 1999
From: pauljohn at ukans.edu (Paul Johnson)
Date: Wed, 06 Oct 1999 12:49:14 -0500
Subject: [R] uploaded hdf5 and R 0.65.1 RPMs
Message-ID: <37FB8B9A.A24C3AB4@ukans.edu>

Dear everybody:

HDF5, a dataset formatting library, and R that is built with it, have
been uploaded to ftp://ftp-fis.iarc.fr/pub/incoming.  The R RPM uses the
spec file created by Martyn Plummer as a starting point, and makes only
a few trivial changes.

-rw-rw-r--   1 ftp      100       3416612 Oct  6 17:45
R-base-with-hdf5-0.65.1-1.i386.rpm
-rw-rw-r--   1 ftp      100       2300453 Oct  6 17:48
R-base-with-hdf5-0.65.1-1.src.rpm
-rw-rw-r--   1 ftp      100          5778 Oct  6 17:49
R-base-with-hdf5.spec
-rw-rw-r--   1 ftp      100       1987918 Oct  6 17:38
hdf5-1.2.0beta1r2-1rh6.i386.rpm
-rw-rw-r--   1 ftp      100       1326762 Oct  6 17:41
hdf5-1.2.0beta1r2-1rh6.src.rpm

To the best of my knowledge, these RPMs work perfectly well. I've
installed R and run the demo programs, no problems.  I'm not an
experienced R user, so I can't say I have done much more with them than
that.  If there is something wrong, I'd be glad to know.

The HDF5 RPM provides their version "1.2.0 beta1 release 2", which
appears very stable and workable. As soon as I hear NCSA releases a
final version of 1.2, I will announce an RPM for it.

If you care to try them out, you can also get the RPMS here.

http://lark.cc.ukans.edu/~pauljohn/Swarm/Swarm-2.0_RPMSforRH6.

These RPMs are in my Swarm directory because they are offered in support
of the Swarm user community. We are using R as a "front end" for the
creation of HDF5 formatted datasets, which can then be read by the Swarm
library during simulations.

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Oct  6 21:20:13 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Oct 1999 21:20:13 +0200
Subject: What size is a cons cell? (was [R] R --nsize 2M runs havoc (under  linux))
In-Reply-To: Prof Brian D Ripley's message of "Wed, 6 Oct 1999 18:00:31 +0100 (BST)"
References: <Pine.GSO.4.05.9910061747510.822-100000@auk.stats>
Message-ID: <x21zb8e1oy.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> > Which indicates
> > 1) --vsize uses byte units as ?Memory says
> > 2) --nsize has `Ncell' units which now seem to use 
> >    20 bytes each.. instead of 16
> > 
> >    which *is* 20% -- why??
> 
> Note: it is machine dependent, and it is 16 on Linux, for me (and the
> subject was about Linux).
> 
> Answer: A `cons cell' is internally a SEXPREC, and it
> allocates by
> 
>     if (!(R_NHeap = (SEXPREC *) malloc(R_NSize * sizeof(SEXPREC))))
> 
> What size is a SEXPREC?  It is a union, and one element of the union is
> int+(union including double) + int.  On some 32-bit machines alignment will
> give int+4bytes padding+union+int.

Er, am I of my rocker, or..? I get

flags: 32 bits
attributes: pointer
u: union, 3 pointers/pointer and 2 ints/1 int

on a 32bit system, that makes 5 * 4 bytes with no padding... The "16
bytes" is simply wrong, and must have been ever since attributes was
introduced. On a 64 bit system one gets 36 or 40 bytes depending on
whether it is possible to use 32 bit ints for the flags. Actually, I
don't think that the 16 bits in the gp fields in the flags structure
is actually doing anything, so perhaps that could be a short int, but
I doubt that you'd gain anything from it.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpiper at med.usyd.edu.au  Thu Oct  7 00:41:48 1999
From: rpiper at med.usyd.edu.au (Richard PIper)
Date: Thu, 07 Oct 1999 08:41:48 +1000
Subject: [R] Java interface to R
Message-ID: <37FBD02C.BE211BE8@med.usyd.edu.au>

I have been doing some programming with java servlets for data
collection.
I was wondering if there is a way to connect to the R-server using java
to do data analysis. A java-interface or some connection class. 
I think there is some similar facility with SAS, although I have not 
looked at it.

Richard Piper

RNS Hospital,
Sydney.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kalish at psy.uwa.edu.au  Thu Oct  7 08:35:45 1999
From: kalish at psy.uwa.edu.au (kalish@psy.uwa.edu.au)
Date: Thu, 07 Oct 1999 06:35:45 +0000
Subject: [R] Libraries loading, but not really?
Message-ID: <37FC3F41.B5253073@psy.uwa.edu.au>

I'm a newbie at R, and can't get libraries to really work.
I did this:
> library(help = mva)
cancor                   Canonical Correlations
cmdscale                 Classical (Metric) Multidimensional Scaling
dist                     Distance Matrix Computation
hclust                   Hierarchical Clustering
kmeans                   K-Means Clustering
prcomp                   Principal Components Analysis
> (pc.cr<-princomp(USArrests))
Error: couldn't find function "princomp"
> 

I should say that ?princomp works beautifully, but the function itself
is absent.  
I imagine I have done something stupid in installation?

thanks,
-- 
------------------------------------------------
Mike Kalish 			   Coordinator, Cognitive Science
Dept. of Psychology              email: kalish at psy.uwa.edu.au 
University of Western Australia  phone: 61 - 8 - 9380-2688
Nedlands, WA  6009               fax: 61 - 8 -  9380-1006
Australia           http://boneyard.psy.uwa.edu.au/kalish.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kalish at psy.uwa.edu.au  Thu Oct  7 08:49:06 1999
From: kalish at psy.uwa.edu.au (kalish@psy.uwa.edu.au)
Date: Thu, 07 Oct 1999 06:49:06 +0000
Subject: [R] [Fwd: Libraries loading, but not really?] - it really IS a problem :-(
Message-ID: <37FC4262.4B5514F4@psy.uwa.edu.au>

kalish at psy.uwa.edu.au wrote:
> 
> I'm a newbie at R, and can't get libraries to really work.
> I did this:

> > library(help = mva)
> cancor                   Canonical Correlations
> cmdscale                 Classical (Metric) Multidimensional Scaling
> dist                     Distance Matrix Computation
> hclust                   Hierarchical Clustering
> kmeans                   K-Means Clustering
> prcomp                   Principal Components Analysis
> > (pc.cr<-princomp(USArrests))
> Error: couldn't find function "princomp"
> >
> 
> I should say that ?princomp works beautifully, but the function itself
> is absent.
> I imagine I have done something stupid in installation?
> 
> thanks,
I accidently left off the fact that what I REALLY did was:

> library(mva)
> princomp
Error: Object "princomp" not found
> library(mva)
> library(help = mva)
cancor                   Canonical Correlations
cmdscale                 Classical (Metric) Multidimensional Scaling
dist                     Distance Matrix Computation
hclust                   Hierarchical Clustering
kmeans                   K-Means Clustering
prcomp                   Principal Components Analysis
> princomp
Error: Object "princomp" not found
> 


thanks, 
mike
-- 
------------------------------------------------
Mike Kalish 			   Coordinator, Cognitive Science
Dept. of Psychology              email: kalish at psy.uwa.edu.au 
University of Western Australia  phone: 61 - 8 - 9380-2688
Nedlands, WA  6009               fax: 61 - 8 -  9380-1006
Australia           http://boneyard.psy.uwa.edu.au/kalish.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Thu Oct  7 09:59:22 1999
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 7 Oct 1999 09:59:22 +0200 (CEST)
Subject: [R] [Fwd: Libraries loading, but not really?] - it really IS a problem :-(
In-Reply-To: <37FC4262.4B5514F4@psy.uwa.edu.au>
References: <37FC4262.4B5514F4@psy.uwa.edu.au>
Message-ID: <14332.21210.532260.11680@galadriel.ci.tuwien.ac.at>


Which version of R are you using? Which platform?  On my system
(R 0.65.1 on Debian Linux) princomp works fine.

Best,
Fritz



>>>>> On Thu, 07 Oct 1999 06:49:06 +0000,
>>>>> kalish  (k) wrote:

k> kalish at psy.uwa.edu.au wrote:
>> 
>> I'm a newbie at R, and can't get libraries to really work.
>> I did this:

>> > library(help = mva)
>> cancor                   Canonical Correlations
>> cmdscale                 Classical (Metric) Multidimensional Scaling
>> dist                     Distance Matrix Computation
>> hclust                   Hierarchical Clustering
>> kmeans                   K-Means Clustering
>> prcomp                   Principal Components Analysis
>> > (pc.cr<-princomp(USArrests))
>> Error: couldn't find function "princomp"
>> >
>> 
>> I should say that ?princomp works beautifully, but the function itself
>> is absent.
>> I imagine I have done something stupid in installation?
>> 
>> thanks,
k> I accidently left off the fact that what I REALLY did was:

>> library(mva)
>> princomp
k> Error: Object "princomp" not found
>> library(mva)
>> library(help = mva)
k> cancor                   Canonical Correlations
k> cmdscale                 Classical (Metric) Multidimensional Scaling
k> dist                     Distance Matrix Computation
k> hclust                   Hierarchical Clustering
k> kmeans                   K-Means Clustering
k> prcomp                   Principal Components Analysis
>> princomp
k> Error: Object "princomp" not found
>> 


k> thanks, 
k> mike
k> -- 
k> ------------------------------------------------
k> Mike Kalish 			   Coordinator, Cognitive Science
k> Dept. of Psychology              email: kalish at psy.uwa.edu.au 
k> University of Western Australia  phone: 61 - 8 - 9380-2688
k> Nedlands, WA  6009               fax: 61 - 8 -  9380-1006
k> Australia           http://boneyard.psy.uwa.edu.au/kalish.html
k> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
k> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
k> Send "info", "help", or "[un]subscribe"
k> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
k> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpiper at med.usyd.edu.au  Thu Oct  7 09:58:35 1999
From: rpiper at med.usyd.edu.au (Richard Piper)
Date: Thu, 07 Oct 1999 17:58:35 +1000
Subject: [R] Java interface to R
References: <37FBD02C.BE211BE8@med.usyd.edu.au>
Message-ID: <37FC52AB.CB68E1FA@med.usyd.edu.au>

Richard PIper wrote:
> 
> I have been doing some programming with java servlets for data
> collection.
> I was wondering if there is a way to connect to the R-server using java
> to do data analysis. A java-interface or some connection class.
> I think there is some similar facility with SAS, although I have not
> looked at it.
> 
> Richard Piper
> 

To try and answer my own question. It does seem to possible to 
connect to the R process as follows:

	Process p  = Runtime.getRuntime().exec("R --slave");

	OutputStreamWriter o = new OutputStreamWriter(p.getOutputStream());
	o.write("data(sleep)\n");
	o.write("summary(sleep$extra)\n");
	o.write("mean(sleep$extra)\n");
	o.write("quit(\"no\")\n");
	o.flush(); 


        BufferedInputStream buffer =
          new BufferedInputStream(p.getInputStream());
        DataInputStream commandResult =
          new DataInputStream(buffer);
 etc ..

It seems to work quite well with limited testing


Richard
	
-- 
Intensive Care Unit, RNS Hospital, Sydney.
Phone:	612-9926-8656 or 8617
FAX:	612-9439-8418
Page:	612-9962-9000 No. 248026
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Thu Oct  7 10:13:36 1999
From: plummer at iarc.fr (Martyn Plummer)
Date: Thu, 07 Oct 1999 10:13:36 +0200 (CEST)
Subject: [R] uploaded hdf5 and R 0.65.1 RPMs
In-Reply-To: <37FB8B9A.A24C3AB4@ukans.edu>
Message-ID: <XFMail.991007101336.plummer@iarc.fr>

These rpms have been moved over to the main RedHat area
ftp://ftp-fis.iarc.fr/pub/R/RedHat/
and will be mirrored to a CRAN site near you in the next
day or so.

Thanks Paul.

Martyn

On 06-Oct-99 Paul Johnson wrote:
> Dear everybody:
> 
> HDF5, a dataset formatting library, and R that is built with it, have
> been uploaded to ftp://ftp-fis.iarc.fr/pub/incoming.  The R RPM uses the
> spec file created by Martyn Plummer as a starting point, and makes only
> a few trivial changes.
> 
> -rw-rw-r--   1 ftp      100       3416612 Oct  6 17:45
> R-base-with-hdf5-0.65.1-1.i386.rpm
> -rw-rw-r--   1 ftp      100       2300453 Oct  6 17:48
> R-base-with-hdf5-0.65.1-1.src.rpm
> -rw-rw-r--   1 ftp      100          5778 Oct  6 17:49
> R-base-with-hdf5.spec
> -rw-rw-r--   1 ftp      100       1987918 Oct  6 17:38
> hdf5-1.2.0beta1r2-1rh6.i386.rpm
> -rw-rw-r--   1 ftp      100       1326762 Oct  6 17:41
> hdf5-1.2.0beta1r2-1rh6.src.rpm
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Oct  7 10:34:26 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 7 Oct 1999 10:34:26 +0200
Subject: [R] [Fwd: Libraries loading, but not really?] - it really IS a 
 problem :-(
In-Reply-To: <37FC45F0.7E7E6907@psy.uwa.edu.au> (kalish@psy.uwa.edu.au)
References: <37FC4262.4B5514F4@psy.uwa.edu.au> <199910070658.IAA12113@sophie.ethz.ch> <37FC45F0.7E7E6907@psy.uwa.edu.au>
Message-ID: <199910070834.KAA12346@sophie.ethz.ch>

Thank you, Kalish
[it's version 0.65.0  on  "i686, linux"]

  > search()
  [1] ".GlobalEnv"     "package:mva"    "package:multiv" "package:eda"
  [5] "Autoloads"      "package:base"
  > ls("package:mva")
  character(0)

This clearly shows that something must be wrong in your setup, probably
your installation.
[consider installing again and watching the installation messages]

Does
	system.file(pkg="mva")

return an existing directory?  Does

	system.file("R/mva",pkg="mva")

give a file -- which should be full of (mva)-function definitions?

-- 
Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Matthias.Fischer at wiso.uni-erlangen.de  Thu Oct  7 10:35:08 1999
From: Matthias.Fischer at wiso.uni-erlangen.de (M. Fischer)
Date: Thu, 7 Oct 1999 10:35:08 +0200
Subject: [R] R + GARCH ???
Message-ID: <61231B5545@wsrz2.wiso.uni-erlangen.de>

Dear R-Users,

are there any ARIMA/GARCH-packages/functions for R?

Best regards,
M. Fischer
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Oct  7 12:10:39 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 7 Oct 1999 11:10:39 +0100 (BST)
Subject: [R] R + GARCH ???
In-Reply-To: <61231B5545@wsrz2.wiso.uni-erlangen.de>
Message-ID: <Pine.GSO.4.05.9910071109480.2046-100000@toucan.stats>

On Thu, 7 Oct 1999, M. Fischer wrote:

> Dear R-Users,
> 
> are there any ARIMA/GARCH-packages/functions for R?

ARIMA in library(ts)
GARCH: not yet AFAIK, but planned for library ts.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Adrian.Trapletti at wu-wien.ac.at  Thu Oct  7 13:48:12 1999
From: Adrian.Trapletti at wu-wien.ac.at (Adrian Trapletti)
Date: Thu, 07 Oct 1999 11:48:12 +0000
Subject: [R] R + GARCH ???
References: <61231B5545@wsrz2.wiso.uni-erlangen.de>
Message-ID: <37FC887B.230D27EC@wu-wien.ac.at>

"M. Fischer" wrote:

> Dear R-Users,
>
> are there any ARIMA/GARCH-packages/functions for R?

Currently, ARIMA models may be fitted with R using the ts package (is contained in
the R distribution). Another package for TSA which you can download from CRAN is
tseries. I already have a GARCH prototype for tseries, but it's too early to
release it now. It needs some more testing. I hope to finish it soon.

Adrian


--
Adrian Trapletti, Vienna University of Economics and Business
Administration, Augasse 2-6, A-1090 Vienna, Austria
Phone: ++43 1 31336 4561, Fax: ++43 1 31336 708,
Email: adrian.trapletti at wu-wien.ac.at



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Thu Oct  7 15:47:43 1999
From: peter at esb.ucp.pt (Peter Ho)
Date: Thu, 07 Oct 1999 14:47:43 +0100
Subject: [R] Xgobi
Message-ID: <37FCA47A.1B54A693@esb.ucp.pt>

I have been trying to get Xgobi to work with the function xgobi( ), but
I keep on getting the message ""Xgobi requires a filename or some data
from stdin" in the DOS-shell. My Xgobi.bat file is :

@echo off
 PATH=c:\windows\
set DISPLAY=195.23.18.11:0.0
set XGOBIDIR=c:/Xgobi3
c:\Xgobi3\xgobi.exe

In R I get:

> xgobi(D1)
C:\RW0642/library/xgobi/scripts/xgobi.bat -vtitle 'D1' -dev 2 -std mmx
C:/WINDOWS/TEMP/xgobi18467


I am running Xgobi on the MIX X server on Windows95. Do you know how I
can get Xgobi to accept any of my data.frames? Xgobi runs well on the
flea example found in the Xgobi package.
Also, if the path of the data file is placed after c:\Xgobi3\xgobi.exe,
then Xgobi will work with this file.

Thanks


Peter

---------------------
Peter Ho
Escola Superior de Biotecnologia
Universidade Cat?lica Portuguesa
Rua Dr. Ant?nio Bernardino de Almeida
4200 Porto
Portugal

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Oct  7 18:48:04 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 7 Oct 1999 18:48:04 +0200
Subject: [R] Xgobi
In-Reply-To: <37FCA47A.1B54A693@esb.ucp.pt> (message from Peter Ho on Thu, 07
	Oct 1999 14:47:43 +0100)
References: <37FCA47A.1B54A693@esb.ucp.pt>
Message-ID: <199910071648.SAA13218@sophie.ethz.ch>

>>>>> On Thu, 07 Oct 1999 14:47:43 +0100, Peter Ho <peter at esb.ucp.pt> said:

  PeHo> I have been trying to get Xgobi to work with the function xgobi(),
  PeHo>  but I keep on getting the message ""Xgobi requires a filename
  PeHo> or some data from stdin" in the DOS-shell. My Xgobi.bat file is :

  PeHo> @echo off
  PeHo>  PATH=c:\windows\
  PeHo> set DISPLAY=195.23.18.11:0.0
  PeHo> set XGOBIDIR=c:/Xgobi3
  PeHo> c:\Xgobi3\xgobi.exe

I've half forgotten all about *.bat programming, but shouldn't your
xgobi.bat  in the last line  __pass__ the arguments that the batch script
got, i.e.  in Unix shell (instead of bat language),
the last line would be something like
     c:\Xgobi3\xgobi.exe $*
			 ==


  PeHo> In R I get:
  PeHo> 
  PeHo> > xgobi(D1)
  PeHo> C:\RW0642/library/xgobi/scripts/xgobi.bat -vtitle 'D1' -dev 2 -std mmx
  PeHo> C:/WINDOWS/TEMP/xgobi18467


  PeHo> I am running Xgobi on the MIX X server on Windows95. Do you know
  PeHo> how I can get Xgobi to accept any of my data.frames? Xgobi runs
  PeHo> well on the flea example found in the Xgobi package.  Also, if
  PeHo> the path of the data file is placed after c:\Xgobi3\xgobi.exe,
  PeHo> then Xgobi will work with this file.



-- 
Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Thu Oct  7 20:01:41 1999
From: peter at esb.ucp.pt (Peter Ho)
Date: Thu, 07 Oct 1999 19:01:41 +0100
Subject: [R] Xgobi under Windows
References: <199910071504.QAA03028@toucan.stats.ox.ac.uk>
Message-ID: <37FCE003.FC588175@esb.ucp.pt>

Hi,

Firstly, I would like to thank everyone who had replied to my earlier
question of using Xgobi with R under windows. After a little messing around
with the xgobi.bat file, I can now export data from R  into Xgobi running on
the free MIX X server.
In summary here is the procedure to make Xgobi work under windows for R:

1) Download the Xgobi for windows executables from Brian Ripley's S-Liberries
at

                http://www.stats.ox.ac.uk/pub/SWin/

I used the   xgobi3-99.zip  from 03-Mar-1999 09:55. Unzip it and place in any
directory of your choice.


2) Download R interface windows compiled library, xgobi.zip from CRAN or
mirror sites and installed it in your library directory under which ever
version of R you have running.

3) Modify the xgobi.bat file found in (2) to read something like this:

@echo off
PATH=c:\windows\;
set DISPLAY=your machine name: 0.0
set XGOBID=c:/Xgobi3
c:\Xgobi3\xgobi.exe %1 %2 %3 %4 %5 %6 %7 %8 %9


Thanks very much to Martin you suggested to use the pass argument. Although
it didn't work using
%1 %2 %3 %4 %5 %6 %7 %8 %9, whihc was originally there did.
In my case my parent directory for Xgobi was Xgobi3.


4) From within R do the following.

>    library(xgobi)

then you can use the function:

> xgobi(your matrix or data.frame)


That's ll you need to do.

Thanks again

Peter

------------------------------------
Peter Ho
Escola Superior de Biotecnologia
Universidade Cat?lica Portuguesa
Rua Dr. Ant?nio Bernardino de Almeida
4200 Porto
Portugal
Tel: ++351-2-5580043

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tdlong at uci.edu  Fri Oct  8 03:33:27 1999
From: tdlong at uci.edu (Tony Long)
Date: Thu, 7 Oct 1999 17:33:27 -0800
Subject: [R] error using dyn.load
Message-ID: <v04003a0fb422f8e2821d@[128.200.28.182]>

I am trying to use dynamic loading of an outside C routine.  I am
attempting 6.12.1 of Phil Spector's book.  When I try to load the object
file I get an error I don't understand:

> dyn.load("runa.o")
Error in dyn.load(x) : unable to load shared library
"/usr/home/tdlong/run_avg/runa.o":
  /usr/home/tdlong/run_avg/runa.o: ELF file's phentsize not the expected size


I am running version 0.64.2 or R under Linux Red Hat 5.2

here is the C code I made an object for, I compiled with

gcc -m486 -c runa.c

#include <stdio.h>
#include <stdlib.h>
#include <time.h>

void runavg(double *x, long n, long k, double *r);
void runa(double *x, long *n, long *k, double *r);

void runavg(double *x, long n, long k, double *r){

/*
x is the input vector
n is the length of the vector
k is the size of the running average window, the window includes the data point
		at that position plus k points on either side.  For example
k = 3 would be
		a sliding window of size {3+1+3}= 7 centered on each point
r is the output vector
*/

	long i,j,l,u;
	double t;

	t = 0;

	for(j=0; j<=k; j++) t += x[j];

	l=0;
	u=k;
	for(i=0; i < n; i++){
	/* the use of u-l-1 instead of k handles end effects */
		r[i] = t / (double)(u-l+1);
	/* update the current running total for the next position */
		if(i > k -1) t -= x[l++];
		if(u < n -1) t += x[++u];
		}

}

void runa(double *x, long *n, long *k, double *r){
	runavg(x,*n,*k,r);
}

/*
void main(void)
{

double x[20]={2,5,3,6,2,2,1,6,8,9,10,2,4,6,7,4,3,1,8,10}, r[20];
long n,k,i;

runavg(x,20,3,r);
for(i=0; i<20; i++) printf("%g\t%g\n",x[i],r[i]);
}
*/


Tony Long
Ecology and Evolutionary Biology
Steinhaus Hall
University of California at Irvine
Irvine, CA
92697-2525

Tel:  (949) 824-2562   (office)          ****NOTE NEW AREA CODE****
Tel:  (949) 824-5994   (lab)              ****NOTE NEW AREA CODE****
Fax: (949) 824-2181                        ****NOTE NEW AREA CODE****

email:  tdlong at uci.edu 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Oct  8 03:11:39 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 7 Oct 1999 18:11:39 -0700 (PDT)
Subject: [R] error using dyn.load
In-Reply-To: <v04003a0fb422f8e2821d@[128.200.28.182]>
Message-ID: <Pine.GSO.4.10.9910071807160.13378-100000@wompom.biostat.washington.edu>

On Thu, 7 Oct 1999, Tony Long wrote:

> I am trying to use dynamic loading of an outside C routine.  I am
> attempting 6.12.1 of Phil Spector's book.  When I try to load the object
> file I get an error I don't understand:
> 
> > dyn.load("runa.o")


You need to make a shared library (.so) not an object file. The easy way
to do this is

R SHLIB runa.c

which is set up by the R configure process to use the right compile and
link flags.

You also should change the type of integers passed to C from "long" to
"int" for R.  For gcc under x86 Linux it doesn't matter, though.

See the help for SHLIB, COMPILE, and .C for more information.


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle	




> Error in dyn.load(x) : unable to load shared library
> "/usr/home/tdlong/run_avg/runa.o":
>   /usr/home/tdlong/run_avg/runa.o: ELF file's phentsize not the expected size
> 
> 
> I am running version 0.64.2 or R under Linux Red Hat 5.2
> 
> here is the C code I made an object for, I compiled with
> 
> gcc -m486 -c runa.c
> 
> #include <stdio.h>
> #include <stdlib.h>
> #include <time.h>
> 
> void runavg(double *x, long n, long k, double *r);
> void runa(double *x, long *n, long *k, double *r);
> 
> void runavg(double *x, long n, long k, double *r){
> 
> /*
> x is the input vector
> n is the length of the vector
> k is the size of the running average window, the window includes the data point
> 		at that position plus k points on either side.  For example
> k = 3 would be
> 		a sliding window of size {3+1+3}= 7 centered on each point
> r is the output vector
> */
> 
> 	long i,j,l,u;
> 	double t;
> 
> 	t = 0;
> 
> 	for(j=0; j<=k; j++) t += x[j];
> 
> 	l=0;
> 	u=k;
> 	for(i=0; i < n; i++){
> 	/* the use of u-l-1 instead of k handles end effects */
> 		r[i] = t / (double)(u-l+1);
> 	/* update the current running total for the next position */
> 		if(i > k -1) t -= x[l++];
> 		if(u < n -1) t += x[++u];
> 		}
> 
> }
> 
> void runa(double *x, long *n, long *k, double *r){
> 	runavg(x,*n,*k,r);
> }
> 
> /*
> void main(void)
> {
> 
> double x[20]={2,5,3,6,2,2,1,6,8,9,10,2,4,6,7,4,3,1,8,10}, r[20];
> long n,k,i;
> 
> runavg(x,20,3,r);
> for(i=0; i<20; i++) printf("%g\t%g\n",x[i],r[i]);
> }
> */
> 
> 
> Tony Long
> Ecology and Evolutionary Biology
> Steinhaus Hall
> University of California at Irvine
> Irvine, CA
> 92697-2525
> 
> Tel:  (949) 824-2562   (office)          ****NOTE NEW AREA CODE****
> Tel:  (949) 824-5994   (lab)              ****NOTE NEW AREA CODE****
> Fax: (949) 824-2181                        ****NOTE NEW AREA CODE****
> 
> email:  tdlong at uci.edu 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Oct  8 11:05:47 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 8 Oct 1999 10:05:47 +0100 (BST)
Subject: [R] Re: R-0.65.1 for WinNT/9X
In-Reply-To: <19991008103453.39839@hal.stat.unipd.it>
Message-ID: <Pine.GSO.4.05.9910081003590.10042-100000@auk.stats>

On Fri, 8 Oct 1999, Guido Masarotto wrote:

> 
> A binary distribution of R-0.64.2 for Windows is available at

0.65.1, me thinks.

Thanks.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Fri Oct  8 12:31:19 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Fri, 8 Oct 1999 12:31:19 +0200 (MET DST)
Subject: [R] Re: R-0.65.1 for WinNT/9X
In-Reply-To: <19991008103453.39839@hal.stat.unipd.it> from "Guido Masarotto" at Oct 08, 1999 10:34:53 AM
Message-ID: <199910081031.MAA20454@alpha.luc.ac.be>

Glad to see you back, Guido!
Perhaps you should correct below. Jim

> 
> 
> A binary distribution of R-0.64.2 for Windows is available at
                               ^^^^
> <CRAN>/bin/windows/windows-NT (at least at Wien).
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ian at stams.strath.ac.uk  Fri Oct  8 13:35:36 1999
From: ian at stams.strath.ac.uk (Ian Thurlbeck)
Date: Fri, 8 Oct 1999 12:35:36 +0100
Subject: [R] ts package on CRAN ?
References: <Pine.GSO.4.05.9910081003590.10042-100000@auk.stats>
Message-ID: <99100812411306.00949@ida>


Dear All

I've just been downloading R-0.65.1 from http://www.ci.tuwien.ac.at/R 
(since the UK site hasn't mirrored yet) and I noticed that the "tseries"
package depends on "ts" which isn't in the list.  Does anyone know
where it is ?

Thanks

Ian 
--
Ian Thurlbeck                http://www.stams.strath.ac.uk/
Statistics and Modelling Science, University of Strathclyde
Livingstone Tower, 26 Richmond Street, Glasgow, UK,  G1 1XH
Tel: +44 (0)141 548 3667           Fax: +44 (0)141 552 2079
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Oct  8 15:06:28 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 8 Oct 1999 15:06:28 +0200
Subject: [R] ts package on CRAN ?
In-Reply-To: <99100812411306.00949@ida> (message from Ian Thurlbeck on Fri, 8
	Oct 1999 12:35:36 +0100)
References: <Pine.GSO.4.05.9910081003590.10042-100000@auk.stats> <99100812411306.00949@ida>
Message-ID: <199910081306.PAA14669@sophie.ethz.ch>

>>>>> On Fri, 8 Oct 1999 12:35:36 +0100, Ian Thurlbeck <ian at stams.strath.ac.uk> said:

    Ian> Dear All

    Ian> I've just been downloading R-0.65.1 from
    Ian> http://www.ci.tuwien.ac.at/R (since the UK site hasn't mirrored
    Ian> yet) and I noticed that the "tseries" package depends on "ts"
    Ian> which isn't in the list.  Does anyone know where it is ?

Part of 0.65.1 itself.

However, if "tseries" would just contain a 

  require(ts)

you shouldn't have seen a problem, since "ts" would have been attached
automatically.

-- 
Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Fri Oct  8 15:20:47 1999
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Fri, 08 Oct 1999 09:20:47 -0400
Subject: [R] ts package on CRAN ?
References: <Pine.GSO.4.05.9910081003590.10042-100000@auk.stats> <99100812411306.00949@ida>
Message-ID: <37FDEFAF.A75881CE@bank-banque-canada.ca>

The "ts" library is included in the base distribution when you download R
0.65.1. It should be available just by typing:

library("ts")


Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yuyun at stat.wisc.edu  Fri Oct  8 21:00:50 1999
From: yuyun at stat.wisc.edu (Yuyun Jessie Yang)
Date: Fri, 8 Oct 1999 14:00:50 -0500 (CDT)
Subject: [R] a beginner's question for window version of R
Message-ID: <Pine.GSO.3.96L.991008135646.7591A-100000@moloch.stat.wisc.edu>

Hi,

I just installed R0.64.2 on a Window NT PC. I am wondering how to increase
the memory size like R --vsize --nsize on UNIX, for RGui.exe or Rterm.exe.

Thank you for the help in advance.

Jessie

Yuyun Jessie Yang
Dissertator, Department of Statistics
University of Wisconsin-Madison
www.stat.wisc.edu/~yuyun

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Oct  8 21:35:20 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 8 Oct 1999 20:35:20 +0100 (BST)
Subject: [R] a beginner's question for window version of R
In-Reply-To: <Pine.GSO.3.96L.991008135646.7591A-100000@moloch.stat.wisc.edu>
Message-ID: <Pine.GSO.4.05.9910082029150.202-100000@auk.stats>

On Fri, 8 Oct 1999, Yuyun Jessie Yang wrote:

> I just installed R0.64.2 on a Window NT PC. I am wondering how to increase
> the memory size like R --vsize --nsize on UNIX, for RGui.exe or Rterm.exe.

Please look in the rw-FAQ which you will find in the top-level directory,
specifically Q1.2.  You can do it exactly as on Unix ....

You may find a lot more useful information there and in the README.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mandevip at uaslp.mx  Fri Oct  8 13:27:14 1999
From: mandevip at uaslp.mx (Peter B. Mandeville)
Date: Fri, 08 Oct 1999 13:27:14
Subject: [R] Re: R-0.65.1 for WinNT/9X
In-Reply-To: <19991008103453.39839@hal.stat.unipd.it>
Message-ID: <3.0.5.16.19991008132714.215ff0e2@deimos.tc.uaslp.mx>

Glad your back!

Peter B.

At 10:34 AM 8/10/99 +0100, you wrote:
>
>A binary distribution of R-0.64.2 for Windows is available at
><CRAN>/bin/windows/windows-NT (at least at Wien).
>
>Enjoy it.
>
>guido masarotto
>
>                      Windows News (since R0.64.2)
>
>rw0651
>======
>
>New function savePlot() to save plots to wmf, gif or ps.
>
>There is now support for help via compiled HTML files (as used by the
>latest Microsoft products): set options(chmhelp=TRUE) to use this.
>You will probably need Internet Explorer 4 or later installed to use
>this, or you can install hhupd.exe from the windows/windows-NT/base/etc
>directory on CRAN.
>
>There is support for building Windows help files (as in Windows 95).
>Set options(winhelp=TRUE) to make this your preferred help system.
>
>Both compiled HTML files and Windows help are available for the
>standard packages.
>
>The new function update.packages() is supported if you have wget.exe
>(a copy is in the windows/windows-NT/base/etc/wget.zip on CRAN) or
>lynx.exe, from http://www.fdisk.com/doslynx/lynxport.htm.
>
>On NT only, CPU times are returned by proc.time() (using a call to
>GetProcessTimes).
>
>Rotated text on a windows / win.* device is placed more accurately,
>especially for non-multiples of 90 degrees.
>
>A windows() device reports itself as `windows' not `X11'.
>
>getenv() now returns all the environmental variables.
>
>unlink() can now remove (empty) directories (but not using wildcard
>specifications).
>
>The complex LINPACK routines which were not included in the Unix
>versions of R are now omitted here.
>
>There is more support for (support of) ActiveX Automation via the
>Rproxy.dll: see the file front-ends/readme.
>
>As under Unix, .Renviron is first searched for in the working directory, 
>then in the home directory. (See README for how the home directory is
>decided.)
>
>The sockets code is definitely working in this version, enough to support
>source.url and friends.
>
>options(pager="console") is set as the default if --ess is used (as it
>works better with Emacs).
>
>The rounding code has been re-written to be more accurate and to round
>to even as documented.
>
>The rw-FAQ is linked into the HTML help system.
>
>We believe the problems with re-sizing windows (especially on Windows 9x)
>have been solved.
>
>
>
>rw0650
>======
>
>[ Because Guido Masarotto was ill for several weeks, rw0650 was only ever
>pre-released. ]
>
>There are many changes `under the skin' which are not reflected in
>user-visible changes, but either improve performance or will allow
>future enhancements.
>
>The environment variables have been changed: R_HOME is now R's home
>directory and R_USER is the HOME for the user which will be used by R
>(and defaults to HOME, if set, then to ${HOMEDRIVE}${HOMEPATH}, if that
>is set, then the working directory). (There are many other such
>changes in R: for example RLIBS becomes R_LIBS, although for the time
>being RLIBS is also recognised.)
>
>Saving a plot as postscript from the device menu will produce a
>portrait plot irrespective of the setting of ps.options().
>
>Saving a plot as a metafile should be more reliable on machines which
>report incorrect information on the size of the screen.
>
>The new flag --no-environ suppresses reading .Renviron and is implied by
>--vanilla.
>
>When rterm is used non-interactively either --save or --no-save must be
>specified: these is no longer a default of --no-save (for consistency 
>with Unix).
>
>More support for building R into other applications: see the examples
>in the front-ends directory of the source distribution.
>
>Interrupting by Esc or Ctrl-Break is handled internally by signals, so
>the `User Break' response will no longer appear, but in rterm ^C will
>be echoed.
>
>There is limited support for `tilde-expansion': file paths such as
>~/rest will be expanded to ${HOME}\rest if HOME is set, or to
>${HOMEDRIVE}${HOMEPATH}\rest if those variables are set.
>
>Using rterm either interactively or with --ess will be more responsive and
>use much less CPU time when waiting for input.  Interruptions by Ctrl-Break
>or (under --ess, for use by ESS) Ctrl-C should happen immediately and be 
>handled correctly. [On NT: problems with Win 98 were corrected for rw0651.]
>
>The installer can now install correctly in a top-level directory (e.g.
>C:\), fixing a bug in the unzip code used.
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-announce mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>

--
Peter B. Mandeville                             mandevip at deimos.tc.uaslp.mx
Jefe del Depto. de Inform?tica y Bioestad?stica rpe1531 at pasteur.fmed.uaslp.mx 
Facultad de Medicine                            Tel: 48 26-23-45 ext. 232
Universidad Aut?noma de San Luis Potos?         Fax: 48 28-23-52
Av. V. Carranza 2405
Col. Los Filtros
Apartado Postal 145
San Luis Potos?, S.L.P.
78210 M?xico

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ono96 at fa2.so-net.ne.jp  Sat Oct  9 15:37:57 1999
From: ono96 at fa2.so-net.ne.jp (Hisaji ONO)
Date: Sat, 9 Oct 1999 22:37:57 +0900
Subject: [R] Re: R-0.65.1 for WinNT/9XRe: R-0.65.1 for WinNT/9X
Message-ID: <003301bf125b$81d35d60$53b584d2@myvaio>

Hello.

I've dowloaded R-0.65.1 for WinNT/9X.

>There is more support for (support of) ActiveX Automation via the
>Rproxy.dll: see the file front-ends/readme.

And where is this "the file front-ends/readme" which describes R's ActiveX
Automation ?

In  "readme" under "r-install path\" and FAQ for Win port, no description
about this.

Please teach me.



Hisaji ONO

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/19991009/c856bc05/attachment.html

From p.dalgaard at biostat.ku.dk  Sat Oct  9 17:36:22 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Oct 1999 17:36:22 +0200
Subject: [R] Re: R-0.65.1 for WinNT/9XRe: R-0.65.1 for WinNT/9X
In-Reply-To: "Hisaji ONO"'s message of "Sat, 9 Oct 1999 22:37:57 +0900"
References: <003301bf125b$81d35d60$53b584d2@myvaio>
Message-ID: <x2hfk0r1ft.fsf@blueberry.kubism.ku.dk>

"Hisaji ONO" <ono96 at fa2.so-net.ne.jp> writes:

> >There is more support for (support of) ActiveX Automation via the
> >Rproxy.dll: see the file front-ends/readme.
> 
> And where is this "the file front-ends/readme" which describes R's ActiveX
> Automation ?
> 
> In  "readme" under "r-install path\" and FAQ for Win port, no description
> about this.
> 
> Please teach me.

In the main sources, under src/gnuwin32/front-ends

Here it is for easy reference, but as you see it's intended for
programmers, so you'll need the sources eventually:

--- front-ends/readme ---

Linking the R DLL into other applications
=========================================

The file rtest.c provides an example of linking the R engine into
another front end. To build it

- edit it to set Rp->rhome and Rp->home appropriately, or set
  appropriate environmental variables.

- to make with gcc,  make -f make.rtest

- to make with VC++,

	copy ..\R.exp and ..\R.dll to this directory
	lib /def:R.exp /machine:ix86 /out:Rdll.lib
	cl /MT /Ox /I..\..\include /I.. rtest.c Rdll.lib

This provides an rterm-like test front end. The main loop is in the
main program here: R_ReplDLLdo1() parses one line (up to ; or \n) and
returns 1 if complete, 2 if incomplete as an R expression.

There is a callback available during evaluation, plotting and console
I/O, intended to be used for processing GUI events. (The pager and
graphics windows' GUI events are handled at these times by
ProcessEvents: the callback is called from within ProcessEvents.)
Note that in this version console input blocks the process so pager
and graphics windows will not respond during input: a real application
that uses these windows needs to have a non-blocking ReadConsole
function.  Rterm uses a separate thread to achieve this.


An alternative to linking the import library would be to explicitly
load the DLL from a known location or after searching for it.

The example shows one way to handle user interrupts, although it might
be as easy to generate a SIGINT directly from a GUI front end. For
this to be useful you will want to set R_Interactive to be true, and
you will need to use SETJMP to jump back to somewhere useful in your
code.


A R proxy DLL
=============

Files bdx* and rproxy* are used to build a proxy DLL (by Thomas Baier)
for
use with his automation server StatConnectorSrv.exe.  The file rprx.c
is a 
simple test main program for rproxy.dll.

The interface can evaluate commands and transfer simple R objects
(e.g.
vectors and matrices).

Look on CRAN under `platform-specific extension packages' for the
automation server.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Sun Oct 10 02:29:57 1999
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Sun, 10 Oct 1999 13:29:57 +1300
Subject: [R] Using metric scaling
Message-ID: <199910100027.NAA31787@gosset.stats.waikato.ac.nz>

I want to enter a symmetric matrix containing distances for use in the
cmdscale() metric scaling function. The matrix currently sits on a file in
lower triangular form looking like this:

   1 AWANUI RIVER         .000
   2 BLENHEIM             .510   .000
   3 COLLINGWOOD          .510   .109   .000
   4 FOXTON               .510   .141   .141   .000
   5 GISBORNE             .549   .549   .549   .549   .000
   6 HAROTO BAY           .510   .120   .120   .141   .549   .000
   7 HOUHORA HARBOUR      .165   .510   .510   .510   .549   .510   .000
   8 PORANGAHAU           .549   .549   .549   .549   .072   .549   .549
.000
   9 RAWENE               .510   .314   .314   .314   .549   .314   .510
.549
  10 LAKE ROTOITI         .510   .314   .314   .314   .549   .314   .510
.549
 
and so on down to

  38 WHANGANUI INLET      .788   .788   .788   .788   .788   .788   .788
.788

then beginning again with the next 8 columns

   9 RAWENE               .000
  10 LAKE ROTOITI         .223   .000
  11 LAKE ROTORUA         .223   .084   .000

and so on.

Can some tolerant person let me know the way to enter this into a distance
or symmetric matrix structure in R?

Also, in the 'eurodist' example given with cmdscale.html the plot gives the
point labels, but no symbol showing the location of the point. Is it
possible to specify a plotting symbol as well as the label?

Regards,

Murray Jorgensen




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From syring at email.com  Sun Oct 10 10:33:19 1999
From: syring at email.com (Karl M. Syring)
Date: Sun, 10 Oct 1999 10:33:19 +0200
Subject: [R] Re: R-0.65.1 for WinNT/9XRe: R-0.65.1 for WinNT/9X
In-Reply-To: <x2hfk0r1ft.fsf@blueberry.kubism.ku.dk>
Message-ID: <000201bf12fa$1b5f0800$e3109d3e@fenris>

I think, we have now a good reason to make the binary distributions to load
msvrt.dll. Otherwise, you would probably get both crtdll and msvcrt loaded
if you use COM/ActiveX. As we already now, this is a safe way into difficult
and hard to diagnose problems.

Karl


> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Peter Dalgaard BSA
> Sent: Samstag, 9. Oktober 1999 17:36
> To: Hisaji ONO
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] Re: R-0.65.1 for WinNT/9XRe: R-0.65.1 for WinNT/9X
>
> "Hisaji ONO" <ono96 at fa2.so-net.ne.jp> writes:
>
> > >There is more support for (support of) ActiveX Automation via the
<snip>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From syring at email.com  Sun Oct 10 17:06:21 1999
From: syring at email.com (Karl M. Syring)
Date: Sun, 10 Oct 1999 17:06:21 +0200
Subject: [R] RE: msvrt.dll (was R-0.65.1 for WinNT/9X)
In-Reply-To: <Pine.GSO.4.05.9910101135570.4687-100000@auk.stats>
Message-ID: <000301bf1331$02df5820$e3109d3e@fenris>



> -----Original Message-----
> From: ripley at auk.stats [mailto:ripley at auk.stats]On Behalf Of Prof Brian
> D Ripley
> Sent: Sonntag, 10. Oktober 1999 13:03
> To: Guido Masarotto
> Cc: Karl M. Syring; r-devel at stat.math.ethz.ch
> Subject: Re: msvrt.dll (was R-0.65.1 for WinNT/9X)
>
>
> On Sun, 10 Oct 1999, Guido Masarotto wrote:
>
> > On Sun, Oct 10, 1999 at 10:33:19AM +0200, Karl M. Syring wrote:
> > > I think, we have now a good reason to make the binary
> distributions to load
> > > msvrt.dll. Otherwise, you would probably get both crtdll and
> msvcrt loaded
> > > if you use COM/ActiveX. As we already now, this is a safe way
> into difficult
> > > and hard to diagnose problems.
>
> Nothing in the (unreleased) (D)COM stuff makes any use of msvcrt.dll.
> I have just checked by removing from my system and re-running the tests.
> It is all ATL based.

Since I can not know what is not released, I will desits to comment
>
> >  Karl,
> >  my idea is to switch to msvrt.dll soon. However. some more tests
> >  are needed.
>
> In particular, we have to resolve what to do about machines without
> msvcrt.dll.  Not all Windows machines have it, and I have read the
> redistribution conditions on my copy of Visual Studio. I am not clear we
> have any right to redistribute it with an application not compiled under
> VC++6 (it might depend where we got it from) and if we do there seem to be
> complex conditions on checking version numbers which will demand a quite
> complex updater to be written.  It looks like having a local copy for the
> application is not approved of.  (All I know is that the redistibution
> conditions do depend on which of the many VS licences one has.)

As far as I know, there are no problems with different versions of
msvcrt.dll. To distribute it we could

a) recommend to install IE5 (deprecated...)

b) A perfect solution would be to make a diagnostic program that checks the
R dlls for the kind of C runtime it depends on. Of course, this diagnostic
program would be distributed with all potentially required dlls.


> Karl: it would be a great help if you could look into this for us, and
> if the way looks clear provide us with a suitable updater, or point us
> to a suitable ready-made one.
>
> Another side effect of requiring msvcrt.dll appears to be to stop the
> possibilities of using the cygwin and cross-compiling routes, since AFAIK
> only the binaries for the mingw32 compiler are available to use
> msvcrt.dll.
> Again, if you know more it would be very helpful if you could
> test this for
> us.

Yes it would make cross compilation impossible without modifying the cygwin
tools.
I think this is not too bad, as anyone who wants it could make still his
crtdll linked version at home.



>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yee at scitec.auckland.ac.nz  Sun Oct 10 22:26:09 1999
From: yee at scitec.auckland.ac.nz (Thomas Yee)
Date: Mon, 11 Oct 1999 09:26:09 +1300 (NZDT)
Subject: [R] substituting values into a function
Message-ID: <199910102026.JAA13284@aitken.scitec.auckland.ac.nz>

Hi everybody,

In Splus, the following works fine.

foo1 <- function(x, const)
    x + const

foo2 <- function(x, const)
    x * const

const1 <- 1
const2 <- 2
foo <- substitute(function(x) {
    a <- foo1(x, const1)
    b <- foo2(a, const2)
    b
}, list(const1=const1, const2=const2))

foo(1:3)

In R, the code doesn't work, as foo is of mode "call", and
as.function(foo) gives an error. I could add the arguments const1 and
const2 to foo, but that would be less elegant for me.  Also, it would
be needful to have the same code running in both S and R.  Assistance
with the problem would be greatly appreciated. Thanks in advance.

Thomas 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Sun Oct 10 23:05:33 1999
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Mon, 11 Oct 1999 10:05:33 +1300
Subject: [R] Using metric scaling
In-Reply-To: <199910100027.NAA31787@gosset.stats.waikato.ac.nz>
Message-ID: <199910102103.KAA01442@gosset.stats.waikato.ac.nz>

Prof B. Ripley wrote:

>With that sort of structure it will be painful.  I assume some extra
>line wrapping occurred in transit?  If so, here is my best idea:
>
>t1 <- read.fwf("dist.dat", width=c(4, 22, rep(7, 8)))
> . . .

Actually I am reading an output file of a program that I do not have.

I am using R 0.64.2 under Windows 95. I soon found out that read.fwf()
requires Perl, which I did not have installed. So I downloaded ActivePerl
from http://www.activestate.com/ActivePerl/ and installed it, as well as 
DCOM for Windows 95 (required for Windows 95 machines only) - downloadable
from http://www.microsoft.com/com/dcom/dcom95/dcom1_3.asp. 

The install was straightforward (I put DCOM on first, which seemed
logical). However I still have trouble with read.fwf(). At first I thought
that it was due to spaces in my directory names, but it persisted after I
fixed this up. My complete session follows:

[Previously saved workspace restored]

> t1 <- read.fwf("d:/maj/consulting/Mark Stevens/matrix.txt", width=c(4,
22, rep(7, 8)))
Error: "scan" can't open file
> t1 <- read.fwf("d:/maj/consulting/MarkStevens/matrix.txt", width=c(4, 22,
rep(7, 8)))
Error: "scan" can't open file
> ss  <- scan("d:/maj/consulting/MarkStevens/matrix.txt")
Error: "scan" expected a real got "AWANUI"
> 
> t1 <- read.fwf("d:/maj/consulting/MarkStevens/matrix.txt", width=c(4, 22,
rep(7, 8)))
Error: "scan" can't open file
> t1 <- read.fwf("d:\maj\consulting\MarkStevens\matrix.txt", width=c(4, 22,
rep(7, 8)))
Error: "scan" can't open file
> 
> t1 <- read.fwf("d:/maj/Consulting/MarkStevens/matrix.txt", width=c(4, 22,
rep(7, 8)))
Error: "scan" can't open file
> t1 <- read.fwf("D:/maj/Consulting/MarkStevens/matrix.txt", width=c(4, 22,
rep(7, 8)))
Error: "scan" can't open file
> t1 <- read.fwf("d:\\maj\\Consulting\\MarkStevens\\matrix.txt", width=c(4,
22, rep(7, 8)))
Error: "scan" can't open file



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Oct 10 23:42:47 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Oct 1999 23:42:47 +0200
Subject: [R] substituting values into a function
In-Reply-To: Thomas Yee's message of "Mon, 11 Oct 1999 09:26:09 +1300 (NZDT)"
References: <199910102026.JAA13284@aitken.scitec.auckland.ac.nz>
Message-ID: <x2g0zic2p4.fsf@blueberry.kubism.ku.dk>

Thomas Yee <yee at scitec.auckland.ac.nz> writes:

> Hi everybody,
> 
> In Splus, the following works fine.
> 
> foo1 <- function(x, const)
>     x + const
> 
> foo2 <- function(x, const)
>     x * const
> 
> const1 <- 1
> const2 <- 2
> foo <- substitute(function(x) {
>     a <- foo1(x, const1)
>     b <- foo2(a, const2)
>     b
> }, list(const1=const1, const2=const2))
> 
> foo(1:3)
> 
> In R, the code doesn't work, as foo is of mode "call", and
> as.function(foo) gives an error. I could add the arguments const1 and
> const2 to foo, but that would be less elegant for me.  Also, it would
> be needful to have the same code running in both S and R.  Assistance
> with the problem would be greatly appreciated. Thanks in advance.

I'm surprised that it works in S... 

Substitute generally returns an unevaluated expression (== object of
mode call), in this case a call to the function constructor, not the
function itself. Apparently, S does not make that distinction, but
you'd get in the same situation there if you did

> x<-substitute(get("ls"))
> x()
Error: couldn't find function "x"

The solution is to evaluate the call object first:

> eval(foo)(1:3)
[1] 4 6 8

BTW, there's a much nicer way in R, using lexical scope:

foo <- local({
  foo1 <- function(x, const)
    x + const
 
  foo2 <- function(x, const)
    x * const
 
  const1 <- 1
  const2 <- 2
  function(x) {
     a <- foo1(x, const1)
     b <- foo2(a, const2)
     b
  }
})

> foo(1:3)
[1] 4 6 8
> evalq(const1 <- 10, environment(foo))
> foo(1:3)
[1] 22 24 26



-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Oct 11 00:44:06 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Oct 1999 00:44:06 +0200
Subject: [R] Using metric scaling
In-Reply-To: Murray Jorgensen's message of "Mon, 11 Oct 1999 10:05:33 +1300"
References: <199910102103.KAA01442@gosset.stats.waikato.ac.nz>
Message-ID: <x2aepqbzux.fsf@blueberry.kubism.ku.dk>

Murray Jorgensen <maj at waikato.ac.nz> writes:

> Actually I am reading an output file of a program that I do not have.

Genstat?

> I am using R 0.64.2 under Windows 95. I soon found out that read.fwf()
> requires Perl, which I did not have installed. So I downloaded ActivePerl
> from http://www.activestate.com/ActivePerl/ and installed it, as well as 
> DCOM for Windows 95 (required for Windows 95 machines only) - downloadable
> from http://www.microsoft.com/com/dcom/dcom95/dcom1_3.asp. 
> 
> The install was straightforward (I put DCOM on first, which seemed
> logical). However I still have trouble with read.fwf(). At first I thought
> that it was due to spaces in my directory names, but it persisted after I
> fixed this up. My complete session follows:
> 
> [Previously saved workspace restored]
> 
> > t1 <- read.fwf("d:/maj/consulting/Mark Stevens/matrix.txt", width=c(4,
> 22, rep(7, 8)))
> Error: "scan" can't open file
> > t1 <- read.fwf("d:/maj/consulting/MarkStevens/matrix.txt", width=c(4, 22,
> rep(7, 8)))
> Error: "scan" can't open file
> > ss  <- scan("d:/maj/consulting/MarkStevens/matrix.txt")
> Error: "scan" expected a real got "AWANUI"

read.fwf creates a temporary file, and that's probably the one that
scan cannot find. Try debug(read.fwf), singlestep it, list the value
of FILE defined inside of it and see whether the system call creates
that file and whether its content is anywhere near what you'd
expect...

I suspect that the Perl setup got botched somehow, but since I have no
experience with that under Windows I'll leave it for others to
investigate. No chance of getting you on a decent operating system, I
suppose? 

One thing, though: if you pad the triangular blocks with missing value
indicators (e.g. '.'s), read.table(...,na.strings='.') should be able
to read the stuff as an Nx8 (well, 9, counting the names) matrix.
That'll be, lets see, ~200 dots for you to fill in by hand, which
should be manageable by hand without driving you any more "dotty" than
the rest of the ordeal...

Once you got it in, define a function(i,j) which extract x[i,j] from
whereever it has ended up in your data matrix, and do an

outer(1:38,1:38, f)

(which I suppose was Brians idea too, but I seem to have missed his note).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Oct 11 08:46:21 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 11 Oct 1999 07:46:21 +0100 (BST)
Subject: [R] Using metric scaling
In-Reply-To: <199910102103.KAA01442@gosset.stats.waikato.ac.nz>
Message-ID: <Pine.GSO.4.05.9910110733130.29826-100000@auk.stats>

On Mon, 11 Oct 1999, Murray Jorgensen wrote:

> Prof B. Ripley wrote:
> 
> >With that sort of structure it will be painful.  I assume some extra
> >line wrapping occurred in transit?  If so, here is my best idea:
> >
> >t1 <- read.fwf("dist.dat", width=c(4, 22, rep(7, 8)))
> > . . .

That was a reply sent directly to Murray: for some reason he replied to the
list and not to me.

> Actually I am reading an output file of a program that I do not have.

What I was commenting on is that the lines by the time they reached
me had been wrapped so the tenth item was on the next line, like

  10 LAKE ROTOITI         .510   .314   .314   .314   .549   .314   .510
.549

If that is in the original, more work is needed.

> I am using R 0.64.2 under Windows 95. I soon found out that read.fwf()
> requires Perl, which I did not have installed. So I downloaded ActivePerl
> from http://www.activestate.com/ActivePerl/ and installed it, as well as 
> DCOM for Windows 95 (required for Windows 95 machines only) - downloadable
> from http://www.microsoft.com/com/dcom/dcom95/dcom1_3.asp. 
> 
> The install was straightforward (I put DCOM on first, which seemed
> logical). However I still have trouble with read.fwf(). At first I thought
> that it was due to spaces in my directory names, but it persisted after I
> fixed this up. My complete session follows:

As Peter Dalgaard says, debug(read.fwf) will help. My guess is that
either Perl is not in your path (I haven't use Win 95 for a while, but
I suspect at least a reboot is needed to get it there) or that something
else is wrong with the installation. Open an MS-DOS window and type
perl -v for a quick check, then example(read.fwf) in R for a simple
example to debug.

read.fwf in rw0642 did work on Windows 95 when I had access to it.
I am fairly sure that spaces in the file path would be a problem unless
such file names are enclosed in an extra pair of quotes. I'll see if that
can be alleviated. You can of course always use the internal short names.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlapsley at ndirect.co.uk  Tue Oct 12 01:16:40 1999
From: mlapsley at ndirect.co.uk (Michael Lapsley)
Date: Tue, 12 Oct 1999 00:16:40 +0100 (BST)
Subject: [R] if(grep())
Message-ID: <XFMail.991012001640.mlapsley@ndirect.co.uk>

Would anyone care to comment if this is the best solution to this problem?

> trygrep <-function(x,y)
+ if(grep(x,y))
+ print("yes") else
+ print("NO")
>  
>trygrep("foo","bafoobar")
[1] "yes"
>
> trygrep("foo","bar")
Error in if (grep(x, y)) print("yes") else print("NO") : missing value where
logical needed

My solution:

> trygrep <-function(x,y)
+ if(!is.na(grep(x,y)[1]))
+ print("yes") else
+ print("NO")
>
> trygrep("foo","bafoobar")
[1] "yes"
> trygrep("foo","bar")
[1] "NO"
> 

Regards,

Michael

This is not exactly intuitive and it took me ages to get past what should be a
very simple couple of lines.

Am I missing something more obvious?  I'm sure that if I need to do this
in 6 months time I'm not going to remember how I did it!

----------------------------------
E-Mail: Michael Lapsley <mlapsley at ndirect.co.uk>
Date: 12-Oct-99
Time: 00:04:03

This message was sent by XFMail
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Oct 12 00:27:51 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 11 Oct 1999 15:27:51 -0700 (PDT)
Subject: [R] if(grep())
In-Reply-To: <XFMail.991012001640.mlapsley@ndirect.co.uk>
Message-ID: <Pine.GSO.4.10.9910111526020.25754-100000@wompom.biostat.washington.edu>

On Tue, 12 Oct 1999, Michael Lapsley wrote:

> Would anyone care to comment if this is the best solution to this problem?
> 
> > trygrep <-function(x,y)
> + if(grep(x,y))
> + print("yes") else
> + print("NO")
> >  
> >trygrep("foo","bafoobar")
> [1] "yes"
> >
> > trygrep("foo","bar")
> Error in if (grep(x, y)) print("yes") else print("NO") : missing value where
> logical needed


You could try 
	if(length(grep(x,y))==0)



Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Oct 12 09:34:53 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Oct 1999 09:34:53 +0200
Subject: [R] if(grep())
In-Reply-To: Thomas Lumley's message of "Mon, 11 Oct 1999 15:27:51 -0700 (PDT)"
References: <Pine.GSO.4.10.9910111526020.25754-100000@wompom.biostat.washington.edu>
Message-ID: <x24sfxniaq.fsf@blueberry.kubism.ku.dk>

Thomas Lumley <thomas at biostat.washington.edu> writes:

> On Tue, 12 Oct 1999, Michael Lapsley wrote:
> 
> > Would anyone care to comment if this is the best solution to this problem?
> > 
> > > trygrep <-function(x,y)
> > + if(grep(x,y))
> > + print("yes") else
> > + print("NO")
> > >  
> > >trygrep("foo","bafoobar")
> > [1] "yes"
> > >
> > > trygrep("foo","bar")
> > Error in if (grep(x, y)) print("yes") else print("NO") : missing value where
> > logical needed
> 
> 
> You could try 
> 	if(length(grep(x,y))==0)

Or, with some abuse of semantics but kind of nice looking:

	any(grep(x,y))

since any is FALSE on an empty vector, but TRUE on any vector of
positive integers.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hoffmann at ehmgs2.et.tu-dresden.de  Tue Oct 12 11:00:00 1999
From: hoffmann at ehmgs2.et.tu-dresden.de (Thomas Hoffmann)
Date: Tue, 12 Oct 1999 11:00:00 +0200 (METDST)
Subject: [R] Looking for R_Home ...
Message-ID: <199910120900.LAA03131@ehmgs2.et.tu-dresden.de>

This is my first question to this list and possibly a bit dumb, but anyway:

Can anybody tell me, where, e.g. in the "unix" reference release a DEFINITION of 
char * R_Home can be found? Via Defn.h the "extern" DECLARATION is everywhere,
but when I derived a somewhat other main() program my linker complained about the 
missing definition.

Thomas Hoffmann.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Oct 12 11:34:36 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Oct 1999 11:34:36 +0200
Subject: [R] Looking for R_Home ...
In-Reply-To: Thomas Hoffmann's message of "Tue, 12 Oct 1999 11:00:00 +0200 (METDST)"
References: <199910120900.LAA03131@ehmgs2.et.tu-dresden.de>
Message-ID: <x29058vs5v.fsf@blueberry.kubism.ku.dk>

Thomas Hoffmann <hoffmann at ehmgs2.et.tu-dresden.de> writes:

> This is my first question to this list and possibly a bit dumb, but anyway:
> 
> Can anybody tell me, where, e.g. in the "unix" reference release a DEFINITION of 
> char * R_Home can be found? Via Defn.h the "extern" DECLARATION is everywhere,
> but when I derived a somewhat other main() program my linker complained about the 
> missing definition.
> 

It is done using a sneaky trick also used in other projects: Defn.h
has this little thing inside:

#ifdef __MAIN__
#define extern
#define INI_as(v) = v
#else
#define INI_as(v)
#endif

extern int      errno;
extern int      gc_inhibit_torture;

/* R Home Directory */
extern char*    R_Home;             /* Root of the R tree */

/* Memory Management */
extern int      R_NSize         INI_as(R_NSIZE);/* Size of cons cell heap */
....

#ifdef __MAIN__
#undef extern
#endif
#undef INI_as

...which causes the variable to defined *in the module that defines
__MAIN__* and declared everywhere else. It's explained briefly at the
top of src/main/main.c too.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Oct 12 12:23:50 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 12 Oct 1999 11:23:50 +0100 (BST)
Subject: [R] R for Windows
Message-ID: <199910121023.LAA12011@toucan.stats.ox.ac.uk>

(1)  Thanks to Murray Jorgensen, we have discovered that there may be
some problems if you install R for Windows in a path containing
spaces.  You should not experience problems if the shortcut used to run
R has the short (8+3) file names, and it often will (which is why we
had not thought this a problem).  However, the best solution is to avoid
paths with spaces in until the next release.

Incidentally, the Unix version probably has similar problems if it is
installed in a path with spaces in, or the tmpdir path has spaces in.
We presume no one does that!


(2) Thank you for all the feedback on help systems. All of those who got
the compiled HTML help to work (and that was almost everybody) liked
it a lot, and several liked the Windows-style help.

There was a bit of confusion: a few people assumed that because CHTML needed
IE4 installed that it used IE4: it does not, but it uses DLLs that IE4
or later install for one.

We have shipped rw0651 with all the help systems (and the formatting of
Windows help is much improved over the test version).  However, the first
version of rw0651ch.zip was missing the index and full search
facilities (a version problem in the help compiler) and Guido has
put up a revised version (dated 10/10/99, size 768k) to which you might
like to upgrade.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From szimeras at irisa.fr  Tue Oct 12 15:55:01 1999
From: szimeras at irisa.fr (Stelios Zimeras)
Date: Tue, 12 Oct 1999 15:55:01 +0200
Subject: [R] (no subject)
Message-ID: <38033DB5.E108E36A@irisa.fr>

Dear All,

I try to be a new user of R. I try to install the R ver 0.65.0 in my
UNIX machine. The installation untill one point goes fine but when I run
the make comand the program can find the X11 enviroment. Could you help
me with this kind of problem? I would appreciate if you have any
suggestions about any other process or programms that I need to use.
Many thanks for your time.




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Oct 12 16:07:22 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 12 Oct 1999 16:07:22 +0200
Subject: [R] Compilation problem `with X11'  [was "(no subject)"]
In-Reply-To: <38033DB5.E108E36A@irisa.fr> (message from Stelios Zimeras on
	Tue, 12 Oct 1999 15:55:01 +0200)
References: <38033DB5.E108E36A@irisa.fr>
Message-ID: <199910121407.QAA10568@sophie.ethz.ch>

Dear Stelios,

>>>>> Stelios Zimeras <szimeras at irisa.fr> writes:
    Stelios> Dear All, I try to be a new user of R. I try to install the R
    Stelios> ver 0.65.0 in my UNIX machine. 

you have to give more details:
     UNIX = ???
     What was the output (the last dozen lines or so) of ..../configure ?

    Stelios> ver 0.65.0 in my UNIX machine. The installation untill one
    Stelios> point goes fine but when I run the make comand the program can
    Stelios> find the X11 enviroment. Could you help me with this kind of
    Stelios> problem? 

What was the error message *exactly*?

Now my wild guess from the above insufficient Info:
If you are using Linux, you may have had an installation withOUT 
the package of files for developing X11 programs,  often called
 "x11-devel".  
You need these for compiling R  
    (and many other neat programs you may want to compile in the future)


(and please use a "subject" for your next e-mail)

-- 
Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From setzer.woodrow at epa.gov  Tue Oct 12 16:13:41 1999
From: setzer.woodrow at epa.gov (R. Woodrow Setzer)
Date: Tue, 12 Oct 1999 10:13:41 -0400 (EDT)
Subject: [R] R for Windows
In-Reply-To: <199910121023.LAA12011@toucan.stats.ox.ac.uk>
Message-ID: <Pine.LNX.4.10.9910121006330.563-100000@rsd40.nheerl.epa.gov>

Please forgive me for wasting bandwidth, but I wanted to thank you and
Dr. Masarotto and  the rest of the R development team both for this
excellent program and for your example of a cooperative development
process.

__
R. Woodrow Setzer, Jr., Ph. D.             Phone: (919) 541-0128
Acting Chief, Biostatistics
and Research Support Staff                 Fax: (919) 541-4002
NHEERL MD-55; US EPA; RTP, NC 27711


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlapsley at ndirect.co.uk  Wed Oct 13 02:21:56 1999
From: mlapsley at ndirect.co.uk (Michael Lapsley)
Date: Wed, 13 Oct 1999 01:21:56 +0100 (BST)
Subject: [R] dataframe transposition
Message-ID: <XFMail.991013012156.mlapsley@ndirect.co.uk>

Dear R-helpers,

I wonder if I could impose upon you for forther assistance, this
time with dataframes:  hopefully this will be of general interest,
as I personally have found them hard to get to grips with.

I was trying to transpose rows and cols and move col1 to the names.
Then all sorts of things go wrong.  Although the end result looks
the same, page() shows the structure to be quite different compared
to building it by hand.

What is going on? And how am I supposed to do this. (And no,
I didn't expect that the output of plot() would be sensible!)


Thanks again,

Michael

> wk
  authorisor count(*)
1        JMC      4  
2        LCA      259
3        MCM      136
4        MDH      266
5        ML       27 
6        SA       1  
> 
>page(wk)
structure(list(authorisor = c("JMC", "LCA", "MCM", "MDH", "ML", 
"SA"), "count(*)" = c("4", "259", "136", "266", "27", "1")),
 .Names =c("authorisor", 
"count(*)"), row.names = c("1", "2", "3", "4", "5", "6"), class = "data.frame")

>wk[,1]->dnames
>as.data.frame(t(wk))->wk
>wk[-1,]->wk
>names(wk)<-dnames
>wk
         JMC LCA MCM MDH  ML  SA
count(*) 4   259 136 266 27  1 

> plot(wk)
Error: non-numeric data type in frame
> 
>page(wk3)
structure(list(JMC = structure("4  ", .Names = "count(*)"), LCA =
structure("259", .Names = "count(*)"), 
MCM = structure("136", .Names = "count(*)"), MDH = structure("266",
 .Names= "count(*)"), 
ML = structure("27 ", .Names = "count(*)"), SA = structure("1  ", .Names =
"count(*)")), .Names = c("JMC", 
"LCA", "MCM", "MDH", "ML", "SA"), row.names = "count(*)", class = "data.frame")


rbindnd(c(4,259,136,266,27,1))->wk2
> as.data.frame(rbind(c(4,259,136,266,27,1)))->wk2
> names(wk2)<-dnames
> wk2
  JMC LCA MCM MDH ML SA
1   4 259 136 266 27  1
> page (wk2)
structure(list(JMC = 4, LCA = 259, MCM = 136, MDH = 266, ML = 27, 
    SA = 1), .Names = c("JMC", "LCA", "MCM", "MDH", "ML", "SA"
), row.names = "1", class = "data.frame")

> 


----------------------------------
E-Mail: Michael Lapsley <mlapsley at ndirect.co.uk>
Date: 13-Oct-99
Time: 01:12:23

This message was sent by XFMail
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nda at mailcall.com.au  Wed Oct 13 04:05:46 1999
From: nda at mailcall.com.au (Nikita Atkins)
Date: Wed, 13 Oct 1999 12:05:46 +1000 (EST)
Subject: [R] intervals on plot
Message-ID: <199910130205.MAA28204@cuss.mailcall>

Dear all R users

I have been trying to plot a group of intervals by using the bottom
code:


> breaks <- factor(cut(col3,breaks=360+5*(0:155)))
> par(tck=0,lty="solid")
> plot(breaks,ann=FALSE,axes=FALSE)

col3 is just a column of 1500 floating point data.

Unfortunately when i do the plot, the x-axis has some of the intervals
as labels dispite me having both 'ann' and 'axes' both as FALSE.

Could anyone tell me how to remove these from my plot or how to bypass
this altogether, maybe by changing the names of the intervals to
something else.

Thanks to all of you for any help.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan.Schelling at hydro.com  Wed Oct 13 09:55:04 1999
From: Jan.Schelling at hydro.com (Jan.Schelling@hydro.com)
Date: Wed, 13 Oct 1999 08:55:04 +0100
Subject: [R] dataframe transposition
Message-ID: <C1256809.00260293.00@osla28smtp.hda.hydro.com>




you could try:

cnames <- levels(wk$authorisor)
rnames <- names(wk)[-1]
wk <- data.frame(t(wk[,-1]))
names(wk) <- cnames
row.names(wk) <- rnames

to check the structure of the object I would recommend str() instead of page():

str(wk)

Jan Schelling

-
Norsk Hydro
Research Centre
N - 3907 Porsgrunn
jan.schelling at hydro.com
-

----------------------

mlapsley at ndirect.co.uk on 99-10-13 12:21 AM GMT

Dear R-helpers,

I wonder if I could impose upon you for forther assistance, this
time with dataframes:  hopefully this will be of general interest,
as I personally have found them hard to get to grips with.

I was trying to transpose rows and cols and move col1 to the names.
Then all sorts of things go wrong.  Although the end result looks
the same, page() shows the structure to be quite different compared
to building it by hand.

What is going on? And how am I supposed to do this. (And no,
I didn't expect that the output of plot() would be sensible!)


Thanks again,

Michael

> wk
  authorisor count(*)
1        JMC      4
2        LCA      259
3        MCM      136
4        MDH      266
5        ML       27
6        SA       1
>
>page(wk)
structure(list(authorisor = c("JMC", "LCA", "MCM", "MDH", "ML",
"SA"), "count(*)" = c("4", "259", "136", "266", "27", "1")),
 .Names =c("authorisor",
"count(*)"), row.names = c("1", "2", "3", "4", "5", "6"), class = "data.frame")

>wk[,1]->dnames
>as.data.frame(t(wk))->wk
>wk[-1,]->wk
>names(wk)<-dnames
>wk
         JMC LCA MCM MDH  ML  SA
count(*) 4   259 136 266 27  1

> plot(wk)
Error: non-numeric data type in frame
>
>page(wk3)
structure(list(JMC = structure("4  ", .Names = "count(*)"), LCA =
structure("259", .Names = "count(*)"),
MCM = structure("136", .Names = "count(*)"), MDH = structure("266",
 .Names= "count(*)"),
ML = structure("27 ", .Names = "count(*)"), SA = structure("1  ", .Names =
"count(*)")), .Names = c("JMC",
"LCA", "MCM", "MDH", "ML", "SA"), row.names = "count(*)", class = "data.frame")


rbindnd(c(4,259,136,266,27,1))->wk2
> as.data.frame(rbind(c(4,259,136,266,27,1)))->wk2
> names(wk2)<-dnames
> wk2
  JMC LCA MCM MDH ML SA
1   4 259 136 266 27  1
> page (wk2)
structure(list(JMC = 4, LCA = 259, MCM = 136, MDH = 266, ML = 27,
    SA = 1), .Names = c("JMC", "LCA", "MCM", "MDH", "ML", "SA"
), row.names = "1", class = "data.frame")

>


----------------------------------
E-Mail: Michael Lapsley <mlapsley at ndirect.co.uk>
Date: 13-Oct-99
Time: 01:12:23

This message was sent by XFMail
----------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlapsley at ndirect.co.uk  Wed Oct 13 10:51:48 1999
From: mlapsley at ndirect.co.uk (Michael Lapsley)
Date: Wed, 13 Oct 1999 09:51:48 +0100 (BST)
Subject: [R] if(grep())
In-Reply-To: <x24sfxniaq.fsf@blueberry.kubism.ku.dk>
Message-ID: <XFMail.991013095148.mlapsley@ndirect.co.uk>

Very nice.  Perhaps you could consider adding this to the examples in grep()
help, as it is certainly not intuitive.

Michael
> 
>       any(grep(x,y))
> 
> since any is FALSE on an empty vector, but TRUE on any vector of
> positive integers.
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _
> 

----------------------------------
E-Mail: Michael Lapsley <mlapsley at ndirect.co.uk>
Date: 13-Oct-99
Time: 09:49:16

This message was sent by XFMail
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlapsley at ndirect.co.uk  Wed Oct 13 11:07:13 1999
From: mlapsley at ndirect.co.uk (Michael Lapsley)
Date: Wed, 13 Oct 1999 10:07:13 +0100 (BST)
Subject: [R] dataframe transposition
In-Reply-To: <C1256809.00260293.00@osla28smtp.hda.hydro.com>
Message-ID: <XFMail.991013100713.mlapsley@ndirect.co.uk>

Thanks, but: 

>
>wk<-as.data.frame(rbind(c("JMC",4),c("LCA",259),
c("MCM",136),c("MDH",266),c("ML",27),c("SA",1)))
>names(wk)<-c("authorisor","count")

> levels(wk$authorisor)
NULL

str is a really good tip though:

> str(wk)
`data.frame':  6 obs. of  2 variables:
 $ authorisor: chr  "JMC" "LCA" "MCM" "MDH" "ML" "SA"
 $ count     : chr  "4" "259" "136" "266" "27" "1"
>

whereas on my transposed example:
> wk2
      JMC LCA MCM MDH  ML  SA
count 4   259 136 266 27  1 

> str(wk2)
`data.frame':  1 obs. of  6 variables:
 $ JMC: Named chr "4  "
  ..- attr(*, "names")= chr "count"
 $ LCA: Named chr "259"
  ..- attr(*, "names")= chr "count"
 $ MCM: Named chr "136"
  ..- attr(*, "names")= chr "count"
 $ MDH: Named chr "266"
  ..- attr(*, "names")= chr "count"
 $ ML : Named chr "27 "
  ..- attr(*, "names")= chr "count"
 $ SA : Named chr "1  "
  ..- attr(*, "names")= chr "count"
> 

I still don't understand what is going on and the theory of how to do
this sort of thing reliably.

Michael

On 13-Oct-99 Jan.Schelling at hydro.com wrote:
> 
> 
> 
> you could try:
> 
> cnames <- levels(wk$authorisor)
> rnames <- names(wk)[-1]
> wk <- data.frame(t(wk[,-1]))
> names(wk) <- cnames
> row.names(wk) <- rnames
> 
> to check the structure of the object I would recommend str() instead of
> page():
> 
> str(wk)
> 
> 
>> wk
>   authorisor count(*)
> 1        JMC      4
> 2        LCA      259
> 3        MCM      136
> 4        MDH      266
> 5        ML       27
> 6        SA       1
>>
>>page(wk)
> structure(list(authorisor = c("JMC", "LCA", "MCM", "MDH", "ML",
> "SA"), "count(*)" = c("4", "259", "136", "266", "27", "1")),
>  .Names =c("authorisor",
> "count(*)"), row.names = c("1", "2", "3", "4", "5", "6"), class =
> "data.frame")
> 
>>wk[,1]->dnames
>>as.data.frame(t(wk))->wk
>>wk[-1,]->wk
>>names(wk)<-dnames
>>wk
>          JMC LCA MCM MDH  ML  SA
> count(*) 4   259 136 266 27  1
> 
>> plot(wk)
> Error: non-numeric data type in frame

----------------------------------
E-Mail: Michael Lapsley <mlapsley at ndirect.co.uk>
Date: 13-Oct-99
Time: 09:51:59

This message was sent by XFMail
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Oct 13 12:40:49 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Oct 1999 12:40:49 +0200
Subject: [R] dataframe transposition
In-Reply-To: Jan.Schelling@hydro.com's message of "Wed, 13 Oct 1999 08:55:04 +0100"
References: <C1256809.00260293.00@osla28smtp.hda.hydro.com>
Message-ID: <x2aepna6ha.fsf@blueberry.kubism.ku.dk>

Jan.Schelling at hydro.com writes:


> to check the structure of the object I would recommend str() instead of page():
> 
> str(wk)

page() or, more to the point, dput() does have the advantage of
providing the full story (if you eval the result, you get the original
structure). It is handy for people trying to come up with suggestions 
that they can run their code on your data easily. Str() is often
better to analyse the structure, though.

> ----------------------
> 
> mlapsley at ndirect.co.uk on 99-10-13 12:21 AM GMT
...
> Dear R-helpers,
> 
> > wk
>   authorisor count(*)
> 1        JMC      4
> 2        LCA      259
> 3        MCM      136
> 4        MDH      266
> 5        ML       27
> 6        SA       1
> >
> >page(wk)
> structure(list(authorisor = c("JMC", "LCA", "MCM", "MDH", "ML",
> "SA"), "count(*)" = c("4", "259", "136", "266", "27", "1")),
>  .Names =c("authorisor",
> "count(*)"), row.names = c("1", "2", "3", "4", "5", "6"), class = "data.frame")
...
> > as.data.frame(rbind(c(4,259,136,266,27,1)))->wk2
> > names(wk2)<-dnames
> > wk2
>   JMC LCA MCM MDH ML SA
> 1   4 259 136 266 27  1

This is not quite comparable to what you'd expect since the original
was mode "character"...

Note that all that is really different in your example is
that the vectors that make up the data frame are named:

You get

structure(list(JMC = structure("4  ", .Names = "count(*)"), LCA =
structure("259", .Names = "count(*)"), 
MCM = structure("136", .Names = "count(*)"), MDH = structure("266",
 .Names= "count(*)"), 
ML = structure("27 ", .Names = "count(*)"), SA = structure("1  ", .Names =
"count(*)")), .Names = c("JMC", 
"LCA", "MCM", "MDH", "ML", "SA"), row.names = "count(*)", class = "data.frame")

whereas you might expect

structure(list(JMC = "4  ", LCA = "259", ....

I'm not quite sure why as.data.frame does that (looks a bit like a
bug), but I can't really see it doing any harm?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Wed Oct 13 12:26:14 1999
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Wed, 13 Oct 1999 11:26:14 +0100 (GMT)
Subject: [R] dataframe transposition
In-Reply-To: <XFMail.991013012156.mlapsley@ndirect.co.uk>
Message-ID: <Pine.LNX.4.04.9910131110000.4480-100000@mercury.quantex>

Try, for example (R 0.63.2)

# Generate some silly data to replace yours and set column names:

> tt<-data.frame(cbind(c('one','two','three'),c(1,2,3)))
> colnames(tt)<-c('Col1','Col2')
> tt
   Col1 Col2
1 one      1
2 two      2
3 three    3


# Pick out the second column and transpose into a new structure:

> ttt<-data.frame(t(tt[,2]))

# Take the column names of ttt from the first column of tt:

> colnames(ttt)<-tt[,1]

# Take rowname for ttt from second colname of tt

> rownames(ttt)<-colnames(tt)[2]

# then:

> ttt
     one two three
Col2   1   2     3

# Then to plot, since plot assumes a column vector:

> plot(t(ttt))

Isn't this what you want?  Seems pretty intuitive here. Mind you, I always
have to check but less intuitive is to get rid of column titles etc when
you want to turn a numerical data frame into a matrix.  The titles keep
following me around like a bad smell!!!

John


On Wed, 13 Oct 1999, Michael Lapsley wrote:

> Dear R-helpers,
> 
> I wonder if I could impose upon you for forther assistance, this
> time with dataframes:  hopefully this will be of general interest,
> as I personally have found them hard to get to grips with.
> 
> I was trying to transpose rows and cols and move col1 to the names.
> Then all sorts of things go wrong.  Although the end result looks
> the same, page() shows the structure to be quite different compared
> to building it by hand.
> 
> What is going on? And how am I supposed to do this. (And no,
> I didn't expect that the output of plot() would be sensible!)
> 
> 
> Thanks again,
> 
> Michael
> 
> > wk
>   authorisor count(*)
> 1        JMC      4  
> 2        LCA      259
> 3        MCM      136
> 4        MDH      266
> 5        ML       27 
> 6        SA       1  
> > 
> >page(wk)
> structure(list(authorisor = c("JMC", "LCA", "MCM", "MDH", "ML", 
> "SA"), "count(*)" = c("4", "259", "136", "266", "27", "1")),
>  .Names =c("authorisor", 
> "count(*)"), row.names = c("1", "2", "3", "4", "5", "6"), class = "data.frame")
> 
> >wk[,1]->dnames
> >as.data.frame(t(wk))->wk
> >wk[-1,]->wk
> >names(wk)<-dnames
> >wk
>          JMC LCA MCM MDH  ML  SA
> count(*) 4   259 136 266 27  1 
> 
> > plot(wk)
> Error: non-numeric data type in frame
> > 
> >page(wk3)
> structure(list(JMC = structure("4  ", .Names = "count(*)"), LCA =
> structure("259", .Names = "count(*)"), 
> MCM = structure("136", .Names = "count(*)"), MDH = structure("266",
>  .Names= "count(*)"), 
> ML = structure("27 ", .Names = "count(*)"), SA = structure("1  ", .Names =
> "count(*)")), .Names = c("JMC", 
> "LCA", "MCM", "MDH", "ML", "SA"), row.names = "count(*)", class = "data.frame")
> 
> 
> rbindnd(c(4,259,136,266,27,1))->wk2
> > as.data.frame(rbind(c(4,259,136,266,27,1)))->wk2
> > names(wk2)<-dnames
> > wk2
>   JMC LCA MCM MDH ML SA
> 1   4 259 136 266 27  1
> > page (wk2)
> structure(list(JMC = 4, LCA = 259, MCM = 136, MDH = 266, ML = 27, 
>     SA = 1), .Names = c("JMC", "LCA", "MCM", "MDH", "ML", "SA"
> ), row.names = "1", class = "data.frame")
> 
> > 
> 
> 
> ----------------------------------
> E-Mail: Michael Lapsley <mlapsley at ndirect.co.uk>
> Date: 13-Oct-99
> Time: 01:12:23
> 
> This message was sent by XFMail
> ----------------------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hoffmann at ehmgs2.et.tu-dresden.de  Wed Oct 13 15:21:11 1999
From: hoffmann at ehmgs2.et.tu-dresden.de (Thomas Hoffmann)
Date: Wed, 13 Oct 1999 15:21:11 +0200 (METDST)
Subject: [R] main/character.c (et.al): dangerous AllocBuffer()
Message-ID: <199910131321.PAA06250@ehmgs2.et.tu-dresden.de>

I was hit by ugly crashes of R, when I tried to read big data sets ("volcano").
So I looked into the code and found the following in character.c (triggered by substr()):

I assume that the helper function AllocBuffer() shall facilitate an economic memory management. But 
the use of realloc() in the else-branch does not conform to ANSI and may hit you with certain 
compilers.

When called with len<0 the code is assumed to re-size buff to MAXELTSIZE:

	realloc(buff, 0);
	buff = (char *) realloc(buff, MAXELTSIZE);
	bufsize = MAXELTSIZE;
	
But in the first call of realloc() it is perfectly legal to return a new pointer (which is thrown away 
here), and then using (a possibly invalid) buff from earlier times may (and did for me) crash your 
program.

Why not use 
	free(buff);
	buff = malloc(MAXELTSIZE);
	bufsize = MAXELTSIZE;
instead? (Or just free(buff); bufsize=0;, you will malloc() the next
round, then).

Most of the UNIX compilers seem to keep the address of buff, so that you get away with this.

BTW, a check for failing [re,m]alloc may be appropriate.
 		 
I hope this list is the right one for comments of this kind.

Regards,
Thomas. 		 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Wed Oct 13 16:25:11 1999
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Wed, 13 Oct 1999 14:25:11 +0000 (GMT)
Subject: [R] sum elements of dataframe
Message-ID: <Pine.LNX.4.10.9910131358080.9415-100000@cbe207.gcal.ac.uk>

I have the following problem.

Suppose I save the data from an experiment in the following way. There are
21 pairs of std and cf. Each pairing is an experimental condition, and 4
data values are saved. The conditions are run (and data saved) in random
order, though blocked such that all conditions are run once, then all in
random order a second time, and so on (let's say 3 or 4 repetitions)

What I want to do is to sum the data values of the repetitions.  For
example, suppose I have
std     cf      hit     miss    fa      cr
10      20      50      40      31      92
...
10	20	40	35	42	87
...
10	20	35	45	35	95

Then I want to sum the hit, miss, fa, and cr columns to get
10	20	125	120	108	274
totals for this condition.

So I will do
data<-read.table("data.dat",header=TRUE)
But then how do I sum data$hit etc across the reps?

If there is an alternative way to save the data to file(s) that makes this
task easier that is fine. E.g. I could save each condition to its own
file. But then I have to read in 21 files.

Thanks very much for any help.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Oct 13 15:40:27 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Oct 1999 15:40:27 +0200
Subject: [R] main/character.c (et.al): dangerous AllocBuffer()
In-Reply-To: Thomas Hoffmann's message of "Wed, 13 Oct 1999 15:21:11 +0200 (METDST)"
References: <199910131321.PAA06250@ehmgs2.et.tu-dresden.de>
Message-ID: <x27lkr9y5w.fsf@blueberry.kubism.ku.dk>

Thomas Hoffmann <hoffmann at ehmgs2.et.tu-dresden.de> writes:

> 	realloc(buff, 0);
> 	buff = (char *) realloc(buff, MAXELTSIZE);
> 	bufsize = MAXELTSIZE;
> 	
> But in the first call of realloc() it is perfectly legal to return a new pointer (which is thrown away 
> here), and then using (a possibly invalid) buff from earlier times may (and did for me) crash your 
> program.
...

> BTW, a check for failing [re,m]alloc may be appropriate.
>  		 
> I hope this list is the right one for comments of this kind.

Actually, r-devel is better, but thanks anyway...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Joerg.Kindermann at gmd.de  Wed Oct 13 16:17:17 1999
From: Joerg.Kindermann at gmd.de (Joerg Kindermann)
Date: Wed, 13 Oct 1999 16:17:17 +0200 (MET DST)
Subject: [R] main/character.c (et.al): dangerous AllocBuffer()
In-Reply-To: <199910131321.PAA06250@ehmgs2.et.tu-dresden.de> (message from
	Thomas Hoffmann on Wed, 13 Oct 1999 15:21:11 +0200 (METDST))
Message-ID: <199910131417.QAA02834@yeu.gmd.de>

>>>>> " " == Thomas Hoffmann <hoffmann at ehmgs2.et.tu-dresden.de> writes:

     > I was hit by ugly crashes of R, when I tried to read big data sets
     > ("volcano").  So I looked into the code and found the following in
     > character.c (triggered by substr()):

     > I assume that the helper function AllocBuffer() shall facilitate an
     > economic memory management. But the use of realloc() in the
     > else-branch does not conform to ANSI and may hit you with certain
     > compilers.
 (technical stuff deleted)

This seems to explain the seg'faults I got when executing R programs that
manipulate really long strings (I recompiled R with MAXELTSIZE set to
1MEG), using substr and parse.

Thanks for your hints!

--  Dr. Joerg Kindermann             GMD - AiS
            German National Research Center for Information Technology
                Schloss Birlinghoven, D-53754 St. Augustin, Germany
                   phone: +49 02241 142437 fax: +49 02241 142342


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Wed Oct 13 16:48:29 1999
From: plummer at iarc.fr (Martyn Plummer)
Date: Wed, 13 Oct 1999 16:48:29 +0200 (CEST)
Subject: [R] sum elements of dataframe
In-Reply-To: <Pine.LNX.4.10.9910131358080.9415-100000@cbe207.gcal.ac.uk>
Message-ID: <XFMail.991013164829.plummer@iarc.fr>

You want to use aggregate():

data<-read.table("data.dat",header=TRUE)
aggregate(data[,-(1:2)], by=list(std=data$std, cf=data$cf), sum)

On 13-Oct-99 Bill Simpson wrote:
> I have the following problem.
> 
> Suppose I save the data from an experiment in the following way. There are
> 21 pairs of std and cf. Each pairing is an experimental condition, and 4
> data values are saved. The conditions are run (and data saved) in random
> order, though blocked such that all conditions are run once, then all in
> random order a second time, and so on (let's say 3 or 4 repetitions)
> 
> What I want to do is to sum the data values of the repetitions.  For
> example, suppose I have
> std     cf      hit     miss    fa      cr
> 10      20      50      40      31      92
> ...
> 10    20      40      35      42      87
> ...
> 10    20      35      45      35      95
> 
> Then I want to sum the hit, miss, fa, and cr columns to get
> 10    20      125     120     108     274
> totals for this condition.
> 
> So I will do
> data<-read.table("data.dat",header=TRUE)
> But then how do I sum data$hit etc across the reps?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yuyun at stat.wisc.edu  Wed Oct 13 19:11:12 1999
From: yuyun at stat.wisc.edu (Yuyun Jessie Yang)
Date: Wed, 13 Oct 1999 12:11:12 -0500 (CDT)
Subject: [R] Q: sort a matrix by picking up columns?
Message-ID: <Pine.GSO.3.96L.991013113609.16059A-100000@moloch.stat.wisc.edu>

Hi,

I am wondering how to write a function which sorts a matrix by giving a
vector of column numbers.

Suppose we have a matrix (or data frame) "Mat" and I want to obtain
order(Mat[,1], Mat[,3], Mat[,6,], Mat[,8], Mat[,10], Mat[,13])
in order to sort the matrix by those columns. Is there a way to write a
function so that I can give a vector of the column numbers 
c(1,3,6,8,10,13) and do the sorting? Here we know that we cannot just
write order(Mat[,c(1,3,6,8,10,13)]), which would give a wrong answer.

Thanks for any input.

Jessie

Yuyun Jessie Yang
Dissertator, Department of Statistics
University of Wisconsin-Madison

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From love at psy.utexas.edu  Thu Oct 14 00:28:24 1999
From: love at psy.utexas.edu (Bradley C. Love)
Date: Wed, 13 Oct 1999 17:28:24 -0500
Subject: [R] INDSCAL for R?
Message-ID: <38050788.78E281D@psy.utexas.edu>

Hello,

Does anyone know if INDSCAL (an MDS procedure) is available for R?  So
far, I have only been able to find the MDS procedures cmdscale (only
partially implemented, no wiggle factor) and isoMDS (installing now).

Thank you for any help.  Please reply to love at psy.utexas.edu.

thanks,
brad


--
Bradley C. Love
love at psy.utexas.edu
http://love.psy.utexas.edu/
phone: (512) 232-5732
fax: (512) 471-6175

Mezes Hall 330
The University of Texas at Austin
Austin, TX 78712


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/19991013/e112ec6a/attachment.html

From s.adi.purnomo at EnergyLink.co.nz  Thu Oct 14 03:43:08 1999
From: s.adi.purnomo at EnergyLink.co.nz (Peppy)
Date: Thu, 14 Oct 1999 14:43:08 +1300
Subject: [R] Regression on non linear model
Message-ID: <2AEEA90C9555D11198D70000F8790814123707@ELSRV1>

Dear Help desk,

I have a model that I believe to be non linear.  The relationship is
something like:

Response = Var1 + Var1^2 + Var1^3

Can I examine this relationship using glm or lm?  However, glm or lm gives
out pnly 1 coeficient for the model which is on Var1,  unless I created some
dummy var like (Var2 = Var1^2 and Var3 = Var1^3).

Is there any other function handling this relationship?  

My R is 0.64.2

Thank you,
Peppy
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.adi.purnomo at EnergyLink.co.nz  Thu Oct 14 03:49:13 1999
From: s.adi.purnomo at EnergyLink.co.nz (Peppy)
Date: Thu, 14 Oct 1999 14:49:13 +1300
Subject: [R] glm vs lm
Message-ID: <2AEEA90C9555D11198D70000F8790814123708@ELSRV1>

Dear Help desk,

What is the difference between glm and lm in R?   I am so sorry the help
pages dont really help me much since they dont have description how R
handles the two.

Thanks
Peppy
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Oct 14 04:13:55 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 13 Oct 1999 21:13:55 -0500
Subject: [R] Regression on non linear model
In-Reply-To: Peppy's message of "Thu, 14 Oct 1999 14:43:08 +1300"
References: <2AEEA90C9555D11198D70000F8790814123707@ELSRV1>
Message-ID: <6ru2nu4rks.fsf@franz.stat.wisc.edu>

Peppy <s.adi.purnomo at EnergyLink.co.nz> writes:

> Dear Help desk,

An interesting concept - the R "Help desk" is in fact a mailing list.

> I have a model that I believe to be non linear.  The relationship is
> something like:
> 
> Response = Var1 + Var1^2 + Var1^3

In terms of the way the parameters enter the model, this is still a
linear model, even though it is nonlinear in terms of the variable.

> Can I examine this relationship using glm or lm?  However, glm or lm gives
> out pnly 1 coeficient for the model which is on Var1,  unless I created some
> dummy var like (Var2 = Var1^2 and Var3 = Var1^3).

You are correct.  This is a deficiency in the model formula language
used in R.  The meaning of the ^2 operator in formulas is appropriate
for factors but not the expected meaning for numeric variables.

> Is there any other function handling this relationship?  

The preferred way to do this is to use the I() function to protect
the ^2 and ^3 from being evaluated as part of the linear model
formula.  That is, write the call to lm with

 formula = Response ~ Var1 + I(Var1^2) + I(Var1^3)

> My R is 0.64.2

The most recently released version is 0.65.1.  As R is freely
available it is probably a good idea to upgrade.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Oct 14 04:18:39 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 13 Oct 1999 21:18:39 -0500
Subject: [R] glm vs lm
In-Reply-To: Peppy's message of "Thu, 14 Oct 1999 14:49:13 +1300"
References: <2AEEA90C9555D11198D70000F8790814123708@ELSRV1>
Message-ID: <6rso3e4rcw.fsf@franz.stat.wisc.edu>

Peppy <s.adi.purnomo at EnergyLink.co.nz> writes:

> What is the difference between glm and lm in R?   I am so sorry the help
> pages dont really help me much since they dont have description how R
> handles the two.

lm fits linear models.  glm fits generalized linear models.  A
generalized linear model can include a specification of a link
function for the linear predictor, etc.  See the description of the
family argument in the help page for glm.

You may find it useful to refer to Venables and Ripley, "Modern
Applied Statistics with S-PLUS" (Springer, 1999) for a more complete
description of linear models and generalized ("generalised" in V&R?)
linear models.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan.Schelling at hydro.com  Thu Oct 14 09:04:57 1999
From: Jan.Schelling at hydro.com (Jan.Schelling@hydro.com)
Date: Thu, 14 Oct 1999 08:04:57 +0100
Subject: [R] Q: sort a matrix by picking up columns?
Message-ID: <C125680A.00216BB9.00@osla28smtp.hda.hydro.com>



you could use:

do.call("order", data.frame(Mat[,c(1,3,6,8,10,13)]))

NB do.call expects the name of the function to be called as the first argument
and the arguments to that function in terms of a list. This list can (I think
most easily) be obtained by using data.frame().

Regards

Jan

--------
Jan Schelling
Norsk Hydro
Research Centre
N - 3907 Porsgrunn
jan.schelling at hydro.com




From: yuyun at stat.wisc.edu on 99-10-13 05:11 PM GMT



To:   r-help at stat.math.ethz.ch
cc:    (bcc: Jan Schelling/HRE/Hydro)
Subject:  [R] Q: sort a matrix by picking up columns?



Hi,

I am wondering how to write a function which sorts a matrix by giving a
vector of column numbers.

Suppose we have a matrix (or data frame) "Mat" and I want to obtain
order(Mat[,1], Mat[,3], Mat[,6,], Mat[,8], Mat[,10], Mat[,13])
in order to sort the matrix by those columns. Is there a way to write a
function so that I can give a vector of the column numbers
c(1,3,6,8,10,13) and do the sorting? Here we know that we cannot just
write order(Mat[,c(1,3,6,8,10,13)]), which would give a wrong answer.

Thanks for any input.

Jessie

Yuyun Jessie Yang
Dissertator, Department of Statistics
University of Wisconsin-Madison

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joaquin.ordieres at dim.unirioja.es  Thu Oct 14 08:22:17 1999
From: joaquin.ordieres at dim.unirioja.es (Joaquin Ordieres Mere)
Date: Thu, 14 Oct 1999 08:22:17 +0200
Subject: [R] Fractal dimension for R ?
Message-ID: <012801bf160c$76941ca0$1feb92c1@unirioja.es>

Hello to everybody,

Does anyone know if the Fractal dimension (an MDS technique looking the intrinsic dimension of data) is available for R?

Thanks in advance,

joaquin
---
Joaqu?n Ordieres Mer?                      http://www.unirioja.es/dptos/dim
?rea Proyectos de Ingenier?a             e-mail:joaquin.ordieres at dim.unirioja.es
Dpto.  Ingenier?a Mec?nica
Universidad de La Rioja                     Tf.:    +34 941 299518
c/ Luis de Ulloa 20, 26004 Logro?o          Fax:    +34 941 299478

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/19991014/d1edaf1b/attachment.html
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 862 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19991014/d1edaf1b/attachment.gif
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Joaqu?n Ordieres Mer?.vcf
Type: text/x-vcard
Size: 654 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19991014/d1edaf1b/iso-8859-1QJoaquEDn_Ordieres_MerE9.vcf

From ripley at stats.ox.ac.uk  Thu Oct 14 08:38:39 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 14 Oct 1999 07:38:39 +0100 (BST)
Subject: [R] Regression on non linear model
In-Reply-To: <6ru2nu4rks.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.GSO.4.05.9910140730380.9722-100000@auk.stats>

On 13 Oct 1999, Douglas Bates wrote:

> Peppy <s.adi.purnomo at EnergyLink.co.nz> writes:
> 
> > I have a model that I believe to be non linear.  The relationship is
> > something like:
> > 
> > Response = Var1 + Var1^2 + Var1^3
> 
> In terms of the way the parameters enter the model, this is still a
> linear model, even though it is nonlinear in terms of the variable.
> 
> > Can I examine this relationship using glm or lm?  However, glm or lm gives
> > out pnly 1 coeficient for the model which is on Var1,  unless I created some
> > dummy var like (Var2 = Var1^2 and Var3 = Var1^3).
> 
> You are correct.  This is a deficiency in the model formula language
> used in R.  The meaning of the ^2 operator in formulas is appropriate
> for factors but not the expected meaning for numeric variables.
> 
> > Is there any other function handling this relationship?  
> 
> The preferred way to do this is to use the I() function to protect
> the ^2 and ^3 from being evaluated as part of the linear model
> formula.  That is, write the call to lm with
> 
>  formula = Response ~ Var1 + I(Var1^2) + I(Var1^3)

I was doing this in a practical class yesterday. There is another way,

Response ~ poly(Var1, 3)

which fits the same cubic model by using orthogonal polynomials, and
that has a number of numerical and statistical advantages. The fitted
values will be the same, but the coefficients are those of the orthogonal
polynomials, not the terms in the polynomial.  As I was telling my
students, you might like to compare the two approaches.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From William.Venables at cmis.CSIRO.AU  Thu Oct 14 08:58:00 1999
From: William.Venables at cmis.CSIRO.AU (Bill Venables)
Date: Thu, 14 Oct 1999 16:58:00 +1000
Subject: [R] Regression on non linear model 
In-Reply-To: Your message of "Thu, 14 Oct 1999 07:38:39 +0100."
             <Pine.GSO.4.05.9910140730380.9722-100000@auk.stats> 
Message-ID: <199910140700.RAA23011@snowy.nsw.cmis.CSIRO.AU>

> > 
> > The preferred way to do this is to use the I() function to protect
> > the ^2 and ^3 from being evaluated as part of the linear model
> > formula.  That is, write the call to lm with
> > 
> >  formula = Response ~ Var1 + I(Var1^2) + I(Var1^3)
> 
> I was doing this in a practical class yesterday. There is another way,
> 
> Response ~ poly(Var1, 3)
> 
> which fits the same cubic model by using orthogonal polynomials, and
> that has a number of numerical and statistical advantages. The fitted
> values will be the same, but the coefficients are those of the orthogonal
> polynomials, not the terms in the polynomial.  As I was telling my
> students, you might like to compare the two approaches.

One further advantage of doing it this way (in S-PLUS at least) is that you can
plot that component of the fitted curve very simply using plot.gam.  Now I know
we don't have a gam() in R yet, but I hope we plan to do so sometime and my
suggestion would be to start with a plot.gam and release that first.  It could
be done in a wet weekend (but I regret to say the weekends here are simply
beautiful.... :-)

-- 
-----------------------------------------------------------------
Bill Venables, Statistician, CMIS Environmetrics Project.

Physical address:                            Postal address:
CSIRO Marine Laboratories,                   PO Box 120,       
233 Middle St, Cleveland, Queensland         Cleveland, Qld, 4163
AUSTRALIA                                    AUSTRALIA

Telephone: +61 7 3826 7251     Email: Bill.Venables at cmis.csiro.au     
      Fax: +61 7 3826 7304


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Oct 14 10:41:45 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 14 Oct 1999 10:41:45 +0200 (MET DST)
Subject: [R] intervals on plot
In-Reply-To: <199910130205.MAA28204@cuss.mailcall>
References: <199910130205.MAA28204@cuss.mailcall>
Message-ID: <14341.38729.510420.626612@gargle.gargle.HOWL>

>>>>> "Nikita" == Nikita Atkins <nda at mailcall.com.au> writes:

    Nikita> Dear all R users I have been trying to plot a group of
    Nikita> intervals by using the bottom code:

    Nikita> col3 is just a column of 1500 floating point data.
(added a definition for 'col3' (and dropped ">")
  --> completely executable code, please use this in reports like this! -- MM)

    col3 <- 750+ 100* rt(1500, df = 3)

    breaks <- factor(cut(col3,breaks=360+5*(0:155)))
    par(tck=0,lty="solid")
    plot(breaks,ann=FALSE,axes=FALSE)

    Nikita> Unfortunately when i do the plot, the x-axis has some of the
    Nikita> intervals as labels dispite me having both 'ann' and 'axes'
    Nikita> both as FALSE.

The reason is an imperfect implementation of  plot.factor(),
or barplot.default(), respectively,
which are called by the above  plot() command.

I'll have a look at fixing this. 

Note however that you are really just (trying) to plot a histogram of col3
and I wonder why you are *not* just using
    hist(col3)
or
    hist(col3, breaks =360+5*(0:155)), ...)

    Nikita> Could anyone tell me how to remove these from my plot or how to
    Nikita> bypass this altogether, maybe by changing the names of the
    Nikita> intervals to something else.

A workaround:

  tb <- table(breaks); dimnames(tb) <- NULL
  barplot(tb, axes=FALSE)


Apropos, we use locally the function

  unname <- function (obj) 
  {
      if (length(names(obj))) 
	  names(obj) <- NULL
      if (length(dimnames(obj)) && !is.data.frame(obj)) 
	  dimnames(obj) <- NULL
      obj
  }

with which you could abbreviate the above to

     barplot(unname(table(breaks)), axes= FALSE)

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From R.E.Darnell at newcastle.ac.uk  Thu Oct 14 10:44:15 1999
From: R.E.Darnell at newcastle.ac.uk (R.E. Darnell)
Date: 14 Oct 1999 09:44:15 +0100
Subject: [R] Proby densities from the GLM object
Message-ID: <dgk3dvel4bk.fsf@scs2.ncl.ac.uk>


Hi R-help listers

Is it possible to generate the probability densities for a GLM family
member from the glm object? Prior.weights, y's, parameters, scale
parameters are there but what about the \tau function (using V&R's notation).
 
Regards
Ross Darnell
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From William.Venables at cmis.CSIRO.AU  Thu Oct 14 11:02:57 1999
From: William.Venables at cmis.CSIRO.AU (Bill Venables)
Date: Thu, 14 Oct 1999 19:02:57 +1000
Subject: [R] Proby densities from the GLM object 
Message-ID: <199910140905.TAA29992@snowy.nsw.cmis.CSIRO.AU>

------- Blind-Carbon-Copy

X-Mailer: exmh version 2.0.2 2/24/98
To: R.E.Darnell at newcastle.ac.uk (R. E. Darnell)
Subject: Re: [R] Proby densities from the GLM object 
In-Reply-To: Your message of "14 Oct 1999 09:44:15 +0100."
             <dgk3dvel4bk.fsf at scs2.ncl.ac.uk> 
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Date: Thu, 14 Oct 1999 19:02:57 +1000
From: Bill Venables <venables at acland.nsw.cmis.csiro.au>


Ross Darnell asks:

> Is it possible to generate the probability densities for a GLM family
> member from the glm object? Prior.weights, y's, parameters, scale
> parameters are there but what about the \tau function (using V&R's notation).

In practice I'd say no but it's an intriguing problem.

The characteristic function of the distribution only depends on the \theta and
\gamma functions, A and \phi.  Given that there is a distribution (and this is not always true) the \tau is implied by all the others.

But even to re-construct the characteristic function you would need the
functional forms for \theta and \gamma, at least.  \theta can be ignored if you
can assume the natural link, say, but \gamma is not available directly, as far
as I can see, and even if it were do you really want to go into numerical
inversion of the characteristic function?

Your troubles really start if you are dealing with one of the quasi-likelihood
models for which there is no distribution, of course!

Bill.


- -- 
- -----------------------------------------------------------------
Bill Venables, Statistician, CMIS Environmetrics Project.

Physical address:                            Postal address:
CSIRO Marine Laboratories,                   PO Box 120,       
233 Middle St, Cleveland, Queensland         Cleveland, Qld, 4163
AUSTRALIA                                    AUSTRALIA

Telephone: +61 7 3826 7251     Email: Bill.Venables at cmis.csiro.au     
      Fax: +61 7 3826 7304



------- End of Blind-Carbon-Copy
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at telecomplus.sn  Thu Oct 14 11:53:26 1999
From: lancelot at telecomplus.sn (Renaud Lancelot)
Date: Thu, 14 Oct 1999 10:53:26 +0100
Subject: [R] Q: sort a matrix by picking up columns?
References: <C125680A.00216BB9.00@osla28smtp.hda.hydro.com>
Message-ID: <3805A816.47400824@telecomplus.sn>

Hello Jan,

> do.call("order", data.frame(Mat[,c(1,3,6,8,10,13)]))
> 
> NB do.call expects the name of the function to be called as the first argument
> and the arguments to that function in terms of a list. This list can (I think
> most easily) be obtained by using data.frame().

IMHO, this does not do what is needed:

> m <- matrix(c(9:5, c(1, 4, 3, 3, 5), c(1, 2, 4, 3, 5)), ncol = 3, byrow = F)
> m
     [,1] [,2] [,3] 
[1,]    9    1    1
[2,]    8    4    2
[3,]    7    3    4
[4,]    6    3    3
[5,]    5    5    5
> do.call("order", data.frame(m[, c(2, 3)]))
[1] 1 4 3 2 5

Using the same idea, we could write a small function:

> SortMat <- function(Mat, Sort)
{
	m <- do.call("order", as.data.frame(Mat[, Sort]))
	Mat[m,  ]
}
> m
     [,1] [,2] [,3] 
[1,]    9    1    1
[2,]    8    4    2
[3,]    7    3    4
[4,]    6    3    3
[5,]    5    5    5
> SortMat(Mat = m, Sort = c(2, 3))
     [,1] [,2] [,3] 
[1,]    9    1    1
[2,]    6    3    3
[3,]    7    3    4
[4,]    8    4    2
[5,]    5    5    5

Hope this helps,

Renaud

-- 
Renaud Lancelot
ISRA-LNERV
BP 2057 Dakar-Hann
Senegal

tel 	(221) 832 49 02
fax 	(221) 821 18 79
email	renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From albmun at est-econ.uc3m.es  Thu Oct 14 14:38:37 1999
From: albmun at est-econ.uc3m.es (albmun)
Date: Thu, 14 Oct 1999 14:38:37 +0200
Subject: [R] Help on MASS Library
Message-ID: <3805CECD.B089BDF1@est-econ.uc3m.es>

Hi,

I am starting tu use R on a linux environment (Red Hat 6.0),

and when I tried to use library MASS, writting

library(MASS)

I got the following message:

> library(MASS)
Error: dynamic library `MASS' not found
>

Is there something I am doing wrong?

Thanks in advance,

Alberto


---------------------------------------------------------------------
Alberto Munoz                       Phone: +34-91- 624 95 79
Dpto. de Estadistica y Econometria  Fax:   +34-91- 624 98 49
c/Madrid 126, 28903 Getafe          e-mail: albmun at est-econ.uc3m.es
Universidad Carlos III de Madrid
---------------------------------------------------------------------


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/19991014/6c8387a5/attachment.html

From alobo at ija.csic.es  Thu Oct 14 15:02:02 1999
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 14 Oct 1999 14:02:02 +0100 (MET)
Subject: [R] Re: R-0.65.1 is released
In-Reply-To: <x2vh8ktyn2.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.OSF.3.91.991014135856.21380A-100000@paleo.ija.csic.es>


Are the (SuSe 6.2) binaries for  R-0.65.1 
going to be released soon or should I go ahead compiling
myself?

(sorry for seeming lazy, but I'm not a good sys admin...)

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es
http://pangea.ija.csic.es/alobo


On 6 Oct 1999, Peter Dalgaard BSA wrote:

> 
> 
> I've rolled up R-0.65.1.tgz a moment ago.
> 
> As usual, you shouldn't get it from Auckland, but wait for it to be
> mirrored at a CRAN site near you within a day or two.
> 
> For those who are too curious to wait, I'll put a copy in
> 
> 	ftp://blueberry.kubism.ku.dk/pub/R-devel/R-0.65.1.tgz 
> 
> There's also a version split in two for floppies and a patch file if
> you prefer that. (If you use the patch file, you will miss a logo.bmp
> file in the gnuwin32 directory, but that is probably immaterial to
> most of you).
> 
> 	For the R Core Team,
> 
> 	Peter D.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Oct 14 15:14:43 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Oct 1999 15:14:43 +0200
Subject: [R] Help on MASS Library
In-Reply-To: albmun's message of "Thu, 14 Oct 1999 14:38:37 +0200"
References: <3805CECD.B089BDF1@est-econ.uc3m.es>
Message-ID: <x2yad6krss.fsf@blueberry.kubism.ku.dk>

albmun <albmun at est-econ.uc3m.es> writes:

> Hi,
> 
> I am starting tu use R on a linux environment (Red Hat 6.0),
> 
> and when I tried to use library MASS, writting
> 
> library(MASS)
> 
> I got the following message:
> 
> > library(MASS)
> Error: dynamic library `MASS' not found
> >
> 
> Is there something I am doing wrong?

Possibly. Did you install the MASS package?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wicker at chablis.u-strasbg.fr  Thu Oct 14 16:12:12 1999
From: wicker at chablis.u-strasbg.fr (Nicolas WICKER)
Date: Thu, 14 Oct 1999 16:12:12 +0200 (MET DST)
Subject: [R] installing R 0.65.1 Release on irix6.3
Message-ID: <199910141412.QAA0000026250@chablis.u-strasbg.fr>

Hi !
The configure command was successful :

"R is now configured for mips-sgi-irix6.3

  Source directory:         .
  Installation directory:   /usr/local
  C compiler:               cc  
  FORTRAN compiler:         f77  
  Gnome support:            no"

but the gmake command failed :

"ld: WARNING 84: /usr/lib/libblas.so is not used for resolving any symbol."

Thanks if you see what the trouble is.
Nicolas Wicker.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From y0004379 at tu-bs.de  Thu Oct 14 16:18:11 1999
From: y0004379 at tu-bs.de (Peter Malewski)
Date: Thu, 14 Oct 1999 16:18:11 +0200 (METDST)
Subject: [R] Help on MASS Library
In-Reply-To: <3805CECD.B089BDF1@est-econ.uc3m.es>
Message-ID: <Pine.HPX.4.10.9910141613450.1674-100000@rzpool03.rz.tu-bs.de>

Hi,

if you downloaded VR*.tgz you should "cd" to "VR..." and exec. 1 

R INSTALL MASS

Unlike other R-packages VR contains 3 packages: MASS,
nnet,spatial. 


 > library(MASS)

shuld then work fine.
bye
P
***************************************************************************
P.Malewski					Tel.: 0531 500965
Maschplatz 8					Email: P.Malewski at tu-bs.de
************************38114 Braunschweig********************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Thu Oct 14 16:16:35 1999
From: peter at esb.ucp.pt (Peter Ho)
Date: Thu, 14 Oct 1999 15:16:35 +0100
Subject: [R]:Citing R
Message-ID: <3805E5C3.47452E13@esb.ucp.pt>

Hi,


What is the correct form for currently citing R and R libraries in
published articles?
I haven't been able to find this in R FAQ. The only thing I can come up
with so far is,

R Development Core Team. 1999. R : A language and environment.

Should the version of R be included? i.e. Linux, windows?


Thanks


Peter
-----------------------------------------------------------------------------------------

Peter Ho
Escola Superior de Biotecnologia
Universidade Cat?lica Portuguesa
Rua Dr. Ant?nio Bernardino de Almeida
4200 Porto
Portugal
Tel: ++351-2-5580043

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Douglas.Kimble at Wichita.BOEING.com  Thu Oct 14 16:29:47 1999
From: Douglas.Kimble at Wichita.BOEING.com (Kimble, Douglas A)
Date: Thu, 14 Oct 1999 09:29:47 -0500
Subject: [R] Thursday
Message-ID: <7107E4EDB3F8D01194000000001731120296FBC3@xch-wch-07.ks.boeing.com>

I am trying to use R on my computer.  What are files that I need to run R
properly?  I appreciate your help.
Douglas A. Kimble
Design Engineer
767-200SF Payloads
> *  (316) 523-6442   *  (316) 523-6003
> *   1-888-764-0675
> * #1  Douglas.Kimble at Wichita.BOEING.com
> * #2  slimdoggy at prodigy.net
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From y0004379 at tu-bs.de  Thu Oct 14 16:30:55 1999
From: y0004379 at tu-bs.de (Peter Malewski)
Date: Thu, 14 Oct 1999 16:30:55 +0200 (METDST)
Subject: [R] Help on MASS Library
In-Reply-To: <Pine.HPX.4.10.9910141613450.1674-100000@rzpool03.rz.tu-bs.de>
Message-ID: <Pine.HPX.4.10.9910141629430.1674-100000@rzpool03.rz.tu-bs.de>

Sorry,

On Thu, 14 Oct 1999, Peter Malewski wrote:
> Unlike other R-packages VR contains 3 packages: MASS,
> nnet,spatial. 

four packages is right: I forgot "class"
dear P

***************************************************************************
P.Malewski					Tel.: 0531 500965
Maschplatz 8					Email: P.Malewski at tu-bs.de
************************38114 Braunschweig********************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From y0004379 at tu-bs.de  Thu Oct 14 16:39:03 1999
From: y0004379 at tu-bs.de (Peter Malewski)
Date: Thu, 14 Oct 1999 16:39:03 +0200 (METDST)
Subject: [R] Re: R-0.65.1 is released
In-Reply-To: <Pine.OSF.3.91.991014135856.21380A-100000@paleo.ija.csic.es>
Message-ID: <Pine.HPX.4.10.9910141636490.1674-100000@rzpool03.rz.tu-bs.de>

Hi,
> Are the (SuSe 6.2) binaries for  R-0.65.1 
> going to be released soon or should I go ahead compiling
> myself?
> 
> (sorry for seeming lazy, but I'm not a good sys admin...)

I think it is pretty easy to compile R. As "Readme" sais:

./configure
make 
make install

should be *very* easy... (& I'm no sys-admin)
Dear
P.


***************************************************************************
P.Malewski					Tel.: 0531 500965
Maschplatz 8					Email: P.Malewski at tu-bs.de
************************38114 Braunschweig********************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Oct 14 17:32:47 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 14 Oct 1999 08:32:47 -0700 (PDT)
Subject: [R]:Citing R
In-Reply-To: <3805E5C3.47452E13@esb.ucp.pt>
Message-ID: <Pine.GSO.4.10.9910140830520.2421-100000@wompom.biostat.washington.edu>

On Thu, 14 Oct 1999, Peter Ho wrote:

> Hi,
> 
> 
> What is the correct form for currently citing R and R libraries in
> published articles?
> I haven't been able to find this in R FAQ. The only thing I can come up
> with so far is,
> 
> R Development Core Team. 1999. R : A language and environment.
> 
> Should the version of R be included? i.e. Linux, windows?
> 

It is in the FAQ (but perhaps not that easy to find), in section 2.7.

"  Last, but not least, Ross' and Robert's experience in designing and
implementing R is described in:

     @article{,
       author =    {Ross Ihaka and Robert Gentleman},
       title =     {R: A Language for Data Analysis and Graphics},
       journal =   {Journal of Computational and Graphical Statistics},
       year =      1996,
       volume =    5,
       number =    3,
       pages =     {299--314}
     }

This is also the reference for R to use in publications."



Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From y0004379 at tu-bs.de  Thu Oct 14 18:18:43 1999
From: y0004379 at tu-bs.de (Peter Malewski)
Date: Thu, 14 Oct 1999 18:18:43 +0200 (METDST)
Subject: [R] Thursday
In-Reply-To: <7107E4EDB3F8D01194000000001731120296FBC3@xch-wch-07.ks.boeing.com>
Message-ID: <Pine.HPX.4.10.9910141812430.1674-100000@rzpool03.rz.tu-bs.de>

Hi,
> I am trying to use R on my computer.  What are files that I need to run R

If you using Unix/linux you neet R-0.65.1.tgz (read the "Readme" & FAQ),
if you use m$ you should get the stuff listened under the "binary dist."
under "/R/bin/windows/windows-NT/base". The Cran master
http://www.ci.tuwien.ac.at/R/ 

is a good starting point for reading. If you want to run special
stastical analyses you probably need additional libraries.
Dear

***************************************************************************
P.Malewski					Tel.: 0531 500965
Maschplatz 8					Email: P.Malewski at tu-bs.de
************************38114 Braunschweig********************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hdreau at cybercable.fr  Thu Oct 14 19:06:58 1999
From: hdreau at cybercable.fr (Herve Dreau)
Date: Thu, 14 Oct 1999 19:06:58 +0200
Subject: [R]:Citing R
Message-ID: <19991014190658.A17515@raoul.fr>



Le jeu, 14 oct 1999 17:32:47 Thomas Lumleya ?crit :
> On Thu, 14 Oct 1999, Peter Ho wrote:

> > What is the correct form for currently citing R and R libraries in
> > published articles?
...
> This is also the reference for R to use in publications."

I wonder if there is a repository of publications citting R (i think
i'm going to have one, soon :-) ).
Maybe this can be seen as  relating the "success story" of R and help
R to be more and more accepted for 'real' work.
This could be a good thing for the R community.

I have no idea about the current number of publications citting R ...


Just a thought

Herv? Dr?au

 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jallen at students.cas.unt.edu  Thu Oct 14 23:35:29 1999
From: jallen at students.cas.unt.edu (Joel Allen)
Date: Thu, 14 Oct 1999 16:35:29 -0500
Subject: [R] use of databases with R?
Message-ID: <38064CA1.43AD6EC3@students.cas.unt.edu>

Is it possible to access data stored in microsoft access databases using
R for windows or Linux?

Thanks,

Joel

--
***************************
jallen at students.cas.unt.edu
University of North Texas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Fri Oct 15 09:21:57 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Fri, 15 Oct 1999 08:21:57 +0100
Subject: [R] use of databases with R?
In-Reply-To: <38064CA1.43AD6EC3@students.cas.unt.edu>; from Joel Allen on Thu, Oct 14, 1999 at 04:35:29PM -0500
References: <38064CA1.43AD6EC3@students.cas.unt.edu>
Message-ID: <19991015082157.14654@hal.stat.unipd.it>

On Thu, Oct 14, 1999 at 04:35:29PM -0500, Joel Allen wrote:
> Is it possible to access data stored in microsoft access databases using
> R for windows or Linux?
> 

 Michael Lapsley <mlapsley at ndirect.co.uk> was working on a ODBC package
 for R. But it has not been released (yet).

 guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Oct 15 08:31:34 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 15 Oct 1999 07:31:34 +0100 (BST)
Subject: [R] use of databases with R?
In-Reply-To: <38064CA1.43AD6EC3@students.cas.unt.edu>
Message-ID: <Pine.GSO.4.05.9910150720210.24274-100000@auk.stats>

On Thu, 14 Oct 1999, Joel Allen wrote:

> Is it possible to access data stored in microsoft access databases using
> R for windows or Linux?

Not that I know of. For Windows, this is something that has been requested,
and it would certainly be possible to add an interface given enough
expertise and time (and we have neither). I know of no product under Linux
that can read Access databases, whose structure (like most database
systems) I believe to be proprietary.

Can you use Access itself or a Visual Basic front end to extract the data
you want into a table or tables that can be read by read.table?  You will
need the data in that format to do anything with it in R.

R is a collaborative project and there may well be other readers of R-help
interested in contributing such interfaces. We would be delighted to hear
from you (such discussions being best on R-devel, I guess).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Sat Oct 16 14:00:37 1999
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Sat, 16 Oct 1999 22:00:37 +1000
Subject: [R] RE: use of databases with R?
Message-ID: <380868E5.548DDEDF@ozemail.com.au>

Joel,

I think that there is an application named pgadmin which may do what you
want.  Try subscribing to one of the PostgreSQL mailing lists and
sending the question there.

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlapsley at ndirect.co.uk  Sat Oct 16 22:56:34 1999
From: mlapsley at ndirect.co.uk (Michael Lapsley)
Date: Sat, 16 Oct 1999 21:56:34 +0100 (BST)
Subject: [R] ODBC database access package
Message-ID: <XFMail.991016215634.mlapsley@ndirect.co.uk>

I have just finished a first rough cut of RODBC,
a database connectivity addon.  In theory it should allow
access to any odbc compliant database for which the driver
set is installed.  On unix this includes MySQL, mSQL and
postgres using the unixODBC set.  
On windows it should include access, sqlserver etc
if the odbc drivers are installed.

For those who have never taken an interest in this, Open DataBase
Connectivity (I think) is an api championed by (Oh dear!) microsoft
as a lowest common denominator set of standardised functions for transferring
data between SQL databases and applications.  To use it one needs a driver
manager, provided
in the odbc library, and a driver provided for/by the specific database engine.
A DSN (data source name) is then defined by the user as the object of the
odbc application's attention.  This defines an alias by which the connection is
known, the database driver and the database.  The function set is fairly rich,
and I have not implemented many of them.  Most functionality can be accessed
via select statements anyway, at the cost perhaps of portability.

The package implements low level odbc R functions which are
basically wrappers for the C odbc api calls, together with
a set of higher level commands based on the concept of moving data
between dataframes and sql tables with a single command as much as
possible.  For example sqlSave(0,dataframe) will save the dataframe
to a table of the same name, creating or modifying it as necessary.

All of the functions _SEEM_ to work except one (sqlCopy), where I
cannot resolve a problem with propagating substitute()ed names down a 
function tree.  This is only a convenience function and is not strictly
necessary.  The rest seem to work OK, but I would appreciate any suggestions
for improved robustness, bug fixes, or improvements.

I need a volunteer to compile this for windows and see if it works.  I believe
from microsoft.com that VC++ comes with an odbc library:  can someone please
help?  

The files are on www.ndirect.co.uk/~mlapsley as RODBC-0.1a.[tgz | zip]
If people have had a look and and think it merits a place on CRAN then I will
submit a version with any bugs found ironed out.

Thanks to the folk who answered some of the questions about problems I had
writing this.  It is my first attempt at reusable R code and I hope it does not
look too amateurish!

Michael
----------------------------------
E-Mail: Michael Lapsley <mlapsley at ndirect.co.uk>
Date: 16-Oct-99
Time: 17:29:31

This message was sent by XFMail
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yuyun at stat.wisc.edu  Sun Oct 17 18:37:22 1999
From: yuyun at stat.wisc.edu (Yuyun Jessie Yang)
Date: Sun, 17 Oct 1999 11:37:22 -0500 (CDT)
Subject: [R] Summary: Re: Q: sort a matrix by picking up columns?
In-Reply-To: <Pine.GSO.3.96L.991013113609.16059A-100000@moloch.stat.wisc.edu>
Message-ID: <Pine.GSO.3.96L.991017105649.21803C-100000@moloch.stat.wisc.edu>

Thank Douglas Bates, Jan Schelling, Renaud Lancelot for teaching me the
do.call() function, and thank John Bjornar Bremnes for teaching me the
format() function. I would like to also thank the others who contribute
their inputs. Here is a brief summary of replies so far.

A function shown below will do what I need:
(This is copied from Renaud Lancelot's reply to r-help list.)

> SortMat <- function(Mat, Sort)
{
        m <- do.call("order", as.data.frame(Mat[, Sort]))
        Mat[m,  ]
}

Another trick by John Bjornar Bremnes also works on my small elemantary
example. It helped me learn another function format(). I haven't tried it
on my bigger data sets yet though:

a <- c(1,3,6,8,10,13)
Mat[ order( apply(format(Mat[,a]), 1, paste, collapse="") ), ]



Jessie

==================== the original question =========================

On Wed, 13 Oct 1999, Yuyun Jessie Yang wrote:

> Hi,
> 
> I am wondering how to write a function which sorts a matrix by giving a
> vector of column numbers.
> 
> Suppose we have a matrix (or data frame) "Mat" and I want to obtain
> order(Mat[,1], Mat[,3], Mat[,6,], Mat[,8], Mat[,10], Mat[,13])
> in order to sort the matrix by those columns. Is there a way to write a
> function so that I can give a vector of the column numbers 
> c(1,3,6,8,10,13) and do the sorting? Here we know that we cannot just
> write order(Mat[,c(1,3,6,8,10,13)]), which would give a wrong answer.
> 
> Thanks for any input.
> 
> Jessie
> 
> Yuyun Jessie Yang
> Dissertator, Department of Statistics
> University of Wisconsin-Madison

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Mon Oct 18 10:57:41 1999
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Mon, 18 Oct 1999 09:57:41 +0100 (GMT)
Subject: [R] Date/time of formation of objects
Message-ID: <Pine.LNX.4.04.9910180930001.10565-100000@mercury.quantex>

Hi

Is there any way of attaching the date and time of formation of an object
so that ls() can report such things in a manner similar to the Unix ls
command?  And/or a comment attached?  Could this be added to the
housekeeping wish-list?

I usually use my own little command lls() (below) that reminds me of the
mode and size of a structure since I often have R sesssions open for days
at a time.  Addition of the date and time and a comment describing the
function or whatever would be a great aid to my poor memory and an
alternative to losing the piece of paper I have written the description
down on.  Sorting by date/time would automatically group all objects
created at the same time together.

Presumably since S+ stores everything in .Data this can automatically be
arranged by system('ls -lrt .Data') for example, just about the only
advantage of overworking your disk other than error recovery that I can
think of.  Assuming Unix of course.

Just a thought - along with the autosave when quiescent that I posted a
little while ago ... 

John

lls<-function (pat = "") 
{
    lll <- ls(1, pat = pat)
    for (i in 1:length(lll)) {
        cat(formatC(eval(parse(t = paste("mode(", lll[i], ")"))), 
            1, 12), formatC(lll[i], 1, max(nchar(lll)) + 1), 
            eval(parse(t = paste("dimx(", lll[i], ")"))), "\n")
    }
}

where

dimx<-function (dd) 
{
    if (is.null(dim(dd))) {
        length(dd)
    }
    else {
        dim(dd)
    }
}


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jens.oehlschlaegel-akiyoshi at mdfactory.de  Mon Oct 18 11:11:04 1999
From: jens.oehlschlaegel-akiyoshi at mdfactory.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel-Akiyoshi?=)
Date: Mon, 18 Oct 1999 11:11:04 +0200
Subject: Solving problems with read.fwf(), perl under WinNT (was: Re: [R] Using metric scaling)
Message-ID: <000001bf1948$b4e094e0$a9021aac@joelschlaegel>



Some days ago a problem with perl under WinNT was reported, which lead to

> > t1 <- read.fwf("d:/maj/consulting/MarkStevens/matrix.txt", width=c(4,
22,
> rep(7, 8)))
> Error: "scan" can't open file

I installed perl from the WindowsNt Recource Kit CD (Sept. 98) and
encountered the same problem:

Scan couldn't open the file
- because perl did not produce it
- because perl could not find it's library files
- because the installation procedure did not copy the library files to my HD
- and instead created registry entries pointing to the CD

So the solution that worked for me is
- copy RecourceKitCD:\source\gnu\perl\*.* and it's subdirectories to my HD
(e.g. C:\NTRESKIT\perl),
- change to this directory (e.g. C:\NTRESKIT\perl)
- and run INSTALL.BAT (which updates the registry approbriately)

Well, besides having some files twice in C:\NTRESKIT\perl and
C:\NTRESKIT\perl\bin (e.g. perl.exe) (check your path)
it works now.


Best


--
Dr. Jens Oehlschl?gel-Akiyoshi
MD FACTORY GmbH
Bayerstrasse 21

80335 M?nchen

Tel.: 089 545 28-27
Fax.: 089 545 28-10
http://www.mdfactory.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Oct 18 11:43:04 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Oct 1999 11:43:04 +0200
Subject: [R] Re: CRAN downtimes
In-Reply-To: Friedrich Leisch's message of "Mon, 18 Oct 1999 11:13:08 +0200 (CEST)"
References: <14346.58532.621290.226557@luthien.ci.tuwien.ac.at>
Message-ID: <x2zoxhqa1j.fsf@blueberry.kubism.ku.dk>

Friedrich Leisch <Friedrich.Leisch at ci.tuwien.ac.at> writes:

> Hi,
>
> we had a broken heating system (in the floor above us) resulting in a
> water burst .... my office looks like if a bomb has exploded ...

So does mine, without any water... ;)

--
   O__  ---- Peter Dalgaard             Blegdamsvej 3
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yudi at ucd.ie  Mon Oct 18 14:34:32 1999
From: yudi at ucd.ie (yudi@ucd.ie)
Date: Mon, 18 Oct 1999 12:34:32 +0000
Subject: [R] reading binary file
Message-ID: <01JHA3ASNNGY0053TR@CCSERV.UCC.IE>

Is there facility in R to read binary file? In Splus scan() has
'width=' argument and AsciiToInt() command to translate the
binary data. Is there something similar in R?

Thanks,
-Yudi-
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stel at hail.ersa.fvg.it  Mon Oct 18 14:02:01 1999
From: stel at hail.ersa.fvg.it (Fulvio Stel)
Date: Mon, 18 Oct 1999 12:02:01 +0000
Subject: [R] Re: CRAN downtimes
References: <14346.58532.621290.226557@luthien.ci.tuwien.ac.at>
Message-ID: <380B0C39.23FC6064@hail.ersa.fvg.it>

Dear Mr. Leisch,

you awoke me sad memories. Some years ago the same event happened in the
place where I was preparing my thesis... This will be of scarse help for
you, but you have all my compassion.

regards

				Fulvio
> 
> Hi,
> 
> we had a broken heating system (in the floor above us) resulting in a
> water burst .... my office looks like if a bomb has exploded ...
> 
> Currently our server is up and running again (it was down over the
> weekend) ... but we will move out of the devastated rooms and hence
> the CARN master might be down one or more times during the rest of the
> week. We'll try to keep the down times as short as possible.
> 
> Best,
> Fritz
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-announce mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Mon Oct 18 15:13:45 1999
From: alobo at ija.csic.es (Agustin Lobo)
Date: Mon, 18 Oct 1999 14:13:45 +0100 (MET)
Subject: [R] R-0.65.1 installed on SuSE6.2
In-Reply-To: <Pine.HPX.4.10.9910141636490.1674-100000@rzpool03.rz.tu-bs.de>
Message-ID: <Pine.OSF.3.91.991018140935.4275A-100000@paleo.ija.csic.es>


I've downloaded again the tgz and this time it worked fine.
A couple of questions,

1.What should I do in order to get 
ride of the former version? just remove the directory?

2. Now that the packages come as rpm, should we install
them from the same directory than the R package, is it
better to do it from another directory (i.e, R-packages) 
or does the rpm take care?

Thanks

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es
http://pangea.ija.csic.es/alobo


On Thu, 14 Oct 1999, Peter Malewski wrote:

> Hi,
> > Are the (SuSe 6.2) binaries for  R-0.65.1 
> > going to be released soon or should I go ahead compiling
> > myself?
> > 
> > (sorry for seeming lazy, but I'm not a good sys admin...)
> 
> I think it is pretty easy to compile R. As "Readme" sais:
> 
> ./configure
> make 
> make install
> 
> should be *very* easy... (& I'm no sys-admin)
> Dear
> P.
> 
> 
> ***************************************************************************
> P.Malewski					Tel.: 0531 500965
> Maschplatz 8					Email: P.Malewski at tu-bs.de
> ************************38114 Braunschweig********************************
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Oct 18 15:19:46 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 18 Oct 1999 15:19:46 +0200 (MET DST)
Subject: [R] reading binary file
In-Reply-To: <01JHA3ASNNGY0053TR@CCSERV.UCC.IE>
References: <01JHA3ASNNGY0053TR@CCSERV.UCC.IE>
Message-ID: <14347.7794.713560.928460@gargle.gargle.HOWL>

>>>>> "Yudi" == Yudi Pawitan <yudi at ucd.ie> writes:

    Yudi> Is there facility in R to read binary file? In Splus scan() has
    Yudi> 'width=' argument and AsciiToInt() command to translate the
    Yudi> binary data. Is there something similar in R?

hmm, two things  ---rather thoughts than proposals---

- ASCII is 7bit, binary is 8bit;
  but indeed: S-plus' AsciiToInt(ch) [formerly known as  ichar()] 
  works for 8bit strings as well.
	
- in R, we allow for ``8bit extended ASCII'' (actually iso-latin-1) 
  which enables us non-English speakers (and writers) to use our language
  "accents", and, using using 'locale's even to sort accordingly.

  The drawback of our `localized' approach is that  AsciiToInt() 
  ---if we'd implement it--- would be localized as well
  {but then scan(what="") would be too, and then reading binary, using this
   hack should work, locale-independently...}.

Maybe a better approach would be to directly read binary bytes into
integers, 2 or 4 bytes into one integer 
(R requires C integers with at least 32 bits).

The two simple function  pack8bit() and unpack8bit()  which are now part of
the wavethresh package on CRAN {{and are applied to store the
	       		        picture of John Lennon more efficiently}}
could come handy here.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From syring at email.com  Mon Oct 18 16:24:11 1999
From: syring at email.com (Karl M. Syring)
Date: Mon, 18 Oct 1999 16:24:11 +0200
Subject: Solving problems with read.fwf(), perl under WinNT (was: Re: [R] Using metric scaling)
In-Reply-To: <000001bf1948$b4e094e0$a9021aac@joelschlaegel>
Message-ID: <000101bf1974$7283e350$ffc29e3e@fenris>

I think it is better to use the free perl binary from
http://www.activestate.com/.

Karl

<snip>

> I installed perl from the WindowsNt Recource Kit CD (Sept. 98) and
> encountered the same problem:
>
> Scan couldn't open the file
> - because perl did not produce it
> - because perl could not find it's library files
> - because the installation procedure did not copy the library
> files to my HD
> - and instead created registry entries pointing to the CD
>
> So the solution that worked for me is
> - copy RecourceKitCD:\source\gnu\perl\*.* and it's subdirectories to my HD
> (e.g. C:\NTRESKIT\perl),
> - change to this directory (e.g. C:\NTRESKIT\perl)
> - and run INSTALL.BAT (which updates the registry approbriately)
>
> Well, besides having some files twice in C:\NTRESKIT\perl and
> C:\NTRESKIT\perl\bin (e.g. perl.exe) (check your path)
> it works now.
>
>
> Best
>
>
> --
> Dr. Jens Oehlschl?gel-Akiyoshi
> MD FACTORY GmbH
> Bayerstrasse 21
>
> 80335 M?nchen
>
> Tel.: 089 545 28-27
> Fax.: 089 545 28-10
> http://www.mdfactory.de
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info",
> "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Mon Oct 18 18:07:32 1999
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Mon, 18 Oct 1999 18:07:32 +0200
Subject: No subject
Message-ID: <001501bf1982$e4617ba0$2c4fa8c0@tring.stofanet.dk>

Dear friends. 
When using in windows version the menu function to change directory, what actions are actually performed, i.e. what commands could I write to a file to make a CD ? I couldn't find it mentioned anywhere - undoubtedly an oversigth on my part.

Troels Ring, M.D
Department of Nephrology
Aalborg, Denmark
tring at mail1.stofanet.dk

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cfcorral at gmv.es  Mon Oct 18 18:12:21 1999
From: cfcorral at gmv.es (Carlos Corral van Damme)
Date: Mon, 18 Oct 1999 18:12:21 +0200
Subject: [R] Polar plots
Message-ID: <380B46E5.376EF501@gmv.es>

Hi,
is it possible to make polar plots in R?
To be exact, I need a sort of "image" plot (different colors for
different values), but using azimuth and elevation instead of x-y
coordinates.
Thanks
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cfcorral.vcf
Type: text/x-vcard
Size: 273 bytes
Desc: Tarjeta de Carlos Corral van Damme
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19991018/45e8d305/cfcorral.vcf

From yudi at ucd.ie  Mon Oct 18 18:33:30 1999
From: yudi at ucd.ie (yudi@ucd.ie)
Date: Mon, 18 Oct 1999 18:33:30 +0200 (MET DST)
Subject: [R] reading binary file
Message-ID: <14347.19418.913075.377353@gargle.gargle.HOWL>

Accidentally this only came to me (MM).

------- start of forwarded message (RFC 934 encapsulation) -------

> >>>>> "Yudi" == Yudi Pawitan <yudi at ucd.ie> writes:
> 
>     Yudi> Is there facility in R to read binary file? In Splus scan() has
>     Yudi> 'width=' argument and AsciiToInt() command to translate the
>     Yudi> binary data. Is there something similar in R?
> 

>From  Martin Maechler <maechler at stat.math.ethz.ch>	
> The two simple function  pack8bit() and unpack8bit()  which are now part of
> the wavethresh package on CRAN {{and are applied to store the
> 	       		        picture of John Lennon more efficiently}}
> could come handy here.
> 
Actually I'm trying to read ppm image files that have a mixture of
ASCII characters (describing the content of a file) and binary values. 
Splus can do this. Maybe I have to write a C subroutine?

 Some authors also use TIF or  GIF image files; does anyone have
any experience in getting the actual pixel values so we can process
the image. Any hint is appreciated.

Thanks,
- -Yudi-

- ------------------------------
Yudi Pawitan: yudi at ucd.ie
Department of Statistics, UCD
Dublin 4, Ireland
Ph : 353-1-706 7641
Fax: 353-1-706 1186
- ------------------------------

------- end -------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Oct 18 18:35:48 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 18 Oct 1999 18:35:48 +0200 (MET DST)
Subject: [R] Change Directory.. : setwd()
In-Reply-To: <001501bf1982$e4617ba0$2c4fa8c0@tring.stofanet.dk>
References: <001501bf1982$e4617ba0$2c4fa8c0@tring.stofanet.dk>
Message-ID: <14347.19556.339676.483512@gargle.gargle.HOWL>

>>>>> "Troels" == Troels Ring <tring at mail1.stofanet.dk> writes:

    Troels> Dear friends. 

    Troels> When using in windows version the menu function to change
    Troels> directory, what actions are actually performed, i.e. what
    Troels> commands could I write to a file to make a CD ? I couldn't find
    Troels> it mentioned anywhere - undoubtedly an oversigth on my part.

setwd()

I found myself it was pretty hidden a few months ago.
Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Oct 18 19:19:58 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 18 Oct 1999 18:19:58 +0100 (BST)
Subject: [R] Re: Solving problems with read.fwf(), perl under WinNT (was: Re:
 [R] Using metric scaling)
In-Reply-To: <000001bf1948$b4e094e0$a9021aac@joelschlaegel>
Message-ID: <Pine.GSO.4.05.9910181813530.14862-100000@auk.stats>

On Mon, 18 Oct 1999, [iso-8859-1] Jens Oehlschlgel-Akiyoshi wrote:

> Some days ago a problem with perl under WinNT was reported, which lead to
> 
> > > t1 <- read.fwf("d:/maj/consulting/MarkStevens/matrix.txt", width=c(4,
> 22,
> > rep(7, 8)))
> > Error: "scan" can't open file
> 
> I installed perl from the WindowsNt Recource Kit CD (Sept. 98) and
> encountered the same problem:
> 
> Scan couldn't open the file
> - because perl did not produce it
> - because perl could not find it's library files
> - because the installation procedure did not copy the library files to my HD
> - and instead created registry entries pointing to the CD

[ ... ]


Thank you. However, the original problem was a space in the path name
where R was installed, and we have both sent Murray a fix and put
a more permanent one in for the next release of R.

I definitely would not recommend that version of Perl (even before your
experience): you can get a current Perl with a working installer at
http://www.perl.com/CPAN/ports.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.malewski at tu-bs.de  Mon Oct 18 20:54:44 1999
From: p.malewski at tu-bs.de (Peter Malewski)
Date: Mon, 18 Oct 1999 20:54:44 +0200
Subject: [R] R-0.65.1 installed on SuSE6.2
References: <Pine.OSF.3.91.991018140935.4275A-100000@paleo.ija.csic.es>
Message-ID: <380B6CF4.97A1FEE6@tu-bs.de>

Hi Austin,

Agustin Lobo wrote:

> I've downloaded again the tgz and this time it worked fine.

fine.

> A couple of questions,
>
> 1.What should I do in order to get
> ride of the former version? just remove the directory?

You can do this (e.g. to save disk space). I have never delted the old versions.
The

    make install

command  will create an apropiate symlink to the binary of the new version.

> 2. Now that the packages come as rpm, should we install
> them from the same directory than the R package, is it
> better to do it from another directory (i.e, R-packages)
> or does the rpm take care?

If you haven't istalled R as an RPM, the RPM database don't know that R is on the
system.
That mean you would get problems installing additional libraries (i assume you
mean this with your 'package' term). Due to
this you would get an message like 'unsolved dependies'.

Well, the tarballs of the R people are really good & (unlike several S-packages i
know) easy to install. Just unpack and run

R INSTALL LIBRARY_NAME


& everything is fine. BTW has the compilation procedure the advantage that you get
an optimized version to your system
(but i don't believe that the increase in perdormance is important-but i've never
tested ).

Dear
P.

ps.: The FAQ, README & CRAN documents are worth reading!

--
********************* Facts are the enemy of truth D. Q. *****************
P.Malewski                                      Tel.: 0531 500965
Maschplatz 8                                    Email: P.Malewski at tu-bs.de
************************38114 Braunschweig********************************



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlapsley at ndirect.co.uk  Mon Oct 18 22:20:57 1999
From: mlapsley at ndirect.co.uk (Michael Lapsley)
Date: Mon, 18 Oct 1999 21:20:57 +0100 (BST)
Subject: [R] core dump
Message-ID: <XFMail.991018212057.mlapsley@ndirect.co.uk>

Here is a nasty one:  (0.65.1 on linux)

> plot(c(1,2,3,4),c(2,4,6,8),log="Y")
Segmentation fault (core dumped)
[ml at athome ml]$

Seems the bug is in errorcall().

yes, I know the syntax is wrong, but it is an easy mistake
to make and it is inconvenient to lose the work space at times.

Michael
----------------------------------
E-Mail: Michael Lapsley <mlapsley at ndirect.co.uk>
Date: 18-Oct-99
Time: 00:39:06

This message was sent by XFMail
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Oct 18 21:37:55 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Oct 1999 21:37:55 +0200
Subject: [R] core dump
In-Reply-To: Michael Lapsley's message of "Mon, 18 Oct 1999 21:20:57 +0100 (BST)"
References: <XFMail.991018212057.mlapsley@ndirect.co.uk>
Message-ID: <x27lkkqx2k.fsf@blueberry.kubism.ku.dk>

Michael Lapsley <mlapsley at ndirect.co.uk> writes:

> Here is a nasty one:  (0.65.1 on linux)
> 
> > plot(c(1,2,3,4),c(2,4,6,8),log="Y")
> Segmentation fault (core dumped)
> [ml at athome ml]$

Ouch!

> Seems the bug is in errorcall().

Yes, or arguments to same to be precise:

406                 errorcall(call,"invalid \"log=%s\" specification",*p);
(gdb) p p
$1 = 0x40781a28 "Y"
(gdb) p *p
$2 = 89 'Y'

I.e., one needs 'p', not '*p' in there. Thanks. Will fix. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Mon Oct 18 22:12:53 1999
From: novo at uiuc.edu (Alvaro A. Novo)
Date: Mon, 18 Oct 1999 15:12:53 -0500
Subject: [R] core dump
In-Reply-To: <XFMail.991018212057.mlapsley@ndirect.co.uk>
References: <XFMail.991018212057.mlapsley@ndirect.co.uk>
Message-ID: <9910181517550E.12543@friedman>

On Mon, 18 Oct 1999, you wrote:
> Here is a nasty one:  (0.65.1 on linux)
> 
> > plot(c(1,2,3,4),c(2,4,6,8),log="Y")
> Segmentation fault (core dumped)
> [ml at athome ml]$

I actually tried it (also 0.65.1 on SuSE 6.1) and got the same error message,
but when I tried to call R again I got an additional error message:

>  plot(c(1,2,3,4),c(2,4,6,8),log="Y")
Segmentation fault

anovo at friedman 425 > R 

R : Copyright 1999, The R Development Core Team
Version 0.65.1 Release (October 07, 1999)

(ommitted)

Error: unresolved node during restore
Fatal error: unable to restore saved data
 (remove .RData or increase memory)

(I don't have large datasets, only a couple of 25x5 matrices). I have retried
and still get the same error message.

Alvaro


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Oct 18 23:55:46 1999
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Mon, 18 Oct 1999 17:55:46 -0400 (EDT)
Subject: [R] memory efficiency in R
Message-ID: <Pine.LNX.4.10.9910181750090.3987-100000@bolker.zoo.ufl.edu>


  I'm trying to answer a question from a student about memory use in R
(I won't go into the details right here).

  I have a really vague memory of having read a document, possibly by
Venables or Ripley, discussing the awfulness of memory allocation in
S-PLUS, and giving (in the context of a bootstrapping analysis of shoe
size data??) some general strategies for conserving memory in S-PLUS.  I
can't locate this discussion any more: it's not in any versions of "Notes
on S-Plus" or "Notes on R" I can get my hands on.  It might be in one of
the S books (V&R, blue book, "Statistical Models in S") but I don't have
access to any of them right now.  I realize that memory usage issues will
be somewhat different in S-PLUS and R (and possibly in later versions of
S-PLUS), but I still the discussion might be useful.

  Does this ring any bells for anyone?

 thanks,
    Ben Bolker

--------------------------------------------
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Oct 19 00:04:19 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Oct 1999 00:04:19 +0200
Subject: [R] core dump
In-Reply-To: "Alvaro A. Novo"'s message of "Mon, 18 Oct 1999 15:12:53 -0500"
References: <XFMail.991018212057.mlapsley@ndirect.co.uk> <9910181517550E.12543@friedman>
Message-ID: <x2yad0uxzw.fsf@blueberry.kubism.ku.dk>

"Alvaro A. Novo" <novo at uiuc.edu> writes:

> anovo at friedman 425 > R 
> 
> R : Copyright 1999, The R Development Core Team
> Version 0.65.1 Release (October 07, 1999)
> 
> (ommitted)
> 
> Error: unresolved node during restore
> Fatal error: unable to restore saved data
>  (remove .RData or increase memory)
> 
> (I don't have large datasets, only a couple of 25x5 matrices). I have retried
> and still get the same error message.

Not nice. Would it be possible for you to send your .RData file to us
or place it somewhere where we can get at it?

BTW: does it work if you move .RData to another name, start R and
load() the file in?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Oct 19 00:35:35 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Oct 1999 00:35:35 +0200
Subject: [R] memory efficiency in R
In-Reply-To: Ben Bolker's message of "Mon, 18 Oct 1999 17:55:46 -0400 (EDT)"
References: <Pine.LNX.4.10.9910181750090.3987-100000@bolker.zoo.ufl.edu>
Message-ID: <x2so38uwjs.fsf@blueberry.kubism.ku.dk>

Ben Bolker <ben at zoo.ufl.edu> writes:

>   I have a really vague memory of having read a document, possibly by
> Venables or Ripley, discussing the awfulness of memory allocation in
> S-PLUS, and giving (in the context of a bootstrapping analysis of shoe
> size data??) some general strategies for conserving memory in S-PLUS.  I
...
>   Does this ring any bells for anyone?

Ripley, in the S FAQ, http://lib.stat.cmu.edu/S/faq (not that I could
remember that, but a fulltext search on 'memory' in the s-news search
engine ferreted it out soon enough.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Tue Oct 19 00:02:18 1999
From: novo at uiuc.edu (Alvaro A. Novo)
Date: Mon, 18 Oct 1999 17:02:18 -0500
Subject: [R] core dump
In-Reply-To: <x2yad0uxzw.fsf@blueberry.kubism.ku.dk>
References: <XFMail.991018212057.mlapsley@ndirect.co.uk> <9910181517550E.12543@friedman> <x2yad0uxzw.fsf@blueberry.kubism.ku.dk>
Message-ID: <9910181814130G.12543@friedman>

> > (ommitted)
> > 
> > Error: unresolved node during restore
> > Fatal error: unable to restore saved data
> >  (remove .RData or increase memory)
>
> Not nice. Would it be possible for you to send your .RData file to us
> or place it somewhere where we can get at it?

I will send it directly to you, and gladly to other people upon request.

> 
> BTW: does it work if you move .RData to another name, start R and
> load() the file in?

No, unfortunately it does not work. Here's the error message (similar to
the previous one):

> load(".crashRData")
Error in load(file, envir) : unable to open file

Alvaro A. Novo
R-0.65.1
Linux SuSE 6.1
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From robd at anville.wa.cmis.csiro.au  Tue Oct 19 10:19:52 1999
From: robd at anville.wa.cmis.csiro.au (Rob Dunne)
Date: Tue, 19 Oct 1999 16:19:52 +0800 (WST)
Subject: [R] reading binary file
In-Reply-To: <14347.19418.913075.377353@gargle.gargle.HOWL>
References: <14347.19418.913075.377353@gargle.gargle.HOWL>
Message-ID: <14348.10664.717310.13495@anville.wa.cmis.csiro.au>


I have some C functions that I call from S+ to read binary data. 
They
are bin.open.r (ie open to read), bin.read, bin.write, bin.close,
bin.open.w, bin.seek, char, uchar, short and ushort (for unpacking the
data corectly). They also handle byte swapping. 

If you want to have a go at making them work under R I
could send them to you, or I could have a go at it later in the week.

					  rob


yudi at ucd.ie writes:
 > Accidentally this only came to me (MM).
 > 
 > ------- start of forwarded message (RFC 934 encapsulation) -------
 > 
 > > >>>>> "Yudi" == Yudi Pawitan <yudi at ucd.ie> writes:
 > > 
 > >     Yudi> Is there facility in R to read binary file? In Splus scan() has
 > >     Yudi> 'width=' argument and AsciiToInt() command to translate the
 > >     Yudi> binary data. Is there something similar in R?
 > > 
 > 
 > >From  Martin Maechler <maechler at stat.math.ethz.ch>	
 > > The two simple function  pack8bit() and unpack8bit()  which are now part of
 > > the wavethresh package on CRAN {{and are applied to store the
 > > 	       		        picture of John Lennon more efficiently}}
 > > could come handy here.
 > > 
 > Actually I'm trying to read ppm image files that have a mixture of
 > ASCII characters (describing the content of a file) and binary values. 
 > Splus can do this. Maybe I have to write a C subroutine?
 > 
 >  Some authors also use TIF or  GIF image files; does anyone have
 > any experience in getting the actual pixel values so we can process
 > the image. Any hint is appreciated.
 > 
 > Thanks,
 > - -Yudi-
 > 
 > - ------------------------------
 > Yudi Pawitan: yudi at ucd.ie
 > Department of Statistics, UCD
 > Dublin 4, Ireland
 > Ph : 353-1-706 7641
 > Fax: 353-1-706 1186
 > - ------------------------------
 > 
 > ------- end -------
 > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 > Send "info", "help", or "[un]subscribe"
 > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
 > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
 > 

-- 
 Rob Dunne         Fax: +61 8 9333 6121     Tel: +61 8 9333 6178
 CSIRO Mathematical and Information Sciences
 Leeuwin Centre for Earth Sensing Technologies 
 Private Bag, P.O., Wembley, Western Australia, 6014         
 http://matilda.vu.edu.au/~dunne  Email: Rob.Dunne at cmis.csiro.au

        Java has certainly revolutionized marketing and litigation.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Tue Oct 19 06:41:07 1999
From: novo at uiuc.edu (Alvaro A. Novo)
Date: Mon, 18 Oct 1999 23:41:07 -0500
Subject: [R] Summary bug?
Message-ID: <9910182349130T.12543@friedman>

Hi,

It seems that there's a bug in summary, in the max. output... but max() alone
works fine.

> hw04.dframe$area
...
 [41]   1790   1380   1296   2745    798   2306 438649   1481   1559   2450
...

> summary(hw04.dframe)
      area       
 Min.   :   798  
 1st Qu.:  1349  
 Median :  1690  
 Mean   :  6962  
 3rd Qu.:  2306  
 Max.   :438600  ### should read 438649

or, to the point,

> summary(hw04.dframe$area)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    798    1349    1690    6962    2306  438600 
				       ### should be 438649

> max(hw04.dframe$area)
[1] 438649
> is.data.frame(hw04.dframe)
[1] TRUE


Alvaro A. Novo
R-0.65.1
Linux SuSE 6.1

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Oct 19 08:26:53 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 19 Oct 1999 08:26:53 +0200 (MET DST)
Subject: [R] Summary bug?
In-Reply-To: <9910182349130T.12543@friedman>
References: <9910182349130T.12543@friedman>
Message-ID: <14348.3885.920471.714403@gargle.gargle.HOWL>


    Alvaro> Hi, It seems that there's a bug in summary, in the
    Alvaro> max. output... but max() alone works fine.

    Alvaro> hw04.dframe$area
    Alvaro> ...
    Alvaro> [41]   1790   1380   1296   2745    798   2306 438649   1481   1559   2450
    Alvaro> ...

    Alvaro> summary(hw04.dframe)
    Alvaro> area       
    Alvaro> Min.   :   798  
    Alvaro> 1st Qu.:  1349  
    Alvaro> Median :  1690  
    Alvaro> Mean   :  6962  
    Alvaro> 3rd Qu.:  2306  
    Alvaro> Max.   :438600  ### should read 438649

    Alvaro> or, to the point,

    Alvaro> summary(hw04.dframe$area)
    Alvaro> Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    Alvaro> 798    1349    1690    6962    2306  438600 
    Alvaro>                                         ### should be 438649

    Alvaro> max(hw04.dframe$area)
    Alvaro> [1] 438649
    Alvaro> is.data.frame(hw04.dframe)
    Alvaro> [1] TRUE

There's no bug.  It's a feature -- inherited from S

 > args(summary.default)

or  ?summary    {please read the doc before posting...}
shows you

    function (object, ..., digits = max(3, .Options$digits - 3)) 

I.e. by default,  options(digits = 7) and you get four digits.
Usually with numbers of vastly different size, you get exponential
representation with 4 digits each,

> summary(as.data.frame(x <- c(rnorm(20),pi* 10^c(0:2,5))))
       x             
 Min.   :-2.056e+00  
 1st Qu.:-1.023e+00  
 Median : 2.774e-01  
 Mean   : 1.310e+04  
 3rd Qu.: 1.428e+00  
 Max.   : 3.142e+05  

but
I agree that in the above case it can be quite confusing
as e.g. in the following (just a different random sample)

> summary(as.data.frame(x <- c(rnorm(20),pi* 10^c(0:2,4))))
       x             
 Min.   :   -1.3250  
 1st Qu.:   -0.4386  
 Median :    0.2091  
 Mean   : 1324.0000  
 3rd Qu.:    0.7687  
 Max.   :31420.0000  

-------

"Solution": 
	    
Use  summary(...., digits= 10)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Oct 19 08:29:06 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 19 Oct 1999 07:29:06 +0100 (BST)
Subject: [R] memory efficiency in R
In-Reply-To: <x2so38uwjs.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.05.9910190722400.15622-100000@auk.stats>

On 19 Oct 1999, Peter Dalgaard BSA wrote:

> Ben Bolker <ben at zoo.ufl.edu> writes:
> 
> >   I have a really vague memory of having read a document, possibly by
> > Venables or Ripley, discussing the awfulness of memory allocation in
> > S-PLUS, and giving (in the context of a bootstrapping analysis of shoe
> > size data??) some general strategies for conserving memory in S-PLUS.  I
> ...
> >   Does this ring any bells for anyone?
> 
> Ripley, in the S FAQ, http://lib.stat.cmu.edu/S/faq (not that I could
> remember that, but a fulltext search on 'memory' in the s-news search
> engine ferreted it out soon enough.)

But from 1992, and so not applicable to either current S-PLUS or R. (It
also appeared in some versions of my S-PLUS notes of around that time.)
There is more current advice (for S-PLUS) in the V&R2 on-line programming
complements, and there will be advice and examples, including for R,
in the forthcoming `S Programming' by Venables & Ripley.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Oct 19 08:37:55 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 19 Oct 1999 07:37:55 +0100 (BST)
Subject: [R] Summary bug?
In-Reply-To: <9910182349130T.12543@friedman>
Message-ID: <Pine.GSO.4.05.9910190732310.15622-100000@auk.stats>

On Mon, 18 Oct 1999, Alvaro A. Novo wrote:

> It seems that there's a bug in summary, in the max. output... but max() alone
> works fine.
> 
> > hw04.dframe$area
> ...
>  [41]   1790   1380   1296   2745    798   2306 438649   1481   1559   2450
> ...
> 
> > summary(hw04.dframe)
>       area       
>  Min.   :   798  
>  1st Qu.:  1349  
>  Median :  1690  
>  Mean   :  6962  
>  3rd Qu.:  2306  
>  Max.   :438600  ### should read 438649
> 
> or, to the point,
> 
> > summary(hw04.dframe$area)
>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
>     798    1349    1690    6962    2306  438600 
> 				       ### should be 438649
> 
> > max(hw04.dframe$area)
> [1] 438649
> > is.data.frame(hw04.dframe)
> [1] TRUE

This is a feature: summary prints to `digits' significant figures, default
4 (options("digits") - 3).  The idea is not to swamp you with detail in a
summary. As in:

> summary(438649)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
 438600  438600  438600  438600  438600  438600 
> signif(438649, 4)
[1] 438600

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Tue Oct 19 10:02:22 1999
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Tue, 19 Oct 1999 09:02:22 +0100 (GMT)
Subject: [R] reading binary file
In-Reply-To: <14347.7794.713560.928460@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.04.9910182328500.11909-100000@mercury.quantex>



On Mon, 18 Oct 1999, Martin Maechler wrote:

[snip]
> 
> The two simple function  pack8bit() and unpack8bit()  which are now part of
> the wavethresh package on CRAN {{and are applied to store the
> 	       		        picture of John Lennon more efficiently}}
> could come handy here.
> 

I am sure that John Lennon would be greatly amused by such devotion to his
image but could these functions be used for set manipulation?  One thing
for which I have sometimes ended up writing arrays of integers!!!  (I
suppose arrays of logicals may be more efficient).

Actually a set class would be very useful, don't y'think?  With associated
operations?

John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hothorn at statistik.uni-dortmund.de  Tue Oct 19 13:47:31 1999
From: hothorn at statistik.uni-dortmund.de (Torsten Hothorn)
Date: Tue, 19 Oct 1999 13:47:31 +0200 (MET DST)
Subject: [R] ODBC database access package
In-Reply-To: <XFMail.991016215634.mlapsley@ndirect.co.uk>
Message-ID: <Pine.GSO.4.05.9910191334490.17971-100000@atlas>


Hi R users,

I just had a look on Michael's RODBC package (without really testing it),
this implemenation offers the ODBC-functionality to R and looks quite
good.

Still there is a lack (both in RODBC and RmSQL) of a simple interface for
non database programmers. Maybe we could have a discussion about how a
"high level database interface" should be designed. Has anybody "real
world needs" and examples for database access with R?

Torsten 





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arnholt at math.appstate.edu  Tue Oct 19 14:35:36 1999
From: arnholt at math.appstate.edu (Alan T. Arnholt)
Date: Tue, 19 Oct 1999 08:35:36 -0400 (EDT)
Subject: [R] dos.time?
Message-ID: <SIMEON.9910190836.A@speedy.math.appstate.edu>

Dear R users,

I just noticed that the function "dos.time" is no longer 
included with 
         _         
platform Windows   
arch     x86       
os       Win32     
system   x86, Win32
status   Release   
major    0         
minor    65.1      
year     1999      
month    October   
day      07        
language R  

What if any is the difference between "system.time" and the 
older "dos.time"?

Thanks

ALAN    

___________________________________
Alan T. Arnholt
Associate Professor
Dept. of Mathematical Sciences
Appalachian State University
Boone, NC  28608
http://www.mathsci.appstate.edu/~arnholt/
Office phone: (828) 262 - 2863
Office fax  : (828) 265 - 8617

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Tue Oct 19 16:56:03 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Tue, 19 Oct 1999 15:56:03 +0100
Subject: [R] dos.time?
In-Reply-To: <SIMEON.9910190836.A@speedy.math.appstate.edu>; from Alan T. Arnholt on Tue, Oct 19, 1999 at 08:35:36AM -0400
References: <SIMEON.9910190836.A@speedy.math.appstate.edu>
Message-ID: <19991019155603.29420@hal.stat.unipd.it>

On Tue, Oct 19, 1999 at 08:35:36AM -0400, Alan T. Arnholt wrote:
> Dear R users,
> 
> I just noticed that the function "dos.time" is no longer 
> included with 
>          _         
> platform Windows   
> 
> What if any is the difference between "system.time" and the 
> older "dos.time"?
> 

  I am not sure R has had 'dos.time' in the past.
  Anyway, the third entry of 'system.time(expr)' is equal to
  Splus 'dos.time(expr)', i.e., reports the total (elapsed) time 
  used to evaluate 'expr'.
  Note that the first and second entries (avalaible only under Unix and WinNT
  but not under Win9X) let to a better timing of 'expr', in particular
  the first one which gives the CPU time spent by the R process to evaluate
  'expr'.  

  Hoping this can help,
  guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From David.Brahm at fmr.com  Tue Oct 19 16:35:45 1999
From: David.Brahm at fmr.com (Brahm, David)
Date: Tue, 19 Oct 1999 10:35:45 -0400
Subject: [R] memory efficiency in R
Message-ID: <BDFB8C2A6273D211B73C0060B067443C5A5279@msgbos537nts.fmr.com>

Ben Bolker [mailto:ben at zoo.ufl.edu] wrote:

> I'm trying to answer a question from a student about memory use in R...

In S-Plus, memory problems from large for() loops can often be solved with
the For() function, which essentially writes out a script (one line per
iteration) and runs it through a background S process.  I don't know if R
has anything comparable.

-- David Brahm
    Fidelity Investments
    (617)563-7438
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Oct 19 17:17:41 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 19 Oct 1999 08:17:41 -0700 (PDT)
Subject: [R] memory efficiency in R
In-Reply-To: <BDFB8C2A6273D211B73C0060B067443C5A5279@msgbos537nts.fmr.com>
Message-ID: <Pine.GSO.4.10.9910190814560.27200-100000@wompom.biostat.washington.edu>

On Tue, 19 Oct 1999, Brahm, David wrote:

> Ben Bolker [mailto:ben at zoo.ufl.edu] wrote:
> 
> > I'm trying to answer a question from a student about memory use in R...
> 
> In S-Plus, memory problems from large for() loops can often be solved with
> the For() function, which essentially writes out a script (one line per
> iteration) and runs it through a background S process.  I don't know if R
> has anything comparable.

R doesn't, I think because under R's memory management system it
would make matters worse, not better (except on a multiprocessor machine).

	-thomas


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Tue Oct 19 18:33:49 1999
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 19 Oct 1999 12:33:49 -0400
Subject: [R] memory efficiency in R
References: <BDFB8C2A6273D211B73C0060B067443C5A5279@msgbos537nts.fmr.com>
Message-ID: <380C9D6D.2BFABAAD@bank-banque-canada.ca>


>> In S-Plus, memory problems from large for() loops can often be solved with
>> the For() function, which essentially writes out a script (one line per
>> iteration) and runs it through a background S process.  I don't know if R
>> has anything comparable.

>R doesn't, I think because under R's memory management system it
>would make matters worse, not better (except on a multiprocessor machine).

Just to avoid any confusion here let me add that "For" loops are not needed in R
because
memory is handled differently in "for" loops. My DSE library code needs For
loops of For
loops to run in Splus 3.3, and simple for loops work just fine in R. This is
especially nice
because for loops are A LOT easier to debug than For loops.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From goguen_ken at emc.com  Tue Oct 19 19:47:35 1999
From: goguen_ken at emc.com (goguen, ken)
Date: Tue, 19 Oct 1999 13:47:35 -0400
Subject: [R] programming api
Message-ID: <8A7271ACBE5BD311A4D50090273BF023858A6E@montana.lss.emc.com>

Is there a method for accessing R from other applications, such as S-Plus's
OLE interface?
?
-ken goguen
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/19991019/6fdea41e/attachment.html

From helgito at rhi.hi.is  Wed Oct 20 17:51:55 1999
From: helgito at rhi.hi.is (Helgi Tomasson)
Date: Wed, 20 Oct 1999 15:51:55 +0000
Subject: [R] calendar functions
Message-ID: <380DE51B.4FF95391@rhi.hi.is>

To R-people

Are there any calendar- or trading-day functions in R, e.g. that tell
you whether a certain is a tuesday etc.
If i have certaion period I would like to generate a matrix

day  1 2 3 4 5 6 7 1 2 3 4 5 6 7 etc

month  1 1  1  etc . .

yeary 1971 . . .

keeping track of that some months are 30 days some 31, leap years etc.

Helgi T?masson


Helgi Tomasson                                       FAX:  354-552-6806
University of Iceland                                PHONE:354-525-4571
Faculty of Economics and Business Administration     email:helgito at rhi.hi.is
Oddi v/ Sturlugotu
IS-101 Reykjavik
ICELAND



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From barrios at est-econ.uc3m.es  Thu Oct 21 01:50:43 1999
From: barrios at est-econ.uc3m.es (Barrios)
Date: Wed, 20 Oct 1999 18:50:43 -0500
Subject: [R] Factor Analysis and Chernoff faces
Message-ID: <199910201648.SAA13247@elrond.uc3m.es>

Hi!

I am trying to perform a factor analysis in R, but I couldn't find
it. I looked it up in several libraries, but I didn't find it either.
Could you please tell me how can I do it? 

Another query: Does anyone know if I can plot Chernoff faces?

TIA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at jimmy.harvard.edu  Wed Oct 20 19:25:42 1999
From: rgentlem at jimmy.harvard.edu (Robert Gentleman)
Date: Wed, 20 Oct 1999 13:25:42 -0400
Subject: [R] [szimeras@irisa.fr: R installation problem]
Message-ID: <19991020132542.M27601@jimmy.harvard.edu>

----- Forwarded message from Stelios Zimeras <szimeras at irisa.fr> -----

Date: Wed, 20 Oct 1999 11:35:52 +0200
From: Stelios Zimeras <szimeras at irisa.fr>
Organization: IRISA, Campus de Beaulieu, 35042 Rennes Cedex, FRANCE
X-Mailer: Mozilla 4.7 [en] (X11; I; SunOS 5.5 sun4m)
X-Accept-Language: en
To: rgentlem at stat.auckland.ac.nz
Subject: R installation problem

Dear Sir,

I try to install the R ver 65.1 to my UNIX machine. The problem that I
have is the linking between the fortran libraries. Viewing the script
file ./configure it was quite difficult to do any changes. Could you
make any suggestions about this problem?
Thank you very much for your time


Dr. Stelios Zimeras

Below  I give you the results from the ./configure running (all the
others are yes)

checking whether gcc needs -traditional... no
checking for g77... no
checking for sin in -lmoto... no
chechecking for main in -lhdf5... no
cking for main in -lncurses... no
checking for main in -ldxml... no
checking for main in -lblas_risc... no
checking for rl_callback_read_char in -lreadline... no
checking for ANSI C header files... no
checking for vfork.h... no
checking for working vfork... no
checking for __setfpucw... no
checking for dl.h... no
checking for fpu_control.h... no
checking for hdf5.h... no
checking for ieee754.h... no
checking for readline/history.h... no
checking for blkcnt_t... no
checking how to deal with shared libraries...
"/usr/openwin/lib/config/sun.cf", line 154: macro ExtraLoadOptions
redefines previous macro at "/usr/openwin/lib/config/site.def", line 64
"/usr/openwin/lib/config/site.def", line 64: macro ExtraLoadOptions
redefines previous macro at "/usr/openwin/lib/config/sun.cf", line 154
done
checking whether -R must be followed by a space... no
checking for dnet_ntoa in -ldnet... no
checking for dnet_ntoa in -ldnet_stub... no
checking for gethostbyname... no
checking for connect... no
checking for IceConnectionNumber in -lICE... no

R is now configured for sparc-sun-solaris2.5

  Source directory:         .
  Installation directory:   /usr/local
  C compiler:               gcc  -g -O2
  FORTRAN compiler:         f2c
  Gnome support:            no

and when I run the make command I have the following  (after all the
lines)

drotg.o(.text+0x170): undefined reference to `__d_sign'
*** Error code 1
make: Fatal error: Command failed for target `../../bin/R.X11'
Current working directory /udd/szimeras/rhome/R-0.65.1/src/main
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /udd/szimeras/rhome/R-0.65.1/src/main
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /udd/szimeras/rhome/R-0.65.1/src
*** Error code 1
make: Fatal error: Command failed for target `R'

Ofcourse I can run R.



----- End forwarded message -----

-- 
+-------------------------------------------------------------------------+
| Robert Gentleman              voice: (617) 632-5045                     |
| Senior Lecturer               fax:   (617) 632-2444                     |
| University of Auckland	email1: rgentlem at jimmy.harvard.edu        |
| on leave at:                                                            |
| Dana-Farber Cancer Institute  email2: rgentlem at stat.auckland.ac.nz      |
+-------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mhart at terrigal.net.au  Thu Oct 21 00:10:45 1999
From: mhart at terrigal.net.au (Michael HART)
Date: Thu, 21 Oct 1999 08:10:45 +1000
Subject: [R] STOP MESSAGE
Message-ID: <037201bf1b47$f61284e0$25f410cb@michael>

Help.  I inadvertantly sent a private email to the list.  Can someone stop
the message?

Michael Hart


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laniel at stat.cmu.edu  Thu Oct 21 06:44:54 1999
From: laniel at stat.cmu.edu (Stephen R. Laniel)
Date: Thu, 21 Oct 1999 00:44:54 -0400 (EDT)
Subject: [R] left.solve
Message-ID: <Pine.HPP.4.10.9910210036420.16114-200000@revenge.stat.cmu.edu>

I have sort of an emergency question for the list.  One of my professors
for an S-Plus intensive class distributed a function to produce partial
regression plots.  I need to run it under R, because I'm doing the
homework on my home computer with a modem; hence I don't have the speed
required to emulate X-Windows and run S Plus off one of the campus
servers.  Bottom line: I'm using R.

So I tried to run the professor's partreg.q file (attached to this
message), and received this message:

Error: couldn't find function "left.solve"

The offending code is in line 62:

Q_left.solve(R, cbind(rep(1,length(x)),x))

Second bottom line (if such a thing is possible): how do I make this code
work under R?  Is the cause hopeless?

Thanks very much for any help anyone can provide.

--Steve

Stephen R. Laniel            |    "I've got a match:
Carnegie Mellon University   |     Your embrace and my collapse."
laniel at stat.cmu.edu          |     --They Might Be Giants
-------------- next part --------------
# Partial regression (added variable) plot
# H. Seltman  9/30/99
# Creates a partial regression plot
# Reference: Hamilton, Regression with Graphics, 1992, pp. 69, 125, 142
# Argument xlst= is a character vector of names of variables included
#   in the regression OR a numeric or logical index vector identifying
#   variables in "df"  (y variable is removed if included)
# Argument yname= is the quoted name of the y variable
# Argument outname= is the covariate whose added effect is to be plotted
# Argument df= is the data.frame containing the x and y variables
# Argument main= is a title; default is a model formula
# Argument tcex= is the character size of the title
# Argument cex= is the character size of the x and y axis labels
# Argument id=T is for identification mode: left click on points
#   to have them identified, middle click when done.
# Argument proportional=T plots points as circles proportional to DFBETAS
# Argument relsize changes proportional circles relative size
# Argument res=T plots residuals instead
# Argument f=2/3, e.g. sets neighbor fraction for lowess line

partreg_function(xlst, yname, outname, df, proportional=F, relsize=1,
    main=NULL, tcex=1, cex=1, id=F, ares=F, f=NULL) {
  jnk_par("fig")
  relsize_relsize*(jnk[2]-jnk[1])*(jnk[4]-jnk[3])
  if (!is.character(xlst))
    xlst_names(df)[xlst]
  if (!is.character(yname) || !is.character(outname))
    stop("yname and outname must be in quotes")
  if (length(xlst[xlst==yname])==1)
    xlst_xlst[xlst!=yname]
  if (length(xlst[xlst==outname])!=1)
    stop(paste(outname,"is not in",paste(xlst, collapse=", ")))
  if (is.null(main)) {
    nam_xlst
    nam[nam==outname]_paste("(",outname,")",sep="")
    main_paste(yname,"~",sep="",paste(nam,collapse="+",sep=""))
  }
  xlst_xlst[xlst!=outname]
  xform_paste(xlst,collapse="+",sep="")
  if (xform=="") xform_"1"
  x_lm(formula(paste(outname,"~",xform)),df,na.action=na.omit)$res
  y_lm(formula(paste(yname,"~",xform)),df,na.action=na.omit)$res
  rslt_lm(y~x,na.action=na.omit)
  xlab_paste(outname, "on others residual")
  ylab_paste(yname, "on all but", outname, "residual")
  if (!proportional) {
    if (ares) {
      plot(rslt$fit, rslt$res)
      abline(h=0,lty=2)
      if (!is.null(f)) lines(lowess(rslt$fit,rslt$res, f=f))
    } else {
      plot(x, y, xlab=xlab, ylab=ylab, cex=cex)
      if (!is.null(f)) lines(lowess(x,y,f=f))
    }
  } else {
    lms_summary(rslt)
    e_rslt$residuals
    n_length(e)
    beta_rslt$coef
    p_length(rslt$coef)
    R_rslt$R
    Q_left.solve(R, cbind(rep(1,length(x)),x))
    h_as.vector((Q^2 %*% array(1, c(p, 1))))
    h.res_(1 - h)
    z_e/h.res
    v1_e^2
    z_t(Q * z)
    v.res_sum(v1)
    v1_(v.res - v1/h.res)/(n-p-1)
    dbeta_backsolve(R, z)
    si_sqrt(v1)
    xxi_diag(lms$cov.unscaled)
    bi_t(beta-dbeta)
    dfbetas_(t(coef(rslt)-t(bi)))/(si %o% xxi^.5)
    adfbetas_abs(dfbetas[,2])
    p1_(99/18)*adfbetas*(adfbetas+1)^2+1
    p1[adfbetas>2]_100
    symbols(x, y, circles=sqrt(p1), inches=0.2*relsize,
      xlab=xlab, ylab=ylab, cex=cex)
  }
  title(main, cex=tcex)
  if (!ares) abline(rslt)
  if (id) identify(x, y, dimnames(df)[[1]])
  rtn_list(x=x,y=y,rslt=rslt)
  if (proportional) rtn_list(x=x,y=y,rslt=rslt,dfbetas=dfbetas)
  invisible(rtn)
}





From maechler at stat.math.ethz.ch  Thu Oct 21 08:46:22 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 21 Oct 1999 08:46:22 +0200 (MET DST)
Subject: [R] STOP MESSAGE
In-Reply-To: <037201bf1b47$f61284e0$25f410cb@michael>
References: <037201bf1b47$f61284e0$25f410cb@michael>
Message-ID: <14350.46782.207050.248739@gargle.gargle.HOWL>

>>>>> On Thu, 21 Oct 1999 08:10:45 +1000, "Michael HART" <mhart at terrigal.net.au> said:

    Michael> Help.  I inadvertantly sent a private email to the list.  Can
    Michael> someone stop the message?

Fortunately, the message was too big (600 KB) 
and bounced automatically to me, the list maintainer.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Oct 21 08:59:53 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 21 Oct 1999 08:59:53 +0200 (MET DST)
Subject: [R] left.solve
In-Reply-To: <Pine.HPP.4.10.9910210036420.16114-200000@revenge.stat.cmu.edu>
References: <Pine.HPP.4.10.9910210036420.16114-200000@revenge.stat.cmu.edu>
Message-ID: <14350.47593.867393.354094@gargle.gargle.HOWL>

>>>>> "SRL" == Stephen R Laniel <laniel at stat.cmu.edu> writes:

    SRL> I have sort of an emergency question for the list.  One of my
    SRL> professors for an S-Plus intensive class distributed a function to
    SRL> produce partial regression plots.  I need to run it under R,
    SRL> because I'm doing the homework on my home computer with a modem;
    SRL> hence I don't have the speed required to emulate X-Windows and run
    SRL> S Plus off one of the campus servers.  Bottom line: I'm using R.

    SRL> So I tried to run the professor's partreg.q file (attached to this
    SRL> message), and received this message:

    SRL> Error: couldn't find function "left.solve"

    SRL> The offending code is in line 62:

    SRL> Q_left.solve(R, cbind(rep(1,length(x)),x))

    SRL> Second bottom line (if such a thing is possible): how do I make
    SRL> this code work under R?  Is the cause hopeless?

Not at all :

Splus  help on   left.solve  says

>> USAGE:
>>        left.solve(r, x)
>> 
>>        This  is  support   for   the   functions   lm.hat()   and
>>        lm.influence().   It is not intended to be called directly
>>        by users.

I.e. your professor shouldn't have used it (;-)

Then in S-plus (3.4)  

> dump("left.solve","")

"left.solve"<-
function(r, x)
{
# this should really be done using DTRSL in Linpack
	x[] <- x %*% solve(r)
	x
}

	{you could have done this over the modem line (without X11..)}

If you add the above function definition to your *.q file (or a better place)
all should work.

And yes, I don't think we'd want this function in R...



Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From manuel at upsa.es  Thu Oct 21 17:54:23 1999
From: manuel at upsa.es (Manuel)
Date: Thu, 21 Oct 1999 17:54:23 +0200
Subject: [R] problems with memory allocation
Message-ID: <380F372F.2E79AD98@upsa.es>

I hope that someone  has had a similar  trouble and  will be able to
help us :

 We , have installed the R package in a Digital Workstation  with 500Mb
of
RAM memory, running under Unix operating system. The package works  fine

but when we try to start the program with more than 120Mb, (vsize
- --120M) the
workstation refuses to  allocate this memory. The message that we get
is:
Fatal error: Could not allocate memory for vector heap.

Someone told us that the solution was an appropiate ulimit call, but
when we do ulimit -a we get only a number  1048576. We figure out that
this number
can be the data segment size.
When we do
ulimit -d unlimited
ulimit -s unlimited
ulimit -m unlimited
ulimit -v unlimited
we get the following mesage:
Requested ulimit exceed hard limit. We think that this mean that we have

no limit to
the amount of memory that can be allocated.

We have installed the same version of the program under linux (Redhat
6.0) and we
were also unable to allocate more than 120 M.

I would be very grateful if someone could let us some new advise in
order to solve the
problem.

Note: I don`t know if the R package is able to allocate more than 120M.
We need about 250 M of memory  because currently we are dealing with
problems in hight dimension.
Manuel.




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Oct 21 17:32:24 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 21 Oct 1999 08:32:24 -0700 (PDT)
Subject: [R] problems with memory allocation
In-Reply-To: <380F372F.2E79AD98@upsa.es>
Message-ID: <Pine.GSO.4.10.9910210825190.3098-100000@wompom.biostat.washington.edu>

On Thu, 21 Oct 1999, Manuel wrote:

> I hope that someone  has had a similar  trouble and  will be able to
> help us :
> 
>  We , have installed the R package in a Digital Workstation  with 500Mb
> of
> RAM memory, running under Unix operating system. The package works  fine
> 
> but when we try to start the program with more than 120Mb, (vsize
> - --120M) the
> workstation refuses to  allocate this memory. The message that we get
> is:
> Fatal error: Could not allocate memory for vector heap.
> 
> Someone told us that the solution was an appropiate ulimit call, but
> when we do ulimit -a we get only a number  1048576. We figure out that
> this number
> can be the data segment size.
> When we do
> ulimit -d unlimited
> ulimit -s unlimited
> ulimit -m unlimited
> ulimit -v unlimited
> we get the following mesage:
> Requested ulimit exceed hard limit. We think that this mean that we have
> 
> no limit to
> the amount of memory that can be allocated.
> 
> We have installed the same version of the program under linux (Redhat
> 6.0) and we
> were also unable to allocate more than 120 M.
> 
> I would be very grateful if someone could let us some new advise in
> order to solve the
> problem.
> 
> Note: I don`t know if the R package is able to allocate more than 120M.
> We need about 250 M of memory  because currently we are dealing with
> problems in hight dimension.


I have no problem allocating --vsize 250M using R0.65.1 on either Debian
GNU/Linux or Solaris 2.7.  In fact, I can allocate --vsize 1000M under
Solaris, which is substantially larger than physical memory
  wompom% ~/Rarchive/R --vsize 1000M
then
  R> gc()
              free     total
  Ncells    128269    250000
  Vcells 131024950 131072000



Thomas Lumley 
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ray.Brownrigg at mcs.vuw.ac.nz  Thu Oct 21 23:36:58 1999
From: Ray.Brownrigg at mcs.vuw.ac.nz (Ray Brownrigg)
Date: Fri, 22 Oct 1999 10:36:58 +1300 (NZDT)
Subject: [R] problems with memory allocation
Message-ID: <199910212136.KAA21654@aqua.mcs.vuw.ac.nz>

> I hope that someone  has had a similar  trouble and  will be able to
> help us :
> 
> workstation refuses to  allocate this memory. The message that we get
> is:
> Fatal error: Could not allocate memory for vector heap.
> 
Strangely enough I just ran into this myself today. What it mans is that
the system you are running on does not have enough (free) swap space -
i.e. virtual memory.

You could check this using the top utility.

Ray Brownrigg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlapsley at ndirect.co.uk  Fri Oct 22 01:53:21 1999
From: mlapsley at ndirect.co.uk (Michael Lapsley)
Date: Fri, 22 Oct 1999 00:53:21 +0100 (BST)
Subject: on-line documentation (was [R] AR models)
In-Reply-To: <Pine.GSO.4.05.9909011041350.9530-100000@auk.stats>
Message-ID: <XFMail.991022005321.mlapsley@ndirect.co.uk>

I am just having a look at Spoetry:  a 400 odd page book on S
available as a pdf.  At a cursory glance it looks pretty good,
although it is very S+ orientated.  Probably worth the money...

It'll keep me going until Prof Ripley's book is available at least.

I can not remember exactly what the url is but the trail is
CRAN->statlib->HMISC (.edu somewhere)->resources->spoetry

If you cannot find it I'll have another look

Michael

On 01-Sep-99 Prof Brian D Ripley wrote:
> On Wed, 1 Sep 1999, Michael HART wrote:
> 
> [...]
> 
>> BTW.  I have had a bit of a search around the varios R and S sites for a
>> document providing a definition of S and how it works.  Is there anyone who
>> knows of a site with a good description of the language or is it necessary
>> to purchase a book?
> 
> I think that depends on the level of description you want. There is
> Rnotes, based on the Venables-Smith Snotes (see the CRAN top level).
> Beyond that I think you do need a book, and at a certain point you will
> find only information on S, but that is being worked on.
> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _
> 

----------------------------------
E-Mail: Michael Lapsley <mlapsley at ndirect.co.uk>
Date: 22-Oct-99
Time: 00:47:00

This message was sent by XFMail
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Glenn.Stone at cmis.csiro.au  Fri Oct 22 04:32:35 1999
From: Glenn.Stone at cmis.csiro.au (Glenn Stone)
Date: Fri, 22 Oct 1999 12:32:35 +1000 (EST)
Subject: [R] problems with memory allocation
In-Reply-To: <978087477@toto.iv>
Message-ID: <14351.52419.117864.668948@lidcombe.nsw.cmis.csiro.au>


Hi,

We had some problems (not with R) on a DEC Alpha 4100, that has 2Gb of 
ram. It turned out that some hard limits were set that restricted the
amount of actual (and virtual) memory a process could address. (You
can use limit and limit -h to check all these in csh or tcsh).

Im assuming you are using digital unix?

In the end we needed to rebuild a kernel with some increased
parameters. 

The parameters we changed in the kernel config file were maxdsiz and
maxvas (and mapentries for other reasons). This may or may not solve
your problems! If anyone knows how to do this without rebuilding a
kernel Id love to know.....

Glenn


>>>>> "Manuel" == Manuel  <manuel at upsa.es> writes:

    Manuel> I hope that someone has had a similar trouble and will be
    Manuel> able to help us :

    Manuel>  We , have installed the R package in a Digital
    Manuel>  Workstation with 500Mb
    Manuel> of RAM memory, running under Unix operating system. The
    Manuel> package works fine

    Manuel> but when we try to start the program with more than 120Mb,
    Manuel> (vsize
    Manuel> - - --120M) the
    Manuel> workstation refuses to allocate this memory. The message
    Manuel> that we get is: Fatal error: Could not allocate memory for
    Manuel> vector heap.

    Manuel> Someone told us that the solution was an appropiate ulimit
    Manuel> call, but when we do ulimit -a we get only a number
    Manuel> 1048576. We figure out that this number can be the data
    Manuel> segment size.  When we do ulimit -d unlimited ulimit -s
    Manuel> unlimited ulimit -m unlimited ulimit -v unlimited we get
    Manuel> the following mesage: Requested ulimit exceed hard
    Manuel> limit. We think that this mean that we have

    Manuel> no limit to the amount of memory that can be allocated.

    Manuel> We have installed the same version of the program under
    Manuel> linux (Redhat 6.0) and we were also unable to allocate
    Manuel> more than 120 M.

    Manuel> I would be very grateful if someone could let us some new
    Manuel> advise in order to solve the problem.

    Manuel> Note: I don`t know if the R package is able to allocate
    Manuel> more than 120M.  We need about 250 M of memory because
    Manuel> currently we are dealing with problems in hight dimension.
    Manuel> Manuel.



-- 
 Glenn Stone
 Analysis of Large and Complex Datasets
 CSIRO, Locked Bag 17, North Ryde, NSW 2113
 Phone:+61 2 9325 3216, Fax:+61 2 9325 3200
 Glenn.Stone at cmis.csiro.au,  http://www.nsw.cmis.CSIRO.AU/~gstone
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Fri Oct 22 09:43:30 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Fri, 22 Oct 1999 09:43:30 +0200 (MET DST)
Subject: [R] factors in glm
Message-ID: <199910220743.JAA00047@alpha.luc.ac.be>

Is there any logical reason why glm prints out the labels of factor
levels after variable names when baseline contrasts (contr.treatment)
are used but the codes for the levels when mean contrasts (contr.sum)
are used? Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at telecomplus.sn  Fri Oct 22 09:02:36 1999
From: lancelot at telecomplus.sn (Renaud Lancelot)
Date: Fri, 22 Oct 1999 08:02:36 +0100
Subject: on-line documentation (was [R] AR models)
References: <XFMail.991022005321.mlapsley@ndirect.co.uk>
Message-ID: <38100C0C.B44437EE@telecomplus.sn>

Michael Lapsley wrote:
> 
> I am just having a look at Spoetry:  a 400 odd page book on S
> available as a pdf.  At a cursory glance it looks pretty good,
> although it is very S+ orientated.  Probably worth the money...
> 
> It'll keep me going until Prof Ripley's book is available at least.
> 
> I can not remember exactly what the url is but the trail is
> CRAN->statlib->HMISC (.edu somewhere)->resources->spoetry

http://www.seanet.com/~pburns/Spoetry/


-- 
Renaud Lancelot
ISRA-LNERV
BP 2057 Dakar-Hann
Senegal

tel 	(221) 832 49 02
fax 	(221) 821 18 79
email	renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ian at stams.strath.ac.uk  Fri Oct 22 10:48:45 1999
From: ian at stams.strath.ac.uk (Ian Thurlbeck)
Date: Fri, 22 Oct 1999 09:48:45 +0100
Subject: [R] problems with memory allocation
In-Reply-To: <380F372F.2E79AD98@upsa.es>
References: <380F372F.2E79AD98@upsa.es>
Message-ID: <99102209511802.00731@ida>

On Thu, 21 Oct 1999, you wrote:
> I hope that someone  has had a similar  trouble and  will be able to
> help us :
> 
>  We , have installed the R package in a Digital Workstation  with 500Mb
> of
> RAM memory, running under Unix operating system. The package works  fine
> 
> but when we try to start the program with more than 120Mb, (vsize
> - --120M) the
> workstation refuses to  allocate this memory. The message that we get
> is:
> Fatal error: Could not allocate memory for vector heap.
> 

Manuel

you could try re-setting (read: raise into the stratosphere) the hard
limits in the kernel:

1. Create 2 files, vm.stanza, proc.stanza:
-----vm.stanza ------
vm:
       ubc-maxpercent=80
       ubc-borrowpercent = 10
       vm-maxwire = 104857600
       vm-maxvas = 2134217728
       vm-vpagemax = 16000
       vm-syswiredpercent = 90  

-----end ------

-----proc.stanza--------
proc:
       per-proc-stack-size = 222097152
       max-per-proc-stack-size = 222097152
       per-proc-data-size = 1134217728
       max-per-proc-data-size = 2134217728
       max-per-proc-address-space = 2134217728
       per-proc-address-space = 2134217728 
-----end-------------

2. Load these into the /etc/sysconfigtab file and the in-core memory copy with:

# sysconfigdb -a -f vm.stanza vm
# sysconfigdb -a -f proc.stanza proc
# reboot

If you already have a vm: or proc: section in /etc/sysconfigtab then replace
the -a flag with -u, see the sysconfigdb man page.

Make sure you have /sbin/swapdefault pointing to your /dev/rz0b swap
partition, otherwise strange things may happen :)

Hope this helps

Ian
--
Ian Thurlbeck                http://www.stams.strath.ac.uk/
Statistics and Modelling Science, University of Strathclyde
Livingstone Tower, 26 Richmond Street, Glasgow, UK,  G1 1XH
Tel: +44 (0)141 548 3667           Fax: +44 (0)141 552 2079
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Oct 22 11:57:14 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Oct 1999 11:57:14 +0200
Subject: [R] factors in glm
In-Reply-To: Jim Lindsey's message of "Fri, 22 Oct 1999 09:43:30 +0200 (MET DST)"
References: <199910220743.JAA00047@alpha.luc.ac.be>
Message-ID: <x2zoxb67lx.fsf@blueberry.kubism.ku.dk>

Jim Lindsey <jlindsey at alpha.luc.ac.be> writes:

> Is there any logical reason why glm prints out the labels of factor
> levels after variable names when baseline contrasts (contr.treatment)
> are used but the codes for the levels when mean contrasts (contr.sum)
> are used? Jim

Hmmm. We have in contr.sum

        cont <- array(0, c(lenglev, lenglev - 1), list(levels, 
            NULL))
        cont[col(cont) == row(cont)] <- 1
        cont[lenglev, ] <- -1

I'd put list(level,levels[-lenglev]) there, but someone seems to have
decided that it wouldn't make sense? (I would also have coded the
value as rbind(diag(lenglev-1),-1), but that's another matter).

In the case of Helmert contrasts, one would by similar logic end up
with the same names as for contr.treatment, which would be confusing
(as if Helmert contrasts weren't confusing enough...!). Of course, you
currently cannot tell the difference between .sum and .helmert - you
only get a signal that something is "unusual".

What I'd really want is a way of labeling the summary() output with
the kind of contrast used. Ideally, in my mind, summary.(g)lm should
produce output like (for an age x sex interaction with age using
contr.sum and sex using contr.treat)

age(S).sex(T)
  0-40.M
  41-50.M
  51-60.M
  

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Fri Oct 22 14:04:24 1999
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Fri, 22 Oct 1999 08:04:24 -0400
Subject: on-line documentation (was [R] AR models)
Message-ID: <OF1E45F410.D7AE0D2A-ON85256812.0041EA9A@hgsi.com>


Spoetry is a book on S+ by Patrick Burns available on the net at
http://www.seanet.com/~pburns/Spoetry/Spoetry.pdf
Its about 439 pages with 16 chapters. You can read all about it at
http://www.seanet.com/~pburns/Spoetry/




                                                                                                                         
                    Michael Lapsley                                                                                      
                    <mlapsley at ndirect.co        To:     r-Help List <r-help at stat.math.ethz.ch>                           
                    .uk>                        cc:     Michael HART <mhart at terrigal.net.au>                             
                    Sent by:                    Subject:     Re: on-line documentation (was [R] AR models)               
                    owner-r-help at stat.ma                                                                                 
                    th.ethz.ch                                                                                           
                                                                                                                         
                                                                                                                         
                    10/21/1999 07:53 PM                                                                                  
                                                                                                                         
                                                                                                                         



I am just having a look at Spoetry:  a 400 odd page book on S
available as a pdf.  At a cursory glance it looks pretty good,
although it is very S+ orientated.  Probably worth the money...

It'll keep me going until Prof Ripley's book is available at least.

I can not remember exactly what the url is but the trail is
CRAN->statlib->HMISC (.edu somewhere)->resources->spoetry

If you cannot find it I'll have another look

Michael

On 01-Sep-99 Prof Brian D Ripley wrote:
> On Wed, 1 Sep 1999, Michael HART wrote:
>
> [...]
>
>> BTW.  I have had a bit of a search around the varios R and S sites for a
>> document providing a definition of S and how it works.  Is there anyone
who
>> knows of a site with a good description of the language or is it
necessary
>> to purchase a book?
>
> I think that depends on the level of description you want. There is
> Rnotes, based on the Venables-Smith Snotes (see the CRAN top level).
> Beyond that I think you do need a book, and at a certain point you will
> find only information on S, but that is being worked on.
>
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.
> -
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._.
> _
>

----------------------------------
E-Mail: Michael Lapsley <mlapsley at ndirect.co.uk>
Date: 22-Oct-99
Time: 00:47:00

This message was sent by XFMail
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From R.E.Darnell at newcastle.ac.uk  Fri Oct 22 14:24:37 1999
From: R.E.Darnell at newcastle.ac.uk (R.E. Darnell)
Date: 22 Oct 1999 13:24:37 +0100
Subject: [R] Binomial Reponses
In-Reply-To: Peter Dalgaard BSA's message of "22 Oct 1999 11:57:14 +0200"
References: <199910220743.JAA00047@alpha.luc.ac.be> <x2zoxb67lx.fsf@blueberry.kubism.ku.dk>
Message-ID: <dgkd7u7inwa.fsf_-_@scs2.ncl.ac.uk>

I understand that there are two ways to define the response  for 
binomial case in R(S). 
1) As a vector of p's for which the number of trials is assumed
   to be 1
2) As a 2 column matrix, the first being the number of sucesses, the 
second being the number of failures.

Before the weighted least squares function is used, the prior weights
need to be generated as well as the numer of success converted to a
proportion.

Two questions I have concern the 2nd case.

Does the model.response function convert the number of successes
 into a propn? I couldn't see that it did.

and  how is the denominator  included as a (prior) weight?

I would appreciate any help with these questions.

Thanks
Ross Darnell


-- 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Oct 22 15:12:00 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Oct 1999 15:12:00 +0200
Subject: [R] Binomial Reponses
In-Reply-To: R.E.Darnell@newcastle.ac.uk's message of "22 Oct 1999 13:24:37 +0100"
References: <199910220743.JAA00047@alpha.luc.ac.be> <x2zoxb67lx.fsf@blueberry.kubism.ku.dk> <dgkd7u7inwa.fsf_-_@scs2.ncl.ac.uk>
Message-ID: <x2u2nj5ylb.fsf@blueberry.kubism.ku.dk>

R.E.Darnell at newcastle.ac.uk (R.E. Darnell) writes:

> I understand that there are two ways to define the response  for 
> binomial case in R(S). 
> 1) As a vector of p's for which the number of trials is assumed
>    to be 1
> 2) As a 2 column matrix, the first being the number of sucesses, the 
> second being the number of failures.

3) as a vector of p's, the number of trials given in the weights=
   argument 

> Two questions I have concern the 2nd case.
> 
> Does the model.response function convert the number of successes
>  into a propn? I couldn't see that it did.

Nope. That's not it's job. It just pulls out the relevant bits of the
model frame.
 
> and  how is the denominator  included as a (prior) weight?

Have a look at the initialize expression as defined in binomial().

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From warnes at biostat.washington.edu  Fri Oct 22 19:29:09 1999
From: warnes at biostat.washington.edu (Gregory R. Warnes)
Date: Fri, 22 Oct 1999 10:29:09 -0700 (PDT)
Subject: [R] par(uin)
Message-ID: <Pine.LNX.4.04.9904071002550.27773-100000@localhost>


Hi,

I've been trying to use several plotting routings that make use of
S's par("uin"), the number of user units per inch.  For the moment I've
substituted all of the occurences of this with

   par.uin _ function() 
       (par("fin") / c( diff(par("xaxp")[1:2]),diff(par("yaxp")[1:2])))

This seems to work fine for my needs.  

-Greg











-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Sat Oct 23 02:46:59 1999
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Sat, 23 Oct 1999 10:46:59 +1000 (EST)
Subject: [R] factors in glm
Message-ID: <199910230046.KAA12661@leonard.anu.edu.au>

Peter Dalgaard wrote:

> Jim Lindsey <jlindsey at alpha.luc.ac.be> writes:
> 
> > Is there any logical reason why glm prints out the labels of factor
> > levels after variable names when baseline contrasts (contr.treatment)
> > are used but the codes for the levels when mean contrasts (contr.sum)
> > are used? Jim
> 
> Hmmm. We have in contr.sum
> 
>         cont <- array(0, c(lenglev, lenglev - 1), list(levels, 
>             NULL))
>         cont[col(cont) == row(cont)] <- 1
>         cont[lenglev, ] <- -1
> 
> I'd put list(level,levels[-lenglev]) there, but someone seems to have
> decided that it wouldn't make sense? (I would also have coded the
> value as rbind(diag(lenglev-1),-1), but that's another matter).
> 
> In the case of Helmert contrasts, one would by similar logic end up
> with the same names as for contr.treatment, which would be confusing
> (as if Helmert contrasts weren't confusing enough...!). Of course, you
> currently cannot tell the difference between .sum and .helmert - you
> only get a signal that something is "unusual".

I am not quite sure of the import of "similar logic".  For the Helmert
contrasts the levels are contrasted with a changing baseline, if that
is the way one wants to think about them.  So short of some such
scheme as 2-1, 3-12, 4-123, attaching level labels surely does not
make sense.

Treatment contrasts surely should be labeled with the level name. 

> What I'd really want is a way of labeling the summary() output with
> the kind of contrast used. Ideally, in my mind, summary.(g)lm should
> produce output like (for an age x sex interaction with age using
> contr.sum and sex using contr.treat)
> 
> age(S).sex(T)
>   0-40.M
>   41-50.M
>   51-60.M

I would support that.  Some such form of documentation should be
automatic, not reliant on the user to remember to note down each
time what contrasts were used.

An options setting migh allow different alternative forms of 
labelling.

John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rdiazuri at students.wisc.edu  Sat Oct 23 21:49:01 1999
From: rdiazuri at students.wisc.edu (ramon diaz-uriarte)
Date: Sat, 23 Oct 1999 14:49:01 -0500
Subject: [R] greek letters and deparsing in title
Message-ID: <99102314595800.01319@ligarto.serpiente>

Dear All,

In the title of a plot, I would like to mix greek letters with numbers, where
the numbers are obtained from a particular function to a vector (e.g., max(x));
in each call, the value of this vector can change.

Without greek symbols I use something like:
title(sub=paste("x1=", deparse(x[1]),"beta = ",deparse(max(x)), "rho = ",
deparse(min(x)))) 

but I'd like beta and rho to show up as greek letters.

I have tried several combinations of "expression", "paste", "plain", and looked
at the help for legend, text, and title, but I am not able to get it to work.

Thank you,

Ramon
--
Ramon Diaz-Uriarte
Dept. Zoology and Statistics
University of Wisconsin-Madison
Madison, WI 53706

email: rdiazuri at students.wisc.edu
phone: 608-238-8041
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Sat Oct 23 22:10:27 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Sat, 23 Oct 1999 13:10:27 -0700 (PDT)
Subject: [R] greek letters and deparsing in title
In-Reply-To: <99102314595800.01319@ligarto.serpiente>
Message-ID: <Pine.GSO.4.10.9910231309420.20477-100000@wompom.biostat.washington.edu>

On Sat, 23 Oct 1999, ramon diaz-uriarte wrote:

> Dear All,
> 
> In the title of a plot, I would like to mix greek letters with numbers, where
> the numbers are obtained from a particular function to a vector (e.g., max(x));
> in each call, the value of this vector can change.
> 
> Without greek symbols I use something like:
> title(sub=paste("x1=", deparse(x[1]),"beta = ",deparse(max(x)), "rho = ",
> deparse(min(x)))) 
> 
> but I'd like beta and rho to show up as greek letters.


Try eg
R> x<-rnorm(100)
R> plot(x,main=substitute(beta==t,list(t=max(x))))


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laniel at cmu.edu  Mon Oct 25 08:55:49 1999
From: laniel at cmu.edu (Stephen R. Laniel)
Date: Mon, 25 Oct 1999 02:55:49 -0400 (EDT)
Subject: [R] locator()
In-Reply-To: <Pine.GSO.4.10.9910231309420.20477-100000@wompom.biostat.washington.edu>
Message-ID: <Pine.SOL.3.96L.991025024923.18454A-200000@unix5.andrew.cmu.edu>

Hello,

I'm trying to write a command that places the legend for a graph wherever
I click the mouse.  So I tried

legend( locator(1), c("label 1", "label 2", "label 3"), lty=c(1,2,0),
pch=c("  C"))

I ran the command, and it paused until it received a mouseclick.  But when
I clicked well within the graphics window, I got this:

``Error: non-numeric coordinates"

Any idea why I'd get that?  I clicked on a valid part of the graphics
window.  I'm clearly missing something, but I'm not sure what.  I've
attached the full list of commands for this particular script, just in
case the secret lies therein.

Thanks for any help anyone can provide.

--Steve

Stephen R. Laniel            |    "I've got a match:
Carnegie Mellon University   |     Your embrace and my collapse."
laniel at cmu.edu               |     --They Might Be Giants
-------------- next part --------------
# Regress d on latitude and latitude^2
logreg_lm( CMPGlog ~ Minprice + EngSize + EngRPM + FuelCap + Wheelbase
+ Weight + Domestic + Civic, data = cars )

# Coefficients from regression logreg
cf_logreg$coefficients

# Foreign non-Civic x values
xf_seq( min( cars[cars$Domestic==0 & cars$Civic==0, "Weight"] ),
max( cars[cars$Domestic==0 & cars$Civic==0, "Weight"] ), len=100 )

# Domestic x values
xd_seq( min( cars[ cars$Domestic==1, "Weight" ] ),
max( cars[ cars$Domestic==1, "Weight" ] ), len=100 )

# Predicted y values for foreign non-Civic cars
# Here Civic = 0 and Domestic = 0, so we include no terms for
# those variables
yf_(
exp( cf[1]
+ ( cf[2] * median(cars$Minprice) )
+ ( cf[3] * median(cars$EngSize) )
+ ( cf[4] * median(cars$EngRPM) )
+ ( cf[5] * median(cars$FuelCap) )
+ ( cf[6] * median(cars$Wheelbase) )
+ ( cf[7] * xf ) ) )

# Predicted y values for domestic cars
# Here Civic = 0 and Domestic = 1, so there is no term for the
# Civic variable
yd_(
exp(  (cf[1] + cf[8])
+ ( cf[2] * median(cars$Minprice) )
+ ( cf[3] * median(cars$EngSize) )
+ ( cf[4] * median(cars$EngRPM) )
+ ( cf[5] * median(cars$FuelCap) )
+ ( cf[6] * median(cars$Wheelbase) )
+ ( cf[7] * xd ) ) )

# x- and y-coordinates for the cars plot -- here the x-coordinate
# is the Civic's Weight, and the y-coordinate is its CMPGlog

cx_cars[cars$Model=="Civic","Weight"]
cy_cars[cars$Model=="Civic","CMPGlog"]

plot( range(xd, xf, cx), range(yd, yf, cy), type="n" )
lines( xf, yf, lty=1)
lines( xd, yd, lty=2)
points( cx, cy, pch="C" )
abline( v=quantile( cars[cars$Domestic==0 & cars$Civic==0, "Weight"],
c(0.1, 0.9) ), lty=1)

# 10th and 90th percentiles for 
abline( v=quantile( cars[cars$Domestic==1, "Weight"],
c(0.1, 0.9) ), lty=2)
legend( locator(1), c("label 1", "label 2", "label 3"), lty=c(1,2,0),
pch=c("  C"))

From p.dalgaard at biostat.ku.dk  Mon Oct 25 09:26:42 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Oct 1999 09:26:42 +0200
Subject: [R] locator()
In-Reply-To: "Stephen R. Laniel"'s message of "Mon, 25 Oct 1999 02:55:49 -0400 (EDT)"
References: <Pine.SOL.3.96L.991025024923.18454A-200000@unix5.andrew.cmu.edu>
Message-ID: <x2hfjfhpe5.fsf@blueberry.kubism.ku.dk>

"Stephen R. Laniel" <laniel at cmu.edu> writes:

> I'm trying to write a command that places the legend for a graph wherever
> I click the mouse.  So I tried
> 
> legend( locator(1), c("label 1", "label 2", "label 3"), lty=c(1,2,0),
> pch=c("  C"))
> 
> I ran the command, and it paused until it received a mouseclick.  But when
> I clicked well within the graphics window, I got this:
> 
> ``Error: non-numeric coordinates"

It is taking your labels for the y coordinate, try legend=c(etc...) 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Adrian.Trapletti at wu-wien.ac.at  Mon Oct 25 10:51:50 1999
From: Adrian.Trapletti at wu-wien.ac.at (Adrian Trapletti)
Date: Mon, 25 Oct 1999 08:51:50 +0000
Subject: [R] GARCH models available
Message-ID: <38141A26.A4094946@wu-wien.ac.at>

tseries_0.3-0 at CRAN now contains the following new features:

NelPlo                   Nelson-Plosser Macroeconomic Time Series
garch                    Fit GARCH Models to Time Series
get.hist.quote           Download Historical Finance Data
jarque.bera.test         Jarque-Bera Test
na.remove                NA Handling Routines for Time Series

garch contains a GARCH estimation routine together with some of the
usual methods (print, plot, summary etc.). I plan to further implement a
simulate.garch() and to extend predict.garch() for multi-step forecasts.

For those who like to play with stock market data, get.hist.quote()
allows to download yahoo-finance data directly over the www into R time
series.

Testing, suggestions, and comments are welcome!

Adrian

--
Adrian Trapletti, Vienna University of Economics and Business
Administration, Augasse 2-6, A-1090 Vienna, Austria
Phone: ++43 1 31336 4561, Fax: ++43 1 31336 708,
Email: adrian.trapletti at wu-wien.ac.at



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Mon Oct 25 13:14:44 1999
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Mon, 25 Oct 1999 21:14:44 +1000
Subject: [R] Citing R
Message-ID: <38143BA3.4677E563@ozemail.com.au>

I know that this general question has been asked before, but I have
encountered a picky reviewer.  In the 'standard' reference for R:

R. Gentleman and R. Ihaka (1997). "The R language", In Proceedings of
the 28th Symposium on the Interface, L. Billard and N. Fisher Eds. The
Interface Foundation of North America.

is there a geographical location for the publisher and perhaps
pagination?  Or is this an electronic document?
Thanks

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From twestley at buffalo.veridian.com  Mon Oct 25 16:52:53 1999
From: twestley at buffalo.veridian.com (Terry Westley)
Date: Mon, 25 Oct 1999 10:52:53 -0400
Subject: [R] errors terminating script
Message-ID: <NDBBJPJEPMDADGHILPFJMEBFCCAA.twestley@buffalo.veridian.com>

When running R in batch mode, I would like to detect certain
errors and prevent them from terminating the script.

Specifically, when I read in a file with read.table() and the
file is empty, the script terminates.  There are occasions
when an empty file is OK, so I'd like to continue running.

How can I catch such errors?

--
Terry J. Westley, Software Systems Engineering Supervisor
Veridian Engineering, Calspan Operations
P.O. Box 400, Buffalo, NY 14225
twestley at buffalo.veridian.com    http://www.veridian.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Oct 25 16:58:06 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 25 Oct 1999 16:58:06 +0200 (MET DST)
Subject: [R] par(uin)
In-Reply-To: <Pine.LNX.4.04.9904071002550.27773-100000@localhost>
References: <Pine.LNX.4.04.9904071002550.27773-100000@localhost>
Message-ID: <14356.28670.737714.436481@gargle.gargle.HOWL>

>>>>> On Fri, 22 Oct 1999 10:29:09 -0700 (PDT), "Gregory R. Warnes" <warnes at biostat.washington.edu> said:

    Greg> I've been trying to use several plotting routings that make use
    Greg> of S's par("uin"), the number of user units per inch.  For the
    Greg> moment I've substituted all of the occurences of this with

    Greg>    par.uin _ function() 
    Greg> 	(par("fin") / c(diff(par("xaxp")[1:2]),diff(par("yaxp")[1:2])))

    Greg> This seems to work fine for my needs.

Thank you Greg!

Well, your solution certainly is sub-optimal, since  the ?axp parameters
really give coordinates of outermost axis labels, instead of the plotting
region, and "fin" is the figure's not the plot's region;
i.e. rather, you'd use

  par.uin <- function() 
      par("pin") / {u <- par("usr"); c(diff(u[1:2]), diff(u[3:4]))}

BTW: "uin" gives  ``inches per usr unit'' (not the reverse as you suggest).

Should `R' provide "uin" (as read-only) par() ?

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jimrc at gauss.math.montana.edu  Mon Oct 25 19:33:34 1999
From: jimrc at gauss.math.montana.edu (Jim Robison-Cox)
Date: Mon, 25 Oct 1999 11:33:34 -0600 (MDT)
Subject: [R] Linking to html help from outside R
Message-ID: <Pine.GSO.4.02.9910251110180.13318-100000@gauss.math.montana.edu>

Dear R-help-ers

   (Currently running Version 0.65.1 Release (October 07, 1999) on Solaris
     2.6)

  My problem has to do with updates of the R language.  When I install a
new version, I would like to just change one directive, or a soft link to
the current doc/html/ directory, to update a bookmark I have pointing to 
the current R doumentation directory.  I've tried building a soft link:

current_html_link -> /opt/local/R/R-0.65.1/doc/html

and pointing my browser there with:

file:/opt/local/R/current_html_link/index.html

but I then have to redefine the relative path links in
/doc/html/functions.html and /doc/html/packages.html, which breaks the
search mechanism. (doc/html/search/SearchEngine.html)

The goal is to not have to change my bookmarks and links on other pages (I
have an R tutorial page for students) at every update, just to change a
central pointer to the proper html directory.

  Has anyone else run into this problem and found a work around?

  Perhaps a better way to structure the R tree of subdirectories for
multiple versions of R?

Jim

Jim Robison-Cox               ____________    
Department of Math Sciences  |            |       phone: (406)994-5340
2-214 Wilson Hall             \   BZN, MT |       FAX:   (406)994-1789
Montana State University       |  *_______|
Bozeman, MT 59717-2400          \_|      e-mail: jimrc at math.montana.edu 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Oct 25 19:54:01 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Oct 1999 19:54:01 +0200
Subject: [R] Linking to html help from outside R
In-Reply-To: Jim Robison-Cox's message of "Mon, 25 Oct 1999 11:33:34 -0600 (MDT)"
References: <Pine.GSO.4.02.9910251110180.13318-100000@gauss.math.montana.edu>
Message-ID: <x2ln8rjphi.fsf@blueberry.kubism.ku.dk>

Jim Robison-Cox <jimrc at gauss.math.montana.edu> writes:

> Dear R-help-ers
> 
>    (Currently running Version 0.65.1 Release (October 07, 1999) on Solaris
>      2.6)
> 
>   My problem has to do with updates of the R language.  When I install a
> new version, I would like to just change one directive, or a soft link to
> the current doc/html/ directory, to update a bookmark I have pointing to 
> the current R doumentation directory.  I've tried building a soft link:
> 
> current_html_link -> /opt/local/R/R-0.65.1/doc/html
> 
> and pointing my browser there with:
> 
> file:/opt/local/R/current_html_link/index.html
> 
> but I then have to redefine the relative path links in
> /doc/html/functions.html and /doc/html/packages.html, which breaks the
> search mechanism. (doc/html/search/SearchEngine.html)

How about current-R -> /opt/local/R/R-0.65.1

and file:/opt/local/current-R/doc/html/index.html

Seems to work for me...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From twestley at buffalo.veridian.com  Mon Oct 25 20:01:33 1999
From: twestley at buffalo.veridian.com (Terry Westley)
Date: Mon, 25 Oct 1999 14:01:33 -0400
Subject: [R] need help with building R on Solaris without using shared FORTRAN libraries
Message-ID: <NDBBJPJEPMDADGHILPFJCEBHCCAA.twestley@buffalo.veridian.com>

I need to build R (we're currently at R version 0.64.0) for
Solaris 2.5.1 on SunSPARC without using the libF77.so and
libsunmath.so shared libraries. I'd like to use statically
linked libraries instead.

Nothing I have tried has worked as measured by executing
the command "ldd R.binary" to see whether it references
the shared libraries or not.

This is what I've tried:

1) Modified config.site to uncomment the FPICFLAGS line
   and set the flag to the following variations:

   FPICFLAGS=
   FPICFLAGS=""
   FPICFLAGS=" "

2) Set FPICFLAGS as an environment variable before running configure.

3) Modified all Makefiles (after configure) to remove references to -PIC.
   This builds OK but still shows that R.binary is referencing those
   shared libraries.

4) Modified R.binary link command in src/main/Makefile to link with
   libF77.a and libsunmath.a.  R.binary still wants to use those
   shared libraries.  Could this be built into f77?

Help !!!

--
Terry J. Westley, Software Systems Engineering Supervisor
Veridian Engineering, Calspan Operations
P.O. Box 400, Buffalo, NY 14225
twestley at buffalo.veridian.com    http://www.veridian.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jens.oehlschlaegel-akiyoshi at mdfactory.de  Mon Oct 25 20:08:22 1999
From: jens.oehlschlaegel-akiyoshi at mdfactory.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel-Akiyoshi?=)
Date: Mon, 25 Oct 1999 20:08:22 +0200
Subject: [R] make.socket() fails under Windows NT (2nd)
Message-ID: <000301bf1f13$ed57d7e0$a9021aac@joelschlaegel>



Some days ago I asked for help because make.socket() failed under WinNT
(RW-0.64.2).

Thanks to Brian D. Ripley and Thomas Lumley, I learned that there was a
problem with pre-compiler flags, and that RW-0.65.1 will probably work
better. Indeed, now I have no problems creating a (client) socket.

However, if I try to connect an R-process using a client-socket to another
R-process providing a Server-Socket (with option server = TRUE) then I get
the following error message:

  Error: Object "socket" not found

which did not happen under linux. Any ideas what I am doing wrong?



--
Dr. Jens Oehlschl?gel-Akiyoshi
MD FACTORY GmbH
Bayerstrasse 21

80335 M?nchen

Tel.: 089 545 28-27
Fax.: 089 545 28-10
http://www.mdfactory.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jens.oehlschlaegel-akiyoshi at mdfactory.de  Mon Oct 25 20:09:57 1999
From: jens.oehlschlaegel-akiyoshi at mdfactory.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel-Akiyoshi?=)
Date: Mon, 25 Oct 1999 20:09:57 +0200
Subject: [R] Summary: SQL-Interface
Message-ID: <000401bf1f14$25d70a00$a9021aac@joelschlaegel>



Some days ago I asked for general methods to access SQL-Databases.

Thanks to:
Terry Westley [twestley at buffalo.veridian.com], partha_bagchi at hgsi.com,
F.Tusell [etptupaf at bs.ehu.es], Michael Lapsley [mlapsley at ndirect.co.uk],
Robert Gentleman [rgentlem at jimmy.harvard.edu], Torsten Hothorn
[hothorn at statistik.uni-dortmund.de]

Several solutions were suggested:

(1) using Michael Lapsley's ODBC interface
    which seems now available for Unix,
    see www.ndirect.co.uk/~mlapsley as RODBC-0.1a.[tgz | zip]
    BTW, does anyone plan to port it to Windows?

(2) using ANSI dynamic SQL and the .C-Interface
    (and a proprietary pre-compiler, as I understand)
     see e.g. http://dan.emsphone.com/oracle/server.815/a68022/sqlansi.htm
     or http://www.cs.yorku.ca/~seela/db2/db2u0/db2u010.htm#HDRCOMPSQL

(3) directly using proprietary C-functions with the .C-Interface

(4) waiting for the .Java interface and using JDBC

(5) use the contributed package RmSQL from CRAN to access the freely
available mSQL
    (close to commercial MySQL)

(6) use an intermediate "glue" language such as Tcl (see
http://www.scriptics.com/),
    which is expected to work for Oracle (oratcl) and Sybase,
    but not for DB2 or MS-SQL-Server


Sorry, I haven't found the time yet to implement any of those, so I can't
give recommendations.

Best regards


--
Dr. Jens Oehlschl?gel-Akiyoshi
MD FACTORY GmbH
Bayerstrasse 21

80335 M?nchen

Tel.: 089 545 28-27
Fax.: 089 545 28-10
http://www.mdfactory.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jens.oehlschlaegel-akiyoshi at mdfactory.de  Mon Oct 25 20:20:10 1999
From: jens.oehlschlaegel-akiyoshi at mdfactory.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel-Akiyoshi?=)
Date: Mon, 25 Oct 1999 20:20:10 +0200
Subject: [R] k-nearest neighbor/neighbour
Message-ID: <000501bf1f15$934e9c00$a9021aac@joelschlaegel>



Does anyone know,

if there are any fast k-nearest neighbor methods available for R,
and how they consume memory and time with increasing n (n, n*log(n), n^2) ?

(I will summarize, if I receive information not send to the list, except the
contributor asks for privacy)


--
Dr. Jens Oehlschl?gel-Akiyoshi
MD FACTORY GmbH
Bayerstrasse 21

80335 M?nchen

Tel.: 089 545 28-27
Fax.: 089 545 28-10
http://www.mdfactory.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Oct 25 20:37:45 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 25 Oct 1999 11:37:45 -0700 (PDT)
Subject: [R] need help with building R on Solaris without using shared
 FORTRAN libraries
In-Reply-To: <NDBBJPJEPMDADGHILPFJCEBHCCAA.twestley@buffalo.veridian.com>
Message-ID: <Pine.GSO.4.10.9910251135100.21619-100000@wompom.biostat.washington.edu>

On Mon, 25 Oct 1999, Terry Westley wrote:

> I need to build R (we're currently at R version 0.64.0) for
> Solaris 2.5.1 on SunSPARC without using the libF77.so and
> libsunmath.so shared libraries. I'd like to use statically
> linked libraries instead.
> 
> Nothing I have tried has worked as measured by executing
> the command "ldd R.binary" to see whether it references
> the shared libraries or not.
> 

I think you want the flag -Bstatic if you're linking with Sun
compiler/linker or -static if you're linking with gnu tools.


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlapsley at ndirect.co.uk  Mon Oct 25 23:53:00 1999
From: mlapsley at ndirect.co.uk (Michael Lapsley)
Date: Mon, 25 Oct 1999 22:53:00 +0100 (BST)
Subject: [R] Summary: SQL-Interface
In-Reply-To: <000401bf1f14$25d70a00$a9021aac@joelschlaegel>
Message-ID: <XFMail.991025225300.mlapsley@ndirect.co.uk>


On 25-Oct-99 Jens Oehlschlgel-Akiyoshi wrote:
> 
> (1) using Michael Lapsley's ODBC interface
>     which seems now available for Unix,
>     see www.ndirect.co.uk/~mlapsley as RODBC-0.1a.[tgz | zip]
>     BTW, does anyone plan to port it to Windows?


Prof Ripley has helped me with making the code win compatable.
(it does not really need porting as such, as that is the whole point of ODBC.
It just has to be able to recognise the appropriate headers etc
for the different compiler environments.)


He has been able to compile it but has not yet tested the dll.
Assuming it works, I'll be tidying up and releasing it hopefully on 
CRAN.

> 
> (5) use the contributed package RmSQL from CRAN to access the freely
> available mSQL
>     (close to commercial MySQL)

FYI:  mSQL is more commercial than MySQL as far as I know:  the only thing you
cannot do with MySQL is sell it.

Michael
 
----------------------------------
E-Mail: Michael Lapsley <mlapsley at ndirect.co.uk>
Date: 25-Oct-99
Time: 22:43:52

This message was sent by XFMail
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From csprin at brandybuck.ca.sandia.gov  Mon Oct 25 15:58:01 1999
From: csprin at brandybuck.ca.sandia.gov (Clayton Springer)
Date: Mon, 25 Oct 1999 06:58:01 -0700
Subject: [R] trouble reading in datasets
Message-ID: <199910251358.GAA26826@brandybuck.ca.sandia.gov>

Dear All,

I was trying to follow some of the examples in Venables and Ripley "Modern applied ... with S-plus"
I have downloaded a copy of the iris data set and loaded into R. :

however I cannot use the apply command (from p47):

 > apply (iris, 2 ,mean)
Error in sum(..., na.rm = na.rm) : invalid "mode" of argument

> apply (iris, c(2) ,mean)
Error in sum(..., na.rm = na.rm) : invalid "mode" of argument

also

> apply (iris, c(2) ,sum)
Error in sum(..., na.rm = na.rm) : invalid "mode" of argument

So ... any suggestions as to what have I not done here? 

Some commands that show that I did load the dataset.
> iris
     V1  V2  V3  V4              V5
1   5.1 3.5 1.4 0.2     Iris-setosa

....

and
> summary (iris)
       V1              V2              V3              V4       
 Min.   :4.300   Min.   :2.000   Min.   :1.000   Min.   :0.100  
 1st Qu.:5.100   1st Qu.:2.800   1st Qu.:1.600   1st Qu.:0.300  
 Median :5.800   Median :3.000   Median :4.350   Median :1.300  
 Mean   :5.843   Mean   :3.054   Mean   :3.759   Mean   :1.199  
 3rd Qu.:6.400   3rd Qu.:3.300   3rd Qu.:5.100   3rd Qu.:1.800  
 Max.   :7.900   Max.   :4.400   Max.   :6.900   Max.   :2.500  
               V5    
 Iris-setosa    :50  
 Iris-versicolor:50  
 Iris-virginica :50  
                     

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pete at seul.org  Mon Oct 25 23:50:50 1999
From: pete at seul.org (Pete St. Onge)
Date: Mon, 25 Oct 1999 17:50:50 -0400
Subject: [R] leaps: XHAUST returned error code -999
Message-ID: <3814D0BA.AE82D602@seul.org>

Hi there,
     This problem has been dogging me for a bit, and I'm trying to
figure out why. When running the the subsets function in the leaps
library, R is giving me the following error message

> lvodsub <- subsets(pred, resp$LVOD)
Warning message: 
XHAUST returned error code -999 in: leaps.exhaustive(a, really.big =
really.big) 

but this still happens if I add the really.big option:

> lvodsub <- subsets(pred, resp$LVOD, really.big=T)
Warning message: 
XHAUST returned error code -999 in: leaps.exhaustive(a, really.big =
really.big) 

The library works just fine on some data (some work I did previously
that I ran again so that I could make sure that there wasn't some sort
of file problem), but there appears to be something wrong with this
particular data set. However, having examined the dataset, there are no
missing data and all of the data is numeric (shown below).

I looked in some of the archives, the online help, and some of the other
documentation, already.

Any ideas or suggestions would be very appreciated,

Thanks in advance,

Pete

-----------------------------------------------

> objects()
[1] "lahodsub"     "last.warning" "pred"         "resp"        
> str(pred)
`data.frame':  93 obs. of  20 variables:
 $ LDOC      : num  0.613 0.672 0.556 0.906 0.958 ...
 $ LTP       : num  0.751 0.924 0.791 1.078 1.139 ...
 $ LChlA     : num  0.232 0.211 0.084 0.611 0.321 ...
 $ LZmax     : num  1.20 1.20 1.20 1.30 1.30 ...
 $ LDepth    : num  0.954 1.000 0.845 0.778 0.845 ...
 $ LDSAm     : num  6.13 6.13 6.13 6.79 6.79 ...
 $ LLSAm     : num  5.58 5.58 5.58 5.79 5.79 ...
 $ LCALA     : num  0.553 0.553 0.553 0.999 0.999 ...
 $ LQS1      : num  0.400 0.400 0.400 0.781 0.781 ...
 $ LRETENT1  : num  0.342 0.342 0.342 0.405 0.405 ...
 $ LHAvT     : num  0.941 0.865 1.007 0.874 0.872 ...
 $ LLakeVol  : num  6.36 6.36 6.36 6.46 6.46 ...
 $ LLakeVSA  : num  0.778 0.778 0.778 0.668 0.668 ...
 $ LHypoVol  : num  5.49 5.32 5.76 5.90 5.79 ...
 $ LHypoVSA  : num  0.455 0.389 0.549 0.625 0.629 ...
 $ LHypoThick: num  0.875 0.813 0.978 1.161 1.130 ...
 $ LVHVT     : num  -0.872 -1.035 -0.600 -0.565 -0.666 ...
 $ LWRT      : num  -0.293 -0.293 -0.293 -0.740 -0.740 ...
 $ LVTCA     : num   0.227  0.227  0.227 -0.331 -0.331 ...
 $ LVHCA     : num  -0.644 -0.807 -0.372 -0.896 -0.997 ...

> str(resp)
`data.frame':  93 obs. of  4 variables:
 $ LAHOD  : num  -0.869 -1.254 -1.220 -0.820 -1.161 ...
 $ LAHOD4C: num  -1.011 -1.354 -1.405 -0.925 -1.265 ...
 $ LVOD   : num  -1.32 -1.64 -1.77 -1.45 -1.79 ...
 $ LVOD4C : num  -1.47 -1.74 -1.95 -1.55 -1.89 ...

> library(leaps)
> lvodsub <- leaps(pred, resp$LVOD)
Warning message: 
XHAUST returned error code -999 in: leaps.exhaustive(a) 
> rm(lvodsub)
> lvodsub <- subsets(pred, resp$LVOD)
Warning message: 
XHAUST returned error code -999 in: leaps.exhaustive(a, really.big =
really.big) 


-- 
Pete St. Onge
pete at seul.org
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Oct 26 00:13:02 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Oct 1999 00:13:02 +0200
Subject: [R] trouble reading in datasets
In-Reply-To: Clayton Springer's message of "Mon, 25 Oct 1999 06:58:01 -0700"
References: <199910251358.GAA26826@brandybuck.ca.sandia.gov>
Message-ID: <x2wvsbxf69.fsf@blueberry.kubism.ku.dk>

Clayton Springer <csprin at brandybuck.ca.sandia.gov> writes:

> Dear All,
> 
> I was trying to follow some of the examples in Venables and Ripley "Modern applied ... with S-plus"
> I have downloaded a copy of the iris data set and loaded into R. :
> 
> however I cannot use the apply command (from p47):
> 
>  > apply (iris, 2 ,mean)
> Error in sum(..., na.rm = na.rm) : invalid "mode" of argument
> 
> > apply (iris, c(2) ,mean)
> Error in sum(..., na.rm = na.rm) : invalid "mode" of argument
> 
> also
> 
> > apply (iris, c(2) ,sum)
> Error in sum(..., na.rm = na.rm) : invalid "mode" of argument
> 
> So ... any suggestions as to what have I not done here? 
> 
> Some commands that show that I did load the dataset.
> > iris
>      V1  V2  V3  V4              V5
> 1   5.1 3.5 1.4 0.2     Iris-setosa
> 

Well, it's one of the built-in datasets, so you could just have typed 

data(iris)

However, that wouldn't have helped you, except giving you a clue that
the problem does not lie in the reading in. apply() works on matrices
and iris is a data frame, so R tries to convert it to one. However, in
doing so, it must try to convert all elements to the same type and the
last column is a factor, so the whole thing becomes character:

> as.matrix(iris)
    Sepal.Length Sepal.Width Petal.Length Petal.Width Species     
1   "5.1"        "3.5"       "1.4"        "0.2"       "setosa"    
2   "4.9"        "3.0"       "1.4"        "0.2"       "setosa"    
3   "4.7"        "3.2"       "1.3"        "0.2"       "setosa"    
4   "4.6"        "3.1"       "1.5"        "0.2"       "setosa"    
....

Now, here's a difference between R and S(-plus 3.4): S will happily
let you take the mean of a character variable as in
> mean("1")   
[1] 1
whereas R will not 
> mean("1")
Error in sum(..., na.rm = na.rm) : invalid "mode" of argument

If you get rid of the 5th column, the problem disappears:
> apply (iris[,-5], 2 ,mean)
Sepal.Length  Sepal.Width Petal.Length  Petal.Width 
    5.843333     3.057333     3.758000     1.199333 

Actually, that isn't the end of the story, because the iris data that
comes with S is stored as a 3-way array, rather than a dataframe. The
way to convert from one to the other is -ahem- left as an exercise....

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Oct 26 00:12:44 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 25 Oct 1999 15:12:44 -0700 (PDT)
Subject: [R] leaps: XHAUST returned error code -999
In-Reply-To: <3814D0BA.AE82D602@seul.org>
Message-ID: <Pine.GSO.4.10.9910251502420.21619-100000@wompom.biostat.washington.edu>

On Mon, 25 Oct 1999, Pete St. Onge wrote:

> Hi there,
>      This problem has been dogging me for a bit, and I'm trying to
> figure out why. When running the the subsets function in the leaps
> library, R is giving me the following error message
> 
> > lvodsub <- subsets(pred, resp$LVOD)
> Warning message: 
> XHAUST returned error code -999 in: leaps.exhaustive(a, really.big =
> really.big) 


The really.big option isn't relevant -- R is just reporting where the
error was.

Looking at the code it seems that error -999 occurs when the the QR
decomposition that subsets constructs is (nearly) not of full rank.  This
shouldn't happen, since redundant variables are supposed to be eliminated
earlier in the process. 

If you could send me the data I could try to find the problem.


	-thomas


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


> 
> but this still happens if I add the really.big option:
> 
> > lvodsub <- subsets(pred, resp$LVOD, really.big=T)
> Warning message: 
> XHAUST returned error code -999 in: leaps.exhaustive(a, really.big =
> really.big) 
> 
> The library works just fine on some data (some work I did previously
> that I ran again so that I could make sure that there wasn't some sort
> of file problem), but there appears to be something wrong with this
> particular data set. However, having examined the dataset, there are no
> missing data and all of the data is numeric (shown below).
> 
> I looked in some of the archives, the online help, and some of the other
> documentation, already.
> 
> Any ideas or suggestions would be very appreciated,
> 
> Thanks in advance,
> 
> Pete
> 
> -----------------------------------------------
> 
> > objects()
> [1] "lahodsub"     "last.warning" "pred"         "resp"        
> > str(pred)
> `data.frame':  93 obs. of  20 variables:
>  $ LDOC      : num  0.613 0.672 0.556 0.906 0.958 ...
>  $ LTP       : num  0.751 0.924 0.791 1.078 1.139 ...
>  $ LChlA     : num  0.232 0.211 0.084 0.611 0.321 ...
>  $ LZmax     : num  1.20 1.20 1.20 1.30 1.30 ...
>  $ LDepth    : num  0.954 1.000 0.845 0.778 0.845 ...
>  $ LDSAm     : num  6.13 6.13 6.13 6.79 6.79 ...
>  $ LLSAm     : num  5.58 5.58 5.58 5.79 5.79 ...
>  $ LCALA     : num  0.553 0.553 0.553 0.999 0.999 ...
>  $ LQS1      : num  0.400 0.400 0.400 0.781 0.781 ...
>  $ LRETENT1  : num  0.342 0.342 0.342 0.405 0.405 ...
>  $ LHAvT     : num  0.941 0.865 1.007 0.874 0.872 ...
>  $ LLakeVol  : num  6.36 6.36 6.36 6.46 6.46 ...
>  $ LLakeVSA  : num  0.778 0.778 0.778 0.668 0.668 ...
>  $ LHypoVol  : num  5.49 5.32 5.76 5.90 5.79 ...
>  $ LHypoVSA  : num  0.455 0.389 0.549 0.625 0.629 ...
>  $ LHypoThick: num  0.875 0.813 0.978 1.161 1.130 ...
>  $ LVHVT     : num  -0.872 -1.035 -0.600 -0.565 -0.666 ...
>  $ LWRT      : num  -0.293 -0.293 -0.293 -0.740 -0.740 ...
>  $ LVTCA     : num   0.227  0.227  0.227 -0.331 -0.331 ...
>  $ LVHCA     : num  -0.644 -0.807 -0.372 -0.896 -0.997 ...
> 
> > str(resp)
> `data.frame':  93 obs. of  4 variables:
>  $ LAHOD  : num  -0.869 -1.254 -1.220 -0.820 -1.161 ...
>  $ LAHOD4C: num  -1.011 -1.354 -1.405 -0.925 -1.265 ...
>  $ LVOD   : num  -1.32 -1.64 -1.77 -1.45 -1.79 ...
>  $ LVOD4C : num  -1.47 -1.74 -1.95 -1.55 -1.89 ...
> 
> > library(leaps)
> > lvodsub <- leaps(pred, resp$LVOD)
> Warning message: 
> XHAUST returned error code -999 in: leaps.exhaustive(a) 
> > rm(lvodsub)
> > lvodsub <- subsets(pred, resp$LVOD)
> Warning message: 
> XHAUST returned error code -999 in: leaps.exhaustive(a, really.big =
> really.big) 
> 
> 
> -- 
> Pete St. Onge
> pete at seul.org
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jens.oehlschlaegel-akiyoshi at mdfactory.de  Tue Oct 26 09:23:52 1999
From: jens.oehlschlaegel-akiyoshi at mdfactory.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel-Akiyoshi?=)
Date: Tue, 26 Oct 1999 09:23:52 +0200
Subject: AW: [R] make.socket() fails under Windows NT (2nd)
In-Reply-To: <Pine.GSO.4.10.9910251140320.21619-100000@wompom.biostat.washington.edu>
Message-ID: <000001bf1f83$0eaed960$a9021aac@joelschlaegel>



Thank you Thomas, it really works and I was blind!

>The offending line is
>
>if (length(port <- as.integer(socket$socket)) != 1)
>        stop("invalid `socket' argument")
>
>and socket$socket needs to be changed to x$socket


--
Dr. Jens Oehlschl?gel-Akiyoshi
MD FACTORY GmbH
Bayerstrasse 21

80335 M?nchen

Tel.: 089 545 28-27
Fax.: 089 545 28-10
http://www.mdfactory.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Oct 26 17:46:27 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 26 Oct 1999 16:46:27 +0100 (BST)
Subject: [R] trouble reading in datasets
Message-ID: <199910261546.QAA10105@toucan.stats.ox.ac.uk>

> Clayton Springer <csprin at brandybuck.ca.sandia.gov> writes:
> 
> > Dear All,
> > 
> > I was trying to follow some of the examples in Venables and Ripley "Modern 
applied ... with S-plus"
> > I have downloaded a copy of the iris data set and loaded into R. :
> > 
> > however I cannot use the apply command (from p47):

[...]
> 
> Actually, that isn't the end of the story, because the iris data that
> comes with S is stored as a 3-way array, rather than a dataframe. The
> way to convert from one to the other is -ahem- left as an exercise....

Or you could look in the V&R scripts for R (in the VR bundle on CRAN) to
see that the R version called `iris3' is what you want. This is even
mentioned in the on-line R Complements to V&R (www.stats.ox.ac.uk/pub/MASS2
for the second edition, MASS3 for the third edition).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Oct 26 18:11:56 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 26 Oct 1999 17:11:56 +0100 (BST)
Subject: [R] need help with building R on Solaris without using shared FORTRAN libraries
Message-ID: <199910261611.RAA10178@toucan.stats.ox.ac.uk>


> From: "Terry Westley" <twestley at buffalo.veridian.com>
> Date: Mon, 25 Oct 1999 14:01:33 -0400

> I need to build R (we're currently at R version 0.64.0) for
(However, R is currently at 0.65.1.)

> Solaris 2.5.1 on SunSPARC without using the libF77.so and
> libsunmath.so shared libraries. I'd like to use statically
> linked libraries instead.
> 
> Nothing I have tried has worked as measured by executing
> the command "ldd R.binary" to see whether it references
> the shared libraries or not.
> 
> This is what I've tried:
> 
> 1) Modified config.site to uncomment the FPICFLAGS line
>    and set the flag to the following variations:
> 
>    FPICFLAGS=
>    FPICFLAGS=""
>    FPICFLAGS=" "
> 
> 2) Set FPICFLAGS as an environment variable before running configure.
>
> 3) Modified all Makefiles (after configure) to remove references to -PIC.
>    This builds OK but still shows that R.binary is referencing those
>    shared libraries.

FPICFLAGS is only relevant to building shared libraries, that is in
the packages and not in R.X11 (as now). You do need it to build
the shared libraries like modreg.so.

> 4) Modified R.binary link command in src/main/Makefile to link with
>    libF77.a and libsunmath.a.  R.binary still wants to use those
>    shared libraries.  Could this be built into f77?

Yes, it could. You need to get the order right, or link with your C
compiler, as current versions of R do.

I really think this would be much easier in 0.65.1. There (Solaris
2.6) all I had to do was to alter Makeconf and etc/Makeconf to have

FLIBS = -L/usr/local/lib -L/usr/ccs/lib /opt/SUNWspro/SC4.0/lib/libM77.a 
/opt/SUNWspro/SC4.0/lib/libF77.a /opt/SUNWspro/SC4.0/lib/libsunmath.a -lm -lcx

Your setup may differ in detail.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Oct 26 18:21:40 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 26 Oct 1999 09:21:40 -0700 (PDT)
Subject: [R] leaps: XHAUST returned error code -999
In-Reply-To: <3814D0BA.AE82D602@seul.org>
Message-ID: <Pine.GSO.4.10.9910260913170.24948-100000@wompom.biostat.washington.edu>

On Mon, 25 Oct 1999, Pete St. Onge wrote:

> Hi there,
>      This problem has been dogging me for a bit, and I'm trying to
> figure out why. When running the the subsets function in the leaps
> library, R is giving me the following error message
> 
> > lvodsub <- subsets(pred, resp$LVOD)
> Warning message: 
> XHAUST returned error code -999 in: leaps.exhaustive(a, really.big =
> really.big) 

This turned out to be a design matrix with five out of twenty very nearly
redundant columns. subsets() tries to predict whether it will run across a
singularity at some point, but its prediction wasn't sufficiently
paranoid.

The problem should be very rare, but I will soon be releasing a version
of the package that does glms (approximately) and I'll adjust
the singularity tolerance then.


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Tue Oct 26 18:59:20 1999
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Tue, 26 Oct 1999 12:59:20 -0400
Subject: [R] Math and symbols in titles of plots
Message-ID: <OF5E9A6DB3.D9485E64-ON85256816.005CDCFF@hgsi.com>

Is this a bug - If there is a break in the title of a plot ( with \n), the
symbols or math is "broken"?
for example:
> version
platform   Windows
arch       x86
os         Win32
system     x86, Win32
status
status.rev 0
major      0
minor      64.1
year       1999
month      May
day        8
language   R
> plot(0)
#This works just fine
> title(expression(paste("This works with math ", mu)))
#This "looks" bad
> plot(0)
> title(expression(paste("This does not works with math \n", mu, "with this
additional text")))

Thanks for any insight.

Partha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Oct 26 19:31:33 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 26 Oct 1999 19:31:33 +0200 (MET DST)
Subject: [R] Math and symbols in titles of plots
In-Reply-To: <OF5E9A6DB3.D9485E64-ON85256816.005CDCFF@hgsi.com>
References: <OF5E9A6DB3.D9485E64-ON85256816.005CDCFF@hgsi.com>
Message-ID: <14357.58742.994.647198@gargle.gargle.HOWL>

It *was* a bug in the 0.64.1 R version, but not anymore.

(we *do* fix bugs quite a bit!... as you can see in "BUGS FIXED" parts of
 the NEWS file (and you can also see in the announcements of new R versions))

Martin

>> Is this a bug - If there is a break in the title of a plot ( with \n), the
>> symbols or math is "broken"?
>> for example:

>> > version
>> ....
>> major      0
>> minor      64.1
>> ....
>> 
>> > plot(0)
>> #This works just fine
>> > title(expression(paste("This works with math ", mu)))
>> #This "looks" bad
>> > plot(0)
>> > title(expression(paste("This does not works with math \n", mu, "with this
>> additional text")))

>> Thanks for any insight.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Tue Oct 26 19:40:57 1999
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Tue, 26 Oct 1999 13:40:57 -0400
Subject: [R] Math and symbols in titles of plots
Message-ID: <OFD45110BE.FD2D5428-ON85256816.0060E71F@hgsi.com>


My apologies to you and the group. I just have been to busy to upgrade yet.



                                                                                                                       
                    Martin Maechler                                                                                    
                    <maechler at stat.mat        To:     partha_bagchi at hgsi.com                                           
                    h.ethz.ch>                cc:     r-help at stat.math.ethz.ch                                         
                                              Subject:     Re: [R] Math and symbols in titles of plots                 
                    10/26/1999 01:31                                                                                   
                    PM                                                                                                 
                    Please respond to                                                                                  
                    Martin Maechler                                                                                    
                                                                                                                       
                                                                                                                       



It *was* a bug in the 0.64.1 R version, but not anymore.

(we *do* fix bugs quite a bit!... as you can see in "BUGS FIXED" parts of
 the NEWS file (and you can also see in the announcements of new R
versions))

Martin

>> Is this a bug - If there is a break in the title of a plot ( with \n),
the
>> symbols or math is "broken"?
>> for example:

>> > version
>> ....
>> major      0
>> minor      64.1
>> ....
>>
>> > plot(0)
>> #This works just fine
>> > title(expression(paste("This works with math ", mu)))
>> #This "looks" bad
>> > plot(0)
>> > title(expression(paste("This does not works with math \n", mu, "with
this
>> additional text")))

>> Thanks for any insight.




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Oct 26 19:42:48 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 26 Oct 1999 19:42:48 +0200 (MET DST)
Subject: [R] Math and symbols in titles of plots
In-Reply-To: <14357.58742.994.647198@gargle.gargle.HOWL>
References: <OF5E9A6DB3.D9485E64-ON85256816.005CDCFF@hgsi.com>
	<14357.58742.994.647198@gargle.gargle.HOWL>
Message-ID: <14357.59416.352323.215930@gargle.gargle.HOWL>


>>>>> On Tue, 26 Oct 1999 19:31:33 +0200 (MET DST), Martin Maechler
>>>>> <maechler at stat.math.ethz.ch> said:

    MM> It *was* a bug in the 0.64.1 R version, but not anymore.

    MM> (we *do* fix bugs quite a bit!... as you can see in "BUGS FIXED"
    MM> parts of the NEWS file (and you can also see in the announcements
    MM> of new R versions))

    >>> Is this a bug - If there is a break in the title of a plot ( with
    >>> \n), the symbols or math is "broken"?  for example:

   >> > version
   >> ....
   >> major      0
   >> minor      64.1
   >> ....
   >> 
   >> > plot(0)
   >> #This works just fine
   >> > title(expression(paste("This works with math ", mu)))
   >> #This "looks" bad
   >> > plot(0)
   >> > title(expression(paste("This does not works with math \n", mu, "with this additional text")))


Excuse me, Partha, I misinterpreted your question/ statements
(and we *did* fix a bug here!) -- I'm feeling silly, really sorry...

but there *is* still a bug here  :

 The line break happens alright, but the two lines are not centered
 properly, but rather "as a whole"

 This is shown (somewhat more easily for cut&paste)

  plot(0);title(expression(paste("Bad\n",mu," with much much more text")))

--> I send a bug report to R-bugs (unless there's one already there)

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olbrich at mpi-muelheim.mpg.de  Wed Oct 27 16:39:46 1999
From: olbrich at mpi-muelheim.mpg.de (Dr. Gottfried Olbrich)
Date: Wed, 27 Oct 1999 16:39:46 +0200
Subject: [R] Installation problems
Message-ID: <38170EB2.41F5B9A6@mpi-muelheim.mpg.de>

Hi,

after downloading I tried to install the package according to the
instructions given in the INSTALL file. However, after some time an
error occurred, I accumulated the error messages in the attached file.
There are a lot of unreferenced symbols which I don't know of.

Can anybody help me ?

With kind regards

G.O.


-------------------------------------------------------------------------
Dr. Gottfried Olbrich
MPI fuer Strahlenchemie                          Tel: ++49(0)208 306
3696
Stiftstrasse 34-36                               Fax: ++49(0)208 306
3951
D-45470 Muelheim/Ruhr                  email:
olbrich at mpi-muelheim-mpg.de
-------------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olbrich at mpi-muelheim.mpg.de  Wed Oct 27 16:42:01 1999
From: olbrich at mpi-muelheim.mpg.de (Dr. Gottfried Olbrich)
Date: Wed, 27 Oct 1999 16:42:01 +0200
Subject: [R] Installation problems
Message-ID: <38170F39.59C11404@mpi-muelheim.mpg.de>

Hi,

after downloading I tried to install the package according to the
instructions given in the INSTALL file. However, after some time an
error occurred, I accumulated the error messages in the attached file.
There are a lot of unreferenced symbols which I don't know of.

Can anybody help me ?

With kind regards

G.O.


-------------------------------------------------------------------------
Dr. Gottfried Olbrich
MPI fuer Strahlenchemie                          Tel: ++49(0)208 306
3696
Stiftstrasse 34-36                               Fax: ++49(0)208 306
3951
D-45470 Muelheim/Ruhr                  email:
olbrich at mpi-muelheim-mpg.de
-------------------------------------------------------------------------
-------------- next part --------------
gcc -export-dynamic  -o ../../bin/R.X11 arithmetic.o array.o attrib.o bind.o builtin.o character.o coerce.o colors.o complex.o context.o cov.o cum.o debug.o devPS.o devPicTeX.o deparse.o deriv.o devices.o dotcode.o dstruct.o duplicate.o envir.o errors.o eval.o format.o fourier.o gram.o gram-ex.o graphics.o iosupport.o list.o logic.o main.o match.o memory.o model.o names.o objects.o optimize.o options.o par.o paste.o platform.o plot.o plot3d.o plotmath.o print.o printarray.o printvector.o printutils.o random.o relop.o saveload.o scan.o seq.o sort.o source.o split.o subassign.o subscript.o subset.o summary.o unique.o util.o version.o ../unix/libunix.a ../appl/libappl.a ../nmath/libmath.a -lSM -lICE -L/usr/X11R6/lib -lX11  -lblas -lf2c  -lreadline -lz -ldl -lncurses -lm
memory.o: warning: definition of `gc_inhibit_torture' overriding common
main.o: warning: common is here
/usr/lib/libm.so: warning: definition of `signgam' overriding common
../nmath/libmath.a(lgamma.o): warning: common is here
../appl/libappl.a(bakslv.o): In function `bakslv':
/home/olbrich/Progs/R-0.65.1/src/appl/bakslv.c:100: undefined reference to `dcopy_'
./appl/libappl.a(dpbfa.o): In function `dpbfa_':
/home/olbrich/Progs/R-0.65.1/src/appl/dpbfa.c:114: undefined reference to `ddot_'
../appl/libappl.a(dpbsl.o): In function `dpbsl_':
/home/olbrich/Progs/R-0.65.1/src/appl/dpbsl.c:96: undefined reference to `ddot_'
/home/olbrich/Progs/R-0.65.1/src/appl/dpbsl.c:113: undefined reference to `daxpy_'
../appl/libappl.a(dpoco.o): In function `dpoco_':
/home/olbrich/Progs/R-0.65.1/src/appl/dpoco.c:117: undefined reference to `dasum_'
/home/olbrich/Progs/R-0.65.1/src/appl/dpoco.c:171: undefined reference to `dscal_'
/home/olbrich/Progs/R-0.65.1/src/appl/dpoco.c:206: undefined reference to `dasum_'
/home/olbrich/Progs/R-0.65.1/src/appl/dpoco.c:207: undefined reference to `dscal_'
/home/olbrich/Progs/R-0.65.1/src/appl/dpoco.c:218: undefined reference to `dscal_'
/home/olbrich/Progs/R-0.65.1/src/appl/dpoco.c:223: undefined reference to `daxpy_'
/home/olbrich/Progs/R-0.65.1/src/appl/dpoco.c:226: undefined reference to `dasum_'
/home/olbrich/Progs/R-0.65.1/src/appl/dpoco.c:227: undefined reference to `dscal_'
/home/olbrich/Progs/R-0.65.1/src/appl/dpoco.c:236: undefined reference to `ddot_'
/home/olbrich/Progs/R-0.65.1/src/appl/dpoco.c:241: undefined reference to `dscal_'
/home/olbrich/Progs/R-0.65.1/src/appl/dpoco.c:247: undefined reference to `dasum_'
/home/olbrich/Progs/R-0.65.1/src/appl/dpoco.c:248: undefined reference to `dscal_'
/home/olbrich/Progs/R-0.65.1/src/appl/dpoco.c:260: undefined reference to `dscal_'
/home/olbrich/Progs/R-0.65.1/src/appl/dpoco.c:266: undefined reference to `daxpy_'
/home/olbrich/Progs/R-0.65.1/src/appl/dpoco.c:270: undefined reference to `dasum_'
/home/olbrich/Progs/R-0.65.1/src/appl/dpoco.c:271: undefined reference to `dscal_'
../appl/libappl.a(dpodi.o): In function `dpodi_':
/home/olbrich/Progs/R-0.65.1/src/appl/dpodi.c:142: undefined reference to `dscal_'
/home/olbrich/Progs/R-0.65.1/src/appl/dpodi.c:151: undefined reference to `daxpy_'
/home/olbrich/Progs/R-0.65.1/src/appl/dpodi.c:171: undefined reference to `daxpy_'
/home/olbrich/Progs/R-0.65.1/src/appl/dpodi.c:177: undefined reference to `dscal_'
../appl/libappl.a(dpofa.o): In function `dpofa_':
/home/olbrich/Progs/R-0.65.1/src/appl/dpofa.c:91: undefined reference to `ddot_'
../appl/libappl.a(dposl.o): In function `dposl_':
/home/olbrich/Progs/R-0.65.1/src/appl/dposl.c:89: undefined reference to `ddot_'
/home/olbrich/Progs/R-0.65.1/src/appl/dposl.c:102: undefined reference to `daxpy_'
./appl/libappl.a(dqrdc.o): In function `dqrdc_':
/home/olbrich/Progs/R-0.65.1/src/appl/dqrdc.c:157: undefined reference to `dswap_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrdc.c:177: undefined reference to `dswap_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrdc.c:196: undefined reference to `dnrm2_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrdc.c:230: undefined reference to `dswap_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrdc.c:246: undefined reference to `dnrm2_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrdc.c:255: undefined reference to `dscal_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrdc.c:268: undefined reference to `ddot_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrdc.c:271: undefined reference to `daxpy_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrdc.c:294: undefined reference to `dnrm2_'
../appl/libappl.a(dqrdc2.o): In function `dqrdc2_':
/home/olbrich/Progs/R-0.65.1/src/appl/dqrdc2.c:135: undefined reference to `dnrm2_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrdc2.c:201: undefined reference to `dnrm2_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrdc2.c:210: undefined reference to `dscal_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrdc2.c:223: undefined reference to `ddot_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrdc2.c:226: undefined reference to `daxpy_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrdc2.c:254: undefined reference to `dnrm2_'
../appl/libappl.a(dqrsl.o): In function `dqrsl_':
/home/olbrich/Progs/R-0.65.1/src/appl/dqrsl.c:242: undefined reference to `dcopy_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrsl.c:245: undefined reference to `dcopy_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrsl.c:262: undefined reference to `ddot_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrsl.c:265: undefined reference to `daxpy_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrsl.c:286: undefined reference to `ddot_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrsl.c:289: undefined reference to `daxpy_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrsl.c:300: undefined reference to `dcopy_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrsl.c:304: undefined reference to `dcopy_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrsl.c:308: undefined reference to `dcopy_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrsl.c:350: undefined reference to `daxpy_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrsl.c:375: undefined reference to `ddot_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrsl.c:378: undefined reference to `daxpy_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrsl.c:384: undefined reference to `ddot_'
/home/olbrich/Progs/R-0.65.1/src/appl/dqrsl.c:387: undefined reference to `daxpy_'
../appl/libappl.a(dsvdc.o): In function `dsvdc_':
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:225: undefined reference to `dnrm2_'
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:234: undefined reference to `dscal_'
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:254: undefined reference to `ddot_'
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:257: undefined reference to `daxpy_'
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:289: undefined reference to `dnrm2_'
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:298: undefined reference to `dscal_'
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:316: undefined reference to `daxpy_'
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:324: undefined reference to `daxpy_'
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:401: undefined reference to `ddot_'
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:404: undefined reference to `daxpy_'
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:410: undefined reference to `dscal_'
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:455: undefined reference to `ddot_'
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:458: undefined reference to `daxpy_'
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:598: undefined reference to `drotg_'
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:607: undefined reference to `drot_'
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:622: undefined reference to `drotg_'
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:627: undefined reference to `drot_'
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:677: undefined reference to `drotg_'
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:686: undefined reference to `drot_'
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:689: undefined reference to `drotg_'
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:696: undefined reference to `drot_'
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:716: undefined reference to `dscal_'
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:734: undefined reference to `dswap_'
/home/olbrich/Progs/R-0.65.1/src/appl/dsvdc.c:737: undefined reference to `dswap_'
../appl/libappl.a(dtrco.o): In function `dtrco_':
/home/olbrich/Progs/R-0.65.1/src/appl/dtrco.c:115: undefined reference to `dasum_'
/home/olbrich/Progs/R-0.65.1/src/appl/dtrco.c:151: undefined reference to `dscal_'
/home/olbrich/Progs/R-0.65.1/src/appl/dtrco.c:201: undefined reference to `dasum_'
/home/olbrich/Progs/R-0.65.1/src/appl/dtrco.c:202: undefined reference to `dscal_'
/home/olbrich/Progs/R-0.65.1/src/appl/dtrco.c:219: undefined reference to `dscal_'
/home/olbrich/Progs/R-0.65.1/src/appl/dtrco.c:237: undefined reference to `daxpy_'
/home/olbrich/Progs/R-0.65.1/src/appl/dtrco.c:243: undefined reference to `dasum_'
/home/olbrich/Progs/R-0.65.1/src/appl/dtrco.c:244: undefined reference to `dscal_'
../appl/libappl.a(dtrsl.o): In function `dtrsl_':
/home/olbrich/Progs/R-0.65.1/src/appl/dtrsl.c:135: undefined reference to `daxpy_'
/home/olbrich/Progs/R-0.65.1/src/appl/dtrsl.c:153: undefined reference to `daxpy_'
/home/olbrich/Progs/R-0.65.1/src/appl/dtrsl.c:170: undefined reference to `ddot_'
/home/olbrich/Progs/R-0.65.1/src/appl/dtrsl.c:187: undefined reference to `ddot_'
../appl/libappl.a(uncmin.o): In function `dogstp_':
/home/olbrich/Progs/R-0.65.1/src/appl/uncmin.c:1038: undefined reference to `ddot_'
/home/olbrich/Progs/R-0.65.1/src/appl/uncmin.c:1092: undefined reference to `ddot_'
/home/olbrich/Progs/R-0.65.1/src/appl/uncmin.c:1093: undefined reference to `ddot_'
../appl/libappl.a(uncmin.o): In function `hookst_':
/home/olbrich/Progs/R-0.65.1/src/appl/uncmin.c:1927: undefined reference to `dnrm2_'
/home/olbrich/Progs/R-0.65.1/src/appl/uncmin.c:2019: undefined reference to `dnrm2_'
../appl/libappl.a(uncmin.o): In function `lnsrch_':
/home/olbrich/Progs/R-0.65.1/src/appl/uncmin.c:2270: undefined reference to `ddot_'
../appl/libappl.a(uncmin.o): In function `secfac_':
/home/olbrich/Progs/R-0.65.1/src/appl/uncmin.c:3998: undefined reference to `ddot_'
/home/olbrich/Progs/R-0.65.1/src/appl/uncmin.c:3999: undefined reference to `dnrm2_'
/home/olbrich/Progs/R-0.65.1/src/appl/uncmin.c:4000: undefined reference to `dnrm2_'
/home/olbrich/Progs/R-0.65.1/src/appl/uncmin.c:4007: undefined reference to `ddot_'
../appl/libappl.a(uncmin.o): In function `secunf_':
/home/olbrich/Progs/R-0.65.1/src/appl/uncmin.c:4243: undefined reference to `ddot_'
/home/olbrich/Progs/R-0.65.1/src/appl/uncmin.c:4244: undefined reference to `dnrm2_'
/home/olbrich/Progs/R-0.65.1/src/appl/uncmin.c:4245: undefined reference to `dnrm2_'
/home/olbrich/Progs/R-0.65.1/src/appl/uncmin.c:4252: undefined reference to `ddot_'
../appl/libappl.a(uncmin.o): In function `tregup_':
/home/olbrich/Progs/R-0.65.1/src/appl/uncmin.c:4537: undefined reference to `ddot_'
collect2: ld returned 1 exit status
make[3]: *** [../../bin/R.X11] Error 1
make[3]: Leaving directory `/home/olbrich/Progs/R-0.65.1/src/main'
make[2]: *** [R] Error 2
make[2]: Leaving directory `/home/olbrich/Progs/R-0.65.1/src/main'
make[1]: *** [R] Error 1
make[1]: Leaving directory `/home/olbrich/Progs/R-0.65.1/src'
make: *** [R] Error 1

From p.dalgaard at biostat.ku.dk  Wed Oct 27 17:24:17 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Oct 1999 17:24:17 +0200
Subject: [R] Installation problems
In-Reply-To: "Dr. Gottfried Olbrich"'s message of "Wed, 27 Oct 1999 16:42:01 +0200"
References: <38170F39.59C11404@mpi-muelheim.mpg.de>
Message-ID: <x2aep4su72.fsf@blueberry.kubism.ku.dk>

"Dr. Gottfried Olbrich" <olbrich at mpi-muelheim.mpg.de> writes:

> after downloading I tried to install the package according to the
> instructions given in the INSTALL file. However, after some time an
> error occurred, I accumulated the error messages in the attached file.
> There are a lot of unreferenced symbols which I don't know of.

Er, what system is this, and is there something special about your
setup? The immediately obvious thing is that it tries to load -lblas,
yet you are missing 'ddot' and friends.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Thu Oct 28 08:30:33 1999
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 28 Oct 1999 08:30:33 +0200 (CEST)
Subject: [R] Citing R
In-Reply-To: <38143BA3.4677E563@ozemail.com.au>
References: <38143BA3.4677E563@ozemail.com.au>
Message-ID: <14359.60809.231257.477446@fangorn.ci.tuwien.ac.at>

>>>>> Jim Lemon writes:

> I know that this general question has been asked before, but I have
> encountered a picky reviewer.  In the 'standard' reference for R:

> R. Gentleman and R. Ihaka (1997). "The R language", In Proceedings of
> the 28th Symposium on the Interface, L. Billard and N. Fisher Eds. The
> Interface Foundation of North America.

> is there a geographical location for the publisher and perhaps
> pagination?  Or is this an electronic document?

>From the FAQ:

   Last, but not least, Ross' and Robert's experience in designing and
implementing R is described in:

     @article{,
       author =    {Ross Ihaka and Robert Gentleman},
       title =     {R: A Language for Data Analysis and Graphics},
       journal =   {Journal of Computational and Graphical Statistics},
       year =      1996,
       volume =    5,
       number =    3,
       pages =     {299--314}
     }

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Fri Oct 29 23:13:14 1999
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Fri, 29 Oct 1999 23:13:14 +0200
Subject: No subject
Message-ID: <000d01bf2252$6bcb2000$2c4fa8c0@tring.stofanet.dk>

Dear friends. I just downloaded tseries dated 27.10.99 (from Aalborg, Denmark) and it seems it lacked something, library ts was not available ? What to do ?

> library(tseries)
Loading required package: ts 
Warning: There is no package called `ts'
> 
> 

Best wishes

Troels Ring, M.D
Department of Nephrology
Aalborg, Denmark
tring at mail1.stofanet.dk

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Oct 29 23:52:23 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 29 Oct 1999 22:52:23 +0100 (BST)
Subject: [R] Re: missing ts package
In-Reply-To: <000d01bf2252$6bcb2000$2c4fa8c0@tring.stofanet.dk>
Message-ID: <Pine.GSO.4.05.9910292245480.9377-100000@auk.stats>

On Fri, 29 Oct 1999, Troels Ring wrote:

> Dear friends. I just downloaded tseries dated 27.10.99 (from Aalborg, Denmark) and it seems it lacked something, library ts was not available ? 
What to do ?
> 
> > library(tseries)
> Loading required package: ts 
> Warning: There is no package called `ts'

You need to be using R-0.65.1 (or 0.65.0, but that was never officially
released for Windows, and I recall you are a Windows user). ts is a
`standard' package that is part of the R distribution. We do recommend
upgrading to rw0651: there are lots of bug fixes.

If perchance you are using 0.65.1, please let me have more details!

The DESCRIPTION file might help:

Package: tseries
Version: 0.3-0
Author: Compiled by Adrian Trapletti <A.Trapletti at ci.tuwien.ac.at>.
Description: Library for time series analysis
Depends: package ts (included in the R release), white.test needs package 
         mva, 
         portfolio.optim needs package quadprog, get.hist.quote needs 
         package chron.
...

and congratulations to Adrian on being so comprehensive in the
information given.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hort.cri.nz  Sun Oct 31 03:09:48 1999
From: P.Connolly at hort.cri.nz (Patrick Connolly)
Date: Sun, 31 Oct 1999 15:09:48 +1300 (NZDT)
Subject: [R] R with ESS: how to start
Message-ID: <199910310209.PAA16314@atlas.marc.cri.nz>

I installed ESS but I can't figure out what needs to be set
for it to recognise R.  I gather it's something to do with 
.emacs file, but none of the help files seem to mention it.
Like everything, it's probably easy once you know, but so
far I don't know where to look.

 Thanks for any help.

best

Patrick
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mbalcilar at hotmail.com  Sun Oct 31 16:33:31 1999
From: mbalcilar at hotmail.com (Mehmet Balcilar)
Date: Sun, 31 Oct 1999 16:33:31 EET
Subject: [R] bug in filter function
Message-ID: <19991031143331.2615.qmail@hotmail.com>

I think filter function in ts library has a typo. Line 34 in filter.R
reads
if(NROW(init) != 1 && NROW(init) != nser)
I guess it should be
if(NCOL(init) != 1 && NCOL(init) != nser)

Please let me know, if I am wrong.

Mehmet Balcilar

______________________________________________________
Get Your Private, Free Email at http://www.hotmail.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Oct 31 17:16:24 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 31 Oct 1999 16:16:24 +0000 (GMT)
Subject: [R] bug in filter function
In-Reply-To: <19991031143331.2615.qmail@hotmail.com>
Message-ID: <Pine.GSO.4.05.9910311614140.12623-100000@auk.stats>

On Sun, 31 Oct 1999, Mehmet Balcilar wrote:

> I think filter function in ts library has a typo. Line 34 in filter.R
> reads
> if(NROW(init) != 1 && NROW(init) != nser)
> I guess it should be
> if(NCOL(init) != 1 && NCOL(init) != nser)
> 
> Please let me know, if I am wrong.

Thank you for the report. You are right, and this has been corrected for
the next release.

Please use R-bugs to report bugs: this ensures that we have a record and
helps us to keep track of progress on bugs.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikeee10 at wuzzlenorple.com  Thu Oct  7 04:37:26 1999
From: mikeee10 at wuzzlenorple.com (mikeee10@wuzzlenorple.com)
Date: Wed, 06 Oct 1999 22:37:26 -0400
Subject: [R] Win a Palm Pilot for visiting our website!!!!                         24621
Message-ID: <00004b363164$00004b9f$0000602d@mail2.wuzzlenorple.com>

An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/19991006/dc8d16c5/attachment.html

From achandlerl at wuzzlenorple.com  Mon Oct 11 11:55:18 1999
From: achandlerl at wuzzlenorple.com (achandlerl@wuzzlenorple.com)
Date: Mon, 11 Oct 1999 05:55:18 -0400
Subject: [R] Win a Palm Pilot!!                         26606
Message-ID: <0000384f0ff0$00004d5a$000067ee@mail3.wuzzlenorple.com>

An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/19991011/1d346bbf/attachment.html

From beene13 at bestbrightest.net  Sat Oct 16 08:57:24 1999
From: beene13 at bestbrightest.net (beene13@bestbrightest.net)
Date: Sat, 16 Oct 1999 02:57:24 -0400
Subject: [R] Win a Palm Pilot!!!                         26204
Message-ID: <00003edf5660$0000030d$0000665c@mail3.wuzzlenorple.com>

An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/19991016/1f74b515/attachment.html

