From thomas at biostat.washington.edu  Mon Jun  1 19:36:20 1998
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 1 Jun 1998 10:36:20 -0700 (PDT)
Subject: R-beta: loadable modules
In-Reply-To: <356FA409.123B5C96@stat.ubc.ca>
Message-ID: <Pine.SUN.3.95.980601102307.3179A-100000@chekov>

On Fri, 29 May 1998, Jean Meloche wrote:

> I want to write a C function that should return
> an object of unknown structure at the time of the
> invocation.
> 
> In particular, I'd like to
> 
> 1- return a string of unknown length
> 2- a vector or a matrix of unknown dims and of
>    unknown element type
> 3- a data frame
> 
> Is any of that possible? Are there examples?
> Which R functions should I call to create such
> objects?
 
It's possible, but tricky.  You need to call R code that creates the
objects _after_ you know what they look like but _before_ you pass them
back.  One way to do this for an array is as follows
- Call C code to create the array, storing it in a variable declared as
static, so that it won't go away when you return to R. Use malloc, rather
than R_alloc so that it won't get tidied up by R.
- Return the dimensions and type of the array to R
- From R, call another C function, with one argument being a suitable
array
- This C function just returns the array.

You could call the internal R functions that create objects, bypassing the
middle two steps. This would be a lot harder to program, as there isn't
much documentation (read the source), and might break in future versions
of R. It would be more memory-efficient, though.


Thomas Lumley
------------------------------------------------------+--------
Biostatistics		: "Never attribute to malloc(3) what  :
Uni of Washington	:  can be adequately explained by     :
Box 357232		:  incompetence"                      :
Seattle WA 98195-7232	:				      :
---------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at luc.ac.be  Tue Jun  2 09:12:58 1998
From: jlindsey at luc.ac.be (Jim Lindsey)
Date: Tue, 2 Jun 1998 09:12:58 +0200 (MET DST)
Subject: R-beta: bugs and problems
Message-ID: <9806020712.AA26573@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 1262 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980602/3cf08662/attachment.pl

From Friedrich.Leisch at ci.tuwien.ac.at  Tue Jun  2 10:01:50 1998
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 2 Jun 1998 10:01:50 +0200 (CEST)
Subject: R-beta: multiv package from CRAN
In-Reply-To: <356EC0D6.62AE9D2E@delos.lf.net>
References: <356EC0D6.62AE9D2E@delos.lf.net>
Message-ID: <13683.45422.378835.553102@galadriel.ci.tuwien.ac.at>

>>>>> On Fri, 29 May 1998 16:06:14 +0200,
>>>>> Egon Schmid (ES) wrote:

ES> Hallo Friedrich,
ES> I have read your announcement, downloaded and installed it in R-0.61.3.
ES> But now I have problems :)

>> hc <- hierclust(dist(t(pollen)), method=3)
ES> Error in pmatch(x, table) : argument is not of mode character
>> hc <- hclust(dist(t(pollen)))
>> members(hc)
ES> Error in .Fortran("assgn", n = as.integer(n), nplus1 =
ES> as.integer(nplus1),  : C/Fortran function not in load table

ES> Since I have a snapshot from May 22 I put it there. But in these tree I
ES> couldn't install it.

ES> marliesle# R INSTALL multiv
ES> Installing package `multiv' ...
ES> No man pages found in package `multiv'
ES> DONE (multiv)

ES> DONE (INSTALL)


I cannot reproduce this problem ... the man pages are built without
problems on my system (Debian Linux, R 0.62 snapshot). On which type
of computer is you R snapshot installed?




ES> More questions:

ES> Is it possible to get the mahalanobis distance as a distance matrix like
ES> the dist function.


You mean a matrix containing only the lower triangle etc.?

Should be fairly easy tho integrate mahalanobis into dist ... but we
currently have a feature freeze until 0.62 is released. I'll put it
onto my todo list for 0.63.

Best,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch                             
Institut f?r Statistik                      Tel: (+43 1) 58801 4546
Technische Universit?t Wien                 Fax: (+43 1)  504 14 98
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun  2 11:40:20 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Jun 1998 11:40:20 +0200
Subject: R-beta: bugs and problems
In-Reply-To: Jim Lindsey's message of Tue, 2 Jun 1998 09:12:58 +0200 (MET DST)
References: <9806020712.AA26573@alpha.luc.ac.be>
Message-ID: <x27m3016rf.fsf@blueberry.kubism.ku.dk>

Jim Lindsey <jlindsey at luc.ac.be> writes:

> If an MS-DOS file with CRs still in place is (accidently) read into
> R using scan(), an extra zero is added to each line. This can be very
> embarassing!

Are you blaming us or yourself, then? ;)

This looks fairly easy to fix.

> 
> In manipulating repeated measurements data, I generally require
> matrices. Unfortunately, matrix factors create a lot of problems.
> Consider the following simple examples:

This has been changed for 0.62, but I'm afraid not in the direction
you'd want, but in the direction of S-plus compatibility. Basically,
matrix factors don't exist anymore: 

> > x <- as.factor(c("F","N",NA))
> > y <- cbind(x,x)
> > y[,1]
> Error: length of "levels" vector and number of levels differ
> > attributes(y)$levels <- NULL
> > is.factor(y)
> TRUE
> > y[,1]
> F N NA

R> x <- as.factor(c("F","N",NA))
R> y <- cbind(x,x)
R> y[,1]
[1]  1  2 NA
R> is.factor(y)
[1] FALSE

> > rbind(NULL,gl(2,1,2))
> Error in rbind(NULL,gl(2,1,2)): incompatible factors

R> rbind(NULL,gl(2,1,2))
     [,1] [,2]
[1,]    1    2

> 
> 3. To obtain the codes of a factor variable, one uses as.numeric().
> However, this function destroys the properties of the matrix, turning
> it into a vector.

Well...now it also works the other way...:

R> y
     [,1] [,2]
[1,]    1    1
[2,]    2    2
[3,]   NA   NA
R> as.factor(y)
[1] 1  2  NA 1  2  NA
Levels:  1 2 
R> factor(y)
[1] 1  2  NA 1  2  NA
Levels:  1 2 

Actually, a factor can have the dim attribute, but then it doesn't
show up, except in matrix ops and apply where there's an implicit
conversion to integer:

R> r
     [,1] [,2]
[1,]    1    3
[2,]    2    4
R> f<-factor(r)
R> f
[1] 1 2 3 4
Levels:  1 2 3 4 
R> dim(f)<-dim(r)
R> f
[1] 1 2 3 4
Levels:  1 2 3 4 
R> f%*%r
     [,1] [,2]
[1,]    7   15
[2,]   10   22

All this is exactly the same in Splus.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Jun  2 12:02:15 1998
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 2 Jun 1998 12:02:15 +0200
Subject: "as.numeric" / "As.numeric" [was "R-beta: bugs and problems"]
In-Reply-To: <9806020712.AA26573@alpha.luc.ac.be> (message from Jim Lindsey on
	Tue, 2 Jun 1998 09:12:58 +0200 (MET DST))
Message-ID: <199806021002.MAA00877@sophie.ethz.ch>

>>>>> "Jim" == Jim Lindsey <jlindsey at luc.ac.be> writes:

    Jim>  .....

    Jim> 3. To obtain the codes of a factor variable, one uses
    Jim> as.numeric().  However, this function destroys the properties of
    Jim> the matrix, turning it into a vector.

as.numeric(.) behaves so consistently (also in S-plus);
it has been a `pain' in other situations, such as passing a numeric matrix
to C or Fortran and wanting the result to still be a matrix.

The ``well-known'' (:-) solution is to use

	storage.mode(x) <- "numeric"

instead, which is rather clumy, especially when passing arguments to
.C(..).
I've seen
	As.numeric <- function(x) { storage.mode(x) <- "numeric"; x }
solving the above problem.

What do you (R-help readers !) think?
Should we add this (and corresponding  As.integer, As.character, ....)
to R ?
Or rather use a different function name?
However, not "as.numeric" itself! 
For such a basic function, we usually don't want to be unnecessarily
incompatible. User functions written for both R and S should get the same
thing for as.numeric(.).

Martin Maechler <maechler at stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eschmid at delos.stuttgart.netsurf.de  Tue Jun  2 12:30:41 1998
From: eschmid at delos.stuttgart.netsurf.de (Egon Schmid)
Date: Tue, 2 Jun 1998 12:30:41 +0200 (MET DST)
Subject: R-beta: multiv package from CRAN
In-Reply-To: <13683.45422.378835.553102@galadriel.ci.tuwien.ac.at>
Message-ID: <Pine.NEB.3.95.980602121639.2239A-100000@delos.stuttgart.netsurf.de>

 

On Tue, 2 Jun 1998, Friedrich Leisch wrote:

> >>>>> On Fri, 29 May 1998 16:06:14 +0200,
> >>>>> Egon Schmid (ES) wrote:
> 
> ES> Hallo Friedrich,
> ES> I have read your announcement, downloaded and installed it in R-0.61.3.
> ES> But now I have problems :)
> 
> >> hc <- hierclust(dist(t(pollen)), method=3)
> ES> Error in pmatch(x, table) : argument is not of mode character
> >> hc <- hclust(dist(t(pollen)))
> >> members(hc)
> ES> Error in .Fortran("assgn", n = as.integer(n), nplus1 =
> ES> as.integer(nplus1),  : C/Fortran function not in load table
> 
> ES> Since I have a snapshot from May 22 I put it there. But in these tree I
> ES> couldn't install it.
> 
> ES> marliesle# R INSTALL multiv
> ES> Installing package `multiv' ...
> ES> No man pages found in package `multiv'
> ES> DONE (multiv)
> 
> ES> DONE (INSTALL)
> 
> 
> I cannot reproduce this problem ... the man pages are built without
> problems on my system (Debian Linux, R 0.62 snapshot). On which type
> of computer is you R snapshot installed?

My system is Debian 1.3. The multiv man pages and installation in 0.61.3
was correct. Only the R 0.62 snapshot failed. Will try it today with a new
snapshot. On the long weekend I noticed that the snapshot had only 45
Bytes.

Is there a general solution to this load table problem?

-Egon

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Jun  2 15:04:24 1998
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 2 Jun 1998 15:04:24 +0200
Subject: R-snapshot [Re: R-beta: multiv package from CRAN]
In-Reply-To: 
	<Pine.NEB.3.95.980602121639.2239A-100000@delos.stuttgart.netsurf.de>
	(message from Egon Schmid on Tue, 2 Jun 1998 12:30:41 +0200 (MET DST))
Message-ID: <199806021304.PAA04985@sophie.ethz.ch>

>>>>> "Egon" == Egon Schmid <eschmid at delos.stuttgart.netsurf.de> writes:

    Egon> ......... Will try it
    Egon> today with a new snapshot. On the long weekend I noticed that the
    Egon> snapshot had only 45 Bytes.

Yes. There were both problems at Auckland (SAS processes going wayward..)
and here such that mirroring failed miserably.
The snapshot was still broken as of this morning.

I've produced an intermediate snapshot available only at

	ftp://ftp.stat.math.ethz.ch/Software/R-snapshot.tar.gz

It will(should) be at the CRAN sites by tomorrow early (European time).

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Tue Jun  2 15:21:11 1998
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 2 Jun 1998 15:21:11 +0200 (CEST)
Subject: R-beta: multiv package from CRAN
In-Reply-To: <Pine.NEB.3.95.980602121639.2239A-100000@delos.stuttgart.netsurf.de>
References: <13683.45422.378835.553102@galadriel.ci.tuwien.ac.at>
	<Pine.NEB.3.95.980602121639.2239A-100000@delos.stuttgart.netsurf.de>
Message-ID: <13683.64583.668967.845450@galadriel.ci.tuwien.ac.at>

>>>>> On Tue, 2 Jun 1998 12:30:41 +0200 (MET DST),
>>>>> Egon Schmid (ES) wrote:

[ ... ]
>> >> hc <- hierclust(dist(t(pollen)), method=3)
ES> Error in pmatch(x, table) : argument is not of mode character
>> >> hc <- hclust(dist(t(pollen)))
>> >> members(hc)
ES> Error in .Fortran("assgn", n = as.integer(n), nplus1 =
ES> as.integer(nplus1),  : C/Fortran function not in load table

[...]

ES> Is there a general solution to this load table problem?


Seems like the shared library multiv.so is not loaded. Did you quit
and restart R in the same directory before the above commands? There
was a bug in 0.61 causing library() not to load the shared libraries
after the second time you restart R, because the list of loaded code
got falsely saved in the .RData file.

Please try it in a directory not containing an .RData file, maybe this
helps. Alternatively you can issue

	rm(.Dyn.libs)

before library().

Best,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch                             
Institut f?r Statistik                      Tel: (+43 1) 58801 4546
Technische Universit?t Wien                 Fax: (+43 1)  504 14 98
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Jun  2 18:49:41 1998
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 2 Jun 1998 09:49:41 -0700 (PDT)
Subject: R-beta: bugs and problems
In-Reply-To: <9806020712.AA26573@alpha.luc.ac.be>
Message-ID: <Pine.SUN.3.95.980602094722.5707B-100000@chekov>

On Tue, 2 Jun 1998, Jim Lindsey wrote:

> 
> 3. To obtain the codes of a factor variable, one uses as.numeric().
> However, this function destroys the properties of the matrix, turning
> it into a vector.
>   Factors are very useful, but they are presently a mess for anything
> except simple applications in lm/glm.


You can use codes() to extract the codes of a factor variable while
keeping the matrix structure
R> matrix(factor(1:10),2,5)->a
R> codes(a)
     [,1] [,2] [,3] [,4] [,5]
[1,]    1    3    5    7    9
[2,]    2    4    6    8   10


The other problems need more fixing.  


Thomas Lumley
UW Biostatistics

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Wed Jun  3 00:09:18 1998
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 3 Jun 1998 10:09:18 +1200 (NZST)
Subject: "as.numeric" / "As.numeric" [was "R-beta: bugs and problems"]
In-Reply-To: <199806021002.MAA00877@sophie.ethz.ch>
References: <9806020712.AA26573@alpha.luc.ac.be>
	<199806021002.MAA00877@sophie.ethz.ch>
Message-ID: <199806022209.KAA09607@stat1.stat.auckland.ac.nz>

Martin Maechler writes:
 > >>>>> "Jim" == Jim Lindsey <jlindsey at luc.ac.be> writes:
 > 
 >     Jim>  .....
 > 
 >     Jim> 3. To obtain the codes of a factor variable, one uses
 >     Jim> as.numeric().  However, this function destroys the properties of
 >     Jim> the matrix, turning it into a vector.
 > 
 > as.numeric(.) behaves so consistently (also in S-plus);
 > it has been a `pain' in other situations, such as passing a numeric matrix
 > to C or Fortran and wanting the result to still be a matrix.
 > 
 > The ``well-known'' (:-) solution is to use
 > 
 > 	storage.mode(x) <- "numeric"
 > 
 > instead, which is rather clumy, especially when passing arguments to
 > .C(..).
 > I've seen
 > 	As.numeric <- function(x) { storage.mode(x) <- "numeric"; x }
 > solving the above problem.
 > 
 > What do you (R-help readers !) think?

I like the idea, but maybe not the name so much (too much scope for
confusion).  Could I make a plug for something like "mode.numeric" or
"as.numeric.mode".

A single function of the form

	ensure.mode(x, "double")

would be another approach.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wvenable at attunga.stats.adelaide.edu.au  Wed Jun  3 02:06:19 1998
From: wvenable at attunga.stats.adelaide.edu.au (Bill Venables)
Date: Wed, 3 Jun 1998 09:36:19 +0930
Subject: R-beta: Re: "as.numeric" `mode' and `cast' should be kept separate.
In-Reply-To: <199806022209.KAA09607@stat1.stat.auckland.ac.nz>
References: <9806020712.AA26573@alpha.luc.ac.be>
	<199806021002.MAA00877@sophie.ethz.ch>
	<199806022209.KAA09607@stat1.stat.auckland.ac.nz>
Message-ID: <9806030006.AA16033@attunga.stats.adelaide.edu.au>

Ross Ihaka writes:
 > Martin Maechler writes:

 >  > The ``well-known'' (:-) solution is to use
 >  > 
 >  > 	storage.mode(x) <- "numeric"
 >  > 
 >  > instead, which is rather clumy, especially when passing
 >  > arguments to .C(..).  I've seen
 >  > 
 >  > 	As.numeric <- function(x) { storage.mode(x) <- "numeric"; x }

I thought storage.mode<- could only usefully take "double",
"single" or "integer", but I may well be wrong.

 >  > solving the above problem.
 >  > 
 >  > What do you (R-help readers !) think?
 > 
 > I like the idea, but maybe not the name so much (too much
 > scope for confusion).  Could I make a plug for something like
 > "mode.numeric" or "as.numeric.mode".
 > 
 > A single function of the form
 > 
 > 	ensure.mode(x, "double")
 > 
 > would be another approach.
 > 

As these things rapidly become fixed and permanent idioms it is
probably worthwhile getting it fairly right the first time.

I strongly recommend that the construction

> storage.mode(x) <- "double"

remains an option for compatibility reasons, clumsy or not.  

There are two (admittedly linked) concepts that are usefully kept
fairly separate.  Firstly the S concept of `mode', which is a
mutually exclusive classification of all S objects with classes
labelled "numeric", "list", "function", &c.  

Then there is the concept of `storage mode', which applies only
to atomic objects, and which characterises the way the atoms are
held in central memory and has classes "integer", "double",
"single" and "character" and that may be all.  This is a concept
pretty well only relevant to the interface with user compiled
code,and for C functions it corresponds to the idea of a cast.
If you are going to branch out I would favour using some word
other than `mode' entirely for this concept to avoid some very
common confusions.

I don't say this will appeal to everyone straight away, but I
would even favour using a binary operator syntax for the
assignment function form of the above replacement function, for
example

"%cast.as%" <- function(x, form) {
	storage.mode(x) <- deparse(substitute(form))
	x
}

Calls to .C would then take on such a striking form that it would
be immediately noticed if something had been missed:

	result <- .C("some_flashy_C_thing",
		     x = my.x %cast.as% double,
		     i = my.eye %cast.as% integer,
		     oops = forgot.this.one,
		     value = z %cast.as% single)$value

Nothing to do with mode.  If "%cast.as%" is too much typing, well
it's not too difficult to redefine your own shorter version:

"%as%" <- get("%cast.as%")

-----------------------------------------------------------------

There is a semi-related but much larger issue that also deserves
to be fully regularised: which classes of functions strip off
attributes and which retain them in the result, and if there is a
conflict, how is it resolved?  (storage.mode<- guarantees
attributes will be retained; as.numeric guarantees they won't.)

In S it seems very illogical to me that if M is a matrix, then
sqrt(M) is a matrix like M in all respects but with square-root
entries but pnorm(M) is a naked vector of probabilities.

This is a very large issue, but one that really does deserve to
be handled in a rigorously consistent and well docuented way.  S
and S-PLUS are a long way from that and getting further all the
time.  Perhaps R can still be nudged back onto a better track.

Bill Venables.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Wed Jun  3 03:18:04 1998
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 3 Jun 1998 13:18:04 +1200 (NZST)
Subject: R-beta: Re: "as.numeric" `mode' and `cast' should be kept separate.
In-Reply-To: <9806030006.AA16033@attunga.stats.adelaide.edu.au>
References: <9806020712.AA26573@alpha.luc.ac.be> <199806021002.MAA00877@sophie.ethz.ch> <199806022209.KAA09607@stat1.stat.auckland.ac.nz> <9806030006.AA16033@attunga.stats.adelaide.edu.au>
Message-ID: <199806030118.NAA14602@stat1.stat.auckland.ac.nz>

Bill Venables writes:
 > I don't say this will appeal to everyone straight away, but I
 > would even favour using a binary operator syntax for the
 > assignment function form of the above replacement function, for
 > example
 > 
 > "%cast.as%" <- function(x, form) {
 > 	storage.mode(x) <- deparse(substitute(form))
 > 	x
 > }
 > 
 > Calls to .C would then take on such a striking form that it would
 > be immediately noticed if something had been missed:
 > 
 > 	result <- .C("some_flashy_C_thing",
 > 		     x = my.x %cast.as% double,
 > 		     i = my.eye %cast.as% integer,
 > 		     oops = forgot.this.one,
 > 		     value = z %cast.as% single)$value
 > 
 > Nothing to do with mode.  If "%cast.as%" is too much typing, well
 > it's not too difficult to redefine your own shorter version:
 > 
 > "%as%" <- get("%cast.as%")

This certainly appeals to me straight away!  A very nice suggestion.

 > -----------------------------------------------------------------
 > 
 > There is a semi-related but much larger issue that also deserves
 > to be fully regularised: which classes of functions strip off
 > attributes and which retain them in the result, and if there is a
 > conflict, how is it resolved?  (storage.mode<- guarantees
 > attributes will be retained; as.numeric guarantees they won't.)
 > 
 > In S it seems very illogical to me that if M is a matrix, then
 > sqrt(M) is a matrix like M in all respects but with square-root
 > entries but pnorm(M) is a naked vector of probabilities.
 > 
 > This is a very large issue, but one that really does deserve to
 > be handled in a rigorously consistent and well docuented way.  S
 > and S-PLUS are a long way from that and getting further all the
 > time.  Perhaps R can still be nudged back onto a better track.

I'm certainly not claiming consistency, but in R, most builtin
functions try to retain (at least some) attributes.  E.g.

	> x <- matrix(1:4,nc=2)
	> pchisq(x,2)
	          [,1]      [,2]
	[1,] 0.3934693 0.7768698
	[2,] 0.6321206 0.8646647
	> pchisq(2,x)
	          [,1]      [,2]
	[1,] 0.8427008 0.4275933
	[2,] 0.6321206 0.2642411

Handling this in general is hard though.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Wed Jun  3 09:00:16 1998
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Wed, 3 Jun 1998 09:00:16 +0200 (CEST)
Subject: R-beta: Re: "as.numeric" `mode' and `cast' should be kept separate.
In-Reply-To: <199806030118.NAA14602@stat1.stat.auckland.ac.nz>
References: <9806020712.AA26573@alpha.luc.ac.be>
	<199806021002.MAA00877@sophie.ethz.ch>
	<199806022209.KAA09607@stat1.stat.auckland.ac.nz>
	<9806030006.AA16033@attunga.stats.adelaide.edu.au>
	<199806030118.NAA14602@stat1.stat.auckland.ac.nz>
Message-ID: <13684.62592.228884.425800@galadriel.ci.tuwien.ac.at>

>>>>> On Wed, 3 Jun 1998 13:18:04 +1200 (NZST),
>>>>> Ross Ihaka (RI) wrote:

RI> Bill Venables writes:
>> I don't say this will appeal to everyone straight away, but I
>> would even favour using a binary operator syntax for the
>> assignment function form of the above replacement function, for
>> example
>> 
>> "%cast.as%" <- function(x, form) {
>> storage.mode(x) <- deparse(substitute(form))
>> x
>> }
>> 
>> Calls to .C would then take on such a striking form that it would
>> be immediately noticed if something had been missed:
>> 
>> result <- .C("some_flashy_C_thing",
>> x = my.x %cast.as% double,
>> i = my.eye %cast.as% integer,
>> oops = forgot.this.one,
>> value = z %cast.as% single)$value
>> 
>> Nothing to do with mode.  If "%cast.as%" is too much typing, well
>> it's not too difficult to redefine your own shorter version:
>> 
>> "%as%" <- get("%cast.as%")

RI> This certainly appeals to me straight away!  A very nice suggestion.


I add a second PRO vote.

.f
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun  3 12:35:24 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Jun 1998 12:35:24 +0200
Subject: R-beta: Re: "as.numeric" `mode' and `cast' should be kept separate.
In-Reply-To: Friedrich Leisch's message of Wed, 3 Jun 1998 09:00:16 +0200 (CEST)
References: <9806020712.AA26573@alpha.luc.ac.be>
	<199806021002.MAA00877@sophie.ethz.ch>
	<199806022209.KAA09607@stat1.stat.auckland.ac.nz>
	<9806030006.AA16033@attunga.stats.adelaide.edu.au>
	<199806030118.NAA14602@stat1.stat.auckland.ac.nz>
	<13684.62592.228884.425800@galadriel.ci.tuwien.ac.at>
Message-ID: <x2d8cq22oj.fsf@blueberry.kubism.ku.dk>

Friedrich Leisch <Friedrich.Leisch at ci.tuwien.ac.at> writes:

> >> "%cast.as%" <- function(x, form) {
> >> storage.mode(x) <- deparse(substitute(form))
> >> x
> >> }
...
> 
> RI> This certainly appeals to me straight away!  A very nice suggestion.
> 
> 
> I add a second PRO vote.

I think I have at least half a CON: Is it necessary to do the
deparse(substitute(form)) bit, just to get rid of the quotes? There
are many occasions where you *feel like* doing that in R/S, but
refrain from it, realising that you really want to be able to pass the
argument in a variable, sometimes.

Some examples are:

 read.table(file.dat)
 plot(x,y,type=l) 

On the other hand, help and apropos already contain logic to allow
unquoted arguments.

Without that piece of logic one could just

> "%as%"<-.Alias(get("storage.mode<-"))

> pi %as% "integer"
[1] 3

This doesn't change pi, BTW:

> pi
[1] 3.141593


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From M.Beaumont at ucl.ac.uk  Wed Jun  3 15:29:16 1998
From: M.Beaumont at ucl.ac.uk (Mark A. Beaumont)
Date: Wed, 3 Jun 1998 14:29:16 +0100
Subject: R-beta: locfit package.
Message-ID: <l03130301b19aed91f1e7@[194.80.128.47]>

I was wondering if someone could help me with a problem getting locfit running.
I am running Digital Unix 3.2D on an alphastation, with R 0.61.1
I downloaded the CRAN distribution of locfit. I had no problems installing it
with R INSTALL (I installed it into my library rather than the default base
library; the output is attached at the end of this email message).

I then tried to test it with the Geyser example in
http://cm.bell-labs.com/cm/ms/departments/sia/project/locfit/dens.html

and I get

>  library(locfit)
>  data(geyser,package=locfit)
>  fit <- locfit(~geyser,alpha=c(0.1,0.80),flim=c(1,6))
Segmentation fault (core dumped)

Does anyone have any ideas?

Best wishes,
Mark
----------------------------------------------
wright.ioz.ac.uk> R INSTALL locfit ~/rstuff
Installing package `locfit' ...
libs
cc -ieee_with_inexact -O2  -I/usr/local/R-0.61.1/include   -c family.c -o
family.o
cc -ieee_with_inexact -O2  -I/usr/local/R-0.61.1/include   -c kdtree.c -o
kdtree.o
cc -ieee_with_inexact -O2  -I/usr/local/R-0.61.1/include   -c locfit.c -o
locfit.o
cc -ieee_with_inexact -O2  -I/usr/local/R-0.61.1/include   -c S_enter.c -o
S_enter.o
cc -ieee_with_inexact -O2  -I/usr/local/R-0.61.1/include   -c frend.c -o
frend.o
cc -ieee_with_inexact -O2  -I/usr/local/R-0.61.1/include   -c linalg.c -o
linalg.o
cc -ieee_with_inexact -O2  -I/usr/local/R-0.61.1/include   -c random.c -o
random.o
cc -ieee_with_inexact -O2  -I/usr/local/R-0.61.1/include   -c weight.c -o
weight.o
cc -ieee_with_inexact -O2  -I/usr/local/R-0.61.1/include   -c density.c -o
density.o
cc -ieee_with_inexact -O2  -I/usr/local/R-0.61.1/include   -c kappa0.c -o
kappa0.o
cc -ieee_with_inexact -O2  -I/usr/local/R-0.61.1/include   -c simul.c -o
simul.o
ld:
Warning: Unresolved:
pnorm
exp
log
sqrt
fabs
printf
igamma
lgamma
ibeta
pow
calloc
floor
__remq
__divq
sin
cos
pchisq
atan2
runif
pf
dchisq
df
fprintf
rnorm
rpois
rexp
__exc_add_pc_range_table
__exc_remove_pc_range_table
__exc_add_gp_range
__exc_remove_gp_range
R
data
DONE

Installing documentation of package `locfit' ...
 >>> Building help pages for package `locfit'
     Formats: nroff html latex
  locfit
DONE (INSTALL)

Mark A. Beaumont
Institute of Zoology
Zoological Society of London
Regent's Park
London NW1 4RY UK
Tel:  0171 449 6617
Fax: 0171 586 2870
m.beaumont at ucl.ac.uk


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Todd.Taylor at pnl.gov  Wed Jun  3 16:00:26 1998
From: Todd.Taylor at pnl.gov (Z. Todd Taylor)
Date: Wed, 03 Jun 1998 07:00:26 -0700
Subject: R-beta: Re: "as.numeric" `mode' and `cast' should be kept separate.
Message-ID: <199806031400.HAA24783@aggie.pnl.gov>

Bill Venables <wvenable at attunga.stats.adelaide.edu.au> wrote:

[ snip ]

> I don't say this will appeal to everyone straight away, but I
> would even favour using a binary operator syntax for the
> assignment function form of the above replacement function, for
> example
> 
> "%cast.as%" <- function(x, form) {
> 	storage.mode(x) <- deparse(substitute(form))
> 	x
> }
> 
> Calls to .C would then take on such a striking form that it would
> be immediately noticed if something had been missed:
> 
> 	result <- .C("some_flashy_C_thing",
> 		     x = my.x %cast.as% double,
> 		     i = my.eye %cast.as% integer,
> 		     oops = forgot.this.one,
> 		     value = z %cast.as% single)$value

I really like that idea!  But I have to nit-pick the suggested
implementation.  Instead of the deparse(substitute()) stuff,
just take a simple character string.  Else you can't do things
like

   x %cast.as% storage.mode(y)

--Todd
-- 
Z. Todd Taylor
Pacific Northwest National Laboratory
Todd.Taylor at pnl.gov
Why is the 'last time' previous to this time?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikem at stat.cmu.edu  Wed Jun  3 16:14:04 1998
From: mikem at stat.cmu.edu (Mike Meyer)
Date: Wed, 03 Jun 1998 10:14:04 -0400
Subject: R-beta: anova.glm is broken with offsets
Message-ID: <199806031414.KAA17990@desire.stat.cmu.edu>

I have *not* tracked this bug very far because I hope someone who is more 
familiar with the glm/anova code will jump in.

If one fits a glm model with an offset, the NULL deviance is incorrectly 
calculated (it is calculated without the offset).  The means one can get 
examples where the model deviance is greater than the NULL deviance.

Here is some example output, (without the data).


> mymod <-glm(cens ~ group, family=poisson,offset=log(time))
> anova(mymod)

Analysis of Deviance Table

Model: poisson, link: log

Response: cens

Terms added sequentially (first to last)

       Df  Deviance  Resid. Df  Resid. Dev
NULL                        41       20.19
group   1    -17.83         40       38.02

> 
Mike Meyer, Department of Statistics, Carnegie Mellon University


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wvenable at attunga.stats.adelaide.edu.au  Wed Jun  3 16:17:31 1998
From: wvenable at attunga.stats.adelaide.edu.au (Bill Venables)
Date: Wed, 3 Jun 1998 23:47:31 +0930
Subject: R-beta: Re: "as.numeric" `mode' and `cast' should be kept separate.
In-Reply-To: <199806031400.HAA24783@aggie.pnl.gov>
References: <199806031400.HAA24783@aggie.pnl.gov>
Message-ID: <9806031417.AA17108@attunga.stats.adelaide.edu.au>

Z. Todd Taylor writes:
 > 
 > I really like that idea!  But I have to nit-pick the suggested
 > implementation.  Instead of the deparse(substitute()) stuff,
 > just take a simple character string.  Else you can't do things
 > like
 > 
 >    x %cast.as% storage.mode(y)

OK, OK, I'll go with he flow.  We'll use Peter's and Todd's form
as the primary and if I want to have a lazy form, well, I know
how to make it...  :-)

Sometimes you will need it, but remember this is for compiled
code, the name of the entry point is in the overwhelming majority
of cases going to be a character constant, and the storage mode
is by that time is set in concrete, and one purpose I had in mind
was easy checking that it was the right cast being done.

Still, you guys win.  I'm happy with the advance if we take it.

(In fact I'm astounded.  I expected much heavier opposition than
this, I must say...)

 > --Todd
 > -- 
 > Z. Todd Taylor
 > Pacific Northwest National Laboratory
 > Todd.Taylor at pnl.gov
 > Why is the 'last time' previous to this time?

For the same reason that an `older woman' is never as old as an
`old woman'.  (or man). 

Bill.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at uwinnipeg.ca  Wed Jun  3 19:26:01 1998
From: wsimpson at uwinnipeg.ca (Bill Simpson)
Date: Wed, 3 Jun 1998 12:26:01 -0500 (CDT)
Subject: R-beta: lwd par?
Message-ID: <Pine.OSF.3.95.980603122426.30440A-100000@io.uwinnipeg.ca>

I looked in the docs for par and did not see lwd (for controlling line
width in plots). Does it go under some other name in R, or is the ability
to specify line width not there?

Thanks for any help.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikem at stat.cmu.edu  Wed Jun  3 21:34:50 1998
From: mikem at stat.cmu.edu (Mike Meyer)
Date: Wed, 03 Jun 1998 15:34:50 -0400
Subject: R-beta: offset code in glm....
Message-ID: <199806031934.PAA18786@desire.stat.cmu.edu>

I'm trying delve into the offset code in glm, and I have to admit I'm getting 
lost.

My particular concern is that if you do something like

	glm( fred ~ wilma, offset=barney, data=betty)

then the offset is not found if  barney is a component of the data frame 
betty. (If you do the same thing with weights, then the weight is found in the 
data frame).

I don't know if this is a design decision, and I can't follow the logic of the
	model.offsets
code.  

I'm willing to try to fix the behaviour of the offset code, but I could use 
some help understanding what all the current code.  In particular is the 
function called
	model.extract
(which seems to play with offsets?) used anywhere.

Thanks, --Mike

Mike Meyer, Department of Statistics, Carnegie Mellon University


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikem at stat.cmu.edu  Wed Jun  3 21:56:21 1998
From: mikem at stat.cmu.edu (Mike Meyer)
Date: Wed, 03 Jun 1998 15:56:21 -0400
Subject: R-beta: offset and glm again
Message-ID: <199806031956.PAA18949@desire.stat.cmu.edu>

I guess I understand it now (although it is surprising to me).

The following is a valid model formula
	fred ~ wilma + offset(barney)
that sets the model offset to barney.

Given that this works, it would seem that one could remove the 
	offset =
argument from the glm call (and document the offset feature somewhere).

Too bad that one can't set weights the same way.

The anova bug when offsets are used is still there.

(Thomas, you seem to be the last to hack on glm, have I got it right?)


Mike Meyer, Department of Statistics, Carnegie Mellon University


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Jun  3 22:12:46 1998
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 3 Jun 1998 13:12:46 -0700 (PDT)
Subject: R-beta: offset and glm again
In-Reply-To: <199806031956.PAA18949@desire.stat.cmu.edu>
Message-ID: <Pine.SOL.3.95.980603130707.20938C-100000@gorn>

On Wed, 3 Jun 1998, Mike Meyer wrote:

> I guess I understand it now (although it is surprising to me).
> 
> The following is a valid model formula
> 	fred ~ wilma + offset(barney)
> that sets the model offset to barney.
> 
> Given that this works, it would seem that one could remove the 
> 	offset =
> argument from the glm call (and document the offset feature somewhere).
>

It will be documented in 0.62 (as will dozens of other functions)

> Too bad that one can't set weights the same way.
> 
> The anova bug when offsets are used is still there.
> 
> (Thomas, you seem to be the last to hack on glm, have I got it right?)
> 

Yes.  In fact offsets should be interpreted in the data frame even when
supplied as offset=.  This is an easy fix -- just change

        if (is.null(offset)) 
                offset <- model.offset(mf)

to
	offset<-model.offset(mf)


The offset argument shouldn't ever be interpreted as is, it should always
be obtained from the model frame. This is left over from before
model.frame() worked. 

Fixing the null deviance will take more work.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From M.Beaumont at ucl.ac.uk  Thu Jun  4 13:09:19 1998
From: M.Beaumont at ucl.ac.uk (Mark A. Beaumont)
Date: Thu, 4 Jun 1998 12:09:19 +0100
Subject: R-beta: locfit package.
Message-ID: <l03130300b19c2f5d4b14@[194.80.128.47]>

Dear Clive,

Thanks for your advice. The problem appears to be with the ints, as you
suggested.
I changed the typedef long int INT bit of local.h to typedef int INT (note:
this is different from your "all else fails" suggestion), and
reinstalled, and the example now works fine (I haven't checked further, yet)

Best wishes,
Mark


>Not sure that I can help with the problem, but would like to track
>it down...
>
>>I was wondering if someone could help me with a problem getting locfit
>>running.
>>I am running Digital Unix 3.2D on an alphastation, with R 0.61.1
>
>Is that a 64 bit system? I know int's and long int's caused problems
>with Locfit and Splus on 64 bit alpha's. Changing int's to long int's
>solved that. But I don't have access to any 64 bit systems for testing,
>so there may be more.
>
>Some other examples to try (might narrow down the source of the problem):
>> fit <- locfit(~geyser,alpha=c(0.1,0.80),flim=c(1,6),itype="mult")
>> data(ethanol,package=locfit)
>> fit <- locfit(NOx~E,data=ethanol)
>> fit <- locfit(NOx~E,data=ethanol,ev="data")
>
>(I assume R uses long int's, but can't find that explicitly in the
> documentation. If everything else fails, try changing
>typedef long int INT;
> to
>typedef long int int;
> in the locfit/src/local.h file, and touch *.c, install again etc).
>
>Regards,
>Clive.


Mark A. Beaumont
Institute of Zoology
Zoological Society of London
Regent's Park
London NW1 4RY UK
Tel:  0171 449 6617
Fax: 0171 586 2870
m.beaumont at ucl.ac.uk


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun  4 14:16:01 1998
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 4 Jun 1998 13:16:01 +0100 (BST)
Subject: R-beta: MASS libraries for R
Message-ID: <199806041216.NAA01566@toucan.stats.ox.ac.uk>

We have made a nearly complete set of the V&R2 libraries for R.
These are in the devel section of contributions to CRAN as

	VR5.3pl021-1.tar.gz

and at

	http://www.stats.ox.ac.uk/pub/R/VR5.3pl021-1.tar.gz
	ftp://ftp.stats.ox.ac.uk/pub/R/VR5.3pl021-1.tar.gz

They have been developed under a very recent snapshot, and this is
probably needed.  Also in that file is a set of scripts from the book
modified for use with R.

This is a beta-test version: we are interested to hear of your
experiences but will not support this seriously until R-0.62 is
released.  We are grateful to Kurt Hornik and Albrecht Gebhardt
for their work on earlier versions.

The current status is

MASS:		almost all working, the remaining things depend
		   on bug fixes or on Trellis, nls, ...
class		OK
nnet		OK
spatial		OK

To come are a R clone of the tree() software and of RPART, both
of which are done but need more testing.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Todd.Taylor at pnl.gov  Thu Jun  4 16:04:12 1998
From: Todd.Taylor at pnl.gov (Z. Todd Taylor)
Date: Thu, 04 Jun 1998 07:04:12 -0700
Subject: "as.numeric" / "As.numeric" [was "R-beta: bugs and problems"]
Message-ID: <199806041404.HAA00800@aggie.pnl.gov>

Ross Ihaka <ihaka at stat.auckland.ac.nz> wrote:

> Martin Maechler writes:

[ snip ]

>  > I've seen
>  > 	As.numeric <- function(x) { storage.mode(x) <- "numeric"; x }
>  > solving the above problem.
>  > 
>  > What do you (R-help readers !) think?
> 
> I like the idea, but maybe not the name so much (too much scope for
> confusion).  Could I make a plug for something like "mode.numeric" or
> "as.numeric.mode".
> 
> A single function of the form
> 
> 	ensure.mode(x, "double")
> 
> would be another approach.

Maybe it's a little obscure, but for a decade we've been using
the convention of capitalizing a function name to indicate it
as a local "replacement" for a BADIMO(*) S built-in.

e.g.:  Mean - just like 'mean' but na.rm defaults to T (Ditto for
          Min, Median, Sum, Any, Cor, Range, etc.)
       Diff, Lag - return answers exactly parallel to their inputs
       Window - returns a ts exactly the size you asked for without
          lopping off the end(s)
       Brush - eliminates NAs, takes data frames, doesn't crash
          on two-column input
       Interp - eliminates duplicate tuples, accepts NAs
       Scan, Read.Table - accept "filenames" that represent Unix
          pipes.  e.g., Scan(file = "grep 'keep' myfile |", ...)

(Doesn't anyone else do this?)

--Todd

(*) Broken As Designed In My Opinion

-- 
Z. Todd Taylor
Pacific Northwest National Laboratory
Todd.Taylor at pnl.gov
Why is it Filipino, not Philippino?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Fri Jun  5 06:56:04 1998
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Fri, 05 Jun 1998 04:56:04 +0000
Subject: R-beta: Re: "as.numeric"/"As.numeric"
Message-ID: <35777A64.673BD176@ozemail.com.au>

I was going to swot up on data storage models before I got involved, but
Todd's suggestion for local replacement functions (i.e. capitalize the
function name) has to get a vote.  This seems to have considerable
precedent, and would tend to better integrate R with common programming
conventions, which makes it a lot easier for incoming users to
understand.

Jim


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at luc.ac.be  Fri Jun  5 10:10:42 1998
From: jlindsey at luc.ac.be (Jim Lindsey)
Date: Fri, 5 Jun 1998 10:10:42 +0200 (MET DST)
Subject: R-beta: characters to Fortran
Message-ID: <9806050810.AA05095@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 741 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980605/835c73c0/attachment.pl

From ihaka at stat.auckland.ac.nz  Fri Jun  5 10:35:45 1998
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 5 Jun 1998 20:35:45 +1200 (NZST)
Subject: R-beta: characters to Fortran
Message-ID: <199806050835.UAA22505@stat1.stat.auckland.ac.nz>

Remember that everything in R is a vector.  You don't pass a single
character string, but rather an array of strings of length 1.

You also probably need to be pretty careful about what you do with
character strings.  Compilers can pass string lengths in some pretty
tricky ways (extra undocumented aguments etc).  This can create
problems.

As a general rule I would recommend C for string handling stuff.
Alternatively, encode the string as an integer in the interpreted
code which calls the fortran.

Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pedrovl at yahoo.com  Sat Jun  6 18:22:53 1998
From: pedrovl at yahoo.com (Pedro Lima)
Date: Sat, 6 Jun 1998 09:22:53 -0700 (PDT)
Subject: R-beta: Problem with Multi-Figure Plots
Message-ID: <19980606162253.27948.rocketmail@send1e.yahoomail.com>

I was trying to make some multi figure plots and I had some strange
problems. I'm using R 0.61.2. When I make this plot

>postscript(file="timeplot5.ps",horizontal=TRUE)
>par(mfrow=c(2,2))
>plot(dados$a1)
>plot(dados$a2)
>plot(dados$a3)
>plot(dados$a4)

The last panel is ploted without the box and it is always ploted in
landscape mode. Can anyone reproduce this problem? But if I make the
plot this way

>x11(orientation="portrait",paper="a4",width = 6.7, height = 9.5, ps=1)
>par(mfrow=c(2,2))
>plot(dados$a1)
>plot(dados$a2)
>plot(dados$a3)
>plot(dados$a4)
>save.plot("timeplot6.ps")

I get the plot I want. Am I making some
mistake in the first case?
Maybe it's just me... but I feel that this second aproach gives a plot 
with lower resolution. Is that true?

Thanks,

Pedro Vale Lima





_________________________________________________________
DO YOU YAHOO!?
Get your free @yahoo.com address at http://mail.yahoo.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Douglas at dsteele.demon.co.uk  Sat Jun  6 21:19:18 1998
From: Douglas at dsteele.demon.co.uk (Douglas Steele)
Date: Sat, 6 Jun 1998 20:19:18 +0100
Subject: R-beta: makefile command line for recreating dynload demo dll
Message-ID: <W0u9sBA2YZe1EwMI@dsteele.demon.co.uk>

Hi,

I have gnuwin32 (b18) and the rw0613b.zip version of R.

With regards to (re)making the dynload dll demo given (zero.dll) could
anyone tell me what the command line for the makefile should be.
ie,

make -f Makefile.in ...?

Thanks for any help
-- 
Douglas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at luc.ac.be  Mon Jun  8 09:35:00 1998
From: jlindsey at luc.ac.be (Jim Lindsey)
Date: Mon, 8 Jun 1998 09:35:00 +0200 (MET DST)
Subject: R-beta: unimplemented duplicate feature
Message-ID: <9806080735.AA00866@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 924 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980608/fa1046df/attachment.pl

From guido at sirio.stat.unipd.it  Mon Jun  8 19:43:31 1998
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Mon, 8 Jun 1998 18:43:31 +0100
Subject: R-beta: makefile command line for recreating dynload demo dll
In-Reply-To: <W0u9sBA2YZe1EwMI@dsteele.demon.co.uk>; from Douglas Steele on Sat, Jun 06, 1998 at 08:19:18PM +0100
References: <W0u9sBA2YZe1EwMI@dsteele.demon.co.uk>
Message-ID: <19980608184331.A2673@sirio.stat.unipd.it>

On Sat, Jun 06, 1998 at 08:19:18PM +0100, Douglas Steele wrote:
> Hi,
> 
> I have gnuwin32 (b18) and the rw0613b.zip version of R.
> 
> With regards to (re)making the dynload dll demo given (zero.dll) could
> anyone tell me what the command line for the makefile should be.
> ie,
> 
> make -f Makefile.in ...?


The enclosed makefile does the job with egcs-mingw32. I suppose
that it should (+/-) work also with the cygnus version of gcc
but I cannot test it. 
Just, put it in the demos/dynload directory and type
> make
Observe that all the rules come from the files (in particular MkRules) in
rw0613s.zip. 
guido m.
ps. Forget Makefile.in. I left it there and I apologize for this
since it is a base Makefile for building a shared library under Unix.

------------------------------------------------------------------------
.SUFFIXES: .c .f .o .a  .def .dll .exe .lib 

all: libiR.a zero.dll

RM=rm -f
CC=gcc
DLL=gcc -mdll  
DLLTOOL=dlltool


.c.o:
	@echo -------- Building $@ from $< --------
	$(CC)  $(CFLAGS) $($*-CFLAGS) -o $@  -c $<
	



%.dll %.def:  %.a 0.o  
	@echo ------- Building $@ from $^ --------
	echo LIBRARY $* > $*.def
	echo EXPORTS >> $*.def
	nm $*.a | sed -n "/^........ [DT] _/s/^........ [BCDRT] _/ /p" >> $*.def
	$(DLL) -Wl,--base-file,0.b $(DLLFLAGS) $($*-DLLFLAGS) -o $@  $*.a  0.o $($*-DLLLIBS) $(DLLLIBS) 
	$(DLLTOOL) $(DLLTOOLFLAGS) $($*-DLLTOOLFLAGS) --dllname $@ \
	  --base-file 0.b --output-exp 0.e --def $*.def
	$(DLL)  -Wl,--base-file,0.b $(DLLFLAGS) $($*-DLLFLAGS) -o $@ 0.e $*.a 0.o $($*-DLLLIBS) $(DLLLIBS)
	$(DLLTOOL) $(DLLTOOLFLAGS) $($*-DLLTOOLFLAGS) --dllname $@ \
	 --base-file 0.b --output-exp 0.e --def $*.def 
	$(DLL)  $(DLLFLAGS) $($*-DLLFLAGS) -o $@  0.e $*.a  0.o \
	 $($*-DLLLIBS) $(DLLLIBS)	     
	$(RM)  0.b 0.e



%.a:    
	@echo -------- Building $@ from $^ --------
	ar cr $@ $^
	ranlib $@


0.o:
	echo asm(".section .idata$$3\n" ".long 0,0,0,0,0,0,0,0")END > 0.c
	gcc -DEND=\; -c 0.c
	rm 0.c




DLLLIBS=libiR.a
DLLFLAGS=-s


zero.a: zero.o

libiR.a: R.def
	dlltool --dllname R.exe  --output-lib libiR.a --def R.def
	
R.def:
	echo EXPORTS > R.def
	echo call_S  >> R.def
	echo error   >> R.def


clean:
	$(RM) *.a *.def *.o *~


veryclean: clean
	$(RM) *.dll 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Douglas at dsteele.demon.co.uk  Mon Jun  8 19:32:52 1998
From: Douglas at dsteele.demon.co.uk (Douglas Steele)
Date: Mon, 8 Jun 1998 18:32:52 +0100
Subject: R-beta: nnet port
Message-ID: <k67p+BAEBCf1EwSA@dsteele.demon.co.uk>


Where can I get the following headers:

S.h
newredef.h

-- 
Douglas Steele
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Mon Jun  8 21:27:21 1998
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Mon, 8 Jun 1998 20:27:21 +0100
Subject: R-beta: nnet port
In-Reply-To: <k67p+BAEBCf1EwSA@dsteele.demon.co.uk>; from Douglas Steele on Mon, Jun 08, 1998 at 06:32:52PM +0100
References: <k67p+BAEBCf1EwSA@dsteele.demon.co.uk>
Message-ID: <19980608202721.A2832@sirio.stat.unipd.it>

On Mon, Jun 08, 1998 at 06:32:52PM +0100, Douglas Steele wrote:
> 
> Where can I get the following headers:
> 
> S.h
> newredef.h
S.h is in the R source. I don't know anything about the other header.
guido m.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Douglas at dsteele.demon.co.uk  Tue Jun  9 00:35:33 1998
From: Douglas at dsteele.demon.co.uk (Douglas Steele)
Date: Mon, 8 Jun 1998 23:35:33 +0100
Subject: R-beta: makefile command line for recreating dynload demo dll
In-Reply-To: <19980608184331.A2673@sirio.stat.unipd.it>
Message-ID: <5unu7CA1cGf1Ewwq@dsteele.demon.co.uk>

In message <19980608184331.A2673 at sirio.stat.unipd.it>, Guido Masarotto
<guido at sirio.stat.unipd.it> writes
>The enclosed makefile does the job with egcs-mingw32. I suppose
>that it should (+/-) work also with the cygnus version of gcc

Many thanks.

I have tried running it and with a few changes it gets as far as...

$(DLL) -Wl,--base-file,0.b $(DLLFLAGS) $($*-DLLFLAGS) -o $@  $*.a \
    0.o $($*-DLLLIBS) $(DLLLIBS)

with...

gcc -mdll -Wl,--base-file,0.b -s -o zero.dll zero.a 0.o libiR.a

libcmain: undefined ref to WinMain at 16

at which point I cann't get further.  Any ideas ?


-- 
Douglas Steele
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Tue Jun  9 11:06:35 1998
From: plummer at iarc.fr (Martyn Plummer)
Date: Tue, 09 Jun 1998 11:06:35 +0200
Subject: R-beta: Problem with Multi-Figure Plots
References: <19980606162253.27948.rocketmail@send1e.yahoomail.com>
Message-ID: <357CFB1B.1BCB6BFF@iarc.fr>

Pedro Lima wrote:
> 
> I was trying to make some multi figure plots and I had some strange
> problems. I'm using R 0.61.2. When I make this plot
> 
> >postscript(file="timeplot5.ps",horizontal=TRUE)
> >par(mfrow=c(2,2))
> >plot(dados$a1)
> >plot(dados$a2)
> >plot(dados$a3)
> >plot(dados$a4)
> 
> The last panel is ploted without the box and it is always ploted in
> landscape mode. Can anyone reproduce this problem?

Did you close the postcript device with "dev.off()"
before printing?

Regarding print quality, I should think that both the
"postscript" device and the "print.graph" function give
the same quality.  Both methods produce output in PostScript
form. This is a programming language for drawing
pages, so the resolution of the output should be as good
as your printer allows.

Martyn

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Douglas at dsteele.demon.co.uk  Tue Jun  9 19:57:16 1998
From: Douglas at dsteele.demon.co.uk (Douglas Steele)
Date: Tue, 9 Jun 1998 18:57:16 +0100
Subject: R-beta: R-beta makefile
In-Reply-To: <19980609085310.A248@sirio.stat.unipd.it>
Message-ID: <4v1+bCA8dXf1EwAn@dsteele.demon.co.uk>

>This mean that the specs file of Cygnus gcc is different from the
>mingw32 one.
OK thanks
(I added main() {} as per FAQ and I got the dynload to build a dll ok)



I am also interested in building the R sources as per your descriptions.
To simplify things, I have removed b18 cygwin and have now installed
egcs-mingw32 with your djtools as recommended.

Everything seems to work OK; tools that are present run faster, and I
can still build the dynaload dll example.



However, on going to (/R-0.61.3/src/gnuwin32)$
and typing "make" I get:

*** No rule to make target `../appl/ROUTINES', needed by
`../include/FFDecl.h'.  Stop.
[exited with 2]


(This was the same error I got under the origional b18 setup)


Do these directories exist (and does FFDecl.h exist) ?
The reason I ask is because in MakeDLL (for example) there are the lines

include ../../../gnuwin32/MkRule
and
DLLLIBS=-L../../../gnuwin32 -l_iR -lf2c

which seem to refer to directories on the wrong path
(ie why ../../../)



-- 
Douglas Steele
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Tue Jun  9 21:40:35 1998
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Tue, 9 Jun 1998 20:40:35 +0100
Subject: R-beta: Re: R-beta makefile
In-Reply-To: <4v1+bCA8dXf1EwAn@dsteele.demon.co.uk>; from Douglas Steele on Tue, Jun 09, 1998 at 06:57:16PM +0100
References: <19980609085310.A248@sirio.stat.unipd.it> <4v1+bCA8dXf1EwAn@dsteele.demon.co.uk>
Message-ID: <19980609204035.A2000@sirio.stat.unipd.it>

On Tue, Jun 09, 1998 at 06:57:16PM +0100, Douglas Steele wrote:
> >This mean that the specs file of Cygnus gcc is different from the
> >mingw32 one.
> OK thanks
> (I added main() {} as per FAQ and I got the dynload to build a dll ok)
> 
> 
> 
> I am also interested in building the R sources as per your descriptions.
> To simplify things, I have removed b18 cygwin and have now installed
> egcs-mingw32 with your djtools as recommended.
> 
> Everything seems to work OK; tools that are present run faster, and I
> can still build the dynaload dll example.
> 
> 
> 
> However, on going to (/R-0.61.3/src/gnuwin32)$
> and typing "make" I get:
> 
> *** No rule to make target `../appl/ROUTINES', needed by
> `../include/FFDecl.h'.  Stop.
> [exited with 2]
> 
Have you downloaded and uncompressed the R sources? rw0613s.zip
is just an add-on. ../appl/ROUTINES is in R-0.61.3.tar.gz.
If you expand R-0.61.3.tar.gz somewhere and then rw0613s.zip
in R-0.61.3, you should get a directory tree like this
R-0.61.3 -- afm
            demos
	    --
	    --
	    src -- appl
	           main
		   ---
		   ---
		   gnuwin32
		   library -- base
		              eda  -- src
			              R
				      ---
			      ---
                   ----
		   ----
		   ----
		   
	        

> 
> Do these directories exist (and does FFDecl.h exist) ?
FFDecl.h is generated by the command in the Makefile that gave you
an error. 

> The reason I ask is because in MakeDLL (for example) there are the lines
> 
> include ../../../gnuwin32/MkRule
> and
> DLLLIBS=-L../../../gnuwin32 -l_iR -lf2c
> 
> which seem to refer to directories on the wrong path
> (ie why ../../../)
> 
The main make runs in R-0.61.3/src/gnuwin32.
To build package xxx (e.g. eda), you find in the Makefile  a rule of the type
make -C ../library/xxx -f ../../gnuwin32/MakePkg PKG=xxx .................
Hence, this sub-make is executed in the ../library/xxx directory,
but in MakePkg you find a rule of the type
make -C ./src -f ../../../gnuwin32/MakeDLL .................
So, the sub-sub-make which build the shared library is executed 
in ../library/xxx/src (path starting from the gnuwin32 directory).
Now MkRule (this file is not R-specific but contain the rules
for compiling .c and .f file + building relocable executable
and dll) and lib_iR.a (the import library for R.exe) are
in the gnuwin32 directory. This is why they must prefixed by
../../../gnuwin32.

I hope this can help (and that my English is not too obscure).
guido m.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Douglas at dsteele.demon.co.uk  Wed Jun 10 01:24:40 1998
From: Douglas at dsteele.demon.co.uk (Douglas Steele)
Date: Wed, 10 Jun 1998 00:24:40 +0100
Subject: R-beta: makefile
In-Reply-To: <19980609204035.A2000@sirio.stat.unipd.it>
Message-ID: <1kkNJCA4Qcf1EwRn@dsteele.demon.co.uk>

In message <19980609204035.A2000 at sirio.stat.unipd.it>, Guido Masarotto
<guido at sirio.stat.unipd.it> writes
>Have you downloaded and uncompressed the R sources? rw0613s.zip
>is just an add-on. ../appl/ROUTINES is in R-0.61.3.tar.gz.
That fixed one problem :)

typing "make" ran the makefile for some time ok until the line

windres -i wincons.rc ...etc

when a lot of rapid scrolling occurred on the screen and which finished
with the error

C:\MINGW32\BIN\WINDRES.EXE: no resources
make.exe: *** [res.o] Error 1
[exited with 2]

(? does this mean that I am out of memory, or is there anything else I
can do)



If it is not possible to fix the above, is it still possible to install
other packages ?





>I hope this can help (and that my English is not too obscure).
You have been very helpful

-- 
Douglas Steele
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Douglas at dsteele.demon.co.uk  Wed Jun 10 13:58:42 1998
From: Douglas at dsteele.demon.co.uk (Douglas Steele)
Date: Wed, 10 Jun 1998 12:58:42 +0100
Subject: R-beta: R-beta makefile
In-Reply-To: <19980609204035.A2000@sirio.stat.unipd.it>
Message-ID: <2$W9vCAyTnf1EwBS@dsteele.demon.co.uk>

Hi,

I am not sure if the last email worked: seemed to be a problem at the r-
list end



In message <19980609204035.A2000 at sirio.stat.unipd.it>, Guido Masarotto
<guido at sirio.stat.unipd.it> writes
>Have you downloaded and uncompressed the R sources? rw0613s.zip
Thats fixed one problem :)

>I hope this can help (and that my English is not too obscure).
Very helpful





make now runs OK and builds R.a (1,127KB), and almost finishes but fails
at line for resource compiler

windres -i wincons.rc -o res.o


(lots of scrolling on screen then ends with)
MdiAccel ACCELERATORS
BEGIN
 (88) , 109 ,VIRTKEY, ALT
END

C:\MINGW32\BIN\WINDRES.EXE: no resources
make.exe: *** [res.o] Error 1
[exited with 2]




Am I missing any other files by any chance ?

eg
I have the compiler
ftp://ftp.xraylith.wisc.edu/pub/khan/gnu-win32/mingw32/releases/egcs-
1.0-2-mingw32.zip


but I do not have
http://agnes.dida.physik.uni-essen.de/~janjaap/mingw32/windows32api-
980118.zip



-- 
Douglas Steele
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Jun 10 22:16:16 1998
From: bates at stat.wisc.edu (Douglas Bates)
Date: 10 Jun 1998 15:16:16 -0500
Subject: R-beta: "A brief history of S"
Message-ID: <6r90n5ui5r.fsf@verdi.stat.wisc.edu>

While writing his '98 Interface paper Ross Ihaka was asking about the
history of S so he could relate it to the history of R.  I was looking
at the Statistics and Information Analysis Division's web page at Bell
Labs and went to their technical reports section
		  http://cm.bell-labs.com/stat/doc/
Sure enough, there is a tech report by Rick Becker on "A Brief History
of S".  There is no date on it but it refers to the 1994 edition of
Venables and Ripley so it must be post-1994.

I also found it interesting to check Duncan Temple Lang's web page
		 http://cm.bell-labs.com/stat/duncan/
Many of his interests are shared by R developers.
-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Sun Jun 14 12:52:28 1998
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Sun, 14 Jun 1998 11:52:28 +0100
Subject: R-beta: R-beta makefile
In-Reply-To: <2$W9vCAyTnf1EwBS@dsteele.demon.co.uk>; from Douglas Steele on Wed, Jun 10, 1998 at 12:58:42PM +0100
References: <19980609204035.A2000@sirio.stat.unipd.it> <2$W9vCAyTnf1EwBS@dsteele.demon.co.uk>
Message-ID: <19980614115228.C86@sirio.stat.unipd.it>

On Wed, Jun 10, 1998 at 12:58:42PM +0100, Douglas Steele wrote:
> Hi,
> 
> I am not sure if the last email worked: seemed to be a problem at the r-
> list end
Your email worked but I was in Tuscany (between Florence and Siena) 
for some days.

> 
> In message <19980609204035.A2000 at sirio.stat.unipd.it>, Guido Masarotto
> <guido at sirio.stat.unipd.it> writes
> >Have you downloaded and uncompressed the R sources? rw0613s.zip
> Thats fixed one problem :)
> 
> make now runs OK and builds R.a (1,127KB), and almost finishes but fails
> at line for resource compiler
> 
> windres -i wincons.rc -o res.o
> 
> 
> (lots of scrolling on screen then ends with)
> MdiAccel ACCELERATORS
> BEGIN
>  (88) , 109 ,VIRTKEY, ALT
> END
> 
> C:\MINGW32\BIN\WINDRES.EXE: no resources
> make.exe: *** [res.o] Error 1
> [exited with 2]
> 
 I cannot reproduce this error. Under Win95, "windres ...." works
 without any problems. Anyway, it seems that your cpp (the C pre-processor)
 has some problem to communicate to windres. Infact:
 a) the last lines that you see "MdiAccel ...." are the last lines
    of wincons.rc pre-processed by cpp (VK_X -> (88), RRR_PASTE -> 109).
    This should not appears on the screen but should be piped (I suppose
    via a temporary file) to windres.
 b) on the contrary, a possible interpretation of the last message
    is that windres dosn't get anything.
 Now, when I downloaded egcs-mingw32-1.02, the C pre-processor was
 broken under Win95 (it didn't find any include files). So I replace
 it with the one from egcs-mingw32-1.00. And this seems to work.
 In the meantime, I have seen that Mumit Khan has tryed to fix the problem:
 a new cpp is available at
  ftp://ftp.xraylith.wisc.edu/pub/khan/gnu-win32/mingw32/releases/fixes/).
 If you haven't already done, I suppose that you have to download it.
 If you will have no luck, you can try with the cpp in egcs-mingw32-1.00.
 If you want to avoid to download all the distribution (some megas) I can 
 make it  available.
> 
> 
> Am I missing any other files by any chance ?
> 
> eg
> I have the compiler
> ftp://ftp.xraylith.wisc.edu/pub/khan/gnu-win32/mingw32/releases/egcs-
> 1.0-2-mingw32.zip
> 
> 
> but I do not have
> http://agnes.dida.physik.uni-essen.de/~janjaap/mingw32/windows32api-
> 980118.zip
> 
  The egcs-mingw32 distribution is self contained. In particular, it
  contains also the Gnu Windows api.
  
  guido m.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Jun 14 16:42:30 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Jun 1998 16:42:30 +0200
Subject: R-beta: R-0.62 is released
Message-ID: <x2ra0sujs9.fsf@blueberry.kubism.ku.dk>

I've put up R-0.62.0.tgz up for FTP from Auckland some minutes ago.
As usual, don't get it from there unless you are desperate, but wait
for it to be mirrored at a CRAN site near you within a day or two.

Note that beginning with this version, you need Fortran in some form
or other to compile R. (f2c is good enough)

Here is the relevant part of the CHANGES file:

		CHANGES IN R VERSION 0.62

NEW FEATURES

    o   Many more help(.) pages.

    o   The top level Makefile now supports the usual
	   ./configure; make; make install
	procedure (new make targets `all' and `install').

    o   The HTML help pages can now be searched for keywords.

    o	Conversion of functions to and from lists. formals<- and body<-.
	The alist() function makes it easier to construct argument lists,
	etc. Added expression-->list coercion.

    o	complex(.) now has optional 'argument' and 'modulus' arguments,
	allowing ``polar coordinate'' specifications.

    o	layout() documented and improved: starts default device if needed, and
	returns number of figures.

    o	New find() function [relying on apropos(..)].

    o	objects(<integer>) now works, being equivalent to
	objects(pos=<int.>).

    o	storage.mode() and related functions now return
	"double" instead of "real", for compatibility.
	"real" is still allowed as synomym for "double".

    o	A tests/ directory has been added (in the source), and "make tests"
	has been modified to run more than all the examples from the base
	package.  The exact 'make tests' behavior is still bound to change.

    o	An experimental directory etc/Rdoc has been added with a perl5
	module to parse R documentation files.	Sample perl programs
	to use this module are also included.

    o	All internal mechanisms to support factors and data.frames
	have been removed.  These are now entirely supported by
	interpreted code! `is.unordered' has been eliminated.
	Thanks to John Chambers for allowing the distribution of his
	StatLib code.

    o	"pmatch" is now completely S compatible and is not just another
	name for "charmatch".

    o	There is now a function called ".Alias" which can be used to
	provide multiple names for the same object.  Example:
		lm2 <- .Alias(lm)
	This is dangerous because it can be used to defeat the
	call-by-value illusion.

    o	Many functions changed from <primitive> to .Internal(..).
	Currently, new .Internal(.)s in ..library/base/R/New-Internal.R
	Primitive functions are now printed as ``.Primitive(..)''.

    o	[dpqr]hyper(.) now also work with some 0 arguments.

    o	C-code: Many "-Wall" fixes (MM & DB).

    o	mva's dist() now takes arguments diag and upper which control
	how the distance matrix is printed. plot.hclust() now takes a
	labels argument.

    o	Attributes are now propagated correctly in binary operations.
	Changes from:
	  Steve Oncley and Gordon Maclean
	  National Center for Atmospheric Research
	  Boulder, Colorado USA

    o	configure now also checks for fort77.

    o	Usage of R INSTALL now is
	  R INSTALL [options] [-l lib] pkg_1 ... pkg_n
	The +/- options were replaced by GNU-style `--no-docs' and
	`--no-text', `--no-html', and `--no-latex'.

    o	Usage of R REMOVE now is
	  R REMOVE [options] [-l lib] pkg_1 ... pkg_n

    o	Usage of R COMPILE now is R COMPILE [options] srcfiles, where
	through options one can set e.g. CFLAGS or FFLAGS.

    o	Usage of R SHLIB now is R SHLIB [-o libname] files, where the
	file names can be that of source or object files.

    o   A new R CMD interface allows invokation of executables in
	$RHOME/{etc,cmd} without installing them or setting paths.

    o	Data files are now also documented using the Rd format, all
	data documentation in the base package has been converted
	accordingly. Rd files for data have a \keyword{datasets} as
	identifier.

    o	new function mahalanobis() for Mahalanobis distance

    o	quantile.default() now handles Inf's correctly.

    o	New command line options `--enable-blas' and `--enable-readline'
	to configure.

    o	pretty(x) is more reasonable when max(x)-min(x) < 1e-10 max(|x|),
	and has a new argument "shrink.sml" for that case.

    o	formatC(.) supports a new "fg" format for flexible
	non-exponential formatting.

    o	etc/build-htmlpkglist has been integrated into etc/build-help
	(option --htmllists)

    o	family	gaussian(.) and inverse.gaussian(.) both accept several
	link arguments [J.Lindsey].

    o	The graphics function "tck" now produces effects just
	like those in S (e.g. par(tck=1) now produces grid lines).
	Since using "tck" produces nasty results in some circumstances
	there is also an alternative parameter "tcl" which defines
	the tick length in terms of lines of text.  The default
	setting is par(tcl=-0.5).

    o	menu() now takes additional arguments `graphics' (currently
	unused) and `title'.

    o	New function plot.formula().
	plot.factor() now produces boxplots when given 2 arguments.

    o	New function write.table().

    o	signif() now has a `digits' default of 6.

    o	Old-style long command line options (`-save' etc) changed to
	GNU-style (`--save' etc).
	Debugging options (`-ddd', `-gdb', `-xxgdb') unified into the
	new `--debugger' (`-d').
	New command line options `--version' (`-V') and `--help' (`-h')
	which print useful information and exit.

    o	The loading of profiles at startup now works as follows.
	Unless the new `--no-site-file' was given, a site profile is
	sought (as specified via the environment variable `RPROFILE',
	or if this is unset defaulting to `${RHOME}/etc/Rprofile'.
	Then, unless the new `--no-init-file' was given, the user
	profiles (`.Rprofile' and `~/.Rprofile') are sought.

    o	New functions subset() and transform() intended primarily to
	make life with dataframes easier.

    o	debian directory has been added so Debian GNU/Linux packages can be
	created from raw source.

    o	The graphics system has been through a major overhaul.
	It is now possible to have multiple active device drivers
	and to control them with full suite of dev.xxx() functions
	available in S.	 Display lists are now kept for interactive
	devices.  When an on-screen graphics window is resized,
	the content of that window is redrawn at the new size.
	At present only X11 and PostScript graphics device drivers
	are available, but more are on the way.

    o	On systems using IEEE arithmetic, the builtin Inf and NaN
	values are now recognised and used.  NA and NaN should
	propagate correctly in computations, with NA dominating
	in computations involving both quantities.
	E.g. NA+NaN is NA.

    o	Some of the t, F, and chisq distribution/probability functions
	now allow a noncentrality parameter `ncp'.

    o	Functions ptukey() and qtukey() provide the distribution and
	quantile functions for the maximum of several studentized
	ranges.

    o	system.file()  [now documented] returns all files matched by
	wildcards.

    o	data() now supports more file formats: .RData for binary
	files, .txt or .tab for data to be read by
	`read.table(file, header=TRUE)' and .csv for data to be read
	by `read.table(file, header=TRUE, sep=";")'

    o	Rdconv: new tabular environment, new sections `\format' and
	`\source', new output format `-type Sd' for S documentation

    o	.First.lib() now implemented; called by library() after loading
	a package.

    o	print.summary.[g]lm() now give `significance stars' and a symbolic
	correlation matrix.

    o	new is.R() function.

    o	glm() now also returns an AIC value [from JL].
	print..glm methods indicate the options()$contrasts in some cases.
	In summary.glm(..., correlation=..), the default has been changed to
	corr. = FALSE  which is consistent with	 summary.lm().
	predict() now works again for glm objects.

    o	the `flag' argument in formatC(.) can now have more than one
	character.

    o	nlm() returns the number of iterations used [from J.Lindsey].

    o	cut, diff, hist, mean, quantile, seq, trunc()  are now all generic.
	cut() has an `include.lowest' argument as S.

    o	save.image() as short-cut to save the current session in .RData.

    o	new design of HTML help pages, including an index of all
	functions from all installed packages.

    o	new editor function pico()

    o	matrices and arrays can have zero extents

BUG FIXES (many of which resulted from the added features...)

    o	atanh(.) now works

    o   summary(glm) and summary(lm) now use compatible names.

    o   [pq]tukey(.) now working.

    o	title() now handles main=, sub=, xlab=, ylab= with embedded
	newlines correctly.  This is partly a change in title and
	partly a change in the underlying graphics code.

    o	min(.), max(.), sum(.)	now return integer for integer arguments.

    o	which(.) now returns integer.

    o	Rd files: leading whitespace of lines in user-defined sections
	was not correctly removed by Rdconv

    o	sign(.) works again.

    o	[.data.frame segfaulted if arg. wasn't a data frame

    o	"R --no-readline" now again gives proper prompts.

    o	demos/zero.R  dyn.load(.) now should be working more easily.

    o	mode(.) now returns "(" for a "parentheses 'call'".

    o	Bug fix in mva dist.c for method binary (gave "invalid
	distance"). plot.hclust failed for data without row names.

    o	R INSTALL should work (again) now when `pkg' is a relative file
	name.

    o	.not.yet.implemented() now takes an arbitrary number of args.

    o	Plotting of dendrograms is working again.

    o	data.frame(.) now uses "1:n" as default row.names.

    o	image(.) and contour(.) now also work called as, e.g., ``image(z)''.

    o	the first argument of axis(.) is now called `side' as in S.

    o	format(NULL) now works.

    o	minor fix in symnum.

    o	hist() now is more compatible to S, has a new `labels' argument,
	and should work ok for non-equidistant breaks.

    o	plot(-1) now labels properly.

    o	Many small code changes (eliminating extraneous variables, nested comm.)
	in C code in order to satisfy `gcc -Wall' [Doug Bates].

    o	model.extract() will now extract arbitrary model frame arguments.


    o	list of currently loaded libraries (.Dyn.libs) not saved
	from session to session (really, this time)

    o	rhyper works with vectorisation, degenerate cases.

    o   printing of objects in lists now dispatches methods correctly


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ted.Harding at nessie.mcc.ac.uk  Sun Jun 14 20:55:18 1998
From: Ted.Harding at nessie.mcc.ac.uk ( (Ted Harding))
Date: Sun, 14 Jun 1998 19:55:18 +0100 (BST)
Subject: R-beta: R-0.62 is released
In-Reply-To: <x2ra0sujs9.fsf@blueberry.kubism.ku.dk>
Message-ID: <XFMail.980614195518.Ted.Harding@nessie.mcc.ac.uk>

On 14-Jun-98 Peter Dalgaard BSA wrote:
> I've put up R-0.62.0.tgz up for FTP from Auckland some minutes ago.
> As usual, don't get it from there unless you are desperate, but wait
> for it to be mirrored at a CRAN site near you within a day or two.

You didn't expect us to be THAT patient, did you?!

Some comments (compiling on S.u.S.E. Linux 5.1):

1. I like to compile in a side-room, /depot/R-0.62 as it happens.
   My intended ultimate destination was /usr/local/R-0.62. After setting
   prefix, "./configure", "make", and "make install", it wouldn't run properly.

   Despite trying every obvious config option, the "R" script had insisted
   on setting RHOME as the directory it was compiled from: /depot/R-0.62/R-0.62/

   It took some time to suss out that this needed to be edited to read
   RHOME=/usr/local/R-0.62/lib/R

   After this was done, it seems fine. The above is NOT obvious from the INSTALL
   document.

2. The "help" browser seems to be hard-wired to be netscape. This can of course
   be changed by editing the function "help.start" in
   /usr/local/R-0.62/lib/R/library/base/R
   but the knock-on effects are not obvious.

   a) I don't have netscape on the machine I run R on;
   b) In any case, with KDE on this machine, I like to use the program
      /opt/kde/bin/kdehelp
      as HTML browser: it's attractive-looking, slim (199428 bytes!) and fast.

   I'd welcome informed advice on how to change this function without breaking
   anything else that depends on it, and on any consequential changes that may
   be needed.

That's it for now. More later, possibly ... !

With thanks, and best wishes to all,
Ted.

--------------------------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at nessie.mcc.ac.uk>
Date: 14-Jun-98                                       Time: 19:55:18
--------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eschmid at delos.stuttgart.netsurf.de  Sun Jun 14 21:37:35 1998
From: eschmid at delos.stuttgart.netsurf.de (Egon Schmid)
Date: Sun, 14 Jun 1998 21:37:35 +0200 (MET DST)
Subject: R-beta: R-0.62 is released
In-Reply-To: <XFMail.980614195518.Ted.Harding@nessie.mcc.ac.uk>
Message-ID: <Pine.NEB.3.95.980614212003.21844A-100000@delos.stuttgart.netsurf.de>



On Sun, 14 Jun 1998 Ted.Harding at nessie.mcc.ac.uk wrote:

> On 14-Jun-98 Peter Dalgaard BSA wrote:
> > I've put up R-0.62.0.tgz up for FTP from Auckland some minutes ago.
> > As usual, don't get it from there unless you are desperate, but wait
> > for it to be mirrored at a CRAN site near you within a day or two.
> 
> You didn't expect us to be THAT patient, did you?!
> 
> Some comments (compiling on S.u.S.E. Linux 5.1):
> 
> 1. I like to compile in a side-room, /depot/R-0.62 as it happens.
>    My intended ultimate destination was /usr/local/R-0.62. After setting
>    prefix, "./configure", "make", and "make install", it wouldn't run properly.
> 
>    Despite trying every obvious config option, the "R" script had insisted
>    on setting RHOME as the directory it was compiled from: /depot/R-0.62/R-0.62/
> 
>    It took some time to suss out that this needed to be edited to read
>    RHOME=/usr/local/R-0.62/lib/R
> 
>    After this was done, it seems fine. The above is NOT obvious from the INSTALL
>    document.

Works very well on my old debian system. Have 0.61.3 and R-snapshot
without problems, now I will copy all libraries to 0.62.

> 2. The "help" browser seems to be hard-wired to be netscape. This can of course
>    be changed by editing the function "help.start" in
>    /usr/local/R-0.62/lib/R/library/base/R
>    but the knock-on effects are not obvious.
> 
>    a) I don't have netscape on the machine I run R on;
>    b) In any case, with KDE on this machine, I like to use the program
>       /opt/kde/bin/kdehelp
>       as HTML browser: it's attractive-looking, slim (199428 bytes!) and fast.
> 
>    I'd welcome informed advice on how to change this function without breaking
>    anything else that depends on it, and on any consequential changes that may
>    be needed.

Changing your browser in library/base/R/base may be do the trick.
Otherwise install Netscape.

-Egon  

Have only some minor problems with the MASS library. Should I post a
summary with failed tests?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Jun 14 22:18:49 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Jun 1998 22:18:49 +0200
Subject: R-beta: R-0.62 is released *WATCH THE RETURN ADDRESS*
In-Reply-To: Egon Schmid's message of Sun, 14 Jun 1998 21:37:35 +0200 (MET DST)
References: <Pine.NEB.3.95.980614212003.21844A-100000@delos.stuttgart.netsurf.de>
Message-ID: <x2sol7wxcm.fsf@blueberry.kubism.ku.dk>


Before this gets out of hand: 

Please make sure that responses to the announcement goes somewhere
else than to R-announce, which is reserved for people who
want to minimise their email traffic by avoiding the discussion part.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun 15 00:37:34 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Jun 1998 00:37:34 +0200
Subject: R-beta: R-0.62.1
Message-ID: <x2sol7r4nl.fsf@blueberry.kubism.ku.dk>


Due to a glitch with the CVS version management software (quite likely
my own fault), R-0.62.0 got shipped without the "tests" directory.
Apart from preventing "make tests" from working, it also has untoward
consequences for "make clean" and the like.

So there's an updated version in R-0.62.1.tgz in the usual places.

For good measure, there's also a patch file.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ted.Harding at nessie.mcc.ac.uk  Mon Jun 15 02:16:06 1998
From: Ted.Harding at nessie.mcc.ac.uk ( (Ted Harding))
Date: Mon, 15 Jun 1998 01:16:06 +0100 (BST)
Subject: R-beta: Literal "&" in help index
In-Reply-To: <x2ra0sujs9.fsf@blueberry.kubism.ku.dk>
Message-ID: <XFMail.980615011606.Ted.Harding@nessie.mcc.ac.uk>

Hi Folks,

The file .../lib/R/library/base/html/00Index.html (the contents list of the R
base package help) contains the lines:

<TR><TD width=25%><A HREF="Logic.html">&</A></TD>
<TD>Logical Operators</TD></TR>
<TR><TD width=25%><A HREF="Logic.html">&&</A></TD>
<TD>Logical Operators</TD></TR>

These cause my neat little "kdehelp" browser to segfault when clicking on an
HREF from this file (though netscape seems robust to it). This is because "&"
is an escape for "special characters" in HTML, and the problem is cured if each
"&" is replaced by the HTML escape code for a literal "&", namely "&amp;", so
that the lines become

<TR><TD width=25%><A HREF="Logic.html">&amp;</A></TD>
<TD>Logical Operators</TD></TR>
<TR><TD width=25%><A HREF="Logic.html">&amp;&amp;</A></TD>
<TD>Logical Operators</TD></TR>

For those of you contemplating using something other than netscape, the above
change may be worth noting, in case you encounter the same problem.

It is probably worth "officially" making this change anyway, for the sake of
"pure" HTML.

Best wishes to all,
Ted.


--------------------------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at nessie.mcc.ac.uk>
Date: 15-Jun-98                                       Time: 01:16:06
--------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikem at stat.cmu.edu  Mon Jun 15 16:40:00 1998
From: mikem at stat.cmu.edu (Mike Meyer)
Date: Mon, 15 Jun 1998 10:40:00 -0400
Subject: R-beta: fortran problems with 0.62
Message-ID: <199806151440.KAA14858@desire.stat.cmu.edu>

One of the big problems in mixing fortran and C is knowing if the various 
compilers/loaders need extra underscores in the names of the entry points.

The 0.62 release of R, which has reverted to using fortran,  seems to be 
broken in this respect.

In particular, on a machine which does not append underscores to fortran entry 
points (HP-UX 10.20), there are many problems.

It seems that the configure script correctly determines is an extra underscore 
is needed or not, but it also seems that this information is not used.

Early in the make process, the GETSYMBOLS script is run, but as far as I can 
tell this adds an extra underscore all the time.  The GETSYMBOLS script relies 
on the information in appl/ROUTINES to determine if an entry point is fortran 
or C.  However some of those entries (e.g., bkslv) are listed as fortran when 
they are really C entry points that have previously been converted from 
fortran (using f2c).

Suffice to say, one (at least this "one") gets lost in the process of adding, 
subtracting underscores from various tables.

Has anyone already fixed the underscore mess?

Regards, --Mike


Mike Meyer, Department of Statistics, Carnegie Mellon University


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hznrdr at pplague.pacificorp.com  Mon Jun 15 18:02:47 1998
From: hznrdr at pplague.pacificorp.com (Tim Heizenrader)
Date: Mon, 15 Jun 1998 09:02:47 -0700 (PDT)
Subject: R-beta: Batch jobs in Win32 version?
Message-ID: <9806151602.AA26519@pplague.pacificorp.com.>


I'm using the recent (rw0613) Windows port of R under NT 4.0 and
Win95 OSR2, and I can't execute scripts from the command line.
R programs that work with the source("myscript.s") command within
R, as well as with "R < myscript.s" on my Sun workstation, produce
this error message if run in a DOS window under NT or '95:

Error: workspace file corrupted -- no data loaded

This error seems to be independent of working directory, and occurs
with or without a saved image present. Is there a command line
switch or a workaround that will solve this?

Tim

-- 
Tim Heizenrader                        Phone: 503.279.3905
PacifiCorp, Portland OR                FAX:   503.279.4947
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun 15 19:29:10 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Jun 1998 19:29:10 +0200
Subject: R-beta: fortran problems with 0.62
In-Reply-To: Mike Meyer's message of Mon, 15 Jun 1998 10:40:00 -0400
References: <199806151440.KAA14858@desire.stat.cmu.edu>
Message-ID: <x2af7e376h.fsf@blueberry.kubism.ku.dk>

Mike Meyer <mikem at stat.cmu.edu> writes:

> Early in the make process, the GETSYMBOLS script is run, but as far as I can 
> tell this adds an extra underscore all the time. 

Yup. You're right.

 The GETSYMBOLS script relies 
> on the information in appl/ROUTINES to determine if an entry point is fortran 
> or C.  However some of those entries (e.g., bkslv) are listed as fortran when 
> they are really C entry points that have previously been converted from 
> fortran (using f2c).

Yup again (wonder what happened to the original...).

> Suffice to say, one (at least this "one") gets lost in the process of adding, 
> subtracting underscores from various tables.


> Has anyone already fixed the underscore mess?

It's a bit difficult without actually having a system where it
matters...

As far as I can see, what needs to be done is to apply the following
algorithm:

100 Modify the GETSYMBOLS script by stripping the underscores
from the F77_SUBROUTINE lines (2 lines, 3 underscores).

110 Try to compile.

120 IF it fails due to an f2c routine, edit src/appl/ROUTINES, replacing
the F77_SUBROUTINE(xxx) with C_FUNCTION(xxx_), and goto 110.

130 Send us a copy of the resulting ROUTINES file.

(We'll need to think of a way to get GETSYMBOLS to understand about
the configure results, but getting the ROUTINES file right would be a
useful first step)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Tue Jun 16 10:25:27 1998
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 16 Jun 1998 10:25:27 +0200 (CEST)
Subject: R-beta: New Package bindata at CRAN
Message-ID: <13702.11255.28465.291926@galadriel.ci.tuwien.ac.at>


I have put the new package bindata to CRAN, which provides a method
for creating binary (i.e., 0-1-valued) random variables with
correlation structures by converting multivariate random variables to
binary variables.

The package includes a postscript file of a technical report
describing the method, here's the abstract:

**********************************************************
The generation of random variates from multivariate binary
distributions has not gained as much interest in the literature as,
e.g., multivariate normal or Poisson distributions. Binary variables
are important in many types of applications. Our main interest is in
the segmentation of marketing data, where data come from customer
questionnaires with ``yes/no'' questions. Artificial data provide a
valuable tool for the analysis of segmentation tools, because data
with known structure can be constructed to mimic situations from the
real world (Dolnicar et al. 1998). Questionnaire data can be highly
correlated, when several questions covering the same field are likely
to be answered similarly by a subject. In this paper we present a
computationally fast method to simulate multivariate binary
distributions with a given correlation structure. The implementation
of the algorithm in R, an implementation of the S statistical
language, is described in the appendix.
**********************************************************


-- 
-------------------------------------------------------------------
                        Friedrich  Leisch                             
Institut f?r Statistik                      Tel: (+43 1) 58801 4546
Technische Universit?t Wien                 Fax: (+43 1)  504 14 98
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From janku at ifi.uio.no  Tue Jun 16 16:31:26 1998
From: janku at ifi.uio.no (Jan Kutylowski)
Date: Tue, 16 Jun 1998 16:31:26 +0200 (MET DST)
Subject: R-beta: Readline and R 0.62.1
Message-ID: <199806161431.3333.bolm.ifi.uio.no@ifi.uio.no>



I have readline library where configure is not expecting it.
How can I tell configure where that library is, and how 
can I compile R on Solaris with readline?

Solutions were offered for R 0.61.3 but they do not seem to
work for the new release: at least my trial and errors did not
give desired effect.


Wouldn't it  be helpful if after autoconfig the user were informed
whether compilation will be with/without readline?


A. Jan Kutylowski
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun 16 16:56:18 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Jun 1998 16:56:18 +0200
Subject: R-beta: Readline and R 0.62.1
In-Reply-To: Jan Kutylowski's message of Tue, 16 Jun 1998 16:31:26 +0200 (MET DST)
References: <199806161431.3333.bolm.ifi.uio.no@ifi.uio.no>
Message-ID: <x2u35lz97x.fsf@blueberry.kubism.ku.dk>

Jan Kutylowski <janku at ifi.uio.no> writes:

> I have readline library where configure is not expecting it.
> How can I tell configure where that library is, and how 
> can I compile R on Solaris with readline?
> 
> Solutions were offered for R 0.61.3 but they do not seem to
> work for the new release: at least my trial and errors did not
> give desired effect.

Hm. It shouldn't have changed all that much, but there's one important
difference: You need version 2.1 or later of readline (necessitated by
the event-handling in the new graphics).

I need to get it in place on our Solaris machines as well, so I'll be
finding out the exact details soon. Will get back with what I find out.

> Wouldn't it  be helpful if after autoconfig the user were informed
> whether compilation will be with/without readline?

Good idea. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dimi at ci.tuwien.ac.at  Tue Jun 16 16:54:58 1998
From: dimi at ci.tuwien.ac.at (Evgenia Dimitriadou)
Date: Tue, 16 Jun 1998 16:54:58 +0200 (CEST)
Subject: R-beta: New Package
Message-ID: <Pine.LNX.3.96.980616164701.11851F-100000@isildur.ci.tuwien.ac.at>

I have put a new package called "cclust", that is dealing with Convex
Clustering Methods. More anallyticaly, it is performing the normal Kmeans 
clustering, the On-line Update clustering(Hard Competitive Learning) and
the Neural Gas (Soft Competitive) clustering method.
For more details there is a help page in R.



************************************************************************
*                          Evgenia Dimitriadou                         *
************************************************************************
* Institut fr Statistik      *                Tel: (+43 1) 58801 4592 *
* Technische Universitt Wien *                Fax: (+43 1)  504 14 98 *
* Wiedner Hauptstr. 8-10/1071 *                   dimi at ci.tuwien.ac.at *
* A-1040 Wien, Austria        *                                        *
************************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Tue Jun 16 17:13:57 1998
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 16 Jun 1998 17:13:57 +0200 (CEST)
Subject: R-beta: Readline and R 0.62.1
In-Reply-To: <199806161431.3333.bolm.ifi.uio.no@ifi.uio.no>
References: <199806161431.3333.bolm.ifi.uio.no@ifi.uio.no>
Message-ID: <13702.35765.817086.13775@pc87.maho.magnaeu.com>

>>>>> Jan Kutylowski writes:

> I have readline library where configure is not expecting it.
> How can I tell configure where that library is, and how 
> can I compile R on Solaris with readline?

> Solutions were offered for R 0.61.3 but they do not seem to
> work for the new release: at least my trial and errors did not
> give desired effect.

Can you try doing something like

  LIBS="-L/path/to/readline" ./configure
  LIBS="-L/path/to/readline" make

(or set LIBS in config.site?)

[Still, if you were linking against a shared version of readline in a
nonstandard location, then you would need to play with LD_LIBRARY_PATH.]

Why would readline be in a non-standard place?

> Wouldn't it  be helpful if after autoconfig the user were informed
> whether compilation will be with/without readline?

Yes, it would be :-)

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ted.Harding at nessie.mcc.ac.uk  Wed Jun 17 15:52:43 1998
From: Ted.Harding at nessie.mcc.ac.uk ( (Ted Harding))
Date: Wed, 17 Jun 1998 14:52:43 +0100 (BST)
Subject: R-beta: Datasets for "Notes on R"
Message-ID: <XFMail.980617145243.Ted.Harding@nessie.mcc.ac.uk>

I'd like to find the dataset files cloud.data, janka.data, house.data ... used
in Appendix C of "Notes on R" by Bill Venables and Dave Smith.

Can someone give me a pointer to a download site, please?

With thanks,
Ted.

--------------------------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at nessie.mcc.ac.uk>
Date: 17-Jun-98                                       Time: 14:52:43
--------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Wed Jun 17 20:15:32 1998
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 17 Jun 1998 19:15:32 +0100
Subject: R-beta: Datasets for "Notes on R"
In-Reply-To: <XFMail.980617145243.Ted.Harding@nessie.mcc.ac.uk>; from Ted Harding on Wed, Jun 17, 1998 at 02:52:43PM +0100
References: <XFMail.980617145243.Ted.Harding@nessie.mcc.ac.uk>
Message-ID: <19980617191532.B2124@sirio.stat.unipd.it>

On Wed, Jun 17, 1998 at 02:52:43PM +0100, Ted Harding wrote:
> I'd like to find the dataset files cloud.data, janka.data, house.data ... used
> in Appendix C of "Notes on R" by Bill Venables and Dave Smith.
> 
> Can someone give me a pointer to a download site, please?
Look to http://lib.stat.cmu.edu/S/SplusNotes/
guido m.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at luc.ac.be  Thu Jun 18 14:20:39 1998
From: jlindsey at luc.ac.be (Jim Lindsey)
Date: Thu, 18 Jun 1998 14:20:39 +0200 (MET DST)
Subject: R-beta: glm bug
Message-ID: <9806181220.AA19064@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 997 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980618/ee08ba8d/attachment.pl

From p.dalgaard at biostat.ku.dk  Thu Jun 18 16:55:25 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Jun 1998 16:55:25 +0200
Subject: R-beta: glm bug
In-Reply-To: Jim Lindsey's message of Thu, 18 Jun 1998 14:20:39 +0200 (MET DST)
References: <9806181220.AA19064@alpha.luc.ac.be>
Message-ID: <x27m2ezrmq.fsf@blueberry.kubism.ku.dk>

Jim Lindsey <jlindsey at luc.ac.be> writes:

> 
> This is a bug that I already sent in for R61 but somehow it did not
> make R62:
>   line 556 of glm.R should be
> x$deviance.resid <- quantile(x$deviance.resid,na.rm=T)
>   otherwise, summary stops dead with certain data

Fixed now. Bug tracking system high on my agenda...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jimrc at mathfs.math.montana.edu  Thu Jun 18 18:21:43 1998
From: jimrc at mathfs.math.montana.edu (Jim Robison-Cox)
Date: Thu, 18 Jun 1998 10:21:43 -0600 (MDT)
Subject: Significance stars (was  Re: R-beta: glm bug)
In-Reply-To: <9806181220.AA19064@alpha.luc.ac.be>
Message-ID: <Pine.ULT.3.91.980618101746.25308A-100000@mathfs.math.montana.edu>

On Thu, 18 Jun 1998, Jim Lindsey wrote:
(snip)
> I might also say that I strongly object to the stars and significance
> levels in summary (sorry, Martin, we already discussed this). I
> consider fixed level testing to be bad statistics; at worst, a P-value
> should be given if nothing better (confidence or credibility
> intervals) is available. I do not want my students seeing such stars
> and fixed levels. Make it an option if you like but not the default
> display with summary().
>   Jim

  I agree!  Is there a good way to set an option which goes to a print 
method (in this case print.summary.lm)?  Would it have to be a global 
option? 


Jim Robison-Cox                 ____________            
Department of Math Sciences    |            |           phone: (406)994-5340
2-214 Wilson Hall               \   BZN, MT |           FAX:   (406)994-1789
Montana State University         |  *_______|
Bozeman, MT 59717                 \_|         e-mail: jimrc at math.montana.edu 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gordon.harrington at uni.edu  Thu Jun 18 19:45:35 1998
From: gordon.harrington at uni.edu (gordon.harrington@uni.edu)
Date: Thu, 18 Jun 1998 12:45:35 -0500 (CDT)
Subject: R-beta: netscape/R interaction
Message-ID: <ML-3.3.898191935.6838.gordon@localhost>

Using netscape 4.03 (or 2.x or 3.x)/ R-0.62.1 with SPARC Solaris 2.4:
when netscape is running for help, graphics in R quit with "Color allocation
error". Closing netscape removes the problem. netscape does not interfere with
other X11 imaging programs including ghostscript and ImageMagick except that it
increases the contrast in my mailer windows slightly.

(netscape does block launching of Solaris imaging and help tools. I have
e-mailed netscape through every generation about this problem but with no
response. our systems people tell me that this kind of problem with netscape
exists on all of our SPARCstations and with some software on our MS-Windows
machines leading to their recommendation of a different browser.I have tried a
different browser (w3) but that alternative is significantly slower.)

Any suggestions?

Gordon

 

Gordon M. Harrington		Mail:	3720 Village Place, #6308
Professor Emeritus			Waterloo, IA 50702-5848
University of Northern Iowa 	Phone:	319-291-8535
gordon.harrington at uni.edu	Fax:	319-291-8324

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Jun 18 19:55:12 1998
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 18 Jun 1998 19:55:12 +0200
Subject: Significance stars (was  Re: R-beta: glm bug)
In-Reply-To: <Pine.ULT.3.91.980618101746.25308A-100000@mathfs.math.montana.edu>
	(message from Jim Robison-Cox on Thu, 18 Jun 1998 10:21:43 -0600 (MDT))
Message-ID: <199806181755.TAA17186@sophie.ethz.ch>

>>>>> "Jim" == Jim Robison-Cox <jimrc at mathfs.math.montana.edu> writes:

    Jim> On Thu, 18 Jun 1998, Jim Lindsey wrote: (snip)
    >> I might also say that I strongly object to the stars and
    >> significance levels in summary (sorry, Martin, we already discussed
    >> this). I consider fixed level testing to be bad statistics; at
    >> worst, a P-value should be given if nothing better (confidence or
    >> credibility intervals) is available. I do not want my students
    >> seeing such stars and fixed levels. Make it an option if you like
    >> but not the default display with summary().  Jim

    Jim>   I agree!  Is there a good way to set an option which goes to a
    Jim> print method (in this case print.summary.lm)?  Would it have to be
    Jim> a global option?

R> str(print.summary.glm)
function (x, digits = max(3, .Options$digits - 3), formatfun = format,  	    na.print = "", symbolic.cor = p > 4, signif.stars = TRUE,  	    ...)  
R> str(print.summary.lm)
function (x, digits = max(3, .Options$digits - 3), symbolic.cor = p >  	    4, signif.stars = TRUE, ...)  

Which  shows you there IS already an argument to turn off the signif.stars:

 print(summary([g]lm(....)), signif.stars = FALSE)

Jim Lindsey wanted  a  *global* option so that he can turn it off for all
his students when they just use

	summary([g]lm(....))


Any proposals for a NAME of the global option?

JL even looked for a possibility to turn off the P values..
Do we want/need this as well?

---------------------------------------------------------------

		A few afterthoughts:

Note that I introduced those both to print.summary.lm() and ...glm().
We (Statistics ETH Zurich) have been using these stars for about seven
years now (in S-plus, not R..),
both for teaching and (serious) data analysis.

Most of my teaching (and researching) colleagues, many students
and consulting customers  have made explicit *positive* comments about the
stars, (and asked for our S-plus replacement code in order to have it also
on their own machines...) and I haven't got any negative ones till both Jim
Lindsey's. 

NOTE:  We do  *NOT* advocate believing in P-values,
	(some of you may know how little we believe in normally distributed
	 data here ..),
	the main point of the sig.stars is a
	``graphical summary'' of which coefficients might be significant
          ~~~~~~~~~~~~~~~~~

Martin Maechler <maechler at stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Jun 18 20:03:56 1998
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 18 Jun 1998 20:03:56 +0200
Subject: R-beta: netscape/R interaction [color allocation]
In-Reply-To: <ML-3.3.898191935.6838.gordon@localhost>
	(gordon.harrington@uni.edu)
Message-ID: <199806181803.UAA17202@sophie.ethz.ch>

Our solution to the famous  "Color allocation error"
(not only appearing in R;  
 S-plus e.g., uses black & white color scheme when it can't allocate the
 desired colors)

is to *ALWAYS* use
	netscape -install
	-----------------
(installs its own color map); this might be ugly but is working always,
contrary to	  ==
	netscape -noinstall
		  ==
which remedies the problem also in some circumstances, but not in all.

[[The ``best'' solution would be to switch to an environment with
  16 or 24 bit colors  ((eg. Linux / Intel)) ....]]

Martin

PS: I agree that it would be nicer if R dealt more gracefully with this
    problem. Ideally, the x11() driver would try to find ``close colors in
    the given color map'' as soon as it can't allocate new colors.

    Not that I knew anything on how this could be programmed....



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Jun 18 20:04:29 1998
From: bates at stat.wisc.edu (Douglas Bates)
Date: 18 Jun 1998 13:04:29 -0500
Subject: R-beta: netscape/R interaction
In-Reply-To: gordon.harrington@uni.edu's message of Thu, 18 Jun 1998 12:45:35 -0500 (CDT)
References: <ML-3.3.898191935.6838.gordon@localhost>
Message-ID: <6r4sxi37te.fsf@verdi.stat.wisc.edu>

gordon.harrington at uni.edu writes:

> Using netscape 4.03 (or 2.x or 3.x)/ R-0.62.1 with SPARC Solaris 2.4:
> when netscape is running for help, graphics in R quit with "Color allocation
> error". Closing netscape removes the problem. netscape does not interfere with
> other X11 imaging programs including ghostscript and ImageMagick except that it
> increases the contrast in my mailer windows slightly.
> 
> (netscape does block launching of Solaris imaging and help tools. I have
> e-mailed netscape through every generation about this problem but with no
> response. our systems people tell me that this kind of problem with netscape
> exists on all of our SPARCstations and with some software on our MS-Windows
> machines leading to their recommendation of a different browser.I have tried a
> different browser (w3) but that alternative is significantly slower.)

You are running out of colors in your color map.  A typical X server
with 8 bits per pixel only has 256 different colors available at any
time.  Both Netscape and R will use up several of these colors.

Do you know how many bitplanes you can make available for your X
server?  If you can change from 8 bits per pixel to 16 bits per pixel,
that is by far the simplest thing to do.  At 16 bits per pixel you can
run "truecolor" with a 565 weighting (5 bits for red, 6 bits for
green, and 5 bits for blue) and you don't have to mess with color
maps.

If not, try using emacs and ESS (Emacs Speaks Statistics), the emacs
mode for running R (and S-PLUS and xlispstat and SAS and ...).  The
help facilities are integrated into ESS so you can display help pages
without having to go through a browser.

ESS is available from
		 http://franz.stat.wisc.edu/pub/ESS/
-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 18 20:25:20 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Jun 1998 20:25:20 +0200
Subject: R-beta: netscape/R interaction [color allocation]
In-Reply-To: Martin Maechler's message of Thu, 18 Jun 1998 20:03:56 +0200
References: <199806181803.UAA17202@sophie.ethz.ch>
Message-ID: <x27m2e36un.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler at stat.math.ethz.ch> writes:

> 
> Our solution to the famous  "Color allocation error"
> (not only appearing in R;  
>  S-plus e.g., uses black & white color scheme when it can't allocate the
>  desired colors)
> 
> is to *ALWAYS* use
> 	netscape -install
> 	-----------------

You can also set -ncols to limit Netscape in the number of color cells
it allocates. 64 is a reasonable value for most purposes.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 18 20:57:09 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Jun 1998 20:57:09 +0200
Subject: Significance stars (was  Re: R-beta: glm bug)
In-Reply-To: Martin Maechler's message of Thu, 18 Jun 1998 19:55:12 +0200
References: <199806181755.TAA17186@sophie.ethz.ch>
Message-ID: <x267hy35dm.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler at stat.math.ethz.ch> writes:

> Jim Lindsey wanted  a  *global* option so that he can turn it off for all
> his students when they just use
> 
> 	summary([g]lm(....))
> 
> 
> Any proposals for a NAME of the global option?

Anything wrong with signif.stars ?

> 
> JL even looked for a possibility to turn off the P values..
> Do we want/need this as well?

Nope. (Did he?) These are much too often important when you need to
compensate for multiple testing and so forth. Even though a lot of
good things can be said about confidence intervals, they do have the
problem that the implied tests are always at a fixed level.

> NOTE:  We do  *NOT* advocate believing in P-values,

Well, actually, I *do* advocate that. At least in the sense that
probability exist and one needs to understand data in a probabilistic
context. This is not, however, the same as the boneheaded logic of
setting strict on/off rules based on the formal p-values. P-values are
usually fairly good approximations of a reasonably well-defined
quantity, the main problem being that it is often not that quantity
which is the relevant one.

> 	the main point of the sig.stars is a
> 	``graphical summary'' of which coefficients might be significant
>           ~~~~~~~~~~~~~~~~~

More or less my feeling too. If you're doing explorative analysis and
fitting a lot of models wit many regressors, it can be useful to be
able to get the 'highlights' at a glance. If not, you can just ignore
them. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rijn at swi.psy.uva.nl  Thu Jun 18 21:03:05 1998
From: rijn at swi.psy.uva.nl (Hedderik van Rijn)
Date: Thu, 18 Jun 1998 21:03:05 +0200 (CEST)
Subject: R-beta: netscape/R interaction
In-Reply-To: <ML-3.3.898191935.6838.gordon@localhost>
Message-ID: <Pine.LNX.3.96.980618205135.788P-100000@swipc30.swi.psy.uva.nl>

Hi,

> Using netscape 4.03 (or 2.x or 3.x)/ R-0.62.1 with SPARC Solaris 2.4:
> when netscape is running for help, graphics in R quit with "Color allocation
> error". 

I'm not familiar with this specific configuration, but often the problem is:

Netscape allocates a lot of colors by default which then can't be used by
other programs. So after Netscape has "occupied" most of your colormap,
other programs often cannot find enough colors to be able to work with. This
is not a specific Netscape problem, although netscape could behave somewhat
better.

> Any suggestions?

4, in the order I would try them:

1. Try to find a 16bit colordepth monitor :-)
2. Start R first, then Netscape (Netscape *can* behave itself...)
3. Start Netscape using the command line option "-install". It then installs
   a private colormap. This will make your screen "flash" each time you
   switch windows, but probably will solve your problem.
4. Start Netscape using the command line option "-mono". Away are your
   problems... and your colors in Netscape. :-)

Good luck,
  Hedderik.

---
http://www.swi.psy.uva.nl/usr/rijn or ICQ: 13506689

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gordon.harrington at uni.edu  Thu Jun 18 22:18:50 1998
From: gordon.harrington at uni.edu (gordon.harrington@uni.edu)
Date: Thu, 18 Jun 1998 15:18:50 -0500 (CDT)
Subject: R-beta: netscape/R interaction [color allocation]
Message-ID: <ML-3.3.898201130.6838.gordon@localhost>

Thanks to Martin Maechler, Douglas Bates, Peter Dalgaard, and Hedderik van Rijn
for pointing out the problem is with the color resource demands of the two
applications and for their suggested possible solutions. A 24 bit monitor would
be ideal and maybe someday I'll have the $$$ to upgrade. "netscape -install"
works with the attendant flashing screen color changes from window to window.
"netscape -ncol 64" works or fails depending on the color demands of R. I had
been considering turning to ESS, thereby avoiding netscape, but have not yet
tried it nor decided between emacs and xemacs.

It appears the question for users is whether to attach the colormap solutions
to Netscape or to R. At first glance it appears it would not be difficult to
add an option to R which would allocate appropriately. Looking at the behavior
on my system it does not appear that "netscape -install" is creating a color
map but rather attaching the color map to the mouse rather than to the window.
There is an X11 system call on my machine to do just that. In my case I would
prefer to lay the burden on netscape and not add the option to R. 

Gordon


Gordon M. Harrington		Mail:	3720 Village Place, #6308
Professor Emeritus			Waterloo, IA 50702-5848
University of Northern Iowa 	Phone:	319-291-8535
gordon.harrington at uni.edu	Fax:	319-291-8324

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mgass at bach.math.csbsju.edu  Fri Jun 19 04:11:45 1998
From: mgass at bach.math.csbsju.edu (mgass)
Date: Thu, 18 Jun 1998 21:11:45 -0500
Subject: R-beta: Problem with help
Message-ID: <199806190211.VAA07830@bach.math.csbsju.edu>


I am new to R.  Just installed it on an SGI running IRIX5.3.  The install
seemed to go fine.  Some basic commands worked as did the demo().  However,
I get the following when trying to run help at the command line in R.

> help()
Error in gsub(pattern, replacement, x, ignore.case, extended) : POSIX regular expressions not available
> 

My best guess is that configure was unable to find regcomp.  Is that
the problem?  If so, what is it and how do I fix it.  Other
suggestions?

Thanks, 

mg

-- 
Michael Gass				Department of Mathematics
phone: 320 363-3090                     St. John's University
email: mgass at csbsju.edu                 Collegeville, MN  56321-3000




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.S.Craig at durham.ac.uk  Fri Jun 19 10:20:56 1998
From: P.S.Craig at durham.ac.uk (P.S.Craig@durham.ac.uk)
Date: Fri, 19 Jun 1998 09:20:56 +0100 (BST)
Subject: R-beta: netscape/R interaction [color allocation]
In-Reply-To: <x27m2e36un.fsf@blueberry.kubism.ku.dk> from "Peter Dalgaard BSA" at Jun 18, 98 08:25:20 pm
Message-ID: <21325.199806190820@laplace>

Peter Dalgaard BSA writes:
> 
> Martin Maechler <maechler at stat.math.ethz.ch> writes:
> 
> > 
> > Our solution to the famous  "Color allocation error"
> > (not only appearing in R;  
> >  S-plus e.g., uses black & white color scheme when it can't allocate the
> >  desired colors)
> > 
> > is to *ALWAYS* use
> > 	netscape -install
> > 	-----------------
> 
> You can also set -ncols to limit Netscape in the number of color cells
> it allocates. 64 is a reasonable value for most purposes.

Note that -ncols is broken in Netscape 4.01, 4.02 and 4.03 and simply
doesn't do anything. I don't know the status of 4.04. We are now
running 4.05 where -ncols works again. To add a little more, -ncols 32
works even better from the point of view of simultaneous use of R,
xdvi and ghostview, although netscape renders images less well
(generally of no impact given the way in which images are (ab)used by
people creating web pages).

Peter Craig
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at luc.ac.be  Fri Jun 19 12:29:20 1998
From: jlindsey at luc.ac.be (Jim Lindsey)
Date: Fri, 19 Jun 1998 12:29:20 +0200 (MET DST)
Subject: R-beta: INSTALL
Message-ID: <9806191029.AA03780@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 1515 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980619/2b2103c8/attachment.pl

From Friedrich.Leisch at ci.tuwien.ac.at  Fri Jun 19 12:50:47 1998
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 19 Jun 1998 12:50:47 +0200 (CEST)
Subject: R-beta: INSTALL
In-Reply-To: <9806191029.AA03780@alpha.luc.ac.be>
References: <9806191029.AA03780@alpha.luc.ac.be>
Message-ID: <13706.17031.158696.918694@galadriel.ci.tuwien.ac.at>

>>>>> On Fri, 19 Jun 1998 12:29:20 +0200 (MET DST),
>>>>> Jim Lindsey (JL) wrote:

[...]
JL>   In the original compile of R62.1, saw the message saying that I
JL> should go on to make the docs, or at least help. But then it when on
JL> and did them without asking. I only want the mininal help on my
JL> portable so this is annoying.

typing only "make" is a "make all" from 0.62 on. if you want not
everything, you can't say "make all", but have to be specific about
the make targets, in your case probably

	make R
	make help

which builds the binary and the nroff help pages.

.f

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch                             
Institut f?r Statistik                      Tel: (+43 1) 58801 4546
Technische Universit?t Wien                 Fax: (+43 1)  504 14 98
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Fri Jun 19 13:57:40 1998
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Fri, 19 Jun 1998 11:57:40 +0000
Subject: R-beta: Re: Significance stars
Message-ID: <358A5234.36A47CC8@ozemail.com.au>

Just a comment from someone else who was taught to be suspicious of
'standardized' significance criteria.  I got the 'critical statistic'
viewpoint in one set of stats courses, and the 'parameter estimation'
viewpoint in another.

>From my experience, about the only thing most people can guardedly agree
upon is the probability of the obtained statistic.  This is only in the
context of a plausible model distribution, of course.

This said, I have spent years ignoring the 'standardized' significance
displays that are churned out by most statistics packages.  One thing
that endeared S (and recently R) to me was the minimization of such
advice from the program.

I suppose one could cobble up a generic show() function which could be
customized to the preferences of the user.

Jim


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Jun 19 21:14:55 1998
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 19 Jun 1998 21:14:55 +0200
Subject: Significance stars (was  Re: R-beta: glm bug)
In-Reply-To: <x267hy35dm.fsf@blueberry.kubism.ku.dk> (message from Peter
	Dalgaard BSA on 18 Jun 1998 20:57:09 +0200)
Message-ID: <199806191914.VAA29149@sophie.ethz.ch>

>>>>> "PD" == Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

    PD> Martin Maechler <maechler at stat.math.ethz.ch> writes:
    >> Jim Lindsey wanted  a  *global* option so that he can turn it off for all
    >> his students when they just use
    >> 
    >> summary([g]lm(....))
    >> 
    >> 
    >> Any proposals for a NAME of the global option?

    PD> Anything wrong with signif.stars ?

well, yes insofar that you must explicitly use  

	print( summary(glm( model1...)),  signif.stars = FALSE)
	print( summary(glm( model2...)),  signif.stars = FALSE)
	print( summary(glm( model3...)),  signif.stars = FALSE)


as opposed to

	options(show.signif.stars = FALSE)
	summary(glm( model1...))
	summary(glm( model2...))
	summary(glm( model3...))

I've actually implemented the above behavior in the 0.63 development
version.

Note that the default option remains TRUE,
but anyone can change this by using  [.]Rprofile(s).

	
    >> JL even looked for a possibility to turn off the P values..
    >> Do we want/need this as well?

    PD> Nope. (Did he?)
yes, he did.

But I think we should leave them.
If anyone hates them, he can write a package
	library(myfavorite)
which redefines every thing he wants...

    PD> These are much too often important when you need to
    PD> compensate for multiple testing and so forth. Even though a lot of
    PD> good things can be said about confidence intervals, they do have the
    PD> problem that the implied tests are always at a fixed level.

    >> NOTE:  We do  *NOT* advocate believing in P-values,
	      ^^
	      was not "R-core" but ``people at ETH stat.dept''

    PD> Well, actually, I *do* advocate that. At least in the sense that
    PD> probability exist and one needs to understand data in a probabilistic
    PD> context. This is not, however, the same as the boneheaded logic of
    PD> setting strict on/off rules based on the formal p-values. P-values are
    PD> usually fairly good approximations of a reasonably well-defined
    PD> quantity, the main problem being that it is often not that quantity
    PD> which is the relevant one.

well put!

---

Ok, I hope this closes the topic...

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Jun 19 22:17:07 1998
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 19 Jun 1998 22:17:07 +0200
Subject: R-beta: INSTALL -- "RPROFILE"
In-Reply-To: <9806191029.AA03780@alpha.luc.ac.be> (message from Jim Lindsey on
	Fri, 19 Jun 1998 12:29:20 +0200 (MET DST))
Message-ID: <199806192017.WAA03705@sophie.ethz.ch>

>>>>> "Jim" == Jim Lindsey <jlindsey at luc.ac.be> writes:

    Jim> Yesterday, I corrected the bug in summary (for residuals) that I
    Jim> reported and then reinstalled base (in the same way I install my
    Jim> libraries). Later, when I went to use a library, what was my
    Jim> astonishment to see a message that library was not yet implemented.
    Jim> I eventually figured out that you have to do the make of all of R to
    Jim> get base installed correctly (it of course skips what is already
    Jim> made) and not R INSTALL it in the src/library directory.

Yes, ``The way'' for base installation and re-installation is

	make
	----

    Jim> This brings up a second problem. Reinstalling base still erases my
    Jim> (presonal) global Rprofile, something that I thought was supposed to
    Jim> be fixed in 62.

This is from the R-FAQ:

     In R, the startup mechanism is as follows.  R first searches for the
     site-wide startup profile unless the command line option
     `--no-site-file' was given.  The name of this file is taken from the
     value of the `RPROFILE' environment variable.  If that variable is
     unset, the default is ``$RHOME'/etc/Rprofile'.  Then, unless
     `--no-init-file' was given, R searches for a file called `.Rprofile'
     in the current directory or in the user's home directory (in that
     order) and sources it.  It also loads a saved image from `.RData' in
     case there is one (unless `--no-restore' was specified).  If needed,
     the functions `.First()' and `.Last()' should be defined in the
     appropriate startup profiles.

I.e., if you want a ``global Rprofile'', then use the RPROFILE variable:

	RPROFILE=/u/jl/R/Rprofile export RPROFILE	 (..sh)
or
	setenv RPROFILE /u/jl/R/Rprofile		 (..csh)

    Jim> It would also be nice if the proper options were given to mkdir for
    Jim> installing libraries: every time a library is reinstalled (debugging),
    Jim> mkdir now complains (twice) that it cannot create the directories
    Jim> because they already exist.

You are right.  Fritz ?

    Jim> The standard f77 shell for f2c complains about the option -fpic but
    Jim> works nonetheless.
    Jim> In the original compile of R62.1, saw the message saying that I
    Jim> should go on to make the docs, or at least help. But then it when on
    Jim> and did them without asking. I only want the mininal help on my
    Jim> portable so this is annoying.

Fritz has already answered this:  Use
	make R ; make help

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jun 20 01:05:15 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Jun 1998 01:05:15 +0200
Subject: Significance stars (was  Re: R-beta: glm bug)
In-Reply-To: Martin Maechler's message of Fri, 19 Jun 1998 21:14:55 +0200
References: <199806191914.VAA29149@sophie.ethz.ch>
Message-ID: <x2yaut2dsk.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler at stat.math.ethz.ch> writes:

> 
> >>>>> "PD" == Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:
> 
>     PD> Martin Maechler <maechler at stat.math.ethz.ch> writes:
>     >> Jim Lindsey wanted  a  *global* option so that he can turn it off for all
>     >> his students when they just use
>     >> 
>     >> summary([g]lm(....))
>     >> 
>     >> 
>     >> Any proposals for a NAME of the global option?
> 
>     PD> Anything wrong with signif.stars ?
> 
> well, yes insofar that you must explicitly use  
> 
> 	print( summary(glm( model1...)),  signif.stars = FALSE)
...
> as opposed to
> 
> 	options(show.signif.stars = FALSE)
> 	summary(glm( model1...))
> 	summary(glm( model2...))
...

I meant: Anything wrong with using the same *name*? (options(signif.stars=F))

>     >> NOTE:  We do  *NOT* advocate believing in P-values,
> 	      ^^
> 	      was not "R-core" but ``people at ETH stat.dept''
I know...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jun 20 01:14:36 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Jun 1998 01:14:36 +0200
Subject: R-beta: INSTALL -- "RPROFILE"
In-Reply-To: Martin Maechler's message of Fri, 19 Jun 1998 22:17:07 +0200
References: <199806192017.WAA03705@sophie.ethz.ch>
Message-ID: <x2wwad2dcz.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler at stat.math.ethz.ch> writes:

> 
>     Jim> It would also be nice if the proper options were given to mkdir for
>     Jim> installing libraries: every time a library is reinstalled (debugging),
>     Jim> mkdir now complains (twice) that it cannot create the directories
>     Jim> because they already exist.
> 
> You are right.  Fritz ?

That's "mkdir -p" but where do we have the offending commands? Is it
only in INSTALL.in (I'll fix those)?
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ds.r at dsteele.demon.co.uk  Sun Jun 21 11:56:55 1998
From: ds.r at dsteele.demon.co.uk (Douglas Steele)
Date: Sun, 21 Jun 1998 10:56:55 +0100
Subject: R-beta: info on dyn.load
Message-ID: <GFfRxAAnjNj1EwEK@dsteele.demon.co.uk>

I have some C code I would like to call from R (involves passing a 2D
double array with a few other variables, processing it and returning it
to R).  I have the Win95 version of R and the dyn.load example builds
ok.

I need more info on writing the R and C interface.  What is a good
source of reference for this ?

-- 
Douglas Steele
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gordon.harrington at uni.edu  Mon Jun 22 05:35:52 1998
From: gordon.harrington at uni.edu (gordon.harrington@uni.edu)
Date: Sun, 21 Jun 1998 22:35:52 -0500 (CDT)
Subject: R-beta: data(foo) - Error in sub(...
Message-ID: <ML-3.3.898486552.6838.gordon@localhost>

R-0.62.1 sparc-sun-solaris2.4:

demo(graphics) stops at:
	
> data("iris") 
Error in sub(pattern, replacement, x, ignore.case, extended) : invalid regular
expression

or these direct entries give:

> data(iris)
Error in sub(pattern, replacement, x, ignore.case, extended) : invalid regular
expression
> > help(iris)
Error in gsub(pattern, replacement, x, ignore.case, extended) : invalid regular
expression
> data()
Data sets in package `base':
	[list output includes iris]

gordon


Gordon M. Harrington		Mail:	3720 Village Place, #6308
Professor Emeritus			Waterloo, IA 50702-5848
University of Northern Iowa 	Phone:	319-291-8535
gordon.harrington at uni.edu	Fax:	319-291-8324

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Mon Jun 22 09:20:23 1998
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Mon, 22 Jun 1998 09:20:23 +0200 (CEST)
Subject: R-beta: INSTALL -- "RPROFILE"
In-Reply-To: <x2wwad2dcz.fsf@blueberry.kubism.ku.dk>
References: <199806192017.WAA03705@sophie.ethz.ch>
	<x2wwad2dcz.fsf@blueberry.kubism.ku.dk>
Message-ID: <13710.1463.658981.315782@galadriel.ci.tuwien.ac.at>

>>>>> On 20 Jun 1998 01:14:36 +0200,
>>>>> Peter Dalgaard BSA (PDB) wrote:

PDB> Martin Maechler <maechler at stat.math.ethz.ch> writes:
>> 
Jim> It would also be nice if the proper options were given to mkdir for
Jim> installing libraries: every time a library is reinstalled (debugging),
Jim> mkdir now complains (twice) that it cannot create the directories
Jim> because they already exist.
>> 
>> You are right.  Fritz ?

PDB> That's "mkdir -p" but where do we have the offending commands? Is it
PDB> only in INSTALL.in (I'll fix those)?

We already had this once before ... just telling mkdir to ignore the
existing dirs is not sufficient, because re-installing a library
without first removing it is currently not clean.

I will look into automatically calling R REMOVE if the library already
exists. Will probably get to it this afternoon.

.f


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Jun 22 10:03:34 1998
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 22 Jun 1998 10:03:34 +0200
Subject: R-beta: data(foo) - Error in sub(... --- need "r[ege]x[p]" library
In-Reply-To: <ML-3.3.898486552.6838.gordon@localhost>
	(gordon.harrington@uni.edu)
Message-ID: <199806220803.KAA01425@sophie.ethz.ch>


Prof. Harrington, 
I cannot see your problem, i.e.,   data(iris) ... works just fine,

even though I use SPARC Solaris 2.x (2.5, not 2.4) as well.

>>>>> "gordon" == gordon harrington <gordon.harrington at uni.edu> writes:

    gordon> R-0.62.1 sparc-sun-solaris2.4:

    gordon> demo(graphics) stops at:
	
    >> data("iris")
    gordon> Error in sub(pattern, replacement, x, ignore.case, extended) :
    gordon> invalid regular expression

    gordon> .....


Can you try these two examples?

  > sub("a","AA", "a cat in the hat")
  [1] "AA cat in the hat"
  > gsub("a","AA", "a cat in the hat")
  [1] "AA cAAt in the hAAt"

If they fail as well, it'll mean that during R installation,
the "./configure" script couldn't find a proper
 ``regular expression library''.

RHOME/src/regex/README  says

	------------------------------------------------------
	If you are looking for a regex library try:

		http://people.delphi.com/gjc/winregex.html

	or the GNU versions

		regex-?.??.tar.gz
		rx-?.?.tar.gz 

	which are available at all GNU mirrors.
	------------------------------------------------------


When you run ./configure
you should get a line

checking for regcomp... (cached) yes
			^^^^^^^^ ===  <<<< you need this for  sub(), gsub()
		      (optional)

Yes, it is both true that

1) RHOME/INSTALL   should definitely help you figure out the above

2) Maybe we (R developers) should have been more cautious in using
   [g]sub() in such important places  as help() and data().

I even think we should consider (slower) versions of  these [data(), help()]
in case there's no 'regex' (regular expression) library found.

Martin Maechler <maechler at stat.math.ethz.ch>			<><
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086
http://www.stat.math.ethz.ch/~maechler/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at luc.ac.be  Mon Jun 22 13:13:28 1998
From: jlindsey at luc.ac.be (Jim Lindsey)
Date: Mon, 22 Jun 1998 13:13:28 +0200 (MET DST)
Subject: R-beta: INSTALL -- "RPROFILE"
In-Reply-To: <199806192017.WAA03705@sophie.ethz.ch> from "Martin Maechler" at Jun 19, 98 10:17:07 pm
Message-ID: <9806221113.AA21304@alpha.luc.ac.be>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 2122 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19980622/6fe6a0a2/attachment.pl

From p.dalgaard at biostat.ku.dk  Mon Jun 22 14:49:22 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Jun 1998 14:49:22 +0200
Subject: R-beta: INSTALL -- "RPROFILE"
In-Reply-To: Jim Lindsey's message of Mon, 22 Jun 1998 13:13:28 +0200 (MET DST)
References: <9806221113.AA21304@alpha.luc.ac.be>
Message-ID: <x2wwa9wqi5.fsf@blueberry.kubism.ku.dk>

Jim Lindsey <jlindsey at luc.ac.be> writes:

> 
> > This is from the R-FAQ:
> > 
> >      In R, the startup mechanism is as follows.  R first searches for the
> >      site-wide startup profile unless the command line option
> >      `--no-site-file' was given.  The name of this file is taken from the
> >      value of the `RPROFILE' environment variable.  If that variable is
> >      unset, the default is ``$RHOME'/etc/Rprofile'.  Then, unless
> >      `--no-init-file' was given, R searches for a file called `.Rprofile'
> >      in the current directory or in the user's home directory (in that
> >      order) and sources it.  It also loads a saved image from `.RData' in
> >      case there is one (unless `--no-restore' was specified).  If needed,
> >      the functions `.First()' and `.Last()' should be defined in the
> >      appropriate startup profiles.
> > 
> > I.e., if you want a ``global Rprofile'', then use the RPROFILE variable:
> 
> 
> This is not the way my version of R62 is functioning. I am using the
> default installation except that I slightly modified Rprofile in the
> library/base/R directory as my site file (as I do with each new
> version). It is definitely reading this file (as it did in R61) and
> not the etc/Rprofile mentioned in the faq (I have not checked if the
> latter even exists). When I reinstall the base library, my
> modifications are overwritten.

Yup. The FAQ is imprecise there. The exact logic is

        R_LoadProfile(R_OpenSysInitFile()); /*always!*/
        R_LoadProfile(R_OpenSiteFile()); /*if existing*/
        R_LoadProfile(R_OpenInitFile()); /*if existing*/

Note that if all three are executed if they exist. However, at least
the system init file doesn't do anything that can't be undone later
on.

The first reads $RHOME/library/base/R/Rprofile which you are not
supposed to tamper with (or else *we* wouldn't be able to tamper with
it!).

Thes second looks in $RPROFILE, and if it isn't there, in
$RHOME/etc/Rprofile.

The third looks in ./.Rprofile and $HOME/.Rprofile in that order.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dimi at ci.tuwien.ac.at  Mon Jun 22 15:15:33 1998
From: dimi at ci.tuwien.ac.at (Evgenia Dimitriadou)
Date: Mon, 22 Jun 1998 15:15:33 +0200 (CEST)
Subject: R-beta: "cclust" Package
Message-ID: <Pine.LNX.3.96.980622151027.31323D-100000@isildur.ci.tuwien.ac.at>

There is a  new version of the 'CCLUST' package ,where i removed the extra
command for the kmeans algorithm in the .R programm and also the comments
about it in the .Rd help page. Now in the cclust library the kmeans
algorithm can be applied only by using the cclust function. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Mon Jun 22 17:04:46 1998
From: bates at stat.wisc.edu (Douglas Bates)
Date: 22 Jun 1998 10:04:46 -0500
Subject: R-beta: INSTALL -- "RPROFILE"
In-Reply-To: Friedrich Leisch's message of Mon, 22 Jun 1998 09:20:23 +0200 (CEST)
References: <199806192017.WAA03705@sophie.ethz.ch> 	<x2wwad2dcz.fsf@blueberry.kubism.ku.dk> <13710.1463.658981.315782@galadriel.ci.tuwien.ac.at>
Message-ID: <6riultpje9.fsf@verdi.stat.wisc.edu>

Friedrich Leisch <Friedrich.Leisch at ci.tuwien.ac.at> writes:

> >>>>> On 20 Jun 1998 01:14:36 +0200,
> >>>>> Peter Dalgaard BSA (PDB) wrote:
> 
> PDB> Martin Maechler <maechler at stat.math.ethz.ch> writes:
> >> 
> Jim> It would also be nice if the proper options were given to mkdir for
> Jim> installing libraries: every time a library is reinstalled (debugging),
> Jim> mkdir now complains (twice) that it cannot create the directories
> Jim> because they already exist.
> >> 
> >> You are right.  Fritz ?
> 
> PDB> That's "mkdir -p" but where do we have the offending commands? Is it
> PDB> only in INSTALL.in (I'll fix those)?
> 
> We already had this once before ... just telling mkdir to ignore the
> existing dirs is not sufficient, because re-installing a library
> without first removing it is currently not clean.

> I will look into automatically calling R REMOVE if the library already
> exists. Will probably get to it this afternoon.

I'm not sure that is the best thing to do.  In my experience the
slowest part of installing large R libraries is creating the
documentation files.  Especially when you make a small change in the
source code, I have found that using
 R INSTALL --no-docs ...  
is much faster than going through the compilation of the documentation
again.  We know that creating the documentation files is a slow
process.  We have discussed the possibility of using a perl script to
check if the documentation source file had changed at all before
overwriting every file in the help, html, and latex directories.

If the first thing that is done when installing a library is to remove
any old copies, we are guaranteeing that the process will always be
slow because of the creation of the help, latex, and html files.

As of R-0.62.1 there is only one file in the R and libs
subdirectories.  Those files will always be overwritten by the new
versions.  The only danger in not removing the old library before
installing a new version is retaining out-of-date files that should
not be present in the data or the documentation directories.  It seems
to be a small price to pay for not having to wait for all the
documentation to be parsed every time you re-install the library.

-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Mon Jun 22 17:21:55 1998
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Mon, 22 Jun 1998 17:21:55 +0200 (CEST)
Subject: R-beta: INSTALL -- "RPROFILE"
In-Reply-To: <6riultpje9.fsf@verdi.stat.wisc.edu>
References: <199806192017.WAA03705@sophie.ethz.ch>
	<x2wwad2dcz.fsf@blueberry.kubism.ku.dk>
	<13710.1463.658981.315782@galadriel.ci.tuwien.ac.at>
	<6riultpje9.fsf@verdi.stat.wisc.edu>
Message-ID: <13710.30355.694152.788831@galadriel.ci.tuwien.ac.at>

>>>>> On 22 Jun 1998 10:04:46 -0500,
>>>>> Douglas Bates (DB) wrote:

DB> Friedrich Leisch <Friedrich.Leisch at ci.tuwien.ac.at> writes:
>> >>>>> On 20 Jun 1998 01:14:36 +0200,
>> >>>>> Peter Dalgaard BSA (PDB) wrote:
>> 
PDB> Martin Maechler <maechler at stat.math.ethz.ch> writes:
>> >> 
Jim> It would also be nice if the proper options were given to mkdir for
Jim> installing libraries: every time a library is reinstalled (debugging),
Jim> mkdir now complains (twice) that it cannot create the directories
Jim> because they already exist.
>> >> 
>> >> You are right.  Fritz ?
>> 
PDB> That's "mkdir -p" but where do we have the offending commands? Is it
PDB> only in INSTALL.in (I'll fix those)?
>> 
>> We already had this once before ... just telling mkdir to ignore the
>> existing dirs is not sufficient, because re-installing a library
>> without first removing it is currently not clean.

>> I will look into automatically calling R REMOVE if the library already
>> exists. Will probably get to it this afternoon.

DB> I'm not sure that is the best thing to do.  In my experience the
DB> slowest part of installing large R libraries is creating the
DB> documentation files.  Especially when you make a small change in the
DB> source code, I have found that using
DB>  R INSTALL --no-docs ...  
DB> is much faster than going through the compilation of the documentation
DB> again.  We know that creating the documentation files is a slow
DB> process.  We have discussed the possibility of using a perl script to
DB> check if the documentation source file had changed at all before
DB> overwriting every file in the help, html, and latex directories.

DB> If the first thing that is done when installing a library is to remove
DB> any old copies, we are guaranteeing that the process will always be
DB> slow because of the creation of the help, latex, and html files.

DB> As of R-0.62.1 there is only one file in the R and libs
DB> subdirectories.  Those files will always be overwritten by the new
DB> versions.  The only danger in not removing the old library before
DB> installing a new version is retaining out-of-date files that should
DB> not be present in the data or the documentation directories.  It seems
DB> to be a small price to pay for not having to wait for all the
DB> documentation to be parsed every time you re-install the library.

I think the clean way to do this is include an option --no-remove to
INSTALL to prevent removal ... such that you have ``to know what you
do'' if you do an unclean INSTALL ...

Would that be OK for you?

.f


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gordon.harrington at uni.edu  Wed Jun 24 06:40:00 1998
From: gordon.harrington at uni.edu (gordon.harrington@uni.edu)
Date: Tue, 23 Jun 1998 23:40:00 -0500 (CDT)
Subject: R-beta: data(foo) - Error in sub(... --- need "r[ege]x[p]" library
In-Reply-To: <199806220803.KAA01425@sophie.ethz.ch>
Message-ID: <ML-3.3.898663200.5758.gordon@localhost>

Martin Maechler replies:> 

> I cannot see your problem, i.e.,   data(iris) ... works just fine,
> 
> even though I use SPARC Solaris 2.x (2.5, not 2.4) as well.
> 
> >>>>> "gordon" == gordon harrington <gordon.harrington at uni.edu> writes:
> 
>     gordon> R-0.62.1 sparc-sun-solaris2.4:
> 
>     gordon> demo(graphics) stops at:
>      
>     >> data("iris")
>     gordon> Error in sub(pattern, replacement, x, ignore.case, extended) :
>     gordon> invalid regular expression
 .....
> 
> 
> Can you try these two examples?
> 
>   > sub("a","AA", "a cat in the hat")
>   [1] "AA cat in the hat"
>   > gsub("a","AA", "a cat in the hat")
>   [1] "AA cAAt in the hAAt"
> 
> If they fail as well, it'll mean that during R installation,
> the "./configure" script couldn't find a proper
>  ``regular expression library''.


They do fail! But--regex and regcmp are in the Solaris2.4 library, libgen.a



> When you run ./configure
> you should get a line
> 
> checking for regcomp... (cached) yes
>                ^^^^^^^^ ===  <<<< you need this for  sub(), gsub()
>                 (optional)

configure does generate this output line on this system.

Nothing in the make output indicates any difficulty in finding regex during
compile and load so I can't tell where it is failing to load regex if that is
the problem.




Gordon M. Harrington		Mail:	3720 Village Place, #6308
Professor Emeritus			Waterloo, IA 50702-5848
University of Northern Iowa 	Phone:	319-291-8535
gordon.harrington at uni.edu	Fax:	319-291-8324

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 24 10:07:56 1998
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 24 Jun 1998 09:07:56 +0100 (BST)
Subject: R-beta: Packages: KernSmooth logspline ppr rpart tree
Message-ID: <199806240807.JAA21896@toucan.stats.ox.ac.uk>

The following are now on CRAN:

KernSmooth:  version 2.2 of the code for Wand & Jones book on kernel smoothing.
logspline:   spline fits to log denisites, with automatic choice of smoothing.
ppr:         projection pursuit regression.
rpart:       recursive partitioning (CART-like)
VR:          Venables & Ripley libraries 5.3pl021 for 0.62.1

and in the devel section

tree:        a clone of tree, prune.tree, cv.tree ...

which is fully operational but not much documented. Use your V&R2!

You can find out about KernSmooth, logspline, ppr and rpart in the
on-line statistics complements to Venables & Ripley at

    http://www.stats.ox.ac.uk/pub/MASS2

The final release of the VR libraries is yet to come: it will follow
the bug-fixes in 0.62.2. If you really want to experiment, the current
version will be at http://www.stats.ox.ac.uk/pub/R, but do use this with
the latest R-release.tar.gz or R-snapshot.tar.gz.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From palme at uni-wuppertal.de  Wed Jun 24 10:20:14 1998
From: palme at uni-wuppertal.de (Hubert Palme)
Date: Wed, 24 Jun 1998 10:20:14 +0200 (MDT)
Subject: R-beta: Problem with help
In-Reply-To: <199806190211.VAA07830@bach.math.csbsju.edu>
References: <199806190211.VAA07830@bach.math.csbsju.edu>
Message-ID: <199806240820.KAA17572@wrin27.urz.uni-wuppertal.de>

mgass: 
 > 
 > I am new to R.  Just installed it on an SGI running IRIX5.3.  The install
 > seemed to go fine.  Some basic commands worked as did the demo().  However,
 > I get the following when trying to run help at the command line in R.
 > 
 > > help()
 > Error in gsub(pattern, replacement, x, ignore.case, extended) : POSIX regular expressions not available
 > > 
 > 
 > My best guess is that configure was unable to find regcomp.  Is that
 > the problem?  If so, what is it and how do I fix it.  Other
 > suggestions?

I solved the problem by installing the GNU regulrar expression library
'rx'. I'll forward my last message about it I posted to r-devel.

(Note: it was about 0.61.1. May be, things have changed!)

May be this helps...

-- 
======================================================================
Hubert Palme         Bergische Universitaet-Gesamthochschule Wuppertal
                                      Computing  Center
                                      D-42097 Wuppertal
Email: palme at uni-wuppertal.de             (Germany)
http://www.hrz.uni-wuppertal.de/hrz/personen/h_palme.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mrn at superh.hg.med.umich.edu  Thu Jun 25 14:17:18 1998
From: mrn at superh.hg.med.umich.edu (Matthew R. Nelson)
Date: Thu, 25 Jun 1998 08:17:18 -0400 (EDT)
Subject: R-beta: PostScript tick marks in 62.1
Message-ID: <Pine.3.87.9806250818.A5332-0100000@superh.hg.med.umich.edu>

R-users/developers,

I am loosing tick marks that I add to a plot with axis() when plotting 
to the postscript device.  They show up fine on the x11 device, and work 
with the postscript device when the default tickmarks are used (those 
added by plot()).

I am using R-62.1 from the RedHat5.0 rpm's on i86 Linux.

Do later snapshots correct this, or is this a running bug in R awaiting 
the graphics overhaul?

Thankyou for any suggestions/enlightenment,

Matt
----------------------------------------------------------------------------
Matthew R. Nelson
Dept. of Human Genetics         
University of Michigan              http://www-personal.umich.edu/~ticul/
4711 Medical Science II             email: ticul at umich.edu
Ann Arbor, MI  48109-0618           phone: (313) 647-3151
----------------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Thu Jun 25 16:02:23 1998
From: plummer at iarc.fr (Martyn Plummer)
Date: Thu, 25 Jun 1998 14:02:23 -0000 ()
Subject: R-beta: PostScript tick marks in 62.1
In-Reply-To: <Pine.3.87.9806250818.A5332-0100000@superh.hg.med.umich.edu>
Message-ID: <XFMail.980625142035.plummer@iarc.fr>

On 25-Jun-98 Matthew R. Nelson wrote:
>R-users/developers,
>
>I am loosing tick marks that I add to a plot with axis() when plotting 
>to the postscript device.  They show up fine on the x11 device, and work 
>with the postscript device when the default tickmarks are used (those 
>added by plot()).
>
>I am using R-62.1 from the RedHat5.0 rpm's on i86 Linux.
>
>Do later snapshots correct this, or is this a running bug in R awaiting 
>the graphics overhaul?

I believe the graphics overhaul is already done, and is included
in the R 0.62 release.  This problem may be caused by failure to
close the postscript device with dev.off() before viewing/printing.
I cannot reproduce your problem exactly but you can get strange
results (eg losing the last thing you added to the plot) with the
postscript device if you don't close it.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mrn at superh.hg.med.umich.edu  Thu Jun 25 16:38:17 1998
From: mrn at superh.hg.med.umich.edu (Matthew R. Nelson)
Date: Thu, 25 Jun 1998 10:38:17 -0400 (EDT)
Subject: R-beta: PostScript tick marks in 62.1
In-Reply-To: <XFMail.980625142035.plummer@iarc.fr>
Message-ID: <Pine.3.87.9806251017.A16855-0100000@superh.hg.med.umich.edu>

I should have added that the plot was generated with log="xy".  On my 
computer, this simple example recreates the problem:

> postscript("tmp.ps", width=6, height=6, family="Times") 
> plot((1:10)^2, (1:10)^3, log="xy") 
> dev.off()

With this simple plot function, I get 2 x-axis tick marks and 1 y axis 
tick mark, but the expected number of axis labels.

Sorry for the ommission,

Matt

On Thu, 25 Jun 1998, Martyn Plummer wrote:

> On 25-Jun-98 Matthew R. Nelson wrote:
> >R-users/developers,
> >
> >I am loosing tick marks that I add to a plot with axis() when plotting 
> >to the postscript device.  They show up fine on the x11 device, and work 
> >with the postscript device when the default tickmarks are used (those 
> >added by plot()).
> >
> >I am using R-62.1 from the RedHat5.0 rpm's on i86 Linux.
> >
> >Do later snapshots correct this, or is this a running bug in R awaiting 
> >the graphics overhaul?
> 
> I believe the graphics overhaul is already done, and is included
> in the R 0.62 release.  This problem may be caused by failure to
> close the postscript device with dev.off() before viewing/printing.
> I cannot reproduce your problem exactly but you can get strange
> results (eg losing the last thing you added to the plot) with the
> postscript device if you don't close it.
> 
> Martyn
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Thu Jun 25 21:00:17 1998
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 25 Jun 1998 15:00:17 -0400
Subject: R-beta: DSE package
Message-ID: <98Jun25.152447edt.13441@mailgate.bank-banque-canada.ca>

There is now an "alpha" version of my DSE time series library available at
<http://www.bank-banque-canada.ca/pgilbert>. The main changes between this and
the version in the development area of CRAN  are for installing under R 0.62.1.
There are also a few bug fixes.

I have so far only tested on Solaris, but hope to test on Linux in the next few
days. If anyone installs the package and runs the tests on other operating
systems, I would appreciate having reports. I will submit the new version to
CRAN once I am relatively sure everything is working fairly well on other
platforms.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From carne006 at gold.tc.umn.edu  Fri Jun 26 16:57:11 1998
From: carne006 at gold.tc.umn.edu (Edward Carney)
Date: Fri, 26 Jun 1998 09:57:11 -0500 (CDT)
Subject: R-beta: CEX problem in Win 3.1 version 0.61.3 Beta
Message-ID: <Pine.SOL.3.96.980626095049.20211C-100000@gold.tc.umn.edu>

I haven't tried this in the Win 95 version yet, but this parameter seems
to have no effect, whether passed as part of a plot() call or changed
globally.  Does this problem have a history?  I checked in the archives
back to last year, but I found nothing relating to this particular issue.

Thanks.

Regards,

Edward Carney
Research Assoc.
Univ. of Minnesota


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at uwinnipeg.ca  Thu Jun 25 18:29:06 1998
From: wsimpson at uwinnipeg.ca (Bill Simpson)
Date: Thu, 25 Jun 1998 11:29:06 -0500 (CDT)
Subject: R-beta: re-appearing workspace
Message-ID: <Pine.OSF.3.95.980625111745.1132A-100000@io.uwinnipeg.ca>


I am using R Version 0.62.0 Unstable-snapshot (April 26, 1998)
on Linux.  I use the AfterStep window manager.

Problem.  Once upon a time, a workspace was saved. But at the end of
this session, on quitting R I say "no", don't save workspace.
On starting up, there are all the old objects again!

I take it that the workspace is saved as ~/.RData.
So is the only solution to manually rm .RData?

Thanks for any help.

Bill
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun 26 18:33:32 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jun 1998 18:33:32 +0200
Subject: R-beta: re-appearing workspace
In-Reply-To: Bill Simpson's message of Thu, 25 Jun 1998 11:29:06 -0500 (CDT)
References: <Pine.OSF.3.95.980625111745.1132A-100000@io.uwinnipeg.ca>
Message-ID: <x2ra0ci0mb.fsf@blueberry.kubism.ku.dk>

Bill Simpson <wsimpson at uwinnipeg.ca> writes:

> I take it that the workspace is saved as ~/.RData.
> So is the only solution to manually rm .RData?

Yes. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsimpson at uwinnipeg.ca  Thu Jun 25 18:29:06 1998
From: wsimpson at uwinnipeg.ca (Bill Simpson)
Date: Thu, 25 Jun 1998 11:29:06 -0500 (CDT)
Subject: R-beta: re-appearing workspace
Message-ID: <Pine.OSF.3.95.980625111745.1132A-100000@io.uwinnipeg.ca>


I am using R Version 0.62.0 Unstable-snapshot (April 26, 1998)
on Linux.  I use the AfterStep window manager.

Problem.  Once upon a time, a workspace was saved. But at the end of
this session, on quitting R I say "no", don't save workspace.
On starting up, there are all the old objects again!

I take it that the workspace is saved as ~/.RData.
So is the only solution to manually rm .RData?

Thanks for any help.

Bill
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gordon.harrington at uni.edu  Sat Jun 27 00:58:12 1998
From: gordon.harrington at uni.edu (gordon.harrington@uni.edu)
Date: Fri, 26 Jun 1998 17:58:12 -0500 (CDT)
Subject: R-beta: Problem with functions using sub and gsub
Message-ID: <ML-3.3.898901892.6838.gordon@localhost>

Previously I had problems with data(foo) and Gass and I had problems with
help(). His diagnostic was "POSIX regular expressions not available" and mine
was "invalid regular expression". Martin Maechler has no problems with Solaris
2.5 and suggested a regular expression library was needed, e.g., regex-x.xx.

Solaris 2.4 has regex.o in /usr/ccs/libgen.a and regex.h in /usr/include.
configure finds regcomp and make does not show any errors compiling and
loading. Hence their is no indication that R cannot find the appropriate
library. As an attempted solution, I tried downloading GNU regex-0.12 and
putting regex.o in src/main so that it would be available first when ld
searched for links. (character.c in main seems to be the only function calling
regcomp.) It does not alter the problem. (I am using gcc since the sun native C
compiler does not do well by R.)

Any suggestions?

gordon


 



Gordon M. Harrington		Mail:	3720 Village Place, #6308
Professor Emeritus			Waterloo, IA 50702-5848
University of Northern Iowa 	Phone:	319-291-8535
gordon.harrington at uni.edu	Fax:	319-291-8324

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wtgu at hotmail.com  Sat Jun 27 18:27:59 1998
From: wtgu at hotmail.com (Wentao Gu)
Date: Sat, 27 Jun 1998 09:27:59 PDT
Subject: R-beta: Question
Message-ID: <19980627162802.9022.qmail@hotmail.com>

Hi,

I'm a starter of R, and met some problems in using it. Now I use the 
Solaris version 0.61.3 (There's a newer official release version 0.62.1 
in the R site, but its installation requires fortran program which is 
absent on my machine now). Would appreciate very much if you could help 
me solve them.

1) We can run an R script from the Unix command line, for example,
     $ R < test.r
But all the running procedure will be displayed on the screen step by 
step. I don't like it, since sometimes I only care for the result. If we 
run the R script in a loop statement of Unix Shell program, then it will 
display too much things. Can we avoid displaying these information? 
Previously I had used Splus, and it didn't do like this.

2) It seems that something is wrong with the Graphics window. Once 
another window overlap on the Graphics window, the objects in the 
overlapped part of the Graphics window will disappear forever, even 
after the overlapping window is moved away. It make the viewing very 
inconvenient.

3) Otherwise, we can write the graphics into a PostScript file. But it 
doesn't work either. After running:
   > postscript("test.ps")
I do the same plot operation as before, but after the operation the 
content of test.ps is empty. Why?

Thanks a lot for your help.

Wentao



______________________________________________________
Get Your Private, Free Email at http://www.hotmail.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Mon Jun 29 13:18:54 1998
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Mon, 29 Jun 1998 11:18:54 +0000
Subject: R-beta: Question
Message-ID: <3597781E.4247AD99@ozemail.com.au>

Wentao,

I may be able to provide some information on the latter two of your
questions.

2) "...something wrong with the Graphics window."

This may be specific to the version, or your particular graphics
display.  I could not reproduce the problem with ver 0.62.1 on a Linux
OS.  If there is a manual 'screen refresh' function on your display, try
that (On X-Windows, this is usually at the bottom of the widget menu).  
Alternatively, try different methods of raising the 'R Graphics'
display.  Some systems raise a window without refreshing the display.

3) "...writing graphics to a PostScript file"

If you do not close the file with

	dev.off()

the file buffer will not be flushed, and the file will appear empty, or
incomplete.  As most simple graphs produce a fairly compact Postscript
file with R, the result will look empty until the file is closed.

Jim


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plambert at ulg.ac.be  Tue Jun 30 15:15:08 1998
From: plambert at ulg.ac.be (Philippe Lambert)
Date: Tue, 30 Jun 1998 15:15:08 +0200
Subject: R-beta: stable distribution and stable glm package
Message-ID: <3598E4DC.471C6A88@ulg.ac.be>

I have just uploaded the package "stable-0.1.tgz" to the contrib section
of CRAN.

It enables to compute the density ('dstable'), the distribution
('pstable'), the quantile ('qstable') and the hazard ('hstable')
functions of a stable variate.

'stable.mode' computes the mode of a stable distribution.

The procedure 'stableglm' also enables to fit generalized linear models
for the parameters of a stable distribution interactively. 

This package was used to produce the results published in the  paper 
Lambert, P. and Lindsey, J.K. (1998) 'Generalized regression models
for heavy-tailed processes based on non-symmetric stable
distributions: a likelihood approach. (To appear in Applied Statistics)'

Note that 'rstable' is not a miracle of computation.
Implementing the Chambers, Mallows and Stuck (JASA 71: 340-44)
algorithm would certainly be preferable for 'rstable'.

Bug reports and suggestions are of course welcome.

Philippe Lambert
-- 
--------------------------------------------------------
 Philippe Lambert                   Tel: (+32)-4-3663091
 Universite de Liege                Fax: (+32)-4-3663120
 Faculte d'Economie, de Gestion et de Sciences Sociales
 Sart-Tilman B31, B-4000 Liege
 Belgium                      email: plambert at ulg.ac.be
--------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From M.Beaumont at ucl.ac.uk  Tue Jun 30 16:21:24 1998
From: M.Beaumont at ucl.ac.uk (Mark A. Beaumont)
Date: Tue, 30 Jun 1998 15:21:24 +0100
Subject: No subject
Message-ID: <l03130303b1be9f442a16@[194.80.128.47]>

I am trying to make the R-0.62.1 distribution on a DEC alpha running
Digital Unix 3.2d.

I have run into a few problems.....

(1) the Makefile in src/graphics need to have INCLUDES= -I../include
not -I ../include

(2) I have the standard DEC fortran 90 compiler which needs to link R.binary
with a -nofor_main flag. The appropriate slot in config.site appears to be
ignored, which means Makeconf itself has to be edited. However in Makeconf
LDFLAGS appears to be ignored too, so one just has to make do with
LDCMD=f90 -nofor_main

(3) The last problem has completely stumped me. The make goes OK until
.
.
.
R binary installed
make[3]: Leaving directory `/usr/local/R-0.62.1/src/main'
make[3]: Entering directory `/usr/local/R-0.62.1/src/library'
make[4]: Entering directory `/usr/local/R-0.62.1/src/library/base'
Building R base package
make[4]: Leaving directory `/usr/local/R-0.62.1/src/library/base'
make[4]: Entering directory `/usr/local/R-0.62.1/src/library/profile'
building system startup profile
make[4]: Leaving directory `/usr/local/R-0.62.1/src/library/profile'
make[3]: Leaving directory `/usr/local/R-0.62.1/src/library'
make[3]: Entering directory `/usr/local/R-0.62.1/src/library'
Building application packages..
install: cannot open -d
install: cannot open -d
install: cannot open -d
make[3]: *** [libs] Error 3
make[3]: Leaving directory `/usr/local/R-0.62.1/src/library'
make[2]: *** [R] Error 2
make[2]: Leaving directory `/usr/local/R-0.62.1/src'
make[1]: *** [R] Error 2
make[1]: Leaving directory `/usr/local/R-0.62.1'
make: *** [all] Error 2

This is with gnu make. I get the same thing with the DEC make. It looks as
though it may be something to do with src/library/LIBSETUP, which is
certainly rather different from the version in 0.61.1. (R-0.61.1 made OK,
but only with gnu make not DEC make. )
Any ideas?

Best wishes,
Mark

Mark A. Beaumont
Institute of Zoology
Zoological Society of London
Regent's Park
London NW1 4RY UK
Tel:  0171 449 6617
Fax: 0171 586 2870
m.beaumont at ucl.ac.uk


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Jun 30 16:50:05 1998
From: bates at stat.wisc.edu (Douglas Bates)
Date: 30 Jun 1998 09:50:05 -0500
Subject: R-beta: R-0.62.1 under Digital Unix
In-Reply-To: "Mark A. Beaumont"'s message of Tue, 30 Jun 1998 15:21:24 +0100
References: <l03130303b1be9f442a16@[194.80.128.47]>
Message-ID: <6rogvb9c6a.fsf@verdi.stat.wisc.edu>

I have tried making R-0.62.1 on a DEC Alpha with Digital Unix V4.0A.
The immediate problem you are having has to do with the install
program.  The GNU version of install allows you to specify the -d
option to create a directory path.  The standard Digital Unix version
of install does not have that option.  That is what causes the
complaint about -d.

I got around this by using the GNU version of install under Digital
Unix.  If you don't want to do that you may be able replace the lines
in the install target of $RHOME/Makefile.2nd that are of the form
        $(INSTALL) -d $(bindir)
        ...
by
        mkdir -p $(bindir)
        ...
Only do this for those calls to $(INSTALL) that use the -d option.

Even when you finish the compilation successfully there may be
problems with the handling of IEEE floating point exceptions under
Digital Unix.  It appears that these are not handled according to the
IEEE specifications and some code that is run in the initialization of
R causes it to abort on a floating point exception.  This happens
before the first prompt.

We were able to get R to run on a DEC Alpha running Linux but not on a
DEC Alpha running Digital Unix.

"Mark A. Beaumont" <M.Beaumont at ucl.ac.uk> writes:

> I am trying to make the R-0.62.1 distribution on a DEC alpha running
> Digital Unix 3.2d.

> I have run into a few problems.....
> 
> (1) the Makefile in src/graphics need to have INCLUDES= -I../include
> not -I ../include
> 
> (2) I have the standard DEC fortran 90 compiler which needs to link R.binary
> with a -nofor_main flag. The appropriate slot in config.site appears to be
> ignored, which means Makeconf itself has to be edited. However in Makeconf
> LDFLAGS appears to be ignored too, so one just has to make do with
> LDCMD=f90 -nofor_main
> 
> (3) The last problem has completely stumped me. The make goes OK until
> .
> .
> .
> R binary installed
> make[3]: Leaving directory `/usr/local/R-0.62.1/src/main'
> make[3]: Entering directory `/usr/local/R-0.62.1/src/library'
> make[4]: Entering directory `/usr/local/R-0.62.1/src/library/base'
> Building R base package
> make[4]: Leaving directory `/usr/local/R-0.62.1/src/library/base'
> make[4]: Entering directory `/usr/local/R-0.62.1/src/library/profile'
> building system startup profile
> make[4]: Leaving directory `/usr/local/R-0.62.1/src/library/profile'
> make[3]: Leaving directory `/usr/local/R-0.62.1/src/library'
> make[3]: Entering directory `/usr/local/R-0.62.1/src/library'
> Building application packages..
> install: cannot open -d
> install: cannot open -d
> install: cannot open -d
> make[3]: *** [libs] Error 3
> make[3]: Leaving directory `/usr/local/R-0.62.1/src/library'
> make[2]: *** [R] Error 2
> make[2]: Leaving directory `/usr/local/R-0.62.1/src'
> make[1]: *** [R] Error 2
> make[1]: Leaving directory `/usr/local/R-0.62.1'
> make: *** [all] Error 2

-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Jun 30 18:30:52 1998
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 30 Jun 1998 18:30:52 +0200
Subject: R-beta: Re: [S] pbinom
In-Reply-To: <3.0.5.32.19980630112449.00b33210@assist.stt.msu.edu> (message
	from James Stapleton on Tue, 30 Jun 1998 11:24:49 -0400)
Message-ID: <199806301630.SAA06369@sophie.ethz.ch>

Btw,

all the pbinom() examples posted to S-news today
return the proper result in R

Martin
>>>>> "JS" == James Stapleton <stapleton at stt.msu.edu> writes
	to S-news :

    JS> More interesting behavior of pbinom:
    >> pbinom(3,2,.8)
    JS> [1] 1
    >> pbinom(30,2,.8)
    JS> [1] 0.9967653
    >> pbinom(40,2,.8)
    JS> [1] -4806.771
    >> pbinom(10,5,.4)
    JS> [1] 1
    >> pbinom(10,5,1)
    JS> [1] 0

    JS> =-=-=-=-=-=-=-=-=-=-=-=-=-= Jim Stapleton, Professor and Graduate
    JS> Director Department of Statistics and Probability Michigan State
    JS> University, East Lansing, MI 48824 Telephone: 517-355-9678 (Office)
    JS> 517-337-1148 (Home) 517-432-1405 (Fax)
    JS> http://www.stt.msu.edu http://www.stt.msu.edu/~stapleto/
    JS> -----------------------------------------------------------------------
    JS> This message was distributed by s-news at wubios.wustl.edu.  To
    JS> unsubscribe send e-mail to s-news-request at wubios.wustl.edu with the
    JS> BODY of the message: unsubscribe s-news

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jun 27 13:15:07 1998
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Jun 1998 13:15:07 +0200
Subject: R-beta: Problem with functions using sub and gsub
In-Reply-To: gordon.harrington@uni.edu's message of Fri, 26 Jun 1998 17:58:12 -0500 (CDT)
References: <ML-3.3.898901892.6838.gordon@localhost>
Message-ID: <x2wwa3ayf8.fsf@blueberry.kubism.ku.dk>

gordon.harrington at uni.edu writes:

> 
> Previously I had problems with data(foo) and Gass and I had problems with
> help(). His diagnostic was "POSIX regular expressions not available" and mine
> was "invalid regular expression". Martin Maechler has no problems with Solaris
> 2.5 and suggested a regular expression library was needed, e.g., regex-x.xx.

Gass's problem is pretty clearly that the library is absent, yours is
- different.

The whole thing works for me in Solaris 2.5.1 too.

> 
> Solaris 2.4 has regex.o in /usr/ccs/libgen.a and regex.h in /usr/include.
> configure finds regcomp and make does not show any errors compiling and
> loading. Hence their is no indication that R cannot find the appropriate
> library. As an attempted solution, I tried downloading GNU regex-0.12 and
> putting regex.o in src/main so that it would be available first when ld
> searched for links. (character.c in main seems to be the only function calling
> regcomp.) It does not alter the problem. (I am using gcc since the sun native C
> compiler does not do well by R.)
> 
> Any suggestions?

This may be a completely silly suggestion, but did you add the new
regex.o to the list of of OBJS in src/main/Makefile? You don't
actually say that you did, and just placing the file in the directory
is not enough.

Another thing: Are you sure that the libgen routine is getting linked
in? Wading through DejaNews gives me some hints that there are stub
routines in libc.a that might get linked in instead. I.e. does the
final gcc command actually contain "-lgen"?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


